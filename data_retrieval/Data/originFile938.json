{"items":[{"tags":["java","spring-boot","javabeans","spring-bean"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666622384,"post_id":74179848,"comment_id":130974812,"body_markdown":"Why is it `com.tranning.acls.AclsApplication` and `&#39;com.example.app.CommandUser&#39;` ..not matching the description?","body":"Why is it <code>com.tranning.acls.AclsApplication</code> and <code>&#39;com.example.app.CommandUser&#39;</code> ..not matching the description?"},{"owner":{"account_id":11831315,"reputation":15,"user_id":12980274,"display_name":"josepereira"},"score":0,"creation_date":1666632676,"post_id":74179848,"comment_id":130978425,"body_markdown":"I wanted to use a different name in the post, the real name of the project is tranning.acls, but in the post I called it as com.example.app. It was a mistake, I will edit, thanks.","body":"I wanted to use a different name in the post, the real name of the project is tranning.acls, but in the post I called it as com.example.app. It was a mistake, I will edit, thanks."}],"answers":[{"comments":[{"owner":{"account_id":11831315,"reputation":15,"user_id":12980274,"display_name":"josepereira"},"score":0,"creation_date":1666633646,"post_id":74183719,"comment_id":130978733,"body_markdown":"Thank you, you solve my problem and your solution make sense. But in another project we use the BCryptPasswordEncoder class in the variable declaration and same bean declaration, and it works as expected. Something has changed in last versions of spring boot?","body":"Thank you, you solve my problem and your solution make sense. But in another project we use the BCryptPasswordEncoder class in the variable declaration and same bean declaration, and it works as expected. Something has changed in last versions of spring boot?"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666626739,"creation_date":1666626739,"answer_id":74183719,"question_id":74179848,"body_markdown":"This is caused because in your `CommandUser` class you are saying that you require a `BCryptPasswordEncoder`, but the bean you are creating is a `PasswordEncoder`.  You can fix this by, preferably, modifying your `CommandUser` class to inject the interface, like this:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CommandUser {\r\n\r\n       private final PasswordEncoder passwordEncoder;\r\n\r\n       public void doSomething(String arg) {\r\n         // ...\r\n       }\r\n    }","title":"Bcrypt bean could not be found when defined in Main class and other service bean with same problem when injected in Main Class","body":"<p>This is caused because in your <code>CommandUser</code> class you are saying that you require a <code>BCryptPasswordEncoder</code>, but the bean you are creating is a <code>PasswordEncoder</code>.  You can fix this by, preferably, modifying your <code>CommandUser</code> class to inject the interface, like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CommandUser {\n\n   private final PasswordEncoder passwordEncoder;\n\n   public void doSomething(String arg) {\n     // ...\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":11831315,"reputation":15,"user_id":12980274,"display_name":"josepereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74183719,"answer_count":1,"score":0,"last_activity_date":1666626739,"creation_date":1666607736,"question_id":74179848,"body_markdown":"I create this simple project to test a bug in another project. I have a main class (AppApplication) and a service class (CommandUser). The goal is to use the bean declared in class main on CommandUser class, and use the bean CommandUser, inside main class (as argument of run() method).\r\n\r\nThe first problem is whithout @ComponentScan({&quot;com.example.app.*&quot;}), the application don&#39;t start and report this: \r\n\r\n    Parameter 0 of constructor in com.example.app.CommandUser required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found.\r\n\r\nIt can&#39;t find Bcrypt bean, but it is defined in main class.\r\n\r\nAfter put @ComponentScan({&quot;com.example.app.*&quot;}), it fix the problem with the Bcrypt bean, but report another error with missing of bean CommandUser in main class used as run() method argument:\r\n\r\n    Parameter 0 of method run in com.example.app.AclsApplication required a bean of type &#39;com.example.app.CommandUser&#39; that could not be found.\r\n\r\nAgain, it can&#39;t find another bean, in this case, the CommandUser, a service class that I annotated  with @Service annotation.\r\n\r\nWithout @ComponentScan, it recognized the CommandUser bean on Main Class (as run() method argument), but Bcrypt bean continue with the same problem.\r\n\r\nI think the problem is with AppApplication class, because if I use the CommandUser bean, in another class it works.\r\n\r\nThe project struct is:\r\n\r\n    com.example.app/\r\n        &gt; AppApplication\r\n        &gt; CommandUser\r\n\r\nNote: the classes are in the same level, I know that is wrong for real applications, but it is only a test.\r\n\r\nAppApplication main class (with main()):\r\n\r\n    @ComponentScan({&quot;com.example.app.*&quot;})\r\n    @SpringBootApplication\r\n    public class AppApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AclsApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tPasswordEncoder passwordEncoder(){\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tCommandLineRunner run(CommandUser commandUser){\r\n    \t\treturn args -&gt; {\r\n                // ...\r\n    \t\t};\r\n    \t}\r\n    \r\n    }\r\n\r\nCommandUser service class (bean):\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CommandUser {\r\n    \r\n        private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public void doSomething(String arg) {\r\n            // ...\r\n        }\r\n    }\r\n\r\n**Thanks in advance.**\r\n","title":"Bcrypt bean could not be found when defined in Main class and other service bean with same problem when injected in Main Class","body":"<p>I create this simple project to test a bug in another project. I have a main class (AppApplication) and a service class (CommandUser). The goal is to use the bean declared in class main on CommandUser class, and use the bean CommandUser, inside main class (as argument of run() method).</p>\n<p>The first problem is whithout @ComponentScan({&quot;com.example.app.*&quot;}), the application don't start and report this:</p>\n<pre><code>Parameter 0 of constructor in com.example.app.CommandUser required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.\n</code></pre>\n<p>It can't find Bcrypt bean, but it is defined in main class.</p>\n<p>After put @ComponentScan({&quot;com.example.app.*&quot;}), it fix the problem with the Bcrypt bean, but report another error with missing of bean CommandUser in main class used as run() method argument:</p>\n<pre><code>Parameter 0 of method run in com.example.app.AclsApplication required a bean of type 'com.example.app.CommandUser' that could not be found.\n</code></pre>\n<p>Again, it can't find another bean, in this case, the CommandUser, a service class that I annotated  with @Service annotation.</p>\n<p>Without @ComponentScan, it recognized the CommandUser bean on Main Class (as run() method argument), but Bcrypt bean continue with the same problem.</p>\n<p>I think the problem is with AppApplication class, because if I use the CommandUser bean, in another class it works.</p>\n<p>The project struct is:</p>\n<pre><code>com.example.app/\n    &gt; AppApplication\n    &gt; CommandUser\n</code></pre>\n<p>Note: the classes are in the same level, I know that is wrong for real applications, but it is only a test.</p>\n<p>AppApplication main class (with main()):</p>\n<pre><code>@ComponentScan({&quot;com.example.app.*&quot;})\n@SpringBootApplication\npublic class AppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AclsApplication.class, args);\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    CommandLineRunner run(CommandUser commandUser){\n        return args -&gt; {\n            // ...\n        };\n    }\n\n}\n</code></pre>\n<p>CommandUser service class (bean):</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CommandUser {\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public void doSomething(String arg) {\n        // ...\n    }\n}\n</code></pre>\n<p><strong>Thanks in advance.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1648319698,"post_id":71630547,"comment_id":126596242,"body_markdown":"Please share what progress you made on this and where are you facing challenged?","body":"Please share what progress you made on this and where are you facing challenged?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648319715,"post_id":71630547,"comment_id":126596244,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1666626857,"post_id":71630547,"comment_id":130976521,"body_markdown":"Please see https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"Please see <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666627066,"post_id":71630547,"comment_id":130976600,"body_markdown":"On a different note, that&#39;s a potentially &quot;smelly&quot; amount of `static` in that code, particularly since it&#39;s involving state changes. Show more of your code, and definitely not in a phone screenshot. It may be something as simple as forgetting to recompile `ScreenUtil.java`.","body":"On a different note, that&#39;s a potentially &quot;smelly&quot; amount of <code>static</code> in that code, particularly since it&#39;s involving state changes. Show more of your code, and definitely not in a phone screenshot. It may be something as simple as forgetting to recompile <code>ScreenUtil.java</code>."}],"owner":{"account_id":23797695,"reputation":9,"user_id":17808329,"display_name":"Arab Ware"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666626586,"creation_date":1648317525,"question_id":71630547,"body_markdown":"I have a java file that contains a static method and after running the app , it shows me that the method does not exist, I decomplied my app source code and found the method exists , so why it throws that Exception[this is the error which is being thrown on Runtime\r\n\r\n\r\n[My Code][1]\r\n\r\n\r\n[My App&#39;s Runtime Exception][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XXRDv.jpg\r\n  [2]: https://i.stack.imgur.com/ZDxjP.jpg","title":"Why My App Throws No Static Method While It exists","body":"<p>I have a java file that contains a static method and after running the app , it shows me that the method does not exist, I decomplied my app source code and found the method exists , so why it throws that Exception[this is the error which is being thrown on Runtime</p>\n<p><a href=\"https://i.stack.imgur.com/XXRDv.jpg\" rel=\"nofollow noreferrer\">My Code</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZDxjP.jpg\" rel=\"nofollow noreferrer\">My App's Runtime Exception</a></p>\n"},{"tags":["java","hibernate","criteria-api"],"comments":[{"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"score":0,"creation_date":1586436313,"post_id":60939072,"comment_id":108130808,"body_markdown":"In order to navigate to related entities, you must use [From#join()](https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/From.html#join(javax.persistence.metamodel.CollectionAttribute)) join method, which works well with MetaModel as explained in [Oracle&#39;s JAVA EE Tutorial](https://docs.oracle.com/javaee/6/tutorial/doc/gjivm.html)","body":"In order to navigate to related entities, you must use <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/From.html#join(javax.persistence.metamodel.CollectionAttribute)\" rel=\"nofollow noreferrer\">From#join()</a> join method, which works well with MetaModel as explained in <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjivm.html\" rel=\"nofollow noreferrer\">Oracle&#39;s JAVA EE Tutorial</a>"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1586448522,"post_id":60939072,"comment_id":108137867,"body_markdown":"I figured that out -- if you want to add an answer, I&#39;ll accept. Thanks!","body":"I figured that out -- if you want to add an answer, I&#39;ll accept. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586768988,"creation_date":1586768988,"answer_id":61184639,"question_id":60939072,"body_markdown":"In order to navigate to related entities, you must use [`From#join()`][1] join method, which works well with MetaModel:\r\n\r\n    CriteriaQuery&lt;Employee&gt; cq = criteriaBuilder.createQuery(Employee.class);\r\n    Root&lt;Employee&gt; from = cq.from(Employee.class);\r\n    Predicate p = criteriaBuilder.equal(from.join(Employee_.supervisor).get(Supervisor_.id), id);\r\n\r\n**See also**\r\n\r\n[Oracle&#39;s Java EE Tutorial - Using the Criteria API and Metamodel API to Create Basic Typesafe Queries][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/From.html#join(javax.persistence.metamodel.CollectionAttribute)\r\n  [2]: https://docs.oracle.com/javaee/6/tutorial/doc/gjivm.html","title":"Hibernate JPA Meta Model -- reference nested properties?","body":"<p>In order to navigate to related entities, you must use <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/From.html#join(javax.persistence.metamodel.CollectionAttribute)\" rel=\"nofollow noreferrer\"><code>From#join()</code></a> join method, which works well with MetaModel:</p>\n\n<pre><code>CriteriaQuery&lt;Employee&gt; cq = criteriaBuilder.createQuery(Employee.class);\nRoot&lt;Employee&gt; from = cq.from(Employee.class);\nPredicate p = criteriaBuilder.equal(from.join(Employee_.supervisor).get(Supervisor_.id), id);\n</code></pre>\n\n<p><strong>See also</strong></p>\n\n<p><a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjivm.html\" rel=\"nofollow noreferrer\">Oracle's Java EE Tutorial - Using the Criteria API and Metamodel API to Create Basic Typesafe Queries</a></p>\n"},{"tags":[],"owner":{"account_id":7122171,"reputation":142,"user_id":5446400,"display_name":"J. Doe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666626012,"creation_date":1666625653,"answer_id":74183522,"question_id":60939072,"body_markdown":"Yes, I also stumbled upon this problem that the Metamodel classes are not offering deeper visibility to relationships &gt; 1.\r\nWhile accessing A.b is possible, A.b.c is not.\r\n\r\nBut there is another possibility besides Joins:\r\nJust concatenate by using several getter(). For this you will need a root element (= CriteriaQuery &amp; CriteriaBuilder).\r\n\r\n    return criteriaBuilder.equal(root.get(Employee_.supervisor).get(Supervisor_.id), id);\r\n\r\nWhile this still ensures type safety, the whole path should be correct as it is not validated until runtime.\r\n\r\nAlso for sorting a resultset using the Metamodel there is a similar solution. Say you want to sort by the Supervisor&#39;s id:\r\nUse JpaSort and JpaSort.Path\r\n\r\n    JpaSort.of(JpaSort.Direction.ASC, JpaSort.path(Employee_.supervisor).dot(Supervisor_.id));","title":"Hibernate JPA Meta Model -- reference nested properties?","body":"<p>Yes, I also stumbled upon this problem that the Metamodel classes are not offering deeper visibility to relationships &gt; 1.\nWhile accessing A.b is possible, A.b.c is not.</p>\n<p>But there is another possibility besides Joins:\nJust concatenate by using several getter(). For this you will need a root element (= CriteriaQuery &amp; CriteriaBuilder).</p>\n<pre><code>return criteriaBuilder.equal(root.get(Employee_.supervisor).get(Supervisor_.id), id);\n</code></pre>\n<p>While this still ensures type safety, the whole path should be correct as it is not validated until runtime.</p>\n<p>Also for sorting a resultset using the Metamodel there is a similar solution. Say you want to sort by the Supervisor's id:\nUse JpaSort and JpaSort.Path</p>\n<pre><code>JpaSort.of(JpaSort.Direction.ASC, JpaSort.path(Employee_.supervisor).dot(Supervisor_.id));\n</code></pre>\n"}],"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61184639,"answer_count":2,"score":2,"last_activity_date":1666626012,"creation_date":1585600532,"question_id":60939072,"body_markdown":"Suppose an entity model where an `Employee` has a `Supervisor` who has an `id`. Using `hibernate-jpamodelgen` to generate the meta model for the entities, how can I query a nested field?\r\n\r\nFor instance, &quot;get all employees whose supervisor has id 4&quot;, using `JpaSpecificationExecutor`:\r\n\r\n```java\r\nPage&lt;Employee&gt; getEmployeesBySupervisorId(int id) {\r\n  return findAll((root, query, criteriaBuilder) -&gt; {\r\n    return criteriaBuilder.equal(root.get(Employee_.supervisor.id), id);\r\n  });\r\n}\r\n```\r\n\r\nNote that `Employee_` is the model meta class for `Employee` (and was generated by Hibernate).\r\n\r\nThis code will produce an error because the `id` symbol cannot be found on type `SingularAttribute&lt;Employee, Supervisor&gt;`. I get that, but it seems like these should somehow be chainable. I can&#39;t find great examples of how to do this cleanly.","title":"Hibernate JPA Meta Model -- reference nested properties?","body":"<p>Suppose an entity model where an <code>Employee</code> has a <code>Supervisor</code> who has an <code>id</code>. Using <code>hibernate-jpamodelgen</code> to generate the meta model for the entities, how can I query a nested field?</p>\n\n<p>For instance, \"get all employees whose supervisor has id 4\", using <code>JpaSpecificationExecutor</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;Employee&gt; getEmployeesBySupervisorId(int id) {\n  return findAll((root, query, criteriaBuilder) -&gt; {\n    return criteriaBuilder.equal(root.get(Employee_.supervisor.id), id);\n  });\n}\n</code></pre>\n\n<p>Note that <code>Employee_</code> is the model meta class for <code>Employee</code> (and was generated by Hibernate).</p>\n\n<p>This code will produce an error because the <code>id</code> symbol cannot be found on type <code>SingularAttribute&lt;Employee, Supervisor&gt;</code>. I get that, but it seems like these should somehow be chainable. I can't find great examples of how to do this cleanly.</p>\n"},{"tags":["java","flutter","dart","flutter-navigation"],"answers":[{"tags":[],"owner":{"account_id":23588175,"reputation":386,"user_id":17626346,"display_name":"Fugipe"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666625889,"creation_date":1666616378,"answer_id":74181460,"question_id":74181437,"body_markdown":"```\r\nElevatedButton(\r\n            onPressed: () {\r\n              Navigator.push(\r\n                context,\r\n                MaterialPageRoute(\r\n                  builder: (context) =&gt; abc(title: &quot;Hello&quot;),\r\n                ),\r\n              );\r\n            },\r\n            child: Text(&quot;Push me&quot;),\r\n          ),\r\n```\r\n```\r\nclass abc extends StatefulWidget {\r\n  abc({Key? key, required this.title}) : super(key: key);\r\n  String title;\r\n  @override\r\n  State&lt;abc&gt; createState() =&gt; _abcState();\r\n}\r\n\r\nclass _abcState extends State&lt;abc&gt; {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      body: Center(\r\n        child: Text(widget.title),\r\n      ),\r\n    );\r\n  }\r\n}\r\n\r\n```","title":"i am unable to get data from current screen to new screen with navigator push after passing the arguments to screen class","body":"<pre><code>ElevatedButton(\n            onPressed: () {\n              Navigator.push(\n                context,\n                MaterialPageRoute(\n                  builder: (context) =&gt; abc(title: &quot;Hello&quot;),\n                ),\n              );\n            },\n            child: Text(&quot;Push me&quot;),\n          ),\n</code></pre>\n<pre><code>class abc extends StatefulWidget {\n  abc({Key? key, required this.title}) : super(key: key);\n  String title;\n  @override\n  State&lt;abc&gt; createState() =&gt; _abcState();\n}\n\nclass _abcState extends State&lt;abc&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Text(widget.title),\n      ),\n    );\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":26532456,"reputation":27,"user_id":20164446,"display_name":"HARSH J."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666625889,"creation_date":1666616254,"question_id":74181437,"body_markdown":"i have passed the arguments to button in ontap event and now i want to navigate to new screen with the current pressed button data\r\n```\r\nonTap: ()  {\r\n       //toast message showing he selected song title\r\n       // print(&quot;${context} You Selected:   &quot; + item.data![index].title);\r\n       Navigator.push(context,\r\n            MaterialPageRoute(builder: (context) =&gt;  SongScreen(title: item.data![index].title)),);\r\n   },\r\n```\r\n\r\nnow i want to pass that data for stateful widget but i am getting errors i want to bring this data to text field\r\n\r\n```\r\nclass SongScreen extends StatefulWidget {\r\n  const SongScreen({super.key, required String title});\r\n\r\n  @override\r\n  State&lt;SongScreen&gt; createState() =&gt; _SongScreenState();\r\n}\r\n\r\nclass _SongScreenState extends State&lt;SongScreen&gt; {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n   return Scaffold(\r\n         body: Container(\r\n            height: MediaQuery.of(context).size.height,\r\n            width: MediaQuery.of(context).size.width,\r\n              // Below is the code for Linear Gradient.\r\n            decoration: const BoxDecoration(\r\n                gradient: LinearGradient(\r\n                colors: [Colors.purple, Colors.blue],\r\n                begin: Alignment.bottomLeft,\r\n                end: Alignment.topRight,\r\n            ),\r\n          ),\r\n          child: \r\n          Center(\r\n            child: Text(&#39;data&#39;),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n```","title":"i am unable to get data from current screen to new screen with navigator push after passing the arguments to screen class","body":"<p>i have passed the arguments to button in ontap event and now i want to navigate to new screen with the current pressed button data</p>\n<pre><code>onTap: ()  {\n       //toast message showing he selected song title\n       // print(&quot;${context} You Selected:   &quot; + item.data![index].title);\n       Navigator.push(context,\n            MaterialPageRoute(builder: (context) =&gt;  SongScreen(title: item.data![index].title)),);\n   },\n</code></pre>\n<p>now i want to pass that data for stateful widget but i am getting errors i want to bring this data to text field</p>\n<pre><code>class SongScreen extends StatefulWidget {\n  const SongScreen({super.key, required String title});\n\n  @override\n  State&lt;SongScreen&gt; createState() =&gt; _SongScreenState();\n}\n\nclass _SongScreenState extends State&lt;SongScreen&gt; {\n  @override\n  Widget build(BuildContext context) {\n   return Scaffold(\n         body: Container(\n            height: MediaQuery.of(context).size.height,\n            width: MediaQuery.of(context).size.width,\n              // Below is the code for Linear Gradient.\n            decoration: const BoxDecoration(\n                gradient: LinearGradient(\n                colors: [Colors.purple, Colors.blue],\n                begin: Alignment.bottomLeft,\n                end: Alignment.topRight,\n            ),\n          ),\n          child: \n          Center(\n            child: Text('data'),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-livedata"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666624675,"post_id":74183273,"comment_id":130975783,"body_markdown":"What do you mean that you can&#39;t?","body":"What do you mean that you can&#39;t?"}],"answers":[{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666625753,"creation_date":1666625753,"answer_id":74183543,"question_id":74183273,"body_markdown":"For some reason, when I try again, it works as expected.\r\nSo I&#39;m posting my solution in case it might help someone else.\r\n\r\n    public LiveData&lt;List&lt;Article&gt;&gt; getAllArticle(long clistId) {\r\n        return Transformations.map(articleDataSource.getAll(clistId), articles -&gt; {\r\n            for (int i=0; i&lt;articles.size(); i++) {\r\n                articles.get(i).setOrd(i);\r\n            }\r\n            updateAllArticles(articles);\r\n            return articles;\r\n        });\r\n    }\r\n\r\n","title":"How to perform some processing on a livedata before returning it","body":"<p>For some reason, when I try again, it works as expected.\nSo I'm posting my solution in case it might help someone else.</p>\n<pre><code>public LiveData&lt;List&lt;Article&gt;&gt; getAllArticle(long clistId) {\n    return Transformations.map(articleDataSource.getAll(clistId), articles -&gt; {\n        for (int i=0; i&lt;articles.size(); i++) {\n            articles.get(i).setOrd(i);\n        }\n        updateAllArticles(articles);\n        return articles;\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666625753,"creation_date":1666624410,"question_id":74183273,"body_markdown":"How can I do to update the result of the LiveData (from Room Dao) before returning it ?\r\n\r\nIn my viewmodel:\r\n\r\n    public LiveData&lt;List&lt;Article&gt;&gt; getAllArticle(long clistId) {\r\n    \treturn articleDataSource.getAll(clistId);\r\n    }\r\n\r\nI need to make a treatement:\r\n\r\n\tfor (int i=0; i&lt;articles.size(); i++) {\r\n\t\tarticles.get(i).setOrd(i);\r\n\t}\r\n\r\nI thought I had to use Transformations.map but I can&#39;t.","title":"How to perform some processing on a livedata before returning it","body":"<p>How can I do to update the result of the LiveData (from Room Dao) before returning it ?</p>\n<p>In my viewmodel:</p>\n<pre><code>public LiveData&lt;List&lt;Article&gt;&gt; getAllArticle(long clistId) {\n    return articleDataSource.getAll(clistId);\n}\n</code></pre>\n<p>I need to make a treatement:</p>\n<pre><code>for (int i=0; i&lt;articles.size(); i++) {\n    articles.get(i).setOrd(i);\n}\n</code></pre>\n<p>I thought I had to use Transformations.map but I can't.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666601103,"post_id":74178559,"comment_id":130967277,"body_markdown":"The date is `localDateTime3` - just use another formatter","body":"The date is <code>localDateTime3</code> - just use another formatter"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1666601119,"post_id":74178559,"comment_id":130967286,"body_markdown":"First things first, a `LocalDateTime` will not yield the timezone information. Secondly, it will not yield any string format either, hence `format` returning `String`.","body":"First things first, a <code>LocalDateTime</code> will not yield the timezone information. Secondly, it will not yield any string format either, hence <code>format</code> returning <code>String</code>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1666601395,"post_id":74178559,"comment_id":130967386,"body_markdown":"There is not time zone of offset in the `String time1`, which seems to make `LocalDateTime` a good match. What I don&#39;t get is, why don&#39;t you `return localDateTime3;` if you want to return a `LocalDateTime` rather than a `String`? A `DateTimeFormatter` is only needed when you want a `String` of a specific format. A `LocalDateTime` does not have a format itself, it only stores temporal units.","body":"There is not time zone of offset in the <code>String time1</code>, which seems to make <code>LocalDateTime</code> a good match. What I don&#39;t get is, why don&#39;t you <code>return localDateTime3;</code> if you want to return a <code>LocalDateTime</code> rather than a <code>String</code>? A <code>DateTimeFormatter</code> is only needed when you want a <code>String</code> of a specific format. A <code>LocalDateTime</code> does not have a format itself, it only stores temporal units."},{"owner":{"account_id":26646717,"reputation":1,"user_id":20261564,"display_name":"Stack8"},"score":0,"creation_date":1666601571,"post_id":74178559,"comment_id":130967451,"body_markdown":"@deHaar Does LocalDateTime have itself for my format as well ? (dd.MM.yyyy HH:mm:ss).","body":"@deHaar Does LocalDateTime have itself for my format as well ? (dd.MM.yyyy HH:mm:ss)."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1666602012,"post_id":74178559,"comment_id":130967601,"body_markdown":"**Important**: a `LocalDateTime` itself does not have a format. All it has, is a default textual representation of it, returned by the `toString()` method.","body":"<b>Important</b>: a <code>LocalDateTime</code> itself does not have a format. All it has, is a default textual representation of it, returned by the <code>toString()</code> method."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1666602022,"post_id":74178559,"comment_id":130967605,"body_markdown":"It **does not have any format**, you can pass around `LocalDateTime`s and only format them where a `String` of a specific format is needed, e.g. in a GUI or a log file. At the point where you want to print the `LocalDateTime`, you apply the desired `DateTimeFormatter`, that&#39;s it.","body":"It <b>does not have any format</b>, you can pass around <code>LocalDateTime</code>s and only format them where a <code>String</code> of a specific format is needed, e.g. in a GUI or a log file. At the point where you want to print the <code>LocalDateTime</code>, you apply the desired <code>DateTimeFormatter</code>, that&#39;s it."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666625485,"creation_date":1666624784,"answer_id":74183346,"question_id":74178559,"body_markdown":"# Text has a format; date-time objects do not\r\n\r\nDate-time objects do not have a “format”. They have an internally-defined representation of their assigned value. \r\n\r\nText can be said to have a format. But a date-time object is not text. **`LocalDateTime` is not text.**\r\n\r\n## Text to object\r\n\r\nWhen you want to produce a `LocalDateTime` object to represent a value communicated textually, use `LocalDateTime.parse` method. If the text is not in standard [ISO 8601][1] format, you’ll also need a `DateTimeFormatter` object to assist in parsing. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2019-08-08T09:17:31.795306&quot; ) ;\r\n\r\n## Object to text\r\n\r\nWhen you want to produce text in standard [ISO 8601][1] format, call `LocalDateTime#toString`. To produce text in other formats, call `LocalDateTime#format` while passing a `DateTimeFormatter`.\r\n\r\n    String output = ldt.toString() ;\r\n\r\n&gt; 2019-08-08T09:17:31.795306\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"How to convert LocalDateTime from one format to another","body":"<h1>Text has a format; date-time objects do not</h1>\n<p>Date-time objects do not have a “format”. They have an internally-defined representation of their assigned value.</p>\n<p>Text can be said to have a format. But a date-time object is not text. <strong><code>LocalDateTime</code> is not text.</strong></p>\n<h2>Text to object</h2>\n<p>When you want to produce a <code>LocalDateTime</code> object to represent a value communicated textually, use <code>LocalDateTime.parse</code> method. If the text is not in standard <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, you’ll also need a <code>DateTimeFormatter</code> object to assist in parsing.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2019-08-08T09:17:31.795306&quot; ) ;\n</code></pre>\n<h2>Object to text</h2>\n<p>When you want to produce text in standard <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, call <code>LocalDateTime#toString</code>. To produce text in other formats, call <code>LocalDateTime#format</code> while passing a <code>DateTimeFormatter</code>.</p>\n<pre><code>String output = ldt.toString() ;\n</code></pre>\n<blockquote>\n<p>2019-08-08T09:17:31.795306</p>\n</blockquote>\n"}],"owner":{"account_id":26646717,"reputation":1,"user_id":20261564,"display_name":"Stack8"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666625485,"creation_date":1666600951,"question_id":74178559,"body_markdown":"I have the following code:\r\n```java\r\nString time1 = &quot;2019-08-08T09:17:31.795306&quot;;\r\nLocalDateTime localDateTime3 = LocalDateTime.parse(time1);\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;);\r\nString format2 = localDateTime3.format(formatter); // I want here to return LocalDateTime instead of String\r\nSystem.out.println(format2);\r\n```\r\nI just want to format LocalDateTime from one format to another and return LocalDateTime, not String (this is needed for my business logic).","title":"How to convert LocalDateTime from one format to another","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String time1 = &quot;2019-08-08T09:17:31.795306&quot;;\nLocalDateTime localDateTime3 = LocalDateTime.parse(time1);\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;);\nString format2 = localDateTime3.format(formatter); // I want here to return LocalDateTime instead of String\nSystem.out.println(format2);\n</code></pre>\n<p>I just want to format LocalDateTime from one format to another and return LocalDateTime, not String (this is needed for my business logic).</p>\n"},{"tags":["java","android","sockets","exception"],"owner":{"account_id":26690901,"reputation":19,"user_id":20299493,"display_name":"Alphacell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666625352,"creation_date":1666625352,"question_id":74183461,"body_markdown":"I&#39;m making an app in Android studio and I&#39;m getting an IOException which is unpredictable nor have I managed to replicate it.\r\n\r\n    W/TcpProtocolLayer: Connection to /x.x.x.x:x  closed.\r\n    W/System.err: java.io.IOException: Software caused connection abort\r\n    W/System.err:     at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\r\n    W/System.err:     at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n    W/System.err:     at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\r\n    W/System.err:     at sun.nio.ch.IOUtil.read(IOUtil.java:192)\r\n    W/System.err:     at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:421)\r\n    W/System.err:     at x.x.protocol.layer.TcpProtocolLayer.receive(TcpProtocolLayer.java:254)\r\n    W/System.err:     at x.x.protocol.layer.TcpProtocolLayer.receive(TcpProtocolLayer.java:201)\r\n    W/System.err:     at x.x.protocol.layer.DatagramProtocolLayer.receive(DatagramProtocolLayer.java:133)\r\n    W/System.err:     at x.x.protocol.ProtocolStack.receive(ProtocolStack.java:190)\r\n    W/System.err:     at x.x.protocol.Socket.receive(Socket.java:85)\r\n\r\nI&#39;ve been trying to wrap my head around it and I just can&#39;t seem to understand why this would happen, for legal reasons I can&#39;t show the code where it&#39;s happening but I can describe it.\r\n\r\nThe phone sends a message to a server and the server responds. This part is always successful and never fails. Then the phone waits for the server to send another message for a confirmation, and this is where it the exception happens. It might throw the exception instantly it might throw it after 10 seconds. I should also say that 90% of the time the code works just fine and no exception is thrown and it processes the information just fine. Then the 10% of the unpredictable attempts this happens and breaks the app completely. I&#39;ve watched out for it not to be a Async Thread error ,and I&#39;ve concluded it isn&#39;t and the Socket is opened at the moment of this happening. If anyone has any answer I&#39;d be happy to hear it because this problem has been haunting me for a month already and I can&#39;t fix it","title":"Software caused connection abort Client receive","body":"<p>I'm making an app in Android studio and I'm getting an IOException which is unpredictable nor have I managed to replicate it.</p>\n<pre><code>W/TcpProtocolLayer: Connection to /x.x.x.x:x  closed.\nW/System.err: java.io.IOException: Software caused connection abort\nW/System.err:     at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\nW/System.err:     at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\nW/System.err:     at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\nW/System.err:     at sun.nio.ch.IOUtil.read(IOUtil.java:192)\nW/System.err:     at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:421)\nW/System.err:     at x.x.protocol.layer.TcpProtocolLayer.receive(TcpProtocolLayer.java:254)\nW/System.err:     at x.x.protocol.layer.TcpProtocolLayer.receive(TcpProtocolLayer.java:201)\nW/System.err:     at x.x.protocol.layer.DatagramProtocolLayer.receive(DatagramProtocolLayer.java:133)\nW/System.err:     at x.x.protocol.ProtocolStack.receive(ProtocolStack.java:190)\nW/System.err:     at x.x.protocol.Socket.receive(Socket.java:85)\n</code></pre>\n<p>I've been trying to wrap my head around it and I just can't seem to understand why this would happen, for legal reasons I can't show the code where it's happening but I can describe it.</p>\n<p>The phone sends a message to a server and the server responds. This part is always successful and never fails. Then the phone waits for the server to send another message for a confirmation, and this is where it the exception happens. It might throw the exception instantly it might throw it after 10 seconds. I should also say that 90% of the time the code works just fine and no exception is thrown and it processes the information just fine. Then the 10% of the unpredictable attempts this happens and breaks the app completely. I've watched out for it not to be a Async Thread error ,and I've concluded it isn't and the Socket is opened at the moment of this happening. If anyone has any answer I'd be happy to hear it because this problem has been haunting me for a month already and I can't fix it</p>\n"},{"tags":["java","rest","soap","wso2","wso2-esb"],"answers":[{"comments":[{"owner":{"account_id":1323653,"reputation":169,"user_id":1268946,"accept_rate":100,"display_name":"Mohamed Suhail"},"score":0,"creation_date":1357210322,"post_id":14133263,"comment_id":19575452,"body_markdown":"Thanks Amila for responding, but unfortunately this is not my requirement. The sample service link i shared is a rest service which sends a JSON response after invoking it. What I would like to know is, whether it is possible to transform this JSON response to a SOAP response.","body":"Thanks Amila for responding, but unfortunately this is not my requirement. The sample service link i shared is a rest service which sends a JSON response after invoking it. What I would like to know is, whether it is possible to transform this JSON response to a SOAP response."}],"tags":[],"owner":{"account_id":1346998,"reputation":2151,"user_id":1287537,"display_name":"Amila Maharachchi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357189015,"creation_date":1357189015,"answer_id":14133263,"question_id":14127775,"body_markdown":"AFAIU you want to invoke a soap service with a json content and get a json response. If that is your requirement, [this][1] sample will help you.\r\n\r\n\r\n  [1]: http://docs.wso2.org/wiki/display/ESB450/Sample+440:+Exposing+a+SOAP+Service+Over+JSON","title":"WSO2 ESB JSON to SOAP","body":"<p>AFAIU you want to invoke a soap service with a json content and get a json response. If that is your requirement, <a href=\"http://docs.wso2.org/wiki/display/ESB450/Sample+440%3a+Exposing+a+SOAP+Service+Over+JSON\" rel=\"nofollow\">this</a> sample will help you.</p>\n"},{"tags":[],"owner":{"account_id":1208830,"reputation":1203,"user_id":1917897,"display_name":"RaviU"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357213224,"creation_date":1357213224,"answer_id":14138227,"question_id":14127775,"body_markdown":"If you want to allow SOAP clients to access a REST service through the WSO2ESB, it is possible. Take a look at this sample: http://docs.wso2.org/wiki/display/ESB451/Sample+152%3A+Switching+Transports+and+Message+Format+from+SOAP+to+REST+POX\r\n\r\nWhat you can do is create a SOAP proxy service that sits in front of your REST service. This proxy service will then take in SOAP requests, convert the request into a REST request and forward to the REST service. It can then transform the REST response in JSON into a SOAP response and return to the SOAP client. ","title":"WSO2 ESB JSON to SOAP","body":"<p>If you want to allow SOAP clients to access a REST service through the WSO2ESB, it is possible. Take a look at this sample: <a href=\"http://docs.wso2.org/wiki/display/ESB451/Sample+152%3A+Switching+Transports+and+Message+Format+from+SOAP+to+REST+POX\" rel=\"nofollow\">http://docs.wso2.org/wiki/display/ESB451/Sample+152%3A+Switching+Transports+and+Message+Format+from+SOAP+to+REST+POX</a></p>\n\n<p>What you can do is create a SOAP proxy service that sits in front of your REST service. This proxy service will then take in SOAP requests, convert the request into a REST request and forward to the REST service. It can then transform the REST response in JSON into a SOAP response and return to the SOAP client. </p>\n"},{"comments":[{"owner":{"account_id":1323653,"reputation":169,"user_id":1268946,"accept_rate":100,"display_name":"Mohamed Suhail"},"score":0,"creation_date":1357491811,"post_id":14143254,"comment_id":19659687,"body_markdown":"Thank you udeshike, the above was quite helpful. Unfortunately the JSON response is very similar to the above and the ESB does only includes the first element in the SOAP response, any possible work around for this issue?","body":"Thank you udeshike, the above was quite helpful. Unfortunately the JSON response is very similar to the above and the ESB does only includes the first element in the SOAP response, any possible work around for this issue?"},{"owner":{"account_id":397848,"reputation":388,"user_id":762213,"display_name":"udeshike"},"score":0,"creation_date":1357754229,"post_id":14143254,"comment_id":19762512,"body_markdown":"Mohamed, I suggested a new approach to get your requirement done.","body":"Mohamed, I suggested a new approach to get your requirement done."}],"tags":[],"owner":{"account_id":397848,"reputation":388,"user_id":762213,"display_name":"udeshike"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1357231486,"creation_date":1357231486,"answer_id":14143254,"question_id":14127775,"body_markdown":"You can achieve this with a configuration similar to the following; (We must set the &quot;messageType&quot; property to &quot;text/xml&quot; to engage the SOAP message builder when responding back to the client.)\r\n\r\n    &lt;proxy xmlns=&quot;http://ws.apache.org/ns/synapse&quot; name=&quot;JSONToSOAPService&quot; transports=&quot;https,http&quot;&gt;\r\n       &lt;target&gt;\r\n          &lt;outSequence&gt;\r\n             &lt;log level=&quot;full&quot;/&gt;\r\n             &lt;property name=&quot;messageType&quot; value=&quot;text/xml&quot; scope=&quot;axis2&quot;/&gt;\r\n             &lt;send/&gt;\r\n          &lt;/outSequence&gt;\r\n          &lt;endpoint&gt;\r\n             &lt;address uri=&quot;http://api.statsfc.com/premier-league/table.json?key=free&quot;/&gt;\r\n          &lt;/endpoint&gt;\r\n       &lt;/target&gt;\r\n       &lt;description&gt;&lt;/description&gt;\r\n    &lt;/proxy&gt;\r\n\r\nBut if your JSON response object is exactly same as the one you get from the sample service that you&#39;ve provided (ie., if it is an array of anonymous objects), the ESB is going to cut down the response to include only the first element (see following SOAP response).\r\n\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n        &lt;soapenv:Body&gt;\r\n            &lt;position&gt;1&lt;/position&gt;\r\n            &lt;team_id&gt;10260&lt;/team_id&gt;\r\n            &lt;team&gt;Manchester United&lt;/team&gt;\r\n            &lt;played&gt;21&lt;/played&gt;\r\n            &lt;won&gt;17&lt;/won&gt;\r\n            &lt;drawn&gt;1&lt;/drawn&gt;\r\n            &lt;lost&gt;3&lt;/lost&gt;\r\n            &lt;for&gt;54&lt;/for&gt;\r\n            &lt;against&gt;28&lt;/against&gt;\r\n            &lt;difference&gt;26&lt;/difference&gt;\r\n            &lt;points&gt;52&lt;/points&gt;\r\n            &lt;info&gt;championsleague&lt;/info&gt;\r\n        &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;                    \r\n\r\n            \r\n\r\n","title":"WSO2 ESB JSON to SOAP","body":"<p>You can achieve this with a configuration similar to the following; (We must set the \"messageType\" property to \"text/xml\" to engage the SOAP message builder when responding back to the client.)</p>\n\n<pre><code>&lt;proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"JSONToSOAPService\" transports=\"https,http\"&gt;\n   &lt;target&gt;\n      &lt;outSequence&gt;\n         &lt;log level=\"full\"/&gt;\n         &lt;property name=\"messageType\" value=\"text/xml\" scope=\"axis2\"/&gt;\n         &lt;send/&gt;\n      &lt;/outSequence&gt;\n      &lt;endpoint&gt;\n         &lt;address uri=\"http://api.statsfc.com/premier-league/table.json?key=free\"/&gt;\n      &lt;/endpoint&gt;\n   &lt;/target&gt;\n   &lt;description&gt;&lt;/description&gt;\n&lt;/proxy&gt;\n</code></pre>\n\n<p>But if your JSON response object is exactly same as the one you get from the sample service that you've provided (ie., if it is an array of anonymous objects), the ESB is going to cut down the response to include only the first element (see following SOAP response).</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=\"http://www.w3.org/2003/05/soap-envelope\"&gt;\n    &lt;soapenv:Body&gt;\n        &lt;position&gt;1&lt;/position&gt;\n        &lt;team_id&gt;10260&lt;/team_id&gt;\n        &lt;team&gt;Manchester United&lt;/team&gt;\n        &lt;played&gt;21&lt;/played&gt;\n        &lt;won&gt;17&lt;/won&gt;\n        &lt;drawn&gt;1&lt;/drawn&gt;\n        &lt;lost&gt;3&lt;/lost&gt;\n        &lt;for&gt;54&lt;/for&gt;\n        &lt;against&gt;28&lt;/against&gt;\n        &lt;difference&gt;26&lt;/difference&gt;\n        &lt;points&gt;52&lt;/points&gt;\n        &lt;info&gt;championsleague&lt;/info&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;                    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":397848,"reputation":388,"user_id":762213,"display_name":"udeshike"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1403714367,"creation_date":1357754037,"answer_id":14243414,"question_id":14127775,"body_markdown":"I could transform the complete JSON payload with following steps in ESB 4.5.0. These steps involve changing the message builder and message formatter for the application/json content type.\r\n\r\nChange the message builder, formatter for JSON; In CARBON_HOME/repository/conf/axis2/axis2.xml file disengage the default message builder and message formatter by commenting out following lines,\r\n\r\n    &lt;messageBuilder contentType=&quot;application/json&quot; class=&quot;org.apache.axis2.json.JSONBuilder&quot;/&gt;\r\n    &lt;messageFormatter contentType=&quot;application/json&quot; class=&quot;org.apache.axis2.json.JSONMessageFormatter&quot;/&gt;\r\n    \r\nEngage JSONStreamBuilder and JSONStreamFormatter by uncommenting following lines,\r\n\r\n    &lt;messageFormatter contentType=&quot;application/json&quot; class=&quot;org.apache.axis2.json.JSONStreamFormatter&quot;/&gt;\r\n    &lt;messageBuilder contentType=&quot;application/json&quot; class=&quot;org.apache.axis2.json.JSONStreamBuilder&quot;/&gt;\r\n\r\nWrite a Javascript function to transform and build the new XML payload.        \r\n\r\n    function transformRequest(mc) {\r\n        var array = mc.getPayloadJSON();\r\n        var payload = &lt;games/&gt;;\r\n    \r\n        for (i = 0; i &lt; array.length; ++i) {\r\n            var elem = array[i];\r\n            payload.game += &lt;game&gt;\r\n                &lt;position&gt;{elem.position}&lt;/position&gt;\r\n                &lt;team_id&gt;{elem.team_id}&lt;/team_id&gt;\r\n                &lt;team&gt;{elem.team}&lt;/team&gt;\r\n                &lt;played&gt;{elem.played}&lt;/played&gt;\r\n                &lt;won&gt;{elem.won}&lt;/won&gt;\r\n                &lt;drawn&gt;{elem.drawn}&lt;/drawn&gt;\r\n                &lt;lost&gt;{elem.lost}&lt;/lost&gt;\r\n                &lt;for&gt;{elem[&quot;for&quot;]}&lt;/for&gt;\r\n                &lt;against&gt;{elem.against}&lt;/against&gt;\r\n                &lt;difference&gt;{elem.difference}&lt;/difference&gt;\r\n                &lt;points&gt;{elem.points}&lt;/points&gt;\r\n                &lt;info&gt;{elem.info}&lt;/info&gt;\r\n            &lt;/game&gt;\r\n        }\r\n        mc.setPayloadXML(payload);\r\n    }\r\n\r\nModify the outSequence to execute the transformation on the incoming JSON payload.\r\n\r\n    &lt;outSequence&gt;\r\n        &lt;script language=&quot;js&quot; key=&quot;conf:/repository/esb/scripts/transformrequest.js&quot; function=&quot;transformRequest&quot;/&gt;\r\n        &lt;property name=&quot;messageType&quot; value=&quot;text/xml&quot; scope=&quot;axis2&quot;/&gt;\r\n        &lt;send/&gt;\r\n    &lt;/outSequence&gt;\r\n\r\n","title":"WSO2 ESB JSON to SOAP","body":"<p>I could transform the complete JSON payload with following steps in ESB 4.5.0. These steps involve changing the message builder and message formatter for the application/json content type.</p>\n\n<p>Change the message builder, formatter for JSON; In CARBON_HOME/repository/conf/axis2/axis2.xml file disengage the default message builder and message formatter by commenting out following lines,</p>\n\n<pre><code>&lt;messageBuilder contentType=\"application/json\" class=\"org.apache.axis2.json.JSONBuilder\"/&gt;\n&lt;messageFormatter contentType=\"application/json\" class=\"org.apache.axis2.json.JSONMessageFormatter\"/&gt;\n</code></pre>\n\n<p>Engage JSONStreamBuilder and JSONStreamFormatter by uncommenting following lines,</p>\n\n<pre><code>&lt;messageFormatter contentType=\"application/json\" class=\"org.apache.axis2.json.JSONStreamFormatter\"/&gt;\n&lt;messageBuilder contentType=\"application/json\" class=\"org.apache.axis2.json.JSONStreamBuilder\"/&gt;\n</code></pre>\n\n<p>Write a Javascript function to transform and build the new XML payload.        </p>\n\n<pre><code>function transformRequest(mc) {\n    var array = mc.getPayloadJSON();\n    var payload = &lt;games/&gt;;\n\n    for (i = 0; i &lt; array.length; ++i) {\n        var elem = array[i];\n        payload.game += &lt;game&gt;\n            &lt;position&gt;{elem.position}&lt;/position&gt;\n            &lt;team_id&gt;{elem.team_id}&lt;/team_id&gt;\n            &lt;team&gt;{elem.team}&lt;/team&gt;\n            &lt;played&gt;{elem.played}&lt;/played&gt;\n            &lt;won&gt;{elem.won}&lt;/won&gt;\n            &lt;drawn&gt;{elem.drawn}&lt;/drawn&gt;\n            &lt;lost&gt;{elem.lost}&lt;/lost&gt;\n            &lt;for&gt;{elem[\"for\"]}&lt;/for&gt;\n            &lt;against&gt;{elem.against}&lt;/against&gt;\n            &lt;difference&gt;{elem.difference}&lt;/difference&gt;\n            &lt;points&gt;{elem.points}&lt;/points&gt;\n            &lt;info&gt;{elem.info}&lt;/info&gt;\n        &lt;/game&gt;\n    }\n    mc.setPayloadXML(payload);\n}\n</code></pre>\n\n<p>Modify the outSequence to execute the transformation on the incoming JSON payload.</p>\n\n<pre><code>&lt;outSequence&gt;\n    &lt;script language=\"js\" key=\"conf:/repository/esb/scripts/transformrequest.js\" function=\"transformRequest\"/&gt;\n    &lt;property name=\"messageType\" value=\"text/xml\" scope=\"axis2\"/&gt;\n    &lt;send/&gt;\n&lt;/outSequence&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26078278,"reputation":46,"user_id":19776908,"display_name":"Scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666625296,"creation_date":1666625296,"answer_id":74183450,"question_id":14127775,"body_markdown":"The most current documentation for APIM 4.1.0, and thus Micro Integrator, demos two different ways to handle this business use case of [JSON to SOAP][1] output:\r\n\r\n - Use the PayloadFactory Mediator\r\n - Use XSLT Mediator\r\n\r\nWhile the message Formatter/Builder approach listed in an another answer here will work in a very generic way, and thus usable if you have a one-to-one field output, it doesn&#39;t give you the flexibility that these two approaches will give you for field transformations.\r\n\r\n\r\n\r\n  [1]: https://apim.docs.wso2.com/en/latest/integrate/examples/message_transformation_examples/json-to-soap-conversion/","title":"WSO2 ESB JSON to SOAP","body":"<p>The most current documentation for APIM 4.1.0, and thus Micro Integrator, demos two different ways to handle this business use case of <a href=\"https://apim.docs.wso2.com/en/latest/integrate/examples/message_transformation_examples/json-to-soap-conversion/\" rel=\"nofollow noreferrer\">JSON to SOAP</a> output:</p>\n<ul>\n<li>Use the PayloadFactory Mediator</li>\n<li>Use XSLT Mediator</li>\n</ul>\n<p>While the message Formatter/Builder approach listed in an another answer here will work in a very generic way, and thus usable if you have a one-to-one field output, it doesn't give you the flexibility that these two approaches will give you for field transformations.</p>\n"}],"owner":{"account_id":1323653,"reputation":169,"user_id":1268946,"accept_rate":100,"display_name":"Mohamed Suhail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4062,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14143254,"answer_count":5,"score":6,"last_activity_date":1666625296,"creation_date":1357154131,"question_id":14127775,"body_markdown":"Most of the current docs are with reference to SOAP-to-JSON, I was hoping whether there are any reference material or tutorials when using WSO2 ESB to transform JSON response object to SOAP service. Thanks in advance.\r\n\r\nSample service:\r\nhttp://api.statsfc.com/premier-league/table.json?key=free\r\n","title":"WSO2 ESB JSON to SOAP","body":"<p>Most of the current docs are with reference to SOAP-to-JSON, I was hoping whether there are any reference material or tutorials when using WSO2 ESB to transform JSON response object to SOAP service. Thanks in advance.</p>\n\n<p>Sample service:\n<a href=\"http://api.statsfc.com/premier-league/table.json?key=free\" rel=\"noreferrer\">http://api.statsfc.com/premier-league/table.json?key=free</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666624662,"post_id":74183311,"comment_id":130975778,"body_markdown":"I&#39;d throw an `IllegalArgumentException`, but that&#39;s really for you to decide how to treat invalid input. In your case returning -1 could be equally effective to signal an invalid input.","body":"I&#39;d throw an <code>IllegalArgumentException</code>, but that&#39;s really for you to decide how to treat invalid input. In your case returning -1 could be equally effective to signal an invalid input."}],"answers":[{"comments":[{"owner":{"account_id":26684780,"reputation":1,"user_id":20294262,"display_name":"Joel"},"score":0,"creation_date":1666625877,"post_id":74183394,"comment_id":130976189,"body_markdown":"so i tried it and it worked.. but the problem is that it still prints the fanControl value (-1) but it shouldnt if the error message appears","body":"so i tried it and it worked.. but the problem is that it still prints the fanControl value (-1) but it shouldnt if the error message appears"},{"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"score":1,"creation_date":1666627460,"post_id":74183394,"comment_id":130976726,"body_markdown":"@Joel I can&#39;t see the rest of your code, so i don&#39;t know how/where you&#39;re printing fanControl&#39;s value","body":"@Joel I can&#39;t see the rest of your code, so i don&#39;t know how/where you&#39;re printing fanControl&#39;s value"}],"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666625039,"creation_date":1666625039,"answer_id":74183394,"question_id":74183311,"body_markdown":"I agree with @Federico\r\n\r\nYour solution will depend on how you want to handle invalid input\r\n\r\nJust change `return;` to `return -1;`\r\n\r\nThen, whenever/wherever you call `fanControl(X)`, just surround it with a conditional:\r\n\r\n    if (fanControl(X) == -1){\r\n       throw new IllegalArgumentException(&quot;ppm value must be at least 250&quot;);\r\n    } else {\r\n       //Do whatever you were planning to do\r\n    }\r\n\r\nAlso, make sure your `ppm &gt; 250` is changed to `ppm &gt;= 250` if you want to include `250` as valid input\r\n","title":"How can I print an error message if the value is &lt; 250","body":"<p>I agree with @Federico</p>\n<p>Your solution will depend on how you want to handle invalid input</p>\n<p>Just change <code>return;</code> to <code>return -1;</code></p>\n<p>Then, whenever/wherever you call <code>fanControl(X)</code>, just surround it with a conditional:</p>\n<pre><code>if (fanControl(X) == -1){\n   throw new IllegalArgumentException(&quot;ppm value must be at least 250&quot;);\n} else {\n   //Do whatever you were planning to do\n}\n</code></pre>\n<p>Also, make sure your <code>ppm &gt; 250</code> is changed to <code>ppm &gt;= 250</code> if you want to include <code>250</code> as valid input</p>\n"}],"owner":{"account_id":26684780,"reputation":1,"user_id":20294262,"display_name":"Joel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74183394,"answer_count":1,"score":-3,"last_activity_date":1666625182,"creation_date":1666624590,"question_id":74183311,"body_markdown":"I have this code where somebody can choose a ppm value and it calculates the `fanControl` value.  \r\n\r\n```java\r\n\r\nstatic int fanControl(int ppm) {\r\n\t  \r\n\tif (ppm &lt; 401 &amp;&amp; ppm &gt; 250 ) {\r\n\t\treturn 0;\t\r\n\t} else if (ppm &gt;= 401 &amp;&amp; ppm &lt; 800) {\r\n\t\treturn (ppm - 400)/4;\r\n\t} else if (ppm &gt;= 800) {\r\n\t\treturn 100;\r\n\t} else {\r\n\t    return;\r\n\t}\r\n}\r\n\r\n``` \r\n\r\nWhat do I have to do that the program prints an error message and stops calculating if the person who chooses the ppm value, chooses something less than 250.\r\n\r\n\r\n\r\n\r\n","title":"How can I print an error message if the value is &lt; 250","body":"<p>I have this code where somebody can choose a ppm value and it calculates the <code>fanControl</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nstatic int fanControl(int ppm) {\n      \n    if (ppm &lt; 401 &amp;&amp; ppm &gt; 250 ) {\n        return 0;   \n    } else if (ppm &gt;= 401 &amp;&amp; ppm &lt; 800) {\n        return (ppm - 400)/4;\n    } else if (ppm &gt;= 800) {\n        return 100;\n    } else {\n        return;\n    }\n}\n\n</code></pre>\n<p>What do I have to do that the program prints an error message and stops calculating if the person who chooses the ppm value, chooses something less than 250.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":164028,"reputation":1156,"user_id":386541,"accept_rate":83,"display_name":"just_another_coder"},"score":0,"creation_date":1279834936,"post_id":3313728,"comment_id":3434468,"body_markdown":"And: private R.drawable icon; should be private Drawable icon;","body":"And: private R.drawable icon; should be private Drawable icon;"}],"tags":[],"owner":{"account_id":164028,"reputation":1156,"user_id":386541,"accept_rate":83,"display_name":"just_another_coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279834752,"creation_date":1279834752,"answer_id":3313728,"question_id":3313712,"body_markdown":"public Beer(String name, int color, Drawable icon)","title":"How do I pass a R.drawable as a parameter so I can get images parsed","body":"<p>public Beer(String name, int color, Drawable icon)</p>\n"},{"comments":[{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":2,"creation_date":1491290049,"post_id":3314829,"comment_id":73473077,"body_markdown":"getDrawable() depricated in api 22","body":"getDrawable() depricated in api 22"}],"tags":[],"owner":{"account_id":129083,"reputation":39457,"user_id":327402,"accept_rate":86,"display_name":"Waza_Be"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1279849862,"creation_date":1279849862,"answer_id":3314829,"question_id":3313712,"body_markdown":"    final Beer b1 = new Beer(&quot;Tuborg&quot;, 7,context.getResources().getDrawable(R.drawable.tuborg));\r\nand like said before:\r\n\r\n    public Beer(String name, int color, Drawable icon)\r\n\r\n\r\n\r\nOr you can send the int as parameter:\r\n\r\n\r\n\r\n    final Beer b1 = new Beer(&quot;Tuborg&quot;, 7, R.drawable.tuborg);\r\n\r\nand:  \r\n\r\n    public Beer(String name, int color, int icon)\r\n    {\r\n        this.name = name;\r\n        this.color = color;\r\n        this.icon = context.getResources().getDrawable(icon);\r\n    }\r\n","title":"How do I pass a R.drawable as a parameter so I can get images parsed","body":"<pre><code>final Beer b1 = new Beer(\"Tuborg\", 7,context.getResources().getDrawable(R.drawable.tuborg));\n</code></pre>\n\n<p>and like said before:</p>\n\n<pre><code>public Beer(String name, int color, Drawable icon)\n</code></pre>\n\n<p>Or you can send the int as parameter:</p>\n\n<pre><code>final Beer b1 = new Beer(\"Tuborg\", 7, R.drawable.tuborg);\n</code></pre>\n\n<p>and:  </p>\n\n<pre><code>public Beer(String name, int color, int icon)\n{\n    this.name = name;\n    this.color = color;\n    this.icon = context.getResources().getDrawable(icon);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13178109,"reputation":755,"user_id":9518407,"display_name":"Sajeeb Chandan Saha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633816567,"creation_date":1633816567,"answer_id":69510824,"question_id":3313712,"body_markdown":"You can use context&#39;s getDrawable() to implement that. In my case it worked.\r\n\r\n    my_signature_element.setBackground(this.getResources().getDrawable(R.drawable.bg_round_signature, null));","title":"How do I pass a R.drawable as a parameter so I can get images parsed","body":"<p>You can use context's getDrawable() to implement that. In my case it worked.</p>\n<pre><code>my_signature_element.setBackground(this.getResources().getDrawable(R.drawable.bg_round_signature, null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8882088,"reputation":81,"user_id":6634545,"display_name":"Nadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666623947,"creation_date":1666623947,"answer_id":74183184,"question_id":3313712,"body_markdown":"If what i understand from your question is true then i think your aim is to add drawable image as a parameter if thats what you want \r\nthen you should add the  \r\n\r\n      @DrawableRes int image\r\nlike\r\n \r\n\r\n    public Beer(String name, int color,@DrawableRes int icon)\r\n    {\r\n        this.name = name;\r\n        this.color = color;\r\n        this.icon = icon;\r\n    }\r\n\r\nas your parameter then you can add drawable files in here ","title":"How do I pass a R.drawable as a parameter so I can get images parsed","body":"<p>If what i understand from your question is true then i think your aim is to add drawable image as a parameter if thats what you want\nthen you should add the</p>\n<pre><code>  @DrawableRes int image\n</code></pre>\n<p>like</p>\n<pre><code>public Beer(String name, int color,@DrawableRes int icon)\n{\n    this.name = name;\n    this.color = color;\n    this.icon = icon;\n}\n</code></pre>\n<p>as your parameter then you can add drawable files in here</p>\n"}],"owner":{"account_id":171934,"reputation":3627,"user_id":399658,"accept_rate":85,"display_name":"Mech0z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9612,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":3314829,"answer_count":4,"score":8,"last_activity_date":1666623947,"creation_date":1279834593,"question_id":3313712,"body_markdown":"I try to save a unique image to each object but I get this error, how should the constructor look for it to work that way?\r\nThe constructor Beer(String, int, int) is undefined\r\n\r\n\r\n    m_beer = new ArrayList&lt;Beer&gt;();\r\n                  final Beer b1 = new Beer(&quot;Tuborg&quot;, 7, R.drawable.tuborg);\r\n                  final Beer b2 = new Beer(&quot;Carlsberg&quot;, 7, R.drawable.carlsberg);\r\n                  final Beer b3 = new Beer(&quot;Urquel&quot;, 9, R.drawable.urquel);\r\n\r\n\r\n    public class Beer \r\n    {\r\n    \t//Members\r\n    \tprivate String name;\r\n    \tprivate int color; //1 = Very dark 10 = Very light\r\n    \tprivate R.drawable icon;\r\n    \t\r\n    \t//Methods\r\n    \tpublic Beer(String name, int color, R.drawable icon)\r\n    \t{\r\n    \t\tthis.name = name;\r\n    \t\tthis.color = color;\r\n    \t\tthis.icon = icon;\r\n    \t}\r\n    \t\r\n    \tpublic String getName()\r\n    \t{\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name)\r\n    \t{\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \tpublic int getColor()\r\n    \t{\r\n    \t\treturn this.color;\r\n    \t}\r\n    \tpublic void setColor(int color)\r\n    \t{\r\n    \t\tthis.color = color;\r\n    \t}\r\n    \t\r\n    \tpublic R.drawable getIcon()\r\n    \t{\r\n    \t\treturn icon;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How do I pass a R.drawable as a parameter so I can get images parsed","body":"<p>I try to save a unique image to each object but I get this error, how should the constructor look for it to work that way?\nThe constructor Beer(String, int, int) is undefined</p>\n\n<pre><code>m_beer = new ArrayList&lt;Beer&gt;();\n              final Beer b1 = new Beer(\"Tuborg\", 7, R.drawable.tuborg);\n              final Beer b2 = new Beer(\"Carlsberg\", 7, R.drawable.carlsberg);\n              final Beer b3 = new Beer(\"Urquel\", 9, R.drawable.urquel);\n\n\npublic class Beer \n{\n    //Members\n    private String name;\n    private int color; //1 = Very dark 10 = Very light\n    private R.drawable icon;\n\n    //Methods\n    public Beer(String name, int color, R.drawable icon)\n    {\n        this.name = name;\n        this.color = color;\n        this.icon = icon;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n    public int getColor()\n    {\n        return this.color;\n    }\n    public void setColor(int color)\n    {\n        this.color = color;\n    }\n\n    public R.drawable getIcon()\n    {\n        return icon;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-stream","treemap","collectors"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1666532522,"post_id":74171540,"comment_id":130954672,"body_markdown":"What is the result data structure? Do you want it to be nested map? `SW1` in outer map and `SP1` as nested map?","body":"What is the result data structure? Do you want it to be nested map? <code>SW1</code> in outer map and <code>SP1</code> as nested map?"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666532975,"creation_date":1666532663,"answer_id":74171608,"question_id":74171540,"body_markdown":"Here&#39;s how you can apply nested groupingBy\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; result = dummy.stream()\r\n            .collect(Collectors.groupingBy(l -&gt; l.get(2),\r\n                    Collectors.groupingBy(l -&gt; l.get(1),\r\n                            Collectors.mapping(l -&gt; l.get(0), Collectors.toList()))));\r\n\r\n\r\nTo collect it in the order encountered, you can use a `LinkedHashMap`,\r\n\r\n    Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; result = dummy.stream()\r\n            .collect(Collectors.groupingBy(l -&gt; l.get(2), LinkedHashMap::new,\r\n                    Collectors.groupingBy(l -&gt; l.get(1), LinkedHashMap::new,\r\n                            Collectors.mapping(l -&gt; l.get(0), Collectors.toList()))));\r\n    System.out.println(result);\r\nResult:\r\n\r\n    {SW1={SP1=[1, 6], SP2=[3, 5]}, SW2={SP1=[2], SP2=[4], SP3=[7]}}\r\n","title":"Java-Stream - Grouping Lists based on several elements within each List","body":"<p>Here's how you can apply nested groupingBy</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; result = dummy.stream()\n        .collect(Collectors.groupingBy(l -&gt; l.get(2),\n                Collectors.groupingBy(l -&gt; l.get(1),\n                        Collectors.mapping(l -&gt; l.get(0), Collectors.toList()))));\n</code></pre>\n<p>To collect it in the order encountered, you can use a <code>LinkedHashMap</code>,</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; result = dummy.stream()\n        .collect(Collectors.groupingBy(l -&gt; l.get(2), LinkedHashMap::new,\n                Collectors.groupingBy(l -&gt; l.get(1), LinkedHashMap::new,\n                        Collectors.mapping(l -&gt; l.get(0), Collectors.toList()))));\nSystem.out.println(result);\n</code></pre>\n<p>Result:</p>\n<pre><code>{SW1={SP1=[1, 6], SP2=[3, 5]}, SW2={SP1=[2], SP2=[4], SP3=[7]}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666623737,"creation_date":1666533085,"answer_id":74171656,"question_id":74171540,"body_markdown":"Nested Maps are impractical because they are not very convenient.\r\n\r\nAnd since you basically need to associate every distinct combination of `SW` and `SP` with a corresponding list of values, you can define an auxiliary object that would serve as a *key*.\r\n\r\nThat would allow to achieve the desired result without a need to resort to nested maps.\r\n\r\nA Java 16 [**record**](https://docs.oracle.com/en/java/javase/17/language/records.html) would fit into this role perfectly well (if you&#39;re using a lower version of JDK, you can implement it as a plain class):\r\n\r\n```\r\nrecord SwSp(String sw, String sp) {}\r\n```\r\n\r\nIn order to use it as a *key* in a `TreeMap` it needs either implement `Comparable` interface, or you can provide a `Comparator`  while creating a `TreeMap` as shown below.\r\n\r\nTo generate comparator you can use Java 8 static methods [`comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)) and [`thenComparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)).\r\n\r\nWith it, the stream might look like this:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;String&gt;&gt; dummy = List.of(\r\n            new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;SP1&quot;, &quot;SW1&quot;)),\r\n            new ArrayList&lt;&gt;(List.of(&quot;2&quot;, &quot;SP1&quot;, &quot;SW2&quot;)),\r\n            new ArrayList&lt;&gt;(List.of(&quot;3&quot;, &quot;SP2&quot;, &quot;SW1&quot;)),\r\n            new ArrayList&lt;&gt;(List.of(&quot;4&quot;, &quot;SP2&quot;, &quot;SW2&quot;)),\r\n            new ArrayList&lt;&gt;(List.of(&quot;5&quot;, &quot;SP2&quot;, &quot;SW1&quot;)),\r\n            new ArrayList&lt;&gt;(List.of(&quot;6&quot;, &quot;SP1&quot;, &quot;SW1&quot;)),\r\n            new ArrayList&lt;&gt;(List.of(&quot;7&quot;, &quot;SP3&quot;, &quot;SW2&quot;))\r\n        );\r\n    \r\n        NavigableMap&lt;SwSp, List&lt;String&gt;&gt; test = dummy.stream()\r\n            .collect(Collectors.groupingBy(\r\n                list -&gt; new SwSp(list.get(2), list.get(1)),\r\n                () -&gt; new TreeMap&lt;&gt;(\r\n                    Comparator.comparing(SwSp::sw).thenComparing(SwSp::sp)\r\n                ),\r\n                Collectors.mapping(list -&gt; list.get(0),\r\n                    Collectors.toList())\r\n            ));\r\n        \r\n        test.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nSwSp[sw=SW1, sp=SP1] -&gt; [1, 6]\r\nSwSp[sw=SW1, sp=SP2] -&gt; [3, 5]\r\nSwSp[sw=SW2, sp=SP1] -&gt; [2]\r\nSwSp[sw=SW2, sp=SP2] -&gt; [4]\r\nSwSp[sw=SW2, sp=SP3] -&gt; [7]\r\n```\r\n\r\n**Note**\r\n\r\nBased on the way how these lists are structured (they all have exactly `3` elements which are ordered in the same way) I can make a conclusion that you&#39;re misusing collections because your `List` of `List`s should be a `List` of objects in the first place.","title":"Java-Stream - Grouping Lists based on several elements within each List","body":"<p>Nested Maps are impractical because they are not very convenient.</p>\n<p>And since you basically need to associate every distinct combination of <code>SW</code> and <code>SP</code> with a corresponding list of values, you can define an auxiliary object that would serve as a <em>key</em>.</p>\n<p>That would allow to achieve the desired result without a need to resort to nested maps.</p>\n<p>A Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\"><strong>record</strong></a> would fit into this role perfectly well (if you're using a lower version of JDK, you can implement it as a plain class):</p>\n<pre><code>record SwSp(String sw, String sp) {}\n</code></pre>\n<p>In order to use it as a <em>key</em> in a <code>TreeMap</code> it needs either implement <code>Comparable</code> interface, or you can provide a <code>Comparator</code>  while creating a <code>TreeMap</code> as shown below.</p>\n<p>To generate comparator you can use Java 8 static methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>comparing()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a>.</p>\n<p>With it, the stream might look like this:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; dummy = List.of(\n        new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;SP1&quot;, &quot;SW1&quot;)),\n        new ArrayList&lt;&gt;(List.of(&quot;2&quot;, &quot;SP1&quot;, &quot;SW2&quot;)),\n        new ArrayList&lt;&gt;(List.of(&quot;3&quot;, &quot;SP2&quot;, &quot;SW1&quot;)),\n        new ArrayList&lt;&gt;(List.of(&quot;4&quot;, &quot;SP2&quot;, &quot;SW2&quot;)),\n        new ArrayList&lt;&gt;(List.of(&quot;5&quot;, &quot;SP2&quot;, &quot;SW1&quot;)),\n        new ArrayList&lt;&gt;(List.of(&quot;6&quot;, &quot;SP1&quot;, &quot;SW1&quot;)),\n        new ArrayList&lt;&gt;(List.of(&quot;7&quot;, &quot;SP3&quot;, &quot;SW2&quot;))\n    );\n\n    NavigableMap&lt;SwSp, List&lt;String&gt;&gt; test = dummy.stream()\n        .collect(Collectors.groupingBy(\n            list -&gt; new SwSp(list.get(2), list.get(1)),\n            () -&gt; new TreeMap&lt;&gt;(\n                Comparator.comparing(SwSp::sw).thenComparing(SwSp::sp)\n            ),\n            Collectors.mapping(list -&gt; list.get(0),\n                Collectors.toList())\n        ));\n    \n    test.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>SwSp[sw=SW1, sp=SP1] -&gt; [1, 6]\nSwSp[sw=SW1, sp=SP2] -&gt; [3, 5]\nSwSp[sw=SW2, sp=SP1] -&gt; [2]\nSwSp[sw=SW2, sp=SP2] -&gt; [4]\nSwSp[sw=SW2, sp=SP3] -&gt; [7]\n</code></pre>\n<p><strong>Note</strong></p>\n<p>Based on the way how these lists are structured (they all have exactly <code>3</code> elements which are ordered in the same way) I can make a conclusion that you're misusing collections because your <code>List</code> of <code>List</code>s should be a <code>List</code> of objects in the first place.</p>\n"}],"owner":{"account_id":7500789,"reputation":17,"user_id":5699246,"display_name":"xfactor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74171608,"answer_count":2,"score":1,"last_activity_date":1666623737,"creation_date":1666531969,"question_id":74171540,"body_markdown":"I have the following data stored as lists:\r\n\r\n    List&lt;ArrayList&lt;String&gt;&gt; dummy = new ArrayList&lt;&gt;();\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;SP1&quot;, &quot;SW1&quot;)));\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;2&quot;, &quot;SP1&quot;, &quot;SW2&quot;)));\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;3&quot;, &quot;SP2&quot;, &quot;SW1&quot;)));\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;4&quot;, &quot;SP2&quot;, &quot;SW2&quot;)));\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;5&quot;, &quot;SP2&quot;, &quot;SW1&quot;)));\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;6&quot;, &quot;SP1&quot;, &quot;SW1&quot;)));\r\n    dummy.add(new ArrayList&lt;&gt;(List.of(&quot;7&quot;, &quot;SP3&quot;, &quot;SW2&quot;)));\r\n\r\nI need to group it as follows\r\n```\r\nSW1-SP1-list{1,6}  \r\nSW1-SP2-list{3,5}  \r\nSW2-SP1-list{2}   \r\nSW2-SP2-list{4}    \r\nSW2-SP3-list{7}\r\n```\r\nWhat I have tried is the following:\r\n```\r\nvar test = dummy.stream()\r\n    .collect(Collectors.groupingBy(\r\n        s -&gt; s.get(2),\r\n        TreeMap::new,\r\n        Collectors.groupingBy(\r\n            s -&gt; s.get(1),\r\n            Collectors.toList()\r\n        )\r\n    ));\r\n```\r\n\r\nBut this doesn&#39;t give the desired result.","title":"Java-Stream - Grouping Lists based on several elements within each List","body":"<p>I have the following data stored as lists:</p>\n<pre><code>List&lt;ArrayList&lt;String&gt;&gt; dummy = new ArrayList&lt;&gt;();\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;SP1&quot;, &quot;SW1&quot;)));\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;2&quot;, &quot;SP1&quot;, &quot;SW2&quot;)));\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;3&quot;, &quot;SP2&quot;, &quot;SW1&quot;)));\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;4&quot;, &quot;SP2&quot;, &quot;SW2&quot;)));\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;5&quot;, &quot;SP2&quot;, &quot;SW1&quot;)));\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;6&quot;, &quot;SP1&quot;, &quot;SW1&quot;)));\ndummy.add(new ArrayList&lt;&gt;(List.of(&quot;7&quot;, &quot;SP3&quot;, &quot;SW2&quot;)));\n</code></pre>\n<p>I need to group it as follows</p>\n<pre><code>SW1-SP1-list{1,6}  \nSW1-SP2-list{3,5}  \nSW2-SP1-list{2}   \nSW2-SP2-list{4}    \nSW2-SP3-list{7}\n</code></pre>\n<p>What I have tried is the following:</p>\n<pre><code>var test = dummy.stream()\n    .collect(Collectors.groupingBy(\n        s -&gt; s.get(2),\n        TreeMap::new,\n        Collectors.groupingBy(\n            s -&gt; s.get(1),\n            Collectors.toList()\n        )\n    ));\n</code></pre>\n<p>But this doesn't give the desired result.</p>\n"},{"tags":["java","javascript"],"answers":[{"comments":[{"owner":{"account_id":459718,"reputation":284,"user_id":860351,"accept_rate":75,"display_name":"Tim"},"score":2,"creation_date":1477373481,"post_id":28688995,"comment_id":67726656,"body_markdown":"Thanks for this, that extra \\n solved it for me. Sheesh what a wacky formatting requirement.","body":"Thanks for this, that extra \\n solved it for me. Sheesh what a wacky formatting requirement."},{"owner":{"account_id":379111,"reputation":2017,"user_id":732262,"display_name":"bcb"},"score":0,"creation_date":1599228153,"post_id":28688995,"comment_id":112717968,"body_markdown":"one newline wouldn&#39;t be enough to tell the events apart","body":"one newline wouldn&#39;t be enough to tell the events apart"}],"tags":[],"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1424757029,"creation_date":1424757029,"answer_id":28688995,"question_id":28673371,"body_markdown":"Solved it !!!\r\n\r\nThere is no issue with code, the actual issue is when I am writing response to client my response message should look like as below.\r\n\r\n    PrintWriter out = response.write(&quot;data: message&quot;+value+&quot;\\n\\n&quot;);\r\n    out.flush(); //don&#39;t forget to flush\r\n\r\nIn my code I was missing the last part &quot;\\n\\n&quot; in response object so `source.onmessage(datalist) ` in javascript didn&#39;t get hit.\r\n\r\nCrazy coding..\r\n","title":"EventSource onmessage() is not working where onopen() and onerror() works properly?","body":"<p>Solved it !!!</p>\n\n<p>There is no issue with code, the actual issue is when I am writing response to client my response message should look like as below.</p>\n\n<pre><code>PrintWriter out = response.write(\"data: message\"+value+\"\\n\\n\");\nout.flush(); //don't forget to flush\n</code></pre>\n\n<p>In my code I was missing the last part \"\\n\\n\" in response object so <code>source.onmessage(datalist)</code> in javascript didn't get hit.</p>\n\n<p>Crazy coding..</p>\n"},{"comments":[{"owner":{"account_id":4248192,"reputation":61,"user_id":3476185,"display_name":"zeezor"},"score":1,"creation_date":1582747391,"post_id":42803814,"comment_id":106887920,"body_markdown":"This worked for me after hours of head scratching and many tabs open. Specifying the event the client will be listening to.","body":"This worked for me after hours of head scratching and many tabs open. Specifying the event the client will be listening to."},{"owner":{"account_id":367920,"reputation":1384,"user_id":714413,"display_name":"darkhipo"},"score":2,"creation_date":1628200670,"post_id":42803814,"comment_id":121364869,"body_markdown":"Thank you, this was my issue.","body":"Thank you, this was my issue."},{"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"score":0,"creation_date":1681299150,"post_id":42803814,"comment_id":134033248,"body_markdown":"Especially if you are working with polifil event source it&#39;s important to set event:message, otherwise eventSource.addEventListener(&quot;message&quot;, ...) won&#39;t work on the front-end side","body":"Especially if you are working with polifil event source it&#39;s important to set event:message, otherwise eventSource.addEventListener(&quot;message&quot;, ...) won&#39;t work on the front-end side"}],"tags":[],"owner":{"account_id":1418259,"reputation":1593,"user_id":1343420,"accept_rate":75,"display_name":"Pappa"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1489564142,"creation_date":1489564142,"answer_id":42803814,"question_id":28673371,"body_markdown":"I think the correct formatting is:\r\n\r\n    out.write(&quot;event: message\\n&quot;);\r\n    out.write(&quot;data:&quot; + value + &quot;\\n\\n&quot;);\r\n\r\nThe ``onmessage`` handler assumes the event name is ``message``. If you want to use other event names, you can subscribe to them using ``addEventListener``.","title":"EventSource onmessage() is not working where onopen() and onerror() works properly?","body":"<p>I think the correct formatting is:</p>\n\n<pre><code>out.write(\"event: message\\n\");\nout.write(\"data:\" + value + \"\\n\\n\");\n</code></pre>\n\n<p>The <code>onmessage</code> handler assumes the event name is <code>message</code>. If you want to use other event names, you can subscribe to them using <code>addEventListener</code>.</p>\n"},{"comments":[{"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"score":0,"creation_date":1688445322,"post_id":64374505,"comment_id":135071405,"body_markdown":"You need both things: the double `\\n\\n` at the end of your `data` and `message` as event name.","body":"You need both things: the double <code>\\n\\n</code> at the end of your <code>data</code> and <code>message</code> as event name."}],"tags":[],"owner":{"account_id":18875627,"reputation":41,"user_id":13769225,"display_name":"sachin rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603668682,"creation_date":1602774193,"answer_id":64374505,"question_id":28673371,"body_markdown":"please check type of the stream.  onMessage will be fired by default if incoming event stream type is &quot;message&quot; That is only the default type. Absent of Default event field in the event-stream causes this issue\r\n\r\nFor example: \r\n\r\na) `Stream.emit(&quot;push&quot;, &quot;message&quot;, { msg: &quot;price  Chnage&quot; }); // this works`\r\n\r\nb) `Stream.emit(&quot;push&quot;, &quot;test&quot;, { msg: &quot;price  Chnage&quot; }); // this won&#39;t`","title":"EventSource onmessage() is not working where onopen() and onerror() works properly?","body":"<p>please check type of the stream.  onMessage will be fired by default if incoming event stream type is &quot;message&quot; That is only the default type. Absent of Default event field in the event-stream causes this issue</p>\n<p>For example:</p>\n<p>a) <code>Stream.emit(&quot;push&quot;, &quot;message&quot;, { msg: &quot;price  Chnage&quot; }); // this works</code></p>\n<p>b) <code>Stream.emit(&quot;push&quot;, &quot;test&quot;, { msg: &quot;price  Chnage&quot; }); // this won't</code></p>\n"}],"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20452,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":28688995,"answer_count":3,"score":17,"last_activity_date":1666623675,"creation_date":1424692916,"question_id":28673371,"body_markdown":"check my code below, Here I have added three alert messages to each event type, but in this code source.onopen()[alert: readyState: 1] and source.onerror()[alert: readyState: 0] works properly but in case of onmessage() it is not executed.`\r\n\r\n           if(typeof(EventSource) !== &quot;undefined&quot;) {\r\n\t\t\t   var source = new EventSource(&#39;clinic/get&#39;);\r\n\t\t\t   source.onopen = function(){\r\n\t\t\t\t alert(&#39;connection is opened.&#39;+source.readyState);  \r\n\t\t\t   };\r\n\t\t\t   \r\n\t\t\t   source.onerror = function(){\r\n\t\t\t\t   alert(&#39;error: &#39;+source.readyState);\r\n\t\t\t   };\r\n\t\t\t   \r\n\t\t\t   source.onmessage = function(datalist){\r\n\t\t\t\t \r\n\t\t\t\t   alert(&quot;message: &quot;+datalist.data);\r\n\t\t\t   };\r\n\t\t\t   \r\n\t\t\t} else {\r\n\t\t\t    document.getElementById(&quot;clinic-dtls&quot;).innerHTML = &quot;Sorry, your browser does not support server-sent events...&quot;;\r\n\t\t\t}`\r\n\r\ncheck the code below for the server side \r\n\r\n    Random random = new Random();\r\n\t\t\tresponse.setContentType(&quot;text/event-stream&quot;);\r\n\t\t\tresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\t\t\tSystem.out.println(&quot;clinic/get got hit&quot;);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tWriter out = response.getWriter();\r\n\t\t\t\tout.write(&quot;data: welcome data&quot;+random);\r\n\t\t\t\tout.flush();\r\n\t\t\t\tout.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\nI am using STS(Spring tool Suits), I am wondering, when I am using ctrl+space on EventSource (source) object, in the options it only shows onopen() and onerror(), where is the onmessage().\r\n\r\nI will be highly appreciate, if I&#39;d get any response. --Thanks","title":"EventSource onmessage() is not working where onopen() and onerror() works properly?","body":"<p>check my code below, Here I have added three alert messages to each event type, but in this code source.onopen()[alert: readyState: 1] and source.onerror()[alert: readyState: 0] works properly but in case of onmessage() it is not executed.`</p>\n\n<pre><code>       if(typeof(EventSource) !== \"undefined\") {\n           var source = new EventSource('clinic/get');\n           source.onopen = function(){\n             alert('connection is opened.'+source.readyState);  \n           };\n\n           source.onerror = function(){\n               alert('error: '+source.readyState);\n           };\n\n           source.onmessage = function(datalist){\n\n               alert(\"message: \"+datalist.data);\n           };\n\n        } else {\n            document.getElementById(\"clinic-dtls\").innerHTML = \"Sorry, your browser does not support server-sent events...\";\n        }`\n</code></pre>\n\n<p>check the code below for the server side </p>\n\n<pre><code>Random random = new Random();\n        response.setContentType(\"text/event-stream\");\n        response.setCharacterEncoding(\"UTF-8\");\n        System.out.println(\"clinic/get got hit\");\n\n        try {\n            Writer out = response.getWriter();\n            out.write(\"data: welcome data\"+random);\n            out.flush();\n            out.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>I am using STS(Spring tool Suits), I am wondering, when I am using ctrl+space on EventSource (source) object, in the options it only shows onopen() and onerror(), where is the onmessage().</p>\n\n<p>I will be highly appreciate, if I'd get any response. --Thanks</p>\n"},{"tags":["java","gradle","code-generation","openapi"],"comments":[{"owner":{"account_id":1929128,"reputation":403,"user_id":1738936,"display_name":"vivekmore"},"score":0,"creation_date":1666610157,"post_id":74173621,"comment_id":130970204,"body_markdown":"Check if this post helps https://stackoverflow.com/questions/22505533/how-to-run-only-one-unit-test-class-using-gradle/31468902#31468902","body":"Check if this post helps <a href=\"https://stackoverflow.com/questions/22505533/how-to-run-only-one-unit-test-class-using-gradle/31468902#31468902\" title=\"how to run only one unit test class using gradle\">stackoverflow.com/questions/22505533/&hellip;</a>"},{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1666610331,"post_id":74173621,"comment_id":130970272,"body_markdown":"@vivekmore I want to **compile** and **run** a single test. Though this command only **runs** the specified test but **compiles** all of them.","body":"@vivekmore I want to <b>compile</b> and <b>run</b> a single test. Though this command only <b>runs</b> the specified test but <b>compiles</b> all of them."}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666623516,"creation_date":1666623516,"answer_id":74183091,"question_id":74173621,"body_markdown":"I figured out the solution. Firstly, I installed the [gradle-testsets-plugin](https://github.com/unbroken-dome/gradle-testsets-plugin).\r\n\r\nThen I configured a separate source set like this:\r\n\r\n```groovy\r\ntestSets {\r\n    generateOpenApiYml\r\n}\r\n```\r\n\r\nSo, `generateOpenApiYml` is the new Gradle task that looks for sources in `src/generatedOpenApiYml/java` directory.\r\n\r\nAfterwards, we need to tune all tasks of `test` type to bind them with JUnit 5 platform.\r\n\r\n```groovy\r\ntasks.withType(Test) {\r\n    group = &#39;verification&#39;\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        showExceptions true\r\n        showStandardStreams = false\r\n        showCauses true\r\n        showStackTraces true\r\n        exceptionFormat &quot;full&quot;\r\n        events(&quot;skipped&quot;, &quot;failed&quot;, &quot;passed&quot;)\r\n    }\r\n}\r\n\r\ngenerateOpenApiYml.outputs.upToDateWhen { false }\r\n```\r\n\r\nI put the `upToDateWhen` option for convenience to make sure the `generateOpenApiYml` task is always run on demand and never cached.\r\n\r\nThen I have the [open-api-generator](https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin).\r\n\r\n```groovy\r\nopenApiGenerate {\r\n    inputSpec = &quot;$buildDir/classes/java/generateOpenApiYml/open-api.json&quot;.toString()\r\n    outputDir = &quot;$buildDir/generated/openapi&quot;.toString()\r\n    apiPackage = &quot;...&quot;\r\n    invokerPackage = &quot;...&quot;\r\n    modelPackage = &quot;...&quot;\r\n    configOptions = [\r\n            dateLibrary    : &quot;java8&quot;,\r\n            openApiNullable: &quot;false&quot;,\r\n    ]\r\n    generatorName = &#39;java&#39;\r\n    groupId = &quot;...&quot;\r\n    globalProperties = [\r\n            modelDocs: &quot;false&quot;\r\n    ]\r\n    additionalProperties = [\r\n            hideGenerationTimestamp: true\r\n    ]\r\n}\r\n\r\ntasks.named(&#39;openApiGenerate&#39;) {\r\n    dependsOn generateOpenApiYml\r\n}\r\n```\r\n\r\nFinally, I just need to run two commands to build and run tests for my whole project.\r\n\r\n```shell\r\n./gradlew openApiGenerate\r\n./gradlew build\r\n```\r\n\r\nThe first one creates the `open-api.yml` file and generates Java client according to the provided specification. The second one runs tests and build the project normally. The tests running during the `build` phase uses classes generated by `openApiGenerate` task. Therefore, I can put them to `.gitignore` safely.\r\n\r\nHope this will be helpful.","title":"Gradle: compile and run a single test","body":"<p>I figured out the solution. Firstly, I installed the <a href=\"https://github.com/unbroken-dome/gradle-testsets-plugin\" rel=\"nofollow noreferrer\">gradle-testsets-plugin</a>.</p>\n<p>Then I configured a separate source set like this:</p>\n<pre><code>testSets {\n    generateOpenApiYml\n}\n</code></pre>\n<p>So, <code>generateOpenApiYml</code> is the new Gradle task that looks for sources in <code>src/generatedOpenApiYml/java</code> directory.</p>\n<p>Afterwards, we need to tune all tasks of <code>test</code> type to bind them with JUnit 5 platform.</p>\n<pre><code>tasks.withType(Test) {\n    group = 'verification'\n    useJUnitPlatform()\n    testLogging {\n        showExceptions true\n        showStandardStreams = false\n        showCauses true\n        showStackTraces true\n        exceptionFormat &quot;full&quot;\n        events(&quot;skipped&quot;, &quot;failed&quot;, &quot;passed&quot;)\n    }\n}\n\ngenerateOpenApiYml.outputs.upToDateWhen { false }\n</code></pre>\n<p>I put the <code>upToDateWhen</code> option for convenience to make sure the <code>generateOpenApiYml</code> task is always run on demand and never cached.</p>\n<p>Then I have the <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\" rel=\"nofollow noreferrer\">open-api-generator</a>.</p>\n<pre><code>openApiGenerate {\n    inputSpec = &quot;$buildDir/classes/java/generateOpenApiYml/open-api.json&quot;.toString()\n    outputDir = &quot;$buildDir/generated/openapi&quot;.toString()\n    apiPackage = &quot;...&quot;\n    invokerPackage = &quot;...&quot;\n    modelPackage = &quot;...&quot;\n    configOptions = [\n            dateLibrary    : &quot;java8&quot;,\n            openApiNullable: &quot;false&quot;,\n    ]\n    generatorName = 'java'\n    groupId = &quot;...&quot;\n    globalProperties = [\n            modelDocs: &quot;false&quot;\n    ]\n    additionalProperties = [\n            hideGenerationTimestamp: true\n    ]\n}\n\ntasks.named('openApiGenerate') {\n    dependsOn generateOpenApiYml\n}\n</code></pre>\n<p>Finally, I just need to run two commands to build and run tests for my whole project.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew openApiGenerate\n./gradlew build\n</code></pre>\n<p>The first one creates the <code>open-api.yml</code> file and generates Java client according to the provided specification. The second one runs tests and build the project normally. The tests running during the <code>build</code> phase uses classes generated by <code>openApiGenerate</code> task. Therefore, I can put them to <code>.gitignore</code> safely.</p>\n<p>Hope this will be helpful.</p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74183091,"answer_count":1,"score":0,"last_activity_date":1666623516,"creation_date":1666548883,"question_id":74173621,"body_markdown":"I have a separate task to run the test that generates `open-api.yml` specification for my application. Here is the Gradle configuration below:\r\n\r\n```groovy\r\ntask generateOpenApiYml(type: Test) {\r\n    group = &#39;verification&#39;\r\n    useJUnitPlatform {\r\n        includeTags &#39;openApi&#39;\r\n    }\r\n    testLogging {\r\n        showExceptions true\r\n        showStandardStreams = false\r\n        showCauses true\r\n        showStackTraces true\r\n        exceptionFormat &quot;full&quot;\r\n        events(&quot;skipped&quot;, &quot;failed&quot;, &quot;passed&quot;)\r\n    }\r\n}\r\n```\r\n\r\nSo, I have one test with `openApi` JUnit tag. It works very well, but there is a slight thing I want to approve.\r\n\r\nThe whole idea of this test is that the result `open-api.yml` file is used to generate Java client to invoke REST endpoints. This client is used in other tests in the project.\r\n\r\nI want to put those generated Java classes to `.gitgnore` because they are generated anyway and there is no need to index those files. The problem is that the `generateOpenApiYml` task compiles all the tests in `src/test/java` directory. Therefore, some of them use generated classes. Which leads to compiling errors.\r\n\r\nIs it possible to tune the `generateOpenApiYml` task to make it **compile** and **run** only the single test with `openApi` JUnit tag? Then I could easily put generated Java classes to `.gitignore` and don&#39;t bother about their temporary absence, because other tests won&#39;t be compiled.","title":"Gradle: compile and run a single test","body":"<p>I have a separate task to run the test that generates <code>open-api.yml</code> specification for my application. Here is the Gradle configuration below:</p>\n<pre><code>task generateOpenApiYml(type: Test) {\n    group = 'verification'\n    useJUnitPlatform {\n        includeTags 'openApi'\n    }\n    testLogging {\n        showExceptions true\n        showStandardStreams = false\n        showCauses true\n        showStackTraces true\n        exceptionFormat &quot;full&quot;\n        events(&quot;skipped&quot;, &quot;failed&quot;, &quot;passed&quot;)\n    }\n}\n</code></pre>\n<p>So, I have one test with <code>openApi</code> JUnit tag. It works very well, but there is a slight thing I want to approve.</p>\n<p>The whole idea of this test is that the result <code>open-api.yml</code> file is used to generate Java client to invoke REST endpoints. This client is used in other tests in the project.</p>\n<p>I want to put those generated Java classes to <code>.gitgnore</code> because they are generated anyway and there is no need to index those files. The problem is that the <code>generateOpenApiYml</code> task compiles all the tests in <code>src/test/java</code> directory. Therefore, some of them use generated classes. Which leads to compiling errors.</p>\n<p>Is it possible to tune the <code>generateOpenApiYml</code> task to make it <strong>compile</strong> and <strong>run</strong> only the single test with <code>openApi</code> JUnit tag? Then I could easily put generated Java classes to <code>.gitignore</code> and don't bother about their temporary absence, because other tests won't be compiled.</p>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":95302,"reputation":3910,"user_id":1392690,"accept_rate":79,"display_name":"JohnMerlino"},"score":0,"creation_date":1404260393,"post_id":24520559,"comment_id":37966695,"body_markdown":"With that knowledge, then it is pretty hard to create a multi-threaded console app, when multiple threads are using readline, there will be a lot of blocking and thus defeating the purpose of multithreaded.","body":"With that knowledge, then it is pretty hard to create a multi-threaded console app, when multiple threads are using readline, there will be a lot of blocking and thus defeating the purpose of multithreaded."}],"tags":[],"owner":{"account_id":1562954,"reputation":1027,"user_id":1452410,"display_name":"Ed Morales"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1404256676,"creation_date":1404256337,"answer_id":24520559,"question_id":24520431,"body_markdown":"Its cause the readLine() locks the Console object, so any other thread that tries to write on it waits for the lock to be free.\r\n\r\nCheck the docs for [Console][1]\r\n\r\nQuote from docs: \r\n\r\n&gt; Read and write operations are synchronized to guarantee the atomic\r\n&gt; completion of critical operations; therefore invoking methods\r\n&gt; readLine(), readPassword(), format(), printf() as well as the read,\r\n&gt; format and write operations on the objects returned by reader() and\r\n&gt; writer() **may block in multithreaded scenarios**.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Console.html#readLine()","title":"Using Java.io.Console.writer() Method in multiple threads","body":"<p>Its cause the readLine() locks the Console object, so any other thread that tries to write on it waits for the lock to be free.</p>\n\n<p>Check the docs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Console.html#readLine%28%29\" rel=\"nofollow\">Console</a></p>\n\n<p>Quote from docs: </p>\n\n<blockquote>\n  <p>Read and write operations are synchronized to guarantee the atomic\n  completion of critical operations; therefore invoking methods\n  readLine(), readPassword(), format(), printf() as well as the read,\n  format and write operations on the objects returned by reader() and\n  writer() <strong>may block in multithreaded scenarios</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":95302,"reputation":3910,"user_id":1392690,"accept_rate":79,"display_name":"JohnMerlino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24520559,"answer_count":1,"score":0,"last_activity_date":1666623138,"creation_date":1404255555,"question_id":24520431,"body_markdown":"I am getting unexpected behavior when using console.writer() in multiple threads. In the below example, when program starts, I spawn a second thread, which is supposed to print to the console &quot;Simulating Error.&quot; every second. Then the main thread is supposed to print to the console when you type something like &quot;get status 9999&quot;:\r\n\r\n    public class NewConsoleExample {\r\n    \tprivate volatile boolean running=true;\r\n    \tprivate Lock lock = new ReentrantLock();\r\n    \r\n    \t\r\n    \tpublic void startService(){\r\n    \t\tConsole cnsl = null;\r\n    \t      \r\n    \t      try{\r\n    \t         cnsl = System.console();\r\n    \r\n    \t         if (cnsl != null) {\r\n    \t            \r\n    \t        \t while(running){\r\n    \t\t        \t String input = cnsl.readLine(&quot;&lt;console&gt;: &quot;);\r\n    \t\t        \t String[] msg = input.split(&quot; &quot;);\r\n    \t\t        \t if(msg.length == 3){\r\n    \t\t        \t\t if(msg[0].equals(&quot;get&quot;)){\r\n    \t\t        \t\t\t lock.lock();\r\n    \t\t        \t\t\t cnsl.writer().println(input);\r\n    \t\t        \t\t\t lock.unlock();\r\n    \t\t        \t\t }\r\n    \t\t        \t }\r\n     \t\t        \t \r\n    \t        \t }\r\n    \r\n    \t         }      \r\n    \t      }catch(Exception ex){\r\n    \t         ex.printStackTrace();      \r\n    \t      }\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic void startThreadInterrupt(){\r\n    \t\tThread consoleInterrupt = new Thread(new Runnable(){\r\n    \t\t    public void run() {\r\n    \t\t    \tConsole cnsl = null;\r\n    \t\t    \t\r\n    \t\t    \ttry {\r\n    \t\t\t    \tcnsl = System.console();\r\n    \t\t\t    \tif (cnsl != null) {\r\n    \t\t\t\t\t\twhile(running){\r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tlock.lock();\r\n    \t\t\t\t\t\t\tcnsl.writer().println(&quot;Simulating Error.&quot;);\r\n    \t\t\t\t\t\t\tlock.unlock();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t    \t}\r\n    \t\t    \t} catch(Exception ex){\r\n    \t\t\t         ex.printStackTrace();      \r\n    \t\t\t    }\r\n    \r\n     \t\t    }           \r\n    \t\t});\r\n    \t\tconsoleInterrupt.start();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\t\t\r\n    \t\tNewConsoleExample console = new NewConsoleExample();\r\n    \t\tconsole.startThreadInterrupt();\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(2000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tconsole.startService();\r\n    \t}\r\n    \r\n    }\r\n\r\nInstead what happens is after &quot;Simulating Error&quot; is printed the first time, it is only ever printed again when you enter a pattern like &quot;get status 9999&quot;. These are two entirely different threads with different behavior. Why is the other thread printing &quot;Simulating Error&quot; only when the main thread gets input like &quot;get status 9999&quot;. The other thread should be printing &quot;Simulating Error&quot; every second regardless of what&#39;s going on in main thread.","title":"Using Java.io.Console.writer() Method in multiple threads","body":"<p>I am getting unexpected behavior when using console.writer() in multiple threads. In the below example, when program starts, I spawn a second thread, which is supposed to print to the console \"Simulating Error.\" every second. Then the main thread is supposed to print to the console when you type something like \"get status 9999\":</p>\n\n<pre><code>public class NewConsoleExample {\n    private volatile boolean running=true;\n    private Lock lock = new ReentrantLock();\n\n\n    public void startService(){\n        Console cnsl = null;\n\n          try{\n             cnsl = System.console();\n\n             if (cnsl != null) {\n\n                 while(running){\n                     String input = cnsl.readLine(\"&lt;console&gt;: \");\n                     String[] msg = input.split(\" \");\n                     if(msg.length == 3){\n                         if(msg[0].equals(\"get\")){\n                             lock.lock();\n                             cnsl.writer().println(input);\n                             lock.unlock();\n                         }\n                     }\n\n                 }\n\n             }      \n          }catch(Exception ex){\n             ex.printStackTrace();      \n          }\n    }\n\n\n    public void startThreadInterrupt(){\n        Thread consoleInterrupt = new Thread(new Runnable(){\n            public void run() {\n                Console cnsl = null;\n\n                try {\n                    cnsl = System.console();\n                    if (cnsl != null) {\n                        while(running){\n                            try {\n                                Thread.sleep(1000);\n                            } catch (InterruptedException e) {\n                                e.printStackTrace();\n                            }\n                            lock.lock();\n                            cnsl.writer().println(\"Simulating Error.\");\n                            lock.unlock();\n                        }\n                    }\n                } catch(Exception ex){\n                     ex.printStackTrace();      \n                }\n\n            }           \n        });\n        consoleInterrupt.start();\n    }\n\n    public static void main(String[] args) {        \n        NewConsoleExample console = new NewConsoleExample();\n        console.startThreadInterrupt();\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        console.startService();\n    }\n\n}\n</code></pre>\n\n<p>Instead what happens is after \"Simulating Error\" is printed the first time, it is only ever printed again when you enter a pattern like \"get status 9999\". These are two entirely different threads with different behavior. Why is the other thread printing \"Simulating Error\" only when the main thread gets input like \"get status 9999\". The other thread should be printing \"Simulating Error\" every second regardless of what's going on in main thread.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":2,"creation_date":1666546463,"post_id":74155698,"comment_id":130957846,"body_markdown":"On which OS does your Java run? Which version of POI do you use? Please share the access rights of both input files, the one that works and the one that doesn&#39;t.","body":"On which OS does your Java run? Which version of POI do you use? Please share the access rights of both input files, the one that works and the one that doesn&#39;t."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1666596772,"post_id":74155698,"comment_id":130965897,"body_markdown":"Are you talking about [this](https://support.microsoft.com/en-us/office/open-a-file-that-has-restricted-permissions-c7a70797-6b1e-493f-acf7-92a39b85e30c)? Something else? Whatever it is, if the file is protected, why are you surprised if POI fails to open it?","body":"Are you talking about <a href=\"https://support.microsoft.com/en-us/office/open-a-file-that-has-restricted-permissions-c7a70797-6b1e-493f-acf7-92a39b85e30c\" rel=\"nofollow noreferrer\">this</a>? Something else? Whatever it is, if the file is protected, why are you surprised if POI fails to open it?"},{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666599754,"post_id":74155698,"comment_id":130966820,"body_markdown":"@Markus unix OS. POI version is 5.2.2. Good and bad files have the same read/write permission.","body":"@Markus unix OS. POI version is 5.2.2. Good and bad files have the same read/write permission."},{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666601107,"post_id":74155698,"comment_id":130967282,"body_markdown":"@Oliver,  it&#39;s a permission policy that Office automatically add to downloaded files. We would like to avoid asking users to first remove this permission and then uploading it.","body":"@Oliver,  it&#39;s a permission policy that Office automatically add to downloaded files. We would like to avoid asking users to first remove this permission and then uploading it."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1666612055,"post_id":74155698,"comment_id":130970851,"body_markdown":"Download the Apache Tika app jar, run that with `--detect` on the troublesome file, and report what Tika thinks the file that can&#39;t be opened with Apache POI is?","body":"Download the Apache Tika app jar, run that with <code>--detect</code> on the troublesome file, and report what Tika thinks the file that can&#39;t be opened with Apache POI is?"},{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666614069,"post_id":74155698,"comment_id":130971526,"body_markdown":"@Gagravarr  here is first part of The full exception stack trace:\norg.apache.tika.exception.EncryptedDocumentException: DRM encrypted document is not yet supported by Apache POI\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:277)\n\tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficeParser.java:175)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298)\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298)\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:175)","body":"@Gagravarr  here is first part of The full exception stack trace: org.apache.tika.exception.EncryptedDocumentException: DRM encrypted document is not yet supported by Apache POI \tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficePa&zwnj;&#8203;rser.java:277) \tat org.apache.tika.parser.microsoft.OfficeParser.parse(OfficePa&zwnj;&#8203;rser.java:175) \tat org.apache.tika.parser.CompositeParser.parse(CompositeParser&zwnj;&#8203;.java:298) \tat org.apache.tika.parser.CompositeParser.parse(CompositeParser&zwnj;&#8203;.java:298) \tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectPars&zwnj;&#8203;er.java:175)"},{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666615972,"post_id":74155698,"comment_id":130972203,"body_markdown":"Trying to open the file in my personal laptop I&#39;m asked to insert email and password. I was not able to see this kind of protection since I was working on my business computer.","body":"Trying to open the file in my personal laptop I&#39;m asked to insert email and password. I was not able to see this kind of protection since I was working on my business computer."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1666619021,"post_id":74155698,"comment_id":130973395,"body_markdown":"That exception give you your answer - Apache POI has no support for the kind of encryption your document is using","body":"That exception give you your answer - Apache POI has no support for the kind of encryption your document is using"},{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":0,"creation_date":1666619434,"post_id":74155698,"comment_id":130973557,"body_markdown":"So you want to hack DRM encryption? Why should you want to? The user will have set this intentionally.","body":"So you want to hack DRM encryption? Why should you want to? The user will have set this intentionally."},{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666620341,"post_id":74155698,"comment_id":130973955,"body_markdown":"@Markus not at all! Users said that this kind of restriction policy was automatically applied on downloaded files. Anyway I will just suggest to change restriction before uploading files on the tool. thanks a lot for your help.","body":"@Markus not at all! Users said that this kind of restriction policy was automatically applied on downloaded files. Anyway I will just suggest to change restriction before uploading files on the tool. thanks a lot for your help."}],"answers":[{"comments":[{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666598593,"post_id":74172969,"comment_id":130966428,"body_markdown":"Thanks Markus for your answer! Changing code as you suggested brings the following InvalidFormatException: org.apache.poi.openxml4j.exceptions.InvalidFormatException: Package should contain a content type part [M1.13]\n\n \tat org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:178)\n\tat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:662)\n \tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:269)","body":"Thanks Markus for your answer! Changing code as you suggested brings the following InvalidFormatException: org.apache.poi.openxml4j.exceptions.InvalidFormatException: Package should contain a content type part [M1.13]   \tat org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPack&zwnj;&#8203;age.java:178) \tat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.&zwnj;&#8203;java:662)  \tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java&zwnj;&#8203;:269)"},{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":2,"creation_date":1666608904,"post_id":74172969,"comment_id":130969761,"body_markdown":"@eleguitar Until now I can&#39;t reproduce the error in my environment. Can you share an example document (original and uploaded version) or can you think of a reproducible way to create such document? Because if I simply copy an `xlsx` that definitely is marked with &quot;protected view&quot; from windows to linux and try to open it with `OPCPackage`, I don&#39;t have this issue. Can you please binary compare the two documents (original and uploaded) in order to rule out that the file gets currupted on upload? Or can you copy the same file w/o upload-mechanism and check if it can be opened?","body":"@eleguitar Until now I can&#39;t reproduce the error in my environment. Can you share an example document (original and uploaded version) or can you think of a reproducible way to create such document? Because if I simply copy an <code>xlsx</code> that definitely is marked with &quot;protected view&quot; from windows to linux and try to open it with <code>OPCPackage</code>, I don&#39;t have this issue. Can you please binary compare the two documents (original and uploaded) in order to rule out that the file gets currupted on upload? Or can you copy the same file w/o upload-mechanism and check if it can be opened?"},{"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"score":0,"creation_date":1666618488,"post_id":74172969,"comment_id":130973169,"body_markdown":"In order to repeat the exception it&#39;s suffice to open an xlsx, then go to File--&gt;Info--&gt;Protect Workbook --&gt;Restrict Access  and change into &quot;Restricted Access&quot;","body":"In order to repeat the exception it&#39;s suffice to open an xlsx, then go to File--&gt;Info--&gt;Protect Workbook --&gt;Restrict Access  and change into &quot;Restricted Access&quot;"}],"tags":[],"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666621732,"creation_date":1666543341,"answer_id":74172969,"question_id":74155698,"body_markdown":"There is a difference between `ZipFile` and `ZipInputStream` implementation. Please try:\r\n```java\r\nFile file = new File(excelPath);\r\nFileInputStream input = new FileInputStream(file);\r\nopcPkg = OPCPackage.open(input);\r\n```\r\n**Update:**\r\n\r\n[IRM restricted documents](https://support.microsoft.com/en-us/office/restrict-access-to-documents-with-information-rights-management-in-word-94aa8ab1-465e-42d7-a323-d61f911b2d0f) / [AD RMS](https://en.wikipedia.org/wiki/Active_Directory_Rights_Management_Services) of course can not be opened by Apache POI. This is a microsoft specific feature that needs access to licensing server / Active Directory. I never heard of any implementation that integrates this on linux.","title":"Issues when trying to open an xlsx restricted file: org.apache.poi.openxml4j.exceptions.InvalidOperationException","body":"<p>There is a difference between <code>ZipFile</code> and <code>ZipInputStream</code> implementation. Please try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(excelPath);\nFileInputStream input = new FileInputStream(file);\nopcPkg = OPCPackage.open(input);\n</code></pre>\n<p><strong>Update:</strong></p>\n<p><a href=\"https://support.microsoft.com/en-us/office/restrict-access-to-documents-with-information-rights-management-in-word-94aa8ab1-465e-42d7-a323-d61f911b2d0f\" rel=\"nofollow noreferrer\">IRM restricted documents</a> / <a href=\"https://en.wikipedia.org/wiki/Active_Directory_Rights_Management_Services\" rel=\"nofollow noreferrer\">AD RMS</a> of course can not be opened by Apache POI. This is a microsoft specific feature that needs access to licensing server / Active Directory. I never heard of any implementation that integrates this on linux.</p>\n"}],"owner":{"account_id":5548859,"reputation":3,"user_id":13885612,"display_name":"eleguitar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74172969,"answer_count":1,"score":0,"last_activity_date":1666621732,"creation_date":1666365068,"question_id":74155698,"body_markdown":"I have a big issue on a Java tool I work with.\r\nEvery time I try to upload an xlsx file that is marked as &quot;Restricted with protection&quot;, I got the same exception \r\n\r\n           **org.apache.poi.openxml4j.exceptions.InvalidOperationException: Can&#39;t open the \r\n                                     specified file: &#39;C:/bea/test.xslx&#39;**\r\n\r\n \t       **at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)**\r\n\r\n\t       **at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:221)**\r\n\r\n\r\n\r\n           **Caused by: java.util.zip.ZipException: error in opening zip file**\r\n\r\n\t      **at java.util.zip.ZipFile.open(Native Method)\r\n \t        at java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\r\n\t        at java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\r\n \t        at java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\r\n \t        at org.apache.poi.openxml4j.opc.internal.ZipHelper.openZipFile(ZipHelper.java:174)\r\n\t        at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:104)\r\n \t        ... 6 more**\r\n\r\n\r\nThere is no password on that excel file, it&#39;s just an upgrade of MS office that apply this kind of restriction for every file that is downloaded from the Internet. If I change it into &quot;Unlimited access&quot; everything is fine.\r\n\r\nThe java tool first create a copy of the excel file I try to upload in a temporary path. The file is correctly created (as the original one) into *excelPath*.\r\nThe exception is caught at this line\r\n\r\n                          opcPkg = OPCPackage.open(excelPath, PackageAccess.READ); \r\n\r\nI tried to change the PackageAccess into READ_WRITE, but nothing has changed.\r\nThe tool I&#39;m working with is Java 8 based, it&#39;s built with Ant and runs on Jboss EAP 7.2.\r\n\r\n--EDIT--\r\nThanks to @Markus and @Gagravarr I found there is a sort of encryption on that file that allows only selected people to open the document (ie. trying to open it in my personal laptop I&#39;m asked to insert email and password to open it).   \r\nIn order to repeat the exception it&#39;s suffice to open an xlsx, then go to File--&gt;Info--&gt;Protect Workbook --&gt;Restrict Access  and change into &quot;Restricted Access&quot; as shown below\r\n\r\n[Restriction][1]                                             \r\n------------\r\n\r\n\r\nIs anyone familiar with this kind of issue? Is it possible to bypass this kind of restriction and open the document in java? \r\nAny hint would be really appreciated!\r\nThanks a lot in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D0eoA.png","title":"Issues when trying to open an xlsx restricted file: org.apache.poi.openxml4j.exceptions.InvalidOperationException","body":"<p>I have a big issue on a Java tool I work with.\nEvery time I try to upload an xlsx file that is marked as &quot;Restricted with protection&quot;, I got the same exception</p>\n<pre><code>       **org.apache.poi.openxml4j.exceptions.InvalidOperationException: Can't open the \n                                 specified file: 'C:/bea/test.xslx'**\n\n       **at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)**\n\n       **at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:221)**\n\n\n\n       **Caused by: java.util.zip.ZipException: error in opening zip file**\n\n      **at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\n        at java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\n        at java.util.zip.ZipFile.&lt;init&gt;(Unknown Source)\n        at org.apache.poi.openxml4j.opc.internal.ZipHelper.openZipFile(ZipHelper.java:174)\n        at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:104)\n        ... 6 more**\n</code></pre>\n<p>There is no password on that excel file, it's just an upgrade of MS office that apply this kind of restriction for every file that is downloaded from the Internet. If I change it into &quot;Unlimited access&quot; everything is fine.</p>\n<p>The java tool first create a copy of the excel file I try to upload in a temporary path. The file is correctly created (as the original one) into <em>excelPath</em>.\nThe exception is caught at this line</p>\n<pre><code>                      opcPkg = OPCPackage.open(excelPath, PackageAccess.READ); \n</code></pre>\n<p>I tried to change the PackageAccess into READ_WRITE, but nothing has changed.\nThe tool I'm working with is Java 8 based, it's built with Ant and runs on Jboss EAP 7.2.</p>\n<p>--EDIT--\nThanks to @Markus and @Gagravarr I found there is a sort of encryption on that file that allows only selected people to open the document (ie. trying to open it in my personal laptop I'm asked to insert email and password to open it).<br />\nIn order to repeat the exception it's suffice to open an xlsx, then go to File--&gt;Info--&gt;Protect Workbook --&gt;Restrict Access  and change into &quot;Restricted Access&quot; as shown below</p>\n<h2><a href=\"https://i.stack.imgur.com/D0eoA.png\" rel=\"nofollow noreferrer\">Restriction</a></h2>\n<p>Is anyone familiar with this kind of issue? Is it possible to bypass this kind of restriction and open the document in java?\nAny hint would be really appreciated!\nThanks a lot in advance.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666621595,"creation_date":1666367823,"answer_id":74156260,"question_id":74151375,"body_markdown":"You must activate your profile using property `spring.profiles.active`\r\n\r\n&gt; If you have database settings to be loaded from a particular profile\r\n&gt; you may need to activate it (no profiles are currently active).\r\n\r\nRead [set the active Spring profiles](https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/howto-properties-and-configuration.html#howto-set-active-spring-profiles) to see how to do it","title":"When restarting Spring Boot I see &#39;no profiles are currently active&#39;","body":"<p>You must activate your profile using property <code>spring.profiles.active</code></p>\n<blockquote>\n<p>If you have database settings to be loaded from a particular profile\nyou may need to activate it (no profiles are currently active).</p>\n</blockquote>\n<p>Read <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/howto-properties-and-configuration.html#howto-set-active-spring-profiles\" rel=\"nofollow noreferrer\">set the active Spring profiles</a> to see how to do it</p>\n"}],"owner":{"account_id":26690951,"reputation":1,"user_id":20299533,"display_name":"fxt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666621595,"creation_date":1666343504,"question_id":74151375,"body_markdown":"My Spring Boot version is 2.3.4-RELEASE. I configure DataSource this way in application-dev.yml:\r\n\r\n\r\n\r\n    spring:\r\n      profiles: dev\r\n      datasource:\r\n        master:\r\n          driver-class-name: com.mysql.jdbc.Driver\r\n          url: myUrl\r\n        slave:\r\n          driver-class-name: com.mysql.jdbc.Driver\r\n          url: myUrl\r\n\r\n\r\nWhen I activate the &#39;dev&#39; profile, I can start my Spring Boot container successfully, but when I restart it, I get this error:\r\n\r\n&gt; Description:\r\n&gt; Failed to configure a DataSource: &#39;url&#39; attribute is not specified and\r\n&gt; no embedded datasource could be configured.\r\n&gt; \r\n&gt; Reason: \r\n&gt; Failed to determine a suitable driver class\r\n&gt; \r\n&gt; Action:\r\n&gt; Consider the following:\r\n&gt;     If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n&gt;     If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently\r\n&gt; active).\r\n\r\nI tried to add the config: *spring.datasource.url*. It works, but I need to distinguish master and slave. How can I do that? ","title":"When restarting Spring Boot I see &#39;no profiles are currently active&#39;","body":"<p>My Spring Boot version is 2.3.4-RELEASE. I configure DataSource this way in application-dev.yml:</p>\n<pre><code>spring:\n  profiles: dev\n  datasource:\n    master:\n      driver-class-name: com.mysql.jdbc.Driver\n      url: myUrl\n    slave:\n      driver-class-name: com.mysql.jdbc.Driver\n      url: myUrl\n</code></pre>\n<p>When I activate the 'dev' profile, I can start my Spring Boot container successfully, but when I restart it, I get this error:</p>\n<blockquote>\n<p>Description:\nFailed to configure a DataSource: 'url' attribute is not specified and\nno embedded datasource could be configured.</p>\n<p>Reason:\nFailed to determine a suitable driver class</p>\n<p>Action:\nConsider the following:\nIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\nIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently\nactive).</p>\n</blockquote>\n<p>I tried to add the config: <em>spring.datasource.url</em>. It works, but I need to distinguish master and slave. How can I do that?</p>\n"},{"tags":["java","spring","spring-boot","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666285649,"creation_date":1666285649,"answer_id":74143750,"question_id":74143602,"body_markdown":"You can simply pass in an in-memory meter registry for unit testing. I don’t remember the class name, but Micrometer comes with one. \r\nYour code needs to be designed to accept the registry, not create it.\r\n\r\nBecause the whole purpose of Micrometer is to integrate with your chosen backend (like Graphite), there aren’t a lot of benefits to be had purely from unit testing. Apart of just creating the metrics, you need to check that those are linearized if your backend doesn’t support tags, and other things like client-side histograms if those are enabled.\r\nWhat I do myself and recommend is integration testing. Here are the general steps:\r\n 1. Create an in-memory meter registry; The registry should be a bean, not a static variable, and you can replace it for testing very easily.\r\n 2. Mock the sender for your backend, like `GraphiteSender` if I remember the name correctly, and use the mock to verify that metrics being sent.","title":"Micrometer Unit Test Java","body":"<p>You can simply pass in an in-memory meter registry for unit testing. I don’t remember the class name, but Micrometer comes with one.\nYour code needs to be designed to accept the registry, not create it.</p>\n<p>Because the whole purpose of Micrometer is to integrate with your chosen backend (like Graphite), there aren’t a lot of benefits to be had purely from unit testing. Apart of just creating the metrics, you need to check that those are linearized if your backend doesn’t support tags, and other things like client-side histograms if those are enabled.\nWhat I do myself and recommend is integration testing. Here are the general steps:</p>\n<ol>\n<li>Create an in-memory meter registry; The registry should be a bean, not a static variable, and you can replace it for testing very easily.</li>\n<li>Mock the sender for your backend, like <code>GraphiteSender</code> if I remember the name correctly, and use the mock to verify that metrics being sent.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":48082,"reputation":509,"user_id":142673,"display_name":"brisssou"},"score":1,"creation_date":1694698332,"post_id":74182551,"comment_id":135927774,"body_markdown":"Where is `then` coming from?","body":"Where is <code>then</code> coming from?"},{"owner":{"account_id":12212238,"reputation":2370,"user_id":8913704,"accept_rate":100,"display_name":"Artem"},"score":0,"creation_date":1701081890,"post_id":74182551,"comment_id":136726540,"body_markdown":"@brisssou most likely from AssertJ","body":"@brisssou most likely from AssertJ"}],"tags":[],"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666621327,"creation_date":1666621327,"answer_id":74182551,"question_id":74143602,"body_markdown":"One way of writing a test for this scenario is to utilize the `SimpleMeterRegistry` by adding it to the `globalRegistry`, fetch the `Counter` and then test the expected behaviour.\r\n\r\nExample snippet:\r\n\r\n    private MeterRegistry meterRegistry;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n      meterRegistry = new SimpleMeterRegistry();\r\n      Metrics.globalRegistry.add(meterRegistry);\r\n    }\r\n  \r\n    @AfterEach\r\n    void tearDown() {\r\n      meterRegistry.clear();\r\n      Metrics.globalRegistry.clear();\r\n    }\r\n\r\n    @Test\r\n    void testCreateCounterAndIncrement() {\r\n      // When\r\n      MicroMeter.createCounterAndIncrement(&quot;meterName&quot;, Map.of(&quot;key&quot;, &quot;val&quot;));\r\n\r\n      // Then\r\n      var counter = meterRegistry.find(&quot;meterName&quot;).counter();\r\n      then(counter).isNotNull();\r\n      then(counter.count()).isEqualTo(1);\r\n      then(counter.getId().getTag(&quot;key&quot;)).isEqualTo(&quot;val&quot;);\r\n     }","title":"Micrometer Unit Test Java","body":"<p>One way of writing a test for this scenario is to utilize the <code>SimpleMeterRegistry</code> by adding it to the <code>globalRegistry</code>, fetch the <code>Counter</code> and then test the expected behaviour.</p>\n<p>Example snippet:</p>\n<pre><code>private MeterRegistry meterRegistry;\n\n@BeforeEach\nvoid setUp() {\n  meterRegistry = new SimpleMeterRegistry();\n  Metrics.globalRegistry.add(meterRegistry);\n}\n\n@AfterEach\nvoid tearDown() {\n  meterRegistry.clear();\n  Metrics.globalRegistry.clear();\n}\n\n@Test\nvoid testCreateCounterAndIncrement() {\n  // When\n  MicroMeter.createCounterAndIncrement(&quot;meterName&quot;, Map.of(&quot;key&quot;, &quot;val&quot;));\n\n  // Then\n  var counter = meterRegistry.find(&quot;meterName&quot;).counter();\n  then(counter).isNotNull();\n  then(counter.count()).isEqualTo(1);\n  then(counter.getId().getTag(&quot;key&quot;)).isEqualTo(&quot;val&quot;);\n }\n</code></pre>\n"}],"owner":{"account_id":25287638,"reputation":93,"user_id":19114283,"display_name":"Firdosh Alia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4744,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1666621327,"creation_date":1666284841,"question_id":74143602,"body_markdown":"I have created a Micrometer class where counters are created and incremented. How to write unit test cases for the public method and avoid registering or sending the events to micrometer.\r\n\r\n    public class MicroMeter {\r\n    private static final MeterRegistry registry = Metrics.globalRegistry;\r\n    private Counter createCounter(final String meterName, Map&lt;String, String&gt; mp) {\r\n\r\n        List&lt;Tag&gt; tags = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;String, String&gt; entry : mp.entrySet()) {\r\n            tags.add(Tag.of(entry.getKey(), entry.getValue()));\r\n        }\r\n        return Counter\r\n                .builder(meterName)\r\n                .tags(tags)\r\n                .register(registry);\r\n    }\r\n\r\n    private void incrementCounter(Counter counter)  {\r\n            counter.increment();\r\n    }\r\n\r\n    public static void createCounterAndIncrement(final String meterName, Map&lt;String, String&gt; mp){\r\n        MicroMeter microMeter = new MicroMeter();\r\n        Counter counter = microMeter.createCounter(meterName, dimensions);\r\n        microMeter.incrementCounter(counter);\r\n    }\r\n}","title":"Micrometer Unit Test Java","body":"<p>I have created a Micrometer class where counters are created and incremented. How to write unit test cases for the public method and avoid registering or sending the events to micrometer.</p>\n<pre><code>public class MicroMeter {\nprivate static final MeterRegistry registry = Metrics.globalRegistry;\nprivate Counter createCounter(final String meterName, Map&lt;String, String&gt; mp) {\n\n    List&lt;Tag&gt; tags = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;String, String&gt; entry : mp.entrySet()) {\n        tags.add(Tag.of(entry.getKey(), entry.getValue()));\n    }\n    return Counter\n            .builder(meterName)\n            .tags(tags)\n            .register(registry);\n}\n\nprivate void incrementCounter(Counter counter)  {\n        counter.increment();\n}\n\npublic static void createCounterAndIncrement(final String meterName, Map&lt;String, String&gt; mp){\n    MicroMeter microMeter = new MicroMeter();\n    Counter counter = microMeter.createCounter(meterName, dimensions);\n    microMeter.incrementCounter(counter);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1666377746,"post_id":74157941,"comment_id":130931071,"body_markdown":"How is XML involved?","body":"How is XML involved?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1666377965,"post_id":74157941,"comment_id":130931146,"body_markdown":"The more I look at the code the more confused I get. It currently iterates a single time and ignores the &quot;cumulative&quot; flags (`foundXxx`). Did you mean to set the appropriate flag `true` if the char type is found, then at the very end make sure all flags are `true`?","body":"The more I look at the code the more confused I get. It currently iterates a single time and ignores the &quot;cumulative&quot; flags (<code>foundXxx</code>). Did you mean to set the appropriate flag <code>true</code> if the char type is found, then at the very end make sure all flags are <code>true</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2279615,"reputation":817,"user_id":2005054,"accept_rate":77,"display_name":"Devian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666378546,"creation_date":1666378546,"answer_id":74158095,"question_id":74157941,"body_markdown":"You&#39;re iterating through a string and on every character you&#39;re performing these checks. That means effectively that you will always have at least one error because a single character cannot possibly be upper case, lower case, digit and special.\r\nYou&#39;re returning from your for loop on the first character. So all your code checks is the first character.\r\n\r\nWhat you need to do is to set your flags inside the loop, and make the evaluation outside of the loop.\r\n\r\nWith a small refactor on your existing code, this should work.\r\nThis will display a single Toast for a single issue.\r\n\r\n\r\n```java\r\nboolean checkPasswordComplexity(final String pw) {\r\n    boolean foundUpperCase, foundLowerCase, foundNumber, foundSpecial;\r\n    foundUpperCase = foundLowerCase = foundNumber = foundSpecial = false;\r\n    for (int i = 0; i &lt; pw.length(); i++) {\r\n        final char c = pw.charAt(i);\r\n        if (Character.isUpperCase(c)) {\r\n            foundUpperCase = true;\r\n        } else if (Character.isLowerCase(c)) {\r\n            foundLowerCase = true;\r\n        } else if (Character.isDigit(c)) {\r\n            foundNumber = true;\r\n        } else if (isSpecialCharacter(c)) {\r\n            foundSpecial = true;\r\n        }\r\n    }\r\n    if (!foundUpperCase) {\r\n        Toast.makeText(getApplicationContext(), &quot;Missing an upper case letter!&quot;, Toast.LENGTH_LONG).show();\r\n    } else if (!foundLowerCase) {\r\n        Toast.makeText(getApplicationContext(), &quot;Missing a lower case letter!&quot;, Toast.LENGTH_LONG).show();\r\n    } else if (!foundNumber) {\r\n        Toast.makeText(getApplicationContext(), &quot;Missing a number!&quot;, Toast.LENGTH_LONG).show();\r\n    } else if (!foundSpecial) {\r\n        Toast.makeText(getApplicationContext(), &quot;Missing a special character&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n    return foundSpecial &amp;&amp; foundNumber &amp;&amp; foundLowerCase &amp;&amp; foundUpperCase;\r\n}\r\n```","title":"Making a password checker in XML (Android Studio)","body":"<p>You're iterating through a string and on every character you're performing these checks. That means effectively that you will always have at least one error because a single character cannot possibly be upper case, lower case, digit and special.\nYou're returning from your for loop on the first character. So all your code checks is the first character.</p>\n<p>What you need to do is to set your flags inside the loop, and make the evaluation outside of the loop.</p>\n<p>With a small refactor on your existing code, this should work.\nThis will display a single Toast for a single issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean checkPasswordComplexity(final String pw) {\n    boolean foundUpperCase, foundLowerCase, foundNumber, foundSpecial;\n    foundUpperCase = foundLowerCase = foundNumber = foundSpecial = false;\n    for (int i = 0; i &lt; pw.length(); i++) {\n        final char c = pw.charAt(i);\n        if (Character.isUpperCase(c)) {\n            foundUpperCase = true;\n        } else if (Character.isLowerCase(c)) {\n            foundLowerCase = true;\n        } else if (Character.isDigit(c)) {\n            foundNumber = true;\n        } else if (isSpecialCharacter(c)) {\n            foundSpecial = true;\n        }\n    }\n    if (!foundUpperCase) {\n        Toast.makeText(getApplicationContext(), &quot;Missing an upper case letter!&quot;, Toast.LENGTH_LONG).show();\n    } else if (!foundLowerCase) {\n        Toast.makeText(getApplicationContext(), &quot;Missing a lower case letter!&quot;, Toast.LENGTH_LONG).show();\n    } else if (!foundNumber) {\n        Toast.makeText(getApplicationContext(), &quot;Missing a number!&quot;, Toast.LENGTH_LONG).show();\n    } else if (!foundSpecial) {\n        Toast.makeText(getApplicationContext(), &quot;Missing a special character&quot;, Toast.LENGTH_LONG).show();\n    }\n    return foundSpecial &amp;&amp; foundNumber &amp;&amp; foundLowerCase &amp;&amp; foundUpperCase;\n}\n</code></pre>\n"}],"owner":{"account_id":26695868,"reputation":1,"user_id":20303745,"display_name":"esalko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666621110,"creation_date":1666377556,"question_id":74157941,"body_markdown":"So I&#39;m a beginner in XML/Android and trying to make a password checker in Android Studio. Logically and syntactically, this seems like it should work to me, but it&#39;s only calling the first Toast, whether or not I have an upper case in the password. \r\n\r\n```lang-java\r\nboolean checkPasswordComplexity(String pw) {\r\n  boolean foundUpperCase, foundLowerCase, foundNumber, foundSpecial;\r\n  foundUpperCase = foundLowerCase = foundNumber = foundSpecial = false;\r\n  char c = 0;\r\n\r\n  for (int i = 0; i &lt; pw.length(); i++) {\r\n    c = pw.charAt(i);\r\n    if(!Character.isUpperCase(c)) {\r\n      Toast.makeText(getApplicationContext(),&quot;Missing an upper case letter!&quot;, Toast.LENGTH_LONG).show();\r\n      return false;\r\n    } else if (!Character.isLowerCase(c)) {\r\n      Toast.makeText(getApplicationContext(),&quot;Missing a lower case letter!&quot;, Toast.LENGTH_LONG).show();\r\n      return false;\r\n    } else if (!Character.isDigit(c)) {\r\n      Toast.makeText(getApplicationContext(),&quot;Missing a number!&quot;, Toast.LENGTH_LONG).show();\r\n      return false;\r\n    } else if (!isSpecialCharacter(c)) {\r\n      Toast.makeText(getApplicationContext(),&quot;Missing a special character&quot;, Toast.LENGTH_LONG).show();\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n```","title":"Making a password checker in XML (Android Studio)","body":"<p>So I'm a beginner in XML/Android and trying to make a password checker in Android Studio. Logically and syntactically, this seems like it should work to me, but it's only calling the first Toast, whether or not I have an upper case in the password.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean checkPasswordComplexity(String pw) {\n  boolean foundUpperCase, foundLowerCase, foundNumber, foundSpecial;\n  foundUpperCase = foundLowerCase = foundNumber = foundSpecial = false;\n  char c = 0;\n\n  for (int i = 0; i &lt; pw.length(); i++) {\n    c = pw.charAt(i);\n    if(!Character.isUpperCase(c)) {\n      Toast.makeText(getApplicationContext(),&quot;Missing an upper case letter!&quot;, Toast.LENGTH_LONG).show();\n      return false;\n    } else if (!Character.isLowerCase(c)) {\n      Toast.makeText(getApplicationContext(),&quot;Missing a lower case letter!&quot;, Toast.LENGTH_LONG).show();\n      return false;\n    } else if (!Character.isDigit(c)) {\n      Toast.makeText(getApplicationContext(),&quot;Missing a number!&quot;, Toast.LENGTH_LONG).show();\n      return false;\n    } else if (!isSpecialCharacter(c)) {\n      Toast.makeText(getApplicationContext(),&quot;Missing a special character&quot;, Toast.LENGTH_LONG).show();\n      return false;\n    } else {\n      return true;\n    }\n  }\n  return true;\n}\n</code></pre>\n"},{"tags":["java","serialization","objectmapper"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666624646,"post_id":74182417,"comment_id":130975774,"body_markdown":"(personally: i prefer new output :), root cause obviously: jackson-upgrade :), how to resolve/workaround: tried &quot;custom entry&quot; (not extending Map.Entry...)?","body":"(personally: i prefer new output :), root cause obviously: jackson-upgrade :), how to resolve/workaround: tried &quot;custom entry&quot; (not extending Map.Entry...)?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666625816,"post_id":74182417,"comment_id":130976168,"body_markdown":"The new `ObjectMapper` probably does this because you use a class that implements `Map.Entry`. Try creating a separate class with properties `key` and `value` instead. If you&#39;re using Java 17 that can as simple as `public record Param (String key, String value) {}`.","body":"The new <code>ObjectMapper</code> probably does this because you use a class that implements <code>Map.Entry</code>. Try creating a separate class with properties <code>key</code> and <code>value</code> instead. If you&#39;re using Java 17 that can as simple as <code>public record Param (String key, String value) {}</code>."},{"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"score":0,"creation_date":1666627201,"post_id":74182417,"comment_id":130976635,"body_markdown":"If it was my personal project perhaps I would use a new way of serialization. In contrast, the serialization of the object in the new approach must be identical to the previous one because of the many dependencies that will use it. At the same time, I would not want to expose myself to potential backward compatibility problems. Ahh, the charms of legacy. It&#39;s java 11 under the hood @RobSpoor","body":"If it was my personal project perhaps I would use a new way of serialization. In contrast, the serialization of the object in the new approach must be identical to the previous one because of the many dependencies that will use it. At the same time, I would not want to expose myself to potential backward compatibility problems. Ahh, the charms of legacy. It&#39;s java 11 under the hood @RobSpoor"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666620646,"creation_date":1666620646,"question_id":74182417,"body_markdown":"Recently I had to update ```ObjectMapper``` dependencies in my project and I faced strange behaviour of ObjectMapper serialization for nested objects, namely, for object `PostUrl` and legacy `codehaus` dependency serialization works correctly, from object PostUrl with structure: \r\n[![PostUrl][1]][1]\r\n\r\nI receive serialization results as: \r\n```\r\n{\r\n  &quot;url&quot;: &quot;https://example.com/&quot;,\r\n  &quot;params&quot;: [\r\n    {\r\n      &quot;key&quot;: &quot;methodData&quot;,\r\n      &quot;value&quot;: &quot;value&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nProblem is that for the new `Jackson` `ObjectMapper` and the same input object `PostUrl` serialization returns:\r\n\r\n```\r\n{\r\n  &quot;url&quot;: &quot;https://example.com/&quot;,\r\n  &quot;params&quot;: [\r\n    {\r\n      &quot;methodData&quot;: &quot;value&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nMy object ```PostUrl``` structure looks like the below: \r\n\r\n```\r\npublic class PostUrl {\r\n\r\n    private String url;\r\n    private List&lt;SimpleEntry&lt;String, String&gt;&gt; params = new ArrayList&lt;&gt;();\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public List&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; getParams() {\r\n        return params;\r\n    }\r\n\r\n    public void setParams(List&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; params) {\r\n        this.params = params;\r\n    }\r\n}\r\n```\r\n\r\nMy ```ObjectMapper``` configuration looks like this:\r\n\r\n```\r\nobjectMapper.registerModule(new JodaModule())\r\n```\r\n\r\nI am confused why the new Jackson cannot handle nested objects as the previous version did. I tried to attach `@JsonProperty` on the field to point to the correct field but it didn&#39;t bring a desirable effect. I assume that maybe I need to register some module or attach additional config for my `ObjectMapper` but till now I didn&#39;t find out what is the root cause. I will be grateful for suggestions on how to resolve this issue. Cheers! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4W1hc.png","title":"Codehaus and Jackson ObjectMappers serialisations differences for nested object","body":"<p>Recently I had to update <code>ObjectMapper</code> dependencies in my project and I faced strange behaviour of ObjectMapper serialization for nested objects, namely, for object <code>PostUrl</code> and legacy <code>codehaus</code> dependency serialization works correctly, from object PostUrl with structure:\n<a href=\"https://i.stack.imgur.com/4W1hc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4W1hc.png\" alt=\"PostUrl\" /></a></p>\n<p>I receive serialization results as:</p>\n<pre><code>{\n  &quot;url&quot;: &quot;https://example.com/&quot;,\n  &quot;params&quot;: [\n    {\n      &quot;key&quot;: &quot;methodData&quot;,\n      &quot;value&quot;: &quot;value&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Problem is that for the new <code>Jackson</code> <code>ObjectMapper</code> and the same input object <code>PostUrl</code> serialization returns:</p>\n<pre><code>{\n  &quot;url&quot;: &quot;https://example.com/&quot;,\n  &quot;params&quot;: [\n    {\n      &quot;methodData&quot;: &quot;value&quot;\n    }\n  ]\n}\n</code></pre>\n<p>My object <code>PostUrl</code> structure looks like the below:</p>\n<pre><code>public class PostUrl {\n\n    private String url;\n    private List&lt;SimpleEntry&lt;String, String&gt;&gt; params = new ArrayList&lt;&gt;();\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public List&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; getParams() {\n        return params;\n    }\n\n    public void setParams(List&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; params) {\n        this.params = params;\n    }\n}\n</code></pre>\n<p>My <code>ObjectMapper</code> configuration looks like this:</p>\n<pre><code>objectMapper.registerModule(new JodaModule())\n</code></pre>\n<p>I am confused why the new Jackson cannot handle nested objects as the previous version did. I tried to attach <code>@JsonProperty</code> on the field to point to the correct field but it didn't bring a desirable effect. I assume that maybe I need to register some module or attach additional config for my <code>ObjectMapper</code> but till now I didn't find out what is the root cause. I will be grateful for suggestions on how to resolve this issue. Cheers!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1497854114,"post_id":44623615,"comment_id":76232924,"body_markdown":"you just started with the wrong data type to understand that... arrays!  use another type and for Arrays there is an special way to do that, use the method ***Arrays.equals(a, a2)***","body":"you just started with the wrong data type to understand that... arrays!  use another type and for Arrays there is an special way to do that, use the method <b><i>Arrays.equals(a, a2)</i></b>"},{"owner":{"account_id":3695702,"reputation":12521,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1497854155,"post_id":44623615,"comment_id":76232949,"body_markdown":"Here the explanation http://www.geeksforgeeks.org/compare-two-arrays-java/","body":"Here the explanation <a href=\"http://www.geeksforgeeks.org/compare-two-arrays-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/compare-two-arrays-java</a>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1497854184,"post_id":44623615,"comment_id":76232967,"body_markdown":"Arrays do not override equals(), so they inherit the default behavior defined by the Object class, which is that equals() works just as == does. The distinction is only meaningful for classes that override equals().","body":"Arrays do not override equals(), so they inherit the default behavior defined by the Object class, which is that equals() works just as == does. The distinction is only meaningful for classes that override equals()."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":3,"creation_date":1497854449,"post_id":44623615,"comment_id":76233094,"body_markdown":"Surely this is a duplicate.","body":"Surely this is a duplicate."},{"owner":{"display_name":"user8012887"},"score":0,"creation_date":1497856134,"post_id":44623615,"comment_id":76234115,"body_markdown":"I have someone the answer points but I only get the == part, if .equals is checking the content, how come the code didnt print &quot;same&quot; for the second if :&lt;","body":"I have someone the answer points but I only get the == part, if .equals is checking the content, how come the code didnt print &quot;same&quot; for the second if :&lt;"}],"answers":[{"comments":[{"owner":{"display_name":"user8012887"},"score":0,"creation_date":1497856059,"post_id":44623690,"comment_id":76234072,"body_markdown":"I know this is the answer but im still so confused . I get the == part I dont get the .equals however still","body":"I know this is the answer but im still so confused . I get the == part I dont get the .equals however still"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1497856311,"post_id":44623690,"comment_id":76234220,"body_markdown":"@LiveStream: I&#39;ve added an example and a bit more explanation, hope that helps.","body":"@LiveStream: I&#39;ve added an example and a bit more explanation, hope that helps."},{"owner":{"display_name":"user8012887"},"score":0,"creation_date":1497856480,"post_id":44623690,"comment_id":76234311,"body_markdown":"ok so the equals method only checks if things are equal to each others content right?So how come my array didnt give me a result of it being true. they both contain the same information","body":"ok so the equals method only checks if things are equal to each others content right?So how come my array didnt give me a result of it being true. they both contain the same information"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1497856547,"post_id":44623690,"comment_id":76234351,"body_markdown":"@LiveStream: I just added an answer to your comment on the question.","body":"@LiveStream: I just added an answer to your comment on the question."},{"owner":{"display_name":"user8012887"},"score":0,"creation_date":1497856652,"post_id":44623690,"comment_id":76234413,"body_markdown":"ok so if im getting this right == is the same as .equals when comparing arrays?","body":"ok so if im getting this right == is the same as .equals when comparing arrays?"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1497857251,"post_id":44623690,"comment_id":76234766,"body_markdown":"@LiveStream: Right, and when comparing instances of any other class that doesn&#39;t override the default implementation of `equals` it inherits from `Object`. The assumption in Java is that two instances cannot meaningfully be `equals` to one another unless a class explicitly defines what exactly that means, and for whatever reason, when defining arrays, they decided not to have arrays define `equals`. I&#39;ve added a couple of further examples to demonstrate that.","body":"@LiveStream: Right, and when comparing instances of any other class that doesn&#39;t override the default implementation of <code>equals</code> it inherits from <code>Object</code>. The assumption in Java is that two instances cannot meaningfully be <code>equals</code> to one another unless a class explicitly defines what exactly that means, and for whatever reason, when defining arrays, they decided not to have arrays define <code>equals</code>. I&#39;ve added a couple of further examples to demonstrate that."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":6,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1497857212,"creation_date":1497854185,"answer_id":44623690,"question_id":44623615,"body_markdown":"Yes, `==` with objects is a reference comparison\\* (checks if the operands are references to the *same* object), while `equals` is whatever the class involved defines it to mean (within the requirements documented for `equals`). Some classes define `equals` as being the same as `==`, including Java&#39;s arrays. (Because they don&#39;t override the default implementation from [`Object.equals`][1], which uses `==`.)\r\n\r\nIf you want to compare Java arrays based on the equality of their contents, you use [`Arrays.equals`][2] instead.\r\n\r\nYour experiment would have worked if you used a class that defined `equals` in a useful way, you were just unlucky picking arrays. It&#39;s a bit tricky to find a class in the JVM to use for this experiment, because so many either don&#39;t implement `equals` (like arrays) or could be confusing because there are several immutable classes which may reuse instances (although not if you explicitly use `new`; but I don&#39;t want to go down a path of having you use `new` with something you probably shouldn&#39;t, like `String`; more on that [here](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)). I&#39;m going to give up on picking a good example and use the slightly old class `SimpleDateFormat`:\r\n\r\n    DateFormat a = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    DateFormat b = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    System.out.println(a == b ? &quot;== Same&quot; : &quot;== Different&quot;);\r\n    System.out.println(a.equals(b) ? &quot;equals Same&quot; : &quot;equals Different&quot;);\r\n\r\nThat outputs\r\n\r\n&lt;pre&gt;\r\n== Different\r\nequals Same\r\n&lt;/pre&gt;\r\n\r\nbecause `SimpleDateFormat` defines `equals` to check that the other object is also a `SimpleDateFormat` with the same formatting.\r\n\r\n[Live example][3]\r\n\r\n----\r\n\r\nRe your comment on the question:\r\n\r\n&gt; I have someone the answer points but I only get the == part, if .equals is checking the content, how come the code didnt print &quot;same&quot; for the second if\r\n\r\nBecause `equals` **doesn&#39;t**, necessarily, check content. It only does if a class overrides the default `Object.equals` (which just uses `==`) and implements a content check. Arrays don&#39;t. (One could argue that they should have, but they don&#39;t.) Other classes, like `SimpleDateFormat` and `String` and `Integer` and `HashMap` do.\r\n\r\nIn essence: `==` is always a reference comparison. `equals` may or may not be a contents comparison, depending on what class you&#39;re using it on.\r\n\r\nSo for instance, say we have this class:\r\n\r\n    class Example1\r\n    {\r\n        private int content;\r\n     \r\n        Example1(int content) {\r\n            this.content = content;\r\n        }\r\n     \r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            Example1 a = new Example1(42);\r\n            Example1 b = new Example1(42);\r\n            System.out.println(a == b ? &quot;== Same&quot; : &quot;== Different&quot;);\r\n            System.out.println(a.equals(b) ? &quot;equals Same&quot; : &quot;equals Different&quot;);\r\n        }\r\n    }\r\n\r\nSince that class doesn&#39;t override `equals`, you&#39;ll get the same answer (&quot;Different&quot;) for both `==` and `equals`. [Live Example][4].\r\n\r\nBut if we override `equals` to define what it would mean for two instances to be equal (in this case: because they have the same content):\r\n\r\n    class Example2\r\n    {\r\n        private int content;\r\n     \r\n        Example2(int content) {\r\n            this.content = content;\r\n        }\r\n     \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (obj == null || !obj.getClass().equals(this.getClass())) {\r\n                return false;\r\n            }\r\n            Example2 other = (Example2)obj;\r\n            return this.content == other.content;\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return this.content;\r\n        }\r\n     \r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            Example2 a = new Example2(42);\r\n            Example2 b = new Example2(42);\r\n            System.out.println(a == b ? &quot;== Same&quot; : &quot;== Different&quot;);\r\n            System.out.println(a.equals(b) ? &quot;equals Same&quot; : &quot;equals Different&quot;);\r\n        }\r\n    }\r\n\r\nNow `equals` says two instances with the same content are the same, because the class defines what that means. [Live Example][5]. (Also note that when overriding `equals`, you *must* override `hashCode`, which is why I&#39;ve done so above.)\r\n\r\n----\r\n\r\n\\* More generally, `==` tests if the values of its operands are the same. The value in the case of reference types is an object reference, and two object reference values are only the same when they refer to the same object are are only different when they refer to different objects (or one of them is `null`; not referring to an object at all).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#equals-int:A-int:A-\r\n  [3]: http://ideone.com/Z4HjHl\r\n  [4]: http://ideone.com/Csr32c\r\n  [5]: http://ideone.com/xGKw3w","title":"What&#39;s the difference between == and .equals in Java?","body":"<p>Yes, <code>==</code> with objects is a reference comparison* (checks if the operands are references to the <em>same</em> object), while <code>equals</code> is whatever the class involved defines it to mean (within the requirements documented for <code>equals</code>). Some classes define <code>equals</code> as being the same as <code>==</code>, including Java's arrays. (Because they don't override the default implementation from <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Object.equals</code></a>, which uses <code>==</code>.)</p>\n\n<p>If you want to compare Java arrays based on the equality of their contents, you use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#equals-int:A-int:A-\" rel=\"nofollow noreferrer\"><code>Arrays.equals</code></a> instead.</p>\n\n<p>Your experiment would have worked if you used a class that defined <code>equals</code> in a useful way, you were just unlucky picking arrays. It's a bit tricky to find a class in the JVM to use for this experiment, because so many either don't implement <code>equals</code> (like arrays) or could be confusing because there are several immutable classes which may reuse instances (although not if you explicitly use <code>new</code>; but I don't want to go down a path of having you use <code>new</code> with something you probably shouldn't, like <code>String</code>; more on that <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">here</a>). I'm going to give up on picking a good example and use the slightly old class <code>SimpleDateFormat</code>:</p>\n\n<pre><code>DateFormat a = new SimpleDateFormat(\"yyyy-MM-dd\");\nDateFormat b = new SimpleDateFormat(\"yyyy-MM-dd\");\nSystem.out.println(a == b ? \"== Same\" : \"== Different\");\nSystem.out.println(a.equals(b) ? \"equals Same\" : \"equals Different\");\n</code></pre>\n\n<p>That outputs</p>\n\n<pre>\n== Different\nequals Same\n</pre>\n\n<p>because <code>SimpleDateFormat</code> defines <code>equals</code> to check that the other object is also a <code>SimpleDateFormat</code> with the same formatting.</p>\n\n<p><a href=\"http://ideone.com/Z4HjHl\" rel=\"nofollow noreferrer\">Live example</a></p>\n\n<hr>\n\n<p>Re your comment on the question:</p>\n\n<blockquote>\n  <p>I have someone the answer points but I only get the == part, if .equals is checking the content, how come the code didnt print \"same\" for the second if</p>\n</blockquote>\n\n<p>Because <code>equals</code> <strong>doesn't</strong>, necessarily, check content. It only does if a class overrides the default <code>Object.equals</code> (which just uses <code>==</code>) and implements a content check. Arrays don't. (One could argue that they should have, but they don't.) Other classes, like <code>SimpleDateFormat</code> and <code>String</code> and <code>Integer</code> and <code>HashMap</code> do.</p>\n\n<p>In essence: <code>==</code> is always a reference comparison. <code>equals</code> may or may not be a contents comparison, depending on what class you're using it on.</p>\n\n<p>So for instance, say we have this class:</p>\n\n<pre><code>class Example1\n{\n    private int content;\n\n    Example1(int content) {\n        this.content = content;\n    }\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Example1 a = new Example1(42);\n        Example1 b = new Example1(42);\n        System.out.println(a == b ? \"== Same\" : \"== Different\");\n        System.out.println(a.equals(b) ? \"equals Same\" : \"equals Different\");\n    }\n}\n</code></pre>\n\n<p>Since that class doesn't override <code>equals</code>, you'll get the same answer (\"Different\") for both <code>==</code> and <code>equals</code>. <a href=\"http://ideone.com/Csr32c\" rel=\"nofollow noreferrer\">Live Example</a>.</p>\n\n<p>But if we override <code>equals</code> to define what it would mean for two instances to be equal (in this case: because they have the same content):</p>\n\n<pre><code>class Example2\n{\n    private int content;\n\n    Example2(int content) {\n        this.content = content;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == null || !obj.getClass().equals(this.getClass())) {\n            return false;\n        }\n        Example2 other = (Example2)obj;\n        return this.content == other.content;\n    }\n\n    @Override\n    public int hashCode() {\n        return this.content;\n    }\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Example2 a = new Example2(42);\n        Example2 b = new Example2(42);\n        System.out.println(a == b ? \"== Same\" : \"== Different\");\n        System.out.println(a.equals(b) ? \"equals Same\" : \"equals Different\");\n    }\n}\n</code></pre>\n\n<p>Now <code>equals</code> says two instances with the same content are the same, because the class defines what that means. <a href=\"http://ideone.com/xGKw3w\" rel=\"nofollow noreferrer\">Live Example</a>. (Also note that when overriding <code>equals</code>, you <em>must</em> override <code>hashCode</code>, which is why I've done so above.)</p>\n\n<hr>\n\n<p>* More generally, <code>==</code> tests if the values of its operands are the same. The value in the case of reference types is an object reference, and two object reference values are only the same when they refer to the same object are are only different when they refer to different objects (or one of them is <code>null</code>; not referring to an object at all).</p>\n"},{"tags":[],"owner":{"account_id":4592050,"reputation":810,"user_id":3725086,"accept_rate":70,"display_name":"Potato"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1497854338,"creation_date":1497854338,"answer_id":44623750,"question_id":44623615,"body_markdown":"the == compare the reference. in your example when you create the variable  arr1[] it created in memory and had it own address in the memory so when you create another variable arr2[] it created in memory but with another address so when you compare arr1 address is not equal to arr2 address. but when you use .equal it does not compare the memeory location but instead it compare the value inside.\r\nif you want arr1 to arr2 == each other it must be like this :\r\n\r\n`arr1[] = [1,2,3]\r\narr2[] = arr1;`\r\n\r\nthen arr1 == arr2 //true","title":"What&#39;s the difference between == and .equals in Java?","body":"<p>the == compare the reference. in your example when you create the variable  arr1[] it created in memory and had it own address in the memory so when you create another variable arr2[] it created in memory but with another address so when you compare arr1 address is not equal to arr2 address. but when you use .equal it does not compare the memeory location but instead it compare the value inside.\nif you want arr1 to arr2 == each other it must be like this :</p>\n\n<p><code>arr1[] = [1,2,3]\narr2[] = arr1;</code></p>\n\n<p>then arr1 == arr2 //true</p>\n"},{"comments":[{"owner":{"display_name":"user8012887"},"score":0,"creation_date":1497856258,"post_id":44623901,"comment_id":76234187,"body_markdown":"ok if equals checks the equality of the data how come there not .equals? why is that false. im so confused","body":"ok if equals checks the equality of the data how come there not .equals? why is that false. im so confused"},{"owner":{"account_id":1509533,"reputation":424,"user_id":1412000,"display_name":"invenit"},"score":0,"creation_date":1497856825,"post_id":44623901,"comment_id":76234506,"body_markdown":"@LiveStream, `equals` for arrays (for your case) is default implementation of the method. It actually do the same as `==` operator. Check code snippet from my answer - `return (this == obj)`. If you use any IDE use `Ctrl + Click` on method that confuses you and check how is it implemented. I always do this when doubt.","body":"@LiveStream, <code>equals</code> for arrays (for your case) is default implementation of the method. It actually do the same as <code>==</code> operator. Check code snippet from my answer - <code>return (this == obj)</code>. If you use any IDE use <code>Ctrl + Click</code> on method that confuses you and check how is it implemented. I always do this when doubt."}],"tags":[],"owner":{"account_id":1509533,"reputation":424,"user_id":1412000,"display_name":"invenit"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1497858054,"creation_date":1497854856,"answer_id":44623901,"question_id":44623615,"body_markdown":"To create object you need some portion of memory to store it. \r\n\r\nOperator `==` checks if two variables point to the same memory block. That is they points to the **same object instance** (they are one person under different aliases).\r\n\r\n`equals()` is a method and checks equality by some algorithm. Meaning two object contain the **same data** (they are different persons but with the same face, twins for example). Default implementation for [`java.lang.Object#equals`][1] is \r\n\r\n    public boolean equals(Object obj) {\r\n        return (this == obj);\r\n    }\r\nUsing you IDE you can ensure that `equals` for an array is actually [`java.lang.Object#equals`][1]. To check two arrays for equality you should use [`Arrays.equals`][2]. It has also a lot of other useful methods for manipulating with arrays. It is a good idea to check this class first when you need to do something with an array. It saves much time and code lines.\r\n\r\n**EDITED**\r\n\r\nArrays (`int[], float[], String[], AnyClass[]`) does not implement custom `equals` method. So for array and for any your custom class `equals()` and `==` do same operation unless you override `equals()` and provide custom comparison. Like\r\n\r\n       \r\n    public class Person {\r\n        public String name;\r\n        public String surname;\r\n    \r\n        public Person(String name, String surname) {\r\n            this.name = name;\r\n            this.surname = surname;\r\n        }\r\n    \r\n        public boolean equals(Object thatObj) {\r\n            if (thatObj instanceof Person) {\r\n                Person that = (Person) thatObj;\r\n                return this.name.equals(that.name) &amp;&amp;\r\n                    this.surname.equals(that.surname);\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\r\n[2]: http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\r\n\r\n","title":"What&#39;s the difference between == and .equals in Java?","body":"<p>To create object you need some portion of memory to store it. </p>\n\n<p>Operator <code>==</code> checks if two variables point to the same memory block. That is they points to the <strong>same object instance</strong> (they are one person under different aliases).</p>\n\n<p><code>equals()</code> is a method and checks equality by some algorithm. Meaning two object contain the <strong>same data</strong> (they are different persons but with the same face, twins for example). Default implementation for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>java.lang.Object#equals</code></a> is </p>\n\n<pre><code>public boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n\n<p>Using you IDE you can ensure that <code>equals</code> for an array is actually <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>java.lang.Object#equals</code></a>. To check two arrays for equality you should use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays.equals</code></a>. It has also a lot of other useful methods for manipulating with arrays. It is a good idea to check this class first when you need to do something with an array. It saves much time and code lines.</p>\n\n<p><strong>EDITED</strong></p>\n\n<p>Arrays (<code>int[], float[], String[], AnyClass[]</code>) does not implement custom <code>equals</code> method. So for array and for any your custom class <code>equals()</code> and <code>==</code> do same operation unless you override <code>equals()</code> and provide custom comparison. Like</p>\n\n<pre><code>public class Person {\n    public String name;\n    public String surname;\n\n    public Person(String name, String surname) {\n        this.name = name;\n        this.surname = surname;\n    }\n\n    public boolean equals(Object thatObj) {\n        if (thatObj instanceof Person) {\n            Person that = (Person) thatObj;\n            return this.name.equals(that.name) &amp;&amp;\n                this.surname.equals(that.surname);\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497921480,"creation_date":1497855435,"answer_id":44624068,"question_id":44623615,"body_markdown":"I always use below example to understand the difference between `==` and `.equals`,\r\n\r\n    String s1 = new String( &quot;Test&quot; );\r\n    String s2 = new String( &quot;Test&quot; );\r\n    \r\n    System.out.println( s1 == s2 ); // will print &#39;false&#39;\r\n    System.out.println( s1.equals( s2 )); //  will print &#39;true&#39;\r\n\r\nsince `new` keyword always create fresh new objects it will have 2 different references. Therefor, `==` comparison will return false. This happens because it is comparing the reference value(or someone can say memory location value) only which different.  However, If you initialize the same thing like below(auto boxing), \r\n\r\n    String s1 = &quot;Test&quot;;\r\n    String s2 = &quot;Test&quot;;\r\n        \r\n    System.out.println( s1 == s2 ); // will print &#39;true&#39;\r\n    System.out.println( s1.equals( s2 )); //  will print &#39;true&#39;\r\n\r\nNow `s1` and `s2` both will use the same object and same reference. \r\n\r\n","title":"What&#39;s the difference between == and .equals in Java?","body":"<p>I always use below example to understand the difference between <code>==</code> and <code>.equals</code>,</p>\n\n<pre><code>String s1 = new String( \"Test\" );\nString s2 = new String( \"Test\" );\n\nSystem.out.println( s1 == s2 ); // will print 'false'\nSystem.out.println( s1.equals( s2 )); //  will print 'true'\n</code></pre>\n\n<p>since <code>new</code> keyword always create fresh new objects it will have 2 different references. Therefor, <code>==</code> comparison will return false. This happens because it is comparing the reference value(or someone can say memory location value) only which different.  However, If you initialize the same thing like below(auto boxing), </p>\n\n<pre><code>String s1 = \"Test\";\nString s2 = \"Test\";\n\nSystem.out.println( s1 == s2 ); // will print 'true'\nSystem.out.println( s1.equals( s2 )); //  will print 'true'\n</code></pre>\n\n<p>Now <code>s1</code> and <code>s2</code> both will use the same object and same reference. </p>\n"}],"owner":{"display_name":"user8012887"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4419,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":44623690,"answer_count":4,"score":3,"last_activity_date":1666620444,"creation_date":1497853929,"question_id":44623615,"body_markdown":"I have seen many articles saying that is a reference comparison, i.e. both objects point to the same memory location `.equals()` evaluates to the comparison of values in the objects.\r\n\r\nBut I don&#39;t understand what this means, because when I tried understanding the following code, the strings printed were &quot;Different&quot; and &quot;Not same&quot;. How is that possible? What does `.equals` mean? Am I understanding this all wrong? I thought the answer would be &quot;Different&quot; and &quot;Same&quot;? \r\n\r\n    import java.util.Arrays;\r\n\r\n    public class HelloWorld {\r\n\r\n        public static void main(String[] args) {\r\n           int arr1[] = {1, 2, 3};\r\n           int arr2[] = {1, 2, 3};\r\n           if (arr1 == arr2){\r\n               System.out.println(&quot;Same&quot;);\r\n           } else {\r\n               System.out.println(&quot;Different&quot;);\r\n           }\r\n           if (arr1.equals(arr2)){\r\n               System.out.println(&quot;Same&quot;);}\r\n           } else {\r\n               System.out.println(&quot;Not same&quot;);\r\n           }\r\n        }\r\n    }\r\n","title":"What&#39;s the difference between == and .equals in Java?","body":"<p>I have seen many articles saying that is a reference comparison, i.e. both objects point to the same memory location <code>.equals()</code> evaluates to the comparison of values in the objects.</p>\n<p>But I don't understand what this means, because when I tried understanding the following code, the strings printed were &quot;Different&quot; and &quot;Not same&quot;. How is that possible? What does <code>.equals</code> mean? Am I understanding this all wrong? I thought the answer would be &quot;Different&quot; and &quot;Same&quot;?</p>\n<pre><code>import java.util.Arrays;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n       int arr1[] = {1, 2, 3};\n       int arr2[] = {1, 2, 3};\n       if (arr1 == arr2){\n           System.out.println(&quot;Same&quot;);\n       } else {\n           System.out.println(&quot;Different&quot;);\n       }\n       if (arr1.equals(arr2)){\n           System.out.println(&quot;Same&quot;);}\n       } else {\n           System.out.println(&quot;Not same&quot;);\n       }\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","network-programming","jetty","macos-monterey"],"answers":[{"comments":[{"owner":{"account_id":26313588,"reputation":1,"user_id":19976737,"display_name":"Rafał Rak"},"score":0,"creation_date":1666621847,"post_id":74182308,"comment_id":130974562,"body_markdown":"The test `EchoServer` listens on `*:51296` as listed by `lsof -i -P | grep LISTEN`. \nYou mentioned that the loopback should not work by design but the very same code works for other developers on my team which is why I turned to SO.","body":"The test <code>EchoServer</code> listens on <code>*:51296</code> as listed by <code>lsof -i -P | grep LISTEN</code>.  You mentioned that the loopback should not work by design but the very same code works for other developers on my team which is why I turned to SO."}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666620103,"creation_date":1666620103,"answer_id":74182308,"question_id":74181995,"body_markdown":"&gt; that binds to 127.0.0.1 on a random port\r\n\r\nIf you configure to bind to a specific IP then only that IP is listening.\r\n\r\nThat being said, confirm that there is a bound java process listening on the network adapter addresses.\r\n\r\nUse a tool like `netstat` to list the LISTENING socket (ip address + port).\r\nDon&#39;t forget to turn on the PID for each listening socket (in `netstat` that would be the `--programs` command line)\r\n\r\nExample:\r\n\r\n```\r\n$ netstat --tcp --numeric --listening --programs\r\n(Not all processes could be identified, non-owned process info\r\n will not be shown, you would have to be root to see it all.)\r\nActive Internet connections (only servers)\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \r\ntcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      -                   \r\ntcp        0      0 127.0.0.1:33067         0.0.0.0:*               LISTEN      -                   \r\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   \r\ntcp        0      0 127.0.0.1:3000          0.0.0.0:*               LISTEN      -                   \r\ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      -                   \r\ntcp6       0      0 127.0.0.1:63342         :::*                    LISTEN      963265/java         \r\ntcp6       0      0 :::38939                :::*                    LISTEN      963265/java         \r\ntcp6       0      0 127.0.0.1:57036         :::*                    LISTEN      2207436/java        \r\ntcp6       0      0 ::1:631                 :::*                    LISTEN      -                   \r\ntcp6       0      0 127.0.0.1:33215         :::*                    LISTEN      963265/java         \r\ntcp6       0      0 127.0.0.1:34351         :::*                    LISTEN      1497959/java        \r\ntcp6       0      0 127.0.0.1:40785         :::*                    LISTEN      2207436/java        \r\ntcp6       0      0 127.0.0.1:20432         :::*                    LISTEN      1497959/java        \r\ntcp6       0      0 :::80                   :::*                    LISTEN      -                   \r\ntcp6       0      0 :::22                   :::*                    LISTEN      -                   \r\ntcp6       0      0 127.0.0.1:6942          :::*                    LISTEN      963265/java         \r\n```\r\n\r\nNow, back to your specific example ...\r\n\r\n&gt; ```\r\n&gt; sudo ifconfig lo0 alias 192.168.22.2\r\n&gt; ```\r\n\r\nYou are attempting to add a [`192.*` IP][1] (not publicly routeable, private address space) which is a not a loopback address space, as an IP alias to a loopback device, yeah.  That&#39;s not going to work.  Use a different loopback address instead (eg: `127.0.0.22`) for your `lo0` adapter.\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc1918","title":"Server not responding on loopback alias","body":"<blockquote>\n<p>that binds to 127.0.0.1 on a random port</p>\n</blockquote>\n<p>If you configure to bind to a specific IP then only that IP is listening.</p>\n<p>That being said, confirm that there is a bound java process listening on the network adapter addresses.</p>\n<p>Use a tool like <code>netstat</code> to list the LISTENING socket (ip address + port).\nDon't forget to turn on the PID for each listening socket (in <code>netstat</code> that would be the <code>--programs</code> command line)</p>\n<p>Example:</p>\n<pre><code>$ netstat --tcp --numeric --listening --programs\n(Not all processes could be identified, non-owned process info\n will not be shown, you would have to be root to see it all.)\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \ntcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      -                   \ntcp        0      0 127.0.0.1:33067         0.0.0.0:*               LISTEN      -                   \ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   \ntcp        0      0 127.0.0.1:3000          0.0.0.0:*               LISTEN      -                   \ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      -                   \ntcp6       0      0 127.0.0.1:63342         :::*                    LISTEN      963265/java         \ntcp6       0      0 :::38939                :::*                    LISTEN      963265/java         \ntcp6       0      0 127.0.0.1:57036         :::*                    LISTEN      2207436/java        \ntcp6       0      0 ::1:631                 :::*                    LISTEN      -                   \ntcp6       0      0 127.0.0.1:33215         :::*                    LISTEN      963265/java         \ntcp6       0      0 127.0.0.1:34351         :::*                    LISTEN      1497959/java        \ntcp6       0      0 127.0.0.1:40785         :::*                    LISTEN      2207436/java        \ntcp6       0      0 127.0.0.1:20432         :::*                    LISTEN      1497959/java        \ntcp6       0      0 :::80                   :::*                    LISTEN      -                   \ntcp6       0      0 :::22                   :::*                    LISTEN      -                   \ntcp6       0      0 127.0.0.1:6942          :::*                    LISTEN      963265/java         \n</code></pre>\n<p>Now, back to your specific example ...</p>\n<blockquote>\n<pre><code>sudo ifconfig lo0 alias 192.168.22.2\n</code></pre>\n</blockquote>\n<p>You are attempting to add a <a href=\"https://datatracker.ietf.org/doc/html/rfc1918\" rel=\"nofollow noreferrer\"><code>192.*</code> IP</a> (not publicly routeable, private address space) which is a not a loopback address space, as an IP alias to a loopback device, yeah.  That's not going to work.  Use a different loopback address instead (eg: <code>127.0.0.22</code>) for your <code>lo0</code> adapter.</p>\n"}],"owner":{"account_id":26313588,"reputation":1,"user_id":19976737,"display_name":"Rafał Rak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666620103,"creation_date":1666618884,"question_id":74181995,"body_markdown":"I have a service that binds to `127.0.0.1` on a random port. As a part of testing procedure I set up a loopback alias on `192.168.22.2`. I can confirm that the alias is visible by `ifconfig` and that I can ping it.\r\n\r\nNow when I `curl 127.0.0.1:{server-port}` I get a proper response from a server. However when I `curl 192.168.22.2:{server-port}`. I get an error `curl: (52) Empty reply from server`. And jetty server throws an exception: `java.io.IOException: Socket is not connected`.\r\n\r\nI&#39;m running MacOS Monterey Version 12.6 (21G115) on M1 Pro and openjdk version &quot;14.0.2&quot;.\r\n\r\nBelow I provide a code sample that fails every single time for me.\r\n\r\nhttps://github.com/codewise/echo-server-loopback-alias ","title":"Server not responding on loopback alias","body":"<p>I have a service that binds to <code>127.0.0.1</code> on a random port. As a part of testing procedure I set up a loopback alias on <code>192.168.22.2</code>. I can confirm that the alias is visible by <code>ifconfig</code> and that I can ping it.</p>\n<p>Now when I <code>curl 127.0.0.1:{server-port}</code> I get a proper response from a server. However when I <code>curl 192.168.22.2:{server-port}</code>. I get an error <code>curl: (52) Empty reply from server</code>. And jetty server throws an exception: <code>java.io.IOException: Socket is not connected</code>.</p>\n<p>I'm running MacOS Monterey Version 12.6 (21G115) on M1 Pro and openjdk version &quot;14.0.2&quot;.</p>\n<p>Below I provide a code sample that fails every single time for me.</p>\n<p><a href=\"https://github.com/codewise/echo-server-loopback-alias\" rel=\"nofollow noreferrer\">https://github.com/codewise/echo-server-loopback-alias</a></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666619711,"creation_date":1666619711,"answer_id":74182198,"question_id":74164842,"body_markdown":"See an `AcknowledgingMessageListener` instead of that generic `MessageListener`:\r\n\r\n    container.setupMessageListener((AcknowledgingMessageListener&lt;String, String&gt;) (record, acknowledgment) -&gt; {\r\n\r\n\r\n            //here I am consuming the topic\r\n            kafkaService.proccessorConsumer(record);\r\n\r\n            acknowledgment.acknowledge();\r\n        });\r\n\r\nMore in docs: https://docs.spring.io/spring-kafka/reference/html/#message-listeners","title":"how to manual acknowledge kafka message without the use of @kafkalistener","body":"<p>See an <code>AcknowledgingMessageListener</code> instead of that generic <code>MessageListener</code>:</p>\n<pre><code>container.setupMessageListener((AcknowledgingMessageListener&lt;String, String&gt;) (record, acknowledgment) -&gt; {\n\n\n        //here I am consuming the topic\n        kafkaService.proccessorConsumer(record);\n\n        acknowledgment.acknowledge();\n    });\n</code></pre>\n<p>More in docs: <a href=\"https://docs.spring.io/spring-kafka/reference/html/#message-listeners\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#message-listeners</a></p>\n"}],"owner":{"account_id":18063421,"reputation":393,"user_id":13129983,"display_name":"kikicoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74182198,"answer_count":1,"score":0,"last_activity_date":1666619711,"creation_date":1666452896,"question_id":74164842,"body_markdown":"I am using the following code to create my kafka consumer container:\r\n \r\n\r\n    public void newContainer(String topic, int partition, int idlePeriod) {\r\n            this.factory.setConsumerFactory(consumerFactory);\r\n            this.factory.getContainerProperties().setIdleEventInterval(idlePeriod * 1000L);\r\n            this.factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n            ConcurrentMessageListenerContainer&lt;String, String&gt; container = this.factory\r\n                    .createContainer(new TopicPartitionOffset(topic, partition));\r\n            String groupId = UUID.randomUUID().toString();\r\n            container.getContainerProperties().setGroupId(groupId);\r\n            container.setupMessageListener((MessageListener&lt;String, String&gt; ) record -&gt; {\r\n                kafkaService.proccessorConsumer(record);\r\n               \r\n            });\r\n            this.containers.put(groupId, container);\r\n            container.start();\r\n        }\r\n\r\nhow could I perform manual acknowledgment , when I was using the @KafkaListener I was able to do so since the ack object is in the header but now I need to do it using the code above...any help please.\r\nbelow if the full class code :\r\n\r\n    \r\n\r\n    @Component\r\n    public class DynamicListener implements ConsumerSeekAware {\r\n    \r\n        @Autowired\r\n        private ConsumerFactory&lt;String, String&gt; consumerFactory;\r\n    \r\n        @Autowired\r\n        private ProvisionConfig provisionConfig;\r\n    \r\n        @Autowired\r\n        private KafkaService kafkaService;\r\n    \r\n        private int oldIdlePeriod;\r\n    \r\n        private ConcurrentMessageListenerContainer&lt;String, String&gt; container;\r\n    \r\n        private final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory;\r\n    \r\n        private final ConcurrentMap&lt;String, AbstractMessageListenerContainer&lt;String, String&gt;&gt; containers = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        DynamicListener(ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory) {\r\n            this.factory = factory;\r\n           \r\n        }\r\n    \r\n        public ConcurrentMessageListenerContainer&lt;String, String&gt; newContainer(String topic, int partition,\r\n                int idlePeriod) {\r\n            this.factory.setConsumerFactory(consumerFactory);\r\n            this.factory.getContainerProperties().setIdleEventInterval(idlePeriod * 1000L);\r\n            // this.factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n            ConcurrentMessageListenerContainer&lt;String, String&gt; container = this.factory\r\n                    .createContainer(new TopicPartitionOffset(topic, partition));\r\n            container.setupMessageListener((MessageListener&lt;String, String&gt;) record -&gt; {\r\n \r\n\r\n     //here I am consuming the topic\r\n                kafkaService.proccessorConsumer(record);\r\n    \r\n            });\r\n            this.containers.put(&quot;provisioning_group&quot;, container);\r\n            container.start();\r\n            return container;\r\n        }\r\n    \r\n        @EventListener\r\n        public void idle(ListenerContainerIdleEvent event) {\r\n            log.warn(&quot;Idle period has been captured&quot;, event);\r\n            kafkaService.processIdelConsumer();\r\n        }\r\n    @PostConstruct\r\n    private void init() {\r\n             this.container = newContainer(getInputTopic(), 0, getIdlePeriod());\r\n            this.oldIdlePeriod = provisionConfig.getIdlePeriod();\r\n            log.info(&quot;*********************** A new container has initilized ***************************** &quot;);\r\n\r\n    }\r\n}\r\n\r\nnotice where I am consuming the topic I want to ack after the process finished","title":"how to manual acknowledge kafka message without the use of @kafkalistener","body":"<p>I am using the following code to create my kafka consumer container:</p>\n<pre><code>public void newContainer(String topic, int partition, int idlePeriod) {\n        this.factory.setConsumerFactory(consumerFactory);\n        this.factory.getContainerProperties().setIdleEventInterval(idlePeriod * 1000L);\n        this.factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        ConcurrentMessageListenerContainer&lt;String, String&gt; container = this.factory\n                .createContainer(new TopicPartitionOffset(topic, partition));\n        String groupId = UUID.randomUUID().toString();\n        container.getContainerProperties().setGroupId(groupId);\n        container.setupMessageListener((MessageListener&lt;String, String&gt; ) record -&gt; {\n            kafkaService.proccessorConsumer(record);\n           \n        });\n        this.containers.put(groupId, container);\n        container.start();\n    }\n</code></pre>\n<p>how could I perform manual acknowledgment , when I was using the @KafkaListener I was able to do so since the ack object is in the header but now I need to do it using the code above...any help please.\nbelow if the full class code :</p>\n<pre><code>@Component\npublic class DynamicListener implements ConsumerSeekAware {\n\n    @Autowired\n    private ConsumerFactory&lt;String, String&gt; consumerFactory;\n\n    @Autowired\n    private ProvisionConfig provisionConfig;\n\n    @Autowired\n    private KafkaService kafkaService;\n\n    private int oldIdlePeriod;\n\n    private ConcurrentMessageListenerContainer&lt;String, String&gt; container;\n\n    private final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory;\n\n    private final ConcurrentMap&lt;String, AbstractMessageListenerContainer&lt;String, String&gt;&gt; containers = new ConcurrentHashMap&lt;&gt;();\n\n    DynamicListener(ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory) {\n        this.factory = factory;\n       \n    }\n\n    public ConcurrentMessageListenerContainer&lt;String, String&gt; newContainer(String topic, int partition,\n            int idlePeriod) {\n        this.factory.setConsumerFactory(consumerFactory);\n        this.factory.getContainerProperties().setIdleEventInterval(idlePeriod * 1000L);\n        // this.factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        ConcurrentMessageListenerContainer&lt;String, String&gt; container = this.factory\n                .createContainer(new TopicPartitionOffset(topic, partition));\n        container.setupMessageListener((MessageListener&lt;String, String&gt;) record -&gt; {\n\n\n //here I am consuming the topic\n            kafkaService.proccessorConsumer(record);\n\n        });\n        this.containers.put(&quot;provisioning_group&quot;, container);\n        container.start();\n        return container;\n    }\n\n    @EventListener\n    public void idle(ListenerContainerIdleEvent event) {\n        log.warn(&quot;Idle period has been captured&quot;, event);\n        kafkaService.processIdelConsumer();\n    }\n@PostConstruct\nprivate void init() {\n         this.container = newContainer(getInputTopic(), 0, getIdlePeriod());\n        this.oldIdlePeriod = provisionConfig.getIdlePeriod();\n        log.info(&quot;*********************** A new container has initilized ***************************** &quot;);\n\n}\n</code></pre>\n<p>}</p>\n<p>notice where I am consuming the topic I want to ack after the process finished</p>\n"},{"tags":["java","spring","spring-boot","rest","exception"],"answers":[{"comments":[{"owner":{"account_id":984496,"reputation":2971,"user_id":1003358,"accept_rate":79,"display_name":"AnjaM"},"score":0,"creation_date":1614284612,"post_id":66373975,"comment_id":117346584,"body_markdown":"Do you mean `ResponseEntityExceptionHandler` from Spring MVC? I am not using Spring MVC in my project.","body":"Do you mean <code>ResponseEntityExceptionHandler</code> from Spring MVC? I am not using Spring MVC in my project."},{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":0,"creation_date":1614296469,"post_id":66373975,"comment_id":117350121,"body_markdown":"@AnjaM Spring Boot under the hood uses either Spring MVC or Spring WebFlux for web related things. In your code example it looks like you&#39;re using Spring MVC","body":"@AnjaM Spring Boot under the hood uses either Spring MVC or Spring WebFlux for web related things. In your code example it looks like you&#39;re using Spring MVC"},{"owner":{"account_id":984496,"reputation":2971,"user_id":1003358,"accept_rate":79,"display_name":"AnjaM"},"score":0,"creation_date":1614330228,"post_id":66373975,"comment_id":117357960,"body_markdown":"@MaciejWalkowiak Sorry, I&#39;m a newbie so I don&#39;t know much about how it works. We use a lot of WebFlux in our project (although not in this particular Controller), and there is no Spring MVC in the `pom.xml`. When I insert `import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler`, Eclipse tells that it cannot resolve `org.springframework.web.servlet`. If I add Spring MVC to `pom.xml` and try to start the project, I get a `ClassNotFoundException` for `javax.servlet.ServletException`.","body":"@MaciejWalkowiak Sorry, I&#39;m a newbie so I don&#39;t know much about how it works. We use a lot of WebFlux in our project (although not in this particular Controller), and there is no Spring MVC in the <code>pom.xml</code>. When I insert <code>import org.springframework.web.servlet.mvc.method.annotation.Respon&zwnj;&#8203;seEntityExceptionHan&zwnj;&#8203;dler</code>, Eclipse tells that it cannot resolve <code>org.springframework.web.servlet</code>. If I add Spring MVC to <code>pom.xml</code> and try to start the project, I get a <code>ClassNotFoundException</code> for <code>javax.servlet.ServletException</code>."}],"tags":[],"owner":{"account_id":20811251,"reputation":41,"user_id":15285136,"display_name":"Carlos"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614275943,"creation_date":1614275943,"answer_id":66373975,"question_id":66371164,"body_markdown":"try extend from class ResponseEntityExceptionHandler and override handleMethodArgumentNotValid\r\n\r\n    \r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @ControllerAdvice\r\n    @Slf4j\r\n    public class ExceptionController extends ResponseEntityExceptionHandler {\r\n\r\n\t@Override\r\n\tprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n\t\t\tHttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\t\treturn ...;\r\n\t}\r\n\r\n","title":"Spring Boot ExceptionHandler for MethodArgumentNotValidException in RestController never gets invoked","body":"<p>try extend from class ResponseEntityExceptionHandler and override handleMethodArgumentNotValid</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice\n@Slf4j\npublic class ExceptionController extends ResponseEntityExceptionHandler {\n\n@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n        HttpHeaders headers, HttpStatus status, WebRequest request) {\n    return ...;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483205,"reputation":301,"user_id":898097,"display_name":"Louis Huh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648472612,"creation_date":1648472612,"answer_id":71647913,"question_id":66371164,"body_markdown":"In WebFlux, probably you can catch WebExchangeBindException instead of MethodArgumentNotValidException.\r\n\r\nyou can also take bindingResult from there.","title":"Spring Boot ExceptionHandler for MethodArgumentNotValidException in RestController never gets invoked","body":"<p>In WebFlux, probably you can catch WebExchangeBindException instead of MethodArgumentNotValidException.</p>\n<p>you can also take bindingResult from there.</p>\n"},{"tags":[],"owner":{"account_id":3357136,"reputation":103,"user_id":2819817,"display_name":"Meri&#231; Akg&#252;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666619489,"creation_date":1666619489,"answer_id":74182139,"question_id":66371164,"body_markdown":"You can try to apply the same approach in this link: &lt;https://www.baeldung.com/spring-boot-bean-validation&gt;\r\n\r\nI got the same problem and I solved it like in the code below which is slightly modified version of the sample in the link.\r\n\r\nI think the problem is in the return type of your handleValidationExceptions method. Instead of List you should use Map&lt;&gt;.\r\n\r\n````\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; handleValidationExceptions(\r\n            MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n            String fieldName = ((FieldError) error).getField();\r\n            String errorMessage = error.getDefaultMessage();\r\n            errors.put(fieldName, errorMessage);\r\n        });\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n}\r\n````\r\nBecause I used @ControllerAdvice instead of @RestControllerAdvice, I needed to return ResponseEntity type. And I determine the response type in my return like \r\n````ResponseEntity.badRequest().body(errors); ````\r\nBut if you want to use RestControllerAdvise annotation then you can directly return Map&lt;&gt; object and in this case you can keep using **@ResponseStatus(HttpStatus.BAD_REQUEST)** over your exception handler method.\r\nSo try to apply the code in your GlobalExceptionHandler class.","title":"Spring Boot ExceptionHandler for MethodArgumentNotValidException in RestController never gets invoked","body":"<p>You can try to apply the same approach in this link: <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a></p>\n<p>I got the same problem and I solved it like in the code below which is slightly modified version of the sample in the link.</p>\n<p>I think the problem is in the return type of your handleValidationExceptions method. Instead of List you should use Map&lt;&gt;.</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; handleValidationExceptions(\n            MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return ResponseEntity.badRequest().body(errors);\n    }\n}\n</code></pre>\n<p>Because I used @ControllerAdvice instead of @RestControllerAdvice, I needed to return ResponseEntity type. And I determine the response type in my return like\n<code>ResponseEntity.badRequest().body(errors); </code>\nBut if you want to use RestControllerAdvise annotation then you can directly return Map&lt;&gt; object and in this case you can keep using <strong>@ResponseStatus(HttpStatus.BAD_REQUEST)</strong> over your exception handler method.\nSo try to apply the code in your GlobalExceptionHandler class.</p>\n"}],"owner":{"account_id":984496,"reputation":2971,"user_id":1003358,"accept_rate":79,"display_name":"AnjaM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1666619489,"creation_date":1614265578,"question_id":66371164,"body_markdown":"I&#39;m using Spring Boot v2.2.10 and Spring v5.2.9. I&#39;ve created a Rest controller with an `@Valid @RequestBody` annotation. The validation works fine (I get a `400 BAD REQUEST` response when submitting values outside of the constraints), but I don&#39;t like the default error message as it reveals too much of internals. Thus, I defined an `@ExceptionHandler(MethodArgumentNotValidException.class)` method, but this method never gets invoked.\r\n\r\nThis is the controller with the exception handler:\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.validation.ObjectError;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import lombok.RequiredArgsConstructor;\r\n\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/data&quot;)\r\n    public class DataController {\r\n    \r\n    \t@PostMapping(path = &quot;/{id}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    \tprivate void postData(\r\n    \t\t\t@PathVariable String id,\r\n    \t\t\t@Valid @RequestBody MyDTO dto) {\r\n    \t\t\r\n    \t\t// DO SOMETHING\r\n    \r\n    \t}\r\n    \t\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n    \tpublic List&lt;String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\r\n    \t\tSystem.out.println(&quot;Handling method argument not valid exception&quot;);\r\n    \t    return ex.getBindingResult()\r\n    \t        .getAllErrors().stream()\r\n    \t        .map(ObjectError::getDefaultMessage)\r\n    \t        .collect(Collectors.toList());\r\n    \t} \r\n    }\r\n\r\nThe DTO:\r\n\r\n    import javax.validation.constraints.Max;\r\n    import lombok.Getter;\r\n    \r\n    @Getter\r\n    public class MyDTO {\r\n    \t\r\n    \t@Max(value = 1, message = &quot;Value should not be greater than 1&quot;)\r\n    \tprivate float value;\r\n    \t\r\n    }\r\n\r\nI also tried to put the `ExceptionHandler` into an extra class:\r\n\r\n    // Imports\r\n    \r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n    \r\n    \t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n        // Same as before\r\n    \r\n    }\r\n\r\nAs I&#39;ve said, my `ExceptionHandler` never gets invoked. What might I be doing wrong?","title":"Spring Boot ExceptionHandler for MethodArgumentNotValidException in RestController never gets invoked","body":"<p>I'm using Spring Boot v2.2.10 and Spring v5.2.9. I've created a Rest controller with an <code>@Valid @RequestBody</code> annotation. The validation works fine (I get a <code>400 BAD REQUEST</code> response when submitting values outside of the constraints), but I don't like the default error message as it reveals too much of internals. Thus, I defined an <code>@ExceptionHandler(MethodArgumentNotValidException.class)</code> method, but this method never gets invoked.</p>\n<p>This is the controller with the exception handler:</p>\n<pre><code>import java.util.List;\nimport java.util.stream.Collectors;\n\nimport javax.validation.Valid;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.validation.ObjectError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\nimport lombok.RequiredArgsConstructor;\n\n\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/data&quot;)\npublic class DataController {\n\n    @PostMapping(path = &quot;/{id}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    private void postData(\n            @PathVariable String id,\n            @Valid @RequestBody MyDTO dto) {\n        \n        // DO SOMETHING\n\n    }\n    \n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public List&lt;String&gt; handleValidationExceptions(MethodArgumentNotValidException ex) {\n        System.out.println(&quot;Handling method argument not valid exception&quot;);\n        return ex.getBindingResult()\n            .getAllErrors().stream()\n            .map(ObjectError::getDefaultMessage)\n            .collect(Collectors.toList());\n    } \n}\n</code></pre>\n<p>The DTO:</p>\n<pre><code>import javax.validation.constraints.Max;\nimport lombok.Getter;\n\n@Getter\npublic class MyDTO {\n    \n    @Max(value = 1, message = &quot;Value should not be greater than 1&quot;)\n    private float value;\n    \n}\n</code></pre>\n<p>I also tried to put the <code>ExceptionHandler</code> into an extra class:</p>\n<pre><code>// Imports\n\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    // Same as before\n\n}\n</code></pre>\n<p>As I've said, my <code>ExceptionHandler</code> never gets invoked. What might I be doing wrong?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1666340013,"post_id":74150589,"comment_id":130918325,"body_markdown":"Cant you do it in that method?","body":"Cant you do it in that method?"},{"owner":{"account_id":10385594,"reputation":13,"user_id":7665294,"display_name":"Isaev Maxim"},"score":0,"creation_date":1666708676,"post_id":74150589,"comment_id":130997862,"body_markdown":"Unfortunately, no","body":"Unfortunately, no"}],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666619441,"post_id":74150963,"comment_id":130973563,"body_markdown":"You could also add a `RecordInterceptor` to the listener container factory if you want to do everything via Spring. It will get one record at a time.","body":"You could also add a <code>RecordInterceptor</code> to the listener container factory if you want to do everything via Spring. It will get one record at a time."},{"owner":{"account_id":10385594,"reputation":13,"user_id":7665294,"display_name":"Isaev Maxim"},"score":0,"creation_date":1666685636,"post_id":74150963,"comment_id":130989712,"body_markdown":"Thank you for your suggestion. Can I explicitly not add `properties.put(INTERCEPTOR_CLASSES_CONFIG, KafkaConsumerInterceptor.class.getName());` to consumerFactory?","body":"Thank you for your suggestion. Can I explicitly not add <code>properties.put(INTERCEPTOR_CLASSES_CONFIG, KafkaConsumerInterceptor.class.getName());</code> to consumerFactory?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1666699841,"post_id":74150963,"comment_id":130994559,"body_markdown":"No. The RecordInterceptor is a Spring concept. The problem with ConsumerInterceptor is that it gets multiple records at once so won’t help with MDC. The RecordInterceptor is called by Spring for each record.","body":"No. The RecordInterceptor is a Spring concept. The problem with ConsumerInterceptor is that it gets multiple records at once so won’t help with MDC. The RecordInterceptor is called by Spring for each record."}],"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666341469,"creation_date":1666341469,"answer_id":74150963,"question_id":74150589,"body_markdown":"You can try to write your own `ConsumerInterceptor` following instructions from [here](https://docs.spring.io/spring-kafka/docs/current/reference/html/#interceptors). &lt;br&gt;\r\n*Apache Kafka provides a mechanism to add interceptors to producers and consumers. These objects are managed by Kafka, not Spring, and so normal Spring dependency injection won’t work for wiring in dependent Spring Beans. However, you can manually wire in those dependencies using the interceptor config() method. The following Spring Boot application shows how to do this by overriding boot’s default factories to add some dependent bean into the configuration properties.*&lt;p&gt;\r\nConsumerFactory definition:\r\n\r\n```\r\n    @Bean\r\n    public ConsumerFactory&lt;?, ?&gt; kafkaConsumerFactory(SomeBean someBean) {\r\n        Map&lt;String, Object&gt; consumerProperties = new HashMap&lt;&gt;();\r\n        // consumerProperties.put(..., ...)\r\n        // ...\r\n        consumerProperties.put(ConsumerConfig.INTERCEPTOR_CLASSES_CONFIG, MyConsumerInterceptor.class.getName());\r\n        consumerProperties.put(&quot;some.bean&quot;, someBean);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerProperties);\r\n    }\r\n\r\n```\r\nInterceptor definition:\r\n```\r\npublic class MyConsumerInterceptor implements ConsumerInterceptor&lt;String, String&gt; {\r\n\r\n    private SomeBean bean;\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs) {\r\n        this.bean = (SomeBean) configs.get(&quot;some.bean&quot;);\r\n    }\r\n\r\n    @Override\r\n    public ConsumerRecords&lt;String, String&gt; onConsume(ConsumerRecords&lt;String, String&gt; records) {\r\n        this.bean.someMethod(&quot;consumer interceptor&quot;);\r\n        return records;\r\n    }\r\n\r\n    @Override\r\n    public void onCommit(Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets) {\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n    }\r\n\r\n}\r\n```","title":"How do I get a Kafka message before the @KafkaListener method?","body":"<p>You can try to write your own <code>ConsumerInterceptor</code> following instructions from <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#interceptors\" rel=\"nofollow noreferrer\">here</a>. <br>\n<em>Apache Kafka provides a mechanism to add interceptors to producers and consumers. These objects are managed by Kafka, not Spring, and so normal Spring dependency injection won’t work for wiring in dependent Spring Beans. However, you can manually wire in those dependencies using the interceptor config() method. The following Spring Boot application shows how to do this by overriding boot’s default factories to add some dependent bean into the configuration properties.</em><p>\nConsumerFactory definition:</p>\n<pre><code>    @Bean\n    public ConsumerFactory&lt;?, ?&gt; kafkaConsumerFactory(SomeBean someBean) {\n        Map&lt;String, Object&gt; consumerProperties = new HashMap&lt;&gt;();\n        // consumerProperties.put(..., ...)\n        // ...\n        consumerProperties.put(ConsumerConfig.INTERCEPTOR_CLASSES_CONFIG, MyConsumerInterceptor.class.getName());\n        consumerProperties.put(&quot;some.bean&quot;, someBean);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerProperties);\n    }\n\n</code></pre>\n<p>Interceptor definition:</p>\n<pre><code>public class MyConsumerInterceptor implements ConsumerInterceptor&lt;String, String&gt; {\n\n    private SomeBean bean;\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs) {\n        this.bean = (SomeBean) configs.get(&quot;some.bean&quot;);\n    }\n\n    @Override\n    public ConsumerRecords&lt;String, String&gt; onConsume(ConsumerRecords&lt;String, String&gt; records) {\n        this.bean.someMethod(&quot;consumer interceptor&quot;);\n        return records;\n    }\n\n    @Override\n    public void onCommit(Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets) {\n    }\n\n    @Override\n    public void close() {\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10385594,"reputation":13,"user_id":7665294,"display_name":"Isaev Maxim"},"score":0,"creation_date":1666685571,"post_id":74182135,"comment_id":130989683,"body_markdown":"Thank you for your suggestion. Can I explicitly not add `properties.put(INTERCEPTOR_CLASSES_CONFIG,RecordInterceptor.class.getName());` to consumerFactory?","body":"Thank you for your suggestion. Can I explicitly not add <code>properties.put(INTERCEPTOR_CLASSES_CONFIG,RecordInterceptor.&zwnj;&#8203;class.getName());</code> to consumerFactory?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666699849,"post_id":74182135,"comment_id":130994562,"body_markdown":"No. The RecordInterceptor is a Spring concept. The problem with ConsumerInterceptor is that it gets multiple records at once so won’t help with MDC. The RecordInterceptor is called by Spring for each record.","body":"No. The RecordInterceptor is a Spring concept. The problem with ConsumerInterceptor is that it gets multiple records at once so won’t help with MDC. The RecordInterceptor is called by Spring for each record."},{"owner":{"account_id":10385594,"reputation":13,"user_id":7665294,"display_name":"Isaev Maxim"},"score":0,"creation_date":1666708644,"post_id":74182135,"comment_id":130997847,"body_markdown":"This is bad news. Is there any way to intercept the headers at the kafka NetworkClient level?","body":"This is bad news. Is there any way to intercept the headers at the kafka NetworkClient level?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666709382,"post_id":74182135,"comment_id":130998161,"body_markdown":"Why is it &quot;bad&quot; news? It&#39;s easy enough to add the interceptor to the container or the factory that creates it. I don&#39;t see how doing anything at the network level will help, particularly with MDC since a) there will be multiple records and b) it&#39;s on a different thread. If you need help configuring it, edit the question to show your current listener and configuration and I&#39;ll tell you how to configure the interceptor.","body":"Why is it &quot;bad&quot; news? It&#39;s easy enough to add the interceptor to the container or the factory that creates it. I don&#39;t see how doing anything at the network level will help, particularly with MDC since a) there will be multiple records and b) it&#39;s on a different thread. If you need help configuring it, edit the question to show your current listener and configuration and I&#39;ll tell you how to configure the interceptor."},{"owner":{"account_id":10385594,"reputation":13,"user_id":7665294,"display_name":"Isaev Maxim"},"score":0,"creation_date":1666773619,"post_id":74182135,"comment_id":131013282,"body_markdown":"I have a question unrelated to the current topic. When I switched to debug logging level, I saw many log events:\n\n`[Consumer clientId=consumer-some-app, groupId=some-app Sending METADATA request with header RequestHeader(apiKey=METADATA, apiVersion=12, clientId=some-app, correlationId=2)` from NetworkClient.\n\nIs it possible to get correlationId?","body":"I have a question unrelated to the current topic. When I switched to debug logging level, I saw many log events:  <code>[Consumer clientId=consumer-some-app, groupId=some-app Sending METADATA request with header RequestHeader(apiKey=METADATA, apiVersion=12, clientId=some-app, correlationId=2)</code> from NetworkClient.  Is it possible to get correlationId?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666789004,"post_id":74182135,"comment_id":131018402,"body_markdown":"Don&#39;t ask unrelated questions in comments; ask a new question and explain why you need it.","body":"Don&#39;t ask unrelated questions in comments; ask a new question and explain why you need it."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666619475,"creation_date":1666619475,"answer_id":74182135,"question_id":74150589,"body_markdown":"Add a `RecordInterceptor` to the listener container (or factory that creates it).","title":"How do I get a Kafka message before the @KafkaListener method?","body":"<p>Add a <code>RecordInterceptor</code> to the listener container (or factory that creates it).</p>\n"}],"owner":{"account_id":10385594,"reputation":13,"user_id":7665294,"display_name":"Isaev Maxim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74150963,"answer_count":2,"score":1,"last_activity_date":1666619475,"creation_date":1666339687,"question_id":74150589,"body_markdown":"My task is to get the Kafka message before the method with the @KafkaListner annotation, check the correlationId and requestId headers in it. If they&#39;re present, flush them to MDC or generate them otherwise.\r\n\r\nAnd my question is how to get Kafka message with headers before method with the @KafkaListner?","title":"How do I get a Kafka message before the @KafkaListener method?","body":"<p>My task is to get the Kafka message before the method with the @KafkaListner annotation, check the correlationId and requestId headers in it. If they're present, flush them to MDC or generate them otherwise.</p>\n<p>And my question is how to get Kafka message with headers before method with the @KafkaListner?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1666468592,"post_id":74166444,"comment_id":130946078,"body_markdown":"You don&#39;t need Spring Boot and `@EnableRetry` in your example, it&#39;ll work perfectly fine w/o them. And also you should pass configuration values into the `retryTemplate()` method instead of injecting them into Configuration class. But what&#39;s probably most important - you didn&#39;t show how this helps with Spring Integration.","body":"You don&#39;t need Spring Boot and <code>@EnableRetry</code> in your example, it&#39;ll work perfectly fine w/o them. And also you should pass configuration values into the <code>retryTemplate()</code> method instead of injecting them into Configuration class. But what&#39;s probably most important - you didn&#39;t show how this helps with Spring Integration."},{"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"score":0,"creation_date":1666480192,"post_id":74166444,"comment_id":130947900,"body_markdown":"How do I add this to @ServiceActivator annotation ?","body":"How do I add this to @ServiceActivator annotation ?"}],"tags":[],"owner":{"account_id":9792962,"reputation":168,"user_id":7256972,"display_name":"Soumen Ghosh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666466056,"creation_date":1666466056,"answer_id":74166444,"question_id":74165972,"body_markdown":"Spring Boot has retry feature. Need to create a RetryTemplate\r\n\r\n&lt;code&gt;\r\n\r\n    @Configuration\r\n    @EnableRetry\r\n    public class EncryptionLoadCacheRetryTemplate {\r\n    \r\n      @Value(&quot;${&lt;env variable&gt;:3}&quot;)\r\n      String maxRetryAttempts;\r\n    \r\n      @Value(&quot;${&lt;env variable&gt;:5000}&quot;)\r\n      String backoffPeriod;\r\n    \r\n      @Bean\r\n      public RetryTemplate retryTemplate() {\r\n    \r\n        RetryTemplate retryTemplate = new RetryTemplate();\r\n        FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\r\n        fixedBackOffPolicy.setBackOffPeriod(Integer.parseInt(backoffPeriod));\r\n        retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\r\n        SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\r\n        retryPolicy.setMaxAttempts(Integer.parseInt(maxRetryAttempts));\r\n        retryTemplate.setRetryPolicy(retryPolicy);\r\n    \r\n        return retryTemplate;\r\n      }\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nThen use like below:\r\n\r\n&lt;code&gt;\r\n\r\n    @Autowired\r\n    private RetryTemplate retryTemplate;\r\n\r\n    retryTemplate.execute(context -&gt; &lt;some method to execute&gt;, context -&gt; {\r\n          &lt;some method to handle failure&gt;(context);\r\n          return true;\r\n        });\r\n\r\n&lt;/code&gt;\r\n\r\n","title":"How to add retry on Spring Integration SFTP Outbound Gateway","body":"<p>Spring Boot has retry feature. Need to create a RetryTemplate</p>\n<code>\n<pre><code>@Configuration\n@EnableRetry\npublic class EncryptionLoadCacheRetryTemplate {\n\n  @Value(&quot;${&lt;env variable&gt;:3}&quot;)\n  String maxRetryAttempts;\n\n  @Value(&quot;${&lt;env variable&gt;:5000}&quot;)\n  String backoffPeriod;\n\n  @Bean\n  public RetryTemplate retryTemplate() {\n\n    RetryTemplate retryTemplate = new RetryTemplate();\n    FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\n    fixedBackOffPolicy.setBackOffPeriod(Integer.parseInt(backoffPeriod));\n    retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\n    SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\n    retryPolicy.setMaxAttempts(Integer.parseInt(maxRetryAttempts));\n    retryTemplate.setRetryPolicy(retryPolicy);\n\n    return retryTemplate;\n  }\n}\n</code></pre>\n</code>\n<p>Then use like below:</p>\n<code>\n<pre><code>@Autowired\nprivate RetryTemplate retryTemplate;\n\nretryTemplate.execute(context -&gt; &lt;some method to execute&gt;, context -&gt; {\n      &lt;some method to handle failure&gt;(context);\n      return true;\n    });\n</code></pre>\n</code>\n"},{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666619411,"creation_date":1666619411,"answer_id":74182118,"question_id":74165972,"body_markdown":"See `@ServiceActivator.adviceChain`:\r\n\r\n\t/**\r\n\t * Specify a &quot;chain&quot; of {@code Advice} beans that will &quot;wrap&quot; the message handler.\r\n\t * Only the handler is advised, not the downstream flow.\r\n\t * @return the advice chain.\r\n\t */\r\n\tString[] adviceChain() default { };\r\n\r\nSo, you just declared a bean for the `RequestHandlerRetryAdvice` and use its name in that attribute. For example with cache advice I have this test config:\r\n\r\n\t\t@Bean\r\n\t\tpublic CacheRequestHandlerAdvice cachePutAndEvictAdvice() {\r\n\t\t\tCacheRequestHandlerAdvice cacheRequestHandlerAdvice = new CacheRequestHandlerAdvice();\r\n\t\t\tcacheRequestHandlerAdvice.setKeyExpressionString(&quot;payload&quot;);\r\n\t\t\tCachePutOperation.Builder cachePutBuilder = new CachePutOperation.Builder();\r\n\t\t\tcachePutBuilder.setCacheName(TEST_PUT_CACHE);\r\n\t\t\tCacheEvictOperation.Builder cacheEvictBuilder = new CacheEvictOperation.Builder();\r\n\t\t\tcacheEvictBuilder.setCacheName(TEST_CACHE);\r\n\t\t\tcacheRequestHandlerAdvice.setCacheOperations(cachePutBuilder.build(), cacheEvictBuilder.build());\r\n\t\t\treturn cacheRequestHandlerAdvice;\r\n\t\t}\r\n\r\n\t\t@ServiceActivator(inputChannel = &quot;serviceChannel&quot;, outputChannel = &quot;nullChannel&quot;,\r\n\t\t\t\tadviceChain = &quot;cachePutAndEvictAdvice&quot;)\r\n\t\tpublic Message&lt;?&gt; service(Message&lt;?&gt; message) {\r\n\t\t\treturn message;\r\n\t\t}","title":"How to add retry on Spring Integration SFTP Outbound Gateway","body":"<p>See <code>@ServiceActivator.adviceChain</code>:</p>\n<pre><code>/**\n * Specify a &quot;chain&quot; of {@code Advice} beans that will &quot;wrap&quot; the message handler.\n * Only the handler is advised, not the downstream flow.\n * @return the advice chain.\n */\nString[] adviceChain() default { };\n</code></pre>\n<p>So, you just declared a bean for the <code>RequestHandlerRetryAdvice</code> and use its name in that attribute. For example with cache advice I have this test config:</p>\n<pre><code>    @Bean\n    public CacheRequestHandlerAdvice cachePutAndEvictAdvice() {\n        CacheRequestHandlerAdvice cacheRequestHandlerAdvice = new CacheRequestHandlerAdvice();\n        cacheRequestHandlerAdvice.setKeyExpressionString(&quot;payload&quot;);\n        CachePutOperation.Builder cachePutBuilder = new CachePutOperation.Builder();\n        cachePutBuilder.setCacheName(TEST_PUT_CACHE);\n        CacheEvictOperation.Builder cacheEvictBuilder = new CacheEvictOperation.Builder();\n        cacheEvictBuilder.setCacheName(TEST_CACHE);\n        cacheRequestHandlerAdvice.setCacheOperations(cachePutBuilder.build(), cacheEvictBuilder.build());\n        return cacheRequestHandlerAdvice;\n    }\n\n    @ServiceActivator(inputChannel = &quot;serviceChannel&quot;, outputChannel = &quot;nullChannel&quot;,\n            adviceChain = &quot;cachePutAndEvictAdvice&quot;)\n    public Message&lt;?&gt; service(Message&lt;?&gt; message) {\n        return message;\n    }\n</code></pre>\n"}],"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666619411,"creation_date":1666462213,"question_id":74165972,"body_markdown":"Can someone please give a sample Java code (Not XML config) for adding retry on Spring Integration SFTP Outbound Gateway for a file upload ? I know it should be RequestHandlerRetryAdvice, but how do I add it to annotation of Spring Integration SFTP Outbound Gateway ?","title":"How to add retry on Spring Integration SFTP Outbound Gateway","body":"<p>Can someone please give a sample Java code (Not XML config) for adding retry on Spring Integration SFTP Outbound Gateway for a file upload ? I know it should be RequestHandlerRetryAdvice, but how do I add it to annotation of Spring Integration SFTP Outbound Gateway ?</p>\n"},{"tags":["java","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666617998,"post_id":74181573,"comment_id":130972967,"body_markdown":"but this is a *restriction* of the operating system, or more precisely, of the shell - it only sends a line after the linefeed (ENTER) is pressed/given (maybe the user wants to delete/edit something before sending the input)","body":"but this is a <i>restriction</i> of the operating system, or more precisely, of the shell - it only sends a line after the linefeed (ENTER) is pressed/given (maybe the user wants to delete/edit something before sending the input)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666618010,"post_id":74181573,"comment_id":130972975,"body_markdown":"*How can I post multiple lines into a Java 8 console application?* I&#39;m not sure what you mean by &quot;post&quot; but if you want lines as input, why not read a file?","body":"<i>How can I post multiple lines into a Java 8 console application?</i> I&#39;m not sure what you mean by &quot;post&quot; but if you want lines as input, why not read a file?"},{"owner":{"account_id":18626176,"reputation":29,"user_id":13575223,"display_name":"Nic"},"score":0,"creation_date":1666618622,"post_id":74181573,"comment_id":130973236,"body_markdown":"Sorry, typo! Meant &quot;paste&quot;.\nAlright but weird thing is that the IntelliJ terminal directly starts to interpret the lines as soon as it detects the linefeed. Maybe it&#39;s more effective to use a control sign?","body":"Sorry, typo! Meant &quot;paste&quot;. Alright but weird thing is that the IntelliJ terminal directly starts to interpret the lines as soon as it detects the linefeed. Maybe it&#39;s more effective to use a control sign?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666634357,"post_id":74181573,"comment_id":130978981,"body_markdown":"Yes, that&#39;s a kind of fake terminal so its behaviour is sort of arbitrary. In any case, apps are for users, not devs, and users don&#39;t use IDEs.","body":"Yes, that&#39;s a kind of fake terminal so its behaviour is sort of arbitrary. In any case, apps are for users, not devs, and users don&#39;t use IDEs."}],"owner":{"account_id":18626176,"reputation":29,"user_id":13575223,"display_name":"Nic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666618605,"creation_date":1666616977,"question_id":74181573,"body_markdown":"How can I paste multiple lines into a Java 8 console application?\r\nSimple thing but I don&#39;t manage to catch the last line using Scanner.\r\nFound various topics but none for String lines (they all waited for integer etc.).\r\n\r\nI&#39;d like to past in the following scheme (e.g. from editor):\r\n\r\n    line0\r\n    line1\r\n    line2\r\n    line3\r\n    line4\r\n\r\nThe lines have &quot;\\n&quot; endings but Java omits the last line (because it doesn&#39;t end with &quot;\\n&quot; I assume).\r\n\r\nIt doesn&#39;t matter for me if pushing ENTER is necessary in the end or the paste ending will be detected automatic.\r\nOnly thing I achieve though is that line 0 to 3 are printed immediately and line 4 only after ENTER was has been (which enforces a new line).\r\nThis results in an unpleasant mix:\r\n\r\n    line0\r\n    line1\r\n    line2\r\n    line3 (I have to press ENTER now)\r\n\r\n    line4\r\n\r\nEach line will passed into another function, for better understanding I use &quot;println&quot;.\r\n\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter lines: \\r\\n&quot;);\r\n\r\n            while (sc.hasNext())\r\n            {\r\n                System.out.println(sc.next());\r\n            }\r\n            sc.close();\r\n\r\nAlso tried with various &quot;useDelimiter&quot; combinations and &quot;do...while&quot; instead of &quot;while&quot; but without success.\r\n\r\nThe same thing with ArrayList didn&#39;t lead to an end at all (neither after pressing ENTER nor after adding &#39;if line != null&#39; statement):\r\n\r\n        public static ArrayList&lt;String&gt; inputLines = new ArrayList&lt;String&gt;();\r\n\r\n           while (sc.hasNext())\r\n            {\r\n                inputLines.add(sc.next());\r\n            }\r\n            sc.close();\r\n\r\n            inputLines.forEach((inputLine) -&gt; System.out.println(inputLine));\r\n\r\nTIA ... I despair ...","title":"Properly process multiple pasted lines into Java command line","body":"<p>How can I paste multiple lines into a Java 8 console application?\nSimple thing but I don't manage to catch the last line using Scanner.\nFound various topics but none for String lines (they all waited for integer etc.).</p>\n<p>I'd like to past in the following scheme (e.g. from editor):</p>\n<pre><code>line0\nline1\nline2\nline3\nline4\n</code></pre>\n<p>The lines have &quot;\\n&quot; endings but Java omits the last line (because it doesn't end with &quot;\\n&quot; I assume).</p>\n<p>It doesn't matter for me if pushing ENTER is necessary in the end or the paste ending will be detected automatic.\nOnly thing I achieve though is that line 0 to 3 are printed immediately and line 4 only after ENTER was has been (which enforces a new line).\nThis results in an unpleasant mix:</p>\n<pre><code>line0\nline1\nline2\nline3 (I have to press ENTER now)\n\nline4\n</code></pre>\n<p>Each line will passed into another function, for better understanding I use &quot;println&quot;.</p>\n<pre><code>        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter lines: \\r\\n&quot;);\n\n        while (sc.hasNext())\n        {\n            System.out.println(sc.next());\n        }\n        sc.close();\n</code></pre>\n<p>Also tried with various &quot;useDelimiter&quot; combinations and &quot;do...while&quot; instead of &quot;while&quot; but without success.</p>\n<p>The same thing with ArrayList didn't lead to an end at all (neither after pressing ENTER nor after adding 'if line != null' statement):</p>\n<pre><code>    public static ArrayList&lt;String&gt; inputLines = new ArrayList&lt;String&gt;();\n\n       while (sc.hasNext())\n        {\n            inputLines.add(sc.next());\n        }\n        sc.close();\n\n        inputLines.forEach((inputLine) -&gt; System.out.println(inputLine));\n</code></pre>\n<p>TIA ... I despair ...</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666616949,"post_id":74181551,"comment_id":130972571,"body_markdown":"Apparently, your `activity_main` layout does not have a widget whose ID is `cus_1`. As a result, your `findViewById()` call returns `null`, so `cv` is `null` when you try to call `setMessage()`.","body":"Apparently, your <code>activity_main</code> layout does not have a widget whose ID is <code>cus_1</code>. As a result, your <code>findViewById()</code> call returns <code>null</code>, so <code>cv</code> is <code>null</code> when you try to call <code>setMessage()</code>."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":2,"creation_date":1666617456,"post_id":74181551,"comment_id":130972750,"body_markdown":"The stacktrace refers to a call to `setMessage` from your Activity&#39;s `onCreate`. I don&#39;t see any such call in the code you&#39;ve posted.","body":"The stacktrace refers to a call to <code>setMessage</code> from your Activity&#39;s <code>onCreate</code>. I don&#39;t see any such call in the code you&#39;ve posted."},{"owner":{"account_id":25303565,"reputation":43,"user_id":19127471,"display_name":"geontricks developer"},"score":0,"creation_date":1666674823,"post_id":74181551,"comment_id":130986974,"body_markdown":"I copied previous stacktrace and sorry for it. only difference is setMessage and actual function is setWidth","body":"I copied previous stacktrace and sorry for it. only difference is setMessage and actual function is setWidth"}],"answers":[{"comments":[{"owner":{"account_id":25303565,"reputation":43,"user_id":19127471,"display_name":"geontricks developer"},"score":0,"creation_date":1666674686,"post_id":74181863,"comment_id":130986958,"body_markdown":"Thank you... Problem solved from this answer.","body":"Thank you... Problem solved from this answer."}],"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666618302,"creation_date":1666618302,"answer_id":74181863,"question_id":74181551,"body_markdown":"The problem is that you are not passing the `attrs` to the `super`. This causes it to not have an `id`\r\n\r\nChange your constructor to\r\n\r\n```\r\n    public CustomView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        paint = new Paint();\r\n    }","title":"How to Call function in custom view in android studio activity","body":"<p>The problem is that you are not passing the <code>attrs</code> to the <code>super</code>. This causes it to not have an <code>id</code></p>\n<p>Change your constructor to</p>\n<pre><code>    public CustomView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        paint = new Paint();\n    }\n</code></pre>\n"}],"owner":{"account_id":25303565,"reputation":43,"user_id":19127471,"display_name":"geontricks developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74181863,"answer_count":1,"score":1,"last_activity_date":1666618302,"creation_date":1666616830,"question_id":74181551,"body_markdown":"**MainActivity.java**\r\n```\r\npackage com.bandiapps.graphicfuture;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private CustomView cv;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        cv = findViewById(R.id.cus_1);\r\n\r\n        cv.setWidth();\r\n    }\r\n}\r\n```\r\n**CustomView.java**\r\n```\r\npackage com.bandiapps.graphicfuture;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Paint;\r\nimport android.util.AttributeSet;\r\nimport android.view.View;\r\n\r\n\r\npublic class CustomView extends View {\r\n    int width,height;\r\n    private Paint paint;\r\n    public CustomView(Context context, AttributeSet attrs) {\r\n        super(context);\r\n        paint = new Paint();\r\n    }\r\n\r\n    @Override\r\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n        super.onSizeChanged(w, h, oldw, oldh);\r\n        width = w;\r\n        height = h;\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        paint.setStyle(Paint.Style.STROKE);\r\n        paint.setARGB(255,0,255,0);\r\n        canvas.drawRect(1,1,width -1 ,height -1 ,paint);\r\n    }\r\n    public void setWidth(){\r\n        paint.setStrokeWidth(10);\r\n    }\r\n}\r\n```\r\n**activity_main.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;com.bandiapps.graphicfuture.CustomView\r\n        android:id=&quot;@+id/cus_1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_margin=&quot;100dp&quot;\r\n        /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nwhen I going to run that code in my device it keep closing. Log cat shows error like this.\r\n\r\n```\r\n E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.bandiapps.graphicfuture, PID: 25635\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.bandiapps.graphicfuture/com.bandiapps.graphicfuture.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.bandiapps.graphicfuture.CustomView.setMessage()&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3846)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8653)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.bandiapps.graphicfuture.CustomView.setMessage()&#39; on a null object reference\r\n                                                                                                    \tat com.bandiapps.graphicfuture.MainActivity.onCreate(MainActivity.java:19)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8207)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8191)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3819)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8653)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n```\r\nI use physical device to implement this code. I&#39;m beginner android developer also.\r\nI follow different kind of tutorials but I could not be able to solve it.I want to use this custom component same as normal widgets like buttons,Edit Text.I also want to place this code using xml also. I cannot able to change it. because my target project is already developed using xml layouts.\r\nHow can I solve it ?","title":"How to Call function in custom view in android studio activity","body":"<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.bandiapps.graphicfuture;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private CustomView cv;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        cv = findViewById(R.id.cus_1);\n\n        cv.setWidth();\n    }\n}\n</code></pre>\n<p><strong>CustomView.java</strong></p>\n<pre><code>package com.bandiapps.graphicfuture;\n\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.util.AttributeSet;\nimport android.view.View;\n\n\npublic class CustomView extends View {\n    int width,height;\n    private Paint paint;\n    public CustomView(Context context, AttributeSet attrs) {\n        super(context);\n        paint = new Paint();\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        super.onSizeChanged(w, h, oldw, oldh);\n        width = w;\n        height = h;\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        paint.setStyle(Paint.Style.STROKE);\n        paint.setARGB(255,0,255,0);\n        canvas.drawRect(1,1,width -1 ,height -1 ,paint);\n    }\n    public void setWidth(){\n        paint.setStrokeWidth(10);\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;com.bandiapps.graphicfuture.CustomView\n        android:id=&quot;@+id/cus_1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_margin=&quot;100dp&quot;\n        /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>when I going to run that code in my device it keep closing. Log cat shows error like this.</p>\n<pre><code> E  FATAL EXCEPTION: main\n                                                                                                    Process: com.bandiapps.graphicfuture, PID: 25635\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.bandiapps.graphicfuture/com.bandiapps.graphicfuture.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.bandiapps.graphicfuture.CustomView.setMessage()' on a null object reference\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3846)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loop(Looper.java:246)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8653)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.bandiapps.graphicfuture.CustomView.setMessage()' on a null object reference\n                                                                                                        at com.bandiapps.graphicfuture.MainActivity.onCreate(MainActivity.java:19)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8207)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8191)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3819)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022) \n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106) \n                                                                                                        at android.os.Looper.loop(Looper.java:246) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8653) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) \n</code></pre>\n<p>I use physical device to implement this code. I'm beginner android developer also.\nI follow different kind of tutorials but I could not be able to solve it.I want to use this custom component same as normal widgets like buttons,Edit Text.I also want to place this code using xml also. I cannot able to change it. because my target project is already developed using xml layouts.\nHow can I solve it ?</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666797604,"post_id":74178100,"comment_id":131021972,"body_markdown":"What is the exact line of code that produces that error?","body":"What is the exact line of code that produces that error?"}],"answers":[{"comments":[{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666601507,"post_id":74178603,"comment_id":130967420,"body_markdown":"That didn&#39;t work....Getting same problem. App getting crashed","body":"That didn&#39;t work....Getting same problem. App getting crashed"},{"owner":{"account_id":17312820,"reputation":374,"user_id":16711198,"display_name":"Vera Iureva"},"score":0,"creation_date":1666602915,"post_id":74178603,"comment_id":130967891,"body_markdown":"I&#39;ve updated the answer with user checking. It works?","body":"I&#39;ve updated the answer with user checking. It works?"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666603376,"post_id":74178603,"comment_id":130968037,"body_markdown":"still didn&#39;t work. Same problem","body":"still didn&#39;t work. Same problem"},{"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"score":0,"creation_date":1666950090,"post_id":74178603,"comment_id":131060626,"body_markdown":"Even if I try commenting down that getUid() line  the app still gives a crash","body":"Even if I try commenting down that getUid() line  the app still gives a crash"}],"tags":[],"owner":{"account_id":17312820,"reputation":374,"user_id":16711198,"display_name":"Vera Iureva"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666601515,"creation_date":1666601231,"answer_id":74178603,"question_id":74178100,"body_markdown":"\r\nNot sure, but try to replace this\r\n\r\n     if (task.isSuccessful()) {\r\n\r\nto that\r\n\r\n    if(task != null &amp;&amp; task.isSuccessful()){ \r\n\r\n(everywhere).\r\n\r\nTask is nullable, and can return null (Google doesn&#39;t say this in the docs.\r\n\r\nAlso add the same check for user\r\n\r\n   \r\n\r\n     if (mAuth.getCurrentUser() != null)\r\n\r\nIt could be null if user not signed in, and throw NullPointerEx when you try to call \r\n\r\n    getUid()\r\n\r\n","title":"void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)&#39; on a null object","body":"<p>Not sure, but try to replace this</p>\n<pre><code> if (task.isSuccessful()) {\n</code></pre>\n<p>to that</p>\n<pre><code>if(task != null &amp;&amp; task.isSuccessful()){ \n</code></pre>\n<p>(everywhere).</p>\n<p>Task is nullable, and can return null (Google doesn't say this in the docs.</p>\n<p>Also add the same check for user</p>\n<pre><code> if (mAuth.getCurrentUser() != null)\n</code></pre>\n<p>It could be null if user not signed in, and throw NullPointerEx when you try to call</p>\n<pre><code>getUid()\n</code></pre>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666618030,"creation_date":1666598344,"question_id":74178100,"body_markdown":"**Problem**\r\nThis is the code for register activity and i want to make user register and also add user name and user id details in realtimedatabase. But app gets crashed after opening register activity\r\n\r\n**Error**\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.movies4u, PID: 27945\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke interface method &#39;void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)&#39; on a null object reference\r\n                                                                                                    \tat com.google.firebase.auth.zzl.run(com.google.firebase:firebase-auth@@21.0.3:1)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:224)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n\r\n**java**    \r\n\r\n    package com.example.movies4u;\r\n                import static android.content.ContentValues.TAG;\r\n                import androidx.annotation.NonNull;\r\n                import androidx.appcompat.app.AppCompatActivity;\r\n                    \r\n                    import android.annotation.SuppressLint;\r\n                    import android.content.Intent;\r\n                    import android.os.Bundle;\r\n                    import android.util.Log;\r\n                    import android.view.View;\r\n                    import android.view.WindowManager;\r\n                    import android.widget.Button;\r\n                    import android.widget.EditText;\r\n                    import android.widget.ProgressBar;\r\n                    import android.widget.TextView;\r\n                    import android.widget.Toast;\r\n                    \r\n                    import com.example.movies4u.Utils.FirebaseMethods;\r\n                    import com.google.android.gms.tasks.OnCompleteListener;\r\n                    import com.google.android.gms.tasks.OnFailureListener;\r\n                    import com.google.android.gms.tasks.Task;\r\n                    import com.google.firebase.auth.AuthResult;\r\n                    import com.google.firebase.auth.FirebaseAuth;\r\n                    import com.google.firebase.auth.FirebaseAuthUserCollisionException;\r\n                    import com.google.firebase.auth.FirebaseUser;\r\n                    import com.google.firebase.database.DataSnapshot;\r\n                    import com.google.firebase.database.DatabaseError;\r\n                    import com.google.firebase.database.DatabaseReference;\r\n                    import com.google.firebase.database.FirebaseDatabase;\r\n                    import com.google.firebase.database.ValueEventListener;\r\n                    \r\n                    public class activity_register extends AppCompatActivity {\r\n                        TextView HaveAccount;\r\n                        EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\r\n                        String username,email,password;\r\n                        Button btnRegister;\r\n                        FirebaseAuth mAuth;\r\n                        ProgressBar pb;\r\n                        private String userID;\r\n                        private FirebaseAuth.AuthStateListener mAuthListener;\r\n                        private FirebaseMethods firebaseMethods;\r\n                        private FirebaseDatabase mFirebaseDatabase;\r\n                        private DatabaseReference myRef;\r\n                    \r\n                        private String append;\r\n                    \r\n                        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n                        @Override\r\n                        protected void onCreate(Bundle savedInstanceState) {\r\n                            super.onCreate(savedInstanceState);\r\n                            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\r\n                            setContentView(R.layout.activity_register);\r\n                            firebaseMethods =new FirebaseMethods(activity_register.this);\r\n                    \r\n                            HaveAccount= (TextView) findViewById(R.id.HaveAccount);\r\n                            pb = findViewById(R.id.progressBar3);\r\n                            inputUsername=findViewById(R.id.inputUsername);\r\n                            inputEmail=findViewById(R.id.inputEmail);\r\n                            inputPassword=findViewById(R.id.inputPassword);\r\n                            inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\r\n                            btnRegister=findViewById(R.id.btnRegister);\r\n                            username=inputUsername.getText().toString();\r\n                            email=inputEmail.getText().toString();\r\n                            password=inputPassword.getText().toString();\r\n                    \r\n                            pb.setVisibility(View.GONE);\r\n                            HaveAccount.setOnClickListener(view -&gt; {\r\n                                Intent loginintent=new Intent(activity_register.this,login_activity.class);\r\n                                startActivity(loginintent);\r\n                            });\r\n                    \r\n                            mAuth=FirebaseAuth.getInstance();\r\n                            btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\r\n                        }\r\n                    \r\n                        private void ValidateDataandDoRegister() {\r\n                            String username=inputUsername.getText().toString().trim();\r\n                            String email=inputEmail.getText().toString().trim();\r\n                            String password=inputPassword.getText().toString().trim();\r\n                            String confirmPassword=inputConfirmPassword.getText().toString().trim();\r\n                            if(email.isEmpty()){\r\n                                inputEmail.setError(&quot;Enter Email Address&quot;);\r\n                                inputEmail.requestFocus();\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else if(email.length()&lt;10){\r\n                                inputEmail.setError(&quot;Enter valid Email&quot;);\r\n                                inputEmail.requestFocus();\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else if(password.isEmpty()){\r\n                                inputPassword.setError(&quot;Enter the password&quot;);\r\n                                inputPassword.requestFocus();\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else if(password.length()&lt;8){\r\n                                inputPassword.setError(&quot;Password should be greater than 8 characters&quot;);\r\n                                inputPassword.requestFocus();\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else if(confirmPassword.isEmpty()){\r\n                                inputConfirmPassword.setError(&quot;Re-Enter the Password&quot;);\r\n                                inputConfirmPassword.requestFocus();\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else if(confirmPassword.length()&lt;8){\r\n                                inputConfirmPassword.setError(&quot;Password should be greater than 8 characters&quot;);\r\n                                inputConfirmPassword.requestFocus();\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else if(!password.equals(confirmPassword)){\r\n                                inputPassword.setError(&quot;Password not matched&quot;);\r\n                                inputPassword.requestFocus();\r\n                                inputConfirmPassword.setError(&quot;Password not matched&quot;);\r\n                                inputConfirmPassword.requestFocus();\r\n                                inputPassword.setText(&quot;&quot;);\r\n                                inputConfirmPassword.setText(&quot;&quot;);\r\n                                pb.setVisibility(View.GONE);\r\n                            }\r\n                            else{\r\n                                pb.setVisibility(View.VISIBLE);\r\n                                doRegister(username,email,password);\r\n                            }\r\n                        }\r\n                    \r\n                        private void doRegister(String username,String email, String password) {\r\n                            pb.setVisibility(View.VISIBLE);\r\n                            mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\r\n                                if(task.isSuccessful()){\r\n                                    userID=mAuth.getCurrentUser().getUid();\r\n                    \r\n                    //                firebaseMethods.registerNewEmail(username,email,password);\r\n                                    setupFirebaseAuth();\r\n                                    sendVerificationEmail();\r\n                                }\r\n                    \r\n                            }).addOnFailureListener(e -&gt; {\r\n                                if(e instanceof FirebaseAuthUserCollisionException){\r\n                                    btnRegister.setEnabled(true);\r\n                                    inputEmail.setError(&quot;Email Already Registered&quot;);\r\n                                    pb.setVisibility(View.GONE);\r\n                                    inputEmail.requestFocus();\r\n                                }\r\n                                else{\r\n                                    btnRegister.setEnabled(true);\r\n                                    pb.setVisibility(View.GONE);\r\n                                    Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n                    \r\n                        private void sendVerificationEmail() {\r\n                            mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\r\n                                if(task.isSuccessful()){\r\n                                    btnRegister.setEnabled(true);\r\n                                    pb.setVisibility(View.GONE);\r\n                                    Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                else {\r\n                                    btnRegister.setEnabled(true);\r\n                                    pb.setVisibility(View.GONE);\r\n                                    Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n                    \r\n                    \r\n                        /*\r\n                        ------------------------------------ Firebase ---------------------------------------------\r\n                         */\r\n                    \r\n                        /**\r\n                         * Setup the firebase auth object\r\n                         */\r\n                        private void setupFirebaseAuth(){\r\n                            Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\r\n                    \r\n                            mAuth = FirebaseAuth.getInstance();\r\n                            mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n                            myRef = mFirebaseDatabase.getReference();\r\n                    \r\n                            mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n                                @Override\r\n                                public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                                    FirebaseUser user = firebaseAuth.getCurrentUser();\r\n                                    if (user != null) {\r\n                                        // User is signed in\r\n                                        Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\r\n                    \r\n                                        myRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                            @Override\r\n                                            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                                                //1st check: Make sure the username is not already in use\r\n                                                if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\r\n                                                    //to randomly generate key to make sure username is unique\r\n                                                    append = myRef.push().getKey().substring(3,10);\r\n                                                    Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\r\n                                                }\r\n                                                username = username + append;\r\n                    \r\n                                                //add new user to the database\r\n                                                firebaseMethods.addNewUser(email, username);\r\n                                                Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                    \r\n                                            @Override\r\n                                            public void onCancelled(DatabaseError databaseError) {\r\n                                                Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        });\r\n                                        finish();\r\n                    \r\n                                    } else {\r\n                                        // User is signed out\r\n                                        Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\r\n                                        Log.d(TAG, &quot;onAuthStateChanged:signed_out&quot;);\r\n                                    }\r\n                                    // ...\r\n                                }\r\n                            };\r\n                        }\r\n                    \r\n                        @Override\r\n                        public void onStart() {\r\n                            super.onStart();\r\n                            mAuth.addAuthStateListener(mAuthListener);\r\n                        }\r\n                    \r\n                        @Override\r\n                        public void onStop() {\r\n                            super.onStop();\r\n                            if (mAuthListener != null) {\r\n                                mAuth.removeAuthStateListener(mAuthListener);\r\n                            }\r\n                        }\r\n                    }","title":"void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)&#39; on a null object","body":"<p><strong>Problem</strong>\nThis is the code for register activity and i want to make user register and also add user name and user id details in realtimedatabase. But app gets crashed after opening register activity</p>\n<p><strong>Error</strong>\nFATAL EXCEPTION: main\nProcess: com.example.movies4u, PID: 27945\njava.lang.NullPointerException: Attempt to invoke interface method 'void com.google.firebase.auth.FirebaseAuth$AuthStateListener.onAuthStateChanged(com.google.firebase.auth.FirebaseAuth)' on a null object reference\nat com.google.firebase.auth.zzl.run(com.google.firebase:firebase-auth@@21.0.3:1)\nat android.os.Handler.handleCallback(Handler.java:873)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:224)\nat android.app.ActivityThread.main(ActivityThread.java:7081)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)</p>\n<p><strong>java</strong></p>\n<pre><code>package com.example.movies4u;\n            import static android.content.ContentValues.TAG;\n            import androidx.annotation.NonNull;\n            import androidx.appcompat.app.AppCompatActivity;\n                \n                import android.annotation.SuppressLint;\n                import android.content.Intent;\n                import android.os.Bundle;\n                import android.util.Log;\n                import android.view.View;\n                import android.view.WindowManager;\n                import android.widget.Button;\n                import android.widget.EditText;\n                import android.widget.ProgressBar;\n                import android.widget.TextView;\n                import android.widget.Toast;\n                \n                import com.example.movies4u.Utils.FirebaseMethods;\n                import com.google.android.gms.tasks.OnCompleteListener;\n                import com.google.android.gms.tasks.OnFailureListener;\n                import com.google.android.gms.tasks.Task;\n                import com.google.firebase.auth.AuthResult;\n                import com.google.firebase.auth.FirebaseAuth;\n                import com.google.firebase.auth.FirebaseAuthUserCollisionException;\n                import com.google.firebase.auth.FirebaseUser;\n                import com.google.firebase.database.DataSnapshot;\n                import com.google.firebase.database.DatabaseError;\n                import com.google.firebase.database.DatabaseReference;\n                import com.google.firebase.database.FirebaseDatabase;\n                import com.google.firebase.database.ValueEventListener;\n                \n                public class activity_register extends AppCompatActivity {\n                    TextView HaveAccount;\n                    EditText inputUsername,inputEmail,inputPassword,inputConfirmPassword;\n                    String username,email,password;\n                    Button btnRegister;\n                    FirebaseAuth mAuth;\n                    ProgressBar pb;\n                    private String userID;\n                    private FirebaseAuth.AuthStateListener mAuthListener;\n                    private FirebaseMethods firebaseMethods;\n                    private FirebaseDatabase mFirebaseDatabase;\n                    private DatabaseReference myRef;\n                \n                    private String append;\n                \n                    @SuppressLint(&quot;MissingInflatedId&quot;)\n                    @Override\n                    protected void onCreate(Bundle savedInstanceState) {\n                        super.onCreate(savedInstanceState);\n                        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); //Hide status Bar\n                        setContentView(R.layout.activity_register);\n                        firebaseMethods =new FirebaseMethods(activity_register.this);\n                \n                        HaveAccount= (TextView) findViewById(R.id.HaveAccount);\n                        pb = findViewById(R.id.progressBar3);\n                        inputUsername=findViewById(R.id.inputUsername);\n                        inputEmail=findViewById(R.id.inputEmail);\n                        inputPassword=findViewById(R.id.inputPassword);\n                        inputConfirmPassword=findViewById(R.id.inputConfirmPassword);\n                        btnRegister=findViewById(R.id.btnRegister);\n                        username=inputUsername.getText().toString();\n                        email=inputEmail.getText().toString();\n                        password=inputPassword.getText().toString();\n                \n                        pb.setVisibility(View.GONE);\n                        HaveAccount.setOnClickListener(view -&gt; {\n                            Intent loginintent=new Intent(activity_register.this,login_activity.class);\n                            startActivity(loginintent);\n                        });\n                \n                        mAuth=FirebaseAuth.getInstance();\n                        btnRegister.setOnClickListener(view -&gt; ValidateDataandDoRegister());\n                    }\n                \n                    private void ValidateDataandDoRegister() {\n                        String username=inputUsername.getText().toString().trim();\n                        String email=inputEmail.getText().toString().trim();\n                        String password=inputPassword.getText().toString().trim();\n                        String confirmPassword=inputConfirmPassword.getText().toString().trim();\n                        if(email.isEmpty()){\n                            inputEmail.setError(&quot;Enter Email Address&quot;);\n                            inputEmail.requestFocus();\n                            pb.setVisibility(View.GONE);\n                        }\n                        else if(email.length()&lt;10){\n                            inputEmail.setError(&quot;Enter valid Email&quot;);\n                            inputEmail.requestFocus();\n                            pb.setVisibility(View.GONE);\n                        }\n                        else if(password.isEmpty()){\n                            inputPassword.setError(&quot;Enter the password&quot;);\n                            inputPassword.requestFocus();\n                            pb.setVisibility(View.GONE);\n                        }\n                        else if(password.length()&lt;8){\n                            inputPassword.setError(&quot;Password should be greater than 8 characters&quot;);\n                            inputPassword.requestFocus();\n                            pb.setVisibility(View.GONE);\n                        }\n                        else if(confirmPassword.isEmpty()){\n                            inputConfirmPassword.setError(&quot;Re-Enter the Password&quot;);\n                            inputConfirmPassword.requestFocus();\n                            pb.setVisibility(View.GONE);\n                        }\n                        else if(confirmPassword.length()&lt;8){\n                            inputConfirmPassword.setError(&quot;Password should be greater than 8 characters&quot;);\n                            inputConfirmPassword.requestFocus();\n                            pb.setVisibility(View.GONE);\n                        }\n                        else if(!password.equals(confirmPassword)){\n                            inputPassword.setError(&quot;Password not matched&quot;);\n                            inputPassword.requestFocus();\n                            inputConfirmPassword.setError(&quot;Password not matched&quot;);\n                            inputConfirmPassword.requestFocus();\n                            inputPassword.setText(&quot;&quot;);\n                            inputConfirmPassword.setText(&quot;&quot;);\n                            pb.setVisibility(View.GONE);\n                        }\n                        else{\n                            pb.setVisibility(View.VISIBLE);\n                            doRegister(username,email,password);\n                        }\n                    }\n                \n                    private void doRegister(String username,String email, String password) {\n                        pb.setVisibility(View.VISIBLE);\n                        mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\n                            if(task.isSuccessful()){\n                                userID=mAuth.getCurrentUser().getUid();\n                \n                //                firebaseMethods.registerNewEmail(username,email,password);\n                                setupFirebaseAuth();\n                                sendVerificationEmail();\n                            }\n                \n                        }).addOnFailureListener(e -&gt; {\n                            if(e instanceof FirebaseAuthUserCollisionException){\n                                btnRegister.setEnabled(true);\n                                inputEmail.setError(&quot;Email Already Registered&quot;);\n                                pb.setVisibility(View.GONE);\n                                inputEmail.requestFocus();\n                            }\n                            else{\n                                btnRegister.setEnabled(true);\n                                pb.setVisibility(View.GONE);\n                                Toast.makeText(activity_register.this, &quot;Oops! Something Went wrong&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                \n                    private void sendVerificationEmail() {\n                        mAuth.getCurrentUser().sendEmailVerification().addOnCompleteListener(task -&gt; {\n                            if(task.isSuccessful()){\n                                btnRegister.setEnabled(true);\n                                pb.setVisibility(View.GONE);\n                                Toast.makeText(activity_register.this, &quot;Email has been sent to your email address&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            else {\n                                btnRegister.setEnabled(true);\n                                pb.setVisibility(View.GONE);\n                                Toast.makeText(getApplicationContext(), &quot;Oops! failed to send verification email&quot;,Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                \n                \n                    /*\n                    ------------------------------------ Firebase ---------------------------------------------\n                     */\n                \n                    /**\n                     * Setup the firebase auth object\n                     */\n                    private void setupFirebaseAuth(){\n                        Log.d(TAG, &quot;setupFirebaseAuth: setting up firebase auth.&quot;);\n                \n                        mAuth = FirebaseAuth.getInstance();\n                        mFirebaseDatabase = FirebaseDatabase.getInstance();\n                        myRef = mFirebaseDatabase.getReference();\n                \n                        mAuthListener = new FirebaseAuth.AuthStateListener() {\n                            @Override\n                            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n                                FirebaseUser user = firebaseAuth.getCurrentUser();\n                                if (user != null) {\n                                    // User is signed in\n                                    Log.d(TAG, &quot;onAuthStateChanged:signed_in:&quot; + user.getUid());\n                \n                                    myRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                                        @Override\n                                        public void onDataChange(DataSnapshot dataSnapshot) {\n                                            //1st check: Make sure the username is not already in use\n                                            if(firebaseMethods.checkIfUsernameExists(username, dataSnapshot)){\n                                                //to randomly generate key to make sure username is unique\n                                                append = myRef.push().getKey().substring(3,10);\n                                                Log.d(TAG, &quot;onDataChange: username already exists. Appending random string to name: &quot; + append);\n                                            }\n                                            username = username + append;\n                \n                                            //add new user to the database\n                                            firebaseMethods.addNewUser(email, username);\n                                            Toast.makeText(activity_register.this, &quot;SignUp successful&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                \n                                        @Override\n                                        public void onCancelled(DatabaseError databaseError) {\n                                            Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    });\n                                    finish();\n                \n                                } else {\n                                    // User is signed out\n                                    Toast.makeText(activity_register.this, &quot;unsuccessful&quot;, Toast.LENGTH_SHORT).show();\n                                    Log.d(TAG, &quot;onAuthStateChanged:signed_out&quot;);\n                                }\n                                // ...\n                            }\n                        };\n                    }\n                \n                    @Override\n                    public void onStart() {\n                        super.onStart();\n                        mAuth.addAuthStateListener(mAuthListener);\n                    }\n                \n                    @Override\n                    public void onStop() {\n                        super.onStop();\n                        if (mAuthListener != null) {\n                            mAuth.removeAuthStateListener(mAuthListener);\n                        }\n                    }\n                }\n</code></pre>\n"},{"tags":["java","multipart","java-http-client","mimemultipart","javax.mail.address"],"owner":{"account_id":26499656,"reputation":11,"user_id":20136807,"display_name":"Sharath K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666617983,"creation_date":1666508009,"question_id":74169198,"body_markdown":"ByteArrayDataSource datasource = new ByteArrayDataSource(in, &quot;multipart/form-data&quot;);\r\n    MimeMultipart multipart = new MimeMultipart(datasource);\r\n\r\n    int count = multipart.getCount();\r\n    log.debug(&quot;count &quot; + count);\r\n    for (int i = 0; i &lt; count; i++) {\r\n        BodyPart bodyPart = multipart.getBodyPart(i);\r\n        if (bodyPart.isMimeType(&quot;multipart/mixed&quot;)) {\r\n            log.info(&quot;multipart/mixed&quot; + bodyPart.getContentType());\r\n            processMultipart(bodyPart.getContent());\r\n        } else if (bodyPart.isMimeType(&quot;application/json&quot;)) {\r\n         \r\n           \r\n        } else {\r\n            log.warn(&quot;default &quot; + bodyPart.getContentType());\r\n        }\r\n    }","title":"How to process each part from multipart response in Java from javax.mail.internet.MimeMultipart API","body":"<p>ByteArrayDataSource datasource = new ByteArrayDataSource(in, &quot;multipart/form-data&quot;);\nMimeMultipart multipart = new MimeMultipart(datasource);</p>\n<pre><code>int count = multipart.getCount();\nlog.debug(&quot;count &quot; + count);\nfor (int i = 0; i &lt; count; i++) {\n    BodyPart bodyPart = multipart.getBodyPart(i);\n    if (bodyPart.isMimeType(&quot;multipart/mixed&quot;)) {\n        log.info(&quot;multipart/mixed&quot; + bodyPart.getContentType());\n        processMultipart(bodyPart.getContent());\n    } else if (bodyPart.isMimeType(&quot;application/json&quot;)) {\n     \n       \n    } else {\n        log.warn(&quot;default &quot; + bodyPart.getContentType());\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","automation"],"answers":[{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666617793,"creation_date":1666617793,"answer_id":74181753,"question_id":74176694,"body_markdown":"If there is no reference to the expected number of results containing the &#39;keyword&#39;, but if I know that there should be at least 1 result; then I would do the following:\r\n\r\nInstead of using findElement I would get a list of elements by using findElements and check whether the size of the list is larger than 0.\r\n\r\nIt would look similar to the following:\r\n\r\n```\r\n\r\nList&lt;WebElement&gt; result = driver.findElements(By.xpath(&quot;//div[@col-\r\nid=&#39;issueName&#39;][contains(text(),’Vu Manh Hai’)]&quot;));\r\n\r\nAssert.assertTrue(result.size()&gt;0);\r\n\r\n```\r\n\r\nOf course this is based on assumption that the keyword results in at least 1 search result. If you could get the number of the search results from a database query or so that would be much more accurate.\r\n\r\n","title":"How to verify a value from a Search list using Slenium","body":"<p>If there is no reference to the expected number of results containing the 'keyword', but if I know that there should be at least 1 result; then I would do the following:</p>\n<p>Instead of using findElement I would get a list of elements by using findElements and check whether the size of the list is larger than 0.</p>\n<p>It would look similar to the following:</p>\n<pre><code>\nList&lt;WebElement&gt; result = driver.findElements(By.xpath(&quot;//div[@col-\nid='issueName'][contains(text(),’Vu Manh Hai’)]&quot;));\n\nAssert.assertTrue(result.size()&gt;0);\n\n</code></pre>\n<p>Of course this is based on assumption that the keyword results in at least 1 search result. If you could get the number of the search results from a database query or so that would be much more accurate.</p>\n"}],"owner":{"account_id":12891669,"reputation":1,"user_id":9323457,"display_name":"Tuan Dat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666617793,"creation_date":1666585427,"question_id":74176694,"body_markdown":"I have to verify a record from the search list. How can I do it effectively and in a reusable way? I search a keyword that returns 100s of records and then verify my expected search keyword is displayed in the search list.\r\n\r\nHere is my code\r\n```\r\n public void Test_assert_equals() throws IOException, InterruptedException\r\n        {\r\n            System.out.println(&quot;Verify Testcase UploadDocument&quot;);\r\n            JavascriptExecutor js = (JavascriptExecutor)driver;\r\n            driver.findElement(By.name(&quot;usernameName&quot;)).sendKeys(new CharSequence[]{&quot;dothicamtu@fecredit.com.vn&quot;});\r\n            driver.findElement(By.name(&quot;passwordName&quot;)).sendKeys(new CharSequence[]{&quot;Abc@123456&quot;});\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/mat-spinner-button/button/span[1]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuseSidebar\\&quot;]/navbar/navbar-vertical-style-1/div[2]/div[3]/fuse-navigation/div/fuse-nav-vertical-group[1]/div[2]/fuse-nav-vertical-collapsable[1]/a&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuseSidebar\\&quot;]/navbar/navbar-vertical-style-1/div[2]/div[3]/fuse-navigation/div/fuse-nav-vertical-group[1]/div[2]/fuse-nav-vertical-collapsable[1]/div/fuse-nav-vertical-item/a&quot;)).click();\r\n            Thread.sleep(2000); //w8 list all data\r\n            //Search\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;isaleleadl2\\&quot;]/div[2]/div[1]/div[2]/fuse-search-bar/div/div/label/button/span[1]&quot;)).click();\r\n            //Search data Vu Manh Hai\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuse-search-bar-input\\&quot;]&quot;)).sendKeys(new CharSequence[]{&quot;Vũ Mạnh Hải&quot;});\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuse-search-bar-input\\&quot;]&quot;)).sendKeys(Keys.ENTER);\r\n            //String result= driver.findElement(By.xpath(&quot;//*[@id=\\&quot;isaleleadl2\\&quot;]/div[2]&quot;)).getText();\r\n            //Assert.assertEquals(&quot;Vũ Mạnh Hải&quot;, result);\r\n            Thread.sleep(1000);\r\n        }\r\n```\r\n[enter image description here][1]\r\n\r\n\r\nI have using this logic check but got an errors in &quot;assertEquals&quot;\r\n[enter image description here][2]\r\ni need to verify &quot;Vũ Mạnh Hải&quot; is displayed in the search list\r\n[enter image description here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yMjtE.png\r\n  [2]: https://i.stack.imgur.com/7YEBk.png\r\n  [3]: https://i.stack.imgur.com/2d0sg.png","title":"How to verify a value from a Search list using Slenium","body":"<p>I have to verify a record from the search list. How can I do it effectively and in a reusable way? I search a keyword that returns 100s of records and then verify my expected search keyword is displayed in the search list.</p>\n<p>Here is my code</p>\n<pre><code> public void Test_assert_equals() throws IOException, InterruptedException\n        {\n            System.out.println(&quot;Verify Testcase UploadDocument&quot;);\n            JavascriptExecutor js = (JavascriptExecutor)driver;\n            driver.findElement(By.name(&quot;usernameName&quot;)).sendKeys(new CharSequence[]{&quot;dothicamtu@fecredit.com.vn&quot;});\n            driver.findElement(By.name(&quot;passwordName&quot;)).sendKeys(new CharSequence[]{&quot;Abc@123456&quot;});\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login-form\\&quot;]/mat-spinner-button/button/span[1]&quot;)).click();\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuseSidebar\\&quot;]/navbar/navbar-vertical-style-1/div[2]/div[3]/fuse-navigation/div/fuse-nav-vertical-group[1]/div[2]/fuse-nav-vertical-collapsable[1]/a&quot;)).click();\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuseSidebar\\&quot;]/navbar/navbar-vertical-style-1/div[2]/div[3]/fuse-navigation/div/fuse-nav-vertical-group[1]/div[2]/fuse-nav-vertical-collapsable[1]/div/fuse-nav-vertical-item/a&quot;)).click();\n            Thread.sleep(2000); //w8 list all data\n            //Search\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;isaleleadl2\\&quot;]/div[2]/div[1]/div[2]/fuse-search-bar/div/div/label/button/span[1]&quot;)).click();\n            //Search data Vu Manh Hai\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuse-search-bar-input\\&quot;]&quot;)).sendKeys(new CharSequence[]{&quot;Vũ Mạnh Hải&quot;});\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fuse-search-bar-input\\&quot;]&quot;)).sendKeys(Keys.ENTER);\n            //String result= driver.findElement(By.xpath(&quot;//*[@id=\\&quot;isaleleadl2\\&quot;]/div[2]&quot;)).getText();\n            //Assert.assertEquals(&quot;Vũ Mạnh Hải&quot;, result);\n            Thread.sleep(1000);\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yMjtE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have using this logic check but got an errors in &quot;assertEquals&quot;\n<a href=\"https://i.stack.imgur.com/7YEBk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\ni need to verify &quot;Vũ Mạnh Hải&quot; is displayed in the search list\n<a href=\"https://i.stack.imgur.com/2d0sg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":8966354,"reputation":43,"user_id":9378325,"display_name":"user9378325"},"score":0,"creation_date":1543001396,"post_id":53451980,"comment_id":93776620,"body_markdown":"so helpful comment @Sam. I follow that instruction and again and again again and again... Invalid application ID. Follow instructions here: to * * find your app ID.","body":"so helpful comment @Sam. I follow that instruction and again and again again and again... Invalid application ID. Follow instructions here: to * * find your app ID."},{"owner":{"account_id":8966354,"reputation":43,"user_id":9378325,"display_name":"user9378325"},"score":0,"creation_date":1543001931,"post_id":53451980,"comment_id":93776804,"body_markdown":"I&#39;ve read Google Help and i know it :( @Sam.","body":"I&#39;ve read Google Help and i know it :( @Sam."},{"owner":{"account_id":12043659,"reputation":986,"user_id":8809599,"display_name":"Masoom Badi"},"score":1,"creation_date":1543002361,"post_id":53451980,"comment_id":93776958,"body_markdown":"what is that opening square bracket in your manifest file, in app-id android-value?","body":"what is that opening square bracket in your manifest file, in app-id android-value?"}],"answers":[{"tags":[],"owner":{"account_id":12043659,"reputation":986,"user_id":8809599,"display_name":"Masoom Badi"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1543002581,"creation_date":1543002581,"answer_id":53452259,"question_id":53451980,"body_markdown":"In your manifest file \r\n\r\n`&lt;meta-data\r\n        android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n        android:value=&quot;[ca-app-pub-5292422000574799~xxxxxxxxxx&quot;/&gt;`\r\n\r\nChange it to :\r\n\r\n`&lt;meta-data\r\n        android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n        android:value=&quot;ca-app-pub-5292422000574799~xxxxxxxxxx&quot;/&gt;`\r\n\r\nRemove the opening square bracket.\r\nFor better practice, define such IDs in `string.xml` file, instead of using directly.","title":"Getting &#39;Invalid Application ID&#39; error when trying to implement AdMob in Android Application","body":"<p>In your manifest file </p>\n\n<p><code>&lt;meta-data\n        android:name=\"com.google.android.gms.ads.APPLICATION_ID\"\n        android:value=\"[ca-app-pub-5292422000574799~xxxxxxxxxx\"/&gt;</code></p>\n\n<p>Change it to :</p>\n\n<p><code>&lt;meta-data\n        android:name=\"com.google.android.gms.ads.APPLICATION_ID\"\n        android:value=\"ca-app-pub-5292422000574799~xxxxxxxxxx\"/&gt;</code></p>\n\n<p>Remove the opening square bracket.\nFor better practice, define such IDs in <code>string.xml</code> file, instead of using directly.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1663036430,"post_id":73644332,"comment_id":130139093,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73644332/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15893574,"reputation":1,"user_id":11467976,"display_name":"Abu Zonayed Riyadh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665984405,"creation_date":1662616916,"answer_id":73644332,"question_id":53451980,"body_markdown":"If you put the correct Application Id but still are getting same error you probably put a extra space at the end of the app id. Remove it and the crash will go away. I put extra space at the last like this ca-app-pub-5292422000574799~xxxxxxxxxx &quot; in the unity editor and could find any error. Only crashes after the run.\r\n","title":"Getting &#39;Invalid Application ID&#39; error when trying to implement AdMob in Android Application","body":"<p>If you put the correct Application Id but still are getting same error you probably put a extra space at the end of the app id. Remove it and the crash will go away. I put extra space at the last like this ca-app-pub-5292422000574799~xxxxxxxxxx &quot; in the unity editor and could find any error. Only crashes after the run.</p>\n"},{"tags":[],"owner":{"account_id":15424156,"reputation":8990,"user_id":11127383,"display_name":"Daniel Danielecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666617712,"creation_date":1666617712,"answer_id":74181736,"question_id":53451980,"body_markdown":"Make sure to use *Add Unit* ID, not the App *ID*.","title":"Getting &#39;Invalid Application ID&#39; error when trying to implement AdMob in Android Application","body":"<p>Make sure to use <em>Add Unit</em> ID, not the App <em>ID</em>.</p>\n"}],"owner":{"account_id":8966354,"reputation":43,"user_id":9378325,"display_name":"user9378325"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13920,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":53452259,"answer_count":3,"score":1,"last_activity_date":1666617712,"creation_date":1543000851,"question_id":53451980,"body_markdown":"I have been following google admob vidoes for 3 days, but I&#39;m getting a run time error in the logCat : \r\n\r\n&gt; **Logcat**\r\n\r\n\r\n&gt;    Process: com.exafmpflle.android.happybirthdayyyy, PID: 19319\r\n&gt;    java.lang.RuntimeException: Unable to get provider \r\n&gt;    com.google.android.gms.ads.MobileAdsInitProvider:\r\n&gt;    java.lang.IllegalStateException: \r\n&gt;      Invalid application ID. Follow instructions here: to *\r\n&gt;         * find your app ID.\r\n\r\n   \r\n**activitymain**\r\n\r\n\r\n    \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    android:background=&quot;@drawable/january_main&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.exafmpflle.android.xxxxxxx.MainActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/idbuttonfirst&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignTop=&quot;@+id/idbuttonsecond&quot;\r\n            android:layout_marginStart=&quot;79dp&quot;\r\n            android:background=&quot;@drawable/ic_iconaphoto&quot;\r\n            android:src=&quot;?attr/selectableItemBackground&quot; /&gt;\r\n\r\n        &lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            app:adSize=&quot;BANNER&quot;\r\n            app:adUnitId=&quot;ca-app-pub-52924220005747xx/xxxxxxxx&quot;  /&gt;\r\n\r\n\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;android.support.design.widget.NavigationView\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n\r\n&lt;/android.support.v4.widget.DrawerLayout&gt; \r\n\r\n\r\n**AndroidMainfest**   \r\n[allso is in my Mainfest][1]\r\n   \r\n    &lt;manifest \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.exafmpflle.android.xxxxxxx&quot;\r\n    android:installLocation=&quot;auto&quot;&gt;\r\n\r\n    &lt;!-- Include required 2 permissions for Google Mobile Ads to run--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.permission.CALL_PHONE&quot; \r\n    android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.permission.READ_PHONE_STATE&quot; \r\n    android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;supports-screens\r\n        android:anyDensity=&quot;true&quot;\r\n        android:largeScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:resizeable=&quot;true&quot;\r\n        android:smallScreens=&quot;true&quot;\r\n        android:xlargeScreens=&quot;true&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;false&quot;\r\n        android:installLocation=&quot;auto&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher_birthdaycake&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n\r\n        &lt;!--This meta-data tag is required to use Google Play Services.--&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.version&quot;\r\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n\r\n        &lt;!-- Sample AdMob App ID: ca-app-pub-5292422000574799~xxxxxxxx --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;[ca-app-pub-5292422000574799~xxxxxxxxxx&quot;/&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/SplashTheme&quot; &gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;!--Include the AdActivity configChanges and theme. --&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.google.android.gms.ads.AdActivity&quot;\r\n            android:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:noHistory=&quot;false&quot;/&gt;\r\n\r\n        &lt;activity\r\n            android:label=&quot;@string/about&quot;\r\n            android:name=&quot;.About&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:noHistory=&quot;false&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n            android:value=&quot;.MainActivity&quot; /&gt;\r\n\r\n        &lt;!-- [START firebase_service] --&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.FirebaseMessagingService&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;meta-data\r\n            \r\n        android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/colorPrimary&quot; /&gt;\r\n\r\n       &lt;!-- FirebaseMessagingService performs security checks at runtime,\r\n             no need for explicit permissions despite exported=&quot;true&quot; --&gt;\r\n        &lt;service\r\n            \r\n        android:name=&quot;com.google.firebase.messaging.FirebaseMessagingService&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n            &lt;intent-filter\r\n                android:priority=&quot;-500&quot; &gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;com.google.android.gms.measurement.AppMeasurementReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n        &lt;/receiver&gt;\r\n        &lt;receiver\r\n            android:name=&quot;com.google.android.gms.measurement.AppMeasurementInstallReferrerReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.INSTALL_PACKAGES&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.android.vending.INSTALL_REFERRER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.google.android.gms.measurement.AppMeasurementService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;service\r\n        android:name=&quot;com.google.android.gms.measurement.AppMeasurementJobService&quot;  \r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;com.google.firebase.iid.FirebaseInstanceIdReceiver&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;com.google.android.c2dm.permission.SEND&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;com.exafmpflle.android.happybirthdayyyy&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;!-- FirebaseInstanceIdService performs security checks at runtime,\r\n             no need for explicit permissions despite exported=&quot;true&quot; --&gt;\r\n        &lt;service\r\n            android:name=&quot;com.google.firebase.iid.FirebaseInstanceIdService&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n            &lt;intent-filter android:priority=&quot;-500&quot; &gt;\r\n                &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;com.google.firebase.provider.FirebaseInitProvider&quot;\r\n            android:authorities=&quot;com.exafmpflle.xxxxxx.xxxxxxxxx.firebaseinitprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:initOrder=&quot;100&quot; /&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;  \r\n\r\n                                      \r\n           \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gpWSl.jpg","title":"Getting &#39;Invalid Application ID&#39; error when trying to implement AdMob in Android Application","body":"<p>I have been following google admob vidoes for 3 days, but I'm getting a run time error in the logCat : </p>\n\n<blockquote>\n  <p><strong>Logcat</strong></p>\n  \n  <p>Process: com.exafmpflle.android.happybirthdayyyy, PID: 19319\n     java.lang.RuntimeException: Unable to get provider \n     com.google.android.gms.ads.MobileAdsInitProvider:\n     java.lang.IllegalStateException: \n       Invalid application ID. Follow instructions here: to *\n          * find your app ID.</p>\n</blockquote>\n\n<p><strong>activitymain</strong></p>\n\n<pre><code>xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/drawerLayout\"\nandroid:background=\"@drawable/january_main\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.exafmpflle.android.xxxxxxx.MainActivity\"&gt;\n\n&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/idbuttonfirst\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignTop=\"@+id/idbuttonsecond\"\n        android:layout_marginStart=\"79dp\"\n        android:background=\"@drawable/ic_iconaphoto\"\n        android:src=\"?attr/selectableItemBackground\" /&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        app:adSize=\"BANNER\"\n        app:adUnitId=\"ca-app-pub-52924220005747xx/xxxxxxxx\"  /&gt;\n\n\n&lt;/RelativeLayout&gt;\n&lt;android.support.design.widget.NavigationView\n    android:layout_gravity=\"start\"\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:menu=\"@menu/navigation_menu\" /&gt;\n</code></pre>\n\n<p> </p>\n\n<p><strong>AndroidMainfest</strong><br>\n<a href=\"https://i.stack.imgur.com/gpWSl.jpg\" rel=\"nofollow noreferrer\">allso is in my Mainfest</a></p>\n\n<pre><code>&lt;manifest \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.exafmpflle.android.xxxxxxx\"\nandroid:installLocation=\"auto\"&gt;\n\n&lt;!-- Include required 2 permissions for Google Mobile Ads to run--&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n&lt;uses-feature android:name=\"android.permission.CALL_PHONE\" \nandroid:required=\"false\" /&gt;\n&lt;uses-feature android:name=\"android.permission.READ_PHONE_STATE\" \nandroid:required=\"false\" /&gt;\n\n&lt;supports-screens\n    android:anyDensity=\"true\"\n    android:largeScreens=\"true\"\n    android:normalScreens=\"true\"\n    android:resizeable=\"true\"\n    android:smallScreens=\"true\"\n    android:xlargeScreens=\"true\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:hardwareAccelerated=\"false\"\n    android:installLocation=\"auto\"\n    android:icon=\"@mipmap/ic_launcher_birthdaycake\"\n    android:label=\"@string/app_name\"\n    android:largeHeap=\"true\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\" &gt;\n\n    &lt;!--This meta-data tag is required to use Google Play Services.--&gt;\n    &lt;meta-data\n        android:name=\"com.google.android.gms.version\"\n        android:value=\"@integer/google_play_services_version\" /&gt;\n\n    &lt;!-- Sample AdMob App ID: ca-app-pub-5292422000574799~xxxxxxxx --&gt;\n    &lt;meta-data\n        android:name=\"com.google.android.gms.ads.APPLICATION_ID\"\n        android:value=\"[ca-app-pub-5292422000574799~xxxxxxxxxx\"/&gt;\n\n    &lt;activity\n        android:name=\".SplashActivity\"\n        android:screenOrientation=\"portrait\"\n        android:theme=\"@style/SplashTheme\" &gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;!--Include the AdActivity configChanges and theme. --&gt;\n    &lt;activity\n        android:name=\"com.google.android.gms.ads.AdActivity\"\n        android:theme=\"@android:style/Theme.Translucent\" /&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"\n        android:screenOrientation=\"portrait\"\n        android:noHistory=\"false\"/&gt;\n\n    &lt;activity\n        android:label=\"@string/about\"\n        android:name=\".About\"\n        android:screenOrientation=\"portrait\"\n        android:noHistory=\"false\" /&gt;\n\n    &lt;meta-data\n        android:name=\"android.support.PARENT_ACTIVITY\"\n        android:value=\".MainActivity\" /&gt;\n\n    &lt;!-- [START firebase_service] --&gt;\n\n    &lt;service\n        android:name=\".FirebaseMessagingService\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;meta-data\n\n    android:name=\"com.google.firebase.messaging.default_notification_color\"\n        android:resource=\"@color/colorPrimary\" /&gt;\n\n   &lt;!-- FirebaseMessagingService performs security checks at runtime,\n         no need for explicit permissions despite exported=\"true\" --&gt;\n    &lt;service\n\n    android:name=\"com.google.firebase.messaging.FirebaseMessagingService\"\n        android:exported=\"true\" &gt;\n        &lt;intent-filter\n            android:priority=\"-500\" &gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;receiver\n        android:name=\"com.google.android.gms.measurement.AppMeasurementReceiver\"\n        android:enabled=\"true\"\n        android:exported=\"false\" &gt;\n    &lt;/receiver&gt;\n    &lt;receiver\n        android:name=\"com.google.android.gms.measurement.AppMeasurementInstallReferrerReceiver\"\n        android:enabled=\"true\"\n        android:exported=\"true\"\n        android:permission=\"android.permission.INSTALL_PACKAGES\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.android.vending.INSTALL_REFERRER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;service\n        android:name=\"com.google.android.gms.measurement.AppMeasurementService\"\n        android:enabled=\"true\"\n        android:exported=\"false\" /&gt;\n    &lt;service\n    android:name=\"com.google.android.gms.measurement.AppMeasurementJobService\"  \n        android:enabled=\"true\"\n        android:exported=\"false\"\n        android:permission=\"android.permission.BIND_JOB_SERVICE\" /&gt;\n\n    &lt;receiver\n        android:name=\"com.google.firebase.iid.FirebaseInstanceIdReceiver\"\n        android:exported=\"true\"\n        android:permission=\"com.google.android.c2dm.permission.SEND\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.android.c2dm.intent.RECEIVE\" /&gt;\n\n            &lt;category android:name=\"com.exafmpflle.android.happybirthdayyyy\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;!-- FirebaseInstanceIdService performs security checks at runtime,\n         no need for explicit permissions despite exported=\"true\" --&gt;\n    &lt;service\n        android:name=\"com.google.firebase.iid.FirebaseInstanceIdService\"\n        android:exported=\"true\" &gt;\n        &lt;intent-filter android:priority=\"-500\" &gt;\n            &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;provider\n        android:name=\"com.google.firebase.provider.FirebaseInitProvider\"\n        android:authorities=\"com.exafmpflle.xxxxxx.xxxxxxxxx.firebaseinitprovider\"\n        android:exported=\"false\"\n        android:initOrder=\"100\" /&gt;\n\n\n&lt;/application&gt;\n</code></pre>\n\n<p>  </p>\n"},{"tags":["java","xslt","xml-parsing","xslt-1.0","xsl-fo"],"comments":[{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666607814,"post_id":74179030,"comment_id":130969404,"body_markdown":"@xerx593: I added the full code","body":"@xerx593: I added the full code"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666609202,"post_id":74179030,"comment_id":130969877,"body_markdown":"Ty! ...It throws: In `Report(String xsl)` constructor! ..you log it, and wrap it into your custom (runtime! unchecked!) exception... Who-/whatever invokes `Report.getInstance()` can/should try/catch a `PdfReportException` ...","body":"Ty! ...It throws: In <code>Report(String xsl)</code> constructor! ..you log it, and wrap it into your custom (runtime! unchecked!) exception... Who-/whatever invokes <code>Report.getInstance()</code> can/should try/catch a <code>PdfReportException</code> ..."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666610365,"post_id":74179030,"comment_id":130970282,"body_markdown":"That sounds as if `report-regd.xslt` needs to be fixed to make sure the `fo:simple-page-master` has an attribute `master-name`","body":"That sounds as if <code>report-regd.xslt</code> needs to be fixed to make sure the <code>fo:simple-page-master</code> has an attribute <code>master-name</code>"},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666612263,"post_id":74179030,"comment_id":130970934,"body_markdown":"@xerx593, prepareTransfer do not throw any exception - that&#39;s all the problem- so nothing is catched in the constructor and no PdfReportException is thrown neither.","body":"@xerx593, prepareTransfer do not throw any exception - that&#39;s all the problem- so nothing is catched in the constructor and no PdfReportException is thrown neither."},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666612342,"post_id":74179030,"comment_id":130970966,"body_markdown":"@MartinHonnen it&#39;s not about how i can fix the xslt. What I&#39;d like is to get a clean exception if the xslt is not well formed or anything is missing.","body":"@MartinHonnen it&#39;s not about how i can fix the xslt. What I&#39;d like is to get a clean exception if the xslt is not well formed or anything is missing."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666612624,"post_id":74179030,"comment_id":130971072,"body_markdown":"Ok, believing you/understanding: the error comes only at first `generatePDFReport()`?","body":"Ok, believing you/understanding: the error comes only at first <code>generatePDFReport()</code>?"},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666612823,"post_id":74179030,"comment_id":130971134,"body_markdown":"@xerx593: no I think the problem is in prepareTransformer(). While debugging the mentioned logs are output in the console directly at the end of this method call. Without any exception being thrown or catched","body":"@xerx593: no I think the problem is in prepareTransformer(). While debugging the mentioned logs are output in the console directly at the end of this method call. Without any exception being thrown or catched"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666613442,"post_id":74179030,"comment_id":130971314,"body_markdown":"All the logged exceptions are &quot;checked&quot;, i can&#39;t believe this... Please breakpoint in Report constructor catch block","body":"All the logged exceptions are &quot;checked&quot;, i can&#39;t believe this... Please breakpoint in Report constructor catch block"},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":0,"creation_date":1666613609,"post_id":74179030,"comment_id":130971371,"body_markdown":"@xerx593: I did it already and can tell that we do not enter the catch block in the constructor. This is all the problem.","body":"@xerx593: I did it already and can tell that we do not enter the catch block in the constructor. This is all the problem."},{"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"score":1,"creation_date":1666613644,"post_id":74179030,"comment_id":130971389,"body_markdown":"I will have do find a workarround, like checking afterward the PDF integrity.","body":"I will have do find a workarround, like checking afterward the PDF integrity."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666613819,"post_id":74179030,"comment_id":130971443,"body_markdown":"For diagnostics please try: `catch (Throwable thr)` (all, also unchecked)","body":"For diagnostics please try: <code>catch (Throwable thr)</code> (all, also unchecked)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666626154,"post_id":74179030,"comment_id":130976275,"body_markdown":"Please step (debug) into `tFactory.newTransformer()` ..possibly something (logs &amp;) masks the exception.","body":"Please step (debug) into <code>tFactory.newTransformer()</code> ..possibly something (logs &amp;) masks the exception."}],"owner":{"account_id":15233105,"reputation":731,"user_id":10991651,"display_name":"Julien Berthoud"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666617601,"creation_date":1666603394,"question_id":74179030,"body_markdown":"I convert an XML file to PDF, through XSL-LO. \r\nThis process involves a Transformer based on a XSLT file. \r\n\r\nThis is how I get the Transformer: \r\n\r\n      private void prepareTransformer(final TransformerFactory tFactory)\r\n      throws TransformerConfigurationException {\r\n    xmlTransformer = tFactory.newTransformer(\r\n        new StreamSource(getClass().getResourceAsStream(xsltPath)));\r\n  }\r\n\r\nMy problem is that if the XSLT is not well formed, then the above mentioned code would **logs** an exception **but not throws** it. This is the output in the console: \r\n````\r\n    System-ID unbekannt; Zeilennummer328; Spaltennummer69; xsl:when ist an dieser Position in der Formatvorlage nicht zul&#228;ssig!\r\nSystem-ID unbekannt; Zeilennummer63; Spaltennummer54; org.xml.sax.SAXException: javax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\r\njavax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\r\n(Position des Fehlers unbekannt)org.apache.fop.fo.ValidationException: Dem Element &quot;fo:simple-page-master&quot; fehlt ein verlangtes Property &quot;master-name&quot;! (Keine Kontextinformationen verf&#252;gbar)\r\n````\r\nAs no exception is thrown by the librairy, I can not so easily handle this situation. \r\n\r\nExpected behaviour: #newTransformer(Source source) would throw an exception. Is there a way to achieve that?\r\n\r\n\r\nEDIT: here the full class:\r\n\r\n```java\r\n@Log\r\npublic class Report {\r\n\r\n  private final String xsltPath;\r\n  private FopFactory fopFactory;\r\n  private Transformer xmlTransformer;\r\n\r\n  private Report(final String xsltPath) {\r\n    this.xsltPath = xsltPath;\r\n    try {\r\n      prepareTransformer(createFobTransformer());\r\n    } catch (final SAXException | IOException | ConfigurationException |\r\n                   TransformerConfigurationException ex) {\r\n      log.log(Level.SEVERE, null, ex);\r\n      throw new PdfReportException(ex);\r\n    }\r\n  }\r\n\r\n  public static Report getInstance() {\r\n    return new Report(&quot;/report/report-regd.xslt&quot;);\r\n  }\r\n  private void prepareTransformer(final TransformerFactory tFactory)\r\n      throws TransformerConfigurationException {\r\n    xmlTransformer = tFactory.newTransformer(\r\n        new StreamSource(getClass().getResourceAsStream(xsltPath)));\r\n  }\r\n\r\n  private TransformerFactory createFobTransformer()\r\n      throws SAXException, IOException, ConfigurationException {\r\n    final InputStream inFop = getClass().getResourceAsStream(&quot;/report/fop.xconf&quot;);\r\n    final var fopBuilder = new FopFactoryBuilder(new File(&quot;.&quot;).toURI(),\r\n        new ClasspathResolverURIAdapter());\r\n    final var cfgBuilder = new DefaultConfigurationBuilder();\r\n    final Configuration cfg = cfgBuilder.build(inFop);\r\n    fopBuilder.setConfiguration(cfg);\r\n    fopFactory = fopBuilder.build();\r\n    final TransformerFactory tFactory = TransformerFactory.newInstance();\r\n    tFactory.setURIResolver(new ClasspathURIResolver());\r\n    return tFactory;\r\n  }\r\n\r\n  public byte[] generatePDFReport(final String xml) {\r\n    final var out = new ByteArrayOutputStream();\r\n    final var agent = fopFactory.newFOUserAgent();\r\n\r\n    try {\r\n      final var fop = agent.newFop(MimeConstants.MIME_PDF, out);\r\n      final var result = new SAXResult(fop.getDefaultHandler());\r\n      final var src = new StreamSource(new StringReader(xml));\r\n      xmlTransformer.transform(src, result);\r\n    } catch (final FOPException | TransformerException e) {\r\n      throw new PdfReportException(e);\r\n    }\r\n    return out.toByteArray();\r\n  }\r\n\r\n  public static class PdfReportException extends RuntimeException {\r\n\r\n    private static final long serialVersionUID = 6009368304491510184L;\r\n\r\n    public PdfReportException(final Throwable cause) {\r\n      super(cause);\r\n    }\r\n  }\r\n}\r\n````\r\nNo exception is catched in Report constructor:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rSFwm.png","title":"XLM transformation based on XSLT: no exception thown by Transformer","body":"<p>I convert an XML file to PDF, through XSL-LO.\nThis process involves a Transformer based on a XSLT file.</p>\n<p>This is how I get the Transformer:</p>\n<pre><code>  private void prepareTransformer(final TransformerFactory tFactory)\n  throws TransformerConfigurationException {\nxmlTransformer = tFactory.newTransformer(\n    new StreamSource(getClass().getResourceAsStream(xsltPath)));\n</code></pre>\n<p>}</p>\n<p>My problem is that if the XSLT is not well formed, then the above mentioned code would <strong>logs</strong> an exception <strong>but not throws</strong> it. This is the output in the console:</p>\n<pre><code>    System-ID unbekannt; Zeilennummer328; Spaltennummer69; xsl:when ist an dieser Position in der Formatvorlage nicht zulässig!\nSystem-ID unbekannt; Zeilennummer63; Spaltennummer54; org.xml.sax.SAXException: javax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\njavax.xml.transform.TransformerException: ElemTemplateElement-Fehler: testcaseDetails\n(Position des Fehlers unbekannt)org.apache.fop.fo.ValidationException: Dem Element &quot;fo:simple-page-master&quot; fehlt ein verlangtes Property &quot;master-name&quot;! (Keine Kontextinformationen verfügbar)\n</code></pre>\n<p>As no exception is thrown by the librairy, I can not so easily handle this situation.</p>\n<p>Expected behaviour: #newTransformer(Source source) would throw an exception. Is there a way to achieve that?</p>\n<p>EDIT: here the full class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Log\npublic class Report {\n\n  private final String xsltPath;\n  private FopFactory fopFactory;\n  private Transformer xmlTransformer;\n\n  private Report(final String xsltPath) {\n    this.xsltPath = xsltPath;\n    try {\n      prepareTransformer(createFobTransformer());\n    } catch (final SAXException | IOException | ConfigurationException |\n                   TransformerConfigurationException ex) {\n      log.log(Level.SEVERE, null, ex);\n      throw new PdfReportException(ex);\n    }\n  }\n\n  public static Report getInstance() {\n    return new Report(&quot;/report/report-regd.xslt&quot;);\n  }\n  private void prepareTransformer(final TransformerFactory tFactory)\n      throws TransformerConfigurationException {\n    xmlTransformer = tFactory.newTransformer(\n        new StreamSource(getClass().getResourceAsStream(xsltPath)));\n  }\n\n  private TransformerFactory createFobTransformer()\n      throws SAXException, IOException, ConfigurationException {\n    final InputStream inFop = getClass().getResourceAsStream(&quot;/report/fop.xconf&quot;);\n    final var fopBuilder = new FopFactoryBuilder(new File(&quot;.&quot;).toURI(),\n        new ClasspathResolverURIAdapter());\n    final var cfgBuilder = new DefaultConfigurationBuilder();\n    final Configuration cfg = cfgBuilder.build(inFop);\n    fopBuilder.setConfiguration(cfg);\n    fopFactory = fopBuilder.build();\n    final TransformerFactory tFactory = TransformerFactory.newInstance();\n    tFactory.setURIResolver(new ClasspathURIResolver());\n    return tFactory;\n  }\n\n  public byte[] generatePDFReport(final String xml) {\n    final var out = new ByteArrayOutputStream();\n    final var agent = fopFactory.newFOUserAgent();\n\n    try {\n      final var fop = agent.newFop(MimeConstants.MIME_PDF, out);\n      final var result = new SAXResult(fop.getDefaultHandler());\n      final var src = new StreamSource(new StringReader(xml));\n      xmlTransformer.transform(src, result);\n    } catch (final FOPException | TransformerException e) {\n      throw new PdfReportException(e);\n    }\n    return out.toByteArray();\n  }\n\n  public static class PdfReportException extends RuntimeException {\n\n    private static final long serialVersionUID = 6009368304491510184L;\n\n    public PdfReportException(final Throwable cause) {\n      super(cause);\n    }\n  }\n}\n</code></pre>\n<p>No exception is catched in Report constructor:\n<a href=\"https://i.stack.imgur.com/rSFwm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSFwm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1666429856,"post_id":74162068,"comment_id":130938443,"body_markdown":"Mutexes are always (AFAIK) implemented in hardware. So the jvm must use the OS mutex api.","body":"Mutexes are always (AFAIK) implemented in hardware. So the jvm must use the OS mutex api."},{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1666448515,"post_id":74162068,"comment_id":130941863,"body_markdown":"seems befire jdk 6, invoke the os mutex lock, after the jdk 6, using monitor. @SimGel","body":"seems befire jdk 6, invoke the os mutex lock, after the jdk 6, using monitor. @SimGel"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666595952,"post_id":74162068,"comment_id":130965691,"body_markdown":"What precisely do you mean by OS mutex?  Are you referring to a C library data structure / functions?  A system call?   And what operating system are you referring to?","body":"What precisely do you mean by OS mutex?  Are you referring to a C library data structure / functions?  A system call?   And what operating system are you referring to?"},{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1666597300,"post_id":74162068,"comment_id":130966037,"body_markdown":"I have tweaked the title about more details, the OS mutex refer to linux/unix system call api. @StephenC","body":"I have tweaked the title about more details, the OS mutex refer to linux/unix system call api. @StephenC"}],"answers":[{"comments":[{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1666596719,"post_id":74177445,"comment_id":130965882,"body_markdown":"I have already read this source code, and I just want to figure out the jvm monitor invoke the linux mutex api or not, seems the new version of jvm did not invoke the linux mutex api. @danyfang","body":"I have already read this source code, and I just want to figure out the jvm monitor invoke the linux mutex api or not, seems the new version of jvm did not invoke the linux mutex api. @danyfang"}],"tags":[],"owner":{"account_id":1778042,"reputation":3893,"user_id":1621414,"display_name":"Danny Fang"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666594103,"creation_date":1666594103,"answer_id":74177445,"question_id":74162068,"body_markdown":"Just as shown in the source code of `src/hotspot/share/runtime/objectMonitor.cpp`, it uses `Atomic::cmpxchg_ptr` (CAS ops) to try to obtain the lock of the thread. \r\n\r\n    bool ObjectMonitor::try_enter(Thread* THREAD) {\r\n      if (THREAD != _owner) {\r\n        if (THREAD-&gt;is_lock_owned ((address)_owner)) {\r\n           assert(_recursions == 0, &quot;internal state error&quot;);\r\n           _owner = THREAD ;\r\n           _recursions = 1 ;\r\n           OwnerIsThread = 1 ;\r\n           return true;\r\n        }\r\n        if (Atomic::cmpxchg_ptr (THREAD, &amp;_owner, NULL) != NULL) {\r\n          return false;\r\n        }\r\n        return true;\r\n      } else {\r\n        _recursions++;\r\n        return true;\r\n      }\r\n    }\r\n\r\nThe implementation of `Atomic::cmpxchg_ptr` is dependent on the actual arch of the system. In [x86][1] `Atomic::cmpxchg_ptr` is done by adding the [`lock`][2] prefix to ensure CPU has exclusive ownership of memory during operation.\r\n\r\n\r\n  [1]: https://elixir.bootlin.com/linux/latest/source/tools/arch/x86/include/asm/cmpxchg.h\r\n  [2]: https://stackoverflow.com/questions/8891067/what-does-the-lock-instruction-mean-in-x86-assembly","title":"What is the relationship about JVM monitor and linux OS mutex api","body":"<p>Just as shown in the source code of <code>src/hotspot/share/runtime/objectMonitor.cpp</code>, it uses <code>Atomic::cmpxchg_ptr</code> (CAS ops) to try to obtain the lock of the thread.</p>\n<pre><code>bool ObjectMonitor::try_enter(Thread* THREAD) {\n  if (THREAD != _owner) {\n    if (THREAD-&gt;is_lock_owned ((address)_owner)) {\n       assert(_recursions == 0, &quot;internal state error&quot;);\n       _owner = THREAD ;\n       _recursions = 1 ;\n       OwnerIsThread = 1 ;\n       return true;\n    }\n    if (Atomic::cmpxchg_ptr (THREAD, &amp;_owner, NULL) != NULL) {\n      return false;\n    }\n    return true;\n  } else {\n    _recursions++;\n    return true;\n  }\n}\n</code></pre>\n<p>The implementation of <code>Atomic::cmpxchg_ptr</code> is dependent on the actual arch of the system. In <a href=\"https://elixir.bootlin.com/linux/latest/source/tools/arch/x86/include/asm/cmpxchg.h\" rel=\"nofollow noreferrer\">x86</a> <code>Atomic::cmpxchg_ptr</code> is done by adding the <a href=\"https://stackoverflow.com/questions/8891067/what-does-the-lock-instruction-mean-in-x86-assembly\"><code>lock</code></a> prefix to ensure CPU has exclusive ownership of memory during operation.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666617598,"creation_date":1666598163,"answer_id":74178071,"question_id":74162068,"body_markdown":"Your question is (still!!) unclear, but I assume that *&quot;linux/unix system call api&quot;* is referring to the `pthread_mutex_t` type and its associated library functions.  Strictly, these are not syscalls, though they may *make* syscalls if there is lock contention.\r\n\r\nWhile JVM implementations (Java 6 onwards) do use `pthread_mutex_t` and associated functions, they are not used in the implementation of Java primitive mutexes.\r\n\r\nAs the comments say (Java 17 version):\r\n\r\n    // * The monitor synchronization subsystem avoids the use of native\r\n    //   synchronization primitives except for the narrow platform-specific\r\n    //   park-unpark abstraction.  See the comments in os_solaris.cpp regarding\r\n    //   the semantics of park-unpark.  Put another way, this monitor implementation\r\n    //   depends only on atomic operations and park-unpark.  The monitor subsystem\r\n    //   manages all RUNNING-&gt;BLOCKED and BLOCKED-&gt;READY transitions while the\r\n    //   underlying OS manages the READY&lt;-&gt;RUN transitions.\r\n\r\n\r\nSo, the answer to your question is that there is no relationship.\r\n\r\nNote that the JVM&#39;s monitor code has changed a number of times since Java 6 and the latest version (Java 19).  But the above seems to hold true for all of the versions I could look at.\r\n\r\n(I don&#39;t have a copy of the JVM source code prior to Java 6.)\r\n","title":"What is the relationship about JVM monitor and linux OS mutex api","body":"<p>Your question is (still!!) unclear, but I assume that <em>&quot;linux/unix system call api&quot;</em> is referring to the <code>pthread_mutex_t</code> type and its associated library functions.  Strictly, these are not syscalls, though they may <em>make</em> syscalls if there is lock contention.</p>\n<p>While JVM implementations (Java 6 onwards) do use <code>pthread_mutex_t</code> and associated functions, they are not used in the implementation of Java primitive mutexes.</p>\n<p>As the comments say (Java 17 version):</p>\n<pre><code>// * The monitor synchronization subsystem avoids the use of native\n//   synchronization primitives except for the narrow platform-specific\n//   park-unpark abstraction.  See the comments in os_solaris.cpp regarding\n//   the semantics of park-unpark.  Put another way, this monitor implementation\n//   depends only on atomic operations and park-unpark.  The monitor subsystem\n//   manages all RUNNING-&gt;BLOCKED and BLOCKED-&gt;READY transitions while the\n//   underlying OS manages the READY&lt;-&gt;RUN transitions.\n</code></pre>\n<p>So, the answer to your question is that there is no relationship.</p>\n<p>Note that the JVM's monitor code has changed a number of times since Java 6 and the latest version (Java 19).  But the above seems to hold true for all of the versions I could look at.</p>\n<p>(I don't have a copy of the JVM source code prior to Java 6.)</p>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74178071,"answer_count":2,"score":1,"last_activity_date":1666617598,"creation_date":1666427240,"question_id":74162068,"body_markdown":"I am trying to figure out what is the relationship about monitor and the operation system mutex lock, the java implement the synchronization keywords by monitor, does the monitor invoke the operation system mutex api? or the monitor implement the mutex by himself? I have read the source code `src/hotspot/share/runtime/objectMonitor.cpp` but still could not figure out.\r\n\r\n\r\n","title":"What is the relationship about JVM monitor and linux OS mutex api","body":"<p>I am trying to figure out what is the relationship about monitor and the operation system mutex lock, the java implement the synchronization keywords by monitor, does the monitor invoke the operation system mutex api? or the monitor implement the mutex by himself? I have read the source code <code>src/hotspot/share/runtime/objectMonitor.cpp</code> but still could not figure out.</p>\n"},{"tags":["java","regex","path","string-matching","regex-greedy"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1666615317,"post_id":74181221,"comment_id":130971947,"body_markdown":"Try `String RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Vairable+&quot;/.*&quot;;`. Note you define a `Vairable` and then use `Variable`. Do you use `find()` or `matches()`? Please add the whole relevant code and explain what output you get and what output you need.","body":"Try <code>String RegularExpression = &quot;secret&#47;roles&#47;[^&#47;]+&#47;dev&#47;&quot;+Vairable+&quot;&#47;.*&quot;;</code>. Note you define a <code>Vairable</code> and then use <code>Variable</code>. Do you use <code>find()</code> or <code>matches()</code>? Please add the whole relevant code and explain what output you get and what output you need."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1666615441,"post_id":74181221,"comment_id":130971990,"body_markdown":"I&#39;d suggest ditching regex (at least for evaluating the whole path) and using the Java (8+) Path API. You can e.g. evaluate the path element before last that way.","body":"I&#39;d suggest ditching regex (at least for evaluating the whole path) and using the Java (8+) Path API. You can e.g. evaluate the path element before last that way."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1666615519,"post_id":74181221,"comment_id":130972027,"body_markdown":"Segue: and if your rules are more complex (optional path elements, path elements depending on previous path elements) you can always evaluate each element in its sequence order and draw conclusions.","body":"Segue: and if your rules are more complex (optional path elements, path elements depending on previous path elements) you can always evaluate each element in its sequence order and draw conclusions."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666615552,"post_id":74181221,"comment_id":130972036,"body_markdown":"Here, `[can be anything]` can only have one character.","body":"Here, <code>[can be anything]</code> can only have one character."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666615628,"post_id":74181221,"comment_id":130972068,"body_markdown":"Why all the `?` question marks?","body":"Why all the <code>?</code> question marks?"},{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1666616194,"post_id":74181221,"comment_id":130972299,"body_markdown":"@WiktorStribiżew Thank you for the suggestion, it worked. could you also tell me if it is possible that we could also cover `secret/roles/[Anything]/dev/[Variable]` ? as in no child paths after `Variable`? I use `matches()` by the way.","body":"@WiktorStribiżew Thank you for the suggestion, it worked. could you also tell me if it is possible that we could also cover <code>secret&#47;roles&#47;[Anything]&#47;dev&#47;[Variable]</code> ? as in no child paths after <code>Variable</code>? I use <code>matches()</code> by the way."},{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1666616298,"post_id":74181221,"comment_id":130972332,"body_markdown":"@user16320675 no I mean there can be","body":"@user16320675 no I mean there can be"},{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1666616476,"post_id":74181221,"comment_id":130972400,"body_markdown":"yes that&#39;s right, any suggestions?","body":"yes that&#39;s right, any suggestions?"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1666616497,"post_id":74181221,"comment_id":130972404,"body_markdown":"`Can be anything` means one or more chars other than `/` (`[^/]+`), since the subpart cannot be empty.","body":"<code>Can be anything</code> means one or more chars other than <code>&#47;</code> (<code>[^&#47;]+</code>), since the subpart cannot be empty."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666616558,"post_id":74181478,"comment_id":130972427,"body_markdown":"as I understand, from actual comment, the last slash is optional or only needed if there is something after `variable` and that slash","body":"as I understand, from actual comment, the last slash is optional or only needed if there is something after <code>variable</code> and that slash"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1666616726,"post_id":74181478,"comment_id":130972491,"body_markdown":"Yes, I would rather use `Pattern.quote(Vairable)`","body":"Yes, I would rather use <code>Pattern.quote(Vairable)</code>"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666617483,"creation_date":1666616444,"answer_id":74181478,"question_id":74181221,"body_markdown":"Using `matches`, you can use either\r\n```java\r\nString RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/.*&quot;;\r\n```\r\nOr\r\n```java\r\nString RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/[^/]*&quot;;\r\n```\r\nIn the first case, anything can go after `Vairable` and a backslash, in the latter, only one subpart is allowed, no `/` chars can appear after that backslash.\r\n\r\nThe `Pattern.quote()` is added to escape any special regex metacharacters that may occur in the `Vairable` variable.","title":"Match Path using Regex in Java","body":"<p>Using <code>matches</code>, you can use either</p>\n<pre class=\"lang-java prettyprint-override\"><code>String RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/.*&quot;;\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>String RegularExpression = &quot;secret/roles/[^/]+/dev/&quot;+Pattern.quote(Vairable)+&quot;/[^/]*&quot;;\n</code></pre>\n<p>In the first case, anything can go after <code>Vairable</code> and a backslash, in the latter, only one subpart is allowed, no <code>/</code> chars can appear after that backslash.</p>\n<p>The <code>Pattern.quote()</code> is added to escape any special regex metacharacters that may occur in the <code>Vairable</code> variable.</p>\n"}],"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74181478,"answer_count":1,"score":1,"last_activity_date":1666617483,"creation_date":1666615198,"question_id":74181221,"body_markdown":"I&#39;m trying to match the pattern path which follows: \r\n```secret/roles/[can be anything]/dev/[Variable]/[can be additional child paths or just empty] ```\r\n\r\nI tried the following:\r\n```\r\nString Vairable = &quot;john&quot;;\r\nString RegularExpression = &quot;(secret/roles)?(/[a-zA-Z0-9_.-])?(/dev)?(/&quot; + Variable + &quot;)?(/[a-zA-Z0-9_.-]+)+/?&quot;; \r\n```\r\nbut it doesn&#39;t filter the ```Variable``` part and basically captures all the child paths under ```secret/roles/...```","title":"Match Path using Regex in Java","body":"<p>I'm trying to match the pattern path which follows:\n<code>secret/roles/[can be anything]/dev/[Variable]/[can be additional child paths or just empty] </code></p>\n<p>I tried the following:</p>\n<pre><code>String Vairable = &quot;john&quot;;\nString RegularExpression = &quot;(secret/roles)?(/[a-zA-Z0-9_.-])?(/dev)?(/&quot; + Variable + &quot;)?(/[a-zA-Z0-9_.-]+)+/?&quot;; \n</code></pre>\n<p>but it doesn't filter the <code>Variable</code> part and basically captures all the child paths under <code>secret/roles/...</code></p>\n"},{"tags":["java","android","android-studio","arraylist","hashmap"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1666552391,"post_id":74173918,"comment_id":130959216,"body_markdown":"Why are you bothering with threading, aside from it not being thread safe (as mentioned in below answer), the outer while loop depends on the thread completing it&#39;s work - you gain zero benefit from concurrency and will block on the caller anyway? Why not use a `CompletableFuture`, or let the caller decide threading.","body":"Why are you bothering with threading, aside from it not being thread safe (as mentioned in below answer), the outer while loop depends on the thread completing it&#39;s work - you gain zero benefit from concurrency and will block on the caller anyway? Why not use a <code>CompletableFuture</code>, or let the caller decide threading."},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1666553264,"post_id":74173918,"comment_id":130959411,"body_markdown":"The mysql connect does not work if not in the thread run. I get the error of *android.os.NetworkOnMainThreadException Could not create connection to database server.* That&#39;s the only reason I am using the Threading code.","body":"The mysql connect does not work if not in the thread run. I get the error of <i>android.os.NetworkOnMainThreadException Could not create connection to database server.</i> That&#39;s the only reason I am using the Threading code."},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1666553480,"post_id":74173918,"comment_id":130959466,"body_markdown":"So the solution is a hack to avoid this restriction, which is there for good reason, and block the caller anyway, now resulting in other problems.. probably best that the caller runs in a different thread and this method shouldn&#39;t care about threading and mark it with `@WorkerThread`","body":"So the solution is a hack to avoid this restriction, which is there for good reason, and block the caller anyway, now resulting in other problems.. probably best that the caller runs in a different thread and this method shouldn&#39;t care about threading and mark it with <code>@WorkerThread</code>"},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1666555139,"post_id":74173918,"comment_id":130959775,"body_markdown":"Updated my OP with the original code I had.","body":"Updated my OP with the original code I had."}],"answers":[{"comments":[{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1666555157,"post_id":74173989,"comment_id":130959779,"body_markdown":"Updated my OP with the original code I had.","body":"Updated my OP with the original code I had."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666617563,"post_id":74173989,"comment_id":130972791,"body_markdown":"@StealthRT So you simply want to replace the code which uses deprecated `AsyncTask`? Then you **don&#39;t** need to bother with a boolean flag and updating the Map from the concurrent thread. I&#39;ve updated the answer.","body":"@StealthRT So you simply want to replace the code which uses deprecated <code>AsyncTask</code>? Then you <b>don&#39;t</b> need to bother with a boolean flag and updating the Map from the concurrent thread. I&#39;ve updated the answer."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666617273,"creation_date":1666551915,"answer_id":74173989,"question_id":74173918,"body_markdown":"I bet that you&#39;ve come up with a `boolean[]` as work around substituting a simple `boolean` flag, which you can&#39;t change from the lambda expression since it should be *effectively final*. This trick would allow updating the flag, but since it might be cached by a new thread, another thread might not be able to observe that it has been updated.\r\n\r\nTo establish a so-called *happens-before* relationship, you need to use [`AtomicBoolean`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html) instead of a single-element `boolean` array `b`. That would guarantee that the behavior of your code is consistent.\r\n\r\nAlso, `HashMap` is not meant to be used in multithreaded environment.\r\n\r\n# Addressing the updated question\r\n\r\nIf I&#39;ve understood the issue correctly, you&#39;re trying to reimplement the code which was developed using deprecated `AsyncTask` class.\r\n\r\nSince previously you had a code which asynchronously generating a `Map`, and returning the whole thing, you implement `Callable` interface (which contrary to `Runnable` is capable of producing the return value) to achieve the same result.\r\n\r\nThat&#39;s how such implementation might look like:\r\n\r\n    public class InfoTask implements Callable&lt;Map&lt;String, String&gt;&gt; {\r\n        \r\n        private String url;      // remove the field\r\n        private String user;     // if you want to choose another way of providing these data\r\n        private String password; // other than passing them to constructor\r\n        \r\n        // constructor\r\n        \r\n        @Override\r\n        public Map&lt;String, String&gt; call() throws Exception {\r\n    \r\n            Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\r\n    \r\n            try (Connection connection = DriverManager.getConnection(url, user, password)) {\r\n                String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\r\n                PreparedStatement statement = connection.prepareStatement(sql);\r\n                ResultSet resultSet = statement.executeQuery();\r\n                if (resultSet.next()) {\r\n                    info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\r\n                    info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\r\n                    info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\r\n            }\r\n    \r\n            return info;\r\n        }\r\n    }\r\n\r\nIn order to run the [`Callable`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html) in a separate thread, you can use an instance of [`ExcecutorService`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html), which is basically a thread-management mechanism which maintains a pool of threads or a single threads and arranges execution of provided task (you can submit both `Runnable` and `Callable`).\r\n\r\nWhen the task is submitted, the executor returns you an instance of [`Future`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html). You may think of it as if it&#39;s a container wrapping the result that is expected sometime late in the future.\r\n\r\nTo obtain an `ExcecutorService` you can use one of the static factory methods provided by [`Executors`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html) class.\r\n\r\nHere&#39;s a simplistic example using with a single-threaded executor:\r\n\r\n```\r\nInfoTask task = new InfoTask(url, user, password);\r\n        \r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\nFuture&lt;Map&lt;String, String&gt;&gt; future = executor.submit(task);\r\n        \r\n// do some stuff here\r\n        \r\n// NOTE: get() call is BLOCKING\r\nMap&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS); // don&#39;t use parameterless get(), always provide a timeout\r\n        \r\nexecutor.shutdown(); // always invoke shutdown when executor is no longer needed\r\n```\r\n\r\nYou can also perform a check `isDone()` to find out whether the `Future` instance contains the result:\r\n\r\n```\r\nif (future.isDone()) {\r\n    Map&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS);\r\n    // do something\r\n}\r\n```","title":"Android map&lt;string, string&gt; to List&lt;Map&lt;String, String&gt;&gt; loops takes on current values only","body":"<p>I bet that you've come up with a <code>boolean[]</code> as work around substituting a simple <code>boolean</code> flag, which you can't change from the lambda expression since it should be <em>effectively final</em>. This trick would allow updating the flag, but since it might be cached by a new thread, another thread might not be able to observe that it has been updated.</p>\n<p>To establish a so-called <em>happens-before</em> relationship, you need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a> instead of a single-element <code>boolean</code> array <code>b</code>. That would guarantee that the behavior of your code is consistent.</p>\n<p>Also, <code>HashMap</code> is not meant to be used in multithreaded environment.</p>\n<h1>Addressing the updated question</h1>\n<p>If I've understood the issue correctly, you're trying to reimplement the code which was developed using deprecated <code>AsyncTask</code> class.</p>\n<p>Since previously you had a code which asynchronously generating a <code>Map</code>, and returning the whole thing, you implement <code>Callable</code> interface (which contrary to <code>Runnable</code> is capable of producing the return value) to achieve the same result.</p>\n<p>That's how such implementation might look like:</p>\n<pre><code>public class InfoTask implements Callable&lt;Map&lt;String, String&gt;&gt; {\n    \n    private String url;      // remove the field\n    private String user;     // if you want to choose another way of providing these data\n    private String password; // other than passing them to constructor\n    \n    // constructor\n    \n    @Override\n    public Map&lt;String, String&gt; call() throws Exception {\n\n        Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\n\n        try (Connection connection = DriverManager.getConnection(url, user, password)) {\n            String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            ResultSet resultSet = statement.executeQuery();\n            if (resultSet.next()) {\n                info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\n                info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\n                info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\n            }\n        } catch (Exception e) {\n            Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\n        }\n\n        return info;\n    }\n}\n</code></pre>\n<p>In order to run the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> in a separate thread, you can use an instance of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExcecutorService</code></a>, which is basically a thread-management mechanism which maintains a pool of threads or a single threads and arranges execution of provided task (you can submit both <code>Runnable</code> and <code>Callable</code>).</p>\n<p>When the task is submitted, the executor returns you an instance of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future</code></a>. You may think of it as if it's a container wrapping the result that is expected sometime late in the future.</p>\n<p>To obtain an <code>ExcecutorService</code> you can use one of the static factory methods provided by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> class.</p>\n<p>Here's a simplistic example using with a single-threaded executor:</p>\n<pre><code>InfoTask task = new InfoTask(url, user, password);\n        \nExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;Map&lt;String, String&gt;&gt; future = executor.submit(task);\n        \n// do some stuff here\n        \n// NOTE: get() call is BLOCKING\nMap&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS); // don't use parameterless get(), always provide a timeout\n        \nexecutor.shutdown(); // always invoke shutdown when executor is no longer needed\n</code></pre>\n<p>You can also perform a check <code>isDone()</code> to find out whether the <code>Future</code> instance contains the result:</p>\n<pre><code>if (future.isDone()) {\n    Map&lt;String, String&gt; resultt = future.get(5, TimeUnit.SECONDS);\n    // do something\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1666555152,"post_id":74174192,"comment_id":130959777,"body_markdown":"Updated my OP with the original code I had.","body":"Updated my OP with the original code I had."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1666559978,"post_id":74174192,"comment_id":130960732,"body_markdown":"@StealthRT `AsyncTask` is a completely different thing, they run on a (single) dedicated worker thread, but the API provides thread-safe ways to pass back a return value. If your problem is just about moving the `AsyncTask` into its own class, so `onPostExecute` doesn&#39;t have access to the `Activity`&#39;s views because it&#39;s not an inner class anymore, just create a listener parameter for your `AsyncTask` class where it can return `result`, or create a callback object that takes `result` as a parameter, that kind of thing. Then you can set it up when you start it in `onCreate`","body":"@StealthRT <code>AsyncTask</code> is a completely different thing, they run on a (single) dedicated worker thread, but the API provides thread-safe ways to pass back a return value. If your problem is just about moving the <code>AsyncTask</code> into its own class, so <code>onPostExecute</code> doesn&#39;t have access to the <code>Activity</code>&#39;s views because it&#39;s not an inner class anymore, just create a listener parameter for your <code>AsyncTask</code> class where it can return <code>result</code>, or create a callback object that takes <code>result</code> as a parameter, that kind of thing. Then you can set it up when you start it in <code>onCreate</code>"}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666553461,"creation_date":1666553461,"answer_id":74174192,"question_id":74173918,"body_markdown":"You&#39;ve got a concurrency issue - when you start using threads and updating values that a different thread can see, there&#39;s no guarantee that what one thread sees is what the other one does, unless you use some form of *synchronisation*.\r\n\r\n(Basically, to make computers run real fast, they take some liberties about the order they do things in, and where they write down their working. It&#39;s like having the current data updated on a whiteboard in an office, except to work quicker people are sometimes just writing things down on a notepad at their desk, and they&#39;ll go update the whiteboard *later*)\r\n\r\nThere are a bunch of approaches to dealing with this - you can get an overview at the [section on concurrency in the Java documentation][1], and there are lots of tools at your disposal. I&#39;d really recommend reading it (or something like *Java Concurrency in Practice*) because it&#39;s a really important concept to get your head around - a lot of weird and bad stuff can happen if you don&#39;t know what you&#39;re doing with threading!\r\n\r\nBut in this case, if you have a `boolean` that only *one* thread is *writing* to, and everything else is *reading* from it, you can mark that `boolean` as `volatile`. That means it updates everywhere (so everything can see the current value) as soon as it&#39;s written. That should fix your &quot;why is it still true&quot; problem. (Although you might need to add it as a field on the `Runnable`, and store a reference to that, since you&#39;re doing all this inside a function)\r\n\r\nThe actual data you&#39;re writing in the map is the bigger issue - you need to make sure that&#39;s synchronised. You can do that by gating all access to the map (on all threads) through a `synchronized` block, but Java also provides a few concurrency-minded collections classes like [`ConcurrentHashMap`][2] that take care of that for you. But that doesn&#39;t solve all the problems related to concurrency, like race conditions - again, you have to understand the problems around this stuff, so you can be mindful about avoiding them\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html","title":"Android map&lt;string, string&gt; to List&lt;Map&lt;String, String&gt;&gt; loops takes on current values only","body":"<p>You've got a concurrency issue - when you start using threads and updating values that a different thread can see, there's no guarantee that what one thread sees is what the other one does, unless you use some form of <em>synchronisation</em>.</p>\n<p>(Basically, to make computers run real fast, they take some liberties about the order they do things in, and where they write down their working. It's like having the current data updated on a whiteboard in an office, except to work quicker people are sometimes just writing things down on a notepad at their desk, and they'll go update the whiteboard <em>later</em>)</p>\n<p>There are a bunch of approaches to dealing with this - you can get an overview at the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">section on concurrency in the Java documentation</a>, and there are lots of tools at your disposal. I'd really recommend reading it (or something like <em>Java Concurrency in Practice</em>) because it's a really important concept to get your head around - a lot of weird and bad stuff can happen if you don't know what you're doing with threading!</p>\n<p>But in this case, if you have a <code>boolean</code> that only <em>one</em> thread is <em>writing</em> to, and everything else is <em>reading</em> from it, you can mark that <code>boolean</code> as <code>volatile</code>. That means it updates everywhere (so everything can see the current value) as soon as it's written. That should fix your &quot;why is it still true&quot; problem. (Although you might need to add it as a field on the <code>Runnable</code>, and store a reference to that, since you're doing all this inside a function)</p>\n<p>The actual data you're writing in the map is the bigger issue - you need to make sure that's synchronised. You can do that by gating all access to the map (on all threads) through a <code>synchronized</code> block, but Java also provides a few concurrency-minded collections classes like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> that take care of that for you. But that doesn't solve all the problems related to concurrency, like race conditions - again, you have to understand the problems around this stuff, so you can be mindful about avoiding them</p>\n"}],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666617273,"creation_date":1666551235,"question_id":74173918,"body_markdown":"Hey all I am trying to add to a list of `map&lt;String, String&gt;` using the code below:\r\n\r\n    @NonNull\r\n    public static List&lt;Map&lt;String, String&gt;&gt; mysqlSelect(@NonNull String select, String where) {\r\n        Map&lt;String, String&gt; info = new HashMap&lt;String,String&gt;();\r\n        List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        int selectCnt = select.replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();\r\n        final boolean[] b = {true};\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run(){\r\n                try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\r\n                    String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser&quot;;\r\n                    PreparedStatement statement = connection.prepareStatement(sql);\r\n                    ResultSet resultSet = statement.executeQuery();\r\n\r\n                    while (resultSet.next()) {\r\n                        info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\r\n                        info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\r\n                        info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\r\n\r\n                        list.add(info);\r\n                    }\r\n\r\n                    b[0] = false;\r\n                } catch (Exception e) {\r\n                    Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\r\n                    b[0] = false;\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        while (b[0]) { }\r\n\r\n        return list; //result.get(&quot;name&quot;)\r\n    }\r\n\r\nAs it loops in the `while () {..` part it populates the list with the needed 3 string values. However, as it does loop over and over again it seems to populate all the previous values to what was last read instead of having new data each time?\r\n\r\nExample:\r\n\r\n1st loop:\r\n\r\n    name: bob barker\r\n    address: something\r\n    phone-number = 4235421212\r\n\r\n2nd loop:\r\n\r\n    name: steve jobs\r\n    address: something again\r\n    phone-number = 8546521111\r\n\r\nat this point the 1st loop data turns into\r\n\r\n1st loop:\r\n\r\n    name: steve jobs\r\n    address: something again\r\n    phone-number = 8546521111\r\n\r\n2nd loop:\r\n\r\n    name: steve jobs\r\n    address: something again\r\n    phone-number = 8546521111\r\n\r\nSo, what am I missing here?\r\n\r\n**UPDATE 1**\r\n\r\nOriginally I have the following:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        new InfoAsyncTask().execute();\r\n    }\r\n\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    public class InfoAsyncTask extends AsyncTask&lt;Void, Void, Map&lt;String, String&gt;&gt; {\r\n        @Override\r\n        protected Map&lt;String, String&gt; doInBackground(Void... voids) {\r\n            Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\r\n\r\n            try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\r\n                String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\r\n                PreparedStatement statement = connection.prepareStatement(sql);\r\n                ResultSet resultSet = statement.executeQuery();\r\n                if (resultSet.next()) {\r\n                    info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\r\n                    info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\r\n                    info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\r\n            }\r\n\r\n            return info;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Map&lt;String, String&gt; result) {\r\n            if (!result.isEmpty()) {\r\n                TextView textViewName = findViewById(R.id.textViewName);\r\n                TextView textViewAddress = findViewById(R.id.textViewAddress);\r\n                TextView textViewPhoneNumber = findViewById(R.id.textViewPhone);\r\n\r\n                textViewName.setText(result.get(&quot;name&quot;));\r\n                textViewAddress.setText(result.get(&quot;address&quot;));\r\n                textViewPhoneNumber.setText(result.get(&quot;phone_number&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\nBut I wanted to put it into its own class file and call it from the onCreate.","title":"Android map&lt;string, string&gt; to List&lt;Map&lt;String, String&gt;&gt; loops takes on current values only","body":"<p>Hey all I am trying to add to a list of <code>map&lt;String, String&gt;</code> using the code below:</p>\n<pre><code>@NonNull\npublic static List&lt;Map&lt;String, String&gt;&gt; mysqlSelect(@NonNull String select, String where) {\n    Map&lt;String, String&gt; info = new HashMap&lt;String,String&gt;();\n    List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\n    int selectCnt = select.replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();\n    final boolean[] b = {true};\n\n    new Thread(new Runnable() {\n        @Override\n        public void run(){\n            try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\n                String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser&quot;;\n                PreparedStatement statement = connection.prepareStatement(sql);\n                ResultSet resultSet = statement.executeQuery();\n\n                while (resultSet.next()) {\n                    info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\n                    info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\n                    info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\n\n                    list.add(info);\n                }\n\n                b[0] = false;\n            } catch (Exception e) {\n                Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\n                b[0] = false;\n            }\n        }\n    }).start();\n\n    while (b[0]) { }\n\n    return list; //result.get(&quot;name&quot;)\n}\n</code></pre>\n<p>As it loops in the <code>while () {..</code> part it populates the list with the needed 3 string values. However, as it does loop over and over again it seems to populate all the previous values to what was last read instead of having new data each time?</p>\n<p>Example:</p>\n<p>1st loop:</p>\n<pre><code>name: bob barker\naddress: something\nphone-number = 4235421212\n</code></pre>\n<p>2nd loop:</p>\n<pre><code>name: steve jobs\naddress: something again\nphone-number = 8546521111\n</code></pre>\n<p>at this point the 1st loop data turns into</p>\n<p>1st loop:</p>\n<pre><code>name: steve jobs\naddress: something again\nphone-number = 8546521111\n</code></pre>\n<p>2nd loop:</p>\n<pre><code>name: steve jobs\naddress: something again\nphone-number = 8546521111\n</code></pre>\n<p>So, what am I missing here?</p>\n<p><strong>UPDATE 1</strong></p>\n<p>Originally I have the following:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    new InfoAsyncTask().execute();\n}\n\n@SuppressLint(&quot;StaticFieldLeak&quot;)\npublic class InfoAsyncTask extends AsyncTask&lt;Void, Void, Map&lt;String, String&gt;&gt; {\n    @Override\n    protected Map&lt;String, String&gt; doInBackground(Void... voids) {\n        Map&lt;String, String&gt; info = new HashMap&lt;&gt;();\n\n        try (Connection connection = DriverManager.getConnection(URL, USER, PASSWORD)) {\n            String sql = &quot;SELECT fb_firstname, fb_lastname, fb_id FROM fbuser LIMIT 1&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            ResultSet resultSet = statement.executeQuery();\n            if (resultSet.next()) {\n                info.put(&quot;name&quot;, resultSet.getString(&quot;fb_firstname&quot;));\n                info.put(&quot;address&quot;, resultSet.getString(&quot;fb_lastname&quot;));\n                info.put(&quot;phone_number&quot;, resultSet.getString(&quot;fb_id&quot;));\n            }\n        } catch (Exception e) {\n            Log.e(&quot;InfoAsyncTask&quot;, &quot;Error reading school information&quot;, e);\n        }\n\n        return info;\n    }\n\n    @Override\n    protected void onPostExecute(Map&lt;String, String&gt; result) {\n        if (!result.isEmpty()) {\n            TextView textViewName = findViewById(R.id.textViewName);\n            TextView textViewAddress = findViewById(R.id.textViewAddress);\n            TextView textViewPhoneNumber = findViewById(R.id.textViewPhone);\n\n            textViewName.setText(result.get(&quot;name&quot;));\n            textViewAddress.setText(result.get(&quot;address&quot;));\n            textViewPhoneNumber.setText(result.get(&quot;phone_number&quot;));\n        }\n    }\n}\n</code></pre>\n<p>But I wanted to put it into its own class file and call it from the onCreate.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1666617186,"post_id":74181454,"comment_id":130972659,"body_markdown":"Use an ORM instead of manually writing queries?","body":"Use an ORM instead of manually writing queries?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1666617346,"post_id":74181454,"comment_id":130972714,"body_markdown":"Long time ago (20 years) I didn&#39;t use an ORM and just coded SQL by hand as you are doing now. Of course when you have 2 or three queries it&#39;s simple. However, when you get to the point of having a dozen or more it&#39;s different. I used to segregate them in separate classes related to different &quot;modules&quot; or &quot;components&quot;. This we would minimize source control collissions when multiple developers were changing/improving/fixing queries at the same time.","body":"Long time ago (20 years) I didn&#39;t use an ORM and just coded SQL by hand as you are doing now. Of course when you have 2 or three queries it&#39;s simple. However, when you get to the point of having a dozen or more it&#39;s different. I used to segregate them in separate classes related to different &quot;modules&quot; or &quot;components&quot;. This we would minimize source control collissions when multiple developers were changing/improving/fixing queries at the same time."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1666627411,"post_id":74181454,"comment_id":130976710,"body_markdown":"A full blown ORM is not the solution to all database problems. Especially if you already have many working plain JDBC queries. With an ORM, you also get a whole series of disadvantages and peculiarities. The beginning is easy but when it gets complicated, on the one hand you need to know how your ORM is implemented inside and generates SQL. On the other hand, you still need to know SQL well to be able to create reasonably performant queries. You should take a look at MyBatis. This is a thin layer over JDBC and the SQL queries are stored in XML files.","body":"A full blown ORM is not the solution to all database problems. Especially if you already have many working plain JDBC queries. With an ORM, you also get a whole series of disadvantages and peculiarities. The beginning is easy but when it gets complicated, on the one hand you need to know how your ORM is implemented inside and generates SQL. On the other hand, you still need to know SQL well to be able to create reasonably performant queries. You should take a look at MyBatis. This is a thin layer over JDBC and the SQL queries are stored in XML files."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1666627501,"post_id":74181454,"comment_id":130976747,"body_markdown":"If you don&#39;t want to use MyBatis you can implement a similar system on your own. Store your queries in text files and create a mechanism to get a query by name.","body":"If you don&#39;t want to use MyBatis you can implement a similar system on your own. Store your queries in text files and create a mechanism to get a query by name."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1666630392,"post_id":74181454,"comment_id":130977733,"body_markdown":"@Shadow using plain jdbc with manual verified sql statements is tons faster, separates the logic better and can unlease real professional knowledge engeneering. I aggree to use it at the beginning but step by step it should be understood and replaced.","body":"@Shadow using plain jdbc with manual verified sql statements is tons faster, separates the logic better and can unlease real professional knowledge engeneering. I aggree to use it at the beginning but step by step it should be understood and replaced."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1666686517,"post_id":74181454,"comment_id":130990070,"body_markdown":"@LenglBoy whereas I agree with you, the OP seems to have a problem with the approach. If you do not want to bother with manually maintaining a bunch of SQL scripts, then the alternative is ORM.","body":"@LenglBoy whereas I agree with you, the OP seems to have a problem with the approach. If you do not want to bother with manually maintaining a bunch of SQL scripts, then the alternative is ORM."}],"owner":{"account_id":25897123,"reputation":57,"user_id":19623540,"display_name":"Shadow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666617166,"creation_date":1666616339,"question_id":74181454,"body_markdown":"my current application requires a myriad of queries, which is extremely hard to maintain. My question is: How would I effectively organize / truncate all of those queries.\r\n\r\nHere&#39;s a snippet of the code:\r\n```\r\n        static MysqlConnectionPoolDataSource ds = BankDataConnection.ds;\r\n        \r\n        static Connection cn;\r\n        static CachedRowSet crs;\r\n    \r\n        static {\r\n    \r\n            try (CachedRowSet newCrs = RowSetProvider.newFactory().createCachedRowSet()) {\r\n    \r\n                cn = ds.getConnection();\r\n    \r\n                crs = newCrs;\r\n            } catch (SQLException e) {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        //Used for logins\r\n        static String checkMatchPasswordQuery = &quot;CALL checkMatchPassword(?, ?, ?)&quot;;\r\n\r\n        static boolean checkMatchPassword(int client_id, String name, String inputPassword) throws SQLException {\r\n            try (CallableStatement cs = cn.prepareCall(checkMatchPasswordQuery)) {\r\n\r\n                cs.setInt(1, client_id);\r\n                cs.setString(2, name);\r\n                cs.setString(3, inputPassword);\r\n\r\n                ResultSet rs = cs.executeQuery();\r\n                rs.next();\r\n\r\n                return rs.getBoolean(&quot;matched&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        static String checkNameExist = &quot;CALL checkNameExist(?, ?)&quot;;\r\n\r\n        protected static boolean checkAccountNameExists(int client_id, String name) throws SQLException {\r\n            try (CallableStatement cs = cn.prepareCall(checkNameExist)) {\r\n\r\n                cs.setInt(1, client_id);\r\n                cs.setString(2, name);\r\n        \r\n                ResultSet rs = cs.executeQuery();\r\n                rs.next();\r\n\r\n                return rs.getBoolean(&quot;exist&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        static String getAccountId = &quot;SELECT id FROM accounts WHERE account_name = ? AND client_id = ?&quot;;\r\n\r\n        protected static int getAccountId(String name, int client_id) throws SQLException {\r\n            crs.setCommand(getAccountId);\r\n            crs.setString(1, name);\r\n            crs.setInt(2, client_id);\r\n\r\n            crs.execute(cn);\r\n            crs.first();\r\n\r\n            return crs.getInt(&quot;id&quot;);\r\n        }\r\n        \r\n        static String getAccountIdLastInserted = &quot;SELECT MAX(id) AS &#39;lastInsertedID&#39; FROM accounts&quot;;\r\n\r\n        protected static int getLastInsertedId(String name, String password) throws SQLException {\r\n            crs.setCommand(getAccountIdLastInserted);\r\n            crs.setString(1, name);\r\n            crs.setString(2, password);\r\n\r\n            crs.execute(cn);\r\n            crs.first();\r\n\r\n            return crs.getInt(&quot;lastInsertedID&quot;);\r\n        }\r\n```\r\nNote: This is just a small snippet and there are alot more methods than this\r\n\r\nHere&#39;s also the database&#39;s table for convenience:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy initial guess was that I would need to make a HashMap that stores some kind of BankAccount object with the respective id and handle all &quot;queries&quot; there. \r\n\r\nHowever, this only makes the application less dependant on the database itself, and hardly contribute to the organization as in some methods such as ```getAccountId``` or ```checkAccountNameExists``` entail substantial amount of loops.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BVH4E.png","title":"How to organize lots of queries in JDBC","body":"<p>my current application requires a myriad of queries, which is extremely hard to maintain. My question is: How would I effectively organize / truncate all of those queries.</p>\n<p>Here's a snippet of the code:</p>\n<pre><code>        static MysqlConnectionPoolDataSource ds = BankDataConnection.ds;\n        \n        static Connection cn;\n        static CachedRowSet crs;\n    \n        static {\n    \n            try (CachedRowSet newCrs = RowSetProvider.newFactory().createCachedRowSet()) {\n    \n                cn = ds.getConnection();\n    \n                crs = newCrs;\n            } catch (SQLException e) {\n    \n                e.printStackTrace();\n            }\n        }\n\n        //Used for logins\n        static String checkMatchPasswordQuery = &quot;CALL checkMatchPassword(?, ?, ?)&quot;;\n\n        static boolean checkMatchPassword(int client_id, String name, String inputPassword) throws SQLException {\n            try (CallableStatement cs = cn.prepareCall(checkMatchPasswordQuery)) {\n\n                cs.setInt(1, client_id);\n                cs.setString(2, name);\n                cs.setString(3, inputPassword);\n\n                ResultSet rs = cs.executeQuery();\n                rs.next();\n\n                return rs.getBoolean(&quot;matched&quot;);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            return false;\n        }\n\n        static String checkNameExist = &quot;CALL checkNameExist(?, ?)&quot;;\n\n        protected static boolean checkAccountNameExists(int client_id, String name) throws SQLException {\n            try (CallableStatement cs = cn.prepareCall(checkNameExist)) {\n\n                cs.setInt(1, client_id);\n                cs.setString(2, name);\n        \n                ResultSet rs = cs.executeQuery();\n                rs.next();\n\n                return rs.getBoolean(&quot;exist&quot;);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            return false;\n        }\n\n        static String getAccountId = &quot;SELECT id FROM accounts WHERE account_name = ? AND client_id = ?&quot;;\n\n        protected static int getAccountId(String name, int client_id) throws SQLException {\n            crs.setCommand(getAccountId);\n            crs.setString(1, name);\n            crs.setInt(2, client_id);\n\n            crs.execute(cn);\n            crs.first();\n\n            return crs.getInt(&quot;id&quot;);\n        }\n        \n        static String getAccountIdLastInserted = &quot;SELECT MAX(id) AS 'lastInsertedID' FROM accounts&quot;;\n\n        protected static int getLastInsertedId(String name, String password) throws SQLException {\n            crs.setCommand(getAccountIdLastInserted);\n            crs.setString(1, name);\n            crs.setString(2, password);\n\n            crs.execute(cn);\n            crs.first();\n\n            return crs.getInt(&quot;lastInsertedID&quot;);\n        }\n</code></pre>\n<p>Note: This is just a small snippet and there are alot more methods than this</p>\n<p>Here's also the database's table for convenience:</p>\n<p><a href=\"https://i.stack.imgur.com/BVH4E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVH4E.png\" alt=\"enter image description here\" /></a></p>\n<p>My initial guess was that I would need to make a HashMap that stores some kind of BankAccount object with the respective id and handle all &quot;queries&quot; there.</p>\n<p>However, this only makes the application less dependant on the database itself, and hardly contribute to the organization as in some methods such as <code>getAccountId</code> or <code>checkAccountNameExists</code> entail substantial amount of loops.</p>\n"},{"tags":["java","c#","android","asp.net-mvc"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666618388,"post_id":74181466,"comment_id":130973125,"body_markdown":"`and utf-8 char-set` You cannot use a charset as that is for text documents. You should just upload the bytes of the zip file. Nothing else.","body":"<code>and utf-8 char-set</code> You cannot use a charset as that is for text documents. You should just upload the bytes of the zip file. Nothing else."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666618583,"post_id":74181466,"comment_id":130973220,"body_markdown":"What is fileBody? We cannot see that. I think you have to add the file in another way. With addFile or addFilePart?","body":"What is fileBody? We cannot see that. I think you have to add the file in another way. With addFile or addFilePart?"},{"owner":{"account_id":15769802,"reputation":1,"user_id":11379173,"display_name":"Hassan Abbas"},"score":0,"creation_date":1666700880,"post_id":74181466,"comment_id":130994939,"body_markdown":"`FileBody fileBody = new FileBody(new File(filePath), &quot;application/zip&quot;);`","body":"<code>FileBody fileBody = new FileBody(new File(filePath), &quot;application&#47;zip&quot;);</code>"},{"owner":{"account_id":15769802,"reputation":1,"user_id":11379173,"display_name":"Hassan Abbas"},"score":0,"creation_date":1666700930,"post_id":74181466,"comment_id":130994953,"body_markdown":"here filePath is the absolute path of the zip file.","body":"here filePath is the absolute path of the zip file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666708156,"post_id":74181466,"comment_id":130997651,"body_markdown":"You should give mire info.","body":"You should give mire info."}],"owner":{"account_id":15769802,"reputation":1,"user_id":11379173,"display_name":"Hassan Abbas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666617126,"creation_date":1666616411,"question_id":74181466,"body_markdown":"I am trying to upload a zip file from files from the android application to the server. I am initiating the HttpEntity object and uploading it in bytes using OutputStream and utf-8 char-set.\r\n\r\n                HttpEntity entity = MultipartEntityBuilder.create()\r\n                    .setMode(HttpMultipartMode.BROWSER_COMPATIBLE)\r\n                    .addPart(&quot;Solution&quot;, fileBody).build();\r\n            URL url = null;\r\n            try {\r\n                url = new URL(urlString);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                try {\r\n                    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/zip&quot;);\r\n                    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/zip;&quot;);\r\n                    connection.setRequestMethod(&quot;POST&quot;);\r\n                    connection.setUseCaches(false);\r\n                    connection.setDoInput(true);\r\n                    connection.setDoOutput(true);\r\n                    try (OutputStream os = connection.getOutputStream()) {\r\n                        byte[] input = entity.toString().getBytes(&quot;utf-8&quot;);\r\n                        os.write(input, 0, input.length);\r\n                    }\r\n                    return connection.getInputStream();\r\n                } catch (Exception e) {\r\n                    Log.v(&quot;Exception&quot;, e.getMessage());\r\n                } finally {\r\n                    connection.disconnect();\r\n                }\r\n            } catch (Exception e) {\r\n                Log.v(&quot;Exception&quot;, e.getMessage());\r\n            }\r\n\r\nOn the server, I am receiving empty &quot;Files&quot; object under HttpContext.Current.Request.\r\n\r\n    \t\t\t\t[HttpPost]\r\n\t\t\t\t[Route(&quot;UploadProblemSolution&quot;)]\r\n\t\t\t\tpublic HttpResponseMessage UploadProblemSolution()\r\n\t\t\t\t{\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar httpRequest = HttpContext.Current.Request;\r\n\t\t\t\t\t\tif (httpRequest.Files.Count &gt; 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//save zip files\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (Exception ex)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t}\r\n\t\t\t\t}","title":"Uploading zip file from Android to dot net server","body":"<p>I am trying to upload a zip file from files from the android application to the server. I am initiating the HttpEntity object and uploading it in bytes using OutputStream and utf-8 char-set.</p>\n<pre><code>            HttpEntity entity = MultipartEntityBuilder.create()\n                .setMode(HttpMultipartMode.BROWSER_COMPATIBLE)\n                .addPart(&quot;Solution&quot;, fileBody).build();\n        URL url = null;\n        try {\n            url = new URL(urlString);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            try {\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/zip&quot;);\n                connection.setRequestProperty(&quot;Accept&quot;, &quot;application/zip;&quot;);\n                connection.setRequestMethod(&quot;POST&quot;);\n                connection.setUseCaches(false);\n                connection.setDoInput(true);\n                connection.setDoOutput(true);\n                try (OutputStream os = connection.getOutputStream()) {\n                    byte[] input = entity.toString().getBytes(&quot;utf-8&quot;);\n                    os.write(input, 0, input.length);\n                }\n                return connection.getInputStream();\n            } catch (Exception e) {\n                Log.v(&quot;Exception&quot;, e.getMessage());\n            } finally {\n                connection.disconnect();\n            }\n        } catch (Exception e) {\n            Log.v(&quot;Exception&quot;, e.getMessage());\n        }\n</code></pre>\n<p>On the server, I am receiving empty &quot;Files&quot; object under HttpContext.Current.Request.</p>\n<pre><code>                [HttpPost]\n            [Route(&quot;UploadProblemSolution&quot;)]\n            public HttpResponseMessage UploadProblemSolution()\n            {\n                try\n                {\n                    var httpRequest = HttpContext.Current.Request;\n                    if (httpRequest.Files.Count &gt; 0)\n                    {\n                        //save zip files\n                    }\n                }\n                catch (Exception ex)\n                {\n                }\n            }\n</code></pre>\n"},{"tags":["javascript","java","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":11460714,"reputation":1959,"user_id":8400446,"accept_rate":100,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666617115,"creation_date":1666617115,"answer_id":74181599,"question_id":74111591,"body_markdown":"I could solve the problem by **upgrading GraalVM to version 22.2**. Sadly, with this version, javascript support is not included anymore and have to be added with the console. Still have no idea what was wrong (and I am almost sure that the problem did not exist in the previous version).\r\n\r\n*This is not to credit myself. But because of the large text people might only look if there is an accepted answer and would not see an answer at the end of the text*","title":"StackOverflowError when executing javascript function from java with graalvm","body":"<p>I could solve the problem by <strong>upgrading GraalVM to version 22.2</strong>. Sadly, with this version, javascript support is not included anymore and have to be added with the console. Still have no idea what was wrong (and I am almost sure that the problem did not exist in the previous version).</p>\n<p><em>This is not to credit myself. But because of the large text people might only look if there is an accepted answer and would not see an answer at the end of the text</em></p>\n"}],"owner":{"account_id":11460714,"reputation":1959,"user_id":8400446,"accept_rate":100,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74181599,"answer_count":1,"score":1,"last_activity_date":1666617115,"creation_date":1666098744,"question_id":74111591,"body_markdown":"I know its a lot to ask to read such a big post but i hope you do as i really dont have any idea where to start looking for a solution of a problem that I dont even understand. \r\n\r\nI have a java service on a windows server. This service loads/evaluates several javascript files at startup. Those javascript files all have the same structure, they contain two functions: `process(name, content) { return { result: data } }` and `selfTest()`. The server loads the script, evaluates it, checks for the reqiured functions, runs the selftest and stores the handle of the `process` function in a map (key for the map is the field name the script is executed on) if the selftest succeeds:\r\n\r\n```\r\n// Called on MainThread\r\nprivate static final String JS_FN_SELFTEST = &quot;selfTest&quot;;\r\nprivate static final String JS_FN_PROCESS = &quot;process&quot;;\r\n\r\nprivate final Map&lt;String, Value&gt; _cache;\r\nprivate final Context _ctx;\r\n\r\npublic ScriptManager () {\r\n\t_cache = new HashMap&lt;&gt;();\r\n    _ctx = Context.newBuilder(&quot;js&quot;).allowIO(true).build();\r\n}\r\n\r\nprivate void addScriptFile(Path fileName, String... fieldNames)\r\n            throws IOException, NoSuchMethodException    {\r\n\tvar p = Path.of(fileName.toString());\r\n\tvar jsSource = Files.readString(p);\r\n\r\n\tvar evaluated = _ctx.eval(&quot;js&quot;, jsSource);\r\n\t\t\t\r\n\tif (!evaluated.hasMember(JS_FN_SELFTEST)) {\r\n\t\tthrow new NoSuchMethodException(JS_FN_SELFTEST);\r\n\t}\r\n\tvar fnSelfTest = evaluated.getMember(JS_FN_SELFTEST);\r\n\tfnSelfTest.execute();\r\n\t\r\n\tif (!evaluated.hasMember(JS_FN_PROCESS)) {\r\n\t\tthrow new NoSuchMethodException(JS_FN_PROCESS);\r\n\t}\r\n\t\r\n\tfor(String column: fieldNames) {\r\n\t\t_cache.put(column, evaluated.getMember(JS_FN_PROCESS));\r\n\t}\r\n}\r\n```\r\n\r\nAfter startup the service watches a network share for file drops. when a file drops, the file will be read and processed. The data will be cleaned first with a generic script and then the fields that are part of the map will also be processed. The following function does the cleaning, the field-processing is similar and the problem occurs there too.\r\n\r\n```\r\n// Called on JobProcessingThread\r\npublic List&lt;Data&gt; clean(DataMap dataSet)  {\r\n\tvar modified = new ArrayList&lt;Data&gt;();\r\n\tvar fnProcess = _cache.get(ALL_COLUMNS_MARKER);\r\n\t\r\n\tfor(var key: dataSet.keyList()) {\r\n\t\tvar data = dataSet.get(key);\r\n\t\tif (!data.Field.Scriptable) continue;\r\n\r\n\t\tString oldContent = data.getContent();\r\n\t\tif (oldContent == null) continue;\r\n\r\n\t\ttry {\r\n\t\t\tvar value = fnProcess.execute(data.SourceName, oldContent); // error occurs here\r\n\t\t\tvar map = value.as(Map.class);\r\n\t\t\tvar newContent = map.get(&quot;result&quot;).toString();\r\n\r\n\t\t\tif (!oldContent.equals(newContent)) {\r\n\t\t\t\tdata.setContent(newContent);\r\n\t\t\t\tmodified.add(data);\r\n\t\t\t}\r\n\t\t} catch(PolyglotException pe)    {\r\n\t\t\tdata.setProblem(pe.getMessage());\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn modified;\r\n}\r\n```\r\n\r\nAnd finally this is one of the loaded scripts:\r\n\r\n```\r\n(function() {\r\n\r\nfunction process(name, input) {\r\n    if (input === null) return { result: null };\r\n    \r\n    let tmp = input.trim();\r\n    if (tmp.length === 0) return { result: null };\r\n    \r\n\t// some logic here\r\n\t\r\n    return { \r\n        result: result !== &#39;&#39; ? result : null\r\n    };\r\n}\r\n\r\nfunction selfTest() {\r\n}\r\n\r\nreturn { process, selfTest };\r\n})();\r\n``` \r\n\r\nThats the scenario. When I run the app and drop a file I receive a StackOverflowError when the first scriptable field is processed in line `fnProcess.execute(data.SourceName, oldContent);` and The JVM is terminated (!). The script debugger of netbeans shows that this happens in the line `let tmp = input.trim();`. When i remove the `trim()` command the script will be executed until the next function call on a string (like `indexOf`) but the length check `tmp.length === 0` will be executed normally (at least the netbeans debugger shows it like that). The problem occurs regardless of the string content passed, even hard coding strings generates the error in the server environment.\r\n\r\n```\r\nUncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\r\nException in thread &quot;Thread-JobCenter&quot;: java.lang.StackOverflowError\r\njava.lang.StackOverflowError\r\n\tat com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError0(StackOverflowCheckImpl.java:363)\r\n\tat com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError(StackOverflowCheckImpl.java:359)\r\n\tat com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.throwNewStackOverflowError(StackOverflowCheckImpl.java:339)\r\n\tat com.oracle.svm.core.graal.jdk.ArraycopySnippets.boundsCheck(ArraycopySnippets.java:117)\r\n\tat com.oracle.svm.core.graal.jdk.ArraycopySnippets.doArraycopy(ArraycopySnippets.java:94)\r\n\tat java.util.Arrays.copyOf(Arrays.java:3539)\r\n\tat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228)\r\n\tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:802)\r\n\tat java.lang.StringBuilder.append(StringBuilder.java:242)\r\n\tat com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:144)\r\n\tat com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:187)\r\n\tat com.oracle.svm.jni.functions.JNIFunctions.NewStringUTF(JNIFunctions.java:479)\r\n\tat jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType0(CompilerToVM.java)\r\n\tat jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType(CompilerToVM.java:674)\r\n\tat jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.getHolder(HotSpotResolvedJavaMethodImpl.java:97)\r\n\tat jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.fromMetaspace(HotSpotResolvedJavaMethodImpl.java:115)\r\n\tat com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethodImpl_2_0002efromMetaspace_00028J_00029Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethod_2(JNIJavaCallWrappers.java:0)\r\n\tat org.graalvm.libgraal.jni.JNI$CallStaticObjectMethodA.call(JNI.java)\r\n\tat org.graalvm.libgraal.jni.FromLibGraalCalls.callJObject(FromLibGraalCalls.java:153)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntimeGen.callGetTruffleCallBoundaryMethods(HSTruffleCompilerRuntimeGen.java:181)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntime.getTruffleCallBoundaryMethods(HSTruffleCompilerRuntime.java:356)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.HotSpotTruffleCompilerImpl.installTruffleCallBoundaryMethods(HotSpotTruffleCompilerImpl.java:216)\r\n\tat org.graalvm.compiler.truffle.compiler.hotspot.libgraal.TruffleToLibGraalEntryPoints.installTruffleCallBoundaryMethods(TruffleToLibGraalEntryPoints.java:305)\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  Internal Error (jvmciRuntime.cpp:1215), pid=15740, tid=10088\r\n#  fatal error: Fatal exception in JVMCI: Uncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\r\n#\r\n# JRE version: OpenJDK Runtime Environment GraalVM CE 21.1.0 (16.0.1+9) (build 16.0.1+9-jvmci-21.1-b05)\r\n# Java VM: OpenJDK 64-Bit Server VM GraalVM CE 21.1.0 (16.0.1+9-jvmci-21.1-b05, mixed mode, sharing, tiered, jvmci, jvmci compiler, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# C:\\Data\\hs_err_pid15740.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/oracle/graal/issues\r\n#\r\n```\r\n\r\nThis is part of the `hs_err_pid15740.log`\r\n\r\n```\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  jdk.vm.ci.hotspot.CompilerToVM.translate(Ljava/lang/Object;)J+0 jdk.internal.vm.ci@16.0.1\r\nj  jdk.vm.ci.hotspot.HotSpotJVMCIRuntime.translate(Ljava/lang/Object;)J+5 jdk.internal.vm.ci@16.0.1\r\nj  jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+40 java.base@16.0.1\r\nj  jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6 java.base@16.0.1\r\nj  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+59 java.base@16.0.1\r\nj  org.graalvm.libgraal.LibGraal.translate(Ljava/lang/Object;)J+28 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleFromLibGraalEntryPoints.getTruffleCallBoundaryMethods(Ljava/lang/Object;)[J+122 jdk.internal.vm.compiler\r\nv  ~StubRoutines::call_stub\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleToLibGraalCalls.installTruffleCallBoundaryMethods(JJLorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+0 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.LibGraalHotSpotTruffleCompiler.installTruffleCallBoundaryMethods(Lorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+25 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.hotspot.AbstractHotSpotTruffleRuntime.bypassedInstalledCode(Lorg/graalvm/compiler/truffle/runtime/OptimizedCallTarget;)V+14 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.interpreterCall()Z+11 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+1 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+9 jdk.internal.vm.compiler\r\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\r\n// repeated for about 8000 rows...\r\n```\r\n\r\nBut when I ran the following code with the same script file as above and i pass the same arguments to the javascript function as the server would do when the file drops, no exception is thrown:\r\n\r\n```\r\nvar ctx = Context.newBuilder(&quot;js&quot;).allowAllAccess(false).allowIO(true).build();\r\nvar js = java.nio.file.Files.readString(Path.of(&quot;scripts/0.js&quot;));\r\nvar evaluated = ctx.eval(&quot;js&quot;, js);\r\nvar fn = evaluated.getMember(&quot;process&quot;);\r\nvar result = fn.execute(&quot;test&quot;, &quot;some content &quot;);\r\n```\r\n\r\nI hope someone survived the gigantic textwall and made it till here and can tell me what i am doing wrong...","title":"StackOverflowError when executing javascript function from java with graalvm","body":"<p>I know its a lot to ask to read such a big post but i hope you do as i really dont have any idea where to start looking for a solution of a problem that I dont even understand.</p>\n<p>I have a java service on a windows server. This service loads/evaluates several javascript files at startup. Those javascript files all have the same structure, they contain two functions: <code>process(name, content) { return { result: data } }</code> and <code>selfTest()</code>. The server loads the script, evaluates it, checks for the reqiured functions, runs the selftest and stores the handle of the <code>process</code> function in a map (key for the map is the field name the script is executed on) if the selftest succeeds:</p>\n<pre><code>// Called on MainThread\nprivate static final String JS_FN_SELFTEST = &quot;selfTest&quot;;\nprivate static final String JS_FN_PROCESS = &quot;process&quot;;\n\nprivate final Map&lt;String, Value&gt; _cache;\nprivate final Context _ctx;\n\npublic ScriptManager () {\n    _cache = new HashMap&lt;&gt;();\n    _ctx = Context.newBuilder(&quot;js&quot;).allowIO(true).build();\n}\n\nprivate void addScriptFile(Path fileName, String... fieldNames)\n            throws IOException, NoSuchMethodException    {\n    var p = Path.of(fileName.toString());\n    var jsSource = Files.readString(p);\n\n    var evaluated = _ctx.eval(&quot;js&quot;, jsSource);\n            \n    if (!evaluated.hasMember(JS_FN_SELFTEST)) {\n        throw new NoSuchMethodException(JS_FN_SELFTEST);\n    }\n    var fnSelfTest = evaluated.getMember(JS_FN_SELFTEST);\n    fnSelfTest.execute();\n    \n    if (!evaluated.hasMember(JS_FN_PROCESS)) {\n        throw new NoSuchMethodException(JS_FN_PROCESS);\n    }\n    \n    for(String column: fieldNames) {\n        _cache.put(column, evaluated.getMember(JS_FN_PROCESS));\n    }\n}\n</code></pre>\n<p>After startup the service watches a network share for file drops. when a file drops, the file will be read and processed. The data will be cleaned first with a generic script and then the fields that are part of the map will also be processed. The following function does the cleaning, the field-processing is similar and the problem occurs there too.</p>\n<pre><code>// Called on JobProcessingThread\npublic List&lt;Data&gt; clean(DataMap dataSet)  {\n    var modified = new ArrayList&lt;Data&gt;();\n    var fnProcess = _cache.get(ALL_COLUMNS_MARKER);\n    \n    for(var key: dataSet.keyList()) {\n        var data = dataSet.get(key);\n        if (!data.Field.Scriptable) continue;\n\n        String oldContent = data.getContent();\n        if (oldContent == null) continue;\n\n        try {\n            var value = fnProcess.execute(data.SourceName, oldContent); // error occurs here\n            var map = value.as(Map.class);\n            var newContent = map.get(&quot;result&quot;).toString();\n\n            if (!oldContent.equals(newContent)) {\n                data.setContent(newContent);\n                modified.add(data);\n            }\n        } catch(PolyglotException pe)    {\n            data.setProblem(pe.getMessage());\n        }\n    }\n    \n    return modified;\n}\n</code></pre>\n<p>And finally this is one of the loaded scripts:</p>\n<pre><code>(function() {\n\nfunction process(name, input) {\n    if (input === null) return { result: null };\n    \n    let tmp = input.trim();\n    if (tmp.length === 0) return { result: null };\n    \n    // some logic here\n    \n    return { \n        result: result !== '' ? result : null\n    };\n}\n\nfunction selfTest() {\n}\n\nreturn { process, selfTest };\n})();\n</code></pre>\n<p>Thats the scenario. When I run the app and drop a file I receive a StackOverflowError when the first scriptable field is processed in line <code>fnProcess.execute(data.SourceName, oldContent);</code> and The JVM is terminated (!). The script debugger of netbeans shows that this happens in the line <code>let tmp = input.trim();</code>. When i remove the <code>trim()</code> command the script will be executed until the next function call on a string (like <code>indexOf</code>) but the length check <code>tmp.length === 0</code> will be executed normally (at least the netbeans debugger shows it like that). The problem occurs regardless of the string content passed, even hard coding strings generates the error in the server environment.</p>\n<pre><code>Uncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\nException in thread &quot;Thread-JobCenter&quot;: java.lang.StackOverflowError\njava.lang.StackOverflowError\n    at com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError0(StackOverflowCheckImpl.java:363)\n    at com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.newStackOverflowError(StackOverflowCheckImpl.java:359)\n    at com.oracle.svm.core.graal.snippets.StackOverflowCheckSnippets.throwNewStackOverflowError(StackOverflowCheckImpl.java:339)\n    at com.oracle.svm.core.graal.jdk.ArraycopySnippets.boundsCheck(ArraycopySnippets.java:117)\n    at com.oracle.svm.core.graal.jdk.ArraycopySnippets.doArraycopy(ArraycopySnippets.java:94)\n    at java.util.Arrays.copyOf(Arrays.java:3539)\n    at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228)\n    at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:802)\n    at java.lang.StringBuilder.append(StringBuilder.java:242)\n    at com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:144)\n    at com.oracle.svm.core.util.Utf8.utf8ToString(Utf8.java:187)\n    at com.oracle.svm.jni.functions.JNIFunctions.NewStringUTF(JNIFunctions.java:479)\n    at jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType0(CompilerToVM.java)\n    at jdk.vm.ci.hotspot.CompilerToVM.getResolvedJavaType(CompilerToVM.java:674)\n    at jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.getHolder(HotSpotResolvedJavaMethodImpl.java:97)\n    at jdk.vm.ci.hotspot.HotSpotResolvedJavaMethodImpl.fromMetaspace(HotSpotResolvedJavaMethodImpl.java:115)\n    at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethodImpl_2_0002efromMetaspace_00028J_00029Ljdk_vm_ci_hotspot_HotSpotResolvedJavaMethod_2(JNIJavaCallWrappers.java:0)\n    at org.graalvm.libgraal.jni.JNI$CallStaticObjectMethodA.call(JNI.java)\n    at org.graalvm.libgraal.jni.FromLibGraalCalls.callJObject(FromLibGraalCalls.java:153)\n    at org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntimeGen.callGetTruffleCallBoundaryMethods(HSTruffleCompilerRuntimeGen.java:181)\n    at org.graalvm.compiler.truffle.compiler.hotspot.libgraal.HSTruffleCompilerRuntime.getTruffleCallBoundaryMethods(HSTruffleCompilerRuntime.java:356)\n    at org.graalvm.compiler.truffle.compiler.hotspot.HotSpotTruffleCompilerImpl.installTruffleCallBoundaryMethods(HotSpotTruffleCompilerImpl.java:216)\n    at org.graalvm.compiler.truffle.compiler.hotspot.libgraal.TruffleToLibGraalEntryPoints.installTruffleCallBoundaryMethods(TruffleToLibGraalEntryPoints.java:305)\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  Internal Error (jvmciRuntime.cpp:1215), pid=15740, tid=10088\n#  fatal error: Fatal exception in JVMCI: Uncaught exception exiting JVMCIEnv scope entered at c:\\buildbot\\worker\\e\\main\\jdk\\src\\hotspot\\share\\jvmci\\jvmciCompilerToVM.cpp:2386\n#\n# JRE version: OpenJDK Runtime Environment GraalVM CE 21.1.0 (16.0.1+9) (build 16.0.1+9-jvmci-21.1-b05)\n# Java VM: OpenJDK 64-Bit Server VM GraalVM CE 21.1.0 (16.0.1+9-jvmci-21.1-b05, mixed mode, sharing, tiered, jvmci, jvmci compiler, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Data\\hs_err_pid15740.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/oracle/graal/issues\n#\n</code></pre>\n<p>This is part of the <code>hs_err_pid15740.log</code></p>\n<pre><code>Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  jdk.vm.ci.hotspot.CompilerToVM.translate(Ljava/lang/Object;)J+0 jdk.internal.vm.ci@16.0.1\nj  jdk.vm.ci.hotspot.HotSpotJVMCIRuntime.translate(Ljava/lang/Object;)J+5 jdk.internal.vm.ci@16.0.1\nj  jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+40 java.base@16.0.1\nj  jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6 java.base@16.0.1\nj  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+59 java.base@16.0.1\nj  org.graalvm.libgraal.LibGraal.translate(Ljava/lang/Object;)J+28 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleFromLibGraalEntryPoints.getTruffleCallBoundaryMethods(Ljava/lang/Object;)[J+122 jdk.internal.vm.compiler\nv  ~StubRoutines::call_stub\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.TruffleToLibGraalCalls.installTruffleCallBoundaryMethods(JJLorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+0 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.hotspot.libgraal.LibGraalHotSpotTruffleCompiler.installTruffleCallBoundaryMethods(Lorg/graalvm/compiler/truffle/common/CompilableTruffleAST;)V+25 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.hotspot.AbstractHotSpotTruffleRuntime.bypassedInstalledCode(Lorg/graalvm/compiler/truffle/runtime/OptimizedCallTarget;)V+14 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.interpreterCall()Z+11 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+1 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.callBoundary([Ljava/lang/Object;)Ljava/lang/Object;+9 jdk.internal.vm.compiler\nj  org.graalvm.compiler.truffle.runtime.OptimizedCallTarget.doInvoke([Ljava/lang/Object;)Ljava/lang/Object;+2 jdk.internal.vm.compiler\n// repeated for about 8000 rows...\n</code></pre>\n<p>But when I ran the following code with the same script file as above and i pass the same arguments to the javascript function as the server would do when the file drops, no exception is thrown:</p>\n<pre><code>var ctx = Context.newBuilder(&quot;js&quot;).allowAllAccess(false).allowIO(true).build();\nvar js = java.nio.file.Files.readString(Path.of(&quot;scripts/0.js&quot;));\nvar evaluated = ctx.eval(&quot;js&quot;, js);\nvar fn = evaluated.getMember(&quot;process&quot;);\nvar result = fn.execute(&quot;test&quot;, &quot;some content &quot;);\n</code></pre>\n<p>I hope someone survived the gigantic textwall and made it till here and can tell me what i am doing wrong...</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666616905,"post_id":74181426,"comment_id":130972555,"body_markdown":"It&#39;s most probably happening in Java. Might be related to Java&#39;s `Double`. https://floating-point-gui.de/","body":"It&#39;s most probably happening in Java. Might be related to Java&#39;s <code>Double</code>. <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1666627459,"post_id":74181426,"comment_id":130976725,"body_markdown":"@Wira There are similar reports [1](https://stackoverflow.com/questions/27856598) [2](https://github.com/pgjdbc/pgjdbc/issues/1942). The driver (pgjdbc) seems to send the right value, so there might be some issue with the protocol handling in the server side. In any case, you should use `BigDecimal` if precision matters.","body":"@Wira There are similar reports <a href=\"https://stackoverflow.com/questions/27856598\">1</a> <a href=\"https://github.com/pgjdbc/pgjdbc/issues/1942\" rel=\"nofollow noreferrer\">2</a>. The driver (pgjdbc) seems to send the right value, so there might be some issue with the protocol handling in the server side. In any case, you should use <code>BigDecimal</code> if precision matters."}],"owner":{"account_id":13351149,"reputation":530,"user_id":9636333,"display_name":"Maram Sreerama Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666616200,"creation_date":1666616200,"question_id":74181426,"body_markdown":"My SQL query in MyBatis mapper\r\n```\r\n&lt;foreach collection=&quot;ps&quot; item=&quot;p&quot; separator=&quot;;&quot; open=&quot;&quot; close=&quot;&quot;&gt;\r\n    INSERT INTO ${stageTableName} VALUES(\r\n        #{p.v1},\r\n        #{p.v2},\r\n        #{p.v3},\r\n        #{p.v4},\r\n        #{p.v5},\r\n        #{vx},\r\n        #{p.quantity}\r\n    )\r\n    ON CONFLICT (&quot;v1&quot;, &quot;v2&quot;, &quot;v3&quot;, &quot;v4&quot;, &quot;v5&quot;)\r\n    DO UPDATE SET quantity = ${stageTableName}.quantity + EXCLUDED.quantity\r\n&lt;/foreach&gt;\r\n```\r\n\r\n`ps` is a List of objects in java.\r\nEverything was working well until today we hit a case where\r\n\r\nWhen p.quantity = `1222371636058.8174`\r\nThen in database what I see quantity is = `1222371636058.82`\r\n\r\n- I ran code in debug mode, and I see this is where the round off is being done.\r\n- I ran SQL query with hard coded values, and in that case DB value is store correctly, i.e. `1222371636058.8174`\r\n- But above code rounds it off. And it does only for this number. For example, a smaller number, say `123.8124872` &#39;s precision is stored correctly.\r\n\r\n---\r\n- Type of p.quantity in Java - `Double`\r\n- Type of &#39;quantity&#39; in the table - `NUMERIC(38,7)`\r\n- DB - `Postgres`\r\n\r\nPlease let me know if anyone knows whats happening here. \r\n","title":"MyBatis | Losing Double Precision on Insertion","body":"<p>My SQL query in MyBatis mapper</p>\n<pre><code>&lt;foreach collection=&quot;ps&quot; item=&quot;p&quot; separator=&quot;;&quot; open=&quot;&quot; close=&quot;&quot;&gt;\n    INSERT INTO ${stageTableName} VALUES(\n        #{p.v1},\n        #{p.v2},\n        #{p.v3},\n        #{p.v4},\n        #{p.v5},\n        #{vx},\n        #{p.quantity}\n    )\n    ON CONFLICT (&quot;v1&quot;, &quot;v2&quot;, &quot;v3&quot;, &quot;v4&quot;, &quot;v5&quot;)\n    DO UPDATE SET quantity = ${stageTableName}.quantity + EXCLUDED.quantity\n&lt;/foreach&gt;\n</code></pre>\n<p><code>ps</code> is a List of objects in java.\nEverything was working well until today we hit a case where</p>\n<p>When p.quantity = <code>1222371636058.8174</code>\nThen in database what I see quantity is = <code>1222371636058.82</code></p>\n<ul>\n<li>I ran code in debug mode, and I see this is where the round off is being done.</li>\n<li>I ran SQL query with hard coded values, and in that case DB value is store correctly, i.e. <code>1222371636058.8174</code></li>\n<li>But above code rounds it off. And it does only for this number. For example, a smaller number, say <code>123.8124872</code> 's precision is stored correctly.</li>\n</ul>\n<hr />\n<ul>\n<li>Type of p.quantity in Java - <code>Double</code></li>\n<li>Type of 'quantity' in the table - <code>NUMERIC(38,7)</code></li>\n<li>DB - <code>Postgres</code></li>\n</ul>\n<p>Please let me know if anyone knows whats happening here.</p>\n"},{"tags":["java","android-studio","build.gradle","android-12"],"comments":[{"owner":{"account_id":2917069,"reputation":1304,"user_id":2500027,"accept_rate":62,"display_name":"Suchith"},"score":0,"creation_date":1651663170,"post_id":70697678,"comment_id":127415264,"body_markdown":"any update on this issue?","body":"any update on this issue?"}],"answers":[{"tags":[],"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666615943,"creation_date":1666615943,"answer_id":74181367,"question_id":70697678,"body_markdown":"I ran in a very similar bug. There are two options out of my understanding:\r\n\r\n- Remove that static method from that interface\r\n- Set the minimum SDK to 24\r\n\r\nI&#39;m still not sure why that happens. However [here][1] is one guess:\r\n\r\n&gt; Support for static interface methods in Android was introduced in API 24. To facilitate backward-compatibility for Android projects with Minimum Version or TargetVersion set lower than 24, the Android build tools (d8 maybe?) extract all the static methods of the interface into a separate class (similar to how the Xamarin binding tools generate an additional class for interfaces that contain static methods), whose name is name of the interface + &quot;$-CC&quot;, and modifies the calling code to call the static methods in that class instead.\r\n\r\n\r\n  [1]: https://github.com/xamarin/xamarin-android/issues/6784#issuecomment-1091487256","title":"java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class","body":"<p>I ran in a very similar bug. There are two options out of my understanding:</p>\n<ul>\n<li>Remove that static method from that interface</li>\n<li>Set the minimum SDK to 24</li>\n</ul>\n<p>I'm still not sure why that happens. However <a href=\"https://github.com/xamarin/xamarin-android/issues/6784#issuecomment-1091487256\" rel=\"nofollow noreferrer\">here</a> is one guess:</p>\n<blockquote>\n<p>Support for static interface methods in Android was introduced in API 24. To facilitate backward-compatibility for Android projects with Minimum Version or TargetVersion set lower than 24, the Android build tools (d8 maybe?) extract all the static methods of the interface into a separate class (similar to how the Xamarin binding tools generate an additional class for interfaces that contain static methods), whose name is name of the interface + &quot;$-CC&quot;, and modifies the calling code to call the static methods in that class instead.</p>\n</blockquote>\n"}],"owner":{"account_id":13776356,"reputation":2129,"user_id":9942608,"display_name":"Himanshi Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666615943,"creation_date":1642081666,"question_id":70697678,"body_markdown":"App is getting crash after I have upgraded my targetSdkVersion and compileSdkVersion to 31.\r\nI have tried all the answers in this [link][1] but still facing same issue .\r\nEverytime i try to open the app this error is coming \r\n\r\n    java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class Landroidx/core/os/BuildCompat; or its super classes (declaration of &#39;androidx.core.os.BuildCompat&#39; appears in /data/app/~~6PPcQbptT87_5h04ffIgXg\r\n\r\n[![Screenshot][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60812702/java-lang-nosuchmethoderror-no-static-method-isatleastrz\r\n  [2]: https://i.stack.imgur.com/CfNm6.png","title":"java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class","body":"<p>App is getting crash after I have upgraded my targetSdkVersion and compileSdkVersion to 31.\nI have tried all the answers in this <a href=\"https://stackoverflow.com/questions/60812702/java-lang-nosuchmethoderror-no-static-method-isatleastrz\">link</a> but still facing same issue .\nEverytime i try to open the app this error is coming</p>\n<pre><code>java.lang.NoSuchMethodError: No static method isAtLeastS()Z in class Landroidx/core/os/BuildCompat; or its super classes (declaration of 'androidx.core.os.BuildCompat' appears in /data/app/~~6PPcQbptT87_5h04ffIgXg\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CfNm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CfNm6.png\" alt=\"Screenshot\" /></a></p>\n"},{"tags":["java","reflection","immutability","immutables-library"],"answers":[{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666615402,"creation_date":1666063672,"answer_id":74105361,"question_id":74091992,"body_markdown":"You just add the missing methods yourself as defined in library documentation here : https://immutables.github.io/immutable.html#expressive-factory-methods. So for the missing methods you define `public static MyClass of(...)` and `public static MyClass create(...)` methods as below\r\n\r\n```\r\n@Value.Modifiable\r\n@Value.Immutable\r\npublic abstract class Point {\r\n  @Value.Parameter\r\n  public abstract double x();\r\n  @Value.Parameter\r\n  public abstract double y();\r\n  //You added this for example\r\n  @Value.Parameter\r\n  public abstract double z();\r\n\r\n  public static Point origin() {\r\n    return ImmutablePoint.of(0, 0);\r\n  }\r\n\r\n  public static MyClass of(double x, double y) {\r\n    return ImmutableMyClass.of(x, y, 0); // or another implementation you need\r\n    \r\n  }\r\n\r\n   public static MyClass create(double x, double y) {\r\n    return ModifiableMyClass.create(x, y, 0); // or another implementation you need\r\n  }\r\n}\r\n```","title":"Immutables custom create and of methods","body":"<p>You just add the missing methods yourself as defined in library documentation here : <a href=\"https://immutables.github.io/immutable.html#expressive-factory-methods\" rel=\"nofollow noreferrer\">https://immutables.github.io/immutable.html#expressive-factory-methods</a>. So for the missing methods you define <code>public static MyClass of(...)</code> and <code>public static MyClass create(...)</code> methods as below</p>\n<pre><code>@Value.Modifiable\n@Value.Immutable\npublic abstract class Point {\n  @Value.Parameter\n  public abstract double x();\n  @Value.Parameter\n  public abstract double y();\n  //You added this for example\n  @Value.Parameter\n  public abstract double z();\n\n  public static Point origin() {\n    return ImmutablePoint.of(0, 0);\n  }\n\n  public static MyClass of(double x, double y) {\n    return ImmutableMyClass.of(x, y, 0); // or another implementation you need\n    \n  }\n\n   public static MyClass create(double x, double y) {\n    return ModifiableMyClass.create(x, y, 0); // or another implementation you need\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74105361,"answer_count":1,"score":1,"last_activity_date":1666615402,"creation_date":1665972750,"question_id":74091992,"body_markdown":"I am changing a library that uses  [Immutables][1]. \r\nIn the class that I change I just added a new variable and in the generated classes I see different signatures in the `create` and `of` methods.\r\n\r\n```\r\nImmutableMyClass.of(previous variables ...,  int varNew)\r\n\r\nModifiableMyClass.create(previous variables ...,  int varNew)\r\n```\r\nSince there are users of this library that call the previous versions of these methods I need to keep previous versions while providing the new versions for a new feature; otherwise, apparently, I am breaking the backward compatibility. \r\n\r\nHow do I have `Immutables` create custom `create` and `of` methods?\r\n\r\n\r\n  [1]: https://immutables.github.io/","title":"Immutables custom create and of methods","body":"<p>I am changing a library that uses  <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">Immutables</a>.\nIn the class that I change I just added a new variable and in the generated classes I see different signatures in the <code>create</code> and <code>of</code> methods.</p>\n<pre><code>ImmutableMyClass.of(previous variables ...,  int varNew)\n\nModifiableMyClass.create(previous variables ...,  int varNew)\n</code></pre>\n<p>Since there are users of this library that call the previous versions of these methods I need to keep previous versions while providing the new versions for a new feature; otherwise, apparently, I am breaking the backward compatibility.</p>\n<p>How do I have <code>Immutables</code> create custom <code>create</code> and <code>of</code> methods?</p>\n"},{"tags":["java","spring","spring-security","graphql","netflix-dgs"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666615529,"post_id":74138263,"comment_id":130972030,"body_markdown":"looks like [this issue](https://github.com/Netflix/dgs-framework/issues/458)","body":"looks like <a href=\"https://github.com/Netflix/dgs-framework/issues/458\" rel=\"nofollow noreferrer\">this issue</a>"},{"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"score":0,"creation_date":1667219409,"post_id":74138263,"comment_id":131111224,"body_markdown":"Xerx593 has pointed out a bug. Apart from that, please check out this link if it helps...\nhttps://github.com/ShitalChivate/Graphql-Spring-boot-Spring-Security/blob/master/BookDemo/src/main/java/com/graphqlspringdemo/config/JwtSecurityConfig.java","body":"Xerx593 has pointed out a bug. Apart from that, please check out this link if it helps... <a href=\"https://github.com/ShitalChivate/Graphql-Spring-boot-Spring-Security/blob/master/BookDemo/src/main/java/com/graphqlspringdemo/config/JwtSecurityConfig.java\" rel=\"nofollow noreferrer\">github.com/ShitalChivate/Graphql-Spring-boot-Spring-Security&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":99458,"reputation":470,"user_id":268634,"display_name":"Andr&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1666615036,"creation_date":1666261266,"question_id":74138263,"body_markdown":"I am working on a Graphql API and want to authenticate and authorize Graphql requests. I have the setup working just fine for queries/mutations. However, with subscriptions I am running into some issues.\r\n\r\nVersions\r\n```\r\ngraphql-dgs-platform-dependencies: 5.2.4\r\nspring-boot-starter-parent: 2.7.3\r\n```\r\n\r\nI have this datafetcher:\r\n```java\r\n@DgsComponent\r\n@RequiredArgsConstructor\r\npublic class StocksDataFetcher implements SupportsGlobalObjectIdentification {\r\n    private final StocksService service;\r\n\r\n    @DgsSubscription\r\n    @Secured(&quot;ROLE_myRole&quot;)\r\n    public Publisher&lt;Stock&gt; stocks(DataFetchingEnvironment dfe) {\r\n        final var sctx = SecurityContextHolder.getContext();\r\n\r\n        return service.getStocksPublisher();\r\n    }\r\n}\r\n```\r\n\r\nThis SecurityFilter chain:\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        final var resolver = new DefaultBearerTokenResolver();\r\n        resolver.setAllowUriQueryParameter(true);\r\n\r\n        http.cors()\r\n            .and().securityContext().securityContextRepository(new NullSecurityContextRepository())\r\n            .and()\r\n            .authorizeHttpRequests().anyRequest().authenticated()\r\n            .and()\r\n            .oauth2ResourceServer()\r\n            .bearerTokenResolver(resolver)\r\n            .jwt()\r\n        ;\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nI have setup the graphql client to pass the jwt token as access_token query parameter. I get the following logs:\r\n\r\n```\r\no.s.security.web.FilterChainProxy        : Securing GET /subscriptions?access_token=[JWT REDACTED]\r\ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\no.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\r\n.o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b3e4fcc6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_profile, SCOPE_email]]\r\no.s.security.web.FilterChainProxy        : Secured GET /subscriptions?access_token=[JWT REDACTED]\r\ns.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\nbsocketGraphQLTransportWSProtocolHandler : Initialized connection for 56ec6e0e-406d-b970-7a16-46fd9ff2da03\r\nn.g.e.SimpleDataFetcherExceptionHandler  : Exception while fetching data (/stocks) : An Authentication object was not found in the SecurityContext\r\n\r\norg.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.credentialsNotFound(AbstractSecurityInterceptor.java:336) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:200) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n[...]\r\n```\r\n\r\nLooking at the logs we can see that the request is authenticated, but it seems that the SecurityContextHolder is cleared before the method security on the data fetcher is evaluated.\r\n\r\nAny suggestions on how to configure this correctly or as to what is going on here, is very much appreciated.","title":"How to authorize subscriptions with DGS and Spring Security","body":"<p>I am working on a Graphql API and want to authenticate and authorize Graphql requests. I have the setup working just fine for queries/mutations. However, with subscriptions I am running into some issues.</p>\n<p>Versions</p>\n<pre><code>graphql-dgs-platform-dependencies: 5.2.4\nspring-boot-starter-parent: 2.7.3\n</code></pre>\n<p>I have this datafetcher:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DgsComponent\n@RequiredArgsConstructor\npublic class StocksDataFetcher implements SupportsGlobalObjectIdentification {\n    private final StocksService service;\n\n    @DgsSubscription\n    @Secured(&quot;ROLE_myRole&quot;)\n    public Publisher&lt;Stock&gt; stocks(DataFetchingEnvironment dfe) {\n        final var sctx = SecurityContextHolder.getContext();\n\n        return service.getStocksPublisher();\n    }\n}\n</code></pre>\n<p>This SecurityFilter chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        final var resolver = new DefaultBearerTokenResolver();\n        resolver.setAllowUriQueryParameter(true);\n\n        http.cors()\n            .and().securityContext().securityContextRepository(new NullSecurityContextRepository())\n            .and()\n            .authorizeHttpRequests().anyRequest().authenticated()\n            .and()\n            .oauth2ResourceServer()\n            .bearerTokenResolver(resolver)\n            .jwt()\n        ;\n        return http.build();\n    }\n}\n</code></pre>\n<p>I have setup the graphql client to pass the jwt token as access_token query parameter. I get the following logs:</p>\n<pre><code>o.s.security.web.FilterChainProxy        : Securing GET /subscriptions?access_token=[JWT REDACTED]\ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\no.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token\n.o.s.r.w.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b3e4fcc6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_profile, SCOPE_email]]\no.s.security.web.FilterChainProxy        : Secured GET /subscriptions?access_token=[JWT REDACTED]\ns.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\nbsocketGraphQLTransportWSProtocolHandler : Initialized connection for 56ec6e0e-406d-b970-7a16-46fd9ff2da03\nn.g.e.SimpleDataFetcherExceptionHandler  : Exception while fetching data (/stocks) : An Authentication object was not found in the SecurityContext\n\norg.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.credentialsNotFound(AbstractSecurityInterceptor.java:336) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:200) ~[spring-security-core-5.7.3.jar:5.7.3]\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58) ~[spring-security-core-5.7.3.jar:5.7.3]\n[...]\n</code></pre>\n<p>Looking at the logs we can see that the request is authenticated, but it seems that the SecurityContextHolder is cleared before the method security on the data fetcher is evaluated.</p>\n<p>Any suggestions on how to configure this correctly or as to what is going on here, is very much appreciated.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666614704,"creation_date":1666614704,"answer_id":74181141,"question_id":74179035,"body_markdown":"Yes. There’s a single thread for executing all of the user-implemented methods in the same task. ","title":"Does processElement() block broadcastProcessElement()?","body":"<p>Yes. There’s a single thread for executing all of the user-implemented methods in the same task.</p>\n"}],"owner":{"account_id":11057209,"reputation":17,"user_id":11791225,"display_name":"Komal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74181141,"answer_count":1,"score":0,"last_activity_date":1666614704,"creation_date":1666603409,"question_id":74179035,"body_markdown":"I know that when broadcastProcessElement() is executing, processElement will not be executed, but is the vice versa also true?","title":"Does processElement() block broadcastProcessElement()?","body":"<p>I know that when broadcastProcessElement() is executing, processElement will not be executed, but is the vice versa also true?</p>\n"},{"tags":["java","android","kotlin","mutablelist"],"answers":[{"comments":[{"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"score":0,"creation_date":1666592387,"post_id":74177188,"comment_id":130964919,"body_markdown":"thank you I&#39;d looking for something like this thanks +1","body":"thank you I&#39;d looking for something like this thanks +1"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1666613506,"post_id":74177188,"comment_id":130971336,"body_markdown":"This explanation about primitives  isn’t really correct. It has nothing to do with primitives vs classes and stack vs heap, and has everything to do with whether you are changing what a variable is pointing at vs mutating a mutable class instance. In Kotlin you can think of all primitives as classes just like non-primitives. They behave just like any immutable class.","body":"This explanation about primitives  isn’t really correct. It has nothing to do with primitives vs classes and stack vs heap, and has everything to do with whether you are changing what a variable is pointing at vs mutating a mutable class instance. In Kotlin you can think of all primitives as classes just like non-primitives. They behave just like any immutable class."}],"tags":[],"owner":{"account_id":12488095,"reputation":1057,"user_id":9090647,"display_name":"Bilal Naeem"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666591889,"creation_date":1666591889,"answer_id":74177188,"question_id":74177010,"body_markdown":"In order to understand what is going on here you need to know how values are saved in memory. All objects that are created using the `new` keyword (not needed in Kotlin), are stored in heap memory whereas all primitive data types are in stack memory. \r\n\r\nConsider the following code\r\n\r\n    val list: MutableList&lt;String&gt; = ArrayList()\r\n\r\nWhat is happening here is that a new object of `ArrayList` is being created in the heap. The variable `list` can be considered as a box which holds the location where the actual object is created. You can imagine the variable holding a value of `0x7800abd12`.\r\n\r\nNow what happens, when you create a new variable and assign the one that you created above.\r\n\r\n    val newList = list\r\n\r\nHere, you assigned whatever value the variable `list` had to the variable `newList`. What this did was in fact save the memory address `0x7800abd12` in the variable `newList`. Remember, the value is the location where the actual list is created. Now, if the user accesses either `list` or `newList`, they will be taken to the object at the given memory address. Since both variables have the same address, any change made to either of the two variables will reflect for both of them.\r\n\r\nBut why doesn&#39;t this behaviour reflect when we are using primitive data types. Remember, I mentioned that primitive data types are stored on the stack rather than heap. Consider this example\r\n\r\n    val pi = 3.142\r\n\r\nIn this case, the variable `pi` actually holds the value `3.142` rather than a memory location. Now, when you assign it  to another variable, the new variable also holds the value rather than a memory location.\r\n\r\n    val newPi = pi\r\n\r\nHere `newPi` holds the value `3.142`. If you change `newPi` to some other value, it will only update the variable `newPi` and won&#39;t update the variable `pi`.\r\n\r\nIn order to learn more about this you can check out this [thread][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","title":"Kotlin Why Changing Local var also updating companion object&#39;s var","body":"<p>In order to understand what is going on here you need to know how values are saved in memory. All objects that are created using the <code>new</code> keyword (not needed in Kotlin), are stored in heap memory whereas all primitive data types are in stack memory.</p>\n<p>Consider the following code</p>\n<pre><code>val list: MutableList&lt;String&gt; = ArrayList()\n</code></pre>\n<p>What is happening here is that a new object of <code>ArrayList</code> is being created in the heap. The variable <code>list</code> can be considered as a box which holds the location where the actual object is created. You can imagine the variable holding a value of <code>0x7800abd12</code>.</p>\n<p>Now what happens, when you create a new variable and assign the one that you created above.</p>\n<pre><code>val newList = list\n</code></pre>\n<p>Here, you assigned whatever value the variable <code>list</code> had to the variable <code>newList</code>. What this did was in fact save the memory address <code>0x7800abd12</code> in the variable <code>newList</code>. Remember, the value is the location where the actual list is created. Now, if the user accesses either <code>list</code> or <code>newList</code>, they will be taken to the object at the given memory address. Since both variables have the same address, any change made to either of the two variables will reflect for both of them.</p>\n<p>But why doesn't this behaviour reflect when we are using primitive data types. Remember, I mentioned that primitive data types are stored on the stack rather than heap. Consider this example</p>\n<pre><code>val pi = 3.142\n</code></pre>\n<p>In this case, the variable <code>pi</code> actually holds the value <code>3.142</code> rather than a memory location. Now, when you assign it  to another variable, the new variable also holds the value rather than a memory location.</p>\n<pre><code>val newPi = pi\n</code></pre>\n<p>Here <code>newPi</code> holds the value <code>3.142</code>. If you change <code>newPi</code> to some other value, it will only update the variable <code>newPi</code> and won't update the variable <code>pi</code>.</p>\n<p>In order to learn more about this you can check out this <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666614051,"creation_date":1666614051,"answer_id":74181014,"question_id":74177010,"body_markdown":"You compared changing the contents of a list with changing the value of a variable, which are not the same thing. In your example, `mPi` is first assigned to point at the value of `Data.pi` and then it’s changed to point at some other Double. You aren’t doing anything to modify the Double itself, only what the local variable `mPi` is pointing to. \r\n\r\nWhen you do `val newList = Data.list`, you are declaring the variable to point to the same list instance as in Data. Then you modify the *contents* of that same list. Since both variables are pointing at the same instance, you will observe the same changes if you inspect the instance via either variable.  Notice you did not reassign the variable’s value using `newList =` like you did in the `pi` example, which is why these are not analogous actions. \r\n\r\nIn short, with the pi example, you have two Double instances and were switching between them by changing the value of a variable. With the list example, you have only one  MutableList instance that you are internally mutating.\r\n\r\nNotably, primitive type classes are all immutable so there’s no way you could modify their contents even if you wanted to. They don’t have functions you can call on them to change the value they represent. In Kotlin you rarely have to think about the distinction between primitive classes and other classes unless you’re optimizing code performance. ","title":"Kotlin Why Changing Local var also updating companion object&#39;s var","body":"<p>You compared changing the contents of a list with changing the value of a variable, which are not the same thing. In your example, <code>mPi</code> is first assigned to point at the value of <code>Data.pi</code> and then it’s changed to point at some other Double. You aren’t doing anything to modify the Double itself, only what the local variable <code>mPi</code> is pointing to.</p>\n<p>When you do <code>val newList = Data.list</code>, you are declaring the variable to point to the same list instance as in Data. Then you modify the <em>contents</em> of that same list. Since both variables are pointing at the same instance, you will observe the same changes if you inspect the instance via either variable.  Notice you did not reassign the variable’s value using <code>newList =</code> like you did in the <code>pi</code> example, which is why these are not analogous actions.</p>\n<p>In short, with the pi example, you have two Double instances and were switching between them by changing the value of a variable. With the list example, you have only one  MutableList instance that you are internally mutating.</p>\n<p>Notably, primitive type classes are all immutable so there’s no way you could modify their contents even if you wanted to. They don’t have functions you can call on them to change the value they represent. In Kotlin you rarely have to think about the distinction between primitive classes and other classes unless you’re optimizing code performance.</p>\n"}],"owner":{"account_id":26690144,"reputation":43,"user_id":20298837,"display_name":"Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74177188,"answer_count":2,"score":0,"last_activity_date":1666614051,"creation_date":1666590009,"question_id":74177010,"body_markdown":"If I `clear()` my local list (`mList`) it also clearing `companion`&#39;s Mutablelist (`list`)\r\nWhy this happening explanation&#39;s are welcome :)\r\n\r\nI&#39;ve a class with `companion` like this : \r\n\r\n```\r\nclass Data {\r\n    companion object {\r\n        var list:MutableList&lt;String&gt; = ArrayList()\r\n    }\r\n}\r\n```\r\n\r\nIf I create my local list something like this :\r\n\r\n```\r\nfun main() {\r\n   // some dummy data\r\n   Data.list.add(&quot;Lion&quot;) \r\n   Data.list.add(&quot;Cat&quot;)\r\n   Data.list.add(&quot;Dog&quot;)\r\n   Data.list.add(&quot;Cheetah&quot;)\r\n\r\n   // my local mList\r\n   val mList = Data.list\r\n\r\n   println(&quot;Before Clearing : mList = $mList\\n list = ${Data.list}&quot;)\r\n   mList.clear()\r\n   println(&quot;After Clearing : mList = $mList\\n list = ${Data.list}&quot;)\r\n}\r\n```\r\n\r\n**OutPut**\r\n\r\n```bash\r\nBefore Clearing : mList = [Lion, Cat, Dog, Cheetah]\r\n list = [Lion, Cat, Dog, Cheetah]\r\nAfter Clearing : mList = []\r\n list = []\r\n```\r\n\r\nAs You can see in output if I `clear()` local `mList` it is clearing `companion`&#39;s list Why it is ?\r\n\r\nif I do this same with some other things like `double` it is not happening like this example -\r\n```\r\n// same Data class&#39;s\r\n...\r\n  var pi = 3.14\r\n...\r\n```\r\n\r\nIf change local `mPi` it doesn&#39;t change `pi` :\r\n\r\n```\r\nvar mPi = Data.pi\r\nprintln(&quot;Before Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \r\nmPi = 319.12\r\nprintln(&quot;After Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \r\n```\r\n\r\n2nd Output\r\n\r\n```bash\r\nBefore Assigning to New value mPi =  3.14 and pi = 3.14\r\nAfter Assigning to New value mPi =  319.12 and pi = 3.14\r\n```\r\nLink of [Kotlin Playground][1]\r\n\r\nWhy it is happening? I&#39;d like to know :)\r\n\r\n\r\n  [1]: https://pl.kotl.in/rmO-R-um_","title":"Kotlin Why Changing Local var also updating companion object&#39;s var","body":"<p>If I <code>clear()</code> my local list (<code>mList</code>) it also clearing <code>companion</code>'s Mutablelist (<code>list</code>)\nWhy this happening explanation's are welcome :)</p>\n<p>I've a class with <code>companion</code> like this :</p>\n<pre><code>class Data {\n    companion object {\n        var list:MutableList&lt;String&gt; = ArrayList()\n    }\n}\n</code></pre>\n<p>If I create my local list something like this :</p>\n<pre><code>fun main() {\n   // some dummy data\n   Data.list.add(&quot;Lion&quot;) \n   Data.list.add(&quot;Cat&quot;)\n   Data.list.add(&quot;Dog&quot;)\n   Data.list.add(&quot;Cheetah&quot;)\n\n   // my local mList\n   val mList = Data.list\n\n   println(&quot;Before Clearing : mList = $mList\\n list = ${Data.list}&quot;)\n   mList.clear()\n   println(&quot;After Clearing : mList = $mList\\n list = ${Data.list}&quot;)\n}\n</code></pre>\n<p><strong>OutPut</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>Before Clearing : mList = [Lion, Cat, Dog, Cheetah]\n list = [Lion, Cat, Dog, Cheetah]\nAfter Clearing : mList = []\n list = []\n</code></pre>\n<p>As You can see in output if I <code>clear()</code> local <code>mList</code> it is clearing <code>companion</code>'s list Why it is ?</p>\n<p>if I do this same with some other things like <code>double</code> it is not happening like this example -</p>\n<pre><code>// same Data class's\n...\n  var pi = 3.14\n...\n</code></pre>\n<p>If change local <code>mPi</code> it doesn't change <code>pi</code> :</p>\n<pre><code>var mPi = Data.pi\nprintln(&quot;Before Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \nmPi = 319.12\nprintln(&quot;After Assigning to New value mPi =  $mPi and pi = ${Data.pi}&quot;) \n</code></pre>\n<p>2nd Output</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Before Assigning to New value mPi =  3.14 and pi = 3.14\nAfter Assigning to New value mPi =  319.12 and pi = 3.14\n</code></pre>\n<p>Link of <a href=\"https://pl.kotl.in/rmO-R-um_\" rel=\"nofollow noreferrer\">Kotlin Playground</a></p>\n<p>Why it is happening? I'd like to know :)</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2715545,"reputation":338,"user_id":2343010,"display_name":"Guilherme Santos"},"score":0,"creation_date":1621272658,"post_id":67464272,"comment_id":119440356,"body_markdown":"On Ubuntu, I was messing with several parallel installations (one Stable, a recent Canary and an older one). No problems. Until I removed the older Canary version, that is. I started having the exact same issue. I have tried everything as well and I am quite clueless on how to overcome this issue as of now. If I manage to I will write here my findings as a comment as it probably would be a different solution for your case on Windows.","body":"On Ubuntu, I was messing with several parallel installations (one Stable, a recent Canary and an older one). No problems. Until I removed the older Canary version, that is. I started having the exact same issue. I have tried everything as well and I am quite clueless on how to overcome this issue as of now. If I manage to I will write here my findings as a comment as it probably would be a different solution for your case on Windows."}],"answers":[{"comments":[{"owner":{"account_id":446117,"reputation":593,"user_id":838961,"display_name":"Marat Asadurian"},"score":0,"creation_date":1632675405,"post_id":67583440,"comment_id":122551299,"body_markdown":"Had a similar problem in CircleCI. Cache invalidation worked.","body":"Had a similar problem in CircleCI. Cache invalidation worked."},{"owner":{"account_id":6984098,"reputation":718,"user_id":5355770,"display_name":"Tom Ladek"},"score":2,"creation_date":1645600956,"post_id":67583440,"comment_id":125911786,"body_markdown":"It was a caching problem for me, too. Specifically deleting the ~./.gradle directories `caches`, `daemon` and `wrapper` as per [this article](https://medium.com/back-market-engineering/put-your-android-studio-on-a-diet-fa4d364acb05#d129) did the trick.","body":"It was a caching problem for me, too. Specifically deleting the ~./.gradle directories <code>caches</code>, <code>daemon</code> and <code>wrapper</code> as per <a href=\"https://medium.com/back-market-engineering/put-your-android-studio-on-a-diet-fa4d364acb05#d129\" rel=\"nofollow noreferrer\">this article</a> did the trick."}],"tags":[],"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1621329866,"creation_date":1621329866,"answer_id":67583440,"question_id":67464272,"body_markdown":"I had a similar problem building a Java app on GitHub Actions. Once I upgraded from Java 11 to Java 16 I started to get the same error as you. \r\n\r\nIn my case it turned out to be a caching problem. I was caching two directories:\r\n1. `~/.gradle` (on windows this should be something like `C:\\Users\\username\\.gradle`)\r\n2. `project/.gradle` (this one is the gradle directory that is local to my app project).\r\n\r\nInvalidating the caches fixed the issue for me.","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>I had a similar problem building a Java app on GitHub Actions. Once I upgraded from Java 11 to Java 16 I started to get the same error as you.</p>\n<p>In my case it turned out to be a caching problem. I was caching two directories:</p>\n<ol>\n<li><code>~/.gradle</code> (on windows this should be something like <code>C:\\Users\\username\\.gradle</code>)</li>\n<li><code>project/.gradle</code> (this one is the gradle directory that is local to my app project).</li>\n</ol>\n<p>Invalidating the caches fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2123818,"reputation":969,"user_id":1886510,"display_name":"darw"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1626684382,"creation_date":1626684382,"answer_id":68437593,"question_id":67464272,"body_markdown":"I had a similar problem after uninstalling a Java version with Gradle deamon running. Stopping the deamon fixed the issue for me:\r\n\r\n    gradle --stop\r\n\r\n(Probably, a cross-platform equivalent of [Miguel][1]&#39;s solution)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2185719/miguel-ferreira","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>I had a similar problem after uninstalling a Java version with Gradle deamon running. Stopping the deamon fixed the issue for me:</p>\n<pre><code>gradle --stop\n</code></pre>\n<p>(Probably, a cross-platform equivalent of <a href=\"https://stackoverflow.com/users/2185719/miguel-ferreira\">Miguel</a>'s solution)</p>\n"},{"tags":[],"owner":{"account_id":18636773,"reputation":543,"user_id":13754420,"display_name":"Mustafo aka Shokhrukh Makmudov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653551927,"creation_date":1653551927,"answer_id":72388597,"question_id":67464272,"body_markdown":"Update gradle(`gradle-wrapper.properties`) version from Android Studio to the lates version\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cSski.png","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>Update gradle(<code>gradle-wrapper.properties</code>) version from Android Studio to the lates version</p>\n<p><a href=\"https://i.stack.imgur.com/cSski.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSski.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20432463,"reputation":21,"user_id":14991107,"display_name":"SFZ ZFS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666614026,"creation_date":1666614026,"answer_id":74181006,"question_id":67464272,"body_markdown":"For me i just deleted the .gradle in my folder ```C:\\Users\\username\\.gradle```.\r\nWith Android Studio, dependencies are automatically reinstalled","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>For me i just deleted the .gradle in my folder <code>C:\\Users\\username\\.gradle</code>.\nWith Android Studio, dependencies are automatically reinstalled</p>\n"}],"owner":{"account_id":21116160,"reputation":143,"user_id":15523210,"display_name":"p23he"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10416,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1666614026,"creation_date":1620615814,"question_id":67464272,"body_markdown":"I am having a lot of trouble for what should be an easy task. I&#39;m trying to build a simple Java project (just Hello World) with Gradle for one of my courses before classes begin. I cloned the repository, downloaded all the relevant software, and tried `gradle build` on the command line. I get the error `Supplied javaHome must be a valid directory. You supplied: C:\\Program Files\\AdoptOpenJDK\\jre-8.0.282.8-hotspot`. This file that shows up was a previous version that I had removed.\r\n\r\nI tried reinstalling everything, and I also checked the JAVA_HOME environment variable, which is set to `C:\\Program Files\\AdoptOpenJDK\\jdk-15.0.2.7-hotspot\\`. I&#39;ve also relaunched the terminal and rebooted my computer. I&#39;m using Git Bash as my shell, if that&#39;s anything relevant. Any advice on how to change the supplied javaHome?\r\n\r\nHere are some relevant screenshots:\r\n\r\n[Result of `gradle build`][1]\r\n\r\n[Result of `java -version`][2]\r\n\r\n[JAVA_HOME environment variable][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4aDb8.png\r\n  [2]: https://i.stack.imgur.com/4pbGN.png\r\n  [3]: https://i.stack.imgur.com/uolJk.png\r\n\r\nMy (very sketchy) solution is to make a copy of the existing jre15 folder I have and rename it to `jre-8.0.282.8-hotspot`. I can build and run my program now, but it just seems very sketch.\r\n\r\nOne year update: I asked my prof when classes started when he said this solution was actually pretty ok and would suffice for the semester.","title":"Building with Gradle - Supplied javaHome must be a valid directory","body":"<p>I am having a lot of trouble for what should be an easy task. I'm trying to build a simple Java project (just Hello World) with Gradle for one of my courses before classes begin. I cloned the repository, downloaded all the relevant software, and tried <code>gradle build</code> on the command line. I get the error <code>Supplied javaHome must be a valid directory. You supplied: C:\\Program Files\\AdoptOpenJDK\\jre-8.0.282.8-hotspot</code>. This file that shows up was a previous version that I had removed.</p>\n<p>I tried reinstalling everything, and I also checked the JAVA_HOME environment variable, which is set to <code>C:\\Program Files\\AdoptOpenJDK\\jdk-15.0.2.7-hotspot\\</code>. I've also relaunched the terminal and rebooted my computer. I'm using Git Bash as my shell, if that's anything relevant. Any advice on how to change the supplied javaHome?</p>\n<p>Here are some relevant screenshots:</p>\n<p><a href=\"https://i.stack.imgur.com/4aDb8.png\" rel=\"nofollow noreferrer\">Result of <code>gradle build</code></a></p>\n<p><a href=\"https://i.stack.imgur.com/4pbGN.png\" rel=\"nofollow noreferrer\">Result of <code>java -version</code></a></p>\n<p><a href=\"https://i.stack.imgur.com/uolJk.png\" rel=\"nofollow noreferrer\">JAVA_HOME environment variable</a></p>\n<p>My (very sketchy) solution is to make a copy of the existing jre15 folder I have and rename it to <code>jre-8.0.282.8-hotspot</code>. I can build and run my program now, but it just seems very sketch.</p>\n<p>One year update: I asked my prof when classes started when he said this solution was actually pretty ok and would suffice for the semester.</p>\n"},{"tags":["java","sql","jdbc","singleton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1666613962,"post_id":74180951,"comment_id":130971489,"body_markdown":"this has nothing to do with the Singleton pattern, just with the fact that your connection has been closed. Also: there is a difference between a static field and the Singleton pattern. I don&#39;t see the pattern anywhere in your code.","body":"this has nothing to do with the Singleton pattern, just with the fact that your connection has been closed. Also: there is a difference between a static field and the Singleton pattern. I don&#39;t see the pattern anywhere in your code."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1666614279,"post_id":74180951,"comment_id":130971592,"body_markdown":"You are using a try-with-resources statement that will close the resource (=your connection) after using it in your `insertBook` method. And you only use one connection that you create once and then return for every `getConnection` call. So In Short what happens is: 1. You create `Connection conn` 2. Use that connection in `insertBook` method 3. close that connection after using. 4. `Connection conn` is now closed and can no longer be used.","body":"You are using a try-with-resources statement that will close the resource (=your connection) after using it in your <code>insertBook</code> method. And you only use one connection that you create once and then return for every <code>getConnection</code> call. So In Short what happens is: 1. You create <code>Connection conn</code> 2. Use that connection in <code>insertBook</code> method 3. close that connection after using. 4. <code>Connection conn</code> is now closed and can no longer be used."}],"owner":{"account_id":13481479,"reputation":69,"user_id":9726647,"display_name":"Narmin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666613716,"creation_date":1666613716,"question_id":74180951,"body_markdown":"In the following code I have a library database to which I add book and its details. In DbUtils I have to use singleton pattern to return connection, but when I do so I get a SQL error saying: \r\n```\r\nSQL State: S1009\r\nNo operations allowed after statement closed.SQL State: 08003\r\nNo operations allowed after connection closed.\r\n```\r\nWithout using singleton pattern everything works just fine, but like this it just keeps throwing errors. I tried to move ```preparedStatement()``` to the ```DbUtils``` class, or to use singleton pattern with it too but nothing works. Why does my code closes the connection too soon?\r\n```\r\npublic class BookRepository {\r\n        public static void insertBook(String bookName, String genre, String language) {\r\n        try (Connection con =connect.getConnection();\r\n             PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT_BOOK)) {\r\n\r\n            preparedStatement.setString(1, bookName);\r\n            preparedStatement.setString(2, genre);\r\n            preparedStatement.setString(3, language);\r\n            int row = preparedStatement.executeUpdate();\r\n\r\n        } catch (SQLException e) {\r\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class DbUtils {\r\n    private static Connection conn = null;\r\n    static {\r\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\r\n        final String  USER = &quot;root&quot;;\r\n        final String PASS = &quot;12345&quot;;\r\n        try {\r\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n        } catch (SQLException e) {\r\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n        }\r\n\r\n        System.out.println(&quot;Connected to database&quot;);\r\n    }\r\n    public static Connection getConnection() {\r\n        return conn;\r\n    }\r\n\r\n}\r\n\r\n```","title":"No operations allowed after connection closed when using Singleton pattern","body":"<p>In the following code I have a library database to which I add book and its details. In DbUtils I have to use singleton pattern to return connection, but when I do so I get a SQL error saying:</p>\n<pre><code>SQL State: S1009\nNo operations allowed after statement closed.SQL State: 08003\nNo operations allowed after connection closed.\n</code></pre>\n<p>Without using singleton pattern everything works just fine, but like this it just keeps throwing errors. I tried to move <code>preparedStatement()</code> to the <code>DbUtils</code> class, or to use singleton pattern with it too but nothing works. Why does my code closes the connection too soon?</p>\n<pre><code>public class BookRepository {\n        public static void insertBook(String bookName, String genre, String language) {\n        try (Connection con =connect.getConnection();\n             PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT_BOOK)) {\n\n            preparedStatement.setString(1, bookName);\n            preparedStatement.setString(2, genre);\n            preparedStatement.setString(3, language);\n            int row = preparedStatement.executeUpdate();\n\n        } catch (SQLException e) {\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>public class DbUtils {\n    private static Connection conn = null;\n    static {\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/library&quot;;\n        final String  USER = &quot;root&quot;;\n        final String PASS = &quot;12345&quot;;\n        try {\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\n        } catch (SQLException e) {\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n        }\n\n        System.out.println(&quot;Connected to database&quot;);\n    }\n    public static Connection getConnection() {\n        return conn;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1445026396,"post_id":33178776,"comment_id":54164817,"body_markdown":"Usually, the better answer is to have two entry points. In your case, your one method taking a `Context` would turn into two methods, taking an `Activity` and an `Application`, for example.","body":"Usually, the better answer is to have two entry points. In your case, your one method taking a <code>Context</code> would turn into two methods, taking an <code>Activity</code> and an <code>Application</code>, for example."},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":0,"creation_date":1445026734,"post_id":33178776,"comment_id":54164975,"body_markdown":"well idea was to keep it simple for external developer or client application","body":"well idea was to keep it simple for external developer or client application"}],"answers":[{"comments":[{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":2,"creation_date":1445026675,"post_id":33178820,"comment_id":54164937,"body_markdown":"Does this also mean you can use `instanceof Application` to check whether it&#39;s `getApplicationContext()`?","body":"Does this also mean you can use <code>instanceof Application</code> to check whether it&#39;s <code>getApplicationContext()</code>?"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":2,"creation_date":1445026887,"post_id":33178820,"comment_id":54165053,"body_markdown":"@PPartisan, easy test `Log.i(getClass().getSimpleName(), &quot;am I Application &quot; + (getApplicationContext() instanceof Application));`","body":"@PPartisan, easy test <code>Log.i(getClass().getSimpleName(), &quot;am I Application &quot; + (getApplicationContext() instanceof Application));</code>"},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":2,"creation_date":1445026979,"post_id":33178820,"comment_id":54165089,"body_markdown":"I forgot to mention third case, context could be instance of ContextWrapper , so if  instaceof Application works then it covers all the cases","body":"I forgot to mention third case, context could be instance of ContextWrapper , so if  instaceof Application works then it covers all the cases"},{"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"score":2,"creation_date":1445032372,"post_id":33178820,"comment_id":54167428,"body_markdown":"(getApplicationContext() instanceof Application)  returns true :), you can update your answer for this case","body":"(getApplicationContext() instanceof Application)  returns true :), you can update your answer for this case"}],"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1445026368,"creation_date":1445026368,"answer_id":33178820,"question_id":33178776,"body_markdown":"&gt; Since both methods return instance of Context object but with\r\n&gt; different capabilities, how can I differentiate if passed context\r\n&gt; object is Activity Context or Application Context ?\r\n\r\nyou can check with `instanceof`. It allows to check if the object is of a certain type. E.g.\r\n\r\n     if (context instanceof Activity) {\r\n    \r\n     } ","title":"How to differentiate between ApplicationContext and Context?","body":"<blockquote>\n  <p>Since both methods return instance of Context object but with\n  different capabilities, how can I differentiate if passed context\n  object is Activity Context or Application Context ?</p>\n</blockquote>\n\n<p>you can check with <code>instanceof</code>. It allows to check if the object is of a certain type. E.g.</p>\n\n<pre><code> if (context instanceof Activity) {\n\n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5920746,"reputation":1601,"user_id":4658157,"accept_rate":79,"display_name":"Phate P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666613669,"creation_date":1666613669,"answer_id":74180940,"question_id":33178776,"body_markdown":"  ```\r\nif (yourContext != yourContext.applicationContext) {\r\n   \r\n}\r\n  ```\r\n\r\ntested with passing `applicationContext` as `yourContext` and others.","title":"How to differentiate between ApplicationContext and Context?","body":"<pre><code>if (yourContext != yourContext.applicationContext) {\n \n}\n</code></pre>\n<p>tested with passing <code>applicationContext</code> as <code>yourContext</code> and others.</p>\n"}],"owner":{"account_id":314561,"reputation":6333,"user_id":629804,"accept_rate":70,"display_name":"Pradeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1909,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33178820,"answer_count":2,"score":4,"last_activity_date":1666613669,"creation_date":1445026169,"question_id":33178776,"body_markdown":"I have a Android method which receives instance of Context object, I want to differentiate if the passed context object is returned using one of the following methods\r\n\r\n- [View.getContext()][1]:  Returns the context the view is currently running in.  Usually the currently active Activity.\r\n\r\n- [Activity.getApplicationContext()][2]:  Returns the context for the entire application (the process all the Activities are running inside\r\n   of).  Use this instead of the current Activity context if you need a\r\n   context tied to the lifecycle of the entire application, not just the\r\n   current Activity.\r\n\r\nSince both methods return instance of Context object but with different capabilities, how can I differentiate if passed context object is Activity Context or Application Context ?\r\n\r\n [1]: http://developer.android.com/reference/android/view/View.html#getContext%28%29\r\n  [2]: http://developer.android.com/reference/android/content/ContextWrapper.html#getApplicationContext%28%29","title":"How to differentiate between ApplicationContext and Context?","body":"<p>I have a Android method which receives instance of Context object, I want to differentiate if the passed context object is returned using one of the following methods</p>\n\n<ul>\n<li><p><a href=\"http://developer.android.com/reference/android/view/View.html#getContext%28%29\" rel=\"nofollow\">View.getContext()</a>:  Returns the context the view is currently running in.  Usually the currently active Activity.</p></li>\n<li><p><a href=\"http://developer.android.com/reference/android/content/ContextWrapper.html#getApplicationContext%28%29\" rel=\"nofollow\">Activity.getApplicationContext()</a>:  Returns the context for the entire application (the process all the Activities are running inside\nof).  Use this instead of the current Activity context if you need a\ncontext tied to the lifecycle of the entire application, not just the\ncurrent Activity.</p></li>\n</ul>\n\n<p>Since both methods return instance of Context object but with different capabilities, how can I differentiate if passed context object is Activity Context or Application Context ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","application.properties"],"comments":[{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666609450,"post_id":74180135,"comment_id":130969967,"body_markdown":"properties of datasource are located in application.properties or .yaml file","body":"properties of datasource are located in application.properties or .yaml file"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1666609846,"post_id":74180135,"comment_id":130970101,"body_markdown":"@debugmode - I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read.","body":"@debugmode - I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666609970,"post_id":74180135,"comment_id":130970142,"body_markdown":"You need to search spring-boot for the defaults, spring-data is not aware of these... [DatabaseDriver(enum)](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jdbc/DatabaseDriver.java) could give you good links in IDE..","body":"You need to search spring-boot for the defaults, spring-data is not aware of these... <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jdbc/DatabaseDriver.java\" rel=\"nofollow noreferrer\">DatabaseDriver(enum)</a> could give you good links in IDE.."}],"answers":[{"comments":[{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1666633195,"post_id":74180858,"comment_id":130978571,"body_markdown":"verified and this answers precisely. +1","body":"verified and this answers precisely. +1"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1667034653,"post_id":74180858,"comment_id":131078714,"body_markdown":"could you help with finding `spring.jpa.properties.hibernate.cache.use_query_cache` props and `spring.jpa.properties.hibernate.generate_statistics`.  I looked at `spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm` but could not find any.","body":"could you help with finding <code>spring.jpa.properties.hibernate.cache.use_query_cache</code> props and <code>spring.jpa.properties.hibernate.generate_statistics</code>.  I looked at <code>spring-boot-autoconfigure&#47;src&#47;main&#47;java&#47;org&#47;springframework&#47;&zwnj;&#8203;boot&#47;autoconfigure&#47;o&zwnj;&#8203;rm</code> but could not find any."},{"owner":{"account_id":6392733,"reputation":131,"user_id":4958265,"display_name":"Thomas Delrue"},"score":1,"creation_date":1667385013,"post_id":74180858,"comment_id":131152881,"body_markdown":"You&#39;re looking in the right place, but it&#39;s a little less straightforward here. `spring.jpa.properties` are mapped to JpaProperties.properties HashMap.\n\nLook further at `HibernateProperties.determineHibernateProperties()` to get a sense of the logic for these specific Hibernate properties you&#39;re asking about. (And `org.hibernate.cfg.AvailableSettings` for the list of these hibernate properties). If I understand correctly there should be a K-V pair for key `hibernate.cache.use_query_cache` in your JpaProperteries.properties object.","body":"You&#39;re looking in the right place, but it&#39;s a little less straightforward here. <code>spring.jpa.properties</code> are mapped to JpaProperties.properties HashMap.  Look further at <code>HibernateProperties.determineHibernateProperties()</code> to get a sense of the logic for these specific Hibernate properties you&#39;re asking about. (And <code>org.hibernate.cfg.AvailableSettings</code> for the list of these hibernate properties). If I understand correctly there should be a K-V pair for key <code>hibernate.cache.use_query_cache</code> in your JpaProperteries.properties object."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1667742420,"post_id":74180858,"comment_id":131234519,"body_markdown":"the above comment solves it +1 --&gt; here it goes [AvailableSettings.java](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java#L1294)","body":"the above comment solves it +1 --&gt; here it goes <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java#L1294\" rel=\"nofollow noreferrer\">AvailableSettings.java</a>"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1667743552,"post_id":74180858,"comment_id":131234777,"body_markdown":"And Thomas - looking at the AvailableSettings is really wonderful - coz you see the entire feature set. For example - [hibernate.query.plan_cache_enabled](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java#L1405) and there are many more such things here.","body":"And Thomas - looking at the AvailableSettings is really wonderful - coz you see the entire feature set. For example - <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/cfg/AvailableSettings.java#L1405\" rel=\"nofollow noreferrer\">hibernate.query.plan_cache_enabled</a> and there are many more such things here."}],"tags":[],"owner":{"account_id":6392733,"reputation":131,"user_id":4958265,"display_name":"Thomas Delrue"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666613155,"creation_date":1666613155,"answer_id":74180858,"question_id":74180135,"body_markdown":"With regards to `spring.datasource.driverClassName` I think you were not looking yet in the right place, as JPA is already an abstraction layer above JDBC.\r\n\r\nYou should look in `org.springframework.boot:spring-boot-autoconfigure`. There you&#39;ll find `org.springframework.boot.autoconfigure.jdbc.DataSourceProperties` which is annotated with `@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)` and there you&#39;ll find `public void setDriverClassName(String driverClassName)`","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?","body":"<p>With regards to <code>spring.datasource.driverClassName</code> I think you were not looking yet in the right place, as JPA is already an abstraction layer above JDBC.</p>\n<p>You should look in <code>org.springframework.boot:spring-boot-autoconfigure</code>. There you'll find <code>org.springframework.boot.autoconfigure.jdbc.DataSourceProperties</code> which is annotated with <code>@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)</code> and there you'll find <code>public void setDriverClassName(String driverClassName)</code></p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74180858,"answer_count":1,"score":1,"last_activity_date":1666613155,"creation_date":1666609253,"question_id":74180135,"body_markdown":"I have gone through the [Common Application Properties][1] reference page. This contains the list of commonly used spring props.\r\n\r\nSo, just to explore and find out the **convention** regarding how and where the above props are declared (read) in java code. I decided to set sailing towards finding `spring-data-jpa` related properties. I started to find for the java code where `spring.datasource.driverClassName` property is declared (read). \r\n\r\nI have looked at these jars:  \r\n1) `org.springframework.boot:spring-boot-starter-data-jpa:2.1.7.RELEASE.jar` - this seems to be only a meta jar not a code jar.\r\n2) `org.springframework.data:spring-data-jpa:2.1.10.RELEASE.jar` - even this jar seems to not have the declaration(reading) for this property. Or I missed locating it.\r\n\r\n**Where else should I look? Any suggestions.**   \r\n\r\nI am Just trying to understand spring boot a little deeper.\r\n \r\nAs debugmode pointed, I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?","body":"<p>I have gone through the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">Common Application Properties</a> reference page. This contains the list of commonly used spring props.</p>\n<p>So, just to explore and find out the <strong>convention</strong> regarding how and where the above props are declared (read) in java code. I decided to set sailing towards finding <code>spring-data-jpa</code> related properties. I started to find for the java code where <code>spring.datasource.driverClassName</code> property is declared (read).</p>\n<p>I have looked at these jars:</p>\n<ol>\n<li><code>org.springframework.boot:spring-boot-starter-data-jpa:2.1.7.RELEASE.jar</code> - this seems to be only a meta jar not a code jar.</li>\n<li><code>org.springframework.data:spring-data-jpa:2.1.10.RELEASE.jar</code> - even this jar seems to not have the declaration(reading) for this property. Or I missed locating it.</li>\n</ol>\n<p><strong>Where else should I look? Any suggestions.</strong></p>\n<p>I am Just trying to understand spring boot a little deeper.</p>\n<p>As debugmode pointed, I understand that we define the value of the property in the .props or .yml file. I am looking for the code where its read.</p>\n"},{"tags":["java","eclipse","lombok","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666613056,"creation_date":1666613056,"answer_id":74180848,"question_id":73103028,"body_markdown":"We never found a solution to this. I don&#39;t believe Lombok&#39;s default behavior is neither safe nor useful; some annotations _are not meant_ to be used on both fields _and_ getters/setters as the same time, as the annotation changes meaning. This behavior should be opt-in, not opt-out, with Lombok.\r\n\r\nSince we couldn&#39;t get the ignore list to work effectively, we (sigh) ended up forking Lombok and removed this piece of magic. We modified `src/core/lombok/core/handlers/HandlerUtil.java`, specifically setting `NONNULL_ANNOTATIONS`, `BASE_COPYABLE_ANNOTATIONS`, `COPY_TO_SETTER_ANNOTATIONS`, `COPY_TO_BUILDER_SINGULAR_SETTER_ANNOTATIONS`, and `JACKSON_COPY_TO_BUILDER_ANNOTATIONS` all to empty collections.\r\n\r\nThis actually had the side effect of fixing a few other bugs we were stumped by with some JSON and XML bindings.","title":"How to stop lombok from copying annotations to getters/setters in Eclipse?","body":"<p>We never found a solution to this. I don't believe Lombok's default behavior is neither safe nor useful; some annotations <em>are not meant</em> to be used on both fields <em>and</em> getters/setters as the same time, as the annotation changes meaning. This behavior should be opt-in, not opt-out, with Lombok.</p>\n<p>Since we couldn't get the ignore list to work effectively, we (sigh) ended up forking Lombok and removed this piece of magic. We modified <code>src/core/lombok/core/handlers/HandlerUtil.java</code>, specifically setting <code>NONNULL_ANNOTATIONS</code>, <code>BASE_COPYABLE_ANNOTATIONS</code>, <code>COPY_TO_SETTER_ANNOTATIONS</code>, <code>COPY_TO_BUILDER_SINGULAR_SETTER_ANNOTATIONS</code>, and <code>JACKSON_COPY_TO_BUILDER_ANNOTATIONS</code> all to empty collections.</p>\n<p>This actually had the side effect of fixing a few other bugs we were stumped by with some JSON and XML bindings.</p>\n"}],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666613056,"creation_date":1658709092,"question_id":73103028,"body_markdown":"We have a problem with running Lombok &gt; 1.18.18 as an Eclipse Agent (2022-06 or v4.24.0)... it started copying JSR-303 Bean Validation constraints to the setters generated. We were surprised because this isn&#39;t backwards compatible; annotating functions that weren&#39;t previously annotated definitely is a breaking change :/\r\n\r\nThis is confusing the Apache BVal implementation (v2.0.5), as normally you wouldn&#39;t have both the field and the setter annotated. I actually don&#39;t know if the jsr303 spec allows for this, but my guess would be it is an invalid because it doesn&#39;t follow DRY principles.\r\n\r\n\r\nThere is a configuration key `lombok.copyableAnnotations` to control the behavior, but we can&#39;t seem to get Eclipse/Lombok to care about it. We put a lombok.config in the project root with this content:\r\n\r\n```\r\nconfig.stopBubbling = true\r\nlombok.copyableAnnotations =\r\n```\r\n\r\nAnd it is _still_ copying the annotations:\r\n\r\n\r\n```\r\n// output of `javap -v -p -l -constants FileName.class`\r\n  public void setUserName(java.lang.String);\r\n    descriptor: (Ljava/lang/String;)V\r\n    flags: (0x0001) ACC_PUBLIC\r\n    RuntimeVisibleParameterAnnotations:\r\n      parameter 0:\r\n        0: #26()\r\n          javax.validation.constraints.NotNull\r\n    Code:\r\n      stack=2, locals=2, args_size=2\r\n         0: aload_0\r\n         1: aload_1\r\n         2: putfield      #66                 // Field userName:Ljava/lang/String;\r\n         5: return\r\n      LineNumberTable:\r\n        line 43: 0\r\n      LocalVariableTable:\r\n        Start  Length  Slot  Name   Signature\r\n            0       6     0  this   Lcom/xxx/xxx/xxx/xxx/xxx/xxx/LoginPage;\r\n            0       6     1 userName   Ljava/lang/String;\r\n    RuntimeVisibleTypeAnnotations:\r\n      0: #26(): METHOD_FORMAL_PARAMETER, param_index=0\r\n        javax.validation.constraints.NotNull\r\n    MethodParameters:\r\n      Name                           Flags\r\n      userName                       final\r\n```\r\n\r\nAny help preventing this would be much appreciated! Thank you!\r\n\r\nEDIT\r\n==== \r\n\r\nOriginal stacktrace:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class org.apache.bval.jsr.descriptor.ComposedD$ForProperty cannot be cast to class org.apache.bval.jsr.descriptor.ElementD (org.apache.bval.jsr.descriptor.ComposedD$ForProperty and org.apache.bval.jsr.descriptor.ElementD are in unnamed module of loader java.net.URLClassLoader @1fbc7afb)\r\n\tat org.apache.bval.jsr.job.ValidateProperty$DescriptorWrapper.&lt;init&gt;(ValidateProperty.java:159)\r\n\tat org.apache.bval.jsr.job.ValidateProperty$FindDescriptor.handleProperty(ValidateProperty.java:219)\r\n\tat org.apache.bval.jsr.job.ValidateProperty$WalkGraph.handleProperty(ValidateProperty.java:312)\r\n\tat org.apache.bval.jsr.util.PathNavigation$PathPosition.handleProperty(PathNavigation.java:324)\r\n\tat org.apache.bval.jsr.util.PathNavigation.parse(PathNavigation.java:218)\r\n\tat org.apache.bval.jsr.util.PathNavigation.navigateAndReturn(PathNavigation.java:176)\r\n\t... 86 more\r\n```","title":"How to stop lombok from copying annotations to getters/setters in Eclipse?","body":"<p>We have a problem with running Lombok &gt; 1.18.18 as an Eclipse Agent (2022-06 or v4.24.0)... it started copying JSR-303 Bean Validation constraints to the setters generated. We were surprised because this isn't backwards compatible; annotating functions that weren't previously annotated definitely is a breaking change :/</p>\n<p>This is confusing the Apache BVal implementation (v2.0.5), as normally you wouldn't have both the field and the setter annotated. I actually don't know if the jsr303 spec allows for this, but my guess would be it is an invalid because it doesn't follow DRY principles.</p>\n<p>There is a configuration key <code>lombok.copyableAnnotations</code> to control the behavior, but we can't seem to get Eclipse/Lombok to care about it. We put a lombok.config in the project root with this content:</p>\n<pre><code>config.stopBubbling = true\nlombok.copyableAnnotations =\n</code></pre>\n<p>And it is <em>still</em> copying the annotations:</p>\n<pre><code>// output of `javap -v -p -l -constants FileName.class`\n  public void setUserName(java.lang.String);\n    descriptor: (Ljava/lang/String;)V\n    flags: (0x0001) ACC_PUBLIC\n    RuntimeVisibleParameterAnnotations:\n      parameter 0:\n        0: #26()\n          javax.validation.constraints.NotNull\n    Code:\n      stack=2, locals=2, args_size=2\n         0: aload_0\n         1: aload_1\n         2: putfield      #66                 // Field userName:Ljava/lang/String;\n         5: return\n      LineNumberTable:\n        line 43: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0       6     0  this   Lcom/xxx/xxx/xxx/xxx/xxx/xxx/LoginPage;\n            0       6     1 userName   Ljava/lang/String;\n    RuntimeVisibleTypeAnnotations:\n      0: #26(): METHOD_FORMAL_PARAMETER, param_index=0\n        javax.validation.constraints.NotNull\n    MethodParameters:\n      Name                           Flags\n      userName                       final\n</code></pre>\n<p>Any help preventing this would be much appreciated! Thank you!</p>\n<h1>EDIT</h1>\n<p>Original stacktrace:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class org.apache.bval.jsr.descriptor.ComposedD$ForProperty cannot be cast to class org.apache.bval.jsr.descriptor.ElementD (org.apache.bval.jsr.descriptor.ComposedD$ForProperty and org.apache.bval.jsr.descriptor.ElementD are in unnamed module of loader java.net.URLClassLoader @1fbc7afb)\n    at org.apache.bval.jsr.job.ValidateProperty$DescriptorWrapper.&lt;init&gt;(ValidateProperty.java:159)\n    at org.apache.bval.jsr.job.ValidateProperty$FindDescriptor.handleProperty(ValidateProperty.java:219)\n    at org.apache.bval.jsr.job.ValidateProperty$WalkGraph.handleProperty(ValidateProperty.java:312)\n    at org.apache.bval.jsr.util.PathNavigation$PathPosition.handleProperty(PathNavigation.java:324)\n    at org.apache.bval.jsr.util.PathNavigation.parse(PathNavigation.java:218)\n    at org.apache.bval.jsr.util.PathNavigation.navigateAndReturn(PathNavigation.java:176)\n    ... 86 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1666176236,"post_id":74123767,"comment_id":130872069,"body_markdown":"With Spring you need to configure in the main application to scan packages, so that it finds the beans defined in other modules.","body":"With Spring you need to configure in the main application to scan packages, so that it finds the beans defined in other modules."},{"owner":{"account_id":25314212,"reputation":105,"user_id":19136564,"display_name":"Joseph"},"score":0,"creation_date":1666178493,"post_id":74123767,"comment_id":130872832,"body_markdown":"The package, where the views of module B are, is included in the @ComponentScan","body":"The package, where the views of module B are, is included in the @ComponentScan"}],"owner":{"account_id":25314212,"reputation":105,"user_id":19136564,"display_name":"Joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666612816,"creation_date":1666175083,"question_id":74123767,"body_markdown":"I now have two large modules that contain routes. i.e. classes that are annotated with @Route. \r\n\r\nnow the question... how can I navigate between both systems ?\r\n\r\nFor example...\r\nThis class is located in a Module A\r\n```\r\n@SpringComponent\r\n@PreserveOnRefresh\r\n@UIScope\r\n@Route(value = &quot;overview&quot;, layout = MainView.class)\r\npublic class Overview extends VerticalLayout{\r\n\r\n    public ClassificationClassesOverview() {\r\n        \r\n        Button routeToAC = new Button(&quot;CR&quot;);\r\n\r\n        routeToAssignAC.addClickListener(event -&gt; {\r\n            routeToAssignAC.getUI().ifPresent(ui -&gt; ui.navigate(AssignACView.class));\r\n        });\r\n\r\n        add(routeToAC);\r\n    }\r\n}\r\n\r\n```\r\nAnd this class is located in a Module B\r\n\r\n```\r\n@Route(&quot;cc/as&quot;)\r\n@SpringComponent\r\n@Scope(&quot;prototype&quot;)\r\npublic class AssignACView extends VerticalLayout {....}\r\n```\r\n\r\nwhen I click on the button on &quot;OverView&quot;, I get the error message that &quot;No route found for the given navigation target &#39;.....AssignACView&#39;&quot;\r\n\r\nIt is not a dependency problem.. A und B know each other\r\n\r\n================== UPDATE ==================\r\n\r\nThe problem can be solved with the annotation @EnableVaadin","title":"How can I navigate between two vaadin systems? No route found","body":"<p>I now have two large modules that contain routes. i.e. classes that are annotated with @Route.</p>\n<p>now the question... how can I navigate between both systems ?</p>\n<p>For example...\nThis class is located in a Module A</p>\n<pre><code>@SpringComponent\n@PreserveOnRefresh\n@UIScope\n@Route(value = &quot;overview&quot;, layout = MainView.class)\npublic class Overview extends VerticalLayout{\n\n    public ClassificationClassesOverview() {\n        \n        Button routeToAC = new Button(&quot;CR&quot;);\n\n        routeToAssignAC.addClickListener(event -&gt; {\n            routeToAssignAC.getUI().ifPresent(ui -&gt; ui.navigate(AssignACView.class));\n        });\n\n        add(routeToAC);\n    }\n}\n\n</code></pre>\n<p>And this class is located in a Module B</p>\n<pre><code>@Route(&quot;cc/as&quot;)\n@SpringComponent\n@Scope(&quot;prototype&quot;)\npublic class AssignACView extends VerticalLayout {....}\n</code></pre>\n<p>when I click on the button on &quot;OverView&quot;, I get the error message that &quot;No route found for the given navigation target '.....AssignACView'&quot;</p>\n<p>It is not a dependency problem.. A und B know each other</p>\n<p>================== UPDATE ==================</p>\n<p>The problem can be solved with the annotation @EnableVaadin</p>\n"},{"tags":["java","spring-boot","maven","liquibase"],"comments":[{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1571896420,"post_id":58534549,"comment_id":103392726,"body_markdown":"Could you please share your pom.xml with us?","body":"Could you please share your pom.xml with us?"},{"owner":{"account_id":16840491,"reputation":390,"user_id":12176008,"display_name":"Bryl"},"score":0,"creation_date":1571897364,"post_id":58534549,"comment_id":103393029,"body_markdown":"I already edit my post and included some plugins in my pom.xml","body":"I already edit my post and included some plugins in my pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1571923405,"creation_date":1571923405,"answer_id":58542369,"question_id":58534549,"body_markdown":"I don&#39;t think the problem is with liquibase plugin itself. It&#39;s more about maven prefixes.\n\nTry  executing: `mvn org.liquibase:liquibase-maven-plugin:update` \n\nAlso, check out this [question][1].\n\n  [1]: https://stackoverflow.com/questions/40205664/how-does-maven-plugin-prefix-resolution-work-why-is-it-resolving-findbugs-but","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>I don't think the problem is with liquibase plugin itself. It's more about maven prefixes.</p>\n<p>Try  executing: <code>mvn org.liquibase:liquibase-maven-plugin:update</code></p>\n<p>Also, check out this <a href=\"https://stackoverflow.com/questions/40205664/how-does-maven-plugin-prefix-resolution-work-why-is-it-resolving-findbugs-but\">question</a>.</p>\n"},{"tags":[],"owner":{"account_id":14493854,"reputation":859,"user_id":10529573,"display_name":"Mike Menko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593331164,"creation_date":1593331164,"answer_id":62619797,"question_id":58534549,"body_markdown":"In my case problem was in path. I was trying to start command `c:\\mvn.cmd liquibase:status` from wrong folder.\r\n\r\nRunning from `c:\\projects\\My_current_project\\mvn liquibase:status` works like a charm. `c:\\projects\\My_current_project\\` is folder, where `pom.xml` is.","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>In my case problem was in path. I was trying to start command <code>c:\\mvn.cmd liquibase:status</code> from wrong folder.</p>\n<p>Running from <code>c:\\projects\\My_current_project\\mvn liquibase:status</code> works like a charm. <code>c:\\projects\\My_current_project\\</code> is folder, where <code>pom.xml</code> is.</p>\n"},{"tags":[],"owner":{"account_id":13453800,"reputation":106,"user_id":9707871,"display_name":"emarkyuu"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1599572200,"creation_date":1599572200,"answer_id":63795096,"question_id":58534549,"body_markdown":"Make sure you are in the right path when you are executing `mvn liquibase:update` command. And also try to run the command in a separate terminal like command prompt. In my case I&#39;m using the terminal in IntelliJ IDEA when I had the problem but when I tried it in different terminal, it worked flawlessly.","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>Make sure you are in the right path when you are executing <code>mvn liquibase:update</code> command. And also try to run the command in a separate terminal like command prompt. In my case I'm using the terminal in IntelliJ IDEA when I had the problem but when I tried it in different terminal, it worked flawlessly.</p>\n"},{"tags":[],"owner":{"account_id":21820822,"reputation":21,"user_id":16117045,"display_name":"Daniel Lysinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666612604,"creation_date":1666612604,"answer_id":74180768,"question_id":58534549,"body_markdown":"In my case the issue was my pom is configured in such a way that the liquibase plugin is only defined under certain profiles which need to be passed in before the `mvn liquibase:&lt;your command here&gt;` gets run. \r\n\r\nfor example, if the pom.xml has a `local` profile and your liquibase plugin is ONLY defined under that profile, you should run something like `mvn -P local liquibase:update` in order for maven to pick up liquibase (since it&#39;s only defined in that profile)","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>In my case the issue was my pom is configured in such a way that the liquibase plugin is only defined under certain profiles which need to be passed in before the <code>mvn liquibase:&lt;your command here&gt;</code> gets run.</p>\n<p>for example, if the pom.xml has a <code>local</code> profile and your liquibase plugin is ONLY defined under that profile, you should run something like <code>mvn -P local liquibase:update</code> in order for maven to pick up liquibase (since it's only defined in that profile)</p>\n"}],"owner":{"account_id":16840491,"reputation":390,"user_id":12176008,"display_name":"Bryl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13797,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":63795096,"answer_count":4,"score":7,"last_activity_date":1666612604,"creation_date":1571894111,"question_id":58534549,"body_markdown":"I am new to Liquibase. I have already included maven plugins and liquibase to my pom.xml however when i update liquibase using `mvn liquibase:update` I get this error:\r\n\r\n    No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] \r\n\r\nHow can I fix this error so that when I type `mvn liquibase:update` it will run properly\r\n\r\nHere are some of the dependencies that are in my `pom.xml` related to liquibase\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n                &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/build&gt;","title":"How to fix &quot;No plugin found for prefix &#39;liquibase&#39; in the current project and in the plugin groups&quot;","body":"<p>I am new to Liquibase. I have already included maven plugins and liquibase to my pom.xml however when i update liquibase using <code>mvn liquibase:update</code> I get this error:</p>\n\n<pre><code>No plugin found for prefix 'liquibase' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] \n</code></pre>\n\n<p>How can I fix this error so that when I type <code>mvn liquibase:update</code> it will run properly</p>\n\n<p>Here are some of the dependencies that are in my <code>pom.xml</code> related to liquibase</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;build&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n            &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","time"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1452077990,"post_id":34631339,"comment_id":57008025,"body_markdown":"Since there is no debug. You could replace the split for the last part `AM` and `pm`. You could just check if it `String#contains` `AM` or `PM`. Afterwards you could use `String#replaceAll` with the regex `\\\\D`. That way you would replace the `AM` and `PM` and would only have the seconds left. Maybe `Hackerrank` does a bad job with the `split(&quot;&quot;)`. Since it running for me either i can just an other way to solve it that might be working.","body":"Since there is no debug. You could replace the split for the last part <code>AM</code> and <code>pm</code>. You could just check if it <code>String#contains</code> <code>AM</code> or <code>PM</code>. Afterwards you could use <code>String#replaceAll</code> with the regex <code>\\\\D</code>. That way you would replace the <code>AM</code> and <code>PM</code> and would only have the seconds left. Maybe <code>Hackerrank</code> does a bad job with the <code>split(&quot;&quot;)</code>. Since it running for me either i can just an other way to solve it that might be working."}],"answers":[{"tags":[],"owner":{"account_id":2101643,"reputation":111,"user_id":1869101,"display_name":"Murat G&#252;ven&#231;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458229459,"creation_date":1458229459,"answer_id":36065374,"question_id":34631339,"body_markdown":"I do not know why there is inconsistency between your JRE environment and Hackerrank environment. But if we came to your question, in hackerrank your code splits part[2] into 5 parts, leading empty string. \r\n\r\nWhich means if you update \r\n\r\n    String seconds = last[0]+last[1];\r\n    String timeZ = last[2]+last[3];\r\n\r\nas\r\n\r\n    String seconds = last[1]+last[2];\r\n    String timeZ = last[3]+last[4];\r\n\r\nit should run,\r\n\r\nand to prevent initial empty string, there is some suggestions you can find below:\r\n\r\nhttps://stackoverflow.com/questions/9389503/how-to-prevent-java-lang-string-split-from-creating-a-leading-empty-string\r\n\r\n\r\n","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>I do not know why there is inconsistency between your JRE environment and Hackerrank environment. But if we came to your question, in hackerrank your code splits part[2] into 5 parts, leading empty string. </p>\n\n<p>Which means if you update </p>\n\n<pre><code>String seconds = last[0]+last[1];\nString timeZ = last[2]+last[3];\n</code></pre>\n\n<p>as</p>\n\n<pre><code>String seconds = last[1]+last[2];\nString timeZ = last[3]+last[4];\n</code></pre>\n\n<p>it should run,</p>\n\n<p>and to prevent initial empty string, there is some suggestions you can find below:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9389503/how-to-prevent-java-lang-string-split-from-creating-a-leading-empty-string\">How to prevent java.lang.String.split() from creating a leading empty string?</a></p>\n"},{"tags":[],"owner":{"account_id":5499288,"reputation":1,"user_id":4369131,"display_name":"avadhesh pareek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464084324,"creation_date":1464084324,"answer_id":37410389,"question_id":34631339,"body_markdown":"You can try this for hackerrank - \r\n\r\n     public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String time = in.next();\r\n            int hours;\r\n            String hrs = time.substring(0,2);\r\n            hours = Integer.parseInt(hrs);\r\n            String mins = time.substring(3,5);\r\n            String secs = time.substring(6,8);\r\n            String am_pm = time.substring(time.length()-2,time.length());\r\n            if(am_pm.equalsIgnoreCase(&quot;PM&quot;) &amp;&amp; !hrs.equalsIgnoreCase(&quot;12&quot;)){  \r\n                hours += 12;\r\n                hrs = Integer.toString(hours);\r\n            }\r\n            else if(am_pm.equalsIgnoreCase(&quot;AM&quot;) &amp;&amp; hrs.equalsIgnoreCase(&quot;12&quot;)){\r\n                hours = 0;\r\n                hrs = &quot;00&quot;;\r\n            }\r\n            System.out.println(hrs+&quot;:&quot;+mins+&quot;:&quot;+secs);\r\n        }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>You can try this for hackerrank - </p>\n\n<pre><code> public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String time = in.next();\n        int hours;\n        String hrs = time.substring(0,2);\n        hours = Integer.parseInt(hrs);\n        String mins = time.substring(3,5);\n        String secs = time.substring(6,8);\n        String am_pm = time.substring(time.length()-2,time.length());\n        if(am_pm.equalsIgnoreCase(\"PM\") &amp;&amp; !hrs.equalsIgnoreCase(\"12\")){  \n            hours += 12;\n            hrs = Integer.toString(hours);\n        }\n        else if(am_pm.equalsIgnoreCase(\"AM\") &amp;&amp; hrs.equalsIgnoreCase(\"12\")){\n            hours = 0;\n            hrs = \"00\";\n        }\n        System.out.println(hrs+\":\"+mins+\":\"+secs);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5173049,"reputation":1,"user_id":4141016,"display_name":"Abdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471411842,"creation_date":1471411842,"answer_id":38988738,"question_id":34631339,"body_markdown":"You can try this..\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        String time = in.next();\r\n        \r\n        String[] sTime = time.split(&quot;:&quot;);\r\n        \r\n        int x = sTime[sTime.length - 1].contains(&quot;PM&quot;) ? 12 : 0 ;\r\n        \r\n        String val1 = (x == 12) ?  (Integer.parseInt(sTime[0]) + x) + &quot;&quot; :  (sTime[0].equals(&quot;12&quot;) ? &quot;00&quot; : sTime[0]);\r\n        \r\n        String result = val1 + &quot;:&quot; + sTime[1] + &quot;:&quot; + sTime[2].substring(0,2);\r\n        System.out.println(result);\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>You can try this..</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    String time = in.next();\n\n    String[] sTime = time.split(\":\");\n\n    int x = sTime[sTime.length - 1].contains(\"PM\") ? 12 : 0 ;\n\n    String val1 = (x == 12) ?  (Integer.parseInt(sTime[0]) + x) + \"\" :  (sTime[0].equals(\"12\") ? \"00\" : sTime[0]);\n\n    String result = val1 + \":\" + sTime[1] + \":\" + sTime[2].substring(0,2);\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3862971,"reputation":348,"user_id":3200242,"accept_rate":100,"display_name":"mpatel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519722615,"creation_date":1519722615,"answer_id":49004917,"question_id":34631339,"body_markdown":"Try the code below. Hope the comments will help to understand the logic.\r\n\r\n    static String timeConversion(String s) {\r\n        // Split the string by :\r\n        String[] sTime = s.split(&quot;:&quot;);\r\n\r\n        int x = 0;\r\n        \r\n        // if PM and hours &gt;12, add additional 12 to hours\r\n        // for AM and hour = 12, set hour to 00\r\n        if(sTime[sTime.length - 1].contains(&quot;PM&quot;) &amp;&amp; !sTime[0].equals(&quot;12&quot;))\r\n            x = 12;\r\n        \r\n        String val1 = &quot;&quot;;\r\n        if(x == 12)\r\n            val1 = (Integer.parseInt(sTime[0]) + x) + &quot;&quot;;\r\n        else {\r\n            if(sTime[0].equals(&quot;12&quot;) &amp;&amp; sTime[sTime.length - 1].contains(&quot;AM&quot;))\r\n                val1 = &quot;00&quot;;\r\n            else\r\n                val1 = sTime[0];\r\n        }\r\n\r\n        // merge the string and return the result\r\n        String result = val1 + &quot;:&quot; + sTime[1] + &quot;:&quot; + sTime[2].substring(0,2);\r\n        return result;\r\n    }\r\n\r\nCheers!","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>Try the code below. Hope the comments will help to understand the logic.</p>\n\n<pre><code>static String timeConversion(String s) {\n    // Split the string by :\n    String[] sTime = s.split(\":\");\n\n    int x = 0;\n\n    // if PM and hours &gt;12, add additional 12 to hours\n    // for AM and hour = 12, set hour to 00\n    if(sTime[sTime.length - 1].contains(\"PM\") &amp;&amp; !sTime[0].equals(\"12\"))\n        x = 12;\n\n    String val1 = \"\";\n    if(x == 12)\n        val1 = (Integer.parseInt(sTime[0]) + x) + \"\";\n    else {\n        if(sTime[0].equals(\"12\") &amp;&amp; sTime[sTime.length - 1].contains(\"AM\"))\n            val1 = \"00\";\n        else\n            val1 = sTime[0];\n    }\n\n    // merge the string and return the result\n    String result = val1 + \":\" + sTime[1] + \":\" + sTime[2].substring(0,2);\n    return result;\n}\n</code></pre>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":15028119,"reputation":11,"user_id":10847251,"display_name":"Aman Sawarn"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573999189,"creation_date":1573995201,"answer_id":58900638,"question_id":34631339,"body_markdown":"    def timeConversion(s):\r\n        # time_r=s[:-2]\r\n        am_pm=s[-2:]\r\n        if am_pm==&#39;PM&#39; and s[:2]!=&#39;12&#39;:\r\n        s=str(int(s[:2])+12) + s[2:]\r\n        if am_pm==&#39;AM&#39; and s[:2]==&#39;12&#39;:\r\n            s=&quot;00&quot; + s[2:]\r\n        return s[:-2]\r\n\r\n    print(timeConversion(&quot;07:05:45PM&quot;))\r\n\r\n","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<pre><code>def timeConversion(s):\n    # time_r=s[:-2]\n    am_pm=s[-2:]\n    if am_pm=='PM' and s[:2]!='12':\n    s=str(int(s[:2])+12) + s[2:]\n    if am_pm=='AM' and s[:2]=='12':\n        s=\"00\" + s[2:]\n    return s[:-2]\n\nprint(timeConversion(\"07:05:45PM\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16898940,"reputation":11,"user_id":12220837,"display_name":"Shiv Shankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589363625,"creation_date":1589363625,"answer_id":61771481,"question_id":34631339,"body_markdown":"    public static String timecon(String s) {\r\n\t\tSystem.out.println(s.substring(0, 2));\r\n\t\tint test = Integer.valueOf(s.substring(0, 2));\r\n\t\tif ((s.substring(0, 2).equals(&quot;12&quot;)) &amp;&amp; s.substring(8, 10).equals(&quot;AM&quot;)) {\r\n\t\t\treturn &quot;00&quot; + &quot;:&quot; + s.substring(3, 8);\r\n\t\t} else if (s.substring(0, 2).equals(&quot;12&quot;) &amp;&amp; (s.substring(8, 10).equals(&quot;PM&quot;))) {\r\n\t\t\treturn s.substring(0, 8);\r\n\t\t} else if (s.substring(8, 10).equals(&quot;AM&quot;)) {\r\n\t\t\treturn s.substring(0, 8);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn test + 12 + &quot;:&quot; + s.substring(3, 8);\r\n\t\t}\r\n\r\n\t}","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<pre><code>public static String timecon(String s) {\n    System.out.println(s.substring(0, 2));\n    int test = Integer.valueOf(s.substring(0, 2));\n    if ((s.substring(0, 2).equals(\"12\")) &amp;&amp; s.substring(8, 10).equals(\"AM\")) {\n        return \"00\" + \":\" + s.substring(3, 8);\n    } else if (s.substring(0, 2).equals(\"12\") &amp;&amp; (s.substring(8, 10).equals(\"PM\"))) {\n        return s.substring(0, 8);\n    } else if (s.substring(8, 10).equals(\"AM\")) {\n        return s.substring(0, 8);\n    }\n    else {\n        return test + 12 + \":\" + s.substring(3, 8);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8162401,"reputation":1,"user_id":6145994,"display_name":"Muhammad Amjad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592574759,"creation_date":1592566439,"answer_id":62469391,"question_id":34631339,"body_markdown":"**You can try this in Java for Time Conversion Hackerrank** \r\n\r\n\r\n      /*\r\n     * Complete the timeConversion function below.\r\n     */\r\n    static String timeConversion(String s) {\r\n        String h,m,sec;\r\n\r\n        h = s.substring(0,2);\r\n        m = s.substring(3,5);\r\n        sec = s.substring(6,8);\r\n\r\n        if(s.contains(&quot;PM&quot;) &amp;&amp; !h.equals(&quot;12&quot;)){\r\n            int inc = 12;\r\n            inc += Integer.parseInt(h);\r\n            h = inc + &quot;&quot;;\r\n        }\r\n        if(s.contains(&quot;AM&quot;) &amp;&amp; h.equals(&quot;12&quot;)){\r\n            h = &quot;00&quot;;\r\n        }\r\n        String milTime = h + &quot;:&quot; + m + &quot;:&quot; + sec;\r\n        return milTime;\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p><strong>You can try this in Java for Time Conversion Hackerrank</strong> </p>\n\n<pre><code>  /*\n * Complete the timeConversion function below.\n */\nstatic String timeConversion(String s) {\n    String h,m,sec;\n\n    h = s.substring(0,2);\n    m = s.substring(3,5);\n    sec = s.substring(6,8);\n\n    if(s.contains(\"PM\") &amp;&amp; !h.equals(\"12\")){\n        int inc = 12;\n        inc += Integer.parseInt(h);\n        h = inc + \"\";\n    }\n    if(s.contains(\"AM\") &amp;&amp; h.equals(\"12\")){\n        h = \"00\";\n    }\n    String milTime = h + \":\" + m + \":\" + sec;\n    return milTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21824741,"reputation":1,"user_id":16120415,"display_name":"Rodrigo Freitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623038060,"creation_date":1623038060,"answer_id":67865765,"question_id":34631339,"body_markdown":"Try this:\r\n\r\n    public static String timeConversion(String s) {\r\n  \r\n    int h = Integer.parseInt(s.substring(0,2));\r\n    \r\n    if (h == 12) h = 0;\r\n    \r\n    if (s.substring(8,9).equals(&quot;P&quot;)) h = h + 12;\r\n    \r\n    return String.format(&quot;%02d&quot;, h) + s.substring(2,8);\r\n\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>Try this:</p>\n<pre><code>public static String timeConversion(String s) {\n\nint h = Integer.parseInt(s.substring(0,2));\n\nif (h == 12) h = 0;\n\nif (s.substring(8,9).equals(&quot;P&quot;)) h = h + 12;\n\nreturn String.format(&quot;%02d&quot;, h) + s.substring(2,8);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26449738,"reputation":1,"user_id":20093110,"display_name":"user20093110"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664216095,"creation_date":1664216095,"answer_id":73858298,"question_id":34631339,"body_markdown":"    public static string timeConversion(string s)\r\n    {\r\n          var idate = DateTime.Parse(s);\r\n          var odate = idate.TimeOfDay;\r\n          return odate.ToString();\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<pre><code>public static string timeConversion(string s)\n{\n      var idate = DateTime.Parse(s);\n      var odate = idate.TimeOfDay;\n      return odate.ToString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666849417,"post_id":74180754,"comment_id":131033679,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74180754/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13923314,"reputation":29,"user_id":17731460,"display_name":"Dilsher Balouch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612509,"creation_date":1666612509,"answer_id":74180754,"question_id":34631339,"body_markdown":"the most compact code, i think \r\n\r\n    function timeConversion(s) {\r\n        // Write your code here\r\n        let time=s.slice(0,10).split(&#39;:&#39;);\r\n        // return(time);\r\n        if((time[0]&lt;12)&amp;&amp;(time[2].includes(&#39;PM&#39;))){\r\n            time[0]=parseInt(time[0])+12;\r\n        }\r\n        if((time[0]==12)&amp;&amp;(time[2].includes(&#39;AM&#39;))){\r\n            time[0]=&#39;00&#39;;\r\n        }\r\n        // return(time);\r\n        return(time.join(&#39;:&#39;).slice(0,8));\r\n    }","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>the most compact code, i think</p>\n<pre><code>function timeConversion(s) {\n    // Write your code here\n    let time=s.slice(0,10).split(':');\n    // return(time);\n    if((time[0]&lt;12)&amp;&amp;(time[2].includes('PM'))){\n        time[0]=parseInt(time[0])+12;\n    }\n    if((time[0]==12)&amp;&amp;(time[2].includes('AM'))){\n        time[0]='00';\n    }\n    // return(time);\n    return(time.join(':').slice(0,8));\n}\n</code></pre>\n"}],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":10,"score":2,"last_activity_date":1666612509,"creation_date":1452077626,"question_id":34631339,"body_markdown":"I was attempting the [Time Conversion](https://www.hackerrank.com/challenges/time-conversion) challenge on Hackerrank, but for some reason, the hour field in the 24-hour representation always comes out empty. Here&#39;s the challenge - \r\n\r\n&gt; Problem Statement\r\n&gt; \r\n&gt; Given a time in AM/PM format, convert it to military (24-hour) time.\r\n&gt; \r\n&gt; Note: Midnight is 12:00:00AM on a 12-hour clock and 00:00:00 on a\r\n&gt; 24-hour clock. Noon is 12:00:00PM on a 12-hour clock and 12:00:00 on a\r\n&gt; 24-hour clock.\r\n\r\nAnother problem seems to be that the seconds always appears to be of 1 digit. For instance, if the input is `07:05:45PM`, my Hackerrank output is `:05:4`.\r\n\r\nBut, the code runs just fine in IntelliJ on my desktop - \r\n\r\n    1:24:23AM\r\n    1\r\n    24\r\n    23AM\r\n    01:24:23\r\n    \r\n    Process finished with exit code 0\r\nand\r\n\r\n    07:05:45PM\r\n    07\r\n    05\r\n    45PM\r\n    19:05:45\r\n    \r\n    Process finished with exit code 0\r\n\r\nAs there&#39;s no way to debug the solution on hackerrank itself, I&#39;m not sure what&#39;s wrong. Here&#39;s my code - \r\n\r\n    package algorithms.Warmup;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * Created by manishgiri on 1/6/16.\r\n     */\r\n    public class TimeConversion {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String time = in.next();\r\n            String[] parts = time.split(&quot;:&quot;);\r\n            for(String part: parts){\r\n                System.out.println(part);\r\n            }\r\n            int hours = Integer.parseInt(parts[0]);\r\n            String minutes = (parts[1]);\r\n            String[] last = parts[2].split(&quot;&quot;);\r\n    \r\n            String seconds = last[0]+last[1];\r\n            String timeZ = last[2]+last[3];\r\n            String finalHour = &quot;&quot;;\r\n            if(timeZ.equalsIgnoreCase(&quot;PM&quot;)) {\r\n                if(hours == 12) {\r\n                    finalHour = Integer.toString(12);\r\n                }\r\n                else {\r\n                    finalHour = Integer.toString(hours + 12);\r\n                }\r\n            }\r\n            else if(timeZ.equalsIgnoreCase(&quot;AM&quot;)) {\r\n                if(hours == 12) {\r\n                    finalHour = &quot;00&quot;;\r\n                }\r\n                else if(hours == 10 || hours == 11) {\r\n                    finalHour = Integer.toString(hours);\r\n                }\r\n                else {\r\n                    finalHour = &quot;0&quot;+hours;\r\n                }\r\n            }\r\n            System.out.println(finalHour+&quot;:&quot;+minutes+&quot;:&quot;+seconds);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Time Conversion challenge on Hackerrank returning empty hour","body":"<p>I was attempting the <a href=\"https://www.hackerrank.com/challenges/time-conversion\" rel=\"nofollow\">Time Conversion</a> challenge on Hackerrank, but for some reason, the hour field in the 24-hour representation always comes out empty. Here's the challenge - </p>\n\n<blockquote>\n  <p>Problem Statement</p>\n  \n  <p>Given a time in AM/PM format, convert it to military (24-hour) time.</p>\n  \n  <p>Note: Midnight is 12:00:00AM on a 12-hour clock and 00:00:00 on a\n  24-hour clock. Noon is 12:00:00PM on a 12-hour clock and 12:00:00 on a\n  24-hour clock.</p>\n</blockquote>\n\n<p>Another problem seems to be that the seconds always appears to be of 1 digit. For instance, if the input is <code>07:05:45PM</code>, my Hackerrank output is <code>:05:4</code>.</p>\n\n<p>But, the code runs just fine in IntelliJ on my desktop - </p>\n\n<pre><code>1:24:23AM\n1\n24\n23AM\n01:24:23\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>and</p>\n\n<pre><code>07:05:45PM\n07\n05\n45PM\n19:05:45\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>As there's no way to debug the solution on hackerrank itself, I'm not sure what's wrong. Here's my code - </p>\n\n<pre><code>package algorithms.Warmup;\n\nimport java.util.Scanner;\n\n/**\n * Created by manishgiri on 1/6/16.\n */\npublic class TimeConversion {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String time = in.next();\n        String[] parts = time.split(\":\");\n        for(String part: parts){\n            System.out.println(part);\n        }\n        int hours = Integer.parseInt(parts[0]);\n        String minutes = (parts[1]);\n        String[] last = parts[2].split(\"\");\n\n        String seconds = last[0]+last[1];\n        String timeZ = last[2]+last[3];\n        String finalHour = \"\";\n        if(timeZ.equalsIgnoreCase(\"PM\")) {\n            if(hours == 12) {\n                finalHour = Integer.toString(12);\n            }\n            else {\n                finalHour = Integer.toString(hours + 12);\n            }\n        }\n        else if(timeZ.equalsIgnoreCase(\"AM\")) {\n            if(hours == 12) {\n                finalHour = \"00\";\n            }\n            else if(hours == 10 || hours == 11) {\n                finalHour = Integer.toString(hours);\n            }\n            else {\n                finalHour = \"0\"+hours;\n            }\n        }\n        System.out.println(finalHour+\":\"+minutes+\":\"+seconds);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","credentials","json-ld","canonicalization"],"answers":[{"tags":[],"owner":{"account_id":1816745,"reputation":478,"user_id":1651690,"display_name":"Rein"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666354334,"creation_date":1666354334,"answer_id":74153440,"question_id":72995374,"body_markdown":"First, JSON-LD and Verifiable Credentials (VC) are formats to improve interoperability with other parties that issue/verify the VCs in question.\r\n\r\nThat means you can&#39;t use just any canonicalization algorithm, you must use the exact algorithm as specified. Otherwise, the resulting hash and thus signature could differ. Without looking into the differences between JCS and URDNA2015, maybe it could work in most cases, but fail in certain edge cases (due to details being different, e.g. sorting).\r\n\r\nYou probably want to select a (good) JSON-LD library to perform signing and thus canonicalization, instead of building it yourself (because it is hard to get right, as you found out).","title":"How to apply canonicalization before signing JSON-LD Verifiable Credential?","body":"<p>First, JSON-LD and Verifiable Credentials (VC) are formats to improve interoperability with other parties that issue/verify the VCs in question.</p>\n<p>That means you can't use just any canonicalization algorithm, you must use the exact algorithm as specified. Otherwise, the resulting hash and thus signature could differ. Without looking into the differences between JCS and URDNA2015, maybe it could work in most cases, but fail in certain edge cases (due to details being different, e.g. sorting).</p>\n<p>You probably want to select a (good) JSON-LD library to perform signing and thus canonicalization, instead of building it yourself (because it is hard to get right, as you found out).</p>\n"},{"tags":[],"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666612426,"creation_date":1666612426,"answer_id":74180729,"question_id":72995374,"body_markdown":"As @Rein pointed out it&#39;s better to use existing JSON-LD library. Some are listed here: https://json-ld.org/ (**Titanium** library is available for Java, but there are also libraries using different languages).\r\n\r\nHowever, I&#39;ve found out that the best option for Java devs is to use this library:\r\n[iron-vc][1]\r\n\r\n - it is from the same developers as [Titanium lib.][2] above\r\n - it already contains Titanium lib. and builds upon it\r\n - it also contains [RDF Dataset normalization lib.][3], used for the canonicalization process\r\n - it is designed to work with Verifiable Credentials and Verifiable Presentations\r\n - by default there is available implementation of [Ed25519 Signature 2020][4] signature suite\r\n - I myself created [fork][5] of it which contains [Json Web Signature 2020][6] signature suite impl. - there is pull request opened to update the original lib.\r\n\r\n\r\n  [1]: https://github.com/filip26/iron-verifiable-credentials\r\n  [2]: https://github.com/filip26/titanium-json-ld\r\n  [3]: https://github.com/w3c-ccg/rdf-dataset-canonicalization\r\n  [4]: https://www.w3.org/community/reports/credentials/CG-FINAL-di-eddsa-2020-20220724/\r\n  [5]: https://github.com/apelt/iron-verifiable-credentials\r\n  [6]: https://www.w3.org/community/reports/credentials/CG-FINAL-lds-jws2020-20220721/","title":"How to apply canonicalization before signing JSON-LD Verifiable Credential?","body":"<p>As @Rein pointed out it's better to use existing JSON-LD library. Some are listed here: <a href=\"https://json-ld.org/\" rel=\"nofollow noreferrer\">https://json-ld.org/</a> (<strong>Titanium</strong> library is available for Java, but there are also libraries using different languages).</p>\n<p>However, I've found out that the best option for Java devs is to use this library:\n<a href=\"https://github.com/filip26/iron-verifiable-credentials\" rel=\"nofollow noreferrer\">iron-vc</a></p>\n<ul>\n<li>it is from the same developers as <a href=\"https://github.com/filip26/titanium-json-ld\" rel=\"nofollow noreferrer\">Titanium lib.</a> above</li>\n<li>it already contains Titanium lib. and builds upon it</li>\n<li>it also contains <a href=\"https://github.com/w3c-ccg/rdf-dataset-canonicalization\" rel=\"nofollow noreferrer\">RDF Dataset normalization lib.</a>, used for the canonicalization process</li>\n<li>it is designed to work with Verifiable Credentials and Verifiable Presentations</li>\n<li>by default there is available implementation of <a href=\"https://www.w3.org/community/reports/credentials/CG-FINAL-di-eddsa-2020-20220724/\" rel=\"nofollow noreferrer\">Ed25519 Signature 2020</a> signature suite</li>\n<li>I myself created <a href=\"https://github.com/apelt/iron-verifiable-credentials\" rel=\"nofollow noreferrer\">fork</a> of it which contains <a href=\"https://www.w3.org/community/reports/credentials/CG-FINAL-lds-jws2020-20220721/\" rel=\"nofollow noreferrer\">Json Web Signature 2020</a> signature suite impl. - there is pull request opened to update the original lib.</li>\n</ul>\n"}],"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74180729,"answer_count":2,"score":0,"last_activity_date":1666612426,"creation_date":1657894476,"question_id":72995374,"body_markdown":"I want to sign Verifiable Credential in JSON structure with Linked Data (JSON-LD) like below:\r\n\r\n```\r\n{\r\n    &quot;@context&quot;:[\r\n        &quot;https://www.w3.org/2018/credentials/v1&quot;,\r\n        &quot;https://w3id.org/security/bbs/v1&quot;\r\n    ],\r\n    &quot;id&quot;:&quot;1234&quot;,\r\n    &quot;type&quot;:[\r\n        &quot;VerifiableCredential&quot;\r\n    ],\r\n    &quot;issuer&quot;:&quot;exampleIssuer&quot;,\r\n    &quot;validFrom&quot;:&quot;2022-06-30T00:00:00Z+01:00&quot;,\r\n    &quot;expirationDate&quot;:&quot;2022-07-30T00:00:00Z+01:00&quot;,\r\n    &quot;credentialSubject&quot;:{\r\n        &quot;customerId&quot;:&quot;123456&quot;,\r\n        &quot;name&quot;:&quot;Test User&quot;,\r\n        &quot;birthDate&quot;:&quot;1.1.1991&quot;\r\n    },\r\n    &quot;proof&quot;:{\r\n        &quot;type&quot;:&quot;BbsBlsSignatureProof2020&quot;,\r\n        &quot;verificationMethod&quot;:&quot;did:example:489398593#test&quot;,\r\n        &quot;created&quot;:&quot;2021-12-31T10:54:18Z+01:00&quot;,\r\n        &quot;proofPurpose&quot;:&quot;assertionMethod&quot;,\r\n        &quot;proofValue&quot;:&quot;...&quot;,\r\n        &quot;nonce&quot;:&quot;...&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe signing itself is not a problem. The problem is the canonicalization = how to prepare the data before signing.\r\n\r\nThe [BbsBlsSignatureProof2020][1] specifies to use *https://w3id.org/security#URDNA2015* (aka URDCA2015) canonicalization algorithm following the [RDF Dataset Canonicalization][2]. \r\n(the same is for [EcdsaSecp256k1RecoverySignature2020][3] and [JsonWebSignature2020][4]).\r\n\r\n**Is this a must-do or is it just default canonicalization algorithm and I can use any other?**\r\n\r\nThe thing is, RDF is rather complex when working with JSON-LD and seems to have [quite some flaws][5]. I would really like to use much easier [JCS][6] (JSON Canonicalization Scheme) instead, which works only with syntax of the JSON.\r\n\r\n**Any feedback on this would be highly appreciated.**\r\n\r\n\r\n  [1]: https://w3c-ccg.github.io/ldp-bbs2020/#the-bbs-signature-proof-suite-2020\r\n  [2]: https://json-ld.github.io/rdf-dataset-canonicalization/spec/\r\n  [3]: https://identity.foundation/EcdsaSecp256k1RecoverySignature2020\r\n  [4]: https://w3c-ccg.github.io/lds-jws2020/#dfn-jsonwebsignature2020\r\n  [5]: https://github.com/setl/rdf-urdna/tree/master/jsonld-warnings\r\n  [6]: https://datatracker.ietf.org/doc/html/rfc8785","title":"How to apply canonicalization before signing JSON-LD Verifiable Credential?","body":"<p>I want to sign Verifiable Credential in JSON structure with Linked Data (JSON-LD) like below:</p>\n<pre><code>{\n    &quot;@context&quot;:[\n        &quot;https://www.w3.org/2018/credentials/v1&quot;,\n        &quot;https://w3id.org/security/bbs/v1&quot;\n    ],\n    &quot;id&quot;:&quot;1234&quot;,\n    &quot;type&quot;:[\n        &quot;VerifiableCredential&quot;\n    ],\n    &quot;issuer&quot;:&quot;exampleIssuer&quot;,\n    &quot;validFrom&quot;:&quot;2022-06-30T00:00:00Z+01:00&quot;,\n    &quot;expirationDate&quot;:&quot;2022-07-30T00:00:00Z+01:00&quot;,\n    &quot;credentialSubject&quot;:{\n        &quot;customerId&quot;:&quot;123456&quot;,\n        &quot;name&quot;:&quot;Test User&quot;,\n        &quot;birthDate&quot;:&quot;1.1.1991&quot;\n    },\n    &quot;proof&quot;:{\n        &quot;type&quot;:&quot;BbsBlsSignatureProof2020&quot;,\n        &quot;verificationMethod&quot;:&quot;did:example:489398593#test&quot;,\n        &quot;created&quot;:&quot;2021-12-31T10:54:18Z+01:00&quot;,\n        &quot;proofPurpose&quot;:&quot;assertionMethod&quot;,\n        &quot;proofValue&quot;:&quot;...&quot;,\n        &quot;nonce&quot;:&quot;...&quot;\n    }\n}\n</code></pre>\n<p>The signing itself is not a problem. The problem is the canonicalization = how to prepare the data before signing.</p>\n<p>The <a href=\"https://w3c-ccg.github.io/ldp-bbs2020/#the-bbs-signature-proof-suite-2020\" rel=\"nofollow noreferrer\">BbsBlsSignatureProof2020</a> specifies to use <em><a href=\"https://w3id.org/security#URDNA2015\" rel=\"nofollow noreferrer\">https://w3id.org/security#URDNA2015</a></em> (aka URDCA2015) canonicalization algorithm following the <a href=\"https://json-ld.github.io/rdf-dataset-canonicalization/spec/\" rel=\"nofollow noreferrer\">RDF Dataset Canonicalization</a>.\n(the same is for <a href=\"https://identity.foundation/EcdsaSecp256k1RecoverySignature2020\" rel=\"nofollow noreferrer\">EcdsaSecp256k1RecoverySignature2020</a> and <a href=\"https://w3c-ccg.github.io/lds-jws2020/#dfn-jsonwebsignature2020\" rel=\"nofollow noreferrer\">JsonWebSignature2020</a>).</p>\n<p><strong>Is this a must-do or is it just default canonicalization algorithm and I can use any other?</strong></p>\n<p>The thing is, RDF is rather complex when working with JSON-LD and seems to have <a href=\"https://github.com/setl/rdf-urdna/tree/master/jsonld-warnings\" rel=\"nofollow noreferrer\">quite some flaws</a>. I would really like to use much easier <a href=\"https://datatracker.ietf.org/doc/html/rfc8785\" rel=\"nofollow noreferrer\">JCS</a> (JSON Canonicalization Scheme) instead, which works only with syntax of the JSON.</p>\n<p><strong>Any feedback on this would be highly appreciated.</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","graphql"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666612980,"post_id":74179294,"comment_id":130971174,"body_markdown":"Please use proper code tags to include the code not links to images.","body":"Please use proper code tags to include the code not links to images."}],"answers":[{"comments":[{"owner":{"account_id":26715884,"reputation":1,"user_id":20320496,"display_name":"Mondher HADDAD"},"score":0,"creation_date":1666607121,"post_id":74179449,"comment_id":130969171,"body_markdown":"I have added my GraphQL schema :) Thank&#39;s for your help","body":"I have added my GraphQL schema :) Thank&#39;s for your help"},{"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"score":0,"creation_date":1666698204,"post_id":74179449,"comment_id":130994020,"body_markdown":"After repeating the query as I suggested, do you still get the same error?","body":"After repeating the query as I suggested, do you still get the same error?"},{"owner":{"account_id":26715884,"reputation":1,"user_id":20320496,"display_name":"Mondher HADDAD"},"score":0,"creation_date":1666707393,"post_id":74179449,"comment_id":130997346,"body_markdown":"Hi Julio, well I have some values in the database in Mongo with null values which blocks the API","body":"Hi Julio, well I have some values in the database in Mongo with null values which blocks the API"}],"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612418,"creation_date":1666605528,"answer_id":74179449,"question_id":74179294,"body_markdown":"It looks like you are repeating the query: I don&#39;t understand why the first line in your Postman test. Try like this:\r\n\r\n    query {\r\n      getEsgScoresData(name: $name) {\r\n        date\r\n      }\r\n    }\r\n\r\n","title":"GraphQL Java : java.lang.NoSuchMethodError","body":"<p>It looks like you are repeating the query: I don't understand why the first line in your Postman test. Try like this:</p>\n<pre><code>query {\n  getEsgScoresData(name: $name) {\n    date\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26715884,"reputation":1,"user_id":20320496,"display_name":"Mondher HADDAD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666612418,"creation_date":1666604845,"question_id":74179294,"body_markdown":"I am testing the APIs after hosting the application on DigitalOcean and I got this Error :\r\n\r\n[Error Screenshot][1]\r\n\r\nThe query and my Service File looks like that : \r\n\r\n[Repo][2]\r\n\r\n[Service][3]\r\n\r\nWhen I requested in postman like this. Getting Internal Server Error :\r\n\r\n[Postman Test][4]\r\n\r\nGraphQL Config :\r\n\r\n[Company Type][5]\r\n\r\n[Request][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WH2xs.png\r\n  [2]: https://i.stack.imgur.com/GOMQi.png\r\n  [3]: https://i.stack.imgur.com/g71qp.png\r\n  [4]: https://i.stack.imgur.com/rOSZD.png\r\n  [5]: https://i.stack.imgur.com/um0jq.png\r\n  [6]: https://i.stack.imgur.com/JFfXw.png","title":"GraphQL Java : java.lang.NoSuchMethodError","body":"<p>I am testing the APIs after hosting the application on DigitalOcean and I got this Error :</p>\n<p><a href=\"https://i.stack.imgur.com/WH2xs.png\" rel=\"nofollow noreferrer\">Error Screenshot</a></p>\n<p>The query and my Service File looks like that :</p>\n<p><a href=\"https://i.stack.imgur.com/GOMQi.png\" rel=\"nofollow noreferrer\">Repo</a></p>\n<p><a href=\"https://i.stack.imgur.com/g71qp.png\" rel=\"nofollow noreferrer\">Service</a></p>\n<p>When I requested in postman like this. Getting Internal Server Error :</p>\n<p><a href=\"https://i.stack.imgur.com/rOSZD.png\" rel=\"nofollow noreferrer\">Postman Test</a></p>\n<p>GraphQL Config :</p>\n<p><a href=\"https://i.stack.imgur.com/um0jq.png\" rel=\"nofollow noreferrer\">Company Type</a></p>\n<p><a href=\"https://i.stack.imgur.com/JFfXw.png\" rel=\"nofollow noreferrer\">Request</a></p>\n"},{"tags":["java","jmx"],"answers":[{"comments":[{"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"score":0,"creation_date":1310043650,"post_id":6610959,"comment_id":7802504,"body_markdown":"To be honest I&#39;m not sure? I was hoping there would be some sort of &quot;here&#39;s a list of every object, and here is a sublist of its component attributes.&quot; Maybe I&#39;m underestimating how big the standard JMX stuff is?","body":"To be honest I&#39;m not sure? I was hoping there would be some sort of &quot;here&#39;s a list of every object, and here is a sublist of its component attributes.&quot; Maybe I&#39;m underestimating how big the standard JMX stuff is?"},{"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"score":0,"creation_date":1310044401,"post_id":6610959,"comment_id":7802737,"body_markdown":"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/management/package-frame.html seemed to help a lot actually. Is there something similar for the other MX beans? Sorry if these questions are more vague than they should be, I&#39;m not entirely sure about the semantics of JMX.","body":"<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/management/package-frame.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/api/java/lang/manageme&zwnj;&#8203;nt/&hellip;</a> seemed to help a lot actually. Is there something similar for the other MX beans? Sorry if these questions are more vague than they should be, I&#39;m not entirely sure about the semantics of JMX."}],"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1310043428,"creation_date":1310043428,"answer_id":6610959,"question_id":6610905,"body_markdown":"Are you looking for the [JVM platform MBean docs][1]?\r\n\r\nThere are examples there on to get the MBeans and interrogate them e.g.\r\n\r\n&gt; The [ThreadMXBean][2] platform MBean\r\n&gt; provides support for monitoring thread\r\n&gt; contention and thread CPU time.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/management/mxbeans.html\r\n  [2]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/management/ThreadMXBean.html","title":"List of JMX objects and attributes?","body":"<p>Are you looking for the <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/management/mxbeans.html\" rel=\"nofollow\">JVM platform MBean docs</a>?</p>\n\n<p>There are examples there on to get the MBeans and interrogate them e.g.</p>\n\n<blockquote>\n  <p>The <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/management/ThreadMXBean.html\" rel=\"nofollow\">ThreadMXBean</a> platform MBean\n  provides support for monitoring thread\n  contention and thread CPU time.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"score":0,"creation_date":1310059762,"post_id":6612195,"comment_id":7807679,"body_markdown":"Ah ok, we had been looking at check_jmx, which is an already created one. I&#39;ll look into jmx4perl. Thanks!","body":"Ah ok, we had been looking at check_jmx, which is an already created one. I&#39;ll look into jmx4perl. Thanks!"}],"tags":[],"owner":{"account_id":71815,"reputation":2507,"user_id":207604,"accept_rate":50,"display_name":"Roland Hu&#223;"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1519081849,"creation_date":1310048730,"answer_id":6612195,"question_id":6610905,"body_markdown":"You can always use [mBeanServer.queryNames(null, null);][1] for getting to all MBeans registered at a certain MBeanServer (where `mBeanServer` is the `MBeanServerConnection` which you obtained either locally or remotely). \r\n\r\nHowever, before implementing your own Nagios Plugins, why not using an already exisiting one ? E.g. [jmx4perl][2]&#39;s `check_jmx4perl` which comes with tools for exploring the JMX namespace (like `jmx4perl &lt;url&gt; list` for listing all JMX MBeans with their attributes and operations or `j4psh` a readline based JMX shell with context sensitive command line completion).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/management/MBeanServer.html#queryNames%28javax.management.ObjectName,%20javax.management.QueryExp%29\r\n  [2]: https://jolokia.org/client/perl.html","title":"List of JMX objects and attributes?","body":"<p>You can always use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/management/MBeanServer.html#queryNames%28javax.management.ObjectName,%20javax.management.QueryExp%29\" rel=\"nofollow noreferrer\">mBeanServer.queryNames(null, null);</a> for getting to all MBeans registered at a certain MBeanServer (where <code>mBeanServer</code> is the <code>MBeanServerConnection</code> which you obtained either locally or remotely). </p>\n\n<p>However, before implementing your own Nagios Plugins, why not using an already exisiting one ? E.g. <a href=\"https://jolokia.org/client/perl.html\" rel=\"nofollow noreferrer\">jmx4perl</a>'s <code>check_jmx4perl</code> which comes with tools for exploring the JMX namespace (like <code>jmx4perl &lt;url&gt; list</code> for listing all JMX MBeans with their attributes and operations or <code>j4psh</code> a readline based JMX shell with context sensitive command line completion).</p>\n"},{"comments":[{"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"score":0,"creation_date":1310565842,"post_id":6619300,"comment_id":7901639,"body_markdown":"I attempted to use jconsole but it doesn&#39;t work on CLI (at least it gives a bunch of errors when you try to run it).","body":"I attempted to use jconsole but it doesn&#39;t work on CLI (at least it gives a bunch of errors when you try to run it)."},{"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"score":0,"creation_date":1311086371,"post_id":6619300,"comment_id":7999346,"body_markdown":"Its a bunch of java exceptions stating that no x-server is found. Most of the jconsole documentation points to needing to use a GUI. Can&#39;t connect to the server atm to get better explanation, I&#39;ll post the exceptions later.","body":"Its a bunch of java exceptions stating that no x-server is found. Most of the jconsole documentation points to needing to use a GUI. Can&#39;t connect to the server atm to get better explanation, I&#39;ll post the exceptions later."}],"tags":[],"owner":{"account_id":419170,"reputation":2603,"user_id":796181,"accept_rate":75,"display_name":"helios"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612382,"creation_date":1310091619,"answer_id":6619300,"question_id":6610905,"body_markdown":"Check out [MC4J][1] or [JConsole][2] - it&#39;s trivial to get going with both of &#39;em.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/mc4j/\r\n  [2]: http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html","title":"List of JMX objects and attributes?","body":"<p>Check out <a href=\"http://sourceforge.net/projects/mc4j/\" rel=\"nofollow noreferrer\">MC4J</a> or <a href=\"http://java.sun.com/developer/technicalArticles/J2SE/jconsole.html\" rel=\"nofollow noreferrer\">JConsole</a> - it's trivial to get going with both of 'em.</p>\n"},{"tags":[],"owner":{"account_id":1383140,"reputation":1324,"user_id":1315726,"accept_rate":100,"display_name":"Chux Uzoeto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380637066,"creation_date":1380637066,"answer_id":19118626,"question_id":6610905,"body_markdown":"From a sysadmin point of view, I fully understand the bases for the question.  The standard JMX documentation, or the objects one can encounter while trying to browse JMX object trees, can be overwhelming and confusing.  \r\n\r\nI have found this [Op5 KB article][1] quite useful in providing a decent overview of JMX objects of interest for JBoss. \r\n\r\nObviously, one needs to adjust to fit with the monitoring system they are actually using, but there is enough in the examples for whatever nagios-based monitoring system is being used.\r\n\r\n\r\n  [1]: https://kb.op5.com/display/HOWTOs/Jboss+Monitoring+with+check_jmx","title":"List of JMX objects and attributes?","body":"<p>From a sysadmin point of view, I fully understand the bases for the question.  The standard JMX documentation, or the objects one can encounter while trying to browse JMX object trees, can be overwhelming and confusing.  </p>\n\n<p>I have found this <a href=\"https://kb.op5.com/display/HOWTOs/Jboss+Monitoring+with+check_jmx\" rel=\"nofollow\">Op5 KB article</a> quite useful in providing a decent overview of JMX objects of interest for JBoss. </p>\n\n<p>Obviously, one needs to adjust to fit with the monitoring system they are actually using, but there is enough in the examples for whatever nagios-based monitoring system is being used.</p>\n"},{"tags":[],"owner":{"account_id":353250,"reputation":833,"user_id":690844,"accept_rate":33,"display_name":"Gilad"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1412497704,"creation_date":1412497704,"answer_id":26200942,"question_id":6610905,"body_markdown":"You can use\r\n\r\n    Set mbeans = mBeanServer.queryNames(null, null);\r\n    for (Object mbean : mbeans)\r\n    {\r\n        WriteAttributes(mBeanServer, (ObjectName)mbean);\r\n    }\r\n\r\n    private void WriteAttributes(final MBeanServer mBeanServer, final ObjectName http)\r\n            throws InstanceNotFoundException, IntrospectionException, ReflectionException\r\n    {\r\n        MBeanInfo info = mBeanServer.getMBeanInfo(http);\r\n        MBeanAttributeInfo[] attrInfo = info.getAttributes();\r\n\r\n        System.out.println(&quot;Attributes for object: &quot; + http +&quot;:\\n&quot;);\r\n        for (MBeanAttributeInfo attr : attrInfo)\r\n        {\r\n            System.out.println(&quot;  &quot; + attr.getName() + &quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThis will write all the object names and their attributes...","title":"List of JMX objects and attributes?","body":"<p>You can use</p>\n\n<pre><code>Set mbeans = mBeanServer.queryNames(null, null);\nfor (Object mbean : mbeans)\n{\n    WriteAttributes(mBeanServer, (ObjectName)mbean);\n}\n\nprivate void WriteAttributes(final MBeanServer mBeanServer, final ObjectName http)\n        throws InstanceNotFoundException, IntrospectionException, ReflectionException\n{\n    MBeanInfo info = mBeanServer.getMBeanInfo(http);\n    MBeanAttributeInfo[] attrInfo = info.getAttributes();\n\n    System.out.println(\"Attributes for object: \" + http +\":\\n\");\n    for (MBeanAttributeInfo attr : attrInfo)\n    {\n        System.out.println(\"  \" + attr.getName() + \"\\n\");\n    }\n}\n</code></pre>\n\n<p>This will write all the object names and their attributes...</p>\n"}],"owner":{"account_id":403950,"reputation":512,"user_id":771998,"accept_rate":86,"display_name":"Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43024,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6612195,"answer_count":5,"score":22,"last_activity_date":1666612382,"creation_date":1310043195,"question_id":6610905,"body_markdown":"I am trying to implement a nagios plugin, and doing so requires that I know specifically what object and attribute I want to monitor. The thing is, I haven&#39;t been able to find a listing anywhere of the standard system jmx objects and attributes. Can anyone point me in the right direction? I need to monitor things like memory pools, heap size, etc.","title":"List of JMX objects and attributes?","body":"<p>I am trying to implement a nagios plugin, and doing so requires that I know specifically what object and attribute I want to monitor. The thing is, I haven't been able to find a listing anywhere of the standard system jmx objects and attributes. Can anyone point me in the right direction? I need to monitor things like memory pools, heap size, etc.</p>\n"},{"tags":["java","object","constructor","subclass","superclass"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1666518077,"post_id":74169866,"comment_id":130951982,"body_markdown":"What does `class mySuperClass(String x)` mean? That&#39;s not valid Java.","body":"What does <code>class mySuperClass(String x)</code> mean? That&#39;s not valid Java."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1666518315,"post_id":74169866,"comment_id":130952013,"body_markdown":"If the superclass constructor takes parameters, then you actually have a chance, when the parameters are being evaluated. Anyway, I think this is an [XY problem](https://xyproblem.info). Why are you trying to do this?","body":"If the superclass constructor takes parameters, then you actually have a chance, when the parameters are being evaluated. Anyway, I think this is an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. Why are you trying to do this?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666524447,"post_id":74169866,"comment_id":130953122,"body_markdown":"depends on how you define &quot;an object still created&quot;. First of all memory is allocated for the whole instance (including the superclasses), then the superclasses are initialized (constructor executed), finally (skipped some steps) the constructor of the actual class is executes and throws an Exception, abruptly exiting the (whole) instance creation. Better explained in the Java Language Specificaiton [12.5. Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.5)","body":"depends on how you define &quot;an object still created&quot;. First of all memory is allocated for the whole instance (including the superclasses), then the superclasses are initialized (constructor executed), finally (skipped some steps) the constructor of the actual class is executes and throws an Exception, abruptly exiting the (whole) instance creation. Better explained in the Java Language Specificaiton <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5. Creation of New Class Instances</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1666535979,"post_id":74169866,"comment_id":130955384,"body_markdown":"At the point *any* constructor code is run, the object has already been created. A constructor in Java is for initialization purposes. As an aside, even if super-constructors are called, there is one and only one object, no matter how many super classes an object has.","body":"At the point <i>any</i> constructor code is run, the object has already been created. A constructor in Java is for initialization purposes. As an aside, even if super-constructors are called, there is one and only one object, no matter how many super classes an object has."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666539467,"post_id":74169866,"comment_id":130956159,"body_markdown":"If the constructor throws, no object is created (or any partly created super class parts are garbage collected).","body":"If the constructor throws, no object is created (or any partly created super class parts are garbage collected)."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1666553575,"post_id":74169866,"comment_id":130959487,"body_markdown":"Can you elaborate on why you don&#39;t want the superclass constructor to run?","body":"Can you elaborate on why you don&#39;t want the superclass constructor to run?"},{"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"score":0,"creation_date":1666709481,"post_id":74169866,"comment_id":130998207,"body_markdown":"@templatetypedef just because I think it may not be correct to execute the super constructor if the subclass constructor cannot be executed due to an incorrect parameter.\n\nOr at least, that&#39;s what I&#39;m trying to figure out. But if it is true that garbage collection takes care of cleaning, then it may not be a problem to start the super constructor anyway.","body":"@templatetypedef just because I think it may not be correct to execute the super constructor if the subclass constructor cannot be executed due to an incorrect parameter.  Or at least, that&#39;s what I&#39;m trying to figure out. But if it is true that garbage collection takes care of cleaning, then it may not be a problem to start the super constructor anyway."},{"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"score":0,"creation_date":1666710227,"post_id":74169866,"comment_id":130998521,"body_markdown":"So, if I understand what user16320675 and @Robert say, it is not a problem to launch the super even if the sub-class constructor fails: the exception takes care of it. \nThank You all","body":"So, if I understand what user16320675 and @Robert say, it is not a problem to launch the super even if the sub-class constructor fails: the exception takes care of it.  Thank You all"}],"answers":[{"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1666572540,"post_id":74174260,"comment_id":130962486,"body_markdown":"Good advice! To the OP, it&#39;s still worth considering why this is important. If calling the superclass constructor has some kind of side-effect that is undesirable when the subclass constructor fails, this should be a red flag and prompt a redesign of the superclass. Constructors should avoid side-effects for this very reason.","body":"Good advice! To the OP, it&#39;s still worth considering why this is important. If calling the superclass constructor has some kind of side-effect that is undesirable when the subclass constructor fails, this should be a red flag and prompt a redesign of the superclass. Constructors should avoid side-effects for this very reason."},{"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"score":0,"creation_date":1666612147,"post_id":74174260,"comment_id":130970887,"body_markdown":"@Sweeper sorry, my fault. I fixed it. Thank you","body":"@Sweeper sorry, my fault. I fixed it. Thank you"}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1666554047,"creation_date":1666554047,"answer_id":74174260,"question_id":74169866,"body_markdown":"One option is to use a factory method, which lets you do something and then have the constructor run:\r\n\r\n```java\r\npublic class subClass extends mySuperClass {\r\n    private subClass(int y) { // &lt;-- Note: Now private\r\n        super(/* ... args ... */);\r\n        this.y = y;\r\n    }\r\n\r\n    public static subClass create(int y) {\r\n        if (y &gt;= 10) {\r\n             throw new IllegalArgumentException(&quot;Shame! Shame!&quot;);\r\n        }\r\n        return new subClass(y);\r\n    }\r\n}\r\n```\r\n\r\nNow, you&#39;d create objects by writing `subClass.create(arg);` rather than `new subClass(arg);`\r\n\r\nA second option would be to replace the `int` parameter with a parameter of a custom type representing what you want. This gives more fine-grained control and makes clear that the argument isn&#39;t an `int` per se, but rather some sort of limited value.\r\n\r\n```java\r\npublic class subClass extends mySuperClass {\r\n    public static final class SpecialInt {\r\n        private final int value;\r\n        \r\n        SpecialInt(int val) {\r\n            if (val &lt; 10) {\r\n                throw new IllegalArgumentException(&quot;That int is Not Special.&quot;);\r\n            }\r\n            value = val;\r\n        }\r\n    }\r\n\r\n    public subClass(SpecialInt y) {\r\n        super(/* ... args ... */);\r\n        this.y = y.value;\r\n    }\r\n}\r\n```\r\n\r\nI like this option because it makes clear that there&#39;s a restricted type of items that can be given to the constructor, though it does add a bit more syntax (`new subClass(new subClass.SpecialInt(137))` versus `newSubclass(137)`).\r\n\r\nA final, hacky, &quot;not great but it&#39;ll work&quot; option would be to add in static method that checks the argument to the subclass constructor and, in the normal case, returns the proper argument to the superclass constructor. However, if the argument is invalid, the helper throws an exception. This assumes that the superclass constructor takes at least one argument and won&#39;t work otherwise.\r\n\r\n```java\r\npublic class subClass extends mySuperClass {\r\n    private static final String argCheck(int y) {\r\n        if (y &gt;= 10) {\r\n            throw new IllegalArgumentException(&quot;You have committed a Programming Sin.&quot;);\r\n        }\r\n        return /* whatever you would normally send to the superclass. */;\r\n    }\r\n\r\n    public subClass(int y) {\r\n        super(argCheck(y)); // Check y before invoking the superclass ctor\r\n\r\n        this.y = y;\r\n    }\r\n}\r\n```","title":"Prevent super-constructor instantiation if a subclass constructor parameter is illegal","body":"<p>One option is to use a factory method, which lets you do something and then have the constructor run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class subClass extends mySuperClass {\n    private subClass(int y) { // &lt;-- Note: Now private\n        super(/* ... args ... */);\n        this.y = y;\n    }\n\n    public static subClass create(int y) {\n        if (y &gt;= 10) {\n             throw new IllegalArgumentException(&quot;Shame! Shame!&quot;);\n        }\n        return new subClass(y);\n    }\n}\n</code></pre>\n<p>Now, you'd create objects by writing <code>subClass.create(arg);</code> rather than <code>new subClass(arg);</code></p>\n<p>A second option would be to replace the <code>int</code> parameter with a parameter of a custom type representing what you want. This gives more fine-grained control and makes clear that the argument isn't an <code>int</code> per se, but rather some sort of limited value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class subClass extends mySuperClass {\n    public static final class SpecialInt {\n        private final int value;\n        \n        SpecialInt(int val) {\n            if (val &lt; 10) {\n                throw new IllegalArgumentException(&quot;That int is Not Special.&quot;);\n            }\n            value = val;\n        }\n    }\n\n    public subClass(SpecialInt y) {\n        super(/* ... args ... */);\n        this.y = y.value;\n    }\n}\n</code></pre>\n<p>I like this option because it makes clear that there's a restricted type of items that can be given to the constructor, though it does add a bit more syntax (<code>new subClass(new subClass.SpecialInt(137))</code> versus <code>newSubclass(137)</code>).</p>\n<p>A final, hacky, &quot;not great but it'll work&quot; option would be to add in static method that checks the argument to the subclass constructor and, in the normal case, returns the proper argument to the superclass constructor. However, if the argument is invalid, the helper throws an exception. This assumes that the superclass constructor takes at least one argument and won't work otherwise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class subClass extends mySuperClass {\n    private static final String argCheck(int y) {\n        if (y &gt;= 10) {\n            throw new IllegalArgumentException(&quot;You have committed a Programming Sin.&quot;);\n        }\n        return /* whatever you would normally send to the superclass. */;\n    }\n\n    public subClass(int y) {\n        super(argCheck(y)); // Check y before invoking the superclass ctor\n\n        this.y = y;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25036956,"reputation":23,"user_id":18894259,"display_name":"ceembroo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666612316,"creation_date":1666515846,"question_id":74169866,"body_markdown":"Is it possible to prevent the instantiation of super constructor if a parameter of subclass constructor is illegal?\r\n\r\nI know that super should be the first instruction in the subclass constructor, but what happens if I throw an exception? Is the &quot;super&quot; object created anyway?\r\n\r\nExample: The subclass must not create the object if y &lt; 10. But if super comes before Y&#39;s control, is an object still created?\r\n\r\n\r\n    public class SuperClass(){ \r\n        public SuperClass(String x) { ... }\r\n    }\r\n        \r\n\r\n    public class SubClass extends SuperClass{\r\n    \tprivate int subY;\r\n        \r\n    \tpublic SubClass(int y){\r\n    \r\n    \t\tsuper();\r\n    \t\r\n    \t\tif(y&lt;10){\r\n\r\n                 this.subY = y;\r\n\r\n            }else{\r\n                \r\n                 throw new IllegalArgumentException(&quot;Error: y must be &lt;10&quot;);\r\n            }\r\n    \t}\r\n    }\r\n\r\nI read this, but it is not the case of a subclass https://stackoverflow.com/questions/14394590/preventing-instantiation-of-a-class-if-argument-to-constructor-is-illegal\r\n\r\n\r\n","title":"Prevent super-constructor instantiation if a subclass constructor parameter is illegal","body":"<p>Is it possible to prevent the instantiation of super constructor if a parameter of subclass constructor is illegal?</p>\n<p>I know that super should be the first instruction in the subclass constructor, but what happens if I throw an exception? Is the &quot;super&quot; object created anyway?</p>\n<p>Example: The subclass must not create the object if y &lt; 10. But if super comes before Y's control, is an object still created?</p>\n<pre><code>public class SuperClass(){ \n    public SuperClass(String x) { ... }\n}\n    \n\npublic class SubClass extends SuperClass{\n    private int subY;\n    \n    public SubClass(int y){\n\n        super();\n    \n        if(y&lt;10){\n\n             this.subY = y;\n\n        }else{\n            \n             throw new IllegalArgumentException(&quot;Error: y must be &lt;10&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I read this, but it is not the case of a subclass <a href=\"https://stackoverflow.com/questions/14394590/preventing-instantiation-of-a-class-if-argument-to-constructor-is-illegal\">Preventing instantiation of a class if argument to constructor is illegal?</a></p>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1480489706,"post_id":40882038,"comment_id":68978752,"body_markdown":"Environment Interface is your own interface or a interface from a lib ?","body":"Environment Interface is your own interface or a interface from a lib ?"},{"owner":{"account_id":8942337,"reputation":41,"user_id":6670926,"display_name":"abhinav.varshney"},"score":0,"creation_date":1480489773,"post_id":40882038,"comment_id":68978782,"body_markdown":"It is framework interface... org.springframework.core.env.Environment; @davidxxx","body":"It is framework interface... org.springframework.core.env.Environment; @davidxxx"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1480489962,"post_id":40882038,"comment_id":68978858,"body_markdown":"You could use MockEnvironment from Spring","body":"You could use MockEnvironment from Spring"},{"owner":{"account_id":8942337,"reputation":41,"user_id":6670926,"display_name":"abhinav.varshney"},"score":0,"creation_date":1480490196,"post_id":40882038,"comment_id":68978983,"body_markdown":"can you please tell me how to use  MockEnvironment from Spring??","body":"can you please tell me how to use  MockEnvironment from Spring??"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1480490287,"post_id":40882038,"comment_id":68979016,"body_markdown":"I posted a simple example. If you have troubles, edit your question to give more details about your need.","body":"I posted a simple example. If you have troubles, edit your question to give more details about your need."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1480490238,"creation_date":1480490238,"answer_id":40882435,"question_id":40882038,"body_markdown":"As said in my comment, you  don&#39;t need Mockito, you can use `MockEnvironment` class to mock `Environment` from Spring.&lt;br&gt;\r\nYou can set values in this way :\r\n\r\n\t    MockEnvironment environment = new MockEnvironment();\r\n\t\tenvironment.setProperty(&quot;yourKeyOne&quot;, &quot;yourValue1&quot;);\r\n\t\tenvironment.setProperty(&quot;yourKeyTwo&quot;, &quot;yourValue2&quot;);\r\n        \r\nAnd according to your need, you can use this environment variable.\r\nFor example, here is with an `AnnotationConfigWebApplicationContext` instance :\r\n\r\n        AnnotationConfigWebApplicationContext context = new  AnnotationConfigWebApplicationContext();\r\n\t    context.setEnvironment(environment);\r\n ","title":"How to mock Environment Interface","body":"<p>As said in my comment, you  don't need Mockito, you can use <code>MockEnvironment</code> class to mock <code>Environment</code> from Spring.<br>\nYou can set values in this way :</p>\n\n<pre><code>    MockEnvironment environment = new MockEnvironment();\n    environment.setProperty(\"yourKeyOne\", \"yourValue1\");\n    environment.setProperty(\"yourKeyTwo\", \"yourValue2\");\n</code></pre>\n\n<p>And according to your need, you can use this environment variable.\nFor example, here is with an <code>AnnotationConfigWebApplicationContext</code> instance :</p>\n\n<pre><code>    AnnotationConfigWebApplicationContext context = new  AnnotationConfigWebApplicationContext();\n    context.setEnvironment(environment);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666612088,"creation_date":1480491971,"answer_id":40882893,"question_id":40882038,"body_markdown":"If you are using Mockito, you can do it as follows.\r\n\r\n    import static org.mockito.Mockito.when;\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    class SampleMockitoTest {\r\n    \t\r\n    \t@Mock\r\n    \tprivate Environment mockEnvironment;\r\n    \t\r\n    \t@Test\r\n    \tpublic void sampleTest() {\r\n    \t\t//use mockEnvironment here\r\n            when(environment.getProperty(&quot;yourKey&quot;)).thenReturn(&quot;yourValue&quot;);\r\n    \t}\r\n    }","title":"How to mock Environment Interface","body":"<p>If you are using Mockito, you can do it as follows.</p>\n<pre><code>import static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\nclass SampleMockitoTest {\n    \n    @Mock\n    private Environment mockEnvironment;\n    \n    @Test\n    public void sampleTest() {\n        //use mockEnvironment here\n        when(environment.getProperty(&quot;yourKey&quot;)).thenReturn(&quot;yourValue&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8942337,"reputation":41,"user_id":6670926,"display_name":"abhinav.varshney"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12224,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666612088,"creation_date":1480488788,"question_id":40882038,"body_markdown":"I have to fetch path from the property file using Environment interface. In Junits I am not able to mock the Environment Interface. Below is my code. I want something random if I will call the method mentioned. How can I do it?\r\n\r\n \r\n\r\n    @Mock\r\n        private Class object;\r\n     @InjectMocks\r\n        Class2 object2;\r\n    \r\n    Mockito.when(object.getFilePath()).thenReturn(&quot;Random String&quot;);","title":"How to mock Environment Interface","body":"<p>I have to fetch path from the property file using Environment interface. In Junits I am not able to mock the Environment Interface. Below is my code. I want something random if I will call the method mentioned. How can I do it?</p>\n\n<pre><code>@Mock\n    private Class object;\n @InjectMocks\n    Class2 object2;\n\nMockito.when(object.getFilePath()).thenReturn(\"Random String\");\n</code></pre>\n"},{"tags":["java","html","templates"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666606015,"post_id":74179530,"comment_id":130968836,"body_markdown":"Would it be acceptable for you to modify the template so you have something like `&lt;td id=&quot;ip&quot;&gt;${ip}&lt;/td&gt;` or something similar, instead?","body":"Would it be acceptable for you to modify the template so you have something like <code>&lt;td id=&quot;ip&quot;&gt;${ip}&lt;&#47;td&gt;</code> or something similar, instead?"},{"owner":{"account_id":17511076,"reputation":452,"user_id":12699161,"display_name":"undertale"},"score":0,"creation_date":1666606570,"post_id":74179530,"comment_id":130968986,"body_markdown":"I can modify the template but I don&#39;t know how to insert vars in this way","body":"I can modify the template but I don&#39;t know how to insert vars in this way"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666607273,"post_id":74179530,"comment_id":130969208,"body_markdown":"My point is if it&#39;s ok for you to modify your template there&#39;s plenty of template engines you can use for such tasks. [Freemaker](https://freemarker.apache.org/), for example.","body":"My point is if it&#39;s ok for you to modify your template there&#39;s plenty of template engines you can use for such tasks. <a href=\"https://freemarker.apache.org/\" rel=\"nofollow noreferrer\">Freemaker</a>, for example."}],"answers":[{"tags":[],"owner":{"account_id":10149091,"reputation":372,"user_id":7496320,"accept_rate":0,"display_name":"Aks 1316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666612049,"creation_date":1666612049,"answer_id":74180655,"question_id":74179530,"body_markdown":"You can use Apache FreeMarker here.\r\nhttps://www.vogella.com/tutorials/FreeMarker/article.html","title":"insert data dynamically to html table with java","body":"<p>You can use Apache FreeMarker here.\n<a href=\"https://www.vogella.com/tutorials/FreeMarker/article.html\" rel=\"nofollow noreferrer\">https://www.vogella.com/tutorials/FreeMarker/article.html</a></p>\n"}],"owner":{"account_id":17511076,"reputation":452,"user_id":12699161,"display_name":"undertale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666612049,"creation_date":1666605927,"question_id":74179530,"body_markdown":"I have template html file which look like this\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n        &lt;style&gt;\r\n        table, th, td {\r\n            border:1px solid black;\r\n                      }\r\n        &lt;/style&gt;\r\n        &lt;body&gt;\r\n            &lt;h2&gt;Email Report: Crash in Log File&lt;/h2&gt;\r\n            &lt;table style=&quot;width:100%&quot;&gt;\r\n              &lt;tr&gt;\r\n                &lt;th&gt;Device Mode&lt;/th&gt;\r\n                &lt;th&gt;IP&lt;/th&gt;\r\n                &lt;th&gt;Platform&lt;/th&gt;\r\n                &lt;th&gt;Host Name&lt;/th&gt;\r\n                &lt;th&gt;Test&lt;/th&gt;\r\n                &lt;th&gt;Time&lt;/th&gt;\r\n              &lt;/tr&gt;\r\n              &lt;tr&gt;\r\n                &lt;td id=&quot;dm&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;pla&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;hn&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;test&quot;&gt;&lt;/td&gt;\r\n                &lt;td id=&quot;time&quot;&gt;&lt;/td&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n            &lt;table style=&quot;width:100%&quot;&gt;\r\n                &lt;tr&gt;\r\n                  &lt;th&gt;Stack Trace&lt;/th&gt;\r\n              \r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                  &lt;td id=&quot;st&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n              &lt;/table&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI have in my java porgram variables like ip, deviceName and etc and i want to insert these variables to the table \r\n\r\nfor exsample insert the ip var to `&lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;`\r\n\r\nhow can I do it ?","title":"insert data dynamically to html table with java","body":"<p>I have template html file which look like this</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;style&gt;\n    table, th, td {\n        border:1px solid black;\n                  }\n    &lt;/style&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Email Report: Crash in Log File&lt;/h2&gt;\n        &lt;table style=&quot;width:100%&quot;&gt;\n          &lt;tr&gt;\n            &lt;th&gt;Device Mode&lt;/th&gt;\n            &lt;th&gt;IP&lt;/th&gt;\n            &lt;th&gt;Platform&lt;/th&gt;\n            &lt;th&gt;Host Name&lt;/th&gt;\n            &lt;th&gt;Test&lt;/th&gt;\n            &lt;th&gt;Time&lt;/th&gt;\n          &lt;/tr&gt;\n          &lt;tr&gt;\n            &lt;td id=&quot;dm&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;pla&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;hn&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;test&quot;&gt;&lt;/td&gt;\n            &lt;td id=&quot;time&quot;&gt;&lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n        &lt;table style=&quot;width:100%&quot;&gt;\n            &lt;tr&gt;\n              &lt;th&gt;Stack Trace&lt;/th&gt;\n          \n            &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td id=&quot;st&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n          &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have in my java porgram variables like ip, deviceName and etc and i want to insert these variables to the table</p>\n<p>for exsample insert the ip var to <code>&lt;td id=&quot;ip&quot;&gt;&lt;/td&gt;</code></p>\n<p>how can I do it ?</p>\n"},{"tags":["java","json","parsing","nested"],"comments":[{"owner":{"account_id":2876105,"reputation":3271,"user_id":2468131,"display_name":"Njol"},"score":1,"creation_date":1388739486,"post_id":20899839,"comment_id":31369898,"body_markdown":"I suggest to read the official documentation and take a look at their examples if there are some.","body":"I suggest to read the official documentation and take a look at their examples if there are some."}],"answers":[{"comments":[{"owner":{"account_id":2373829,"reputation":716,"user_id":2077757,"display_name":"Xiao Liang"},"score":0,"creation_date":1388740792,"post_id":20899924,"comment_id":31370504,"body_markdown":"Note that `LanguageLevels` is not a JSON Array! Because it starts with a brace, not an open bracket. So your code here may not be appropriate.","body":"Note that <code>LanguageLevels</code> is not a JSON Array! Because it starts with a brace, not an open bracket. So your code here may not be appropriate."}],"tags":[],"owner":{"account_id":371546,"reputation":7325,"user_id":720133,"accept_rate":88,"display_name":"dehlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388739547,"creation_date":1388739547,"answer_id":20899924,"question_id":20899839,"body_markdown":"    \r\n\r\n    JSONArray jsonChildArray = (JSONArray) jsonChildArray.get(&quot;LanguageLevels&quot;);\r\n        JSONObject secObject = (JSONObject) jsonChildArray.get(1);\r\n\r\nI think this should work, but i do not have the possibility to test it at the moment..","title":"Retrieving values from nested JSON Object","body":"<pre><code>JSONArray jsonChildArray = (JSONArray) jsonChildArray.get(\"LanguageLevels\");\n    JSONObject secObject = (JSONObject) jsonChildArray.get(1);\n</code></pre>\n\n<p>I think this should work, but i do not have the possibility to test it at the moment..</p>\n"},{"tags":[],"owner":{"account_id":989247,"reputation":7431,"user_id":1538881,"display_name":"Jakub Kotowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388739569,"creation_date":1388739569,"answer_id":20899930,"question_id":20899839,"body_markdown":"You can see that [JSONObject][1] extends a `HashMap`, so you can simply use it as a HashMap:\r\n\r\n    JSONObject jsonChildObject = (JSONObject)jsonObject.get(&quot;LanguageLevels&quot;);\r\n    for (Map.Entry in jsonChildOBject.entrySet()) {\r\n        System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());\r\n    }\r\n\r\n\r\n  [1]: http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html","title":"Retrieving values from nested JSON Object","body":"<p>You can see that <a href=\"http://juliusdavies.ca/json-simple-1.1.1-javadocs/org/json/simple/JSONObject.html\" rel=\"noreferrer\">JSONObject</a> extends a <code>HashMap</code>, so you can simply use it as a HashMap:</p>\n\n<pre><code>JSONObject jsonChildObject = (JSONObject)jsonObject.get(\"LanguageLevels\");\nfor (Map.Entry in jsonChildOBject.entrySet()) {\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"score":1,"creation_date":1388740971,"post_id":20900063,"comment_id":31370577,"body_markdown":"In constructor of jsonObject Eclipse prints this error:\n      The constructor JSONObject(String) is undefined","body":"In constructor of jsonObject Eclipse prints this error:       The constructor JSONObject(String) is undefined"},{"owner":{"account_id":2373829,"reputation":716,"user_id":2077757,"display_name":"Xiao Liang"},"score":2,"creation_date":1388741210,"post_id":20900063,"comment_id":31370715,"body_markdown":"@m.aibin Please note that all the files you downloaded from GitHub are not placed in the right package. You must create a new package called `org.json` then, drap&#39;n&#39;drop all the java files to that package. And you rock!","body":"@m.aibin Please note that all the files you downloaded from GitHub are not placed in the right package. You must create a new package called <code>org.json</code> then, drap&#39;n&#39;drop all the java files to that package. And you rock!"},{"owner":{"account_id":2373829,"reputation":716,"user_id":2077757,"display_name":"Xiao Liang"},"score":0,"creation_date":1388741557,"post_id":20900063,"comment_id":31370892,"body_markdown":"@m.aibin Also, plz note that, it&#39;s not a nested JSON Array, but a nested JSON object. You better change this question&#39;s title, it could be misleading.","body":"@m.aibin Also, plz note that, it&#39;s not a nested JSON Array, but a nested JSON object. You better change this question&#39;s title, it could be misleading."},{"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"score":0,"creation_date":1388742821,"post_id":20900063,"comment_id":31371598,"body_markdown":"yes, I used wrong package :) One more question - is it available to get this package from GitHub as a Maven Dependency?? Now I&#39;ve got it as a package to compile with other my classes","body":"yes, I used wrong package :) One more question - is it available to get this package from GitHub as a Maven Dependency?? Now I&#39;ve got it as a package to compile with other my classes"},{"owner":{"account_id":2373829,"reputation":716,"user_id":2077757,"display_name":"Xiao Liang"},"score":0,"creation_date":1388742960,"post_id":20900063,"comment_id":31371671,"body_markdown":"Check this out: http://mvnrepository.com/artifact/org.json/json. My network speed of linking maven sites is extremely low, so cannot give it a try. But this should be right for your need! ;-)","body":"Check this out: <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json</a>. My network speed of linking maven sites is extremely low, so cannot give it a try. But this should be right for your need! ;-)"}],"tags":[],"owner":{"account_id":2373829,"reputation":716,"user_id":2077757,"display_name":"Xiao Liang"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1536788889,"creation_date":1388740138,"answer_id":20900063,"question_id":20899839,"body_markdown":"Maybe you&#39;re not using the latest version of a JSON for Java Library.\r\n\r\n`json-simple` has not been updated for a long time, while `JSON-Java` was updated 2 month ago. \r\n\r\n`JSON-Java` can be found on GitHub, here is the link to its repo: https://github.com/douglascrockford/JSON-java\r\n\r\nAfter switching the library, you can refer to my sample code down below:\r\n\r\n    public static void main(String[] args) {\r\n        String JSON = &quot;{\\&quot;LanguageLevels\\&quot;:{\\&quot;1\\&quot;:\\&quot;Pocz\\\\u0105tkuj\\\\u0105cy\\&quot;,\\&quot;2\\&quot;:\\&quot;\\\\u015arednioZaawansowany\\&quot;,\\&quot;3\\&quot;:\\&quot;Zaawansowany\\&quot;,\\&quot;4\\&quot;:\\&quot;Ekspert\\&quot;}}\\n&quot;;\r\n\r\n        JSONObject jsonObject = new JSONObject(JSON);\r\n        JSONObject getSth = jsonObject.getJSONObject(&quot;LanguageLevels&quot;);\r\n        Object level = getSth.get(&quot;2&quot;);\r\n\r\n        System.out.println(level);\r\n    }\r\n\r\nAnd as `JSON-Java` open-sourced, you can read the code and its document, they will guide you through.\r\n\r\nHope that it helps.","title":"Retrieving values from nested JSON Object","body":"<p>Maybe you're not using the latest version of a JSON for Java Library.</p>\n\n<p><code>json-simple</code> has not been updated for a long time, while <code>JSON-Java</code> was updated 2 month ago. </p>\n\n<p><code>JSON-Java</code> can be found on GitHub, here is the link to its repo: <a href=\"https://github.com/douglascrockford/JSON-java\" rel=\"noreferrer\">https://github.com/douglascrockford/JSON-java</a></p>\n\n<p>After switching the library, you can refer to my sample code down below:</p>\n\n<pre><code>public static void main(String[] args) {\n    String JSON = \"{\\\"LanguageLevels\\\":{\\\"1\\\":\\\"Pocz\\\\u0105tkuj\\\\u0105cy\\\",\\\"2\\\":\\\"\\\\u015arednioZaawansowany\\\",\\\"3\\\":\\\"Zaawansowany\\\",\\\"4\\\":\\\"Ekspert\\\"}}\\n\";\n\n    JSONObject jsonObject = new JSONObject(JSON);\n    JSONObject getSth = jsonObject.getJSONObject(\"LanguageLevels\");\n    Object level = getSth.get(\"2\");\n\n    System.out.println(level);\n}\n</code></pre>\n\n<p>And as <code>JSON-Java</code> open-sourced, you can read the code and its document, they will guide you through.</p>\n\n<p>Hope that it helps.</p>\n"},{"tags":[],"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412101619,"creation_date":1412101619,"answer_id":26127623,"question_id":20899839,"body_markdown":"To see all keys of Jsonobject use this\r\n\r\n        String JSON = &quot;{\\&quot;LanguageLevels\\&quot;:{\\&quot;1\\&quot;:\\&quot;Pocz\\\\u0105tkuj\\\\u0105cy\\&quot;,\\&quot;2\\&quot;:\\&quot;\\\\u015arednioZaawansowany\\&quot;,\\&quot;3\\&quot;:\\&quot;Zaawansowany\\&quot;,\\&quot;4\\&quot;:\\&quot;Ekspert\\&quot;}}\\n&quot;;\r\n        JSONObject obj = new JSONObject(JSON);\r\n        Iterator iterator = obj.keys();\r\n        String key = null;\r\n        while (iterator.hasNext()) {\r\n            key = (String) iterator.next();\r\n            System.out.pritnln(key);\r\n        } \r\n","title":"Retrieving values from nested JSON Object","body":"<p>To see all keys of Jsonobject use this</p>\n\n<pre><code>    String JSON = \"{\\\"LanguageLevels\\\":{\\\"1\\\":\\\"Pocz\\\\u0105tkuj\\\\u0105cy\\\",\\\"2\\\":\\\"\\\\u015arednioZaawansowany\\\",\\\"3\\\":\\\"Zaawansowany\\\",\\\"4\\\":\\\"Ekspert\\\"}}\\n\";\n    JSONObject obj = new JSONObject(JSON);\n    Iterator iterator = obj.keys();\n    String key = null;\n    while (iterator.hasNext()) {\n        key = (String) iterator.next();\n        System.out.pritnln(key);\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10711602,"reputation":149,"user_id":7883663,"display_name":"preetesh gurjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1492514585,"creation_date":1492514585,"answer_id":43470811,"question_id":20899839,"body_markdown":"You will have to iterate step by step into nested JSON.\r\n\r\nfor e.g a JSON received from Google geocoding api\r\n\r\n    {\r\n       &quot;results&quot; : [\r\n          {\r\n             &quot;address_components&quot; : [\r\n                {\r\n                   &quot;long_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;short_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;types&quot; : [ &quot;locality&quot;, &quot;political&quot; ]\r\n                },\r\n                {\r\n                   &quot;long_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;short_name&quot; : &quot;Bhopal&quot;,\r\n                   &quot;types&quot; : [ &quot;administrative_area_level_2&quot;, &quot;political&quot; ]\r\n                },\r\n                {\r\n                   &quot;long_name&quot; : &quot;Madhya Pradesh&quot;,\r\n                   &quot;short_name&quot; : &quot;MP&quot;,\r\n                   &quot;types&quot; : [ &quot;administrative_area_level_1&quot;, &quot;political&quot; ]\r\n                },\r\n                {\r\n                   &quot;long_name&quot; : &quot;India&quot;,\r\n                   &quot;short_name&quot; : &quot;IN&quot;,\r\n                   &quot;types&quot; : [ &quot;country&quot;, &quot;political&quot; ]\r\n                }\r\n             ],\r\n             &quot;formatted_address&quot; : &quot;Bhopal, Madhya Pradesh, India&quot;,\r\n             &quot;geometry&quot; : {\r\n                &quot;bounds&quot; : {\r\n                   &quot;northeast&quot; : {\r\n                      &quot;lat&quot; : 23.3326697,\r\n                      &quot;lng&quot; : 77.5748062\r\n                   },\r\n                   &quot;southwest&quot; : {\r\n                      &quot;lat&quot; : 23.0661497,\r\n                      &quot;lng&quot; : 77.2369767\r\n                   }\r\n                },\r\n                &quot;location&quot; : {\r\n                   &quot;lat&quot; : 23.2599333,\r\n                   &quot;lng&quot; : 77.412615\r\n                },\r\n                &quot;location_type&quot; : &quot;APPROXIMATE&quot;,\r\n                &quot;viewport&quot; : {\r\n                   &quot;northeast&quot; : {\r\n                      &quot;lat&quot; : 23.3326697,\r\n                      &quot;lng&quot; : 77.5748062\r\n                   },\r\n                   &quot;southwest&quot; : {\r\n                      &quot;lat&quot; : 23.0661497,\r\n                      &quot;lng&quot; : 77.2369767\r\n                   }\r\n                }\r\n             },\r\n             &quot;place_id&quot; : &quot;ChIJvY_Wj49CfDkR-NRy1RZXFQI&quot;,\r\n             &quot;types&quot; : [ &quot;locality&quot;, &quot;political&quot; ]\r\n          }\r\n       ],\r\n       &quot;status&quot; : &quot;OK&quot;\r\n    }\r\n\r\n**I shall iterate in below given fashion**\r\nto &quot;location&quot; : {\r\n                   &quot;lat&quot; : 23.2599333,\r\n                   &quot;lng&quot; : 77.412615\r\n\r\n  \r\n\r\n           \r\n\r\n //recieve JSON in json object \r\n\r\n            JSONObject json = new JSONObject(output.toString());\r\n\t\t\tJSONArray result = json.getJSONArray(&quot;results&quot;);\r\n\t\t\tJSONObject result1 = result.getJSONObject(0);\r\n\t\t\tJSONObject geometry = result1.getJSONObject(&quot;geometry&quot;);\r\n\t\t\tJSONObject locat = geometry.getJSONObject(&quot;location&quot;);\r\n\t\t\t\r\n\t\t\t//&quot;iterate onto level of location&quot;;\r\n\t\t\t\t\t\t\t\r\n\t\t\tdouble lat = locat.getDouble(&quot;lat&quot;);\r\n\t\t\tdouble lng = locat.getDouble(&quot;lng&quot;);","title":"Retrieving values from nested JSON Object","body":"<p>You will have to iterate step by step into nested JSON.</p>\n\n<p>for e.g a JSON received from Google geocoding api</p>\n\n<pre><code>{\n   \"results\" : [\n      {\n         \"address_components\" : [\n            {\n               \"long_name\" : \"Bhopal\",\n               \"short_name\" : \"Bhopal\",\n               \"types\" : [ \"locality\", \"political\" ]\n            },\n            {\n               \"long_name\" : \"Bhopal\",\n               \"short_name\" : \"Bhopal\",\n               \"types\" : [ \"administrative_area_level_2\", \"political\" ]\n            },\n            {\n               \"long_name\" : \"Madhya Pradesh\",\n               \"short_name\" : \"MP\",\n               \"types\" : [ \"administrative_area_level_1\", \"political\" ]\n            },\n            {\n               \"long_name\" : \"India\",\n               \"short_name\" : \"IN\",\n               \"types\" : [ \"country\", \"political\" ]\n            }\n         ],\n         \"formatted_address\" : \"Bhopal, Madhya Pradesh, India\",\n         \"geometry\" : {\n            \"bounds\" : {\n               \"northeast\" : {\n                  \"lat\" : 23.3326697,\n                  \"lng\" : 77.5748062\n               },\n               \"southwest\" : {\n                  \"lat\" : 23.0661497,\n                  \"lng\" : 77.2369767\n               }\n            },\n            \"location\" : {\n               \"lat\" : 23.2599333,\n               \"lng\" : 77.412615\n            },\n            \"location_type\" : \"APPROXIMATE\",\n            \"viewport\" : {\n               \"northeast\" : {\n                  \"lat\" : 23.3326697,\n                  \"lng\" : 77.5748062\n               },\n               \"southwest\" : {\n                  \"lat\" : 23.0661497,\n                  \"lng\" : 77.2369767\n               }\n            }\n         },\n         \"place_id\" : \"ChIJvY_Wj49CfDkR-NRy1RZXFQI\",\n         \"types\" : [ \"locality\", \"political\" ]\n      }\n   ],\n   \"status\" : \"OK\"\n}\n</code></pre>\n\n<p><strong>I shall iterate in below given fashion</strong>\nto \"location\" : {\n                   \"lat\" : 23.2599333,\n                   \"lng\" : 77.412615</p>\n\n<p>//recieve JSON in json object </p>\n\n<pre><code>        JSONObject json = new JSONObject(output.toString());\n        JSONArray result = json.getJSONArray(\"results\");\n        JSONObject result1 = result.getJSONObject(0);\n        JSONObject geometry = result1.getJSONObject(\"geometry\");\n        JSONObject locat = geometry.getJSONObject(\"location\");\n\n        //\"iterate onto level of location\";\n\n        double lat = locat.getDouble(\"lat\");\n        double lng = locat.getDouble(\"lng\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526288,"reputation":41,"user_id":9758022,"display_name":"Braj Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594481235,"creation_date":1594481235,"answer_id":62851081,"question_id":20899839,"body_markdown":"Try this, you can parse nested JSON\r\n   \r\n \r\n\r\n    public static String getJsonValue(String jsonReq, String key) {\r\n            JSONObject json = new JSONObject(jsonReq);\r\n            boolean exists = json.has(key);\r\n            Iterator&lt;?&gt; keys;\r\n            String nextKeys;\r\n            String val = &quot;&quot;;\r\n            if (!exists) {\r\n                keys = json.keys();\r\n                while (keys.hasNext()) {\r\n                    nextKeys = (String) keys.next();\r\n                    try {\r\n                        if (json.get(nextKeys) instanceof JSONObject) {\r\n                            return getJsonValue(json.getJSONObject(nextKeys).toString(), key);\r\n                        } else if (json.get(nextKeys) instanceof JSONArray) {\r\n                            JSONArray jsonArray = json.getJSONArray(nextKeys);\r\n                            int i = 0;\r\n                            if (i &lt; jsonArray.length()) do {\r\n                                String jsonArrayString = jsonArray.get(i).toString();\r\n                                JSONObject innerJson = new JSONObject(jsonArrayString);\r\n                                return getJsonValue(innerJson.toString(),key);\r\n                            } while (i &lt; jsonArray.length());\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            } else {\r\n                val = json.get(key).toString();\r\n            }\r\n            return val;\r\n        }","title":"Retrieving values from nested JSON Object","body":"<p>Try this, you can parse nested JSON</p>\n<pre><code>public static String getJsonValue(String jsonReq, String key) {\n        JSONObject json = new JSONObject(jsonReq);\n        boolean exists = json.has(key);\n        Iterator&lt;?&gt; keys;\n        String nextKeys;\n        String val = &quot;&quot;;\n        if (!exists) {\n            keys = json.keys();\n            while (keys.hasNext()) {\n                nextKeys = (String) keys.next();\n                try {\n                    if (json.get(nextKeys) instanceof JSONObject) {\n                        return getJsonValue(json.getJSONObject(nextKeys).toString(), key);\n                    } else if (json.get(nextKeys) instanceof JSONArray) {\n                        JSONArray jsonArray = json.getJSONArray(nextKeys);\n                        int i = 0;\n                        if (i &lt; jsonArray.length()) do {\n                            String jsonArrayString = jsonArray.get(i).toString();\n                            JSONObject innerJson = new JSONObject(jsonArrayString);\n                            return getJsonValue(innerJson.toString(),key);\n                        } while (i &lt; jsonArray.length());\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        } else {\n            val = json.get(key).toString();\n        }\n        return val;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10002862,"reputation":1222,"user_id":7398244,"display_name":"Soropromo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666611989,"creation_date":1666611989,"answer_id":74180643,"question_id":20899839,"body_markdown":"Here is an example of retrieving nested JSON object.\r\nDepartment and Product are model classes. \r\nDepartment class holds `department` as a String and `products` as ArrayList of `Product`\r\nProduct class holds `name` as a String\r\n\r\n`depts` and `products` are ArrayList of corresponding model classes\r\n\r\n            String jsonDataString = readJSONDataFromFile();\r\n            JSONArray jsonArray = new JSONArray(jsonDataString);\r\n\r\n            for (int i=0; i&lt;jsonArray.length(); ++i) {\r\n\r\n                JSONObject departmentJSONObject = jsonArray.getJSONObject(i);\r\n\r\n                String deptName = departmentJSONObject.getString(&quot;department&quot;);\r\n                JSONArray productsJSONArray =  departmentJSONObject.getJSONArray(&quot;products&quot;);\r\n\r\n                for (int j =0; j &lt;productsJSONArray.length();j++){\r\n                    JSONObject productJSONObject = productsJSONArray.getJSONObject(j);\r\n                   String prodName = productJSONObject.getString(&quot;name&quot;);\r\n\r\n                    Product product = new Product(prodName);\r\n                    products.add(product);\r\n                }\r\n                Department department = new Department(deptName, products);\r\n                depts.add(department);\r\n    \r\nHere is my raw json file\r\n\r\n     [\r\n      {\r\n        &quot;department&quot;: &quot;Cold Drink&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;lemonade&quot;,\r\n            &quot;img&quot;: &quot;some_url&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Oj&quot;,\r\n            &quot;img&quot;: &quot;some_url&quot;\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;department&quot;: &quot;CD2&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;lemonade2&quot;,\r\n            &quot;img&quot;: &quot;some_url2&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;oj2&quot;,\r\n            &quot;img&quot;: &quot;some_url2&quot;\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;department&quot;: &quot;CD3&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;lemonade3&quot;,\r\n            &quot;img&quot;: &quot;some_url3&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;oj3&quot;,\r\n            &quot;img&quot;: &quot;some_url3&quot;\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n","title":"Retrieving values from nested JSON Object","body":"<p>Here is an example of retrieving nested JSON object.\nDepartment and Product are model classes.\nDepartment class holds <code>department</code> as a String and <code>products</code> as ArrayList of <code>Product</code>\nProduct class holds <code>name</code> as a String</p>\n<p><code>depts</code> and <code>products</code> are ArrayList of corresponding model classes</p>\n<pre><code>        String jsonDataString = readJSONDataFromFile();\n        JSONArray jsonArray = new JSONArray(jsonDataString);\n\n        for (int i=0; i&lt;jsonArray.length(); ++i) {\n\n            JSONObject departmentJSONObject = jsonArray.getJSONObject(i);\n\n            String deptName = departmentJSONObject.getString(&quot;department&quot;);\n            JSONArray productsJSONArray =  departmentJSONObject.getJSONArray(&quot;products&quot;);\n\n            for (int j =0; j &lt;productsJSONArray.length();j++){\n                JSONObject productJSONObject = productsJSONArray.getJSONObject(j);\n               String prodName = productJSONObject.getString(&quot;name&quot;);\n\n                Product product = new Product(prodName);\n                products.add(product);\n            }\n            Department department = new Department(deptName, products);\n            depts.add(department);\n</code></pre>\n<p>Here is my raw json file</p>\n<pre><code> [\n  {\n    &quot;department&quot;: &quot;Cold Drink&quot;,\n    &quot;products&quot;: [\n      {\n        &quot;name&quot;: &quot;lemonade&quot;,\n        &quot;img&quot;: &quot;some_url&quot;\n      },\n      {\n        &quot;name&quot;: &quot;Oj&quot;,\n        &quot;img&quot;: &quot;some_url&quot;\n      }\n    ]\n  },\n  {\n    &quot;department&quot;: &quot;CD2&quot;,\n    &quot;products&quot;: [\n      {\n        &quot;name&quot;: &quot;lemonade2&quot;,\n        &quot;img&quot;: &quot;some_url2&quot;\n      },\n      {\n        &quot;name&quot;: &quot;oj2&quot;,\n        &quot;img&quot;: &quot;some_url2&quot;\n      }\n    ]\n  },\n  {\n    &quot;department&quot;: &quot;CD3&quot;,\n    &quot;products&quot;: [\n      {\n        &quot;name&quot;: &quot;lemonade3&quot;,\n        &quot;img&quot;: &quot;some_url3&quot;\n      },\n      {\n        &quot;name&quot;: &quot;oj3&quot;,\n        &quot;img&quot;: &quot;some_url3&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168135,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":20900063,"answer_count":7,"score":19,"last_activity_date":1666611989,"creation_date":1388739212,"question_id":20899839,"body_markdown":"I&#39;ve got JSON file, which I want to parse.\r\nThe JSON file (&quot;myfile&quot;) has format as follows:\r\n\r\n    {\r\n        &quot;LanguageLevels&quot;: {\r\n            &quot;1&quot;: &quot;Początkujący&quot;,\r\n            &quot;2&quot;: &quot;ŚrednioZaawansowany&quot;,\r\n            &quot;3&quot;: &quot;Zaawansowany&quot;,\r\n            &quot;4&quot;: &quot;Ekspert&quot;\r\n        }\r\n    }\r\n\r\nI want to retrieve value (ŚrednioZaawansowany) of Key 2 from Language Levels.\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n \r\n    public class JsonSimpleExample {\r\n    public static void main(String[] args) {\r\n \r\n\tJSONParser parser = new JSONParser();\r\n \r\n\ttry {\r\n \r\n        Object obj = parser.parse(new FileReader(&quot;myfile&quot;); \r\n        JSONObject jsonObject = (JSONObject) obj;\r\n        JSONObject jsonChildObject = (JSONObject)jsonObject.get(&quot;LanguageLevels&quot;);\r\n\r\n\r\nWhat to do next? How I can iterate over it?\r\n","title":"Retrieving values from nested JSON Object","body":"<p>I've got JSON file, which I want to parse.\nThe JSON file (\"myfile\") has format as follows:</p>\n\n<pre><code>{\n    \"LanguageLevels\": {\n        \"1\": \"Początkujący\",\n        \"2\": \"ŚrednioZaawansowany\",\n        \"3\": \"Zaawansowany\",\n        \"4\": \"Ekspert\"\n    }\n}\n</code></pre>\n\n<p>I want to retrieve value (ŚrednioZaawansowany) of Key 2 from Language Levels.</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class JsonSimpleExample {\npublic static void main(String[] args) {\n\nJSONParser parser = new JSONParser();\n\ntry {\n\n    Object obj = parser.parse(new FileReader(\"myfile\"); \n    JSONObject jsonObject = (JSONObject) obj;\n    JSONObject jsonChildObject = (JSONObject)jsonObject.get(\"LanguageLevels\");\n</code></pre>\n\n<p>What to do next? How I can iterate over it?</p>\n"},{"tags":["java","spring-boot","rest","multipartform-data","swagger-codegen"],"answers":[{"tags":[],"owner":{"account_id":19272676,"reputation":1,"user_id":14086312,"display_name":"SoSayethSimon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666611673,"creation_date":1666611673,"answer_id":74180587,"question_id":71901723,"body_markdown":"The cleanest way to achieve both of your goals would be to provide custom mustache templates in your project. You can find them in the [Swagger Codegen Generators Repository][1] -&gt; or more precisely, you can find the Spring Templates in this [folder for Version 3.0.33][2] of the generator.\r\n\r\nFor your case, the corresponding template would be [formParams.mustache][3], where i would suggest to alter the line from:\r\n\r\n    [...] defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}} @RequestParam(value=&quot;{{baseName}}&quot;{{#required}}, required=true [...]\r\n\r\nTo:\r\n\r\n    defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}}{{#useBeanValidation}} @Valid{{/useBeanValidation}} @RequestPart(value=&quot;{{baseName}}&quot;{{#required}}, required=true{{/required}}[...]\r\n\r\nTo use those custom templates just add the template directory to your plugin configuration:\r\n\r\n    &lt;configuration&gt;\r\n         [...]\r\n         &lt;templateDirectory&gt;src/main/resources/mustache/handlebars/JavaSpring&lt;/templateDirectory&gt;\r\n         [...]\r\n    &lt;/configuration&gt;\r\n\r\nFor a more extensive Guide on using mustache templates i can recommend the guide from the [openapi-generator on this topic][4].\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen-generators\r\n  [2]: https://github.com/swagger-api/swagger-codegen-generators/tree/v1.0.32/src/main/resources/handlebars/JavaSpring\r\n  [3]: https://github.com/swagger-api/swagger-codegen-generators/blob/v1.0.32/src/main/resources/handlebars/JavaSpring/formParams.mustache\r\n  [4]: https://openapi-generator.tech/docs/templating/","title":"swagger-codegen-maven-plugin generates multipart form-data request api with @RequestParam instead of @RequestPart","body":"<p>The cleanest way to achieve both of your goals would be to provide custom mustache templates in your project. You can find them in the <a href=\"https://github.com/swagger-api/swagger-codegen-generators\" rel=\"nofollow noreferrer\">Swagger Codegen Generators Repository</a> -&gt; or more precisely, you can find the Spring Templates in this <a href=\"https://github.com/swagger-api/swagger-codegen-generators/tree/v1.0.32/src/main/resources/handlebars/JavaSpring\" rel=\"nofollow noreferrer\">folder for Version 3.0.33</a> of the generator.</p>\n<p>For your case, the corresponding template would be <a href=\"https://github.com/swagger-api/swagger-codegen-generators/blob/v1.0.32/src/main/resources/handlebars/JavaSpring/formParams.mustache\" rel=\"nofollow noreferrer\">formParams.mustache</a>, where i would suggest to alter the line from:</p>\n<pre><code>[...] defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}} @RequestParam(value=&quot;{{baseName}}&quot;{{#required}}, required=true [...]\n</code></pre>\n<p>To:</p>\n<pre><code>defaultValue=&quot;{{{defaultValue}}}&quot;{{/defaultValue}})){{/useOas2}}{{#useBeanValidation}} @Valid{{/useBeanValidation}} @RequestPart(value=&quot;{{baseName}}&quot;{{#required}}, required=true{{/required}}[...]\n</code></pre>\n<p>To use those custom templates just add the template directory to your plugin configuration:</p>\n<pre><code>&lt;configuration&gt;\n     [...]\n     &lt;templateDirectory&gt;src/main/resources/mustache/handlebars/JavaSpring&lt;/templateDirectory&gt;\n     [...]\n&lt;/configuration&gt;\n</code></pre>\n<p>For a more extensive Guide on using mustache templates i can recommend the guide from the <a href=\"https://openapi-generator.tech/docs/templating/\" rel=\"nofollow noreferrer\">openapi-generator on this topic</a>.</p>\n"}],"owner":{"account_id":1184419,"reputation":497,"user_id":1158695,"accept_rate":12,"display_name":"Nandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666611673,"creation_date":1650197107,"question_id":71901723,"body_markdown":"I am using a request object [FileMetadata] for uploading files metadata information and send it as a part of the file upload multipart form-data request. But the swagger-codegen-maven-plugin generates the code with @RequestParam as the first part of the form-data request. Due to this I have to register a &#39;JSON to object&#39; converter in the WebMvcConfigurer to convert the request part to FileMetadata, Otherwise it will through the following error:\r\n\r\n    o.s.w.s.m.s.DefaultHandlerExceptionResolver:208 - Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.upload.file.generated.model.FileMetadata&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;com.upload.file.generated.model.FileMetadata&#39;: no matching editors or conversion strategy found]\r\n\r\nI have the following questions:\r\n\r\n1. Is there any option to generate both request parameters annotated with @RequestPart?\r\n2. How to generate @Valid annotation for FileMetadata request param ?\r\n\r\n\r\nConfiguration details below:\r\n\r\nOpen API spec:\r\n```\r\nopenapi: 3.0.3\r\n...\r\n...\r\npaths:\r\n  /api/v1/upload:\r\n    post:\r\n      tags:\r\n      - File upload\r\n      summary: Upload a file\r\n      operationId: uploadFile\r\n      requestBody:\r\n        description: File that needs to be uploaded\r\n        required: true\r\n        content:\r\n          multipart/form-data: # Media type \r\n            schema:\r\n              required:\r\n              - metadata\r\n              - file\r\n              type: object\r\n              properties:\r\n                metadata:\r\n                  $ref: &#39;#/components/schemas/FileMetadata&#39;\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n            encoding:\r\n              metadata: \r\n                contentType: application/json\r\n              file: \r\n                contentType: application/octet-stream\r\n      responses:\r\n        201:\r\n          description: OK\r\n        400:\r\n          description: Invalid input\r\n        401:\r\n          description: Unauthorized\r\n        403:\r\n          description: Forbidden       \r\n        404:\r\n          description: Not Found\r\n```\r\nGenerated API code:\r\n\r\n```\r\n\t    @Operation(summary = &quot;Upload a file&quot;, description = &quot;&quot;, tags={ &quot;File upload&quot; })\r\n    @ApiResponses(value = {... })\r\n    @RequestMapping(value = &quot;/api/v1/upload&quot;,\r\n        produces = { &quot;application/json&quot; }, \r\n        consumes = { &quot;multipart/form-data&quot; }, \r\n        method = RequestMethod.POST)\r\n    ResponseEntity&lt;Void&gt; uploadFile(@Parameter(in = ParameterIn.DEFAULT, description = &quot;&quot;, required=true,schema=@Schema()) @RequestParam(value=&quot;metadata&quot;, required=true)  FileMetadata metadata, @Parameter(description = &quot;file detail&quot;) @Valid @RequestPart(&quot;file&quot;) MultipartFile file);\r\n```\r\nPom.xml:\r\n\r\n```\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.33&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/openapi.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;language&gt;spring&lt;/language&gt;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;output&gt;${project.basedir}&lt;/output&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;com.file.upload.generated.model&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;com.file.upload.generated.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;generateModels&gt;true&lt;/generateModels&gt;\r\n\t\t\t\t\t\t\t&lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n\t\t\t\t\t\t\t&lt;generateApis&gt;true&lt;/generateApis&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n\t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n                            \t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n\t\t\t\t\t\t\t\t&lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n\t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java11-localdatetime&lt;/dateLibrary&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t\t&lt;importMappings&gt;\r\n\t\t\t\t\t\t\t\t&lt;importMapping&gt;Date=java.time.LocalDate&lt;/importMapping&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;/importMappings&gt;\r\n\t\t\t\t\t\t\t&lt;typeMappings&gt;\r\n\t\t\t\t\t\t\t\t&lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\r\n\t\t\t\t\t\t\t&lt;/typeMappings&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```","title":"swagger-codegen-maven-plugin generates multipart form-data request api with @RequestParam instead of @RequestPart","body":"<p>I am using a request object [FileMetadata] for uploading files metadata information and send it as a part of the file upload multipart form-data request. But the swagger-codegen-maven-plugin generates the code with @RequestParam as the first part of the form-data request. Due to this I have to register a 'JSON to object' converter in the WebMvcConfigurer to convert the request part to FileMetadata, Otherwise it will through the following error:</p>\n<pre><code>o.s.w.s.m.s.DefaultHandlerExceptionResolver:208 - Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type 'java.lang.String' to required type 'com.upload.file.generated.model.FileMetadata'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'com.upload.file.generated.model.FileMetadata': no matching editors or conversion strategy found]\n</code></pre>\n<p>I have the following questions:</p>\n<ol>\n<li>Is there any option to generate both request parameters annotated with @RequestPart?</li>\n<li>How to generate @Valid annotation for FileMetadata request param ?</li>\n</ol>\n<p>Configuration details below:</p>\n<p>Open API spec:</p>\n<pre><code>openapi: 3.0.3\n...\n...\npaths:\n  /api/v1/upload:\n    post:\n      tags:\n      - File upload\n      summary: Upload a file\n      operationId: uploadFile\n      requestBody:\n        description: File that needs to be uploaded\n        required: true\n        content:\n          multipart/form-data: # Media type \n            schema:\n              required:\n              - metadata\n              - file\n              type: object\n              properties:\n                metadata:\n                  $ref: '#/components/schemas/FileMetadata'\n                file:\n                  type: string\n                  format: binary\n            encoding:\n              metadata: \n                contentType: application/json\n              file: \n                contentType: application/octet-stream\n      responses:\n        201:\n          description: OK\n        400:\n          description: Invalid input\n        401:\n          description: Unauthorized\n        403:\n          description: Forbidden       \n        404:\n          description: Not Found\n</code></pre>\n<p>Generated API code:</p>\n<pre><code>        @Operation(summary = &quot;Upload a file&quot;, description = &quot;&quot;, tags={ &quot;File upload&quot; })\n    @ApiResponses(value = {... })\n    @RequestMapping(value = &quot;/api/v1/upload&quot;,\n        produces = { &quot;application/json&quot; }, \n        consumes = { &quot;multipart/form-data&quot; }, \n        method = RequestMethod.POST)\n    ResponseEntity&lt;Void&gt; uploadFile(@Parameter(in = ParameterIn.DEFAULT, description = &quot;&quot;, required=true,schema=@Schema()) @RequestParam(value=&quot;metadata&quot;, required=true)  FileMetadata metadata, @Parameter(description = &quot;file detail&quot;) @Valid @RequestPart(&quot;file&quot;) MultipartFile file);\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>                &lt;plugin&gt;\n                &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.33&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;language&gt;spring&lt;/language&gt;                         \n                            &lt;output&gt;${project.basedir}&lt;/output&gt;\n                            &lt;modelPackage&gt;com.file.upload.generated.model&lt;/modelPackage&gt;\n                            &lt;apiPackage&gt;com.file.upload.generated.api&lt;/apiPackage&gt;\n                            &lt;generateModels&gt;true&lt;/generateModels&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;generateApis&gt;true&lt;/generateApis&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                            &lt;configOptions&gt;\n                                &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                                &lt;dateLibrary&gt;java11-localdatetime&lt;/dateLibrary&gt;\n                            &lt;/configOptions&gt;\n                            &lt;importMappings&gt;\n                                &lt;importMapping&gt;Date=java.time.LocalDate&lt;/importMapping&gt;                             \n                            &lt;/importMappings&gt;\n                            &lt;typeMappings&gt;\n                                &lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\n                            &lt;/typeMappings&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","database","swing","networking","lan"],"comments":[{"owner":{"account_id":2334779,"reputation":2501,"user_id":4782919,"display_name":"RPresle"},"score":2,"creation_date":1442416883,"post_id":32612372,"comment_id":53076012,"body_markdown":"Welcome on SO. Please, try something and come back when you encounter programming problem. Sharing a database may not be so hard as it is accessed via an URL. Just provide a common URL","body":"Welcome on SO. Please, try something and come back when you encounter programming problem. Sharing a database may not be so hard as it is accessed via an URL. Just provide a common URL"}],"answers":[{"comments":[{"owner":{"account_id":5346297,"reputation":3,"user_id":4261760,"display_name":"khiangte"},"score":0,"creation_date":1442417039,"post_id":32612442,"comment_id":53076134,"body_markdown":"thanks for quick reply, I have one more question. how to handle if two or more applications try to change a record at the same time ?","body":"thanks for quick reply, I have one more question. how to handle if two or more applications try to change a record at the same time ?"}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442417206,"creation_date":1442416155,"answer_id":32612442,"question_id":32612372,"body_markdown":"It works exactly as if the database is local.\r\n\r\nTHe only main difference is that the url to the database is not in the form 127.0.0.1 (or localhost) but has the ip of the machine where the database is present.\r\n\r\nIf changing that you have connection problems probably a firewall is blocking your requests. Check if a firewall exists and open the port of the database.\r\n\r\nIf more applications try to access to data at the same time you need to put autocommit to false and manually commit the data only when the update is finished. Other threads reading or trying to update the same data will wait until the first thread has committed (or rollbacked) the transaction.","title":"java desktop application - sharing one database host on local server","body":"<p>It works exactly as if the database is local.</p>\n\n<p>THe only main difference is that the url to the database is not in the form 127.0.0.1 (or localhost) but has the ip of the machine where the database is present.</p>\n\n<p>If changing that you have connection problems probably a firewall is blocking your requests. Check if a firewall exists and open the port of the database.</p>\n\n<p>If more applications try to access to data at the same time you need to put autocommit to false and manually commit the data only when the update is finished. Other threads reading or trying to update the same data will wait until the first thread has committed (or rollbacked) the transaction.</p>\n"},{"tags":[],"owner":{"display_name":"user4211162"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442416927,"creation_date":1442416927,"answer_id":32612722,"question_id":32612372,"body_markdown":"This is a basic approach to this problem:\r\n\r\n-Have a client side application and server side\r\n\r\n1. Request access to the database, have the server side application either accept or reject the request.\r\n\r\n2. Once authenticated to the database, have the server side application send the information over to the client application containing the database info\r\n\r\n3. When the client application wants to perform one of the actions you described : update,delete,etc...have it send requests to the server application to complete these.","title":"java desktop application - sharing one database host on local server","body":"<p>This is a basic approach to this problem:</p>\n\n<p>-Have a client side application and server side</p>\n\n<ol>\n<li><p>Request access to the database, have the server side application either accept or reject the request.</p></li>\n<li><p>Once authenticated to the database, have the server side application send the information over to the client application containing the database info</p></li>\n<li><p>When the client application wants to perform one of the actions you described : update,delete,etc...have it send requests to the server application to complete these.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506330213,"creation_date":1506330213,"answer_id":46401369,"question_id":32612372,"body_markdown":"I came across this while reading some questions. I also created a desktop application which is being accessed by other computers on the same network which includes laptops and desktop PCs in the past. \r\n\r\n**Step 1:** \r\nChoose which of the PCs will be the server. In other words, which among the PCs will be your server. Your chosen PC-server will have a server application(e.g. XAMPP) installed. This PC is where you will import your existing database (.sql file). Other PCs don&#39;t have to have XAMPP(or other server applications) installed on them. Other PCs only need to have a copy of the desktop application that you created. No need to set other PCs with server application and sql.\r\n\r\nThis PC-server that you have chosen will have a connection string with `localhost` since I assume that all of them are not accessing the internet to use the database. \r\n\r\nExample: `jdbc:mysql://localhost:3306/yourdatabasename`\r\n\r\n**Step 2:**\r\nGrant privileges to the database that was setup on your chosen PC-server\r\nThe simplest example is the one below.\r\n\r\n    grant all privileges on db_name.* to &#39;username&#39;@&#39;localhost&#39; identified by &#39;password&#39;;\r\n\r\nDon&#39;t forget to replace with your connections&#39; `username` and `password`\r\n\r\nBut you may also select certain privileges based on your preference.\r\n\r\n**Step 3:**\r\n\r\nSet other PCs&#39; **connection string** that has copy of the desktop application you created.\r\n\r\nIf PC-server has an IP Address of let&#39;s say `192.168.2.3` then, the connection string of other PCs will be\r\n\r\n`jdbc:mysql://192.168.2.3:3306/yourdatabasename`\r\n \r\nOther PCs will connect using the PC-Server&#39;s IP address since our database and server application was setup on PC-Server. \r\n\r\nI hope this helps and others who might see this question.\r\n\r\nPeace.","title":"java desktop application - sharing one database host on local server","body":"<p>I came across this while reading some questions. I also created a desktop application which is being accessed by other computers on the same network which includes laptops and desktop PCs in the past. </p>\n\n<p><strong>Step 1:</strong> \nChoose which of the PCs will be the server. In other words, which among the PCs will be your server. Your chosen PC-server will have a server application(e.g. XAMPP) installed. This PC is where you will import your existing database (.sql file). Other PCs don't have to have XAMPP(or other server applications) installed on them. Other PCs only need to have a copy of the desktop application that you created. No need to set other PCs with server application and sql.</p>\n\n<p>This PC-server that you have chosen will have a connection string with <code>localhost</code> since I assume that all of them are not accessing the internet to use the database. </p>\n\n<p>Example: <code>jdbc:mysql://localhost:3306/yourdatabasename</code></p>\n\n<p><strong>Step 2:</strong>\nGrant privileges to the database that was setup on your chosen PC-server\nThe simplest example is the one below.</p>\n\n<pre><code>grant all privileges on db_name.* to 'username'@'localhost' identified by 'password';\n</code></pre>\n\n<p>Don't forget to replace with your connections' <code>username</code> and <code>password</code></p>\n\n<p>But you may also select certain privileges based on your preference.</p>\n\n<p><strong>Step 3:</strong></p>\n\n<p>Set other PCs' <strong>connection string</strong> that has copy of the desktop application you created.</p>\n\n<p>If PC-server has an IP Address of let's say <code>192.168.2.3</code> then, the connection string of other PCs will be</p>\n\n<p><code>jdbc:mysql://192.168.2.3:3306/yourdatabasename</code></p>\n\n<p>Other PCs will connect using the PC-Server's IP address since our database and server application was setup on PC-Server. </p>\n\n<p>I hope this helps and others who might see this question.</p>\n\n<p>Peace.</p>\n"}],"owner":{"account_id":5346297,"reputation":3,"user_id":4261760,"display_name":"khiangte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46401369,"answer_count":3,"score":0,"last_activity_date":1666611367,"creation_date":1442415999,"question_id":32612372,"body_markdown":"\r\nI am working on java desktop application (swing) which needs to be install/run in three different computers on same Local Network ( LAN ). But this application need to share one database and each application should be able to insert, update, delete records in the same database.\r\n\r\nHow do i achieved that in java, any suggestion/help would be appreciated ?\r\n\r\nThanks in advance ","title":"java desktop application - sharing one database host on local server","body":"<p>I am working on java desktop application (swing) which needs to be install/run in three different computers on same Local Network ( LAN ). But this application need to share one database and each application should be able to insert, update, delete records in the same database.</p>\n\n<p>How do i achieved that in java, any suggestion/help would be appreciated ?</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["java","cassandra","versioning","cassandra-3.0"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666611012,"creation_date":1666611012,"answer_id":74180462,"question_id":74099575,"body_markdown":"The CQL grammar mostly supports the equality operator, with very limited support for range queries for certain data types.\r\n\r\nIt might be possible to model your data to support your queries. For example, break up `min_version` into 3 columns:\r\n\r\n - `major_version`\r\n - `minor_version`\r\n - `patch_version`\r\n\r\nso you can perform range queries with a predicate like:\r\n\r\n```\r\n... WHERE major_version = ? AND minor_version &lt; ?\r\n```\r\n\r\nHowever, complex queries like your use case would be better served by indexing your data with software like Elasticsearch or Apache Lucene/Solr so you can perform complex searches against the data in Cassandra. Cheers!","title":"Comparing version numbers in cassandra","body":"<p>The CQL grammar mostly supports the equality operator, with very limited support for range queries for certain data types.</p>\n<p>It might be possible to model your data to support your queries. For example, break up <code>min_version</code> into 3 columns:</p>\n<ul>\n<li><code>major_version</code></li>\n<li><code>minor_version</code></li>\n<li><code>patch_version</code></li>\n</ul>\n<p>so you can perform range queries with a predicate like:</p>\n<pre><code>... WHERE major_version = ? AND minor_version &lt; ?\n</code></pre>\n<p>However, complex queries like your use case would be better served by indexing your data with software like Elasticsearch or Apache Lucene/Solr so you can perform complex searches against the data in Cassandra. Cheers!</p>\n"}],"owner":{"account_id":25109106,"reputation":11,"user_id":18958971,"display_name":"Dodel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666611012,"creation_date":1666020271,"question_id":74099575,"body_markdown":"I have a C* table with different config values that are relevant only for certain versions of the application - versions between [min_version, max_version). \r\n\r\n```\r\nconfig_name     | min_version | max_version \r\ndefaultConfig1  | 1.0.0       | 1.2.3 \r\ndefaultConfig2  | 10.0.1      | 11.1.2 \r\ndefaultConfig3  | 4.1.2       | 5.0.0\r\ndefaultConfig4  | 5.3.4       | 6.1.2\r\n```\r\n\r\nVersion 1.1.1 would fall into the [1.0.0, 1.2.3) interval, therefore we should return defaultConfig1. \r\n\r\nDoes Cassandra support writing a query that picks an entry from a table that has a version parameter in a certain interval [min_version, max_version)? (we should compare version numbers, not strings)\r\n\r\nI know this can be achieved in Java by converting version numbers to version objects and comparing the version objects. I&#39;m wondering if the same thing can be directly achieved in Cassandra?  ","title":"Comparing version numbers in cassandra","body":"<p>I have a C* table with different config values that are relevant only for certain versions of the application - versions between [min_version, max_version).</p>\n<pre><code>config_name     | min_version | max_version \ndefaultConfig1  | 1.0.0       | 1.2.3 \ndefaultConfig2  | 10.0.1      | 11.1.2 \ndefaultConfig3  | 4.1.2       | 5.0.0\ndefaultConfig4  | 5.3.4       | 6.1.2\n</code></pre>\n<p>Version 1.1.1 would fall into the [1.0.0, 1.2.3) interval, therefore we should return defaultConfig1.</p>\n<p>Does Cassandra support writing a query that picks an entry from a table that has a version parameter in a certain interval [min_version, max_version)? (we should compare version numbers, not strings)</p>\n<p>I know this can be achieved in Java by converting version numbers to version objects and comparing the version objects. I'm wondering if the same thing can be directly achieved in Cassandra?</p>\n"},{"tags":["java","spring-boot","azure","pdf"],"comments":[{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666277791,"post_id":74141990,"comment_id":130903294,"body_markdown":"Why not change the content type property of the blob itself to actual content type?","body":"Why not change the content type property of the blob itself to actual content type?"},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666347027,"post_id":74141990,"comment_id":130920670,"body_markdown":"@GauravMantri do you know if there is a possibility to change the content-type of the files on the Azure platform for a whole container? i got over 4000 pdfs, i cant update them one by one.","body":"@GauravMantri do you know if there is a possibility to change the content-type of the files on the Azure platform for a whole container? i got over 4000 pdfs, i cant update them one by one."},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666349873,"post_id":74141990,"comment_id":130921585,"body_markdown":"It should be possible via Azure PowerShell Cmdlets (you may have to write some extra code for that) or you can use SDK to do it yourself. The idea is to list the blobs and then set properties of each blob appropriately.","body":"It should be possible via Azure PowerShell Cmdlets (you may have to write some extra code for that) or you can use SDK to do it yourself. The idea is to list the blobs and then set properties of each blob appropriately."},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666353825,"post_id":74141990,"comment_id":130922851,"body_markdown":"thanks for your answer, i will do it using the Java SDK, i already listed all blobs, and also set the properties, but after that i do have to upload the file again right? If yes, how would i create an InputStream from a blobItem ?","body":"thanks for your answer, i will do it using the Java SDK, i already listed all blobs, and also set the properties, but after that i do have to upload the file again right? If yes, how would i create an InputStream from a blobItem ?"},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666518875,"post_id":74141990,"comment_id":130952085,"body_markdown":"@GauravMantri any chance that you could help me with that problem? Can i set the content-type of the BlobItems without downloading/uploading all the files? I tried to just set the Properties with `setProperties()` but that didnt seem to update the file on Azure.","body":"@GauravMantri any chance that you could help me with that problem? Can i set the content-type of the BlobItems without downloading/uploading all the files? I tried to just set the Properties with <code>setProperties()</code> but that didnt seem to update the file on Azure."},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666519807,"post_id":74141990,"comment_id":130952263,"body_markdown":"Please edit your question and include the code you’ve written. To set the properties, you don’t need to download and upload the blob.","body":"Please edit your question and include the code you’ve written. To set the properties, you don’t need to download and upload the blob."},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666595007,"post_id":74141990,"comment_id":130965458,"body_markdown":"@GauravMantri i edited the question with more infos.","body":"@GauravMantri i edited the question with more infos."},{"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1666596781,"post_id":74141990,"comment_id":130965901,"body_markdown":"Your code looks good to me. I’m wondering if your code is even going in the if block. Can you please check that?","body":"Your code looks good to me. I’m wondering if your code is even going in the if block. Can you please check that?"},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666602473,"post_id":74141990,"comment_id":130967754,"body_markdown":"yes it is going in the if block and even sets the content-type correctly, it just seems not to update in the azure container itself.","body":"yes it is going in the if block and even sets the content-type correctly, it just seems not to update in the azure container itself."},{"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"score":0,"creation_date":1666608238,"post_id":74141990,"comment_id":130969549,"body_markdown":"@GauravMantri my guess is, that i only change the properties on the local object, but the information does not get passed back to the azure container?","body":"@GauravMantri my guess is, that i only change the properties on the local object, but the information does not get passed back to the azure container?"}],"answers":[{"tags":[],"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666610817,"creation_date":1666610817,"answer_id":74180417,"question_id":74141990,"body_markdown":"The best answer to that problem is to just update the files inside the Azure Container to have a content-type of `application/pdf`. \r\n\r\nIn Java i managed to do this like this:\r\n\r\n    for (BlobItem blobItem : container.listBlobs()) {\r\n            if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\r\n                BlobClient blobClient = container.getBlobClient(blobItem.getName());\r\n                BlobHttpHeaders headers = new BlobHttpHeaders();\r\n                headers.setContentType(&quot;application/pdf&quot;);\r\n                blobClient.setHttpHeaders(headers);\r\n                LOGGER.info(&quot;Updated content-type to application pdf for logo: {}&quot;, blobItem.getName());\r\n            }\r\n        }","title":"display file from url with content type octet-stream inside of a html page","body":"<p>The best answer to that problem is to just update the files inside the Azure Container to have a content-type of <code>application/pdf</code>.</p>\n<p>In Java i managed to do this like this:</p>\n<pre><code>for (BlobItem blobItem : container.listBlobs()) {\n        if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\n            BlobClient blobClient = container.getBlobClient(blobItem.getName());\n            BlobHttpHeaders headers = new BlobHttpHeaders();\n            headers.setContentType(&quot;application/pdf&quot;);\n            blobClient.setHttpHeaders(headers);\n            LOGGER.info(&quot;Updated content-type to application pdf for logo: {}&quot;, blobItem.getName());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4247800,"reputation":956,"user_id":3475915,"accept_rate":79,"display_name":"Bioaim"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74180417,"answer_count":1,"score":1,"last_activity_date":1666610817,"creation_date":1666277675,"question_id":74141990,"body_markdown":"we get PDFs from Azure which have a Content-Type of `application/octet-stream`. I want to embed this PDF inside of a `&lt;iframe&gt;` or `&lt;object&gt;` (or anything else thats capable of doing it) HTML page. \r\n\r\nI tried to convert the PDF to a Base64 String, but has too bad performance, because it could be that we got 50+ PDFs on the same page. The PDFs itself are logos, don&#39;t ask me why they are PDFs. \r\n\r\nIs there any other way i can try? Is it in any way possible to display in an image tag?\r\n\r\nWe are using Java in our backend, so i could change some settings of the file before delivering it to the frontend. \r\n\r\n**EDIT**\r\n\r\nas suggested, i tried to set the content-type of the files inside the Azure Container to `application/pdf` like the following:\r\n\r\n    for (BlobItem blobItem : container.listBlobs()) {\r\n        if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\r\n            BlobItemProperties props = blobItem.getProperties();\r\n            props.setContentType(&quot;application/pdf&quot;);\r\n            blobItem.setProperties(props);\r\n        }\r\n    }\r\nHowever, the content-type inside of the Azure Container is not being changed. What do i miss?","title":"display file from url with content type octet-stream inside of a html page","body":"<p>we get PDFs from Azure which have a Content-Type of <code>application/octet-stream</code>. I want to embed this PDF inside of a <code>&lt;iframe&gt;</code> or <code>&lt;object&gt;</code> (or anything else thats capable of doing it) HTML page.</p>\n<p>I tried to convert the PDF to a Base64 String, but has too bad performance, because it could be that we got 50+ PDFs on the same page. The PDFs itself are logos, don't ask me why they are PDFs.</p>\n<p>Is there any other way i can try? Is it in any way possible to display in an image tag?</p>\n<p>We are using Java in our backend, so i could change some settings of the file before delivering it to the frontend.</p>\n<p><strong>EDIT</strong></p>\n<p>as suggested, i tried to set the content-type of the files inside the Azure Container to <code>application/pdf</code> like the following:</p>\n<pre><code>for (BlobItem blobItem : container.listBlobs()) {\n    if (blobItem.getName().split(&quot;\\\\.&quot;)[1].equals(&quot;pdf&quot;)) {\n        BlobItemProperties props = blobItem.getProperties();\n        props.setContentType(&quot;application/pdf&quot;);\n        blobItem.setProperties(props);\n    }\n}\n</code></pre>\n<p>However, the content-type inside of the Azure Container is not being changed. What do i miss?</p>\n"},{"tags":["java","generics","casting","abstract-class"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1666610275,"post_id":74180167,"comment_id":130970247,"body_markdown":"Why do you need the `T extends Validator` in the first place? The `validatorClass` field could just have the type `Class&lt;?&gt;`. The generics makes no sense here IMO","body":"Why do you need the <code>T extends Validator</code> in the first place? The <code>validatorClass</code> field could just have the type <code>Class&lt;?&gt;</code>. The generics makes no sense here IMO"},{"owner":{"account_id":6543661,"reputation":438,"user_id":5060310,"accept_rate":82,"display_name":"learningUser"},"score":0,"creation_date":1666610345,"post_id":74180167,"comment_id":130970277,"body_markdown":"I have some logic inside the method, which I did not include","body":"I have some logic inside the method, which I did not include"}],"owner":{"account_id":6543661,"reputation":438,"user_id":5060310,"accept_rate":82,"display_name":"learningUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666610378,"creation_date":1666609417,"question_id":74180167,"body_markdown":"I have a abstract class which looks like this\r\n\r\n    public abstract class VehicleValidator&lt; E extends Vehicle, C extends Config&gt;  implements Validator&lt; E , C  &gt; {\r\n   \r\n    @Override\r\n    public List&lt;ValidationError&lt;? extends Vehicle&lt;E, C&gt;&gt;&gt; validateBidElement(E vehicle, C configuration) {\r\n        final List&lt;ValidationError&lt;? extends vehicle&lt;E, C&gt;&gt;&gt; errors = new ArrayList&lt;&gt;();\r\n       //some logic to create the error\r\n            errors.add(new ValidationError&lt;&gt;(&quot;VehicleValidator.InvalidPattern&quot;, VehicleValidator.class, ValidationError.Severity.ERROR));\r\n       return errors;\r\n    }\r\nThe ValidationError class looks like below\r\n           \r\n    public class ValidationError&lt;T extends Validator&gt; {\r\n\r\n    public enum Severity {\r\n        WARNING,\r\n        ERROR\r\n    }\r\n\r\n    String errorId;\r\n    Class&lt;T&gt; validatorClass;\r\n    Severity severity;}\r\n\r\nThe above give me an error \r\n\r\n     Required type:\r\n    ValidationError\r\n    &lt;? extends VehicleValidator&lt;E, C&gt;&gt;\r\n    Provided:\r\n    ValidationError\r\n    &lt;VehicleValidator&gt;\r\n\r\nWhat I understand is for creating the ValidationError&lt;T extends Validator&gt;, the second param  Class&lt;T&gt; validatorClass, which means any class that extends Validator. My abstract class VehicleValidator implements Validator&lt; E , C  &gt;. So why am I asked to cast the parameter.","title":"Java Generics incompatable types when cast to the generic type","body":"<p>I have a abstract class which looks like this</p>\n<pre><code>public abstract class VehicleValidator&lt; E extends Vehicle, C extends Config&gt;  implements Validator&lt; E , C  &gt; {\n\n@Override\npublic List&lt;ValidationError&lt;? extends Vehicle&lt;E, C&gt;&gt;&gt; validateBidElement(E vehicle, C configuration) {\n    final List&lt;ValidationError&lt;? extends vehicle&lt;E, C&gt;&gt;&gt; errors = new ArrayList&lt;&gt;();\n   //some logic to create the error\n        errors.add(new ValidationError&lt;&gt;(&quot;VehicleValidator.InvalidPattern&quot;, VehicleValidator.class, ValidationError.Severity.ERROR));\n   return errors;\n}\n</code></pre>\n<p>The ValidationError class looks like below</p>\n<pre><code>public class ValidationError&lt;T extends Validator&gt; {\n\npublic enum Severity {\n    WARNING,\n    ERROR\n}\n\nString errorId;\nClass&lt;T&gt; validatorClass;\nSeverity severity;}\n</code></pre>\n<p>The above give me an error</p>\n<pre><code> Required type:\nValidationError\n&lt;? extends VehicleValidator&lt;E, C&gt;&gt;\nProvided:\nValidationError\n&lt;VehicleValidator&gt;\n</code></pre>\n<p>What I understand is for creating the ValidationError, the second param  Class validatorClass, which means any class that extends Validator. My abstract class VehicleValidator implements Validator&lt; E , C  &gt;. So why am I asked to cast the parameter.</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666609694,"post_id":74180089,"comment_id":130970055,"body_markdown":"and ... do you have an actual question?","body":"and ... do you have an actual question?"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666610284,"post_id":74180089,"comment_id":130970252,"body_markdown":"see my edits for the actual problem statement","body":"see my edits for the actual problem statement"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666610432,"post_id":74180089,"comment_id":130970318,"body_markdown":"the steps you need to take is: make sure that class is managed by Spring, otherwise the autowiring will not work. An alternative to autowiring is creating factories for your classesz","body":"the steps you need to take is: make sure that class is managed by Spring, otherwise the autowiring will not work. An alternative to autowiring is creating factories for your classesz"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666610853,"post_id":74180089,"comment_id":130970442,"body_markdown":"Could you please demonstrate the solution, it would be really helpful","body":"Could you please demonstrate the solution, it would be really helpful"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666615703,"post_id":74180089,"comment_id":130972102,"body_markdown":"To use `@Configurable` you will need to use loadtime or compile time weaving with AspectJ, else it won&#39;t work. If you haven&#39;t set that up (properly) then it won&#39;t work.","body":"To use <code>@Configurable</code> you will need to use loadtime or compile time weaving with AspectJ, else it won&#39;t work. If you haven&#39;t set that up (properly) then it won&#39;t work."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1666616034,"post_id":74180089,"comment_id":130972226,"body_markdown":"I have tried the setup, but the problem is Aspet J is not properly working with Lombok I am using 1.14.0 verison for AspectJ, also I have refer lot of post but that didn&#39;t help me to make Configurable work","body":"I have tried the setup, but the problem is Aspet J is not properly working with Lombok I am using 1.14.0 verison for AspectJ, also I have refer lot of post but that didn&#39;t help me to make Configurable work"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666610273,"creation_date":1666609088,"question_id":74180089,"body_markdown":"the below bean of Class I want to inject in other non-managed bean, but it is not working as expected\r\n\r\n    @Component\r\n    @Setter\r\n    @Getter\r\n    public class AbstractLayoutProperties {\r\n    \t@Value(&quot;${spring.application.name}&quot;)\r\n    \tprivate String appName;\r\n    \r\n    \t@Autowired\r\n    \tS3Service s3Service;\r\n    \r\n    \t@Autowired\r\n    \tS3Client s3Client;\r\n    \r\n    }\r\n\r\n\r\nBelow is the class which is not managed by the spring, but I am using `@Configurable` \r\n\r\n            @Configurable(preConstruction = true, autowire = Autowire.BY_NAME)\r\n            @EnableSpringConfigured\r\n            public class OverlayServiceImpl\r\n            \t\timplements GenericVehicleOverlayService&lt;T, R&gt; {\r\n    public findOnlyActive(){\r\n    appName = layoutProperties.getAppName(); // throwint NullPointerException beacuse the object not injected properly\r\n    }\r\n        @Autowired\r\n        \tAbstractLayoutProperties layoutProperties;\r\n        }\r\n\r\nOne more point, `findOnlyActive` method I am not calling directly, I am calling this from another service, lets say\r\n\r\n    @Service\r\n    public class OtherService{\r\n    \r\n    public void findActive(){\r\n    OverlayServiceImpl impl=new OverlayServiceImpl();\r\n     impl.findOnlyActive();\r\n    }\r\n    @Autowired\r\n    OtherRepository otherRepo;\r\n    }\r\n\r\n\r\n**Problem statrement:**\r\n\r\nwhen `impl.findOnlyActive();` is executed, it should inject all the required beans inside `OverlayServiceImpl`. In the same class I have two beans which are autowired, it seems none of them injected, this is the reaosn that every time I am encountering Nullpointer exception. so my question is how do I make it work, what are the steps and action I need to take so that spring will inject the dependencies in non managed object i,e `OverlayServiceImpl`.","title":"Injecting spring beans in non managed objects","body":"<p>the below bean of Class I want to inject in other non-managed bean, but it is not working as expected</p>\n<pre><code>@Component\n@Setter\n@Getter\npublic class AbstractLayoutProperties {\n    @Value(&quot;${spring.application.name}&quot;)\n    private String appName;\n\n    @Autowired\n    S3Service s3Service;\n\n    @Autowired\n    S3Client s3Client;\n\n}\n</code></pre>\n<p>Below is the class which is not managed by the spring, but I am using <code>@Configurable</code></p>\n<pre><code>        @Configurable(preConstruction = true, autowire = Autowire.BY_NAME)\n        @EnableSpringConfigured\n        public class OverlayServiceImpl\n                implements GenericVehicleOverlayService&lt;T, R&gt; {\npublic findOnlyActive(){\nappName = layoutProperties.getAppName(); // throwint NullPointerException beacuse the object not injected properly\n}\n    @Autowired\n        AbstractLayoutProperties layoutProperties;\n    }\n</code></pre>\n<p>One more point, <code>findOnlyActive</code> method I am not calling directly, I am calling this from another service, lets say</p>\n<pre><code>@Service\npublic class OtherService{\n\npublic void findActive(){\nOverlayServiceImpl impl=new OverlayServiceImpl();\n impl.findOnlyActive();\n}\n@Autowired\nOtherRepository otherRepo;\n}\n</code></pre>\n<p><strong>Problem statrement:</strong></p>\n<p>when <code>impl.findOnlyActive();</code> is executed, it should inject all the required beans inside <code>OverlayServiceImpl</code>. In the same class I have two beans which are autowired, it seems none of them injected, this is the reaosn that every time I am encountering Nullpointer exception. so my question is how do I make it work, what are the steps and action I need to take so that spring will inject the dependencies in non managed object i,e <code>OverlayServiceImpl</code>.</p>\n"},{"tags":["java","sql","database","spring-boot","ddl"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666597127,"post_id":74177852,"comment_id":130965988,"body_markdown":"Never rely on creating the database through your entities. Always control the schema yourself, either by the `schema.sql` or by using something like Flyway to manage your schema. Don&#39;t rely on the ORM to do the proper thing for schema generation (anything besides a local test/poc).","body":"Never rely on creating the database through your entities. Always control the schema yourself, either by the <code>schema.sql</code> or by using something like Flyway to manage your schema. Don&#39;t rely on the ORM to do the proper thing for schema generation (anything besides a local test/poc)."},{"owner":{"account_id":26714947,"reputation":11,"user_id":20319671,"display_name":"Astromeda"},"score":2,"creation_date":1666597471,"post_id":74177852,"comment_id":130966084,"body_markdown":"Thanks for advice, can you clarify why I should never rely on creation by entities?","body":"Thanks for advice, can you clarify why I should never rely on creation by entities?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666610231,"creation_date":1666610231,"answer_id":74180308,"question_id":74177852,"body_markdown":"Let&#39;s leave for the moment the `schema.sql` out.\r\n\r\nORM automatic schema creation (create or update or create-drop) is normally useful during the development of application. Even during release candidates and QA reviews it is still useful because the changes which happen from development team with issues arising could be live much faster.\r\n\r\nWhen the application reaches a critical phase and is mature in production, then any changes happening automatically from ORM could be considered dangerous.\r\n\r\nAt this stage you would normally in big companies rollout in production database only some `sql` scripts that affect the database, which should be reviewed first and tested before rollout happens. Also a rollback `sql` might be necessary. \r\n\r\nSo normally ORM having effect in database schema is only during early stages of an application and not when it has matured enough in production.\r\n\r\nLet&#39;s now come back to `schema.sql`. This file can be used just once to create the database from some `sql` commands. This also would not be expected to be run anytime the application executes. At least not in majority of applications.\r\n\r\nI think a logical approach would be to use the ORM during intial stages of development and QA and then when you are about to reach a mature phase, you inspect what type of database the ORM has created and then you make a manual review just to be sure of everything and any optimizations which would make sense and at this stage you can create with the already existing schema of ORM your own permanent `schema.sql`.\r\n\r\nThe obvious reason for the above is that with `schema.sql` you have 100% control of how the database is created. Using ORM you depend on the ORM provider to build this for you. This ORM provider might provide some new library that affects how the previous was used and many other things. The result is that with ORM you  don&#39;t have 100% control on the database to be created.\r\n ","title":"When to use schema.sql in spring boot app","body":"<p>Let's leave for the moment the <code>schema.sql</code> out.</p>\n<p>ORM automatic schema creation (create or update or create-drop) is normally useful during the development of application. Even during release candidates and QA reviews it is still useful because the changes which happen from development team with issues arising could be live much faster.</p>\n<p>When the application reaches a critical phase and is mature in production, then any changes happening automatically from ORM could be considered dangerous.</p>\n<p>At this stage you would normally in big companies rollout in production database only some <code>sql</code> scripts that affect the database, which should be reviewed first and tested before rollout happens. Also a rollback <code>sql</code> might be necessary.</p>\n<p>So normally ORM having effect in database schema is only during early stages of an application and not when it has matured enough in production.</p>\n<p>Let's now come back to <code>schema.sql</code>. This file can be used just once to create the database from some <code>sql</code> commands. This also would not be expected to be run anytime the application executes. At least not in majority of applications.</p>\n<p>I think a logical approach would be to use the ORM during intial stages of development and QA and then when you are about to reach a mature phase, you inspect what type of database the ORM has created and then you make a manual review just to be sure of everything and any optimizations which would make sense and at this stage you can create with the already existing schema of ORM your own permanent <code>schema.sql</code>.</p>\n<p>The obvious reason for the above is that with <code>schema.sql</code> you have 100% control of how the database is created. Using ORM you depend on the ORM provider to build this for you. This ORM provider might provide some new library that affects how the previous was used and many other things. The result is that with ORM you  don't have 100% control on the database to be created.</p>\n"}],"owner":{"account_id":26714947,"reputation":11,"user_id":20319671,"display_name":"Astromeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666610231,"creation_date":1666596890,"question_id":74177852,"body_markdown":"I am trying to understand when to use **schema.sql** db creation technique and when to rely on Spring boot&#39;s creation based on my entity classes. How to decide? ","title":"When to use schema.sql in spring boot app","body":"<p>I am trying to understand when to use <strong>schema.sql</strong> db creation technique and when to rely on Spring boot's creation based on my entity classes. How to decide?</p>\n"},{"tags":["java","selenium","tekton"],"comments":[{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1666628938,"post_id":74180250,"comment_id":130977226,"body_markdown":"The error is about searching by CSS while in the code you have search by id. I suspect there are fields annotated with &quot;@FindBy&quot; with CSS selectors. Please check how do you look for &quot;saksbehandlerInfo&quot; variable and/or other elements","body":"The error is about searching by CSS while in the code you have search by id. I suspect there are fields annotated with &quot;@FindBy&quot; with CSS selectors. Please check how do you look for &quot;saksbehandlerInfo&quot; variable and/or other elements"},{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1666640479,"post_id":74180250,"comment_id":130980873,"body_markdown":"Hm. Not sure what you mean? All the elements here are found by ID, as the posted code shows. driver.findElement(By.id(&quot;navn&quot;), (&quot;uid&quot;) and &quot;kommunenummer&quot;.","body":"Hm. Not sure what you mean? All the elements here are found by ID, as the posted code shows. driver.findElement(By.id(&quot;navn&quot;), (&quot;uid&quot;) and &quot;kommunenummer&quot;."}],"owner":{"display_name":"user9347168"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666609944,"creation_date":1666609944,"question_id":74180250,"body_markdown":"My test suite experiences random trouble when running in a Tekton environment. Locally, there are no problems. The most annoying problem is when it claims to not find a selector, and the Cucumber run screenshot shows that the selector is indeed present at the time.\r\n\r\nI&#39;ve tried \r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;navn&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getSaksbehandlerNavn());\r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;uid&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getUid());\r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;kommunenummer&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getKommuneNr());\r\n\r\nBut the recurring error is:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#navn&quot;}\r\n\r\nSince the error is that Selenium is unable to locate the element, I wouldn&#39;t think there&#39;s a point in trying to check for .clickable() or any other state?\r\n\r\nWhat&#39;s also a bit strange, is that it&#39;s allways the same element that it cannot find. There are 4 text fields on a login page, and it&#39;s allways the second that isn&#39;t found.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Ow4C.png\r\n\r\nThe markup:\r\n\r\n    &lt;label for=&quot;uid&quot;&gt;Saksbehandlerid&lt;/label&gt;\r\n    &lt;div&gt;&lt;input id=&quot;uid&quot; name=&quot;uid&quot; value=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;label for=&quot;navn&quot;&gt;Saksbehandlernavn&lt;/label&gt;\r\n    &lt;div&gt;&lt;input id=&quot;navn&quot; name=&quot;saksbehandlernavn&quot; value=&quot;&quot;&gt;&lt;/div&gt;\r\n    &lt;label for=&quot;kommunenummer&quot;&gt;Kommunenummer&lt;/label&gt;\r\n    &lt;div&gt;&lt;input id=&quot;kommunenummer&quot; list=&quot;kommunenummer-choices&quot; name=&quot;kommunenummer&quot; value=&quot;&quot;&gt;\r\n      &lt;datalist id=&quot;kommunenummer-choices&quot;&gt;\r\n        &lt;option value=&quot;0301&quot;&gt;BLabla&lt;/option&gt;\r\n      &lt;/datalist&gt;\r\n    &lt;/div&gt;\r\n    &lt;label for=&quot;bydelsnummer&quot;&gt;Bydelsnummer&lt;/label&gt;\r\n    &lt;div&gt;\r\n      &lt;input id=&quot;bydelsnummer&quot; list=&quot;bydelsnummer-choices&quot; name=&quot;bydelsnummer&quot; value=&quot;&quot;&gt;\r\n        &lt;datalist id=&quot;bydelsnummer-choices&quot;&gt;\r\n          &lt;option value=&quot;1&quot;&gt;Blabla&lt;/option&gt;\r\n        &lt;/datalist&gt;\r\n    &lt;/div&gt;\r\n    &lt;label for=&quot;roller&quot;&gt;Roller&lt;/label&gt;\r\n      &lt;div&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;_roller&quot; value=&quot;1&quot;&gt;\r\n          &lt;select id=&quot;roller&quot; multiple=&quot;&quot; name=&quot;roller&quot;&gt;\r\n            &lt;option value=&quot;blabla&gt;blabla&lt;/option&gt;\r\n         &lt;/select&gt;\r\n      &lt;/div&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Log in&quot;&gt;\r\n\r\nThe element failing is the second: &lt;input id=&quot;navn&quot;.\r\n\r\nAny ideas? If it wasn&#39;t for the fact that the run creates a screenshot when a test fails, which shows that the element is indeed present, I&#39;d chalk it down to Tekton problems. But with a 15 second timout, and the element visibly present, I really cannot grasp why Selenium has problems?","title":"Java and Selenium: Randomly unable to find selectors that are visible","body":"<p>My test suite experiences random trouble when running in a Tekton environment. Locally, there are no problems. The most annoying problem is when it claims to not find a selector, and the Cucumber run screenshot shows that the selector is indeed present at the time.</p>\n<p>I've tried</p>\n<pre><code>Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;navn&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getSaksbehandlerNavn());\n\nBrowser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;uid&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getUid());\n\nBrowser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;kommunenummer&quot;)))).sendKeys(selectAll + saksbehandlerInfo.getKommuneNr());\n</code></pre>\n<p>But the recurring error is:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#navn&quot;}\n</code></pre>\n<p>Since the error is that Selenium is unable to locate the element, I wouldn't think there's a point in trying to check for .clickable() or any other state?</p>\n<p>What's also a bit strange, is that it's allways the same element that it cannot find. There are 4 text fields on a login page, and it's allways the second that isn't found.</p>\n<p><a href=\"https://i.stack.imgur.com/4Ow4C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ow4C.png\" alt=\"enter image description here\" /></a></p>\n<p>The markup:</p>\n<pre><code>&lt;label for=&quot;uid&quot;&gt;Saksbehandlerid&lt;/label&gt;\n&lt;div&gt;&lt;input id=&quot;uid&quot; name=&quot;uid&quot; value=&quot;&quot;&gt;&lt;/div&gt;\n&lt;label for=&quot;navn&quot;&gt;Saksbehandlernavn&lt;/label&gt;\n&lt;div&gt;&lt;input id=&quot;navn&quot; name=&quot;saksbehandlernavn&quot; value=&quot;&quot;&gt;&lt;/div&gt;\n&lt;label for=&quot;kommunenummer&quot;&gt;Kommunenummer&lt;/label&gt;\n&lt;div&gt;&lt;input id=&quot;kommunenummer&quot; list=&quot;kommunenummer-choices&quot; name=&quot;kommunenummer&quot; value=&quot;&quot;&gt;\n  &lt;datalist id=&quot;kommunenummer-choices&quot;&gt;\n    &lt;option value=&quot;0301&quot;&gt;BLabla&lt;/option&gt;\n  &lt;/datalist&gt;\n&lt;/div&gt;\n&lt;label for=&quot;bydelsnummer&quot;&gt;Bydelsnummer&lt;/label&gt;\n&lt;div&gt;\n  &lt;input id=&quot;bydelsnummer&quot; list=&quot;bydelsnummer-choices&quot; name=&quot;bydelsnummer&quot; value=&quot;&quot;&gt;\n    &lt;datalist id=&quot;bydelsnummer-choices&quot;&gt;\n      &lt;option value=&quot;1&quot;&gt;Blabla&lt;/option&gt;\n    &lt;/datalist&gt;\n&lt;/div&gt;\n&lt;label for=&quot;roller&quot;&gt;Roller&lt;/label&gt;\n  &lt;div&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;_roller&quot; value=&quot;1&quot;&gt;\n      &lt;select id=&quot;roller&quot; multiple=&quot;&quot; name=&quot;roller&quot;&gt;\n        &lt;option value=&quot;blabla&gt;blabla&lt;/option&gt;\n     &lt;/select&gt;\n  &lt;/div&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Log in&quot;&gt;\n</code></pre>\n<p>The element failing is the second: &lt;input id=&quot;navn&quot;.</p>\n<p>Any ideas? If it wasn't for the fact that the run creates a screenshot when a test fails, which shows that the element is indeed present, I'd chalk it down to Tekton problems. But with a 15 second timout, and the element visibly present, I really cannot grasp why Selenium has problems?</p>\n"},{"tags":["java","spring-boot","junit","spring-security"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1666467287,"post_id":74166101,"comment_id":130945851,"body_markdown":"Spring Security @WithMockUser annotation might help.","body":"Spring Security @WithMockUser annotation might help."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666482814,"post_id":74166101,"comment_id":130948229,"body_markdown":"@ILyaCyclone I still got the same issue after using `@WithMockUser`. How can I fix it?","body":"@ILyaCyclone I still got the same issue after using <code>@WithMockUser</code>. How can I fix it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666530495,"post_id":74166101,"comment_id":130954257,"body_markdown":"@ILyaCyclone I still couldn&#39;t fix it.","body":"@ILyaCyclone I still couldn&#39;t fix it."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666609378,"creation_date":1666609378,"answer_id":74180160,"question_id":74166101,"body_markdown":"Here is the solution shown below.\r\n\r\nAdd **this line** shown below underneath `when` parts\r\n\r\n    SecurityContextHolder.setContext(securityContext);","title":"JUnit Security Test Error for Service Test of Spring Boot","body":"<p>Here is the solution shown below.</p>\n<p>Add <strong>this line</strong> shown below underneath <code>when</code> parts</p>\n<pre><code>SecurityContextHolder.setContext(securityContext);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74180160,"answer_count":1,"score":0,"last_activity_date":1666609378,"creation_date":1666463123,"question_id":74166101,"body_markdown":"I have to write a test function for findInContextUser based on JUnit Mock in Spring Boot but I have no idea how to write it.\r\n\r\nHow can I write findInContextUser for Junit Test?\r\n\r\n\r\nHere are my code defined in UserService shown below.\r\n\r\n    public UserDto getUserDto(String username) {\r\n            var user = findUserByUsername(username);\r\n            return UserDto.builder()\r\n                    .id(user.getId())\r\n                    .username(user.getUsername())\r\n                    .role(user.getRole())\r\n                    .build();\r\n        }\r\n    \r\n        public UserDto findInContextUser() {\r\n            final Authentication authentication = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\r\n            final UserDetails details = Optional.ofNullable((UserDetails) authentication.getPrincipal()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\r\n            return getUserDto(details.getUsername());\r\n        }\r\n    \r\n        private static Supplier&lt;GenericException&gt; notFoundUser(HttpStatus unauthorized) {\r\n            return () -&gt; GenericException.builder().httpStatus(unauthorized).errorMessage(&quot;user not found!&quot;).build();\r\n        }\r\n\r\nHere is my test class shown below.\r\n\r\n    @Test\r\n        void itShouldFindInContextUser(){\r\n            // given - precondition or setup\r\n            User user = User.builder()\r\n                    .username(&quot;username&quot;)\r\n                    .password(&quot;password&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n    \r\n            UserDto expected = UserDto.builder()\r\n                    .id(user.getId())\r\n                    .username(user.getUsername())\r\n                    .role(user.getRole())\r\n                    .build();\r\n    \r\n            var roles = Stream.of(user.getRole())\r\n                    .map(x -&gt; new SimpleGrantedAuthority(x.name()))\r\n                    .collect(Collectors.toList());\r\n    \r\n            UserDetails details = new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), roles);\r\n    \r\n            Authentication authentication = Mockito.mock(Authentication.class);\r\n            SecurityContext securityContext = Mockito.mock(SecurityContext.class);\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(securityContext.getAuthentication()).thenReturn(authentication);\r\n            when(securityContext.getAuthentication().getPrincipal()).thenReturn(details);\r\n    \r\n            // then - verify the output\r\n            UserDto actual = userService.findInContextUser(); // ERROR IS HERE\r\n            assertEquals(expected, actual);\r\n            assertEquals(expected.getUsername(), actual.getUsername());\r\n    \r\n            verify(userService, times(1)).findInContextUser();\r\n    \r\n        }\r\n\r\nHere is the error message shown below.\r\n\r\n    com.example.lib.exception.GenericException\r\n    Debug Part : 401 UNAUTHORIZED\r\n\r\nI also added `@WithMockUser(username = &quot;username&quot;, password = &quot;password&quot;, roles = &quot;USER&quot;)` but nothing changed.","title":"JUnit Security Test Error for Service Test of Spring Boot","body":"<p>I have to write a test function for findInContextUser based on JUnit Mock in Spring Boot but I have no idea how to write it.</p>\n<p>How can I write findInContextUser for Junit Test?</p>\n<p>Here are my code defined in UserService shown below.</p>\n<pre><code>public UserDto getUserDto(String username) {\n        var user = findUserByUsername(username);\n        return UserDto.builder()\n                .id(user.getId())\n                .username(user.getUsername())\n                .role(user.getRole())\n                .build();\n    }\n\n    public UserDto findInContextUser() {\n        final Authentication authentication = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\n        final UserDetails details = Optional.ofNullable((UserDetails) authentication.getPrincipal()).orElseThrow(notFoundUser(HttpStatus.UNAUTHORIZED));\n        return getUserDto(details.getUsername());\n    }\n\n    private static Supplier&lt;GenericException&gt; notFoundUser(HttpStatus unauthorized) {\n        return () -&gt; GenericException.builder().httpStatus(unauthorized).errorMessage(&quot;user not found!&quot;).build();\n    }\n</code></pre>\n<p>Here is my test class shown below.</p>\n<pre><code>@Test\n    void itShouldFindInContextUser(){\n        // given - precondition or setup\n        User user = User.builder()\n                .username(&quot;username&quot;)\n                .password(&quot;password&quot;)\n                .role(Role.USER)\n                .build();\n\n        UserDto expected = UserDto.builder()\n                .id(user.getId())\n                .username(user.getUsername())\n                .role(user.getRole())\n                .build();\n\n        var roles = Stream.of(user.getRole())\n                .map(x -&gt; new SimpleGrantedAuthority(x.name()))\n                .collect(Collectors.toList());\n\n        UserDetails details = new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), roles);\n\n        Authentication authentication = Mockito.mock(Authentication.class);\n        SecurityContext securityContext = Mockito.mock(SecurityContext.class);\n\n        // when -  action or the behaviour that we are going test\n        when(securityContext.getAuthentication()).thenReturn(authentication);\n        when(securityContext.getAuthentication().getPrincipal()).thenReturn(details);\n\n        // then - verify the output\n        UserDto actual = userService.findInContextUser(); // ERROR IS HERE\n        assertEquals(expected, actual);\n        assertEquals(expected.getUsername(), actual.getUsername());\n\n        verify(userService, times(1)).findInContextUser();\n\n    }\n</code></pre>\n<p>Here is the error message shown below.</p>\n<pre><code>com.example.lib.exception.GenericException\nDebug Part : 401 UNAUTHORIZED\n</code></pre>\n<p>I also added <code>@WithMockUser(username = &quot;username&quot;, password = &quot;password&quot;, roles = &quot;USER&quot;)</code> but nothing changed.</p>\n"},{"tags":["java","jackson","json-deserialization"],"answers":[{"comments":[{"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1666712114,"post_id":74170564,"comment_id":130999246,"body_markdown":"Sad, but looks like it is the only way. Thank you.","body":"Sad, but looks like it is the only way. Thank you."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666522775,"creation_date":1666522438,"answer_id":74170564,"question_id":74170291,"body_markdown":"You can define an overloaded constructor in your record delegating to the canonical constructor via call `this()`, and annotate it with [`@JsonCreator`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html) (*otherwise, Jackson would use the canonical one*).\r\n\r\nThe attribute `second` can be received as a plain `String` and parsed using the method `fromName()` you&#39;ve defined in the `enum`:\r\n\r\n    record MyRec(String first, Color second) {\r\n        @JsonCreator\r\n        public MyRec(@JsonProperty(&quot;first&quot;) String first,\r\n                     @JsonProperty(&quot;second&quot;) String second) {\r\n\r\n            this(first, Color.fromName(second));\r\n        }\r\n    }\r\n\r\n**Note:** no data-binding annotations required in your `enum`.\r\n\r\n*Usage example:*\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        List&lt;String&gt; jsonRecords = List.of(\r\n            &quot;&quot;&quot;\r\n                {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}&quot;&quot;&quot;,\r\n            &quot;&quot;&quot;\r\n                {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}&quot;&quot;&quot;,\r\n            &quot;&quot;&quot;\r\n                {&quot;first&quot;: &quot;hi&quot;}&quot;&quot;&quot;\r\n        );\r\n        \r\n        ObjectMapper mapper1 = new JsonMapper();\r\n        List&lt;MyRec&gt; records = new ArrayList&lt;&gt;();\r\n        \r\n        for (String json : jsonRecords) {\r\n            MyRec myRec = mapper1.readValue(json, MyRec.class);\r\n            records.add(myRec);\r\n        }\r\n        \r\n        records.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\nMyRec[first=hi, second=RED]\r\nMyRec[first=hi, second=RED]\r\nMyRec[first=hi, second=RED]\r\n```\r\n\r\n***Sidenote:** possibly you might want to use* `equalsIgnoreCase()` *instead of plain* `equals()`.*","title":"How to handle deserialization of null and absent properties with Jackson?","body":"<p>You can define an overloaded constructor in your record delegating to the canonical constructor via call <code>this()</code>, and annotate it with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\"><code>@JsonCreator</code></a> (<em>otherwise, Jackson would use the canonical one</em>).</p>\n<p>The attribute <code>second</code> can be received as a plain <code>String</code> and parsed using the method <code>fromName()</code> you've defined in the <code>enum</code>:</p>\n<pre><code>record MyRec(String first, Color second) {\n    @JsonCreator\n    public MyRec(@JsonProperty(&quot;first&quot;) String first,\n                 @JsonProperty(&quot;second&quot;) String second) {\n\n        this(first, Color.fromName(second));\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> no data-binding annotations required in your <code>enum</code>.</p>\n<p><em>Usage example:</em></p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    List&lt;String&gt; jsonRecords = List.of(\n        &quot;&quot;&quot;\n            {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}&quot;&quot;&quot;,\n        &quot;&quot;&quot;\n            {&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}&quot;&quot;&quot;,\n        &quot;&quot;&quot;\n            {&quot;first&quot;: &quot;hi&quot;}&quot;&quot;&quot;\n    );\n    \n    ObjectMapper mapper1 = new JsonMapper();\n    List&lt;MyRec&gt; records = new ArrayList&lt;&gt;();\n    \n    for (String json : jsonRecords) {\n        MyRec myRec = mapper1.readValue(json, MyRec.class);\n        records.add(myRec);\n    }\n    \n    records.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyRec[first=hi, second=RED]\nMyRec[first=hi, second=RED]\nMyRec[first=hi, second=RED]\n</code></pre>\n<p><em><strong>Sidenote:</strong> possibly you might want to use</em> <code>equalsIgnoreCase()</code> <em>instead of plain</em> <code>equals()</code>.*</p>\n"}],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74170564,"answer_count":1,"score":0,"last_activity_date":1666608897,"creation_date":1666519950,"question_id":74170291,"body_markdown":"There is a record class in which one of the properties is an enum field. \r\n\r\nThe results of deserialization differ from what I&#39;m looking for. Obviously, when the field is null or absent Jackson does not use the `@JsonCreator` method and just inserts null.\r\n\r\nI would like to avoid that &quot;special treatment&quot; and deserialize nulls (and field absence as well) the same way as other values.\r\n\r\n**Model classes**\r\n```java\r\nrecord MyRec(\r\n  String first,\r\n  Color second\r\n){}\r\n\r\n// ---\r\n\r\nenum Color{\r\n  RED, GREEN;\r\n\r\n  @JsonCreator\r\n  static Color fromName(String name){\r\n    if (name == null || &quot;red&quot;.equals(name)){\r\n      return RED; \r\n    } else if (&quot;green&quot;.equals(name)) {\r\n      return GREEN;\r\n    } else {\r\n      throw new IllegalArgumentException(name);\r\n    }\r\n  }\r\n}\r\n```\r\n**Results of deserialization**\r\n\r\n            JSON                             actual            intent\r\n    ------------------------------------|-------------------|------------------|------\r\n     &#39;{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}&#39;   MyRec(&quot;hi&quot;, RED)    MyRec(&quot;hi&quot;, RED) |  ok\r\n     &#39;{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}&#39;    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\r\n     &#39;{&quot;first&quot;: &quot;hi&quot;}&#39;                    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\r\n\r\n**How to force Jackson to use the `@JsonCreator` method for deserializing nulls and absent values?**","title":"How to handle deserialization of null and absent properties with Jackson?","body":"<p>There is a record class in which one of the properties is an enum field.</p>\n<p>The results of deserialization differ from what I'm looking for. Obviously, when the field is null or absent Jackson does not use the <code>@JsonCreator</code> method and just inserts null.</p>\n<p>I would like to avoid that &quot;special treatment&quot; and deserialize nulls (and field absence as well) the same way as other values.</p>\n<p><strong>Model classes</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>record MyRec(\n  String first,\n  Color second\n){}\n\n// ---\n\nenum Color{\n  RED, GREEN;\n\n  @JsonCreator\n  static Color fromName(String name){\n    if (name == null || &quot;red&quot;.equals(name)){\n      return RED; \n    } else if (&quot;green&quot;.equals(name)) {\n      return GREEN;\n    } else {\n      throw new IllegalArgumentException(name);\n    }\n  }\n}\n</code></pre>\n<p><strong>Results of deserialization</strong></p>\n<pre><code>        JSON                             actual            intent\n------------------------------------|-------------------|------------------|------\n '{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: &quot;red&quot;}'   MyRec(&quot;hi&quot;, RED)    MyRec(&quot;hi&quot;, RED) |  ok\n '{&quot;first&quot;: &quot;hi&quot;, &quot;second&quot;: null}'    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\n '{&quot;first&quot;: &quot;hi&quot;}'                    MyRec(&quot;hi&quot;, null)   MyRec(&quot;hi&quot;, RED) |  ?\n</code></pre>\n<p><strong>How to force Jackson to use the <code>@JsonCreator</code> method for deserializing nulls and absent values?</strong></p>\n"},{"tags":["java","arraylist","linked-list","benchmarking"],"comments":[{"owner":{"account_id":7458473,"reputation":1057,"user_id":5670909,"display_name":"Melchizedek"},"score":3,"creation_date":1636104473,"post_id":69851017,"comment_id":123472895,"body_markdown":"Does this answer your question? [Performance differences between ArrayList and LinkedList](https://stackoverflow.com/questions/10656471/performance-differences-between-arraylist-and-linkedlist)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10656471/performance-differences-between-arraylist-and-linkedlist\">Performance differences between ArrayList and LinkedList</a>"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1636104503,"post_id":69851017,"comment_id":123472907,"body_markdown":"[This answer](https://stackoverflow.com/a/323889/40342) summarizes why you should basically never use `LinkedList`. Even Joshua Bloch (who wrote `LinkedList`) [never users it](https://twitter.com/joshbloch/status/583813919019573248).","body":"<a href=\"https://stackoverflow.com/a/323889/40342\">This answer</a> summarizes why you should basically never use <code>LinkedList</code>. Even Joshua Bloch (who wrote <code>LinkedList</code>) <a href=\"https://twitter.com/joshbloch/status/583813919019573248\" rel=\"nofollow noreferrer\">never users it</a>."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636105792,"post_id":69851017,"comment_id":123473455,"body_markdown":"ArrayList only has to copy when it reallocates, which is infrequent.  And it doesn&#39;t have to do any bookkeeping otherwise, or generate compressed references for links, basically just memset up to the allocation limit.  (JVM JIT optimizers probably aren&#39;t smart enough to optimize away multiple reallocations and just allocate the final size in the first place).","body":"ArrayList only has to copy when it reallocates, which is infrequent.  And it doesn&#39;t have to do any bookkeeping otherwise, or generate compressed references for links, basically just memset up to the allocation limit.  (JVM JIT optimizers probably aren&#39;t smart enough to optimize away multiple reallocations and just allocate the final size in the first place)."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636113593,"post_id":69851017,"comment_id":123476149,"body_markdown":"@Nikolas: As [discussed in comments on the answer here](https://stackoverflow.com/questions/69851017/why-is-an-arraylist-always-faster-than-a-linkedlist#comment123474625_69851318), the accepted answer on [Performance differences between ArrayList and LinkedList](https://stackoverflow.com/q/10656471) is only about inserting in the middle, not at the end, which is what makes ArrayList slower in that case, but not in this case.  Not a good duplicate, unless there are other answers that do cover the general case, or something that includes this case.","body":"@Nikolas: As <a href=\"https://stackoverflow.com/questions/69851017/why-is-an-arraylist-always-faster-than-a-linkedlist#comment123474625_69851318\">discussed in comments on the answer here</a>, the accepted answer on <a href=\"https://stackoverflow.com/q/10656471\">Performance differences between ArrayList and LinkedList</a> is only about inserting in the middle, not at the end, which is what makes ArrayList slower in that case, but not in this case.  Not a good duplicate, unless there are other answers that do cover the general case, or something that includes this case."}],"answers":[{"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636105902,"post_id":69851318,"comment_id":123473487,"body_markdown":"There&#39;s a canonical Q&amp;A ([Performance differences between ArrayList and LinkedList](https://stackoverflow.com/q/10656471)) which suggests that ArrayList is slower to create.  Since there are reasons why that&#39;s not true, that Q&amp;A should get fixed.","body":"There&#39;s a canonical Q&amp;A (<a href=\"https://stackoverflow.com/q/10656471\">Performance differences between ArrayList and LinkedList</a>) which suggests that ArrayList is slower to create.  Since there are reasons why that&#39;s not true, that Q&amp;A should get fixed."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1636106090,"post_id":69851318,"comment_id":123473562,"body_markdown":"35 array-copying actions, but most of them while it&#39;s still small, so not writing the whole final size 36 times.  `size * (1 + 1/1.5 + 1/1.5^2 ...)` which converges to about size x 2.","body":"35 array-copying actions, but most of them while it&#39;s still small, so not writing the whole final size 36 times.  <code>size * (1 + 1&#47;1.5 + 1&#47;1.5^2 ...)</code> which converges to about size x 2."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636108456,"post_id":69851318,"comment_id":123474361,"body_markdown":"@Hulk: It&#39;d probably be good if a Java performance expert made some edits in the accepted answer, then.  Or we can get a new answer written that covers the same broad generalities without misinformation, and maybe get some attention in chat to correct via voting. It isn&#39;t a duplicate of the more general Q&amp;A you linked, and specific answers there don&#39;t compare time to add N elements to a fresh container.  [When to use LinkedList over ArrayList in Java?](https://stackoverflow.com/a/322722) talks about add/delete time, but neglects the fact that ArrayList is fastest for insert at the end.","body":"@Hulk: It&#39;d probably be good if a Java performance expert made some edits in the accepted answer, then.  Or we can get a new answer written that covers the same broad generalities without misinformation, and maybe get some attention in chat to correct via voting. It isn&#39;t a duplicate of the more general Q&amp;A you linked, and specific answers there don&#39;t compare time to add N elements to a fresh container.  <a href=\"https://stackoverflow.com/a/322722\">When to use LinkedList over ArrayList in Java?</a> talks about add/delete time, but neglects the fact that ArrayList is fastest for insert at the end."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636108620,"post_id":69851318,"comment_id":123474426,"body_markdown":"Another answer on [When to use LinkedList over ArrayList in Java?](https://stackoverflow.com/a/7507740) does have this benchmark, time to add N elements, showing ArrayList way faster, but the only thing it points out is that edit/remove is slower for ArrayList when the numbers actually show it about the same.","body":"Another answer on <a href=\"https://stackoverflow.com/a/7507740\">When to use LinkedList over ArrayList in Java?</a> does have this benchmark, time to add N elements, showing ArrayList way faster, but the only thing it points out is that edit/remove is slower for ArrayList when the numbers actually show it about the same."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1636109179,"post_id":69851318,"comment_id":123474625,"body_markdown":"@PeterCordes the accepted answer there is not *wrong* and answers the question asked there (which is, despite the title, focussed on adding and deleting in the middle). However, it does not explain the misconception that caused this question here (how ArrayLists allocate arrays, and with which capacity). That is explained in answers to the more general question.","body":"@PeterCordes the accepted answer there is not <i>wrong</i> and answers the question asked there (which is, despite the title, focussed on adding and deleting in the middle). However, it does not explain the misconception that caused this question here (how ArrayLists allocate arrays, and with which capacity). That is explained in answers to the more general question."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1636109523,"post_id":69851318,"comment_id":123474737,"body_markdown":"@Hulk: Ah thanks, I didn&#39;t read the question in [Performance differences between ArrayList and LinkedList](https://stackoverflow.com/q/10656471) in enough detail.  So not a duplicate of this at all.","body":"@Hulk: Ah thanks, I didn&#39;t read the question in <a href=\"https://stackoverflow.com/q/10656471\">Performance differences between ArrayList and LinkedList</a> in enough detail.  So not a duplicate of this at all."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641469731,"post_id":69851318,"comment_id":124814643,"body_markdown":"@PeterCordes we can easily simulate the behavior to get the exact number, i.e. `int copies = 0, copied = 0; for(int cap = 10; cap &lt; 10_000_000; cap *= 1.5) { copies++; copied += cap; } System.out.println(copies + &quot; copy operations, copied &quot; + copied + &quot; refs total&quot;);`, giving us 27,690,301 refs. Then, we should consider that `LinkedList` creates 10M node objects the size of five to six refs into the Eden space, to be copied to the Survivor space on the next GC. Which is twice the amount of `ArrayList`’s copying actions, even when the nodes are promoted to the Old Gen right on the first GC.","body":"@PeterCordes we can easily simulate the behavior to get the exact number, i.e. <code>int copies = 0, copied = 0; for(int cap = 10; cap &lt; 10_000_000; cap *= 1.5) { copies++; copied += cap; } System.out.println(copies + &quot; copy operations, copied &quot; + copied + &quot; refs total&quot;);</code>, giving us 27,690,301 refs. Then, we should consider that <code>LinkedList</code> creates 10M node objects the size of five to six refs into the Eden space, to be copied to the Survivor space on the next GC. Which is twice the amount of <code>ArrayList</code>’s copying actions, even when the nodes are promoted to the Old Gen right on the first GC."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1641470795,"post_id":69851318,"comment_id":124815053,"body_markdown":"Thinking about it, even the *initialization* of 10M node objects with header and three references performs as many memory writes as the array initialization and 35 copying operations together (assuming a JVM capable of optimizing `Arrays.copyOf(…)`, like HotSpot).","body":"Thinking about it, even the <i>initialization</i> of 10M node objects with header and three references performs as many memory writes as the array initialization and 35 copying operations together (assuming a JVM capable of optimizing <code>Arrays.copyOf(…)</code>, like HotSpot)."}],"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636105767,"creation_date":1636105767,"answer_id":69851318,"question_id":69851017,"body_markdown":"Most of the time, adding to an `ArrayList` _won&#39;t_ allocate a new array, since the implementation increases the size of the backing array by 50% when it needs to grow. \r\n\r\nThis may sound wasteful from a memory perspective, but even a worst-case scenario for a growing `ArrayList` uses less memory than `LinkedList` - each entry in a linked list costs an object header + 3 references (prev/value/next), whereas a worst-case growing `ArrayList` has only 1.5 references per entry (i.e., the array cells used, plus 50% which are as-yet unused).\r\n\r\nAnywho, according to my calculations, this means that adding 10 million entries to a default-initiated `ArrayList` will result in some 35 array-copying actions, which isn&#39;t very much. (And yes, `System.arraycopy` _is_ fast.) \r\n\r\nFinally, if you give your array an initial capacity of `10_000_000`, there will be zero array copies made. You can try that to see how much the copying really costs.","title":"Why is an ArrayList faster to create and add 10 million elements to than a LinkedList?","body":"<p>Most of the time, adding to an <code>ArrayList</code> <em>won't</em> allocate a new array, since the implementation increases the size of the backing array by 50% when it needs to grow.</p>\n<p>This may sound wasteful from a memory perspective, but even a worst-case scenario for a growing <code>ArrayList</code> uses less memory than <code>LinkedList</code> - each entry in a linked list costs an object header + 3 references (prev/value/next), whereas a worst-case growing <code>ArrayList</code> has only 1.5 references per entry (i.e., the array cells used, plus 50% which are as-yet unused).</p>\n<p>Anywho, according to my calculations, this means that adding 10 million entries to a default-initiated <code>ArrayList</code> will result in some 35 array-copying actions, which isn't very much. (And yes, <code>System.arraycopy</code> <em>is</em> fast.)</p>\n<p>Finally, if you give your array an initial capacity of <code>10_000_000</code>, there will be zero array copies made. You can try that to see how much the copying really costs.</p>\n"}],"owner":{"display_name":"user14978390"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1636105794,"accepted_answer_id":69851318,"answer_count":1,"score":2,"last_activity_date":1666608815,"creation_date":1636104325,"question_id":69851017,"body_markdown":"Yesterday I ran a benchmark in Java 17 where I repeatedly created a new Arraylist and Linkedlist and added 10.000.000 Elements to it.\r\n\r\nBy the nature of a LinkedList adding elements (creating a LinkedObject an putting it at the end) should be much faster than adding to an ArrayList. (Copying whole array in anotherone that is slightly larger.)\r\n\r\nAre native functions like arraycopy() really that much faster? The only thing the LinkedList was better at was merging two LinkedLists together.","title":"Why is an ArrayList faster to create and add 10 million elements to than a LinkedList?","body":"<p>Yesterday I ran a benchmark in Java 17 where I repeatedly created a new Arraylist and Linkedlist and added 10.000.000 Elements to it.</p>\n<p>By the nature of a LinkedList adding elements (creating a LinkedObject an putting it at the end) should be much faster than adding to an ArrayList. (Copying whole array in anotherone that is slightly larger.)</p>\n<p>Are native functions like arraycopy() really that much faster? The only thing the LinkedList was better at was merging two LinkedLists together.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1666545530,"post_id":74173153,"comment_id":130957596,"body_markdown":"Please show your attempt at solving this.  And you have yet to take the [tour].  I also recommend you check out [ask].","body":"Please show your attempt at solving this.  And you have yet to take the <a href=\"https://stackoverflow.com/tour\">tour</a>.  I also recommend you check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1666546350,"post_id":74173153,"comment_id":130957818,"body_markdown":"@WJS Thanks, but I showed what I tried and I stucked in there.","body":"@WJS Thanks, but I showed what I tried and I stucked in there."}],"answers":[{"comments":[{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1666548369,"post_id":74173326,"comment_id":130958298,"body_markdown":"What if I dont have a list of ConsumerDTO? Is this approach also possible for only ConsumerDTO?","body":"What if I dont have a list of ConsumerDTO? Is this approach also possible for only ConsumerDTO?"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1666548500,"post_id":74173326,"comment_id":130958321,"body_markdown":"@Alex Yes you can go with **Approach 2** in which you can use `getTargetTypeObject` directly by passing your source `ConsumerDTO` object and you will get `ReceiverDTO` target type object in return.","body":"@Alex Yes you can go with <b>Approach 2</b> in which you can use <code>getTargetTypeObject</code> directly by passing your source <code>ConsumerDTO</code> object and you will get <code>ReceiverDTO</code> target type object in return."},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1666605819,"post_id":74173326,"comment_id":130968777,"body_markdown":"But what if I have not only this field in my source class, but several different fields I need to map with other different field types in my targer class, should I write getTargetTypeObject method for all of them? And then there is a question, how I gonna map all of them? I think calling each method is not possible while mapping.","body":"But what if I have not only this field in my source class, but several different fields I need to map with other different field types in my targer class, should I write getTargetTypeObject method for all of them? And then there is a question, how I gonna map all of them? I think calling each method is not possible while mapping."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1666607819,"post_id":74173326,"comment_id":130969405,"body_markdown":"@Alex I have updated the code showing how to map other fields while creating the target object , you need to set in `PriceInfoDto dto` object from `ConsumerDTO x` in `getTargetTypeObject` method as shown in the code above. And you can use the same method just you need to update this method with other fields mapping.","body":"@Alex I have updated the code showing how to map other fields while creating the target object , you need to set in <code>PriceInfoDto dto</code> object from <code>ConsumerDTO x</code> in <code>getTargetTypeObject</code> method as shown in the code above. And you can use the same method just you need to update this method with other fields mapping."}],"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666608222,"creation_date":1666546345,"answer_id":74173326,"question_id":74173153,"body_markdown":"You can achieve the *target object* of **`ReceiverDTO`** from your *source object* **`ConsumerDTO`** as below:\r\n\r\n***Approach Here:***\r\n\r\nHere, I have added few more sample fields in the source as well as target class to show how to map other fields while creating a target object of type `ReceiverDTO` using `getTargetTypeObject` method.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            //Source class objects\r\n            ConsumerDTO sourceObj = new ConsumerDTO();\r\n            sourceObj.setAmount(&quot;100&quot;);\r\n            //sample for Other fields in source object\r\n            sourceObj.setName(&quot;test&quot;);\r\n            sourceObj.setId(1000);\r\n            sourceObj.setFlag(true);\r\n            //sample for Other fields in source object\r\n            ReceiverDTO targetType = getTargetTypeObject(sourceObj);\r\n            System.out.println(targetType);\r\n        }\r\n    \r\n        private static ReceiverDTO getTargetTypeObject(ConsumerDTO x) {\r\n            //Intermediate object creations\r\n            PriceInfoDto dto = new PriceInfoDto();\r\n            dto.setAmount(x.getAmount());\r\n            //Set other fields like this\r\n            dto.setName(x.getName());\r\n            dto.setId(x.getId());\r\n            dto.setFlag(x.isFlag());\r\n            //Set other fields like this\r\n            Set&lt;PriceInfoDto&gt; set = new HashSet&lt;&gt;();\r\n            set.add(dto);\r\n            //Target object\r\n            ReceiverDTO receiverDTO = new ReceiverDTO();\r\n            receiverDTO.setPrices(set);\r\n            return receiverDTO;\r\n        }\r\n    }\r\n\r\n    class ConsumerDTO {\r\n        private String amount;\r\n        private String name;\r\n        private int id;\r\n        private boolean flag;\r\n        //getters and setters\r\n        //toString\r\n    }\r\n    \r\n    class ReceiverDTO {\r\n        private Set&lt;PriceInfoDto&gt; prices;\r\n        //getters and setters\r\n        //toString\r\n    }\r\n    \r\n    class PriceInfoDto {\r\n        private String amount;\r\n        private String name;\r\n        private int id;\r\n        private boolean flag;\r\n        //getters and setters\r\n        //toString\r\n    }\r\n\r\n**Output:**\r\n\r\n    ReceiverDTO{prices=[PriceInfoDto{amount=&#39;100&#39;, name=&#39;test&#39;, id=1000, flag=true}]}","title":"How to convert String to Set&lt;Object&gt;?","body":"<p>You can achieve the <em>target object</em> of <strong><code>ReceiverDTO</code></strong> from your <em>source object</em> <strong><code>ConsumerDTO</code></strong> as below:</p>\n<p><em><strong>Approach Here:</strong></em></p>\n<p>Here, I have added few more sample fields in the source as well as target class to show how to map other fields while creating a target object of type <code>ReceiverDTO</code> using <code>getTargetTypeObject</code> method.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        //Source class objects\n        ConsumerDTO sourceObj = new ConsumerDTO();\n        sourceObj.setAmount(&quot;100&quot;);\n        //sample for Other fields in source object\n        sourceObj.setName(&quot;test&quot;);\n        sourceObj.setId(1000);\n        sourceObj.setFlag(true);\n        //sample for Other fields in source object\n        ReceiverDTO targetType = getTargetTypeObject(sourceObj);\n        System.out.println(targetType);\n    }\n\n    private static ReceiverDTO getTargetTypeObject(ConsumerDTO x) {\n        //Intermediate object creations\n        PriceInfoDto dto = new PriceInfoDto();\n        dto.setAmount(x.getAmount());\n        //Set other fields like this\n        dto.setName(x.getName());\n        dto.setId(x.getId());\n        dto.setFlag(x.isFlag());\n        //Set other fields like this\n        Set&lt;PriceInfoDto&gt; set = new HashSet&lt;&gt;();\n        set.add(dto);\n        //Target object\n        ReceiverDTO receiverDTO = new ReceiverDTO();\n        receiverDTO.setPrices(set);\n        return receiverDTO;\n    }\n}\n\nclass ConsumerDTO {\n    private String amount;\n    private String name;\n    private int id;\n    private boolean flag;\n    //getters and setters\n    //toString\n}\n\nclass ReceiverDTO {\n    private Set&lt;PriceInfoDto&gt; prices;\n    //getters and setters\n    //toString\n}\n\nclass PriceInfoDto {\n    private String amount;\n    private String name;\n    private int id;\n    private boolean flag;\n    //getters and setters\n    //toString\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>ReceiverDTO{prices=[PriceInfoDto{amount='100', name='test', id=1000, flag=true}]}\n</code></pre>\n"}],"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74173326,"answer_count":1,"score":-3,"last_activity_date":1666608222,"creation_date":1666544903,"question_id":74173153,"body_markdown":"I have the following DTOs:\r\n\r\n    public class ConsumerDTO {\r\n        private String amount;\r\n        //...some other fields\r\n    }\r\n    \r\n    public class ReceiverDTO {\r\n        private Set&lt;PriceInfoDto&gt; prices;\r\n    //...some other fields\r\n    }\r\n    \r\n    public class PriceInfoDto {\r\n        private String amount;\r\n        //...some other fields\r\n    }\r\n\r\nI want to convert ConsumerDTO to ReceiverDTO, p.s. map my data between differently structured objects. ConsumerDTO is my source class. ReceiverDTO is my target class. I tried this:\r\n\r\n    TypeMap&lt;ConsumerDTO , ReceiverDTO&gt; propertyMapper = this.mapper.createTypeMap(ConsumerDTO .class, ReceiverDTO.class);\r\n        propertyMapper.addMapping(ConsumerDTO ::getAmount, ReceiverDTO::getAmount);\r\n\r\nBut having trouble with getting amount from set in my target class. Is there a way to solve this? I also read some articles, but they show examples with simple types.","title":"How to convert String to Set&lt;Object&gt;?","body":"<p>I have the following DTOs:</p>\n<pre><code>public class ConsumerDTO {\n    private String amount;\n    //...some other fields\n}\n\npublic class ReceiverDTO {\n    private Set&lt;PriceInfoDto&gt; prices;\n//...some other fields\n}\n\npublic class PriceInfoDto {\n    private String amount;\n    //...some other fields\n}\n</code></pre>\n<p>I want to convert ConsumerDTO to ReceiverDTO, p.s. map my data between differently structured objects. ConsumerDTO is my source class. ReceiverDTO is my target class. I tried this:</p>\n<pre><code>TypeMap&lt;ConsumerDTO , ReceiverDTO&gt; propertyMapper = this.mapper.createTypeMap(ConsumerDTO .class, ReceiverDTO.class);\n    propertyMapper.addMapping(ConsumerDTO ::getAmount, ReceiverDTO::getAmount);\n</code></pre>\n<p>But having trouble with getting amount from set in my target class. Is there a way to solve this? I also read some articles, but they show examples with simple types.</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1666608467,"post_id":74179932,"comment_id":130969630,"body_markdown":"You need to also read the wheel table, create a new wheel instance and then assign that new instance to your also newly created car instance.","body":"You need to also read the wheel table, create a new wheel instance and then assign that new instance to your also newly created car instance."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666610066,"post_id":74179932,"comment_id":130970178,"body_markdown":"I would beware of trying to reinvent ORM. Your time would be much better invested in learning and using an existing ORM framework. Also, don&#39;t use [underscores](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) in Java variable names - just constants (upper case). And anything before &#39;id&#39; in your ID variable names is redundant","body":"I would beware of trying to reinvent ORM. Your time would be much better invested in learning and using an existing ORM framework. Also, don&#39;t use <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">underscores</a> in Java variable names - just constants (upper case). And anything before &#39;id&#39; in your ID variable names is redundant"},{"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"score":0,"creation_date":1666691950,"post_id":74179932,"comment_id":130991905,"body_markdown":"thank you for your comment @\nSeelenvirtuose\n I&#39;ve tried to add to the code: \t\n\n\t\t\t\t`public Wheel wheel;`\n\n\t\t\t\t`Long wheel_id = wheel.getWheel_id();`\n\n\t\t\t\t`rslt.getLong(&quot;wheel_id&quot;),`\n\nbut I still can&#39;t achieve my goal","body":"thank you for your comment @ Seelenvirtuose  I&#39;ve tried to add to the code: \t  \t\t\t\t<code>public Wheel wheel;</code>  \t\t\t\t<code>Long wheel_id = wheel.getWheel_id();</code>  \t\t\t\t<code>rslt.getLong(&quot;wheel_id&quot;),</code>  but I still can&#39;t achieve my goal"}],"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666608213,"creation_date":1666608213,"question_id":74179932,"body_markdown":"I&#39;m working with java and I would like to associate key from a class to another and display it.\r\n\r\nI have 2 classes:\r\n\r\nclass &#39;car&#39; containing:\r\n\r\n    car_id, wheel, other\r\n\r\n\r\nclass &#39;wheel&#39; containing:\r\n\r\n    wheel_id, param1, param2\r\n\r\nHere is &#39;car_manager&#39; in order to view in sqlite database &#39;car&#39; with wheel_id (related to wheel):\r\n\r\n\r\n\tpublic ArrayList&lt;CarManager&gt; getCarManager() {\r\n\t\tArrayList&lt;CarManager&gt; ListCarManager = new ArrayList&lt;CarManager&gt;();\r\n\t\tString query = &quot;SELECT car_id, wheel_id, other FROM CAR_DB ORDER BY car_id&quot;;\r\n\t\ttry {\r\n\t\t\tthis.main.getDatabase().connect();\r\n\t\t\tResultSet rslt = this.main.getDatabase().getResultOf(query);\r\n\t\t\twhile (rslt.next()) {\r\n\t\t\t\tListCarManager.add(new Car\r\n\t\t\t\t\t\t(rslt.getLong(&quot;car_id&quot;),\r\n\t\t\t\t\t\t\t\trslt.getLong(&quot;wheel_id&quot;),\r\n\t\t\t\t\t\t\t\trslt.getString(&quot;other&quot;),\r\n\t\t\t\t\t\t));\r\n\t\t\t}\r\n\t\t\trslt.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.main.getDatabase().disconnect();\r\n\t\t}\r\n\t\treturn ListCarManager;\r\n\t}\r\n\r\n\r\nHowever I have a conflict because &#39;wheel_id&#39; is a long and &#39;car&#39; contains class &#39;wheel&#39;.\r\nI would like to keep class wheel into car. I have tried different things without success:\r\n\r\n\t\t\tLong wheel_id = car.getWheel.getId();\r\n\r\n\t\t\trslt.setLong(i++, car.getWheel.getId(&quot;wheel_id&quot;),\r\n\r\n","title":"Associate file in java for sqlite database","body":"<p>I'm working with java and I would like to associate key from a class to another and display it.</p>\n<p>I have 2 classes:</p>\n<p>class 'car' containing:</p>\n<pre><code>car_id, wheel, other\n</code></pre>\n<p>class 'wheel' containing:</p>\n<pre><code>wheel_id, param1, param2\n</code></pre>\n<p>Here is 'car_manager' in order to view in sqlite database 'car' with wheel_id (related to wheel):</p>\n<pre><code>public ArrayList&lt;CarManager&gt; getCarManager() {\n    ArrayList&lt;CarManager&gt; ListCarManager = new ArrayList&lt;CarManager&gt;();\n    String query = &quot;SELECT car_id, wheel_id, other FROM CAR_DB ORDER BY car_id&quot;;\n    try {\n        this.main.getDatabase().connect();\n        ResultSet rslt = this.main.getDatabase().getResultOf(query);\n        while (rslt.next()) {\n            ListCarManager.add(new Car\n                    (rslt.getLong(&quot;car_id&quot;),\n                            rslt.getLong(&quot;wheel_id&quot;),\n                            rslt.getString(&quot;other&quot;),\n                    ));\n        }\n        rslt.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    finally {\n        this.main.getDatabase().disconnect();\n    }\n    return ListCarManager;\n}\n</code></pre>\n<p>However I have a conflict because 'wheel_id' is a long and 'car' contains class 'wheel'.\nI would like to keep class wheel into car. I have tried different things without success:</p>\n<pre><code>        Long wheel_id = car.getWheel.getId();\n\n        rslt.setLong(i++, car.getWheel.getId(&quot;wheel_id&quot;),\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1584362355,"post_id":60706090,"comment_id":107405537,"body_markdown":"What do you mean by &quot;dot value function&quot;? `original.value` is simply an instance field of type `char[]` in the original String.","body":"What do you mean by &quot;dot value function&quot;? <code>original.value</code> is simply an instance field of type <code>char[]</code> in the original String."},{"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"score":2,"creation_date":1584362612,"post_id":60706090,"comment_id":107405635,"body_markdown":"As you are looking at the source code of `String`, you can understand that the `String class` of `Java` is actually implemented with a char array, which is the `value` you saw, a field of the class, nothing to surprise.","body":"As you are looking at the source code of <code>String</code>, you can understand that the <code>String class</code> of <code>Java</code> is actually implemented with a char array, which is the <code>value</code> you saw, a field of the class, nothing to surprise."},{"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"score":0,"creation_date":1584362719,"post_id":60706090,"comment_id":107405686,"body_markdown":"You are correct, `new String (&quot;newstring&quot;)`, here we are trying to create `String` object but &quot;newString&quot; already acting as `String` object, how???","body":"You are correct, <code>new String (&quot;newstring&quot;)</code>, here we are trying to create <code>String</code> object but &quot;newString&quot; already acting as <code>String</code> object, how???"},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1584363006,"post_id":60706090,"comment_id":107405813,"body_markdown":"`&quot;newstring&quot;` (and every other string literal, as well)  _acts as_ a `String` because it **is a `String`**.","body":"<code>&quot;newstring&quot;</code> (and every other string literal, as well)  <i>acts as</i> a <code>String</code> because it <b>is a <code>String</code></b>."},{"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"score":0,"creation_date":1584363409,"post_id":60706090,"comment_id":107405999,"body_markdown":"Kevin, just want to understand how JVM make each String literal as String object internally???","body":"Kevin, just want to understand how JVM make each String literal as String object internally???"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584362708,"creation_date":1584362708,"answer_id":60706271,"question_id":60706090,"body_markdown":"The [docs][1] says\r\n\r\n&gt; Initializes a newly created String object so that it represents the\r\n&gt; same sequence of characters as the argument; in other words, the newly\r\n&gt; created string is a copy of the argument string. Unless an explicit\r\n&gt; copy of original is needed, use of this constructor is unnecessary\r\n&gt; since Strings are immutable.\r\n\r\nTechnically the new String will get the `value` and `hash` of the `original`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nwhich means that this is a copy of another String.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-java.lang.String-\r\n  [2]: https://i.stack.imgur.com/jY85d.png","title":"How is Java String constructor implemented?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#String-java.lang.String-\" rel=\"nofollow noreferrer\">docs</a> says</p>\n\n<blockquote>\n  <p>Initializes a newly created String object so that it represents the\n  same sequence of characters as the argument; in other words, the newly\n  created string is a copy of the argument string. Unless an explicit\n  copy of original is needed, use of this constructor is unnecessary\n  since Strings are immutable.</p>\n</blockquote>\n\n<p>Technically the new String will get the <code>value</code> and <code>hash</code> of the <code>original</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jY85d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jY85d.png\" alt=\"enter image description here\"></a></p>\n\n<p>which means that this is a copy of another String.</p>\n"},{"comments":[{"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"score":0,"creation_date":1584366152,"post_id":60706298,"comment_id":107407278,"body_markdown":"Correct!!! Just want to understand how JVM make each String literal as String object internally???","body":"Correct!!! Just want to understand how JVM make each String literal as String object internally???"},{"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"score":0,"creation_date":1584458856,"post_id":60706298,"comment_id":107439763,"body_markdown":"@AbhiS You should in general ask more specific questions here, general questions like  &quot;what is all this&quot; are often considered too broad or irrelevant.","body":"@AbhiS You should in general ask more specific questions here, general questions like  &quot;what is all this&quot; are often considered too broad or irrelevant."}],"tags":[],"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584362814,"creation_date":1584362814,"answer_id":60706298,"question_id":60706090,"body_markdown":"Yes, as already mentioned in the comments, this is very simple.\r\nSince you&#39;re looking at the `String` class itself — it has access to its own fields. And that is where the characters this given string consists of are actually stored — in a `char` array. This method simply references the field by name, very basic interaction.","title":"How is Java String constructor implemented?","body":"<p>Yes, as already mentioned in the comments, this is very simple.\nSince you're looking at the <code>String</code> class itself — it has access to its own fields. And that is where the characters this given string consists of are actually stored — in a <code>char</code> array. This method simply references the field by name, very basic interaction.</p>\n"},{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1584366054,"post_id":60706565,"comment_id":107407233,"body_markdown":"Basically, I would agree. But while `s=t` means also that `s==t` is true, the consequence of `s=new String(t)` has the effect that the same comparison is now false (&#39;==&#39;, not `equals()`). As said in the documentation: &quot;[…] Unless an explicit copy of original is needed, use of this constructor is unnecessary […]&quot; – Ok, I have not encountered the need for an explicit copy of a String, only when playing around with JNI, but the limited usefulness is mentioned and makes the whole thing less silly.","body":"Basically, I would agree. But while <code>s=t</code> means also that <code>s==t</code> is true, the consequence of <code>s=new String(t)</code> has the effect that the same comparison is now false (&#39;==&#39;, not <code>equals()</code>). As said in the documentation: &quot;[…] Unless an explicit copy of original is needed, use of this constructor is unnecessary […]&quot; – Ok, I have not encountered the need for an explicit copy of a String, only when playing around with JNI, but the limited usefulness is mentioned and makes the whole thing less silly."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1584366278,"post_id":60706565,"comment_id":107407351,"body_markdown":"@Iquadrat I can only imagine the use in combination with `String.#ntern()`, Something for an annation `@Esoteric public String(String original) ...`","body":"@Iquadrat I can only imagine the use in combination with <code>String.#ntern()</code>, Something for an annation <code>@Esoteric public String(String original) ...</code>"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1584367443,"post_id":60706565,"comment_id":107407929,"body_markdown":"The documentation says about `intern()`: &quot;[…] It follows that for any two strings `s` and `t`, `s.intern() == t.intern()` is true if and only if `s.equals( t )` is true. […]&quot; – So combining `new String()` with `intern()` does not make sense in my eyes – or I miss some important point here.","body":"The documentation says about <code>intern()</code>: &quot;[…] It follows that for any two strings <code>s</code> and <code>t</code>, <code>s.intern() == t.intern()</code> is true if and only if <code>s.equals( t )</code> is true. […]&quot; – So combining <code>new String()</code> with <code>intern()</code> does not make sense in my eyes – or I miss some important point here."},{"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"score":0,"creation_date":1584382550,"post_id":60706565,"comment_id":107414900,"body_markdown":"it is very close to answer but nobody gave me answer on this, &quot;Just want to understand how JVM make each String literal as String object internally???&quot;","body":"it is very close to answer but nobody gave me answer on this, &quot;Just want to understand how JVM make each String literal as String object internally???&quot;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1584385076,"post_id":60706565,"comment_id":107415888,"body_markdown":"@AbhiS okay added a section. As the ClassLoader loads the constant pool with string literals, stored there by the compiler, it has little to do with the JDK sources.","body":"@AbhiS okay added a section. As the ClassLoader loads the constant pool with string literals, stored there by the compiler, it has little to do with the JDK sources."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584384968,"creation_date":1584363908,"answer_id":60706565,"question_id":60706090,"body_markdown":"String by design holds Unicode text, so all language scripts may be combined.\r\nFor that the implementation holds an array (field name `value`), where every char is a two byte UTF-16 value.\r\n\r\nYou encountered the one and AFAIK only silly point in the Java classes.\r\n\r\nThe shown _copy constructor_ is senseless, as Strings are immutable objects,\r\nand they may be shared by simple assignment. It is a fossile of C++ inheritance,\r\nmaybe in association with String interning.\r\n\r\nTo make a _copy_ is senseless. This holds too for the internal `char` array, which indeed may be assigned by reference. (Not very consequent.)\r\n\r\nSo the following shows inexperienced java usage:\r\n\r\n    String s = new String(t);\r\n\r\nWith the newest java versions, the value of a String might actually be a byte array in some encoding, and hence the chars are lazily provided.\r\n\r\n-----------------------\r\n***About String literals:***\r\n\r\nString literals are stored in a datastructure in a .class file called the _constant pool_. Stored is it as UTF-8 bytes. The JVM ClassLoader ensures that the string is loaded as String.\r\n\r\nImports of `final static String` constants are copied into the constant pool, and the original class may no longer appear as being imported from.\r\nHolding string constant in an other class may require manually doing a clean build, as there might no longer exist a class dependency.","title":"How is Java String constructor implemented?","body":"<p>String by design holds Unicode text, so all language scripts may be combined.\nFor that the implementation holds an array (field name <code>value</code>), where every char is a two byte UTF-16 value.</p>\n\n<p>You encountered the one and AFAIK only silly point in the Java classes.</p>\n\n<p>The shown <em>copy constructor</em> is senseless, as Strings are immutable objects,\nand they may be shared by simple assignment. It is a fossile of C++ inheritance,\nmaybe in association with String interning.</p>\n\n<p>To make a <em>copy</em> is senseless. This holds too for the internal <code>char</code> array, which indeed may be assigned by reference. (Not very consequent.)</p>\n\n<p>So the following shows inexperienced java usage:</p>\n\n<pre><code>String s = new String(t);\n</code></pre>\n\n<p>With the newest java versions, the value of a String might actually be a byte array in some encoding, and hence the chars are lazily provided.</p>\n\n<hr>\n\n<p><strong><em>About String literals:</em></strong></p>\n\n<p>String literals are stored in a datastructure in a .class file called the <em>constant pool</em>. Stored is it as UTF-8 bytes. The JVM ClassLoader ensures that the string is loaded as String.</p>\n\n<p>Imports of <code>final static String</code> constants are copied into the constant pool, and the original class may no longer appear as being imported from.\nHolding string constant in an other class may require manually doing a clean build, as there might no longer exist a class dependency.</p>\n"}],"owner":{"account_id":15106940,"reputation":23,"user_id":10902333,"display_name":"AbhiS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60706565,"answer_count":3,"score":2,"last_activity_date":1666607682,"creation_date":1584361914,"question_id":60706090,"body_markdown":"I was going through Java String source code, found a CTOR where I have some doubts:\r\n\r\n    public String(String original) {\r\n        this.value = original.value;\r\n        this.hash = original.hash;\r\n    }\r\n    \r\nI understood that Original is acting as literal `String` (with double quotes) but not able to understand how is java/jvm computed `original.value` as `char` Array. What is &quot;value&quot; over here?? if value is `char` Array then how `.value` function/Field is calculated???","title":"How is Java String constructor implemented?","body":"<p>I was going through Java String source code, found a CTOR where I have some doubts:</p>\n\n<pre><code>public String(String original) {\n    this.value = original.value;\n    this.hash = original.hash;\n}\n</code></pre>\n\n<p>I understood that Original is acting as literal <code>String</code> (with double quotes) but not able to understand how is java/jvm computed <code>original.value</code> as <code>char</code> Array. What is \"value\" over here?? if value is <code>char</code> Array then how <code>.value</code> function/Field is calculated???</p>\n"},{"tags":["java","concatenation","outputstream","mutiny","smallrye"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666607296,"creation_date":1666607296,"answer_id":74179771,"question_id":74178209,"body_markdown":"Both `Multi` have to return a `Multi&lt;Customer&gt;` if you want to concatenate them.\r\n\r\nLooking at your code, it seems that what you need to do is to convert the json into a `Customer` (or collection of `Customer`) and then convert it to a `Multi`. I don&#39;t know how you convert the JSON to a `Customer`, assuming you have a function `convertToCustomer`, this is how the code should look like:\r\n```java\r\nMulti&lt;Customer&gt; customerMulti = Multi.createFrom().item( convertToCustomer(jsonGenerator)) \r\nMulti&lt;Customer&gt; customersPublisher = Multi.createFrom().publisher(new CustomerPublisher(input));\r\n\r\n// Now you can concatenate the two\r\nMulti&lt;Customer&gt; result =  Multi.createBy().concatenating()\r\n                               .streams(customerMulti, customersPublisher);\r\n```\r\n\r\nAlternatively, your method could return a `Multi&lt;Object&gt;`. But I suspect this is not what you need.","title":"How to concatenate 2 different types of streams using Smallrye Mutiny Multi?","body":"<p>Both <code>Multi</code> have to return a <code>Multi&lt;Customer&gt;</code> if you want to concatenate them.</p>\n<p>Looking at your code, it seems that what you need to do is to convert the json into a <code>Customer</code> (or collection of <code>Customer</code>) and then convert it to a <code>Multi</code>. I don't know how you convert the JSON to a <code>Customer</code>, assuming you have a function <code>convertToCustomer</code>, this is how the code should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multi&lt;Customer&gt; customerMulti = Multi.createFrom().item( convertToCustomer(jsonGenerator)) \nMulti&lt;Customer&gt; customersPublisher = Multi.createFrom().publisher(new CustomerPublisher(input));\n\n// Now you can concatenate the two\nMulti&lt;Customer&gt; result =  Multi.createBy().concatenating()\n                               .streams(customerMulti, customersPublisher);\n</code></pre>\n<p>Alternatively, your method could return a <code>Multi&lt;Object&gt;</code>. But I suspect this is not what you need.</p>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74179771,"answer_count":1,"score":1,"last_activity_date":1666607296,"creation_date":1666598963,"question_id":74178209,"body_markdown":"I would like to concatenate 2 OutputStream of different types using the method `Multi.createBy().concatenating().streams`. Is there a way to achieve this?\r\n\r\nI have 2 streams one is of `ByteArrayOutputStream` and other is of custom type `CustomerEvent` and I would like to concatenate them using the SmallRye Mutiny. Is there a way to achieve this?\r\n\r\n```\r\npublic class CustomerGenerator {\r\n\r\n    private ByteArrayOutputStream jsonOutput;\r\n    private JsonGenerator jsonGenerator;\r\n\r\n    private CustomerGenerator() {\r\n        try {\r\n            jsonOutput = new ByteArrayOutputStream();\r\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\r\n        } catch (IOException ex) {\r\n            throw new CustomerGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\r\n        }\r\n    }\r\n\r\n    public Multi &lt; Customer &gt; generateCustomer(final Input input) {\r\n        try {\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\r\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\r\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\r\n            jsonGenerator.writeEndObject(); // End body\r\n            jsonGenerator.writeEndObject(); // End whole json file\r\n\r\n            Multi &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\r\n            return Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\r\n    } catch (IOException ex) {\r\n        throw new CustomerGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\r\n    }\r\n}\r\n}\r\n```\r\n\r\nAs you can see from the code sample, I would like to concatenate the generated JSON to my other JSON of type `Customer`. Is there a way to achieve this?\r\n\r\n```\r\nMulti &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\r\nreturn Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\r\n```","title":"How to concatenate 2 different types of streams using Smallrye Mutiny Multi?","body":"<p>I would like to concatenate 2 OutputStream of different types using the method <code>Multi.createBy().concatenating().streams</code>. Is there a way to achieve this?</p>\n<p>I have 2 streams one is of <code>ByteArrayOutputStream</code> and other is of custom type <code>CustomerEvent</code> and I would like to concatenate them using the SmallRye Mutiny. Is there a way to achieve this?</p>\n<pre><code>public class CustomerGenerator {\n\n    private ByteArrayOutputStream jsonOutput;\n    private JsonGenerator jsonGenerator;\n\n    private CustomerGenerator() {\n        try {\n            jsonOutput = new ByteArrayOutputStream();\n            jsonGenerator = new JsonFactory().createGenerator(jsonOutput).useDefaultPrettyPrinter();\n        } catch (IOException ex) {\n            throw new CustomerGeneratorException(&quot;Exception occurred during the generation of customer document : &quot; + ex);\n        }\n    }\n\n    public Multi &lt; Customer &gt; generateCustomer(final Input input) {\n        try {\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeStringField(&quot;type&quot;, &quot;customerDocument&quot;);\n            jsonGenerator.writeStringField(&quot;creationDate&quot;, Instant.now().toString());\n            jsonGenerator.writeFieldName(&quot;customerBody&quot;);\n            jsonGenerator.writeStartObject();\n            jsonGenerator.writeFieldName(&quot;customerList&quot;);\n            jsonGenerator.writeEndObject(); // End body\n            jsonGenerator.writeEndObject(); // End whole json file\n\n            Multi &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\n            return Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\n    } catch (IOException ex) {\n        throw new CustomerGeneratorException(&quot;Exception occurred during customer document wrapper creation : &quot; + ex);\n    }\n}\n}\n</code></pre>\n<p>As you can see from the code sample, I would like to concatenate the generated JSON to my other JSON of type <code>Customer</code>. Is there a way to achieve this?</p>\n<pre><code>Multi &lt; ByteArrayOutputStream &gt; jsonWrapper = Multi.createFrom().item(jsonOutput);\nreturn Multi.createBy().concatenating().streams(jsonWrapper, Multi.createFrom().publisher(new CustomerPublisher(input))));\n</code></pre>\n"},{"tags":["java","class","directory","package"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666606882,"creation_date":1666606882,"answer_id":74179694,"question_id":74179361,"body_markdown":"The `-d` option specifies the output directory for class files.\r\n\r\nTry this.\r\n\r\n    C:\\jaBHa&gt;javac -d . sources\\*.java\r\n    \r\n    C:\\jaBHa&gt;java classes.Test\r\n    Mon Oct 24 19:19:05 JST 2022\r\n    \r\n    C:\\jaBHa&gt;\r\n\r\n","title":"Compile source files to a different directory and then accessing them in another directory, how? JAVA","body":"<p>The <code>-d</code> option specifies the output directory for class files.</p>\n<p>Try this.</p>\n<pre><code>C:\\jaBHa&gt;javac -d . sources\\*.java\n\nC:\\jaBHa&gt;java classes.Test\nMon Oct 24 19:19:05 JST 2022\n\nC:\\jaBHa&gt;\n</code></pre>\n"}],"owner":{"account_id":21420599,"reputation":13,"user_id":15778967,"display_name":"Debendra Nath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74179694,"answer_count":1,"score":0,"last_activity_date":1666606882,"creation_date":1666605123,"question_id":74179361,"body_markdown":"My directory structure:\r\n\r\nC:\\jaBHa\r\n\r\nhere I want to create two packages - sources and classes.\r\n\r\nso it looks like \r\n\r\nC:\\jaBHa\\classes\r\n\r\nC:\\jaBHa\\sources\r\n\r\nthe sources package must contain all the source files i.e., the .java files.\r\n\r\nAnd then I want them to compile to the classes package which would contain all the .class files.\r\n\r\nhere are the codes for the three classes...\r\n\r\n```\r\n// MyDate.java\r\npackage classes;\r\n\r\npublic interface MyDate {\r\n    void showDate();\r\n}\r\n\r\n```\r\n\r\n```\r\n// DateImpl.java\r\npackage classes;\r\n\r\nimport java.util.*;\r\nimport classes.*;\r\npublic class DateImpl implements MyDate {\r\n    public void showDate() {\r\n        Date d = new Date();\r\n        System.out.println(d);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// Test.java\r\npackage classes;\r\n\r\nimport classes.*;\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        DateImpl d = new DateImpl();\r\n        d.showDate();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, I know that there&#39;s some issue with my class DateImpl java file, but my objective is...\r\n\r\nthat I want to compile these java files using the commands\r\n\r\nC:\\jaBHa&gt; javac -d C:\\jaBHa\\sources MyDate.java\r\n\r\nC:\\jaBHa&gt; javac -d C:\\jaBHa\\sources DateImpl.java\r\n\r\nC:\\jaBHa&gt; javac -d C:\\jaBHa\\sources Test.java\r\n\r\nwith this the MyDate.java, DateImpl.java and Test.java files will compile to classes package...\r\n\r\nand then i run it by typing\r\n\r\nC:\\jaBHa&gt; java classes.Test \r\n\r\nas the class file of Test.java is in C:\\jaBHa\\sources\\classes package...\r\n\r\nbut here&#39;s the problem, it compiles to C:\\jaBHa\\sources\\ here it will create a package classes but I want it to compile to C:\\jaBHa\\classes not C:\\jaBHa\\sources\\classes...\r\n\r\nso I have to keep my all java files in C:\\jaBHa\\ so that it can compile to classes package.","title":"Compile source files to a different directory and then accessing them in another directory, how? JAVA","body":"<p>My directory structure:</p>\n<p>C:\\jaBHa</p>\n<p>here I want to create two packages - sources and classes.</p>\n<p>so it looks like</p>\n<p>C:\\jaBHa\\classes</p>\n<p>C:\\jaBHa\\sources</p>\n<p>the sources package must contain all the source files i.e., the .java files.</p>\n<p>And then I want them to compile to the classes package which would contain all the .class files.</p>\n<p>here are the codes for the three classes...</p>\n<pre><code>// MyDate.java\npackage classes;\n\npublic interface MyDate {\n    void showDate();\n}\n\n</code></pre>\n<pre><code>// DateImpl.java\npackage classes;\n\nimport java.util.*;\nimport classes.*;\npublic class DateImpl implements MyDate {\n    public void showDate() {\n        Date d = new Date();\n        System.out.println(d);\n    }\n}\n\n</code></pre>\n<pre><code>// Test.java\npackage classes;\n\nimport classes.*;\npublic class Test {\n    public static void main(String[] args) {\n        DateImpl d = new DateImpl();\n        d.showDate();\n    }\n}\n\n</code></pre>\n<p>Now, I know that there's some issue with my class DateImpl java file, but my objective is...</p>\n<p>that I want to compile these java files using the commands</p>\n<p>C:\\jaBHa&gt; javac -d C:\\jaBHa\\sources MyDate.java</p>\n<p>C:\\jaBHa&gt; javac -d C:\\jaBHa\\sources DateImpl.java</p>\n<p>C:\\jaBHa&gt; javac -d C:\\jaBHa\\sources Test.java</p>\n<p>with this the MyDate.java, DateImpl.java and Test.java files will compile to classes package...</p>\n<p>and then i run it by typing</p>\n<p>C:\\jaBHa&gt; java classes.Test</p>\n<p>as the class file of Test.java is in C:\\jaBHa\\sources\\classes package...</p>\n<p>but here's the problem, it compiles to C:\\jaBHa\\sources\\ here it will create a package classes but I want it to compile to C:\\jaBHa\\classes not C:\\jaBHa\\sources\\classes...</p>\n<p>so I have to keep my all java files in C:\\jaBHa\\ so that it can compile to classes package.</p>\n"},{"tags":["java","android","locale"],"answers":[{"comments":[{"owner":{"account_id":16825946,"reputation":298,"user_id":12165242,"display_name":"Dennis Nguyen"},"score":0,"creation_date":1666660298,"post_id":74179692,"comment_id":130985077,"body_markdown":"Thanks but I don&#39;t think this is going to me with my problem.","body":"Thanks but I don&#39;t think this is going to me with my problem."}],"tags":[],"owner":{"account_id":16691391,"reputation":48,"user_id":12063888,"display_name":"Winston"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666606879,"creation_date":1666606879,"answer_id":74179692,"question_id":74179542,"body_markdown":"This may help you. ref: https://developer.android.com/guide/topics/resources/providing-resources \r\n\r\nLayout\r\nTo create an alias to an existing layout, use the &lt;include&gt; element, wrapped in a &lt;merge&gt;. For example:\r\n\r\n\r\n             &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n             &lt;merge&gt;\r\n                     &lt;include layout=&quot;@layout/main_ltr&quot;/&gt;\r\n             &lt;/merge&gt; ","title":"Android how to change locale ONLY specifics Activities/Fragments","body":"<p>This may help you. ref: <a href=\"https://developer.android.com/guide/topics/resources/providing-resources\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/resources/providing-resources</a></p>\n<p>Layout\nTo create an alias to an existing layout, use the  element, wrapped in a . For example:</p>\n<pre><code>         &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n         &lt;merge&gt;\n                 &lt;include layout=&quot;@layout/main_ltr&quot;/&gt;\n         &lt;/merge&gt; \n</code></pre>\n"}],"owner":{"account_id":16825946,"reputation":298,"user_id":12165242,"display_name":"Dennis Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666606879,"creation_date":1666606018,"question_id":74179542,"body_markdown":"I know this kind of problems had been discussed various times before but I still can not find a solution to my specific case. Let&#39;s say I want to change the locale for my text resources only in specific UI elements through a &quot;Change Locale&quot; button. Here is my approach:\r\nWhen user clicks the button, I update the each elements that needed translated. The code how I do it:\r\n\r\n    public Resources getResourcesByLocale(Context context, String languageCode) {\r\n        if (context == null || languageCode.isEmpty()) return null;\r\n        Configuration configuration = context.getResources().getConfiguration();\r\n        String[] languageCountry = languageCode.split(&quot;-&quot;);\r\n        int size = languageCountry.length;\r\n        if (size &lt; 2) {\r\n            Log.d(TAG, &quot;language and country is not correct in local&quot; + size);\r\n            return null;\r\n        } else {\r\n            Log.d(TAG, &quot;value of langauge &quot; + languageCountry[0] + &quot; value of country :  &quot; + languageCountry[1]);\r\n            String language = languageCountry[0];\r\n            String country = languageCountry[1];\r\n            configuration.setLocale(new Locale(language));\r\n\r\n            return context.createConfigurationContext(configuration).getResources();\r\n        }\r\n    }\r\n\r\nThis code calls whenever I need update my text views:\r\n\r\n    public void updateTextByLocale(Context context, String languageCode, TextView tv, int resId) {\r\n        tv.setText(getResourcesByLocale(context, languageCode).getString(resId));\r\n    }\r\n\r\nHowever, my application crashes with the exception \r\n\r\n&gt; android.content.res.Resources$NotFoundException: String resource ID\r\n&gt; #0x7f0e0074\r\n\r\nMy string resources have the value for both US and KR language. Please help!","title":"Android how to change locale ONLY specifics Activities/Fragments","body":"<p>I know this kind of problems had been discussed various times before but I still can not find a solution to my specific case. Let's say I want to change the locale for my text resources only in specific UI elements through a &quot;Change Locale&quot; button. Here is my approach:\nWhen user clicks the button, I update the each elements that needed translated. The code how I do it:</p>\n<pre><code>public Resources getResourcesByLocale(Context context, String languageCode) {\n    if (context == null || languageCode.isEmpty()) return null;\n    Configuration configuration = context.getResources().getConfiguration();\n    String[] languageCountry = languageCode.split(&quot;-&quot;);\n    int size = languageCountry.length;\n    if (size &lt; 2) {\n        Log.d(TAG, &quot;language and country is not correct in local&quot; + size);\n        return null;\n    } else {\n        Log.d(TAG, &quot;value of langauge &quot; + languageCountry[0] + &quot; value of country :  &quot; + languageCountry[1]);\n        String language = languageCountry[0];\n        String country = languageCountry[1];\n        configuration.setLocale(new Locale(language));\n\n        return context.createConfigurationContext(configuration).getResources();\n    }\n}\n</code></pre>\n<p>This code calls whenever I need update my text views:</p>\n<pre><code>public void updateTextByLocale(Context context, String languageCode, TextView tv, int resId) {\n    tv.setText(getResourcesByLocale(context, languageCode).getString(resId));\n}\n</code></pre>\n<p>However, my application crashes with the exception</p>\n<blockquote>\n<p>android.content.res.Resources$NotFoundException: String resource ID\n#0x7f0e0074</p>\n</blockquote>\n<p>My string resources have the value for both US and KR language. Please help!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1666595649,"post_id":74177639,"comment_id":130965615,"body_markdown":"(BTW that is not an *inner class*, just a *nested class* - Java Language Specification [8.1.3. Inner Classes and Enclosing Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3-120): &quot;The following nested classes are implicitly `static`, so are not *inner* classes: ... - a member class of an interface&quot; - and since `static`, you have no `T` type for it {at least not the one from the interface})","body":"(BTW that is not an <i>inner class</i>, just a <i>nested class</i> - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3-120\" rel=\"nofollow noreferrer\">8.1.3. Inner Classes and Enclosing Instances</a>: &quot;The following nested classes are implicitly <code>static</code>, so are not <i>inner</i> classes: ... - a member class of an interface&quot; - and since <code>static</code>, you have no <code>T</code> type for it {at least not the one from the interface})"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1666595760,"post_id":74177639,"comment_id":130965638,"body_markdown":"*How can I make the code compile* -&gt; Make `Builder` also generic -&gt; `Builder&lt;T&gt;`.","body":"<i>How can I make the code compile</i> -&gt; Make <code>Builder</code> also generic -&gt; <code>Builder&lt;T&gt;</code>."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1666596068,"post_id":74177639,"comment_id":130965718,"body_markdown":"you need to show the _entire_ `Processor` (what is and where is `Person`?) and also exactly how you get that error.","body":"you need to show the <i>entire</i> <code>Processor</code> (what is and where is <code>Person</code>?) and also exactly how you get that error."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666596070,"post_id":74177639,"comment_id":130965719,"body_markdown":"using previous [solution](https://stackoverflow.com/questions/74177639/inner-class-does-not-have-access-to-t-of-the-outer-interface#comment130965638_74177639) (from Lino): be aware that `Builder&lt;T&gt;` is using a different `T` than the one of the interface (recommended to use a different type name)","body":"using previous <a href=\"https://stackoverflow.com/questions/74177639/inner-class-does-not-have-access-to-t-of-the-outer-interface#comment130965638_74177639\">solution</a> (from Lino): be aware that <code>Builder&lt;T&gt;</code> is using a different <code>T</code> than the one of the interface (recommended to use a different type name)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666618490,"post_id":74177639,"comment_id":130973170,"body_markdown":"Why do you even try this approach if it doesn’t even address your (previous) question?","body":"Why do you even try this approach if it doesn’t even address your (previous) question?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666621466,"post_id":74177639,"comment_id":130974397,"body_markdown":"@Holger: I didn&#39;t realise that it won&#39;t help until I started trying it. I couldn&#39;t understand the answer initially and wanted to try it out in case it started to make sense","body":"@Holger: I didn&#39;t realise that it won&#39;t help until I started trying it. I couldn&#39;t understand the answer initially and wanted to try it out in case it started to make sense"}],"answers":[{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666596791,"post_id":74177733,"comment_id":130965903,"body_markdown":"The `Builder` does have logic it is just that I showed the part that does not compile. If you check the answer linked in my post you can see the builder logic","body":"The <code>Builder</code> does have logic it is just that I showed the part that does not compile. If you check the answer linked in my post you can see the builder logic"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666597011,"post_id":74177733,"comment_id":130965954,"body_markdown":"@Jim the linked answer does not compiler. You cannot `new` an interface. The nested `Builder` class has no relation to the enclosing interface; they are unrelated. If you must, you can make `Builder` generic itself (but its T will be different from Processor&#39;s T)","body":"@Jim the linked answer does not compiler. You cannot <code>new</code> an interface. The nested <code>Builder</code> class has no relation to the enclosing interface; they are unrelated. If you must, you can make <code>Builder</code> generic itself (but its T will be different from Processor&#39;s T)"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1666600404,"post_id":74177733,"comment_id":130967039,"body_markdown":"Consider adding JLS sources per user16320675&#39;s first comment.","body":"Consider adding JLS sources per user16320675&#39;s first comment."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666596195,"creation_date":1666596090,"answer_id":74177733,"question_id":74177639,"body_markdown":"`Processor` is not a class, it&#39;s an interface. Nested classes in interfaces are `static` by default.\r\n\r\nBut the builder does not define any logic. Move the builder to the implementation (classes) of the interface.\r\n\r\n```\r\npublic class RealProcessor&lt;T&gt; implements Processor&lt;T&gt; {\r\n     class Builder {\r\n        private T t = null;  // assign default values\r\n        private String firstName = null;\r\n        private String lastName = null;\r\n        private String cc = null;\r\n    }\r\n    List&lt;Person&gt; process();\r\n}\r\n```","title":"Inner class does not have access to &lt;T&gt; of the outer interface","body":"<p><code>Processor</code> is not a class, it's an interface. Nested classes in interfaces are <code>static</code> by default.</p>\n<p>But the builder does not define any logic. Move the builder to the implementation (classes) of the interface.</p>\n<pre><code>public class RealProcessor&lt;T&gt; implements Processor&lt;T&gt; {\n     class Builder {\n        private T t = null;  // assign default values\n        private String firstName = null;\n        private String lastName = null;\n        private String cc = null;\n    }\n    List&lt;Person&gt; process();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666606515,"creation_date":1666606515,"answer_id":74179633,"question_id":74177639,"body_markdown":"You will need to make static class `Builder` generic if it is declared inside the interface:\r\n\r\n    public interface Processor &lt;T&gt; {\r\n        class Builder&lt;T&gt; {\r\n           private T t = null;\r\n           // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nNote that as `Builder` is a static class the name of the generic does not need to be `&lt;T&gt;`, this is an equivalent declaration using `&lt;X&gt;`:\r\n\r\n    public interface Processor &lt;T&gt; {\r\n        class Builder&lt;X&gt; {\r\n           private X t = null;\r\n           // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nThe instantiation for both is same without need to qualify `Processor` generic type:\r\n \r\n    Builder&lt;SomeClass&gt; builder = new Processor.Builder&lt;SomeClass&gt;(arg, ... );\r\n","title":"Inner class does not have access to &lt;T&gt; of the outer interface","body":"<p>You will need to make static class <code>Builder</code> generic if it is declared inside the interface:</p>\n<pre><code>public interface Processor &lt;T&gt; {\n    class Builder&lt;T&gt; {\n       private T t = null;\n       // ...\n    }\n    // ...\n}\n</code></pre>\n<p>Note that as <code>Builder</code> is a static class the name of the generic does not need to be <code>&lt;T&gt;</code>, this is an equivalent declaration using <code>&lt;X&gt;</code>:</p>\n<pre><code>public interface Processor &lt;T&gt; {\n    class Builder&lt;X&gt; {\n       private X t = null;\n       // ...\n    }\n    // ...\n}\n</code></pre>\n<p>The instantiation for both is same without need to qualify <code>Processor</code> generic type:</p>\n<pre><code>Builder&lt;SomeClass&gt; builder = new Processor.Builder&lt;SomeClass&gt;(arg, ... );\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666606515,"creation_date":1666595379,"question_id":74177639,"body_markdown":"I am trying to follow the approach given in this [answer][1] of my earlier question:  \r\nBut the code does not compile:  \r\n\r\n    public interface Processor &lt;T&gt; {\r\n         class Builder {\r\n            private T t = null;  // assign default values\r\n            private String firstName = null;\r\n            private String lastName = null;\r\n            private String cc = null;\r\n        }\r\n        List&lt;Person&gt; process();\r\n    }  \r\n\r\nI get the error\r\n\r\n    com.foo.Processor.this can not be referenced from a static context \r\n\r\nHow can I make the code compile so I can try out the approach of that answer?\r\n\r\n  [1]: https://stackoverflow.com/questions/74173946/factory-pattern-using-a-hashmap-and-functional-approach\r\n\r\n","title":"Inner class does not have access to &lt;T&gt; of the outer interface","body":"<p>I am trying to follow the approach given in this <a href=\"https://stackoverflow.com/questions/74173946/factory-pattern-using-a-hashmap-and-functional-approach\">answer</a> of my earlier question:<br />\nBut the code does not compile:</p>\n<pre><code>public interface Processor &lt;T&gt; {\n     class Builder {\n        private T t = null;  // assign default values\n        private String firstName = null;\n        private String lastName = null;\n        private String cc = null;\n    }\n    List&lt;Person&gt; process();\n}  \n</code></pre>\n<p>I get the error</p>\n<pre><code>com.foo.Processor.this can not be referenced from a static context \n</code></pre>\n<p>How can I make the code compile so I can try out the approach of that answer?</p>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":4526743,"reputation":2527,"user_id":3678308,"accept_rate":100,"display_name":"Muhammad Waleed"},"score":1,"creation_date":1462867288,"post_id":37131212,"comment_id":61804519,"body_markdown":"try this answer.... http://stackoverflow.com/a/30450020/3678308","body":"try this answer.... <a href=\"http://stackoverflow.com/a/30450020/3678308\">stackoverflow.com/a/30450020/3678308</a>"}],"answers":[{"comments":[{"owner":{"account_id":5068479,"reputation":3092,"user_id":4067954,"accept_rate":83,"display_name":"Elham Kohestani"},"score":0,"creation_date":1462880953,"post_id":37132229,"comment_id":61814027,"body_markdown":"MarkySmarky, I run the command but I think there is more than 4,5 pages of info I cant paste it here, so I run gradle build --stacktrace. Please check the updated part of the question for log output.","body":"MarkySmarky, I run the command but I think there is more than 4,5 pages of info I cant paste it here, so I run gradle build --stacktrace. Please check the updated part of the question for log output."}],"tags":[],"owner":{"account_id":1324242,"reputation":1619,"user_id":1269429,"display_name":"MarkySmarky"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1462866290,"creation_date":1462866290,"answer_id":37132229,"question_id":37131212,"body_markdown":"Try running gradle from command line:\r\n\r\n    gradle clean build --debug\r\n\r\nAnd post your log afterwards.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>Try running gradle from command line:</p>\n\n<pre><code>gradle clean build --debug\n</code></pre>\n\n<p>And post your log afterwards.</p>\n"},{"comments":[{"owner":{"account_id":5068479,"reputation":3092,"user_id":4067954,"accept_rate":83,"display_name":"Elham Kohestani"},"score":0,"creation_date":1462884175,"post_id":37132627,"comment_id":61816526,"body_markdown":"It didn&#39;t work.Anyway thanks for posting your time. :)","body":"It didn&#39;t work.Anyway thanks for posting your time. :)"}],"tags":[],"owner":{"account_id":6257625,"reputation":113,"user_id":4865689,"display_name":"Pooja Nair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462867577,"creation_date":1462867577,"answer_id":37132627,"question_id":37131212,"body_markdown":"Just check this link - https://stackoverflow.com/questions/17121033/android-studio-mergedebugresources-exception and https://stackoverflow.com/questions/23366222/libpng-error-not-a-png-file-error-showing-in-android-studio\r\n\r\nYou can try this command as well sudo apt-get install lib32stdc++6 on the console if you are working on a linux machine, then restart android studio and run your project ","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>Just check this link - <a href=\"https://stackoverflow.com/questions/17121033/android-studio-mergedebugresources-exception\">Android Studio - mergeDebugResources exception</a> and <a href=\"https://stackoverflow.com/questions/23366222/libpng-error-not-a-png-file-error-showing-in-android-studio\">libpng error: Not a PNG file Error Showing In Android Studio</a></p>\n\n<p>You can try this command as well sudo apt-get install lib32stdc++6 on the console if you are working on a linux machine, then restart android studio and run your project </p>\n"},{"tags":[],"owner":{"account_id":5068479,"reputation":3092,"user_id":4067954,"accept_rate":83,"display_name":"Elham Kohestani"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1462884051,"creation_date":1462884051,"answer_id":37138868,"question_id":37131212,"body_markdown":"All problem was a crashed png image in one of my drawable folders. I mean the images which we sometime face in windows photo viewer, like the one below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Qjwx2.png\r\n\r\nI dropped the image from the folder and all problem got solved.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>All problem was a crashed png image in one of my drawable folders. I mean the images which we sometime face in windows photo viewer, like the one below:\n<a href=\"https://i.stack.imgur.com/Qjwx2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qjwx2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I dropped the image from the folder and all problem got solved.</p>\n"},{"comments":[{"owner":{"account_id":2431801,"reputation":375,"user_id":2122548,"accept_rate":14,"display_name":"siva"},"score":2,"creation_date":1489127347,"post_id":40928360,"comment_id":72544248,"body_markdown":"Thanks lot @shadyagoneinsane , you saved me lot .","body":"Thanks lot @shadyagoneinsane , you saved me lot ."},{"owner":{"account_id":9666645,"reputation":163,"user_id":7172928,"accept_rate":40,"display_name":"Natalie"},"score":0,"creation_date":1496736200,"post_id":40928360,"comment_id":75768951,"body_markdown":"thanks so much! I&#39;ve imported a project from Eclipse to ANdroid Studio and had this error &quot;Error: java.lang.RuntimeException: Some file crunching failed, see logs for details&quot; .","body":"thanks so much! I&#39;ve imported a project from Eclipse to ANdroid Studio and had this error &quot;Error: java.lang.RuntimeException: Some file crunching failed, see logs for details&quot; ."},{"owner":{"account_id":8116325,"reputation":304,"user_id":6819563,"accept_rate":17,"display_name":"Ashish Patel"},"score":0,"creation_date":1502868188,"post_id":40928360,"comment_id":78372785,"body_markdown":"it didn&#39;t work for me.!!! below is my error log...\nError:Execution failed for task &#39;:app:mergeDebugResources&#39;.\n&gt; Error: java.lang.RuntimeException: Some file crunching failed, see logs for details\nError:java.lang.RuntimeException: Some file crunching failed, see logs for details","body":"it didn&#39;t work for me.!!! below is my error log... Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Error: java.lang.RuntimeException: Some file crunching failed, see logs for details Error:java.lang.RuntimeException: Some file crunching failed, see logs for details"},{"owner":{"display_name":"user8690908"},"score":0,"creation_date":1508252607,"post_id":40928360,"comment_id":80533284,"body_markdown":"In spite of ignoring this warning, you should try to fix it out in the proper way.","body":"In spite of ignoring this warning, you should try to fix it out in the proper way."},{"owner":{"account_id":4490441,"reputation":647,"user_id":3651662,"display_name":"silwalprabin"},"score":0,"creation_date":1522766602,"post_id":40928360,"comment_id":86273026,"body_markdown":"Thank you:) Worked in my case .","body":"Thank you:) Worked in my case ."}],"tags":[],"owner":{"account_id":6653281,"reputation":2222,"user_id":5134647,"accept_rate":73,"display_name":"shadygoneinsane"},"comment_count":5,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1485237017,"creation_date":1480669620,"answer_id":40928360,"question_id":37131212,"body_markdown":"In the individual apps&#39;s build.gradle, section `android {}`, insert :\r\n\r\n    aaptOptions {  \r\n        cruncherEnabled = false  \r\n    }  \r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=65335","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>In the individual apps's build.gradle, section <code>android {}</code>, insert :</p>\n\n<pre><code>aaptOptions {  \n    cruncherEnabled = false  \n}  \n</code></pre>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=65335\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":3424068,"reputation":1784,"user_id":2870477,"display_name":"Floris M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501504419,"creation_date":1501504419,"answer_id":45416081,"question_id":37131212,"body_markdown":"For me, it was a corrupted PNG file. Go to your `res` folder and try to open every images.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>For me, it was a corrupted PNG file. Go to your <code>res</code> folder and try to open every images.</p>\n"},{"tags":[],"owner":{"display_name":"user8356857"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501648011,"creation_date":1501648011,"answer_id":45451472,"question_id":37131212,"body_markdown":"compress the project file and delete prjct. and extract it and open ","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>compress the project file and delete prjct. and extract it and open </p>\n"},{"tags":[],"owner":{"account_id":11889801,"reputation":27,"user_id":8701047,"display_name":"Neon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664170430,"creation_date":1507603807,"answer_id":46657926,"question_id":37131212,"body_markdown":"Actually, image file something wrong. Go to (`drawable`) and remove image or replace with new image.This will solve problem.\r\n\r\nIn addition, you can put method in (`build.gradle`), but This will not solve the problem but good way to catch up what was wrong.\r\n\r\nIn `build.gradle`, section `android {}`, insert `aaptOptions { cruncherEnabled = false }`.\r\n","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>Actually, image file something wrong. Go to (<code>drawable</code>) and remove image or replace with new image.This will solve problem.</p>\n<p>In addition, you can put method in (<code>build.gradle</code>), but This will not solve the problem but good way to catch up what was wrong.</p>\n<p>In <code>build.gradle</code>, section <code>android {}</code>, insert <code>aaptOptions { cruncherEnabled = false }</code>.</p>\n"},{"tags":[],"owner":{"account_id":3651596,"reputation":21,"user_id":3043644,"display_name":"Vicky Pramanik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511934783,"creation_date":1511934783,"answer_id":47545962,"question_id":37131212,"body_markdown":"In my res folder I created a 9PNG file. After deleting this file everthing is working fine.\r\n","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>In my res folder I created a 9PNG file. After deleting this file everthing is working fine.</p>\n"},{"tags":[],"owner":{"account_id":8161752,"reputation":5609,"user_id":6145568,"display_name":"devDeejay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513453080,"creation_date":1513453080,"answer_id":47849293,"question_id":37131212,"body_markdown":" 1. Browse Through Your Project Manifest and Resource Files to see if\r\n    there is an error in the Images you are using. (I was missing the\r\n    roundLauncherIcon).\r\n 2.  Check if all the images that you are using are\r\n    actually existing.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<ol>\n<li>Browse Through Your Project Manifest and Resource Files to see if\nthere is an error in the Images you are using. (I was missing the\nroundLauncherIcon).</li>\n<li>Check if all the images that you are using are\nactually existing.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521056846,"creation_date":1521056846,"answer_id":49286530,"question_id":37131212,"body_markdown":"For me, I was getting this error because the full path to the folder was longer than allowed by Windows. I moved my build to a shallower path and this error went away.\r\n\r\nRelated question: https://stackoverflow.com/questions/39595441/android-studio-2-2-google-play-services-sync-error","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>For me, I was getting this error because the full path to the folder was longer than allowed by Windows. I moved my build to a shallower path and this error went away.</p>\n\n<p>Related question: <a href=\"https://stackoverflow.com/questions/39595441/android-studio-2-2-google-play-services-sync-error\">Android Studio 2.2 Google play services sync Error</a></p>\n"},{"tags":[],"owner":{"account_id":9446096,"reputation":1412,"user_id":7024806,"display_name":"Wasi Sadman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564048601,"creation_date":1564048601,"answer_id":57199236,"question_id":37131212,"body_markdown":"On react native\n\nWhen you&#39;re inside your project directory try using :\n\n&gt; $ cd android &amp;&amp; gradlew clean\n&gt;\n&gt; $ cd .. &amp;&amp; react-native run-android","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>On react native</p>\n<p>When you're inside your project directory try using :</p>\n<blockquote>\n<p>$ cd android &amp;&amp; gradlew clean</p>\n<p>$ cd .. &amp;&amp; react-native run-android</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14443543,"reputation":53,"user_id":10433432,"display_name":"sachinsaini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593050478,"creation_date":1593050478,"answer_id":62566760,"question_id":37131212,"body_markdown":"I was facing the same issue checked all the related answer but my problem was not solved.\r\nI added a new folder drawable to add icons in my app. So after deleting that folder my problem was resolved. \r\nAlso, clean the Gradle your problem will be resolved.\r\n\r\n   ` cd android &amp;&amp; gradlew clean`&lt;br&gt;\r\n   ` cd .. &amp;&amp; react-native run-android`\r\n\r\nAlso, there may be some data which is corrupted like images you have added, try to remove those images may it work.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I was facing the same issue checked all the related answer but my problem was not solved.\nI added a new folder drawable to add icons in my app. So after deleting that folder my problem was resolved.\nAlso, clean the Gradle your problem will be resolved.</p>\n<p><code> cd android &amp;&amp; gradlew clean</code><br>\n<code> cd .. &amp;&amp; react-native run-android</code></p>\n<p>Also, there may be some data which is corrupted like images you have added, try to remove those images may it work.</p>\n"},{"comments":[{"owner":{"account_id":357186,"reputation":1764,"user_id":697188,"accept_rate":90,"display_name":"Michael Welch"},"score":0,"creation_date":1603495401,"post_id":64508091,"comment_id":114065477,"body_markdown":"That is better. I&#39;ve submitted an edit to format the console output so it&#39;s easier to tell it apart from your explanation.","body":"That is better. I&#39;ve submitted an edit to format the console output so it&#39;s easier to tell it apart from your explanation."}],"tags":[],"owner":{"account_id":19810593,"reputation":1,"user_id":14509526,"display_name":"rayala venkata rao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603533366,"creation_date":1603492588,"answer_id":64508091,"question_id":37131212,"body_markdown":"I have the same error too. But it has fixed now.\r\n\r\nThe main problem is some Gradle files are corrupted. I have deleted entire .gradle file and run the project again. This time it got worked!.\r\n\r\nWhen I run after deleting .gradle file, it automatically repaired the Gradle files as shown below:\r\n\r\nLOG IN DEBUG CONSOLE:\r\n\r\n```\r\nThis seems like the library is partially migrated. Jetifier will try to rewrite the library anyway.\r\n\r\n **Example of androidX reference: &#39;androidx/annotation/NonNull&#39;\r\n Example of support library reference: &#39;android/support/annotation/NonNull&#39;**\r\n\r\n√ Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\r\n\r\nInstalling build\\app\\outputs\\flutter-apk\\app.apk...\r\n\r\nWaiting for RMX1921 to report its views...\r\n\r\nDebug service listening on ws://127.0.0.1:56754/iCJTNoGKPFA=/ws\r\n\r\nSyncing files to device RMX1921...\r\n```","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I have the same error too. But it has fixed now.</p>\n<p>The main problem is some Gradle files are corrupted. I have deleted entire .gradle file and run the project again. This time it got worked!.</p>\n<p>When I run after deleting .gradle file, it automatically repaired the Gradle files as shown below:</p>\n<p>LOG IN DEBUG CONSOLE:</p>\n<pre><code>This seems like the library is partially migrated. Jetifier will try to rewrite the library anyway.\n\n **Example of androidX reference: 'androidx/annotation/NonNull'\n Example of support library reference: 'android/support/annotation/NonNull'**\n\n√ Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\n\nInstalling build\\app\\outputs\\flutter-apk\\app.apk...\n\nWaiting for RMX1921 to report its views...\n\nDebug service listening on ws://127.0.0.1:56754/iCJTNoGKPFA=/ws\n\nSyncing files to device RMX1921...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12553354,"reputation":41,"user_id":9134063,"display_name":"Muhammad Hamza Ehsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611845990,"creation_date":1611845990,"answer_id":65939713,"question_id":37131212,"body_markdown":"In my case I have deleted all PNG files in res folder and then I have reinstalled that and it works for me","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>In my case I have deleted all PNG files in res folder and then I have reinstalled that and it works for me</p>\n"},{"tags":[],"owner":{"account_id":17627151,"reputation":11,"user_id":12792002,"display_name":"Jeremie Kapuku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611866412,"creation_date":1611866033,"answer_id":65944803,"question_id":37131212,"body_markdown":"I hope this is helpful to someone. \r\n\r\nI had the same error and tried the code sample below as well as deleting my .grade, to deleting my .build and .idea which didn&#39;t work.\r\n\r\n````\r\naaptOptions {  \r\n    cruncherEnabled = false  \r\n}  \r\n````\r\n\r\nI later discovered what was causing the error. \r\n\r\nIf the error wasn&#39;t caused by changing an image file extension manually. I suggest to check your strings or array.xml and make sure you aren&#39;t using a single quote without having backslash before the single quote.\r\n\r\nError:\r\n\r\n    C&#244;te d&#39;Ivoire\r\n\r\nFix:\r\n\r\n    C&#244;te d\\&#39;Ivoire\r\n\r\n","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I hope this is helpful to someone.</p>\n<p>I had the same error and tried the code sample below as well as deleting my .grade, to deleting my .build and .idea which didn't work.</p>\n<pre><code>aaptOptions {  \n    cruncherEnabled = false  \n}  \n</code></pre>\n<p>I later discovered what was causing the error.</p>\n<p>If the error wasn't caused by changing an image file extension manually. I suggest to check your strings or array.xml and make sure you aren't using a single quote without having backslash before the single quote.</p>\n<p>Error:</p>\n<pre><code>Côte d'Ivoire\n</code></pre>\n<p>Fix:</p>\n<pre><code>Côte d\\'Ivoire\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636354777,"creation_date":1636353208,"answer_id":69879413,"question_id":37131212,"body_markdown":"I tried everything above mentioned but couldn&#39;t find anything. Then I backed up my code and reverted to last runnable commit, after that i copy/pasted my code back to original piece by piece and added the files again and i found out the problem. I did `&lt;item&gt;Driver&#39;s License&lt;/item&gt;` which i changed to `&lt;item&gt;Driver\\&#39;s License&lt;/item&gt;` inside string array in strings.xml file.","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>I tried everything above mentioned but couldn't find anything. Then I backed up my code and reverted to last runnable commit, after that i copy/pasted my code back to original piece by piece and added the files again and i found out the problem. I did <code>&lt;item&gt;Driver's License&lt;/item&gt;</code> which i changed to <code>&lt;item&gt;Driver\\'s License&lt;/item&gt;</code> inside string array in strings.xml file.</p>\n"},{"tags":[],"owner":{"account_id":11056685,"reputation":228,"user_id":8119333,"accept_rate":100,"display_name":"BenoHiT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666606209,"creation_date":1666606209,"answer_id":74179588,"question_id":37131212,"body_markdown":"    cd adroid\r\n    ./gradlew clean\r\n\r\nworked for me","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<pre><code>cd adroid\n./gradlew clean\n</code></pre>\n<p>worked for me</p>\n"}],"owner":{"account_id":5068479,"reputation":3092,"user_id":4067954,"accept_rate":83,"display_name":"Elham Kohestani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74785,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":37138868,"answer_count":17,"score":17,"last_activity_date":1666606209,"creation_date":1462863093,"question_id":37131212,"body_markdown":"currently I am using Android Studio 2.1 when I run my App it shows me some error in Message Gradle Build saying the following\r\n\r\n   \r\n\r\n     Information:Gradle tasks [:app:clean, :app:generateDebugSources, :app:prepareDebugUnitTestDependencies, :app:mockableAndroidJar, :app:generateDebugAndroidTestSources, :app:assembleDebug]\r\n    :app:clean\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preDebugBuild UP-TO-DATE\r\n    :app:checkDebugManifest\r\n    :app:preReleaseBuild UP-TO-DATE\r\n    :app:prepareComAndroidSupportAppcompatV72221Library\r\n    :app:prepareComAndroidSupportDesign2221Library\r\n    :app:prepareComAndroidSupportSupportV42221Library\r\n    :app:prepareDebugDependencies\r\n    :app:compileDebugAidl\r\n    :app:compileDebugRenderscript\r\n    :app:generateDebugBuildConfig\r\n    :app:mergeDebugShaders\r\n    :app:compileDebugShaders\r\n    :app:generateDebugAssets\r\n    :app:mergeDebugAssets\r\n    :app:generateDebugResValues UP-TO-DATE\r\n    :app:generateDebugResources\r\n    :app:mergeDebugResources\r\n    AAPT err(Facade for 114461397): libpng error: Read Error\r\n    *Error:Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    &gt; Some file crunching failed, see logs for details*\r\n    Information:BUILD FAILED\r\n    Information:Total time: 24.87 secs\r\n    Information:1 error\r\n    Information:0 warnings\r\n    Information:See complete output in console\r\n\r\nI tried cleaning and rebuilding it but it didn&#39;t work. The answer for [this][1] question didn&#39;t work also. Any help would be appreciated, thanks.\r\n\r\n\r\n**Updated:**\r\nHere is the log output\r\n\r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\r\n    java:69)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46\r\n    )\r\n            at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskEx\r\n    ecuter.java:35)\r\n            at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n            at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n            at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExec\r\n    uter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.j\r\n    ava:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.j\r\n    ava:43)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\r\n    r.java:203)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\r\n    r.java:185)\r\n            at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecut\r\n    or.java:66)\r\n            at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:\r\n    50)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n            at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n            at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n            at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n            at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n            at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:22)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n            at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\r\n            at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\r\n            at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n            at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\r\n            at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter\r\n    .java:94)\r\n            at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n            at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\r\n            at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n            at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n            at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\r\n            at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\r\n    cuter.java:51)\r\n            at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\r\n    cuter.java:28)\r\n            at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\r\n            at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:23\r\n    7)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:21\r\n    0)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\r\n            at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\r\n            at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\r\n            at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\r\n            at org.gradle.launcher.Main.doAction(Main.java:33)\r\n            at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\r\n            at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\r\n            at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n    Caused by: java.lang.RuntimeException: Some file crunching failed, see logs for details\r\n            at com.android.builder.png.QueuedCruncher.waitForAll(QueuedCruncher.java:260)\r\n            at com.android.builder.png.QueuedCruncher.end(QueuedCruncher.java:280)\r\n            at com.android.ide.common.res2.MergedResourceWriter.end(MergedResourceWriter.java:132)\r\n            at com.android.ide.common.res2.DataMerger.mergeData(DataMerger.java:295)\r\n            at com.android.ide.common.res2.ResourceMerger.mergeData(ResourceMerger.java:405)\r\n            at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:178)\r\n            at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:88)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(A\r\n    nnotationProcessingTaskFactory.java:244)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\r\n    tionProcessingTaskFactory.java:220)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(Ann\r\n    otationProcessingTaskFactory.java:231)\r\n            at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\r\n    tionProcessingTaskFactory.java:209)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.j\r\n    ava:80)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\r\n    java:61)\r\n            ... 57 more\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30764604/execution-failed-for-task-appmergedebugresources-crunching-cruncher-png-fa","title":"Error:Execution failed for task &#39;:app:mergeDebugResources&#39;. &gt; Some file crunching failed, see logs for details build gradle issues","body":"<p>currently I am using Android Studio 2.1 when I run my App it shows me some error in Message Gradle Build saying the following</p>\n\n<pre><code> Information:Gradle tasks [:app:clean, :app:generateDebugSources, :app:prepareDebugUnitTestDependencies, :app:mockableAndroidJar, :app:generateDebugAndroidTestSources, :app:assembleDebug]\n:app:clean\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:checkDebugManifest\n:app:preReleaseBuild UP-TO-DATE\n:app:prepareComAndroidSupportAppcompatV72221Library\n:app:prepareComAndroidSupportDesign2221Library\n:app:prepareComAndroidSupportSupportV42221Library\n:app:prepareDebugDependencies\n:app:compileDebugAidl\n:app:compileDebugRenderscript\n:app:generateDebugBuildConfig\n:app:mergeDebugShaders\n:app:compileDebugShaders\n:app:generateDebugAssets\n:app:mergeDebugAssets\n:app:generateDebugResValues UP-TO-DATE\n:app:generateDebugResources\n:app:mergeDebugResources\nAAPT err(Facade for 114461397): libpng error: Read Error\n*Error:Execution failed for task ':app:mergeDebugResources'.\n&gt; Some file crunching failed, see logs for details*\nInformation:BUILD FAILED\nInformation:Total time: 24.87 secs\nInformation:1 error\nInformation:0 warnings\nInformation:See complete output in console\n</code></pre>\n\n<p>I tried cleaning and rebuilding it but it didn't work. The answer for <a href=\"https://stackoverflow.com/questions/30764604/execution-failed-for-task-appmergedebugresources-crunching-cruncher-png-fa\">this</a> question didn't work also. Any help would be appreciated, thanks.</p>\n\n<p><strong>Updated:</strong>\nHere is the log output</p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\njava:69)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46\n)\n        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskEx\necuter.java:35)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExec\nuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.j\nava:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.j\nava:43)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\nr.java:203)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecute\nr.java:185)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecut\nor.java:66)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:\n50)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\n        at org.gradle.internal.Factories$1.create(Factories.java:22)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter\n.java:94)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)\n        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\ncuter.java:51)\n        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExe\ncuter.java:28)\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:23\n7)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:21\n0)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)\n        at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n        at org.gradle.launcher.Main.doAction(Main.java:33)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\nCaused by: java.lang.RuntimeException: Some file crunching failed, see logs for details\n        at com.android.builder.png.QueuedCruncher.waitForAll(QueuedCruncher.java:260)\n        at com.android.builder.png.QueuedCruncher.end(QueuedCruncher.java:280)\n        at com.android.ide.common.res2.MergedResourceWriter.end(MergedResourceWriter.java:132)\n        at com.android.ide.common.res2.DataMerger.mergeData(DataMerger.java:295)\n        at com.android.ide.common.res2.ResourceMerger.mergeData(ResourceMerger.java:405)\n        at com.android.build.gradle.tasks.MergeResources.doFullTaskAction(MergeResources.java:178)\n        at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:88)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(A\nnnotationProcessingTaskFactory.java:244)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\ntionProcessingTaskFactory.java:220)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(Ann\notationProcessingTaskFactory.java:231)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(Annota\ntionProcessingTaskFactory.java:209)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.j\nava:80)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.\njava:61)\n        ... 57 more\n</code></pre>\n"},{"tags":["java","sql","oracle","spring-boot","plsql"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1666605056,"post_id":74179172,"comment_id":130968540,"body_markdown":"You shouldn&#39;t have quotes around your bind variable placeholder (i.e. it should be `?` not `&#39;?&#39;`), but that won&#39;t cause the error you&#39;re seeing. Are you able to see the actual SQL statement issued to the database - maybe it&#39;s in a log file somewhere?","body":"You shouldn&#39;t have quotes around your bind variable placeholder (i.e. it should be <code>?</code> not <code>&#39;?&#39;</code>), but that won&#39;t cause the error you&#39;re seeing. Are you able to see the actual SQL statement issued to the database - maybe it&#39;s in a log file somewhere?"},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1666644191,"post_id":74179172,"comment_id":130982017,"body_markdown":"On a side note: You will never get any outer joined rows with your left outer join, because you are dismissing them in your where clause right away. (If an acnts row has no clients match, then the client columns will be null in the joined row, so the clients_type_flg will not equal &#39;C&#39;.)","body":"On a side note: You will never get any outer joined rows with your left outer join, because you are dismissing them in your where clause right away. (If an acnts row has no clients match, then the client columns will be null in the joined row, so the clients_type_flg will not equal &#39;C&#39;.)"},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1667197648,"post_id":74179172,"comment_id":131105069,"body_markdown":"@ThorstenKettner I want result == 0 records from the right side, if there is no match. is the query not efficient?","body":"@ThorstenKettner I want result == 0 records from the right side, if there is no match. is the query not efficient?"},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667201115,"post_id":74179172,"comment_id":131105813,"body_markdown":"It seems you haven&#39;t understood my explanation. When there is an acnts row that has no match in clients, `from acnts left join clients on ...` creats a result row with all clients columns set to null. Then you have `where ... clients.clients_type_flg = &#39;C&#39;`. As the clients_type_flg is null in that outer-joined row, the row will get dismissed. Move that condition to the `ON` clause, so as to say &quot;outer join all clients_type_flg-C client rows to the acnts rows.","body":"It seems you haven&#39;t understood my explanation. When there is an acnts row that has no match in clients, <code>from acnts left join clients on ...</code> creats a result row with all clients columns set to null. Then you have <code>where ... clients.clients_type_flg = &#39;C&#39;</code>. As the clients_type_flg is null in that outer-joined row, the row will get dismissed. Move that condition to the <code>ON</code> clause, so as to say &quot;outer join all clients_type_flg-C client rows to the acnts rows."},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667201358,"post_id":74179172,"comment_id":131105889,"body_markdown":"BTW: Hasn&#39;t Tim&#39;s answer solved your original problem? You said you were getting ORA-00923 with your query. Has Tim&#39;s answer solved that issue for you? Then you should mark it as accepted (with the tick/check next to the answer). If you are still getting this error, then you should tell us so.","body":"BTW: Hasn&#39;t Tim&#39;s answer solved your original problem? You said you were getting ORA-00923 with your query. Has Tim&#39;s answer solved that issue for you? Then you should mark it as accepted (with the tick/check next to the answer). If you are still getting this error, then you should tell us so."},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1667228935,"post_id":74179172,"comment_id":131114909,"body_markdown":"@ThorstenKettner `select * from acnts\nouter join clients on\nclients.clients_type_flg = &#39;C&#39; and acnts_client_num = clients.clients_code` you mean to rearrange like this? I have tried to compare both cases and result returned  is the same.","body":"@ThorstenKettner <code>select * from acnts outer join clients on clients.clients_type_flg = &#39;C&#39; and acnts_client_num = clients.clients_code</code> you mean to rearrange like this? I have tried to compare both cases and result returned  is the same."},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1667229129,"post_id":74179172,"comment_id":131114994,"body_markdown":"@ThorstenKettner No Tim&#39;s answer did not solve the problem, that is not the cause of the error","body":"@ThorstenKettner No Tim&#39;s answer did not solve the problem, that is not the cause of the error"},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667250625,"post_id":74179172,"comment_id":131121565,"body_markdown":"The error message &quot;ORA-00923: FROM keyword not found where expected&quot; indicates a syntax error, but the query you are showing has no syntax error (see https://dbfiddle.uk/VJtFYLqo). This means the SQL gets mutilated on its way to the DBMS. Maybe some Java person can explain this. Maybe they will need to see more code, though.","body":"The error message &quot;ORA-00923: FROM keyword not found where expected&quot; indicates a syntax error, but the query you are showing has no syntax error (see <a href=\"https://dbfiddle.uk/VJtFYLqo\" rel=\"nofollow noreferrer\">dbfiddle.uk/VJtFYLqo</a>). This means the SQL gets mutilated on its way to the DBMS. Maybe some Java person can explain this. Maybe they will need to see more code, though."},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1667250892,"post_id":74179172,"comment_id":131121614,"body_markdown":"And yes, I meant to rearrange the `ON` clause like this. (Except that `outer join` is syntactically wrong; it must be `left outer join` or `left join`.) So, there are actually two problems: In Oracle the query runs, but you don&#39;t get the expected output. And from Java you get a syntax error. This request asks for the problem in Java. Maybe you should open another request for the problem in Oracle.","body":"And yes, I meant to rearrange the <code>ON</code> clause like this. (Except that <code>outer join</code> is syntactically wrong; it must be <code>left outer join</code> or <code>left join</code>.) So, there are actually two problems: In Oracle the query runs, but you don&#39;t get the expected output. And from Java you get a syntax error. This request asks for the problem in Java. Maybe you should open another request for the problem in Oracle."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666604912,"creation_date":1666604912,"answer_id":74179312,"question_id":74179172,"body_markdown":"The only obvious problem with your SQL statement is that you have put single quotes around the `?` placeholder.  Try using this version:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    SELECT *\r\n    FROM acnts a\r\n    LEFT JOIN clients c ON a.acnts_client_num = c.clients_code\r\n    WHERE a.acnts_internal_acnum = ? AND  -- Note: NO single quotes around ?\r\n          c.clients_type_flg = &#39;C&#39;","title":"ORA-00923: FROM keyword not found where expectedA","body":"<p>The only obvious problem with your SQL statement is that you have put single quotes around the <code>?</code> placeholder.  Try using this version:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM acnts a\nLEFT JOIN clients c ON a.acnts_client_num = c.clients_code\nWHERE a.acnts_internal_acnum = ? AND  -- Note: NO single quotes around ?\n      c.clients_type_flg = 'C'\n</code></pre>\n"}],"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666604912,"creation_date":1666604231,"question_id":74179172,"body_markdown":"I am learning SQL and Java Spring Boot.\r\n\r\nI have created an SQL statements manager in my program and used it in my java files. Below is the SQL statement.\r\n\r\n`mapSQLStmt.put(&quot;valcurpcustomer&quot;, &quot;select * from acnts left join clients on acnts.acnts_client_num = clients.clients_code where acnts.acnts_internal_acnum = &#39;?&#39; and clients.clients_type_flg=&#39;C&#39; &quot;);`\r\n\r\nand down below is how I pass `acnts.acnts_internal_acnum` into a statement.\r\n```java\r\nrevalDTO.clearMap();\r\nrevalDTO.setValue(&quot;SQLToken&quot;,&quot;valcurpcustomer&quot;);\r\nrevalDTO.setValue(&quot;Args&quot;,corpcust.trim());\r\nrevalDTO.setValue(&quot;DataTypes&quot;,&quot;S&quot;);\r\nrevalDTO = qrymgr.getInfo(revalDTO);\r\nif(revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowPresent&quot;)) {\r\n\r\n}\r\nelse if (revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowNotPresent&quot;)) {\r\n    revalDTO.setValue(ErrorKey, &quot;Only Corporate Customer ... &quot;);\r\n    merrmsg = &quot;MF:txtCustomerCode|&quot;+revalDTO.getValue(ErrorKey).toString();\r\n    return false;\r\n}\r\n```\r\n\r\n`qrymgr` is the query manager\r\n\r\nBut even though I am passing the existing field in DB I am getting this error.\r\n\r\nPlease educate me or point me in a direction where I can learn.\r\n\r\nI apologize for my English, I am using a translator.","title":"ORA-00923: FROM keyword not found where expectedA","body":"<p>I am learning SQL and Java Spring Boot.</p>\n<p>I have created an SQL statements manager in my program and used it in my java files. Below is the SQL statement.</p>\n<p><code>mapSQLStmt.put(&quot;valcurpcustomer&quot;, &quot;select * from acnts left join clients on acnts.acnts_client_num = clients.clients_code where acnts.acnts_internal_acnum = '?' and clients.clients_type_flg='C' &quot;);</code></p>\n<p>and down below is how I pass <code>acnts.acnts_internal_acnum</code> into a statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>revalDTO.clearMap();\nrevalDTO.setValue(&quot;SQLToken&quot;,&quot;valcurpcustomer&quot;);\nrevalDTO.setValue(&quot;Args&quot;,corpcust.trim());\nrevalDTO.setValue(&quot;DataTypes&quot;,&quot;S&quot;);\nrevalDTO = qrymgr.getInfo(revalDTO);\nif(revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowPresent&quot;)) {\n\n}\nelse if (revalDTO.getValue(&quot;Result&quot;).equalsIgnoreCase(&quot;RowNotPresent&quot;)) {\n    revalDTO.setValue(ErrorKey, &quot;Only Corporate Customer ... &quot;);\n    merrmsg = &quot;MF:txtCustomerCode|&quot;+revalDTO.getValue(ErrorKey).toString();\n    return false;\n}\n</code></pre>\n<p><code>qrymgr</code> is the query manager</p>\n<p>But even though I am passing the existing field in DB I am getting this error.</p>\n<p>Please educate me or point me in a direction where I can learn.</p>\n<p>I apologize for my English, I am using a translator.</p>\n"},{"tags":["java","spring-boot","mocking","mutual-authentication"],"answers":[{"tags":[],"owner":{"account_id":2047086,"reputation":1264,"user_id":1826943,"accept_rate":100,"display_name":"hecko84"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610527557,"creation_date":1610527557,"answer_id":65698380,"question_id":65681138,"body_markdown":"As I haven&#39;t found a way, I went for com.github.tomakehurst.wiremock.WireMockServer which works pretty good. Here is how I set it up, please note that I needed to add keyManagerPassword as well (I&#39;m not sure why, but it&#39;s simply the one of the keystore)\r\n\r\n      public WireMockServer mutualTlsMock;\r\n  \r\n      @BeforeEach\r\n      void setUp() {\r\n        mutualTlsMock = new WireMockServer(options()\r\n          .httpsPort(8443)\r\n          .needClientAuth(true)\r\n          .keystorePath(&quot;path/to/my/keystore.jks&quot;)\r\n          .keystorePassword(&quot;keystorePassword&quot;)\r\n          .keyManagerPassword(&quot;keystorePassword&quot;)\r\n          .trustStorePath(&quot;path/to/my/keystore.jks&quot;)\r\n          .trustStorePassword(&quot;keystorePassword&quot;));\r\n        mutualTlsMock.start();\r\n      }\r\n\r\n      @AfterEach\r\n      void shutdown() {\r\n        mutualTlsMock.shutdown();\r\n      }","title":"Does MockRestServiceServer support mutual TLS and if so, how to configure it?","body":"<p>As I haven't found a way, I went for com.github.tomakehurst.wiremock.WireMockServer which works pretty good. Here is how I set it up, please note that I needed to add keyManagerPassword as well (I'm not sure why, but it's simply the one of the keystore)</p>\n<pre><code>  public WireMockServer mutualTlsMock;\n\n  @BeforeEach\n  void setUp() {\n    mutualTlsMock = new WireMockServer(options()\n      .httpsPort(8443)\n      .needClientAuth(true)\n      .keystorePath(&quot;path/to/my/keystore.jks&quot;)\n      .keystorePassword(&quot;keystorePassword&quot;)\n      .keyManagerPassword(&quot;keystorePassword&quot;)\n      .trustStorePath(&quot;path/to/my/keystore.jks&quot;)\n      .trustStorePassword(&quot;keystorePassword&quot;));\n    mutualTlsMock.start();\n  }\n\n  @AfterEach\n  void shutdown() {\n    mutualTlsMock.shutdown();\n  }\n</code></pre>\n"}],"owner":{"account_id":2047086,"reputation":1264,"user_id":1826943,"accept_rate":100,"display_name":"hecko84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65698380,"answer_count":1,"score":3,"last_activity_date":1666603992,"creation_date":1610443664,"question_id":65681138,"body_markdown":"We use `org.springframework.test.web.client.MockRestServiceServer` in our IT tests to verify our `RestTemplate` handling. Now, I need to include also some tests for mutual authentication and I&#39;m not sure if this is possible and how to achieve that. Does `MockRestServiceServer` support that or do I need to go for something else?","title":"Does MockRestServiceServer support mutual TLS and if so, how to configure it?","body":"<p>We use <code>org.springframework.test.web.client.MockRestServiceServer</code> in our IT tests to verify our <code>RestTemplate</code> handling. Now, I need to include also some tests for mutual authentication and I'm not sure if this is possible and how to achieve that. Does <code>MockRestServiceServer</code> support that or do I need to go for something else?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1666606000,"post_id":74179088,"comment_id":130968831,"body_markdown":"What about just adding `or :p_user_name = &#39;&#39;`?","body":"What about just adding <code>or :p_user_name = &#39;&#39;</code>?"},{"owner":{"account_id":2032581,"reputation":337,"user_id":1815842,"accept_rate":100,"display_name":"Sieva K"},"score":0,"creation_date":1666712765,"post_id":74179088,"comment_id":130999474,"body_markdown":"The change breaks existing code. `:arg IS NULL` was better than `:arg = &#39;&#39;` IMO.","body":"The change breaks existing code. <code>:arg IS NULL</code> was better than <code>:arg = &#39;&#39;</code> IMO."},{"owner":{"account_id":2032581,"reputation":337,"user_id":1815842,"accept_rate":100,"display_name":"Sieva K"},"score":0,"creation_date":1666713723,"post_id":74179088,"comment_id":130999841,"body_markdown":"Issue open in spring-data-jpa: https://github.com/spring-projects/spring-data-jpa/issues/2683","body":"Issue open in spring-data-jpa: <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2683\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-jpa/issues/2683</a>"}],"owner":{"account_id":7137145,"reputation":31,"user_id":5456310,"display_name":"Yuvanakannan Ganesan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666603699,"creation_date":1666603699,"question_id":74179088,"body_markdown":"After Upgrading to spring boot 2.7.5 from 2.7.4, we can see that the NULL query parameters which involves &quot;LIKE&quot; clause are getting bound as empty strings and not as NULL. The same is  bound as NULL, if the query condition is &quot;=&quot;.\r\n\r\nFor example\r\n\r\nIf the query is as below and the p_user_name is passed as NULL,\r\n    ```select user from User where :p_user_name is null or userName = :p_user_name```\r\n\r\nthe parameter is properly getting bound as NULL,\r\nbinding parameter [1] as [VARCHAR] - [null]\r\nbinding parameter [2] as [VARCHAR] - [null]\r\n\r\nWhereas  if the query is changed to like below\r\n    ```select user from User where :p_user_name is null or userName LIKE :p_user_name```\r\n\r\nthe parameter is incorrectly getting bound as EMPTY Strings,\r\nbinding parameter [1] as [VARCHAR] - []\r\nbinding parameter [2] as [VARCHAR] - []\r\n\r\nThe existing functionalities are impact due to this.","title":"Issue with JPA parameter binding after upgrading to spring boot 2.7.5","body":"<p>After Upgrading to spring boot 2.7.5 from 2.7.4, we can see that the NULL query parameters which involves &quot;LIKE&quot; clause are getting bound as empty strings and not as NULL. The same is  bound as NULL, if the query condition is &quot;=&quot;.</p>\n<p>For example</p>\n<p>If the query is as below and the p_user_name is passed as NULL,\n<code>select user from User where :p_user_name is null or userName = :p_user_name</code></p>\n<p>the parameter is properly getting bound as NULL,\nbinding parameter [1] as [VARCHAR] - [null]\nbinding parameter [2] as [VARCHAR] - [null]</p>\n<p>Whereas  if the query is changed to like below\n<code>select user from User where :p_user_name is null or userName LIKE :p_user_name</code></p>\n<p>the parameter is incorrectly getting bound as EMPTY Strings,\nbinding parameter [1] as [VARCHAR] - []\nbinding parameter [2] as [VARCHAR] - []</p>\n<p>The existing functionalities are impact due to this.</p>\n"},{"tags":["java","spring","testing","spring-boot"],"comments":[{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475610168,"post_id":39858226,"comment_id":67008985,"body_markdown":"Could you share MyIT content?","body":"Could you share MyIT content?"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475674889,"post_id":39858226,"comment_id":67037775,"body_markdown":"Added complete MyIT class","body":"Added complete MyIT class"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475675498,"post_id":39858226,"comment_id":67038282,"body_markdown":"You are requesting **&quot;/&quot;**  with restTemplate, do you handle **@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)** in your rest controller **MyController**","body":"You are requesting <b>&quot;/&quot;</b>  with restTemplate, do you handle <b>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)</b> in your rest controller <b>MyController</b>"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475675749,"post_id":39858226,"comment_id":67038483,"body_markdown":"yes I do. Used @Getmapping(&quot;/&quot;)","body":"yes I do. Used @Getmapping(&quot;/&quot;)"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475677736,"post_id":39858226,"comment_id":67040078,"body_markdown":"I have a separate JUnit for just the controller using MockMvc and that works fine","body":"I have a separate JUnit for just the controller using MockMvc and that works fine"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475679473,"post_id":39858226,"comment_id":67041549,"body_markdown":"The error means that MyController is not scanned and loaded by spring. MyController is in main package and MyIT is in test package, right? May be you should add @ComponentScan(&quot;mycontroller.package&quot;) in MyIT to scan MyController","body":"The error means that MyController is not scanned and loaded by spring. MyController is in main package and MyIT is in test package, right? May be you should add @ComponentScan(&quot;mycontroller.package&quot;) in MyIT to scan MyController"},{"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"score":0,"creation_date":1475689064,"post_id":39858226,"comment_id":67047538,"body_markdown":"Thanks Issam. As I mentioned in my original post, I did try with `@ComponentScan(basePackages = &quot;my.controller.package&quot;)` and it doesn&#39;t help. I enabled debug log and I can see that `o.s.b.f.s.DefaultListableBeanFactory` is creating my controller bean (and my System.out on the controller constructor is being printed), so the controller is definitely being loaded; it is just not being wired correctly. Now that I am not using `@SpringApplication` (this not being one), I wonder what that annotation sets up that is not done by `@SpringBootTest`","body":"Thanks Issam. As I mentioned in my original post, I did try with <code>@ComponentScan(basePackages = &quot;my.controller.package&quot;)</code> and it doesn&#39;t help. I enabled debug log and I can see that <code>o.s.b.f.s.DefaultListableBeanFactory</code> is creating my controller bean (and my System.out on the controller constructor is being printed), so the controller is definitely being loaded; it is just not being wired correctly. Now that I am not using <code>@SpringApplication</code> (this not being one), I wonder what that annotation sets up that is not done by <code>@SpringBootTest</code>"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1475699430,"post_id":39858226,"comment_id":67053298,"body_markdown":"I give it a try and it&#39;s working. see https://github.com/ielatif/stackoverflow/tree/master/SpringBootTest-for-a-non-spring-boot-application","body":"I give it a try and it&#39;s working. see <a href=\"https://github.com/ielatif/stackoverflow/tree/master/SpringBootTest-for-a-non-spring-boot-application\" rel=\"nofollow noreferrer\">github.com/ielatif/stackoverflow/tree/master/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1660906530,"post_id":50686013,"comment_id":129649725,"body_markdown":"Although this solution works in way to hacky and hard to maintain.","body":"Although this solution works in way to hacky and hard to maintain."}],"tags":[],"owner":{"account_id":2692961,"reputation":331,"user_id":2325781,"display_name":"mpianello"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1528134010,"creation_date":1528134010,"answer_id":50686013,"question_id":39858226,"body_markdown":"This can be achieved by creating a TestConfig inner class and annotate it with @SpringBootConfiguration like:\r\n\r\n    @SpringBootConfiguration\r\n    public static class TestConfig {\r\n    }\r\n\r\nThen, in your test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(...)\r\n    @Import(MyIT.TestConfig.class)\r\n    public class MyIT {\r\n    \r\n        @SpringBootConfiguration\r\n        @ComponentScan(&quot;com.example&quot;)\r\n        public static class TestConfig {\r\n        }\r\n    }\r\n\r\nNote that TestConfig class also has @ComponentScan annotation. This is used by Spring to find your applicacion beans.","title":"@SpringBootTest for a non-spring-boot application","body":"<p>This can be achieved by creating a TestConfig inner class and annotate it with @SpringBootConfiguration like:</p>\n\n<pre><code>@SpringBootConfiguration\npublic static class TestConfig {\n}\n</code></pre>\n\n<p>Then, in your test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(...)\n@Import(MyIT.TestConfig.class)\npublic class MyIT {\n\n    @SpringBootConfiguration\n    @ComponentScan(\"com.example\")\n    public static class TestConfig {\n    }\n}\n</code></pre>\n\n<p>Note that TestConfig class also has @ComponentScan annotation. This is used by Spring to find your applicacion beans.</p>\n"},{"tags":[],"owner":{"account_id":540795,"reputation":534,"user_id":909116,"accept_rate":64,"display_name":"Zeta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666603244,"creation_date":1666603244,"answer_id":74178995,"question_id":39858226,"body_markdown":"Have a test configuration that define beans that you want to use, annotate with  `@TestConfiguration`\r\n\r\n    @TestConfiguration\r\n    public class TestConfig {\r\n        @Bean\r\n        public Faker getFaker() {\r\n            return new Faker();\r\n        }\r\n    }\r\n\r\nThen your test class would like this\r\n\r\n    @SpringBootTest(classes = {MyService.class,TestConfig.class})\r\n    @RunWith(SpringRunner.class)\r\n    public class MyIT {\r\n    \r\n        @Autowired\r\n        MyService myService;\r\n\r\n        @Autowired\r\n        Faker faker;\r\n    }","title":"@SpringBootTest for a non-spring-boot application","body":"<p>Have a test configuration that define beans that you want to use, annotate with  <code>@TestConfiguration</code></p>\n<pre><code>@TestConfiguration\npublic class TestConfig {\n    @Bean\n    public Faker getFaker() {\n        return new Faker();\n    }\n}\n</code></pre>\n<p>Then your test class would like this</p>\n<pre><code>@SpringBootTest(classes = {MyService.class,TestConfig.class})\n@RunWith(SpringRunner.class)\npublic class MyIT {\n\n    @Autowired\n    MyService myService;\n\n    @Autowired\n    Faker faker;\n}\n</code></pre>\n"}],"owner":{"account_id":4494485,"reputation":195,"user_id":3654670,"display_name":"ashburnite"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13073,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1666603244,"creation_date":1475601598,"question_id":39858226,"body_markdown":"I am creating a non-spring-boot application using spring-rest, spring-data-jpa etc and I would like to do integration testing using spring boot (1.4.1.RELEASE). Note that I don&#39;t have a SpringApplication class or @SpringApplication annotation anywhere\r\n\r\nOn my test class I have\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyConfiguration.class)\r\n    public class MyIT { }\r\n    \r\n    @RestController\r\n    public class MyController { }\r\n\r\n\r\n\r\nThis is starting an embedded tomcat and I can see that my controller is being initialized, however, I get a 404 when calling my service using TestRestTemplate. It appears that DispatcherServlet does not seem to know about my controllers\r\n\r\nAlso, I had to define a servletContainer bean as follows\r\n\r\n    @Bean\r\n    public EmbeddedServletContainerFactory servletContainer() {\r\n        TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\r\n        factory.setPort(9000);\r\n        factory.setSessionTimeout(10, TimeUnit.MINUTES);\r\n        return factory;\r\n    }\r\n\r\nAm I missing any configuration for Spring to have my controllers visible to embedded tomcat? I tried using @EnableAutoConfiguration @ComponentScan on the test class but they don&#39;t have any effect. I have wasted two days on this and any hints are greatly appreciated!!\r\n\r\nComplete MyIT class\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = { TestContextConfiguration.class })\r\n    public class MyIT {\r\n\r\n    @Value(&quot;${local.server.port}&quot;)\r\n    private int serverPort;\r\n\r\n    @Resource\r\n    private TestRestTemplate restTemplate;\r\n   \r\n    @Test\r\n    public void test() throws Exception {\r\n        System.out.println(&quot;Port:&quot; + serverPort);\r\n        System.out.println(&quot;Hello:&quot; + this.restTemplate.getForEntity(&quot;/&quot;, String.class));\r\n    }\r\n\r\n}\r\n\r\n\r\nController class\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public String hello() {\r\n            System.out.println(&quot;Hello called&quot;);\r\n            return &quot;Hello&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nOutput of the test\r\n\r\n    Port:9000\r\n    Hello:&lt;404 Not Found,&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/8.5.5 - Error report&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}.line {height: 1px; background-color: #525D76; border: none;}&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 404 - /&lt;/h1&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;/&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The requested resource is not available.&lt;/u&gt;&lt;/p&gt;&lt;hr class=&quot;line&quot;&gt;&lt;h3&gt;Apache Tomcat/8.5.5&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;,{Content-Type=[text/html;charset=utf-8], Content-Language=[en], Content-Length=[992], Date=[Wed, 05 Oct 2016 14:26:46 GMT]}&gt;\r\n\r\n","title":"@SpringBootTest for a non-spring-boot application","body":"<p>I am creating a non-spring-boot application using spring-rest, spring-data-jpa etc and I would like to do integration testing using spring boot (1.4.1.RELEASE). Note that I don't have a SpringApplication class or @SpringApplication annotation anywhere</p>\n\n<p>On my test class I have</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyConfiguration.class)\npublic class MyIT { }\n\n@RestController\npublic class MyController { }\n</code></pre>\n\n<p>This is starting an embedded tomcat and I can see that my controller is being initialized, however, I get a 404 when calling my service using TestRestTemplate. It appears that DispatcherServlet does not seem to know about my controllers</p>\n\n<p>Also, I had to define a servletContainer bean as follows</p>\n\n<pre><code>@Bean\npublic EmbeddedServletContainerFactory servletContainer() {\n    TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\n    factory.setPort(9000);\n    factory.setSessionTimeout(10, TimeUnit.MINUTES);\n    return factory;\n}\n</code></pre>\n\n<p>Am I missing any configuration for Spring to have my controllers visible to embedded tomcat? I tried using @EnableAutoConfiguration @ComponentScan on the test class but they don't have any effect. I have wasted two days on this and any hints are greatly appreciated!!</p>\n\n<p>Complete MyIT class</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = { TestContextConfiguration.class })\npublic class MyIT {\n\n@Value(\"${local.server.port}\")\nprivate int serverPort;\n\n@Resource\nprivate TestRestTemplate restTemplate;\n\n@Test\npublic void test() throws Exception {\n    System.out.println(\"Port:\" + serverPort);\n    System.out.println(\"Hello:\" + this.restTemplate.getForEntity(\"/\", String.class));\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Controller class</p>\n\n<pre><code>@RestController\npublic class MyController {\n\n    @GetMapping(\"/\")\n    public String hello() {\n        System.out.println(\"Hello called\");\n        return \"Hello\";\n    }\n\n}\n</code></pre>\n\n<p>Output of the test</p>\n\n<pre><code>Port:9000\nHello:&lt;404 Not Found,&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/8.5.5 - Error report&lt;/title&gt;&lt;style type=\"text/css\"&gt;H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}.line {height: 1px; background-color: #525D76; border: none;}&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 404 - /&lt;/h1&gt;&lt;div class=\"line\"&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Status report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;/&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The requested resource is not available.&lt;/u&gt;&lt;/p&gt;&lt;hr class=\"line\"&gt;&lt;h3&gt;Apache Tomcat/8.5.5&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;,{Content-Type=[text/html;charset=utf-8], Content-Language=[en], Content-Length=[992], Date=[Wed, 05 Oct 2016 14:26:46 GMT]}&gt;\n</code></pre>\n"},{"tags":["java","executable","elf","coff","dwarf"],"answers":[{"tags":[],"owner":{"account_id":29210,"reputation":28919,"user_id":78720,"accept_rate":87,"display_name":"sigjuice"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238864032,"creation_date":1238779189,"answer_id":714878,"question_id":714675,"body_markdown":"Does gdb support your target CPU?\r\n\r\nIf yes, your program that implements the debugging protocol and talks to the target could also implement the [GDB Remote Serial Protocol][1] and provide a TCP socket for gdb to communicate with.\r\n\r\nThe arrangement would be something like this\r\n\r\ngdb &lt;--gdb protocol--&gt; java-prog &lt;--your debug protocol--&gt; target\r\n\r\nTo run the whole thing, assuming your target is already running your program\r\n\r\n1. Run java-prog\r\n2. Run `gdb your-executable` and connect to java-prog\r\n\r\n    (gdb) target remote 127.0.0.1:port\r\n\r\n3. Ask gdb to read a value\r\n\r\n    (gdb) p foo.bar[7].baz  \r\n\r\nThis is translated to gdb packets which are sent to java-prog over TCP.\r\njava-prog should do the translation between the gdb protocol and your custom debug protocol. \r\n\r\n\r\n\r\n  [1]: http://sourceware.org/gdb/current/onlinedocs/gdb_34.html#SEC721\r\n\r\n","title":"in Java: programmatically determining addresses of C/C++ variables given a COFF/ELF/DWARF executable","body":"<p>Does gdb support your target CPU?</p>\n\n<p>If yes, your program that implements the debugging protocol and talks to the target could also implement the <a href=\"http://sourceware.org/gdb/current/onlinedocs/gdb_34.html#SEC721\" rel=\"nofollow noreferrer\">GDB Remote Serial Protocol</a> and provide a TCP socket for gdb to communicate with.</p>\n\n<p>The arrangement would be something like this</p>\n\n<p>gdb &lt;--gdb protocol--> java-prog &lt;--your debug protocol--> target</p>\n\n<p>To run the whole thing, assuming your target is already running your program</p>\n\n<ol>\n<li>Run java-prog</li>\n<li><p>Run <code>gdb your-executable</code> and connect to java-prog</p>\n\n<p>(gdb) target remote 127.0.0.1:port</p></li>\n<li><p>Ask gdb to read a value</p>\n\n<p>(gdb) p foo.bar[7].baz  </p></li>\n</ol>\n\n<p>This is translated to gdb packets which are sent to java-prog over TCP.\njava-prog should do the translation between the gdb protocol and your custom debug protocol. </p>\n"},{"comments":[{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1238889493,"post_id":717407,"comment_id":530123,"body_markdown":"unfortunately GPL is out of the question, but thanks for the idea.","body":"unfortunately GPL is out of the question, but thanks for the idea."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1238889556,"post_id":717407,"comment_id":530127,"body_markdown":"I suppose it still is very useful for testing against whatever implementation I end up using.","body":"I suppose it still is very useful for testing against whatever implementation I end up using."}],"tags":[],"owner":{"account_id":5807,"reputation":392471,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238864350,"creation_date":1238864350,"answer_id":717407,"question_id":714675,"body_markdown":"You could build a JNI interface to [GNU binutils][1] compiled for your platform.  However, if the GPL conflicts with your software&#39;s license, then this will not be a viable solution.\r\n\r\n[1]: http://www.gnu.org/software/binutils/","title":"in Java: programmatically determining addresses of C/C++ variables given a COFF/ELF/DWARF executable","body":"<p>You could build a JNI interface to <a href=\"http://www.gnu.org/software/binutils/\" rel=\"nofollow noreferrer\">GNU binutils</a> compiled for your platform.  However, if the GPL conflicts with your software's license, then this will not be a viable solution.</p>\n"}],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666603113,"creation_date":1238775856,"question_id":714675,"body_markdown":"This is a situation I run into now and then:\r\n\r\nFor an embedded system which does not use virtual addressing, I have an executable file that was compiled from C or C++ code with debugging information included. It&#39;s usually in COFF or ELF/DWARF (I get those two mixed up) format.\r\n\r\nAt runtime, on a PC, I would like to determine the address of a variable given its name. (e.g. &quot;foo.bar[7].baz&quot;) This allows me to read/write the variable&#39;s value on the embedded system (given a debugging protocol that is beyond the scope of this question). Obviously, any variables that are stack-based or heap-based are out since they don&#39;t have static addresses.\r\n\r\nI&#39;ve done this before myself in C++ to parse COFF files from TI&#39;s compiler for their 2800 series DSPs, and it was kind of a pain. I was wondering if there was a Java library out there that does this sort of thing already, since I&#39;m facing the same thing with one or two other processors&#39; executable files.\r\n\r\n----------\r\n\r\n**Update:** (11/18/2009) A promising clue!\r\n\r\nHas anyone out there used the Eclipse CDT ELF parser?\r\n\r\n(See http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/IBinary.html for one of the javadoc pgs)\r\n\r\nTI&#39;s Code Composer 4 (based on Eclipse) seems to use this, so it seems like if I can figure out where the documentation is maybe I can use that to solve my problem.","title":"in Java: programmatically determining addresses of C/C++ variables given a COFF/ELF/DWARF executable","body":"<p>This is a situation I run into now and then:</p>\n\n<p>For an embedded system which does not use virtual addressing, I have an executable file that was compiled from C or C++ code with debugging information included. It's usually in COFF or ELF/DWARF (I get those two mixed up) format.</p>\n\n<p>At runtime, on a PC, I would like to determine the address of a variable given its name. (e.g. \"foo.bar[7].baz\") This allows me to read/write the variable's value on the embedded system (given a debugging protocol that is beyond the scope of this question). Obviously, any variables that are stack-based or heap-based are out since they don't have static addresses.</p>\n\n<p>I've done this before myself in C++ to parse COFF files from TI's compiler for their 2800 series DSPs, and it was kind of a pain. I was wondering if there was a Java library out there that does this sort of thing already, since I'm facing the same thing with one or two other processors' executable files.</p>\n\n<hr>\n\n<p><strong>Update:</strong> (11/18/2009) A promising clue!</p>\n\n<p>Has anyone out there used the Eclipse CDT ELF parser?</p>\n\n<p>(See <a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/IBinary.html\" rel=\"nofollow noreferrer\">http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.cdt.doc.isv/reference/api/org/eclipse/cdt/core/model/IBinary.html</a> for one of the javadoc pgs)</p>\n\n<p>TI's Code Composer 4 (based on Eclipse) seems to use this, so it seems like if I can figure out where the documentation is maybe I can use that to solve my problem.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1666599977,"post_id":74178354,"comment_id":130966902,"body_markdown":"Would it be simpler to sort the list, putting null values as first?","body":"Would it be simpler to sort the list, putting null values as first?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1666600294,"post_id":74178354,"comment_id":130967003,"body_markdown":"For sure, especially because `List.sort` would change the actual `brokers` list instead of creating a copy only inside the method, like this implementation does.","body":"For sure, especially because <code>List.sort</code> would change the actual <code>brokers</code> list instead of creating a copy only inside the method, like this implementation does."}],"answers":[{"comments":[{"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"score":0,"creation_date":1666601139,"post_id":74178401,"comment_id":130967291,"body_markdown":"thanks cyberbrain, I thought the method parameter type is ArrayList, so I think it is by-reference.","body":"thanks cyberbrain, I thought the method parameter type is ArrayList, so I think it is by-reference."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666600082,"creation_date":1666600082,"answer_id":74178401,"question_id":74178354,"body_markdown":"Parameters of methods are passed by-value (that means, the reference to objects are passed by value). So when you modify the reference in the `brokers` parameter (the object it is pointing to) this change only has impact inside the method.\r\n\r\nThe caller of the method will not notice any change.\r\n\r\nAnd in your method, you don&#39;t use the `brokers` parameter after the re-assignment and so you don&#39;t use the actual result of the `ListUtils.union` call.","title":"Why assign a new list to a list reference shows &quot;Never used&quot;","body":"<p>Parameters of methods are passed by-value (that means, the reference to objects are passed by value). So when you modify the reference in the <code>brokers</code> parameter (the object it is pointing to) this change only has impact inside the method.</p>\n<p>The caller of the method will not notice any change.</p>\n<p>And in your method, you don't use the <code>brokers</code> parameter after the re-assignment and so you don't use the actual result of the <code>ListUtils.union</code> call.</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666602735,"creation_date":1666600688,"answer_id":74178505,"question_id":74178354,"body_markdown":"You are assigning new Object to `brokers` reference. `brokers` is a  reference to this list Object, but when you assign new object to it, it&#39;s not visible outside of the function. You could say that it&#39;s pointing to a new object from now on.\r\n\r\nYou need to **return brokers as new list (recommended)** or **clear the list then add all values** from union.\r\n\r\nExample:\r\n\r\n    brokers.clear();\r\n    brokers.addAll(ListUtils.union(commonBrokers, nullTypeBrokers))\r\n\r\nBut this has many drawbacks:\r\n\r\n- violates conventions for clean code\r\n- will not work for null reference.\r\n- You might change original list - mutating is wrong\r\n\r\nYou can use **sort function** here instead:\r\n\r\n    @Test\r\n    public void setNullsFirst() {\r\n\r\n        List&lt;Broker&gt; brokers = List.of(\r\n                new Broker(&quot;1.&quot;),\r\n                new Broker(null),\r\n                new Broker(&quot;2.&quot;),\r\n                new Broker(null)\r\n        );\r\n\r\n        System.out.println(moveNullBrokerToEnd(brokers));\r\n\r\n    }\r\n    private List&lt;Broker&gt; moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\r\n        return Optional.ofNullable(brokers).orElseGet(Collections::emptyList)\r\n                .stream()\r\n                .sorted(Comparator.comparing(broker-&gt;broker.memberType==null?-1:0))\r\n                .toList();\r\n    }\r\n\r\nThe results are:\r\n\r\n&gt; [Broker(memberType=null), Broker(memberType=null), Broker(memberType=1.), Broker(memberType=2)]","title":"Why assign a new list to a list reference shows &quot;Never used&quot;","body":"<p>You are assigning new Object to <code>brokers</code> reference. <code>brokers</code> is a  reference to this list Object, but when you assign new object to it, it's not visible outside of the function. You could say that it's pointing to a new object from now on.</p>\n<p>You need to <strong>return brokers as new list (recommended)</strong> or <strong>clear the list then add all values</strong> from union.</p>\n<p>Example:</p>\n<pre><code>brokers.clear();\nbrokers.addAll(ListUtils.union(commonBrokers, nullTypeBrokers))\n</code></pre>\n<p>But this has many drawbacks:</p>\n<ul>\n<li>violates conventions for clean code</li>\n<li>will not work for null reference.</li>\n<li>You might change original list - mutating is wrong</li>\n</ul>\n<p>You can use <strong>sort function</strong> here instead:</p>\n<pre><code>@Test\npublic void setNullsFirst() {\n\n    List&lt;Broker&gt; brokers = List.of(\n            new Broker(&quot;1.&quot;),\n            new Broker(null),\n            new Broker(&quot;2.&quot;),\n            new Broker(null)\n    );\n\n    System.out.println(moveNullBrokerToEnd(brokers));\n\n}\nprivate List&lt;Broker&gt; moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\n    return Optional.ofNullable(brokers).orElseGet(Collections::emptyList)\n            .stream()\n            .sorted(Comparator.comparing(broker-&gt;broker.memberType==null?-1:0))\n            .toList();\n}\n</code></pre>\n<p>The results are:</p>\n<blockquote>\n<p>[Broker(memberType=null), Broker(memberType=null), Broker(memberType=1.), Broker(memberType=2)]</p>\n</blockquote>\n"}],"owner":{"account_id":14511673,"reputation":25,"user_id":10481910,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666602147,"accepted_answer_id":74178505,"answer_count":2,"score":0,"last_activity_date":1666602735,"creation_date":1666599857,"question_id":74178354,"body_markdown":"I want to move some special object in the list to the bottom of it.\r\nI tried to used below code to implement it but it shows last assignment is never been used...\r\nI have walkaround but I really want to know why my code is wrong? \r\nAfter the method proceed the list I passed in, it still the old sequence. No impact...\r\n\r\n    private void moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\r\n    if (brokers != null) {\r\n      List&lt;Broker&gt; nullTypeBrokers = new ArrayList&lt;&gt;();\r\n      List&lt;Broker&gt; commonBrokers = new ArrayList&lt;&gt;();\r\n      for (Broker broker : brokers) {\r\n        if (broker.getMemberType()==null) {\r\n          nullTypeBrokers.add(broker);\r\n        } else {\r\n          commonBrokers.add(broker);\r\n        }\r\n      }\r\n      brokers = ListUtils.union(commonBrokers, nullTypeBrokers);\r\n    }\r\n  }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zoDjM.png","title":"Why assign a new list to a list reference shows &quot;Never used&quot;","body":"<p>I want to move some special object in the list to the bottom of it.\nI tried to used below code to implement it but it shows last assignment is never been used...\nI have walkaround but I really want to know why my code is wrong?\nAfter the method proceed the list I passed in, it still the old sequence. No impact...</p>\n<pre><code>private void moveNullBrokerToEnd(List&lt;Broker&gt; brokers) {\nif (brokers != null) {\n  List&lt;Broker&gt; nullTypeBrokers = new ArrayList&lt;&gt;();\n  List&lt;Broker&gt; commonBrokers = new ArrayList&lt;&gt;();\n  for (Broker broker : brokers) {\n    if (broker.getMemberType()==null) {\n      nullTypeBrokers.add(broker);\n    } else {\n      commonBrokers.add(broker);\n    }\n  }\n  brokers = ListUtils.union(commonBrokers, nullTypeBrokers);\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/zoDjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zoDjM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666602725,"creation_date":1666602725,"answer_id":74178886,"question_id":74173248,"body_markdown":"I don&#39;t know MongoDB but a Flink MongoDB connector is in the works at https://github.com/apache/flink-connector-mongodb","title":"Optimising write performance for custom mongodb-sink in flink stream job","body":"<p>I don't know MongoDB but a Flink MongoDB connector is in the works at <a href=\"https://github.com/apache/flink-connector-mongodb\" rel=\"nofollow noreferrer\">https://github.com/apache/flink-connector-mongodb</a></p>\n"}],"owner":{"account_id":26710514,"reputation":1,"user_id":20315978,"display_name":"Lannest Caster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666602725,"creation_date":1666545594,"question_id":74173248,"body_markdown":"I have a streaming flink job which writes data into MongoDB (Kafka -&gt; Map -&gt; MongoDB). Since there seems to be no MongoDB Sink connector currently available for Flink, I created creating a custom one for writing data into MongoDB.\r\n\r\nHowever, the number of write operations seems pretty low. Even though I tried using mongodb driver reactive-streams for asynchronous operations, the result was still not satisfying for my needs (only around 2k writes/sec) when I needed at least 5k writes for my application.\r\n\r\nIs there any other things I can do for optimising write performance in such scenario? Below is the code I used for my custom MongoDB flink.\r\n\r\n \r\n\r\n```\r\nimport com.mongodb.WriteConcern;\r\nimport com.mongodb.client.result.InsertOneResult;\r\nimport com.mongodb.reactivestreams.client.MongoClient;\r\nimport com.mongodb.reactivestreams.client.MongoClients;\r\nimport com.mongodb.reactivestreams.client.MongoDatabase;\r\nimport org.apache.flink.configuration.ConfigOptions;\r\nimport org.apache.flink.configuration.Configuration;\r\nimport org.apache.flink.streaming.api.functions.sink.RichSinkFunction;\r\nimport org.bson.Document;\r\nimport org.reactivestreams.Publisher;\r\nimport org.reactivestreams.Subscriber;\r\nimport org.reactivestreams.Subscription;\r\n\r\nimport java.util.logging.Logger;\r\n\r\npublic class MongoDBSinkConfig extends RichSinkFunction&lt;Document&gt; {\r\n\r\n    Configuration configuration;\r\n\r\n    static MongoClient mongoClient;\r\n\r\n    static MongoDatabase mongoDatabase;\r\n\r\n    public MongoDBSinkConfig(Configuration configuration) {\r\n        this.configuration = configuration;\r\n    }\r\n\r\n    @Override\r\n    public void open(Configuration parameters) {\r\n        String uri = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_URI).stringType().noDefaultValue());\r\n        String database = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_DATABASE).stringType().noDefaultValue());\r\n        String config = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.CONFIG_COLLECTION).stringType().noDefaultValue());\r\n        MongoDBMetricConfig.loadMongoDBMetricConfig(uri, database, config);\r\n        mongoClient = MongoClients.create(uri);\r\n        mongoDatabase = mongoClient.getDatabase(database).withWriteConcern(WriteConcern.UNACKNOWLEDGED);\r\n    }\r\n\r\n    @Override\r\n    public void invoke(Document value, Context context) {\r\n        Publisher&lt;InsertOneResult&gt; insertResult = mongoDatabase.getCollection(&quot;collection&quot;).withWriteConcern(WriteConcern.UNACKNOWLEDGED).insertOne(value);\r\n        \r\n        insertResult.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\r\n            @Override\r\n            public void onSubscribe(Subscription s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onNext(InsertOneResult insertOneResult) {\r\n                Logger.getGlobal().info(insertOneResult.toString());\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable t) {\r\n                Logger.getGlobal().info(t.getMessage());\r\n            }\r\n\r\n            @Override\r\n            public void onComplete() {\r\n            }\r\n\r\n\r\n        }) ;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        SinkUtils.closeConnection();\r\n    }\r\n}\r\n```","title":"Optimising write performance for custom mongodb-sink in flink stream job","body":"<p>I have a streaming flink job which writes data into MongoDB (Kafka -&gt; Map -&gt; MongoDB). Since there seems to be no MongoDB Sink connector currently available for Flink, I created creating a custom one for writing data into MongoDB.</p>\n<p>However, the number of write operations seems pretty low. Even though I tried using mongodb driver reactive-streams for asynchronous operations, the result was still not satisfying for my needs (only around 2k writes/sec) when I needed at least 5k writes for my application.</p>\n<p>Is there any other things I can do for optimising write performance in such scenario? Below is the code I used for my custom MongoDB flink.</p>\n<pre><code>import com.mongodb.WriteConcern;\nimport com.mongodb.client.result.InsertOneResult;\nimport com.mongodb.reactivestreams.client.MongoClient;\nimport com.mongodb.reactivestreams.client.MongoClients;\nimport com.mongodb.reactivestreams.client.MongoDatabase;\nimport org.apache.flink.configuration.ConfigOptions;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.functions.sink.RichSinkFunction;\nimport org.bson.Document;\nimport org.reactivestreams.Publisher;\nimport org.reactivestreams.Subscriber;\nimport org.reactivestreams.Subscription;\n\nimport java.util.logging.Logger;\n\npublic class MongoDBSinkConfig extends RichSinkFunction&lt;Document&gt; {\n\n    Configuration configuration;\n\n    static MongoClient mongoClient;\n\n    static MongoDatabase mongoDatabase;\n\n    public MongoDBSinkConfig(Configuration configuration) {\n        this.configuration = configuration;\n    }\n\n    @Override\n    public void open(Configuration parameters) {\n        String uri = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_URI).stringType().noDefaultValue());\n        String database = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.MONGO_DATABASE).stringType().noDefaultValue());\n        String config = configuration.getString(ConfigOptions.key(ConfigurationParamUtils.CONFIG_COLLECTION).stringType().noDefaultValue());\n        MongoDBMetricConfig.loadMongoDBMetricConfig(uri, database, config);\n        mongoClient = MongoClients.create(uri);\n        mongoDatabase = mongoClient.getDatabase(database).withWriteConcern(WriteConcern.UNACKNOWLEDGED);\n    }\n\n    @Override\n    public void invoke(Document value, Context context) {\n        Publisher&lt;InsertOneResult&gt; insertResult = mongoDatabase.getCollection(&quot;collection&quot;).withWriteConcern(WriteConcern.UNACKNOWLEDGED).insertOne(value);\n        \n        insertResult.subscribe(new Subscriber&lt;InsertOneResult&gt;() {\n            @Override\n            public void onSubscribe(Subscription s) {\n\n            }\n\n            @Override\n            public void onNext(InsertOneResult insertOneResult) {\n                Logger.getGlobal().info(insertOneResult.toString());\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                Logger.getGlobal().info(t.getMessage());\n            }\n\n            @Override\n            public void onComplete() {\n            }\n\n\n        }) ;\n\n    }\n\n    @Override\n    public void close() {\n        SinkUtils.closeConnection();\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jpa"],"comments":[{"owner":{"account_id":239851,"reputation":1760,"user_id":509723,"accept_rate":82,"display_name":"ike3"},"score":0,"creation_date":1474361615,"post_id":39589281,"comment_id":66488463,"body_markdown":"Which JPA vendor do you use? Ho do you initialize it (java code, spring, app server, etc?) If java, can you post some code?","body":"Which JPA vendor do you use? Ho do you initialize it (java code, spring, app server, etc?) If java, can you post some code?"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474365662,"post_id":39589281,"comment_id":66491060,"body_markdown":"Thanks for your reply sir....!                                                                     In log4j.xml               &lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntity&quot;  /&gt;        And                     &lt;persistence version=&quot;2.1&quot;&gt; am using sir please help if possible.","body":"Thanks for your reply sir....!                                                                     In log4j.xml               &lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntit&zwnj;&#8203;y&quot;  /&gt;        And                     &lt;persistence version=&quot;2.1&quot;&gt; am using sir please help if possible."},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474365875,"post_id":39589281,"comment_id":66491209,"body_markdown":"I dont want to used persistence.xml or trying to make persistence.xml dynamic which will take connection from properties file.  but my log4j.xml entry always taking connection from persistence.xml .","body":"I dont want to used persistence.xml or trying to make persistence.xml dynamic which will take connection from properties file.  but my log4j.xml entry always taking connection from persistence.xml ."},{"owner":{"account_id":7397520,"reputation":3703,"user_id":5628922,"accept_rate":100,"display_name":"mhasan"},"score":0,"creation_date":1474365958,"post_id":39589281,"comment_id":66491271,"body_markdown":"Follow this link , i believe this is what you are looking for. http://stackoverflow.com/questions/19170876/persistence-xml-to-import-database-parameters-values-from-properties-file","body":"Follow this link , i believe this is what you are looking for. <a href=\"http://stackoverflow.com/questions/19170876/persistence-xml-to-import-database-parameters-values-from-properties-file\" title=\"persistence xml to import database parameters values from properties file\">stackoverflow.com/questions/19170876/&hellip;</a>"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474372849,"post_id":39589281,"comment_id":66495763,"body_markdown":"thnx for reply sir but this was not worked for me ....!                                      The link which you suggest exactly I am looking for to make persistence.xml externalised from property file.                                              There are lot student and developer facing this problem but yet nobody was successful to resolve this issue . But I know you will definetly help me..!","body":"thnx for reply sir but this was not worked for me ....!                                      The link which you suggest exactly I am looking for to make persistence.xml externalised from property file.                                              There are lot student and developer facing this problem but yet nobody was successful to resolve this issue . But I know you will definetly help me..!"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474446286,"post_id":39589281,"comment_id":66529760,"body_markdown":"Anybody have any resolution for this problem ..?                                                       Please reply friend...!","body":"Anybody have any resolution for this problem ..?                                                       Please reply friend...!"},{"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"score":0,"creation_date":1474526842,"post_id":39589281,"comment_id":66568740,"body_markdown":"Hi mhasan sir do you have any idea about this issue ? Can you please suggest if u have any approach.","body":"Hi mhasan sir do you have any idea about this issue ? Can you please suggest if u have any approach."}],"owner":{"account_id":5772799,"reputation":31,"user_id":4555759,"display_name":"Ganesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666602518,"creation_date":1474360464,"question_id":39589281,"body_markdown":"I am using persistence.xml where is my db connection. And in log4j.xml  I have given `persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;` which is in persistence.xml so it will take database connection from persistence.xml but which is hardcoded.\r\n\r\nSo I wanted make my persistence.xml dynamic which take connection from properties file.\r\n\r\nI want to make persistence.xml dynamic which reads file from property file; like using `${username}` as key in persistence which take from properties file.\r\n\r\nIn log4j2.xml I have mentioned `&lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntity&quot;  /&gt;`.\r\n\r\nIn persistence.xml I have mentioned below like\r\n`&lt;persistence-unit name=&quot;JPAloggingPersistenceUnit&quot;  transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;`.","title":"Externalised persistence.xml from property file","body":"<p>I am using persistence.xml where is my db connection. And in log4j.xml  I have given <code>persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;</code> which is in persistence.xml so it will take database connection from persistence.xml but which is hardcoded.</p>\n<p>So I wanted make my persistence.xml dynamic which take connection from properties file.</p>\n<p>I want to make persistence.xml dynamic which reads file from property file; like using <code>${username}</code> as key in persistence which take from properties file.</p>\n<p>In log4j2.xml I have mentioned <code>&lt;JPA  name=&quot;db-log&quot; persistenceUnitName=&quot;JPAloggingPersistenceUnit&quot;  entityClassName=&quot;com.majesco.digitalio.logentity.JpaLogEntity&quot;  /&gt;</code>.</p>\n<p>In persistence.xml I have mentioned below like\n<code>&lt;persistence-unit name=&quot;JPAloggingPersistenceUnit&quot;  transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1666599130,"post_id":74178211,"comment_id":130966611,"body_markdown":"Have you looked at the overloads of `Integer.parseInt`? Note that by the time it&#39;s an `int`, the value doesn&#39;t have any particular format - so `int hexint = 0x67;` is precisely equivalent to `int hexint = 103;`","body":"Have you looked at the overloads of <code>Integer.parseInt</code>? Note that by the time it&#39;s an <code>int</code>, the value doesn&#39;t have any particular format - so <code>int hexint = 0x67;</code> is precisely equivalent to <code>int hexint = 103;</code>"},{"owner":{"account_id":10056178,"reputation":117,"user_id":7434294,"display_name":"Sigmalalalala"},"score":0,"creation_date":1666602337,"post_id":74178211,"comment_id":130967720,"body_markdown":"that makes sense now, I keep getting 103 when printing, thanks for the explanation","body":"that makes sense now, I keep getting 103 when printing, thanks for the explanation"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676181534,"post_id":74178211,"comment_id":133083912,"body_markdown":"It&#39;s not quite addressing what you are asking for, but Java 17 introduced a new class **java.util.HexFormat** which frequently simplifies the solution to questions like this. In your case the only constraint is that your `hexstring` must only contain hex characters (i.e. _&quot;67&quot;_ rather than _&quot;0x67&quot;_), but then the solution is trivial:  `int hexint = HexFormat.fromHexDigits(&quot;67&quot;);`. That feels like a much more intuitive approach than `decode()` or `parseInt()` to me.","body":"It&#39;s not quite addressing what you are asking for, but Java 17 introduced a new class <b>java.util.HexFormat</b> which frequently simplifies the solution to questions like this. In your case the only constraint is that your <code>hexstring</code> must only contain hex characters (i.e. <i>&quot;67&quot;</i> rather than <i>&quot;0x67&quot;</i>), but then the solution is trivial:  <code>int hexint = HexFormat.fromHexDigits(&quot;67&quot;);</code>. That feels like a much more intuitive approach than <code>decode()</code> or <code>parseInt()</code> to me."}],"answers":[{"comments":[{"owner":{"account_id":11901543,"reputation":2366,"user_id":8709389,"accept_rate":14,"display_name":"zhh"},"score":2,"creation_date":1666599711,"post_id":74178260,"comment_id":130966804,"body_markdown":"You can use `Integer.decode` too.","body":"You can use <code>Integer.decode</code> too."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666600716,"post_id":74178260,"comment_id":130967153,"body_markdown":"@zhh thanks, made that into another answer.","body":"@zhh thanks, made that into another answer."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666599217,"creation_date":1666599217,"answer_id":74178260,"question_id":74178211,"body_markdown":"If you only have a single byte, you can strip of the leading `&quot;0x&quot;` part and then parse as a base-16 number with `Integer#parseInt`:\r\n\r\n```\r\nInteger.parseInt(&quot;0x67&quot;.substring(2), 0x10);\r\nInteger.parseInt(&quot;0x67&quot;.substring(2), 16);\r\n```\r\n\r\n0x10 is the hexadecimal representation of the decimal number 16.","title":"Convert hex string value to hex int","body":"<p>If you only have a single byte, you can strip of the leading <code>&quot;0x&quot;</code> part and then parse as a base-16 number with <code>Integer#parseInt</code>:</p>\n<pre><code>Integer.parseInt(&quot;0x67&quot;.substring(2), 0x10);\nInteger.parseInt(&quot;0x67&quot;.substring(2), 16);\n</code></pre>\n<p>0x10 is the hexadecimal representation of the decimal number 16.</p>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666600087,"creation_date":1666600087,"answer_id":74178402,"question_id":74178211,"body_markdown":"```\r\nString hexstring = &quot;67&quot;;\r\nint hexint = Integer.parseInt(hexstring, 16);\r\nSystem.out.println(hexint); // 103 (decimal)\r\n```\r\n\r\nWith `Integer.parseInt(String s, int radix)` you can parse a `String` to an `int`.\r\n\r\nThe `radix` is the base of that number system, in case of hex-values it is 16.","title":"Convert hex string value to hex int","body":"<pre><code>String hexstring = &quot;67&quot;;\nint hexint = Integer.parseInt(hexstring, 16);\nSystem.out.println(hexint); // 103 (decimal)\n</code></pre>\n<p>With <code>Integer.parseInt(String s, int radix)</code> you can parse a <code>String</code> to an <code>int</code>.</p>\n<p>The <code>radix</code> is the base of that number system, in case of hex-values it is 16.</p>\n"},{"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1666601273,"post_id":74178507,"comment_id":130967345,"body_markdown":"Found you have posted two answers,why not merge them into one","body":"Found you have posted two answers,why not merge them into one"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666602460,"creation_date":1666600698,"answer_id":74178507,"question_id":74178211,"body_markdown":"[`Integer#decode`](https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#decode-java.lang.String-) can be used to convert hexadecmial string representation into its integer value:\r\n\r\n```\r\nInteger.decode(&quot;0x67&quot;);\r\n```\r\n\r\nThis function automatically detects the correct base and will parse return the int `103` (0x67 = 6*16+7). If you want to manually specify a different base, see [my other answer](https://stackoverflow.com/a/74178260/112968)","title":"Convert hex string value to hex int","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#decode-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Integer#decode</code></a> can be used to convert hexadecmial string representation into its integer value:</p>\n<pre><code>Integer.decode(&quot;0x67&quot;);\n</code></pre>\n<p>This function automatically detects the correct base and will parse return the int <code>103</code> (0x67 = 6*16+7). If you want to manually specify a different base, see <a href=\"https://stackoverflow.com/a/74178260/112968\">my other answer</a></p>\n"}],"owner":{"account_id":10056178,"reputation":117,"user_id":7434294,"display_name":"Sigmalalalala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":74178507,"answer_count":3,"score":1,"last_activity_date":1666602460,"creation_date":1666598970,"question_id":74178211,"body_markdown":"How can I convert the `hexstring` into the form of `hexint` below?\r\n```\r\nstring hexstring = &quot;0x67&quot;;\r\nint hexint = 0x67;\r\n```","title":"Convert hex string value to hex int","body":"<p>How can I convert the <code>hexstring</code> into the form of <code>hexint</code> below?</p>\n<pre><code>string hexstring = &quot;0x67&quot;;\nint hexint = 0x67;\n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1427209899,"post_id":29235982,"comment_id":46678525,"body_markdown":"What are you wanting to return from the method if there isn&#39;t an object present?","body":"What are you wanting to return from the method if there isn&#39;t an object present?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1427210279,"post_id":29235982,"comment_id":46678789,"body_markdown":"I&#39;d want to return `Optional` always as indicated by the method return parameter.","body":"I&#39;d want to return <code>Optional</code> always as indicated by the method return parameter."}],"answers":[{"comments":[{"owner":{"account_id":5599699,"reputation":967,"user_id":4436313,"display_name":"DaRich"},"score":42,"creation_date":1490850059,"post_id":29236163,"comment_id":73298163,"body_markdown":"This may be the right answer, but in what way is this superior to `null` checks? From my point of view it is worse without an `orElse...`.","body":"This may be the right answer, but in what way is this superior to <code>null</code> checks? From my point of view it is worse without an <code>orElse...</code>."},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":5,"creation_date":1524673107,"post_id":29236163,"comment_id":87070175,"body_markdown":"@DaRich, you can forget about the null in the middle of your code, what results in the NPE. But you can&#39;t ignore an `Optional` by accident, it&#39;s always an explicit (and dangerous) decision.","body":"@DaRich, you can forget about the null in the middle of your code, what results in the NPE. But you can&#39;t ignore an <code>Optional</code> by accident, it&#39;s always an explicit (and dangerous) decision."}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":2,"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1427213150,"creation_date":1427209786,"answer_id":29236163,"question_id":29235982,"body_markdown":"I don&#39;t think you can do it in a single statement. Better do:\r\n\r\n    if (!obj.isPresent()) {\r\n        logger.fatal(...);   \r\n    } else {\r\n        obj.get().setAvailable(true);\r\n    }\r\n    return obj;","title":"How to execute logic on Optional if not present?","body":"<p>I don't think you can do it in a single statement. Better do:</p>\n\n<pre><code>if (!obj.isPresent()) {\n    logger.fatal(...);   \n} else {\n    obj.get().setAvailable(true);\n}\nreturn obj;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427209792,"creation_date":1427209792,"answer_id":29236164,"question_id":29235982,"body_markdown":"You need [Optional.isPresent()][1] and [orElse()][2]. Your snippet won;t work because it doesn&#39;t return anything if not present. \r\n\r\nThe point of Optional is to return it from the method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#isPresent--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-","title":"How to execute logic on Optional if not present?","body":"<p>You need <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#isPresent--\" rel=\"nofollow\">Optional.isPresent()</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow\">orElse()</a>. Your snippet won;t work because it doesn't return anything if not present. </p>\n\n<p>The point of Optional is to return it from the method.</p>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1427212663,"creation_date":1427210145,"answer_id":29236316,"question_id":29235982,"body_markdown":"You will have to split this into multiple statements. Here is one way to do that:\r\n\r\n    if (!obj.isPresent()) {\r\n      logger.fatal(&quot;Object not available&quot;);\r\n    }\r\n  \r\n    obj.ifPresent(o -&gt; o.setAvailable(true));\r\n    return obj;\r\n\r\nAnother way (possibly over-engineered) is to use `map`:\r\n\r\n    if (!obj.isPresent()) {\r\n      logger.fatal(&quot;Object not available&quot;);\r\n    }\r\n\r\n    return obj.map(o -&gt; {o.setAvailable(true); return o;});\r\n\r\nIf `obj.setAvailable` conveniently returns `obj`, then you can simply the second example to:\r\n\r\n    if (!obj.isPresent()) {\r\n      logger.fatal(&quot;Object not available&quot;);\r\n    }\r\n\r\n    return obj.map(o -&gt; o.setAvailable(true));","title":"How to execute logic on Optional if not present?","body":"<p>You will have to split this into multiple statements. Here is one way to do that:</p>\n\n<pre><code>if (!obj.isPresent()) {\n  logger.fatal(\"Object not available\");\n}\n\nobj.ifPresent(o -&gt; o.setAvailable(true));\nreturn obj;\n</code></pre>\n\n<p>Another way (possibly over-engineered) is to use <code>map</code>:</p>\n\n<pre><code>if (!obj.isPresent()) {\n  logger.fatal(\"Object not available\");\n}\n\nreturn obj.map(o -&gt; {o.setAvailable(true); return o;});\n</code></pre>\n\n<p>If <code>obj.setAvailable</code> conveniently returns <code>obj</code>, then you can simply the second example to:</p>\n\n<pre><code>if (!obj.isPresent()) {\n  logger.fatal(\"Object not available\");\n}\n\nreturn obj.map(o -&gt; o.setAvailable(true));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":2,"creation_date":1427211117,"post_id":29236471,"comment_id":46679438,"body_markdown":"Please leave a comment, if you vote down. This helps me to improve the answer.","body":"Please leave a comment, if you vote down. This helps me to improve the answer."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1427212806,"post_id":29236471,"comment_id":46680751,"body_markdown":"I agree downvoter should comment here. I assume this is because I was looking to refactor java7 to java8 code, whereas the old code consisted of 8 lines. And if I *would* replace it with your suggestion that would not help anybody, but just make things worse.","body":"I agree downvoter should comment here. I assume this is because I was looking to refactor java7 to java8 code, whereas the old code consisted of 8 lines. And if I <i>would</i> replace it with your suggestion that would not help anybody, but just make things worse."},{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":0,"creation_date":1427213336,"post_id":29236471,"comment_id":46681115,"body_markdown":"I don&#39;t understand your point. I did refactor java 7 to 8, didn&#39;t I? And to what extend would it make things worse? I don&#39;t see any flaws in this solution. One could argue whether the whole point of having an else (or a workaround) on `Optional` makes sense. But I correctly answered your question and provided a working example.","body":"I don&#39;t understand your point. I did refactor java 7 to 8, didn&#39;t I? And to what extend would it make things worse? I don&#39;t see any flaws in this solution. One could argue whether the whole point of having an else (or a workaround) on <code>Optional</code> makes sense. But I correctly answered your question and provided a working example."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1427213908,"post_id":29236471,"comment_id":46681541,"body_markdown":"Your solution seems totally valid to me, mike. Anyways introducing explicit classes like `OptionalAction` as a workaround for being able to port the code to java8 seems a bit overengineered, if in java7 this is already only a few liner.","body":"Your solution seems totally valid to me, mike. Anyways introducing explicit classes like <code>OptionalAction</code> as a workaround for being able to port the code to java8 seems a bit overengineered, if in java7 this is already only a few liner."},{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":0,"creation_date":1427214397,"post_id":29236471,"comment_id":46681895,"body_markdown":"You **must have** all the `*Action` classes, there is no other way to get the method chaining as you purposed in your question. Of course they are problem agnostic utilitliy classes and reusable. The `DbObject` was just introduced for the sake of a running example.","body":"You <b>must have</b> all the <code>*Action</code> classes, there is no other way to get the method chaining as you purposed in your question. Of course they are problem agnostic utilitliy classes and reusable. The <code>DbObject</code> was just introduced for the sake of a running example."},{"owner":{"account_id":271097,"reputation":514,"user_id":561451,"accept_rate":77,"display_name":"Geir"},"score":2,"creation_date":1439385972,"post_id":29236471,"comment_id":51840273,"body_markdown":"Optional&lt;DbObject&gt; object = (v == null) ? Optional.empty() : Optional.of(v);\n\nmay be rewritten to:\n\n    Optional&lt;DbObject&gt; object = Optional.ofNullable(v);","body":"Optional&lt;DbObject&gt; object = (v == null) ? Optional.empty() : Optional.of(v);  may be rewritten to:      Optional&lt;DbObject&gt; object = Optional.ofNullable(v);"}],"tags":[],"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"comment_count":6,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1439386824,"creation_date":1427210495,"answer_id":29236471,"question_id":29235982,"body_markdown":"I suppose you cannot change the `dao.find()` method to return an instance of `Optional&lt;Obj&gt;`, so you have to create the appropriate one yourself.\r\n\r\nThe following code should help you out. I&#39;ve create the class `OptionalAction`,\r\nwhich provides the if-else mechanism for you.\r\n\r\n    public class OptionalTest\r\n    {\r\n      public static Optional&lt;DbObject&gt; getObjectFromDb()\r\n      {\r\n        // doa.find()\r\n        DbObject v = find();\r\n    \r\n        // create appropriate Optional\r\n        Optional&lt;DbObject&gt; object = Optional.ofNullable(v);\r\n    \r\n        // @formatter:off\r\n        OptionalAction.\r\n        ifPresent(object)\r\n        .then(o -&gt; o.setAvailable(true))\r\n        .elseDo(o -&gt; System.out.println(&quot;Fatal! Object not available!&quot;));\r\n        // @formatter:on\r\n        return object;\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        Optional&lt;DbObject&gt; object = getObjectFromDb();\r\n        if (object.isPresent())\r\n          System.out.println(object.get());\r\n        else\r\n          System.out.println(&quot;There is no object!&quot;);\r\n      }\r\n    \r\n      // find may return null\r\n      public static DbObject find()\r\n      {\r\n        return (Math.random() &gt; 0.5) ? null : new DbObject();\r\n      }\r\n    \r\n      static class DbObject\r\n      {\r\n        private boolean available = false;\r\n    \r\n        public boolean isAvailable()\r\n        {\r\n          return available;\r\n        }\r\n    \r\n        public void setAvailable(boolean available)\r\n        {\r\n          this.available = available;\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n          return &quot;DbObject [available=&quot; + available + &quot;]&quot;;\r\n        }\r\n      }\r\n    \r\n      static class OptionalAction\r\n      {\r\n        public static &lt;T&gt; IfAction&lt;T&gt; ifPresent(Optional&lt;T&gt; optional)\r\n        {\r\n          return new IfAction&lt;&gt;(optional);\r\n        }\r\n    \r\n        private static class IfAction&lt;T&gt;\r\n        {\r\n          private final Optional&lt;T&gt; optional;\r\n    \r\n          public IfAction(Optional&lt;T&gt; optional)\r\n          {\r\n            this.optional = optional;\r\n          }\r\n    \r\n          public ElseAction&lt;T&gt; then(Consumer&lt;? super T&gt; consumer)\r\n          {\r\n            if (optional.isPresent())\r\n              consumer.accept(optional.get());\r\n            return new ElseAction&lt;&gt;(optional);\r\n          }\r\n        }\r\n    \r\n        private static class ElseAction&lt;T&gt;\r\n        {\r\n          private final Optional&lt;T&gt; optional;\r\n    \r\n          public ElseAction(Optional&lt;T&gt; optional)\r\n          {\r\n            this.optional = optional;\r\n          }\r\n    \r\n          public void elseDo(Consumer&lt;? super T&gt; consumer)\r\n          {\r\n            if (!optional.isPresent())\r\n              consumer.accept(null);\r\n          }\r\n        }\r\n      }\r\n    }","title":"How to execute logic on Optional if not present?","body":"<p>I suppose you cannot change the <code>dao.find()</code> method to return an instance of <code>Optional&lt;Obj&gt;</code>, so you have to create the appropriate one yourself.</p>\n\n<p>The following code should help you out. I've create the class <code>OptionalAction</code>,\nwhich provides the if-else mechanism for you.</p>\n\n<pre><code>public class OptionalTest\n{\n  public static Optional&lt;DbObject&gt; getObjectFromDb()\n  {\n    // doa.find()\n    DbObject v = find();\n\n    // create appropriate Optional\n    Optional&lt;DbObject&gt; object = Optional.ofNullable(v);\n\n    // @formatter:off\n    OptionalAction.\n    ifPresent(object)\n    .then(o -&gt; o.setAvailable(true))\n    .elseDo(o -&gt; System.out.println(\"Fatal! Object not available!\"));\n    // @formatter:on\n    return object;\n  }\n\n  public static void main(String[] args)\n  {\n    Optional&lt;DbObject&gt; object = getObjectFromDb();\n    if (object.isPresent())\n      System.out.println(object.get());\n    else\n      System.out.println(\"There is no object!\");\n  }\n\n  // find may return null\n  public static DbObject find()\n  {\n    return (Math.random() &gt; 0.5) ? null : new DbObject();\n  }\n\n  static class DbObject\n  {\n    private boolean available = false;\n\n    public boolean isAvailable()\n    {\n      return available;\n    }\n\n    public void setAvailable(boolean available)\n    {\n      this.available = available;\n    }\n\n    @Override\n    public String toString()\n    {\n      return \"DbObject [available=\" + available + \"]\";\n    }\n  }\n\n  static class OptionalAction\n  {\n    public static &lt;T&gt; IfAction&lt;T&gt; ifPresent(Optional&lt;T&gt; optional)\n    {\n      return new IfAction&lt;&gt;(optional);\n    }\n\n    private static class IfAction&lt;T&gt;\n    {\n      private final Optional&lt;T&gt; optional;\n\n      public IfAction(Optional&lt;T&gt; optional)\n      {\n        this.optional = optional;\n      }\n\n      public ElseAction&lt;T&gt; then(Consumer&lt;? super T&gt; consumer)\n      {\n        if (optional.isPresent())\n          consumer.accept(optional.get());\n        return new ElseAction&lt;&gt;(optional);\n      }\n    }\n\n    private static class ElseAction&lt;T&gt;\n    {\n      private final Optional&lt;T&gt; optional;\n\n      public ElseAction(Optional&lt;T&gt; optional)\n      {\n        this.optional = optional;\n      }\n\n      public void elseDo(Consumer&lt;? super T&gt; consumer)\n      {\n        if (!optional.isPresent())\n          consumer.accept(null);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":781889,"reputation":1598,"user_id":843704,"accept_rate":73,"display_name":"erkfel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449186886,"creation_date":1449186886,"answer_id":34078539,"question_id":29235982,"body_markdown":"I was able to came up with a couple of &quot;one line&quot; solutions, for example:\r\n\r\n        obj.map(o -&gt; (Runnable) () -&gt; o.setAvailable(true))\r\n           .orElse(() -&gt; logger.fatal(&quot;Object not available&quot;))\r\n           .run();\r\n\r\nor\r\n\r\n        obj.map(o -&gt; (Consumer&lt;Object&gt;) c -&gt; o.setAvailable(true))\r\n           .orElse(o -&gt; logger.fatal(&quot;Object not available&quot;))\r\n           .accept(null);\r\n\r\nor\r\n\r\n        obj.map(o -&gt; (Supplier&lt;Object&gt;) () -&gt; {\r\n                o.setAvailable(true);\r\n                return null;\r\n        }).orElse(() () -&gt; {\r\n                logger.fatal(&quot;Object not available&quot;)\r\n                return null;\r\n        }).get();\r\n\r\nIt doesn&#39;t look very nice, something like `orElseRun` would be much better, but I think that option with Runnable is acceptable if you really want one line solution.    ","title":"How to execute logic on Optional if not present?","body":"<p>I was able to came up with a couple of \"one line\" solutions, for example:</p>\n\n<pre><code>    obj.map(o -&gt; (Runnable) () -&gt; o.setAvailable(true))\n       .orElse(() -&gt; logger.fatal(\"Object not available\"))\n       .run();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    obj.map(o -&gt; (Consumer&lt;Object&gt;) c -&gt; o.setAvailable(true))\n       .orElse(o -&gt; logger.fatal(\"Object not available\"))\n       .accept(null);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    obj.map(o -&gt; (Supplier&lt;Object&gt;) () -&gt; {\n            o.setAvailable(true);\n            return null;\n    }).orElse(() () -&gt; {\n            logger.fatal(\"Object not available\")\n            return null;\n    }).get();\n</code></pre>\n\n<p>It doesn't look very nice, something like <code>orElseRun</code> would be much better, but I think that option with Runnable is acceptable if you really want one line solution.    </p>\n"},{"tags":[],"owner":{"account_id":3220420,"reputation":864,"user_id":3854962,"display_name":"UTF_or_Death"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1649421751,"creation_date":1460920747,"answer_id":36681079,"question_id":29235982,"body_markdown":"There **is** an `.orElseRun` method, but it is called `.orElseGet`. \r\n\r\nThe main problem with your pseudocode is that `.isPresent` doesn&#39;t return an `Optional&lt;&gt;`. But `.map` returns an `Optional&lt;&gt;` which has the `orElseGet` method.\r\n\r\nIf you really want to do this in one statement this is possible:\r\n\r\n    public Optional&lt;Obj&gt; getObjectFromDB() {\r\n        return dao.find()\r\n            .map( obj -&gt; { \r\n                obj.setAvailable(true);\r\n                return Optional.of(obj); \r\n             })\r\n            .orElseGet( () -&gt; {\r\n                logger.fatal(&quot;Object not available&quot;); \r\n                return Optional.empty();\r\n        });\r\n    }\r\n\r\nBut this is even clunkier than what you had before. ","title":"How to execute logic on Optional if not present?","body":"<p>There <strong>is</strong> an <code>.orElseRun</code> method, but it is called <code>.orElseGet</code>.</p>\n<p>The main problem with your pseudocode is that <code>.isPresent</code> doesn't return an <code>Optional&lt;&gt;</code>. But <code>.map</code> returns an <code>Optional&lt;&gt;</code> which has the <code>orElseGet</code> method.</p>\n<p>If you really want to do this in one statement this is possible:</p>\n<pre><code>public Optional&lt;Obj&gt; getObjectFromDB() {\n    return dao.find()\n        .map( obj -&gt; { \n            obj.setAvailable(true);\n            return Optional.of(obj); \n         })\n        .orElseGet( () -&gt; {\n            logger.fatal(&quot;Object not available&quot;); \n            return Optional.empty();\n    });\n}\n</code></pre>\n<p>But this is even clunkier than what you had before.</p>\n"},{"comments":[{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":9,"creation_date":1461832630,"post_id":36885135,"comment_id":61381455,"body_markdown":"Returning a null defeats the purpose of Optionals. In the OPs question, what one must do if the object is not found is ambiguous. IMHO its better to return a newly instantiated Object, and perhaps setAvailable to false. \nOf course, here the OP has logged fatal, which means he probably intends to terminate so it doesn&#39;t really matter.","body":"Returning a null defeats the purpose of Optionals. In the OPs question, what one must do if the object is not found is ambiguous. IMHO its better to return a newly instantiated Object, and perhaps setAvailable to false.  Of course, here the OP has logged fatal, which means he probably intends to terminate so it doesn&#39;t really matter."},{"owner":{"account_id":3220420,"reputation":864,"user_id":3854962,"display_name":"UTF_or_Death"},"score":0,"creation_date":1487696068,"post_id":36885135,"comment_id":71896208,"body_markdown":"This solution returns an `Object`, while the original question is for a method returning `Optional&lt;Object&gt;`. My (older) answer is very similar but differs in this way : http://stackoverflow.com/a/36681079/3854962","body":"This solution returns an <code>Object</code>, while the original question is for a method returning <code>Optional&lt;Object&gt;</code>. My (older) answer is very similar but differs in this way : <a href=\"http://stackoverflow.com/a/36681079/3854962\">stackoverflow.com/a/36681079/3854962</a>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1531807479,"post_id":36885135,"comment_id":89719866,"body_markdown":"Why the use of `flatMap`?","body":"Why the use of <code>flatMap</code>?"},{"owner":{"account_id":5478090,"reputation":425,"user_id":4355529,"accept_rate":33,"display_name":"isopropylcyanide"},"score":0,"creation_date":1535551995,"post_id":36885135,"comment_id":91109125,"body_markdown":"because he&#39;s returning an optional instead of a value. FlatMap converts Optional&lt;Optional&lt;X&gt;&gt; to Optional&lt;X&gt;","body":"because he&#39;s returning an optional instead of a value. FlatMap converts Optional&lt;Optional&lt;X&gt;&gt; to Optional&lt;X&gt;"}],"tags":[],"owner":{"account_id":2048586,"reputation":840,"user_id":1828105,"display_name":"Hasasn"},"comment_count":4,"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1469719709,"creation_date":1461747837,"answer_id":36885135,"question_id":29235982,"body_markdown":"First of all, your `dao.find()` should either return an `Optional&lt;Obj&gt;` or you will have to create one.\r\n\r\ne.g.\r\n\r\n    Optional&lt;Obj&gt; = dao.find();\r\n\r\nor you can do it yourself like:\r\n\r\n    Optional&lt;Obj&gt; = Optional.ofNullable(dao.find());\r\n\r\nthis one will return `Optional&lt;Obj&gt;` if present or `Optional.empty()` if not present.\r\n\r\nSo now let&#39;s get to the solution,\r\n\r\n    public Obj getObjectFromDB() {\r\n       return Optional.ofNullable(dao.find()).flatMap(ob -&gt; {\r\n                ob.setAvailable(true);\r\n                return Optional.of(ob);    \r\n            }).orElseGet(() -&gt; {\r\n                logger.fatal(&quot;Object not available&quot;);\r\n                return null;\r\n            });\r\n        }\r\n\r\nThis is the one liner you&#39;re looking for :)","title":"How to execute logic on Optional if not present?","body":"<p>First of all, your <code>dao.find()</code> should either return an <code>Optional&lt;Obj&gt;</code> or you will have to create one.</p>\n\n<p>e.g.</p>\n\n<pre><code>Optional&lt;Obj&gt; = dao.find();\n</code></pre>\n\n<p>or you can do it yourself like:</p>\n\n<pre><code>Optional&lt;Obj&gt; = Optional.ofNullable(dao.find());\n</code></pre>\n\n<p>this one will return <code>Optional&lt;Obj&gt;</code> if present or <code>Optional.empty()</code> if not present.</p>\n\n<p>So now let's get to the solution,</p>\n\n<pre><code>public Obj getObjectFromDB() {\n   return Optional.ofNullable(dao.find()).flatMap(ob -&gt; {\n            ob.setAvailable(true);\n            return Optional.of(ob);    \n        }).orElseGet(() -&gt; {\n            logger.fatal(\"Object not available\");\n            return null;\n        });\n    }\n</code></pre>\n\n<p>This is the one liner you're looking for :)</p>\n"},{"comments":[{"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"score":79,"creation_date":1482638140,"post_id":39958306,"comment_id":69840817,"body_markdown":"seems like something that should have been included in v1 (Java 8)... _oh well..._","body":"seems like something that should have been included in v1 (Java 8)... <i>oh well...</i>"},{"owner":{"account_id":238631,"reputation":1030,"user_id":507654,"display_name":"hbobenicio"},"score":7,"creation_date":1498076375,"post_id":39958306,"comment_id":76355245,"body_markdown":"Yes... I also think they actually missed that in Java 8. And more... if you want to do something when the value is present, they gave &quot;ifPresent()&quot;. If you want to do something when the value is present and other thing when it&#39;s not, they gave &quot;ifPresentOrElse(f1, f2)&quot;. But it still lacks if I only want to do something with it&#39;s not present (something like &quot;ifNotPresent()&quot; would be suitable). With ifPresentOrElse I&#39;m forced to use a present function that does nothing in the later case.","body":"Yes... I also think they actually missed that in Java 8. And more... if you want to do something when the value is present, they gave &quot;ifPresent()&quot;. If you want to do something when the value is present and other thing when it&#39;s not, they gave &quot;ifPresentOrElse(f1, f2)&quot;. But it still lacks if I only want to do something with it&#39;s not present (something like &quot;ifNotPresent()&quot; would be suitable). With ifPresentOrElse I&#39;m forced to use a present function that does nothing in the later case."},{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":0,"creation_date":1498137779,"post_id":39958306,"comment_id":76384148,"body_markdown":"If you can introduce a framework, have a look at Vavr (former Javaslang) and their Option, it has an [onEmpty method](https://static.javadoc.io/io.vavr/vavr/0.9.0/io/vavr/control/Option.html#onEmpty-java.lang.Runnable-)","body":"If you can introduce a framework, have a look at Vavr (former Javaslang) and their Option, it has an <a href=\"https://static.javadoc.io/io.vavr/vavr/0.9.0/io/vavr/control/Option.html#onEmpty-java.lang.Runnable-\" rel=\"nofollow noreferrer\">onEmpty method</a>"},{"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"score":0,"creation_date":1544539807,"post_id":39958306,"comment_id":94306600,"body_markdown":"Rather use Java 9 or use if, else. vavr is not very nice","body":"Rather use Java 9 or use if, else. vavr is not very nice"},{"owner":{"account_id":6468461,"reputation":996,"user_id":5009459,"accept_rate":25,"display_name":"JBarros35"},"score":0,"creation_date":1600956847,"post_id":39958306,"comment_id":113258538,"body_markdown":"this is excessively complex just for a straight if then else!","body":"this is excessively complex just for a straight if then else!"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1615563020,"post_id":39958306,"comment_id":117737669,"body_markdown":"Of course there should be an `ifNotPresent(() -&gt; { ... })` option. Yet another case where Java&#39;s APIs get 70% there and then quit, leaving the developer wanting more. :( There are legit use cases where you don&#39;t want to do _anything_ if the optional exists, and only care if it does _not_ exist. Using `ifPresentOrElse` feels slimy for this use case.","body":"Of course there should be an <code>ifNotPresent(() -&gt; { ... })</code> option. Yet another case where Java&#39;s APIs get 70% there and then quit, leaving the developer wanting more. :( There are legit use cases where you don&#39;t want to do <i>anything</i> if the optional exists, and only care if it does <i>not</i> exist. Using <code>ifPresentOrElse</code> feels slimy for this use case."},{"owner":{"account_id":6221170,"reputation":668,"user_id":4840774,"display_name":"Sollace"},"score":0,"creation_date":1623747817,"post_id":39958306,"comment_id":120159914,"body_markdown":"imo there should be a `ifAbsent`. I always run into instances where that would be useful.","body":"imo there should be a <code>ifAbsent</code>. I always run into instances where that would be useful."},{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1635341211,"post_id":39958306,"comment_id":123271567,"body_markdown":"Just to add for people browsing this, sometimes you just need to throw your custom Exception. If that&#39;s the case, you could do it like this: `.orElseThrow(() -&gt; new MyException(&quot;There is nothing to see here. Move along&quot;))`.","body":"Just to add for people browsing this, sometimes you just need to throw your custom Exception. If that&#39;s the case, you could do it like this: <code>.orElseThrow(() -&gt; new MyException(&quot;There is nothing to see here. Move along&quot;))</code>."}],"tags":[],"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"comment_count":8,"down_vote_count":1,"up_vote_count":152,"is_accepted":true,"score":151,"last_activity_date":1535457786,"creation_date":1476102490,"answer_id":39958306,"question_id":29235982,"body_markdown":"With Java 9 or higher, [`ifPresentOrElse`][1] is most likely what you want:\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    Optional&lt;&gt; opt = dao.find();\r\n\r\n    opt.ifPresentOrElse(obj -&gt; obj.setAvailable(true),\r\n                        () -&gt; logger.error(&quot;…&quot;));\r\n    \r\n\r\nCurrying using [vavr][2] or alike might get even neater code, but I haven&#39;t tried yet.\r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#ifPresentOrElse-java.util.function.Consumer-java.lang.Runnable-\r\n\r\n[2]: http://www.vavr.io/","title":"How to execute logic on Optional if not present?","body":"<p>With Java 9 or higher, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#ifPresentOrElse-java.util.function.Consumer-java.lang.Runnable-\" rel=\"noreferrer\"><code>ifPresentOrElse</code></a> is most likely what you want:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;&gt; opt = dao.find();\n\nopt.ifPresentOrElse(obj -&gt; obj.setAvailable(true),\n                    () -&gt; logger.error(\"…\"));\n</code></pre>\n\n<p>Currying using <a href=\"http://www.vavr.io/\" rel=\"noreferrer\">vavr</a> or alike might get even neater code, but I haven't tried yet.</p>\n"},{"comments":[{"owner":{"account_id":6383646,"reputation":111,"user_id":4952226,"display_name":"mike"},"score":1,"creation_date":1626940694,"post_id":53840137,"comment_id":121026785,"body_markdown":"Useful things always hide deep, until magician have nice mood.","body":"Useful things always hide deep, until magician have nice mood."}],"tags":[],"owner":{"account_id":296506,"reputation":2368,"user_id":1079659,"display_name":"Cmyker"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1666602409,"creation_date":1545162897,"answer_id":53840137,"question_id":29235982,"body_markdown":"For Java 8 Spring Data offers [`ifPresentOrElse`][1] from &quot;Utility methods to work with Optionals&quot; to achieve what you want.\r\nExample would be:\r\n\r\n```java\r\nimport static org.springframework.data.util.Optionals.ifPresentOrElse;    \r\n    \r\nifPresentOrElse(dao.find(), obj -&gt; obj.setAvailable(true), () -&gt; logger.fatal(&quot;Object not available&quot;));\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/2.1.3.RELEASE/api/org/springframework/data/util/Optionals.html#ifPresentOrElse-java.util.Optional-java.util.function.Consumer-java.lang.Runnable-","title":"How to execute logic on Optional if not present?","body":"<p>For Java 8 Spring Data offers <a href=\"https://docs.spring.io/spring-data/commons/docs/2.1.3.RELEASE/api/org/springframework/data/util/Optionals.html#ifPresentOrElse-java.util.Optional-java.util.function.Consumer-java.lang.Runnable-\" rel=\"nofollow noreferrer\"><code>ifPresentOrElse</code></a> from &quot;Utility methods to work with Optionals&quot; to achieve what you want.\nExample would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.data.util.Optionals.ifPresentOrElse;    \n    \nifPresentOrElse(dao.find(), obj -&gt; obj.setAvailable(true), () -&gt; logger.fatal(&quot;Object not available&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9926930,"reputation":363,"user_id":7348163,"display_name":"sergeidyga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571931552,"creation_date":1571931552,"answer_id":58544756,"question_id":29235982,"body_markdown":"With Java 8 `Optional` it can be done with:\r\n\r\n        Optional&lt;Obj&gt; obj = dao.find();\r\n\r\n        obj.map(obj.setAvailable(true)).orElseGet(() -&gt; {\r\n            logger.fatal(&quot;Object not available&quot;);\r\n            return null;\r\n        });","title":"How to execute logic on Optional if not present?","body":"<p>With Java 8 <code>Optional</code> it can be done with:</p>\n\n<pre><code>    Optional&lt;Obj&gt; obj = dao.find();\n\n    obj.map(obj.setAvailable(true)).orElseGet(() -&gt; {\n        logger.fatal(\"Object not available\");\n        return null;\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5010108,"reputation":1772,"user_id":4026629,"display_name":"JL_SO"},"score":3,"creation_date":1583999815,"post_id":60028200,"comment_id":107301928,"body_markdown":"ifPresentOrElse requires Java 9.","body":"ifPresentOrElse requires Java 9."}],"tags":[],"owner":{"account_id":1092885,"reputation":37679,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580661503,"creation_date":1580661188,"answer_id":60028200,"question_id":29235982,"body_markdown":"For those of you who want to execute a side-effect **only if an optional is absent**\r\n\r\ni.e. an equivalent of `ifAbsent()` or `ifNotPresent()` here is a slight modification to the great answers already provided.\r\n\r\n    myOptional.ifPresentOrElse(x -&gt; {}, () -&gt; {\r\n      // logic goes here\r\n    })","title":"How to execute logic on Optional if not present?","body":"<p>For those of you who want to execute a side-effect <strong>only if an optional is absent</strong></p>\n\n<p>i.e. an equivalent of <code>ifAbsent()</code> or <code>ifNotPresent()</code> here is a slight modification to the great answers already provided.</p>\n\n<pre><code>myOptional.ifPresentOrElse(x -&gt; {}, () -&gt; {\n  // logic goes here\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8147033,"reputation":314,"user_id":6135401,"display_name":"Muriithi Derrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591048428,"creation_date":1591048428,"answer_id":62141582,"question_id":29235982,"body_markdown":"**ifPresentOrElse** can handle cases of nullpointers as well. Easy approach.\r\n\r\n       Optional.ofNullable(null)\r\n                .ifPresentOrElse(name -&gt; System.out.println(&quot;my name is &quot;+ name),\r\n                        ()-&gt;System.out.println(&quot;no name or was a null pointer&quot;));\r\n","title":"How to execute logic on Optional if not present?","body":"<p><strong>ifPresentOrElse</strong> can handle cases of nullpointers as well. Easy approach.</p>\n\n<pre><code>   Optional.ofNullable(null)\n            .ifPresentOrElse(name -&gt; System.out.println(\"my name is \"+ name),\n                    ()-&gt;System.out.println(\"no name or was a null pointer\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626357251,"creation_date":1624968343,"answer_id":68178387,"question_id":29235982,"body_markdown":"\r\n### Title: &quot;How to execute logic on Optional if not present?&quot;\r\n\r\n### Answer:\r\n\r\nUse `orElseGet()` as a workaround for the missing `ifNotPresent()`. And since it expects us to return something just return \r\n`null`.\r\n\r\n```java\r\nOptional.empty().orElseGet(() -&gt; {\r\n    System.out.println(&quot;The object is not present&quot;);\r\n    return null;\r\n});\r\n\r\n//output: The object is not present\r\n\r\n```\r\n\r\nor\r\n\r\n```java\r\n\r\nOptional.ofNullable(null).orElseGet(() -&gt; {\r\n    System.out.println(&quot;The object is not present&quot;);\r\n    return null;\r\n});\r\n\r\n//output: The object is not present\r\n\r\n```\r\n\r\nI also use it to easily implement the [singleton pattern](https://en.wikipedia.org/wiki/Singleton_pattern) with lazy initialization.\r\n\r\n\r\n```java\r\npublic class Settings {\r\n    private Settings(){}    \r\n    private static Settings instance;\r\n    public static synchronized Settings getInstance(){\r\n        Optional.ofNullable(instance).orElseGet(() -&gt; instance = new Settings());\r\n        return instance;\r\n    } \r\n}\r\n```\r\n\r\nOf course the `getInstance()` content can be written in one line by directly returning the first statement, but I wanted to demonstrate the use of `orElseGet()` as an `ifNotPresent()`.","title":"How to execute logic on Optional if not present?","body":"<h3 id=\"title-how-to-execute-logic-on-optional-if-not-present-9272\">Title: &quot;How to execute logic on Optional if not present?&quot;</h3>\n<h3 id=\"answer-khrn\">Answer:</h3>\n<p>Use <code>orElseGet()</code> as a workaround for the missing <code>ifNotPresent()</code>. And since it expects us to return something just return\n<code>null</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.empty().orElseGet(() -&gt; {\n    System.out.println(&quot;The object is not present&quot;);\n    return null;\n});\n\n//output: The object is not present\n\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nOptional.ofNullable(null).orElseGet(() -&gt; {\n    System.out.println(&quot;The object is not present&quot;);\n    return null;\n});\n\n//output: The object is not present\n\n</code></pre>\n<p>I also use it to easily implement the <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton pattern</a> with lazy initialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Settings {\n    private Settings(){}    \n    private static Settings instance;\n    public static synchronized Settings getInstance(){\n        Optional.ofNullable(instance).orElseGet(() -&gt; instance = new Settings());\n        return instance;\n    } \n}\n</code></pre>\n<p>Of course the <code>getInstance()</code> content can be written in one line by directly returning the first statement, but I wanted to demonstrate the use of <code>orElseGet()</code> as an <code>ifNotPresent()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662459215,"creation_date":1661876592,"answer_id":73545628,"question_id":29235982,"body_markdown":"In order to get the value from one call, or do an extra call if the previous returned an empty value, you can chain the commands.\r\n\r\n    public Optional&lt;Obj&gt; getObjectFromDB() {\r\n        return dao.find().or(() -&gt; dao.findBySomethingElse());\r\n    }","title":"How to execute logic on Optional if not present?","body":"<p>In order to get the value from one call, or do an extra call if the previous returned an empty value, you can chain the commands.</p>\n<pre><code>public Optional&lt;Obj&gt; getObjectFromDB() {\n    return dao.find().or(() -&gt; dao.findBySomethingElse());\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206369,"favorite_count":0,"down_vote_count":1,"up_vote_count":111,"accepted_answer_id":39958306,"answer_count":14,"score":110,"last_activity_date":1666602409,"creation_date":1427209293,"question_id":29235982,"body_markdown":"I want to replace the following code using java8 `Optional`:\r\n\r\n    public Obj getObjectFromDB() {\r\n    \tObj obj = dao.find();\r\n    \tif (obj != null) {\r\n    \t\tobj.setAvailable(true);\r\n    \t} else {\r\n    \t\tlogger.fatal(&quot;Object not available&quot;);\r\n    \t}\r\n    \r\n    \treturn obj;\r\n    }\r\n\r\n\r\nThe following pseudocode does not work as there is no `orElseRun` method, but anyways it illustrates my purpose:\r\n\r\n    public Optional&lt;Obj&gt; getObjectFromDB() {\r\n    \tOptional&lt;Obj&gt; obj = dao.find();\r\n    \treturn obj.ifPresent(obj.setAvailable(true)).orElseRun(logger.fatal(&quot;Object not available&quot;));\r\n    }\r\n","title":"How to execute logic on Optional if not present?","body":"<p>I want to replace the following code using java8 <code>Optional</code>:</p>\n\n<pre><code>public Obj getObjectFromDB() {\n    Obj obj = dao.find();\n    if (obj != null) {\n        obj.setAvailable(true);\n    } else {\n        logger.fatal(\"Object not available\");\n    }\n\n    return obj;\n}\n</code></pre>\n\n<p>The following pseudocode does not work as there is no <code>orElseRun</code> method, but anyways it illustrates my purpose:</p>\n\n<pre><code>public Optional&lt;Obj&gt; getObjectFromDB() {\n    Optional&lt;Obj&gt; obj = dao.find();\n    return obj.ifPresent(obj.setAvailable(true)).orElseRun(logger.fatal(\"Object not available\"));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","heroku"],"comments":[{"owner":{"account_id":952719,"reputation":6528,"user_id":978558,"accept_rate":60,"display_name":"fredrik"},"score":0,"creation_date":1666552167,"post_id":74173561,"comment_id":130959164,"body_markdown":"What did you put inside the `system.properties` file?","body":"What did you put inside the <code>system.properties</code> file?"},{"owner":{"account_id":23966638,"reputation":13,"user_id":17956045,"display_name":"Benamor Omar"},"score":0,"creation_date":1666602011,"post_id":74173561,"comment_id":130967600,"body_markdown":"java.runtime.version=11 and i tried java.runtime.version=zulu-11","body":"java.runtime.version=11 and i tried java.runtime.version=zulu-11"},{"owner":{"account_id":952719,"reputation":6528,"user_id":978558,"accept_rate":60,"display_name":"fredrik"},"score":0,"creation_date":1666647024,"post_id":74173561,"comment_id":130982705,"body_markdown":"Then the only guess I have is that &quot;root of the project&quot; is not the same as root of the repository. It&#39;s either that or you have found a rather major bug in Heroku - considering how central it is to be able to change java version I think that&#39;s really unlikely to be the case.","body":"Then the only guess I have is that &quot;root of the project&quot; is not the same as root of the repository. It&#39;s either that or you have found a rather major bug in Heroku - considering how central it is to be able to change java version I think that&#39;s really unlikely to be the case."}],"answers":[{"comments":[{"owner":{"account_id":23966638,"reputation":13,"user_id":17956045,"display_name":"Benamor Omar"},"score":0,"creation_date":1666602288,"post_id":74174110,"comment_id":130967702,"body_markdown":"I have followed all these steps but it is not working...","body":"I have followed all these steps but it is not working..."}],"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666552799,"creation_date":1666552799,"answer_id":74174110,"question_id":74173561,"body_markdown":"By default, Heroku uses JDK 1.8 for Java Apps.\r\n\r\nYou can change this by specifying your Java Runtime version in the `system.properties` file. \r\n\r\n```\r\njava.runtime.version=&lt;jdk_version&gt; (e.g. 11)\r\n```\r\n\r\nTake a look at [this][1] for more.\r\n\r\n\r\n  [1]: https://www.codejava.net/heroku/change-java-version-for-apps","title":"How to change java runtime version in heroku app","body":"<p>By default, Heroku uses JDK 1.8 for Java Apps.</p>\n<p>You can change this by specifying your Java Runtime version in the <code>system.properties</code> file.</p>\n<pre><code>java.runtime.version=&lt;jdk_version&gt; (e.g. 11)\n</code></pre>\n<p>Take a look at <a href=\"https://www.codejava.net/heroku/change-java-version-for-apps\" rel=\"nofollow noreferrer\">this</a> for more.</p>\n"}],"owner":{"account_id":23966638,"reputation":13,"user_id":17956045,"display_name":"Benamor Omar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666602191,"creation_date":1666548385,"question_id":74173561,"body_markdown":"I&#39;m trying to deploy a spring boot app that uses JDK 11 but when Building on the Heroku it installs OpenJdk 1.8 :\r\n\r\n```\r\n-----&gt; Uploading build...\r\n       - success\r\n-----&gt; Deploying...\r\nremote: \r\nremote: -----&gt; Building on the Heroku-22 stack\r\nremote: -----&gt; Using buildpack: heroku/jvm\r\nremote: -----&gt; heroku-deploy app detected\r\nremote: -----&gt; Installing OpenJDK 1.8... done\r\nremote: -----&gt; Discovering process types\r\nremote:        Procfile declares types -&gt; web\r\nremote: \r\nremote: -----&gt; Compressing...\r\nremote:        Done: 106.2M\r\nremote: -----&gt; Launching...\r\nremote:        Released v14\r\n```\r\nAlthough i created a &#39;system.properties&#39; file in the root of the project and commited it to git ```java.runtime.version=11``` but it still installing OpenJdk 1.8 and not 11.\r\n\r\n\r\nand this is the exception from the Heroku Cli :\r\n\r\n```\r\n2022-10-23T18:03:37.124247+00:00 heroku[web.1]: State changed from starting to crashed\r\n2022-10-23T18:03:37.127120+00:00 heroku[web.1]: State changed from crashed to starting\r\n2022-10-23T18:03:41.139758+00:00 heroku[web.1]: Starting process with command `java $JAVA_OPTS -jar SeniorCare-0.0.1-SNAPSHOT.jar  $JAR_OPTS`\r\n2022-10-23T18:03:42.062965+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n2022-10-23T18:03:42.069472+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8\r\n2022-10-23T18:03:42.544439+00:00 heroku[web.1]: Process exited with status 1\r\n2022-10-23T18:03:42.646566+00:00 heroku[web.1]: State changed from starting to crashed\r\n2022-10-23T18:03:42.408259+00:00 app[web.1]: Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: dsi/senior/SeniorCareApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n2022-10-23T18:03:42.408398+00:00 app[web.1]: at java.lang.ClassLoader.defineClass1(Native Method)\r\n2022-10-23T18:03:42.408445+00:00 app[web.1]: at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\r\n2022-10-23T18:03:42.408507+00:00 app[web.1]: at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n2022-10-23T18:03:42.408597+00:00 app[web.1]: at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n2022-10-23T18:03:42.408637+00:00 app[web.1]: at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n2022-10-23T18:03:42.408674+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n2022-10-23T18:03:42.408712+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n2022-10-23T18:03:42.408768+00:00 app[web.1]: at java.security.AccessController.doPrivileged(Native Method)\r\n2022-10-23T18:03:42.408826+00:00 app[web.1]: at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n2022-10-23T18:03:42.408878+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n2022-10-23T18:03:42.408940+00:00 app[web.1]: at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n2022-10-23T18:03:42.408997+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n2022-10-23T18:03:42.409054+00:00 app[web.1]: at java.lang.Class.forName0(Native Method)\r\n2022-10-23T18:03:42.409099+00:00 app[web.1]: at java.lang.Class.forName(Class.java:348)\r\n2022-10-23T18:03:42.409161+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\r\n2022-10-23T18:03:42.409220+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n2022-10-23T18:03:42.409255+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n2022-10-23T18:03:42.409297+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n```\r\n\r\n   ","title":"How to change java runtime version in heroku app","body":"<p>I'm trying to deploy a spring boot app that uses JDK 11 but when Building on the Heroku it installs OpenJdk 1.8 :</p>\n<pre><code>-----&gt; Uploading build...\n       - success\n-----&gt; Deploying...\nremote: \nremote: -----&gt; Building on the Heroku-22 stack\nremote: -----&gt; Using buildpack: heroku/jvm\nremote: -----&gt; heroku-deploy app detected\nremote: -----&gt; Installing OpenJDK 1.8... done\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types -&gt; web\nremote: \nremote: -----&gt; Compressing...\nremote:        Done: 106.2M\nremote: -----&gt; Launching...\nremote:        Released v14\n</code></pre>\n<p>Although i created a 'system.properties' file in the root of the project and commited it to git <code>java.runtime.version=11</code> but it still installing OpenJdk 1.8 and not 11.</p>\n<p>and this is the exception from the Heroku Cli :</p>\n<pre><code>2022-10-23T18:03:37.124247+00:00 heroku[web.1]: State changed from starting to crashed\n2022-10-23T18:03:37.127120+00:00 heroku[web.1]: State changed from crashed to starting\n2022-10-23T18:03:41.139758+00:00 heroku[web.1]: Starting process with command `java $JAVA_OPTS -jar SeniorCare-0.0.1-SNAPSHOT.jar  $JAR_OPTS`\n2022-10-23T18:03:42.062965+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\n2022-10-23T18:03:42.069472+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -XX:CICompilerCount=2 -Dfile.encoding=UTF-8\n2022-10-23T18:03:42.544439+00:00 heroku[web.1]: Process exited with status 1\n2022-10-23T18:03:42.646566+00:00 heroku[web.1]: State changed from starting to crashed\n2022-10-23T18:03:42.408259+00:00 app[web.1]: Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: dsi/senior/SeniorCareApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n2022-10-23T18:03:42.408398+00:00 app[web.1]: at java.lang.ClassLoader.defineClass1(Native Method)\n2022-10-23T18:03:42.408445+00:00 app[web.1]: at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\n2022-10-23T18:03:42.408507+00:00 app[web.1]: at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n2022-10-23T18:03:42.408597+00:00 app[web.1]: at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n2022-10-23T18:03:42.408637+00:00 app[web.1]: at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n2022-10-23T18:03:42.408674+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n2022-10-23T18:03:42.408712+00:00 app[web.1]: at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n2022-10-23T18:03:42.408768+00:00 app[web.1]: at java.security.AccessController.doPrivileged(Native Method)\n2022-10-23T18:03:42.408826+00:00 app[web.1]: at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n2022-10-23T18:03:42.408878+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n2022-10-23T18:03:42.408940+00:00 app[web.1]: at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n2022-10-23T18:03:42.408997+00:00 app[web.1]: at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n2022-10-23T18:03:42.409054+00:00 app[web.1]: at java.lang.Class.forName0(Native Method)\n2022-10-23T18:03:42.409099+00:00 app[web.1]: at java.lang.Class.forName(Class.java:348)\n2022-10-23T18:03:42.409161+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\n2022-10-23T18:03:42.409220+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n2022-10-23T18:03:42.409255+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n2022-10-23T18:03:42.409297+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\n</code></pre>\n"},{"tags":["java","charles-proxy"],"answers":[{"comments":[{"owner":{"account_id":1450937,"reputation":868,"user_id":1367902,"accept_rate":71,"display_name":"derodevil"},"score":0,"creation_date":1667098795,"post_id":74178775,"comment_id":131089395,"body_markdown":"You&#39;re correct. And if the problem persists mark the file as readonly","body":"You&#39;re correct. And if the problem persists mark the file as readonly"}],"tags":[],"owner":{"account_id":6114310,"reputation":44,"user_id":4769837,"display_name":"pepijn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666602155,"creation_date":1666602155,"answer_id":74178775,"question_id":69702334,"body_markdown":"For me going to `C:\\Users\\my account\\.accessibility.properties` and commenting out every line by adding a `#` a front of it worked.(I at least don&#39;t need the accessibility)\r\n\r\nFound this solution at: https://stackoverflow.com/questions/15260989/exception-in-thread-main-java-awt-awterror-assistive-technology-not-found#comment117751693_15263840","title":"Charles proxy won&#39;t start. Assistive Technology not found: com.sun.java.accessibility.AccessBridge","body":"<p>For me going to <code>C:\\Users\\my account\\.accessibility.properties</code> and commenting out every line by adding a <code>#</code> a front of it worked.(I at least don't need the accessibility)</p>\n<p>Found this solution at: <a href=\"https://stackoverflow.com/questions/15260989/exception-in-thread-main-java-awt-awterror-assistive-technology-not-found#comment117751693_15263840\">Exception in thread &quot;main&quot; java.awt.AWTError: Assistive Technology not found</a></p>\n"}],"owner":{"account_id":1450937,"reputation":868,"user_id":1367902,"accept_rate":71,"display_name":"derodevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74178775,"answer_count":1,"score":1,"last_activity_date":1666602155,"creation_date":1635129654,"question_id":69702334,"body_markdown":"My previous question was deleted [here][1] because it was considered as duplicate. I say it&#39;s not because the answers were about java itself while mine is about charles proxy and those answers didn&#39;t resolve my problem.\r\n\r\nI had installed `jdk-17.0.1` and `jre1.8.0_311` on my machine when I tried to open `charles proxy 4.6.2` on double click but nothing happened, the application didn&#39;t start. I try to open via command prompt by typing `Charles.exe` and this error is shown\r\n\r\n    java.awt.AWTError: Assistive Technology not found: com.sun.java.accessibility.AccessBridge\r\n            at java.desktop/java.awt.Toolkit.newAWTError(Unknown Source)\r\n            at java.desktop/java.awt.Toolkit.fallbackToLoadClassForAT(Unknown Source)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Unknown Source)\r\n            at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\r\n            at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(Unknown Source)\r\n            at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\r\n            at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(Unknown Source)\r\n            at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(Unknown Source)\r\n            at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\r\n            at java.base/java.util.stream.ReferencePipeline.forEach(Unknown Source)\r\n            at java.desktop/java.awt.Toolkit.loadAssistiveTechnologies(Unknown Source)\r\n            at java.desktop/java.awt.Toolkit.getDefaultToolkit(Unknown Source)\r\n            at de.sciss.syntaxpane.DefaultSyntaxKit.&lt;clinit&gt;(DefaultSyntaxKit.java:105)\r\n            at com.xk72.charles.gui.lib.UIUtils.&lt;clinit&gt;(Unknown Source)\r\n            at com.xk72.charles.gui.s.h(Unknown Source)\r\n            at com.xk72.charles.gui.Main.c(Unknown Source)\r\n            at com.xk72.charles.Main.b(Unknown Source)\r\n            at com.xk72.charles.gui.Main.main(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n            at com.xk72.lib.a.a(Unknown Source)\r\n            at com.xk72.charles.gui.MainWithClassLoader.main(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.java.accessibility.AccessBridge\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n            at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Unknown Source)\r\n            ... 24 more\r\n\r\nI&#39;m using Windows 10 64bit. `%JAVA_HOME%` is also setup\r\n\r\n  [1]: https://stackoverflow.com/questions/69698763/charles-proxy-wont-open-assistive-technology-not-found-com-sun-java-accessibi","title":"Charles proxy won&#39;t start. Assistive Technology not found: com.sun.java.accessibility.AccessBridge","body":"<p>My previous question was deleted <a href=\"https://stackoverflow.com/questions/69698763/charles-proxy-wont-open-assistive-technology-not-found-com-sun-java-accessibi\">here</a> because it was considered as duplicate. I say it's not because the answers were about java itself while mine is about charles proxy and those answers didn't resolve my problem.</p>\n<p>I had installed <code>jdk-17.0.1</code> and <code>jre1.8.0_311</code> on my machine when I tried to open <code>charles proxy 4.6.2</code> on double click but nothing happened, the application didn't start. I try to open via command prompt by typing <code>Charles.exe</code> and this error is shown</p>\n<pre><code>java.awt.AWTError: Assistive Technology not found: com.sun.java.accessibility.AccessBridge\n        at java.desktop/java.awt.Toolkit.newAWTError(Unknown Source)\n        at java.desktop/java.awt.Toolkit.fallbackToLoadClassForAT(Unknown Source)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(Unknown Source)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)\n        at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(Unknown Source)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(Unknown Source)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(Unknown Source)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)\n        at java.base/java.util.stream.ReferencePipeline.forEach(Unknown Source)\n        at java.desktop/java.awt.Toolkit.loadAssistiveTechnologies(Unknown Source)\n        at java.desktop/java.awt.Toolkit.getDefaultToolkit(Unknown Source)\n        at de.sciss.syntaxpane.DefaultSyntaxKit.&lt;clinit&gt;(DefaultSyntaxKit.java:105)\n        at com.xk72.charles.gui.lib.UIUtils.&lt;clinit&gt;(Unknown Source)\n        at com.xk72.charles.gui.s.h(Unknown Source)\n        at com.xk72.charles.gui.Main.c(Unknown Source)\n        at com.xk72.charles.Main.b(Unknown Source)\n        at com.xk72.charles.gui.Main.main(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at com.xk72.lib.a.a(Unknown Source)\n        at com.xk72.charles.gui.MainWithClassLoader.main(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.sun.java.accessibility.AccessBridge\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Unknown Source)\n        ... 24 more\n</code></pre>\n<p>I'm using Windows 10 64bit. <code>%JAVA_HOME%</code> is also setup</p>\n"},{"tags":["java","junit5","sonarlint"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1666601024,"post_id":74178463,"comment_id":130967248,"body_markdown":"You can leave out `assertNotNull(ressource)` since a null `ressource` will cause the test to fail anyway. But that still exceeds the 25 max assertions.","body":"You can leave out <code>assertNotNull(ressource)</code> since a null <code>ressource</code> will cause the test to fail anyway. But that still exceeds the 25 max assertions."}],"answers":[{"comments":[{"owner":{"account_id":26715381,"reputation":13,"user_id":20320052,"display_name":"Samuel Holmes"},"score":0,"creation_date":1666616170,"post_id":74178763,"comment_id":130972287,"body_markdown":"Thanks ! indeed one test per assertions is a bit overkill, but making the assertion in a different method is a good idea :)","body":"Thanks ! indeed one test per assertions is a bit overkill, but making the assertion in a different method is a good idea :)"}],"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666602064,"creation_date":1666602064,"answer_id":74178763,"question_id":74178463,"body_markdown":"Personally, I wouldn&#39;t bother with checking the number of assertions, since, sure, it&#39;s best if the unit test remains compact, but what&#39;s the test worth, if it doesn&#39;t test all it should test?\r\n\r\nTwo approaches jump to mind.\r\n\r\nLet&#39;s say you have a Person class, which has a few fields (I&#39;m not going to go for thirty asserts), but you are limited to one assertion per test.\r\n\r\n    public class Person {\r\n      private String name;\r\n      private Date birthDay;\r\n    \r\n      public Person(String name, Date birthDay) {\r\n        this.name = name;\r\n        this.birthDay = birthDay;\r\n      }\r\n    \r\n      public String getName() { return name; }\r\n    \r\n      public Date getBirthDate() { return birthDay; }\r\n    \r\n      public boolean isAdult() { /* assume implemented */ }\r\n    }\r\n\r\nApproach 1 - several tests:\r\n\r\n    public class PersonTest {\r\n    \r\n     @Test\r\n     public void testName() {\r\n       assertEquals(&quot;Name should be Sam&quot;, &quot;Sam&quot;, buildPerson().getName());\r\n     }\r\n    \r\n     @Test\r\n     public void testAdult() {\r\n       assertTrue(&quot;Person should be an adult&quot;, buildPerson().isAdult());\r\n     }\r\n    \r\n      public Person buildPerson() {\r\n        return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\r\n      }\r\n    }\r\n\r\nSo, this honors your limitation, but this might be a big overkill for your thirty assertions.\r\n\r\nYou can also perform the actual testing in a separate method. Personally, I don&#39;t really see an upside to this, but it would help you limit your number of assertions:\r\n\r\n    public class PersonTest {\r\n    \r\n       @Test\r\n       public void testPerson() {\r\n         Person p = buildPerson();\r\n         String result = comparePersonToExpectations(p, &quot;Sam&quot;, true);\r\n         assertEquals(result, &quot;&quot;, result);\r\n       }\r\n    \r\n       public String comparePersonToExpectations(Person person, String expectedName, boolean shouldBeAdult) {\r\n         if ( !expectedName.equals(person.getName())\r\n           return &quot;Name should be: &quot; + expectedName + &quot; but was: &quot; + person.getName();\r\n         if ( shouldBeAdult != person.isAdult()) \r\n           return &quot;AdultCheck expected: &quot; + shouldBeAdult + &quot;, Actual: &quot; + person.isAdult();\r\n         return &quot;&quot;;\r\n       }\r\n    \r\n       public Person buildPerson() {\r\n         return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\r\n       }\r\n    }\r\n\r\n","title":"Best way to unit test mapper for huge java object with junit 5","body":"<p>Personally, I wouldn't bother with checking the number of assertions, since, sure, it's best if the unit test remains compact, but what's the test worth, if it doesn't test all it should test?</p>\n<p>Two approaches jump to mind.</p>\n<p>Let's say you have a Person class, which has a few fields (I'm not going to go for thirty asserts), but you are limited to one assertion per test.</p>\n<pre><code>public class Person {\n  private String name;\n  private Date birthDay;\n\n  public Person(String name, Date birthDay) {\n    this.name = name;\n    this.birthDay = birthDay;\n  }\n\n  public String getName() { return name; }\n\n  public Date getBirthDate() { return birthDay; }\n\n  public boolean isAdult() { /* assume implemented */ }\n}\n</code></pre>\n<p>Approach 1 - several tests:</p>\n<pre><code>public class PersonTest {\n\n @Test\n public void testName() {\n   assertEquals(&quot;Name should be Sam&quot;, &quot;Sam&quot;, buildPerson().getName());\n }\n\n @Test\n public void testAdult() {\n   assertTrue(&quot;Person should be an adult&quot;, buildPerson().isAdult());\n }\n\n  public Person buildPerson() {\n    return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\n  }\n}\n</code></pre>\n<p>So, this honors your limitation, but this might be a big overkill for your thirty assertions.</p>\n<p>You can also perform the actual testing in a separate method. Personally, I don't really see an upside to this, but it would help you limit your number of assertions:</p>\n<pre><code>public class PersonTest {\n\n   @Test\n   public void testPerson() {\n     Person p = buildPerson();\n     String result = comparePersonToExpectations(p, &quot;Sam&quot;, true);\n     assertEquals(result, &quot;&quot;, result);\n   }\n\n   public String comparePersonToExpectations(Person person, String expectedName, boolean shouldBeAdult) {\n     if ( !expectedName.equals(person.getName())\n       return &quot;Name should be: &quot; + expectedName + &quot; but was: &quot; + person.getName();\n     if ( shouldBeAdult != person.isAdult()) \n       return &quot;AdultCheck expected: &quot; + shouldBeAdult + &quot;, Actual: &quot; + person.isAdult();\n     return &quot;&quot;;\n   }\n\n   public Person buildPerson() {\n     return new Person(&quot;Sam&quot;, createDateFrom20YearsAgo());\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":26715381,"reputation":13,"user_id":20320052,"display_name":"Samuel Holmes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74178763,"answer_count":1,"score":1,"last_activity_date":1666602064,"creation_date":1666600429,"question_id":74178463,"body_markdown":"I need to unit test a mapper for a 30 arguments object, however SonarLint recommendation is to remain under 25 assertions for a single test. Is there a way to test my mapper without making two tests ?\r\n\r\nHere is my test : \r\n\r\n```\r\n@Test\r\nvoid devraitConvertireEnApercu() {\r\n\r\n        //creation of documentConventionOTD with all fields\r\n\r\n\t\tApercuConvention ressource = mappeur.p2r(documentConventionOTD);\r\n\r\n\t\tassertAll(\r\n\t\t\t\t() -&gt; assertNotNull(ressource),\r\n\t\t\t\t() -&gt; assertNotNull(ressource),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getIdConvention(), ressource.getId()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getTypeConvention(), ressource.getTypeConvention()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getCodeGeo(), ressource.getCodeGeo()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getOrganismeFormation(), ressource.getOrganismeFormation()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getIntituleFormation(), ressource.getIntituleFormation()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getCodePostalLieuFormation(), ressource.getCodePostal()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getVilleLieuFormation(), ressource.getVille()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateDebutConvention(), ressource.getDateDebut()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getNbPlaces(), ressource.getNbPlaces()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getMontantBDCInitial(), ressource.getMontantBDCInitial()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateBDCInitial(), ressource.getDateBDCInitial()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getMontantBDCRectificatif(), ressource.getMontantBDCRectificatif()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateBDCRectificatif(), ressource.getDateBDCRectificatif()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getMontantTotalAvance(), ressource.getMontantTotalAvance()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstAvanceDemandee(), ressource.getEstAvanceDemandee()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateCalculAvance(), ressource.getDateCalculAvance()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstBeneficiaireAvanceActif(), ressource.getEstBeneficiaireAvanceActif()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEtatRapprochement(), ressource.getEtatRapprochement()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCGenere(), ressource.getDateAlerteBDCGenere()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCGenere(), ressource.getEstTraiteeAlerteBDCGenere()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCNonGenere(), ressource.getDateAlerteBDCNonGenere()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCNonGenere(), ressource.getEstTraiteeAlerteBDCNonGenere()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlertePrixTotal(), ressource.getDateAlertePrixTotal()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlertePrixTotal(), ressource.getEstTraiteeAlertePrixTotal()),\r\n\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getDateAlerteNombrePlaceAchetees(), ressource.getDateAlerteNombrePlaceAchetees()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteNombrePlaceAchetees(), ressource.getEstTraiteeAlerteNombrePlaceAchetees()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getNumeroBonReservation(), ressource.getNumeroBonReservation()),\r\n\t\t\t\t() -&gt; assertEquals(documentConventionOTD.getCodeTypeSession(), ressource.getTypeSession())\r\n\t\t);\r\n\r\n\r\n\t}\r\n```","title":"Best way to unit test mapper for huge java object with junit 5","body":"<p>I need to unit test a mapper for a 30 arguments object, however SonarLint recommendation is to remain under 25 assertions for a single test. Is there a way to test my mapper without making two tests ?</p>\n<p>Here is my test :</p>\n<pre><code>@Test\nvoid devraitConvertireEnApercu() {\n\n        //creation of documentConventionOTD with all fields\n\n        ApercuConvention ressource = mappeur.p2r(documentConventionOTD);\n\n        assertAll(\n                () -&gt; assertNotNull(ressource),\n                () -&gt; assertNotNull(ressource),\n                () -&gt; assertEquals(documentConventionOTD.getIdConvention(), ressource.getId()),\n                () -&gt; assertEquals(documentConventionOTD.getTypeConvention(), ressource.getTypeConvention()),\n                () -&gt; assertEquals(documentConventionOTD.getCodeGeo(), ressource.getCodeGeo()),\n                () -&gt; assertEquals(documentConventionOTD.getOrganismeFormation(), ressource.getOrganismeFormation()),\n                () -&gt; assertEquals(documentConventionOTD.getIntituleFormation(), ressource.getIntituleFormation()),\n\n                () -&gt; assertEquals(documentConventionOTD.getCodePostalLieuFormation(), ressource.getCodePostal()),\n                () -&gt; assertEquals(documentConventionOTD.getVilleLieuFormation(), ressource.getVille()),\n                () -&gt; assertEquals(documentConventionOTD.getDateDebutConvention(), ressource.getDateDebut()),\n                () -&gt; assertEquals(documentConventionOTD.getNbPlaces(), ressource.getNbPlaces()),\n                () -&gt; assertEquals(documentConventionOTD.getMontantBDCInitial(), ressource.getMontantBDCInitial()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateBDCInitial(), ressource.getDateBDCInitial()),\n                () -&gt; assertEquals(documentConventionOTD.getMontantBDCRectificatif(), ressource.getMontantBDCRectificatif()),\n                () -&gt; assertEquals(documentConventionOTD.getDateBDCRectificatif(), ressource.getDateBDCRectificatif()),\n                () -&gt; assertEquals(documentConventionOTD.getMontantTotalAvance(), ressource.getMontantTotalAvance()),\n                () -&gt; assertEquals(documentConventionOTD.getEstAvanceDemandee(), ressource.getEstAvanceDemandee()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateCalculAvance(), ressource.getDateCalculAvance()),\n                () -&gt; assertEquals(documentConventionOTD.getEstBeneficiaireAvanceActif(), ressource.getEstBeneficiaireAvanceActif()),\n                () -&gt; assertEquals(documentConventionOTD.getEtatRapprochement(), ressource.getEtatRapprochement()),\n                () -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCGenere(), ressource.getDateAlerteBDCGenere()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCGenere(), ressource.getEstTraiteeAlerteBDCGenere()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateAlerteBDCNonGenere(), ressource.getDateAlerteBDCNonGenere()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteBDCNonGenere(), ressource.getEstTraiteeAlerteBDCNonGenere()),\n                () -&gt; assertEquals(documentConventionOTD.getDateAlertePrixTotal(), ressource.getDateAlertePrixTotal()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlertePrixTotal(), ressource.getEstTraiteeAlertePrixTotal()),\n\n                () -&gt; assertEquals(documentConventionOTD.getDateAlerteNombrePlaceAchetees(), ressource.getDateAlerteNombrePlaceAchetees()),\n                () -&gt; assertEquals(documentConventionOTD.getEstTraiteeAlerteNombrePlaceAchetees(), ressource.getEstTraiteeAlerteNombrePlaceAchetees()),\n                () -&gt; assertEquals(documentConventionOTD.getNumeroBonReservation(), ressource.getNumeroBonReservation()),\n                () -&gt; assertEquals(documentConventionOTD.getCodeTypeSession(), ressource.getTypeSession())\n        );\n\n\n    }\n</code></pre>\n"},{"tags":["java","operators","expression","operator-precedence","integer-arithmetic"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666600917,"post_id":74178490,"comment_id":130967210,"body_markdown":"Why should `a=5` and then `++a` give you `7`? Also by the time you reach `a++`, it isn&#39;t `5` anymore. The whole expression evaluates to `11 * 6 - 6 = 60`","body":"Why should <code>a=5</code> and then <code>++a</code> give you <code>7</code>? Also by the time you reach <code>a++</code>, it isn&#39;t <code>5</code> anymore. The whole expression evaluates to <code>11 * 6 - 6 = 60</code>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1666601026,"post_id":74178490,"comment_id":130967249,"body_markdown":"Does this answer your question? [How do the post increment (i++) and pre increment (++i) operators work in Java?](https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java\">How do the post increment (i++) and pre increment (++i) operators work in Java?</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666601038,"post_id":74178490,"comment_id":130967252,"body_markdown":"Unary operators have residence `++b` results to `11` and `++a` would give `6`.  Postincrement `a++` would change **only** the value stored in variable `a` to `7`, but while calculating `c` the value `6` would be used. Therefore, you would have `c = 11 * 6 - 6;`","body":"Unary operators have residence <code>++b</code> results to <code>11</code> and <code>++a</code> would give <code>6</code>.  Postincrement <code>a++</code> would change <b>only</b> the value stored in variable <code>a</code> to <code>7</code>, but while calculating <code>c</code> the value <code>6</code> would be used. Therefore, you would have <code>c = 11 * 6 - 6;</code>"},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1666601065,"post_id":74178490,"comment_id":130967263,"body_markdown":"hey @QBrute, when a++ is executed, we will first utilize the value and then increase it by 1 , so value of a becomes 6, but in place of a++ we write 5 only. Now ++a means pre-increment so we will first increase the value and then utilize it, so ++a becomes 6+1 = 7.","body":"hey @QBrute, when a++ is executed, we will first utilize the value and then increase it by 1 , so value of a becomes 6, but in place of a++ we write 5 only. Now ++a means pre-increment so we will first increase the value and then utilize it, so ++a becomes 6+1 = 7."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666601231,"post_id":74178490,"comment_id":130967327,"body_markdown":"I know how the operators work, your explanation is wrong. By the time you reach `a++`, the value of `a` is already `6` because of the preceding `++a`. So you have `11 * 6 - 6 = 60` which is the correct answer that you&#39;re referring to...","body":"I know how the operators work, your explanation is wrong. By the time you reach <code>a++</code>, the value of <code>a</code> is already <code>6</code> because of the preceding <code>++a</code>. So you have <code>11 * 6 - 6 = 60</code> which is the correct answer that you&#39;re referring to..."},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1666601321,"post_id":74178490,"comment_id":130967366,"body_markdown":"@QBrute I get what you&#39;re saying, but Java docs say post increment has higher precedence so shouldn&#39;t a++ be executed earlier than ++a?","body":"@QBrute I get what you&#39;re saying, but Java docs say post increment has higher precedence so shouldn&#39;t a++ be executed earlier than ++a?"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1666601406,"post_id":74178490,"comment_id":130967389,"body_markdown":"@AnshulV.Kumar Precedence between pre- and postincrement doesn&#39;t come into play here, since they are not applied to the same operand.","body":"@AnshulV.Kumar Precedence between pre- and postincrement doesn&#39;t come into play here, since they are not applied to the same operand."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666601429,"post_id":74178490,"comment_id":130967396,"body_markdown":"No, because Java still evaluates from left to right and follows mathematical rules. The left expression is a multiplication, so `++b * ++a` is evaluated first, which in turn increases `a` before you reach the `- a++` part","body":"No, because Java still evaluates from left to right and follows mathematical rules. The left expression is a multiplication, so <code>++b * ++a</code> is evaluated first, which in turn increases <code>a</code> before you reach the <code>- a++</code> part"}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666601617,"post_id":74178619,"comment_id":130967474,"body_markdown":"No, that&#39;s not OP&#39;s problem.  OP&#39;s problem is that they have been misled by the Java tutorial to believe that postfix operators are evaluated before prefix operators - a statement that contradicts the Java Language Specification.","body":"No, that&#39;s not OP&#39;s problem.  OP&#39;s problem is that they have been misled by the Java tutorial to believe that postfix operators are evaluated before prefix operators - a statement that contradicts the Java Language Specification."},{"owner":{"account_id":21079824,"reputation":1349,"user_id":15494398,"display_name":"Just a Person"},"score":0,"creation_date":1666601664,"post_id":74178619,"comment_id":130967484,"body_markdown":"No, postfix and prefix operators don&#39;t come into play because multiplication gets higher precedence than subtraction.","body":"No, postfix and prefix operators don&#39;t come into play because multiplication gets higher precedence than subtraction."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666602176,"post_id":74178619,"comment_id":130967667,"body_markdown":"No, I believe you are mistaken.  OP has specifically quoted the table which shows the precedence of the postfix and prefix operators, and explained how that table has misled them about that these operators would be evaluated in.  The relative precedence of multiplication and subtraction is nothing at all to do with why they were confused.","body":"No, I believe you are mistaken.  OP has specifically quoted the table which shows the precedence of the postfix and prefix operators, and explained how that table has misled them about that these operators would be evaluated in.  The relative precedence of multiplication and subtraction is nothing at all to do with why they were confused."}],"tags":[],"owner":{"account_id":21079824,"reputation":1349,"user_id":15494398,"display_name":"Just a Person"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666601315,"creation_date":1666601315,"answer_id":74178619,"question_id":74178490,"body_markdown":"The difference between `++a` and `a++` is that in first it will increase the value of a and then use it&#39;s result as the input for next expression but `a++` will use the value of a for the expression and then increase a.\r\n\r\nAlso precedence of multiplication is higher than addition/substraction.\r\nIn your case:\r\n```\r\nc = ++b * ++a - a++ ;\r\nc = ((++10) * (++5)) - (a++)\r\nc = (11 * 6) - (6++) // a&#39;s value is 6 because of increment.\r\nc = 66 - 6 // A value will become 7 but 6 will be used.\r\nc = 60\r\n```","title":"How does Java handle precedence of operators when unary operators are involved?","body":"<p>The difference between <code>++a</code> and <code>a++</code> is that in first it will increase the value of a and then use it's result as the input for next expression but <code>a++</code> will use the value of a for the expression and then increase a.</p>\n<p>Also precedence of multiplication is higher than addition/substraction.\nIn your case:</p>\n<pre><code>c = ++b * ++a - a++ ;\nc = ((++10) * (++5)) - (a++)\nc = (11 * 6) - (6++) // a's value is 6 because of increment.\nc = 66 - 6 // A value will become 7 but 6 will be used.\nc = 60\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1666602206,"post_id":74178742,"comment_id":130967683,"body_markdown":"Thanks so much! This was my exact problem. I thought I was going crazy lol. Now it makes sense!","body":"Thanks so much! This was my exact problem. I thought I was going crazy lol. Now it makes sense!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666617488,"post_id":74178742,"comment_id":130972763,"body_markdown":"In general, you should mistrust every precedence table for Java. As [the specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.2:~:text=Precedence%20among%20operators%20is%20managed%20by%20a%20hierarchy%20of%20grammar%20productions.) says: “*Precedence among operators is managed by a hierarchy of grammar productions.*”. And the rules implied by the grammar are more complicated than a simple list or table suggests.","body":"In general, you should mistrust every precedence table for Java. As <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.2:~:text=Precedence%20among%20operators%20is%20managed%20by%20a%20hierarchy%20of%20grammar%20productions.\" rel=\"nofollow noreferrer\">the specification</a> says: “<i>Precedence among operators is managed by a hierarchy of grammar productions.</i>”. And the rules implied by the grammar are more complicated than a simple list or table suggests."}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666601979,"creation_date":1666601979,"answer_id":74178742,"question_id":74178490,"body_markdown":"According to the [Java Language Specification section 15.7.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.1),\r\n\r\n&gt; The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.\r\n\r\nThis applies, in your expression, to the `-` operator.  That means that `++b * ++a` is fully evaluated before any part of `a++` is evaluated.\r\n\r\nWhen `++b * ++a` is evaluated, a side-effect is that `a` is increased to 6.  The value of `++b * ++a` is 66, because with a prefix operator, the &quot;post-operation&quot; value of the variable is used in the calculation, so this is `11 * 6`.\r\n\r\nOnce `++b * ++a` has been evaluated, the right hand operand of the `-` operation can be evaluated.  This is `a++`, which evaluates to 6, but increases `a` to 7. \r\n\r\nThe subtraction is therefore `66 - 6`, which is 60.\r\n\r\nUnfortunately, you have been misled by [the table in the Oracle Java tutorial](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html), which suggests that postfix operators are always evaluated before prefix operators.  Since this statement contradicts the Java Language Specification, I can only imagine that the authors of the Oracle Java tutorial actually intended something different, but didn&#39;t express themselves very well.","title":"How does Java handle precedence of operators when unary operators are involved?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.7.1\" rel=\"nofollow noreferrer\">Java Language Specification section 15.7.1</a>,</p>\n<blockquote>\n<p>The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.</p>\n</blockquote>\n<p>This applies, in your expression, to the <code>-</code> operator.  That means that <code>++b * ++a</code> is fully evaluated before any part of <code>a++</code> is evaluated.</p>\n<p>When <code>++b * ++a</code> is evaluated, a side-effect is that <code>a</code> is increased to 6.  The value of <code>++b * ++a</code> is 66, because with a prefix operator, the &quot;post-operation&quot; value of the variable is used in the calculation, so this is <code>11 * 6</code>.</p>\n<p>Once <code>++b * ++a</code> has been evaluated, the right hand operand of the <code>-</code> operation can be evaluated.  This is <code>a++</code>, which evaluates to 6, but increases <code>a</code> to 7.</p>\n<p>The subtraction is therefore <code>66 - 6</code>, which is 60.</p>\n<p>Unfortunately, you have been misled by <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">the table in the Oracle Java tutorial</a>, which suggests that postfix operators are always evaluated before prefix operators.  Since this statement contradicts the Java Language Specification, I can only imagine that the authors of the Oracle Java tutorial actually intended something different, but didn't express themselves very well.</p>\n"}],"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74178742,"answer_count":2,"score":0,"last_activity_date":1666601979,"creation_date":1666600623,"question_id":74178490,"body_markdown":"I have the following code in Java :\r\n\r\n    int a=5,b=10,c;\r\n    c = ++b * ++a - a++ ;\r\n    System.out.println(c);\r\n   \r\nNow referring to the Java operators precedence table :-\r\n\r\n[Table][1]\r\n\r\nWe will first evaluate the postfix a++ and then prefix ++a and ++b, which gives us :\r\n\r\nc= 11 * 7 - 5 \r\n = 72\r\n\r\nBut this answer is wrong, and the correct answer is 60\r\nWhat am I doing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KQRc9.png","title":"How does Java handle precedence of operators when unary operators are involved?","body":"<p>I have the following code in Java :</p>\n<pre><code>int a=5,b=10,c;\nc = ++b * ++a - a++ ;\nSystem.out.println(c);\n</code></pre>\n<p>Now referring to the Java operators precedence table :-</p>\n<p><a href=\"https://i.stack.imgur.com/KQRc9.png\" rel=\"nofollow noreferrer\">Table</a></p>\n<p>We will first evaluate the postfix a++ and then prefix ++a and ++b, which gives us :</p>\n<p>c= 11 * 7 - 5\n= 72</p>\n<p>But this answer is wrong, and the correct answer is 60\nWhat am I doing here?</p>\n"},{"tags":["java","android","xml","game-development"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1666602029,"post_id":74178719,"comment_id":130967611,"body_markdown":"Maybe take a bitmap screenshot of that screen and then pass the bitmap to the other activity or wherever you want and then set the image?","body":"Maybe take a bitmap screenshot of that screen and then pass the bitmap to the other activity or wherever you want and then set the image?"},{"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"score":0,"creation_date":1666603261,"post_id":74178719,"comment_id":130968007,"body_markdown":"I&#39;m creating a village game and I have this kind of functionality where an image view is zoomable but when starting the game, it shows the whole image when I just want to be kind of in the take the view to the main hall upon start up","body":"I&#39;m creating a village game and I have this kind of functionality where an image view is zoomable but when starting the game, it shows the whole image when I just want to be kind of in the take the view to the main hall upon start up"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1666603343,"post_id":74178719,"comment_id":130968027,"body_markdown":"Sorry. I couldnt get you.","body":"Sorry. I couldnt get you."},{"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"score":0,"creation_date":1666603578,"post_id":74178719,"comment_id":130968093,"body_markdown":"It like in Clash of Clans where on starting up the game you will be shown the town hall that kind of functionality is what I&#39;ve meant","body":"It like in Clash of Clans where on starting up the game you will be shown the town hall that kind of functionality is what I&#39;ve meant"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1666603888,"post_id":74178719,"comment_id":130968199,"body_markdown":"So u want to show the entire base on startup?","body":"So u want to show the entire base on startup?"},{"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"score":0,"creation_date":1666604606,"post_id":74178719,"comment_id":130968405,"body_markdown":"no, that&#39;s my problem it shows the entire village I just wanted to show a specific part of the village","body":"no, that&#39;s my problem it shows the entire village I just wanted to show a specific part of the village"}],"owner":{"account_id":25075236,"reputation":13,"user_id":18928726,"display_name":"Jomel Batan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666601865,"creation_date":1666601865,"question_id":74178719,"body_markdown":"I would like to ask is there&#39;s a way for me to kind of put the screen view into a specific part of an image view kind of like when the user start the game it will first show that spot thanks\r\n","title":"Set the screen view to a specific part of imageview","body":"<p>I would like to ask is there's a way for me to kind of put the screen view into a specific part of an image view kind of like when the user start the game it will first show that spot thanks</p>\n"},{"tags":["java","spring","spring-boot","asynchronous","serializable"],"comments":[{"owner":{"account_id":146748,"reputation":2260,"user_id":357403,"display_name":"Koshinae"},"score":0,"creation_date":1666600134,"post_id":74178382,"comment_id":130966950,"body_markdown":"Does this answer your question? [Get AsyncContext from HttpServletRequest](https://stackoverflow.com/questions/45957127/get-asynccontext-from-httpservletrequest)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45957127/get-asynccontext-from-httpservletrequest\">Get AsyncContext from HttpServletRequest</a>"}],"answers":[{"tags":[],"owner":{"account_id":26715184,"reputation":1,"user_id":20319876,"display_name":"Andy Wong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666601650,"creation_date":1666600399,"answer_id":74178456,"question_id":74178382,"body_markdown":"The solution to this problem in my project:\r\n\r\nPayResponseVO. Java class **needs to implement Serializable interface**\r\n\r\n    @Data\r\n    public class PayResponseVO implements Serializable {\r\n    \r\n        private static final long serialVersionUID = -7991519952738359328L;\r\n    \r\n        private Object payInfo;\r\n    \r\n        private String orderNo;\r\n    \r\n        private String shopId;\r\n    }","title":"It is illegal to call this method if the current request is not in asynchronous mode","body":"<p>The solution to this problem in my project:</p>\n<p>PayResponseVO. Java class <strong>needs to implement Serializable interface</strong></p>\n<pre><code>@Data\npublic class PayResponseVO implements Serializable {\n\n    private static final long serialVersionUID = -7991519952738359328L;\n\n    private Object payInfo;\n\n    private String orderNo;\n\n    private String shopId;\n}\n</code></pre>\n"}],"owner":{"account_id":26715184,"reputation":1,"user_id":20319876,"display_name":"Andy Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666601650,"creation_date":1666600004,"question_id":74178382,"body_markdown":"Errors Occurred：\r\n\r\n    {\r\n      &quot;status&quot; : 1,\r\n      &quot;code&quot; : 0,\r\n      &quot;message&quot; : &quot;It is illegal to call this method if the current request is not in asynchronous mode (i.e. isAsyncStarted() returns false)&quot;,\r\n      &quot;param&quot; : null,\r\n      &quot;data&quot; : null\r\n    }\r\n\r\n\r\nCode related to the occurrence of an error:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/cashier/v1&quot;)\r\n    public class PayController {\r\n    \t@ApiOperation(&quot;pay for shop&quot;)\r\n    \t@GetMapping(value = &quot;/pay&quot;)\r\n    \tpublic ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) {\r\n    \t\treturn payService.pay(requestVO, request);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    @Service\r\n    @Slf4j\r\n    public class PayServiceImpl implements IPayService {\r\n    \t@Override\r\n    \tpublic ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) throws AuthorizationException {\r\n    \t\tlog.info(&quot;pay request param:{}&quot;, JSON.toJSONString(requestVO));\r\n    \t\tPayResponseVO vo = new PayResponseVO();\r\n    \t\t......\r\n    \t\tvo.setOrderNo(businessOrderNo);\r\n            vo.setShopId(requestVO.getShopId());\r\n            log.info(&quot;pay response param:{}&quot;, JSON.toJSONString(vo));\r\n    \t\treturn ResponseVO.success(vo);\r\n    \t}\r\n    }\r\n    \r\n    @Data\r\n    public class PayResponseVO {\r\n    \r\n        private Object payInfo;\r\n    \r\n        private String orderNo;\r\n    \r\n        private String shopId;\r\n    }\r\n\r\nSingle step debugging all code can be executed normally, but the front end still has errors，\r\nI encountered this error, but there is no appropriate solution online. I solved it myself. I share the solution below\r\n\r\n","title":"It is illegal to call this method if the current request is not in asynchronous mode","body":"<p>Errors Occurred：</p>\n<pre><code>{\n  &quot;status&quot; : 1,\n  &quot;code&quot; : 0,\n  &quot;message&quot; : &quot;It is illegal to call this method if the current request is not in asynchronous mode (i.e. isAsyncStarted() returns false)&quot;,\n  &quot;param&quot; : null,\n  &quot;data&quot; : null\n}\n</code></pre>\n<p>Code related to the occurrence of an error:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/cashier/v1&quot;)\npublic class PayController {\n    @ApiOperation(&quot;pay for shop&quot;)\n    @GetMapping(value = &quot;/pay&quot;)\n    public ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) {\n        return payService.pay(requestVO, request);\n    }\n}\n\n\n@Service\n@Slf4j\npublic class PayServiceImpl implements IPayService {\n    @Override\n    public ResponseVO&lt;PayResponseVO&gt; pay(ShopPayRequestVO requestVO, HttpServletRequest request) throws AuthorizationException {\n        log.info(&quot;pay request param:{}&quot;, JSON.toJSONString(requestVO));\n        PayResponseVO vo = new PayResponseVO();\n        ......\n        vo.setOrderNo(businessOrderNo);\n        vo.setShopId(requestVO.getShopId());\n        log.info(&quot;pay response param:{}&quot;, JSON.toJSONString(vo));\n        return ResponseVO.success(vo);\n    }\n}\n\n@Data\npublic class PayResponseVO {\n\n    private Object payInfo;\n\n    private String orderNo;\n\n    private String shopId;\n}\n</code></pre>\n<p>Single step debugging all code can be executed normally, but the front end still has errors，\nI encountered this error, but there is no appropriate solution online. I solved it myself. I share the solution below</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666138772,"creation_date":1666138772,"answer_id":74118663,"question_id":74112148,"body_markdown":"Based on your schema it looks like you&#39;re trying to have new data always use the N+1 run_id. Are you sure you want to do that? Why not use a value based on the timestamp? It&#39;s like like &quot;3&quot; is any more meaningful than &quot;1666138714&quot; when it comes to unique run IDs.\r\n\r\nIf you really truly want an incrementing number like that it&#39;s best to track the number separately as its own item and maintain that number as you run jobs.","title":"How to get max value from table Dynamodb - Java","body":"<p>Based on your schema it looks like you're trying to have new data always use the N+1 run_id. Are you sure you want to do that? Why not use a value based on the timestamp? It's like like &quot;3&quot; is any more meaningful than &quot;1666138714&quot; when it comes to unique run IDs.</p>\n<p>If you really truly want an incrementing number like that it's best to track the number separately as its own item and maintain that number as you run jobs.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666601220,"creation_date":1666601220,"answer_id":74178600,"question_id":74112148,"body_markdown":"This is not something easy you can do in NoSQL, at least effectively.\r\n\r\nThe data in the partition is stored in lexicographical order based on the sort key. This means that if you put the runId as a sort key in a GSI you can query it and get the first element. Just remember that it has to be zero-padded","title":"How to get max value from table Dynamodb - Java","body":"<p>This is not something easy you can do in NoSQL, at least effectively.</p>\n<p>The data in the partition is stored in lexicographical order based on the sort key. This means that if you put the runId as a sort key in a GSI you can query it and get the first element. Just remember that it has to be zero-padded</p>\n"}],"owner":{"account_id":22755662,"reputation":85,"user_id":16915156,"display_name":"Garry S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74118663,"answer_count":2,"score":0,"last_activity_date":1666601220,"creation_date":1666101000,"question_id":74112148,"body_markdown":"How to get max value of field - run_id from DynamoDB table, result will be 3\r\n\r\n    +--------+----------------------+------------+---------+---------+\r\n    | run_id | add_date             | track_name |  status | user_id |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 1      | 2022-09-23 11:04:06  | track1     | fail    |  1      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 1      | 2022-09-23 11:04:06  | track2     | pass    |  1      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 1      | 2022-09-23 11:04:06  | track3     | fail    |  1      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 2      | 2022-09-23 11:04:06  | us         | pass    |  2      |\r\n    +--------+----------------------+------------+---------+---------+\r\n    | 3      | 2022-09-23 11:04:06  | it         | pass    |  3      |\r\n    +--------+----------------------+------------+---------+---------+\r\n\r\nI know it can be achievable with mysql with &quot;SELECT MAX(run_id) from table_name Limit 1&quot;\r\n\r\nTried below code for get item from table: (its for getting item from table only but i want to see how we can get max using below code)\r\n\r\n    final AmazonDynamoDB ddb = AmazonDynamoDBClientBuilder.defaultClient();\r\n\r\n    HashMap&lt;String,AttributeValue&gt; keyToGet = new HashMap&lt;&gt;();\r\n\t\t\t\t\t\t\t\t\r\n\tkeyToGet.put(&quot;run_id&quot;, new AttributeValue(&quot;3&quot;));\r\n\t\t\t\t\t\t\t\t\r\n\tGetItemResult result = ddb.getItem(detail_runinto_table, keyToGet, true);","title":"How to get max value from table Dynamodb - Java","body":"<p>How to get max value of field - run_id from DynamoDB table, result will be 3</p>\n<pre><code>+--------+----------------------+------------+---------+---------+\n| run_id | add_date             | track_name |  status | user_id |\n+--------+----------------------+------------+---------+---------+\n| 1      | 2022-09-23 11:04:06  | track1     | fail    |  1      |\n+--------+----------------------+------------+---------+---------+\n| 1      | 2022-09-23 11:04:06  | track2     | pass    |  1      |\n+--------+----------------------+------------+---------+---------+\n| 1      | 2022-09-23 11:04:06  | track3     | fail    |  1      |\n+--------+----------------------+------------+---------+---------+\n| 2      | 2022-09-23 11:04:06  | us         | pass    |  2      |\n+--------+----------------------+------------+---------+---------+\n| 3      | 2022-09-23 11:04:06  | it         | pass    |  3      |\n+--------+----------------------+------------+---------+---------+\n</code></pre>\n<p>I know it can be achievable with mysql with &quot;SELECT MAX(run_id) from table_name Limit 1&quot;</p>\n<p>Tried below code for get item from table: (its for getting item from table only but i want to see how we can get max using below code)</p>\n<pre><code>final AmazonDynamoDB ddb = AmazonDynamoDBClientBuilder.defaultClient();\n\nHashMap&lt;String,AttributeValue&gt; keyToGet = new HashMap&lt;&gt;();\n                            \nkeyToGet.put(&quot;run_id&quot;, new AttributeValue(&quot;3&quot;));\n                            \nGetItemResult result = ddb.getItem(detail_runinto_table, keyToGet, true);\n</code></pre>\n"},{"tags":["java","oop","generics","design-patterns","lambda"],"answers":[{"comments":[{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666553055,"post_id":74174041,"comment_id":130959363,"body_markdown":"Would `map` then belong to the builder? I am not sure how would `build()` work","body":"Would <code>map</code> then belong to the builder? I am not sure how would <code>build()</code> work"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666553234,"post_id":74174041,"comment_id":130959401,"body_markdown":"How would I be able to get `FooProcessor` vs `BarProcessor` using the approach you mention? It is not clear to me. Could you please elaborate?","body":"How would I be able to get <code>FooProcessor</code> vs <code>BarProcessor</code> using the approach you mention? It is not clear to me. Could you please elaborate?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666554147,"post_id":74174041,"comment_id":130959601,"body_markdown":"The approach I think misses the point which is to pick the proper implementation based on the specific type `T`.","body":"The approach I think misses the point which is to pick the proper implementation based on the specific type <code>T</code>."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666555751,"post_id":74174041,"comment_id":130959881,"body_markdown":"Yes, because depending on the passed T you would either use a FooBuilder or a BarBuilder.","body":"Yes, because depending on the passed T you would either use a FooBuilder or a BarBuilder."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666556514,"post_id":74174041,"comment_id":130960061,"body_markdown":"@ValerijDobler: So where exactly would I make the distinction? Would I use `map` inside `build()`?","body":"@ValerijDobler: So where exactly would I make the distinction? Would I use <code>map</code> inside <code>build()</code>?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666593959,"post_id":74174041,"comment_id":130965227,"body_markdown":"No, you would have to call in place either `Foo.with().build()` or `Bar.with().build()`.","body":"No, you would have to call in place either <code>Foo.with().build()</code> or <code>Bar.with().build()</code>."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666594125,"post_id":74174041,"comment_id":130965260,"body_markdown":"The Factory Pattern is for constructing something bigger, which consists of interchangeable parts. So, if you would have a Baz which would consist of a IFooable and both Foo and Bar would implement IFooable, then you could start thinking about using a BazFacory. But even in this example, a BazBuilder with a `fooable` buildstep would also suffice.","body":"The Factory Pattern is for constructing something bigger, which consists of interchangeable parts. So, if you would have a Baz which would consist of a IFooable and both Foo and Bar would implement IFooable, then you could start thinking about using a BazFacory. But even in this example, a BazBuilder with a <code>fooable</code> buildstep would also suffice."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666595899,"post_id":74174041,"comment_id":130965673,"body_markdown":"see edited answer. builder pattern should build instance of `Person`. you can use factory or map to manage processor instantiation","body":"see edited answer. builder pattern should build instance of <code>Person</code>. you can use factory or map to manage processor instantiation"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666597249,"post_id":74174041,"comment_id":130966021,"body_markdown":"Where should the `List&lt;Person&gt; process(T t, Person person);` go then? In the builder or on its own in a separate file?","body":"Where should the <code>List&lt;Person&gt; process(T t, Person person);</code> go then? In the builder or on its own in a separate file?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666597896,"post_id":74174041,"comment_id":130966198,"body_markdown":"I can not update `Person` actually. So this can not work for me","body":"I can not update <code>Person</code> actually. So this can not work for me"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666598693,"post_id":74174041,"comment_id":130966463,"body_markdown":"what do you mean can not update `Person`. code in question is calling `p.setId(id); `. in fact, the builder is only calling same exact methods","body":"what do you mean can not update <code>Person</code>. code in question is calling <code>p.setId(id); </code>. in fact, the builder is only calling same exact methods"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666598848,"post_id":74174041,"comment_id":130966516,"body_markdown":"First of all, I am returning a `List&lt;Person&gt;`. Not a `Person`. And I use the concrete `T` to determine how I populate the list. In your example you just update the `Person` but this is not related to what I am doing. I am really confused by your answer to be honest. I really don&#39;t understand how I can use it.","body":"First of all, I am returning a <code>List&lt;Person&gt;</code>. Not a <code>Person</code>. And I use the concrete <code>T</code> to determine how I populate the list. In your example you just update the <code>Person</code> but this is not related to what I am doing. I am really confused by your answer to be honest. I really don&#39;t understand how I can use it."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666599014,"post_id":74174041,"comment_id":130966574,"body_markdown":"By can not update the `Person` I mean changing the source code for `Person`","body":"By can not update the <code>Person</code> I mean changing the source code for <code>Person</code>"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666599294,"post_id":74174041,"comment_id":130966664,"body_markdown":"`Builder` can, of course, be separate class in separate file","body":"<code>Builder</code> can, of course, be separate class in separate file"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1666599613,"post_id":74174041,"comment_id":130966770,"body_markdown":"see edited answer. my solution is for (originally fourth question) of building person with optional properties. you no longer need to specify null args","body":"see edited answer. my solution is for (originally fourth question) of building person with optional properties. you no longer need to specify null args"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666600941,"post_id":74174041,"comment_id":130967216,"body_markdown":"The issue is that I need to create multiple `Person` and not one. And I need to use `Foo|Bar` along with the params to be able to do that","body":"The issue is that I need to create multiple <code>Person</code> and not one. And I need to use <code>Foo|Bar</code> along with the params to be able to do that"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666601067,"post_id":74174041,"comment_id":130967266,"body_markdown":"the code and text in question do not reflect that. you can create multiple persons with builder","body":"the code and text in question do not reflect that. you can create multiple persons with builder"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666601308,"post_id":74174041,"comment_id":130967356,"body_markdown":"look, builder pattern solves the _general_ problem of initializing java object with multiple, optional properties without multiple constructors or null args. seems to me like what you need is to read up on the builder pattern and try to adopt the pattern to your specific needs","body":"look, builder pattern solves the <i>general</i> problem of initializing java object with multiple, optional properties without multiple constructors or null args. seems to me like what you need is to read up on the builder pattern and try to adopt the pattern to your specific needs"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666601566,"post_id":74174041,"comment_id":130967446,"body_markdown":"I understand that, but I am not sure how it connects with my `process` method. Unless I create a builder for the arguments to create an `Argument` object and pass that some `Argument` object in the concrete process which then picks the members it needs. Is this similar to what you are saying?","body":"I understand that, but I am not sure how it connects with my <code>process</code> method. Unless I create a builder for the arguments to create an <code>Argument</code> object and pass that some <code>Argument</code> object in the concrete process which then picks the members it needs. Is this similar to what you are saying?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666615293,"post_id":74174041,"comment_id":130971939,"body_markdown":"quote from the post: &quot;I am passing null in some cases in the process method because not all arguments are relevant for all types&quot;. your `process()` method receives optional args that are properties of one `Person`. the builder pattern solves the issue of those optional args. you still need to pass Foo or Bar instances but with the builder, there are no more null values passed to `process()`. isn&#39;t that what you wanted to solve?","body":"quote from the post: &quot;I am passing null in some cases in the process method because not all arguments are relevant for all types&quot;. your <code>process()</code> method receives optional args that are properties of one <code>Person</code>. the builder pattern solves the issue of those optional args. you still need to pass Foo or Bar instances but with the builder, there are no more null values passed to <code>process()</code>. isn&#39;t that what you wanted to solve?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666618840,"post_id":74174041,"comment_id":130973323,"body_markdown":"“*The issue is that I need to create multiple Person and not one*” the code posted in your question always creates a list containing exactly one element and it wouldn’t make much sense to produce more than one object with the same arguments. Code for producing multiple elements would have to look completely different. So you have oversimplified your example.","body":"“<i>The issue is that I need to create multiple Person and not one</i>” the code posted in your question always creates a list containing exactly one element and it wouldn’t make much sense to produce more than one object with the same arguments. Code for producing multiple elements would have to look completely different. So you have oversimplified your example."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666810941,"post_id":74174041,"comment_id":131026651,"body_markdown":"@Holger: Fair point, I messed up trying to make it simple for convenience of readers","body":"@Holger: Fair point, I messed up trying to make it simple for convenience of readers"}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":22,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666599528,"creation_date":1666552277,"answer_id":74174041,"question_id":74173946,"body_markdown":"I suggest to adopt [the builder pattern][1] to build a `Person. This pattern allows you to specify optional args and has the added value of &quot;naming&quot; args through fluent setter methods. something like\r\n\r\n    private interface Processor &lt;T&gt; {\r\n        public static class Builder {\r\n            private T t = null;  // assign default values\r\n            private String firstName = null;\r\n            private String lastName = null;\r\n            private String cc = null;\r\n\r\n            public Builder with(T t) {\r\n                this.t = t;\r\n                return this;\r\n            }\r\n            public Builder withFirstName(String firstName) {\r\n                this.firstName = firstName;\r\n                return this;\r\n            }\r\n            // same fluent setters for all instance vars\r\n            public Processor build() {\r\n                return new Processor(...);\r\n            }\r\n        }\r\n\r\n        List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\r\n    }\r\n\r\n    Processor processor = Processor.Builder\r\n        .with(new Foo())\r\n        .withFirstName(&quot;John&quot;)\r\n        .withLastName(&quot;Doe&quot;)\r\n        // no explicit set for cc, so default is used\r\n        .build();\r\n    processor.process();\r\n\r\nUpdate Oct 24th\r\n=====\r\n\r\nfollowing the comments, I went and re-examined the sample code from the question and realised that the builder pattern can apply to build an instance of `Person` and that instance can be passed to the `process()` method:\r\n\r\n    public class PersonBuilder {\r\n    \tprivate Person person = null;\r\n    \r\n    \tpublic PersonBuilder(String firstName, String lastName) {\r\n    \t\tperson = new Person(firstName, lastName);\r\n    \t}\r\n    \tpublic PersonBuilder withId(String id) {\r\n    \t\tperson.setId(id);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic PersonBuilder withCc(String cc) {\r\n    \t\tperson.setCc(cc);\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic Person build() {\r\n    \t\treturn person;\r\n    \t}\r\n    }\r\n\r\nthe definition of `process()` is simplified to   \r\n\r\n\tprivate interface Processor &lt;T&gt; {\r\n\t\tList&lt;Person&gt; process(T t, Person person);\r\n\t}\r\n\r\nand the call in main() becomes\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Person&gt; personList = new TestBuilder().process(new Foo(),\r\n\t\t\t// no null arg\r\n\t\t\tnew PersonBuilder(&quot;John&quot;, &quot;Doe&quot;).withId(&quot;123&quot;).build());\r\n\t\tSystem.out.println(personList);\r\n\t}\r\n\r\n  [1]: https://howtodoinjava.com/design-patterns/creational/builder-pattern-in-java/\r\n\r\n\r\n","title":"Factory pattern using a hashmap and functional approach","body":"<p>I suggest to adopt <a href=\"https://howtodoinjava.com/design-patterns/creational/builder-pattern-in-java/\" rel=\"nofollow noreferrer\">the builder pattern</a> to build a `Person. This pattern allows you to specify optional args and has the added value of &quot;naming&quot; args through fluent setter methods. something like</p>\n<pre><code>private interface Processor &lt;T&gt; {\n    public static class Builder {\n        private T t = null;  // assign default values\n        private String firstName = null;\n        private String lastName = null;\n        private String cc = null;\n\n        public Builder with(T t) {\n            this.t = t;\n            return this;\n        }\n        public Builder withFirstName(String firstName) {\n            this.firstName = firstName;\n            return this;\n        }\n        // same fluent setters for all instance vars\n        public Processor build() {\n            return new Processor(...);\n        }\n    }\n\n    List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\n}\n\nProcessor processor = Processor.Builder\n    .with(new Foo())\n    .withFirstName(&quot;John&quot;)\n    .withLastName(&quot;Doe&quot;)\n    // no explicit set for cc, so default is used\n    .build();\nprocessor.process();\n</code></pre>\n<h1>Update Oct 24th</h1>\n<p>following the comments, I went and re-examined the sample code from the question and realised that the builder pattern can apply to build an instance of <code>Person</code> and that instance can be passed to the <code>process()</code> method:</p>\n<pre><code>public class PersonBuilder {\n    private Person person = null;\n\n    public PersonBuilder(String firstName, String lastName) {\n        person = new Person(firstName, lastName);\n    }\n    public PersonBuilder withId(String id) {\n        person.setId(id);\n        return this;\n    }\n    public PersonBuilder withCc(String cc) {\n        person.setCc(cc);\n        return this;\n    }\n    public Person build() {\n        return person;\n    }\n}\n</code></pre>\n<p>the definition of <code>process()</code> is simplified to</p>\n<pre><code>private interface Processor &lt;T&gt; {\n    List&lt;Person&gt; process(T t, Person person);\n}\n</code></pre>\n<p>and the call in main() becomes</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Person&gt; personList = new TestBuilder().process(new Foo(),\n        // no null arg\n        new PersonBuilder(&quot;John&quot;, &quot;Doe&quot;).withId(&quot;123&quot;).build());\n    System.out.println(personList);\n}\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666600903,"creation_date":1666551466,"question_id":74173946,"body_markdown":"This is a follow up of my [earlier question][1].  \r\nI want to create a factory like approach to be able to call different methods depending on the type.  \r\nThe following code works (note it is long but it is a very simplified version to show the structure. In reality for instance there won&#39;t be just one `Person` added to the result list):  \r\n\r\n    public class TestBuilder &lt;T&gt;{\r\n        private interface Processor &lt;T&gt; {\r\n            List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\r\n        }\r\n    \r\n        private class FooProcessor implements Processor &lt;Foo&gt; {\r\n            @Override\r\n            public List&lt;Person&gt; process(Foo foo, String firstName, String lastName, String id, String cc) {\r\n                System.out.println(&quot;processFoo&quot;);\r\n                Person p = new Person(firstName, lastName);\r\n                p.setId(foo.getId());;\r\n                return new ArrayList&lt;&gt;(Arrays.asList(p));\r\n            }\r\n        }\r\n    \r\n        private class BarProcessor implements Processor &lt;Bar&gt; {\r\n            @Override\r\n            public List&lt;Person&gt; process(Bar bar, String firstName, String lastName, String id, String cc) {\r\n                System.out.println(&quot;processBar&quot;);\r\n                Person p = new Person(firstName, lastName);\r\n                p.setCc(bar.getCC());\r\n                return new ArrayList&lt;&gt;(Arrays.asList(p));\r\n            }\r\n        }\r\n    \r\n        private Map&lt;AnInterface&lt;T&gt;, Processor &lt;T&gt;&gt; map = new HashMap&lt;&gt;();\r\n        private TestBuilder() {\r\n            map.put((AnInterface&lt;T&gt;) new Foo(), (Processor&lt;T&gt;) new FooProcessor());\r\n            map.put((AnInterface&lt;T&gt;) new Bar(), (Processor&lt;T&gt;) new BarProcessor());\r\n        }\r\n    \r\n    \r\n        public List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc) {\r\n            return map.get(t).process(t, firstName, lastName, id, cc);\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Person&gt; personList = new TestBuilder().process(new Foo(), &quot;John&quot;, &quot;Doe&quot;, &quot;123&quot;, null);\r\n            System.out.println(personList);\r\n        }\r\n    }\r\n\r\nThe issues I have that I&#39;d like help with are the following:  \r\n\r\n \r\nI am passing `null` in some cases in the `process` method because not all arguments are relevant for all types. Hence I also want to ask how can I make the approach more flexible i.e. so that I am able (as I add a new type) to pass if possible only the relevant arguments without making the code complicated?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74167355/generic-method-using-instanceof-and-can-it-be-avoided\r\n\r\n\r\n\r\n\r\n","title":"Factory pattern using a hashmap and functional approach","body":"<p>This is a follow up of my <a href=\"https://stackoverflow.com/questions/74167355/generic-method-using-instanceof-and-can-it-be-avoided\">earlier question</a>.<br />\nI want to create a factory like approach to be able to call different methods depending on the type.<br />\nThe following code works (note it is long but it is a very simplified version to show the structure. In reality for instance there won't be just one <code>Person</code> added to the result list):</p>\n<pre><code>public class TestBuilder &lt;T&gt;{\n    private interface Processor &lt;T&gt; {\n        List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc);\n    }\n\n    private class FooProcessor implements Processor &lt;Foo&gt; {\n        @Override\n        public List&lt;Person&gt; process(Foo foo, String firstName, String lastName, String id, String cc) {\n            System.out.println(&quot;processFoo&quot;);\n            Person p = new Person(firstName, lastName);\n            p.setId(foo.getId());;\n            return new ArrayList&lt;&gt;(Arrays.asList(p));\n        }\n    }\n\n    private class BarProcessor implements Processor &lt;Bar&gt; {\n        @Override\n        public List&lt;Person&gt; process(Bar bar, String firstName, String lastName, String id, String cc) {\n            System.out.println(&quot;processBar&quot;);\n            Person p = new Person(firstName, lastName);\n            p.setCc(bar.getCC());\n            return new ArrayList&lt;&gt;(Arrays.asList(p));\n        }\n    }\n\n    private Map&lt;AnInterface&lt;T&gt;, Processor &lt;T&gt;&gt; map = new HashMap&lt;&gt;();\n    private TestBuilder() {\n        map.put((AnInterface&lt;T&gt;) new Foo(), (Processor&lt;T&gt;) new FooProcessor());\n        map.put((AnInterface&lt;T&gt;) new Bar(), (Processor&lt;T&gt;) new BarProcessor());\n    }\n\n\n    public List&lt;Person&gt; process(T t, String firstName, String lastName, String id, String cc) {\n        return map.get(t).process(t, firstName, lastName, id, cc);\n    }\n\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; personList = new TestBuilder().process(new Foo(), &quot;John&quot;, &quot;Doe&quot;, &quot;123&quot;, null);\n        System.out.println(personList);\n    }\n}\n</code></pre>\n<p>The issues I have that I'd like help with are the following:</p>\n<p>I am passing <code>null</code> in some cases in the <code>process</code> method because not all arguments are relevant for all types. Hence I also want to ask how can I make the approach more flexible i.e. so that I am able (as I add a new type) to pass if possible only the relevant arguments without making the code complicated?</p>\n"},{"tags":["java","json","pojo"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1638516605,"post_id":70210692,"comment_id":124114189,"body_markdown":"Did you override `equals()` and `hashCode()` for your POJOs?","body":"Did you override <code>equals()</code> and <code>hashCode()</code> for your POJOs?"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1638516726,"post_id":70210692,"comment_id":124114231,"body_markdown":"@LHCHIN No I didnt","body":"@LHCHIN No I didnt"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1638516998,"post_id":70210692,"comment_id":124114297,"body_markdown":"You have to override `equals()` (generated by your IDE for example) so that you can compare two PickEvents based on their internal details. Please refer to [Compare two objects with .equals() and == operator](https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator).","body":"You have to override <code>equals()</code> (generated by your IDE for example) so that you can compare two PickEvents based on their internal details. Please refer to <a href=\"https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator\">Compare two objects with .equals() and == operator</a>."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1638517280,"post_id":70210692,"comment_id":124114383,"body_markdown":"@LHCHIN – You are right that `equals()` is needed to compare based on the internal details. But when the method is not overwritten, `assertEquals()` for two distinct objects should always fail. Why is it not failing here??","body":"@LHCHIN – You are right that <code>equals()</code> is needed to compare based on the internal details. But when the method is not overwritten, <code>assertEquals()</code> for two distinct objects should always fail. Why is it not failing here??"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1638517493,"post_id":70210692,"comment_id":124114443,"body_markdown":"@Rumi – What happens if you replace `assertEquals()` by `assertSame()`?","body":"@Rumi – What happens if you replace <code>assertEquals()</code> by <code>assertSame()</code>?"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":1,"creation_date":1638517667,"post_id":70210692,"comment_id":124114492,"body_markdown":"I don&#39;t understand why your test is *not* failing, but be aware Lomboks `@Data` annotation already provides the `equals()` and `hashCode()` methods!","body":"I don&#39;t understand why your test is <i>not</i> failing, but be aware Lomboks <code>@Data</code> annotation already provides the <code>equals()</code> and <code>hashCode()</code> methods!"},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1638518667,"post_id":70210692,"comment_id":124114794,"body_markdown":"@tquadrat with assertSame its coming as AssertionFails but its retrieving null values for the json content. I am updating the code","body":"@tquadrat with assertSame its coming as AssertionFails but its retrieving null values for the json content. I am updating the code"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1638519537,"post_id":70210692,"comment_id":124115046,"body_markdown":"Remove ```objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);```. In fact, an exception occurred during the parsing process.","body":"Remove <code>objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);</code>. In fact, an exception occurred during the parsing process."},{"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"score":0,"creation_date":1638520098,"post_id":70210692,"comment_id":124115216,"body_markdown":"@zysaaa I removed that line and I can see the exception, none of the field is getting accepted, would you mind to paste a bit of your code, just want to check out your approach.","body":"@zysaaa I removed that line and I can see the exception, none of the field is getting accepted, would you mind to paste a bit of your code, just want to check out your approach."}],"answers":[{"tags":[],"owner":{"account_id":18089135,"reputation":450,"user_id":13149219,"display_name":"Utsav10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638520257,"creation_date":1638520257,"answer_id":70211425,"question_id":70210692,"body_markdown":"You are trying to read a PickEvent Object but you&#39;re actually sending a list there.\r\n\r\nPlease change your json to \r\n\r\n    {\r\n        &quot;pickEventActivities&quot;: {\r\n            &quot;orderId&quot;: &quot;115&quot;,\r\n            &quot;lineNbr&quot;: 1,\r\n            &quot;pick&quot;: &quot;Hello&quot;,\r\n            &quot;activations&quot;: [{\r\n                &quot;activationType&quot;: &quot;Bi&quot;,\r\n                &quot;activationValue&quot;: &quot;3&quot;\r\n            }]\r\n        }\r\n    }\r\n\r\nor try changing your code to \r\n\r\n    List&lt;PickEvent&gt; list1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), new ParameterizedTypeReference&lt;PickEvent&gt;(){});","title":"Comparing two JSON files using java","body":"<p>You are trying to read a PickEvent Object but you're actually sending a list there.</p>\n<p>Please change your json to</p>\n<pre><code>{\n    &quot;pickEventActivities&quot;: {\n        &quot;orderId&quot;: &quot;115&quot;,\n        &quot;lineNbr&quot;: 1,\n        &quot;pick&quot;: &quot;Hello&quot;,\n        &quot;activations&quot;: [{\n            &quot;activationType&quot;: &quot;Bi&quot;,\n            &quot;activationValue&quot;: &quot;3&quot;\n        }]\n    }\n}\n</code></pre>\n<p>or try changing your code to</p>\n<pre><code>List&lt;PickEvent&gt; list1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), new ParameterizedTypeReference&lt;PickEvent&gt;(){});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638520655,"creation_date":1638520655,"answer_id":70211508,"question_id":70210692,"body_markdown":"&gt; It should give me an assertion error, but the test succeeds.\r\n\r\nBecause you use ```objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);```. In fact, an exception occurred during the parsing process.\r\n\r\nTry:\r\n\r\n\r\n```\r\n    public void compareJson() throws Exception {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        Wrapper wrapper = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\r\n        Wrapper wrapper2 = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\r\n        System.out.println(wrapper.equals(wrapper2));\r\n    }\r\n\r\n    @Data\r\n    static class Wrapper {\r\n        List&lt;PickEvent&gt; pickEventActivities;\r\n    }\r\n```","title":"Comparing two JSON files using java","body":"<blockquote>\n<p>It should give me an assertion error, but the test succeeds.</p>\n</blockquote>\n<p>Because you use <code>objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);</code>. In fact, an exception occurred during the parsing process.</p>\n<p>Try:</p>\n<pre><code>    public void compareJson() throws Exception {\n        final ObjectMapper objectMapper = new ObjectMapper();\n        Wrapper wrapper = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\n        Wrapper wrapper2 = objectMapper.readValue(new File(&quot;&quot;), Wrapper.class);\n        System.out.println(wrapper.equals(wrapper2));\n    }\n\n    @Data\n    static class Wrapper {\n        List&lt;PickEvent&gt; pickEventActivities;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5325242,"reputation":1531,"user_id":4247456,"display_name":"Volodymyr Kret"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666600864,"creation_date":1666600864,"answer_id":74178541,"question_id":70210692,"body_markdown":"Here is my github repo for Intellij Idea plugin. \r\nBasically JSON comparator implemented in java. It compares JSON by fields, values and objects in array","title":"Comparing two JSON files using java","body":"<p>Here is my github repo for Intellij Idea plugin.\nBasically JSON comparator implemented in java. It compares JSON by fields, values and objects in array</p>\n"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70211508,"answer_count":3,"score":0,"last_activity_date":1666600864,"creation_date":1638515559,"question_id":70210692,"body_markdown":"I have two JSON files, called &quot;pickevent1&quot; and &quot;pickevent2&quot;. I have to compare if both files are matching; if they don&#39;t match, I need to know where they don&#39;t match.\r\n\r\n**pickevent1**\r\n  \r\n\r\n     {\r\n         &quot;pickEventActivities&quot;: [{\r\n             &quot;orderId&quot;: &quot;215&quot;,\r\n             &quot;lineNbr&quot;: 0,\r\n             &quot;pick&quot;: &quot;EACH&quot;,\r\n             &quot;activations&quot;: [{\r\n                 &quot;activationType&quot;: &quot;Si&quot;,\r\n                 &quot;activationValue&quot;: &quot;31&quot;\r\n             }]\r\n          }]\r\n      }\r\n\r\n**pickevent2**\r\n\r\n    {\r\n        &quot;pickEventActivities&quot;: [{\r\n            &quot;orderId&quot;: &quot;115&quot;,\r\n            &quot;lineNbr&quot;: 1,\r\n            &quot;pick&quot;: &quot;Hello&quot;,\r\n            &quot;activations&quot;: [{\r\n                &quot;activationType&quot;: &quot;Bi&quot;,\r\n                &quot;activationValue&quot;: &quot;3&quot;\r\n            }]\r\n        }]\r\n    }\r\n\r\nI created a pick event POJO class:\r\n\r\n    \r\n    @JsonRootName(value = &quot;pickEventActivities&quot;)\r\n    @Data\r\n    @JsonPropertyOrder({ &quot;orderId&quot;, &quot;lineNbr&quot;, &quot;pick&quot;})\r\n    class PickEvent {\r\n        String orderId;\r\n        String lineNbr;\r\n        String pick;\r\n        List&lt;Activation&gt; activations;\r\n    }\r\n\r\nand a Activation POJO class:\r\n\r\n    @Data\r\n    @JsonPropertyOrder({ &quot;activationType&quot;, &quot;activationValue&quot;})\r\n    public class Activation {\r\n        String activationType;\r\n        String activationValue;\r\n    }\r\n\r\n\r\nTo make sure it works, I created a test class:\r\n\r\n    public void compareJson() throws Exception {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.configure(ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n        \r\n        PickEvent result1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), PickEvent.class);\r\n        PickEvent result2 = objectMapper.readValue(new File(&quot;src/../pickevent2.json&quot;), PickEvent.class);\r\n        \r\n        assertEquals(result1, result2);\r\n    }\r\n\r\nBut when I am doing `assertSame(result1,result2)` its giving me null for json values:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AssertionError: expected same:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt; was not:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt;\r\n    \tat org.junit.Assert.fail(Assert.java:88)\r\n    \tat org.junit.Assert.failNotSame(Assert.java:828)\r\n    \tat org.junit.Assert.assertSame(Assert.java:771)\r\n    \tat org.junit.Assert.assertSame(Assert.java:782)\r\n    \tat JsonDiff.PickEventDiff.comparejson(PickEventDiff.java:26)\r\n    \tat JsonDiff.PickEventDiff.main(PickEventDiff.java:32)\r\n\r\nIt should give me an assertion error, but the test succeeds.\r\n","title":"Comparing two JSON files using java","body":"<p>I have two JSON files, called &quot;pickevent1&quot; and &quot;pickevent2&quot;. I have to compare if both files are matching; if they don't match, I need to know where they don't match.</p>\n<p><strong>pickevent1</strong></p>\n<pre><code> {\n     &quot;pickEventActivities&quot;: [{\n         &quot;orderId&quot;: &quot;215&quot;,\n         &quot;lineNbr&quot;: 0,\n         &quot;pick&quot;: &quot;EACH&quot;,\n         &quot;activations&quot;: [{\n             &quot;activationType&quot;: &quot;Si&quot;,\n             &quot;activationValue&quot;: &quot;31&quot;\n         }]\n      }]\n  }\n</code></pre>\n<p><strong>pickevent2</strong></p>\n<pre><code>{\n    &quot;pickEventActivities&quot;: [{\n        &quot;orderId&quot;: &quot;115&quot;,\n        &quot;lineNbr&quot;: 1,\n        &quot;pick&quot;: &quot;Hello&quot;,\n        &quot;activations&quot;: [{\n            &quot;activationType&quot;: &quot;Bi&quot;,\n            &quot;activationValue&quot;: &quot;3&quot;\n        }]\n    }]\n}\n</code></pre>\n<p>I created a pick event POJO class:</p>\n<pre><code>@JsonRootName(value = &quot;pickEventActivities&quot;)\n@Data\n@JsonPropertyOrder({ &quot;orderId&quot;, &quot;lineNbr&quot;, &quot;pick&quot;})\nclass PickEvent {\n    String orderId;\n    String lineNbr;\n    String pick;\n    List&lt;Activation&gt; activations;\n}\n</code></pre>\n<p>and a Activation POJO class:</p>\n<pre><code>@Data\n@JsonPropertyOrder({ &quot;activationType&quot;, &quot;activationValue&quot;})\npublic class Activation {\n    String activationType;\n    String activationValue;\n}\n</code></pre>\n<p>To make sure it works, I created a test class:</p>\n<pre><code>public void compareJson() throws Exception {\n    final ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\n    objectMapper.configure(ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n    \n    PickEvent result1 = objectMapper.readValue(new File(&quot;src/../pickevent1.json&quot;), PickEvent.class);\n    PickEvent result2 = objectMapper.readValue(new File(&quot;src/../pickevent2.json&quot;), PickEvent.class);\n    \n    assertEquals(result1, result2);\n}\n</code></pre>\n<p>But when I am doing <code>assertSame(result1,result2)</code> its giving me null for json values:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AssertionError: expected same:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt; was not:&lt;PickEvent(orderId=null, lineNbr=null, pick=null, activations=null)&gt;\n    at org.junit.Assert.fail(Assert.java:88)\n    at org.junit.Assert.failNotSame(Assert.java:828)\n    at org.junit.Assert.assertSame(Assert.java:771)\n    at org.junit.Assert.assertSame(Assert.java:782)\n    at JsonDiff.PickEventDiff.comparejson(PickEventDiff.java:26)\n    at JsonDiff.PickEventDiff.main(PickEventDiff.java:32)\n</code></pre>\n<p>It should give me an assertion error, but the test succeeds.</p>\n"},{"tags":["java","maven","spring-boot","maven-2","maven-3"],"answers":[{"comments":[{"owner":{"account_id":2805384,"reputation":228,"user_id":2412733,"display_name":"bigbadmouse"},"score":0,"creation_date":1691419753,"post_id":74178416,"comment_id":135485526,"body_markdown":"did you ever find a solution for this? I have a simlar problem","body":"did you ever find a solution for this? I have a simlar problem"},{"owner":{"account_id":5114321,"reputation":151,"user_id":4099983,"display_name":"Constantine Ch"},"score":0,"creation_date":1693311707,"post_id":74178416,"comment_id":135741317,"body_markdown":"I also had similar issues and the root cause was with typo that related to env params. For example, java installation path. You have to use -X option to see the debug messages from maven","body":"I also had similar issues and the root cause was with typo that related to env params. For example, java installation path. You have to use -X option to see the debug messages from maven"},{"owner":{"account_id":2805384,"reputation":228,"user_id":2412733,"display_name":"bigbadmouse"},"score":0,"creation_date":1693349971,"post_id":74178416,"comment_id":135748504,"body_markdown":"I tried the build from eclipse using its own embedded maven but the standalone config filled and it worked just fine so I know it’s not that but thanks for the suggestion and your time","body":"I tried the build from eclipse using its own embedded maven but the standalone config filled and it worked just fine so I know it’s not that but thanks for the suggestion and your time"},{"owner":{"account_id":2805384,"reputation":228,"user_id":2412733,"display_name":"bigbadmouse"},"score":0,"creation_date":1699630383,"post_id":74178416,"comment_id":136560078,"body_markdown":"I dont have an answer as there a number of situations that give very similar results.Look carefully at the actual exception, using -X and -e to assist you. in my case totally stripping the pom to nothing (and commenting out the code where each dependency is used) helped as did slowly removing each class. In my case one homemade jar in my dependencies was causing the issue. I still dont understand why &quot;invalid path&quot; comes up, but at least I know **where** the problem is now.NB, running a maven build in Eclipse gave a better error  (&quot;index 28&quot;) than command line maven did.","body":"I dont have an answer as there a number of situations that give very similar results.Look carefully at the actual exception, using -X and -e to assist you. in my case totally stripping the pom to nothing (and commenting out the code where each dependency is used) helped as did slowly removing each class. In my case one homemade jar in my dependencies was causing the issue. I still dont understand why &quot;invalid path&quot; comes up, but at least I know <b>where</b> the problem is now.NB, running a maven build in Eclipse gave a better error  (&quot;index 28&quot;) than command line maven did."},{"owner":{"account_id":2805384,"reputation":228,"user_id":2412733,"display_name":"bigbadmouse"},"score":0,"creation_date":1699632302,"post_id":74178416,"comment_id":136560468,"body_markdown":"i found this [link](https://github.com/eclipse-tycho/tycho/issues/62#issuecomment-887532561)  where a bug in the JDT handling of bundle and external classpaths closely mirrors the stack trace that I am seeing. in case of link death, it ws https://github.com/eclipse-tycho/tycho/issues/62#issuecomment-887532561","body":"i found this <a href=\"https://github.com/eclipse-tycho/tycho/issues/62#issuecomment-887532561\" rel=\"nofollow noreferrer\">link</a>  where a bug in the JDT handling of bundle and external classpaths closely mirrors the stack trace that I am seeing. in case of link death, it ws <a href=\"https://github.com/eclipse-tycho/tycho/issues/62#issuecomment-887532561\" rel=\"nofollow noreferrer\">github.com/eclipse-tycho/tycho/issues/62#issuecomment-887532&zwnj;&#8203;561</a>"}],"tags":[],"owner":{"account_id":5114321,"reputation":151,"user_id":4099983,"display_name":"Constantine Ch"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666600153,"creation_date":1666600153,"answer_id":74178416,"question_id":41833999,"body_markdown":"Please double check the env parameters and java related properties in maven configuration.\r\nAlso please run the the command with -X option to see the debug messages from maven ","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project siriproject: Compilation failure","body":"<p>Please double check the env parameters and java related properties in maven configuration.\nAlso please run the the command with -X option to see the debug messages from maven</p>\n"}],"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666600153,"creation_date":1485277100,"question_id":41833999,"body_markdown":"I am using Maven 3.1 and JDK 1.8. When I tried Build war file using &quot; clean install spring-boot:repackage &quot; command in the eclipse -&gt; run as -&gt; maven build . throwing following error.\r\n\r\n\r\n&gt; [ERROR] -&gt; [Help 1]\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\r\n&gt; execute goal\r\n&gt; org.apache.maven.plugins:maven-compiler-plugin:3.1:compile\r\n&gt; (default-compile) on project siriproject: Compilation failure \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n&gt; \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307) \tat\r\n&gt; org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193) \tat\r\n&gt; org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106) \tat\r\n&gt; org.apache.maven.cli.MavenCli.execute(MavenCli.java:863) \tat\r\n&gt; org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288) \tat\r\n&gt; org.apache.maven.cli.MavenCli.main(MavenCli.java:199) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n&gt; \tat\r\n&gt; org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n&gt; Caused by:\r\n&gt; org.apache.maven.plugin.compiler.CompilationFailureException:\r\n&gt; Compilation failure \tat\r\n&gt; org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n&gt; \tat\r\n&gt; org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n&gt; \tat\r\n&gt; org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n&gt; \t... 20 more\r\n\r\n\r\npom.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;siriusxm&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        \r\n        &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t    &lt;pluginRepository&gt;\r\n    \t        &lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t    &lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;3.0&lt;/version&gt;\r\n    \t        &lt;exclusions&gt;\r\n    \t            &lt;exclusion&gt;\r\n    \t                &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\r\n    \t                &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\r\n    \t            &lt;/exclusion&gt;\r\n    \t            &lt;exclusion&gt;\r\n                    \t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                    \t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                \t&lt;/exclusion&gt;\r\n    \t        &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;11.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n        \r\n        \r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t        &lt;execution&gt;\r\n    \t\t\t          &lt;goals&gt;\r\n    \t\t\t            &lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t          &lt;/goals&gt;\r\n    \t\t\t        &lt;/execution&gt;\r\n    \t\t\t      &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                \r\n                &lt;!-- tag::wsdl[] --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.12.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n                        &lt;generatePackage&gt;com.abc.ondb.siriproject.wsdl&lt;/generatePackage&gt;\r\n                        &lt;generateDirectory&gt;${project.build.sourceDirectory}&lt;/generateDirectory&gt;\r\n                        &lt;schemas&gt;\r\n                            &lt;schema&gt;\r\n                                &lt;url&gt;https://api-ext-test.siriproject.com/ESB/CreatePromotionRegistrationByWin/v_1?wsdl&lt;/url&gt;\r\n                            &lt;/schema&gt;\r\n                        &lt;/schemas&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- end::wsdl[] --&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;    \r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project siriproject: Compilation failure","body":"<p>I am using Maven 3.1 and JDK 1.8. When I tried Build war file using \" clean install spring-boot:repackage \" command in the eclipse -> run as -> maven build . throwing following error.</p>\n\n<blockquote>\n  <p>[ERROR] -> [Help 1]\n  org.apache.maven.lifecycle.LifecycleExecutionException: Failed to\n  execute goal\n  org.apache.maven.plugins:maven-compiler-plugin:3.1:compile\n  (default-compile) on project siriproject: Compilation failure     at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at\n  org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at\n  org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)   at\n  org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)    at\n  org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)  at\n  org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)  at\n  org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)   at\n  org.apache.maven.cli.MavenCli.main(MavenCli.java:199)     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at\n  org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n  Caused by:\n  org.apache.maven.plugin.compiler.CompilationFailureException:\n  Compilation failure   at\n  org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at\n  org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at\n  org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at\n  org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more</p>\n</blockquote>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;siriusxm&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.wss&lt;/groupId&gt;\n            &lt;artifactId&gt;xws-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.xml.crypto&lt;/groupId&gt;\n                    &lt;artifactId&gt;xmldsig&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;activation&lt;/artifactId&gt;\n                    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.inject/javax.inject --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n\n\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                      &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                      &lt;/goals&gt;\n                    &lt;/execution&gt;\n                  &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- tag::wsdl[] --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.12.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n                    &lt;generatePackage&gt;com.abc.ondb.siriproject.wsdl&lt;/generatePackage&gt;\n                    &lt;generateDirectory&gt;${project.build.sourceDirectory}&lt;/generateDirectory&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;\n                            &lt;url&gt;https://api-ext-test.siriproject.com/ESB/CreatePromotionRegistrationByWin/v_1?wsdl&lt;/url&gt;\n                        &lt;/schema&gt;\n                    &lt;/schemas&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- end::wsdl[] --&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;    \n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","jbutton","jtextfield","jlist"],"comments":[{"owner":{"display_name":"user330315"},"score":3,"creation_date":1666596107,"post_id":74176586,"comment_id":130965729,"body_markdown":"Please do **not** post code as images. See here for more details why: http://meta.stackoverflow.com/questions/285551","body":"Please do <b>not</b> post code as images. See here for more details why: <a href=\"http://meta.stackoverflow.com/questions/285551\">meta.stackoverflow.com/questions/285551</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666599908,"creation_date":1666599908,"answer_id":74178366,"question_id":74176586,"body_markdown":"Here is a simple *Swing* application that displays a [JTextField](https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html), a [JList](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html) and a [JButton](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html).\r\n\r\nWhen you click on the `JButton` the selected item in the `JList` is copied to the `JTextField`. (Refer to method `setTextFieldText` in the below code.)\r\n\r\nNote that the [ActionListener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html) is implemented using a [method reference](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html).\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextField;\r\n\r\npublic class ShirleyB {\r\n    private JList&lt;String&gt; list;\r\n    private JTextField textField;\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Shirley B&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTextField(), BorderLayout.PAGE_START);\r\n        frame.add(createList(), BorderLayout.CENTER);\r\n        frame.add(createButton(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButton() {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton(&quot;Add&quot;);\r\n        button.addActionListener(this::setTextFieldText);\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    private JScrollPane createList() {\r\n        String[] items = new String[]{&quot;Zeroth&quot;,\r\n                                      &quot;First&quot;,\r\n                                      &quot;Second&quot;,\r\n                                      &quot;Third&quot;,\r\n                                      &quot;Last&quot;};\r\n        list = new JList&lt;&gt;(items);\r\n        JScrollPane scrollPane = new JScrollPane(list);\r\n        return scrollPane;\r\n    }\r\n\r\n    private JPanel createTextField() {\r\n        JPanel panel = new JPanel();\r\n        textField = new JTextField(20);\r\n        panel.add(textField);\r\n        return panel;\r\n    }\r\n\r\n    private void setTextFieldText(ActionEvent event) {\r\n        String selection = list.getSelectedValue();\r\n        textField.setText(selection);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new ShirleyB().buildAndDisplayGui());\r\n    }\r\n}\r\n```\r\n","title":"How do I add something written on a JList to JTextfield by clicking on a JButton?","body":"<p>Here is a simple <em>Swing</em> application that displays a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textfield.html\" rel=\"nofollow noreferrer\">JTextField</a>, a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">JList</a> and a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">JButton</a>.</p>\n<p>When you click on the <code>JButton</code> the selected item in the <code>JList</code> is copied to the <code>JTextField</code>. (Refer to method <code>setTextFieldText</code> in the below code.)</p>\n<p>Note that the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">ActionListener</a> is implemented using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\n\npublic class ShirleyB {\n    private JList&lt;String&gt; list;\n    private JTextField textField;\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Shirley B&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTextField(), BorderLayout.PAGE_START);\n        frame.add(createList(), BorderLayout.CENTER);\n        frame.add(createButton(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButton() {\n        JPanel panel = new JPanel();\n        JButton button = new JButton(&quot;Add&quot;);\n        button.addActionListener(this::setTextFieldText);\n        panel.add(button);\n        return panel;\n    }\n\n    private JScrollPane createList() {\n        String[] items = new String[]{&quot;Zeroth&quot;,\n                                      &quot;First&quot;,\n                                      &quot;Second&quot;,\n                                      &quot;Third&quot;,\n                                      &quot;Last&quot;};\n        list = new JList&lt;&gt;(items);\n        JScrollPane scrollPane = new JScrollPane(list);\n        return scrollPane;\n    }\n\n    private JPanel createTextField() {\n        JPanel panel = new JPanel();\n        textField = new JTextField(20);\n        panel.add(textField);\n        return panel;\n    }\n\n    private void setTextFieldText(ActionEvent event) {\n        String selection = list.getSelectedValue();\n        textField.setText(selection);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new ShirleyB().buildAndDisplayGui());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26713675,"reputation":69,"user_id":20318582,"display_name":"killuaconfessions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666616494,"answer_count":1,"score":-1,"last_activity_date":1666599908,"creation_date":1666583983,"question_id":74176586,"body_markdown":"I&#39;m making a program to insert users into a PostgreSQL database using NetBeans, and recently I&#39;ve faced a problem that I&#39;m asking myself if it&#39;s possible to fix? Basically, I wanted to select something from a `JList` and put it into a `JTextField`. Is it possible? I&#39;ve tried a lot of ways to do it and nothing&#39;s working.\r\n\r\n[here&#39;s the interface i did:][1]\r\n\r\n\r\n[Code:][2]\r\n\r\n\r\n[Code2:][3]\r\n\r\n\r\n[Code3:][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6utkM.png\r\n  [2]: https://i.stack.imgur.com/iyOst.png\r\n  [3]: https://i.stack.imgur.com/A1eMw.png\r\n  [4]: https://i.stack.imgur.com/5ljJw.png","title":"How do I add something written on a JList to JTextfield by clicking on a JButton?","body":"<p>I'm making a program to insert users into a PostgreSQL database using NetBeans, and recently I've faced a problem that I'm asking myself if it's possible to fix? Basically, I wanted to select something from a <code>JList</code> and put it into a <code>JTextField</code>. Is it possible? I've tried a lot of ways to do it and nothing's working.</p>\n<p><a href=\"https://i.stack.imgur.com/6utkM.png\" rel=\"nofollow noreferrer\">here's the interface i did:</a></p>\n<p><a href=\"https://i.stack.imgur.com/iyOst.png\" rel=\"nofollow noreferrer\">Code:</a></p>\n<p><a href=\"https://i.stack.imgur.com/A1eMw.png\" rel=\"nofollow noreferrer\">Code2:</a></p>\n<p><a href=\"https://i.stack.imgur.com/5ljJw.png\" rel=\"nofollow noreferrer\">Code3:</a></p>\n"},{"tags":["java","maven-2"],"comments":[{"owner":{"account_id":156391,"reputation":9819,"user_id":373653,"display_name":"sjr"},"score":3,"creation_date":1299354117,"post_id":5206287,"comment_id":5854019,"body_markdown":"Looks like your Java code doesn&#39;t compile. You need to provide more Maven output though!","body":"Looks like your Java code doesn&#39;t compile. You need to provide more Maven output though!"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1299359548,"post_id":5206287,"comment_id":5854778,"body_markdown":"check whether your code java version corresponds to one in pom, maven-compiler-plugin and some more stacktrace would be useful","body":"check whether your code java version corresponds to one in pom, maven-compiler-plugin and some more stacktrace would be useful"}],"answers":[{"tags":[],"owner":{"account_id":163413,"reputation":398,"user_id":385541,"accept_rate":47,"display_name":"Vipin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299354505,"creation_date":1299354505,"answer_id":5206343,"question_id":5206287,"body_markdown":"I guess there is some problem with your code or some dependency might be missing, causing java code compilation failure. Try mvn -e option to get the detail stack trace that might be more helpful","title":"maven compile fails","body":"<p>I guess there is some problem with your code or some dependency might be missing, causing java code compilation failure. Try mvn -e option to get the detail stack trace that might be more helpful</p>\n"},{"tags":[],"owner":{"account_id":5114321,"reputation":151,"user_id":4099983,"display_name":"Constantine Ch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666599329,"creation_date":1666599329,"answer_id":74178279,"question_id":5206287,"body_markdown":"Try with -X option and provide the output if you still have the issue","title":"maven compile fails","body":"<p>Try with -X option and provide the output if you still have the issue</p>\n"}],"owner":{"account_id":34082,"reputation":671,"user_id":95950,"accept_rate":86,"display_name":"Ashvin Ranpariya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666599329,"creation_date":1299353905,"question_id":5206287,"body_markdown":"I have encountered the following error. Can anyone give any solution?\r\n\r\n**Build errors for CTServices; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project CTServices: Compilation failure**","title":"maven compile fails","body":"<p>I have encountered the following error. Can anyone give any solution?</p>\n\n<p><strong>Build errors for CTServices; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project CTServices: Compilation failure</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9285,"page":938,"page_size":100}
