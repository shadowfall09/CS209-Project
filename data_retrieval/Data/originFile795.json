{"items":[{"tags":["java","android","key","hashmap"],"comments":[{"owner":{"account_id":33779,"reputation":4395,"user_id":94892,"accept_rate":59,"display_name":"Anton"},"score":0,"creation_date":1326888552,"post_id":8909810,"comment_id":11144309,"body_markdown":"See this question and many others: http://stackoverflow.com/questions/1066589/java-iterate-through-hashmap","body":"See this question and many others: <a href=\"http://stackoverflow.com/questions/1066589/java-iterate-through-hashmap\" title=\"java iterate through hashmap\">stackoverflow.com/questions/1066589/&hellip;</a>"},{"owner":{"account_id":1133540,"reputation":1641,"user_id":1119073,"display_name":"deepak Sharma"},"score":0,"creation_date":1326888632,"post_id":8909810,"comment_id":11144344,"body_markdown":"hello Gopinath !! Your code to fetch and set the Hash map key value is correct but you are setting these value to only one textView .","body":"hello Gopinath !! Your code to fetch and set the Hash map key value is correct but you are setting these value to only one textView ."},{"owner":{"account_id":987115,"reputation":5402,"user_id":1005346,"accept_rate":88,"display_name":"Gopinath"},"score":1,"creation_date":1326889355,"post_id":8909810,"comment_id":11144568,"body_markdown":"Thanks to all. I got the answer. Once again i thank you all.","body":"Thanks to all. I got the answer. Once again i thank you all."}],"answers":[{"tags":[],"owner":{"account_id":140564,"reputation":3522,"user_id":346980,"display_name":"Savino Sguera"},"down_vote_count":3,"up_vote_count":14,"is_accepted":true,"score":11,"last_activity_date":1500582491,"creation_date":1326888558,"answer_id":8909868,"question_id":8909810,"body_markdown":"First, there are errors in your code, ie. you are missing a semicolon and a closing parenthesis in the for loop.\r\n\r\nThen, if you are trying to append values to the view, you should use textview.appendText(), instead of .setText().\r\n\r\nThere&#39;s a similar question here: https://stackoverflow.com/questions/2300169/how-to-change-text-in-android-textview","title":"How to print all key and values from HashMap in Android?","body":"<p>First, there are errors in your code, ie. you are missing a semicolon and a closing parenthesis in the for loop.</p>\n\n<p>Then, if you are trying to append values to the view, you should use textview.appendText(), instead of .setText().</p>\n\n<p>There's a similar question here: <a href=\"https://stackoverflow.com/questions/2300169/how-to-change-text-in-android-textview\">how to change text in Android TextView</a></p>\n"},{"tags":[],"owner":{"account_id":471849,"reputation":6191,"user_id":879899,"display_name":"Shadow"},"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1326888609,"creation_date":1326888609,"answer_id":8909876,"question_id":8909810,"body_markdown":"\r\n\r\n    for (Map.Entry&lt;String,String&gt; entry : map.entrySet()) {\r\n      String key = entry.getKey();\r\n      String value = entry.getValue();\r\n      // do stuff\r\n    }","title":"How to print all key and values from HashMap in Android?","body":"<pre><code>for (Map.Entry&lt;String,String&gt; entry : map.entrySet()) {\n  String key = entry.getKey();\n  String value = entry.getValue();\n  // do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1113792,"reputation":29041,"user_id":1103682,"display_name":"jeet"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1326888628,"creation_date":1326888628,"answer_id":8909881,"question_id":8909810,"body_markdown":"    String text=&quot;&quot;;\r\n    \r\n        for (Iterator i = keys.iterator(); i.hasNext() \r\n           {\r\n               String key = (String) i.next();\r\n               String value = (String) map.get(key);\r\n               text+=key + &quot; = &quot; + value;\r\n           }\r\n        \r\n            textview.setText(text);\r\n           ","title":"How to print all key and values from HashMap in Android?","body":"<pre><code>String text=\"\";\n\n    for (Iterator i = keys.iterator(); i.hasNext() \n       {\n           String key = (String) i.next();\n           String value = (String) map.get(key);\n           text+=key + \" = \" + value;\n       }\n\n        textview.setText(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":437178,"reputation":641,"user_id":824739,"display_name":"muffinmad"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1326888972,"creation_date":1326888972,"answer_id":8909955,"question_id":8909810,"body_markdown":"It&#39;s because your TextView recieve new text on every iteration and previuos value thrown away. Concatenate strings by StringBuilder and set TextView value after loop.\r\nAlso you can use this type of loop:\r\n    \r\n    for (Map.Entry&lt;String, String&gt; e : map.entrySet()) {\r\n        //to get key\r\n        e.getKey();\r\n        //and to get value\r\n        e.getValue();\r\n    }","title":"How to print all key and values from HashMap in Android?","body":"<p>It's because your TextView recieve new text on every iteration and previuos value thrown away. Concatenate strings by StringBuilder and set TextView value after loop.\nAlso you can use this type of loop:</p>\n\n<pre><code>for (Map.Entry&lt;String, String&gt; e : map.entrySet()) {\n    //to get key\n    e.getKey();\n    //and to get value\n    e.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":873814,"reputation":757,"user_id":924066,"accept_rate":55,"display_name":"ChopperCharles"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1339708582,"creation_date":1339708582,"answer_id":11041482,"question_id":8909810,"body_markdown":"This code is tested and working.\r\n\r\n    public void dumpMe(Map m) { dumpMe(m, &quot;&quot;); }\r\n    private void dumpMe(Map m, String padding) {\r\n      Set s = m.keySet();\r\n      java.util.Iterator ir = s.iterator();\r\n      while (ir.hasNext()) {\r\n        String key = (String) ir.next();\r\n        Object value = m.get(key);\r\n        if (value == null) continue;\r\n        if (value instanceof Map) {\r\n          System.out.println (padding + key + &quot; = {&quot;);\r\n          dumpMe((Map)value, padding + &quot;  &quot;);\r\n          System.out.println(padding + &quot;}&quot;);          \r\n        }\r\n        else if (value instanceof String  ||\r\n                 value instanceof Integer ||\r\n                 value instanceof Double  ||\r\n                 value instanceof Float   ||\r\n                 value instanceof Long ) {\r\n          \r\n          System.out.println(padding + key + &quot; = &quot; + value.toString());\r\n        }\r\n        else { \r\n          System.out.println(padding + key + &quot; = UNKNOWN OBJECT: &quot; + value.toString());\r\n          // You could also throw an exception here\r\n        }      \r\n      } // while\r\n      \r\n    } // dumpme\r\n\r\nCharles.","title":"How to print all key and values from HashMap in Android?","body":"<p>This code is tested and working.</p>\n\n<pre><code>public void dumpMe(Map m) { dumpMe(m, \"\"); }\nprivate void dumpMe(Map m, String padding) {\n  Set s = m.keySet();\n  java.util.Iterator ir = s.iterator();\n  while (ir.hasNext()) {\n    String key = (String) ir.next();\n    Object value = m.get(key);\n    if (value == null) continue;\n    if (value instanceof Map) {\n      System.out.println (padding + key + \" = {\");\n      dumpMe((Map)value, padding + \"  \");\n      System.out.println(padding + \"}\");          \n    }\n    else if (value instanceof String  ||\n             value instanceof Integer ||\n             value instanceof Double  ||\n             value instanceof Float   ||\n             value instanceof Long ) {\n\n      System.out.println(padding + key + \" = \" + value.toString());\n    }\n    else { \n      System.out.println(padding + key + \" = UNKNOWN OBJECT: \" + value.toString());\n      // You could also throw an exception here\n    }      \n  } // while\n\n} // dumpme\n</code></pre>\n\n<p>Charles.</p>\n"},{"tags":[],"owner":{"account_id":4453798,"reputation":157,"user_id":3624777,"display_name":"kakaday22"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1399784105,"creation_date":1399784105,"answer_id":23589047,"question_id":8909810,"body_markdown":"you can use this code:\r\n\r\n\r\n    for (Object variableName: mapName.keySet()){\r\n        variableKey += variableName + &quot;\\n&quot;;\r\n        variableValue += mapName.get(variableName) + &quot;\\n&quot;;\r\n    }\r\n    System.out.println(variableKey + variableValue);\r\n\r\n\r\nthis code will make sure that all the keys are stored in a variable and then printed!","title":"How to print all key and values from HashMap in Android?","body":"<p>you can use this code:</p>\n\n<pre><code>for (Object variableName: mapName.keySet()){\n    variableKey += variableName + \"\\n\";\n    variableValue += mapName.get(variableName) + \"\\n\";\n}\nSystem.out.println(variableKey + variableValue);\n</code></pre>\n\n<p>this code will make sure that all the keys are stored in a variable and then printed!</p>\n"},{"tags":[],"owner":{"account_id":4536131,"reputation":119,"user_id":3685299,"display_name":"Abhi"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1401362184,"creation_date":1401309289,"answer_id":23921357,"question_id":8909810,"body_markdown":"    HashMap &lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n    \t\t\t\r\n    Set&lt;Integer&gt; keys = hm.keySet();  //get all keys\r\n    for(Integer i: keys)\r\n    {\r\n        System.out.println(hm.get(i));\r\n    }","title":"How to print all key and values from HashMap in Android?","body":"<pre><code>HashMap &lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\n\nSet&lt;Integer&gt; keys = hm.keySet();  //get all keys\nfor(Integer i: keys)\n{\n    System.out.println(hm.get(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9126359,"reputation":102,"user_id":6789891,"display_name":"Deepak Daniel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1472880988,"creation_date":1472880598,"answer_id":39303571,"question_id":8909810,"body_markdown":"    public void dumpMe(Map m) { dumpMe(m, &quot;&quot;); }\r\n\r\n    private void dumpMe(Map m, String padding) \r\n    {\r\n        Set s = m.keySet();\r\n        java.util.Iterator ir = s.iterator();\r\n        while (ir.hasNext()) \r\n        {\r\n            String key = (String) ir.next();\r\n            AttributeValue value = (AttributeValue)m.get(key);\r\n            if (value == null) \r\n                continue;\r\n            if (value.getM() != null)\r\n            {\r\n                System.out.println (padding + key + &quot; = {&quot;);\r\n                dumpMe((Map)value, padding + &quot;  &quot;);\r\n                System.out.println(padding + &quot;}&quot;);          \r\n            }\r\n            else if (value.getS() != null  ||\r\n                     value.getN() != null ) \r\n            {\r\n                System.out.println(padding + key + &quot; = &quot; + value.toString());\r\n            }\r\n            else \r\n            { \r\n                System.out.println(padding + key + &quot; = UNKNOWN OBJECT: &quot; + value.toString());\r\n                // You could also throw an exception here\r\n            }      \r\n        } // while\r\n    }\r\n \r\n    //This code worked for me.","title":"How to print all key and values from HashMap in Android?","body":"<pre><code>public void dumpMe(Map m) { dumpMe(m, \"\"); }\n\nprivate void dumpMe(Map m, String padding) \n{\n    Set s = m.keySet();\n    java.util.Iterator ir = s.iterator();\n    while (ir.hasNext()) \n    {\n        String key = (String) ir.next();\n        AttributeValue value = (AttributeValue)m.get(key);\n        if (value == null) \n            continue;\n        if (value.getM() != null)\n        {\n            System.out.println (padding + key + \" = {\");\n            dumpMe((Map)value, padding + \"  \");\n            System.out.println(padding + \"}\");          \n        }\n        else if (value.getS() != null  ||\n                 value.getN() != null ) \n        {\n            System.out.println(padding + key + \" = \" + value.toString());\n        }\n        else \n        { \n            System.out.println(padding + key + \" = UNKNOWN OBJECT: \" + value.toString());\n            // You could also throw an exception here\n        }      \n    } // while\n}\n\n//This code worked for me.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431512,"reputation":1366,"user_id":815627,"accept_rate":50,"display_name":"mdev"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1585625715,"creation_date":1478127084,"answer_id":40391126,"question_id":8909810,"body_markdown":"With Java 8:\r\n\r\n\tmap.keySet().forEach(key -&gt; System.out.println(key + &quot;-&gt;&quot; + map.get(key)));","title":"How to print all key and values from HashMap in Android?","body":"<p>With Java 8:</p>\n\n<pre><code>map.keySet().forEach(key -&gt; System.out.println(key + \"-&gt;\" + map.get(key)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241831,"reputation":10215,"user_id":512907,"accept_rate":88,"display_name":"bluehallu"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1493041941,"creation_date":1493041941,"answer_id":43590006,"question_id":8909810,"body_markdown":"Java 8\r\n\r\n    map.entrySet().forEach(System.out::println);","title":"How to print all key and values from HashMap in Android?","body":"<p>Java 8</p>\n\n<pre><code>map.entrySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3921841,"reputation":219,"user_id":3243734,"display_name":"Anh Vu"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1494233416,"creation_date":1494233416,"answer_id":43843410,"question_id":8909810,"body_markdown":"You can do it easier with Gson:\r\n\r\n    Log.i(TAG, &quot;SomeText: &quot; + new Gson().toJson(yourMap));\r\n\r\nThe result will look like:\r\n\r\n    I/YOURTAG: SomeText: {&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}","title":"How to print all key and values from HashMap in Android?","body":"<p>You can do it easier with Gson:</p>\n\n<pre><code>Log.i(TAG, \"SomeText: \" + new Gson().toJson(yourMap));\n</code></pre>\n\n<p>The result will look like:</p>\n\n<pre><code>I/YOURTAG: SomeText: {\"key1\":\"value1\",\"key2\":\"value2\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3400178,"reputation":766,"user_id":2852578,"accept_rate":100,"display_name":"petroni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520397678,"creation_date":1520397678,"answer_id":49144265,"question_id":8909810,"body_markdown":"For everyone who clicked on this to find out what the content of your HashMap is, the `toString` method ([docs](https://developer.android.com/reference/java/lang/Object.html#toString())) actually works with most objects. (note: a java array is not an object!)\r\n\r\nSo this woks perfectly fine for debugging purposes:\r\n\r\n    System.out.println(myMap.toString());\r\n    \r\n    &gt;&gt;&gt; {key1=value1, key2=value2}","title":"How to print all key and values from HashMap in Android?","body":"<p>For everyone who clicked on this to find out what the content of your HashMap is, the <code>toString</code> method (<a href=\"https://developer.android.com/reference/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">docs</a>) actually works with most objects. (note: a java array is not an object!)</p>\n\n<p>So this woks perfectly fine for debugging purposes:</p>\n\n<pre><code>System.out.println(myMap.toString());\n\n&gt;&gt;&gt; {key1=value1, key2=value2}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11026379,"reputation":185,"user_id":8099168,"display_name":"Sundresh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1526618129,"creation_date":1526618129,"answer_id":50403861,"question_id":8909810,"body_markdown":"\t\tfor (String entry : map.keySet()) {\r\n\t\t  String value = map.get(entry);\r\n\t\t  System.out.print(entry + &quot;&quot; + value + &quot; &quot;);\r\n\t\t  // do stuff\r\n\t\t}\r\n","title":"How to print all key and values from HashMap in Android?","body":"<pre><code>    for (String entry : map.keySet()) {\n      String value = map.get(entry);\n      System.out.print(entry + \"\" + value + \" \");\n      // do stuff\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578943505,"creation_date":1578943505,"answer_id":59722920,"question_id":8909810,"body_markdown":"Kotlin Answer\r\n\r\n    for ((key, value) in map.entries) {\r\n        // do something with `key`\r\n        // so something with `value`\r\n    }\r\n\r\nYou may find other solutions that include filterValues. Just keep in mind that retrieving a Key value using filterValues will include braces [].\r\n\r\n    val key = map.filterValues {it = position}.keys","title":"How to print all key and values from HashMap in Android?","body":"<p>Kotlin Answer</p>\n\n<pre><code>for ((key, value) in map.entries) {\n    // do something with `key`\n    // so something with `value`\n}\n</code></pre>\n\n<p>You may find other solutions that include filterValues. Just keep in mind that retrieving a Key value using filterValues will include braces [].</p>\n\n<pre><code>val key = map.filterValues {it = position}.keys\n</code></pre>\n"},{"tags":[],"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627067763,"creation_date":1627067763,"answer_id":68504131,"question_id":8909810,"body_markdown":"\r\nTo print all keys:\r\n\r\n    myMap.keys().toList().joinToString()\r\n\r\nTo print all entries:\r\n\r\n    myMap.map { &quot;${it.key} :: ${it.value}&quot; }.toList().joinToString()","title":"How to print all key and values from HashMap in Android?","body":"<p>To print all keys:</p>\n<pre><code>myMap.keys().toList().joinToString()\n</code></pre>\n<p>To print all entries:</p>\n<pre><code>myMap.map { &quot;${it.key} :: ${it.value}&quot; }.toList().joinToString()\n</code></pre>\n"}],"owner":{"account_id":987115,"reputation":5402,"user_id":1005346,"accept_rate":88,"display_name":"Gopinath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253121,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":8909868,"answer_count":15,"score":73,"last_activity_date":1671487331,"creation_date":1326888341,"question_id":8909810,"body_markdown":"I am trying to use HashMap in Android sample project. Now, am doing sample project for learn android. I just store keys and values in HashMap, i want to show the keys and their values in EditView. I followed below code in my sample project. But, first key and value only printing in EditView. \r\n\r\n       Map&lt;String, String&gt; map = new HashMap&lt;String,String&gt;();\r\n       map.put(&quot;iOS&quot;, &quot;100&quot;);\r\n       map.put(&quot;Android&quot;, &quot;101&quot;);\r\n       map.put(&quot;Java&quot;, &quot;102&quot;);\r\n       map.put(&quot;.Net&quot;, &quot;103&quot;);\r\n       \r\n       Set keys = map.keySet();\r\n \r\n       for (Iterator i = keys.iterator(); i.hasNext(); ) {\r\n           String key = (String) i.next();\r\n           String value = (String) map.get(key);\r\n           textview.setText(key + &quot; = &quot; + value);\r\n       }\r\n\r\nIn EditView `iOS = 100` is only printing. I want to print all keys and their value in EditText. What am I doing wrong?","title":"How to print all key and values from HashMap in Android?","body":"<p>I am trying to use HashMap in Android sample project. Now, am doing sample project for learn android. I just store keys and values in HashMap, i want to show the keys and their values in EditView. I followed below code in my sample project. But, first key and value only printing in EditView.</p>\n<pre><code>   Map&lt;String, String&gt; map = new HashMap&lt;String,String&gt;();\n   map.put(&quot;iOS&quot;, &quot;100&quot;);\n   map.put(&quot;Android&quot;, &quot;101&quot;);\n   map.put(&quot;Java&quot;, &quot;102&quot;);\n   map.put(&quot;.Net&quot;, &quot;103&quot;);\n   \n   Set keys = map.keySet();\n\n   for (Iterator i = keys.iterator(); i.hasNext(); ) {\n       String key = (String) i.next();\n       String value = (String) map.get(key);\n       textview.setText(key + &quot; = &quot; + value);\n   }\n</code></pre>\n<p>In EditView <code>iOS = 100</code> is only printing. I want to print all keys and their value in EditText. What am I doing wrong?</p>\n"},{"tags":["java","sorting","collections"],"comments":[{"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"score":0,"creation_date":1290532124,"post_id":4258700,"comment_id":4614376,"body_markdown":"Are they fixed-length fields?  What happens if record1.getReportKey() is &quot;AB&quot; and record1.getStudentNumber() is &quot;CD&quot;, but record2.getReportKey() is &quot;ABCD&quot;?","body":"Are they fixed-length fields?  What happens if record1.getReportKey() is &quot;AB&quot; and record1.getStudentNumber() is &quot;CD&quot;, but record2.getReportKey() is &quot;ABCD&quot;?"},{"owner":{"account_id":673133,"reputation":1163,"user_id":517754,"display_name":"Milli Szabo"},"score":0,"creation_date":1290532293,"post_id":4258700,"comment_id":4614415,"body_markdown":"Fixed length. Sorry forgot to mention.","body":"Fixed length. Sorry forgot to mention."},{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":0,"creation_date":1384944275,"post_id":4258700,"comment_id":29937271,"body_markdown":"possible duplicate of [Best way to compare objects by multiple fields?](http://stackoverflow.com/questions/369512/best-way-to-compare-objects-by-multiple-fields)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/369512/best-way-to-compare-objects-by-multiple-fields\">Best way to compare objects by multiple fields?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":2,"up_vote_count":158,"is_accepted":true,"score":156,"last_activity_date":1551966698,"creation_date":1290532082,"answer_id":4258738,"question_id":4258700,"body_markdown":"&gt;Do you see anything wrong with the code?\r\n\r\nYes. Why are you adding the three fields together before you compare them?\r\n\r\nI would probably do something like this: (assuming the fields are in the order you wish to sort them in)\r\n\r\n    @Override public int compare(final Report record1, final Report record2) {\r\n        int c;\r\n        c = record1.getReportKey().compareTo(record2.getReportKey());\r\n        if (c == 0)\r\n           c = record1.getStudentNumber().compareTo(record2.getStudentNumber());\r\n        if (c == 0)\r\n           c = record1.getSchool().compareTo(record2.getSchool());\r\n        return c;\r\n    }\r\n     \r\n \r\n","title":"Collections.sort with multiple fields","body":"<blockquote>\n  <p>Do you see anything wrong with the code?</p>\n</blockquote>\n\n<p>Yes. Why are you adding the three fields together before you compare them?</p>\n\n<p>I would probably do something like this: (assuming the fields are in the order you wish to sort them in)</p>\n\n<pre><code>@Override public int compare(final Report record1, final Report record2) {\n    int c;\n    c = record1.getReportKey().compareTo(record2.getReportKey());\n    if (c == 0)\n       c = record1.getStudentNumber().compareTo(record2.getStudentNumber());\n    if (c == 0)\n       c = record1.getSchool().compareTo(record2.getSchool());\n    return c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1290532149,"creation_date":1290532149,"answer_id":4258753,"question_id":4258700,"body_markdown":"If you want to sort based on ReportKey first then Student Number then School, you need to compare each String instead of concatenating them. Your method might work if you pad the strings with spaces so that each ReportKey is the same length and so on, but it is not really worth the effort.  Instead just change the compare method to compare the ReportKeys, if compareTo returns 0 then try StudentNumber, then School.","title":"Collections.sort with multiple fields","body":"<p>If you want to sort based on ReportKey first then Student Number then School, you need to compare each String instead of concatenating them. Your method might work if you pad the strings with spaces so that each ReportKey is the same length and so on, but it is not really worth the effort.  Instead just change the compare method to compare the ReportKeys, if compareTo returns 0 then try StudentNumber, then School.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1290532302,"creation_date":1290532302,"answer_id":4258783,"question_id":4258700,"body_markdown":"If you want to sort by report key, then student number, then school, you should do something like this:\r\n\r\n    public class ReportComparator implements Comparator&lt;Report&gt;\r\n    {\r\n        public int compare(Report r1, Report r2)\r\n        {\r\n            int result = r1.getReportKey().compareTo(r2.getReportKey());\r\n            if (result != 0)\r\n            {\r\n                return result;\r\n            }\r\n            result = r1.getStudentNumber().compareTo(r2.getStudentNumber());\r\n            if (result != 0)\r\n            {\r\n                return result;\r\n            }\r\n            return r1.getSchool().compareTo(r2.getSchool());\r\n        }\r\n    }\r\n\r\nThis assumes none of the values can be null, of course - it gets more complicated if you need to allow for null values for the report, report key, student number or school.\r\n\r\nWhile you *could* get the string concatenation version to work using spaces, it would still fail in strange cases if you had odd data which itself included spaces etc. The above code is the *logical* code you want... compare by report key first, then only bother with the student number if the report keys are the same, etc.","title":"Collections.sort with multiple fields","body":"<p>If you want to sort by report key, then student number, then school, you should do something like this:</p>\n\n<pre><code>public class ReportComparator implements Comparator&lt;Report&gt;\n{\n    public int compare(Report r1, Report r2)\n    {\n        int result = r1.getReportKey().compareTo(r2.getReportKey());\n        if (result != 0)\n        {\n            return result;\n        }\n        result = r1.getStudentNumber().compareTo(r2.getStudentNumber());\n        if (result != 0)\n        {\n            return result;\n        }\n        return r1.getSchool().compareTo(r2.getSchool());\n    }\n}\n</code></pre>\n\n<p>This assumes none of the values can be null, of course - it gets more complicated if you need to allow for null values for the report, report key, student number or school.</p>\n\n<p>While you <em>could</em> get the string concatenation version to work using spaces, it would still fail in strange cases if you had odd data which itself included spaces etc. The above code is the <em>logical</em> code you want... compare by report key first, then only bother with the student number if the report keys are the same, etc.</p>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1290532420,"creation_date":1290532420,"answer_id":4258802,"question_id":4258700,"body_markdown":"If the StudentNumber is numeric it will not be sorted numeric but alphanumeric.\r\nDo not expect \r\n\r\n    &quot;2&quot; &lt; &quot;11&quot;\r\n\r\nit will be:\r\n\r\n    &quot;11&quot; &lt; &quot;2&quot;","title":"Collections.sort with multiple fields","body":"<p>If the StudentNumber is numeric it will not be sorted numeric but alphanumeric.\nDo not expect </p>\n\n<pre><code>\"2\" &lt; \"11\"\n</code></pre>\n\n<p>it will be:</p>\n\n<pre><code>\"11\" &lt; \"2\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1290532951,"creation_date":1290532951,"answer_id":4258874,"question_id":4258700,"body_markdown":"I&#39;d make a comparator using [Guava][1]&#39;s `ComparisonChain`:\r\n\r\n    public class ReportComparator implements Comparator&lt;Report&gt; {\r\n      public int compare(Report r1, Report r2) {\r\n        return ComparisonChain.start()\r\n            .compare(r1.getReportKey(), r2.getReportKey())\r\n            .compare(r1.getStudentNumber(), r2.getStudentNumber())\r\n            .compare(r1.getSchool(), r2.getSchool())\r\n            .result();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com","title":"Collections.sort with multiple fields","body":"<p>I'd make a comparator using <a href=\"http://guava-libraries.googlecode.com\">Guava</a>'s <code>ComparisonChain</code>:</p>\n\n<pre><code>public class ReportComparator implements Comparator&lt;Report&gt; {\n  public int compare(Report r1, Report r2) {\n    return ComparisonChain.start()\n        .compare(r1.getReportKey(), r2.getReportKey())\n        .compare(r1.getStudentNumber(), r2.getStudentNumber())\n        .compare(r1.getSchool(), r2.getSchool())\n        .result();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"down_vote_count":0,"up_vote_count":181,"is_accepted":false,"score":181,"last_activity_date":1588163229,"creation_date":1384943965,"answer_id":20093589,"question_id":4258700,"body_markdown":"(originally from [Ways to sort lists of objects in Java based on multiple fields](http://blog.bennybottema.com/2013/06/21/ways-to-sort-lists-of-objects-in-java-based-on-multiple-fields/))\r\n\r\nOriginal working code in [this gist](https://gist.github.com/bbottema/b891b25bf56e0ccb1f83)\r\n\r\nUsing Java 8 lambda&#39;s (added April 10, 2019)\r\n-------------------------------------\r\nJava 8 solves this nicely by lambda&#39;s (though Guava and Apache Commons might still offer more flexibility):\r\n\r\n    Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\r\n                .thenComparing(Report::getStudentNumber)\r\n                .thenComparing(Report::getSchool));\r\n\r\nThanks to @gaoagong&#39;s [answer below](https://stackoverflow.com/a/36367245/441662).\r\n\r\nNote that one advantage here is that the getters are evaluated lazily (eg. `getSchool()` is only evaluated if relevant).\r\n\r\nMessy and convoluted: Sorting by hand\r\n-------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            int sizeCmp = p1.size.compareTo(p2.size);  \r\n            if (sizeCmp != 0) {  \r\n                return sizeCmp;  \r\n            }  \r\n            int nrOfToppingsCmp = p1.nrOfToppings.compareTo(p2.nrOfToppings);  \r\n            if (nrOfToppingsCmp != 0) {  \r\n                return nrOfToppingsCmp;  \r\n            }  \r\n            return p1.name.compareTo(p2.name);  \r\n        }  \r\n    });  \r\nThis requires a lot of typing, maintenance and is error prone. The only advantage is that *getters* are only invoked when relevant.\r\n\r\nThe reflective way: Sorting with BeanComparator\r\n-----------------------------------------------\r\n\r\n    ComparatorChain chain = new ComparatorChain(Arrays.asList(\r\n       new BeanComparator(&quot;size&quot;), \r\n       new BeanComparator(&quot;nrOfToppings&quot;), \r\n       new BeanComparator(&quot;name&quot;)));\r\n\r\n    Collections.sort(pizzas, chain);  \r\n\r\nObviously this is more concise, but even more error prone as you lose your direct reference to the fields by using Strings instead (no typesafety, auto-refactorings). Now if a field is renamed, the compiler won’t even report a problem. Moreover, because this solution uses reflection, the sorting is much slower.\r\n\r\nGetting there: Sorting with Google Guava’s ComparisonChain\r\n----------------------------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            return ComparisonChain.start().compare(p1.size, p2.size).compare(p1.nrOfToppings, p2.nrOfToppings).compare(p1.name, p2.name).result();  \r\n            // or in case the fields can be null:  \r\n            /* \r\n            return ComparisonChain.start() \r\n               .compare(p1.size, p2.size, Ordering.natural().nullsLast()) \r\n               .compare(p1.nrOfToppings, p2.nrOfToppings, Ordering.natural().nullsLast()) \r\n               .compare(p1.name, p2.name, Ordering.natural().nullsLast()) \r\n               .result(); \r\n            */  \r\n        }  \r\n    });  \r\nThis is much better, but requires some boiler plate code for the most common use case: null-values should be valued less by default. For null-fields, you have to provide an extra directive to Guava what to do in that case. This is a flexible mechanism if you want to do something specific, but often you want the default case (ie. 1, a, b, z, null).\r\n\r\nAnd as noted in the comments below, these getters are all evaluated immediately for each comparison.\r\n\r\nSorting with Apache Commons CompareToBuilder\r\n--------------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            return new CompareToBuilder().append(p1.size, p2.size).append(p1.nrOfToppings, p2.nrOfToppings).append(p1.name, p2.name).toComparison();  \r\n        }  \r\n    });  \r\nLike Guava’s ComparisonChain, this library class sorts easily on multiple fields, but also defines default behavior for null values (ie. 1, a, b, z, null). However, you can’t specify anything else either, unless you provide your own Comparator.\r\n\r\nAgain, as noted in the comments below, these getters are all evaluated immediately for each comparison.\r\n\r\nThus\r\n----\r\nUltimately it comes down to flavor and the need for flexibility (Guava’s ComparisonChain) vs. concise code (Apache’s CompareToBuilder).\r\n\r\nBonus method\r\n----\r\nI found a nice solution that combines multiple comparators in order of priority [on CodeReview](https://codereview.stackexchange.com/a/74764/52676) in a `MultiComparator`:\r\n\r\n    class MultiComparator&lt;T&gt; implements Comparator&lt;T&gt; {\r\n        private final List&lt;Comparator&lt;T&gt;&gt; comparators;\r\n\r\n        public MultiComparator(List&lt;Comparator&lt;? super T&gt;&gt; comparators) {\r\n            this.comparators = comparators;\r\n        }\r\n\r\n        public MultiComparator(Comparator&lt;? super T&gt;... comparators) {\r\n            this(Arrays.asList(comparators));\r\n        }\r\n\r\n        public int compare(T o1, T o2) {\r\n            for (Comparator&lt;T&gt; c : comparators) {\r\n                int result = c.compare(o1, o2);\r\n                if (result != 0) {\r\n                    return result;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt;... comparators) {\r\n            Collections.sort(list, new MultiComparator&lt;T&gt;(comparators));\r\n        }\r\n    }\r\n\r\nOfcourse Apache Commons Collections has a util for this already:\r\n\r\n[ComparatorUtils.chainedComparator(comparatorCollection)](http://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/ComparatorUtils.html#chainedComparator(java.util.Collection))\r\n\r\n    Collections.sort(list, ComparatorUtils.chainedComparator(comparators));","title":"Collections.sort with multiple fields","body":"<p>(originally from <a href=\"http://blog.bennybottema.com/2013/06/21/ways-to-sort-lists-of-objects-in-java-based-on-multiple-fields/\" rel=\"noreferrer\">Ways to sort lists of objects in Java based on multiple fields</a>)</p>\n\n<p>Original working code in <a href=\"https://gist.github.com/bbottema/b891b25bf56e0ccb1f83\" rel=\"noreferrer\">this gist</a></p>\n\n<h2>Using Java 8 lambda's (added April 10, 2019)</h2>\n\n<p>Java 8 solves this nicely by lambda's (though Guava and Apache Commons might still offer more flexibility):</p>\n\n<pre><code>Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\n            .thenComparing(Report::getStudentNumber)\n            .thenComparing(Report::getSchool));\n</code></pre>\n\n<p>Thanks to @gaoagong's <a href=\"https://stackoverflow.com/a/36367245/441662\">answer below</a>.</p>\n\n<p>Note that one advantage here is that the getters are evaluated lazily (eg. <code>getSchool()</code> is only evaluated if relevant).</p>\n\n<h2>Messy and convoluted: Sorting by hand</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        int sizeCmp = p1.size.compareTo(p2.size);  \n        if (sizeCmp != 0) {  \n            return sizeCmp;  \n        }  \n        int nrOfToppingsCmp = p1.nrOfToppings.compareTo(p2.nrOfToppings);  \n        if (nrOfToppingsCmp != 0) {  \n            return nrOfToppingsCmp;  \n        }  \n        return p1.name.compareTo(p2.name);  \n    }  \n});  \n</code></pre>\n\n<p>This requires a lot of typing, maintenance and is error prone. The only advantage is that <em>getters</em> are only invoked when relevant.</p>\n\n<h2>The reflective way: Sorting with BeanComparator</h2>\n\n<pre><code>ComparatorChain chain = new ComparatorChain(Arrays.asList(\n   new BeanComparator(\"size\"), \n   new BeanComparator(\"nrOfToppings\"), \n   new BeanComparator(\"name\")));\n\nCollections.sort(pizzas, chain);  \n</code></pre>\n\n<p>Obviously this is more concise, but even more error prone as you lose your direct reference to the fields by using Strings instead (no typesafety, auto-refactorings). Now if a field is renamed, the compiler won’t even report a problem. Moreover, because this solution uses reflection, the sorting is much slower.</p>\n\n<h2>Getting there: Sorting with Google Guava’s ComparisonChain</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        return ComparisonChain.start().compare(p1.size, p2.size).compare(p1.nrOfToppings, p2.nrOfToppings).compare(p1.name, p2.name).result();  \n        // or in case the fields can be null:  \n        /* \n        return ComparisonChain.start() \n           .compare(p1.size, p2.size, Ordering.natural().nullsLast()) \n           .compare(p1.nrOfToppings, p2.nrOfToppings, Ordering.natural().nullsLast()) \n           .compare(p1.name, p2.name, Ordering.natural().nullsLast()) \n           .result(); \n        */  \n    }  \n});  \n</code></pre>\n\n<p>This is much better, but requires some boiler plate code for the most common use case: null-values should be valued less by default. For null-fields, you have to provide an extra directive to Guava what to do in that case. This is a flexible mechanism if you want to do something specific, but often you want the default case (ie. 1, a, b, z, null).</p>\n\n<p>And as noted in the comments below, these getters are all evaluated immediately for each comparison.</p>\n\n<h2>Sorting with Apache Commons CompareToBuilder</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        return new CompareToBuilder().append(p1.size, p2.size).append(p1.nrOfToppings, p2.nrOfToppings).append(p1.name, p2.name).toComparison();  \n    }  \n});  \n</code></pre>\n\n<p>Like Guava’s ComparisonChain, this library class sorts easily on multiple fields, but also defines default behavior for null values (ie. 1, a, b, z, null). However, you can’t specify anything else either, unless you provide your own Comparator.</p>\n\n<p>Again, as noted in the comments below, these getters are all evaluated immediately for each comparison.</p>\n\n<h2>Thus</h2>\n\n<p>Ultimately it comes down to flavor and the need for flexibility (Guava’s ComparisonChain) vs. concise code (Apache’s CompareToBuilder).</p>\n\n<h2>Bonus method</h2>\n\n<p>I found a nice solution that combines multiple comparators in order of priority <a href=\"https://codereview.stackexchange.com/a/74764/52676\">on CodeReview</a> in a <code>MultiComparator</code>:</p>\n\n<pre><code>class MultiComparator&lt;T&gt; implements Comparator&lt;T&gt; {\n    private final List&lt;Comparator&lt;T&gt;&gt; comparators;\n\n    public MultiComparator(List&lt;Comparator&lt;? super T&gt;&gt; comparators) {\n        this.comparators = comparators;\n    }\n\n    public MultiComparator(Comparator&lt;? super T&gt;... comparators) {\n        this(Arrays.asList(comparators));\n    }\n\n    public int compare(T o1, T o2) {\n        for (Comparator&lt;T&gt; c : comparators) {\n            int result = c.compare(o1, o2);\n            if (result != 0) {\n                return result;\n            }\n        }\n        return 0;\n    }\n\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt;... comparators) {\n        Collections.sort(list, new MultiComparator&lt;T&gt;(comparators));\n    }\n}\n</code></pre>\n\n<p>Ofcourse Apache Commons Collections has a util for this already:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/ComparatorUtils.html#chainedComparator(java.util.Collection)\" rel=\"noreferrer\">ComparatorUtils.chainedComparator(comparatorCollection)</a></p>\n\n<pre><code>Collections.sort(list, ComparatorUtils.chainedComparator(comparators));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58713,"reputation":1207,"user_id":175759,"accept_rate":40,"display_name":"gaoagong"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1459552483,"creation_date":1459552483,"answer_id":36367245,"question_id":4258700,"body_markdown":"This is an old question so I don&#39;t see a Java 8 equivalent. Here is an example for this specific case.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n\r\n    /**\r\n     * Compares multiple parts of the Report object.\r\n     */\r\n    public class SimpleJava8ComparatorClass {\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;Report&gt; reportList = new ArrayList&lt;&gt;();\r\n            reportList.add(new Report(&quot;reportKey2&quot;, &quot;studentNumber2&quot;, &quot;school1&quot;));\r\n            reportList.add(new Report(&quot;reportKey4&quot;, &quot;studentNumber4&quot;, &quot;school6&quot;));\r\n            reportList.add(new Report(&quot;reportKey1&quot;, &quot;studentNumber1&quot;, &quot;school1&quot;));\r\n            reportList.add(new Report(&quot;reportKey3&quot;, &quot;studentNumber2&quot;, &quot;school4&quot;));\r\n            reportList.add(new Report(&quot;reportKey2&quot;, &quot;studentNumber2&quot;, &quot;school3&quot;));\r\n\r\n            System.out.println(&quot;pre-sorting&quot;);\r\n            System.out.println(reportList);\r\n            System.out.println();\r\n\r\n            Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\r\n                .thenComparing(Report::getStudentNumber)\r\n                .thenComparing(Report::getSchool));\r\n\r\n            System.out.println(&quot;post-sorting&quot;);\r\n            System.out.println(reportList);\r\n        }\r\n\r\n        private static class Report {\r\n\r\n            private String reportKey;\r\n            private String studentNumber;\r\n            private String school;\r\n\r\n            public Report(String reportKey, String studentNumber, String school) {\r\n                this.reportKey = reportKey;\r\n                this.studentNumber = studentNumber;\r\n                this.school = school;\r\n            }\r\n\r\n            public String getReportKey() {\r\n                return reportKey;\r\n            }\r\n\r\n            public void setReportKey(String reportKey) {\r\n                this.reportKey = reportKey;\r\n            }\r\n\r\n            public String getStudentNumber() {\r\n                return studentNumber;\r\n            }\r\n\r\n            public void setStudentNumber(String studentNumber) {\r\n                this.studentNumber = studentNumber;\r\n            }\r\n\r\n            public String getSchool() {\r\n                return school;\r\n            }\r\n\r\n            public void setSchool(String school) {\r\n                this.school = school;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Report{&quot; +\r\n                       &quot;reportKey=&#39;&quot; + reportKey + &#39;\\&#39;&#39; +\r\n                       &quot;, studentNumber=&#39;&quot; + studentNumber + &#39;\\&#39;&#39; +\r\n                       &quot;, school=&#39;&quot; + school + &#39;\\&#39;&#39; +\r\n                       &#39;}&#39;;\r\n            }\r\n        }\r\n    }","title":"Collections.sort with multiple fields","body":"<p>This is an old question so I don't see a Java 8 equivalent. Here is an example for this specific case.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\n/**\n * Compares multiple parts of the Report object.\n */\npublic class SimpleJava8ComparatorClass {\n\n    public static void main(String[] args) {\n        List&lt;Report&gt; reportList = new ArrayList&lt;&gt;();\n        reportList.add(new Report(\"reportKey2\", \"studentNumber2\", \"school1\"));\n        reportList.add(new Report(\"reportKey4\", \"studentNumber4\", \"school6\"));\n        reportList.add(new Report(\"reportKey1\", \"studentNumber1\", \"school1\"));\n        reportList.add(new Report(\"reportKey3\", \"studentNumber2\", \"school4\"));\n        reportList.add(new Report(\"reportKey2\", \"studentNumber2\", \"school3\"));\n\n        System.out.println(\"pre-sorting\");\n        System.out.println(reportList);\n        System.out.println();\n\n        Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\n            .thenComparing(Report::getStudentNumber)\n            .thenComparing(Report::getSchool));\n\n        System.out.println(\"post-sorting\");\n        System.out.println(reportList);\n    }\n\n    private static class Report {\n\n        private String reportKey;\n        private String studentNumber;\n        private String school;\n\n        public Report(String reportKey, String studentNumber, String school) {\n            this.reportKey = reportKey;\n            this.studentNumber = studentNumber;\n            this.school = school;\n        }\n\n        public String getReportKey() {\n            return reportKey;\n        }\n\n        public void setReportKey(String reportKey) {\n            this.reportKey = reportKey;\n        }\n\n        public String getStudentNumber() {\n            return studentNumber;\n        }\n\n        public void setStudentNumber(String studentNumber) {\n            this.studentNumber = studentNumber;\n        }\n\n        public String getSchool() {\n            return school;\n        }\n\n        public void setSchool(String school) {\n            this.school = school;\n        }\n\n        @Override\n        public String toString() {\n            return \"Report{\" +\n                   \"reportKey='\" + reportKey + '\\'' +\n                   \", studentNumber='\" + studentNumber + '\\'' +\n                   \", school='\" + school + '\\'' +\n                   '}';\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9712403,"reputation":344,"user_id":7203814,"display_name":"Lakshman Miani"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484575745,"creation_date":1484575745,"answer_id":41678291,"question_id":4258700,"body_markdown":"Sorting with multiple fields in Java8\r\n \r\n  \r\n\r\n    package com.java8.chapter1;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import static java.util.Comparator.*;\r\n\r\n   \r\n\r\n     public class Example1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Employee&gt; empList = getEmpList();\r\n    \t\t\r\n    \t\t\r\n    \t\t// Before Java 8 \r\n    \t\tempList.sort(new Comparator&lt;Employee&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Employee o1, Employee o2) {\r\n    \t\t\t\tint res = o1.getDesignation().compareTo(o2.getDesignation());\r\n    \t\t\t\tif (res == 0) {\r\n    \t\t\t\t\treturn o1.getSalary() &gt; o2.getSalary() ? 1 : o1.getSalary() &lt; o2.getSalary() ? -1 : 0;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn res;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tfor (Employee emp : empList) {\r\n    \t\t\tSystem.out.println(emp);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;---------------------------------------------------------------------------&quot;);\r\n    \t\t\r\n    \t\t// In Java 8\r\n    \t\t\r\n    \t\tempList.sort(comparing(Employee::getDesignation).thenComparing(Employee::getSalary));\r\n    \t\tempList.stream().forEach(System.out::println);\r\n    \t\t\r\n    \t}\r\n    \tprivate static List&lt;Employee&gt; getEmpList() {\r\n    \t\treturn Arrays.asList(new Employee(&quot;Lakshman A&quot;, &quot;Consultent&quot;, 450000),\r\n    \t\t\t\tnew Employee(&quot;Chaitra S&quot;, &quot;Developer&quot;, 250000), new Employee(&quot;Manoj PVN&quot;, &quot;Developer&quot;, 250000),\r\n    \t\t\t\tnew Employee(&quot;Ramesh R&quot;, &quot;Developer&quot;, 280000), new Employee(&quot;Suresh S&quot;, &quot;Developer&quot;, 270000),\r\n    \t\t\t\tnew Employee(&quot;Jaishree&quot;, &quot;Opearations HR&quot;, 350000));\r\n    \t}\r\n    }\r\n    \r\n    class Employee {\r\n    \tprivate String fullName;\r\n    \tprivate String designation;\r\n    \tprivate double salary;\r\n    \r\n    \tpublic Employee(String fullName, String designation, double salary) {\r\n    \t\tsuper();\r\n    \t\tthis.fullName = fullName;\r\n    \t\tthis.designation = designation;\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n    \r\n    \tpublic String getFullName() {\r\n    \t\treturn fullName;\r\n    \t}\r\n    \r\n    \tpublic String getDesignation() {\r\n    \t\treturn designation;\r\n    \t}\r\n    \r\n    \tpublic double getSalary() {\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Employee [fullName=&quot; + fullName + &quot;, designation=&quot; + designation + &quot;, salary=&quot; + salary + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Collections.sort with multiple fields","body":"<p>Sorting with multiple fields in Java8</p>\n\n<pre><code>package com.java8.chapter1;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\nimport static java.util.Comparator.*;\n\n\n\n public class Example1 {\n\n    public static void main(String[] args) {\n        List&lt;Employee&gt; empList = getEmpList();\n\n\n        // Before Java 8 \n        empList.sort(new Comparator&lt;Employee&gt;() {\n\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                int res = o1.getDesignation().compareTo(o2.getDesignation());\n                if (res == 0) {\n                    return o1.getSalary() &gt; o2.getSalary() ? 1 : o1.getSalary() &lt; o2.getSalary() ? -1 : 0;\n                } else {\n                    return res;\n                }\n\n            }\n        });\n        for (Employee emp : empList) {\n            System.out.println(emp);\n        }\n        System.out.println(\"---------------------------------------------------------------------------\");\n\n        // In Java 8\n\n        empList.sort(comparing(Employee::getDesignation).thenComparing(Employee::getSalary));\n        empList.stream().forEach(System.out::println);\n\n    }\n    private static List&lt;Employee&gt; getEmpList() {\n        return Arrays.asList(new Employee(\"Lakshman A\", \"Consultent\", 450000),\n                new Employee(\"Chaitra S\", \"Developer\", 250000), new Employee(\"Manoj PVN\", \"Developer\", 250000),\n                new Employee(\"Ramesh R\", \"Developer\", 280000), new Employee(\"Suresh S\", \"Developer\", 270000),\n                new Employee(\"Jaishree\", \"Opearations HR\", 350000));\n    }\n}\n\nclass Employee {\n    private String fullName;\n    private String designation;\n    private double salary;\n\n    public Employee(String fullName, String designation, double salary) {\n        super();\n        this.fullName = fullName;\n        this.designation = designation;\n        this.salary = salary;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public String getDesignation() {\n        return designation;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    @Override\n    public String toString() {\n        return \"Employee [fullName=\" + fullName + \", designation=\" + designation + \", salary=\" + salary + \"]\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523303775,"creation_date":1523303775,"answer_id":49740718,"question_id":4258700,"body_markdown":"Here is a full example comparing 2 fields in an object, one String and one int, also using Collator to sort.\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tCollator myCollator;\r\n    \t\tmyCollator = Collator.getInstance(Locale.US);\r\n    \r\n    \t\tList&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n    \t\t\r\n    \t\titems.add(new Item(&quot;costrels&quot;, 1039737, &quot;&quot;));\r\n    \t\titems.add(new Item(&quot;Costs&quot;, 1570019, &quot;&quot;));\r\n    \t\titems.add(new Item(&quot;costs&quot;, 310831, &quot;&quot;));\r\n    \t\titems.add(new Item(&quot;costs&quot;, 310832, &quot;&quot;));\r\n    \t\t\r\n    \t\tCollections.sort(items, new Comparator&lt;Item&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(final Item record1, final Item record2) {\r\n    \t\t\t    int c;\r\n    \t\t\t    //c = record1.item1.compareTo(record2.item1); //optional comparison without Collator\t\t\t    \r\n    \t\t\t    c = myCollator.compare(record1.item1, record2.item1);\r\n    \t\t\t    if (c == 0) \r\n    \t\t\t    {\r\n    \t\t\t        return record1.item2 &lt; record2.item2 ? -1\r\n    \t\t\t                :  record1.item2 &gt; record2.item2 ? 1\r\n    \t\t\t                : 0;\r\n    \t\t\t    }\r\n    \t\t\t    return c;\r\n    \t\t\t}\r\n    \t\t});\t\t\r\n    \t\t\r\n    \t\tfor (Item item : items)\r\n    \t\t{\r\n    \t\t    System.out.println(item.item1);\r\n    \t\t    System.out.println(item.item2);\r\n    \t\t}\t\t\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static class Item\r\n    \t{\r\n    \t\tpublic String item1;\r\n    \t\tpublic int item2;\r\n    \t\tpublic String item3;\r\n    \t\t\r\n    \t\tpublic Item(String item1, int item2, String item3)\r\n    \t\t{\r\n    \t\t\tthis.item1 = item1;\r\n    \t\t\tthis.item2 = item2;\r\n    \t\t\tthis.item3 = item3;\r\n    \t\t}\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\ncostrels\r\n1039737\r\n\r\ncosts\r\n310831\r\n\r\ncosts\r\n310832\r\n\r\nCosts\r\n1570019\r\n","title":"Collections.sort with multiple fields","body":"<p>Here is a full example comparing 2 fields in an object, one String and one int, also using Collator to sort.</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Collator myCollator;\n        myCollator = Collator.getInstance(Locale.US);\n\n        List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\n\n        items.add(new Item(\"costrels\", 1039737, \"\"));\n        items.add(new Item(\"Costs\", 1570019, \"\"));\n        items.add(new Item(\"costs\", 310831, \"\"));\n        items.add(new Item(\"costs\", 310832, \"\"));\n\n        Collections.sort(items, new Comparator&lt;Item&gt;() {\n            @Override\n            public int compare(final Item record1, final Item record2) {\n                int c;\n                //c = record1.item1.compareTo(record2.item1); //optional comparison without Collator                \n                c = myCollator.compare(record1.item1, record2.item1);\n                if (c == 0) \n                {\n                    return record1.item2 &lt; record2.item2 ? -1\n                            :  record1.item2 &gt; record2.item2 ? 1\n                            : 0;\n                }\n                return c;\n            }\n        });     \n\n        for (Item item : items)\n        {\n            System.out.println(item.item1);\n            System.out.println(item.item2);\n        }       \n\n    }\n\n    public static class Item\n    {\n        public String item1;\n        public int item2;\n        public String item3;\n\n        public Item(String item1, int item2, String item3)\n        {\n            this.item1 = item1;\n            this.item2 = item2;\n            this.item3 = item3;\n        }       \n    }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p>costrels\n1039737</p>\n\n<p>costs\n310831</p>\n\n<p>costs\n310832</p>\n\n<p>Costs\n1570019</p>\n"},{"tags":[],"owner":{"account_id":4128254,"reputation":401,"user_id":3386780,"display_name":"Zia Ul Mustafa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533050977,"creation_date":1533050977,"answer_id":51617030,"question_id":4258700,"body_markdown":"I suggest to use Java 8 Lambda approach:\r\n\r\n    List&lt;Report&gt; reportList = new ArrayList&lt;Report&gt;();\r\n    reportList.sort(Comparator.comparing(Report::getRecord1).thenComparing(Report::getRecord2));","title":"Collections.sort with multiple fields","body":"<p>I suggest to use Java 8 Lambda approach:</p>\n\n<pre><code>List&lt;Report&gt; reportList = new ArrayList&lt;Report&gt;();\nreportList.sort(Comparator.comparing(Report::getRecord1).thenComparing(Report::getRecord2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541563084,"creation_date":1541563084,"answer_id":53183375,"question_id":4258700,"body_markdown":"Use `Comparator` interface with methods introduced in JDK1.8: `comparing` and `thenComparing`, or more concrete methods: `comparingXXX` and `thenComparingXXX`.\r\n\r\nFor example, if we wanna sort a list of persons by their id firstly, then age, then name:\r\n\r\n                Comparator&lt;Person&gt; comparator = Comparator.comparingLong(Person::getId)\r\n                        .thenComparingInt(Person::getAge)\r\n                        .thenComparing(Person::getName);\r\n                personList.sort(comparator);","title":"Collections.sort with multiple fields","body":"<p>Use <code>Comparator</code> interface with methods introduced in JDK1.8: <code>comparing</code> and <code>thenComparing</code>, or more concrete methods: <code>comparingXXX</code> and <code>thenComparingXXX</code>.</p>\n\n<p>For example, if we wanna sort a list of persons by their id firstly, then age, then name:</p>\n\n<pre><code>            Comparator&lt;Person&gt; comparator = Comparator.comparingLong(Person::getId)\n                    .thenComparingInt(Person::getAge)\n                    .thenComparing(Person::getName);\n            personList.sort(comparator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544731070,"creation_date":1544731070,"answer_id":53769222,"question_id":4258700,"body_markdown":"A lot of answers above have fields compared in single comparator method which is not actually working. There are some answers though with different comparators implemented for each field, I am posting this because this example would be much more clearer and simple to understand I am believing.\r\n\r\n    \r\n    class Student{\r\n    \tInteger bornYear;\r\n    \tInteger bornMonth;\r\n    \tInteger bornDay;\r\n    \tpublic Student(int bornYear, int bornMonth, int bornDay) {\r\n    \t\t\r\n    \t\tthis.bornYear = bornYear;\r\n    \t\tthis.bornMonth = bornMonth;\r\n    \t\tthis.bornDay = bornDay;\r\n    \t}\r\n    \tpublic Student(int bornYear, int bornMonth) {\r\n    \t\t\r\n    \t\tthis.bornYear = bornYear;\r\n    \t\tthis.bornMonth = bornMonth;\r\n    \t\t\r\n    \t}\r\n    \tpublic Student(int bornYear) {\r\n    \t\t\r\n    \t\tthis.bornYear = bornYear;\r\n    \t\t\r\n    \t}\r\n    \tpublic Integer getBornYear() {\r\n    \t\treturn bornYear;\r\n    \t}\r\n    \tpublic void setBornYear(int bornYear) {\r\n    \t\tthis.bornYear = bornYear;\r\n    \t}\r\n    \tpublic Integer getBornMonth() {\r\n    \t\treturn bornMonth;\r\n    \t}\r\n    \tpublic void setBornMonth(int bornMonth) {\r\n    \t\tthis.bornMonth = bornMonth;\r\n    \t}\r\n    \tpublic Integer getBornDay() {\r\n    \t\treturn bornDay;\r\n    \t}\r\n    \tpublic void setBornDay(int bornDay) {\r\n    \t\tthis.bornDay = bornDay;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Student [bornYear=&quot; + bornYear + &quot;, bornMonth=&quot; + bornMonth + &quot;, bornDay=&quot; + bornDay + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n    class TestClass\r\n    {    \t\r\n    \t\r\n    \t// Comparator problem in JAVA for sorting objects based on multiple fields \r\n    \tpublic static void main(String[] args)\r\n        {\r\n            int N,c;// Number of threads\r\n            \r\n    \t    Student s1=new Student(2018,12);\r\n    \t   \tStudent s2=new Student(2018,12);\r\n    \t   \tStudent s3=new Student(2018,11);\r\n    \t   \tStudent s4=new Student(2017,6);\r\n    \t   \tStudent s5=new Student(2017,4);\r\n    \t   \tStudent s6=new Student(2016,8);\r\n    \t   \tStudent s7=new Student(2018);\r\n    \t   \tStudent s8=new Student(2017,8);\r\n    \t   \tStudent s9=new Student(2017,2);\r\n    \t   \tStudent s10=new Student(2017,9);\r\n    \t   \t\r\n    \t   \tList&lt;Student&gt; studentList=new ArrayList&lt;&gt;();\r\n    \t   \tstudentList.add(s1);\r\n    \t   \tstudentList.add(s2);\r\n    \t   \tstudentList.add(s3);\r\n    \t   \tstudentList.add(s4);\r\n    \t   \tstudentList.add(s5);\r\n    \t   \tstudentList.add(s6);\r\n    \t   \tstudentList.add(s7);\r\n    \t   \tstudentList.add(s8);\r\n    \t   \tstudentList.add(s9);\r\n    \t   \tstudentList.add(s10);\r\n    \t   \t\r\n    \t   \tComparator&lt;Student&gt; byMonth=new Comparator&lt;Student&gt;() {\r\n    \t   \t\t@Override\r\n    \t\t\tpublic int compare(Student st1,Student st2) {\r\n    \t   \t\t\tif(st1.getBornMonth()!=null &amp;&amp; st2.getBornMonth()!=null) {\r\n    \t   \t\t\t\treturn st2.getBornMonth()-st1.getBornMonth();\r\n    \t   \t\t\t}\r\n    \t   \t\t\telse if(st1.getBornMonth()!=null) {\r\n    \t   \t\t\t\treturn 1;\r\n    \t   \t\t\t}\r\n    \t   \t\t\telse {\r\n    \t   \t\t\t\treturn -1;\r\n    \t   \t\t\t}\r\n    \t   \t}};\r\n    \t   \t\r\n    \t   \tCollections.sort(studentList, new Comparator&lt;Student&gt;() {\r\n    \t   \t\t@Override\r\n    \t\t\tpublic int compare(Student st1,Student st2) {\r\n    \t   \t\t\treturn st2.getBornYear()-st1.getBornYear();\r\n    \t   \t}}.thenComparing(byMonth));\r\n            \r\n    \t   \tSystem.out.println(&quot;The sorted students list in descending is&quot;+Arrays.deepToString(studentList.toArray()));\r\n           \r\n    \r\n        \r\n        }\r\n       \t\r\n    }\r\n\r\n**OUTPUT**\r\n\r\nThe sorted students list in descending is[Student [bornYear=2018, bornMonth=null, bornDay=null], Student [bornYear=2018, bornMonth=12, bornDay=null], Student [bornYear=2018, bornMonth=12, bornDay=null], Student [bornYear=2018, bornMonth=11, bornDay=null], Student [bornYear=2017, bornMonth=9, bornDay=null], Student [bornYear=2017, bornMonth=8, bornDay=null], Student [bornYear=2017, bornMonth=6, bornDay=null], Student [bornYear=2017, bornMonth=4, bornDay=null], Student [bornYear=2017, bornMonth=2, bornDay=null], Student [bornYear=2016, bornMonth=8, bornDay=null]]\r\n\r\n\r\n","title":"Collections.sort with multiple fields","body":"<p>A lot of answers above have fields compared in single comparator method which is not actually working. There are some answers though with different comparators implemented for each field, I am posting this because this example would be much more clearer and simple to understand I am believing.</p>\n\n<pre><code>class Student{\n    Integer bornYear;\n    Integer bornMonth;\n    Integer bornDay;\n    public Student(int bornYear, int bornMonth, int bornDay) {\n\n        this.bornYear = bornYear;\n        this.bornMonth = bornMonth;\n        this.bornDay = bornDay;\n    }\n    public Student(int bornYear, int bornMonth) {\n\n        this.bornYear = bornYear;\n        this.bornMonth = bornMonth;\n\n    }\n    public Student(int bornYear) {\n\n        this.bornYear = bornYear;\n\n    }\n    public Integer getBornYear() {\n        return bornYear;\n    }\n    public void setBornYear(int bornYear) {\n        this.bornYear = bornYear;\n    }\n    public Integer getBornMonth() {\n        return bornMonth;\n    }\n    public void setBornMonth(int bornMonth) {\n        this.bornMonth = bornMonth;\n    }\n    public Integer getBornDay() {\n        return bornDay;\n    }\n    public void setBornDay(int bornDay) {\n        this.bornDay = bornDay;\n    }\n    @Override\n    public String toString() {\n        return \"Student [bornYear=\" + bornYear + \", bornMonth=\" + bornMonth + \", bornDay=\" + bornDay + \"]\";\n    }\n\n\n}\nclass TestClass\n{       \n\n    // Comparator problem in JAVA for sorting objects based on multiple fields \n    public static void main(String[] args)\n    {\n        int N,c;// Number of threads\n\n        Student s1=new Student(2018,12);\n        Student s2=new Student(2018,12);\n        Student s3=new Student(2018,11);\n        Student s4=new Student(2017,6);\n        Student s5=new Student(2017,4);\n        Student s6=new Student(2016,8);\n        Student s7=new Student(2018);\n        Student s8=new Student(2017,8);\n        Student s9=new Student(2017,2);\n        Student s10=new Student(2017,9);\n\n        List&lt;Student&gt; studentList=new ArrayList&lt;&gt;();\n        studentList.add(s1);\n        studentList.add(s2);\n        studentList.add(s3);\n        studentList.add(s4);\n        studentList.add(s5);\n        studentList.add(s6);\n        studentList.add(s7);\n        studentList.add(s8);\n        studentList.add(s9);\n        studentList.add(s10);\n\n        Comparator&lt;Student&gt; byMonth=new Comparator&lt;Student&gt;() {\n            @Override\n            public int compare(Student st1,Student st2) {\n                if(st1.getBornMonth()!=null &amp;&amp; st2.getBornMonth()!=null) {\n                    return st2.getBornMonth()-st1.getBornMonth();\n                }\n                else if(st1.getBornMonth()!=null) {\n                    return 1;\n                }\n                else {\n                    return -1;\n                }\n        }};\n\n        Collections.sort(studentList, new Comparator&lt;Student&gt;() {\n            @Override\n            public int compare(Student st1,Student st2) {\n                return st2.getBornYear()-st1.getBornYear();\n        }}.thenComparing(byMonth));\n\n        System.out.println(\"The sorted students list in descending is\"+Arrays.deepToString(studentList.toArray()));\n\n\n\n    }\n\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<p>The sorted students list in descending is[Student [bornYear=2018, bornMonth=null, bornDay=null], Student [bornYear=2018, bornMonth=12, bornDay=null], Student [bornYear=2018, bornMonth=12, bornDay=null], Student [bornYear=2018, bornMonth=11, bornDay=null], Student [bornYear=2017, bornMonth=9, bornDay=null], Student [bornYear=2017, bornMonth=8, bornDay=null], Student [bornYear=2017, bornMonth=6, bornDay=null], Student [bornYear=2017, bornMonth=4, bornDay=null], Student [bornYear=2017, bornMonth=2, bornDay=null], Student [bornYear=2016, bornMonth=8, bornDay=null]]</p>\n"},{"tags":[],"owner":{"account_id":5662062,"reputation":347,"user_id":4479402,"display_name":"Djory Krache"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612438250,"creation_date":1612438250,"answer_id":66044716,"question_id":4258700,"body_markdown":"I had the same issue and I needed an algorithm using a config file. In This way you can use multiple fields define by a configuration file (simulate just by a List&lt;String) config)\r\n\r\n\r\n\r\n\r\n      public static void test() {  \r\n        // Associate your configName with your Comparator \r\n        Map&lt;String, Comparator&lt;DocumentDto&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;id&quot;, new IdSort());\r\n        map.put(&quot;createUser&quot;, new DocumentUserSort());\r\n        map.put(&quot;documentType&quot;, new DocumentTypeSort());\r\n        /**\r\n          In your config.yml file, you&#39;ll have something like\r\n          sortlist: \r\n            - documentType\r\n            - createUser\r\n            - id\r\n        */\r\n        List&lt;String&gt; config = new ArrayList&lt;&gt;();\r\n        config.add(&quot;documentType&quot;);\r\n        config.add(&quot;createUser&quot;);\r\n        config.add(&quot;id&quot;);\r\n        \r\n\r\n        List&lt;Comparator&lt;DocumentDto&gt;&gt; sorts = new ArrayList&lt;&gt;();\r\n\r\n        for (String comparator : config) {\r\n            sorts.add(map.get(comparator));\r\n        }\r\n\r\n        // Begin creation of the list \r\n        DocumentDto d1 = new DocumentDto();\r\n        d1.setDocumentType(new DocumentTypeDto());\r\n        d1.getDocumentType().setCode(&quot;A&quot;);\r\n        d1.setId(1);\r\n        d1.setCreateUser(&quot;Djory&quot;);\r\n\r\n        DocumentDto d2 = new DocumentDto();\r\n        d2.setDocumentType(new DocumentTypeDto());\r\n        d2.getDocumentType().setCode(&quot;A&quot;);\r\n        d2.setId(2);\r\n        d2.setCreateUser(&quot;Alex&quot;);\r\n\r\n        DocumentDto d3 = new DocumentDto();\r\n        d3.setDocumentType(new DocumentTypeDto());\r\n        d3.getDocumentType().setCode(&quot;A&quot;);\r\n        d3.setId(3);\r\n        d3.setCreateUser(&quot;Djory&quot;);\r\n\r\n        DocumentDto d4 = new DocumentDto();\r\n        d4.setDocumentType(new DocumentTypeDto());\r\n        d4.getDocumentType().setCode(&quot;A&quot;);\r\n        d4.setId(4);\r\n        d4.setCreateUser(&quot;Alex&quot;);\r\n\r\n        DocumentDto d5 = new DocumentDto();\r\n        d5.setDocumentType(new DocumentTypeDto());\r\n        d5.getDocumentType().setCode(&quot;D&quot;);\r\n        d5.setId(5);\r\n        d5.setCreateUser(&quot;Djory&quot;);\r\n\r\n        DocumentDto d6 = new DocumentDto();\r\n        d6.setDocumentType(new DocumentTypeDto());\r\n        d6.getDocumentType().setCode(&quot;B&quot;);\r\n        d6.setId(6);\r\n        d6.setCreateUser(&quot;Alex&quot;);\r\n\r\n        DocumentDto d7 = new DocumentDto();\r\n        d7.setDocumentType(new DocumentTypeDto());\r\n        d7.getDocumentType().setCode(&quot;B&quot;);\r\n        d7.setId(7);\r\n        d7.setCreateUser(&quot;Alex&quot;);\r\n\r\n        List&lt;DocumentDto&gt; documents = new ArrayList&lt;&gt;();\r\n\r\n        documents.add(d1);\r\n        documents.add(d2);\r\n        documents.add(d3);\r\n        documents.add(d4);\r\n        documents.add(d5);\r\n        documents.add(d6);\r\n        documents.add(d7);\r\n        // End creation of the list\r\n\r\n\r\n        // The Sort \r\n        Stream&lt;DocumentDto&gt; docStream = documents.stream();\r\n\r\n        // we need to reverse this list in order to sort by documentType first because stream are pull-based, last sorted() will have the priority\r\n        Collections.reverse(sorts);\r\n\r\n        for(Comparator&lt;DocumentDto&gt; entitySort : sorts){\r\n            docStream = docStream.sorted(entitySort);\r\n        }\r\n        documents = docStream.collect(Collectors.toList());\r\n        // documents has been sorted has you configured\r\n        // in case of equality second sort will be used.\r\n\r\n        System.out.println(documents);\r\n\r\n      }\r\n\r\nComparator objects are really simple. \r\n\r\n    public class IdSort implements Comparator&lt;DocumentDto&gt; {\r\n\r\n        @Override\r\n        public int compare(DocumentDto o1, DocumentDto o2) {\r\n            return o1.getId().compareTo(o2.getId());\r\n        }\r\n    }\r\n    public class DocumentUserSort implements Comparator&lt;DocumentDto&gt; {\r\n    \r\n        @Override\r\n        public int compare(DocumentDto o1, DocumentDto o2) {\r\n            return o1.getCreateUser().compareTo(o2.getCreateUser());\r\n        }\r\n    }\r\n    public class DocumentTypeSort implements Comparator&lt;DocumentDto&gt; {\r\n    \r\n        @Override\r\n        public int compare(DocumentDto o1, DocumentDto o2) {\r\n            return o1.getDocumentType().getCode().compareTo(o2.getDocumentType().getCode());\r\n        }\r\n    }\r\n\r\nConclusion : this method isn&#39;t has efficient but you can create generic sort using a file configuration in this way.\r\n","title":"Collections.sort with multiple fields","body":"<p>I had the same issue and I needed an algorithm using a config file. In This way you can use multiple fields define by a configuration file (simulate just by a List&lt;String) config)</p>\n<pre><code>  public static void test() {  \n    // Associate your configName with your Comparator \n    Map&lt;String, Comparator&lt;DocumentDto&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;id&quot;, new IdSort());\n    map.put(&quot;createUser&quot;, new DocumentUserSort());\n    map.put(&quot;documentType&quot;, new DocumentTypeSort());\n    /**\n      In your config.yml file, you'll have something like\n      sortlist: \n        - documentType\n        - createUser\n        - id\n    */\n    List&lt;String&gt; config = new ArrayList&lt;&gt;();\n    config.add(&quot;documentType&quot;);\n    config.add(&quot;createUser&quot;);\n    config.add(&quot;id&quot;);\n    \n\n    List&lt;Comparator&lt;DocumentDto&gt;&gt; sorts = new ArrayList&lt;&gt;();\n\n    for (String comparator : config) {\n        sorts.add(map.get(comparator));\n    }\n\n    // Begin creation of the list \n    DocumentDto d1 = new DocumentDto();\n    d1.setDocumentType(new DocumentTypeDto());\n    d1.getDocumentType().setCode(&quot;A&quot;);\n    d1.setId(1);\n    d1.setCreateUser(&quot;Djory&quot;);\n\n    DocumentDto d2 = new DocumentDto();\n    d2.setDocumentType(new DocumentTypeDto());\n    d2.getDocumentType().setCode(&quot;A&quot;);\n    d2.setId(2);\n    d2.setCreateUser(&quot;Alex&quot;);\n\n    DocumentDto d3 = new DocumentDto();\n    d3.setDocumentType(new DocumentTypeDto());\n    d3.getDocumentType().setCode(&quot;A&quot;);\n    d3.setId(3);\n    d3.setCreateUser(&quot;Djory&quot;);\n\n    DocumentDto d4 = new DocumentDto();\n    d4.setDocumentType(new DocumentTypeDto());\n    d4.getDocumentType().setCode(&quot;A&quot;);\n    d4.setId(4);\n    d4.setCreateUser(&quot;Alex&quot;);\n\n    DocumentDto d5 = new DocumentDto();\n    d5.setDocumentType(new DocumentTypeDto());\n    d5.getDocumentType().setCode(&quot;D&quot;);\n    d5.setId(5);\n    d5.setCreateUser(&quot;Djory&quot;);\n\n    DocumentDto d6 = new DocumentDto();\n    d6.setDocumentType(new DocumentTypeDto());\n    d6.getDocumentType().setCode(&quot;B&quot;);\n    d6.setId(6);\n    d6.setCreateUser(&quot;Alex&quot;);\n\n    DocumentDto d7 = new DocumentDto();\n    d7.setDocumentType(new DocumentTypeDto());\n    d7.getDocumentType().setCode(&quot;B&quot;);\n    d7.setId(7);\n    d7.setCreateUser(&quot;Alex&quot;);\n\n    List&lt;DocumentDto&gt; documents = new ArrayList&lt;&gt;();\n\n    documents.add(d1);\n    documents.add(d2);\n    documents.add(d3);\n    documents.add(d4);\n    documents.add(d5);\n    documents.add(d6);\n    documents.add(d7);\n    // End creation of the list\n\n\n    // The Sort \n    Stream&lt;DocumentDto&gt; docStream = documents.stream();\n\n    // we need to reverse this list in order to sort by documentType first because stream are pull-based, last sorted() will have the priority\n    Collections.reverse(sorts);\n\n    for(Comparator&lt;DocumentDto&gt; entitySort : sorts){\n        docStream = docStream.sorted(entitySort);\n    }\n    documents = docStream.collect(Collectors.toList());\n    // documents has been sorted has you configured\n    // in case of equality second sort will be used.\n\n    System.out.println(documents);\n\n  }\n</code></pre>\n<p>Comparator objects are really simple.</p>\n<pre><code>public class IdSort implements Comparator&lt;DocumentDto&gt; {\n\n    @Override\n    public int compare(DocumentDto o1, DocumentDto o2) {\n        return o1.getId().compareTo(o2.getId());\n    }\n}\npublic class DocumentUserSort implements Comparator&lt;DocumentDto&gt; {\n\n    @Override\n    public int compare(DocumentDto o1, DocumentDto o2) {\n        return o1.getCreateUser().compareTo(o2.getCreateUser());\n    }\n}\npublic class DocumentTypeSort implements Comparator&lt;DocumentDto&gt; {\n\n    @Override\n    public int compare(DocumentDto o1, DocumentDto o2) {\n        return o1.getDocumentType().getCode().compareTo(o2.getDocumentType().getCode());\n    }\n}\n</code></pre>\n<p>Conclusion : this method isn't has efficient but you can create generic sort using a file configuration in this way.</p>\n"},{"tags":[],"owner":{"account_id":2801511,"reputation":443,"user_id":2409677,"display_name":"vitalinvent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634742461,"creation_date":1634742461,"answer_id":69648550,"question_id":4258700,"body_markdown":"im my case List of Lists (in the approximation examle):\r\n\r\n    List&lt;T&gt;.steam\r\n    .map(Class1.StaticInnerClass1::Field1)\r\n    .flatMap(x -&gt; x.getField11ListStaticInnerClass2OfField1.stream())\r\n    .max(Comparator.comparing(Class1.StaticInnerClass2::Field21,Collections.reverseOrder())\r\n    .thenCompare(Class1.StaticInnerClass2::Field22));\r\n\r\n\r\n","title":"Collections.sort with multiple fields","body":"<p>im my case List of Lists (in the approximation examle):</p>\n<pre><code>List&lt;T&gt;.steam\n.map(Class1.StaticInnerClass1::Field1)\n.flatMap(x -&gt; x.getField11ListStaticInnerClass2OfField1.stream())\n.max(Comparator.comparing(Class1.StaticInnerClass2::Field21,Collections.reverseOrder())\n.thenCompare(Class1.StaticInnerClass2::Field22));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671486942,"creation_date":1671486942,"answer_id":74856439,"question_id":4258700,"body_markdown":"For my case, I had 3 fields *(For example - `int index, bool isArchive ,bool isClassPrivate`)*\r\n  and I summed their comparison result like this- \r\n\r\n    Collections.sort(getData(), (o1, o2) -&gt;\r\n                Integer.compare(o1.getIndex(getContext()), o2.getIndex(getContext()))\r\n                        + Boolean.compare(o1.isArchive(), o2.isArchive())\r\n                        + Boolean.compare(o1.isClassPrivate(), o2.isClassPrivate()\r\n                ));","title":"Collections.sort with multiple fields","body":"<p>For my case, I had 3 fields <em>(For example - <code>int index, bool isArchive ,bool isClassPrivate</code>)</em>\nand I summed their comparison result like this-</p>\n<pre><code>Collections.sort(getData(), (o1, o2) -&gt;\n            Integer.compare(o1.getIndex(getContext()), o2.getIndex(getContext()))\n                    + Boolean.compare(o1.isArchive(), o2.isArchive())\n                    + Boolean.compare(o1.isClassPrivate(), o2.isClassPrivate()\n            ));\n</code></pre>\n"}],"owner":{"account_id":673133,"reputation":1163,"user_id":517754,"display_name":"Milli Szabo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221077,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":4258738,"answer_count":15,"score":116,"last_activity_date":1671486942,"creation_date":1290531826,"question_id":4258700,"body_markdown":"I have a list of &quot;Report&quot; objects with three fields (All String type)-\r\n\r\n    ReportKey\r\n    StudentNumber\r\n    School\r\n\r\nI have a sort code goes like-\r\n\r\n    Collections.sort(reportList, new Comparator&lt;Report&gt;() {\r\n\r\n\t@Override\r\n\tpublic int compare(final Report record1, final Report record2) {\r\n\t\t  return (record1.getReportKey() + record1.getStudentNumber() + record1.getSchool())\t\t\t\t\t  \r\n            .compareTo(record2.getReportKey() + record2.getStudentNumber() + record2.getSchool());\r\n    \t  }\r\n    \r\n    });\r\n\r\nFor some reason, I don&#39;t have the sorted order. One advised to put spaces in between fields, but why?\r\n\r\nDo you see anything wrong with the code?","title":"Collections.sort with multiple fields","body":"<p>I have a list of \"Report\" objects with three fields (All String type)-</p>\n\n<pre><code>ReportKey\nStudentNumber\nSchool\n</code></pre>\n\n<p>I have a sort code goes like-</p>\n\n<pre><code>Collections.sort(reportList, new Comparator&lt;Report&gt;() {\n\n@Override\npublic int compare(final Report record1, final Report record2) {\n      return (record1.getReportKey() + record1.getStudentNumber() + record1.getSchool())                      \n        .compareTo(record2.getReportKey() + record2.getStudentNumber() + record2.getSchool());\n      }\n\n});\n</code></pre>\n\n<p>For some reason, I don't have the sorted order. One advised to put spaces in between fields, but why?</p>\n\n<p>Do you see anything wrong with the code?</p>\n"},{"tags":["java","maven","jar","buildpath"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1671486905,"post_id":74856344,"comment_id":132106105,"body_markdown":"Do not change the defaults which means changing the src directory. Keep the convention. Meaning your java source files should be located in `src/main/java/&lt;package&gt;` and the unit tests should be located in `src/test/java/&lt;package&gt;`...","body":"Do not change the defaults which means changing the src directory. Keep the convention. Meaning your java source files should be located in <code>src&#47;main&#47;java&#47;&lt;package&gt;</code> and the unit tests should be located in <code>src&#47;test&#47;java&#47;&lt;package&gt;</code>..."},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1671564271,"post_id":74856344,"comment_id":132125218,"body_markdown":"I have never heard of subpackages? \nAnd I cant seem to create them in Eclipse","body":"I have never heard of subpackages?  And I cant seem to create them in Eclipse"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671619470,"post_id":74856344,"comment_id":132136471,"body_markdown":"Your setup is wrong... I see things like `Main.jar/src/` and folders `app`, `logic` and `model` instead of `main` and `test` (default layout in a Maven project; convention)`... and what do you mean by `I have never heard of subpackages?`?","body":"Your setup is wrong... I see things like <code>Main.jar&#47;src&#47;</code> and folders <code>app</code>, <code>logic</code> and <code>model</code> instead of <code>main</code> and <code>test</code> (default layout in a Maven project; convention)<code>... and what do you mean by </code>I have never heard of subpackages?`?"},{"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"score":0,"creation_date":1671649059,"post_id":74856344,"comment_id":132146338,"body_markdown":"you said src/main/java/&lt;package&gt;, but right in the src folder the package are created. main/java would be folders? I have never heard of that.","body":"you said src/main/java/&lt;package&gt;, but right in the src folder the package are created. main/java would be folders? I have never heard of that."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671665295,"post_id":74856344,"comment_id":132150301,"body_markdown":"I strongly recommend to read this: https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","body":"I strongly recommend to read this: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"owner":{"account_id":18355178,"reputation":167,"user_id":13368385,"display_name":"Dahlin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671486332,"creation_date":1671486332,"question_id":74856344,"body_markdown":"Today, I updated my maven project. As a result, any of my exported jars do not work anymore because for some reason the &quot;app&quot; package is now exported into the root directory of my jar, instead of the src directory.\r\n\r\nMy buildpath has not changed.\r\n\r\n[![as you can see the app package is in the root][1]][1]\r\n\r\n\r\nAs you can see, the app package is in the root directory. This folder contains all classes of the package.\r\n\r\nBut also, the app package is in the src folder. However it only contains my messages.properties file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YDVcq.png\r\n  [2]: https://i.stack.imgur.com/cxXJB.png\r\n\r\nI export my runnable jars via Export &gt; Export runnable jar, as I always do.\r\n\r\n\r\nMy pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;BMAnalyze&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;BMAnalyze&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;19&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JavaFx --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;win&lt;/classifier&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.27&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.dhorions&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;boxable&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nMaybe someone can help me with this? Let me know if you need more information. Thank you","title":"Java Jar creation - package not in src folder","body":"<p>Today, I updated my maven project. As a result, any of my exported jars do not work anymore because for some reason the &quot;app&quot; package is now exported into the root directory of my jar, instead of the src directory.</p>\n<p>My buildpath has not changed.</p>\n<p><a href=\"https://i.stack.imgur.com/YDVcq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDVcq.png\" alt=\"as you can see the app package is in the root\" /></a></p>\n<p>As you can see, the app package is in the root directory. This folder contains all classes of the package.</p>\n<p>But also, the app package is in the src folder. However it only contains my messages.properties file.</p>\n<p><a href=\"https://i.stack.imgur.com/cxXJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cxXJB.png\" alt=\"enter image description here\" /></a></p>\n<p>I export my runnable jars via Export &gt; Export runnable jar, as I always do.</p>\n<p>My pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;BMAnalyze&lt;/groupId&gt;\n&lt;artifactId&gt;BMAnalyze&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;19&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n        &lt;version&gt;4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JavaFx --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n        &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n        &lt;version&gt;19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n        &lt;version&gt;2.0.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.dhorions&lt;/groupId&gt;\n        &lt;artifactId&gt;boxable&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Maybe someone can help me with this? Let me know if you need more information. Thank you</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9706418,"reputation":71,"user_id":7199721,"display_name":"Rudra Saraswat"},"score":0,"creation_date":1585813109,"post_id":10231309,"comment_id":107895752,"body_markdown":"Do not mix the click events!","body":"Do not mix the click events!"}],"answers":[{"tags":[],"owner":{"account_id":1022487,"reputation":2126,"user_id":1032480,"accept_rate":82,"display_name":"Erwald"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580394365,"creation_date":1334848957,"answer_id":10231374,"question_id":10231309,"body_markdown":"Use something like this :\r\n\r\n\r\n       public void onClick(View v) {\r\n                // TODO Auto-generated method stub\r\n               startActivity(new Intent(&quot;com.droidnova.android.splashscreen.MyApp&quot;));\r\n            }","title":"Android Button Onclick","body":"<p>Use something like this :</p>\n\n<pre><code>   public void onClick(View v) {\n            // TODO Auto-generated method stub\n           startActivity(new Intent(\"com.droidnova.android.splashscreen.MyApp\"));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467033,"reputation":4293,"user_id":872142,"accept_rate":100,"display_name":"Sam Clewlow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334849298,"creation_date":1334849298,"answer_id":10231489,"question_id":10231309,"body_markdown":"It would be helpful to know what code you are trying to execute when the button is pressed. You&#39;ve got the onClick property set in your xml file to a method called setLogin. For clarity, I&#39;d delete this line `android:onClick=&quot;setLogin&quot;` and call the method directly from inside your `onClick()` method.\r\n\r\nAlso you can&#39;t just set the display to a new XML, you need to start a new activity with an Intent, a method something like this would be appropriate\r\n\r\n     private void setLogin() {\r\n     \r\n     Intent i = new Intent(currentActivity.this, newActivity.class);\r\n     startActivty(i);\r\n     \r\n     }\r\n\r\nThen set the new Activity to have the new layout.\r\n\r\n","title":"Android Button Onclick","body":"<p>It would be helpful to know what code you are trying to execute when the button is pressed. You've got the onClick property set in your xml file to a method called setLogin. For clarity, I'd delete this line <code>android:onClick=\"setLogin\"</code> and call the method directly from inside your <code>onClick()</code> method.</p>\n\n<p>Also you can't just set the display to a new XML, you need to start a new activity with an Intent, a method something like this would be appropriate</p>\n\n<pre><code> private void setLogin() {\n\n Intent i = new Intent(currentActivity.this, newActivity.class);\n startActivty(i);\n\n }\n</code></pre>\n\n<p>Then set the new Activity to have the new layout.</p>\n"},{"tags":[],"owner":{"account_id":435633,"reputation":3696,"user_id":822327,"accept_rate":67,"display_name":"alishaik786"},"down_vote_count":1,"up_vote_count":111,"is_accepted":false,"score":110,"last_activity_date":1334892654,"creation_date":1334851334,"answer_id":10232111,"question_id":10231309,"body_markdown":"&gt; If you write like this in Button tag in xml file :   **android:onClick=&quot;setLogin&quot;** then\r\n\r\nDo like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n     \r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/btn&quot;\r\n        android:onClick=&quot;onClickBtn&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nand in Code part:\r\n\r\n    public class StartUpActivity extends Activity \r\n    {\r\n\t    public void onCreate(Bundle savedInstanceState) \r\n\t    {\r\n\t       super.onCreate(savedInstanceState);\r\n\t       setContentView(R.layout.main);    \r\n\t    }\r\n\t\r\n\t    public void onClickBtn(View v)\r\n\t    {\r\n\t\t    Toast.makeText(this, &quot;Clicked on Button&quot;, Toast.LENGTH_LONG).show();\r\n\t    } \r\n    }\r\n\r\nand no need all this:\r\n\r\n     Button button = (Button) findViewById(R.id.button1);\r\n     button.setOnClickListener(new OnClickListener() {\r\n\r\n        public void onClick(View v) {\r\n            // TODO Auto-generated method stub\r\n\r\n        }\r\n     });\r\n\r\nCheck it once;","title":"Android Button Onclick","body":"<blockquote>\n  <p>If you write like this in Button tag in xml file :   <strong>android:onClick=\"setLogin\"</strong> then</p>\n</blockquote>\n\n<p>Do like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"fill_parent\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;Button\n    android:id=\"@+id/button1\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/btn\"\n    android:onClick=\"onClickBtn\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and in Code part:</p>\n\n<pre><code>public class StartUpActivity extends Activity \n{\n    public void onCreate(Bundle savedInstanceState) \n    {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.main);    \n    }\n\n    public void onClickBtn(View v)\n    {\n        Toast.makeText(this, \"Clicked on Button\", Toast.LENGTH_LONG).show();\n    } \n}\n</code></pre>\n\n<p>and no need all this:</p>\n\n<pre><code> Button button = (Button) findViewById(R.id.button1);\n button.setOnClickListener(new OnClickListener() {\n\n    public void onClick(View v) {\n        // TODO Auto-generated method stub\n\n    }\n });\n</code></pre>\n\n<p>Check it once;</p>\n"},{"tags":[],"owner":{"account_id":6913445,"reputation":589,"user_id":5308530,"display_name":"Half Moon"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1441620221,"creation_date":1441620221,"answer_id":32435959,"question_id":10231309,"body_markdown":"**Method 1:**\r\n\r\n \r\n\r\n    public void onClick(View v) {\r\n              Intent i = new Intent(currentActivity.this, SecondActivity.class);\r\n             startActivty(i);\r\n            }\r\n\r\n**Method 2:**\r\n\r\n    Button button = (Button) findViewById(R.id.mybutton);\r\n     button.setOnClickListener(new OnClickListener() {\r\n    \r\n        public void onClick(View v) {\r\n             Toast.makeText(this, &quot;Button Clicked&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n        }\r\n     });","title":"Android Button Onclick","body":"<p><strong>Method 1:</strong></p>\n\n<pre><code>public void onClick(View v) {\n          Intent i = new Intent(currentActivity.this, SecondActivity.class);\n         startActivty(i);\n        }\n</code></pre>\n\n<p><strong>Method 2:</strong></p>\n\n<pre><code>Button button = (Button) findViewById(R.id.mybutton);\n button.setOnClickListener(new OnClickListener() {\n\n    public void onClick(View v) {\n         Toast.makeText(this, \"Button Clicked\", Toast.LENGTH_LONG).show();\n\n    }\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1479455449,"creation_date":1479455449,"answer_id":40671886,"question_id":10231309,"body_markdown":"You need to make the same method name **both** in layout XML and java code.\r\n\r\nIf you use `android:onClick=&quot;setLogin&quot;` then you need to make a method with the same name, **setLogin**:\r\n\r\n    // Please be noted that you need to add the &quot;View v&quot; parameter\r\n    public void setLogin(View v) {\r\n    \r\n    }\r\n\r\n**ADVICE:**  \r\nDo not mix layout with code by using `android:onClick` tag in your XML. Instead, move the click method to your class with `OnClickListener` method like:\r\n\r\n    Button button = (Button) findViewById(R.id.button1);\r\n    button.setOnClickListener(new OnClickListener() {\r\n      public void onClick(View v) {\r\n        // TODO Auto-generated method stub\r\n      }\r\n     });\r\n\r\nMake a layout just for layout and no more. It will save your precious time when you need to refactoring for [Supporting Multiple Screens](https://developer.android.com/guide/practices/screens_support.html). ","title":"Android Button Onclick","body":"<p>You need to make the same method name <strong>both</strong> in layout XML and java code.</p>\n\n<p>If you use <code>android:onClick=\"setLogin\"</code> then you need to make a method with the same name, <strong>setLogin</strong>:</p>\n\n<pre><code>// Please be noted that you need to add the \"View v\" parameter\npublic void setLogin(View v) {\n\n}\n</code></pre>\n\n<p><strong>ADVICE:</strong><br>\nDo not mix layout with code by using <code>android:onClick</code> tag in your XML. Instead, move the click method to your class with <code>OnClickListener</code> method like:</p>\n\n<pre><code>Button button = (Button) findViewById(R.id.button1);\nbutton.setOnClickListener(new OnClickListener() {\n  public void onClick(View v) {\n    // TODO Auto-generated method stub\n  }\n });\n</code></pre>\n\n<p>Make a layout just for layout and no more. It will save your precious time when you need to refactoring for <a href=\"https://developer.android.com/guide/practices/screens_support.html\" rel=\"noreferrer\">Supporting Multiple Screens</a>. </p>\n"},{"tags":[],"owner":{"account_id":9706418,"reputation":71,"user_id":7199721,"display_name":"Rudra Saraswat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1513267706,"creation_date":1479900350,"answer_id":40763230,"question_id":10231309,"body_markdown":"There are two solutions for this are :-\r\n\r\n**(1)** do not put onClick in xml\r\n\r\n**(2)** remove \r\n\r\n    button.setOnClickListener(new OnClickListener() {\r\n        public void onClick(View v) {\r\n                // TODO Auto-generated method stub\r\n        }\r\n    });\r\nand put\r\n\r\n    public void setLogin(View v) {\r\n        // Your code here\r\n    }","title":"Android Button Onclick","body":"<p>There are two solutions for this are :-</p>\n\n<p><strong>(1)</strong> do not put onClick in xml</p>\n\n<p><strong>(2)</strong> remove </p>\n\n<pre><code>button.setOnClickListener(new OnClickListener() {\n    public void onClick(View v) {\n            // TODO Auto-generated method stub\n    }\n});\n</code></pre>\n\n<p>and put</p>\n\n<pre><code>public void setLogin(View v) {\n    // Your code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10156393,"reputation":11,"user_id":7501359,"display_name":"Super Turtle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486045435,"creation_date":1486045435,"answer_id":42004697,"question_id":10231309,"body_markdown":"this will sort it for you\r\n\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        Button but1=(Button)findViewById(R.id.button1);\r\n\r\n        but1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent int1= new Intent(MainActivity.this,xxactivity.class);\r\n                startActivity(int1);\r\n            }\r\n        });\r\n    }\r\n\r\nYou just need to amend the xxactivity to the name of your second activity","title":"Android Button Onclick","body":"<p>this will sort it for you</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button but1=(Button)findViewById(R.id.button1);\n\n    but1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent int1= new Intent(MainActivity.this,xxactivity.class);\n            startActivity(int1);\n        }\n    });\n}\n</code></pre>\n\n<p>You just need to amend the xxactivity to the name of your second activity</p>\n"},{"tags":[],"owner":{"account_id":12170600,"reputation":849,"user_id":8885420,"display_name":"Shrawan Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556536267,"creation_date":1556536267,"answer_id":55902125,"question_id":10231309,"body_markdown":"Use **Layout inflater** method in your button click. it will change your current .xml to targeted .xml file. \r\nGoogle for layout inflater code.","title":"Android Button Onclick","body":"<p>Use <strong>Layout inflater</strong> method in your button click. it will change your current .xml to targeted .xml file. \nGoogle for layout inflater code.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585437575,"creation_date":1585427032,"answer_id":60906565,"question_id":10231309,"body_markdown":"Here is some sample code of how to add a button named Add.\r\nYou should declare the variable as a member variable, and the naming convention for member variables is to start with the letter &quot;m&quot;.\r\n\r\nHit Alt+Enter on the classes to add the missing references.\r\n\r\nAdd this to your activity_main.xml:\r\n   \r\n\r\n     &lt;Button\r\n            android:id=&quot;@+id/buttonAdd&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;ADD&quot;\r\n         /&gt;\r\n\r\nAdd this to your MainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button mButtonAdd; \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mButtonAdd = findViewById(R.id.buttonAdd);\r\n\r\n            mButtonAdd.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    // do something here\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Android Button Onclick","body":"<p>Here is some sample code of how to add a button named Add.\nYou should declare the variable as a member variable, and the naming convention for member variables is to start with the letter \"m\".</p>\n\n<p>Hit Alt+Enter on the classes to add the missing references.</p>\n\n<p>Add this to your activity_main.xml:</p>\n\n<pre><code> &lt;Button\n        android:id=\"@+id/buttonAdd\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ADD\"\n     /&gt;\n</code></pre>\n\n<p>Add this to your MainActivity.java:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button mButtonAdd; \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mButtonAdd = findViewById(R.id.buttonAdd);\n\n        mButtonAdd.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                // do something here\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1419292,"reputation":551,"user_id":1344259,"display_name":"user1344259"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292861,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":9,"score":55,"last_activity_date":1671485889,"creation_date":1334848780,"question_id":10231309,"body_markdown":"I&#39;m having problems with on click method. I want my button, when it&#39;s clicked on the phone to switch the layout view from main.xml to xx.xml\r\n\r\n    package my.project;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    \r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    \r\n    public class ExperiencerlActivity extends Activity {\r\n        /** Called when the activ`enter code here`ity is first created. */\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);      \r\n            Button button = (Button) findViewById(R.id.button1);\r\n    \r\n            button.setOnClickListener(new OnClickListener() {\r\n                public void onClick(View v) {\r\n                    // TODO Auto-generated method stub\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nHere is my button code\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/linearLayout1&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;56dp&quot;\r\n        android:onClick=&quot;setLogin&quot;\r\n        android:text=&quot;Login&quot; /&gt;","title":"Android Button Onclick","body":"<p>I'm having problems with on click method. I want my button, when it's clicked on the phone to switch the layout view from main.xml to xx.xml</p>\n<pre><code>package my.project;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\n\npublic class ExperiencerlActivity extends Activity {\n    /** Called when the activ`enter code here`ity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);      \n        Button button = (Button) findViewById(R.id.button1);\n\n        button.setOnClickListener(new OnClickListener() {\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n            }\n        });\n    }\n}\n</code></pre>\n<p>Here is my button code</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/button1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_above=&quot;@+id/linearLayout1&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_marginBottom=&quot;56dp&quot;\n    android:onClick=&quot;setLogin&quot;\n    android:text=&quot;Login&quot; /&gt;\n</code></pre>\n"},{"tags":["java","android","docker","gradle","github-actions"],"comments":[{"owner":{"account_id":1758597,"reputation":852,"user_id":1606260,"display_name":"lukee"},"score":0,"creation_date":1671452128,"post_id":74801012,"comment_id":132095105,"body_markdown":"`using docker` - did you copy/mount all the files needed? I&#39;d need to see the whole GH Action.","body":"<code>using docker</code> - did you copy/mount all the files needed? I&#39;d need to see the whole GH Action."},{"owner":{"account_id":14035367,"reputation":2877,"user_id":10138208,"display_name":"David Ibrahim"},"score":0,"creation_date":1671454119,"post_id":74801012,"comment_id":132095689,"body_markdown":"@lukee the strange thing is that if I removed the services module and merged the code in the app module, it works without a problem. I added the GitHub action file to the question.","body":"@lukee the strange thing is that if I removed the services module and merged the code in the app module, it works without a problem. I added the GitHub action file to the question."},{"owner":{"account_id":4038453,"reputation":2534,"user_id":3321991,"accept_rate":83,"display_name":"tamtom"},"score":0,"creation_date":1675924156,"post_id":74801012,"comment_id":133033143,"body_markdown":"any updates? still facing the same issue","body":"any updates? still facing the same issue"},{"owner":{"account_id":14035367,"reputation":2877,"user_id":10138208,"display_name":"David Ibrahim"},"score":0,"creation_date":1675935925,"post_id":74801012,"comment_id":133036150,"body_markdown":"@tamtom No, still stuck","body":"@tamtom No, still stuck"},{"owner":{"account_id":4038453,"reputation":2534,"user_id":3321991,"accept_rate":83,"display_name":"tamtom"},"score":0,"creation_date":1676104252,"post_id":74801012,"comment_id":133073767,"body_markdown":"@DavidIbrahim we were able to solve the issue, my issue was the directory name on GitHub was all small latter, while the module name has some capital characters, it seems the environment of GitHub action is case sensitive, so changing the directory and the module name to lower case worked","body":"@DavidIbrahim we were able to solve the issue, my issue was the directory name on GitHub was all small latter, while the module name has some capital characters, it seems the environment of GitHub action is case sensitive, so changing the directory and the module name to lower case worked"}],"owner":{"account_id":14035367,"reputation":2877,"user_id":10138208,"display_name":"David Ibrahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1671485762,"creation_date":1671033746,"question_id":74801012,"body_markdown":"I am trying to build the app in github actions but I am facing an error which doesn&#39;t happen to me on my device when I run `gradlew assembleDebug --stacktrace`\r\n```\r\nCould not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve project :services.\r\n     Required by:\r\n         project :app\r\n      &gt; No matching configuration of project :services was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute &#39;com.android.build.api.attributes.BuildTypeAttr&#39; with value &#39;debug&#39;, attribute &#39;org.jetbrains.kotlin.platform.type&#39; with value &#39;androidJvm&#39; but:\r\n          - None of the consumable configurations have attributes.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n```\r\n\r\nThe project is a multimodule app\r\n\r\nHere is the services gradle file \r\n```\r\nimport dependencies.Apollo\r\nimport dependencies.Dependencies\r\nimport dependencies.RoomDependencies\r\nimport dependencies.Versions\r\n\r\nplugins {\r\n    id(&quot;com.android.library&quot;)\r\n    id(&quot;kotlin-android&quot;)\r\n    id(&quot;com.apollographql.apollo3&quot;)\r\n    id(&quot;org.jlleitschuh.gradle.ktlint&quot;)\r\n    id &#39;kotlin-kapt&#39;\r\n}\r\napollo {\r\n    useVersion2Compat()\r\n    generateKotlinModels.set(true)\r\n    srcDir(&quot;src/main/graphql&quot;)\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion Versions.compilesdk\r\n    buildToolsVersion Versions.buildTools\r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n        freeCompilerArgs = [&quot;-Xallow-result-return-type&quot;]\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    buildTypes {\r\n        release {\r\n              }\r\n        debug {\r\n\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_11\r\n    targetCompatibility = JavaVersion.VERSION_11\r\n}\r\ndependencies {\r\n    kapt(&quot;com.apollographql.apollo3:apollo-runtime:3.2.1&quot;)\r\n    implementation(Apollo.APOLLO_CACHE)\r\n    implementation(Apollo.APOLLO_SQL)\r\n    implementation project( &quot;:linguisticdomain&quot;)\r\n    // retrofit\r\n    implementation(Dependencies.retrofit)\r\n    implementation(&quot;com.google.android.gms:play-services-location:18.0.0&quot;)\r\n\r\n    // room\r\n    implementation(RoomDependencies.room_ktx)\r\n    implementation(RoomDependencies.room_runtime)\r\n    kapt(RoomDependencies.room_compiler)\r\n    implementation(RoomDependencies.ROOM_TEST)\r\n}\r\n```\r\nHere is the app gradle file\r\n```\r\nimport dependencies.*\r\nimport dependencies.dependencies.SupportDependencies\r\nimport dependencies.dependencies.TestDependencies\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &#39;kotlin-kapt&#39;\r\n    id &quot;androidx.navigation.safeargs&quot;\r\n    id &#39;dagger.hilt.android.plugin&#39;\r\n    id &#39;com.google.gms.google-services&#39;  // Google Services plugin\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n    id &#39;org.jlleitschuh.gradle.ktlint&#39;\r\n}\r\n\r\n\r\nandroid {\r\n    compileSdkVersion Versions.compilesdk\r\n    buildToolsVersion Versions.buildTools\r\n\r\n\r\n    buildFeatures {\r\n        compose true\r\n        dataBinding = true\r\n        viewBinding = true\r\n\r\n    }\r\n\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n        freeCompilerArgs = [&quot;-Xallow-result-return-type&quot;]\r\n    }\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    defaultConfig {\r\n        applicationId Application.id\r\n        minSdkVersion Versions.minsdk\r\n        targetSdkVersion Versions.targetsdk\r\n        versionCode Application.version_code\r\n        versionName &quot;1.0.2&quot;\r\n\r\n        testInstrumentationRunner AndroidTestDependencies.instrumentation_runner\r\n\r\n        // ...\r\n        // Set the properties within `local.properties` into a `Properties` class so that values\r\n        // within `local.properties` (e.g. Maps API key) are accessible in this file.\r\n        Properties properties = new Properties()\r\n        if (rootProject.file(&quot;local.properties&quot;).exists()) {\r\n            properties.load(rootProject.file(&quot;local.properties&quot;).newDataInputStream())\r\n        }\r\n\r\n        // Inject the Maps API key into the manifest\r\n        manifestPlaceholders = [mapsApiKey: properties.getProperty(&quot;MAPS_API_KEY&quot;, &quot;&quot;)]\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            manifestPlaceholders = [crashlyticsCollectionEnabled: &quot;true&quot;]\r\n        }\r\n        debug {\r\n            manifestPlaceholders = [crashlyticsCollectionEnabled: &quot;true&quot;]\r\n        }\r\n    }\r\n\r\n    composeOptions {\r\n        kotlinCompilerVersion Versions.kotlin\r\n        kotlinCompilerExtensionVersion Compose.version\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation project( &quot;:linguisticdomain&quot;)\r\n    implementation project( &quot;:services&quot;)\r\n\r\n    // Kotlin\r\n    implementation Dependencies.kotlin_standard_library\r\n    implementation Dependencies.ktx\r\n    //implementation Dependencies.kotlin_extensions\r\n\r\n    //support\r\n    implementation SupportDependencies.appcompat\r\n    implementation SupportDependencies.constraintlayout\r\n    implementation SupportDependencies.material_design\r\n    implementation SupportDependencies.legacy_support\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.coordinatorlayout:coordinatorlayout:1.1.0&#39;\r\n\r\n\r\n\r\n\r\n    //test\r\n    testImplementation TestDependencies.junit4\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n\r\n    //navigation\r\n    implementation Dependencies.navigation_fragment\r\n    implementation Dependencies.navigation_ui\r\n\r\n    //ktx\r\n    implementation Dependencies.fragment_ktx\r\n    //apollo\r\n    implementation(&quot;com.apollographql.apollo3:apollo-runtime:3.2.1&quot;)\r\n    implementation(Apollo.APOLLO_CACHE)\r\n    implementation(Apollo.APOLLO_SQL)\r\n\r\n    compileOnly &quot;org.jetbrains:annotations:16.0.1&quot;\r\n\r\n    //Build interactive settings screens without needing to interact with device storage or manage the UI.\r\n    implementation Dependencies.android_preferences\r\n\r\n    testCompileOnly &quot;org.jetbrains:annotations:16.0.1&quot;\r\n\r\n    //debugging\r\n    implementation Dependencies.timber\r\n    //view_pager2\r\n    implementation Dependencies.view_pager2\r\n    // retrofit\r\n    implementation Dependencies.retrofit\r\n    implementation Dependencies.converter_moshi\r\n\r\n    implementation &quot;com.squareup.moshi:moshi:1.9.2&quot;\r\n    implementation &quot;com.squareup.moshi:moshi-kotlin:1.9.2&quot;\r\n\r\n    implementation &quot;com.squareup.retrofit2:converter-scalars:2.3.0&quot;\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:4.7.2&#39;\r\n\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:5.15.3&#39;\r\n\r\n    implementation Dependencies.kotlin_coroutines_android\r\n    implementation &#39;com.facebook.android:facebook-login:5.15.3&#39;\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n\r\n\r\n    implementation Compose.compose_ui\r\n    implementation Compose.compose_tooling\r\n    implementation Compose.compose_foundation\r\n    implementation Compose.compose_material\r\n    implementation Compose.compose_material_icons\r\n    implementation Compose.compose_material_icons_ext\r\n    implementation Compose.compose_activity\r\n    implementation Compose.compose_viewModel\r\n    implementation Compose.compose_livedata\r\n    implementation Compose.constraint_layout\r\n    implementation Compose.compose_run_time\r\n    implementation &quot;androidx.navigation:navigation-compose:2.6.0-alpha03&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.5.1&quot;\r\n    implementation &#39;androidx.hilt:hilt-navigation-compose:1.0.0&#39;\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&#39;\r\n\r\n    implementation &#39;com.sagar:coroutinespermission:2.0.3&#39;\r\n\r\n\r\n\r\n    // UI Tests\r\n    //   androidTestImplementation &#39;androidx.ui:ui-test:1.0.0-alpha05&#39;\r\n    androidTestImplementation TestDependencies.arch_core_testing\r\n\r\n    implementation &quot;com.google.dagger:hilt-android:2.42&quot;\r\n    kapt &quot;com.google.dagger:hilt-android-compiler:2.42&quot;\r\n\r\n\r\n    implementation &#39;androidx.hilt:hilt-work:1.0.0&#39;\r\n    //this gets warning https://stackoverflow.com/questions/49602410/when-should-we-use-android-arch-lifecyclecompiler-or-android-arch-lifecycleco\r\n//    kapt &quot;androidx.lifecycle:lifecycle-compiler:2.2.0&quot;\r\n    implementation Dependencies.work_manager\r\n    implementation Dependencies.lottie_compose\r\n    implementation Dependencies.lottie\r\n    implementation Accompanist.insets\r\n    implementation Accompanist.navigation_animation\r\n    implementation Accompanist.coil\r\n\r\n    implementation GoogleMaps.maps\r\n    implementation GoogleMaps.mapsKtx\r\n    implementation &quot;com.github.PhilJay:MPAndroidChart:v3.1.0-alpha&quot;\r\n    implementation &quot;io.github.vanpra.compose-material-dialogs:datetime:0.4.0&quot;\r\n\r\n    //firebase\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation(&quot;com.google.firebase:firebase-iid&quot;)\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:20.0.2&#39;\r\n\r\n    //pusher beams\r\n    implementation &#39;com.pusher:push-notifications-android:1.6.2&#39;\r\n\r\n    // Activity Compose\r\n    implementation &quot;androidx.activity:activity-compose:1.5.1&quot;\r\n\r\n    // CameraX\r\n    implementation &quot;androidx.camera:camera-camera2:1.0.2&quot;\r\n    implementation &quot;androidx.camera:camera-lifecycle:1.0.2&quot;\r\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha31&quot;\r\n\r\n    // qrcode\r\n    implementation(&#39;com.journeyapps:zxing-android-embedded:4.1.0&#39;) { transitive = false }\r\n    implementation &#39;com.google.zxing:core:3.3.3&#39;\r\n    implementation &#39;androidmads.library.qrgenearator:QRGenearator:1.0.3&#39;\r\n\r\n}\r\nkapt {\r\n    correctErrorTypes true\r\n    generateStubs = true\r\n\r\n}\r\n```\r\nThe github action code\r\n```\r\nname: Distribute to app distribution\r\n\r\non:\r\n  pull_request:\r\n\r\n\r\njobs:\r\n  distribute:\r\n    runs-on: ubuntu-latest\r\n    container: alvrme/alpine-android:android-33-jdk11\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n\r\n      - name: Cache Gradle\r\n        uses: actions/cache@v1\r\n        with:\r\n          path: ~/.gradle/caches/\r\n          key: cache-clean-gradle-${{ matrix.os }}-${{ matrix.jdk }}\r\n\r\n      - name: Cache Gradle Wrapper\r\n        uses: actions/cache@v1\r\n        with:\r\n          path: ~/.gradle/wrapper/\r\n          key: cache-clean-wrapper-${{ matrix.os }}-${{ matrix.jdk }}\r\n\r\n      - name: Grant Permission to Execute\r\n        run: chmod +x gradlew\r\n\r\n      - name: Distribute app with &#128293; App Distribution &#128640;\r\n        run: |\r\n          extras fastlane\r\n          fastlane android increment_release_name\r\n          fastlane android distribute\r\n```\r\n\r\nAnd that&#39;s the complete [stack trace](https://gist.github.com/DavidIbrahim/98a13e2a0fde190e83c0ebd4e3f93c00)\r\n","title":"Unable to build android app in github actions, No matching configuration of project services was found","body":"<p>I am trying to build the app in github actions but I am facing an error which doesn't happen to me on my device when I run <code>gradlew assembleDebug --stacktrace</code></p>\n<pre><code>Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\n   &gt; Could not resolve project :services.\n     Required by:\n         project :app\n      &gt; No matching configuration of project :services was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute 'com.android.build.api.attributes.BuildTypeAttr' with value 'debug', attribute 'org.jetbrains.kotlin.platform.type' with value 'androidJvm' but:\n          - None of the consumable configurations have attributes.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n</code></pre>\n<p>The project is a multimodule app</p>\n<p>Here is the services gradle file</p>\n<pre><code>import dependencies.Apollo\nimport dependencies.Dependencies\nimport dependencies.RoomDependencies\nimport dependencies.Versions\n\nplugins {\n    id(&quot;com.android.library&quot;)\n    id(&quot;kotlin-android&quot;)\n    id(&quot;com.apollographql.apollo3&quot;)\n    id(&quot;org.jlleitschuh.gradle.ktlint&quot;)\n    id 'kotlin-kapt'\n}\napollo {\n    useVersion2Compat()\n    generateKotlinModels.set(true)\n    srcDir(&quot;src/main/graphql&quot;)\n}\n\nandroid {\n    compileSdkVersion Versions.compilesdk\n    buildToolsVersion Versions.buildTools\n    kotlinOptions {\n        jvmTarget = '11'\n        freeCompilerArgs = [&quot;-Xallow-result-return-type&quot;]\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    buildTypes {\n        release {\n              }\n        debug {\n\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\njava {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\ndependencies {\n    kapt(&quot;com.apollographql.apollo3:apollo-runtime:3.2.1&quot;)\n    implementation(Apollo.APOLLO_CACHE)\n    implementation(Apollo.APOLLO_SQL)\n    implementation project( &quot;:linguisticdomain&quot;)\n    // retrofit\n    implementation(Dependencies.retrofit)\n    implementation(&quot;com.google.android.gms:play-services-location:18.0.0&quot;)\n\n    // room\n    implementation(RoomDependencies.room_ktx)\n    implementation(RoomDependencies.room_runtime)\n    kapt(RoomDependencies.room_compiler)\n    implementation(RoomDependencies.ROOM_TEST)\n}\n</code></pre>\n<p>Here is the app gradle file</p>\n<pre><code>import dependencies.*\nimport dependencies.dependencies.SupportDependencies\nimport dependencies.dependencies.TestDependencies\n\nplugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id &quot;androidx.navigation.safeargs&quot;\n    id 'dagger.hilt.android.plugin'\n    id 'com.google.gms.google-services'  // Google Services plugin\n    id 'com.google.firebase.crashlytics'\n    id 'org.jlleitschuh.gradle.ktlint'\n}\n\n\nandroid {\n    compileSdkVersion Versions.compilesdk\n    buildToolsVersion Versions.buildTools\n\n\n    buildFeatures {\n        compose true\n        dataBinding = true\n        viewBinding = true\n\n    }\n\n\n    kotlinOptions {\n        jvmTarget = '11'\n        freeCompilerArgs = [&quot;-Xallow-result-return-type&quot;]\n    }\n\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    defaultConfig {\n        applicationId Application.id\n        minSdkVersion Versions.minsdk\n        targetSdkVersion Versions.targetsdk\n        versionCode Application.version_code\n        versionName &quot;1.0.2&quot;\n\n        testInstrumentationRunner AndroidTestDependencies.instrumentation_runner\n\n        // ...\n        // Set the properties within `local.properties` into a `Properties` class so that values\n        // within `local.properties` (e.g. Maps API key) are accessible in this file.\n        Properties properties = new Properties()\n        if (rootProject.file(&quot;local.properties&quot;).exists()) {\n            properties.load(rootProject.file(&quot;local.properties&quot;).newDataInputStream())\n        }\n\n        // Inject the Maps API key into the manifest\n        manifestPlaceholders = [mapsApiKey: properties.getProperty(&quot;MAPS_API_KEY&quot;, &quot;&quot;)]\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            manifestPlaceholders = [crashlyticsCollectionEnabled: &quot;true&quot;]\n        }\n        debug {\n            manifestPlaceholders = [crashlyticsCollectionEnabled: &quot;true&quot;]\n        }\n    }\n\n    composeOptions {\n        kotlinCompilerVersion Versions.kotlin\n        kotlinCompilerExtensionVersion Compose.version\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project( &quot;:linguisticdomain&quot;)\n    implementation project( &quot;:services&quot;)\n\n    // Kotlin\n    implementation Dependencies.kotlin_standard_library\n    implementation Dependencies.ktx\n    //implementation Dependencies.kotlin_extensions\n\n    //support\n    implementation SupportDependencies.appcompat\n    implementation SupportDependencies.constraintlayout\n    implementation SupportDependencies.material_design\n    implementation SupportDependencies.legacy_support\n\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.1.0'\n\n\n\n\n    //test\n    testImplementation TestDependencies.junit4\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n\n    //navigation\n    implementation Dependencies.navigation_fragment\n    implementation Dependencies.navigation_ui\n\n    //ktx\n    implementation Dependencies.fragment_ktx\n    //apollo\n    implementation(&quot;com.apollographql.apollo3:apollo-runtime:3.2.1&quot;)\n    implementation(Apollo.APOLLO_CACHE)\n    implementation(Apollo.APOLLO_SQL)\n\n    compileOnly &quot;org.jetbrains:annotations:16.0.1&quot;\n\n    //Build interactive settings screens without needing to interact with device storage or manage the UI.\n    implementation Dependencies.android_preferences\n\n    testCompileOnly &quot;org.jetbrains:annotations:16.0.1&quot;\n\n    //debugging\n    implementation Dependencies.timber\n    //view_pager2\n    implementation Dependencies.view_pager2\n    // retrofit\n    implementation Dependencies.retrofit\n    implementation Dependencies.converter_moshi\n\n    implementation &quot;com.squareup.moshi:moshi:1.9.2&quot;\n    implementation &quot;com.squareup.moshi:moshi-kotlin:1.9.2&quot;\n\n    implementation &quot;com.squareup.retrofit2:converter-scalars:2.3.0&quot;\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.7.2'\n\n    implementation 'com.facebook.android:facebook-android-sdk:5.15.3'\n\n    implementation Dependencies.kotlin_coroutines_android\n    implementation 'com.facebook.android:facebook-login:5.15.3'\n\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.1'\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n\n\n    implementation Compose.compose_ui\n    implementation Compose.compose_tooling\n    implementation Compose.compose_foundation\n    implementation Compose.compose_material\n    implementation Compose.compose_material_icons\n    implementation Compose.compose_material_icons_ext\n    implementation Compose.compose_activity\n    implementation Compose.compose_viewModel\n    implementation Compose.compose_livedata\n    implementation Compose.constraint_layout\n    implementation Compose.compose_run_time\n    implementation &quot;androidx.navigation:navigation-compose:2.6.0-alpha03&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.5.1&quot;\n    implementation 'androidx.hilt:hilt-navigation-compose:1.0.0'\n\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.5.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1'\n\n    implementation 'com.sagar:coroutinespermission:2.0.3'\n\n\n\n    // UI Tests\n    //   androidTestImplementation 'androidx.ui:ui-test:1.0.0-alpha05'\n    androidTestImplementation TestDependencies.arch_core_testing\n\n    implementation &quot;com.google.dagger:hilt-android:2.42&quot;\n    kapt &quot;com.google.dagger:hilt-android-compiler:2.42&quot;\n\n\n    implementation 'androidx.hilt:hilt-work:1.0.0'\n    //this gets warning https://stackoverflow.com/questions/49602410/when-should-we-use-android-arch-lifecyclecompiler-or-android-arch-lifecycleco\n//    kapt &quot;androidx.lifecycle:lifecycle-compiler:2.2.0&quot;\n    implementation Dependencies.work_manager\n    implementation Dependencies.lottie_compose\n    implementation Dependencies.lottie\n    implementation Accompanist.insets\n    implementation Accompanist.navigation_animation\n    implementation Accompanist.coil\n\n    implementation GoogleMaps.maps\n    implementation GoogleMaps.mapsKtx\n    implementation &quot;com.github.PhilJay:MPAndroidChart:v3.1.0-alpha&quot;\n    implementation &quot;io.github.vanpra.compose-material-dialogs:datetime:0.4.0&quot;\n\n    //firebase\n    implementation platform('com.google.firebase:firebase-bom:28.1.0')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation(&quot;com.google.firebase:firebase-iid&quot;)\n    implementation 'com.google.firebase:firebase-messaging:23.0.0'\n    implementation 'com.google.firebase:firebase-core:20.0.2'\n\n    //pusher beams\n    implementation 'com.pusher:push-notifications-android:1.6.2'\n\n    // Activity Compose\n    implementation &quot;androidx.activity:activity-compose:1.5.1&quot;\n\n    // CameraX\n    implementation &quot;androidx.camera:camera-camera2:1.0.2&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:1.0.2&quot;\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha31&quot;\n\n    // qrcode\n    implementation('com.journeyapps:zxing-android-embedded:4.1.0') { transitive = false }\n    implementation 'com.google.zxing:core:3.3.3'\n    implementation 'androidmads.library.qrgenearator:QRGenearator:1.0.3'\n\n}\nkapt {\n    correctErrorTypes true\n    generateStubs = true\n\n}\n</code></pre>\n<p>The github action code</p>\n<pre><code>name: Distribute to app distribution\n\non:\n  pull_request:\n\n\njobs:\n  distribute:\n    runs-on: ubuntu-latest\n    container: alvrme/alpine-android:android-33-jdk11\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Cache Gradle\n        uses: actions/cache@v1\n        with:\n          path: ~/.gradle/caches/\n          key: cache-clean-gradle-${{ matrix.os }}-${{ matrix.jdk }}\n\n      - name: Cache Gradle Wrapper\n        uses: actions/cache@v1\n        with:\n          path: ~/.gradle/wrapper/\n          key: cache-clean-wrapper-${{ matrix.os }}-${{ matrix.jdk }}\n\n      - name: Grant Permission to Execute\n        run: chmod +x gradlew\n\n      - name: Distribute app with 🔥 App Distribution 🚀\n        run: |\n          extras fastlane\n          fastlane android increment_release_name\n          fastlane android distribute\n</code></pre>\n<p>And that's the complete <a href=\"https://gist.github.com/DavidIbrahim/98a13e2a0fde190e83c0ebd4e3f93c00\" rel=\"nofollow noreferrer\">stack trace</a></p>\n"},{"tags":["java","javassist","javaagents"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1671489972,"post_id":74856121,"comment_id":132106762,"body_markdown":"Please add a `try {} catch {}` block around it and log/print it. Instrumentation is known to discard anything that is thrown.","body":"Please add a <code>try {} catch {}</code> block around it and log/print it. Instrumentation is known to discard anything that is thrown."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672667583,"post_id":74856121,"comment_id":132323005,"body_markdown":"`new ClassPool()` causes the loading of the `ClassPool` class which will then be passed to your class file transformer. Since your class file transformer depends on the class unconditionally, there is no other way for the JVM than to ignore your transformer to fix the problem. The first thing your transformer should do, is to inspect the `className` argument, to check whether the class is one you’re interested in (which should exclude the classes your transformer depends on) and return `null` otherwise.","body":"<code>new ClassPool()</code> causes the loading of the <code>ClassPool</code> class which will then be passed to your class file transformer. Since your class file transformer depends on the class unconditionally, there is no other way for the JVM than to ignore your transformer to fix the problem. The first thing your transformer should do, is to inspect the <code>className</code> argument, to check whether the class is one you’re interested in (which should exclude the classes your transformer depends on) and return <code>null</code> otherwise."}],"owner":{"account_id":21459107,"reputation":21,"user_id":15810224,"display_name":"Bumblebee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671484811,"creation_date":1671484811,"question_id":74856121,"body_markdown":"I&#39;m currently trying to write a Java agent for monitoring purposes. I use maven as build system.\r\n\r\nI have a Agent.java file:\r\n\r\n```java\r\n\r\nimport java.lang.instrument.Instrumentation;\r\n\r\npublic class Agent {\r\n\r\n    public static void premain(String args, Instrumentation inst) {\r\n        System.out.println(&quot;Running premain&quot;);\r\n\r\n        MonitorTransformer transformer = new MonitorTransformer();\r\n        inst.addTransformer( transformer );\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd a MonitorTransformer.java file implementing the ClassFileTransformer interface by simply overriding the ```transform``` method. \r\nThis is how the implementation looks like:\r\n\r\n```java\r\n@Override\r\n    public byte[] transform(\r\n        ClassLoader loader,\r\n        String className,\r\n        Class&lt;?&gt; classBeingRedefined,\r\n        ProtectionDomain protectionDomain,\r\n        byte[] classfileBuffer\r\n    ) throws IllegalClassFormatException {\r\n\r\n        System.out.println(&quot;Before ClassPool Instantiation&quot;);\r\n        ClassPool classPool = new ClassPool();\r\n        System.out.println(&quot;After ClassPool Instantiation&quot;);\r\n\r\n        return classfileBuffer;\r\n    }\r\n```\r\n\r\nWhen i run the agent statically by typing the following command\r\n\r\n```\r\njava -javaagent:target/agent.jar -jar example-app.jar\r\n```\r\n\r\nI get the following output:\r\n\r\n```\r\nRunning premain\r\nBefore ClassPool Instantiation\r\nBefore ClassPool Instantiation\r\nBefore ClassPool Instantiation\r\nHello World!\r\nBefore ClassPool Instantiation\r\nBefore ClassPool Instantiation\r\nBefore ClassPool Instantiation\r\nBefore ClassPool Instantiation\r\n```\r\nIt seems the print statement after the ClassPool object is instantiatet is not executed. \r\n** Example class is just printing &quot;Hello World&quot; onto the console\r\n\r\nI have tried other examples provided in the internet, with the same result. Wrapping it into try/catch block doesn&#39;t throw an error either.\r\n","title":"Javassist ClassPool instantiation fails silently","body":"<p>I'm currently trying to write a Java agent for monitoring purposes. I use maven as build system.</p>\n<p>I have a Agent.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.lang.instrument.Instrumentation;\n\npublic class Agent {\n\n    public static void premain(String args, Instrumentation inst) {\n        System.out.println(&quot;Running premain&quot;);\n\n        MonitorTransformer transformer = new MonitorTransformer();\n        inst.addTransformer( transformer );\n    }\n\n}\n</code></pre>\n<p>And a MonitorTransformer.java file implementing the ClassFileTransformer interface by simply overriding the <code>transform</code> method.\nThis is how the implementation looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public byte[] transform(\n        ClassLoader loader,\n        String className,\n        Class&lt;?&gt; classBeingRedefined,\n        ProtectionDomain protectionDomain,\n        byte[] classfileBuffer\n    ) throws IllegalClassFormatException {\n\n        System.out.println(&quot;Before ClassPool Instantiation&quot;);\n        ClassPool classPool = new ClassPool();\n        System.out.println(&quot;After ClassPool Instantiation&quot;);\n\n        return classfileBuffer;\n    }\n</code></pre>\n<p>When i run the agent statically by typing the following command</p>\n<pre><code>java -javaagent:target/agent.jar -jar example-app.jar\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>Running premain\nBefore ClassPool Instantiation\nBefore ClassPool Instantiation\nBefore ClassPool Instantiation\nHello World!\nBefore ClassPool Instantiation\nBefore ClassPool Instantiation\nBefore ClassPool Instantiation\nBefore ClassPool Instantiation\n</code></pre>\n<p>It seems the print statement after the ClassPool object is instantiatet is not executed.\n** Example class is just printing &quot;Hello World&quot; onto the console</p>\n<p>I have tried other examples provided in the internet, with the same result. Wrapping it into try/catch block doesn't throw an error either.</p>\n"},{"tags":["java","parameterized-types"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1671484536,"post_id":74856032,"comment_id":132105464,"body_markdown":"It means &quot;Give me an array of some unspecified type we&#39;ll call `T` and a collection of the same type.&quot;","body":"It means &quot;Give me an array of some unspecified type we&#39;ll call <code>T</code> and a collection of the same type.&quot;"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671484584,"post_id":74856032,"comment_id":132105483,"body_markdown":"It declares that for the code in this method, `T` can represent any type, instead of representing a specific type called `T`.","body":"It declares that for the code in this method, <code>T</code> can represent any type, instead of representing a specific type called <code>T</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1671484625,"post_id":74856032,"comment_id":132105496,"body_markdown":"`&lt;T&gt;` and `void` don&#39;t conflict here, or mean anything to each other","body":"<code>&lt;T&gt;</code> and <code>void</code> don&#39;t conflict here, or mean anything to each other"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1671484255,"answer_count":0,"score":0,"last_activity_date":1671484758,"creation_date":1671484170,"question_id":74856032,"body_markdown":"I&#39;m learning Java generics. I found the first \\&lt;T&gt; to be difficult to understand: if the method returns nothing, what does the \\&lt;T&gt; before void means?\r\n\r\n    public static &lt;T&gt; void fromArrayToCollection(T[] a, Collection&lt;T&gt; c) {\t\t\t\t\t\t\t\r\n        for (T o : a) {\r\n            c.add(o);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Why we need &lt;T&gt; before void?","body":"<p>I'm learning Java generics. I found the first &lt;T&gt; to be difficult to understand: if the method returns nothing, what does the &lt;T&gt; before void means?</p>\n<pre><code>public static &lt;T&gt; void fromArrayToCollection(T[] a, Collection&lt;T&gt; c) {                          \n    for (T o : a) {\n        c.add(o);\n    }\n}\n</code></pre>\n"},{"tags":["java","classpath","testng"],"comments":[{"owner":{"account_id":12581611,"reputation":101,"user_id":9152071,"display_name":"Tilak M Divakar"},"score":0,"creation_date":1560887575,"post_id":7600898,"comment_id":99882206,"body_markdown":"I had the same issue, following these steps helped me solve it.\nhttps://stackoverflow.com/a/56656035/10796893","body":"I had the same issue, following these steps helped me solve it. <a href=\"https://stackoverflow.com/a/56656035/10796893\">stackoverflow.com/a/56656035/10796893</a>"}],"answers":[{"tags":[],"owner":{"account_id":457507,"reputation":3710,"user_id":856873,"display_name":"Baer"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1349436387,"creation_date":1346185996,"answer_id":12167125,"question_id":7600898,"body_markdown":"I just had this problem and I&#39;m pretty confident that it&#39;s a bug in the TestNG Plugin for eclipse, since I was able to run my tests from the command line just fine. \r\n\r\nThe fix that seems to be working for me and others is just to clean your project (`Project` → `Clean`). One person had to re-install the whole plugin.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I just had this problem and I'm pretty confident that it's a bug in the TestNG Plugin for eclipse, since I was able to run my tests from the command line just fine. </p>\n\n<p>The fix that seems to be working for me and others is just to clean your project (<code>Project</code> → <code>Clean</code>). One person had to re-install the whole plugin.</p>\n"},{"tags":[],"owner":{"account_id":1886992,"reputation":231,"user_id":1706016,"display_name":"Hema"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1546024620,"creation_date":1348828821,"answer_id":12638440,"question_id":7600898,"body_markdown":"If your package name is FabFurnishPackage and your class name is registration then the code in xml should be\r\n\r\n    &lt;classes&gt;\r\n    &lt;class name=&quot;FabFurnishPackage.registration&quot;&gt;\r\n    &lt;/classes&gt;\r\n [TestNG] [ERROR]  Cannot find class in classpath: registration\r\n    issue is fixed...","title":"TestNG ERROR Cannot find class in classpath","body":"<p>If your package name is FabFurnishPackage and your class name is registration then the code in xml should be</p>\n\n<pre><code>&lt;classes&gt;\n&lt;class name=\"FabFurnishPackage.registration\"&gt;\n&lt;/classes&gt;\n</code></pre>\n\n<p>[TestNG] [ERROR]  Cannot find class in classpath: registration\n    issue is fixed...</p>\n"},{"tags":[],"owner":{"account_id":1124017,"reputation":639,"user_id":1111705,"accept_rate":46,"display_name":"priti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441185445,"creation_date":1364305206,"answer_id":15638512,"question_id":7600898,"body_markdown":"Before running the command for testng.xml file from command prompt, please check the following if you are missing them\r\n\r\n 1. In the command prompt, make sure you are navigating to the folder where you have placed the testng.xml file.\r\n 2. after navigating to that, `set CLASSPATH` and include the testng jar file location, selenium-server jar file location(if you are working with selenium webdriver), bin folder location of your project which contains all the .class files of your project.  \r\ne.g., `set CLASSPATH=C:\\Selenium\\testng-5.8-jdk15.jar;C:\\Selenium\\selenium-server-standalone-2.31.0.jar;C:\\SeleniumTests\\YourProject\\bin`\r\n 3. Now run the command `java org.testng.TestNG testng.xml. `\r\n\r\nI was into the same situation but the above things worked for me.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>Before running the command for testng.xml file from command prompt, please check the following if you are missing them</p>\n\n<ol>\n<li>In the command prompt, make sure you are navigating to the folder where you have placed the testng.xml file.</li>\n<li>after navigating to that, <code>set CLASSPATH</code> and include the testng jar file location, selenium-server jar file location(if you are working with selenium webdriver), bin folder location of your project which contains all the .class files of your project.<br>\ne.g., <code>set CLASSPATH=C:\\Selenium\\testng-5.8-jdk15.jar;C:\\Selenium\\selenium-server-standalone-2.31.0.jar;C:\\SeleniumTests\\YourProject\\bin</code></li>\n<li>Now run the command <code>java org.testng.TestNG testng.xml.</code></li>\n</ol>\n\n<p>I was into the same situation but the above things worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379585901,"creation_date":1379585901,"answer_id":18892032,"question_id":7600898,"body_markdown":"I had to make a jar file from my test classes and add it to my class path. Previously I added my test class file to class path and then I got above error. So I created a jar and added to classpath.\r\n\r\ne.g\r\n\r\n    java -cp &quot;my_jars/*&quot; org.testng.TestNG testing.xml","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I had to make a jar file from my test classes and add it to my class path. Previously I added my test class file to class path and then I got above error. So I created a jar and added to classpath.</p>\n\n<p>e.g</p>\n\n<pre><code>java -cp \"my_jars/*\" org.testng.TestNG testing.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376111,"reputation":39,"user_id":2834210,"display_name":"Anand Palabhavi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1424855847,"creation_date":1388038603,"answer_id":20780065,"question_id":7600898,"body_markdown":"make sure your suite.xml should not have .java extension\r\n\r\nex :\r\n\r\n    &lt;test name=&quot;Test C1&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.taxi.suiteC.TestCase_C1&quot; &gt;&lt;/class&gt;  \r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n","title":"TestNG ERROR Cannot find class in classpath","body":"<p>make sure your suite.xml should not have .java extension</p>\n\n<p>ex :</p>\n\n<pre><code>&lt;test name=\"Test C1\"&gt;\n    &lt;classes&gt;\n        &lt;class name=\"com.taxi.suiteC.TestCase_C1\" &gt;&lt;/class&gt;  \n    &lt;/classes&gt;\n&lt;/test&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804178,"reputation":1,"user_id":3879840,"display_name":"Mano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406382915,"creation_date":1406382289,"answer_id":24971647,"question_id":7600898,"body_markdown":"Check the class hierarchy. If the package is missing in your class you&#39;ll get this error. So, try to create a new testing class by selecting the package.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>Check the class hierarchy. If the package is missing in your class you'll get this error. So, try to create a new testing class by selecting the package.</p>\n"},{"tags":[],"owner":{"account_id":4726287,"reputation":3384,"user_id":3822810,"accept_rate":0,"display_name":"goodmayhem"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1424907897,"creation_date":1424907897,"answer_id":28731957,"question_id":7600898,"body_markdown":"Just do Eclipse&gt; Project &gt; Clean and then run the test cases again. It should work.\r\n\r\nWhat it does in background is, that it will call mvn eclipse:clean in your project directory which will delete your .project and .classpath files and you can also do a mvn eclipse:eclipse - this regenerates your .project and .classpath files. Thus adding the desired class in the classpath.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>Just do Eclipse> Project > Clean and then run the test cases again. It should work.</p>\n\n<p>What it does in background is, that it will call mvn eclipse:clean in your project directory which will delete your .project and .classpath files and you can also do a mvn eclipse:eclipse - this regenerates your .project and .classpath files. Thus adding the desired class in the classpath.</p>\n"},{"tags":[],"owner":{"account_id":7899562,"reputation":1,"user_id":5967036,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456211230,"creation_date":1456211230,"answer_id":35570944,"question_id":7600898,"body_markdown":"After changing the TestNG Output path(Project Properties--&gt;TestNG--&gt;Output Directory), its worked for me.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>After changing the TestNG Output path(Project Properties-->TestNG-->Output Directory), its worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8226358,"reputation":191,"user_id":6188559,"display_name":"Shri_Automation"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463466983,"creation_date":1463466541,"answer_id":37268678,"question_id":7600898,"body_markdown":"I was facing the same issue and what I tried is as below.\r\n\r\n1. Clean the project (Right click on `pom.xml` and clean)\r\n1. And update the maven project (Project &gt; Maven &gt; Update Maven Project)\r\n\r\nThis solved the issue.\r\n\r\n","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I was facing the same issue and what I tried is as below.</p>\n\n<ol>\n<li>Clean the project (Right click on <code>pom.xml</code> and clean)</li>\n<li>And update the maven project (Project > Maven > Update Maven Project)</li>\n</ol>\n\n<p>This solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":5284169,"reputation":124,"user_id":4218649,"accept_rate":0,"display_name":"Jobin Mathew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465993704,"creation_date":1465993704,"answer_id":37835467,"question_id":7600898,"body_markdown":"I just had this problem and was because the skip test option in the run configuration was checked. made that unchecked and build, then run the testNg, worked.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I just had this problem and was because the skip test option in the run configuration was checked. made that unchecked and build, then run the testNg, worked.</p>\n"},{"tags":[],"owner":{"account_id":8981249,"reputation":1,"user_id":6696405,"display_name":"Abhineet Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470755715,"creation_date":1470755715,"answer_id":38854567,"question_id":7600898,"body_markdown":"I was getting the same error - Cannot find class in classpath:\r\n\r\nSolution: I had committed following mistakes:\r\n\r\n1. My class was not under any package. so i created a package and then created my class under that package.\r\n2. I had not mentioned full path in xml file. ex.  &lt;class name=&quot;snippet.FirstNG&quot;/&gt; . So i also corrected it.\r\n3. Then i right click on xml file and run as TestNG my program executed successfully.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I was getting the same error - Cannot find class in classpath:</p>\n\n<p>Solution: I had committed following mistakes:</p>\n\n<ol>\n<li>My class was not under any package. so i created a package and then created my class under that package.</li>\n<li>I had not mentioned full path in xml file. ex.   . So i also corrected it.</li>\n<li>Then i right click on xml file and run as TestNG my program executed successfully.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9289907,"reputation":11,"user_id":6898638,"display_name":"Sunita Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475142051,"creation_date":1475142051,"answer_id":39766806,"question_id":7600898,"body_markdown":"In my case, the package structure was not proper, it was like folders and sub-folders. I deleted that project and imported again with changing the respective jre. After that it worked for me.\r\ne.g. Folder structure- TestProject \r\n                            -TestSuite1\r\n     Package Structure- TestProject.TestSuite1","title":"TestNG ERROR Cannot find class in classpath","body":"<p>In my case, the package structure was not proper, it was like folders and sub-folders. I deleted that project and imported again with changing the respective jre. After that it worked for me.\ne.g. Folder structure- TestProject \n                            -TestSuite1\n     Package Structure- TestProject.TestSuite1</p>\n"},{"tags":[],"owner":{"account_id":9298621,"reputation":1,"user_id":6904834,"display_name":"nilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475240771,"creation_date":1475240771,"answer_id":39792283,"question_id":7600898,"body_markdown":"i was facing same issue solution is , you need to check testng file,your class created under package in this case class is not found through Test NG. perform below steps just convert your project in to Test NG and over write/rplace with new testNG file. \r\n\r\nAgain run this TestNG in this case it is working my case,","title":"TestNG ERROR Cannot find class in classpath","body":"<p>i was facing same issue solution is , you need to check testng file,your class created under package in this case class is not found through Test NG. perform below steps just convert your project in to Test NG and over write/rplace with new testNG file. </p>\n\n<p>Again run this TestNG in this case it is working my case,</p>\n"},{"tags":[],"owner":{"account_id":2746777,"reputation":433,"user_id":2367036,"accept_rate":33,"display_name":"Uma Senthil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478197220,"creation_date":1478196083,"answer_id":40408334,"question_id":7600898,"body_markdown":"If you have your project open in Eclipse(Mars) IDE:\r\nRight click on the project in eclipse\r\nClick on TestNG\r\nClick on &quot;Convert to TestNG&quot;\r\n\r\nThis creates a new testng.xml file and prompts you to overwrite the existing one (!!!Warning, this will erase your previous testng.xml!!!).\r\nClick Yes.\r\n\r\nRun as Maven test build.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>If you have your project open in Eclipse(Mars) IDE:\nRight click on the project in eclipse\nClick on TestNG\nClick on \"Convert to TestNG\"</p>\n\n<p>This creates a new testng.xml file and prompts you to overwrite the existing one (!!!Warning, this will erase your previous testng.xml!!!).\nClick Yes.</p>\n\n<p>Run as Maven test build.</p>\n"},{"tags":[],"owner":{"account_id":7958532,"reputation":189,"user_id":6007019,"display_name":"sofian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478848391,"creation_date":1478848391,"answer_id":40542937,"question_id":7600898,"body_markdown":"I tried all suggestions above, and it did not work for my case. It turns out that my project build path has an error (one of the dependent jar cannot be found). After fixing that error, testng works again in my Eclipse.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I tried all suggestions above, and it did not work for my case. It turns out that my project build path has an error (one of the dependent jar cannot be found). After fixing that error, testng works again in my Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":9714717,"reputation":1065,"user_id":7205516,"display_name":"Yevhenii Tsybaiev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479994457,"creation_date":1479994457,"answer_id":40787787,"question_id":7600898,"body_markdown":"add to pom:\r\n\r\n            &lt;build&gt;\r\n                &lt;sourceDirectory&gt;${basedir}/src&lt;/sourceDirectory&gt;\r\n                &lt;testSourceDirectory&gt;${basedir}/test&lt;/testSourceDirectory&gt;\r\n                 (...)\r\n                &lt;plugins&gt;\r\n                    (...)\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;","title":"TestNG ERROR Cannot find class in classpath","body":"<p>add to pom:</p>\n\n<pre><code>        &lt;build&gt;\n            &lt;sourceDirectory&gt;${basedir}/src&lt;/sourceDirectory&gt;\n            &lt;testSourceDirectory&gt;${basedir}/test&lt;/testSourceDirectory&gt;\n             (...)\n            &lt;plugins&gt;\n                (...)\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3922153,"reputation":61,"user_id":3243961,"display_name":"Seploid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485321626,"creation_date":1485317851,"answer_id":41843297,"question_id":7600898,"body_markdown":"To avoid the error\r\n\r\n&gt; Cannot find class in classpath: (name of testcase file)\r\n\r\nyou need to hold Runner class and Test class in one place. I mean src and test folders.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>To avoid the error</p>\n\n<blockquote>\n  <p>Cannot find class in classpath: (name of testcase file)</p>\n</blockquote>\n\n<p>you need to hold Runner class and Test class in one place. I mean src and test folders.</p>\n"},{"tags":[],"owner":{"account_id":10720101,"reputation":77,"user_id":7889474,"display_name":"Qaddaffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492671669,"creation_date":1492671669,"answer_id":43512408,"question_id":7600898,"body_markdown":"I ran into the same issue. Whenever I ran my test, it kept saying classes not found in the classpath. I tried to fix the testng.xml file, clean up the project and pretty much everything the answers say here, but none worked. Finally I checked my referenced libraries in build path and there were 34 invalid libraries, turns out I had renamed one of the folders from the path that I had taken the jar files from. I fixed the path and the test ran successfully.\r\n\r\nSo it might be fruitful to check if there are any errors in the referenced jar files before trying the other methods to fix this issue.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I ran into the same issue. Whenever I ran my test, it kept saying classes not found in the classpath. I tried to fix the testng.xml file, clean up the project and pretty much everything the answers say here, but none worked. Finally I checked my referenced libraries in build path and there were 34 invalid libraries, turns out I had renamed one of the folders from the path that I had taken the jar files from. I fixed the path and the test ran successfully.</p>\n\n<p>So it might be fruitful to check if there are any errors in the referenced jar files before trying the other methods to fix this issue.</p>\n"},{"tags":[],"owner":{"account_id":10802900,"reputation":1,"user_id":7946161,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493623821,"creation_date":1493621404,"answer_id":43715391,"question_id":7600898,"body_markdown":"I have faced the similar issue when I tried to execute my Testng.xml file.\r\n\r\nTo fix you should move your class file from default pkg to some other pkg; ie create a new pkg and place your class file there","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I have faced the similar issue when I tried to execute my Testng.xml file.</p>\n\n<p>To fix you should move your class file from default pkg to some other pkg; ie create a new pkg and place your class file there</p>\n"},{"tags":[],"owner":{"account_id":4946197,"reputation":21,"user_id":3981474,"display_name":"Pallavi Goel Rungta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505134722,"creation_date":1499422991,"answer_id":44968429,"question_id":7600898,"body_markdown":"When I converted my project with default pacage and a class named addition,\r\nto testng.xml.\r\nIt got converted as:\r\n\r\n    &lt;classes&gt;\r\n          &lt;class name=&quot;.addition&quot;/&gt;\r\n    &lt;/classes&gt;\r\n\r\nand was throwing error that class cannot be loaded.\r\nIf I remove . before addition, the code works fine.\r\nSo be careful with default package.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>When I converted my project with default pacage and a class named addition,\nto testng.xml.\nIt got converted as:</p>\n\n<pre><code>&lt;classes&gt;\n      &lt;class name=\".addition\"/&gt;\n&lt;/classes&gt;\n</code></pre>\n\n<p>and was throwing error that class cannot be loaded.\nIf I remove . before addition, the code works fine.\nSo be careful with default package.</p>\n"},{"tags":[],"owner":{"account_id":8233626,"reputation":31,"user_id":6193606,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500966922,"creation_date":1500966639,"answer_id":45296295,"question_id":7600898,"body_markdown":"I was also facing the same issue. I have tried to set the class path in different way and it works for me:\r\n\r\n    set classpath=&quot;projectpath&quot;\\bin;&quot;projectpath&quot;\\lib\\*     \r\n    \r\npress &lt;kbd&gt;Enter&lt;/kbd&gt;\r\n\r\n    java org.testng.TestNG testng.xml   \r\npress &lt;kbd&gt;Enter&lt;/kbd&gt; again\r\n\r\nI hope this works!","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I was also facing the same issue. I have tried to set the class path in different way and it works for me:</p>\n\n<pre><code>set classpath=\"projectpath\"\\bin;\"projectpath\"\\lib\\*     \n</code></pre>\n\n<p>press <kbd>Enter</kbd></p>\n\n<pre><code>java org.testng.TestNG testng.xml   \n</code></pre>\n\n<p>press <kbd>Enter</kbd> again</p>\n\n<p>I hope this works!</p>\n"},{"tags":[],"owner":{"account_id":11917039,"reputation":11,"user_id":8720698,"display_name":"Neeraj Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507126353,"creation_date":1507126353,"answer_id":46567117,"question_id":7600898,"body_markdown":"This issue is coming due to some build error.\r\n1. Clean Project - if issue not resolve\r\n2. update maven project - If still not resolved\r\n3. Go to build path from (right click on project- &gt; properties -&gt; java build path)\r\nnow check library files. if you see an error then resolve it by adding missing file at given location. \r\n\r\nI face the same issue, after lots of approaches I found 3rd solution to get that issue fixed","title":"TestNG ERROR Cannot find class in classpath","body":"<p>This issue is coming due to some build error.\n1. Clean Project - if issue not resolve\n2. update maven project - If still not resolved\n3. Go to build path from (right click on project- > properties -> java build path)\nnow check library files. if you see an error then resolve it by adding missing file at given location. </p>\n\n<p>I face the same issue, after lots of approaches I found 3rd solution to get that issue fixed</p>\n"},{"tags":[],"owner":{"account_id":7865099,"reputation":2247,"user_id":5944123,"accept_rate":20,"display_name":"Pratik Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519630506,"creation_date":1519630506,"answer_id":48983520,"question_id":7600898,"body_markdown":"Please make sure that you have specified your class/package in TestNG.xml file.\r\n\r\n    &lt;test name=&quot;test1&quot; preserve-order=&quot;false&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;ABC&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n\r\n","title":"TestNG ERROR Cannot find class in classpath","body":"<p>Please make sure that you have specified your class/package in TestNG.xml file.</p>\n\n<pre><code>&lt;test name=\"test1\" preserve-order=\"false\"&gt;\n    &lt;classes&gt;\n        &lt;class name=\"ABC\"/&gt;\n    &lt;/classes&gt;\n&lt;/test&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":8193696,"reputation":21,"user_id":6167253,"display_name":"Ashutosh Dobhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539328432,"creation_date":1539327201,"answer_id":52773895,"question_id":7600898,"body_markdown":"***Eclipse*** -&gt;Right Click on ***Project*** -&gt; ***Build Path*** -&gt; ***Configure*** -&gt; ***Java Build Path***.\r\n\r\n***Add Library*** -&gt; ***JRE lib***.\r\n\r\nAdd latest Java lib you are using in the system and remove other old JRE libs and save it.\r\n","title":"TestNG ERROR Cannot find class in classpath","body":"<p><strong><em>Eclipse</em></strong> ->Right Click on <strong><em>Project</em></strong> -> <strong><em>Build Path</em></strong> -> <strong><em>Configure</em></strong> -> <strong><em>Java Build Path</em></strong>.</p>\n\n<p><strong><em>Add Library</em></strong> -> <strong><em>JRE lib</em></strong>.</p>\n\n<p>Add latest Java lib you are using in the system and remove other old JRE libs and save it.</p>\n"},{"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545912967,"creation_date":1545912967,"answer_id":53944927,"question_id":7600898,"body_markdown":"I got the same Problem while using **maven**\r\n\r\nThe solution that worked is, **the name of the class in testNG file was different then the actual class Name**\r\n\r\nSince i changed the classname and **testng** file was not updated.\r\n\r\nSo make sure className in testNG file should match with the actual className\r\n\r\nRestAssuredTest was mistaken written as RestAssuredest in testNG\r\n\r\nOne of the reason for this problem \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n     &lt;suite name=&quot;Suite&quot;&gt;\r\n       &lt;test name=&quot;Test&quot;&gt;\r\n    &lt;classes&gt;\r\n      &lt;class name=&quot;com.mycompany.app.AppTest&quot;/&gt;\r\n      &lt;class name=&quot;com.mycompany.app.RestAssuredTest&quot;/&gt;\r\n     &lt;class name=&quot;com.mycompany.app.appiumTests&quot;/&gt;\r\n    &lt;/classes&gt;\r\n    &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I got the same Problem while using <strong>maven</strong></p>\n\n<p>The solution that worked is, <strong>the name of the class in testNG file was different then the actual class Name</strong></p>\n\n<p>Since i changed the classname and <strong>testng</strong> file was not updated.</p>\n\n<p>So make sure className in testNG file should match with the actual className</p>\n\n<p>RestAssuredTest was mistaken written as RestAssuredest in testNG</p>\n\n<p>One of the reason for this problem </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n &lt;suite name=\"Suite\"&gt;\n   &lt;test name=\"Test\"&gt;\n&lt;classes&gt;\n  &lt;class name=\"com.mycompany.app.AppTest\"/&gt;\n  &lt;class name=\"com.mycompany.app.RestAssuredTest\"/&gt;\n &lt;class name=\"com.mycompany.app.appiumTests\"/&gt;\n&lt;/classes&gt;\n&lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5157876,"reputation":393,"user_id":4130574,"display_name":"Sachin Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550703483,"creation_date":1550703483,"answer_id":54796592,"question_id":7600898,"body_markdown":"right click on project -&gt; go to maven -&gt; update project\r\n\r\nthis fixed my problem when nothing else could","title":"TestNG ERROR Cannot find class in classpath","body":"<p>right click on project -> go to maven -> update project</p>\n\n<p>this fixed my problem when nothing else could</p>\n"},{"tags":[],"owner":{"account_id":12581611,"reputation":101,"user_id":9152071,"display_name":"Tilak M Divakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562177726,"creation_date":1562177388,"answer_id":56875814,"question_id":7600898,"body_markdown":"If none of the above answers work, you can run the test in IDE, get the class path and use it in your command.\r\nEx: If you are using Intellij IDEA, you can find it at the top of the console(screenshot below). \r\n[![Intellij Console][1]][1]\r\n\r\nClicking on the highlighted part expands and displays the complete class path.\r\n\r\nyou need to remove the references to jars inside the folder: JetBrains\\IntelliJ IDEA Community Edition *VERSION* \r\n\r\n`java -cp &quot;path_copied&quot; org.testng.TestNG testng.xml`\r\n\r\nIf the project is a Maven project, you can add maven surefire plugin and provide testng suite XML file path, navigate to the project directory and run the command: mvn clean install test\r\n\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.12&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;config/testrun_config.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n     \r\n\r\n  [1]: https://i.stack.imgur.com/S39Yr.png","title":"TestNG ERROR Cannot find class in classpath","body":"<p>If none of the above answers work, you can run the test in IDE, get the class path and use it in your command.\nEx: If you are using Intellij IDEA, you can find it at the top of the console(screenshot below). \n<a href=\"https://i.stack.imgur.com/S39Yr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S39Yr.png\" alt=\"Intellij Console\"></a></p>\n\n<p>Clicking on the highlighted part expands and displays the complete class path.</p>\n\n<p>you need to remove the references to jars inside the folder: JetBrains\\IntelliJ IDEA Community Edition <em>VERSION</em> </p>\n\n<p><code>java -cp \"path_copied\" org.testng.TestNG testng.xml</code></p>\n\n<p>If the project is a Maven project, you can add maven surefire plugin and provide testng suite XML file path, navigate to the project directory and run the command: mvn clean install test</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.12&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;config/testrun_config.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562508949,"creation_date":1562508949,"answer_id":56922927,"question_id":7600898,"body_markdown":"Was facing a similar issue using **IntelliJ** and in case it may be helpful to someone else what fixed it for me was to change the `Use classpath of module` field, to have it as the one that shows the package name.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vi2No.png","title":"TestNG ERROR Cannot find class in classpath","body":"<p>Was facing a similar issue using <strong>IntelliJ</strong> and in case it may be helpful to someone else what fixed it for me was to change the <code>Use classpath of module</code> field, to have it as the one that shows the package name.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vi2No.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vi2No.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13861155,"reputation":149,"user_id":10006771,"display_name":"ANIL KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565083444,"creation_date":1565083444,"answer_id":57372880,"question_id":7600898,"body_markdown":"If you have renamed your testNG class and in the test suite xml file, its not renamed, you will get this error. I corrected in xml file also and it worked for me.","title":"TestNG ERROR Cannot find class in classpath","body":"<p>If you have renamed your testNG class and in the test suite xml file, its not renamed, you will get this error. I corrected in xml file also and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8760100,"reputation":430,"user_id":6550262,"display_name":"linh đ&#224;m quang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570507927,"creation_date":1570507927,"answer_id":58280097,"question_id":7600898,"body_markdown":"Just problem with the class generating step.\r\nYou can go to the project folder by explorer and delete classes.\r\nAfter that run &quot;build&quot; your project again. \r\nNow, your problem is fixed\r\n\r\n","title":"TestNG ERROR Cannot find class in classpath","body":"<p>Just problem with the class generating step.\nYou can go to the project folder by explorer and delete classes.\nAfter that run \"build\" your project again. \nNow, your problem is fixed</p>\n"},{"tags":[],"owner":{"account_id":3816019,"reputation":5175,"user_id":4412203,"accept_rate":62,"display_name":"Dror"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573372634,"creation_date":1573372634,"answer_id":58786739,"question_id":7600898,"body_markdown":"in Intellij, what resolved the issue for me was to open the Maven right side toolbar\r\n\r\nchoose &quot;Clean&quot; , &quot;install&quot;   and hit the &quot;Play&quot; button:\r\n\r\n[![see screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V0vnB.png","title":"TestNG ERROR Cannot find class in classpath","body":"<p>in Intellij, what resolved the issue for me was to open the Maven right side toolbar</p>\n\n<p>choose \"Clean\" , \"install\"   and hit the \"Play\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/V0vnB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V0vnB.png\" alt=\"see screenshot\"></a></p>\n"}],"owner":{"account_id":943999,"reputation":355,"user_id":971623,"display_name":"paragm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328805,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":31,"score":35,"last_activity_date":1671484463,"creation_date":1317316306,"question_id":7600898,"body_markdown":"I&#39;m trying to run testng via command line and I have following things in classpath:\r\n\r\n- `testng` jar, jar of compiled test case file, and other required jars.\r\n- `testng.xml` points to appropriate class in the hierarchy. \r\n\r\nTestng doesn&#39;t run instead it throws:\r\n\r\n    [TestNG] [ERROR]  Cannot find class in classpath: (name of testcase file)\r\n\r\nI encountered the same issue before and I just added.\r\n\r\nIn `classpath` and it solved the problem. But this time it did not seem to solve it. Any workarounds?","title":"TestNG ERROR Cannot find class in classpath","body":"<p>I'm trying to run testng via command line and I have following things in classpath:</p>\n<ul>\n<li><code>testng</code> jar, jar of compiled test case file, and other required jars.</li>\n<li><code>testng.xml</code> points to appropriate class in the hierarchy.</li>\n</ul>\n<p>Testng doesn't run instead it throws:</p>\n<pre><code>[TestNG] [ERROR]  Cannot find class in classpath: (name of testcase file)\n</code></pre>\n<p>I encountered the same issue before and I just added.</p>\n<p>In <code>classpath</code> and it solved the problem. But this time it did not seem to solve it. Any workarounds?</p>\n"},{"tags":["java","android","codenameone","illegalargumentexception","retrolambda"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654566954,"creation_date":1654566954,"answer_id":72525137,"question_id":72522129,"body_markdown":"The target language level needs to be Java 8 not Java 11. You can use JDK 11 but the target setting needs to be 8.","title":"CodenameOne app build giving Retrolambda IllegalArgumentException","body":"<p>The target language level needs to be Java 8 not Java 11. You can use JDK 11 but the target setting needs to be 8.</p>\n"}],"owner":{"account_id":9929196,"reputation":173,"user_id":7349758,"accept_rate":80,"display_name":"Demipho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72525137,"answer_count":1,"score":2,"last_activity_date":1671484351,"creation_date":1654540893,"question_id":72522129,"body_markdown":"Whenever I try uploading my CodenameOne app to the build server, it is responding with an error, see below:\r\n\r\n```\r\n00:00 ERROR: Failed to run Retrolambda\r\njava.lang.IllegalArgumentException\r\n\tat net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:185)\r\n\tat net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:168)\r\n\tat net.orfjackal.retrolambda.ClassAnalyzer.analyze(ClassAnalyzer.java:25)\r\n\tat net.orfjackal.retrolambda.Retrolambda$1.visitClass(Retrolambda.java:62)\r\n\tat net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:29)\r\n\tat net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:11)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2670)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2742)\r\n\tat net.orfjackal.retrolambda.Retrolambda.visitFiles(Retrolambda.java:98)\r\n\tat net.orfjackal.retrolambda.Retrolambda.run(Retrolambda.java:59)\r\n\tat net.orfjackal.retrolambda.Main.main(Main.java:28)\r\n00:00 ERROR: Failed to run Retrolambda\r\njava.lang.IllegalArgumentException\r\n\tat net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:185)\r\n\tat net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:168)\r\n\tat net.orfjackal.retrolambda.ClassAnalyzer.analyze(ClassAnalyzer.java:25)\r\n\tat net.orfjackal.retrolambda.Retrolambda$1.visitClass(Retrolambda.java:62)\r\n\tat net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:29)\r\n\tat net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:11)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2670)\r\n\tat java.nio.file.Files.walkFileTree(Files.java:2742)\r\n\tat net.orfjackal.retrolambda.Retrolambda.visitFiles(Retrolambda.java:98)\r\n\tat net.orfjackal.retrolambda.Retrolambda.run(Retrolambda.java:59)\r\n\tat net.orfjackal.retrolambda.Main.main(Main.java:28)\r\nProcess return code is 1\r\n```\r\n\r\nIt works perfectly fine while testing using the simulator, and only returns an error on the build server. I assume this has to do with the fact that it&#39;s building for Android.\r\n\r\nI&#39;m using Java 11 (I have set this in my build options for codename one).","title":"CodenameOne app build giving Retrolambda IllegalArgumentException","body":"<p>Whenever I try uploading my CodenameOne app to the build server, it is responding with an error, see below:</p>\n<pre><code>00:00 ERROR: Failed to run Retrolambda\njava.lang.IllegalArgumentException\n    at net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:185)\n    at net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:168)\n    at net.orfjackal.retrolambda.ClassAnalyzer.analyze(ClassAnalyzer.java:25)\n    at net.orfjackal.retrolambda.Retrolambda$1.visitClass(Retrolambda.java:62)\n    at net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:29)\n    at net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:11)\n    at java.nio.file.Files.walkFileTree(Files.java:2670)\n    at java.nio.file.Files.walkFileTree(Files.java:2742)\n    at net.orfjackal.retrolambda.Retrolambda.visitFiles(Retrolambda.java:98)\n    at net.orfjackal.retrolambda.Retrolambda.run(Retrolambda.java:59)\n    at net.orfjackal.retrolambda.Main.main(Main.java:28)\n00:00 ERROR: Failed to run Retrolambda\njava.lang.IllegalArgumentException\n    at net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:185)\n    at net.orfjackal.retrolambda.asm.ClassReader.&lt;init&gt;(ClassReader.java:168)\n    at net.orfjackal.retrolambda.ClassAnalyzer.analyze(ClassAnalyzer.java:25)\n    at net.orfjackal.retrolambda.Retrolambda$1.visitClass(Retrolambda.java:62)\n    at net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:29)\n    at net.orfjackal.retrolambda.files.ClasspathVisitor.visitFile(ClasspathVisitor.java:11)\n    at java.nio.file.Files.walkFileTree(Files.java:2670)\n    at java.nio.file.Files.walkFileTree(Files.java:2742)\n    at net.orfjackal.retrolambda.Retrolambda.visitFiles(Retrolambda.java:98)\n    at net.orfjackal.retrolambda.Retrolambda.run(Retrolambda.java:59)\n    at net.orfjackal.retrolambda.Main.main(Main.java:28)\nProcess return code is 1\n</code></pre>\n<p>It works perfectly fine while testing using the simulator, and only returns an error on the build server. I assume this has to do with the fact that it's building for Android.</p>\n<p>I'm using Java 11 (I have set this in my build options for codename one).</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":16636145,"reputation":69,"user_id":12022768,"display_name":"kurious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671483988,"creation_date":1671483988,"question_id":74856003,"body_markdown":"I want a Spring Boot MVC application to unroll some database transactions (create, update, delete) as soon as the user&#39;s login sessions is terminated. JpaRepository and @Service are used. I have configured auto commit disabled. But it does not work, changes are persisted in database. What should I do to prevent it?\r\n \r\n    \r\n    public interface BookRepository\r\n    extends JpaRepository&lt;Book, Long&gt; {}\r\n\r\n\r\n    public interface BookService {\r\n  \r\n    // Save operation\r\n    Book saveBook(Book Book);\r\n    \r\n    // Update operation\r\n    Book updateBook(Book book, Long bookId);\r\n\t\r\n    // Delete operation\r\n    void deleteBookById(Long bookId);\r\n    }\r\nAnd\r\n\r\n    spring.datasource.auto-commit=false\r\n","title":"How to unroll database transactions Spring Boot MVC","body":"<p>I want a Spring Boot MVC application to unroll some database transactions (create, update, delete) as soon as the user's login sessions is terminated. JpaRepository and @Service are used. I have configured auto commit disabled. But it does not work, changes are persisted in database. What should I do to prevent it?</p>\n<pre><code>public interface BookRepository\nextends JpaRepository&lt;Book, Long&gt; {}\n\n\npublic interface BookService {\n\n// Save operation\nBook saveBook(Book Book);\n\n// Update operation\nBook updateBook(Book book, Long bookId);\n\n// Delete operation\nvoid deleteBookById(Long bookId);\n}\n</code></pre>\n<p>And</p>\n<pre><code>spring.datasource.auto-commit=false\n</code></pre>\n"},{"tags":["java","android","android-asynctask"],"answers":[{"tags":[],"owner":{"account_id":6586557,"reputation":511,"user_id":5089159,"accept_rate":71,"display_name":"Abdul Ahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671481098,"creation_date":1671481098,"answer_id":74855603,"question_id":74855436,"body_markdown":"You can simply create an inner class and extend it from `AsyncTask&lt;String, String, String&gt;`.\r\nThis allows you to override three main callbacks.\r\n\r\n- `protected void onPreExecute()`\r\n- `protected String doInBackground(String... params)`\r\n- `protected void onPostExecute(String s)`\r\n\r\nNow, as per your requirement, you wont be using the onPreExecute.\r\n\r\nBut, you should use `doInBackground` - this is were you will update your variable namely `my_counter`\r\n\r\nLastly, when the AsyncTask is completed, the `onPostExecute` is called and there you will return your variable respectively.\r\n\r\nDo give it a try.","title":"How to use AsynsTask in JAVA (Android Studio)","body":"<p>You can simply create an inner class and extend it from <code>AsyncTask&lt;String, String, String&gt;</code>.\nThis allows you to override three main callbacks.</p>\n<ul>\n<li><code>protected void onPreExecute()</code></li>\n<li><code>protected String doInBackground(String... params)</code></li>\n<li><code>protected void onPostExecute(String s)</code></li>\n</ul>\n<p>Now, as per your requirement, you wont be using the onPreExecute.</p>\n<p>But, you should use <code>doInBackground</code> - this is were you will update your variable namely <code>my_counter</code></p>\n<p>Lastly, when the AsyncTask is completed, the <code>onPostExecute</code> is called and there you will return your variable respectively.</p>\n<p>Do give it a try.</p>\n"},{"tags":[],"owner":{"account_id":26237581,"reputation":277,"user_id":19912454,"display_name":"ankor ank"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671482951,"creation_date":1671482951,"answer_id":74855843,"question_id":74855436,"body_markdown":"AsyncTask is deprecated now. Better you can use this.\r\n\r\n\r\n```\r\n  new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n           //perform background task here and finally update the UI with result this way -\r\n\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                      //Do something on UiThread\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        }).start();","title":"How to use AsynsTask in JAVA (Android Studio)","body":"<p>AsyncTask is deprecated now. Better you can use this.</p>\n<pre><code>  new Thread(new Runnable() {\n            @Override\n            public void run() {\n\n           //perform background task here and finally update the UI with result this way -\n\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\n                      //Do something on UiThread\n\n                    }\n                });\n\n            }\n        }).start();\n</code></pre>\n"}],"owner":{"account_id":25214705,"reputation":1,"user_id":19051966,"display_name":"MTG MODS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671482951,"creation_date":1671479931,"question_id":74855436,"body_markdown":"I have the following code:\r\n\r\n```\r\nint my_couter = 0;\r\n\r\nif (SDK_INT &gt;= Build.VERSION_CODES.R &amp;&amp; Environment.isExternalStorageManager()) {\r\n        my_couter += 1;\r\n}\r\nif (ContextCompat.checkSelfPermission(MainActivity.this, READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED || ContextCompat.checkSelfPermission(MainActivity.this, WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n    my_couter += 1;\r\n}\r\nif (_checkPermission(&quot;content://com.android.externalstorage.documents/tree/primary%3AAndroid%2Fdata%2Fnet.wargaming.wot.blitz%2Ffiles%2Fpacks/document/primary%3AAndroid%2Fdata%2Fnet.wargaming.wot.blitz%2Ffiles%2Fpacks&quot;)) {\r\n    my_couter += 1;\r\n}\r\nif (_checkPermission(&quot;content://com.android.externalstorage.documents/tree/primary%3AMTG%20MODS/document/primary%3AMTG%20MODS&quot;)) {\r\n    my_couter += 1;\r\n}\r\n```\r\n\r\nI need it to execute this in the background when a button is pressed and return the result (my_couter) to me\r\n\r\n\r\n```\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View _view) {\r\n\r\n}\r\n});\r\n```\r\n","title":"How to use AsynsTask in JAVA (Android Studio)","body":"<p>I have the following code:</p>\n<pre><code>int my_couter = 0;\n\nif (SDK_INT &gt;= Build.VERSION_CODES.R &amp;&amp; Environment.isExternalStorageManager()) {\n        my_couter += 1;\n}\nif (ContextCompat.checkSelfPermission(MainActivity.this, READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED || ContextCompat.checkSelfPermission(MainActivity.this, WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n    my_couter += 1;\n}\nif (_checkPermission(&quot;content://com.android.externalstorage.documents/tree/primary%3AAndroid%2Fdata%2Fnet.wargaming.wot.blitz%2Ffiles%2Fpacks/document/primary%3AAndroid%2Fdata%2Fnet.wargaming.wot.blitz%2Ffiles%2Fpacks&quot;)) {\n    my_couter += 1;\n}\nif (_checkPermission(&quot;content://com.android.externalstorage.documents/tree/primary%3AMTG%20MODS/document/primary%3AMTG%20MODS&quot;)) {\n    my_couter += 1;\n}\n</code></pre>\n<p>I need it to execute this in the background when a button is pressed and return the result (my_couter) to me</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View _view) {\n\n}\n});\n</code></pre>\n"},{"tags":["java","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1332156317,"post_id":9768622,"comment_id":12432110,"body_markdown":"is there an attribute in html that shows that the box is protected?","body":"is there an attribute in html that shows that the box is protected?"},{"owner":{"account_id":1056699,"reputation":789,"user_id":1059239,"accept_rate":42,"display_name":"ABCDEFG"},"score":1,"creation_date":1332163203,"post_id":9768622,"comment_id":12434560,"body_markdown":"yea- there is a field called &#39;readonly&#39;. following details are specific to this field----\n\n\n&lt;input id=&quot;username&quot; class=&quot;textbox-signup&quot; type=&quot;text&quot; value=&quot;&quot; readonly=&quot;readonly&quot; tabindex=&quot;2&quot; name=&quot;userName&quot;&gt;","body":"yea- there is a field called &#39;readonly&#39;. following details are specific to this field----   &lt;input id=&quot;username&quot; class=&quot;textbox-signup&quot; type=&quot;text&quot; value=&quot;&quot; readonly=&quot;readonly&quot; tabindex=&quot;2&quot; name=&quot;userName&quot;&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1192953,"reputation":1549,"user_id":1165331,"accept_rate":42,"display_name":"Pazonec"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1332156072,"creation_date":1332156072,"answer_id":9769247,"question_id":9768622,"body_markdown":"You can try to write something via sendkeys() and check that value attribute of textbox has not been changed. ","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>You can try to write something via sendkeys() and check that value attribute of textbox has not been changed. </p>\n"},{"tags":[],"owner":{"account_id":313901,"reputation":2255,"user_id":628781,"display_name":"Ken Brittain"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1671482316,"creation_date":1332159110,"answer_id":9769945,"question_id":9768622,"body_markdown":"The `WebElement` interface has a function called [isEnabled](https://www.selenium.dev/documentation/webdriver/elements/information/#is-enabled).\r\n\r\n","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>The <code>WebElement</code> interface has a function called <a href=\"https://www.selenium.dev/documentation/webdriver/elements/information/#is-enabled\" rel=\"nofollow noreferrer\">isEnabled</a>.</p>\n"},{"tags":[],"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332164818,"creation_date":1332164818,"answer_id":9771362,"question_id":9768622,"body_markdown":"Since I don&#39;t know for what you need that check i&#39;ll post some examples that might be usefull.\r\n\r\n    driver.findElements(By.cssSelector(&quot;input:not([readonly=&#39;readonly&#39;])[type=&#39;text&#39;]&quot;));\r\n=&gt; returns all text input fields that are editable\r\n    \r\n    WebElement element = driver.findElement(By.id(&quot;username&quot;);\r\n    //can fail if the attribute is not there\r\n    String attribute  = element.getAttribute(&quot;readonly&quot;); \r\n=&gt; might need a try catch block\r\n","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>Since I don't know for what you need that check i'll post some examples that might be usefull.</p>\n\n<pre><code>driver.findElements(By.cssSelector(\"input:not([readonly='readonly'])[type='text']\"));\n</code></pre>\n\n<p>=> returns all text input fields that are editable</p>\n\n<pre><code>WebElement element = driver.findElement(By.id(\"username\");\n//can fail if the attribute is not there\nString attribute  = element.getAttribute(\"readonly\"); \n</code></pre>\n\n<p>=> might need a try catch block</p>\n"},{"tags":[],"owner":{"account_id":1301942,"reputation":595,"user_id":1251663,"display_name":"nu1silva"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1335339822,"creation_date":1335339822,"answer_id":10311418,"question_id":9768622,"body_markdown":"with selenium-java 2.21.0 you can check if its enabled\r\n\r\n    driver.findElement(By.id(&quot;...&quot;)).isEnabled()","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>with selenium-java 2.21.0 you can check if its enabled</p>\n\n<pre><code>driver.findElement(By.id(\"...\")).isEnabled()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1901798,"reputation":171,"user_id":1717510,"display_name":"Anatoliy"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1349276505,"creation_date":1349276505,"answer_id":12711270,"question_id":9768622,"body_markdown":" 1. **isEnabled()** does not have any common things to readonly.\r\n 2. **String attribute  = element.getAttribute(&quot;readonly&quot;);** will not fail your test even &quot;readonly&quot; is absent. In this case it returns ***null***, but we need exception.\r\n\r\nUse like this:\r\n\r\n        WebElement some_element = driver.findElement(By.id(&quot;some_id&quot;));\r\n        String readonly = some_element.getAttribute(&quot;readonly&quot;);\r\n        Assert.assertNotNull(readonly);\r\n\r\nDo NOT verify **getAttribute(&quot;readonly&quot;).equals(&quot;true&quot;)** or similar, in different browsers it can be different as well. (readonly=&quot;readonly&quot; in IE, readonly=&quot;&quot; in FF, etc.)","title":"Selenium Webdriver - verify text box write-protected?","body":"<ol>\n<li><strong>isEnabled()</strong> does not have any common things to readonly.</li>\n<li><strong>String attribute  = element.getAttribute(\"readonly\");</strong> will not fail your test even \"readonly\" is absent. In this case it returns <strong><em>null</em></strong>, but we need exception.</li>\n</ol>\n\n<p>Use like this:</p>\n\n<pre><code>    WebElement some_element = driver.findElement(By.id(\"some_id\"));\n    String readonly = some_element.getAttribute(\"readonly\");\n    Assert.assertNotNull(readonly);\n</code></pre>\n\n<p>Do NOT verify <strong>getAttribute(\"readonly\").equals(\"true\")</strong> or similar, in different browsers it can be different as well. (readonly=\"readonly\" in IE, readonly=\"\" in FF, etc.)</p>\n"},{"tags":[],"owner":{"account_id":2939197,"reputation":89,"user_id":2517484,"accept_rate":100,"display_name":"Princess S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383235938,"creation_date":1383235938,"answer_id":19711573,"question_id":9768622,"body_markdown":"Below is the Code works best for me. Hope this will be usefull\r\n\r\n        WebElement fieldName = driver.findElement(By.id(&quot;enter_id&quot;));\r\n        fieldName.sendKeys(&quot;abc&quot;);\r\n        String fieldNameVal = fieldName.getAttribute(&quot;value&quot;);\r\n        if(fieldNameVal.contentEquals(&quot;abc&quot;)){\r\n        System.out.println(&quot;Field is editable&quot;);\r\n        }\r\n        else{\r\n        System.out.println(&quot;Field is non editable&quot; + fieldNameVal);\r\n        }","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>Below is the Code works best for me. Hope this will be usefull</p>\n\n<pre><code>    WebElement fieldName = driver.findElement(By.id(\"enter_id\"));\n    fieldName.sendKeys(\"abc\");\n    String fieldNameVal = fieldName.getAttribute(\"value\");\n    if(fieldNameVal.contentEquals(\"abc\")){\n    System.out.println(\"Field is editable\");\n    }\n    else{\n    System.out.println(\"Field is non editable\" + fieldNameVal);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314903,"reputation":2446,"user_id":630364,"accept_rate":90,"display_name":"yaobin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495802507,"creation_date":1437952783,"answer_id":31642942,"question_id":9768622,"body_markdown":"This is a late answer but because I&#39;m working on this recently, I&#39;d like to share my solution.\r\n\r\nI implemented a method to test if a text box is read-only or not. I&#39;m working on a Django project so the code is in Python, but I believe it&#39;s easy to port it to Java:\r\n\r\n    from django.contrib.staticfiles.testing import StaticLiveServerTestCase\r\n    \r\n    class MyTest(StaticLiveServerTestCase):\r\n    \r\n        def setUp(self):\r\n            self.browser = webdriver.Firefox()\r\n    \r\n        def _is_text_box_read_only(self, web_element):\r\n            old_text = web_element.get_attribute(&quot;value&quot;)\r\n            web_element.send_keys(&quot;test&quot;)\r\n            new_text = web_element.get_attribute(&quot;value&quot;)\r\n            web_element.clear()\r\n            web_element.send_keys(old_text)  # Resume to the previous text\r\n            return old_text == new_text\r\n\r\nNote that:\r\n\r\n 1. You need to use the attribute `value` to get the entered text.\r\n 2. Better to resume to the previous text after the testing.\r\n 3. The code is just an excerpt that shows the core ideas. It may not be runnable.","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>This is a late answer but because I'm working on this recently, I'd like to share my solution.</p>\n\n<p>I implemented a method to test if a text box is read-only or not. I'm working on a Django project so the code is in Python, but I believe it's easy to port it to Java:</p>\n\n<pre><code>from django.contrib.staticfiles.testing import StaticLiveServerTestCase\n\nclass MyTest(StaticLiveServerTestCase):\n\n    def setUp(self):\n        self.browser = webdriver.Firefox()\n\n    def _is_text_box_read_only(self, web_element):\n        old_text = web_element.get_attribute(\"value\")\n        web_element.send_keys(\"test\")\n        new_text = web_element.get_attribute(\"value\")\n        web_element.clear()\n        web_element.send_keys(old_text)  # Resume to the previous text\n        return old_text == new_text\n</code></pre>\n\n<p>Note that:</p>\n\n<ol>\n<li>You need to use the attribute <code>value</code> to get the entered text.</li>\n<li>Better to resume to the previous text after the testing.</li>\n<li>The code is just an excerpt that shows the core ideas. It may not be runnable.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7330421,"reputation":1,"user_id":5583512,"display_name":"Fahim Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544574696,"creation_date":1544571038,"answer_id":53733931,"question_id":9768622,"body_markdown":"I know it&#39;s been answered.  but unfortunately, when I facing a similar issue, I had to spend some time to find the correct solution.  \r\nI agree that .getAttribute(&quot;readonly&quot;) returns null but to handle it &gt;\r\nI wrote something similar to this:      \r\n\r\n    public boolean isreadOnly(element) {\t\t\r\n        Boolean readOnly = false; \t\t\r\n        readOnly = ((element.getAttribute(&quot;disabled&quot;) != null) || (element.getAttribute(&quot;readonly&quot;) != null));  \r\n        return readOnly; \t\t\r\n    }\r\n\r\nand call above:  \r\n\r\n    WebElement text = driver.findElement(&quot;locator&quot;));  \r\n    return isReadOnly(text);\r\n\r\n","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>I know it's been answered.  but unfortunately, when I facing a similar issue, I had to spend some time to find the correct solution.<br>\nI agree that .getAttribute(\"readonly\") returns null but to handle it >\nI wrote something similar to this:      </p>\n\n<pre><code>public boolean isreadOnly(element) {        \n    Boolean readOnly = false;       \n    readOnly = ((element.getAttribute(\"disabled\") != null) || (element.getAttribute(\"readonly\") != null));  \n    return readOnly;        \n}\n</code></pre>\n\n<p>and call above:  </p>\n\n<pre><code>WebElement text = driver.findElement(\"locator\"));  \nreturn isReadOnly(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581380212,"creation_date":1581380212,"answer_id":60160327,"question_id":9768622,"body_markdown":"Here is yet another answer, using javascript\r\n\r\n    Boolean isEditable = js.executeScript(&quot;if(arguments[0].nodeName===&#39;INPUT&#39; || arguments[0].nodeName===&#39;TEXTAREA&#39;){ return !arguments[0].disabled &amp;&amp; !arguments[0].readOnly; }else{ return arguments[0].isContentEditable};&quot;, webelement);\r\n\r\nThis answer is based on https://stackoverflow.com/a/28269518 and is simplified a bit.\r\nIn regular Javascript, it would look like this:\r\n\r\n    function isEditable(element){\r\n        if(element.nodeName===&quot;INPUT&quot; || element.nodeName===&quot;TEXTAREA&quot;){\r\n            return !element.disabled &amp;&amp; !element.readOnly;\r\n        }else{\r\n            return element.isContentEditable;\r\n        }\r\n    }\r\n\r\nThis addresses both the &quot;readOnly&quot; and the &quot;disabled&quot; properties, and it can be used on any type of element.\r\n","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>Here is yet another answer, using javascript</p>\n\n<pre><code>Boolean isEditable = js.executeScript(\"if(arguments[0].nodeName==='INPUT' || arguments[0].nodeName==='TEXTAREA'){ return !arguments[0].disabled &amp;&amp; !arguments[0].readOnly; }else{ return arguments[0].isContentEditable};\", webelement);\n</code></pre>\n\n<p>This answer is based on <a href=\"https://stackoverflow.com/a/28269518\">https://stackoverflow.com/a/28269518</a> and is simplified a bit.\nIn regular Javascript, it would look like this:</p>\n\n<pre><code>function isEditable(element){\n    if(element.nodeName===\"INPUT\" || element.nodeName===\"TEXTAREA\"){\n        return !element.disabled &amp;&amp; !element.readOnly;\n    }else{\n        return element.isContentEditable;\n    }\n}\n</code></pre>\n\n<p>This addresses both the \"readOnly\" and the \"disabled\" properties, and it can be used on any type of element.</p>\n"}],"owner":{"account_id":1056699,"reputation":789,"user_id":1059239,"accept_rate":42,"display_name":"ABCDEFG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49172,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9769247,"answer_count":9,"score":9,"last_activity_date":1671482316,"creation_date":1332153134,"question_id":9768622,"body_markdown":"How can we verify whether a field is write-protected (that is, readonly) in Selenium using Java code?\r\n\r\nBest regards","title":"Selenium Webdriver - verify text box write-protected?","body":"<p>How can we verify whether a field is write-protected (that is, readonly) in Selenium using Java code?</p>\n\n<p>Best regards</p>\n"},{"tags":["java","eclipse","console"],"comments":[{"owner":{"account_id":270380,"reputation":3017,"user_id":560302,"accept_rate":73,"display_name":"MoveFast"},"score":0,"creation_date":1671483033,"post_id":74855727,"comment_id":132104984,"body_markdown":"Could you clarify your question. it appears that code is running fine and it is giving expected output.","body":"Could you clarify your question. it appears that code is running fine and it is giving expected output."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671483041,"post_id":74855727,"comment_id":132104987,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1671485105,"post_id":74855727,"comment_id":132105633,"body_markdown":"In recent versions of Eclipse you can enable ANSI codes in the Preferences &gt; Run/Debug &gt; Console &gt; ANSI Support","body":"In recent versions of Eclipse you can enable ANSI codes in the Preferences &gt; Run/Debug &gt; Console &gt; ANSI Support"}],"owner":{"account_id":26879766,"reputation":1,"user_id":20460419,"display_name":"Kenny Frankovich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671482999,"answer_count":0,"score":0,"last_activity_date":1671482136,"creation_date":1671482136,"question_id":74855727,"body_markdown":"I already tried a seperate way as shown in what I tried, but it didnt output correctly. \r\n\r\n\r\n```\r\n\tpublic static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n\tpublic static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n\tpublic static final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\r\n\r\n```\r\n\r\nAfter setting up the strings I tried to run it with this line:\r\n\r\n```\r\n\t\tSystem.out.println(ANSI_RED + &quot;Connect 4:&quot; + ANSI_RESET);\r\n```\r\n\r\nAnd the output was :\r\n\r\n```\r\n[31mConnect 4:[0m\r\n```\r\nHow could I do this correctly?\r\n\r\n","title":"How could I output colored print statements in the console in Eclipse with java?","body":"<p>I already tried a seperate way as shown in what I tried, but it didnt output correctly.</p>\n<pre><code>    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\n    public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\n    public static final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\n\n</code></pre>\n<p>After setting up the strings I tried to run it with this line:</p>\n<pre><code>        System.out.println(ANSI_RED + &quot;Connect 4:&quot; + ANSI_RESET);\n</code></pre>\n<p>And the output was :</p>\n<pre><code>[31mConnect 4:[0m\n</code></pre>\n<p>How could I do this correctly?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1523672637,"post_id":49827199,"comment_id":86670081,"body_markdown":"Could you post the full stacktrace?","body":"Could you post the full stacktrace?"},{"owner":{"account_id":4844922,"reputation":1188,"user_id":3908814,"display_name":"Bejond"},"score":1,"creation_date":1523672672,"post_id":49827199,"comment_id":86670084,"body_markdown":"Here are some clue. If there&#39;s other config files and check it. If you changed attributes while columns are not changed in database.","body":"Here are some clue. If there&#39;s other config files and check it. If you changed attributes while columns are not changed in database."},{"owner":{"account_id":11398740,"reputation":179,"user_id":8356264,"accept_rate":83,"display_name":"Sinlesssc"},"score":0,"creation_date":1523673344,"post_id":49827199,"comment_id":86670173,"body_markdown":"added stack trace to the edit.","body":"added stack trace to the edit."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1523676193,"post_id":49827199,"comment_id":86670613,"body_markdown":"Why are you wrapping the repository, then using raw types?","body":"Why are you wrapping the repository, then using raw types?"},{"owner":{"account_id":6893723,"reputation":1773,"user_id":5296354,"accept_rate":100,"display_name":"Ram"},"score":0,"creation_date":1523676603,"post_id":49827199,"comment_id":86670667,"body_markdown":"Does the table `CryptoCurrency.test_entity` really exists? Consider specifying the table name using `@Table` annotation in your Entity class. Also, Please post the `application.properties` file as well.","body":"Does the table <code>CryptoCurrency.test_entity</code> really exists? Consider specifying the table name using <code>@Table</code> annotation in your Entity class. Also, Please post the <code>application.properties</code> file as well."},{"owner":{"account_id":11398740,"reputation":179,"user_id":8356264,"accept_rate":83,"display_name":"Sinlesssc"},"score":0,"creation_date":1523677218,"post_id":49827199,"comment_id":86670769,"body_markdown":"I am not sure how to specify the table in springboot. It seems to thing test_entity is the table which was the model class for this application. The actual table name is Test_table which holds three fields and a id key.","body":"I am not sure how to specify the table in springboot. It seems to thing test_entity is the table which was the model class for this application. The actual table name is Test_table which holds three fields and a id key."},{"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"score":0,"creation_date":1523678521,"post_id":49827199,"comment_id":86670954,"body_markdown":"So, `@Table(name=&quot;Test_table&quot;)` annotation along with your `@Entity` annotation should work, I guess.","body":"So, <code>@Table(name=&quot;Test_table&quot;)</code> annotation along with your <code>@Entity</code> annotation should work, I guess."},{"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"score":0,"creation_date":1540222746,"post_id":49827199,"comment_id":92775278,"body_markdown":"based on `CryptoCurrency.test_entity`, does your schema `CryptoCurrency` has table `test_entity`?","body":"based on <code>CryptoCurrency.test_entity</code>, does your schema <code>CryptoCurrency</code> has table <code>test_entity</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13264199,"reputation":121,"user_id":9577651,"display_name":"suman heuju"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523680733,"creation_date":1523680733,"answer_id":49827989,"question_id":49827199,"body_markdown":"In you Entity class i.e. TestEntity.java, you need to specify which table that your referring to\r\n\r\n    @Entity\r\n    @Table(name=&quot;tbl_something&quot;)\r\n    public class TestEntity implements Serializable {\r\n\r\nAnd use of CrudRepository would be fine for excessing the database.\r\nThe application.properties file looks good to me.","title":"Springboot could not extract ResultSet","body":"<p>In you Entity class i.e. TestEntity.java, you need to specify which table that your referring to</p>\n\n<pre><code>@Entity\n@Table(name=\"tbl_something\")\npublic class TestEntity implements Serializable {\n</code></pre>\n\n<p>And use of CrudRepository would be fine for excessing the database.\nThe application.properties file looks good to me.</p>\n"},{"tags":[],"owner":{"account_id":11398740,"reputation":179,"user_id":8356264,"accept_rate":83,"display_name":"Sinlesssc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524206964,"creation_date":1524206964,"answer_id":49935665,"question_id":49827199,"body_markdown":"I found the solution to the problem I was having apparently by renaming the table to all lowercase characters (`test_table`) in SQL and then using that table instead of `Test_table` Springboot was able to find that table and link map it to my entity class. I have no idea why it works this way. Maybe something to do with the Netbeans IDE I am using perhaps?","title":"Springboot could not extract ResultSet","body":"<p>I found the solution to the problem I was having apparently by renaming the table to all lowercase characters (<code>test_table</code>) in SQL and then using that table instead of <code>Test_table</code> Springboot was able to find that table and link map it to my entity class. I have no idea why it works this way. Maybe something to do with the Netbeans IDE I am using perhaps?</p>\n"},{"tags":[],"owner":{"account_id":6957691,"reputation":313,"user_id":5338234,"display_name":"Chinmay Biswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648459212,"creation_date":1648459212,"answer_id":71645069,"question_id":49827199,"body_markdown":"If annotate your entity class with @Table(name = &quot;EmplyeeSalary&quot;) then JPA generates employee_salary as the table name. According to the naming convention at every uppercase found in the name, a new word will be generated with all lower case and will be separated from previous using _.\r\n\r\nIf you annotate your entity class like @Table(name = &quot;AbcDefGhi&quot;) then JPA will look for abc_def_ghi table.","title":"Springboot could not extract ResultSet","body":"<p>If annotate your entity class with @Table(name = &quot;EmplyeeSalary&quot;) then JPA generates employee_salary as the table name. According to the naming convention at every uppercase found in the name, a new word will be generated with all lower case and will be separated from previous using _.</p>\n<p>If you annotate your entity class like @Table(name = &quot;AbcDefGhi&quot;) then JPA will look for abc_def_ghi table.</p>\n"},{"tags":[],"owner":{"account_id":17517112,"reputation":1,"user_id":12703928,"display_name":"NITIN PANDEY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671481966,"creation_date":1671481939,"answer_id":74855702,"question_id":49827199,"body_markdown":"In my case it was due to a column was not added in table But in my entity class I am expecting that","title":"Springboot could not extract ResultSet","body":"<p>In my case it was due to a column was not added in table But in my entity class I am expecting that</p>\n"}],"owner":{"account_id":11398740,"reputation":179,"user_id":8356264,"accept_rate":83,"display_name":"Sinlesssc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62796,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1671481966,"creation_date":1523671892,"question_id":49827199,"body_markdown":"Currently I am getting a problem with fetching mysql data for my springboot project:\r\n\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\ncould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\n**TestEntity.java**\r\n\r\n    @Entity\r\n    public class TestEntity implements Serializable {\r\n        \r\n        @Id\r\n        private int id;\r\n        private String p1;\r\n        private String p2;\r\n        private String p3;\r\n    \r\n        public TestEntity() {\r\n        }\r\n        \r\n        public TestEntity(int id, String p1, String p2, String p3){\r\n            this.id = id;\r\n            this.p1 = p1;\r\n            this.p2 = p2;\r\n            this.p3 = p3;\r\n        }\r\n        \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getP1() {\r\n            return p1;\r\n        }\r\n    \r\n        public void setP1(String p1) {\r\n            this.p1 = p1;\r\n        }\r\n    \r\n        public String getP2() {\r\n            return p2;\r\n        }\r\n    \r\n        public void setP2(String p2) {\r\n            this.p2 = p2;\r\n        }\r\n    \r\n        public String getP3() {\r\n            return p3;\r\n        }\r\n    \r\n        public void setP3(String p3) {\r\n            this.p3 = p3;\r\n        }\r\n    \r\n        \r\n        \r\n    }\r\n\r\n**TestService.java**\r\n\r\n    @Service\r\n    public class TestService {\r\n        \r\n        @Autowired\r\n        private TestRepository testRepository;\r\n        \r\n        public ArrayList&lt;TestEntity&gt; getAllTestEntities(){\r\n           ArrayList&lt;TestEntity&gt; list = new ArrayList();\r\n           testRepository.findAll().forEach(list::add);\r\n           return list;\r\n        }\r\n        \r\n        public Optional getTestEntity(int id){\r\n           return testRepository.findById(id);\r\n        }\r\n        public void addTestEntity(TestEntity t){\r\n            testRepository.save(t);\r\n        }\r\n        public void removeTestEntity(int index){\r\n            \r\n            testRepository.deleteById(index);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n**TestRepository.java**\r\n\r\n    @Repository(&quot;mysql&quot;)\r\n    public interface TestRepository extends CrudRepository&lt;TestEntity,Integer&gt; {\r\n        \r\n        \r\n        \r\n    }\r\n\r\n**TestController.java**\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \r\n        @Autowired\r\n        private TestService testService;\r\n        \r\n        @RequestMapping(&quot;/test/AllUnits&quot;)\r\n        public ArrayList&lt;TestEntity&gt; getAllTestUnits(){\r\n            return testService.getAllTestEntities();\r\n        }\r\n        \r\n        @RequestMapping(&quot;/test/{id}&quot;)\r\n        public Optional getAllTestUnit(@PathVariable int id){\r\n            return testService.getTestEntity(id);\r\n        }\r\n        \r\n        @RequestMapping(method=RequestMethod.POST,value = &quot;/test&quot; )\r\n        public void addTestUnit(@RequestBody TestEntity t){\r\n            testService.addTestEntity(t);\r\n        }\r\n        \r\n        @RequestMapping(method=RequestMethod.DELETE,value = &quot;/test/{id}&quot; )\r\n        public void deleteTestUnit(@RequestBody Integer id){\r\n            testService.removeTestEntity(id);\r\n        }\r\n        \r\n        @RequestMapping(&quot;/test/welcome&quot;)\r\n        public String welcome(){\r\n            \r\n            return &quot;welcome to springboot&quot;;\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n\r\n**Edit**: **application.properties**\r\n\r\n    cloud.aws.region.auto=true\r\n    cloud.aws.region.static=us-east-2\r\n    \r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://alyxdev.czcdgqfkwsnr.us-east-2.rds.amazonaws.com:3306/CryptoCurrency\r\n    spring.datasource.username=*******\r\n    spring.datasource.password=*******\r\n\r\nI am able to get the /test/welcome mapping working so I believe my implementation of the service and controller is correct. So I am wondering if I made a mistake for accessing my database in my repository or should I use a JpaRepository instead of a CrudRepository and use an explicit query?\r\n\r\n**Edit Stack Trace**: \r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;CryptoCurrency.test_entity&#39; doesn&#39;t exist","title":"Springboot could not extract ResultSet","body":"<p>Currently I am getting a problem with fetching mysql data for my springboot project:</p>\n\n<p>There was an unexpected error (type=Internal Server Error, status=500).\ncould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n\n<p><strong>TestEntity.java</strong></p>\n\n<pre><code>@Entity\npublic class TestEntity implements Serializable {\n\n    @Id\n    private int id;\n    private String p1;\n    private String p2;\n    private String p3;\n\n    public TestEntity() {\n    }\n\n    public TestEntity(int id, String p1, String p2, String p3){\n        this.id = id;\n        this.p1 = p1;\n        this.p2 = p2;\n        this.p3 = p3;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getP1() {\n        return p1;\n    }\n\n    public void setP1(String p1) {\n        this.p1 = p1;\n    }\n\n    public String getP2() {\n        return p2;\n    }\n\n    public void setP2(String p2) {\n        this.p2 = p2;\n    }\n\n    public String getP3() {\n        return p3;\n    }\n\n    public void setP3(String p3) {\n        this.p3 = p3;\n    }\n\n\n\n}\n</code></pre>\n\n<p><strong>TestService.java</strong></p>\n\n<pre><code>@Service\npublic class TestService {\n\n    @Autowired\n    private TestRepository testRepository;\n\n    public ArrayList&lt;TestEntity&gt; getAllTestEntities(){\n       ArrayList&lt;TestEntity&gt; list = new ArrayList();\n       testRepository.findAll().forEach(list::add);\n       return list;\n    }\n\n    public Optional getTestEntity(int id){\n       return testRepository.findById(id);\n    }\n    public void addTestEntity(TestEntity t){\n        testRepository.save(t);\n    }\n    public void removeTestEntity(int index){\n\n        testRepository.deleteById(index);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>TestRepository.java</strong></p>\n\n<pre><code>@Repository(\"mysql\")\npublic interface TestRepository extends CrudRepository&lt;TestEntity,Integer&gt; {\n\n\n\n}\n</code></pre>\n\n<p><strong>TestController.java</strong></p>\n\n<pre><code>@RestController\npublic class TestController {\n\n    @Autowired\n    private TestService testService;\n\n    @RequestMapping(\"/test/AllUnits\")\n    public ArrayList&lt;TestEntity&gt; getAllTestUnits(){\n        return testService.getAllTestEntities();\n    }\n\n    @RequestMapping(\"/test/{id}\")\n    public Optional getAllTestUnit(@PathVariable int id){\n        return testService.getTestEntity(id);\n    }\n\n    @RequestMapping(method=RequestMethod.POST,value = \"/test\" )\n    public void addTestUnit(@RequestBody TestEntity t){\n        testService.addTestEntity(t);\n    }\n\n    @RequestMapping(method=RequestMethod.DELETE,value = \"/test/{id}\" )\n    public void deleteTestUnit(@RequestBody Integer id){\n        testService.removeTestEntity(id);\n    }\n\n    @RequestMapping(\"/test/welcome\")\n    public String welcome(){\n\n        return \"welcome to springboot\";\n\n    }\n\n\n}\n</code></pre>\n\n<p><strong>Edit</strong>: <strong>application.properties</strong></p>\n\n<pre><code>cloud.aws.region.auto=true\ncloud.aws.region.static=us-east-2\n\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://alyxdev.czcdgqfkwsnr.us-east-2.rds.amazonaws.com:3306/CryptoCurrency\nspring.datasource.username=*******\nspring.datasource.password=*******\n</code></pre>\n\n<p>I am able to get the /test/welcome mapping working so I believe my implementation of the service and controller is correct. So I am wondering if I made a mistake for accessing my database in my repository or should I use a JpaRepository instead of a CrudRepository and use an explicit query?</p>\n\n<p><strong>Edit Stack Trace</strong>: \norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'CryptoCurrency.test_entity' doesn't exist</p>\n"},{"tags":["java","quarkus-panache"],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671481529,"creation_date":1671481529,"question_id":74855656,"body_markdown":"I have a parent class a `TeamModel` that references an (unsorted) set of `admins` and `members`. Admins and members are *both* of type `UserModel`.\r\n\r\n**TeamModel.java**\r\n````\r\nclass TeamModel extends PanacheEntity {\r\n@OneToMany(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)  // when a team is loaded also load its admins\r\n  /** Admins of this team */\r\n  @OneToMany\r\n  public Set&lt;UserModel&gt; admins = new HashSet&lt;&gt;();\r\n\r\n  /** Members of this team */\r\n  @OneToMany\r\n  public Set&lt;UserModel&gt; members = new HashSet&lt;&gt;();\r\n\r\n}\r\n````\r\n\r\n**UserModel.java**\r\n````\r\npublic class UserModel extends PanacheEntity {\r\n  public String name;\r\n\r\n  @NotNull\r\n  @Column(unique = true)\r\n  public String email;\r\n}\r\n````\r\n\r\nI have set &#180;quarkus.hibernate-orm.database.generation=drop-and-create`\r\n\r\nWhat I would *expect* panache to model is *two* tables for the two 1:n relationships. `teams_admins` and `teams_users`. But what it actually does is \r\n\r\n````\r\nCREATE TABLE public.teams_users (\r\n\tteammodel_id int8 NOT NULL,\r\n\tmembers_id int8 NOT NULL,\r\n\tadmins_id int8 NOT NULL,\r\n\tCONSTRAINT teams_users_pkey PRIMARY KEY (teammodel_id, admins_id),\r\n\tCONSTRAINT uk_12a1kue8qf1fxb9yebb61i16c UNIQUE (members_id),\r\n\tCONSTRAINT uk_5r90pre4tl76l1rdxbt2pxm9d UNIQUE (admins_id)\r\n);\r\n````\r\n\r\nHow can I make it create two tables. One for each relation?","title":"How to model *two* OnetoMany relationships to the same child Model/Entity with quarkus panache?","body":"<p>I have a parent class a <code>TeamModel</code> that references an (unsorted) set of <code>admins</code> and <code>members</code>. Admins and members are <em>both</em> of type <code>UserModel</code>.</p>\n<p><strong>TeamModel.java</strong></p>\n<pre><code>class TeamModel extends PanacheEntity {\n@OneToMany(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)  // when a team is loaded also load its admins\n  /** Admins of this team */\n  @OneToMany\n  public Set&lt;UserModel&gt; admins = new HashSet&lt;&gt;();\n\n  /** Members of this team */\n  @OneToMany\n  public Set&lt;UserModel&gt; members = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>UserModel.java</strong></p>\n<pre><code>public class UserModel extends PanacheEntity {\n  public String name;\n\n  @NotNull\n  @Column(unique = true)\n  public String email;\n}\n</code></pre>\n<p>I have set ´quarkus.hibernate-orm.database.generation=drop-and-create`</p>\n<p>What I would <em>expect</em> panache to model is <em>two</em> tables for the two 1:n relationships. <code>teams_admins</code> and <code>teams_users</code>. But what it actually does is</p>\n<pre><code>CREATE TABLE public.teams_users (\n    teammodel_id int8 NOT NULL,\n    members_id int8 NOT NULL,\n    admins_id int8 NOT NULL,\n    CONSTRAINT teams_users_pkey PRIMARY KEY (teammodel_id, admins_id),\n    CONSTRAINT uk_12a1kue8qf1fxb9yebb61i16c UNIQUE (members_id),\n    CONSTRAINT uk_5r90pre4tl76l1rdxbt2pxm9d UNIQUE (admins_id)\n);\n</code></pre>\n<p>How can I make it create two tables. One for each relation?</p>\n"},{"tags":["java","android","intellij-idea","gradle","libgdx"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":2,"creation_date":1502799010,"post_id":45692460,"comment_id":78342645,"body_markdown":"I don&#39;t see `apply plugin: &#39;com.google.gms.google-services&#39;`","body":"I don&#39;t see <code>apply plugin: &#39;com.google.gms.google-services&#39;</code>"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1502800695,"post_id":45692460,"comment_id":78343581,"body_markdown":"I don&#39;t see it either in the Set Up Google Play Services guide. Where does that come from?","body":"I don&#39;t see it either in the Set Up Google Play Services guide. Where does that come from?"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1502808786,"post_id":45692460,"comment_id":78348971,"body_markdown":"JFTR, replacing the version number with 11.0.0 instead of 11.2.0 seems to do the trick, but I&#39;m still doing some testing here so I won&#39;t publish it as an answer until I&#39;m sure about that.","body":"JFTR, replacing the version number with 11.0.0 instead of 11.2.0 seems to do the trick, but I&#39;m still doing some testing here so I won&#39;t publish it as an answer until I&#39;m sure about that."},{"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"score":0,"creation_date":1503775443,"post_id":45692460,"comment_id":78756987,"body_markdown":"Possible duplicate of [Error:(23, 13) Failed to resolve: com.google.android.gms:play-services:11.2.0 &quot;Install Repository and sync project&quot; dose not work](https://stackoverflow.com/questions/45688654/error23-13-failed-to-resolve-com-google-android-gmsplay-services11-2-0-i)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/45688654/error23-13-failed-to-resolve-com-google-android-gmsplay-services11-2-0-i\">Error:(23, 13) Failed to resolve: com.google.android.gms:play-services:11.2.0 &quot;Install Repository and sync project&quot; dose not work</a>"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1503922791,"post_id":45692460,"comment_id":78796115,"body_markdown":"@Darush this one contains specific information on how to address the problem with libGDX based projects on both, the question and the answer, that&#39;s absent on the other.","body":"@Darush this one contains specific information on how to address the problem with libGDX based projects on both, the question and the answer, that&#39;s absent on the other."},{"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"score":0,"creation_date":1503923146,"post_id":45692460,"comment_id":78796364,"body_markdown":"@Fran I believe both have the same solution if u look at the answers.","body":"@Fran I believe both have the same solution if u look at the answers."},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":1,"creation_date":1503928067,"post_id":45692460,"comment_id":78799683,"body_markdown":"@Darush The build.gradle files on a libGDX project follow a different structure than the ones on an standard Android Studio project. Specifically the sections &quot;allprojects&quot; and &quot;project(:android)&quot; mentioned in my answer do not exist in the last and it is the right place for putting these things on the former. It also provides additional general information that&#39;s absent on the other answer (like the changelog document in which the whole answer is founded), so yet when both solutions follow from the same problem, I don&#39;t think is a real dupe.","body":"@Darush The build.gradle files on a libGDX project follow a different structure than the ones on an standard Android Studio project. Specifically the sections &quot;allprojects&quot; and &quot;project(:android)&quot; mentioned in my answer do not exist in the last and it is the right place for putting these things on the former. It also provides additional general information that&#39;s absent on the other answer (like the changelog document in which the whole answer is founded), so yet when both solutions follow from the same problem, I don&#39;t think is a real dupe."},{"owner":{"account_id":3098381,"reputation":11,"user_id":3198684,"display_name":"Jesua"},"score":0,"creation_date":1540928626,"post_id":45692460,"comment_id":93046884,"body_markdown":"Another option is tu update the gradle services to the latest version.","body":"Another option is tu update the gradle services to the latest version."}],"answers":[{"tags":[],"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1503245725,"creation_date":1502799070,"answer_id":45692596,"question_id":45692460,"body_markdown":"Google Play services SDK is inside `Google Repository`.\r\n\r\n1. Start Intellij IDEA.\r\n\r\n2. On the Tools menu, click Android &gt; SDK Manager.\r\n\r\n3. Update the Android SDK Manager: click **SDK Tools**, expand **Support Repository**, select **Google Repository**, and then click OK.\r\n\r\nCurrent Google Repository version is 57.\r\n\r\nAfter update sync your project.\r\n\r\n**EDIT**\r\n\r\nFrom version `11.2.0`, we&#39;ve to use the google maven repo so add google maven repo link in repositories tag. Check release note from [here][1].\r\n\r\n    allprojects {\r\n         ..\r\n         repositories {\r\n         ...\r\n            maven {\r\n                url &#39;https://maven.google.com&#39;\r\n                // Alternative URL is &#39;https://dl.google.com/dl/android/maven2/&#39;\r\n            }\r\n         }\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/android/guides/releases","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>Google Play services SDK is inside <code>Google Repository</code>.</p>\n\n<ol>\n<li><p>Start Intellij IDEA.</p></li>\n<li><p>On the Tools menu, click Android > SDK Manager.</p></li>\n<li><p>Update the Android SDK Manager: click <strong>SDK Tools</strong>, expand <strong>Support Repository</strong>, select <strong>Google Repository</strong>, and then click OK.</p></li>\n</ol>\n\n<p>Current Google Repository version is 57.</p>\n\n<p>After update sync your project.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>From version <code>11.2.0</code>, we've to use the google maven repo so add google maven repo link in repositories tag. Check release note from <a href=\"https://developers.google.com/android/guides/releases\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>allprojects {\n     ..\n     repositories {\n     ...\n        maven {\n            url 'https://maven.google.com'\n            // Alternative URL is 'https://dl.google.com/dl/android/maven2/'\n        }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1503486029,"creation_date":1502808125,"answer_id":45695269,"question_id":45692460,"body_markdown":"I just replaced version 11.2.0 with 11.0.0 and then it seemed to work fine, so that had to mean that 11.2.0 wasn&#39;t included with the latest Android SDK.  \r\n\r\nSo, after struggling with all the available scattered documentation, I reached this document by pure chance (I guess it is not indexed high enough by Google):\r\nhttps://developers.google.com/android/guides/releases\r\n\r\nI quote from there:\r\n\r\n&gt; Highlights from the Google Play services 11.2 release. Google Play\r\n&gt; services dependencies are now available via maven.google.com\r\n\r\nNow, even when that shouldn&#39;t necessarily mean that they are not available with the downloaded SDK anymore, it seems that this is actually the case.\r\n\r\nAnyway, adding google() to my build.gradle didn&#39;t work (not found, undefined, or whatever...), so I used a different approach that I found in this document referenced from the previous one:\r\n\r\nhttps://developer.android.com/studio/build/dependencies.html#google-maven\r\n\r\nI modified my build.gradle file adding that line to allprojects/repositories, as in:\r\n\r\n    allprojects {\r\n    ...\r\n        repositories {\r\n    ...\r\n            maven { url &quot;https://maven.google.com/&quot;}\r\n        }\r\n    }\r\n\r\nAnd then also in the android section in the same build.gradle file:\r\n\r\n    project(&quot;:android&quot;) {\r\n    ...\r\n        dependencies {\r\n    ...\r\n            compile &#39;com.google.android.gms:play-services-ads:11.2.0&#39;\r\n        }\r\n    }\r\n\r\nThose two lines were enough to make Gradle sync without problems. I didn&#39;t need to add any plugins apart from the ones that are already added in my libGDX project by default.\r\n\r\nAfter that, I got a few different errors, but none about Gradle or dependencies. In a brief, JFTR: \r\n\r\nFirst, I had a minSdkVersion of 8. Solved by raising it to 14. I think I could live without supporting all those devices below 14. \r\n\r\nSecond, I had problems with the dex upper limit of references. I&#39;ve never faced this problem before, but maybe you&#39;ve already noticed the solution I used: instead of compiling the whole &#39;com.google.android.gms:play-services&#39; I used only &#39;com.google.android.gms:play-services-ads&#39; that&#39;s the API I&#39;m actually interested right now. For those other particular cases where a solution like this may not be useful, this document could provide some better insight: https://developer.android.com/studio/build/multidex.html\r\n\r\nThird, even after that I got this &quot;jumbo&quot; thing problem described and answered here: https://stackoverflow.com/a/26248495/1160360\r\n\r\nAnd that&#39;s it. As of now, everything builds and my game does finally shows those Admob banners. \r\n\r\nI&#39;ve spent hours with this, thought, which makes me wonder if all these building automation systems we are using lately are worth the extra load they add. \r\n\r\nI mean, the first time I had to add Admob to an app five years ago or so, I just had to download a .jar file and put it on a directory on my project. It was pretty obvious and the whole process, from googling &quot;how to setup Admob in my android project&quot; to have my app showing an Admob banner took me just a few minutes. I&#39;m gonna leave it here, since this is not the place for such kind of debate.\r\n\r\nNonetheless, I hope my own experience is useful for someone else further.","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I just replaced version 11.2.0 with 11.0.0 and then it seemed to work fine, so that had to mean that 11.2.0 wasn't included with the latest Android SDK.  </p>\n\n<p>So, after struggling with all the available scattered documentation, I reached this document by pure chance (I guess it is not indexed high enough by Google):\n<a href=\"https://developers.google.com/android/guides/releases\" rel=\"noreferrer\">https://developers.google.com/android/guides/releases</a></p>\n\n<p>I quote from there:</p>\n\n<blockquote>\n  <p>Highlights from the Google Play services 11.2 release. Google Play\n  services dependencies are now available via maven.google.com</p>\n</blockquote>\n\n<p>Now, even when that shouldn't necessarily mean that they are not available with the downloaded SDK anymore, it seems that this is actually the case.</p>\n\n<p>Anyway, adding google() to my build.gradle didn't work (not found, undefined, or whatever...), so I used a different approach that I found in this document referenced from the previous one:</p>\n\n<p><a href=\"https://developer.android.com/studio/build/dependencies.html#google-maven\" rel=\"noreferrer\">https://developer.android.com/studio/build/dependencies.html#google-maven</a></p>\n\n<p>I modified my build.gradle file adding that line to allprojects/repositories, as in:</p>\n\n<pre><code>allprojects {\n...\n    repositories {\n...\n        maven { url \"https://maven.google.com/\"}\n    }\n}\n</code></pre>\n\n<p>And then also in the android section in the same build.gradle file:</p>\n\n<pre><code>project(\":android\") {\n...\n    dependencies {\n...\n        compile 'com.google.android.gms:play-services-ads:11.2.0'\n    }\n}\n</code></pre>\n\n<p>Those two lines were enough to make Gradle sync without problems. I didn't need to add any plugins apart from the ones that are already added in my libGDX project by default.</p>\n\n<p>After that, I got a few different errors, but none about Gradle or dependencies. In a brief, JFTR: </p>\n\n<p>First, I had a minSdkVersion of 8. Solved by raising it to 14. I think I could live without supporting all those devices below 14. </p>\n\n<p>Second, I had problems with the dex upper limit of references. I've never faced this problem before, but maybe you've already noticed the solution I used: instead of compiling the whole 'com.google.android.gms:play-services' I used only 'com.google.android.gms:play-services-ads' that's the API I'm actually interested right now. For those other particular cases where a solution like this may not be useful, this document could provide some better insight: <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n\n<p>Third, even after that I got this \"jumbo\" thing problem described and answered here: <a href=\"https://stackoverflow.com/a/26248495/1160360\">https://stackoverflow.com/a/26248495/1160360</a></p>\n\n<p>And that's it. As of now, everything builds and my game does finally shows those Admob banners. </p>\n\n<p>I've spent hours with this, thought, which makes me wonder if all these building automation systems we are using lately are worth the extra load they add. </p>\n\n<p>I mean, the first time I had to add Admob to an app five years ago or so, I just had to download a .jar file and put it on a directory on my project. It was pretty obvious and the whole process, from googling \"how to setup Admob in my android project\" to have my app showing an Admob banner took me just a few minutes. I'm gonna leave it here, since this is not the place for such kind of debate.</p>\n\n<p>Nonetheless, I hope my own experience is useful for someone else further.</p>\n"},{"tags":[],"owner":{"account_id":11443774,"reputation":11,"user_id":8388369,"display_name":"Amirhosein"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505299746,"creation_date":1505299746,"answer_id":46195542,"question_id":45692460,"body_markdown":"I had that problem.\r\nAnd I found this solve.\r\nIn Android Studio, Open File menu, and go to Project Structure, In Module app, go to dependencies tab and you can add &#39;com.google.android.gms:play-services:x.x.x&#39; by clicking on + button. ","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I had that problem.\nAnd I found this solve.\nIn Android Studio, Open File menu, and go to Project Structure, In Module app, go to dependencies tab and you can add 'com.google.android.gms:play-services:x.x.x' by clicking on + button. </p>\n"},{"tags":[],"owner":{"account_id":11086994,"reputation":1206,"user_id":8140312,"display_name":"zsubzwary"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1505613113,"creation_date":1505613113,"answer_id":46259968,"question_id":45692460,"body_markdown":"Add this to your project-level `build.gradle` file:\r\n\r\n    repositories {\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n\r\nIt worked for me","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>Add this to your project-level <code>build.gradle</code> file:</p>\n\n<pre><code>repositories {\n    maven {\n        url \"https://maven.google.com\"\n    }\n}\n</code></pre>\n\n<p>It worked for me</p>\n"},{"tags":[],"owner":{"account_id":1025306,"reputation":2942,"user_id":1034746,"display_name":"Noureddine AMRI"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514620897,"creation_date":1514620897,"answer_id":48032101,"question_id":45692460,"body_markdown":"A more up to date answer:\r\n\r\n    allprojects {\r\n        repositories {\r\n            google() // add this\r\n        }\r\n    }\r\n\r\nAnd don&#39;t forget to update gradle to 4.1+ (in gradle-wrapper.properties):\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip\r\n\r\nsource: https://developer.android.com/studio/build/dependencies.html#google-maven","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>A more up to date answer:</p>\n\n<pre><code>allprojects {\n    repositories {\n        google() // add this\n    }\n}\n</code></pre>\n\n<p>And don't forget to update gradle to 4.1+ (in gradle-wrapper.properties):</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip\n</code></pre>\n\n<p>source: <a href=\"https://developer.android.com/studio/build/dependencies.html#google-maven\" rel=\"noreferrer\">https://developer.android.com/studio/build/dependencies.html#google-maven</a></p>\n"},{"tags":[],"owner":{"account_id":8336236,"reputation":3107,"user_id":6263091,"display_name":"Abolfazl Miadian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525330117,"creation_date":1525330117,"answer_id":50148583,"question_id":45692460,"body_markdown":"this is probably about you don&#39;t entered correct dependency version. \r\nyou can select correct dependency from this:\r\n\r\n    file&gt;menu&gt;project structure&gt;app&gt;dependencies&gt;+&gt;Library Dependency&gt;select any thing you need &gt; OK\r\n\r\nif cannot find your needs you should update your sdk from below way: \r\n\r\n   tools&gt;android&gt;sdk manager&gt;sdk update&gt;select any thing you need&gt;ok\r\n ","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>this is probably about you don't entered correct dependency version. \nyou can select correct dependency from this:</p>\n\n<pre><code>file&gt;menu&gt;project structure&gt;app&gt;dependencies&gt;+&gt;Library Dependency&gt;select any thing you need &gt; OK\n</code></pre>\n\n<p>if cannot find your needs you should update your sdk from below way: </p>\n\n<p>tools>android>sdk manager>sdk update>select any thing you need>ok</p>\n"},{"tags":[],"owner":{"account_id":2146055,"reputation":2489,"user_id":1903668,"accept_rate":65,"display_name":"Alen Lee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525331805,"creation_date":1525331805,"answer_id":50149045,"question_id":45692460,"body_markdown":"At the latest `Google Play Services 15.0.0`, it occurs this error when you include entire play service like this\r\n\r\n    implementation &#39;com.google.android.gms:play‐services:15.0.0&#39;\r\n\r\nInstead, you must specific the detail service like `Google Drive`\r\n\r\n    com.google.android.gms:play-services-drive:15.0.0","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>At the latest <code>Google Play Services 15.0.0</code>, it occurs this error when you include entire play service like this</p>\n\n<pre><code>implementation 'com.google.android.gms:play‐services:15.0.0'\n</code></pre>\n\n<p>Instead, you must specific the detail service like <code>Google Drive</code></p>\n\n<pre><code>com.google.android.gms:play-services-drive:15.0.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9751846,"reputation":2481,"user_id":7229859,"accept_rate":60,"display_name":"MJakhongir"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1527593828,"creation_date":1527593828,"answer_id":50583412,"question_id":45692460,"body_markdown":"Check you gradle settings, it may be set to Offline Work","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>Check you gradle settings, it may be set to Offline Work</p>\n"},{"tags":[],"owner":{"account_id":4165632,"reputation":4086,"user_id":3414662,"accept_rate":63,"display_name":"Moussa"},"down_vote_count":0,"up_vote_count":226,"is_accepted":false,"score":226,"last_activity_date":1530546036,"creation_date":1530546036,"answer_id":51139617,"question_id":45692460,"body_markdown":"I had the issue when I put `jcenter()` before `google()` in project level build.gradle. When I changed the order and put `google()` before `jcenter()` in build.gradle the problem disappeared\r\n\r\nHere is my final build.gradle\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.3&#39;\r\n            \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I had the issue when I put <code>jcenter()</code> before <code>google()</code> in project level build.gradle. When I changed the order and put <code>google()</code> before <code>jcenter()</code> in build.gradle the problem disappeared</p>\n\n<p>Here is my final build.gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033378,"reputation":93,"user_id":3318703,"display_name":"user3318703"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533005473,"creation_date":1533005473,"answer_id":51604787,"question_id":45692460,"body_markdown":"I have found following solution to replace following code\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.3&#39;\r\n            classpath &#39;com.google.gms:google-services:3.2.0&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nIt&#39;s work fine for me","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I have found following solution to replace following code</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath 'com.google.gms:google-services:3.2.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>It's work fine for me</p>\n"},{"tags":[],"owner":{"account_id":3394748,"reputation":11749,"user_id":2848676,"accept_rate":75,"display_name":"Michael Osofsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537983863,"creation_date":1537983863,"answer_id":52523429,"question_id":45692460,"body_markdown":"I got this error too but for a different reason.  It turns out I had made a typo when I tried to specify the version number as a variable:\r\n\r\n    dependencies {\r\n        // ...\r\n        implementation &quot;com.google.android.gms:play-services-location:{$playServices}&quot;\r\n        // ...\r\n    }\r\n\r\nI had defined the variable playServices in gradle.properties in my project&#39;s root directory:\r\n\r\n    playServices=15.0.1\r\n\r\nThe typo was `{$playServices}` which should have said `${playServices}` like this:\r\n\r\n    dependencies {\r\n        // ...\r\n        implementation &quot;com.google.android.gms:play-services-location:${playServices}&quot;\r\n        // ...\r\n    }\r\n\r\nThat fixed the problem for me.","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I got this error too but for a different reason.  It turns out I had made a typo when I tried to specify the version number as a variable:</p>\n\n<pre><code>dependencies {\n    // ...\n    implementation \"com.google.android.gms:play-services-location:{$playServices}\"\n    // ...\n}\n</code></pre>\n\n<p>I had defined the variable playServices in gradle.properties in my project's root directory:</p>\n\n<pre><code>playServices=15.0.1\n</code></pre>\n\n<p>The typo was <code>{$playServices}</code> which should have said <code>${playServices}</code> like this:</p>\n\n<pre><code>dependencies {\n    // ...\n    implementation \"com.google.android.gms:play-services-location:${playServices}\"\n    // ...\n}\n</code></pre>\n\n<p>That fixed the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":3369510,"reputation":4400,"user_id":2829128,"accept_rate":92,"display_name":"AlexioVay"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1541107554,"creation_date":1541107554,"answer_id":53109582,"question_id":45692460,"body_markdown":"I tried solving this problem for hours after I haven&#39;t used Android Studio some time and wasn&#39;t aware of the updates.\r\n\r\nIt is important that `google()` is the first item that stands in `repositories` like this:\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\nSomehow `google()` was the second item after `jcenter()`, so everything was messed up and didn&#39;t work. Maybe this helps someone.","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I tried solving this problem for hours after I haven't used Android Studio some time and wasn't aware of the updates.</p>\n\n<p>It is important that <code>google()</code> is the first item that stands in <code>repositories</code> like this:</p>\n\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n</code></pre>\n\n<p>Somehow <code>google()</code> was the second item after <code>jcenter()</code>, so everything was messed up and didn't work. Maybe this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611912135,"creation_date":1611912135,"answer_id":65951781,"question_id":45692460,"body_markdown":"In my case I was using version **17.0.1** .It was showing error.\r\n\r\n    implementation &quot;com.google.android.gms:play-services-location:17.0.1&quot;\r\n\r\nAfter changing version to **17.0.0**, it worked\r\n\r\n    implementation &quot;com.google.android.gms:play-services-location:17.0.0&quot;\r\n\r\nReason might be I was using maps dependency of version 17.0.0 &amp; location version as 17.0.1.It might have thrown error.So,try to maintain  consistency in version numbers.","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>In my case I was using version <strong>17.0.1</strong> .It was showing error.</p>\n<pre><code>implementation &quot;com.google.android.gms:play-services-location:17.0.1&quot;\n</code></pre>\n<p>After changing version to <strong>17.0.0</strong>, it worked</p>\n<pre><code>implementation &quot;com.google.android.gms:play-services-location:17.0.0&quot;\n</code></pre>\n<p>Reason might be I was using maps dependency of version 17.0.0 &amp; location version as 17.0.1.It might have thrown error.So,try to maintain  consistency in version numbers.</p>\n"},{"tags":[],"owner":{"account_id":13584740,"reputation":399,"user_id":9799753,"display_name":"mewadaarvind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639134374,"creation_date":1639134374,"answer_id":70303568,"question_id":45692460,"body_markdown":"step 1:\r\nOpen android folder\r\n\r\nstep 2: \r\nopen gradlew.bat file\r\n\r\nstep 3:\r\nSearch  this (possible line no 74)\r\n@rem Execute Gradle\r\n&quot;%JAVA_EXE%&quot; %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% &quot;-Dorg.gradle.appname=%APP_BASE_NAME%&quot; -classpath &quot;%CLASSPATH%&quot; org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%\r\n\r\nStep 4:\r\nadd  --offline add the end like \r\n\r\n@rem Execute Gradle\r\n&quot;%JAVA_EXE%&quot; %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% &quot;-Dorg.gradle.appname=%APP_BASE_NAME%&quot; -classpath &quot;%CLASSPATH%&quot; org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS% --offline","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>step 1:\nOpen android folder</p>\n<p>step 2:\nopen gradlew.bat file</p>\n<p>step 3:\nSearch  this (possible line no 74)\n@rem Execute Gradle\n&quot;%JAVA_EXE%&quot; %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% &quot;-Dorg.gradle.appname=%APP_BASE_NAME%&quot; -classpath &quot;%CLASSPATH%&quot; org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%</p>\n<p>Step 4:\nadd  --offline add the end like</p>\n<p>@rem Execute Gradle\n&quot;%JAVA_EXE%&quot; %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% &quot;-Dorg.gradle.appname=%APP_BASE_NAME%&quot; -classpath &quot;%CLASSPATH%&quot; org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS% --offline</p>\n"}],"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184513,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"accepted_answer_id":45695269,"answer_count":14,"score":85,"last_activity_date":1671481044,"creation_date":1502798542,"question_id":45692460,"body_markdown":"I&#39;m trying to add google play services to my libGDX project in IntelliJ Idea. I&#39;ve followed the setup guide here: https://developers.google.com/android/guides/setup\r\n\r\nwhich looks pretty straightforward. I just added those lines to my build.gradle in the corresponding section, so things look now like:\r\n\r\n    project(&quot;:android&quot;) {\r\n        apply plugin: &quot;android&quot;\r\n        apply plugin: &#39;com.android.application&#39;\r\n        \r\n        configurations { natives }\r\n        \r\n        dependencies {\r\n            compile project(&quot;:core&quot;)\r\n            compile &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\r\n            compile &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\r\n            compile &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\r\n            compile &#39;com.google.android.gms:play-services:11.2.0&#39;\r\n        }\r\n    }\r\n\r\nThen I try to sync my gradle project in Idea just to get that &quot;Failed to resolve&quot; error.\r\n\r\nWell, the setup guide also says &quot;Be sure you update this version number each time Google Play services is updated&quot;, but the problem is that it seems nearly impossible to find that version number: my Google Play Services SDK version according to the Android SDK manager is &quot;43&quot;, and so far I have been unable to correlate such &quot;11.2.0&quot; or whatever typical version string with the &quot;43&quot; version number. Not that the setup guide says nothing about that.\r\n\r\nAnyway, I have tried a lot of things from the plethora of questions related to this to no avail. Specifically, I have to point out that I do have my Android SDK properly updated and I&#39;m sure it is the one it&#39;s being used by Idea (I&#39;ve already triple-checked this...):\r\n\r\n[![Android SDK Manager][1]][1]\r\n[![Project Structure][2]][2]\r\n\r\nI&#39;m using the API level 26, but anyway the other defines do use the very same directory for the Android SDK. Moreover, I do NOT have any other android SDK installed at all in this laptop, so there&#39;s no question about Idea being using that one and that one only. \r\n\r\nAny ideas are welcome.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gIYz7.png\r\n  [2]: https://i.stack.imgur.com/bSxSl.png","title":"Failed to resolve: com.google.android.gms:play-services in IntelliJ Idea with gradle","body":"<p>I'm trying to add google play services to my libGDX project in IntelliJ Idea. I've followed the setup guide here: <a href=\"https://developers.google.com/android/guides/setup\" rel=\"nofollow noreferrer\">https://developers.google.com/android/guides/setup</a></p>\n<p>which looks pretty straightforward. I just added those lines to my build.gradle in the corresponding section, so things look now like:</p>\n<pre><code>project(&quot;:android&quot;) {\n    apply plugin: &quot;android&quot;\n    apply plugin: 'com.android.application'\n    \n    configurations { natives }\n    \n    dependencies {\n        compile project(&quot;:core&quot;)\n        compile &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\n        compile &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\n        compile &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\n        compile 'com.google.android.gms:play-services:11.2.0'\n    }\n}\n</code></pre>\n<p>Then I try to sync my gradle project in Idea just to get that &quot;Failed to resolve&quot; error.</p>\n<p>Well, the setup guide also says &quot;Be sure you update this version number each time Google Play services is updated&quot;, but the problem is that it seems nearly impossible to find that version number: my Google Play Services SDK version according to the Android SDK manager is &quot;43&quot;, and so far I have been unable to correlate such &quot;11.2.0&quot; or whatever typical version string with the &quot;43&quot; version number. Not that the setup guide says nothing about that.</p>\n<p>Anyway, I have tried a lot of things from the plethora of questions related to this to no avail. Specifically, I have to point out that I do have my Android SDK properly updated and I'm sure it is the one it's being used by Idea (I've already triple-checked this...):</p>\n<p><a href=\"https://i.stack.imgur.com/gIYz7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIYz7.png\" alt=\"Android SDK Manager\" /></a>\n<a href=\"https://i.stack.imgur.com/bSxSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bSxSl.png\" alt=\"Project Structure\" /></a></p>\n<p>I'm using the API level 26, but anyway the other defines do use the very same directory for the Android SDK. Moreover, I do NOT have any other android SDK installed at all in this laptop, so there's no question about Idea being using that one and that one only.</p>\n<p>Any ideas are welcome.</p>\n"},{"tags":["java","selenium","button","automation","automated-tests"],"comments":[{"owner":{"account_id":21477048,"reputation":1251,"user_id":15825125,"display_name":"itronic1990"},"score":0,"creation_date":1650546250,"post_id":71954744,"comment_id":127147153,"body_markdown":"is the xpath right? can you add a condition isEnabled() before clicking?","body":"is the xpath right? can you add a condition isEnabled() before clicking?"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1650546396,"post_id":71954744,"comment_id":127147229,"body_markdown":"Used both xpath and css to locate the element. I used the function isEnabled and it returns false. The enabled mode is null. The thing that bugs me the most is why on debugging, when I manually click it doesn’t respond. Also, the step successed, but on screen the form is not being sent","body":"Used both xpath and css to locate the element. I used the function isEnabled and it returns false. The enabled mode is null. The thing that bugs me the most is why on debugging, when I manually click it doesn’t respond. Also, the step successed, but on screen the form is not being sent"},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1650546947,"post_id":71954744,"comment_id":127147476,"body_markdown":"Have you tried ?     WebDriverWait wait = new WebDriverWait(driver, 10);\n            wait.until(ExpectedConditions.elementToBeClickable(locator))","body":"Have you tried ?     WebDriverWait wait = new WebDriverWait(driver, 10);             wait.until(ExpectedConditions.elementToBeClickable(locator))"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1650547996,"post_id":71954744,"comment_id":127147947,"body_markdown":"Yes I have this by default in my method before executing click command, with different timeout given. Tried 10 it didn&#39;t work.","body":"Yes I have this by default in my method before executing click command, with different timeout given. Tried 10 it didn&#39;t work."},{"owner":{"account_id":21171725,"reputation":306,"user_id":15567914,"display_name":"Claudio Batista"},"score":0,"creation_date":1650550298,"post_id":71954744,"comment_id":127148903,"body_markdown":"Check the javascript attached to the submit button. your automation is doing something that is clearly not being detected by the javascript implementation","body":"Check the javascript attached to the submit button. your automation is doing something that is clearly not being detected by the javascript implementation"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1650553358,"post_id":71954744,"comment_id":127150205,"body_markdown":"Ok, maybe something broken with the button? I will ask the developers","body":"Ok, maybe something broken with the button? I will ask the developers"},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1650594815,"post_id":71954744,"comment_id":127161000,"body_markdown":"How are you setting the text input? If you do that in js it might not fire the event it needs to update","body":"How are you setting the text input? If you do that in js it might not fire the event it needs to update"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1650777311,"post_id":71954744,"comment_id":127199366,"body_markdown":"When putting text, the send button becomes available to click. While stopping the automation and trying to click manually it doesn&#39;t work. So not Selenium method will help. But if I try manually from the start it works, or if I close the form and open a new form","body":"When putting text, the send button becomes available to click. While stopping the automation and trying to click manually it doesn&#39;t work. So not Selenium method will help. But if I try manually from the start it works, or if I close the form and open a new form"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1652253825,"post_id":71954744,"comment_id":127558790,"body_markdown":"what is the error you are seeing in the console while clicking?","body":"what is the error you are seeing in the console while clicking?"},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1652253939,"post_id":71954744,"comment_id":127558833,"body_markdown":"there is no error, it clicked but nothing happened, didn&#39;t close the form","body":"there is no error, it clicked but nothing happened, didn&#39;t close the form"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650580321,"creation_date":1650580321,"answer_id":71961553,"question_id":71954744,"body_markdown":"To [_click()_](https://stackoverflow.com/a/70077251/7429447) on any _**clickable**_  element ideally you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following solutions:\r\n\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//elementXpath&quot;))).click();\r\n\t\r\nAs an alternative, using `Actions` class:\r\n\r\n\tnew Actions(driver).moveToElement(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//elementXpath&quot;)))).click().build().perform();\r\n\r\nAnother alternative, using `JavascriptExecutor`:\r\n\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//elementXpath&quot;)))); ","title":"Can&#39;t click on Submit button, not working in automation testing, works manually","body":"<p>To <a href=\"https://stackoverflow.com/a/70077251/7429447\"><em>click()</em></a> on any <em><strong>clickable</strong></em>  element ideally you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following solutions:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//elementXpath&quot;))).click();\n</code></pre>\n<p>As an alternative, using <code>Actions</code> class:</p>\n<pre><code>new Actions(driver).moveToElement(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//elementXpath&quot;)))).click().build().perform();\n</code></pre>\n<p>Another alternative, using <code>JavascriptExecutor</code>:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//elementXpath&quot;)))); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25090636,"reputation":204,"user_id":18942308,"display_name":"Software Tester at ExpandCart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650916548,"creation_date":1650916548,"answer_id":72005087,"question_id":71954744,"body_markdown":"According to your steps an replays , may be there is a hidden popup or something block your elements ,so use **WebDriverWait** not only clickable but try to **elementToBeSelected()** , **invisibilityOfTheElementLocated()** or \r\n**presenceOfAllElementsLocatedBy()**\r\n\r\nincrease the waiting time to be able to detect the issues ","title":"Can&#39;t click on Submit button, not working in automation testing, works manually","body":"<p>According to your steps an replays , may be there is a hidden popup or something block your elements ,so use <strong>WebDriverWait</strong> not only clickable but try to <strong>elementToBeSelected()</strong> , <strong>invisibilityOfTheElementLocated()</strong> or\n<strong>presenceOfAllElementsLocatedBy()</strong></p>\n<p>increase the waiting time to be able to detect the issues</p>\n"}],"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671480887,"creation_date":1650545242,"question_id":71954744,"body_markdown":"I have a standard form with 2 text boxes to fill and a submit button. The Submit button suppose to work after filling in the first mandatory text box.\r\nIt works manually, but when running on the automation infrastructure, the element doesn&#39;t get clicked.\r\nThe odd thing is that when debugging, the submit button is not clickable too, although it&#39;s not greyed out.\r\nI tried the 3 classic methods:\r\nJavascript:\r\n\r\n     JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n     executor.executeScript(&quot;arguments[0].click();&quot;, element);    \r\n\r\nActions:\r\n``` \r\nActions actions = new Actions(driver);\r\nactions.moveToElement(element).click().perform();\r\n```\r\nclick:\r\n```\r\nelement.click()\r\n```\r\n\r\n**Not working manually while in automation **\r\nonly when closing the form and creating a new one it works.\r\n\r\n          \r\n\r\n\r\n        \r\n  ","title":"Can&#39;t click on Submit button, not working in automation testing, works manually","body":"<p>I have a standard form with 2 text boxes to fill and a submit button. The Submit button suppose to work after filling in the first mandatory text box.\nIt works manually, but when running on the automation infrastructure, the element doesn't get clicked.\nThe odd thing is that when debugging, the submit button is not clickable too, although it's not greyed out.\nI tried the 3 classic methods:\nJavascript:</p>\n<pre><code> JavascriptExecutor executor = (JavascriptExecutor)driver;\n executor.executeScript(&quot;arguments[0].click();&quot;, element);    \n</code></pre>\n<p>Actions:</p>\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(element).click().perform();\n</code></pre>\n<p>click:</p>\n<pre><code>element.click()\n</code></pre>\n<p>**Not working manually while in automation **\nonly when closing the form and creating a new one it works.</p>\n"},{"tags":["java","hibernate","jpa","spring-data","audit"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669059782,"post_id":74490819,"comment_id":131552764,"body_markdown":"you didn&#39;t show the dictTariffOption mapping in your entity definitions, so there is nothing to go on explaining why you might see or have problems with dictTariffOption and tariffOptions. If you have two references (Lists?) to the same object type and the same data, make sure object instance identity is maintained in them. JSON deserialization is known to have issues as it doesn&#39;t abide by JPA specified object identity if building a DictTarriff - you&#39;ll have to give it information to know that the same TariffOption instance is used multiple times within an object graph.","body":"you didn&#39;t show the dictTariffOption mapping in your entity definitions, so there is nothing to go on explaining why you might see or have problems with dictTariffOption and tariffOptions. If you have two references (Lists?) to the same object type and the same data, make sure object instance identity is maintained in them. JSON deserialization is known to have issues as it doesn&#39;t abide by JPA specified object identity if building a DictTarriff - you&#39;ll have to give it information to know that the same TariffOption instance is used multiple times within an object graph."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1669060443,"post_id":74490819,"comment_id":131552973,"body_markdown":"@Chris dictTarifOption variable is actually TariffOption Entity, that was my typo","body":"@Chris dictTarifOption variable is actually TariffOption Entity, that was my typo"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1669060650,"post_id":74490819,"comment_id":131553030,"body_markdown":"@Chris so the question is how not to update `dictTariff` entityvariable of `DictTariff` entity explicitly after I have updated and saved the `dictTariffOption` varible of `TariffOption` entity.","body":"@Chris so the question is how not to update <code>dictTariff</code> entityvariable of <code>DictTariff</code> entity explicitly after I have updated and saved the <code>dictTariffOption</code> varible of <code>TariffOption</code> entity."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669067048,"post_id":74490819,"comment_id":131554742,"body_markdown":"I still do not follow - please update/edit your question. What exactly is &#39;saved&#39; in the situation you are describing? JPA deals with persist and merge calls, and since you have not specified the cascade merge option on the relationship, changes within the TariffOption.tariff instance itself should not get pick up. At least, not through that reference. Are you maybe read in in the TariffOption and DictTariff instances in the same transaction and making changes? Anything read in is managed, so you don&#39;t even need to call save for changes to be synchronized to the database when commit occurs","body":"I still do not follow - please update/edit your question. What exactly is &#39;saved&#39; in the situation you are describing? JPA deals with persist and merge calls, and since you have not specified the cascade merge option on the relationship, changes within the TariffOption.tariff instance itself should not get pick up. At least, not through that reference. Are you maybe read in in the TariffOption and DictTariff instances in the same transaction and making changes? Anything read in is managed, so you don&#39;t even need to call save for changes to be synchronized to the database when commit occurs"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669067296,"post_id":74490819,"comment_id":131554800,"body_markdown":"Also what is &#39;audit&#39; here? Are you using envers or some other tool hooked into hibernate that maybe is picking up lifecycle events that are picking up changes when there are none, or are there actual update statements occurring to the DictTariff somehow.","body":"Also what is &#39;audit&#39; here? Are you using envers or some other tool hooked into hibernate that maybe is picking up lifecycle events that are picking up changes when there are none, or are there actual update statements occurring to the DictTariff somehow."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1669109148,"post_id":74490819,"comment_id":131563186,"body_markdown":"@Chris `dictTariff` instance is retrieved from the DB in order just to get some values from it and no setter is called for it. But JPA marks it as &#39;dirty&#39; and when the `tariffOption` is updated JPA tries to save the dictTariff again with no clear reason. I see the update calls for the `dictTariff` there. Once the update call is done, the new line is added to the audit schema table, bearing exactly the same values in all columns that were before. So the question is how to avoid JPA consider `dictTariff` needed to be updated on `.save(tariffOption)`","body":"@Chris <code>dictTariff</code> instance is retrieved from the DB in order just to get some values from it and no setter is called for it. But JPA marks it as &#39;dirty&#39; and when the <code>tariffOption</code> is updated JPA tries to save the dictTariff again with no clear reason. I see the update calls for the <code>dictTariff</code> there. Once the update call is done, the new line is added to the audit schema table, bearing exactly the same values in all columns that were before. So the question is how to avoid JPA consider <code>dictTariff</code> needed to be updated on <code>.save(tariffOption)</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669133117,"post_id":74490819,"comment_id":131572376,"body_markdown":"&quot;JPA marks it as &#39;dirty&#39;&quot; - what are you using to figure that out? How is JPA (Hibernate, not JPA) trying to &#39;save the dictTariff again&#39; exactly - is the update call you refer to something to do with your auditing, an auditing tool, or an actual update statement to update columns with &#39;new&#39; values. To be clear, you have the audited annotation, but not mentioned hibernate envers (Not JPA at all) as the tool used for auditing, and your question seemed aimed at an extra entity insert, not an auditing table issue. Add more detail and specifics- does it always occur, or just on some changes?","body":"&quot;JPA marks it as &#39;dirty&#39;&quot; - what are you using to figure that out? How is JPA (Hibernate, not JPA) trying to &#39;save the dictTariff again&#39; exactly - is the update call you refer to something to do with your auditing, an auditing tool, or an actual update statement to update columns with &#39;new&#39; values. To be clear, you have the audited annotation, but not mentioned hibernate envers (Not JPA at all) as the tool used for auditing, and your question seemed aimed at an extra entity insert, not an auditing table issue. Add more detail and specifics- does it always occur, or just on some changes?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1669140114,"post_id":74490819,"comment_id":131574973,"body_markdown":"I can&#39;t actually figure that out, but since dictTariff isn&#39;t updated in any place of the code but then I see the update sql query for it, it&#39;s probably done by Hibernate. And yes, there is a hibernate enver for audit, I have updated the question. And the audit insert (on dictTariff update) occurs on every tariffOption creation","body":"I can&#39;t actually figure that out, but since dictTariff isn&#39;t updated in any place of the code but then I see the update sql query for it, it&#39;s probably done by Hibernate. And yes, there is a hibernate enver for audit, I have updated the question. And the audit insert (on dictTariff update) occurs on every tariffOption creation"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1669143606,"post_id":74490819,"comment_id":131576110,"body_markdown":"When you create a new TariffOption, you are modifying the DictTariff.tariffOptions list. You&#39;ve changed it, so it triggers an audit. I can&#39;t find where this is described, but the reason is pretty obvious from the example on https://docs.jboss.org/envers/docs/ - it allows you to audit the number of values in the DictTariff.tariffOptions collection. If you don&#39;t want it, exclude it from being audited, or don&#39;t map it from the DictTariff side.","body":"When you create a new TariffOption, you are modifying the DictTariff.tariffOptions list. You&#39;ve changed it, so it triggers an audit. I can&#39;t find where this is described, but the reason is pretty obvious from the example on <a href=\"https://docs.jboss.org/envers/docs/\" rel=\"nofollow noreferrer\">docs.jboss.org/envers/docs</a> - it allows you to audit the number of values in the DictTariff.tariffOptions collection. If you don&#39;t want it, exclude it from being audited, or don&#39;t map it from the DictTariff side."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1669148602,"post_id":74490819,"comment_id":131577588,"body_markdown":"@Chris thanks, I can&#39;t exclude it as I need it to be mapped, but I I don&#39;t wan&#39;t them to be audited, how I can exclude the audit for the particular collection field?","body":"@Chris thanks, I can&#39;t exclude it as I need it to be mapped, but I I don&#39;t wan&#39;t them to be audited, how I can exclude the audit for the particular collection field?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1669213948,"post_id":74490819,"comment_id":131593926,"body_markdown":"Not sure - envers docs will have to guide you as I&#39;ve never used it, but by exclude, I was referring to their annotations, excluding it from auditing. https://www.baeldung.com/database-auditing-jpa shows a @NotAudited annotation","body":"Not sure - envers docs will have to guide you as I&#39;ve never used it, but by exclude, I was referring to their annotations, excluding it from auditing. <a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"nofollow noreferrer\">baeldung.com/database-auditing-jpa</a> shows a @NotAudited annotation"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1669272144,"post_id":74490819,"comment_id":131607781,"body_markdown":"@Chris if I just remove mapping on DictTariff side, but still will keep it on the TariffOption side, will that work as expected (i.e adding dictTariff link to TariffOption still will be updated to the db, while nothing will affect the dictTariff entity and the entityManager won&#39;t try to save that as like it was updated)?","body":"@Chris if I just remove mapping on DictTariff side, but still will keep it on the TariffOption side, will that work as expected (i.e adding dictTariff link to TariffOption still will be updated to the db, while nothing will affect the dictTariff entity and the entityManager won&#39;t try to save that as like it was updated)?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1669304254,"post_id":74490819,"comment_id":131618542,"body_markdown":"This isn&#39;t JPA or an entityManager problem, it is Envers. You should tag it as hibernate-envers since that is what you are using. I don&#39;t know  it, but I would guess it is fine since there is nothing mapped to track on the DictTariff side of things for it to audit.","body":"This isn&#39;t JPA or an entityManager problem, it is Envers. You should tag it as hibernate-envers since that is what you are using. I don&#39;t know  it, but I would guess it is fine since there is nothing mapped to track on the DictTariff side of things for it to audit."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1670350649,"post_id":74490819,"comment_id":131854853,"body_markdown":"@Chris could you please put your comment about the `@NotAudited` as the official answer, it was that what helped.","body":"@Chris could you please put your comment about the <code>@NotAudited</code> as the official answer, it was that what helped."}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671480646,"creation_date":1671480646,"answer_id":74855542,"question_id":74490819,"body_markdown":"Per Chris, \r\n\r\n    public class DictTariff extends BaseEntity {\r\n    @OneToMany(mappedBy = &quot;tariff&quot;, fetch = FetchType.LAZY)\r\n    @NotAudited\r\n    private List&lt;TariffOption&gt; tariffOptions;\r\n\r\n\r\nhelped and no longer update the audit changes on `DictTariff` when whe `TariffOption`, reffering the `DictTariff` is saved.","title":"How not to update linked through @ManyToOne entity in JPA if it causes too much updates in audit tables?","body":"<p>Per Chris,</p>\n<pre><code>public class DictTariff extends BaseEntity {\n@OneToMany(mappedBy = &quot;tariff&quot;, fetch = FetchType.LAZY)\n@NotAudited\nprivate List&lt;TariffOption&gt; tariffOptions;\n</code></pre>\n<p>helped and no longer update the audit changes on <code>DictTariff</code> when whe <code>TariffOption</code>, reffering the <code>DictTariff</code> is saved.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74855542,"answer_count":1,"score":0,"last_activity_date":1671480646,"creation_date":1668780081,"question_id":74490819,"body_markdown":"We have 2 `@Entity`s having fields like that:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Audited\r\n    @AuditTable(schema = &quot;audit&quot;, value = &quot;tariff_option&quot;)\r\n    @AuditOverride(forClass = BaseEntity.class, isAudited = true)\r\n    @Table(name = &quot;tariff_option&quot;)\r\n    @EqualsAndHashCode(of = {}, callSuper = true)\r\n    @ToString()\r\n    public class TariffOption extends BaseEntity {\r\n        private static final long serialVersionUID = -6398231779406280786L;\r\n    \r\n        ...\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;dict_tariff_id&quot;, updatable = false)\r\n        private DictTariff tariff;\r\n    }\r\n\r\nand\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Audited\r\n    @AuditTable(schema = &quot;audit&quot;, value = &quot;dict_tariff&quot;)\r\n    @AuditOverride(forClass = BaseEntity.class, isAudited = true)\r\n    @Table(name = &quot;dict_tariff&quot;)\r\n    @EqualsAndHashCode(of = {}, callSuper = true)\r\n    @ToString(exclude = {&quot;contractorTypes&quot;, &quot;service&quot;, &quot;tariffOptions&quot;, &quot;dictTariffOptions&quot;})\r\n    @JsonIgnoreProperties(value = {&quot;contractorTypes&quot;, &quot;service&quot;, &quot;tariffOptions&quot;, &quot;dictTariffOptions&quot;})\r\n    public class DictTariff extends BaseEntity {\r\n        private static final long serialVersionUID = -3881580795280130829L;\r\n        ...\r\n        @OneToMany(mappedBy = &quot;tariff&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;TariffOption&gt; tariffOptions;\r\n    }\r\n\r\nand then when we save the `dictTariffOption` variable of `TariffOption` class, the associated `dictTariff` of `DictTariff` class is saved because of `@ManyToOne` annotation and ownership of the tie by the `dictTariffOption`:\r\n\r\n    repository.save(dictTariffOption)\r\n\r\nThis causes problem that on any change of `dictTariffOption` the `dictTariff` is saved again with the same values. That causes the new entry in audit scheme what we want to avoid.\r\n\r\nI tried `EntityManager.detach(dictTariff)` right before saving the `dictTariffOption`, but it doesn&#39;t help. So what is the approach to ignore the update of the linked entity? I also tried to re-retireve it right before the save to make it not to be JPA-dirty, but it doesn&#39;t help and it got updated. \r\n\r\n    jpa:\r\n        generate-ddl: false\r\n        hibernate:\r\n          ddl-auto: validate\r\n        properties:\r\n          hibernate:\r\n            dialect: rf.dom.billing.model.common.postgres.CustomPostgreSqlDialect\r\n            enable_lazy_load_no_trans: true\r\n          org:\r\n            hibernate:\r\n              envers:\r\n                default_schema: audit\r\n\r\n","title":"How not to update linked through @ManyToOne entity in JPA if it causes too much updates in audit tables?","body":"<p>We have 2 <code>@Entity</code>s having fields like that:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Audited\n@AuditTable(schema = &quot;audit&quot;, value = &quot;tariff_option&quot;)\n@AuditOverride(forClass = BaseEntity.class, isAudited = true)\n@Table(name = &quot;tariff_option&quot;)\n@EqualsAndHashCode(of = {}, callSuper = true)\n@ToString()\npublic class TariffOption extends BaseEntity {\n    private static final long serialVersionUID = -6398231779406280786L;\n\n    ...\n    @ManyToOne\n    @JoinColumn(name = &quot;dict_tariff_id&quot;, updatable = false)\n    private DictTariff tariff;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Audited\n@AuditTable(schema = &quot;audit&quot;, value = &quot;dict_tariff&quot;)\n@AuditOverride(forClass = BaseEntity.class, isAudited = true)\n@Table(name = &quot;dict_tariff&quot;)\n@EqualsAndHashCode(of = {}, callSuper = true)\n@ToString(exclude = {&quot;contractorTypes&quot;, &quot;service&quot;, &quot;tariffOptions&quot;, &quot;dictTariffOptions&quot;})\n@JsonIgnoreProperties(value = {&quot;contractorTypes&quot;, &quot;service&quot;, &quot;tariffOptions&quot;, &quot;dictTariffOptions&quot;})\npublic class DictTariff extends BaseEntity {\n    private static final long serialVersionUID = -3881580795280130829L;\n    ...\n    @OneToMany(mappedBy = &quot;tariff&quot;, fetch = FetchType.LAZY)\n    private List&lt;TariffOption&gt; tariffOptions;\n}\n</code></pre>\n<p>and then when we save the <code>dictTariffOption</code> variable of <code>TariffOption</code> class, the associated <code>dictTariff</code> of <code>DictTariff</code> class is saved because of <code>@ManyToOne</code> annotation and ownership of the tie by the <code>dictTariffOption</code>:</p>\n<pre><code>repository.save(dictTariffOption)\n</code></pre>\n<p>This causes problem that on any change of <code>dictTariffOption</code> the <code>dictTariff</code> is saved again with the same values. That causes the new entry in audit scheme what we want to avoid.</p>\n<p>I tried <code>EntityManager.detach(dictTariff)</code> right before saving the <code>dictTariffOption</code>, but it doesn't help. So what is the approach to ignore the update of the linked entity? I also tried to re-retireve it right before the save to make it not to be JPA-dirty, but it doesn't help and it got updated.</p>\n<pre><code>jpa:\n    generate-ddl: false\n    hibernate:\n      ddl-auto: validate\n    properties:\n      hibernate:\n        dialect: rf.dom.billing.model.common.postgres.CustomPostgreSqlDialect\n        enable_lazy_load_no_trans: true\n      org:\n        hibernate:\n          envers:\n            default_schema: audit\n</code></pre>\n"},{"tags":["java","parsing","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1659880932,"post_id":1905551,"comment_id":129395275,"body_markdown":"For any new readers to this old question I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For any new readers to this old question I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1260858617,"creation_date":1260858617,"answer_id":1905558,"question_id":1905551,"body_markdown":"You need to make it [non-lenient][1]. Thus,\r\n\r\n    format.setLenient(false);\r\n\r\nshould do it.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/text/DateFormat.html#setLenient%28boolean%29","title":"Make SimpleDateFormat.parse() fail on invalid dates (e.g. month is greater than 12)","body":"<p>You need to make it <a href=\"http://java.sun.com/javase/6/docs/api/java/text/DateFormat.html#setLenient%28boolean%29\" rel=\"noreferrer\">non-lenient</a>. Thus,</p>\n\n<pre><code>format.setLenient(false);\n</code></pre>\n\n<p>should do it.</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434294668,"creation_date":1434291599,"answer_id":30830455,"question_id":1905551,"body_markdown":"You can use the Java 8 time API. If by example you use a month with a value of `15`:\r\n\r\n    String strDate = &quot;20091504&quot;;\r\n    TemporalAccessor ta = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;).parse(strDate);\r\n\r\nYou will directly have an exception\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\r\n    Text &#39;20091504&#39; could not be parsed:\r\n    Invalid value for MonthOfYear (valid values 1 - 12): 15\r\n","title":"Make SimpleDateFormat.parse() fail on invalid dates (e.g. month is greater than 12)","body":"<p>You can use the Java 8 time API. If by example you use a month with a value of <code>15</code>:</p>\n\n<pre><code>String strDate = \"20091504\";\nTemporalAccessor ta = DateTimeFormatter.ofPattern(\"yyyyMMdd\").parse(strDate);\n</code></pre>\n\n<p>You will directly have an exception</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException:\nText '20091504' could not be parsed:\nInvalid value for MonthOfYear (valid values 1 - 12): 15\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544176864,"creation_date":1544176864,"answer_id":53667215,"question_id":1905551,"body_markdown":"By using Java 8 `LocalDate` you can write like this,\r\n\r\n    String strDate = &quot;20091504&quot;;\r\n    LocalDate date1 = LocalDate.parse(strDate, DateTimeFormatter.BASIC_ISO_DATE);\r\n    System.out.println(date1);\r\n\r\nHere is the Exception is thrown during parsing\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;20091504&#39; could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 15\r\n\tat java.time.format.DateTimeFormatter.createError(Unknown Source)\r\n\tat java.time.format.DateTimeFormatter.parse(Unknown Source)\r\n\tat java.time.LocalDate.parse(Unknown Source)\r\n\tat com.katte.infa.DateFormatDemo.main(DateFormatDemo.java:22)\r\n    \r\n    Caused by: java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 15\r\n\tat java.time.temporal.ValueRange.checkValidIntValue(Unknown Source)\r\n\tat java.time.temporal.ChronoField.checkValidIntValue(Unknown Source)\r\n\tat java.time.chrono.IsoChronology.resolveYMD(Unknown Source)\r\n\tat java.time.chrono.IsoChronology.resolveYMD(Unknown Source)\r\n\tat java.time.chrono.AbstractChronology.resolveDate(Unknown Source)\r\n\tat java.time.chrono.IsoChronology.resolveDate(Unknown Source)\r\n\tat java.time.chrono.IsoChronology.resolveDate(Unknown Source)\r\n\tat java.time.format.Parsed.resolveDateFields(Unknown Source)\r\n\tat java.time.format.Parsed.resolveFields(Unknown Source)\r\n\tat java.time.format.Parsed.resolve(Unknown Source)\r\n\tat java.time.format.DateTimeParseContext.toResolved(Unknown Source)\r\n\tat java.time.format.DateTimeFormatter.parseResolved0(Unknown Source)\r\n\t... 3 more\r\n","title":"Make SimpleDateFormat.parse() fail on invalid dates (e.g. month is greater than 12)","body":"<p>By using Java 8 <code>LocalDate</code> you can write like this,</p>\n\n<pre><code>String strDate = \"20091504\";\nLocalDate date1 = LocalDate.parse(strDate, DateTimeFormatter.BASIC_ISO_DATE);\nSystem.out.println(date1);\n</code></pre>\n\n<p>Here is the Exception is thrown during parsing</p>\n\n<pre><code>Exception in thread \"main\" java.time.format.DateTimeParseException: Text '20091504' could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 15\nat java.time.format.DateTimeFormatter.createError(Unknown Source)\nat java.time.format.DateTimeFormatter.parse(Unknown Source)\nat java.time.LocalDate.parse(Unknown Source)\nat com.katte.infa.DateFormatDemo.main(DateFormatDemo.java:22)\n\nCaused by: java.time.DateTimeException: Invalid value for MonthOfYear (valid values 1 - 12): 15\nat java.time.temporal.ValueRange.checkValidIntValue(Unknown Source)\nat java.time.temporal.ChronoField.checkValidIntValue(Unknown Source)\nat java.time.chrono.IsoChronology.resolveYMD(Unknown Source)\nat java.time.chrono.IsoChronology.resolveYMD(Unknown Source)\nat java.time.chrono.AbstractChronology.resolveDate(Unknown Source)\nat java.time.chrono.IsoChronology.resolveDate(Unknown Source)\nat java.time.chrono.IsoChronology.resolveDate(Unknown Source)\nat java.time.format.Parsed.resolveDateFields(Unknown Source)\nat java.time.format.Parsed.resolveFields(Unknown Source)\nat java.time.format.Parsed.resolve(Unknown Source)\nat java.time.format.DateTimeParseContext.toResolved(Unknown Source)\nat java.time.format.DateTimeFormatter.parseResolved0(Unknown Source)\n... 3 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671480586,"creation_date":1671480586,"answer_id":74855532,"question_id":1905551,"body_markdown":"java.time\r\n--\r\n\r\nThere are two answers ([1](https://stackoverflow.com/a/53667215/10819573) and [2](https://stackoverflow.com/a/30830455/10819573)) already there using `java.time`, the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). While I highly recommend using the first one, I have written this answer to clarify two important facts:\r\n\r\n 1. The [first one](https://stackoverflow.com/a/53667215/10819573) uses a pre-defined formatter, `DateTimeFormatter.BASIC_ISO_DATE`. It&#39;s important to note that all pre-defined formatters use [`ResolverStyle#STRICT`](https://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT) and therefore, this is the perfect pattern to validate your date string.\r\n 2. The [second one](https://stackoverflow.com/a/30830455/10819573) uses a custom `DateTimeFormatter`, and by default, all custom `DateTimeFormatter` use `ResolverStyle#SMART`. It means that this solution validates `20091504` correctly because the range of month is from 1 to 12, it fails to validate a string like `20090230` in the desired manner. Since a month day can range from 1 to 31, the parser will auto-correct it to `2009-02-28`.\r\n\r\n#### How to validate a date string strictly with a custom formatter?\r\n\r\nUse [`DateTimeFormatter#withResolverStyle.STRICT`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#withResolverStyle-java.time.format.ResolverStyle-) as shown below:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String strDate = &quot;20090230&quot;;\r\n    \r\n            DateTimeFormatter parserDefaultResStyl = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n            DateTimeFormatter parserStrictResStyl = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)\r\n                    .withResolverStyle(ResolverStyle.STRICT);\r\n    \r\n            System.out.println(LocalDate.parse(strDate, parserDefaultResStyl));\r\n    \r\n            try {\r\n                System.out.println(LocalDate.parse(strDate, parserStrictResStyl));\r\n            } catch (DateTimeException e) {\r\n                System.out.println(e.getMessage());\r\n                // throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2009-02-28\r\n    Text &#39;20090230&#39; could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {YearOfEra=2009, DayOfMonth=30, MonthOfYear=2},ISO of type java.time.format.Parsed\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Make SimpleDateFormat.parse() fail on invalid dates (e.g. month is greater than 12)","body":"<h2>java.time</h2>\n<p>There are two answers (<a href=\"https://stackoverflow.com/a/53667215/10819573\">1</a> and <a href=\"https://stackoverflow.com/a/30830455/10819573\">2</a>) already there using <code>java.time</code>, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>. While I highly recommend using the first one, I have written this answer to clarify two important facts:</p>\n<ol>\n<li>The <a href=\"https://stackoverflow.com/a/53667215/10819573\">first one</a> uses a pre-defined formatter, <code>DateTimeFormatter.BASIC_ISO_DATE</code>. It's important to note that all pre-defined formatters use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\" rel=\"nofollow noreferrer\"><code>ResolverStyle#STRICT</code></a> and therefore, this is the perfect pattern to validate your date string.</li>\n<li>The <a href=\"https://stackoverflow.com/a/30830455/10819573\">second one</a> uses a custom <code>DateTimeFormatter</code>, and by default, all custom <code>DateTimeFormatter</code> use <code>ResolverStyle#SMART</code>. It means that this solution validates <code>20091504</code> correctly because the range of month is from 1 to 12, it fails to validate a string like <code>20090230</code> in the desired manner. Since a month day can range from 1 to 31, the parser will auto-correct it to <code>2009-02-28</code>.</li>\n</ol>\n<h4>How to validate a date string strictly with a custom formatter?</h4>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#withResolverStyle-java.time.format.ResolverStyle-\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter#withResolverStyle.STRICT</code></a> as shown below:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String strDate = &quot;20090230&quot;;\n\n        DateTimeFormatter parserDefaultResStyl = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n        DateTimeFormatter parserStrictResStyl = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)\n                .withResolverStyle(ResolverStyle.STRICT);\n\n        System.out.println(LocalDate.parse(strDate, parserDefaultResStyl));\n\n        try {\n            System.out.println(LocalDate.parse(strDate, parserStrictResStyl));\n        } catch (DateTimeException e) {\n            System.out.println(e.getMessage());\n            // throw e;\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2009-02-28\nText '20090230' could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {YearOfEra=2009, DayOfMonth=30, MonthOfYear=2},ISO of type java.time.format.Parsed\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":2142,"reputation":11418,"user_id":2954,"accept_rate":93,"display_name":"Sergio Acosta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22833,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":1905558,"answer_count":4,"score":56,"last_activity_date":1671480586,"creation_date":1260858532,"question_id":1905551,"body_markdown":"I&#39;m using `java.text.SimpleDateFormat` to parse strings of the form `&quot;yyyyMMdd&quot;`.\r\n\r\nIf I try to parse a string with a month greater than 12, instead of failing, it rolls over to the next year. Full runnable repro:\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class ParseDateTest {\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \r\n    \t\tSimpleDateFormat format = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    \t\tDate result = format.parse(&quot;20091504&quot;); // &lt;- should not be a valid date!\r\n    \t\tSystem.out.println(result); // prints Thu Mar 04 00:00:00 CST 2010\r\n    \t}\r\n     }\r\n\r\nI would rather have a `ParseException` thrown.\r\n\r\nIs there any non-hacky way of forcing the exception to happen?. I mean, I don&#39;t want to manually check if the month is greater than 12. That&#39;s kind of ridiculous.\r\n\r\nThanks for any suggestion.\r\n\r\nNOTE: I already know about Joda Time, but I need this done in plain JDK without external libraries.","title":"Make SimpleDateFormat.parse() fail on invalid dates (e.g. month is greater than 12)","body":"<p>I'm using <code>java.text.SimpleDateFormat</code> to parse strings of the form <code>\"yyyyMMdd\"</code>.</p>\n\n<p>If I try to parse a string with a month greater than 12, instead of failing, it rolls over to the next year. Full runnable repro:</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class ParseDateTest {\n\n    public static void main(String[] args) throws ParseException {\n\n        SimpleDateFormat format = new SimpleDateFormat(\"yyyyMMdd\");\n        Date result = format.parse(\"20091504\"); // &lt;- should not be a valid date!\n        System.out.println(result); // prints Thu Mar 04 00:00:00 CST 2010\n    }\n }\n</code></pre>\n\n<p>I would rather have a <code>ParseException</code> thrown.</p>\n\n<p>Is there any non-hacky way of forcing the exception to happen?. I mean, I don't want to manually check if the month is greater than 12. That's kind of ridiculous.</p>\n\n<p>Thanks for any suggestion.</p>\n\n<p>NOTE: I already know about Joda Time, but I need this done in plain JDK without external libraries.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1671479065,"post_id":74854907,"comment_id":132103895,"body_markdown":"Point out the line where you decrement the life counter.  That should be enough of a clue.  A spin in the debugger will show you why you aren&#39;t going into the else block.  Check your assumptions.","body":"Point out the line where you decrement the life counter.  That should be enough of a clue.  A spin in the debugger will show you why you aren&#39;t going into the else block.  Check your assumptions."},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1671479969,"post_id":74854907,"comment_id":132104109,"body_markdown":"I thought I was going into the else block? It prints the different statement in the else block but it ignores lives--.","body":"I thought I was going into the else block? It prints the different statement in the else block but it ignores lives--."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1671488523,"post_id":74854907,"comment_id":132106448,"body_markdown":"A debugger is your friend.  You&#39;re committing two classic new programmer mistakes: (1) Too much code, poorly decomposed, and (2) not doubting yourself enough.  Repeat after me: your code is wrong.  It&#39;s your job to figure out why.  Step through in a debugger and see where YOU went wrong.","body":"A debugger is your friend.  You&#39;re committing two classic new programmer mistakes: (1) Too much code, poorly decomposed, and (2) not doubting yourself enough.  Repeat after me: your code is wrong.  It&#39;s your job to figure out why.  Step through in a debugger and see where YOU went wrong."}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671480344,"creation_date":1671480344,"answer_id":74855498,"question_id":74854907,"body_markdown":"You are passing the value of lives without returning or resetting it.  So, everytime your program runs `getGuess`, it is performing an action on the value of lives as if it were 6.  At no point does `getGuess` change the value of lives, so the lives is always 6 when it is passed to the method.\r\n\r\nYou can either move `lives` to a member variable, or have `getGuess` return a value to modify `lives`.","title":"The life counter in my hangman work is not going down","body":"<p>You are passing the value of lives without returning or resetting it.  So, everytime your program runs <code>getGuess</code>, it is performing an action on the value of lives as if it were 6.  At no point does <code>getGuess</code> change the value of lives, so the lives is always 6 when it is passed to the method.</p>\n<p>You can either move <code>lives</code> to a member variable, or have <code>getGuess</code> return a value to modify <code>lives</code>.</p>\n"}],"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671480344,"creation_date":1671476349,"question_id":74854907,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.nio.file.FileSystemNotFoundException;\r\nimport java.util.*;\r\n\r\npublic class Hangman\r\n{\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        Scanner in;\r\n        in = new Scanner(System.in);\r\n        \r\n        boolean runAgain = true;\r\n        \r\n        System.out.println(&quot;Starting game...\\n\\n&quot;);\r\n        System.out.println(&quot;Welcome to Simple Hangman! You have six lives, so be wise with your guesses.&quot;);\r\n        while(runAgain)\r\n        {\r\n        \tString secretWord = &quot;&quot;;\r\n            char[] secretWordArray = new char[8];\r\n            char[] ansArray = new char[8]; \r\n            int lives = 6;\r\n\t        int randNum = (int)(Math.random()*4)+1;\r\n\t        if(randNum == 1)\r\n\t        {\r\n\t        \tsecretWordArray[0] = &#39;d&#39;;\r\n\t        \tsecretWordArray[1] = &#39;i&#39;;\r\n\t        \tsecretWordArray[2] = &#39;n&#39;;\r\n\t        \tsecretWordArray[3] = &#39;o&#39;;\r\n\t        \tsecretWordArray[4] = &#39;s&#39;;\r\n\t        \tsecretWordArray[5] = &#39;a&#39;;\r\n\t        \tsecretWordArray[6] = &#39;u&#39;;\r\n\t        \tsecretWordArray[7] = &#39;r&#39;;\r\n\t        \tsecretWord = &quot;dinosaur&quot;;\r\n\t        }\r\n\t        if(randNum == 2)\r\n\t        {\r\n\t        \tsecretWordArray[0] = &#39;c&#39;;\r\n\t        \tsecretWordArray[1] = &#39;o&#39;;\r\n\t        \tsecretWordArray[2] = &#39;m&#39;;\r\n\t        \tsecretWordArray[3] = &#39;p&#39;;\r\n\t        \tsecretWordArray[4] = &#39;u&#39;;\r\n\t        \tsecretWordArray[5] = &#39;t&#39;;\r\n\t        \tsecretWordArray[6] = &#39;e&#39;;\r\n\t        \tsecretWordArray[7] = &#39;r&#39;;\r\n\t        \tsecretWord = &quot;computer&quot;;\r\n\t        }\r\n\t        \r\n\t        if(randNum == 3)\r\n\t        {\r\n\t        \tsecretWordArray[0] = &#39;s&#39;;\r\n\t        \tsecretWordArray[1] = &#39;o&#39;;\r\n\t        \tsecretWordArray[2] = &#39;f&#39;;\r\n\t        \tsecretWordArray[3] = &#39;t&#39;;\r\n\t        \tsecretWordArray[4] = &#39;w&#39;;\r\n\t        \tsecretWordArray[5] = &#39;a&#39;;\r\n\t        \tsecretWordArray[6] = &#39;r&#39;;\r\n\t        \tsecretWordArray[7] = &#39;e&#39;;\r\n\t        \tsecretWord = &quot;software&quot;;\r\n\t        }\r\n\t        \r\n\t        if(randNum == 4)\r\n\t        {\r\n\t        \tsecretWordArray[0] = &#39;f&#39;;\r\n\t        \tsecretWordArray[1] = &#39;o&#39;;\r\n\t        \tsecretWordArray[2] = &#39;o&#39;;\r\n\t        \tsecretWordArray[3] = &#39;t&#39;;\r\n\t        \tsecretWordArray[4] = &#39;b&#39;;\r\n\t        \tsecretWordArray[5] = &#39;a&#39;;\r\n\t        \tsecretWordArray[6] = &#39;l&#39;;\r\n\t        \tsecretWordArray[7] = &#39;l&#39;;\r\n\t        \tsecretWord = &quot;football&quot;;\r\n\t        }\r\n\t        \t\r\n\t        System.out.println(&quot;\\nYour secret word is: &quot;);\r\n\t        for(int i = 0; i&lt;secretWordArray.length; i++) \r\n\t        {\r\n\t            ansArray[i] = &#39;*&#39;; //takes length of the secret word and prints it in &#39;*&#39;\r\n\t        }\r\n\t        \r\n\t        System.out.print(Arrays.toString(ansArray).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;)); //.replace to make the array one word\r\n\t        \r\n\t        \r\n\t        while(lives&gt;0) //ends when user dies (lives = 0)\r\n\t        {\r\n\t        \tgetGuess(secretWordArray, ansArray, secretWord, lives);\r\n\t            \r\n\t            if(ansArray[0]==secretWordArray[0] &amp;&amp; ansArray[1]==secretWordArray[1] &amp;&amp; ansArray[2]==secretWordArray[2] &amp;&amp; ansArray[3]==secretWordArray[3] &amp;&amp; ansArray[4]==secretWordArray[4] &amp;&amp; ansArray[5]==secretWordArray[5] &amp;&amp; ansArray[6]==secretWordArray[6] &amp;&amp; ansArray[7]==secretWordArray[7])\r\n\t            {\r\n\t            \tSystem.out.println(&quot;\\nYou won! Congratulations!\\n\\nWould you like to play again? Enter Yes or No:&quot;);\r\n\t            \tString wannaPlayAgain2 = in.nextLine();\r\n\t            \tif(wannaPlayAgain2.charAt(0)==&#39;N&#39; || wannaPlayAgain2.charAt(0)==&#39;n&#39;)\r\n\t            \t{\r\n\t            \t\tSystem.out.println(&quot;\\nThank you for playing.&quot;);\r\n\t            \t\trunAgain = false;\r\n\t            \t\tbreak;\r\n\t            \t}\r\n\t            \telse\r\n\t            \t{\r\n\t            \t\tbreak;\r\n\t            \t}\r\n\t            }\r\n\t            \r\n\t            //Death message &amp; asks if you want to play again\r\n\t            if(lives==0)\r\n\t            {\r\n\t            \tSystem.out.println(&quot;You ran out of lives!\\n\\nWould you like to play again? Enter Yes or No&quot;);\r\n\t            \tString wannaPlayAgain = in.nextLine();\r\n\t            \tif(wannaPlayAgain.charAt(0)==&#39;N&#39; || wannaPlayAgain.charAt(0)==&#39;n&#39;)\r\n\t            \t{\r\n\t            \t\tSystem.out.println(&quot;\\nThank you for playing!&quot;);\r\n\t            \t\trunAgain = false;\r\n\t            \t\tbreak;\r\n\t            \t}\r\n\t            \telse\r\n\t            \t{\r\n\t            \t\tbreak;\r\n\t            \t}\r\n\t            }\r\n\t            \r\n\t        } //end while (lives loop)\r\n        } //end while(runAgain loop)\r\n    } //end main\r\n    \r\n    public static void printGreeting()\r\n    {\r\n    \tSystem.out.println(&quot;Starting game...\\n\\n&quot;);\r\n        System.out.println(&quot;Welcome to Simple Hangman! You have six lives, so be wise with your guesses.&quot;);\r\n    }\r\n \r\n    public static void getGuess(char[] secretWordArray, char[] ansArray, String secretWord, int lives) throws IOException\r\n    {\r\n    \tScanner in = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;\\n\\nEnter your guess: &quot;);\r\n        String guessString = in.nextLine();\r\n        char guess = guessString.charAt(0); \r\n        \r\n        if(secretWord.contains(guessString)) //correct guess\r\n        {\r\n            for(int j = 0; j&lt;secretWordArray.length; j++) \r\n            {\r\n                if(secretWordArray[j] == guess)\r\n                {\r\n                    ansArray[j] = guess; //replaces the index in the filler array which has the users correct guess\r\n                    System.out.println(&quot;The word contains the letter &quot; + guess + &quot;!&quot;);\r\n                    System.out.println(&quot;Your word looks like this: &quot; + Arrays.toString(ansArray).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;));\r\n                    \r\n                }\r\n            } \r\n        }     \r\n        else //incorrect guess\r\n        { \r\n            lives--;\r\n            System.out.println(&quot;The word does not contain the letter  &quot; + guess + &quot;.\\nYou have &quot; + lives + &quot; lives left.&quot;);\r\n            System.out.println(&quot;\\nYour word looks like this: &quot; + Arrays.toString(ansArray).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;));\r\n        }\r\n    }\r\n    \r\n} //end class\r\n```\r\nWorking on a simple hangman game which picks a word randomly and gives the user 6 chances to guess it. \r\n\r\nEverything else in my code is working as intended besides the lives loop. When the user guesses an incorrect answer, they&#39;re suppose to lose one life. The lives are stuck at 5 no matter what. Thank you in advance","title":"The life counter in my hangman work is not going down","body":"<pre><code>import java.io.*;\nimport java.nio.file.FileSystemNotFoundException;\nimport java.util.*;\n\npublic class Hangman\n{\n    public static void main(String[] args) throws IOException\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        \n        boolean runAgain = true;\n        \n        System.out.println(&quot;Starting game...\\n\\n&quot;);\n        System.out.println(&quot;Welcome to Simple Hangman! You have six lives, so be wise with your guesses.&quot;);\n        while(runAgain)\n        {\n            String secretWord = &quot;&quot;;\n            char[] secretWordArray = new char[8];\n            char[] ansArray = new char[8]; \n            int lives = 6;\n            int randNum = (int)(Math.random()*4)+1;\n            if(randNum == 1)\n            {\n                secretWordArray[0] = 'd';\n                secretWordArray[1] = 'i';\n                secretWordArray[2] = 'n';\n                secretWordArray[3] = 'o';\n                secretWordArray[4] = 's';\n                secretWordArray[5] = 'a';\n                secretWordArray[6] = 'u';\n                secretWordArray[7] = 'r';\n                secretWord = &quot;dinosaur&quot;;\n            }\n            if(randNum == 2)\n            {\n                secretWordArray[0] = 'c';\n                secretWordArray[1] = 'o';\n                secretWordArray[2] = 'm';\n                secretWordArray[3] = 'p';\n                secretWordArray[4] = 'u';\n                secretWordArray[5] = 't';\n                secretWordArray[6] = 'e';\n                secretWordArray[7] = 'r';\n                secretWord = &quot;computer&quot;;\n            }\n            \n            if(randNum == 3)\n            {\n                secretWordArray[0] = 's';\n                secretWordArray[1] = 'o';\n                secretWordArray[2] = 'f';\n                secretWordArray[3] = 't';\n                secretWordArray[4] = 'w';\n                secretWordArray[5] = 'a';\n                secretWordArray[6] = 'r';\n                secretWordArray[7] = 'e';\n                secretWord = &quot;software&quot;;\n            }\n            \n            if(randNum == 4)\n            {\n                secretWordArray[0] = 'f';\n                secretWordArray[1] = 'o';\n                secretWordArray[2] = 'o';\n                secretWordArray[3] = 't';\n                secretWordArray[4] = 'b';\n                secretWordArray[5] = 'a';\n                secretWordArray[6] = 'l';\n                secretWordArray[7] = 'l';\n                secretWord = &quot;football&quot;;\n            }\n                \n            System.out.println(&quot;\\nYour secret word is: &quot;);\n            for(int i = 0; i&lt;secretWordArray.length; i++) \n            {\n                ansArray[i] = '*'; //takes length of the secret word and prints it in '*'\n            }\n            \n            System.out.print(Arrays.toString(ansArray).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;)); //.replace to make the array one word\n            \n            \n            while(lives&gt;0) //ends when user dies (lives = 0)\n            {\n                getGuess(secretWordArray, ansArray, secretWord, lives);\n                \n                if(ansArray[0]==secretWordArray[0] &amp;&amp; ansArray[1]==secretWordArray[1] &amp;&amp; ansArray[2]==secretWordArray[2] &amp;&amp; ansArray[3]==secretWordArray[3] &amp;&amp; ansArray[4]==secretWordArray[4] &amp;&amp; ansArray[5]==secretWordArray[5] &amp;&amp; ansArray[6]==secretWordArray[6] &amp;&amp; ansArray[7]==secretWordArray[7])\n                {\n                    System.out.println(&quot;\\nYou won! Congratulations!\\n\\nWould you like to play again? Enter Yes or No:&quot;);\n                    String wannaPlayAgain2 = in.nextLine();\n                    if(wannaPlayAgain2.charAt(0)=='N' || wannaPlayAgain2.charAt(0)=='n')\n                    {\n                        System.out.println(&quot;\\nThank you for playing.&quot;);\n                        runAgain = false;\n                        break;\n                    }\n                    else\n                    {\n                        break;\n                    }\n                }\n                \n                //Death message &amp; asks if you want to play again\n                if(lives==0)\n                {\n                    System.out.println(&quot;You ran out of lives!\\n\\nWould you like to play again? Enter Yes or No&quot;);\n                    String wannaPlayAgain = in.nextLine();\n                    if(wannaPlayAgain.charAt(0)=='N' || wannaPlayAgain.charAt(0)=='n')\n                    {\n                        System.out.println(&quot;\\nThank you for playing!&quot;);\n                        runAgain = false;\n                        break;\n                    }\n                    else\n                    {\n                        break;\n                    }\n                }\n                \n            } //end while (lives loop)\n        } //end while(runAgain loop)\n    } //end main\n    \n    public static void printGreeting()\n    {\n        System.out.println(&quot;Starting game...\\n\\n&quot;);\n        System.out.println(&quot;Welcome to Simple Hangman! You have six lives, so be wise with your guesses.&quot;);\n    }\n \n    public static void getGuess(char[] secretWordArray, char[] ansArray, String secretWord, int lives) throws IOException\n    {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;\\n\\nEnter your guess: &quot;);\n        String guessString = in.nextLine();\n        char guess = guessString.charAt(0); \n        \n        if(secretWord.contains(guessString)) //correct guess\n        {\n            for(int j = 0; j&lt;secretWordArray.length; j++) \n            {\n                if(secretWordArray[j] == guess)\n                {\n                    ansArray[j] = guess; //replaces the index in the filler array which has the users correct guess\n                    System.out.println(&quot;The word contains the letter &quot; + guess + &quot;!&quot;);\n                    System.out.println(&quot;Your word looks like this: &quot; + Arrays.toString(ansArray).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;));\n                    \n                }\n            } \n        }     \n        else //incorrect guess\n        { \n            lives--;\n            System.out.println(&quot;The word does not contain the letter  &quot; + guess + &quot;.\\nYou have &quot; + lives + &quot; lives left.&quot;);\n            System.out.println(&quot;\\nYour word looks like this: &quot; + Arrays.toString(ansArray).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;));\n        }\n    }\n    \n} //end class\n</code></pre>\n<p>Working on a simple hangman game which picks a word randomly and gives the user 6 chances to guess it.</p>\n<p>Everything else in my code is working as intended besides the lives loop. When the user guesses an incorrect answer, they're suppose to lose one life. The lives are stuck at 5 no matter what. Thank you in advance</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581866922,"creation_date":1581866806,"answer_id":60250031,"question_id":60245630,"body_markdown":"You can&#39;t replace a parameter and expect it to be propagated to the next component; Java doesn&#39;t work that way; your new message is simply discarded.\r\n\r\nUse a service activator instead of a filter and return the new message, or `null` which is a signal to end the flow at that point.","title":"Spring Integration - Adding custom headers in Message","body":"<p>You can't replace a parameter and expect it to be propagated to the next component; Java doesn't work that way; your new message is simply discarded.</p>\n\n<p>Use a service activator instead of a filter and return the new message, or <code>null</code> which is a signal to end the flow at that point.</p>\n"},{"tags":[],"owner":{"account_id":6003796,"reputation":1,"user_id":4716293,"display_name":"Alexey Khetchikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671480182,"creation_date":1671479952,"answer_id":74855438,"question_id":60245630,"body_markdown":"Your should wrap your result in Message like this\r\n\r\n    @Override\r\n    public Message accept(Message&lt;?&gt; message) {\r\n        // TODO Auto-generated method stub\r\n        boolean status=true;\r\n    \r\n        if(message.getPayload() instanceof CFKRequestBody) {\r\n            CFKRequestBody body=(CFKRequestBody)message.getPayload();\r\n            if(!body.getInitiatingPartyId().equalsIgnoreCase(&quot;BPKV&quot;)) {\r\n                return MutableMessageBuilder.fromMessage(message).                        \r\n                        setHeader(&quot;BPKV_ERROR_CODE&quot;, &quot;&#207;nvalid Initiating part id&quot;).\r\n                        setHeader(&quot;HTTP_STATUS&quot;, &quot;400&quot;).\r\n                        build();\r\n            }\r\n    \r\n        }\r\n        return MutableMessageBuilder.fromMessage(message).build();\r\n    }","title":"Spring Integration - Adding custom headers in Message","body":"<p>Your should wrap your result in Message like this</p>\n<pre><code>@Override\npublic Message accept(Message&lt;?&gt; message) {\n    // TODO Auto-generated method stub\n    boolean status=true;\n\n    if(message.getPayload() instanceof CFKRequestBody) {\n        CFKRequestBody body=(CFKRequestBody)message.getPayload();\n        if(!body.getInitiatingPartyId().equalsIgnoreCase(&quot;BPKV&quot;)) {\n            return MutableMessageBuilder.fromMessage(message).                        \n                    setHeader(&quot;BPKV_ERROR_CODE&quot;, &quot;Ïnvalid Initiating part id&quot;).\n                    setHeader(&quot;HTTP_STATUS&quot;, &quot;400&quot;).\n                    build();\n        }\n\n    }\n    return MutableMessageBuilder.fromMessage(message).build();\n}\n</code></pre>\n"}],"owner":{"account_id":11604081,"reputation":1011,"user_id":8500364,"display_name":"souvikc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60250031,"answer_count":2,"score":0,"last_activity_date":1671480182,"creation_date":1581830226,"question_id":60245630,"body_markdown":"I am using Spring Integration filter to do a structural validation of the incoming payload and if the validation fails then i want to add some custom headers to the original message.\r\n\r\nThe filter code is below :\r\n\r\n    @Service(&quot;structureValidationFilter&quot;)\r\n    public class StructureValidationFilter implements MessageSelector {\r\n\r\n\t@Override\r\n\tpublic boolean accept(Message&lt;?&gt; message) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tboolean status=true;\r\n\t\t\r\n\t\tif(message.getPayload() instanceof CFKRequestBody) {\r\n\t\t\tCFKRequestBody body=(CFKRequestBody)message.getPayload();\r\n\t\t\tif(!body.getInitiatingPartyId().equalsIgnoreCase(&quot;BPKV&quot;)) {\r\n\t\t\t\tmessage = MutableMessageBuilder.fromMessage(message).\r\n\t\t\t\t\t\tsetHeader(&quot;BPKV_ERROR_CODE&quot;, &quot;&#207;nvalid Initiating part id&quot;).\r\n\t\t\t\t\t\tsetHeader(&quot;HTTP_STATUS&quot;, &quot;400&quot;).build();\r\n\t\t\t\t\r\n\t\t\t\treturn false;\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn status;\r\n\t}\r\n\r\n    }\r\nBut the headers are not populating in the Message.\r\nNot able to see the headers added in the next component.\r\nWhat am i doing wrong here.","title":"Spring Integration - Adding custom headers in Message","body":"<p>I am using Spring Integration filter to do a structural validation of the incoming payload and if the validation fails then i want to add some custom headers to the original message.</p>\n\n<p>The filter code is below :</p>\n\n<pre><code>@Service(\"structureValidationFilter\")\npublic class StructureValidationFilter implements MessageSelector {\n\n@Override\npublic boolean accept(Message&lt;?&gt; message) {\n    // TODO Auto-generated method stub\n    boolean status=true;\n\n    if(message.getPayload() instanceof CFKRequestBody) {\n        CFKRequestBody body=(CFKRequestBody)message.getPayload();\n        if(!body.getInitiatingPartyId().equalsIgnoreCase(\"BPKV\")) {\n            message = MutableMessageBuilder.fromMessage(message).\n                    setHeader(\"BPKV_ERROR_CODE\", \"Ïnvalid Initiating part id\").\n                    setHeader(\"HTTP_STATUS\", \"400\").build();\n\n            return false;   \n        }\n\n    }\n    return status;\n}\n\n}\n</code></pre>\n\n<p>But the headers are not populating in the Message.\nNot able to see the headers added in the next component.\nWhat am i doing wrong here.</p>\n"},{"tags":["java","masking"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1671479637,"post_id":74855329,"comment_id":132104031,"body_markdown":"This isn&#39;t a problem of &quot;masking&quot;. You need to call `format(5 / 100.0)`, for example. In other words, you can only format an actual floating point number, not an integer","body":"This isn&#39;t a problem of &quot;masking&quot;. You need to call <code>format(5 &#47; 100.0)</code>, for example. In other words, you can only format an actual floating point number, not an integer"},{"owner":{"account_id":4076843,"reputation":508,"user_id":3348298,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1671479996,"post_id":74855329,"comment_id":132104117,"body_markdown":"@Progman the user can only input whole numbers. So to get 5.01, the user would input 501.","body":"@Progman the user can only input whole numbers. So to get 5.01, the user would input 501."},{"owner":{"account_id":4076843,"reputation":508,"user_id":3348298,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1671480146,"post_id":74855329,"comment_id":132104157,"body_markdown":"@Progman Oh crap, sorry. Fixed it in the edits.","body":"@Progman Oh crap, sorry. Fixed it in the edits."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671479843,"creation_date":1671479843,"answer_id":74855421,"question_id":74855329,"body_markdown":"`DecimalFormat` is for formatting a number that already has the right value, not for unusual entry methods.\r\n\r\nYou probably will have to perform a manual conversion between the entered string and a number to output. Then you can use that class to do the right output\r\n\r\nTo skip the leading zero before the comma you need to specify this format:\r\n`new DecimalFormat(&quot;#.00&quot;)`","title":"Question on decimal masking to configure inputs","body":"<p><code>DecimalFormat</code> is for formatting a number that already has the right value, not for unusual entry methods.</p>\n<p>You probably will have to perform a manual conversion between the entered string and a number to output. Then you can use that class to do the right output</p>\n<p>To skip the leading zero before the comma you need to specify this format:\n<code>new DecimalFormat(&quot;#.00&quot;)</code></p>\n"}],"owner":{"account_id":4076843,"reputation":508,"user_id":3348298,"accept_rate":100,"display_name":"Tim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671480130,"creation_date":1671479238,"question_id":74855329,"body_markdown":"I have a situation where I need to dynamically mask my decimals up to 2 decimal places. The user can only type in whole numbers.\r\nExamples: \r\n1) If the user types in 5, the output will be .05\r\n2) If the user types in 57, the output will be .57\r\n3) If the user types in 157, the output will be 1.57\r\n\r\nHow can I achieve this? I was not able to find a masking format that would allow this, so do I need to write my own? If so, any tips?\r\n\r\nHere&#39;s what I have so far:\r\n\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            DecimalFormat myFormat = new DecimalFormat(&quot;.##&quot;);\r\n            System.out.println(myFormat.format(5)); // Expecting .05\r\n            System.out.println(myFormat.format(57)); // Expecting .57\r\n            System.out.println(myFormat.format(157)); // Expecting 1.57\r\n        }\r\n    }","title":"Question on decimal masking to configure inputs","body":"<p>I have a situation where I need to dynamically mask my decimals up to 2 decimal places. The user can only type in whole numbers.\nExamples:</p>\n<ol>\n<li>If the user types in 5, the output will be .05</li>\n<li>If the user types in 57, the output will be .57</li>\n<li>If the user types in 157, the output will be 1.57</li>\n</ol>\n<p>How can I achieve this? I was not able to find a masking format that would allow this, so do I need to write my own? If so, any tips?</p>\n<p>Here's what I have so far:</p>\n<pre><code>import java.text.DecimalFormat;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        DecimalFormat myFormat = new DecimalFormat(&quot;.##&quot;);\n        System.out.println(myFormat.format(5)); // Expecting .05\n        System.out.println(myFormat.format(57)); // Expecting .57\n        System.out.println(myFormat.format(157)); // Expecting 1.57\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671479978,"creation_date":1671479978,"answer_id":74855440,"question_id":74851643,"body_markdown":"Spring Boot has a custom logging configuration process that occurs just after the Log4j2 automatic configuration (its exact logic is in [`Log4j2LoggingSystem`](https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/log4j2/Log4J2LoggingSystem.java) and is documented in [Core Features](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging)). You can analyze the process by setting `-Dlog4j2.debug=true`.\r\n\r\nTo create a composite configuration you need to use two Spring Boot properties (cf. [core properties](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.core)):\r\n\r\n```\r\nlogging.config=classpath:Log4j2-1.yml\r\nlogging.log4j2.config.override=classpath:Log4j2-2.yml\r\n```\r\n\r\n","title":"CompositeConfiguration in log4j2 using springboot","body":"<p>Spring Boot has a custom logging configuration process that occurs just after the Log4j2 automatic configuration (its exact logic is in <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/log4j2/Log4J2LoggingSystem.java\" rel=\"nofollow noreferrer\"><code>Log4j2LoggingSystem</code></a> and is documented in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging\" rel=\"nofollow noreferrer\">Core Features</a>). You can analyze the process by setting <code>-Dlog4j2.debug=true</code>.</p>\n<p>To create a composite configuration you need to use two Spring Boot properties (cf. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.core\" rel=\"nofollow noreferrer\">core properties</a>):</p>\n<pre><code>logging.config=classpath:Log4j2-1.yml\nlogging.log4j2.config.override=classpath:Log4j2-2.yml\n</code></pre>\n"}],"owner":{"account_id":3070675,"reputation":91,"user_id":2601424,"accept_rate":0,"display_name":"Prem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74855440,"answer_count":1,"score":0,"last_activity_date":1671479978,"creation_date":1671459053,"question_id":74851643,"body_markdown":"I am working in spring boot project and I stuck in an issue. Following is the problem.\r\n\r\nI have two log4j2 configuration file. Log4j2-1.yml and Log4j2-2.yml. Log4j2-1.yml consist the common configuration to avoid repetition duplicate configuration while Log4j2-2.yml consists application specific log config. I need to use these two log4j2 configuration in my application at same time. Please help me to configure these files in my application.\\\r\n\r\nI tried log4j2.configurationFile also but could not succeed. ","title":"CompositeConfiguration in log4j2 using springboot","body":"<p>I am working in spring boot project and I stuck in an issue. Following is the problem.</p>\n<p>I have two log4j2 configuration file. Log4j2-1.yml and Log4j2-2.yml. Log4j2-1.yml consist the common configuration to avoid repetition duplicate configuration while Log4j2-2.yml consists application specific log config. I need to use these two log4j2 configuration in my application at same time. Please help me to configure these files in my application.\\</p>\n<p>I tried log4j2.configurationFile also but could not succeed.</p>\n"},{"tags":["java","algorithm","kotlin","elasticsearch","fuzzy-search"],"owner":{"account_id":19838395,"reputation":11,"user_id":14531552,"display_name":"user14531552"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671479721,"creation_date":1671479721,"question_id":74855399,"body_markdown":"I am trying to understand whether writing an in memory algorithm like Lev Dist (or any other) is better or utilizing the already existing fuzzy search query in ES (which uses lev dist underneath) is better?\r\n\r\nThe most important metric i am looking for is computation time. \r\n\r\n - Which out of the two options is faster? How can i evaluate which one works better for my use case (Kotlin programming)\r\n - Any other pros and cons of using one vs the other? One thing i can think of is if i write my own algorithm i can write customizations to improve speed. But if ES infrastructure is comparable, i do not want to spend time building my own algorithm uneccesarily\r\n\r\nThanks","title":"Lev Distance vs Use fuzzy search in ElasticSearch","body":"<p>I am trying to understand whether writing an in memory algorithm like Lev Dist (or any other) is better or utilizing the already existing fuzzy search query in ES (which uses lev dist underneath) is better?</p>\n<p>The most important metric i am looking for is computation time.</p>\n<ul>\n<li>Which out of the two options is faster? How can i evaluate which one works better for my use case (Kotlin programming)</li>\n<li>Any other pros and cons of using one vs the other? One thing i can think of is if i write my own algorithm i can write customizations to improve speed. But if ES infrastructure is comparable, i do not want to spend time building my own algorithm uneccesarily</li>\n</ul>\n<p>Thanks</p>\n"},{"tags":["java","loops","kotlin"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671476104,"post_id":74854769,"comment_id":132103137,"body_markdown":"I’d place a comment inside the curly braces to explain why there isn’t any code needed there. And otherwise let it be like that, it’s fine. (The C idiom would be to put a semicolon `;` instead of the braces `{}` and on its own line so the user sees it; but I think that that goes against the Java coding conventions, so I would not.)","body":"I’d place a comment inside the curly braces to explain why there isn’t any code needed there. And otherwise let it be like that, it’s fine. (The C idiom would be to put a semicolon <code>;</code> instead of the braces <code>{}</code> and on its own line so the user sees it; but I think that that goes against the Java coding conventions, so I would not.)"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1671476313,"post_id":74854769,"comment_id":132103200,"body_markdown":"Let me guess, advent of code 2022, day 14? :D","body":"Let me guess, advent of code 2022, day 14? :D"},{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1671477819,"post_id":74854769,"comment_id":132103578,"body_markdown":"Why call the method more than once with the same arguments? It would make sense to call a separate, new method before the while loop starts with the two arguments and then call an altered _sandGoesDown()_ method with no arguments. Maybe you can post more code of your _Grid_ class, especially the _sandGoesDown_ code and instance or class properties that method uses?","body":"Why call the method more than once with the same arguments? It would make sense to call a separate, new method before the while loop starts with the two arguments and then call an altered <i>sandGoesDown()</i> method with no arguments. Maybe you can post more code of your <i>Grid</i> class, especially the <i>sandGoesDown</i> code and instance or class properties that method uses?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671478613,"creation_date":1671476304,"answer_id":74854901,"question_id":74854769,"body_markdown":"Not really. You could use a semicolon, but that&#39;s obscure. You should avoid it.\r\n\r\n```\r\nwhile (grid.sandGoesDow(500, 0))\r\n  ;\r\n```\r\n\r\nThe most maintainable option is to put a code comment into your loop&#39;s body:\r\n\r\n```\r\nwhile (grid.sandGoesDow(500, 0)) {\r\n  /* busy wait for condition */\r\n}\r\n```\r\n\r\n\r\n```\r\nwhile (grid.sandGoesDow(500, 0)) {\r\n  // do nothing\r\n}\r\n```","title":"While with empty body","body":"<p>Not really. You could use a semicolon, but that's obscure. You should avoid it.</p>\n<pre><code>while (grid.sandGoesDow(500, 0))\n  ;\n</code></pre>\n<p>The most maintainable option is to put a code comment into your loop's body:</p>\n<pre><code>while (grid.sandGoesDow(500, 0)) {\n  /* busy wait for condition */\n}\n</code></pre>\n<pre><code>while (grid.sandGoesDow(500, 0)) {\n  // do nothing\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9739092,"reputation":3041,"user_id":7221362,"display_name":"Steyrix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671477889,"creation_date":1671477889,"answer_id":74855129,"question_id":74854769,"body_markdown":"In Kotlin you can describe a void action with `Unit` object.\r\n\r\n    while (grid.sandGoesDow(500, 0)) { Unit }","title":"While with empty body","body":"<p>In Kotlin you can describe a void action with <code>Unit</code> object.</p>\n<pre><code>while (grid.sandGoesDow(500, 0)) { Unit }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671479632,"creation_date":1671478616,"answer_id":74855247,"question_id":74854769,"body_markdown":"You can create a `repeatWhileTrue` method: \r\n\r\n### Java\r\n\r\n    void whileTrue(Supplier&lt;Boolean&gt; action) {\r\n        while(action.supply());\r\n    }\r\n    \r\nUsage\r\n    \r\n    whileTrue(()-&gt;grid.sandGoesDow(500, 0));\r\n\r\n\r\nBeauty is in the eye of the beholder, so that might not be prettier.\r\n\r\n\r\nEdit:\r\n\r\n### Kotlin\r\n\r\n    fun whileTrue(action: () -&gt; Boolean) {\r\n        while(action.invoke());\r\n    }\r\n\r\nUsage: \r\n\r\n    whileTrue { grid.sandGoesDow(500, 0) }\r\n\r\n\r\nSee a running example: \r\nhttps://pl.kotl.in/4_b_huSfX","title":"While with empty body","body":"<p>You can create a <code>repeatWhileTrue</code> method:</p>\n<h3>Java</h3>\n<pre><code>void whileTrue(Supplier&lt;Boolean&gt; action) {\n    while(action.supply());\n}\n</code></pre>\n<p>Usage</p>\n<pre><code>whileTrue(()-&gt;grid.sandGoesDow(500, 0));\n</code></pre>\n<p>Beauty is in the eye of the beholder, so that might not be prettier.</p>\n<p>Edit:</p>\n<h3>Kotlin</h3>\n<pre><code>fun whileTrue(action: () -&gt; Boolean) {\n    while(action.invoke());\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>whileTrue { grid.sandGoesDow(500, 0) }\n</code></pre>\n<p>See a running example:\n<a href=\"https://pl.kotl.in/4_b_huSfX\" rel=\"nofollow noreferrer\">https://pl.kotl.in/4_b_huSfX</a></p>\n"}],"owner":{"account_id":6965030,"reputation":181,"user_id":5343362,"display_name":"Quentin M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74855247,"answer_count":3,"score":0,"last_activity_date":1671479632,"creation_date":1671475673,"question_id":74854769,"body_markdown":"I have a line of code calling a method that return a boolean.\r\nI want to call this method until it return falss. To do so I have a while loop but I do not need a body as all is done isnide the method called as condition.\r\n\r\n     while (grid.sandGoesDow(500, 0)){\r\n    \r\n        }\r\n\r\nIs there a prettier way to do that ?\r\nI was thinking to something like repeateUntil(method,condtion)\r\n\r\nThx","title":"While with empty body","body":"<p>I have a line of code calling a method that return a boolean.\nI want to call this method until it return falss. To do so I have a while loop but I do not need a body as all is done isnide the method called as condition.</p>\n<pre><code> while (grid.sandGoesDow(500, 0)){\n\n    }\n</code></pre>\n<p>Is there a prettier way to do that ?\nI was thinking to something like repeateUntil(method,condtion)</p>\n<p>Thx</p>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1540395630,"post_id":8725739,"comment_id":92852367,"body_markdown":"SQL SECURITY: always use `PreparedStatement` or something similar: https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","body":"SQL SECURITY: always use <code>PreparedStatement</code> or something similar: <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1542900340,"post_id":8725739,"comment_id":93741838,"body_markdown":"Apart from the memory usage thing, why not use a SQL builder library instead: https://stackoverflow.com/q/370818/521799","body":"Apart from the memory usage thing, why not use a SQL builder library instead: <a href=\"https://stackoverflow.com/q/370818/521799\">stackoverflow.com/q/370818/521799</a>"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":182,"is_accepted":true,"score":182,"last_activity_date":1325679038,"creation_date":1325675089,"answer_id":8725765,"question_id":8725739,"body_markdown":"&gt; The aim of using StringBuilder, i.e reducing memory. Is it achieved?\r\n\r\nNo, not at all. That code is not using `StringBuilder` correctly. (I think you&#39;ve misquoted it, though; surely there aren&#39;t quotes around `id2` and `table`?)\r\n\r\nNote that the aim (usually) is to reduce memory *churn* rather than total memory used, to make life a bit easier on the garbage collector.\r\n\r\n&gt; Will that take memory equal to using String like below?\r\n\r\nNo, it&#39;ll cause *more* memory churn than just the straight concat you quoted. (Until/unless the JVM optimizer sees that the explicit `StringBuilder` in the code is unnecessary and optimizes it out, if it can.)\r\n\r\nIf the author of that code wants to use `StringBuilder` (there are arguments for, but also against; see note at the end of this answer), better to do it properly (here I&#39;m assuming there aren&#39;t actually quotes around `id2` and `table`):\r\n\r\n    StringBuilder sb = new StringBuilder(some_appropriate_size);\r\n    sb.append(&quot;select id1, &quot;);\r\n    sb.append(id2);\r\n    sb.append(&quot; from &quot;);\r\n    sb.append(table);\r\n    return sb.toString();\r\n\r\nNote that I&#39;ve listed `some_appropriate_size` in the `StringBuilder` constructor, so that it starts out with enough capacity for the full content we&#39;re going to append. The default size used if you don&#39;t specify one is [16 characters][1], which is usually too small and results in the `StringBuilder` having to do reallocations to make itself bigger (IIRC, in the Sun/Oracle JDK, it doubles itself [or more, if it knows it needs more to satisfy a specific `append`] each time it runs out of room).\r\n\r\nYou may have heard that string concatenation *will* use a `StringBuilder` under the covers if compiled with the Sun/Oracle compiler. This is true, it will use one `StringBuilder` for the overall expression. But it will use the default constructor, which means in the majority of cases, it will have to do a reallocation. It&#39;s easier to read, though. Note that this is *not* true of a *series* of concatenations. So for instance, this uses one `StringBuilder`:\r\n\r\n    return &quot;prefix &quot; + variable1 + &quot; middle &quot; + variable2 + &quot; end&quot;;\r\n\r\nIt roughly translates to:\r\n\r\n    StringBuilder tmp = new StringBuilder(); // Using default 16 character size\r\n    tmp.append(&quot;prefix &quot;);\r\n    tmp.append(variable1);\r\n    tmp.append(&quot; middle &quot;);\r\n    tmp.append(variable2);\r\n    tmp.append(&quot; end&quot;);\r\n    return tmp.toString();\r\n\r\nSo that&#39;s okay, although the default constructor and subsequent reallocation(s) isn&#39;t ideal, the odds are it&#39;s good enough&amp;nbsp;&amp;mdash; and the concatenation is a *lot* more readable.\r\n\r\nBut that&#39;s only for a single expression. Multiple `StringBuilder`s are used for this:\r\n\r\n    String s;\r\n    s = &quot;prefix &quot;;\r\n    s += variable1;\r\n    s += &quot; middle &quot;;\r\n    s += variable2;\r\n    s += &quot; end&quot;;\r\n    return s;\r\n\r\nThat ends up becoming something like this:\r\n\r\n    String s;\r\n    StringBuilder tmp;\r\n    s = &quot;prefix &quot;;\r\n    tmp = new StringBuilder();\r\n    tmp.append(s);\r\n    tmp.append(variable1);\r\n    s = tmp.toString();\r\n    tmp = new StringBuilder();\r\n    tmp.append(s);\r\n    tmp.append(&quot; middle &quot;);\r\n    s = tmp.toString();\r\n    tmp = new StringBuilder();\r\n    tmp.append(s);\r\n    tmp.append(variable2);\r\n    s = tmp.toString();\r\n    tmp = new StringBuilder();\r\n    tmp.append(s);\r\n    tmp.append(&quot; end&quot;);\r\n    s = tmp.toString();\r\n    return s;\r\n\r\n...which is pretty ugly.\r\n\r\nIt&#39;s important to remember, though, that in all but a very few cases *it doesn&#39;t matter* and going with readability (which enhances maintainability) is preferred barring a specific performance issue.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html#StringBuilder%28%29","title":"Correct way to use StringBuilder in SQL","body":"<blockquote>\n  <p>The aim of using StringBuilder, i.e reducing memory. Is it achieved?</p>\n</blockquote>\n\n<p>No, not at all. That code is not using <code>StringBuilder</code> correctly. (I think you've misquoted it, though; surely there aren't quotes around <code>id2</code> and <code>table</code>?)</p>\n\n<p>Note that the aim (usually) is to reduce memory <em>churn</em> rather than total memory used, to make life a bit easier on the garbage collector.</p>\n\n<blockquote>\n  <p>Will that take memory equal to using String like below?</p>\n</blockquote>\n\n<p>No, it'll cause <em>more</em> memory churn than just the straight concat you quoted. (Until/unless the JVM optimizer sees that the explicit <code>StringBuilder</code> in the code is unnecessary and optimizes it out, if it can.)</p>\n\n<p>If the author of that code wants to use <code>StringBuilder</code> (there are arguments for, but also against; see note at the end of this answer), better to do it properly (here I'm assuming there aren't actually quotes around <code>id2</code> and <code>table</code>):</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(some_appropriate_size);\nsb.append(\"select id1, \");\nsb.append(id2);\nsb.append(\" from \");\nsb.append(table);\nreturn sb.toString();\n</code></pre>\n\n<p>Note that I've listed <code>some_appropriate_size</code> in the <code>StringBuilder</code> constructor, so that it starts out with enough capacity for the full content we're going to append. The default size used if you don't specify one is <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html#StringBuilder%28%29\">16 characters</a>, which is usually too small and results in the <code>StringBuilder</code> having to do reallocations to make itself bigger (IIRC, in the Sun/Oracle JDK, it doubles itself [or more, if it knows it needs more to satisfy a specific <code>append</code>] each time it runs out of room).</p>\n\n<p>You may have heard that string concatenation <em>will</em> use a <code>StringBuilder</code> under the covers if compiled with the Sun/Oracle compiler. This is true, it will use one <code>StringBuilder</code> for the overall expression. But it will use the default constructor, which means in the majority of cases, it will have to do a reallocation. It's easier to read, though. Note that this is <em>not</em> true of a <em>series</em> of concatenations. So for instance, this uses one <code>StringBuilder</code>:</p>\n\n<pre><code>return \"prefix \" + variable1 + \" middle \" + variable2 + \" end\";\n</code></pre>\n\n<p>It roughly translates to:</p>\n\n<pre><code>StringBuilder tmp = new StringBuilder(); // Using default 16 character size\ntmp.append(\"prefix \");\ntmp.append(variable1);\ntmp.append(\" middle \");\ntmp.append(variable2);\ntmp.append(\" end\");\nreturn tmp.toString();\n</code></pre>\n\n<p>So that's okay, although the default constructor and subsequent reallocation(s) isn't ideal, the odds are it's good enough&nbsp;&mdash; and the concatenation is a <em>lot</em> more readable.</p>\n\n<p>But that's only for a single expression. Multiple <code>StringBuilder</code>s are used for this:</p>\n\n<pre><code>String s;\ns = \"prefix \";\ns += variable1;\ns += \" middle \";\ns += variable2;\ns += \" end\";\nreturn s;\n</code></pre>\n\n<p>That ends up becoming something like this:</p>\n\n<pre><code>String s;\nStringBuilder tmp;\ns = \"prefix \";\ntmp = new StringBuilder();\ntmp.append(s);\ntmp.append(variable1);\ns = tmp.toString();\ntmp = new StringBuilder();\ntmp.append(s);\ntmp.append(\" middle \");\ns = tmp.toString();\ntmp = new StringBuilder();\ntmp.append(s);\ntmp.append(variable2);\ns = tmp.toString();\ntmp = new StringBuilder();\ntmp.append(s);\ntmp.append(\" end\");\ns = tmp.toString();\nreturn s;\n</code></pre>\n\n<p>...which is pretty ugly.</p>\n\n<p>It's important to remember, though, that in all but a very few cases <em>it doesn't matter</em> and going with readability (which enhances maintainability) is preferred barring a specific performance issue.</p>\n"},{"tags":[],"owner":{"account_id":74042,"reputation":13420,"user_id":212952,"display_name":"Tomas Narros"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325676423,"creation_date":1325675179,"answer_id":8725788,"question_id":8725739,"body_markdown":"In the code you have posted there would be no advantages, as you are misusing the StringBuilder. You build the same String in both cases. Using StringBuilder you can avoid the `+` operation on Strings using the `append` method.\r\nYou should use it this way:\r\n\r\n    return new StringBuilder(&quot;select id1, &quot;).append(&quot; id2 &quot;).append(&quot; from &quot;).append(&quot; table&quot;).toString();\r\n\r\nIn Java, the String type is an inmutable sequence of characters, so when you add two Strings the VM creates a new String value with both operands concatenated.\r\n\r\nStringBuilder provides a mutable sequence of characters, which you can use to concat different values or variables without creating new String objects, and so it can sometimes be more efficient than working with strings\r\n\r\nThis provides some useful features, as changing the content of a char sequence passed as parameter inside another method, which you can&#39;t do with Strings.\r\n\r\n    private void addWhereClause(StringBuilder sql, String column, String value) {\r\n       //WARNING: only as an example, never append directly a value to a SQL String, or you&#39;ll be exposed to SQL Injection\r\n       sql.append(&quot; where &quot;).append(column).append(&quot; = &quot;).append(value);\r\n    }\r\n\r\nMore info at http://docs.oracle.com/javase/tutorial/java/data/buffers.html\r\n","title":"Correct way to use StringBuilder in SQL","body":"<p>In the code you have posted there would be no advantages, as you are misusing the StringBuilder. You build the same String in both cases. Using StringBuilder you can avoid the <code>+</code> operation on Strings using the <code>append</code> method.\nYou should use it this way:</p>\n\n<pre><code>return new StringBuilder(\"select id1, \").append(\" id2 \").append(\" from \").append(\" table\").toString();\n</code></pre>\n\n<p>In Java, the String type is an inmutable sequence of characters, so when you add two Strings the VM creates a new String value with both operands concatenated.</p>\n\n<p>StringBuilder provides a mutable sequence of characters, which you can use to concat different values or variables without creating new String objects, and so it can sometimes be more efficient than working with strings</p>\n\n<p>This provides some useful features, as changing the content of a char sequence passed as parameter inside another method, which you can't do with Strings.</p>\n\n<pre><code>private void addWhereClause(StringBuilder sql, String column, String value) {\n   //WARNING: only as an example, never append directly a value to a SQL String, or you'll be exposed to SQL Injection\n   sql.append(\" where \").append(column).append(\" = \").append(value);\n}\n</code></pre>\n\n<p>More info at <a href=\"http://docs.oracle.com/javase/tutorial/java/data/buffers.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/data/buffers.html</a></p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1512151291,"creation_date":1325675356,"answer_id":8725826,"question_id":8725739,"body_markdown":"When you already have all the &quot;pieces&quot; you wish to append, there is no point in using `StringBuilder` at all. Using `StringBuilder` *and* string concatenation in the same call as per your sample code is even worse.\r\n\r\nThis would be better:\r\n\r\n    return &quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;;\r\n\r\nIn this case, the string concatenation is actually happening at **compile-time** anyway, so it&#39;s equivalent to the even-simpler:\r\n\r\n    return &quot;select id1, id2 from table&quot;;\r\n\r\nUsing `new StringBuilder().append(&quot;select id1, &quot;).append(&quot; id2 &quot;)....toString()` will actually *hinder* performance in this case, because it forces the concatenation to be performed at **execution time**, instead of at **compile** time. Oops.\r\n\r\nIf the real code is building a SQL query by including *values* in the query, then that&#39;s another *separate* issue, which is that you should be using parameterized queries, specifying the values in the parameters rather than in the SQL.\r\n\r\nI have an [article on `String` / `StringBuffer`][1] which I wrote a while ago - before `StringBuilder` came along. The principles apply to `StringBuilder` in the same way though.\r\n\r\n\r\n  [1]: http://www.yoda.arachsys.com/java/strings.html","title":"Correct way to use StringBuilder in SQL","body":"<p>When you already have all the \"pieces\" you wish to append, there is no point in using <code>StringBuilder</code> at all. Using <code>StringBuilder</code> <em>and</em> string concatenation in the same call as per your sample code is even worse.</p>\n\n<p>This would be better:</p>\n\n<pre><code>return \"select id1, \" + \" id2 \" + \" from \" + \" table\";\n</code></pre>\n\n<p>In this case, the string concatenation is actually happening at <strong>compile-time</strong> anyway, so it's equivalent to the even-simpler:</p>\n\n<pre><code>return \"select id1, id2 from table\";\n</code></pre>\n\n<p>Using <code>new StringBuilder().append(\"select id1, \").append(\" id2 \")....toString()</code> will actually <em>hinder</em> performance in this case, because it forces the concatenation to be performed at <strong>execution time</strong>, instead of at <strong>compile</strong> time. Oops.</p>\n\n<p>If the real code is building a SQL query by including <em>values</em> in the query, then that's another <em>separate</em> issue, which is that you should be using parameterized queries, specifying the values in the parameters rather than in the SQL.</p>\n\n<p>I have an <a href=\"http://www.yoda.arachsys.com/java/strings.html\" rel=\"noreferrer\">article on <code>String</code> / <code>StringBuffer</code></a> which I wrote a while ago - before <code>StringBuilder</code> came along. The principles apply to <code>StringBuilder</code> in the same way though.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1438357743,"creation_date":1325675527,"answer_id":8725866,"question_id":8725739,"body_markdown":"You are correct in guessing that the aim of using string builder is not achieved, at least not to its full extent. \r\n\r\nHowever, when the compiler sees the expression `&quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;` it emits code which actually creates a `StringBuilder` behind the scenes and appends to it, so the end result is not that bad afterall.\r\n\r\nBut of course anyone looking at that code is bound to think that it is kind of retarded.","title":"Correct way to use StringBuilder in SQL","body":"<p>You are correct in guessing that the aim of using string builder is not achieved, at least not to its full extent. </p>\n\n<p>However, when the compiler sees the expression <code>\"select id1, \" + \" id2 \" + \" from \" + \" table\"</code> it emits code which actually creates a <code>StringBuilder</code> behind the scenes and appends to it, so the end result is not that bad afterall.</p>\n\n<p>But of course anyone looking at that code is bound to think that it is kind of retarded.</p>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379235383,"creation_date":1379235383,"answer_id":18810629,"question_id":8725739,"body_markdown":"You could also use [MessageFormat][1] too\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html","title":"Correct way to use StringBuilder in SQL","body":"<p>You could also use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html\" rel=\"nofollow\">MessageFormat</a> too</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480984197,"creation_date":1406313296,"answer_id":24962362,"question_id":8725739,"body_markdown":"[[ There are some good answers here but I find that they still are lacking a bit of information. ]]\r\n\r\n    return (new StringBuilder(&quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;))\r\n         .toString();\r\n\r\nSo as you point out, the example you give is a simplistic but let&#39;s analyze it anyway.  What happens here is the _compiler_ actually does the `+` work here because `&quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;` are all constants.  So this turns into:\r\n\r\n    return new StringBuilder(&quot;select id1,  id2  from  table&quot;).toString();\r\n\r\nIn this case, obviously, there is no point in using `StringBuilder`.  You might as well do:\r\n\r\n    // the compiler combines these constant strings\r\n    return &quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;;\r\n\r\nHowever, even if you were appending any fields or other non-constants then the compiler would use an _internal_ `StringBuilder` -- there&#39;s no need for you to define one:\r\n\r\n    // an internal StringBuilder is used here\r\n    return &quot;select id1, &quot; + fieldName + &quot; from &quot; + tableName;\r\n\r\nUnder the covers, this turns into code that is approximately equivalent to:\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;select id1, &quot;);\r\n    sb.append(fieldName).append(&quot; from &quot;).append(tableName);\r\n    return sb.toString();\r\n\r\nReally the only time you need to use `StringBuilder` _directly_ is when you have conditional code.  For example, code that looks like the following is desperate for a `StringBuilder`:\r\n\r\n    // 1 StringBuilder used in this line\r\n    String query = &quot;select id1, &quot; + fieldName + &quot; from &quot; + tableName;\r\n    if (where != null) {\r\n       // another StringBuilder used here\r\n       query += &#39; &#39; + where;\r\n    }\r\n\r\nThe `+` in the first line uses one `StringBuilder` instance.  Then the `+=` uses another `StringBuilder` instance.  It is more efficient to do:\r\n\r\n    // choose a good starting size to lower chances of reallocation\r\n    StringBuilder sb = new StringBuilder(64);\r\n    sb.append(&quot;select id1, &quot;).append(fieldName).append(&quot; from &quot;).append(tableName);\r\n    // conditional code\r\n    if (where != null) {\r\n       sb.append(&#39; &#39;).append(where);\r\n    }\r\n    return sb.toString();\r\n\r\nAnother time that I use a `StringBuilder` is when I&#39;m building a string from a number of method calls.  Then I can create methods that take a `StringBuilder` argument:\r\n\r\n    private void addWhere(StringBuilder sb) {\r\n       if (where != null) {\r\n          sb.append(&#39; &#39;).append(where);\r\n       }\r\n    }\r\n\r\nWhen you are using a `StringBuilder`, you should watch for any usage of `+` at the same time:\r\n\r\n    sb.append(&quot;select &quot; + fieldName);\r\n\r\nThat `+` will cause another internal `StringBuilder` to be created.  This should of course be:\r\n\r\n    sb.append(&quot;select &quot;).append(fieldName);\r\n\r\nLastly, as @T.J.rowder points out, you should always make a guess at the size of the `StringBuilder`.  This will save on the number of `char[]` objects created when growing the size of the internal buffer.\r\n","title":"Correct way to use StringBuilder in SQL","body":"<p>[[ There are some good answers here but I find that they still are lacking a bit of information. ]]</p>\n\n<pre><code>return (new StringBuilder(\"select id1, \" + \" id2 \" + \" from \" + \" table\"))\n     .toString();\n</code></pre>\n\n<p>So as you point out, the example you give is a simplistic but let's analyze it anyway.  What happens here is the <em>compiler</em> actually does the <code>+</code> work here because <code>\"select id1, \" + \" id2 \" + \" from \" + \" table\"</code> are all constants.  So this turns into:</p>\n\n<pre><code>return new StringBuilder(\"select id1,  id2  from  table\").toString();\n</code></pre>\n\n<p>In this case, obviously, there is no point in using <code>StringBuilder</code>.  You might as well do:</p>\n\n<pre><code>// the compiler combines these constant strings\nreturn \"select id1, \" + \" id2 \" + \" from \" + \" table\";\n</code></pre>\n\n<p>However, even if you were appending any fields or other non-constants then the compiler would use an <em>internal</em> <code>StringBuilder</code> -- there's no need for you to define one:</p>\n\n<pre><code>// an internal StringBuilder is used here\nreturn \"select id1, \" + fieldName + \" from \" + tableName;\n</code></pre>\n\n<p>Under the covers, this turns into code that is approximately equivalent to:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(\"select id1, \");\nsb.append(fieldName).append(\" from \").append(tableName);\nreturn sb.toString();\n</code></pre>\n\n<p>Really the only time you need to use <code>StringBuilder</code> <em>directly</em> is when you have conditional code.  For example, code that looks like the following is desperate for a <code>StringBuilder</code>:</p>\n\n<pre><code>// 1 StringBuilder used in this line\nString query = \"select id1, \" + fieldName + \" from \" + tableName;\nif (where != null) {\n   // another StringBuilder used here\n   query += ' ' + where;\n}\n</code></pre>\n\n<p>The <code>+</code> in the first line uses one <code>StringBuilder</code> instance.  Then the <code>+=</code> uses another <code>StringBuilder</code> instance.  It is more efficient to do:</p>\n\n<pre><code>// choose a good starting size to lower chances of reallocation\nStringBuilder sb = new StringBuilder(64);\nsb.append(\"select id1, \").append(fieldName).append(\" from \").append(tableName);\n// conditional code\nif (where != null) {\n   sb.append(' ').append(where);\n}\nreturn sb.toString();\n</code></pre>\n\n<p>Another time that I use a <code>StringBuilder</code> is when I'm building a string from a number of method calls.  Then I can create methods that take a <code>StringBuilder</code> argument:</p>\n\n<pre><code>private void addWhere(StringBuilder sb) {\n   if (where != null) {\n      sb.append(' ').append(where);\n   }\n}\n</code></pre>\n\n<p>When you are using a <code>StringBuilder</code>, you should watch for any usage of <code>+</code> at the same time:</p>\n\n<pre><code>sb.append(\"select \" + fieldName);\n</code></pre>\n\n<p>That <code>+</code> will cause another internal <code>StringBuilder</code> to be created.  This should of course be:</p>\n\n<pre><code>sb.append(\"select \").append(fieldName);\n</code></pre>\n\n<p>Lastly, as @T.J.rowder points out, you should always make a guess at the size of the <code>StringBuilder</code>.  This will save on the number of <code>char[]</code> objects created when growing the size of the internal buffer.</p>\n"}],"owner":{"account_id":183777,"reputation":4897,"user_id":419377,"accept_rate":97,"display_name":"Vaandu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309509,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":8725765,"answer_count":6,"score":88,"last_activity_date":1671479382,"creation_date":1325674982,"question_id":8725739,"body_markdown":"I just found some sql query build like this in my project:\r\n\r\n    return (new StringBuilder(&quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;)).toString();\r\n\r\nDoes this `StringBuilder` achieve its aim, i.e reducing memory usage?\r\n\r\nI doubt that, because in the constructor the &#39;+&#39; (String concat operator) is used. Will that take the same amount of memory as using String like the code below? s I understood, it differs when using `StringBuilder.append()`.\r\n\r\n    return &quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;;\r\n\r\nAre both statements equal in memory usage or not? Please clarify.\r\n\r\nEdit:\r\n\r\nBTW, **it is not my code**. Found it in an old project. Also, the query is not so small as the one in my example. :)\r\n\r\n","title":"Correct way to use StringBuilder in SQL","body":"<p>I just found some sql query build like this in my project:</p>\n<pre><code>return (new StringBuilder(&quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;)).toString();\n</code></pre>\n<p>Does this <code>StringBuilder</code> achieve its aim, i.e reducing memory usage?</p>\n<p>I doubt that, because in the constructor the '+' (String concat operator) is used. Will that take the same amount of memory as using String like the code below? s I understood, it differs when using <code>StringBuilder.append()</code>.</p>\n<pre><code>return &quot;select id1, &quot; + &quot; id2 &quot; + &quot; from &quot; + &quot; table&quot;;\n</code></pre>\n<p>Are both statements equal in memory usage or not? Please clarify.</p>\n<p>Edit:</p>\n<p>BTW, <strong>it is not my code</strong>. Found it in an old project. Also, the query is not so small as the one in my example. :)</p>\n"},{"tags":["java","spring-boot","spring-webflux","multipartform-data"],"owner":{"account_id":6786419,"reputation":23,"user_id":5225028,"display_name":"Andre Kapp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671479357,"creation_date":1671479357,"question_id":74855348,"body_markdown":"I build a utility class to upload a file to AWS S3 using a full WebFlux reactive stack.\r\nThe controller class method looks like this:\r\n\r\n```\r\n     @Override\r\n     @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n     @Timed(value = &quot;timed.upload_customer_media&quot;, description = &quot;Time taken to upload customer media&quot;)\r\n     public Mono&lt;ServerResponse&gt; uploadCustomerMedia(ServerRequest serverRequest) {\r\n\r\n          return serverRequest.body(BodyExtractors.toMultipartData())\r\n                  .flatMap(parts -&gt; {\r\n                               Map&lt;String, Part&gt; partMap = parts.toSingleValueMap();\r\n                               partMap.forEach((partName, value) -&gt; log.info(&quot;Name: {}, value: {}&quot;, partName, value));\r\n\r\n                               FilePart filePart = (FilePart) partMap.get(&quot;file&quot;);\r\n                               log.info(&quot;File name is : [{}]&quot;, filePart.filename());\r\n\r\n                               FormFieldPart formFieldPart = (FormFieldPart) partMap.get(&quot;mediaDTO&quot;);\r\n\r\n                               log.info(&quot;mediaDTO is : [{}]&quot;, formFieldPart.value());\r\n                               MediaDTO mediaDTO;\r\n                               try {\r\n                                    mediaDTO = objectMapper.readValue(formFieldPart.value(), MediaDTO.class);\r\n                                    log.info(&quot;mediaDTO is : [{}]&quot;, mediaDTO);\r\n\r\n                                    var customerId = Long.parseLong(serverRequest.pathVariable(CUSTOMER_ID));\r\n                                    log.info(&quot;customerId is : [{}]&quot;, customerId);\r\n\r\n                                    return s3FileHandlerService.multipartUploadHandler(customerId, mediaDTO, Flux.just(filePart))\r\n                                            .elapsed()\r\n                                            .flatMap(tr -&gt; {\r\n                                                 log.info(&quot;Duration to upload file to S3 [fileName : {}, duration : {}]&quot;, filePart.filename(), tr.getT1());\r\n                                                 log.debug(&quot;Now deleting file part from temp folder.&quot;);\r\n                                                 return Mono.just(tr.getT2());\r\n                                            })\r\n                                            .flatMap(s -&gt; filePart.delete()\r\n                                                    .then(Mono.just(s)));\r\n\r\n                               } catch (Exception ex) {\r\n                                    log.error(&quot;Error parsing mediaDTO: {}&quot;, ex.getMessage());\r\n                                    return Mono.error(() -&gt; new CustomerProcessingException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error processing request.&quot;, ex));\r\n                               }\r\n                          }\r\n                  )\r\n                  .flatMap(body -&gt; ServerResponse.status(HttpStatus.CREATED)\r\n                          .contentType(MediaType.APPLICATION_JSON).body(BodyInserters.fromValue(body)))\r\n\r\n                  .metrics();\r\n\r\n     }\r\n```\r\nThe signature for the method looks like this:\r\n\r\n```\r\n     public Mono&lt;String&gt; multipartUploadHandler(Long customerId, MediaDTO mediaDTO, Flux&lt;Part&gt; parts) {\r\n```\r\nSo, my MultipartFile upload controller works like a dream. I can extract the Form payload and the attached file, upload it to S3 and happiness is.\r\n\r\nA new requirement is to take an existing file that has been downloaded to the local os using WebClient, and submit it to this method.\r\nFor the life of me, I cannot find a way to construct an instance of the Part interface using the file contents to submit.\r\n\r\nI am looking the org.springframework.http.codec.multipart.Part and FilePart interface JavaDoc, but all the known implementations are private classes.\r\nExample: DefaultFilePart is private static final in DefaultParts.\r\n\r\nSo my question: Has anybody ever needed to do something like this or pointers?\r\n\r\n\r\n","title":"Spring generate Flux&lt;Part&gt; from File","body":"<p>I build a utility class to upload a file to AWS S3 using a full WebFlux reactive stack.\nThe controller class method looks like this:</p>\n<pre><code>     @Override\n     @Transactional(propagation = Propagation.REQUIRES_NEW)\n     @Timed(value = &quot;timed.upload_customer_media&quot;, description = &quot;Time taken to upload customer media&quot;)\n     public Mono&lt;ServerResponse&gt; uploadCustomerMedia(ServerRequest serverRequest) {\n\n          return serverRequest.body(BodyExtractors.toMultipartData())\n                  .flatMap(parts -&gt; {\n                               Map&lt;String, Part&gt; partMap = parts.toSingleValueMap();\n                               partMap.forEach((partName, value) -&gt; log.info(&quot;Name: {}, value: {}&quot;, partName, value));\n\n                               FilePart filePart = (FilePart) partMap.get(&quot;file&quot;);\n                               log.info(&quot;File name is : [{}]&quot;, filePart.filename());\n\n                               FormFieldPart formFieldPart = (FormFieldPart) partMap.get(&quot;mediaDTO&quot;);\n\n                               log.info(&quot;mediaDTO is : [{}]&quot;, formFieldPart.value());\n                               MediaDTO mediaDTO;\n                               try {\n                                    mediaDTO = objectMapper.readValue(formFieldPart.value(), MediaDTO.class);\n                                    log.info(&quot;mediaDTO is : [{}]&quot;, mediaDTO);\n\n                                    var customerId = Long.parseLong(serverRequest.pathVariable(CUSTOMER_ID));\n                                    log.info(&quot;customerId is : [{}]&quot;, customerId);\n\n                                    return s3FileHandlerService.multipartUploadHandler(customerId, mediaDTO, Flux.just(filePart))\n                                            .elapsed()\n                                            .flatMap(tr -&gt; {\n                                                 log.info(&quot;Duration to upload file to S3 [fileName : {}, duration : {}]&quot;, filePart.filename(), tr.getT1());\n                                                 log.debug(&quot;Now deleting file part from temp folder.&quot;);\n                                                 return Mono.just(tr.getT2());\n                                            })\n                                            .flatMap(s -&gt; filePart.delete()\n                                                    .then(Mono.just(s)));\n\n                               } catch (Exception ex) {\n                                    log.error(&quot;Error parsing mediaDTO: {}&quot;, ex.getMessage());\n                                    return Mono.error(() -&gt; new CustomerProcessingException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error processing request.&quot;, ex));\n                               }\n                          }\n                  )\n                  .flatMap(body -&gt; ServerResponse.status(HttpStatus.CREATED)\n                          .contentType(MediaType.APPLICATION_JSON).body(BodyInserters.fromValue(body)))\n\n                  .metrics();\n\n     }\n</code></pre>\n<p>The signature for the method looks like this:</p>\n<pre><code>     public Mono&lt;String&gt; multipartUploadHandler(Long customerId, MediaDTO mediaDTO, Flux&lt;Part&gt; parts) {\n</code></pre>\n<p>So, my MultipartFile upload controller works like a dream. I can extract the Form payload and the attached file, upload it to S3 and happiness is.</p>\n<p>A new requirement is to take an existing file that has been downloaded to the local os using WebClient, and submit it to this method.\nFor the life of me, I cannot find a way to construct an instance of the Part interface using the file contents to submit.</p>\n<p>I am looking the org.springframework.http.codec.multipart.Part and FilePart interface JavaDoc, but all the known implementations are private classes.\nExample: DefaultFilePart is private static final in DefaultParts.</p>\n<p>So my question: Has anybody ever needed to do something like this or pointers?</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"owner":{"account_id":24611012,"reputation":1,"user_id":19803521,"display_name":"Yadier Betancourt Mart&#237;nez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671479181,"creation_date":1671479181,"question_id":74855319,"body_markdown":"I am using spring data jpa and it is known that I can build queries just by building the name of the method.\r\n\r\nI am using postgres as database manager.\r\n\r\n```\r\ninterface PersonRepository extends Repository&lt;Person, Long&gt; {\r\n  List&lt;Person&gt; findByLastname(String lastname);\r\n}\r\n\r\n```\r\n\r\nYou could also build this same query as a function in postgres. My question is in performance issues that it is better to do it from the postgres side or from spring data jpa. And I would like to know what are the pros and cons of each way of doing the queries.","title":"postgres functions vs spring data query methods","body":"<p>I am using spring data jpa and it is known that I can build queries just by building the name of the method.</p>\n<p>I am using postgres as database manager.</p>\n<pre><code>interface PersonRepository extends Repository&lt;Person, Long&gt; {\n  List&lt;Person&gt; findByLastname(String lastname);\n}\n\n</code></pre>\n<p>You could also build this same query as a function in postgres. My question is in performance issues that it is better to do it from the postgres side or from spring data jpa. And I would like to know what are the pros and cons of each way of doing the queries.</p>\n"},{"tags":["java","nginx","grpc","cloudflare","fabio"],"comments":[{"owner":{"account_id":2475746,"reputation":1885,"user_id":2156436,"display_name":"Yuri Golobokov"},"score":0,"creation_date":1671147445,"post_id":74784601,"comment_id":132042355,"body_markdown":"Take a look at https://github.com/kubernetes/ingress-nginx/issues/4323#issuecomment-1162939699\nWhat serves on port 9999? It looks like that replies with HTTP1.","body":"Take a look at <a href=\"https://github.com/kubernetes/ingress-nginx/issues/4323#issuecomment-1162939699\" rel=\"nofollow noreferrer\">github.com/kubernetes/ingress-nginx/issues/&hellip;</a> What serves on port 9999? It looks like that replies with HTTP1."},{"owner":{"account_id":14268495,"reputation":396,"user_id":10306808,"display_name":"rgaraisayev"},"score":0,"creation_date":1671302780,"post_id":74784601,"comment_id":132072118,"body_markdown":"Thank you for sharing this info. 9999 is Fabio which redirect traffic to grpc backend. You are right, when nginx sends request to 9999, Fabio responds with http1. Probably, configuration is not right, so it cannot redirect request from nginx to grpc","body":"Thank you for sharing this info. 9999 is Fabio which redirect traffic to grpc backend. You are right, when nginx sends request to 9999, Fabio responds with http1. Probably, configuration is not right, so it cannot redirect request from nginx to grpc"},{"owner":{"account_id":14268495,"reputation":396,"user_id":10306808,"display_name":"rgaraisayev"},"score":0,"creation_date":1671313717,"post_id":74784601,"comment_id":132074188,"body_markdown":"I found a solution. Enabled grpc protocol in fabio, it works now","body":"I found a solution. Enabled grpc protocol in fabio, it works now"},{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1671411195,"post_id":74784601,"comment_id":132087510,"body_markdown":"@rgaraisayev Could you please copy your solution in the answer so this question has a verified answer?","body":"@rgaraisayev Could you please copy your solution in the answer so this question has a verified answer?"}],"answers":[{"tags":[],"owner":{"account_id":14268495,"reputation":396,"user_id":10306808,"display_name":"rgaraisayev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1671479071,"creation_date":1671479071,"answer_id":74855306,"question_id":74784601,"body_markdown":"Adding GRPC listener with port solved the issue\r\n\r\n    proxy.addr = :8888;proto=grpc","title":"How to use gRPC with cloudflare+nginx+fabio?","body":"<p>Adding GRPC listener with port solved the issue</p>\n<pre><code>proxy.addr = :8888;proto=grpc\n</code></pre>\n"}],"owner":{"account_id":14268495,"reputation":396,"user_id":10306808,"display_name":"rgaraisayev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74855306,"answer_count":1,"score":0,"last_activity_date":1671479071,"creation_date":1670933066,"question_id":74784601,"body_markdown":"I have a gRPC Java app and I configured Fabio to balance the load (I will be running 2+ instances of  app) and CloudFlare for proxy. \r\n\r\nWhat I have done so far:\r\n\r\nNginx reverse proxy setup\r\n\r\n```none\r\nserver {\r\n\tlisten [::]:443 ssl http2 ipv6only=on;\r\n    \tlisten 443 ssl http2;\r\n\r\n\tserver_name grpc.example.com;\r\n\r\n\tlocation /{\r\n\t\tgrpc_pass grpc://127.0.0.1:9999;\r\n\t}\r\n    \tssl_certificate /etc/letsencrypt/live/grpc.example.com/fullchain.pem; \r\n    \tssl_certificate_key /etc/letsencrypt/live/grpc.example.com/privkey.pem;\r\n    \tinclude /etc/letsencrypt/options-ssl-nginx.conf;\r\n    \tssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\r\n\r\n}\r\n```\r\n\r\n\r\nCloudFlare setup:  \r\n[![Grpc is enabled](https://i.stack.imgur.com/dxUvv.png)](https://i.stack.imgur.com/dxUvv.png)\r\n\r\n\r\nSubdomain configuration for domain (IP is random in picture)  \r\n[![subdomain](https://i.stack.imgur.com/dlfYj.png)](https://i.stack.imgur.com/dlfYj.png)\r\n\r\nFabio setup  \r\ngRPC app runs in a Docker container\r\n\r\n[![running app](https://i.stack.imgur.com/Zaf7I.png)](https://i.stack.imgur.com/Zaf7I.png)\r\n\r\nWhen I connect to this server using gRPC client, I get nginx error _&quot;502 Bad Gateway&quot;_.\r\n\r\nI can see from access.log that request actually reaches with http/2.0 but I am confused and I don&#39;t know where to look for problem.\r\n\r\nAlso error.log shows this for requests:\r\n\r\n&gt; 2022/12/12 23:38:45 [error] 506072#506072: *1020 upstream sent too large http2 frame: 4740180 while reading response header from upstream, client: 61.142.22.151, server: grpc.example.com, request: &quot;POST /Syncer/doUpdate HTTP/2.0&quot;, upstream: &quot;grpc://127.0.0.1:9999&quot;, host: &quot;grpc.example.com:443&quot;\r\n\r\n\r\n","title":"How to use gRPC with cloudflare+nginx+fabio?","body":"<p>I have a gRPC Java app and I configured Fabio to balance the load (I will be running 2+ instances of  app) and CloudFlare for proxy.</p>\n<p>What I have done so far:</p>\n<p>Nginx reverse proxy setup</p>\n<pre class=\"lang-none prettyprint-override\"><code>server {\n    listen [::]:443 ssl http2 ipv6only=on;\n        listen 443 ssl http2;\n\n    server_name grpc.example.com;\n\n    location /{\n        grpc_pass grpc://127.0.0.1:9999;\n    }\n        ssl_certificate /etc/letsencrypt/live/grpc.example.com/fullchain.pem; \n        ssl_certificate_key /etc/letsencrypt/live/grpc.example.com/privkey.pem;\n        include /etc/letsencrypt/options-ssl-nginx.conf;\n        ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\n\n}\n</code></pre>\n<p>CloudFlare setup:<br />\n<a href=\"https://i.stack.imgur.com/dxUvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxUvv.png\" alt=\"Grpc is enabled\" /></a></p>\n<p>Subdomain configuration for domain (IP is random in picture)<br />\n<a href=\"https://i.stack.imgur.com/dlfYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlfYj.png\" alt=\"subdomain\" /></a></p>\n<p>Fabio setup<br />\ngRPC app runs in a Docker container</p>\n<p><a href=\"https://i.stack.imgur.com/Zaf7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zaf7I.png\" alt=\"running app\" /></a></p>\n<p>When I connect to this server using gRPC client, I get nginx error <em>&quot;502 Bad Gateway&quot;</em>.</p>\n<p>I can see from access.log that request actually reaches with http/2.0 but I am confused and I don't know where to look for problem.</p>\n<p>Also error.log shows this for requests:</p>\n<blockquote>\n<p>2022/12/12 23:38:45 [error] 506072#506072: *1020 upstream sent too large http2 frame: 4740180 while reading response header from upstream, client: 61.142.22.151, server: grpc.example.com, request: &quot;POST /Syncer/doUpdate HTTP/2.0&quot;, upstream: &quot;grpc://127.0.0.1:9999&quot;, host: &quot;grpc.example.com:443&quot;</p>\n</blockquote>\n"},{"tags":["java","program-slicing"],"answers":[{"tags":[],"owner":{"account_id":4983777,"reputation":21,"user_id":4007990,"display_name":"d-ell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409853240,"creation_date":1409853240,"answer_id":25672034,"question_id":25281639,"body_markdown":"It seems that there are more academic papers discussing the theoretical approach than there are actual implementations. (Especially in Java)\r\n\r\nYou could try one of the following options:\r\n\r\n**Analyzing singlethreaded programs:**\r\n\r\n**Java Slicer** from hammacher(*@github*). As far as I remember, it gives you a java bytecode slice after you have created a trace out of your program.\r\n\r\nAlso look at **IBM Wala Slicer**.\r\n\r\n\r\n**Analyzing multithreaded programs:**\r\n\r\nThe problem is that complexity rises especially when analyzing multithreaded programs. \r\nI think the only one currently supporting this is the [Indus][1] project. They also provide an eclipse plugin, called **Kaveri**, but you had to use it with Eclipse 3.1.2\r\n\r\nHowever, your code has to be compliant with **Java 2(J2SE 1.4.2)**. see [Java Support][2]\r\n\r\n[1]: http://indus.projects.cis.ksu.edu/\r\n[2]: http://projects.cis.ksu.edu/gf/project/indus/forum/?_forum_action=ForumMessageBrowse&amp;thread_id=32228&amp;action=ForumBrowse&amp;forum_id=34","title":"Backward slice generation for a java file","body":"<p>It seems that there are more academic papers discussing the theoretical approach than there are actual implementations. (Especially in Java)</p>\n\n<p>You could try one of the following options:</p>\n\n<p><strong>Analyzing singlethreaded programs:</strong></p>\n\n<p><strong>Java Slicer</strong> from hammacher(<em>@github</em>). As far as I remember, it gives you a java bytecode slice after you have created a trace out of your program.</p>\n\n<p>Also look at <strong>IBM Wala Slicer</strong>.</p>\n\n<p><strong>Analyzing multithreaded programs:</strong></p>\n\n<p>The problem is that complexity rises especially when analyzing multithreaded programs. \nI think the only one currently supporting this is the <a href=\"http://indus.projects.cis.ksu.edu/\" rel=\"nofollow\">Indus</a> project. They also provide an eclipse plugin, called <strong>Kaveri</strong>, but you had to use it with Eclipse 3.1.2</p>\n\n<p>However, your code has to be compliant with <strong>Java 2(J2SE 1.4.2)</strong>. see <a href=\"http://projects.cis.ksu.edu/gf/project/indus/forum/?_forum_action=ForumMessageBrowse&amp;thread_id=32228&amp;action=ForumBrowse&amp;forum_id=34\" rel=\"nofollow\">Java Support</a></p>\n"}],"owner":{"account_id":3033377,"reputation":539,"user_id":2571957,"accept_rate":73,"display_name":"HaMi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671478998,"creation_date":1407918996,"question_id":25281639,"body_markdown":"I have a java file and I want to get all the lines that have impact on result of a specific line (Backward Slice Generation). I know the solution but is there any java code to do that?\r\n\r\nas an example cosider the following code:\r\n\r\n    System.out.println(&quot;Start&quot;)\r\n    Random r = new Random();\r\n    int i = r.nextInt(10);\r\n    int n = 0;\r\n    if(i&lt;8)\r\n    {\r\n        n = 1;\r\n        System.out.println(&quot;In if&quot;);\r\n    }\r\n    int j = n * i;\r\n\r\nI need a code that find the following lines when I run it for line 10:\r\n\r\n    Random r = new Random();\r\n    int i = r.nextInt(10);\r\n    int n = 0;\r\n    if(i&lt;8)\r\n    {\r\n        n = 1;\r\n    }\r\n    int j = n * i;\r\n","title":"Backward slice generation for a java file","body":"<p>I have a java file and I want to get all the lines that have impact on result of a specific line (Backward Slice Generation). I know the solution but is there any java code to do that?</p>\n<p>as an example cosider the following code:</p>\n<pre><code>System.out.println(&quot;Start&quot;)\nRandom r = new Random();\nint i = r.nextInt(10);\nint n = 0;\nif(i&lt;8)\n{\n    n = 1;\n    System.out.println(&quot;In if&quot;);\n}\nint j = n * i;\n</code></pre>\n<p>I need a code that find the following lines when I run it for line 10:</p>\n<pre><code>Random r = new Random();\nint i = r.nextInt(10);\nint n = 0;\nif(i&lt;8)\n{\n    n = 1;\n}\nint j = n * i;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1671791535,"post_id":74855287,"comment_id":132176837,"body_markdown":"Are the tables you want to fetch data from foreign key related?","body":"Are the tables you want to fetch data from foreign key related?"}],"owner":{"account_id":18708852,"reputation":153,"user_id":13639347,"display_name":"Adam Lau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671478930,"creation_date":1671478930,"question_id":74855287,"body_markdown":"I&#39;ve created a new project in Java using Springboot. I&#39;ve followed a tutorial online to create an Entity called User which I have stored in a PostgreSQL database using Hibernate and a schema file. The User file is shown below. I&#39;m now trying to create a Controller that will allow me to get all the data of a User from the database, but Hibernate creates another table to store the ```@ElementCollection```. This means when I use the default queries, I get the User, but the roles column is not able to be accessed since it has stored in another table. It is stored as a jsonb. How can I get the entire User data?\r\n\r\n**User class**\r\n```@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private @Getter long id;\r\n    private @Getter @Setter String email;\r\n    private @Getter @Setter String encryptedPassword;\r\n    private @Getter String accessToken;\r\n    private @Getter float netWorth;\r\n\r\n    @ElementCollection \r\n    private @Getter @Setter Set&lt;String&gt; roles;\r\n\r\n    ... (Other class functions)\r\n\r\n}\r\n```\r\n\r\n**Repository and Service class**\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired // This means to get the bean called userRepository\r\n    // Which is auto-generated by Spring, we will use it to handle the data\r\n    private UserRepository repository;\r\n\r\n    public Optional&lt;User&gt; findOne(long id) {\r\n        return repository.findById(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Controller Class**\r\n```\r\n@RestController\r\n@RequestMapping(path=&quot;/user&quot;) // This means URL&#39;s start with /user (after Application path)\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(path=&quot;/get/{id}&quot;) // Map ONLY GET Requests\r\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable(&quot;id&quot;) long id) {\r\n        // @ResponseBody means the returned String is the response, not a view name\r\n        // @RequestParam means it is a parameter from the GET or POST request\r\n        try {\r\n            Optional&lt;User&gt; savedUser = userService.findOne(id);\r\n            if (!savedUser.isPresent()) {\r\n                throw new ResponseStatusException(\r\n                    HttpStatus.NOT_FOUND, &quot;User with ID: &quot; + id + &quot; not found.&quot;);\r\n            }\r\n\t\t\treturn new ResponseEntity&lt;&gt;(savedUser.get(), HttpStatus.FOUND);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new ResponseStatusException(\r\n                HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error in retrieving user.&quot;, e);\r\n\t\t}\r\n    }\r\n}\r\n```","title":"How to get contents of multiple related tables with Hibernate Spring?","body":"<p>I've created a new project in Java using Springboot. I've followed a tutorial online to create an Entity called User which I have stored in a PostgreSQL database using Hibernate and a schema file. The User file is shown below. I'm now trying to create a Controller that will allow me to get all the data of a User from the database, but Hibernate creates another table to store the <code>@ElementCollection</code>. This means when I use the default queries, I get the User, but the roles column is not able to be accessed since it has stored in another table. It is stored as a jsonb. How can I get the entire User data?</p>\n<p><strong>User class</strong></p>\n<pre><code>@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private @Getter long id;\n    private @Getter @Setter String email;\n    private @Getter @Setter String encryptedPassword;\n    private @Getter String accessToken;\n    private @Getter float netWorth;\n\n    @ElementCollection \n    private @Getter @Setter Set&lt;String&gt; roles;\n\n    ... (Other class functions)\n\n}\n</code></pre>\n<p><strong>Repository and Service class</strong></p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\n\n@Service\npublic class UserService {\n\n    @Autowired // This means to get the bean called userRepository\n    // Which is auto-generated by Spring, we will use it to handle the data\n    private UserRepository repository;\n\n    public Optional&lt;User&gt; findOne(long id) {\n        return repository.findById(id);\n    }\n\n}\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;/user&quot;) // This means URL's start with /user (after Application path)\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(path=&quot;/get/{id}&quot;) // Map ONLY GET Requests\n    public ResponseEntity&lt;User&gt; getUser(@PathVariable(&quot;id&quot;) long id) {\n        // @ResponseBody means the returned String is the response, not a view name\n        // @RequestParam means it is a parameter from the GET or POST request\n        try {\n            Optional&lt;User&gt; savedUser = userService.findOne(id);\n            if (!savedUser.isPresent()) {\n                throw new ResponseStatusException(\n                    HttpStatus.NOT_FOUND, &quot;User with ID: &quot; + id + &quot; not found.&quot;);\n            }\n            return new ResponseEntity&lt;&gt;(savedUser.get(), HttpStatus.FOUND);\n        } catch (Exception e) {\n            throw new ResponseStatusException(\n                HttpStatus.INTERNAL_SERVER_ERROR, &quot;Error in retrieving user.&quot;, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javassist","javaagents","bytecode-manipulation"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1671479794,"post_id":74855251,"comment_id":132104064,"body_markdown":"See the [JVMTI spec](https://docs.oracle.com/en/java/javase/17/docs/specs/jvmti.html#RedefineClasses) about redefining classes: &quot; The redefinition **must not** add, remove or rename fields or methods, change the signatures of methods, **change modifiers**, or change inheritance&quot;","body":"See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jvmti.html#RedefineClasses\" rel=\"nofollow noreferrer\">JVMTI spec</a> about redefining classes: &quot; The redefinition <b>must not</b> add, remove or rename fields or methods, change the signatures of methods, <b>change modifiers</b>, or change inheritance&quot;"},{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1671480055,"post_id":74855251,"comment_id":132104132,"body_markdown":"Thank you! Ohh... is there any way to influence it differently? or nothing?","body":"Thank you! Ohh... is there any way to influence it differently? or nothing?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1671480197,"post_id":74855251,"comment_id":132104178,"body_markdown":"There should be no need to do that. What do you actually try to do? (Most of the time, plain old reflection will work as a substitute, or even MethodHandles)","body":"There should be no need to do that. What do you actually try to do? (Most of the time, plain old reflection will work as a substitute, or even MethodHandles)"},{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1671480252,"post_id":74855251,"comment_id":132104199,"body_markdown":"I don&#39;t have a special goal, it was just interesting to try this way. thank you for the information!","body":"I don&#39;t have a special goal, it was just interesting to try this way. thank you for the information!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1671528519,"post_id":74855251,"comment_id":132113400,"body_markdown":"You can change access modifiers before the class is defined, either through load-time transformation or by changing the class file even before getting loaded. As a side note, the `Thread.currentThread().getContextClassLoader()` is wrong in most cases (if not all cases). For a particular class, use the class’s defining loader. Or no class loader at all when it comes to bytecode manipulation. Which boils down to not using Javassist for such tasks, as that library leads to using the wrong approaches too often.","body":"You can change access modifiers before the class is defined, either through load-time transformation or by changing the class file even before getting loaded. As a side note, the <code>Thread.currentThread().getContextClassLoader()</code> is wrong in most cases (if not all cases). For a particular class, use the class’s defining loader. Or no class loader at all when it comes to bytecode manipulation. Which boils down to not using Javassist for such tasks, as that library leads to using the wrong approaches too often."}],"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671478658,"creation_date":1671478658,"question_id":74855251,"body_markdown":"I am trying to change the method access modifier through an agent via javassist, however, I get an error. So, is it possible to change the access modifier via java agent and how to fix it? Is there any other way to influence the bytecode in runtime?\r\n\r\nAgent\r\n```\r\npublic static void premain(String args, Instrumentation instrumentation)\r\n    throws ClassNotFoundException, IOException, UnmodifiableClassException, NotFoundException {\r\n\r\n  final ClassPool pool = ClassPool.getDefault();\r\n  pool.appendClassPath(new LoaderClassPath(Thread.currentThread().getContextClassLoader()));\r\n\r\n  final ClassFile file = pool.get(&quot;...&quot;)\r\n      .getClassFile();\r\n  file.getMethod(&quot;...&quot;).setAccessFlags(AccessFlag.PUBLIC);\r\n\r\n  ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n  DataOutputStream dos = new DataOutputStream(bytes);\r\n  file.write(dos);\r\n  \r\n  Class&lt;?&gt; clazz = ...;\r\n\r\n  instrumentation.redefineClasses(new ClassDefinition(clazz, bytes.toByteArray()));\r\n}\r\n```\r\n\r\nMANIFEST\r\n```\r\nManifest-Version: 1.0\r\nPremain-Class: ...Agent\r\nCan-Redefine-Classes: true\r\nCan-Retransform-Classes: true\r\nCan-Set-Native-Method-Prefix: true\r\n\r\n```","title":"Java Agent &quot;java.lang.UnsupportedOperationException: class redefinition failed: attempted to change method modifiers&quot;","body":"<p>I am trying to change the method access modifier through an agent via javassist, however, I get an error. So, is it possible to change the access modifier via java agent and how to fix it? Is there any other way to influence the bytecode in runtime?</p>\n<p>Agent</p>\n<pre><code>public static void premain(String args, Instrumentation instrumentation)\n    throws ClassNotFoundException, IOException, UnmodifiableClassException, NotFoundException {\n\n  final ClassPool pool = ClassPool.getDefault();\n  pool.appendClassPath(new LoaderClassPath(Thread.currentThread().getContextClassLoader()));\n\n  final ClassFile file = pool.get(&quot;...&quot;)\n      .getClassFile();\n  file.getMethod(&quot;...&quot;).setAccessFlags(AccessFlag.PUBLIC);\n\n  ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n  DataOutputStream dos = new DataOutputStream(bytes);\n  file.write(dos);\n  \n  Class&lt;?&gt; clazz = ...;\n\n  instrumentation.redefineClasses(new ClassDefinition(clazz, bytes.toByteArray()));\n}\n</code></pre>\n<p>MANIFEST</p>\n<pre><code>Manifest-Version: 1.0\nPremain-Class: ...Agent\nCan-Redefine-Classes: true\nCan-Retransform-Classes: true\nCan-Set-Native-Method-Prefix: true\n\n</code></pre>\n"},{"tags":["java","spring","spring-integration","scatter-plot"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671464886,"post_id":74852001,"comment_id":132099324,"body_markdown":"We don&#39;t know what you are doing with this code. But probably when you create a reply message you lose request message headers, where that `gather-channel` value is set as a `.setReplyChannel(this.gatherChannel)`. I don&#39;t think that correlation expression is relevant to your problem.","body":"We don&#39;t know what you are doing with this code. But probably when you create a reply message you lose request message headers, where that <code>gather-channel</code> value is set as a <code>.setReplyChannel(this.gatherChannel)</code>. I don&#39;t think that correlation expression is relevant to your problem."},{"owner":{"account_id":27298338,"reputation":1,"user_id":20815607,"display_name":"nileshb"},"score":0,"creation_date":1671466419,"post_id":74852001,"comment_id":132099870,"body_markdown":"Hi @ArtemBilan, i am trying to run Distribution variant example using custom correlation strategy where using expression to correlate request messages.","body":"Hi @ArtemBilan, i am trying to run Distribution variant example using custom correlation strategy where using expression to correlate request messages."},{"owner":{"account_id":27298338,"reputation":1,"user_id":20815607,"display_name":"nileshb"},"score":0,"creation_date":1671466596,"post_id":74852001,"comment_id":132099937,"body_markdown":"without expression getting below error\n&#39;org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer&#39;; xxxx/scatter-gather-context.xml]&#39;; from source: &#39;&#39;gatherer&#39;&#39;]; nested exception is java.lang.IllegalStateException: Null correlation not allowed.  Maybe the CorrelationStrategy is failing?, failedMessage=GenericMessage [payload=5.677678895858088, headers={replyChannel=bean &#39;gatherChannel&#39;, gatherResultChannel=org.springframework.integration.channel.QueueChannelxx CorrelationId=foo, id=xxx, timestamp=xx}]","body":"without expression getting below error &#39;org.springframework.integration.scattergather.ScatterGather&zwnj;&#8203;Handler#0.gatherer&#39;; xxxx/scatter-gather-context.xml]&#39;; from source: &#39;&#39;gatherer&#39;&#39;]; nested exception is java.lang.IllegalStateException: Null correlation not allowed.  Maybe the CorrelationStrategy is failing?, failedMessage=GenericMessage [payload=5.677678895858088, headers={replyChannel=bean &#39;gatherChannel&#39;, gatherResultChannel=org.springframework.integration.channel.&zwnj;&#8203;QueueChannelxx CorrelationId=foo, id=xxx, timestamp=xx}]"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671466985,"post_id":74852001,"comment_id":132100067,"body_markdown":"This is not related. Of course, if no `apply-sequene=true` and no `correlation-strategry-expression` we get an error you describe. With your original problem you just lose a `replyChannel` header in the reply message you produce back from one of those distribution channels. See if you can build that `foo` based on headers from request message.","body":"This is not related. Of course, if no <code>apply-sequene=true</code> and no <code>correlation-strategry-expression</code> we get an error you describe. With your original problem you just lose a <code>replyChannel</code> header in the reply message you produce back from one of those distribution channels. See if you can build that <code>foo</code> based on headers from request message."},{"owner":{"account_id":27298338,"reputation":1,"user_id":20815607,"display_name":"nileshb"},"score":0,"creation_date":1671467071,"post_id":74852001,"comment_id":132100091,"body_markdown":"Below is remaining configuration\n &lt;bridge input-channel=&quot;distribution1Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;\n&lt;bridge input-channel=&quot;distribution2Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;\n    &lt;bridge input-channel=&quot;distribution3Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;\n &lt;service-activator input-channel=&quot;serviceChannel1&quot; output-channel=&quot;gatherChannel&quot;\n                       expression=&quot;T(java.lang.Math).random() * 10&quot;/&gt;","body":"Below is remaining configuration  &lt;bridge input-channel=&quot;distribution1Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt; &lt;bridge input-channel=&quot;distribution2Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;     &lt;bridge input-channel=&quot;distribution3Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;  &lt;service-activator input-channel=&quot;serviceChannel1&quot; output-channel=&quot;gatherChannel&quot;                        expression=&quot;T(java.lang.Math).random() * 10&quot;/&gt;"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467186,"post_id":74852001,"comment_id":132100137,"body_markdown":"This code is not readable. Please, respect our vision and add the code properly formatted into your question editing it. I believe this issue is yours: https://github.com/spring-projects/spring-integration-samples/issues/338","body":"This code is not readable. Please, respect our vision and add the code properly formatted into your question editing it. I believe this issue is yours: <a href=\"https://github.com/spring-projects/spring-integration-samples/issues/338\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration-samples/issues&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467342,"post_id":74852001,"comment_id":132100183,"body_markdown":"Looks like you took some code from the https://github.com/spring-projects/spring-integration/blob/main/spring-integration-core/src/test/java/org/springframework/integration/scattergather/config/ScatterGatherTests.java and its configuration. We don&#39;t do that `MessageBuilder.writhPayload(&quot;foo&quot;).setHeader(MessageHeaders.REPLY_CHANEL,output)` anywhere in that test code.","body":"Looks like you took some code from the <a href=\"https://github.com/spring-projects/spring-integration/blob/main/spring-integration-core/src/test/java/org/springframework/integration/scattergather/config/ScatterGatherTests.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/blob/main/&hellip;</a> and its configuration. We don&#39;t do that <code>MessageBuilder.writhPayload(&quot;foo&quot;).setHeader(MessageHeaders.&zwnj;&#8203;REPLY_CHANEL,output)</code> anywhere in that test code."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467445,"post_id":74852001,"comment_id":132100231,"body_markdown":"Might be great if you share with us a code of the test class and its configuration to see the whole context of what you are really modifying for that `ScatterGatherTests`","body":"Might be great if you share with us a code of the test class and its configuration to see the whole context of what you are really modifying for that <code>ScatterGatherTests</code>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467576,"post_id":74852001,"comment_id":132100275,"body_markdown":"It also might be helpful for us to see the whole stacktrace of the error you got. I guess now it is pointless to hide your handler behind that `xxx` since we have just determined that you have borrowed the code from the `ScatterGatherTests`","body":"It also might be helpful for us to see the whole stacktrace of the error you got. I guess now it is pointless to hide your handler behind that <code>xxx</code> since we have just determined that you have borrowed the code from the <code>ScatterGatherTests</code>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467651,"post_id":74852001,"comment_id":132100302,"body_markdown":"The `&quot;headers[CorrelationId]&#39;` is wrong definition. Must be double quote on both side. This your code is just not compilable.","body":"The <code>&quot;headers[CorrelationId]&#39;</code> is wrong definition. Must be double quote on both side. This your code is just not compilable."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467744,"post_id":74852001,"comment_id":132100342,"body_markdown":"`withPayload()`, not `writhPayload`. Too many mistakes even in this SO question...","body":"<code>withPayload()</code>, not <code>writhPayload</code>. Too many mistakes even in this SO question..."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671467916,"post_id":74852001,"comment_id":132100407,"body_markdown":"Just modified our `&lt;scatter-gather input-channel=&quot;inputDistribution&quot;` with a `correlation-strategy-expression=&quot;headers[CorrelationId]&quot;` and then that `public void testDistribution() {` with this code: `this.inputDistribution.send(MessageBuilder.withPayload(&quot;foo&quot;).setHeader(&quot;CorrelationId&quot;, &quot;foo&quot;).build());` - and test still passes OK.","body":"Just modified our <code>&lt;scatter-gather input-channel=&quot;inputDistribution&quot;</code> with a <code>correlation-strategy-expression=&quot;headers[CorrelationId]&quot;</code> and then that <code>public void testDistribution() {</code> with this code: <code>this.inputDistribution.send(MessageBuilder.withPayload(&quot;foo&quot;&zwnj;&#8203;).setHeader(&quot;Correla&zwnj;&#8203;tionId&quot;, &quot;foo&quot;).build());</code> - and test still passes OK."},{"owner":{"account_id":27298338,"reputation":1,"user_id":20815607,"display_name":"nileshb"},"score":0,"creation_date":1671473432,"post_id":74852001,"comment_id":132102363,"body_markdown":"Thank you @ArtemBilan for your response, sorry i removed/replace with xxx because of char limit in comment... Yes it is from sample application provide in spring-integration.","body":"Thank you @ArtemBilan for your response, sorry i removed/replace with xxx because of char limit in comment... Yes it is from sample application provide in spring-integration."},{"owner":{"account_id":27298338,"reputation":1,"user_id":20815607,"display_name":"nileshb"},"score":0,"creation_date":1671477948,"post_id":74852001,"comment_id":132103610,"body_markdown":"Just noticed that apply-sequence is true by default starting with version 6.0 and i am running application using &quot;implementation &#39;org.springframework.integration:spring-integration-core:5.5.15&#39;&quot;  and i am looking for custom correlation strategy implemented using expression.","body":"Just noticed that apply-sequence is true by default starting with version 6.0 and i am running application using &quot;implementation &#39;org.springframework.integration:spring-integration-core:5.5&zwnj;&#8203;.15&#39;&quot;  and i am looking for custom correlation strategy implemented using expression."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671478569,"creation_date":1671478569,"answer_id":74855242,"question_id":74852001,"body_markdown":"Unfortunately, your concern still unclear. I believe that you just don&#39;t show us all the relevant code which causes that error. \r\n\r\nHere is a config:\r\n\r\n\t&lt;channel id=&quot;output&quot;&gt;\r\n\t\t&lt;queue/&gt;\r\n\t&lt;/channel&gt;\r\n\r\n\t&lt;!--Distribution scenario--&gt;\r\n\t&lt;scatter-gather input-channel=&quot;inputDistribution&quot; output-channel=&quot;output&quot; gather-channel=&quot;gatherChannel&quot;&gt;\r\n\t\t&lt;scatterer&gt;\r\n\t\t\t&lt;recipient channel=&quot;distribution1Channel&quot;/&gt;\r\n\t\t\t&lt;recipient channel=&quot;distribution2Channel&quot;/&gt;\r\n\t\t\t&lt;recipient channel=&quot;distribution3Channel&quot;/&gt;\r\n\t\t&lt;/scatterer&gt;\r\n\t\t&lt;gatherer release-strategy-expression=&quot;messages.^[payload gt 5] != null or size() == 3&quot;\r\n\t\t\t\t  correlation-strategy-expression=&quot;headers[CorrelationId]&quot;/&gt;\r\n\t&lt;/scatter-gather&gt;\r\n\r\n\t&lt;channel id=&quot;gatherChannel&quot;&gt;\r\n\t\t&lt;queue/&gt;\r\n\t&lt;/channel&gt;\r\n\r\n\t&lt;bridge input-channel=&quot;distribution1Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\r\n\r\n\t&lt;bridge input-channel=&quot;distribution2Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\r\n\r\n\t&lt;bridge input-channel=&quot;distribution3Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\r\n\r\n\t&lt;service-activator input-channel=&quot;serviceChannel2&quot; output-channel=&quot;gatherChannel&quot;\r\n\t\t\t\t\t   expression=&quot;T(java.lang.Math).random() * 10&quot;/&gt;\r\n\r\nand here is a code of unit test:\r\n\r\n    @ContextConfiguration\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @DirtiesContext\r\n    public class ScatterGatherTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate PollableChannel output;\r\n    \r\n    \t@Autowired\r\n    \tprivate MessageChannel inputDistribution;\r\n    \r\n    \t@Test\r\n    \tpublic void testDistribution() {\r\n    \t\tthis.inputDistribution.send(MessageBuilder.withPayload(&quot;foo&quot;).setHeader(&quot;CorrelationId&quot;, &quot;foo&quot;).build());\r\n    \t\tMessage&lt;?&gt; bestQuoteMessage = this.output.receive(10000);\r\n    \t\tassertThat(bestQuoteMessage)\r\n    \t\t\t\t.isNotNull()\r\n    \t\t\t\t.extracting(Message::getPayload)\r\n    \t\t\t\t.isInstanceOf(List.class)\r\n    \t\t\t\t.asList()\r\n    \t\t\t\t.hasSizeGreaterThanOrEqualTo(1);\r\n    \t}\r\n    \r\n    }","title":"No reply produced by Handler xxxx and its &#39;requiresReply&#39; property is set to true","body":"<p>Unfortunately, your concern still unclear. I believe that you just don't show us all the relevant code which causes that error.</p>\n<p>Here is a config:</p>\n<pre><code>&lt;channel id=&quot;output&quot;&gt;\n    &lt;queue/&gt;\n&lt;/channel&gt;\n\n&lt;!--Distribution scenario--&gt;\n&lt;scatter-gather input-channel=&quot;inputDistribution&quot; output-channel=&quot;output&quot; gather-channel=&quot;gatherChannel&quot;&gt;\n    &lt;scatterer&gt;\n        &lt;recipient channel=&quot;distribution1Channel&quot;/&gt;\n        &lt;recipient channel=&quot;distribution2Channel&quot;/&gt;\n        &lt;recipient channel=&quot;distribution3Channel&quot;/&gt;\n    &lt;/scatterer&gt;\n    &lt;gatherer release-strategy-expression=&quot;messages.^[payload gt 5] != null or size() == 3&quot;\n              correlation-strategy-expression=&quot;headers[CorrelationId]&quot;/&gt;\n&lt;/scatter-gather&gt;\n\n&lt;channel id=&quot;gatherChannel&quot;&gt;\n    &lt;queue/&gt;\n&lt;/channel&gt;\n\n&lt;bridge input-channel=&quot;distribution1Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\n\n&lt;bridge input-channel=&quot;distribution2Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\n\n&lt;bridge input-channel=&quot;distribution3Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\n\n&lt;service-activator input-channel=&quot;serviceChannel2&quot; output-channel=&quot;gatherChannel&quot;\n                   expression=&quot;T(java.lang.Math).random() * 10&quot;/&gt;\n</code></pre>\n<p>and here is a code of unit test:</p>\n<pre><code>@ContextConfiguration\n@RunWith(SpringJUnit4ClassRunner.class)\n@DirtiesContext\npublic class ScatterGatherTests {\n\n    @Autowired\n    private PollableChannel output;\n\n    @Autowired\n    private MessageChannel inputDistribution;\n\n    @Test\n    public void testDistribution() {\n        this.inputDistribution.send(MessageBuilder.withPayload(&quot;foo&quot;).setHeader(&quot;CorrelationId&quot;, &quot;foo&quot;).build());\n        Message&lt;?&gt; bestQuoteMessage = this.output.receive(10000);\n        assertThat(bestQuoteMessage)\n                .isNotNull()\n                .extracting(Message::getPayload)\n                .isInstanceOf(List.class)\n                .asList()\n                .hasSizeGreaterThanOrEqualTo(1);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27298338,"reputation":1,"user_id":20815607,"display_name":"nileshb"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671478569,"creation_date":1671460903,"question_id":74852001,"body_markdown":"In Scatter Gather pattern, especially in Distribution variant, i am trying to use &quot;correlation-strategy-expression&quot; in gatherer element by passing header attribute as below, i am getting &quot;No reply produced by handler xxxx and its &quot;requireReply&quot; property is set to true. Below is config \r\n\r\n\t&lt;scatter-gather input-channel=&quot;inputDistribution&quot; output-channel=&quot;output&quot; gather-channel=&quot;gatherChannel&quot;&gt;\r\n\t\t&lt;scatterer&gt;\r\n\t\t\t&lt;recipient channel=&quot;distribution1Channel&quot;/&gt;\r\n\t\t\t&lt;recipient channel=&quot;distribution2Channel&quot;/&gt;\r\n\t\t\t&lt;recipient channel=&quot;distribution3Channel&quot;/&gt;\r\n\t\t&lt;/scatterer&gt;\r\n\t\t&lt;gatherer correlation-strategy-expression=&quot;headers[CorrelationId]&#39;/&gt;\r\n\t&lt;/scatter-gather&gt;\r\n\r\nwhere in test code i am explicitly setting header attribute as below\r\nMessageBuilder.writhPayload(&quot;foo&quot;).setHeader(MessageHeaders.REPLY_CHANEL,output).setHeader(&quot;CorrelationId&quot;,&quot;foo&quot;).build().\r\n\r\nNote:It is working fine if i use apply-sequene=true as scatterer attribute.\r\n\r\ncan you please suggest what is wrong in configuration, do we need any bean to define? \r\n\r\n\r\nTried using correlation-strategry-expression but getting error","title":"No reply produced by Handler xxxx and its &#39;requiresReply&#39; property is set to true","body":"<p>In Scatter Gather pattern, especially in Distribution variant, i am trying to use &quot;correlation-strategy-expression&quot; in gatherer element by passing header attribute as below, i am getting &quot;No reply produced by handler xxxx and its &quot;requireReply&quot; property is set to true. Below is config</p>\n<pre><code>&lt;scatter-gather input-channel=&quot;inputDistribution&quot; output-channel=&quot;output&quot; gather-channel=&quot;gatherChannel&quot;&gt;\n    &lt;scatterer&gt;\n        &lt;recipient channel=&quot;distribution1Channel&quot;/&gt;\n        &lt;recipient channel=&quot;distribution2Channel&quot;/&gt;\n        &lt;recipient channel=&quot;distribution3Channel&quot;/&gt;\n    &lt;/scatterer&gt;\n    &lt;gatherer correlation-strategy-expression=&quot;headers[CorrelationId]'/&gt;\n&lt;/scatter-gather&gt;\n</code></pre>\n<p>where in test code i am explicitly setting header attribute as below\nMessageBuilder.writhPayload(&quot;foo&quot;).setHeader(MessageHeaders.REPLY_CHANEL,output).setHeader(&quot;CorrelationId&quot;,&quot;foo&quot;).build().</p>\n<p>Note:It is working fine if i use apply-sequene=true as scatterer attribute.</p>\n<p>can you please suggest what is wrong in configuration, do we need any bean to define?</p>\n<p>Tried using correlation-strategry-expression but getting error</p>\n"},{"tags":["java","string","formatting"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1616102400,"post_id":66699277,"comment_id":117905935,"body_markdown":"It outputs `100,000,000` for me","body":"It outputs <code>100,000,000</code> for me"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":0,"creation_date":1616102509,"post_id":66699277,"comment_id":117905973,"body_markdown":"Since I am German it uses dots. But I have the result I would exspect: `100.000.000`","body":"Since I am German it uses dots. But I have the result I would exspect: <code>100.000.000</code>"},{"owner":{"account_id":20535103,"reputation":135,"user_id":15071395,"display_name":"Coder4Fun"},"score":0,"creation_date":1616102734,"post_id":66699277,"comment_id":117906034,"body_markdown":"@Lasnik hm, that&#39;s interesting. Maybe I&#39;m getting this output, because I&#39;m Russian","body":"@Lasnik hm, that&#39;s interesting. Maybe I&#39;m getting this output, because I&#39;m Russian"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":1,"creation_date":1616102886,"post_id":66699277,"comment_id":117906071,"body_markdown":"I don&#180;t think so. But you can of cource always try it. The first argument of the String.format()  function can be a Locale Object. Modify it to something different.","body":"I don&#180;t think so. But you can of cource always try it. The first argument of the String.format()  function can be a Locale Object. Modify it to something different."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616102539,"creation_date":1616102539,"answer_id":66699317,"question_id":66699277,"body_markdown":"Your code looks good to me: \r\n\r\n    jshell&gt;String str1 = String.format(&quot;%,d&quot;, 100000000);\r\n    ...&gt; \r\n    str1 ==&gt; &quot;100,000,000&quot;\r\n\r\nProbably you&#39;re executing a different file (copy/pasted and buffer is showing the wrong file, happens to me all the time)","title":"Why aren&#39;t commas added when I use String.format method?","body":"<p>Your code looks good to me:</p>\n<pre><code>jshell&gt;String str1 = String.format(&quot;%,d&quot;, 100000000);\n...&gt; \nstr1 ==&gt; &quot;100,000,000&quot;\n</code></pre>\n<p>Probably you're executing a different file (copy/pasted and buffer is showing the wrong file, happens to me all the time)</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1616103248,"creation_date":1616103248,"answer_id":66699452,"question_id":66699277,"body_markdown":"Most likely, your system Locale is not set to `ENGLISH`. Use `Locale.ENGLISH` as shown below:\r\n\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str1 = String.format(Locale.ENGLISH, &quot;%,d&quot;, 100000000);\r\n    \t\tSystem.out.println(str1);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    100,000,000\r\n\r\n","title":"Why aren&#39;t commas added when I use String.format method?","body":"<p>Most likely, your system Locale is not set to <code>ENGLISH</code>. Use <code>Locale.ENGLISH</code> as shown below:</p>\n<pre><code>import java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str1 = String.format(Locale.ENGLISH, &quot;%,d&quot;, 100000000);\n        System.out.println(str1);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>100,000,000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671478321,"creation_date":1616103334,"answer_id":66699465,"question_id":66699277,"body_markdown":"It is because of your `Location`. Add the `Locale` object as an argument to the `String.format()` function\r\n```java\r\n    import java.util.Locale;\r\n    \r\n    public class TestFormats {\r\n        public static void main(String[] args) {\r\n        \t// Uses commas \r\n        \tLocale localeEn = new Locale.Builder().setLanguage(&quot;en&quot;).build();\r\n            String str1 = String.format(localeEn, &quot;%,d&quot;, 100_000_000);\r\n            System.out.println(str1); //output: 100,000,000\r\n            \r\n            // Uses dots\r\n        \tLocale localeDe = new Locale.Builder().setLanguage(&quot;de&quot;).build();\r\n            String str2 = String.format(localeDe, &quot;%,d&quot;, 100_000_000);\r\n            System.out.println(str2); //output: 100.000.000\r\n            \r\n            // Uses spaces\r\n        \tLocale localeRu = new Locale.Builder().setLanguage(&quot;ru&quot;).build();\r\n            String str3 = String.format(localeRu, &quot;%,d&quot;, 100_000_000);\r\n            System.out.println(str3); //output: 100 000 000\r\n        }\r\n    }\r\n```\r\n","title":"Why aren&#39;t commas added when I use String.format method?","body":"<p>It is because of your <code>Location</code>. Add the <code>Locale</code> object as an argument to the <code>String.format()</code> function</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Locale;\n    \n    public class TestFormats {\n        public static void main(String[] args) {\n            // Uses commas \n            Locale localeEn = new Locale.Builder().setLanguage(&quot;en&quot;).build();\n            String str1 = String.format(localeEn, &quot;%,d&quot;, 100_000_000);\n            System.out.println(str1); //output: 100,000,000\n            \n            // Uses dots\n            Locale localeDe = new Locale.Builder().setLanguage(&quot;de&quot;).build();\n            String str2 = String.format(localeDe, &quot;%,d&quot;, 100_000_000);\n            System.out.println(str2); //output: 100.000.000\n            \n            // Uses spaces\n            Locale localeRu = new Locale.Builder().setLanguage(&quot;ru&quot;).build();\n            String str3 = String.format(localeRu, &quot;%,d&quot;, 100_000_000);\n            System.out.println(str3); //output: 100 000 000\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20535103,"reputation":135,"user_id":15071395,"display_name":"Coder4Fun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66699452,"answer_count":3,"score":1,"last_activity_date":1671478321,"creation_date":1616102283,"question_id":66699277,"body_markdown":"    public class TestFormats {\r\n        public static void main(String[] args) {\r\n            String str1 = String.format(&quot;%,d&quot;, 100000000);\r\n            System.out.println(str1);\r\n        }\r\n    }\r\n\r\nI&#39;m trying to separate digits of the number by commas using the method with the given parameters but, for some reason, commas aren&#39;t being added to the number, the only thing that&#39;s changed is that whitespaces emerged.&lt;br&gt;&lt;br&gt;\r\n\r\nHow can I make this work? Why isn&#39;t working, what&#39;s wrong?","title":"Why aren&#39;t commas added when I use String.format method?","body":"<pre><code>public class TestFormats {\n    public static void main(String[] args) {\n        String str1 = String.format(&quot;%,d&quot;, 100000000);\n        System.out.println(str1);\n    }\n}\n</code></pre>\n<p>I'm trying to separate digits of the number by commas using the method with the given parameters but, for some reason, commas aren't being added to the number, the only thing that's changed is that whitespaces emerged.<br><br></p>\n<p>How can I make this work? Why isn't working, what's wrong?</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671468490,"post_id":74853339,"comment_id":132100629,"body_markdown":"There will be no parse exceptions because this is how Calendar works in Java.","body":"There will be no parse exceptions because this is how Calendar works in Java."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1671470405,"post_id":74853339,"comment_id":132101307,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1671477835,"post_id":74853339,"comment_id":132103580,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671479499,"post_id":74853339,"comment_id":132103996,"body_markdown":"You will want `LocalDate.parse(&quot;22221985&quot;, DateTimeFormatter.ofPattern(&quot;ddMMuuuu&quot;).withResolverStyle(ResolverStyle.STRICT))`. It throws `java.time.format.DateTimeParseException: Text &#39;22221985&#39; could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 22`. And enjoy how precise and informative the exception message is.","body":"You will want <code>LocalDate.parse(&quot;22221985&quot;, DateTimeFormatter.ofPattern(&quot;ddMMuuuu&quot;).withResolverStyle(Re&zwnj;&#8203;solverStyle.STRICT))</code>&zwnj;&#8203;. It throws <code>java.time.format.DateTimeParseException: Text &#39;22221985&#39; could not be parsed: Invalid value for MonthOfYear (valid values 1 - 12): 22</code>. And enjoy how precise and informative the exception message is."}],"owner":{"account_id":20019927,"reputation":97,"user_id":14675091,"display_name":"Andrew Kolubov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671467770,"answer_count":0,"score":0,"last_activity_date":1671477914,"creation_date":1671467575,"question_id":74853339,"body_markdown":"I&#39;m parsing user date of birth string. And faced a very strange parsing scenario.\r\n\r\nMy code is the following:\r\n\r\n```\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;ddMMyyyy&quot;)\r\ntry {\r\n  Date date = formatter.parse(input); // input - is a user entered string\r\n} catch (ParseException e) {\r\n}\r\n```\r\n\r\nIf ```input``` is &quot;2222**1985**&quot;, I have a date 22, October, **1986**. But I expect some sort of ParseException for this and similar scenario, when month is higher, then 12. ","title":"SimpleDateFormatter &quot;ddMMyyyy&quot; incorrectly parse month and year","body":"<p>I'm parsing user date of birth string. And faced a very strange parsing scenario.</p>\n<p>My code is the following:</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;ddMMyyyy&quot;)\ntry {\n  Date date = formatter.parse(input); // input - is a user entered string\n} catch (ParseException e) {\n}\n</code></pre>\n<p>If <code>input</code> is &quot;2222<strong>1985</strong>&quot;, I have a date 22, October, <strong>1986</strong>. But I expect some sort of ParseException for this and similar scenario, when month is higher, then 12.</p>\n"},{"tags":["java","spring-boot","feature-flags"],"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":1,"creation_date":1671477597,"post_id":74602901,"comment_id":132103523,"body_markdown":"Toggle datasources how? During runtime?","body":"Toggle datasources how? During runtime?"},{"owner":{"account_id":4817502,"reputation":124,"user_id":3889179,"accept_rate":57,"display_name":"tobes"},"score":0,"creation_date":1671478730,"post_id":74602901,"comment_id":132103805,"body_markdown":"I am using Feature toggles so essentially yes. Based on if the toggle is true I want to use a different datasource.My problem is I have configs for both data sources set up. Spring boot wont start the Tomcat server because it doesn&#39;t know which one to use","body":"I am using Feature toggles so essentially yes. Based on if the toggle is true I want to use a different datasource.My problem is I have configs for both data sources set up. Spring boot wont start the Tomcat server because it doesn&#39;t know which one to use"}],"owner":{"account_id":4817502,"reputation":124,"user_id":3889179,"accept_rate":57,"display_name":"tobes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671476713,"creation_date":1669649388,"question_id":74602901,"body_markdown":"I have a Java Spring Boot application currently connected to an on premises database. I am trying to figure out how to toggle between the existing datasource and a new one I have added. I have both data sources added in the application yml and defined in 2 (Config classes). I want to add logic to determine which one to use, a simple if-statement. ","title":"Java Spring Boot application to toggle between data sources (Configuration Classes)","body":"<p>I have a Java Spring Boot application currently connected to an on premises database. I am trying to figure out how to toggle between the existing datasource and a new one I have added. I have both data sources added in the application yml and defined in 2 (Config classes). I want to add logic to determine which one to use, a simple if-statement.</p>\n"},{"tags":["java","html","spring-boot","model-view-controller","controller"],"comments":[{"owner":{"account_id":19970181,"reputation":186,"user_id":14635852,"display_name":"Josh Van de Walle"},"score":0,"creation_date":1671485346,"post_id":74854873,"comment_id":132105701,"body_markdown":"What is your project structure? I believe the default location for a view would be under resources/templates","body":"What is your project structure? I believe the default location for a view would be under resources/templates"},{"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"score":0,"creation_date":1671526172,"post_id":74854873,"comment_id":132112712,"body_markdown":"Thanks for the link @AbderKRIMA, Found out that I was silly and missed thymeleaf dependency in the pom.xml, thought that dependency was only meant for dynamic rendering of html and not using for the controller.","body":"Thanks for the link @AbderKRIMA, Found out that I was silly and missed thymeleaf dependency in the pom.xml, thought that dependency was only meant for dynamic rendering of html and not using for the controller."}],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671558809,"answer_count":0,"score":0,"last_activity_date":1671476529,"creation_date":1671476186,"question_id":74854873,"body_markdown":"I&#39;m having an strange issue with using the index.html through a spring boot java controller, which has a method like this:\r\n\r\n    @GetMapping(&quot;/welcome&quot;) public String welcome() { return _index; }\r\n\r\nwhere _index is defined as the file name:\r\n\r\n    private final String _index = &quot;index.html&quot;;\r\n\r\nI am also having a @Controller annotation above the class signature.\r\n\r\nWhen I&#39;m entering the /welcome endpoint, it gives a 404 error, but it should work when it returns a string of the existing file. Is there something I&#39;m doing wrong? Long time since I did it like this.\r\n\r\nMy index.html uses javascript, that renders the content\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;!-- Generated by JavaScript --&gt;\r\n        &lt;div id=&quot;head_content&quot;&gt;&lt;/div&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;header&gt;\r\n            &lt;!-- Generated by JavaScript --&gt;\r\n            &lt;div class=&quot;wrapper&quot;&gt;\r\n                &lt;div id=&quot;header_content&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/header&gt;\r\n        &lt;main&gt;\r\n            &lt;!-- Generated by JavaScript --&gt;\r\n            &lt;div class=&quot;wrapper&quot;&gt;\r\n                &lt;div id=&quot;main_content&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/main&gt;\r\n        &lt;footer&gt;\r\n            &lt;!-- Generated by JavaScript --&gt;\r\n            &lt;div class=&quot;wrapper&quot;&gt;\r\n                &lt;div id=&quot;footer_content&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/footer&gt;\r\n    \r\n        &lt;script src=&quot;../static/javascripts/url.js&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;script src=&quot;../static/javascripts/logics/liszt.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/logics/login.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/logics/session/saves/saveUser.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/logics/session/gets/getUser.js&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;script src=&quot;../static/javascripts/renderings/head_content_rendering.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/renderings/header_content_rendering.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/renderings/footer_content_rendering.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/renderings/main_content_renderings/login_rendering.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;../static/javascripts/renderings/main_content_renderings/main_content_rendering.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;","title":"Returning index.html with spring boot","body":"<p>I'm having an strange issue with using the index.html through a spring boot java controller, which has a method like this:</p>\n<pre><code>@GetMapping(&quot;/welcome&quot;) public String welcome() { return _index; }\n</code></pre>\n<p>where _index is defined as the file name:</p>\n<pre><code>private final String _index = &quot;index.html&quot;;\n</code></pre>\n<p>I am also having a @Controller annotation above the class signature.</p>\n<p>When I'm entering the /welcome endpoint, it gives a 404 error, but it should work when it returns a string of the existing file. Is there something I'm doing wrong? Long time since I did it like this.</p>\n<p>My index.html uses javascript, that renders the content</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;!-- Generated by JavaScript --&gt;\n    &lt;div id=&quot;head_content&quot;&gt;&lt;/div&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;header&gt;\n        &lt;!-- Generated by JavaScript --&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;div id=&quot;header_content&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/header&gt;\n    &lt;main&gt;\n        &lt;!-- Generated by JavaScript --&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;div id=&quot;main_content&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/main&gt;\n    &lt;footer&gt;\n        &lt;!-- Generated by JavaScript --&gt;\n        &lt;div class=&quot;wrapper&quot;&gt;\n            &lt;div id=&quot;footer_content&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/footer&gt;\n\n    &lt;script src=&quot;../static/javascripts/url.js&quot;&gt;&lt;/script&gt;\n\n    &lt;script src=&quot;../static/javascripts/logics/liszt.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/logics/login.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/logics/session/saves/saveUser.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/logics/session/gets/getUser.js&quot;&gt;&lt;/script&gt;\n\n    &lt;script src=&quot;../static/javascripts/renderings/head_content_rendering.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/renderings/header_content_rendering.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/renderings/footer_content_rendering.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/renderings/main_content_renderings/login_rendering.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;../static/javascripts/renderings/main_content_renderings/main_content_rendering.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671476404,"creation_date":1671476404,"answer_id":74854922,"question_id":74854884,"body_markdown":"Behind the scenes, calling `setOnClickListener()` makes the target clickable. You can set clickable to false after setting the click listener. ","title":"problem with OnClickListener priority in android","body":"<p>Behind the scenes, calling <code>setOnClickListener()</code> makes the target clickable. You can set clickable to false after setting the click listener.</p>\n"}],"owner":{"account_id":19242866,"reputation":15,"user_id":14062499,"display_name":"Javadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74854922,"answer_count":1,"score":0,"last_activity_date":1671476404,"creation_date":1671476235,"question_id":74854884,"body_markdown":"I have an app with two buttons. I want first one (main button) to be unclickable unless you click second one (controller).  But it is clickable:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button button;\r\n    Button controller;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        LinearLayout screen = findViewById(R.id.mainView);\r\n\r\n            button = new Button(this);\r\n            button.setClickable(false);\r\n            screen.addView(button);\r\n\r\n            controller = new Button(this);\r\n            screen.addView(controller);\r\n\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    view.setBackgroundColor(Color.RED);\r\n                }\r\n            });\r\n            controller.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    for (int i=0; i&lt;2; i++) {\r\n                        button.setClickable(true);\r\n                    }\r\n                }\r\n            });\r\n    }\r\n}\r\n```\r\n\r\nWhen I implement OnClickListener only for controller, it works and first button is unclickable. But when I implement  OnClickListener for main button too, it gets priority and works anyway. What can I do?","title":"problem with OnClickListener priority in android","body":"<p>I have an app with two buttons. I want first one (main button) to be unclickable unless you click second one (controller).  But it is clickable:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Button button;\n    Button controller;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        LinearLayout screen = findViewById(R.id.mainView);\n\n            button = new Button(this);\n            button.setClickable(false);\n            screen.addView(button);\n\n            controller = new Button(this);\n            screen.addView(controller);\n\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    view.setBackgroundColor(Color.RED);\n                }\n            });\n            controller.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    for (int i=0; i&lt;2; i++) {\n                        button.setClickable(true);\n                    }\n                }\n            });\n    }\n}\n</code></pre>\n<p>When I implement OnClickListener only for controller, it works and first button is unclickable. But when I implement  OnClickListener for main button too, it gets priority and works anyway. What can I do?</p>\n"},{"tags":["java","logging","logback","mdc","logback-classic"],"owner":{"account_id":3069514,"reputation":93,"user_id":2600510,"display_name":"AmineM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671475550,"creation_date":1671475550,"question_id":74854749,"body_markdown":"I&#39;m using Java and logback in my application, as well as MDC to log custom key-values. i way, to have my logged key-values pairs to be unders two blocks, instead of having them all unders MDC block ?\r\n\r\nExample: \r\n\r\n    {\r\n      &quot;timestamp&quot; : &quot;2022-12-19 10:17:05.460&quot;,\r\n      &quot;level&quot; : &quot;INFO&quot;,\r\n      &quot;thread&quot; : &quot;XNIO-1 task-1&quot;,\r\n      &quot;logger&quot; : &quot;ca.bnc.cybercriminalite.fraud.service.check.FraudCheckService&quot;,\r\n      &quot;message&quot; : &quot;Calling IFM to evaluate request: localhost:9999&quot;,\r\n      &quot;server&quot;: {\r\n        &quot;url&quot; : &quot;http://example.com&quot;,\r\n        &quot;port&quot; : &quot;2310&quot;,\r\n      },\r\n      &quot;transactionInfo&quot;: {\r\n        &quot;request_Id&quot; : &quot;abcd-1234&quot;,\r\n        &quot;EndToEndId&quot; : &quot;1234567&quot;\r\n      },\r\n      &quot;context&quot; : &quot;fraud_check.ifm.request&quot;\r\n    }\r\n\r\n   \r\ninstead of: \r\n\r\n    {\r\n      &quot;timestamp&quot; : &quot;2022-12-19 10:17:05.460&quot;,\r\n      &quot;level&quot; : &quot;INFO&quot;,\r\n      &quot;thread&quot; : &quot;XNIO-1 task-1&quot;,\r\n      &quot;logger&quot; : &quot;ca.bnc.cybercriminalite.fraud.service.check.FraudCheckService&quot;,\r\n      &quot;message&quot; : &quot;Calling IFM to evaluate request: localhost:9999&quot;,\r\n      &quot;mdc&quot;: {\r\n        &quot;url&quot; : &quot;http://example.com&quot;,\r\n        &quot;port&quot; : &quot;2310&quot;,\r\n        &quot;request_Id&quot; : &quot;abcd-1234&quot;,\r\n        &quot;EndToEndId&quot; : &quot;1234567&quot;\r\n      },\r\n      &quot;context&quot; : &quot;fraud_check.ifm.request&quot;\r\n    }","title":"logback with MDC: Using multiple custom blocks instead of one mdc block for custom key values","body":"<p>I'm using Java and logback in my application, as well as MDC to log custom key-values. i way, to have my logged key-values pairs to be unders two blocks, instead of having them all unders MDC block ?</p>\n<p>Example:</p>\n<pre><code>{\n  &quot;timestamp&quot; : &quot;2022-12-19 10:17:05.460&quot;,\n  &quot;level&quot; : &quot;INFO&quot;,\n  &quot;thread&quot; : &quot;XNIO-1 task-1&quot;,\n  &quot;logger&quot; : &quot;ca.bnc.cybercriminalite.fraud.service.check.FraudCheckService&quot;,\n  &quot;message&quot; : &quot;Calling IFM to evaluate request: localhost:9999&quot;,\n  &quot;server&quot;: {\n    &quot;url&quot; : &quot;http://example.com&quot;,\n    &quot;port&quot; : &quot;2310&quot;,\n  },\n  &quot;transactionInfo&quot;: {\n    &quot;request_Id&quot; : &quot;abcd-1234&quot;,\n    &quot;EndToEndId&quot; : &quot;1234567&quot;\n  },\n  &quot;context&quot; : &quot;fraud_check.ifm.request&quot;\n}\n</code></pre>\n<p>instead of:</p>\n<pre><code>{\n  &quot;timestamp&quot; : &quot;2022-12-19 10:17:05.460&quot;,\n  &quot;level&quot; : &quot;INFO&quot;,\n  &quot;thread&quot; : &quot;XNIO-1 task-1&quot;,\n  &quot;logger&quot; : &quot;ca.bnc.cybercriminalite.fraud.service.check.FraudCheckService&quot;,\n  &quot;message&quot; : &quot;Calling IFM to evaluate request: localhost:9999&quot;,\n  &quot;mdc&quot;: {\n    &quot;url&quot; : &quot;http://example.com&quot;,\n    &quot;port&quot; : &quot;2310&quot;,\n    &quot;request_Id&quot; : &quot;abcd-1234&quot;,\n    &quot;EndToEndId&quot; : &quot;1234567&quot;\n  },\n  &quot;context&quot; : &quot;fraud_check.ifm.request&quot;\n}\n</code></pre>\n"},{"tags":["java","lambda","stream"],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671475465,"creation_date":1671475465,"answer_id":74854731,"question_id":74854099,"body_markdown":"Java strongly encourages you to use `peek` method only for debugging purposes [doc reference][1].\r\n\r\n&gt; **API Note:**\r\n&gt; \r\n&gt; This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline:\r\n\r\nAnd also, Java suggests avoiding stateful behaviour and side effects in stream operations [doc reference][2].\r\n\r\n&gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.\r\n\r\nYou can find more elaborated answers in this Stack Overflow thread https://stackoverflow.com/q/33635717/4655217.\r\n\r\n## Answering to your question\r\n\r\nI would suggest you to use `forEach` method a couple of times or even use the regular `for` loop.\r\n\r\n```java\r\nlist.forEach(e -&gt; e.setTitle(e.getTitle() + &quot; &quot; + e.getBands().size()));\r\nlist.forEach(e -&gt; e.getBands().forEach(b -&gt; b.setName(b.getName() + &quot;[&quot; + b.getMembers().size() + &quot;]&quot;)));\r\n```\r\n\r\n## Tip on how to make code more readable\r\n\r\nYou can extract complicated lambdas (or their parts) to private methods to make code more readable. For example\r\n\r\n```java\r\nlist.forEach(this::changeEventTitle);\r\nlist.forEach(e -&gt; e.getBands().forEach(this::changeBandName));\r\n\r\n\r\nprivate void changeEventTitle(Event event) {\r\n  int size = event.getBands().size();\r\n  String newTitle = event.getTitle() + &quot; &quot; + size;\r\n  \r\n  event.setTitle(newTitle);\r\n}\r\n\r\nprivate void changeBandName(Band band) {\r\n  int size = band.getMembers().size();\r\n  String newName = band.getName() + &quot;[&quot; + size + &quot;]&quot;;\r\n  \r\n  band.setName(newName);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness","title":"How to update a list and a sublist with lambda","body":"<p>Java strongly encourages you to use <code>peek</code> method only for debugging purposes <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">doc reference</a>.</p>\n<blockquote>\n<p><strong>API Note:</strong></p>\n<p>This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline:</p>\n</blockquote>\n<p>And also, Java suggests avoiding stateful behaviour and side effects in stream operations <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">doc reference</a>.</p>\n<blockquote>\n<p>Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.</p>\n</blockquote>\n<p>You can find more elaborated answers in this Stack Overflow thread <a href=\"https://stackoverflow.com/q/33635717/4655217\">In Java streams is peek really only for debugging?</a>.</p>\n<h2>Answering to your question</h2>\n<p>I would suggest you to use <code>forEach</code> method a couple of times or even use the regular <code>for</code> loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.forEach(e -&gt; e.setTitle(e.getTitle() + &quot; &quot; + e.getBands().size()));\nlist.forEach(e -&gt; e.getBands().forEach(b -&gt; b.setName(b.getName() + &quot;[&quot; + b.getMembers().size() + &quot;]&quot;)));\n</code></pre>\n<h2>Tip on how to make code more readable</h2>\n<p>You can extract complicated lambdas (or their parts) to private methods to make code more readable. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.forEach(this::changeEventTitle);\nlist.forEach(e -&gt; e.getBands().forEach(this::changeBandName));\n\n\nprivate void changeEventTitle(Event event) {\n  int size = event.getBands().size();\n  String newTitle = event.getTitle() + &quot; &quot; + size;\n  \n  event.setTitle(newTitle);\n}\n\nprivate void changeBandName(Band band) {\n  int size = band.getMembers().size();\n  String newName = band.getName() + &quot;[&quot; + size + &quot;]&quot;;\n  \n  band.setName(newName);\n}\n</code></pre>\n"}],"owner":{"account_id":3025444,"reputation":15,"user_id":2565568,"display_name":"user2565568"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671475465,"creation_date":1671471854,"question_id":74854099,"body_markdown":"I need your help because I want to update a parent list and a child list using stream and lambda if possible.\r\n\r\nThe parent is `Event` it contains a list of `Band` and the list of `Band` contains a list of `Member`.\r\n\r\nI have to update the title of each Event by adding the size of the band list (sample : &quot;U2 Concert Event \\[5\\]&quot;. I also have to update each band in order to add the size of the Member list in the name of the Band (sample: U2 \\[3\\])\r\n\r\nHow can I achieve this using stream and lambda?\r\n\r\nThis is my actual code:\r\n\r\n```java\r\nlist.stream().peek(e -&gt; e.setTitle(e.getTitle()+&quot; &quot;+e.getBands().size()))\r\n        .forEach(updatedEvent -&gt; updatedEvent.getBands().stream()\r\n                .forEach(b -&gt; b.setName(b.getName()+&quot;[&quot;+b.getMembers().size()+&quot;]&quot;)));\r\n```\r\n","title":"How to update a list and a sublist with lambda","body":"<p>I need your help because I want to update a parent list and a child list using stream and lambda if possible.</p>\n<p>The parent is <code>Event</code> it contains a list of <code>Band</code> and the list of <code>Band</code> contains a list of <code>Member</code>.</p>\n<p>I have to update the title of each Event by adding the size of the band list (sample : &quot;U2 Concert Event [5]&quot;. I also have to update each band in order to add the size of the Member list in the name of the Band (sample: U2 [3])</p>\n<p>How can I achieve this using stream and lambda?</p>\n<p>This is my actual code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().peek(e -&gt; e.setTitle(e.getTitle()+&quot; &quot;+e.getBands().size()))\n        .forEach(updatedEvent -&gt; updatedEvent.getBands().stream()\n                .forEach(b -&gt; b.setName(b.getName()+&quot;[&quot;+b.getMembers().size()+&quot;]&quot;)));\n</code></pre>\n"},{"tags":["java","android","exoplayer2.x"],"owner":{"account_id":10322169,"reputation":1,"user_id":7614684,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671475424,"creation_date":1671475424,"question_id":74854724,"body_markdown":"I am using\r\n\r\n```\r\nStyledPlayerView \r\n```\r\n\r\nfor showing video in my app , I have customized the\r\n\r\n```\r\nexo_styled_player_control_view \r\n```\r\n\r\naccording to my need. I need to show only the play pause button and the seekbar of the video. I have managed to achieve it but the issue is user can click on the seekbar and drag it and seek the video. I want to disable the seeking part, is there any way to do it?\r\n\r\ni tried changing the ID from exo_progress_placeholder to exo_buffering but it didn&#39;t worked.","title":"Disable seeking of seekbar , but show current seek position of video in exoplayer","body":"<p>I am using</p>\n<pre><code>StyledPlayerView \n</code></pre>\n<p>for showing video in my app , I have customized the</p>\n<pre><code>exo_styled_player_control_view \n</code></pre>\n<p>according to my need. I need to show only the play pause button and the seekbar of the video. I have managed to achieve it but the issue is user can click on the seekbar and drag it and seek the video. I want to disable the seeking part, is there any way to do it?</p>\n<p>i tried changing the ID from exo_progress_placeholder to exo_buffering but it didn't worked.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671434390,"post_id":74841663,"comment_id":132090389,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24722790,"reputation":11,"user_id":18611618,"display_name":"Latife Turan"},"score":0,"creation_date":1671474842,"post_id":74841663,"comment_id":132102752,"body_markdown":"here is the problem: after logging in, there is no problem navigating through activities.  but when I press the back button on the Add category page, it exits my account and redirects it to the login page again.  normally it should have taken me to the admin page without logging out of my account.  I have to re-login every time I press the back button after adding a category.  I want it to not exit until I click the logout button.","body":"here is the problem: after logging in, there is no problem navigating through activities.  but when I press the back button on the Add category page, it exits my account and redirects it to the login page again.  normally it should have taken me to the admin page without logging out of my account.  I have to re-login every time I press the back button after adding a category.  I want it to not exit until I click the logout button."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671522342,"post_id":74841663,"comment_id":132111607,"body_markdown":"Is your app crashing?","body":"Is your app crashing?"},{"owner":{"account_id":24722790,"reputation":11,"user_id":18611618,"display_name":"Latife Turan"},"score":0,"creation_date":1671523928,"post_id":74841663,"comment_id":132112000,"body_markdown":"yes sometimes is crashing sometimes is logout.","body":"yes sometimes is crashing sometimes is logout."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671524995,"post_id":74841663,"comment_id":132112334,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":24722790,"reputation":11,"user_id":18611618,"display_name":"Latife Turan"},"score":0,"creation_date":1671570625,"post_id":74841663,"comment_id":132126914,"body_markdown":"FATAL EXCEPTION: ScreenDecorations\n                                                                                                    Process: com.android.systemui, PID: 2430\n                                                                                                    java.lang.NullPointerException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkNotNullParameter, parameter bottomLeft","body":"FATAL EXCEPTION: ScreenDecorations                                                                                                     Process: com.android.systemui, PID: 2430                                                                                                     java.lang.NullPointerException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkNotNullParameter, parameter bottomLeft"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671603883,"post_id":74841663,"comment_id":132132121,"body_markdown":"Which is the exact line of code that produces the NullPointerException?","body":"Which is the exact line of code that produces the NullPointerException?"},{"owner":{"account_id":24722790,"reputation":11,"user_id":18611618,"display_name":"Latife Turan"},"score":0,"creation_date":1671605407,"post_id":74841663,"comment_id":132132413,"body_markdown":"I didnt understand what did you mean? Can you explain in a few more words?","body":"I didnt understand what did you mean? Can you explain in a few more words?"}],"owner":{"account_id":24722790,"reputation":11,"user_id":18611618,"display_name":"Latife Turan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671474906,"creation_date":1671369585,"question_id":74841663,"body_markdown":"I have 4 (four) activity in my project. Main Activity, LoginActivity, DashboardAdmin Activity and CategoryAdd Activity.\r\n\r\nI am using login system in the LoginActivity and I am logining. After that I am adding a category with userid in my app to firebase. I able to do this but without adding category or after adding category in the CategoryAddActivity I click to back navigation button the account is logout. (normally it must go to DashboardAdminActivity but goes to MainActivity) Everytime I must login again. I want to click back button without logout. \r\n\r\nhere is the problem: after logging in, there is no problem navigating through activities.  but when I press the back button on the Add category page, it exits my account and redirects it to the login page again.  normally it should have taken me to the admin page without logging out of my account.  I have to re-login every time I press the back button after adding a category.  I want it to not exit until I click the logout button.\r\n\r\nwhat can i do to fix this problem?\r\n\r\n\r\nDashboardAdmin Activity\r\n\r\n```\r\n\r\npublic class DashboardAdminActivity extends AppCompatActivity {\r\n\r\n private ActivityDashboardAdminBinding binding;\r\n\r\n    //firebase auth\r\n    private FirebaseAuth firebaseAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding=ActivityDashboardAdminBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        //init firebase auth\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n        checkUser();\r\n\r\n        binding.logoutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                firebaseAuth.signOut();\r\n                checkUser();\r\n            }\r\n        });\r\n\r\n        //handle click, start category add screen\r\n        binding.addCategoryBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(DashboardAdminActivity.this,CategoryAddActivity.class));\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkUser() {\r\n        //get current user\r\n        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\r\n        if (firebaseUser == null){\r\n            //not logged in go to main screen\r\n            startActivity(new Intent(this,MainActivity.class));\r\n            finish();\r\n        }\r\n        else{\r\n            //logged in get user info\r\n            String email= firebaseUser.getEmail();\r\n            //set in textview of toolbar\r\n            binding.subtitleTv.setText(email);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nCategoryAddActivity\r\n\r\n\r\n```\r\npublic class CategoryAddActivity extends AppCompatActivity {\r\n\r\n    private ActivityCategoryAddBinding binding;\r\n\r\n    //firebase auth\r\n    private FirebaseAuth firebaseAuth;\r\n\r\n    //progress dialog\r\n    private ProgressDialog progressDialog;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding=ActivityCategoryAddBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        //init firebase auth\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n\r\n        //configure progress dialog\r\n        progressDialog=new ProgressDialog(this);\r\n        progressDialog.setTitle(&quot;please wait!&quot;);\r\n        progressDialog.setCanceledOnTouchOutside(false);\r\n\r\n        //handle click go back\r\n        binding.backBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n        //handle click begin upload category\r\n        binding.submitBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                validateData();\r\n            }\r\n        });\r\n    }\r\n\r\n    private String category=&quot;&quot;;\r\n    private void validateData() {\r\n        /*Before adding validate data*/\r\n\r\n        //get data\r\n        category=binding.categoryEt.getText().toString().trim();\r\n        //validate if not empty\r\n        if (TextUtils.isEmpty(category)){\r\n            Toast.makeText(this, &quot;please wriete a category name..&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else{\r\n            addCategoryFirebase();\r\n        }\r\n    }\r\n\r\n    private void addCategoryFirebase() {\r\n        //show progress\r\n        progressDialog.setMessage(&quot;category adding..&quot;);\r\n        progressDialog.show();\r\n\r\n        //get timestamp\r\n        Long timestamp=System.currentTimeMillis();\r\n        //setup info to add in firebase db\r\n        HashMap&lt;String, Object&gt; hashMap=new HashMap&lt;&gt;();\r\n        hashMap.put(&quot;id&quot;,&quot;&quot;+timestamp);\r\n        hashMap.put(&quot;category&quot;,&quot;&quot;+category);\r\n        hashMap.put(&quot;timestamp&quot;,timestamp);\r\n        hashMap.put(&quot;uid&quot;,&quot;&quot;+firebaseAuth.getUid());\r\n\r\n\r\n        //set data to db\r\n        DatabaseReference ref= FirebaseDatabase.getInstance().getReference(&quot;Categories&quot;);\r\n        ref.child(&quot;&quot;+timestamp)\r\n                .setValue(hashMap)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        //data added to db\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(CategoryAddActivity.this, &quot;category added succesfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        //data not added to db\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(CategoryAddActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n```\r\n","title":"When I click back button the account is log out in java in android","body":"<p>I have 4 (four) activity in my project. Main Activity, LoginActivity, DashboardAdmin Activity and CategoryAdd Activity.</p>\n<p>I am using login system in the LoginActivity and I am logining. After that I am adding a category with userid in my app to firebase. I able to do this but without adding category or after adding category in the CategoryAddActivity I click to back navigation button the account is logout. (normally it must go to DashboardAdminActivity but goes to MainActivity) Everytime I must login again. I want to click back button without logout.</p>\n<p>here is the problem: after logging in, there is no problem navigating through activities.  but when I press the back button on the Add category page, it exits my account and redirects it to the login page again.  normally it should have taken me to the admin page without logging out of my account.  I have to re-login every time I press the back button after adding a category.  I want it to not exit until I click the logout button.</p>\n<p>what can i do to fix this problem?</p>\n<p>DashboardAdmin Activity</p>\n<pre><code>\npublic class DashboardAdminActivity extends AppCompatActivity {\n\n private ActivityDashboardAdminBinding binding;\n\n    //firebase auth\n    private FirebaseAuth firebaseAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding=ActivityDashboardAdminBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        //init firebase auth\n        firebaseAuth=FirebaseAuth.getInstance();\n        checkUser();\n\n        binding.logoutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                firebaseAuth.signOut();\n                checkUser();\n            }\n        });\n\n        //handle click, start category add screen\n        binding.addCategoryBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(DashboardAdminActivity.this,CategoryAddActivity.class));\n                finish();\n            }\n        });\n    }\n\n    private void checkUser() {\n        //get current user\n        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n        if (firebaseUser == null){\n            //not logged in go to main screen\n            startActivity(new Intent(this,MainActivity.class));\n            finish();\n        }\n        else{\n            //logged in get user info\n            String email= firebaseUser.getEmail();\n            //set in textview of toolbar\n            binding.subtitleTv.setText(email);\n        }\n    }\n</code></pre>\n<p>CategoryAddActivity</p>\n<pre><code>public class CategoryAddActivity extends AppCompatActivity {\n\n    private ActivityCategoryAddBinding binding;\n\n    //firebase auth\n    private FirebaseAuth firebaseAuth;\n\n    //progress dialog\n    private ProgressDialog progressDialog;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding=ActivityCategoryAddBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        //init firebase auth\n        firebaseAuth=FirebaseAuth.getInstance();\n\n        //configure progress dialog\n        progressDialog=new ProgressDialog(this);\n        progressDialog.setTitle(&quot;please wait!&quot;);\n        progressDialog.setCanceledOnTouchOutside(false);\n\n        //handle click go back\n        binding.backBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                onBackPressed();\n            }\n        });\n\n        //handle click begin upload category\n        binding.submitBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                validateData();\n            }\n        });\n    }\n\n    private String category=&quot;&quot;;\n    private void validateData() {\n        /*Before adding validate data*/\n\n        //get data\n        category=binding.categoryEt.getText().toString().trim();\n        //validate if not empty\n        if (TextUtils.isEmpty(category)){\n            Toast.makeText(this, &quot;please wriete a category name..&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            addCategoryFirebase();\n        }\n    }\n\n    private void addCategoryFirebase() {\n        //show progress\n        progressDialog.setMessage(&quot;category adding..&quot;);\n        progressDialog.show();\n\n        //get timestamp\n        Long timestamp=System.currentTimeMillis();\n        //setup info to add in firebase db\n        HashMap&lt;String, Object&gt; hashMap=new HashMap&lt;&gt;();\n        hashMap.put(&quot;id&quot;,&quot;&quot;+timestamp);\n        hashMap.put(&quot;category&quot;,&quot;&quot;+category);\n        hashMap.put(&quot;timestamp&quot;,timestamp);\n        hashMap.put(&quot;uid&quot;,&quot;&quot;+firebaseAuth.getUid());\n\n\n        //set data to db\n        DatabaseReference ref= FirebaseDatabase.getInstance().getReference(&quot;Categories&quot;);\n        ref.child(&quot;&quot;+timestamp)\n                .setValue(hashMap)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void unused) {\n                        //data added to db\n                        progressDialog.dismiss();\n                        Toast.makeText(CategoryAddActivity.this, &quot;category added succesfully.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        //data not added to db\n                        progressDialog.dismiss();\n                        Toast.makeText(CategoryAddActivity.this, &quot;&quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1671477615,"post_id":74854580,"comment_id":132103528,"body_markdown":"indexOf return the index of the first match so you can do one of the following use indexOf that take 2 paramter the string you looking for and the startindex you want to search from check the api https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int) another way to use the regex  and here a tutorial for it https://dev.java/learn/regex/ and if you stuck with anything replay to my comment and update your code and i will help :)","body":"indexOf return the index of the first match so you can do one of the following use indexOf that take 2 paramter the string you looking for and the startindex you want to search from check the api <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> another way to use the regex  and here a tutorial for it <a href=\"https://dev.java/learn/regex/\" rel=\"nofollow noreferrer\">dev.java/learn/regex</a> and if you stuck with anything replay to my comment and update your code and i will help :)"},{"owner":{"account_id":7563098,"reputation":133,"user_id":5739797,"display_name":"Waseem"},"score":0,"creation_date":1671618919,"post_id":74854580,"comment_id":132136314,"body_markdown":"I have done this in another way.","body":"I have done this in another way."},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671650551,"post_id":74854580,"comment_id":132146786,"body_markdown":"congratulations well done :)","body":"congratulations well done :)"}],"owner":{"account_id":7563098,"reputation":133,"user_id":5739797,"display_name":"Waseem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671474666,"creation_date":1671474666,"question_id":74854580,"body_markdown":"I have a text file that contains three messages, each message contains Block 4 content. What I want to achieve is that I want to get all the content inside Block 4. (Skipping the remaining content). Here is my code that extracts Message 1 Block 4. How do I get the Block 4 content of the remaining messages?\r\n\r\n```\r\npublic static void main(String[] args) throws IOException, SQLException {\r\n\tString filePath = &quot;C:\\\\Users\\\\abc\\\\Desktop\\\\reportTest5.txt&quot;;\r\n\t \r\n\tString content = null;\r\n\ttry {\r\n\t\t// read the file\r\n\t\tcontent = readFile(filePath);\r\n\t\t\r\n\t\t// parse the file\r\n\t\tList&lt;AlphabetSpellings&gt; fileParsing = parseFile(content);\r\n\t\t\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n\r\npublic static String readFile(String path) throws IOException {\r\n\tBufferedReader reader = new BufferedReader(new FileReader(new File(path)));\r\n\treturn reader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n}\r\n\r\nprivate static List&lt;AlphabetSpellings&gt; parseFile(String fileContent) {\r\n\r\n\t// create list object\r\n\r\n\tString block4 = fileContent.indexOf(&quot;Block 5&quot;) == -1 ? &quot;&quot;\r\n\t\t\t: fileContent.substring(fileContent.indexOf(&quot;Block 4&quot;) + 8, fileContent.indexOf(&quot;Block 5&quot;));\r\n\r\n\t// add block4 to list object\r\n\t\r\n\tSystem.out.println(block4);\r\n\r\n\t// return list as null for now\r\n\treturn null;\r\n}\r\n```\r\n[![Text file content][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78ZV8.png","title":"Extract block of text that starts with &#39;Block 4&#39; until it encounters &#39;Block 5&#39; from text file in Java","body":"<p>I have a text file that contains three messages, each message contains Block 4 content. What I want to achieve is that I want to get all the content inside Block 4. (Skipping the remaining content). Here is my code that extracts Message 1 Block 4. How do I get the Block 4 content of the remaining messages?</p>\n<pre><code>public static void main(String[] args) throws IOException, SQLException {\n    String filePath = &quot;C:\\\\Users\\\\abc\\\\Desktop\\\\reportTest5.txt&quot;;\n     \n    String content = null;\n    try {\n        // read the file\n        content = readFile(filePath);\n        \n        // parse the file\n        List&lt;AlphabetSpellings&gt; fileParsing = parseFile(content);\n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic static String readFile(String path) throws IOException {\n    BufferedReader reader = new BufferedReader(new FileReader(new File(path)));\n    return reader.lines().collect(Collectors.joining(System.lineSeparator()));\n}\n\nprivate static List&lt;AlphabetSpellings&gt; parseFile(String fileContent) {\n\n    // create list object\n\n    String block4 = fileContent.indexOf(&quot;Block 5&quot;) == -1 ? &quot;&quot;\n            : fileContent.substring(fileContent.indexOf(&quot;Block 4&quot;) + 8, fileContent.indexOf(&quot;Block 5&quot;));\n\n    // add block4 to list object\n    \n    System.out.println(block4);\n\n    // return list as null for now\n    return null;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/78ZV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78ZV8.png\" alt=\"Text file content\" /></a></p>\n"},{"tags":["java","spring","logging","spring-integration","spring-integration-aws"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671474618,"creation_date":1671474618,"answer_id":74854577,"question_id":74854197,"body_markdown":"The `nativeHeaders` is populated by the `NativeMessageHeaderAccessor`. I believe this is the part of SNS consumer and its handler. Or SQS. Then it looks like you propagate the message downstream to SNS. And you probably you really mean a `SnsHeaderMapper` in the `SnsMessageHandler`. \r\n\r\nI don&#39;t think it is really a header mapper responsibility to prevent such a warn for specific headers. It cannot know what is intentional and what is not. Likely now you have a warn, so you are good to use a `HeaderFilter` before `SnsMessageHandler` to remove  those headers which cannot be mapped to SNS attributes.\r\n\r\nAnd sure! You can inject a custom `SnsHeaderMapper` with any desired logic overridden.","title":"How do I remove the &quot;nativeHeaders&quot; warning with Spring Integration AWS SNS?","body":"<p>The <code>nativeHeaders</code> is populated by the <code>NativeMessageHeaderAccessor</code>. I believe this is the part of SNS consumer and its handler. Or SQS. Then it looks like you propagate the message downstream to SNS. And you probably you really mean a <code>SnsHeaderMapper</code> in the <code>SnsMessageHandler</code>.</p>\n<p>I don't think it is really a header mapper responsibility to prevent such a warn for specific headers. It cannot know what is intentional and what is not. Likely now you have a warn, so you are good to use a <code>HeaderFilter</code> before <code>SnsMessageHandler</code> to remove  those headers which cannot be mapped to SNS attributes.</p>\n<p>And sure! You can inject a custom <code>SnsHeaderMapper</code> with any desired logic overridden.</p>\n"}],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671474618,"creation_date":1671472407,"question_id":74854197,"body_markdown":"In an out-of-the-box configuration of the Spring Integration AWS `SnsMessageHandler` outgoing channel adapter, a Spring `Message` header named `nativeHeaders` of type `LinkedMultiValueMap` is populated somewhere along the chain. During the conversion process to an SNS message, the handler delegates to the `SqsHeaderMapper`, which issues a log at `WARN` level for every message that the automatically-populated `nativeHeaders` can&#39;t be converted to an AWS-compatible format.\r\n\r\nI don&#39;t want to suppress logs from the `SqsHeaderMapper` in case there&#39;s a real bug (like I forget to stringify some POJO header value), but I don&#39;t see either a flag to prevent creation of the `nativeHeaders` header or a way to configure the `SqsHeaderMapper` instance that&#39;s privately owned by the `SnsMessageHandler`. Is there a clean way to remove this warning?","title":"How do I remove the &quot;nativeHeaders&quot; warning with Spring Integration AWS SNS?","body":"<p>In an out-of-the-box configuration of the Spring Integration AWS <code>SnsMessageHandler</code> outgoing channel adapter, a Spring <code>Message</code> header named <code>nativeHeaders</code> of type <code>LinkedMultiValueMap</code> is populated somewhere along the chain. During the conversion process to an SNS message, the handler delegates to the <code>SqsHeaderMapper</code>, which issues a log at <code>WARN</code> level for every message that the automatically-populated <code>nativeHeaders</code> can't be converted to an AWS-compatible format.</p>\n<p>I don't want to suppress logs from the <code>SqsHeaderMapper</code> in case there's a real bug (like I forget to stringify some POJO header value), but I don't see either a flag to prevent creation of the <code>nativeHeaders</code> header or a way to configure the <code>SqsHeaderMapper</code> instance that's privately owned by the <code>SnsMessageHandler</code>. Is there a clean way to remove this warning?</p>\n"},{"tags":["java","android","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":4344992,"reputation":5188,"user_id":3547212,"display_name":"EdwynZN"},"score":0,"creation_date":1629074652,"post_id":68772313,"comment_id":121582695,"body_markdown":"Java_Home Is pointing 1.8 but your project seems to point to other have SDK, run flutter doctor and check which one it uses","body":"Java_Home Is pointing 1.8 but your project seems to point to other have SDK, run flutter doctor and check which one it uses"},{"owner":{"account_id":9573471,"reputation":1102,"user_id":7110428,"display_name":"Nidheesh MT"},"score":0,"creation_date":1629188487,"post_id":68772313,"comment_id":121614086,"body_markdown":"can you add flutter doctor result","body":"can you add flutter doctor result"}],"answers":[{"tags":[],"owner":{"account_id":21057050,"reputation":29,"user_id":15476128,"display_name":"user15476128"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629056192,"creation_date":1629056192,"answer_id":68794806,"question_id":68772313,"body_markdown":"--add-opens option itself is legal, I don&#39;t think it is the root cause, please see https://docs.oracle.com/en/java/javase/16/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\r\n\r\nI think it might be a java version issue, try to check which SDK&#39;s are available on your machine","title":"Flutter error in Android Studio (Windows): Unrecognized option: --add-opens","body":"<p>--add-opens option itself is legal, I don't think it is the root cause, please see <a href=\"https://docs.oracle.com/en/java/javase/16/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/16/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781</a></p>\n<p>I think it might be a java version issue, try to check which SDK's are available on your machine</p>\n"},{"tags":[],"owner":{"account_id":1013937,"reputation":10560,"user_id":1025935,"accept_rate":96,"display_name":"UmAnusorn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629075067,"creation_date":1629075067,"answer_id":68796401,"question_id":68772313,"body_markdown":"4 Options\r\n\r\n1. Use latest Gradle\r\n\r\n2. Set the JDK version to Embedded JDK\r\n\r\nWHY?\r\n\r\nA copy of the latest OpenJDK comes bundled with Android Studio 2.2+. This is the JDK version GOOGLE recommend.\r\n\r\nTo use the bundled JDK, do the following:\r\n\r\nHOW?\r\n\r\nAndroid Studio &gt; Preferences... &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle Under Gradle JDK, choose the Embedded JDK option. Click OK.\r\n\r\nFor windows\r\n\r\nselect File &gt; Settings... &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle Under Gradle JDK, choose the Embedded JDK option.\r\n\r\n\r\n3. --add-opens\r\nIf you have to allow code on the class path to do deep reflection to access nonpublic members, then use the --add-opens runtime option.\r\n\r\nSome libraries do deep reflection, meaning setAccessible(true), so they can access all members, including private ones. You can grant this access using the --add-opens option on the java command line. No warning messages are generated as a result of using this option.\r\n\r\nIf --illegal-access=deny, and you see IllegalAccessException or InaccessibleObjectException messages at runtime, you could use the --add-opens runtime option, basing the arguments upon the information shown in the exception message.\r\n\r\n4. config jvm option \r\nSince version 9, the Java compiler can be configured to produce bytecode for an older Java version while making sure the code does not use any APIs from a more recent version. Gradle now supports this release flag on CompileOptions directly for Java compilation. This option takes precedence over the properties described below.\r\n\r\nDue to a bug in Java 9 that was fixed in Java 10, Gradle cannot leverage the release flag when compiling with Java 9.\r\n\r\nExample 6. Setting Java release flag\r\nGroovyKotlin\r\nbuild.gradle\r\ncompileJava {\r\n    options.release = 7\r\n}\r\nHistorical options for the Java compiler remain available:\r\n\r\nfor more info\r\nhttps://docs.gradle.org/current/userguide/gradle_daemon.html","title":"Flutter error in Android Studio (Windows): Unrecognized option: --add-opens","body":"<p>4 Options</p>\n<ol>\n<li><p>Use latest Gradle</p>\n</li>\n<li><p>Set the JDK version to Embedded JDK</p>\n</li>\n</ol>\n<p>WHY?</p>\n<p>A copy of the latest OpenJDK comes bundled with Android Studio 2.2+. This is the JDK version GOOGLE recommend.</p>\n<p>To use the bundled JDK, do the following:</p>\n<p>HOW?</p>\n<p>Android Studio &gt; Preferences... &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle Under Gradle JDK, choose the Embedded JDK option. Click OK.</p>\n<p>For windows</p>\n<p>select File &gt; Settings... &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle Under Gradle JDK, choose the Embedded JDK option.</p>\n<ol start=\"3\">\n<li>--add-opens\nIf you have to allow code on the class path to do deep reflection to access nonpublic members, then use the --add-opens runtime option.</li>\n</ol>\n<p>Some libraries do deep reflection, meaning setAccessible(true), so they can access all members, including private ones. You can grant this access using the --add-opens option on the java command line. No warning messages are generated as a result of using this option.</p>\n<p>If --illegal-access=deny, and you see IllegalAccessException or InaccessibleObjectException messages at runtime, you could use the --add-opens runtime option, basing the arguments upon the information shown in the exception message.</p>\n<ol start=\"4\">\n<li>config jvm option\nSince version 9, the Java compiler can be configured to produce bytecode for an older Java version while making sure the code does not use any APIs from a more recent version. Gradle now supports this release flag on CompileOptions directly for Java compilation. This option takes precedence over the properties described below.</li>\n</ol>\n<p>Due to a bug in Java 9 that was fixed in Java 10, Gradle cannot leverage the release flag when compiling with Java 9.</p>\n<p>Example 6. Setting Java release flag\nGroovyKotlin\nbuild.gradle\ncompileJava {\noptions.release = 7\n}\nHistorical options for the Java compiler remain available:</p>\n<p>for more info\n<a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/gradle_daemon.html</a></p>\n"},{"tags":[],"owner":{"account_id":18328878,"reputation":1717,"user_id":13347902,"display_name":"Sambhav jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671474532,"creation_date":1671474532,"answer_id":74854559,"question_id":68772313,"body_markdown":"Please check the gradel/properties file \r\n\r\n     org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \r\n     android.useAndroidX=true\r\n     android.enableJetifier=true\r\n[![][1]][1]\r\n\r\nChange this to :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nremove the line after your jvmargs\r\n\r\nLet me know if this works out. Cheers!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ygsed.png\r\n  [2]: https://i.stack.imgur.com/vPEwM.png","title":"Flutter error in Android Studio (Windows): Unrecognized option: --add-opens","body":"<p>Please check the gradel/properties file</p>\n<pre><code> org.gradle.jvmargs=-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \n android.useAndroidX=true\n android.enableJetifier=true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ygsed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ygsed.png\" alt=\"\" /></a></p>\n<p>Change this to :-</p>\n<p><a href=\"https://i.stack.imgur.com/vPEwM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPEwM.png\" alt=\"enter image description here\" /></a></p>\n<p>remove the line after your jvmargs</p>\n<p>Let me know if this works out. Cheers!</p>\n"}],"owner":{"account_id":2068960,"reputation":14665,"user_id":1843848,"accept_rate":85,"display_name":"Leo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671474532,"creation_date":1628857617,"question_id":68772313,"body_markdown":"I have been working on a Flutter application that I&#39;ve successfully run on both an Android emulator and a physical device during the past couple of weeks. Somehow and all of a sudden, I&#39;m unable to run it in debug mode.\r\nI tried several answers found in SO but they all seem to be hacks that don&#39;t really fix the issue.\r\n\r\n\r\n### The Error\r\n\r\nWhen I tried to run the application, an error is thrown from Gradle daemon because it could not create a JVM as seen in the screenshot below...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n    Unrecognized option: --add-opens\r\n\r\n\r\n### Possible cause???\r\n\r\nI remember I upgraded the Gradle Plugin to I-don&#39;t-know-what-version, I wasn&#39;t really paying attention to it (my bad) but I kept on working without any issues. Then, I upgrade Flutter to version 2.2.2, that&#39;s when the issue started to creeping in (Maybe). \r\n\r\n### Supporting Info\r\n\r\n\r\nOS: Windows Server 2016 Standard (x64)   \r\nIDE: Android Studio Artic Fox 2020.3.1  \r\nFlutter Version: 2.2.2  \r\nJAVA_HOME: Pointing to JDK 1.8  \r\n\r\n\r\nProject Structure -&gt; Project Settings -&gt; Project\r\n\r\n[![enter image description here][2]][2]\r\n\r\nJava version...\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFlutter doctor output...\r\n\r\n[![enter image description here][4]][4]\r\n\r\n### Gradle files\r\n\r\nandroid/build.gradle\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.3.50&#39;\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\n\r\napp/build.gradle\r\n\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.domain.app_name&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 30\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n}\r\n\r\n```\r\n\r\n### Question\r\n\r\n**Is there an obvious fix to the error?**  \r\nI haven&#39;t worked on Android for about 2 years since I started this project so it might be possible that my problem is quite obvious.\r\nI might be missing something here but if I am, please let me know and I&#39;ll update the answer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yn31p.png\r\n  [2]: https://i.stack.imgur.com/UW5AG.png\r\n  [3]: https://i.stack.imgur.com/ezTTa.png\r\n  [4]: https://i.stack.imgur.com/XrbJE.png","title":"Flutter error in Android Studio (Windows): Unrecognized option: --add-opens","body":"<p>I have been working on a Flutter application that I've successfully run on both an Android emulator and a physical device during the past couple of weeks. Somehow and all of a sudden, I'm unable to run it in debug mode.\nI tried several answers found in SO but they all seem to be hacks that don't really fix the issue.</p>\n<h3>The Error</h3>\n<p>When I tried to run the application, an error is thrown from Gradle daemon because it could not create a JVM as seen in the screenshot below...</p>\n<p><a href=\"https://i.stack.imgur.com/yn31p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yn31p.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Error: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\nUnrecognized option: --add-opens\n</code></pre>\n<h3>Possible cause???</h3>\n<p>I remember I upgraded the Gradle Plugin to I-don't-know-what-version, I wasn't really paying attention to it (my bad) but I kept on working without any issues. Then, I upgrade Flutter to version 2.2.2, that's when the issue started to creeping in (Maybe).</p>\n<h3>Supporting Info</h3>\n<p>OS: Windows Server 2016 Standard (x64)<br />\nIDE: Android Studio Artic Fox 2020.3.1<br />\nFlutter Version: 2.2.2<br />\nJAVA_HOME: Pointing to JDK 1.8</p>\n<p>Project Structure -&gt; Project Settings -&gt; Project</p>\n<p><a href=\"https://i.stack.imgur.com/UW5AG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UW5AG.png\" alt=\"enter image description here\" /></a></p>\n<p>Java version...</p>\n<p><a href=\"https://i.stack.imgur.com/ezTTa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezTTa.png\" alt=\"enter image description here\" /></a></p>\n<p>Flutter doctor output...</p>\n<p><a href=\"https://i.stack.imgur.com/XrbJE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrbJE.png\" alt=\"enter image description here\" /></a></p>\n<h3>Gradle files</h3>\n<p>android/build.gradle</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.50'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>app/build.gradle</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion 30\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.domain.app_name&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n\n</code></pre>\n<h3>Question</h3>\n<p><strong>Is there an obvious fix to the error?</strong><br />\nI haven't worked on Android for about 2 years since I started this project so it might be possible that my problem is quite obvious.\nI might be missing something here but if I am, please let me know and I'll update the answer.</p>\n"},{"tags":["java","collections","maps","guava"],"comments":[{"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"score":0,"creation_date":1428595062,"post_id":5719833,"comment_id":47238431,"body_markdown":"Do you really want to get back a Collection of values rather than a Map? In the process of building that, you&#39;d lose the association between keys and values.","body":"Do you really want to get back a Collection of values rather than a Map? In the process of building that, you&#39;d lose the association between keys and values."}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1303232117,"creation_date":1303232117,"answer_id":5719900,"question_id":5719833,"body_markdown":"You could, I suppose use Guava&#39;s `Maps.filteredKeys()`, passing in a `Predicate` which matches your desired keys, but it&#39;s not really any better than manual iteration.","title":"Get all Values from a Map for some Keys in Java/Guava?","body":"<p>You could, I suppose use Guava's <code>Maps.filteredKeys()</code>, passing in a <code>Predicate</code> which matches your desired keys, but it's not really any better than manual iteration.</p>\n"},{"tags":[],"owner":{"account_id":22644,"reputation":14098,"user_id":56044,"accept_rate":71,"display_name":"Michael Brewer-Davis"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1303234650,"creation_date":1303234650,"answer_id":5720370,"question_id":5719833,"body_markdown":"Using guava:\r\n`Collections2.transform(keys, Functions.forMap(map));`","title":"Get all Values from a Map for some Keys in Java/Guava?","body":"<p>Using guava:\n<code>Collections2.transform(keys, Functions.forMap(map));</code></p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1303241429,"creation_date":1303235266,"answer_id":5720465,"question_id":5719833,"body_markdown":"This depends on how you want the method to work. For example, should elements in `keys` that aren&#39;t in `map` **A)** just be ignored or should they **B)** be represented as `null` in the returned values collection or should that **C)** be an error? Also consider whether you want a live view or a separate collection containing the values.\r\n\r\nFor **A**, my preference would be:\r\n\r\n    Collection&lt;V&gt; values = Collections2.transform(\r\n        Collections2.filter(keys, Predicates.in(map.keySet()),\r\n        Functions.forMap(map));\r\n\r\nThis limits the result to values for keys that are actually in the map and should be relatively efficient as well, even if the map is much larger than the set of keys you want. Of course, you may want to copy that result in to another collection depending on what you want to do with it.\r\n\r\nFor **B**, you&#39;d use @Michael Brewer-Davis&#39;s solution except with `Functions.forMap(map, null)`.\r\n\r\nFor **C**, you&#39;d first want to check that `map.keySet().containsAll(keys)` and throw an error if `false`, then use @Michael Brewer-Davis&#39;s solution... but be aware that unless you then copied the result in to another collection, removing an entry from `map` could cause an `IllegalArgumentException` for code using the returned collection at some point.","title":"Get all Values from a Map for some Keys in Java/Guava?","body":"<p>This depends on how you want the method to work. For example, should elements in <code>keys</code> that aren't in <code>map</code> <strong>A)</strong> just be ignored or should they <strong>B)</strong> be represented as <code>null</code> in the returned values collection or should that <strong>C)</strong> be an error? Also consider whether you want a live view or a separate collection containing the values.</p>\n\n<p>For <strong>A</strong>, my preference would be:</p>\n\n<pre><code>Collection&lt;V&gt; values = Collections2.transform(\n    Collections2.filter(keys, Predicates.in(map.keySet()),\n    Functions.forMap(map));\n</code></pre>\n\n<p>This limits the result to values for keys that are actually in the map and should be relatively efficient as well, even if the map is much larger than the set of keys you want. Of course, you may want to copy that result in to another collection depending on what you want to do with it.</p>\n\n<p>For <strong>B</strong>, you'd use @Michael Brewer-Davis's solution except with <code>Functions.forMap(map, null)</code>.</p>\n\n<p>For <strong>C</strong>, you'd first want to check that <code>map.keySet().containsAll(keys)</code> and throw an error if <code>false</code>, then use @Michael Brewer-Davis's solution... but be aware that unless you then copied the result in to another collection, removing an entry from <code>map</code> could cause an <code>IllegalArgumentException</code> for code using the returned collection at some point.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1617054534,"creation_date":1303296042,"answer_id":5728979,"question_id":5719833,"body_markdown":"I agree with skaffman&#39;s answer, just not with his conclusion (I think this is better than manual iteration).\r\n\r\nHere it is spelled out:\r\n\r\n\r\n    public static &lt;K, V&gt; Collection&lt;V&gt; getAll(Map&lt;K, V&gt; map, Collection&lt;K&gt; keys) {\r\n        return Maps.filterKeys(map, Predicates.in(keys)).values();\r\n    }\r\n\r\nAlso, here&#39;s a non-Guava version (Java 8 or higher):\r\n\r\n    public static &lt;K, V&gt; Collection&lt;V&gt; getAll(Map&lt;K, V&gt; map, Set&lt;K&gt; keys) {\r\n        return map.entrySet()\r\n                .stream()\r\n                .filter(e -&gt; keys.contains(e.getKey()))\r\n                .map(Map.Entry::getValue)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n\r\n","title":"Get all Values from a Map for some Keys in Java/Guava?","body":"<p>I agree with skaffman's answer, just not with his conclusion (I think this is better than manual iteration).</p>\n<p>Here it is spelled out:</p>\n<pre><code>public static &lt;K, V&gt; Collection&lt;V&gt; getAll(Map&lt;K, V&gt; map, Collection&lt;K&gt; keys) {\n    return Maps.filterKeys(map, Predicates.in(keys)).values();\n}\n</code></pre>\n<p>Also, here's a non-Guava version (Java 8 or higher):</p>\n<pre><code>public static &lt;K, V&gt; Collection&lt;V&gt; getAll(Map&lt;K, V&gt; map, Set&lt;K&gt; keys) {\n    return map.entrySet()\n            .stream()\n            .filter(e -&gt; keys.contains(e.getKey()))\n            .map(Map.Entry::getValue)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4562322,"reputation":323,"user_id":3704307,"accept_rate":100,"display_name":"Code Eyez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671474203,"creation_date":1533058194,"answer_id":51618998,"question_id":5719833,"body_markdown":"Java8 Streams:\r\n\r\n    keys.stream().map( map::get ).collect( Collectors.toList() );\r\n\r\nOr if you&#39;re concerned about missing keys:\r\n\r\n    keys.stream().map( k -&gt; map.getOrDefault( k, null ) ).filter(o -&gt; o != null).collect( Collectors.toList() );\r\n\r\nOr if you need multiple threads to work (rarely, see @tkruse comment):\r\n\r\n    keys.parallelStream().map( map::get ).collect( Collectors.toList() );","title":"Get all Values from a Map for some Keys in Java/Guava?","body":"<p>Java8 Streams:</p>\n<pre><code>keys.stream().map( map::get ).collect( Collectors.toList() );\n</code></pre>\n<p>Or if you're concerned about missing keys:</p>\n<pre><code>keys.stream().map( k -&gt; map.getOrDefault( k, null ) ).filter(o -&gt; o != null).collect( Collectors.toList() );\n</code></pre>\n<p>Or if you need multiple threads to work (rarely, see @tkruse comment):</p>\n<pre><code>keys.parallelStream().map( map::get ).collect( Collectors.toList() );\n</code></pre>\n"}],"owner":{"account_id":368629,"reputation":997,"user_id":715557,"display_name":"FlorianOver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16533,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5720465,"answer_count":5,"score":13,"last_activity_date":1671474203,"creation_date":1303231799,"question_id":5719833,"body_markdown":"Is there a smart way to get all Values from a Map given some Keys?\r\n\r\nI would like a method like this:\r\n\r\n    public static &lt;K, V&gt; Collection&lt;V&gt; getAll(Map&lt;K, V&gt; map, Collection&lt;K&gt; keys)\r\n\r\nor is already a guava way?","title":"Get all Values from a Map for some Keys in Java/Guava?","body":"<p>Is there a smart way to get all Values from a Map given some Keys?</p>\n\n<p>I would like a method like this:</p>\n\n<pre><code>public static &lt;K, V&gt; Collection&lt;V&gt; getAll(Map&lt;K, V&gt; map, Collection&lt;K&gt; keys)\n</code></pre>\n\n<p>or is already a guava way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1364427905,"post_id":15671620,"comment_id":22245619,"body_markdown":"You&#39;ve not defined a &quot;small straight&quot;. Please be more explicit in your question.","body":"You&#39;ve not defined a &quot;small straight&quot;. Please be more explicit in your question."},{"owner":{"account_id":2543087,"reputation":1001,"user_id":2208469,"display_name":"Jimmy Lee"},"score":0,"creation_date":1364428528,"post_id":15671620,"comment_id":22245825,"body_markdown":"Isn&#39;t a small straight 4 consecutive numbers? And a large straight is all 5?","body":"Isn&#39;t a small straight 4 consecutive numbers? And a large straight is all 5?"},{"owner":{"account_id":2359735,"reputation":157,"user_id":2066710,"accept_rate":80,"display_name":"Castellanos"},"score":0,"creation_date":1364428856,"post_id":15671620,"comment_id":22245964,"body_markdown":"Yes, I am really sorry. Can&#39;t think straight today.","body":"Yes, I am really sorry. Can&#39;t think straight today."}],"answers":[{"tags":[],"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364428289,"creation_date":1364428289,"answer_id":15671738,"question_id":15671620,"body_markdown":"EDIT: First, if a small straight is three in a row, then you want to see if the counter gets to 2, not to 3. 3 would demand a four in a row.\r\n\r\nEdit the start of the for loop as follows:\r\n\r\n      for (int i = 0; i &lt; die.length ; i++)\r\n      {\r\n          if (counter == 2)\r\n              found = true;\r\n          if (i == die.length - 1) break;\r\n          //method continues here\r\n\r\nReasoning: I imagine that when you started coding this method, it was throwing `IndexOutOfBoundsException`s when it got to the last die in the array, tried to compare it to the nonexistant sixth die and died. So, you made the loop stop one short. But if it stops one short and the small straight is finished on the very last dice, then you never got into the loop again to confirm that the counter was 3 and a small straight had occured. By editing the start of the loop this way it goes all the way to the last element, checks and then breaks.\r\n\r\nAlternatively, do one last check after the loop ends:\r\n\r\n      for (int i = 0; i &lt; die.length - 1; i++)\r\n      {\r\n          if (counter == 2)\r\n              found = true;\r\n          if (die[i + 1] == die[i] + 1)\r\n          {\r\n              counter++;\r\n          }\r\n          else if (die[i + 1] == die[i])\r\n          {\r\n              continue;\r\n          }\r\n          else\r\n          {\r\n              counter = 0;\r\n          }\r\n      }\r\n\r\n      found = (counter == 2); // or counter &gt;= 2 if you want larger straights to be found too\r\n\r\n      //continue method here","title":"Small Straight - Method","body":"<p>EDIT: First, if a small straight is three in a row, then you want to see if the counter gets to 2, not to 3. 3 would demand a four in a row.</p>\n\n<p>Edit the start of the for loop as follows:</p>\n\n<pre><code>  for (int i = 0; i &lt; die.length ; i++)\n  {\n      if (counter == 2)\n          found = true;\n      if (i == die.length - 1) break;\n      //method continues here\n</code></pre>\n\n<p>Reasoning: I imagine that when you started coding this method, it was throwing <code>IndexOutOfBoundsException</code>s when it got to the last die in the array, tried to compare it to the nonexistant sixth die and died. So, you made the loop stop one short. But if it stops one short and the small straight is finished on the very last dice, then you never got into the loop again to confirm that the counter was 3 and a small straight had occured. By editing the start of the loop this way it goes all the way to the last element, checks and then breaks.</p>\n\n<p>Alternatively, do one last check after the loop ends:</p>\n\n<pre><code>  for (int i = 0; i &lt; die.length - 1; i++)\n  {\n      if (counter == 2)\n          found = true;\n      if (die[i + 1] == die[i] + 1)\n      {\n          counter++;\n      }\n      else if (die[i + 1] == die[i])\n      {\n          continue;\n      }\n      else\n      {\n          counter = 0;\n      }\n  }\n\n  found = (counter == 2); // or counter &gt;= 2 if you want larger straights to be found too\n\n  //continue method here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2543087,"reputation":1001,"user_id":2208469,"display_name":"Jimmy Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1364430621,"creation_date":1364428300,"answer_id":15671739,"question_id":15671620,"body_markdown":"The duplicate 3 is not what is throwing off the algorithm. The issue is that you check for the straight during the iteration AFTER it occurs. Thus, if the last die is part of the straight, it won&#39;t be recognized.\r\n\r\nTo fix this, move\r\n\r\n    if (counter == 3) found = true;\r\n\r\nto the END of the loop. Should work.\r\n\r\nEDIT: So it looks like this.\r\n\r\n    for (/*...*/) {\r\n      /* Everything else */\r\n\r\n      if (counter == 3) {\r\n          found = true;\r\n          break;\r\n      }\r\n    }","title":"Small Straight - Method","body":"<p>The duplicate 3 is not what is throwing off the algorithm. The issue is that you check for the straight during the iteration AFTER it occurs. Thus, if the last die is part of the straight, it won't be recognized.</p>\n\n<p>To fix this, move</p>\n\n<pre><code>if (counter == 3) found = true;\n</code></pre>\n\n<p>to the END of the loop. Should work.</p>\n\n<p>EDIT: So it looks like this.</p>\n\n<pre><code>for (/*...*/) {\n  /* Everything else */\n\n  if (counter == 3) {\n      found = true;\n      break;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364431279,"creation_date":1364429455,"answer_id":15671955,"question_id":15671620,"body_markdown":"This should calculate the longest sequence:\r\n\r\n    int longestSequence(int[] a) {\r\n      Arrays.sort(a);\r\n      int longest = 0;\r\n      int sequence = 0;\r\n      for (int i = 1; i &lt; a.length; i++) {\r\n        int d = a[i] - a[i - 1];\r\n        switch (d) {\r\n          case 0:\r\n               // Ignore duplicates.\r\n               break;\r\n          case 1:\r\n               sequence += 1;\r\n               break;\r\n          default:\r\n               if (sequence &gt; longest) {\r\n                 longest = sequence;\r\n               }\r\n               break;\r\n        }\r\n      }\r\n      return Math.max(longest, sequence);\r\n    }\r\n","title":"Small Straight - Method","body":"<p>This should calculate the longest sequence:</p>\n\n<pre><code>int longestSequence(int[] a) {\n  Arrays.sort(a);\n  int longest = 0;\n  int sequence = 0;\n  for (int i = 1; i &lt; a.length; i++) {\n    int d = a[i] - a[i - 1];\n    switch (d) {\n      case 0:\n           // Ignore duplicates.\n           break;\n      case 1:\n           sequence += 1;\n           break;\n      default:\n           if (sequence &gt; longest) {\n             longest = sequence;\n           }\n           break;\n    }\n  }\n  return Math.max(longest, sequence);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26603524,"reputation":1,"user_id":20224786,"display_name":"Esec Noyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671473239,"creation_date":1671473239,"answer_id":74854326,"question_id":15671620,"body_markdown":"You could add code such as \r\n```\r\nfor (int i = 0; i &lt; (die.length-1); i++)\r\n        {\r\n            if (die [i] == die[i+1])\r\n            {\r\n                die[i+1] =1;\r\n            }\r\n        }\r\nArrays.sort(die);\r\n```\r\nThis will set the code for example from 1,2,3,3,4 to 1,1,2,3,4 so your code should then work.\r\n\r\n","title":"Small Straight - Method","body":"<p>You could add code such as</p>\n<pre><code>for (int i = 0; i &lt; (die.length-1); i++)\n        {\n            if (die [i] == die[i+1])\n            {\n                die[i+1] =1;\n            }\n        }\nArrays.sort(die);\n</code></pre>\n<p>This will set the code for example from 1,2,3,3,4 to 1,1,2,3,4 so your code should then work.</p>\n"}],"owner":{"account_id":2359735,"reputation":157,"user_id":2066710,"accept_rate":80,"display_name":"Castellanos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15671739,"answer_count":4,"score":2,"last_activity_date":1671473239,"creation_date":1364427653,"question_id":15671620,"body_markdown":"I&#39;ve been stuck on this method for a couple of days now. This method checks to see if the roll of 5 dice == a small straight. It works for some numbers. If I roll a \r\n\r\n&gt; 1, 2, 4, 3, 6\r\n\r\nit will work. However, if I roll a \r\n\r\n&gt; 1, 2, 4, 3, 3\r\n\r\n it will not work. I think it&#39;s because of the duplicate 3 in there. I need to move it to the end somehow.\r\n\r\nA small straight is when there are four consecutive die face values, such as 1, 2, 3, 4 or 3, 4, 5, 6. It can be in any order such as 2, 3, 1, 4\r\n\r\n          int counter = 0;\r\n          int score = 0;\r\n          boolean found = false;\r\n          Arrays.sort(die);\r\n          \r\n          for (int i = 0; i &lt; die.length - 1; i++)\r\n          {\r\n              if (counter == 3)\r\n                  found = true;\r\n              \r\n              if (die[i + 1] == die[i] + 1)\r\n              {\r\n                  counter++;\r\n              }\r\n              else if (die[i + 1] == die[i])\r\n              {\r\n                  continue;\r\n              }\r\n              else\r\n              {\r\n                  counter = 0;\r\n              }\r\n          }\r\n          \r\n          if (found)\r\n          {\r\n             score = 30; \r\n          }\r\n          else\r\n          {\r\n              score = 0;\r\n          }\r\n          return score;\r\n        }","title":"Small Straight - Method","body":"<p>I've been stuck on this method for a couple of days now. This method checks to see if the roll of 5 dice == a small straight. It works for some numbers. If I roll a </p>\n\n<blockquote>\n  <p>1, 2, 4, 3, 6</p>\n</blockquote>\n\n<p>it will work. However, if I roll a </p>\n\n<blockquote>\n  <p>1, 2, 4, 3, 3</p>\n</blockquote>\n\n<p>it will not work. I think it's because of the duplicate 3 in there. I need to move it to the end somehow.</p>\n\n<p>A small straight is when there are four consecutive die face values, such as 1, 2, 3, 4 or 3, 4, 5, 6. It can be in any order such as 2, 3, 1, 4</p>\n\n<pre><code>      int counter = 0;\n      int score = 0;\n      boolean found = false;\n      Arrays.sort(die);\n\n      for (int i = 0; i &lt; die.length - 1; i++)\n      {\n          if (counter == 3)\n              found = true;\n\n          if (die[i + 1] == die[i] + 1)\n          {\n              counter++;\n          }\n          else if (die[i + 1] == die[i])\n          {\n              continue;\n          }\n          else\n          {\n              counter = 0;\n          }\n      }\n\n      if (found)\n      {\n         score = 30; \n      }\n      else\n      {\n          score = 0;\n      }\n      return score;\n    }\n</code></pre>\n"},{"tags":["java","serialization","fileinputstream","objectinputstream"],"comments":[{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1671473084,"post_id":74854257,"comment_id":132102249,"body_markdown":"You can check this answer https://stackoverflow.com/questions/2393179/streamcorruptedexception-invalid-type-code-ac","body":"You can check this answer <a href=\"https://stackoverflow.com/questions/2393179/streamcorruptedexception-invalid-type-code-ac\" title=\"streamcorruptedexception invalid type code ac\">stackoverflow.com/questions/2393179/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671474154,"post_id":74854257,"comment_id":132102557,"body_markdown":"Much better to serialize a `List` of drones. *One* call - n drones","body":"Much better to serialize a <code>List</code> of drones. <i>One</i> call - n drones"}],"owner":{"account_id":24355434,"reputation":11,"user_id":18290704,"display_name":"Sanjay Chunduru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671472942,"creation_date":1671472776,"question_id":74854257,"body_markdown":"I initially created a file containing serialized data, and wanted to iterate through it and add the objects to a text file. However, I keep getting a StreamCorrupted error when I try doing so. Any suggestions on how to fix this? Thanks in advance.\r\nThe Method:\r\n```\r\npublic static ImperialDrone retrieveDrone(String filename) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.out.println(filename);\r\n\t\t\tboolean cont = true;\r\n\t\t\tArrayList&lt;ImperialDrone&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\tObjectInputStream Sin = new ObjectInputStream(new FileInputStream(&quot;C:\\\\Users\\\\13023\\\\eclipse-workspace\\\\Chunduru_HW6\\\\src\\\\chunduru\\\\STORAGE\\\\DStore&quot;));\r\n\t\t\twhile(cont){\r\n\t\t\t\tImperialDrone I = null;\r\n              try {\r\n                  I = (ImperialDrone) Sin.readObject();\r\n              } catch (EOFException E) {\r\n                  E.printStackTrace();\r\n              }\r\n                if(I != null) {\r\n                \t list.add(I);\r\n                     System.out.println(&quot;Added 1&quot;);\r\n                }\r\n                  \r\n                else {\r\n                \tcont = false;\r\n                }\r\n                   \r\n             }\r\n\t\t\t\r\n\t\t\tSin.close();\r\n\t\t\treturn list.get(0);\r\n\t\t\t\r\n\t\t} \r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n```\r\n\r\nThe Error:\r\n```\r\njava.io.StreamCorruptedException: invalid type code: AC\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1764)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:509)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:467)\r\n\tat Chunduru_HW6/chunduru.INTERFACES.DroneOperations.retrieveDrone(DroneOperations.java:49)\r\n\tat Chunduru_HW6/chunduru.MAIN.Chunduru.main(Chunduru.java:26)\r\njava.io.StreamCorruptedException: invalid type code: AC\r\n","title":"Java Stream Corrupted error when iterating through Serialized file to deserialize","body":"<p>I initially created a file containing serialized data, and wanted to iterate through it and add the objects to a text file. However, I keep getting a StreamCorrupted error when I try doing so. Any suggestions on how to fix this? Thanks in advance.\nThe Method:</p>\n<pre><code>public static ImperialDrone retrieveDrone(String filename) {\n        \n        try {\n            System.out.println(filename);\n            boolean cont = true;\n            ArrayList&lt;ImperialDrone&gt; list = new ArrayList&lt;&gt;();\n            ObjectInputStream Sin = new ObjectInputStream(new FileInputStream(&quot;C:\\\\Users\\\\13023\\\\eclipse-workspace\\\\Chunduru_HW6\\\\src\\\\chunduru\\\\STORAGE\\\\DStore&quot;));\n            while(cont){\n                ImperialDrone I = null;\n              try {\n                  I = (ImperialDrone) Sin.readObject();\n              } catch (EOFException E) {\n                  E.printStackTrace();\n              }\n                if(I != null) {\n                     list.add(I);\n                     System.out.println(&quot;Added 1&quot;);\n                }\n                  \n                else {\n                    cont = false;\n                }\n                   \n             }\n            \n            Sin.close();\n            return list.get(0);\n            \n        } \n        catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(e);\n        }\n        return null;\n        \n    }\n</code></pre>\n<p>The Error:</p>\n<pre><code>java.io.StreamCorruptedException: invalid type code: AC\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1764)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:509)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:467)\n    at Chunduru_HW6/chunduru.INTERFACES.DroneOperations.retrieveDrone(DroneOperations.java:49)\n    at Chunduru_HW6/chunduru.MAIN.Chunduru.main(Chunduru.java:26)\njava.io.StreamCorruptedException: invalid type code: AC\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":26595673,"reputation":13,"user_id":20218069,"display_name":"benji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671469238,"creation_date":1671469238,"answer_id":74853648,"question_id":74853454,"body_markdown":"since you initialized your array in the initialsArray method your array will not be null. If you are testing for an empty array, you should just check to see if the arrays length is equal to 0.","title":"Why does my array not fill with null when it gets created?","body":"<p>since you initialized your array in the initialsArray method your array will not be null. If you are testing for an empty array, you should just check to see if the arrays length is equal to 0.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671470764,"creation_date":1671470764,"answer_id":74853922,"question_id":74853454,"body_markdown":"The `initialsArray()` method defines and returns an array.\r\n\r\n    public String[] initialsArray() {\r\n      String[] initials = new String[numberActive];\r\n      ... fill array ...\r\n      }\r\n      return initials;\r\n    }\r\n\r\nSo the method will never return null which means your assertion will always fail.\r\n\r\n    assertEquals(null , w1.initialsArray());\r\n\r\np.s. assuming this is a JUnit test, you should be using `assertNull(w1.initialsArray());`\r\n\r\n\r\n","title":"Why does my array not fill with null when it gets created?","body":"<p>The <code>initialsArray()</code> method defines and returns an array.</p>\n<pre><code>public String[] initialsArray() {\n  String[] initials = new String[numberActive];\n  ... fill array ...\n  }\n  return initials;\n}\n</code></pre>\n<p>So the method will never return null which means your assertion will always fail.</p>\n<pre><code>assertEquals(null , w1.initialsArray());\n</code></pre>\n<p>p.s. assuming this is a JUnit test, you should be using <code>assertNull(w1.initialsArray());</code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671472934,"creation_date":1671472934,"answer_id":74854281,"question_id":74853454,"body_markdown":"Your `initialsArray` method returns a *reference* to an array. You can think of a reference as an address of where to find something, the location of the first octet of the memory where that object resides. \r\n\r\nYour code instantiates an array, captures a reference to that array, and returns that reference to the calling method. The array is *not* returned, a reference to that array is returned. \r\n\r\nIn your code, that reference is never null. Your code always instantiates a fresh new array. The fact of whether the *contents* of the array, the elements within the array, are null is a separate issue. ","title":"Why does my array not fill with null when it gets created?","body":"<p>Your <code>initialsArray</code> method returns a <em>reference</em> to an array. You can think of a reference as an address of where to find something, the location of the first octet of the memory where that object resides.</p>\n<p>Your code instantiates an array, captures a reference to that array, and returns that reference to the calling method. The array is <em>not</em> returned, a reference to that array is returned.</p>\n<p>In your code, that reference is never null. Your code always instantiates a fresh new array. The fact of whether the <em>contents</em> of the array, the elements within the array, are null is a separate issue.</p>\n"}],"owner":{"account_id":27299407,"reputation":1,"user_id":20816487,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1671472934,"creation_date":1671468241,"question_id":74853454,"body_markdown":"I am an AP cs student and we are doing a lab to help us get practice working with arrays. However, I am haveing a problem with a particular test for one of my methods. The method is supposed to take a list of names in an array and turn them into their initial form. For example: Kent, Clark would be turned into KC. I have this part down however one of the tests doesn&#39;t seem to work. This is my code:\r\n\r\n\r\n```\r\npublic String[] initialsArray() {\r\n    String[] initials = new String[numberActive];\r\n    for (int i = 0; i &lt; initials.length; i++) {\r\n        initials[i] = &quot;&quot; + names[i].charAt(names[i].indexOf(&quot;,&quot;) + 2) +\r\n                names[i].charAt(0);\r\n    }\r\n    return initials;\r\n}\r\n```\r\n\r\nnumberActive signifies the numer of filled spaces in the array.\r\n\r\n\r\n\r\nThe test for this method is:\r\n\r\n\r\n\r\n```\r\n@Test\r\npublic void testInitialsArray()\r\n{\r\n    WaitingList w1 = new WaitingList();\r\n    assertEquals(null,w1.initialsArray());\r\n    w1.addName(&quot;Bushell, Greg&quot;);\r\n    w1.addName(&quot;Kent, Clark&quot;);\r\n    w1.addName(&quot;Crunch, Captain&quot;);\r\n    w1.addName(&quot;Fields, Justin&quot;);\r\n    w1.addName(&quot;Kent, Clark&quot;);\r\n    w1.addName(&quot;Wayne, Bruce&quot;);\r\n    w1.addName(&quot;Jordan, Michael&quot;);\r\n    String[] actualInitials = w1.initialsArray();\r\n    String[] expectedArrays = {&quot;GB&quot;,&quot;CK&quot;,&quot;CC&quot;,&quot;JF&quot;,&quot;CK&quot;,&quot;BW&quot;,&quot;MJ&quot;};\r\n    for(int i = 0; i &lt; actualInitials.length; i++)\r\n    {\r\n        assertEquals(expectedArrays[i],actualInitials[i]);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy problem is line 2 of the test, everything else works except for this, to be honest I am not sure what this is even ment to be testing.\r\n\r\nThanks for the help.\r\n\r\n\r\nI have not tried anything yet seeing as though I don&#39;t even know what is being tested in line 2.","title":"Why does my array not fill with null when it gets created?","body":"<p>I am an AP cs student and we are doing a lab to help us get practice working with arrays. However, I am haveing a problem with a particular test for one of my methods. The method is supposed to take a list of names in an array and turn them into their initial form. For example: Kent, Clark would be turned into KC. I have this part down however one of the tests doesn't seem to work. This is my code:</p>\n<pre><code>public String[] initialsArray() {\n    String[] initials = new String[numberActive];\n    for (int i = 0; i &lt; initials.length; i++) {\n        initials[i] = &quot;&quot; + names[i].charAt(names[i].indexOf(&quot;,&quot;) + 2) +\n                names[i].charAt(0);\n    }\n    return initials;\n}\n</code></pre>\n<p>numberActive signifies the numer of filled spaces in the array.</p>\n<p>The test for this method is:</p>\n<pre><code>@Test\npublic void testInitialsArray()\n{\n    WaitingList w1 = new WaitingList();\n    assertEquals(null,w1.initialsArray());\n    w1.addName(&quot;Bushell, Greg&quot;);\n    w1.addName(&quot;Kent, Clark&quot;);\n    w1.addName(&quot;Crunch, Captain&quot;);\n    w1.addName(&quot;Fields, Justin&quot;);\n    w1.addName(&quot;Kent, Clark&quot;);\n    w1.addName(&quot;Wayne, Bruce&quot;);\n    w1.addName(&quot;Jordan, Michael&quot;);\n    String[] actualInitials = w1.initialsArray();\n    String[] expectedArrays = {&quot;GB&quot;,&quot;CK&quot;,&quot;CC&quot;,&quot;JF&quot;,&quot;CK&quot;,&quot;BW&quot;,&quot;MJ&quot;};\n    for(int i = 0; i &lt; actualInitials.length; i++)\n    {\n        assertEquals(expectedArrays[i],actualInitials[i]);\n    }\n\n}\n\n</code></pre>\n<p>My problem is line 2 of the test, everything else works except for this, to be honest I am not sure what this is even ment to be testing.</p>\n<p>Thanks for the help.</p>\n<p>I have not tried anything yet seeing as though I don't even know what is being tested in line 2.</p>\n"},{"tags":["java","postgresql","spring-data-jpa","dto"],"answers":[{"tags":[],"owner":{"account_id":7146897,"reputation":1723,"user_id":5462308,"display_name":"RJ.Hwang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539308890,"creation_date":1539308890,"answer_id":52771096,"question_id":52767529,"body_markdown":"Use spring data projection:\r\n\r\n    public interface YourDto {\r\n      // all Mentor get fields\r\n      String getFirstName();\r\n      ...\r\n      // activeStudents get field\r\n      Integer getActiveStudents();\r\n    }\r\n\r\n    public interface YourRepository extends JpaRepository&lt;YourEntity, Integer&gt; {\r\n      @Query(value = &quot;select ...(all fields match YourDto) from Mentor m, MentorStudents s where m.id = s.mentorId and m.id = ?1&quot;)\r\n      Optional&lt;YourDto&gt; findMyDto(Integer mentorId);\r\n    }","title":"Mapping a database view entity with a simple entity and pass to DTO using Spring Data","body":"<p>Use spring data projection:</p>\n\n<pre><code>public interface YourDto {\n  // all Mentor get fields\n  String getFirstName();\n  ...\n  // activeStudents get field\n  Integer getActiveStudents();\n}\n\npublic interface YourRepository extends JpaRepository&lt;YourEntity, Integer&gt; {\n  @Query(value = \"select ...(all fields match YourDto) from Mentor m, MentorStudents s where m.id = s.mentorId and m.id = ?1\")\n  Optional&lt;YourDto&gt; findMyDto(Integer mentorId);\n}\n</code></pre>\n"}],"owner":{"account_id":9652329,"reputation":53,"user_id":7163059,"display_name":"lutsik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52771096,"answer_count":1,"score":2,"last_activity_date":1671472660,"creation_date":1539285961,"question_id":52767529,"body_markdown":"I&#39;m just learning Spring Data. I want to map a database view Entity with a simple Entity and pass to DTO which will contain columns both entities. I understand that I can use a special database view but I need to map precisely entities of Spring Data.\r\n\r\nI have a database view Entity &quot;MentorStudents&quot;:\r\n\r\n    @Entity\r\n    @Table(name = &quot;mentor_students&quot;)\r\n    @Immutable\r\n    public class MentorStudents implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;mentor_id&quot;, updatable = false, nullable = false)\r\n        private Long mentorId;\r\n    \r\n        //This entity I need to map\r\n        private Mentor mentor;\r\n    \r\n        @Column(name = &quot;active_students&quot;)\r\n        private Integer activeStudents;\r\n    \r\n        public MentorStudents() {\r\n        }\r\n    \r\n        //getters, setters, equals, hashCode\r\n    }\r\nA database view sql of an above entity is:\r\n\r\n    SELECT id AS mentor_id, active_students\r\n       FROM mentor\r\n    LEFT JOIN ( SELECT mentor_id, count(mentor_id) AS active_students\r\n       FROM contract\r\n       WHERE close_type IS NULL\r\n       GROUP BY mentor_id) active ON mentor.id = active.mentor_id\r\n    ORDER BY mentor.id;\r\n\r\nAnd I have a simple Entity &quot;Mentor&quot;:\r\n\r\n    @Entity\r\n    @Table(name = &quot;mentor&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class Mentor implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;first_name&quot;, nullable = false)\r\n        private String firstName;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;last_name&quot;, nullable = false)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;patronymic&quot;)\r\n        private String patronymic;\r\n    \r\n        @Column(name = &quot;phone&quot;)\r\n        private String phone;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;email&quot;, nullable = false)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;skype&quot;)\r\n        private String skype;\r\n    \r\n        @Column(name = &quot;country&quot;)\r\n        private String country;\r\n    \r\n        @Column(name = &quot;city&quot;)\r\n        private String city;\r\n    \r\n        @Column(name = &quot;max_students&quot;)\r\n        private Long maxStudents;\r\n\r\n        //getters, setters, equals, hashCode\r\n\r\nI have to get a DTO which contains all Mentor fields and an &quot;activeStudents&quot; MentorStudents field without a &quot;mentorId&quot; field. How do it?","title":"Mapping a database view entity with a simple entity and pass to DTO using Spring Data","body":"<p>I'm just learning Spring Data. I want to map a database view Entity with a simple Entity and pass to DTO which will contain columns both entities. I understand that I can use a special database view but I need to map precisely entities of Spring Data.</p>\n<p>I have a database view Entity &quot;MentorStudents&quot;:</p>\n<pre><code>@Entity\n@Table(name = &quot;mentor_students&quot;)\n@Immutable\npublic class MentorStudents implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;mentor_id&quot;, updatable = false, nullable = false)\n    private Long mentorId;\n\n    //This entity I need to map\n    private Mentor mentor;\n\n    @Column(name = &quot;active_students&quot;)\n    private Integer activeStudents;\n\n    public MentorStudents() {\n    }\n\n    //getters, setters, equals, hashCode\n}\n</code></pre>\n<p>A database view sql of an above entity is:</p>\n<pre><code>SELECT id AS mentor_id, active_students\n   FROM mentor\nLEFT JOIN ( SELECT mentor_id, count(mentor_id) AS active_students\n   FROM contract\n   WHERE close_type IS NULL\n   GROUP BY mentor_id) active ON mentor.id = active.mentor_id\nORDER BY mentor.id;\n</code></pre>\n<p>And I have a simple Entity &quot;Mentor&quot;:</p>\n<pre><code>@Entity\n@Table(name = &quot;mentor&quot;)\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Mentor implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @NotNull\n    @Column(name = &quot;last_name&quot;, nullable = false)\n    private String lastName;\n\n    @Column(name = &quot;patronymic&quot;)\n    private String patronymic;\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n\n    @NotNull\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name = &quot;skype&quot;)\n    private String skype;\n\n    @Column(name = &quot;country&quot;)\n    private String country;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n\n    @Column(name = &quot;max_students&quot;)\n    private Long maxStudents;\n\n    //getters, setters, equals, hashCode\n</code></pre>\n<p>I have to get a DTO which contains all Mentor fields and an &quot;activeStudents&quot; MentorStudents field without a &quot;mentorId&quot; field. How do it?</p>\n"},{"tags":["java","spring-boot","swagger"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671456542,"post_id":74851190,"comment_id":132096446,"body_markdown":"Separate your response and request classes rather than hide part of your api","body":"Separate your response and request classes rather than hide part of your api"}],"answers":[{"tags":[],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671472184,"creation_date":1671472184,"answer_id":74854155,"question_id":74851190,"body_markdown":"For me, ApiModelProperty and ApiParam didn&#39;t exist. I found the solution on [documentation](https://springdoc.org/#migrating-from-springfox). The solution is as below;\r\n\r\n    public class Student {\r\n         @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n         private Long id;\r\n    }\r\n\r\n\r\nAlso thanks to @Waled Ahmad","title":"How can hide some parameter from swagger spring boot?","body":"<p>For me, ApiModelProperty and ApiParam didn't exist. I found the solution on <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">documentation</a>. The solution is as below;</p>\n<pre><code>public class Student {\n     @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n     private Long id;\n}\n</code></pre>\n<p>Also thanks to @Waled Ahmad</p>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74854155,"answer_count":1,"score":0,"last_activity_date":1671472184,"creation_date":1671456379,"question_id":74851190,"body_markdown":"I have a Student class and I need `id`, `name`, `email`, `dob`, `age` parameters. These parameters are shown on swagger as below.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EGvB9.png)](https://i.stack.imgur.com/EGvB9.png)\r\n\r\nI do not want id appear on the swagger documentation. How can I do that?\r\n\r\nI have tried\r\n- @Schema(hidden = true)\r\n- @Parameter(hidden = true)\r\nBut didn&#39;t worked\r\n\r\nI want to see only below parameters on swagger\r\n```\r\n{\r\n  &quot;name&quot;: &quot;string&quot;,\r\n  &quot;email&quot;: &quot;string&quot;,\r\n  &quot;dob&quot;: &quot;2022-12-19&quot;,\r\n  &quot;age&quot;: 0\r\n}\r\n```\r\nCan anyone help me about that, please?\r\n","title":"How can hide some parameter from swagger spring boot?","body":"<p>I have a Student class and I need <code>id</code>, <code>name</code>, <code>email</code>, <code>dob</code>, <code>age</code> parameters. These parameters are shown on swagger as below.</p>\n<p><a href=\"https://i.stack.imgur.com/EGvB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGvB9.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not want id appear on the swagger documentation. How can I do that?</p>\n<p>I have tried</p>\n<ul>\n<li>@Schema(hidden = true)</li>\n<li>@Parameter(hidden = true)\nBut didn't worked</li>\n</ul>\n<p>I want to see only below parameters on swagger</p>\n<pre><code>{\n  &quot;name&quot;: &quot;string&quot;,\n  &quot;email&quot;: &quot;string&quot;,\n  &quot;dob&quot;: &quot;2022-12-19&quot;,\n  &quot;age&quot;: 0\n}\n</code></pre>\n<p>Can anyone help me about that, please?</p>\n"},{"tags":["java","android","string"],"comments":[{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1579074969,"post_id":59747035,"comment_id":105641178,"body_markdown":"Did you setup or select a JDK?","body":"Did you setup or select a JDK?"},{"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"score":3,"creation_date":1579074972,"post_id":59747035,"comment_id":105641180,"body_markdown":"Does this answer your question? [Android Studio &quot;cannot resolve symbol String&quot;](https://stackoverflow.com/questions/23445233/android-studio-cannot-resolve-symbol-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23445233/android-studio-cannot-resolve-symbol-string\">Android Studio &quot;cannot resolve symbol String&quot;</a>"},{"owner":{"account_id":17532159,"reputation":21,"user_id":12715969,"display_name":"Fredyka Maulana"},"score":0,"creation_date":1579075103,"post_id":59747035,"comment_id":105641241,"body_markdown":"@Glains yes i did","body":"@Glains yes i did"},{"owner":{"account_id":17532159,"reputation":21,"user_id":12715969,"display_name":"Fredyka Maulana"},"score":0,"creation_date":1579075250,"post_id":59747035,"comment_id":105641306,"body_markdown":"@Md.Asaduzzaman i already to try invalidate and restart, but can&#39;t resolve teh problem","body":"@Md.Asaduzzaman i already to try invalidate and restart, but can&#39;t resolve teh problem"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":2,"creation_date":1579080964,"post_id":59747035,"comment_id":105643881,"body_markdown":"what about building? can you build the project with this error? if you can, the problem is with your IDE and you need to remove the IDE and all its configurations and install it again","body":"what about building? can you build the project with this error? if you can, the problem is with your IDE and you need to remove the IDE and all its configurations and install it again"},{"owner":{"account_id":17532159,"reputation":21,"user_id":12715969,"display_name":"Fredyka Maulana"},"score":0,"creation_date":1579082261,"post_id":59747035,"comment_id":105644478,"body_markdown":"@mohsen when i try build this project the result is complete successfully. it&#39;s mean your prediction maybe all right. and thanks for your advice","body":"@mohsen when i try build this project the result is complete successfully. it&#39;s mean your prediction maybe all right. and thanks for your advice"},{"owner":{"account_id":16257521,"reputation":1281,"user_id":11739833,"display_name":"Mohsen"},"score":0,"creation_date":1579082954,"post_id":59747035,"comment_id":105644811,"body_markdown":"you&#39;re welcome, check this out [how-to-completely-uninstall-android-studio-from-windows](https://stackoverflow.com/questions/39953495/how-to-completely-uninstall-android-studio-from-windowsv10)","body":"you&#39;re welcome, check this out <a href=\"https://stackoverflow.com/questions/39953495/how-to-completely-uninstall-android-studio-from-windowsv10\">how-to-completely-uninstall-android-studio-from-windows</a>"},{"owner":{"account_id":8217776,"reputation":2027,"user_id":6183464,"display_name":"Rishab Surana"},"score":0,"creation_date":1655965141,"post_id":59747035,"comment_id":128457618,"body_markdown":"You can try by selecting the menu item File and click on Invalidate Caches/Restart\n\nThis solution will work for some of the users not all","body":"You can try by selecting the menu item File and click on Invalidate Caches/Restart  This solution will work for some of the users not all"}],"answers":[{"tags":[],"owner":{"account_id":14112254,"reputation":1,"user_id":10194765,"display_name":"Vetrivel Muthusamy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1633375408,"creation_date":1633375408,"answer_id":69441332,"question_id":59747035,"body_markdown":"Project Structure &gt; Set proper JDK available version. The issue will be indexed.","title":"Cannot resolve symbol &#39;String&#39;","body":"<p>Project Structure &gt; Set proper JDK available version. The issue will be indexed.</p>\n"},{"tags":[],"owner":{"account_id":21932092,"reputation":119,"user_id":16213903,"display_name":"Vidhya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671472156,"creation_date":1671472156,"answer_id":74854151,"question_id":59747035,"body_markdown":"It worked for me when I selected the correct JDK in Project Structure &lt;pic&gt; and Reloaded the project from disk (right click &amp; the reload option is present)\r\n1. File &gt; Project Structure\r\n2. Select JDK , Apply and OK\r\n3. Right click on project &amp; the reload from disk\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2e5ER.png","title":"Cannot resolve symbol &#39;String&#39;","body":"<p>It worked for me when I selected the correct JDK in Project Structure  and Reloaded the project from disk (right click &amp; the reload option is present)</p>\n<ol>\n<li>File &gt; Project Structure</li>\n<li>Select JDK , Apply and OK</li>\n<li>Right click on project &amp; the reload from disk\n<a href=\"https://i.stack.imgur.com/2e5ER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2e5ER.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"}],"owner":{"account_id":17532159,"reputation":21,"user_id":12715969,"display_name":"Fredyka Maulana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1840,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1671472156,"creation_date":1579074643,"question_id":59747035,"body_markdown":"Why can&#39;t I use &#39;String&#39; object in a Java class? It does not appear in the code suggestions.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am getting this error: Cannot resolve symbol &#39;String&#39;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78VS7.png\r\n  [2]: https://i.stack.imgur.com/r1lyq.png","title":"Cannot resolve symbol &#39;String&#39;","body":"<p>Why can't I use 'String' object in a Java class? It does not appear in the code suggestions.</p>\n\n<p><a href=\"https://i.stack.imgur.com/78VS7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78VS7.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am getting this error: Cannot resolve symbol 'String'</p>\n\n<p><a href=\"https://i.stack.imgur.com/r1lyq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1lyq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","multithreading","fork-join","atomicinteger"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671471879,"creation_date":1671471879,"answer_id":74854104,"question_id":74853767,"body_markdown":"You have an off-by-one error.  In your `for` loop, you are not counting the value of `right`, so if e.g. `left` is 101 and `right` is 150, you increment only 49 times.\r\n\r\nThe value I consistently get is `9868929`, because you must be splitting the task into separate `ForkJoinTask`s `10000001` - `9868929`, or `131072`, or 2&lt;sup&gt;17&lt;/sup&gt;, which makes sense as a power of 2 based on your algorithm.\r\n\r\nChange\r\n\r\n    for(int i = left; i &lt; right; i++) {\r\n\r\nto\r\n\r\n    for(int i = left; i &lt;= right; i++) {\r\n\r\nand you&#39;ll get `10000001`, and if you want `10000000`, start with `1` instead of `0`.\r\n\r\nThere&#39;s nothing wrong with losing tasks or the consistency of `AtomicLong`; you just had an off-by-one error.\r\n","title":"ForkJoinFramework with AtomicLong is not giving consistent result","body":"<p>You have an off-by-one error.  In your <code>for</code> loop, you are not counting the value of <code>right</code>, so if e.g. <code>left</code> is 101 and <code>right</code> is 150, you increment only 49 times.</p>\n<p>The value I consistently get is <code>9868929</code>, because you must be splitting the task into separate <code>ForkJoinTask</code>s <code>10000001</code> - <code>9868929</code>, or <code>131072</code>, or 2<sup>17</sup>, which makes sense as a power of 2 based on your algorithm.</p>\n<p>Change</p>\n<pre><code>for(int i = left; i &lt; right; i++) {\n</code></pre>\n<p>to</p>\n<pre><code>for(int i = left; i &lt;= right; i++) {\n</code></pre>\n<p>and you'll get <code>10000001</code>, and if you want <code>10000000</code>, start with <code>1</code> instead of <code>0</code>.</p>\n<p>There's nothing wrong with losing tasks or the consistency of <code>AtomicLong</code>; you just had an off-by-one error.</p>\n"}],"owner":{"account_id":18312240,"reputation":25,"user_id":13334811,"display_name":"Kyle Yuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74854104,"answer_count":1,"score":1,"last_activity_date":1671471879,"creation_date":1671469941,"question_id":74853767,"body_markdown":"I&#39;m trying to play with ForkJoinFramework. I know that my code might not be a good use case to use ForkJoin, but it should work at least.. \r\n\r\nI&#39;m using RecursiveAction to concurrently modify a static AtomicLong variable. But I&#39;m having some issues there, the result is not correct and not consistent.(Everytime I run it, the result is different). \r\n\r\nI&#39;m assuming AtomicLong is thread-safe, so the only thing that might be a reason would be some tasks are lost. But why? \r\n\r\n`\r\n```\r\npublic class ForkJoinFramework {\r\n\r\n\tprivate static AtomicLong sum = new AtomicLong(0);\r\n\tstatic class MyTask extends RecursiveAction {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\tint left;\r\n\t\tint right;\r\n\t\tMyTask(int left, int right) {\r\n\t\t\tthis.left = left;\r\n\t\t\tthis.right = right;\r\n\t\t}\r\n\t\t@Override\r\n\t\tprotected void compute() {\r\n\t\t\tif(right - left &lt; 100) {\r\n\t\t\t\tfor(int i = left; i &lt; right; i++) {\r\n\t\t\t\t\tsum.getAndIncrement();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tForkJoinTask&lt;Void&gt; leftTask = new MyTask(left, left + (right - left) / 2).fork();\r\n\t\t\t\tForkJoinTask&lt;Void&gt; rightTask = new MyTask(left + (right - left) / 2 + 1, right).fork();\r\n\t\t\t\tleftTask.join();\r\n\t\t\t\trightTask.join();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tMyTask myTask = new MyTask(0, 10000000);\r\n\t\tmyTask.compute();\r\n\t\tSystem.out.println(&quot;Sum is: &quot; + sum.get());\r\n\t}\r\n}\r\n```\r\n`","title":"ForkJoinFramework with AtomicLong is not giving consistent result","body":"<p>I'm trying to play with ForkJoinFramework. I know that my code might not be a good use case to use ForkJoin, but it should work at least..</p>\n<p>I'm using RecursiveAction to concurrently modify a static AtomicLong variable. But I'm having some issues there, the result is not correct and not consistent.(Everytime I run it, the result is different).</p>\n<p>I'm assuming AtomicLong is thread-safe, so the only thing that might be a reason would be some tasks are lost. But why?</p>\n<p>`</p>\n<pre><code>public class ForkJoinFramework {\n\n    private static AtomicLong sum = new AtomicLong(0);\n    static class MyTask extends RecursiveAction {\n        private static final long serialVersionUID = 1L;\n        int left;\n        int right;\n        MyTask(int left, int right) {\n            this.left = left;\n            this.right = right;\n        }\n        @Override\n        protected void compute() {\n            if(right - left &lt; 100) {\n                for(int i = left; i &lt; right; i++) {\n                    sum.getAndIncrement();\n                }\n            } else {\n                ForkJoinTask&lt;Void&gt; leftTask = new MyTask(left, left + (right - left) / 2).fork();\n                ForkJoinTask&lt;Void&gt; rightTask = new MyTask(left + (right - left) / 2 + 1, right).fork();\n                leftTask.join();\n                rightTask.join();\n            }\n        }\n    }\n    \n    public static void main(String[] args) {\n        MyTask myTask = new MyTask(0, 10000000);\n        myTask.compute();\n        System.out.println(&quot;Sum is: &quot; + sum.get());\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","multithreading","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1671469705,"post_id":74851685,"comment_id":132101066,"body_markdown":"Upload the code directly instead of a screenshot pls.","body":"Upload the code directly instead of a screenshot pls."},{"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"score":0,"creation_date":1671471142,"post_id":74851685,"comment_id":132101581,"body_markdown":"uploaded the code.","body":"uploaded the code."}],"answers":[{"tags":[],"owner":{"account_id":17279025,"reputation":1,"user_id":12513041,"display_name":"Carlos Zambrano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671460095,"creation_date":1671459691,"answer_id":74851771,"question_id":74851685,"body_markdown":"Try putting a name, it works for me like this\r\n\r\n`@Async(&quot;ThreadPoolTaskExecutor&quot;)`\r\n\r\nIn SprintBootApplication put the following\r\n\r\n`@EnableAsync`\r\n\r\nand then \r\n\r\n```\r\n@Bean(&quot;ThreadPoolTaskExecutor&quot;)\r\n  public TaskExecutor getAsyncExecutor() {\r\n    final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(100);\r\n    executor.setMaxPoolSize(200);\r\n    executor.setQueueCapacity(30);\r\n    executor.setWaitForTasksToCompleteOnShutdown(true);\r\n    executor.setThreadNamePrefix(&quot;Async-&quot;);\r\n    executor.setTaskDecorator(new APMTaskDecorator());\r\n    return executor;\r\n  }\r\n```\r\n\r\n\r\n","title":"How to add Asynchronous execution in spring boot application?","body":"<p>Try putting a name, it works for me like this</p>\n<p><code>@Async(&quot;ThreadPoolTaskExecutor&quot;)</code></p>\n<p>In SprintBootApplication put the following</p>\n<p><code>@EnableAsync</code></p>\n<p>and then</p>\n<pre><code>@Bean(&quot;ThreadPoolTaskExecutor&quot;)\n  public TaskExecutor getAsyncExecutor() {\n    final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(100);\n    executor.setMaxPoolSize(200);\n    executor.setQueueCapacity(30);\n    executor.setWaitForTasksToCompleteOnShutdown(true);\n    executor.setThreadNamePrefix(&quot;Async-&quot;);\n    executor.setTaskDecorator(new APMTaskDecorator());\n    return executor;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671461373,"creation_date":1671460033,"answer_id":74851822,"question_id":74851685,"body_markdown":"If you use `@Async` and `@Scheduled` in same class the async methods are still executed synchronously.\r\n`@Async` generates a proxy class which encapsulated the original method. So `@Async` works only if you invoke the method externally. Hence the `@Scheduled` on the same class is still executed synchronously.\r\n\r\nThe simpliest solution would be to move the `@Scheduled` methods to a sperate class.\r\n\r\n```java\r\n@Service\r\npublic class ItemService {\r\n    @Async\r\n    public void saveAndSend() {\r\n\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\npublic class ItemSchedulerService {\r\n\r\n    private final ItemService itemService;\r\n\r\n    public ItemSchedulerService(ItemService itemService) {\r\n        this.itemService = itemService;\r\n    }\r\n\r\n    @Scheduled(&quot;...&quot;)\r\n    public void schedule() {\r\n        itemService.saveAndSend();\r\n    }\r\n}\r\n```","title":"How to add Asynchronous execution in spring boot application?","body":"<p>If you use <code>@Async</code> and <code>@Scheduled</code> in same class the async methods are still executed synchronously.\n<code>@Async</code> generates a proxy class which encapsulated the original method. So <code>@Async</code> works only if you invoke the method externally. Hence the <code>@Scheduled</code> on the same class is still executed synchronously.</p>\n<p>The simpliest solution would be to move the <code>@Scheduled</code> methods to a sperate class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ItemService {\n    @Async\n    public void saveAndSend() {\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ItemSchedulerService {\n\n    private final ItemService itemService;\n\n    public ItemSchedulerService(ItemService itemService) {\n        this.itemService = itemService;\n    }\n\n    @Scheduled(&quot;...&quot;)\n    public void schedule() {\n        itemService.saveAndSend();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671471105,"creation_date":1671459264,"question_id":74851685,"body_markdown":"In my spring boot application, There is one scheduler class which execute in every 30 mins and fetch around 20000 records and then insert record one by one in database and then convert that inserted record in XML and send to client. But this process takes too much time to completed 20000 records and records is increasing day by day.\r\n\r\n\r\n**So now, We have to implement asynchronous execution programming in this code so that multiple threads can perform operation instead of one by one records. For example : There are 4 threads and list of item size is 6 then thread_1 will take (0) index object to perform, thread_2 will take (1) index object to perform, thread_3 will take (2) index object to perform, thread_4 will take (3) index object to perform, thread_1 will take (4) index object to perform, thread_2 will take (5) index object to perform**   \r\n\r\nSomething like that\r\n\r\n**For this case, How to implement asynchronous execution**\r\n\r\n\r\n\r\n\r\n    @Service\r\n    class ItemService \r\n    {\r\n        @autowired\r\n        private DemoDao dao;\r\n        \r\n        @Scheduled(fixedRate=30000)\r\n        public void scheduler(){\r\n            try {\r\n             List&lt;Item&gt; itemList = dao.getItems();\r\n             saveAndSend(itemList);\r\n            } catch(Exception e) {\r\n                e.printStack();\r\n            }\r\n        }\r\n        \r\n        public void saveAndSend(List&lt;Item&gt; itemList) throws Exception {\r\n            \r\n            for(int i = 0; i &lt; itemList.size(); i++){\r\n                if(itemList.get(i).isDone){\r\n                    dao.save(itemList.get(i));\r\n                    int flag = convertInXMLAndSendToTeam(itemList.get(i));\r\n                    if(flag == 1){\r\n                        dao.audit(itemList.get(i), &quot;XEQ&quot;);\r\n                    }\r\n                }\r\n            }  \r\n        }\r\n    }\r\n\r\n\r\nPlease help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vLUoQ.png","title":"How to add Asynchronous execution in spring boot application?","body":"<p>In my spring boot application, There is one scheduler class which execute in every 30 mins and fetch around 20000 records and then insert record one by one in database and then convert that inserted record in XML and send to client. But this process takes too much time to completed 20000 records and records is increasing day by day.</p>\n<p><strong>So now, We have to implement asynchronous execution programming in this code so that multiple threads can perform operation instead of one by one records. For example : There are 4 threads and list of item size is 6 then thread_1 will take (0) index object to perform, thread_2 will take (1) index object to perform, thread_3 will take (2) index object to perform, thread_4 will take (3) index object to perform, thread_1 will take (4) index object to perform, thread_2 will take (5) index object to perform</strong></p>\n<p>Something like that</p>\n<p><strong>For this case, How to implement asynchronous execution</strong></p>\n<pre><code>@Service\nclass ItemService \n{\n    @autowired\n    private DemoDao dao;\n    \n    @Scheduled(fixedRate=30000)\n    public void scheduler(){\n        try {\n         List&lt;Item&gt; itemList = dao.getItems();\n         saveAndSend(itemList);\n        } catch(Exception e) {\n            e.printStack();\n        }\n    }\n    \n    public void saveAndSend(List&lt;Item&gt; itemList) throws Exception {\n        \n        for(int i = 0; i &lt; itemList.size(); i++){\n            if(itemList.get(i).isDone){\n                dao.save(itemList.get(i));\n                int flag = convertInXMLAndSendToTeam(itemList.get(i));\n                if(flag == 1){\n                    dao.audit(itemList.get(i), &quot;XEQ&quot;);\n                }\n            }\n        }  \n    }\n}\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671471079,"creation_date":1671471079,"answer_id":74853978,"question_id":74853452,"body_markdown":"You&#39;re not importing any of the FirebaseUI classes into your Java file yet, so they can&#39;t be found.\r\n\r\nTo be able to use [`FirebaseRecyclerOptions`](https://github.com/firebase/FirebaseUI-Android/blob/master/database/src/main/java/com/firebase/ui/database/FirebaseRecyclerOptions.java), include:\r\n```\r\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\r\n```\r\n\r\nYou&#39;ll need to do the same for other classes from FirebaseUI that you use.","title":"Can&#39;t resolve Symbol &#39;FirebaseRecyclerOptions&lt;&gt;&#39;","body":"<p>You're not importing any of the FirebaseUI classes into your Java file yet, so they can't be found.</p>\n<p>To be able to use <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/database/src/main/java/com/firebase/ui/database/FirebaseRecyclerOptions.java\" rel=\"nofollow noreferrer\"><code>FirebaseRecyclerOptions</code></a>, include:</p>\n<pre><code>import com.firebase.ui.database.FirebaseRecyclerOptions;\n</code></pre>\n<p>You'll need to do the same for other classes from FirebaseUI that you use.</p>\n"}],"owner":{"account_id":24713328,"reputation":3,"user_id":18603285,"display_name":"Aman Dhuliya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74853978,"answer_count":1,"score":0,"last_activity_date":1671471079,"creation_date":1671468236,"question_id":74853452,"body_markdown":"I am making an expense manager via firebase but  my Android Studio 2021.3 cannot resolve the symbol of FirebaseRecyclerOptions&lt;&gt; even my app is successfully connected with Firebase and configured correctly to Firebase Realtime Database.\r\n\r\nSeems build.gradle dependencies are synchronized and OK. I need someone&#39;s help. \r\n\r\n```\r\npackage com.example.budgetingapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.Months;\r\nimport org.joda.time.MutableDateTime;\r\n\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.zip.DataFormatException;\r\n\r\npublic class BudgetActivity extends AppCompatActivity {\r\n\r\n    private TextView totalBudgetAmountTextView;\r\n    private RecyclerView recyclerView;\r\n\r\n    private FloatingActionButton fab;\r\n\r\n    private DatabaseReference budgetRef;\r\n\r\n    private FirebaseAuth mAuth;\r\n    private ProgressDialog loader;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_budget);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        budgetRef = FirebaseDatabase.getInstance().getReference().child(&quot;budget&quot;).child(mAuth.getCurrentUser().getUid());\r\n        loader = new ProgressDialog(this);\r\n\r\n        totalBudgetAmountTextView = findViewById(R.id.totalBudgetAmountTextView);\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        linearLayoutManager.setReverseLayout(true);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        fab = findViewById(R.id.fab);\r\n\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                additem();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void additem() {\r\n        AlertDialog.Builder myDialog = new AlertDialog.Builder(this);\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View myView = inflater.inflate(R.layout.input_layout,null);\r\n        myDialog.setView(myView);\r\n\r\n        final AlertDialog dialog =  myDialog.create();\r\n        dialog.setCancelable(false);\r\n\r\n        final Spinner itemSpinner = myView.findViewById(R.id.itemSpinner);\r\n        final EditText amount = myView.findViewById(R.id.amount);\r\n        final Button cancel = myView.findViewById(R.id.cancel);\r\n        final  Button save = myView.findViewById(R.id.save);\r\n\r\n        save.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String budgetAmount = amount.getText().toString();\r\n                String budgetItem = itemSpinner.getSelectedItem().toString();\r\n\r\n                if(TextUtils.isEmpty(budgetAmount)){\r\n                    amount.setError(&quot;Amount is required!&quot;);\r\n                    return;\r\n                }\r\n\r\n                if(budgetItem.equals(&quot;Select Item&quot;)){\r\n                    Toast.makeText(BudgetActivity.this, &quot;Select a valid item&quot;, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    loader.setMessage(&quot;adding a budget item&quot;);\r\n                    loader.setCanceledOnTouchOutside(false);\r\n                    loader.show();\r\n\r\n                    String id = budgetRef.push().getKey();\r\n                    DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                    Calendar cal = Calendar.getInstance();\r\n                    String date = dateFormat.format(cal.getTime());\r\n\r\n                    MutableDateTime epoch= new MutableDateTime();\r\n                    epoch.setDate(0);\r\n                    DateTime now = new DateTime();\r\n                    Months months = Months.monthsBetween(epoch,now);\r\n\r\n                    Data data = new Data(budgetItem,date,id,null,Integer.parseInt(budgetAmount),months.getMonths());\r\n                    budgetRef.child(id).setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                Toast.makeText(BudgetActivity.this, &quot;Budget item added successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                            }else{\r\n                                Toast.makeText(BudgetActivity.this, task.getException().toString(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            loader.dismiss();\r\n                        }\r\n                    });\r\n                }\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n        cancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n\r\n        dialog.show();\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        FirebaseRecyclerOptions&lt;Data&gt; options = new FirebaseRecyclerOptions.Builder&lt;Data&gt;()\r\n                .setQuery(budgetRef, Data.class)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n2. Below is build.gradle\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.1.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;joda-time:joda-time:2.10.6&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:6.4.0&#39;\r\n\r\n}\r\n```","title":"Can&#39;t resolve Symbol &#39;FirebaseRecyclerOptions&lt;&gt;&#39;","body":"<p>I am making an expense manager via firebase but  my Android Studio 2021.3 cannot resolve the symbol of FirebaseRecyclerOptions&lt;&gt; even my app is successfully connected with Firebase and configured correctly to Firebase Realtime Database.</p>\n<p>Seems build.gradle dependencies are synchronized and OK. I need someone's help.</p>\n<pre><code>package com.example.budgetingapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.Months;\nimport org.joda.time.MutableDateTime;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.zip.DataFormatException;\n\npublic class BudgetActivity extends AppCompatActivity {\n\n    private TextView totalBudgetAmountTextView;\n    private RecyclerView recyclerView;\n\n    private FloatingActionButton fab;\n\n    private DatabaseReference budgetRef;\n\n    private FirebaseAuth mAuth;\n    private ProgressDialog loader;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_budget);\n\n        mAuth = FirebaseAuth.getInstance();\n        budgetRef = FirebaseDatabase.getInstance().getReference().child(&quot;budget&quot;).child(mAuth.getCurrentUser().getUid());\n        loader = new ProgressDialog(this);\n\n        totalBudgetAmountTextView = findViewById(R.id.totalBudgetAmountTextView);\n        recyclerView = findViewById(R.id.recyclerView);\n\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n        linearLayoutManager.setStackFromEnd(true);\n        linearLayoutManager.setReverseLayout(true);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(linearLayoutManager);\n\n        fab = findViewById(R.id.fab);\n\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                additem();\n            }\n        });\n    }\n\n    private void additem() {\n        AlertDialog.Builder myDialog = new AlertDialog.Builder(this);\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View myView = inflater.inflate(R.layout.input_layout,null);\n        myDialog.setView(myView);\n\n        final AlertDialog dialog =  myDialog.create();\n        dialog.setCancelable(false);\n\n        final Spinner itemSpinner = myView.findViewById(R.id.itemSpinner);\n        final EditText amount = myView.findViewById(R.id.amount);\n        final Button cancel = myView.findViewById(R.id.cancel);\n        final  Button save = myView.findViewById(R.id.save);\n\n        save.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String budgetAmount = amount.getText().toString();\n                String budgetItem = itemSpinner.getSelectedItem().toString();\n\n                if(TextUtils.isEmpty(budgetAmount)){\n                    amount.setError(&quot;Amount is required!&quot;);\n                    return;\n                }\n\n                if(budgetItem.equals(&quot;Select Item&quot;)){\n                    Toast.makeText(BudgetActivity.this, &quot;Select a valid item&quot;, Toast.LENGTH_SHORT).show();\n                }else{\n                    loader.setMessage(&quot;adding a budget item&quot;);\n                    loader.setCanceledOnTouchOutside(false);\n                    loader.show();\n\n                    String id = budgetRef.push().getKey();\n                    DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n                    Calendar cal = Calendar.getInstance();\n                    String date = dateFormat.format(cal.getTime());\n\n                    MutableDateTime epoch= new MutableDateTime();\n                    epoch.setDate(0);\n                    DateTime now = new DateTime();\n                    Months months = Months.monthsBetween(epoch,now);\n\n                    Data data = new Data(budgetItem,date,id,null,Integer.parseInt(budgetAmount),months.getMonths());\n                    budgetRef.child(id).setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if(task.isSuccessful()){\n                                Toast.makeText(BudgetActivity.this, &quot;Budget item added successfully.&quot;, Toast.LENGTH_SHORT).show();\n                            }else{\n                                Toast.makeText(BudgetActivity.this, task.getException().toString(), Toast.LENGTH_SHORT).show();\n                            }\n                            loader.dismiss();\n                        }\n                    });\n                }\n                dialog.dismiss();\n            }\n        });\n\n        cancel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                dialog.dismiss();\n            }\n        });\n\n\n        dialog.show();\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        FirebaseRecyclerOptions&lt;Data&gt; options = new FirebaseRecyclerOptions.Builder&lt;Data&gt;()\n                .setQuery(budgetRef, Data.class)\n                .build();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Below is build.gradle</li>\n</ol>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation platform('com.google.firebase:firebase-bom:31.1.1')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'joda-time:joda-time:2.10.6'\n    implementation 'com.firebaseui:firebase-ui-database:6.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","kotlin"],"comments":[{"owner":{"account_id":5511926,"reputation":4211,"user_id":4377954,"display_name":"Deˣ"},"score":0,"creation_date":1560951372,"post_id":56668934,"comment_id":99905628,"body_markdown":"Share your xml layout","body":"Share your xml layout"},{"owner":{"account_id":2256266,"reputation":3931,"user_id":1987392,"accept_rate":100,"display_name":"user1987392"},"score":0,"creation_date":1595528775,"post_id":56668934,"comment_id":111514492,"body_markdown":"Did you solve this? 0-arg constructor did not help me at all. For me it looks like it&#39;s Proguard. Check my answer below.","body":"Did you solve this? 0-arg constructor did not help me at all. For me it looks like it&#39;s Proguard. Check my answer below."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1560952902,"creation_date":1560952902,"answer_id":56669540,"question_id":56668934,"body_markdown":"The activity is being restored from an instance state bundle. Part of the restore operation is recreating its fragments.\r\n\r\nYour activity has a fragment and the fragment class does not have a 0-arg constructor required by the framework.","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>The activity is being restored from an instance state bundle. Part of the restore operation is recreating its fragments.</p>\n\n<p>Your activity has a fragment and the fragment class does not have a 0-arg constructor required by the framework.</p>\n"},{"tags":[],"owner":{"account_id":369920,"reputation":18758,"user_id":717559,"accept_rate":92,"display_name":"Danpe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581928704,"creation_date":1581928704,"answer_id":60258592,"question_id":56668934,"body_markdown":"My Activity had a `FragmentPagerAdapter` that was using the deperecated constructor.\r\nI changed \r\n```\r\nclass MyPagerAdapter(\r\n        fragmentManager: FragmentManager,\r\n        private val myActivity: MyActivity\r\n    ) : FragmentPagerAdapter(fragmentManager) // DEPRECATED\r\n```\r\n\r\nto \r\n\r\n```\r\nclass MyPagerAdapter(\r\n        fragmentManager: FragmentManager,\r\n        private val myActivity: MyActivity\r\n    ) : FragmentPagerAdapter(fragmentManager, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT)\r\n```\r\n\r\nSeem to have fixed the problem","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>My Activity had a <code>FragmentPagerAdapter</code> that was using the deperecated constructor.\nI changed </p>\n\n<pre><code>class MyPagerAdapter(\n        fragmentManager: FragmentManager,\n        private val myActivity: MyActivity\n    ) : FragmentPagerAdapter(fragmentManager) // DEPRECATED\n</code></pre>\n\n<p>to </p>\n\n<pre><code>class MyPagerAdapter(\n        fragmentManager: FragmentManager,\n        private val myActivity: MyActivity\n    ) : FragmentPagerAdapter(fragmentManager, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT)\n</code></pre>\n\n<p>Seem to have fixed the problem</p>\n"},{"tags":[],"owner":{"account_id":2694096,"reputation":3360,"user_id":2326640,"display_name":"Zhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584096858,"creation_date":1584096858,"answer_id":60669163,"question_id":56668934,"body_markdown":"After some search i finally fix the issue. You have to check 3 things.\r\n\r\n 1. You should have a 0-arg constructor in the fragment, best practice is to do something like bellow\r\n 2. If you are using callback in the caller, you have to check if getContext is `null` or not (otherwise you will get a NullPointerException)\r\n 3. Don&#39;t forget to test the case when the screen orientation change, this will allow you to reproduce some potential issue due to restoring fragment state\r\n\r\nSample code example :\r\n\r\n \r\n\r\n        public class MyDialogFragment extends DialogFragment{\r\n         private String id;\r\n    \r\n         public static MyDialogFragment newInstance(String id) {\r\n            MyDialogFragment f = new MyDialogFragment ();\r\n    \r\n            Bundle args = new Bundle();\r\n            if(id!= null){\r\n                args.putString(&quot;id&quot;, id);\r\n            }\r\n            f.setArguments(args);\r\n    \r\n            return f;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if(savedInstanceState != null){\r\n                id= savedInstanceState.getString(&quot;id&quot;);\r\n            }\r\n        }\r\n        }\r\n\r\n\r\n\r\n","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>After some search i finally fix the issue. You have to check 3 things.</p>\n\n<ol>\n<li>You should have a 0-arg constructor in the fragment, best practice is to do something like bellow</li>\n<li>If you are using callback in the caller, you have to check if getContext is <code>null</code> or not (otherwise you will get a NullPointerException)</li>\n<li>Don't forget to test the case when the screen orientation change, this will allow you to reproduce some potential issue due to restoring fragment state</li>\n</ol>\n\n<p>Sample code example :</p>\n\n<pre><code>    public class MyDialogFragment extends DialogFragment{\n     private String id;\n\n     public static MyDialogFragment newInstance(String id) {\n        MyDialogFragment f = new MyDialogFragment ();\n\n        Bundle args = new Bundle();\n        if(id!= null){\n            args.putString(\"id\", id);\n        }\n        f.setArguments(args);\n\n        return f;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if(savedInstanceState != null){\n            id= savedInstanceState.getString(\"id\");\n        }\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2256266,"reputation":3931,"user_id":1987392,"accept_rate":100,"display_name":"user1987392"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1602488083,"creation_date":1595528675,"answer_id":63060778,"question_id":56668934,"body_markdown":"I&#39;m having the same issue. The other answers did not help.\r\n\r\nFor me, it looks like it is Proguard. That explains why it only happens in production/release builds and why I have been unable to reproduce it when debugging.\r\n\r\nIf you&#39;re having OP&#39;s issue, try the following: \r\n1) Build the obfuscated .apk. I used the signed one, that I publish to the app stores...\r\n2) Enable &quot;Don&#39;t Keep Activities&quot; in your device&#39;s developer options.\r\n3) Install the .apk in your device and open the Activity that crashes and contains the Fragment. \r\n4) Leave your app (Minimize / Home button / ...) and re-open it from the recent apps menu.\r\n\r\nDoes it crash? Then try it with the un-obfuscated debug build. If it doesn&#39;t then it&#39;s probably Proguard.\r\n\r\nTo fix it I did the following:\r\n1) Create a proguard-rules.pro file in your app module&#39;s root folder.\r\n2) Add -keep class * extends androidx.fragment.app.Fragment{} to that file.\r\n3) Then, in the app&#39;s build.gradle,\r\n\r\nadd:\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\nSee Yaroslav Mytkalyk&#39;s answer here: https://stackoverflow.com/questions/21562148/fragment-instantiation-crash, which helped me solve this, although it&#39;s a bit old and outdated by now (e.g. &quot;runProguard true&quot; is obsolete).\r\n\r\nAt least now it doesn&#39;t crash when I do the steps above.\r\n\r\n*PS: I did this in conjunction with adding the 0-arg constructors to my fragments, as mentioned in other answers, since that was my first fixing attempt. I believe that Proguard alone was the issue and that it isn&#39;t necessary to add said constructors, but I cannot test that hypothesis now.*","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>I'm having the same issue. The other answers did not help.</p>\n<p>For me, it looks like it is Proguard. That explains why it only happens in production/release builds and why I have been unable to reproduce it when debugging.</p>\n<p>If you're having OP's issue, try the following:</p>\n<ol>\n<li>Build the obfuscated .apk. I used the signed one, that I publish to the app stores...</li>\n<li>Enable &quot;Don't Keep Activities&quot; in your device's developer options.</li>\n<li>Install the .apk in your device and open the Activity that crashes and contains the Fragment.</li>\n<li>Leave your app (Minimize / Home button / ...) and re-open it from the recent apps menu.</li>\n</ol>\n<p>Does it crash? Then try it with the un-obfuscated debug build. If it doesn't then it's probably Proguard.</p>\n<p>To fix it I did the following:</p>\n<ol>\n<li>Create a proguard-rules.pro file in your app module's root folder.</li>\n<li>Add -keep class * extends androidx.fragment.app.Fragment{} to that file.</li>\n<li>Then, in the app's build.gradle,</li>\n</ol>\n<p>add:</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n<p>See Yaroslav Mytkalyk's answer here: <a href=\"https://stackoverflow.com/questions/21562148/fragment-instantiation-crash\">Fragment Instantiation crash</a>, which helped me solve this, although it's a bit old and outdated by now (e.g. &quot;runProguard true&quot; is obsolete).</p>\n<p>At least now it doesn't crash when I do the steps above.</p>\n<p><em>PS: I did this in conjunction with adding the 0-arg constructors to my fragments, as mentioned in other answers, since that was my first fixing attempt. I believe that Proguard alone was the issue and that it isn't necessary to add said constructors, but I cannot test that hypothesis now.</em></p>\n"},{"tags":[],"owner":{"account_id":1140954,"reputation":786,"user_id":1124866,"accept_rate":75,"display_name":"Salvador"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615070503,"creation_date":1615070503,"answer_id":66511401,"question_id":56668934,"body_markdown":"As already said the problem is a missing 0-arg constructor in the Fragment.&lt;br&gt;\r\nIn my case the constructor was removed from a `DialogFragment` by the code shrinking of the release variant.\r\n\r\nTo reproduce the crash, build the app with `minifyEnabled true`, popup the DialogFragment and rotate the device screen.\r\n\r\nA simple solution to keep the 0-arg constructor is to add a `@Keep` annotation:\r\n\r\n```\r\npublic class MyDialogFragment extends DialogFragment {\r\n\t@Keep\r\n\tpublic MyDialogFragment() {}\r\n}\r\n```","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>As already said the problem is a missing 0-arg constructor in the Fragment.<br>\nIn my case the constructor was removed from a <code>DialogFragment</code> by the code shrinking of the release variant.</p>\n<p>To reproduce the crash, build the app with <code>minifyEnabled true</code>, popup the DialogFragment and rotate the device screen.</p>\n<p>A simple solution to keep the 0-arg constructor is to add a <code>@Keep</code> annotation:</p>\n<pre><code>public class MyDialogFragment extends DialogFragment {\n    @Keep\n    public MyDialogFragment() {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15574409,"reputation":47,"user_id":11235853,"display_name":"Imran Vora"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1616654874,"creation_date":1616585018,"answer_id":66780003,"question_id":56668934,"body_markdown":"System not able to restore your fragment due to missing zero-argument constructor for your fragment.\r\n\r\nAdding a zero-argument constructor to all your fragment will solve error.\r\n\r\n```\r\npublic YourFragment() {}\r\n```","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>System not able to restore your fragment due to missing zero-argument constructor for your fragment.</p>\n<p>Adding a zero-argument constructor to all your fragment will solve error.</p>\n<pre><code>public YourFragment() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210512,"reputation":8663,"user_id":462162,"accept_rate":71,"display_name":"arlomedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671471009,"creation_date":1671260124,"answer_id":74832305,"question_id":56668934,"body_markdown":"For Kotlin, here&#39;s an example of the problematic constructor syntax and how to rewrite it. The first line is the constructor, and it has an argument. This was causing the `getConstructor0` crash when the app was shut down and Android tried restoring it:\r\n\r\n\topen class MyFragment(parent: MyClass) : Fragment() {\r\n\t\tvar parent = parent\r\n\t}\r\n\r\nThe following rewrite avoids the crash. The first line is the 0-argument constructor and the second line is the custom constructor:\r\n\r\n\topen class MyFragment : Fragment() {\r\n\t\tconstructor(parent: MyClass): this() {\r\n\t\t\tthis.parent = parent\r\n\t\t}\r\n\r\n\t\tlateinit var parent: MyClass\r\n\t}\r\n\r\nWhen you instantiate the class like `MyFragment(parent)`, it works the same as before. However, when Android restores the app, it will call `MyFragment()`, so you will need to account for the class running with the uninitialized variable. You can check for `this::parent.isInitialized` if needed.\r\n\r\nInstead of describing the problem as, “You need a 0-argument constructor,” it’s easier for me to understand as, “You can’t pass an argument when creating a fragment (unless you’re prepared for that argument to not be set).”\r\n\r\nThis took a while to understand because most of my fragment classes don’t have arguments and I couldn’t see what I was doing wrong. But I had one child fragment of a child fragment that I had set up to take an argument. That class name wasn’t showing in the Google Play Console crash logs, but when I followed the instructions from [this answer][1] to reproduce the problem, it did show in the Android Studio console, and then this finally became clear.\r\n\r\nThe Google Play crash logs only showed this:\r\n\r\n\tCaused by java.lang.NoSuchMethodException:\r\n\r\nBut the Android Studio console showed this, where the crash happens in the FormList class:\r\n\r\n\tCaused by: java.lang.NoSuchMethodException: com.arlomedia.bandhelper.superclasses.FormList.&lt;init&gt; []\r\n\r\nChanging your design to avoid the constructor argument altogether might be a better solution for your situation. In my case, the variable is an object, so I can&#39;t save it and restore it from a bundle. I didn&#39;t want to make it optional because it will always be set when the app runs normally. And my app will reload its interface after relaunching anyway, so I just need to get through Android&#39;s restore attempt without crashing.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63060778/462162","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>For Kotlin, here's an example of the problematic constructor syntax and how to rewrite it. The first line is the constructor, and it has an argument. This was causing the <code>getConstructor0</code> crash when the app was shut down and Android tried restoring it:</p>\n<pre><code>open class MyFragment(parent: MyClass) : Fragment() {\n    var parent = parent\n}\n</code></pre>\n<p>The following rewrite avoids the crash. The first line is the 0-argument constructor and the second line is the custom constructor:</p>\n<pre><code>open class MyFragment : Fragment() {\n    constructor(parent: MyClass): this() {\n        this.parent = parent\n    }\n\n    lateinit var parent: MyClass\n}\n</code></pre>\n<p>When you instantiate the class like <code>MyFragment(parent)</code>, it works the same as before. However, when Android restores the app, it will call <code>MyFragment()</code>, so you will need to account for the class running with the uninitialized variable. You can check for <code>this::parent.isInitialized</code> if needed.</p>\n<p>Instead of describing the problem as, “You need a 0-argument constructor,” it’s easier for me to understand as, “You can’t pass an argument when creating a fragment (unless you’re prepared for that argument to not be set).”</p>\n<p>This took a while to understand because most of my fragment classes don’t have arguments and I couldn’t see what I was doing wrong. But I had one child fragment of a child fragment that I had set up to take an argument. That class name wasn’t showing in the Google Play Console crash logs, but when I followed the instructions from <a href=\"https://stackoverflow.com/a/63060778/462162\">this answer</a> to reproduce the problem, it did show in the Android Studio console, and then this finally became clear.</p>\n<p>The Google Play crash logs only showed this:</p>\n<pre><code>Caused by java.lang.NoSuchMethodException:\n</code></pre>\n<p>But the Android Studio console showed this, where the crash happens in the FormList class:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodException: com.arlomedia.bandhelper.superclasses.FormList.&lt;init&gt; []\n</code></pre>\n<p>Changing your design to avoid the constructor argument altogether might be a better solution for your situation. In my case, the variable is an object, so I can't save it and restore it from a bundle. I didn't want to make it optional because it will always be set when the app runs normally. And my app will reload its interface after relaunching anyway, so I just need to get through Android's restore attempt without crashing.</p>\n"}],"owner":{"account_id":1990251,"reputation":1022,"user_id":1784430,"accept_rate":67,"display_name":"clavio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10412,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":56669540,"answer_count":7,"score":29,"last_activity_date":1671471009,"creation_date":1560951179,"question_id":56668934,"body_markdown":"I see crashes in the Google Play crash log that is really stumping me.\r\n\r\n\r\n    java.lang.RuntimeException: \r\n      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3086)\r\n      at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3229)\r\n      at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:78)\r\n      at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)\r\n      at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)\r\n      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1926)\r\n      at android.os.Handler.dispatchMessage (Handler.java:106)\r\n      at android.os.Looper.loop (Looper.java:214)\r\n      at android.app.ActivityThread.main (ActivityThread.java:6981)\r\n      at java.lang.reflect.Method.invoke (Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:493)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1445)\r\n    Caused by: androidx.fragment.app.Fragment$InstantiationException: \r\n      at androidx.fragment.app.Fragment.instantiate (Fragment.java:462)\r\n      at androidx.fragment.app.FragmentContainer.instantiate (FragmentContainer.java:50)\r\n      at androidx.fragment.app.FragmentState.instantiate (FragmentState.java:80)\r\n      at androidx.fragment.app.FragmentManagerImpl.restoreAllState (FragmentManager.java:3109)\r\n      at androidx.fragment.app.FragmentController.restoreAllState (FragmentController.java:158)\r\n      at androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:344)\r\n      at androidx.appcompat.app.AppCompatActivity.onCreate (AppCompatActivity.java:85)\r\n      at com.autotask.jbarra.kotlinmvvm.MainActivity.onCreate (MainActivity.kt:102)\r\n      at android.app.Activity.performCreate (Activity.java:7326)\r\n      at android.app.Activity.performCreate (Activity.java:7317)\r\n      at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1271)\r\n      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3066)\r\n    \r\n    Caused by: java.lang.NoSuchMethodException: \r\n      at java.lang.Class.getConstructor0 (Class.java:2328)\r\n      at java.lang.Class.getConstructor (Class.java:1725)\r\n      at androidx.fragment.app.Fragment.instantiate (Fragment.java:443)\r\n\r\nthe thing is, line 102 of Main activity is nothing special\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState) //This is line 102\r\n\r\n\r\n\r\nWhat could cause this?  Why is oncreate throwing no such method?  It&#39;s happening on a few user&#39;s devices and I haven&#39;t been able to reproduce it.  ","title":"java.lang.NoSuchMethodException for onCreate","body":"<p>I see crashes in the Google Play crash log that is really stumping me.</p>\n\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3086)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3229)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:78)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1926)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loop (Looper.java:214)\n  at android.app.ActivityThread.main (ActivityThread.java:6981)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:493)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1445)\nCaused by: androidx.fragment.app.Fragment$InstantiationException: \n  at androidx.fragment.app.Fragment.instantiate (Fragment.java:462)\n  at androidx.fragment.app.FragmentContainer.instantiate (FragmentContainer.java:50)\n  at androidx.fragment.app.FragmentState.instantiate (FragmentState.java:80)\n  at androidx.fragment.app.FragmentManagerImpl.restoreAllState (FragmentManager.java:3109)\n  at androidx.fragment.app.FragmentController.restoreAllState (FragmentController.java:158)\n  at androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:344)\n  at androidx.appcompat.app.AppCompatActivity.onCreate (AppCompatActivity.java:85)\n  at com.autotask.jbarra.kotlinmvvm.MainActivity.onCreate (MainActivity.kt:102)\n  at android.app.Activity.performCreate (Activity.java:7326)\n  at android.app.Activity.performCreate (Activity.java:7317)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1271)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3066)\n\nCaused by: java.lang.NoSuchMethodException: \n  at java.lang.Class.getConstructor0 (Class.java:2328)\n  at java.lang.Class.getConstructor (Class.java:1725)\n  at androidx.fragment.app.Fragment.instantiate (Fragment.java:443)\n</code></pre>\n\n<p>the thing is, line 102 of Main activity is nothing special</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState) //This is line 102\n</code></pre>\n\n<p>What could cause this?  Why is oncreate throwing no such method?  It's happening on a few user's devices and I haven't been able to reproduce it.  </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1671148137,"post_id":74812098,"comment_id":132042454,"body_markdown":"Does this answer your question? [filter gradle configuration for specific libraries](https://stackoverflow.com/questions/41278434/filter-gradle-configuration-for-specific-libraries)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41278434/filter-gradle-configuration-for-specific-libraries\">filter gradle configuration for specific libraries</a>"},{"owner":{"account_id":27261741,"reputation":1,"user_id":20784472,"display_name":"vadim"},"score":0,"creation_date":1671278761,"post_id":74812098,"comment_id":132067860,"body_markdown":"Not really, this answer is about filtering in the Copy task, mine is about dependecy configurations and artifacts.","body":"Not really, this answer is about filtering in the Copy task, mine is about dependecy configurations and artifacts."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1671282323,"post_id":74812098,"comment_id":132068408,"body_markdown":"Okay, thanks for checking. I&#39;m not clear what the problem is though. Could you update your question to show what goes wrong? Are there error messages? When you run `./gradlew prepareRelease`, it will log the tasks that are run - can you update your question to include these, and also explain which tasks should or shouldn&#39;t run?","body":"Okay, thanks for checking. I&#39;m not clear what the problem is though. Could you update your question to show what goes wrong? Are there error messages? When you run <code>.&#47;gradlew prepareRelease</code>, it will log the tasks that are run - can you update your question to include these, and also explain which tasks should or shouldn&#39;t run?"},{"owner":{"account_id":27261741,"reputation":1,"user_id":20784472,"display_name":"vadim"},"score":0,"creation_date":1671471038,"post_id":74812098,"comment_id":132101538,"body_markdown":"@aSemy I updated the question and removed the multi-project part, although it was what triggered the question in the first place.","body":"@aSemy I updated the question and removed the multi-project part, although it was what triggered the question in the first place."}],"owner":{"account_id":27261741,"reputation":1,"user_id":20784472,"display_name":"vadim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671470954,"creation_date":1671109955,"question_id":74812098,"body_markdown":"In order to use results of one project&#39;s task in another project I created a consumable configuration in one project and use this configuration in another project. Although this is the origins of the issue, it boils down to the simple java build file with a configuration:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\ntask createChecksums(type: Task) {\r\n}\r\nconfigurations {\r\n    release {\r\n        canBeConsumed = true\r\n        canBeResolved = false\r\n    }\r\n}\r\nartifacts {\r\n    release(file(&quot;someFile&quot;)) {\r\n        builtBy createChecksums\r\n    }\r\n}\r\n```\r\n\r\nWhen I run `gradlew assemble` it also runs `createChecksums` task. It seems to me that the `assemble` task builds all artifacts.\r\n\r\nIs there any way to configure configurations in such a way that artifacts are only built when needed by another project which consumes the configuration?","title":"Exclude artifacts from assemble task","body":"<p>In order to use results of one project's task in another project I created a consumable configuration in one project and use this configuration in another project. Although this is the origins of the issue, it boils down to the simple java build file with a configuration:</p>\n<pre><code>plugins {\n    id 'java'\n}\ntask createChecksums(type: Task) {\n}\nconfigurations {\n    release {\n        canBeConsumed = true\n        canBeResolved = false\n    }\n}\nartifacts {\n    release(file(&quot;someFile&quot;)) {\n        builtBy createChecksums\n    }\n}\n</code></pre>\n<p>When I run <code>gradlew assemble</code> it also runs <code>createChecksums</code> task. It seems to me that the <code>assemble</code> task builds all artifacts.</p>\n<p>Is there any way to configure configurations in such a way that artifacts are only built when needed by another project which consumes the configuration?</p>\n"},{"tags":["java","soap","nonce","envelope","password-digest"],"owner":{"account_id":8996375,"reputation":158,"user_id":6706626,"accept_rate":54,"display_name":"Rolando F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671470933,"creation_date":1671470933,"question_id":74853952,"body_markdown":"Im working on a Java solution that acts as a proxy for some soap web services. We receive the envelope as it was sent directly to the web service, do some processing to it and redirected to its corresponding WS. However, I can&#39;t just pass the xml directly, I have to use the information given there to build my own envelope, so I&#39;m wondering if there is a way to decode the password in the security section of the envelope (PasswordDigest). I have checked some soap documentation but it is more on how to create it, rather than how to &#39;decode&#39; it......I have all the fields available to me (Nonce, pass, created, etc)... any recommendations?\r\n\r\nthanks!","title":"Decode password in SOAP xml envelope","body":"<p>Im working on a Java solution that acts as a proxy for some soap web services. We receive the envelope as it was sent directly to the web service, do some processing to it and redirected to its corresponding WS. However, I can't just pass the xml directly, I have to use the information given there to build my own envelope, so I'm wondering if there is a way to decode the password in the security section of the envelope (PasswordDigest). I have checked some soap documentation but it is more on how to create it, rather than how to 'decode' it......I have all the fields available to me (Nonce, pass, created, etc)... any recommendations?</p>\n<p>thanks!</p>\n"},{"tags":["java","methods"],"owner":{"account_id":24407717,"reputation":101,"user_id":18335656,"display_name":"Maki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671470238,"creation_date":1671470238,"question_id":74853816,"body_markdown":"I&#39;m creating a simple pseudo banking app system using methods where the user, if it doesn&#39;t have any existing account, will create a new one, putting the user&#39;s account name, pin number, and deposit amount which after that, the code will generate user&#39;s account number and also will be the name of the text file being created and will be placed inside the directory I have chosen. \r\nThe example of the text inside the file I&#39;ve created:\r\n\r\n[![USER ACCOUNT DETAILS][1]][1]\r\n\r\n\r\nAfter the user logged in the system, the user can choose to withdraw and deposit. The problem is, I don&#39;t have an idea on how to get the balance inside the text file and add or subtract the amount of it and replace its previous with the current amount. This is the sample of my code.\r\n\r\n\r\n    String typeSelection = null;\r\n    while(typeSelection != &quot;F&quot; || typeSelection != &quot;f&quot;) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Type Selection:\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;A. Withdraw&quot;);\r\n\t\t\tSystem.out.println(&quot;B. Deposit&quot;);\r\n\r\n    switch(typeSelection) {\r\n\t\t\tcase &quot;a&quot;, &quot;A&quot;:\r\n\t\t\t\tgetWithdraw(accountNumber, accountBalance);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;b&quot;, &quot;B&quot;:\t\r\n\t\t\t\tgetDeposit(accountNumber, accountBalance);\r\n\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n    public static void getWithdraw(int accountNumber, int accountBalance) {\r\n        /* code to go to the directory and get the user&#39;s balance and substract the amount of how \r\n    much the user withdraw then replace the old amount with the current value */\r\n \r\n  \t}\r\n\r\n    public static void getDeposit(int accountNumber, int depositAmount) {\r\n \t\t//same with withdraw method except it will add user&#39;s balance \r\n  \t}\r\n\r\nThe reason why I&#39;m including accountNumber inside the method&#39;s parameter because I&#39;m using it to locate the directory and my text file.\r\n\r\n    FileInputStream fis = new FileInputStream(directory + accountNumber + &quot;.txt&quot;);\r\n\r\nI&#39;m also using try-catch statement and when I created the file as well. I just only have started and learning this project few days ago, hitting few dead ends here and there but this time I&#39;m kinda stuck for several hours, so I decided to ask for help here. I hope you understand what I mean since English is not my native language :p and thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fxz0t.png","title":"How to get the value of the user&#39;s balance from a text file then use it to substract or add an amount then replace it with the current amount?","body":"<p>I'm creating a simple pseudo banking app system using methods where the user, if it doesn't have any existing account, will create a new one, putting the user's account name, pin number, and deposit amount which after that, the code will generate user's account number and also will be the name of the text file being created and will be placed inside the directory I have chosen.\nThe example of the text inside the file I've created:</p>\n<p><a href=\"https://i.stack.imgur.com/fxz0t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fxz0t.png\" alt=\"USER ACCOUNT DETAILS\" /></a></p>\n<p>After the user logged in the system, the user can choose to withdraw and deposit. The problem is, I don't have an idea on how to get the balance inside the text file and add or subtract the amount of it and replace its previous with the current amount. This is the sample of my code.</p>\n<pre><code>String typeSelection = null;\nwhile(typeSelection != &quot;F&quot; || typeSelection != &quot;f&quot;) {\n        \n        System.out.println(&quot;Type Selection:\\n&quot;);\n        System.out.println(&quot;A. Withdraw&quot;);\n        System.out.println(&quot;B. Deposit&quot;);\n\nswitch(typeSelection) {\n        case &quot;a&quot;, &quot;A&quot;:\n            getWithdraw(accountNumber, accountBalance);\n            break;\n        case &quot;b&quot;, &quot;B&quot;:  \n            getDeposit(accountNumber, accountBalance);\n            break;\n            }\n\npublic static void getWithdraw(int accountNumber, int accountBalance) {\n    /* code to go to the directory and get the user's balance and substract the amount of how \nmuch the user withdraw then replace the old amount with the current value */\n\n}\n\npublic static void getDeposit(int accountNumber, int depositAmount) {\n    //same with withdraw method except it will add user's balance \n}\n</code></pre>\n<p>The reason why I'm including accountNumber inside the method's parameter because I'm using it to locate the directory and my text file.</p>\n<pre><code>FileInputStream fis = new FileInputStream(directory + accountNumber + &quot;.txt&quot;);\n</code></pre>\n<p>I'm also using try-catch statement and when I created the file as well. I just only have started and learning this project few days ago, hitting few dead ends here and there but this time I'm kinda stuck for several hours, so I decided to ask for help here. I hope you understand what I mean since English is not my native language :p and thank you.</p>\n"},{"tags":["java","spring","spring-boot","rest","postman"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671470225,"creation_date":1671469664,"answer_id":74853724,"question_id":74853613,"body_markdown":"The problem is that when you use spring spring-boot-starter-security it enables crsf protection by default. To solve the issue temporary you can use this configuration. Note that csrf is enabled for POST. \r\n\r\n\r\nIf you want to learn more about csrf you can check https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html .\r\n\r\n\r\n```@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity request) throws Exception{\r\n         request.csrf().disable();\r\n                 return request.build();\r\n    }\r\n}\r\n","title":"Basic Authentication on REST service with Spring Boot","body":"<p>The problem is that when you use spring spring-boot-starter-security it enables crsf protection by default. To solve the issue temporary you can use this configuration. Note that csrf is enabled for POST.</p>\n<p>If you want to learn more about csrf you can check <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html</a> .</p>\n<pre><code>public class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity request) throws Exception{\n         request.csrf().disable();\n                 return request.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74853724,"answer_count":1,"score":0,"last_activity_date":1671470225,"creation_date":1671469001,"question_id":74853613,"body_markdown":"\r\nDeveloped a simple REST end point , using Spring boot, ( latest version) . \r\nused : \r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand changed user name and password in applicaion.properties file.\r\n```\r\nspring.security.user.name=user\r\nspring.security.user.password=password\r\n```\r\n That is all.\r\nAble to communicate to GET end point that returns a simple &quot;hello&quot; string.I received expected result.\r\n```\r\n @GetMapping (value = &quot;/all&quot;)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    @ResponseBody\r\n    ResponseEntity&lt;String&gt; all() {\r\n    return  ResponseEntity.ok(&quot;customer&quot;) ;\r\n    }\r\n```\r\n\r\nI make a call using POSTMAN, in settings , added ( Basic Auth, and added user name and password as per my application settings.\r\nHere is an example from postman:\r\n```\r\n\r\ncurl --location --request GET &#39;http://localhost:8080/all&#39; \\\r\n--header &#39;Authorization: Basic dXNlcjpwYXNzd29yZA==&#39; \\\r\n--header &#39;Cookie: JSESSIONID=F6311C2062385978CE173C4A11E0D74D&#39;\r\n```\r\nRESPONSE: OK, 200.\r\n\r\nNow I am making a call to a post method:\r\n\r\n```    @PostMapping(value = &quot;/addCustomer&quot;, consumes = {&quot;*/*&quot;})\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    @ResponseBody\r\n    ResponseEntity&lt;Customer&gt; addCustomer(@Valid @RequestBody CustomerDTO customerDTO) {\r\n        Customer customer = mapper.toCustomer(customerDTO);\r\n        customerRepository.save(customer);\r\n        return ResponseEntity.ok(customer);\r\n    }\r\n```\r\n---\r\nSo the call to the post method fails, attached a call from postman:\r\n```\r\ncurl --location --request POST &#39;http://localhost:8080/addAccount&#39; \\\r\n--header &#39;If-None-Match: &quot;version1&quot;&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--header &#39;Cookie: JSESSIONID=9AE7806055797DF85021C70951AD826B&#39; \\\r\n--data-raw &#39;{\r\n    &quot;accountNumber&quot;:1,\r\n    &quot;customer&quot;:\r\n     {\r\n    &quot;id&quot;: 1,\r\n    &quot;forename&quot;: &quot;mynam&quot;,\r\n    &quot;surname&quot;: &quot;surname&quot;,\r\n    &quot;dateOfBirth&quot;: &quot;2011-11-11T00:00:00.000+00:00&quot;,\r\n    &quot;accounts&quot;: null\r\n}\r\n}&#39;\r\n```\r\nReceive 401 error.\r\n\r\nAll works fine if I remove Basic Authentication and make a plain call, to POST method.\r\nWhat is that I am doing wrong ? where shall I start digging?\r\n\r\n--\r\n","title":"Basic Authentication on REST service with Spring Boot","body":"<p>Developed a simple REST end point , using Spring boot, ( latest version) .\nused :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and changed user name and password in applicaion.properties file.</p>\n<pre><code>spring.security.user.name=user\nspring.security.user.password=password\n</code></pre>\n<p>That is all.\nAble to communicate to GET end point that returns a simple &quot;hello&quot; string.I received expected result.</p>\n<pre><code> @GetMapping (value = &quot;/all&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    @ResponseBody\n    ResponseEntity&lt;String&gt; all() {\n    return  ResponseEntity.ok(&quot;customer&quot;) ;\n    }\n</code></pre>\n<p>I make a call using POSTMAN, in settings , added ( Basic Auth, and added user name and password as per my application settings.\nHere is an example from postman:</p>\n<pre><code>\ncurl --location --request GET 'http://localhost:8080/all' \\\n--header 'Authorization: Basic dXNlcjpwYXNzd29yZA==' \\\n--header 'Cookie: JSESSIONID=F6311C2062385978CE173C4A11E0D74D'\n</code></pre>\n<p>RESPONSE: OK, 200.</p>\n<p>Now I am making a call to a post method:</p>\n<pre><code>    @ResponseStatus(HttpStatus.CREATED)\n    @ResponseBody\n    ResponseEntity&lt;Customer&gt; addCustomer(@Valid @RequestBody CustomerDTO customerDTO) {\n        Customer customer = mapper.toCustomer(customerDTO);\n        customerRepository.save(customer);\n        return ResponseEntity.ok(customer);\n    }\n</code></pre>\n<hr />\n<p>So the call to the post method fails, attached a call from postman:</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/addAccount' \\\n--header 'If-None-Match: &quot;version1&quot;' \\\n--header 'Content-Type: application/json' \\\n--header 'Cookie: JSESSIONID=9AE7806055797DF85021C70951AD826B' \\\n--data-raw '{\n    &quot;accountNumber&quot;:1,\n    &quot;customer&quot;:\n     {\n    &quot;id&quot;: 1,\n    &quot;forename&quot;: &quot;mynam&quot;,\n    &quot;surname&quot;: &quot;surname&quot;,\n    &quot;dateOfBirth&quot;: &quot;2011-11-11T00:00:00.000+00:00&quot;,\n    &quot;accounts&quot;: null\n}\n}'\n</code></pre>\n<p>Receive 401 error.</p>\n<p>All works fine if I remove Basic Authentication and make a plain call, to POST method.\nWhat is that I am doing wrong ? where shall I start digging?</p>\n<p>--</p>\n"},{"tags":["java","unit-testing","mockito"],"owner":{"account_id":1126081,"reputation":2979,"user_id":1113345,"display_name":"NeilenMarais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671469308,"creation_date":1671469308,"question_id":74853658,"body_markdown":"I tried using Mockito 2+&#39;s inline-mocks feature to mock final classes, but I find it breaks a number of our existing tests for inexplicable reasons. Is it possible to enable inline-mocks only for specific tests?\r\n\r\nThe &quot;normal&quot; ways of enabling the inline mock generation is to create a file `resources/mockito-extensions/org.mockito.plugins.MockMaker` with the contents `mock-maker-inline` somewhere in the class path or to depend on the [mockito-inline artifact](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39). These seems to enable inline mock generation globally. Until I can figure out why the inline mocks break our existing tests it would be great if I can enable it only for the tests that need it.","title":"Use Mockito inline mock generation for a subset of tests","body":"<p>I tried using Mockito 2+'s inline-mocks feature to mock final classes, but I find it breaks a number of our existing tests for inexplicable reasons. Is it possible to enable inline-mocks only for specific tests?</p>\n<p>The &quot;normal&quot; ways of enabling the inline mock generation is to create a file <code>resources/mockito-extensions/org.mockito.plugins.MockMaker</code> with the contents <code>mock-maker-inline</code> somewhere in the class path or to depend on the <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">mockito-inline artifact</a>. These seems to enable inline mock generation globally. Until I can figure out why the inline mocks break our existing tests it would be great if I can enable it only for the tests that need it.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1671469386,"post_id":74853633,"comment_id":132100957,"body_markdown":"If you&#39;re using Maven or Gradle, it should be apparent from your pom.xml or gradle config file. Otherwise you can do `System.out.println(System.getProperty(&quot;javafx.version&quot;));`","body":"If you&#39;re using Maven or Gradle, it should be apparent from your pom.xml or gradle config file. Otherwise you can do <code>System.out.println(System.getProperty(&quot;javafx.version&quot;));</code>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671471894,"post_id":74853633,"comment_id":132101839,"body_markdown":"A simple `VersionCheck` is cited [here](https://stackoverflow.com/a/71288497/230513).","body":"A simple <code>VersionCheck</code> is cited <a href=\"https://stackoverflow.com/a/71288497/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1671484548,"post_id":74853633,"comment_id":132105471,"body_markdown":"I do recommend using either Maven or Gradle as a build tool (you can set that up using the [new JavaFX project wizard](https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk)).  Then the configuration is in the build tool&#39;s project definition, which can be checked into source control, easily updated, and automatically synchronized with any major Java IDE, obviating the need for error-prone manual downloads of the JavaFX SDK, configuration of compile and runtime module options or manually adding libraries to an IDE project.","body":"I do recommend using either Maven or Gradle as a build tool (you can set that up using the <a href=\"https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk\">new JavaFX project wizard</a>).  Then the configuration is in the build tool&#39;s project definition, which can be checked into source control, easily updated, and automatically synchronized with any major Java IDE, obviating the need for error-prone manual downloads of the JavaFX SDK, configuration of compile and runtime module options or manually adding libraries to an IDE project."},{"owner":{"account_id":17995228,"reputation":103,"user_id":13078436,"display_name":"Simon G"},"score":0,"creation_date":1671518706,"post_id":74853633,"comment_id":132110840,"body_markdown":"Maven is what I get &#39;out of the box&#39; when I create a JavaFX project; I&#39;m not au fait with the differences between that and Gradle, but Maven works for me.","body":"Maven is what I get &#39;out of the box&#39; when I create a JavaFX project; I&#39;m not au fait with the differences between that and Gradle, but Maven works for me."}],"owner":{"account_id":17995228,"reputation":103,"user_id":13078436,"display_name":"Simon G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671469091,"creation_date":1671469091,"question_id":74853633,"body_markdown":"I have a problem with an IntelliJ project which I&#39;d like to raise on this forum, but before I do so, I want to gather all the information I can about my environment.\r\n\r\nMacOS 13.0.1 (Ventura)\r\nIntelliJ Community Edition 2021.2\r\nJDK 15.0.2\r\n... but I&#39;m also using JavaFX libraries, and I presume it will help to say what version they&#39;re at.","title":"How can I determine what version of JavaFX libraries I&#39;m using in a given IntelliJ project?","body":"<p>I have a problem with an IntelliJ project which I'd like to raise on this forum, but before I do so, I want to gather all the information I can about my environment.</p>\n<p>MacOS 13.0.1 (Ventura)\nIntelliJ Community Edition 2021.2\nJDK 15.0.2\n... but I'm also using JavaFX libraries, and I presume it will help to say what version they're at.</p>\n"},{"tags":["java","linux","raspberry-pi","linux-device-driver"],"comments":[{"owner":{"account_id":124242,"reputation":21699,"user_id":319204,"accept_rate":91,"display_name":"TheCodeArtist"},"score":5,"creation_date":1452159108,"post_id":33144722,"comment_id":57048232,"body_markdown":"Appears to be *&quot;screen tearing&quot;*. Do you know how to enable `VSYNC` (wait-for-vsync) within the software stack being used? Alternately check for config options to double/triple buffer the display framebuffer?","body":"Appears to be <i>&quot;screen tearing&quot;</i>. Do you know how to enable <code>VSYNC</code> (wait-for-vsync) within the software stack being used? Alternately check for config options to double/triple buffer the display framebuffer?"},{"owner":{"account_id":6445376,"reputation":13519,"user_id":4994021,"display_name":"Peter Brittain"},"score":0,"creation_date":1452365450,"post_id":33144722,"comment_id":57141157,"body_markdown":"Have you tried updating your firmware?  See http://raspberrypi.stackexchange.com/questions/37645/when-using-display-rotate-1-the-screen-tears","body":"Have you tried updating your firmware?  See <a href=\"http://raspberrypi.stackexchange.com/questions/37645/when-using-display-rotate-1-the-screen-tears\" title=\"when using display rotate 1 the screen tears\">raspberrypi.stackexchange.com/questions/37645/&hellip;</a>"},{"owner":{"account_id":2871603,"reputation":248,"user_id":2464833,"display_name":"pietv8x"},"score":0,"creation_date":1452548627,"post_id":33144722,"comment_id":57209538,"body_markdown":"Does it occur with other rotation angles, like 90 degrees?","body":"Does it occur with other rotation angles, like 90 degrees?"},{"owner":{"account_id":5973149,"reputation":3988,"user_id":4694916,"display_name":"lumos0815"},"score":0,"creation_date":1452549518,"post_id":33144722,"comment_id":57210055,"body_markdown":"as @TheCodeArtist already mentioned - this is called tearing.\nyou need a graphic library that is hardware accelerated (use opengl). without vsync you have no change to remove the tearing.","body":"as @TheCodeArtist already mentioned - this is called tearing. you need a graphic library that is hardware accelerated (use opengl). without vsync you have no change to remove the tearing."}],"answers":[{"tags":[],"owner":{"account_id":7601507,"reputation":75,"user_id":5765926,"display_name":"Electro lemon"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1452550468,"creation_date":1452550468,"answer_id":34732115,"question_id":33144722,"body_markdown":"I&#39;m not a specialist in Linux or anything like that but hear me out, \r\n\r\nYou say that you rotate your screen in the config file. Could you put it back to the default? Why do you need it to be rotated? Because this rotation could cause it to off align parts of the screen. I would first for your problem look at experimenting with that variable and see how it changes. :)       ","title":"Raspberry Pi 2 - Distortion while moving objects in Portrait mode","body":"<p>I'm not a specialist in Linux or anything like that but hear me out, </p>\n\n<p>You say that you rotate your screen in the config file. Could you put it back to the default? Why do you need it to be rotated? Because this rotation could cause it to off align parts of the screen. I would first for your problem look at experimenting with that variable and see how it changes. :)       </p>\n"},{"tags":[],"owner":{"account_id":1851816,"reputation":525,"user_id":1678210,"display_name":"Justin Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592519200,"creation_date":1592519200,"answer_id":62460359,"question_id":33144722,"body_markdown":"Look at this: https://github.com/justincjack/rasp_pi_graphics\r\n\r\nIt&#39;s a library that I wrote that will definitely solve your issue.  It will create a shared object (and static) with a C header file.  If you can create Java bindings for it to be able to use the lib it produces your problems will be over.\r\n\r\nI couldn&#39;t find any info that really worked, so this is the product of a few weeks worth of work.\r\n\r\nIt allows smooth rendering with no tearing and no crazy deep-digging into libdri (libdrm)/kms.","title":"Raspberry Pi 2 - Distortion while moving objects in Portrait mode","body":"<p>Look at this: <a href=\"https://github.com/justincjack/rasp_pi_graphics\" rel=\"nofollow noreferrer\">https://github.com/justincjack/rasp_pi_graphics</a></p>\n\n<p>It's a library that I wrote that will definitely solve your issue.  It will create a shared object (and static) with a C header file.  If you can create Java bindings for it to be able to use the lib it produces your problems will be over.</p>\n\n<p>I couldn't find any info that really worked, so this is the product of a few weeks worth of work.</p>\n\n<p>It allows smooth rendering with no tearing and no crazy deep-digging into libdri (libdrm)/kms.</p>\n"}],"owner":{"account_id":7121476,"reputation":181,"user_id":5448849,"display_name":"DrenImeraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1671469031,"creation_date":1444901247,"question_id":33144722,"body_markdown":"I am currently working on a Kiosk system based on the Raspberry Pi 2 running Raspbian which runs a Java app. Everything works perfectly well, except for a distortion on the screen which appears while objects are moving. Normally, this wouldn’t be a problem, but I have a list on the Java app which will be extensively used by the users. The distortion is visible while scrolling on this list. \r\n\r\nThe link below shows this in action:\r\n\r\n[A GIF showing the distortion][1]\r\n\r\n\r\nWhat I know so far:\r\n\r\n&gt;  - This only occurs while the screen is rotated. I have rotated the    screen by 270* by setting `“display_rotate=3”` in `/boot/config.txt` \r\n&gt;  - It is not dependent on the screen resolution or the `“hdmi_group&quot;` \r\n&gt;  - This doesn’t happen only on the GUI, the distortion is also visible during boot time \r\n&gt;  - Overlocking doesn’t affect the distortion \r\n&gt;  - It always appearson the right-bottom side of the screen\r\n&gt;  - This issue was also present in Ubuntu Mate\r\n\r\n  [1]: https://i.stack.imgur.com/EEcAy.jpg","title":"Raspberry Pi 2 - Distortion while moving objects in Portrait mode","body":"<p>I am currently working on a Kiosk system based on the Raspberry Pi 2 running Raspbian which runs a Java app. Everything works perfectly well, except for a distortion on the screen which appears while objects are moving. Normally, this wouldn’t be a problem, but I have a list on the Java app which will be extensively used by the users. The distortion is visible while scrolling on this list. </p>\n\n<p>The link below shows this in action:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EEcAy.jpg\">A GIF showing the distortion</a></p>\n\n<p>What I know so far:</p>\n\n<blockquote>\n  <ul>\n  <li>This only occurs while the screen is rotated. I have rotated the    screen by 270* by setting <code>“display_rotate=3”</code> in <code>/boot/config.txt</code> </li>\n  <li>It is not dependent on the screen resolution or the <code>“hdmi_group\"</code> </li>\n  <li>This doesn’t happen only on the GUI, the distortion is also visible during boot time </li>\n  <li>Overlocking doesn’t affect the distortion </li>\n  <li>It always appearson the right-bottom side of the screen</li>\n  <li>This issue was also present in Ubuntu Mate</li>\n  </ul>\n</blockquote>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"score":0,"creation_date":1396737778,"post_id":22887779,"comment_id":34926151,"body_markdown":"Please show your full code, for both the native part and the Java part.","body":"Please show your full code, for both the native part and the Java part."},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":1,"creation_date":1396738096,"post_id":22887779,"comment_id":34926234,"body_markdown":"java.library.path and LD_LIBRARY_PATH have to point to _directories_ containing the .so file(s), not the file(s) themselve(s).","body":"java.library.path and LD_LIBRARY_PATH have to point to <i>directories</i> containing the .so file(s), not the file(s) themselve(s)."},{"owner":{"account_id":446258,"reputation":9939,"user_id":839199,"accept_rate":62,"display_name":"4esn0k"},"score":0,"creation_date":1559654251,"post_id":22887779,"comment_id":99482938,"body_markdown":"for me, 32 bit jvm gives the same message when the path contains 64 bit libraries...","body":"for me, 32 bit jvm gives the same message when the path contains 64 bit libraries..."}],"answers":[{"tags":[],"owner":{"account_id":405138,"reputation":4326,"user_id":773849,"accept_rate":100,"display_name":"Alex Barker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671468949,"creation_date":1396910359,"answer_id":22924410,"question_id":22887779,"body_markdown":"What is your library called?  If your paths are correct, your library name is probably wrong.  If the library you are loading is called `hello`, on Windows the file needs to be called `hello.dll`, on every other SO you also need to prepend the `lib` prefix:\r\n- on OS X (Java &lt; 1.7) `libhello.jnilib`\r\n- on OS X (Java &gt;= 1.7) `libhello.dylib`\r\n- on just about everything else will be `libhello.so`. \r\n \r\nNotice that the Windows dll file is the only file name without the &quot;lib&quot; prefix and that the &quot;lib&quot; prefix is not used when calling `System.loadLibrary(&quot;hello&quot;)`.\r\nIf you are still experiencing a problem loading the lib, try `System.load(&quot;/path/to/my/libhello.so&quot;)` to try and load the library directly.\r\n\r\nYou can always check the file the system will look for by running\r\n```\r\nSystem.mapLibraryName(libName)\r\n```","title":"library not found in java.library.path","body":"<p>What is your library called?  If your paths are correct, your library name is probably wrong.  If the library you are loading is called <code>hello</code>, on Windows the file needs to be called <code>hello.dll</code>, on every other SO you also need to prepend the <code>lib</code> prefix:</p>\n<ul>\n<li>on OS X (Java &lt; 1.7) <code>libhello.jnilib</code></li>\n<li>on OS X (Java &gt;= 1.7) <code>libhello.dylib</code></li>\n<li>on just about everything else will be <code>libhello.so</code>.</li>\n</ul>\n<p>Notice that the Windows dll file is the only file name without the &quot;lib&quot; prefix and that the &quot;lib&quot; prefix is not used when calling <code>System.loadLibrary(&quot;hello&quot;)</code>.\nIf you are still experiencing a problem loading the lib, try <code>System.load(&quot;/path/to/my/libhello.so&quot;)</code> to try and load the library directly.</p>\n<p>You can always check the file the system will look for by running</p>\n<pre><code>System.mapLibraryName(libName)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597676713,"creation_date":1597676713,"answer_id":63453570,"question_id":22887779,"body_markdown":"@Alex Barker\r\nThe version\r\n \r\n    System.load(&quot;/path/to/my/libhello.so&quot;)\r\n\r\ndoes not resolve dependencies. If there are dependencies upon other user-defined libraries, they need to be loaded before.\r\n","title":"library not found in java.library.path","body":"<p>@Alex Barker\nThe version</p>\n<pre><code>System.load(&quot;/path/to/my/libhello.so&quot;)\n</code></pre>\n<p>does not resolve dependencies. If there are dependencies upon other user-defined libraries, they need to be loaded before.</p>\n"}],"owner":{"account_id":4283871,"reputation":399,"user_id":3502369,"accept_rate":0,"display_name":"sasfour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19144,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1671468949,"creation_date":1396737637,"question_id":22887779,"body_markdown":"I&#39;m a newbie to JNI, so I was trying this introduction to JNI tutorial earlier that just calls native to print Hello World! Everything went fine until the point that I wanted to run the java file, at which I keep getting the error: Exception in thread &quot;main&quot;: java.lang.UnsatisfiedLinkError: no hello library found in java.library.path. I have googled the error and looked at a lot of peoples&#39; suggestions, but none worked for me unfortunately! I have tried the following:\r\n\r\n- Running with command: java -Djava.library.path = &quot;*Path to library*&quot; HelloWorld\r\n- setting the LD_LIBRARY_PATH to my .so path\r\n\r\nEveryone else had their issues resolved after doing one of the two above, but not me!\r\n\r\nHere is the Java Code:\r\n\r\n    public class HelloWorld {\r\n    \r\n    \tstatic {\r\n            System.loadLibrary(&quot;hello&quot;);\r\n        }\r\n    \r\n        private native void printHelloWorld();\r\n    \r\n        public static void main(String[] args) {\r\n        \tnew HelloWorld().printHelloWorld();\r\n        }\r\n    } \r\n\r\nAnd code for native is as follows:\r\n\r\n    void JNICALL Java_printHelloWorld(JNIEnv *env, jobject obj) {\r\n    \tprintf(&quot;HelloWorld!&quot;);\r\n    }\r\n\r\nEDIT: I even tried copying the library to the actually directory of java.library.path, but it&#39;s still giving me the same error!","title":"library not found in java.library.path","body":"<p>I'm a newbie to JNI, so I was trying this introduction to JNI tutorial earlier that just calls native to print Hello World! Everything went fine until the point that I wanted to run the java file, at which I keep getting the error: Exception in thread \"main\": java.lang.UnsatisfiedLinkError: no hello library found in java.library.path. I have googled the error and looked at a lot of peoples' suggestions, but none worked for me unfortunately! I have tried the following:</p>\n\n<ul>\n<li>Running with command: java -Djava.library.path = \"<em>Path to library</em>\" HelloWorld</li>\n<li>setting the LD_LIBRARY_PATH to my .so path</li>\n</ul>\n\n<p>Everyone else had their issues resolved after doing one of the two above, but not me!</p>\n\n<p>Here is the Java Code:</p>\n\n<pre><code>public class HelloWorld {\n\n    static {\n        System.loadLibrary(\"hello\");\n    }\n\n    private native void printHelloWorld();\n\n    public static void main(String[] args) {\n        new HelloWorld().printHelloWorld();\n    }\n} \n</code></pre>\n\n<p>And code for native is as follows:</p>\n\n<pre><code>void JNICALL Java_printHelloWorld(JNIEnv *env, jobject obj) {\n    printf(\"HelloWorld!\");\n}\n</code></pre>\n\n<p>EDIT: I even tried copying the library to the actually directory of java.library.path, but it's still giving me the same error!</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671464130,"creation_date":1671464130,"answer_id":74852638,"question_id":74852577,"body_markdown":"We can use a regex replacement:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;abc test=0 test1=123 test2=764&quot;;\r\n    String output = input.replaceAll(&quot;(\\\\w+)=\\\\w+&quot;, &quot;$1=\\\\$$1&quot;);\r\n    System.out.println(output);\r\n\r\n    // abc test=$test test1=$test1 test2=$test2","title":"Unable to replace a string with another string in java using regex","body":"<p>We can use a regex replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;abc test=0 test1=123 test2=764&quot;;\nString output = input.replaceAll(&quot;(\\\\w+)=\\\\w+&quot;, &quot;$1=\\\\$$1&quot;);\nSystem.out.println(output);\n\n// abc test=$test test1=$test1 test2=$test2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671464839,"creation_date":1671464132,"answer_id":74852639,"question_id":74852577,"body_markdown":"You could match:\r\n\r\n    (test\\d*)=\\S*\r\n\r\n[Regex demo](https://regex101.com/r/eTN47U/1)\r\n\r\nAnd replace with the dollar sign between the 2 capture groups `$1=\\$$1`\r\n\r\n\r\n    System.out.println(\r\n        &quot;abc test=0 test1=123 test2=764&quot;\r\n            .replaceAll(\r\n              &quot;(test\\\\d*)=\\\\S*&quot;,\r\n              &quot;$1=\\\\$$1&quot;\r\n            )\r\n    );\r\n\r\nOutput\r\n\r\n    abc test=$test test1=$test1 test2=$test2","title":"Unable to replace a string with another string in java using regex","body":"<p>You could match:</p>\n<pre><code>(test\\d*)=\\S*\n</code></pre>\n<p><a href=\"https://regex101.com/r/eTN47U/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>And replace with the dollar sign between the 2 capture groups <code>$1=\\$$1</code></p>\n<pre><code>System.out.println(\n    &quot;abc test=0 test1=123 test2=764&quot;\n        .replaceAll(\n          &quot;(test\\\\d*)=\\\\S*&quot;,\n          &quot;$1=\\\\$$1&quot;\n        )\n);\n</code></pre>\n<p>Output</p>\n<pre><code>abc test=$test test1=$test1 test2=$test2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5018558,"reputation":71,"user_id":4032717,"display_name":"Phyln"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671468877,"creation_date":1671468877,"answer_id":74853589,"question_id":74852577,"body_markdown":"Using VScode, I will use this `(test)(\\d?)(=)(\\b.+?\\b)`\r\n&lt;br&gt;and replace with `$1$2$3$test$2`\r\n\r\nI hope it inspires you with your java implementation. :)","title":"Unable to replace a string with another string in java using regex","body":"<p>Using VScode, I will use this <code>(test)(\\d?)(=)(\\b.+?\\b)</code>\n<br>and replace with <code>$1$2$3$test$2</code></p>\n<p>I hope it inspires you with your java implementation. :)</p>\n"}],"owner":{"account_id":4863301,"reputation":312,"user_id":3922336,"accept_rate":0,"display_name":"umesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671638848,"answer_count":3,"score":0,"last_activity_date":1671468877,"creation_date":1671463846,"question_id":74852577,"body_markdown":"I have a string and want to replace certain charactes in it.\r\nInput `String = &quot;abc test=0 test1=123 test2=764&quot;`\r\nOutput `String = &quot;abc test=$test test1=$test1 test2=$test2&quot;`\r\n\r\nI have tried couple of things using replace and replaceAll in java.\r\nFor example :\r\n\r\n    String abc = directiveValue.replaceAll(&quot;test%&quot;, test+&quot;=$&quot;+test);\r\n\r\nor\r\n\r\n    String abc = directiveValue.replaceAll(&quot;test[.*]&quot;, test+&quot;=$&quot;+test);\r\n\r\n","title":"Unable to replace a string with another string in java using regex","body":"<p>I have a string and want to replace certain charactes in it.\nInput <code>String = &quot;abc test=0 test1=123 test2=764&quot;</code>\nOutput <code>String = &quot;abc test=$test test1=$test1 test2=$test2&quot;</code></p>\n<p>I have tried couple of things using replace and replaceAll in java.\nFor example :</p>\n<pre><code>String abc = directiveValue.replaceAll(&quot;test%&quot;, test+&quot;=$&quot;+test);\n</code></pre>\n<p>or</p>\n<pre><code>String abc = directiveValue.replaceAll(&quot;test[.*]&quot;, test+&quot;=$&quot;+test);\n</code></pre>\n"},{"tags":["java","smtp","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":469736,"reputation":19073,"user_id":876497,"accept_rate":64,"display_name":"DejanLekic"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1449860957,"creation_date":1322906054,"answer_id":8366888,"question_id":8366843,"body_markdown":"I believe this section of the [JavaMail FAQ][1] answers your question: \r\n\r\n&gt; **Q:** I set a particular value for the Message-ID header of my new message, but when I send this message that header is rewritten.\r\n&gt; \r\n&gt; **A:** A new value for the Message-ID field is set when the saveChanges method is called (usually implicitly when a message is\r\n&gt; sent), overwriting any value you set yourself. If you need to set your\r\n&gt; own Message-ID and have it retained, you will have to create your own\r\n&gt; MimeMessage subclass, override the updateMessageID method and use an\r\n&gt; instance of this subclass.\r\n&gt; \r\n&gt;     class MyMessage extends MimeMessage {\r\n&gt;         ...\r\n&gt;     \r\n&gt;         protected void updateMessageID() throws MessagingException {\r\n&gt;     \tsetHeader(&quot;Message-ID&quot;, &quot;my-message-id&quot;);\r\n&gt;         }\r\n&gt;         ...\r\n&gt;     }\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/faq-135477.html#msgid","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<p>I believe this section of the <a href=\"http://www.oracle.com/technetwork/java/faq-135477.html#msgid\" rel=\"noreferrer\">JavaMail FAQ</a> answers your question: </p>\n\n<blockquote>\n  <p><strong>Q:</strong> I set a particular value for the Message-ID header of my new message, but when I send this message that header is rewritten.</p>\n  \n  <p><strong>A:</strong> A new value for the Message-ID field is set when the saveChanges method is called (usually implicitly when a message is\n  sent), overwriting any value you set yourself. If you need to set your\n  own Message-ID and have it retained, you will have to create your own\n  MimeMessage subclass, override the updateMessageID method and use an\n  instance of this subclass.</p>\n\n<pre><code>class MyMessage extends MimeMessage {\n    ...\n\n    protected void updateMessageID() throws MessagingException {\n  setHeader(\"Message-ID\", \"my-message-id\");\n    }\n    ...\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1352088713,"creation_date":1351875101,"answer_id":13199695,"question_id":8366843,"body_markdown":"According to [Oracle&#39;s FAQ][1], when you send the message or call saveChanges, the Message-Id header set by the updateMessageID() method, which overrides any value you might have already set.\r\n\r\nTo set your own value, you will need to create a sub-class of MimeMessage and implement your own updateMessageID() function:\r\n\r\n    class MyMimeMessage extends MimeMessage {\r\n        ...\r\n        protected void updateMessageID() throws MessagingException {\r\n            setHeader(&quot;Message-ID&quot;, &quot;my-message-id&quot;);\r\n        }\r\n        ...\r\n    }\r\n\r\nI was able to use this technique to suppress or eliminate the Message-Id header like this:\r\n\r\n    @Override\r\n    protected void updateMessageID() throws MessagingException {\r\n        removeHeader(&quot;Message-Id&quot;);\r\n    }\r\n\r\nThis was useful for Mailgun, which sets the Message-Id themselves if you don&#39;t set one.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/faq-135477.html#msgid","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<p>According to <a href=\"http://www.oracle.com/technetwork/java/faq-135477.html#msgid\">Oracle's FAQ</a>, when you send the message or call saveChanges, the Message-Id header set by the updateMessageID() method, which overrides any value you might have already set.</p>\n\n<p>To set your own value, you will need to create a sub-class of MimeMessage and implement your own updateMessageID() function:</p>\n\n<pre><code>class MyMimeMessage extends MimeMessage {\n    ...\n    protected void updateMessageID() throws MessagingException {\n        setHeader(\"Message-ID\", \"my-message-id\");\n    }\n    ...\n}\n</code></pre>\n\n<p>I was able to use this technique to suppress or eliminate the Message-Id header like this:</p>\n\n<pre><code>@Override\nprotected void updateMessageID() throws MessagingException {\n    removeHeader(\"Message-Id\");\n}\n</code></pre>\n\n<p>This was useful for Mailgun, which sets the Message-Id themselves if you don't set one.</p>\n"},{"tags":[],"owner":{"account_id":9518303,"reputation":29,"user_id":7073922,"display_name":"Gioacchino"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1546950895,"creation_date":1477471158,"answer_id":40257505,"question_id":8366843,"body_markdown":"You can also save message changes and set a custom Message-ID before sending.\r\nSteps:  \r\n\r\n 1. Create `MimeMessage message` and Set its data.\r\n 2. `message.saveChanges();`\r\n 3. `message.setHeader(&quot;Message-ID&quot;, yourCustomMessageId);`                                 \r\n 5. Send the message. \r\n\t\t\r\nThis is useful with Spring&#39;s `JavaMailSender` or in other situations where it is difficult to override `MimeMessage`.\r\n\t\t\r\n\t\t","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<p>You can also save message changes and set a custom Message-ID before sending.\nSteps:  </p>\n\n<ol>\n<li>Create <code>MimeMessage message</code> and Set its data.</li>\n<li><code>message.saveChanges();</code></li>\n<li><code>message.setHeader(\"Message-ID\", yourCustomMessageId);</code>                                 </li>\n<li>Send the message. </li>\n</ol>\n\n<p>This is useful with Spring's <code>JavaMailSender</code> or in other situations where it is difficult to override <code>MimeMessage</code>.</p>\n"},{"tags":[],"owner":{"account_id":405153,"reputation":771,"user_id":773874,"display_name":"Catalin Ciurea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481208005,"creation_date":1481208005,"answer_id":41042038,"question_id":8366843,"body_markdown":"    MimeMessage msg = new MimeMessage(s) {\r\n        @Override\r\n        protected void updateMessageID() { } // Prevent MimeMessage from overwriting our Message-ID\r\n    };\r\n    msg.setHeader(&quot;Message-ID&quot;, &quot;MyOwnMessageID&quot;);\r\n","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<pre><code>MimeMessage msg = new MimeMessage(s) {\n    @Override\n    protected void updateMessageID() { } // Prevent MimeMessage from overwriting our Message-ID\n};\nmsg.setHeader(\"Message-ID\", \"MyOwnMessageID\");\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7586763"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508681102,"creation_date":1508681102,"answer_id":46874957,"question_id":8366843,"body_markdown":"this is the complete code for implementing the custom id in the message\r\n\r\n    public class SendMessage{\r\n        \r\n         private String idMessage;\r\n                \r\n         private void sendEmail() {\r\n             //...\r\n             // Create de session\r\n             //...\r\n                          \r\n             Message message = new MyMessage(session);\r\n                          \r\n             //...\r\n             // Prepare the body of the message, attachments, etc.\r\n             //...\r\n                          \r\n             // assign custom message id\r\n             this.idMessage = “My own ID”;\r\n                          \r\n             //send\r\n             Transport.send(message);\r\n        }\r\n                \r\n        class MyMessage extends MimeMessage {\r\n                \r\n            public MyMessage(Session session) {\r\n               super(session);\r\n            }\r\n                \r\n            protected void updateMessageID() throws MessagingException {\r\n                setHeader(&quot;Message-ID&quot;, this.idMessage);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<p>this is the complete code for implementing the custom id in the message</p>\n\n<pre><code>public class SendMessage{\n\n     private String idMessage;\n\n     private void sendEmail() {\n         //...\n         // Create de session\n         //...\n\n         Message message = new MyMessage(session);\n\n         //...\n         // Prepare the body of the message, attachments, etc.\n         //...\n\n         // assign custom message id\n         this.idMessage = “My own ID”;\n\n         //send\n         Transport.send(message);\n    }\n\n    class MyMessage extends MimeMessage {\n\n        public MyMessage(Session session) {\n           super(session);\n        }\n\n        protected void updateMessageID() throws MessagingException {\n            setHeader(\"Message-ID\", this.idMessage);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15447340,"reputation":41,"user_id":11143897,"display_name":"Chetan Hegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659010959,"creation_date":1659010645,"answer_id":73152777,"question_id":8366843,"body_markdown":"Message-ID is a unique identifier for a digital message, most commonly a globally unique identifier used in email. No two different messages must ever have the same Message-ID. \r\nMimeMessage will generate Message-ID while creating the message. It is possible to override message id by using MimeMessage.setHeader(&quot;Message-ID&quot;, &quot;customMessageId&quot;);","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<p>Message-ID is a unique identifier for a digital message, most commonly a globally unique identifier used in email. No two different messages must ever have the same Message-ID.\nMimeMessage will generate Message-ID while creating the message. It is possible to override message id by using MimeMessage.setHeader(&quot;Message-ID&quot;, &quot;customMessageId&quot;);</p>\n"}],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24352,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":8366888,"answer_count":6,"score":20,"last_activity_date":1671468742,"creation_date":1322905366,"question_id":8366843,"body_markdown":"How can I set the SMTP message-id while sending mails with `javax.mail`. My mail server is reporting something like this:\r\n\r\n    1 &lt;= me@domain.com H=mail (host) [192.168.1.4] P=esmtp S=142014\r\n         id=2043289758.9.1322829290422.JavaMail.thor@developer.local\r\n    2 =&gt; sombodey@else R=dnslookup T=remote_smtp H=mx00.t-online.de [194.25.134.8]\r\n    3 Completed\r\n\r\nI want to set the `id=2043289758.9.1322829290422.JavaMail.thor@developer.local` before sending it. Is this possible? The email it created like this:\r\n\r\n    Properties props = System.getProperties();\r\n    props.put(&quot;mail.smtp.host&quot;, &quot;192.168.1.4&quot;);\r\n    Session session = Session.getDefaultInstance(props, null);\r\n    session.setDebug(false);\r\n    Message msg = createMsg();\r\n    Transport.send(msg);","title":"How do I set or change the SMTP Message-ID with javax.mail?","body":"<p>How can I set the SMTP message-id while sending mails with <code>javax.mail</code>. My mail server is reporting something like this:</p>\n\n<pre><code>1 &lt;= me@domain.com H=mail (host) [192.168.1.4] P=esmtp S=142014\n     id=2043289758.9.1322829290422.JavaMail.thor@developer.local\n2 =&gt; sombodey@else R=dnslookup T=remote_smtp H=mx00.t-online.de [194.25.134.8]\n3 Completed\n</code></pre>\n\n<p>I want to set the <code>id=2043289758.9.1322829290422.JavaMail.thor@developer.local</code> before sending it. Is this possible? The email it created like this:</p>\n\n<pre><code>Properties props = System.getProperties();\nprops.put(\"mail.smtp.host\", \"192.168.1.4\");\nSession session = Session.getDefaultInstance(props, null);\nsession.setDebug(false);\nMessage msg = createMsg();\nTransport.send(msg);\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-lambda","aws-api-gateway"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1654627525,"post_id":72535951,"comment_id":128134386,"body_markdown":"Is there a class named LambdaHandler in package com.myapp.app in your deployed code? I see StreamLambdaHandler without any obvious package.","body":"Is there a class named LambdaHandler in package com.myapp.app in your deployed code? I see StreamLambdaHandler without any obvious package."},{"owner":{"account_id":12515857,"reputation":336,"user_id":9109079,"display_name":"Atique Ahmed"},"score":0,"creation_date":1654627804,"post_id":72535951,"comment_id":128134470,"body_markdown":"handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\n\nApplication class are nothing but the main class. \n\nStreamLambdaHandler.java and Application.java -&gt; Both are belongs to the same package - com.myapp.app","body":"handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Applicat&zwnj;&#8203;ion.class);  Application class are nothing but the main class.   StreamLambdaHandler.java and Application.java -&gt; Both are belongs to the same package - com.myapp.app"},{"owner":{"account_id":12515857,"reputation":336,"user_id":9109079,"display_name":"Atique Ahmed"},"score":0,"creation_date":1654662643,"post_id":72535951,"comment_id":128141412,"body_markdown":"@jarmod - Can you please let me know what is the issue ?","body":"@jarmod - Can you please let me know what is the issue ?"}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655215468,"creation_date":1655215468,"answer_id":72618402,"question_id":72535951,"body_markdown":"You need to configure your serverless.yml to specify the full package of StreamLambdaHandler as the handler attribute.\r\n\r\nFor example, if the class was in com.myapp package. You would need to specify com.myapp.StreamLambdaHandler\r\n\r\nYou are currently specifying com.myapp.app.LambdaHandler and that is a class that doesn&#39;t exist.","title":"AWS Lambda function throws ClassNotFoundException - LambdaHandler. Current classpath: file:/var/task/","body":"<p>You need to configure your serverless.yml to specify the full package of StreamLambdaHandler as the handler attribute.</p>\n<p>For example, if the class was in com.myapp package. You would need to specify com.myapp.StreamLambdaHandler</p>\n<p>You are currently specifying com.myapp.app.LambdaHandler and that is a class that doesn't exist.</p>\n"},{"tags":[],"owner":{"account_id":12515857,"reputation":336,"user_id":9109079,"display_name":"Atique Ahmed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656240848,"creation_date":1656240848,"answer_id":72760942,"question_id":72535951,"body_markdown":"In Springboot we have all the @Controller, @Service, annotation. So Lamba is not smart enough to understand this. Until unless we do some hacks. But that is not advisable by Amazon Web Services. What we can do - \r\n\r\nWe can make a use of Spring cloud function. Here is the link - \r\n\r\n- https://www.baeldung.com/spring-cloud-function\r\n\r\n- https://spring.io/projects/spring-cloud-function\r\n\r\n- https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-aws\r\n\r\nPlease put thumbs up, if you like this information.\r\n\r\n","title":"AWS Lambda function throws ClassNotFoundException - LambdaHandler. Current classpath: file:/var/task/","body":"<p>In Springboot we have all the @Controller, @Service, annotation. So Lamba is not smart enough to understand this. Until unless we do some hacks. But that is not advisable by Amazon Web Services. What we can do -</p>\n<p>We can make a use of Spring cloud function. Here is the link -</p>\n<ul>\n<li><p><a href=\"https://www.baeldung.com/spring-cloud-function\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-function</a></p>\n</li>\n<li><p><a href=\"https://spring.io/projects/spring-cloud-function\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud-function</a></p>\n</li>\n<li><p><a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-aws\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-aws</a></p>\n</li>\n</ul>\n<p>Please put thumbs up, if you like this information.</p>\n"},{"tags":[],"owner":{"account_id":9421285,"reputation":1,"user_id":7007608,"display_name":"Nishant Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671468416,"creation_date":1671120321,"answer_id":74814404,"question_id":72535951,"body_markdown":"Add below to the `pom.xml` file:\r\n    \r\n```xml\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0.28.RELEASE&lt;/version&gt;  // You may need to update this version according to your Java &amp; Spring Boot version\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\t\t\t\t&lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"AWS Lambda function throws ClassNotFoundException - LambdaHandler. Current classpath: file:/var/task/","body":"<p>Add below to the <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.28.RELEASE&lt;/version&gt;  // You may need to update this version according to your Java &amp; Spring Boot version\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":12515857,"reputation":336,"user_id":9109079,"display_name":"Atique Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4704,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1671468416,"creation_date":1654626317,"question_id":72535951,"body_markdown":"Spring boot application I am deploying as a Lambda on the top of APIGetway - Getting error\r\n\r\n     Class not found: com.myapp.app.LambdaHandler: java.lang.ClassNotFoundException\r\n    java.lang.ClassNotFoundException: com.myapp.app.LambdaHandler. Current classpath: file:/var/task/\r\n\r\n\r\nWhen the Jar file are getting created, I see there are 3 folder  - BOOT-INF, META-INF, org. \r\n\r\nMy package are there inside the BOOT_INF -&gt; classes -&gt; com -&gt; myapp -&gt; app -&gt; LambdaHandler\r\n\r\n**Deployment doing using - serverless.yml**\r\n\r\n**Deployment from Command prompt CLI - serverless deploy**\r\n\r\n\r\n\r\n**StreamLambdaHandler.java**\r\n\r\n \r\n\r\n    public class StreamLambdaHandler implements RequestStreamHandler { \t\r\n      private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler; \r\n        static {\r\n            try {\r\n                handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\r\n            } catch (Exception e) {\r\n                // if we fail here. We re-throw the exception to force another cold start\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Could not initialize Spring Boot Application&quot;, e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context)\r\n                throws IOException {\r\n            handler.proxyStream(inputStream, outputStream, context);\r\n        } \r\n    }\r\n\r\n**Application.java**\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    public class Application extends SpringBootServletInitializer {\r\n    \t/**\r\n         * Create required HandlerMapping, to avoid several default HandlerMapping instances being created\r\n         */\r\n        @Bean\r\n        public HandlerMapping handlerMapping() {\r\n            return new RequestMappingHandlerMapping();\r\n        }\r\n    \r\n        /**\r\n         * Create required HandlerAdapter, to avoid several default HandlerAdapter instances being created\r\n         */\r\n        @Bean\r\n        public HandlerAdapter handlerAdapter() {\r\n            return new RequestMappingHandlerAdapter();\r\n        }\r\n        \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n**My Controller -** \r\n\r\n    @RestController\r\n    @EnableWebMvc\r\n    @Profile(&quot;lambda&quot;)\r\n    @RequestMapping(&quot;/app/v2&quot;)\r\n    public class ClientInformation {\r\n    \t@Value(&quot;${clientDetails.userName}&quot;)\r\n    \tprivate String userName;\r\n    \t\r\n    \t@Value(&quot;${clientDetails.userId}&quot;)\r\n    \tprivate int userId;\r\n    \t\r\n    \t@Value(&quot;${clientDetails.userAddress}&quot;)\r\n    \tprivate String userAddress;\r\n    \t\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic Map&lt;String, Object&gt; getDetails()  {\t\r\n    \t\tMap&lt;String, Object&gt; rtn = new HashMap&lt;&gt;();\r\n    \t    rtn.put(&quot;message&quot;, &quot;App is working fine !!!&quot;);\r\n    \t    return rtn;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/information&quot;)\r\n    \tpublic Map&lt;String, Object&gt; getInformation()  {\t\r\n    \t\tMap&lt;String, Object&gt; rtn = new HashMap&lt;&gt;();\r\n    \t    rtn.put(&quot;name&quot;, userName);\r\n    \t    rtn.put(&quot;id&quot;, userId);\r\n    \t    return rtn;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/ping&quot;)\r\n        public Map&lt;String, Object&gt; getD() {\r\n    \t\tMap&lt;String, Object&gt; rtn = new HashMap&lt;&gt;();\r\n    \t    rtn.put(&quot;name&quot;, &quot;Ping is happening !!!&quot;);\r\n    \t    rtn.put(&quot;status&quot;, &quot;200&quot;);\r\n    \t    return rtn;\r\n        }\r\n    }\r\n\r\n\r\n**Serverless.yml** - \r\n\r\n    service: myapplication-api\r\n    provider:\r\n      name: aws\r\n      runtime: java11\r\n      memorySize: 512\r\n      timeout: 15\r\n     profile: default\r\n      stage: production\r\n    package:\r\n      artifact: target/myapp-api-0.0.1-SNAPSHOT-exec.jar\r\n    \r\n    functions:\r\n      catchAllAny:\r\n        handler: index.catchAllAny\r\n        events:\r\n          - httpApi: &#39;*&#39;\r\n      catchAllMethod:\r\n        handler: handler.catchAllMethod\r\n        events:\r\n          - httpApi:\r\n              method: &#39;*&#39;\r\n              path: /any/method\r\n\r\n**pom.xml**\r\n\r\n\r\n\r\n**May I Know what I am doing wrong ? -** \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.myapp.app&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myapp-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;myapp-api&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.amazonaws&lt;/groupId&gt; &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;1.11.931&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring boot lambda Serverless --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-serverless-java-container-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.authorize&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;anet-java-sdk&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.12.226&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t\t\t\t\t&lt;executable&gt;false&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"AWS Lambda function throws ClassNotFoundException - LambdaHandler. Current classpath: file:/var/task/","body":"<p>Spring boot application I am deploying as a Lambda on the top of APIGetway - Getting error</p>\n<pre><code> Class not found: com.myapp.app.LambdaHandler: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: com.myapp.app.LambdaHandler. Current classpath: file:/var/task/\n</code></pre>\n<p>When the Jar file are getting created, I see there are 3 folder  - BOOT-INF, META-INF, org.</p>\n<p>My package are there inside the BOOT_INF -&gt; classes -&gt; com -&gt; myapp -&gt; app -&gt; LambdaHandler</p>\n<p><strong>Deployment doing using - serverless.yml</strong></p>\n<p><strong>Deployment from Command prompt CLI - serverless deploy</strong></p>\n<p><strong>StreamLambdaHandler.java</strong></p>\n<pre><code>public class StreamLambdaHandler implements RequestStreamHandler {  \n  private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler; \n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(Application.class);\n        } catch (Exception e) {\n            // if we fail here. We re-throw the exception to force another cold start\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Could not initialize Spring Boot Application&quot;, e);\n        }\n    }\n\n    @Override\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context)\n            throws IOException {\n        handler.proxyStream(inputStream, outputStream, context);\n    } \n}\n</code></pre>\n<p><strong>Application.java</strong></p>\n<pre><code>@SpringBootApplication\n@Configuration\n@EnableAutoConfiguration\npublic class Application extends SpringBootServletInitializer {\n    /**\n     * Create required HandlerMapping, to avoid several default HandlerMapping instances being created\n     */\n    @Bean\n    public HandlerMapping handlerMapping() {\n        return new RequestMappingHandlerMapping();\n    }\n\n    /**\n     * Create required HandlerAdapter, to avoid several default HandlerAdapter instances being created\n     */\n    @Bean\n    public HandlerAdapter handlerAdapter() {\n        return new RequestMappingHandlerAdapter();\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p><strong>My Controller -</strong></p>\n<pre><code>@RestController\n@EnableWebMvc\n@Profile(&quot;lambda&quot;)\n@RequestMapping(&quot;/app/v2&quot;)\npublic class ClientInformation {\n    @Value(&quot;${clientDetails.userName}&quot;)\n    private String userName;\n    \n    @Value(&quot;${clientDetails.userId}&quot;)\n    private int userId;\n    \n    @Value(&quot;${clientDetails.userAddress}&quot;)\n    private String userAddress;\n    \n    @GetMapping(&quot;/&quot;)\n    public Map&lt;String, Object&gt; getDetails()  {  \n        Map&lt;String, Object&gt; rtn = new HashMap&lt;&gt;();\n        rtn.put(&quot;message&quot;, &quot;App is working fine !!!&quot;);\n        return rtn;\n    }\n    \n    @GetMapping(&quot;/information&quot;)\n    public Map&lt;String, Object&gt; getInformation()  {  \n        Map&lt;String, Object&gt; rtn = new HashMap&lt;&gt;();\n        rtn.put(&quot;name&quot;, userName);\n        rtn.put(&quot;id&quot;, userId);\n        return rtn;\n    }\n    \n    @GetMapping(&quot;/ping&quot;)\n    public Map&lt;String, Object&gt; getD() {\n        Map&lt;String, Object&gt; rtn = new HashMap&lt;&gt;();\n        rtn.put(&quot;name&quot;, &quot;Ping is happening !!!&quot;);\n        rtn.put(&quot;status&quot;, &quot;200&quot;);\n        return rtn;\n    }\n}\n</code></pre>\n<p><strong>Serverless.yml</strong> -</p>\n<pre><code>service: myapplication-api\nprovider:\n  name: aws\n  runtime: java11\n  memorySize: 512\n  timeout: 15\n profile: default\n  stage: production\npackage:\n  artifact: target/myapp-api-0.0.1-SNAPSHOT-exec.jar\n\nfunctions:\n  catchAllAny:\n    handler: index.catchAllAny\n    events:\n      - httpApi: '*'\n  catchAllMethod:\n    handler: handler.catchAllMethod\n    events:\n      - httpApi:\n          method: '*'\n          path: /any/method\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<p><strong>May I Know what I am doing wrong ? -</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myapp.app&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myapp-api&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.amazonaws&lt;/groupId&gt; &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt; \n            &lt;version&gt;1.11.931&lt;/version&gt; &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring boot lambda Serverless --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.authorize&lt;/groupId&gt;\n            &lt;artifactId&gt;anet-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;2.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.226&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\n                    &lt;executable&gt;false&lt;/executable&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","arraylist","spring-bean"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671467289,"post_id":74853259,"comment_id":132100170,"body_markdown":"You mean the values in Config? How does the Config class look like?","body":"You mean the values in Config? How does the Config class look like?"},{"owner":{"account_id":6543661,"reputation":438,"user_id":5060310,"accept_rate":82,"display_name":"learningUser"},"score":0,"creation_date":1671467733,"post_id":74853259,"comment_id":132100336,"body_markdown":"yes the config values","body":"yes the config values"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671468721,"post_id":74853259,"comment_id":132100698,"body_markdown":"In Spring, beans (instances of classes managed by Spring) are Singleton by default and only once instantiated.\n\nThat&#39;s why you always get the same result. Without knowing what you are trying to do it&#39;s hard to help","body":"In Spring, beans (instances of classes managed by Spring) are Singleton by default and only once instantiated.  That&#39;s why you always get the same result. Without knowing what you are trying to do it&#39;s hard to help"}],"owner":{"account_id":6543661,"reputation":438,"user_id":5060310,"accept_rate":82,"display_name":"learningUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671467958,"creation_date":1671467095,"question_id":74853259,"body_markdown":"I have a spring component which looks like this. It has other beans auto-wired to it. And these components are returned as a list by the method `getConfigurators(String Id)`\r\n\r\n    @Component\r\n    public class Configuration{\r\n    \r\n        @Autowired\r\n        private  Config Config1;\r\n        @Autowired\r\n        private  Config Config2;\r\n    \r\n        @Override\r\n        public List&lt;Config&gt; getConfigurators(String Id) {\r\n            return List.of(\r\n                    Config1,\r\n                    Config2);\r\n           }\r\n         }\r\nWhen I run the application the first time, I get everything correct for `getConfigurators(String Id)`. The subsequent runs, I get the values populated by the first run. I want that every time I run the application, the list is not pre populated with the config values from before.\r\n\r\nThe Config class looks like this\r\n\r\n    @Component\r\n    public class Config1 implements Config {\r\n     final List errors = new ArrayList&lt;&gt;();\r\n       @Override\r\n        public List&lt;&gt; validate() {\r\n            boolean isValid // some logic\r\n            if (!isValid) {\r\n                errors.add(&quot;Some error&quot;);\r\n            }\r\n            return errors;\r\n        }\r\n    }","title":"Spring component returning list from previous run","body":"<p>I have a spring component which looks like this. It has other beans auto-wired to it. And these components are returned as a list by the method <code>getConfigurators(String Id)</code></p>\n<pre><code>@Component\npublic class Configuration{\n\n    @Autowired\n    private  Config Config1;\n    @Autowired\n    private  Config Config2;\n\n    @Override\n    public List&lt;Config&gt; getConfigurators(String Id) {\n        return List.of(\n                Config1,\n                Config2);\n       }\n     }\n</code></pre>\n<p>When I run the application the first time, I get everything correct for <code>getConfigurators(String Id)</code>. The subsequent runs, I get the values populated by the first run. I want that every time I run the application, the list is not pre populated with the config values from before.</p>\n<p>The Config class looks like this</p>\n<pre><code>@Component\npublic class Config1 implements Config {\n final List errors = new ArrayList&lt;&gt;();\n   @Override\n    public List&lt;&gt; validate() {\n        boolean isValid // some logic\n        if (!isValid) {\n            errors.add(&quot;Some error&quot;);\n        }\n        return errors;\n    }\n}\n</code></pre>\n"},{"tags":["java","unix","jvm","certificate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671467138,"post_id":74851732,"comment_id":132100111,"body_markdown":"*... and set configuration in catalina.sh like...* Can you please post what you did verbatim *and* in code tags?","body":"<i>... and set configuration in catalina.sh like...</i> Can you please post what you did verbatim <i>and</i> in code tags?"},{"owner":{"account_id":25088241,"reputation":1,"user_id":18940193,"display_name":"Hafid Hassa&#239;ne"},"score":0,"creation_date":1671545356,"post_id":74851732,"comment_id":132118811,"body_markdown":"Hi there, it&#39;s works perfectly. Thanks a lot for your prompt response / answer.","body":"Hi there, it&#39;s works perfectly. Thanks a lot for your prompt response / answer."}],"owner":{"account_id":25088241,"reputation":1,"user_id":18940193,"display_name":"Hafid Hassa&#239;ne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671467772,"creation_date":1671459532,"question_id":74851732,"body_markdown":"for the moment tomcat uses standard cacerts (/etc/pki/ca-trust/extracted/java) but I need to set a dedicated cacerts (eg /production) for my application. How to do it ?\r\nthanks in advance\r\n\r\nI tried to put cacerts in a dedicated directory (eg /production) and set configuration in catalina.sh like\r\nJAVA_OPTS=$JAVA_OPTS -Djavax.net.ssl.keyStore=/production/cacerts -Djavax.net.ssl.keyStoreType=jks -Djavax.net.ssl.keyStorePassword=changeit\r\nBut it doesn&#39;t work tomcat continues to use cacerts from /etc/pki/ca-trust/extracted/java","title":"how to set dedicated cacerts for jvm","body":"<p>for the moment tomcat uses standard cacerts (/etc/pki/ca-trust/extracted/java) but I need to set a dedicated cacerts (eg /production) for my application. How to do it ?\nthanks in advance</p>\n<p>I tried to put cacerts in a dedicated directory (eg /production) and set configuration in catalina.sh like\nJAVA_OPTS=$JAVA_OPTS -Djavax.net.ssl.keyStore=/production/cacerts -Djavax.net.ssl.keyStoreType=jks -Djavax.net.ssl.keyStorePassword=changeit\nBut it doesn't work tomcat continues to use cacerts from /etc/pki/ca-trust/extracted/java</p>\n"},{"tags":["java","processing"],"owner":{"account_id":27299186,"reputation":1,"user_id":20816316,"display_name":"Junkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671467643,"creation_date":1671467643,"question_id":74853353,"body_markdown":"So i have an assignment to do this project. [  \r\nstar wars like effect ](https://i.stack.imgur.com/8LgRN.jpg)\r\n\r\nAnd my problem with that is no matter where the marble might randomly generate, it must have the same speed as any other.\r\n\r\nI got to the point where depending on the placement of  the marble, the direction of movement will change accordingly, but i cannot wrap my head around what to do next. Because i don&#39;t know how to make a constant speed but different directions because it depends on speedX/speedY .\r\n\r\nI think the issue must lie around there.\r\n\r\nI am new to the processing and programming overall, so if you can please help.\r\n\r\n```\r\n  speedX[i] = x[i] / 100f;\r\n  speedY[i] = y[i] / 100f;   \r\n```\r\n\r\n```\r\nimport processing.core.*;\r\n\r\npublic class Main extends PApplet {\r\n    int NUMBER_OF_STARS = 100;\r\n    float[] x = new float[NUMBER_OF_STARS];\r\n    float[] y = new float[NUMBER_OF_STARS];\r\n    float[] dX = new float[NUMBER_OF_STARS];\r\n    float[] dY = new float[NUMBER_OF_STARS];\r\n\r\n    float[] speedX = new float[NUMBER_OF_STARS];\r\n    float[] speedY = new float[NUMBER_OF_STARS];\r\n  \r\n    float minR, maxR;\r\n\r\n    public void settings() {\r\n        fullScreen();\r\n    }\r\n\r\n    public void setup() {    \r\n        minR = 10;\r\n        maxR = 40;\r\n        for (int i = 0; i &lt; NUMBER_OF_STARS; i++) {\r\n            x[i] = random(-width / 2f + maxR, width / 2f - maxR);\r\n            y[i] = random(-height / 2f + maxR, height / 2f - maxR);\r\n            speedX[i] = x[i] / 100f;\r\n            speedY[i] = y[i] / 100f;        \r\n        }\r\n    }\r\n\r\n    public void draw() {\r\n        fill(0, 0, 0, 20);\r\n        rect(0, 0, width, height);\r\n        translate(width / 2f, height / 2f);\r\n        for (int i = 0; i &lt; NUMBER_OF_STARS; i++) {\r\n            fill(255, 255, 255);\r\n            circle(x[i] + dX[i], y[i] + dY[i], 30);\r\n            dX[i] += speedX[i];\r\n            dY[i] += speedY[i];\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        PApplet.main(&quot;Main&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried just making the speed the 1/100 of coordinates of the marble. It created the effect, but the marbles, because of this, moving at different speed. Especially those marbles that are near center don&#39;t move at all.\r\nThey need to have effect like they all are moving towards you, like in Star wars movies, or in like in these example  (https://i.stack.imgur.com/SsVL9.png)\r\n\r\nP.S please judge my code and share any advices that will make my code more readable ","title":"How to make a effect of zooming in to stars or marbles in Processing. Like a HyperJump effect in Starwars","body":"<p>So i have an assignment to do this project. <a href=\"https://i.stack.imgur.com/8LgRN.jpg\" rel=\"nofollow noreferrer\"><br />\nstar wars like effect </a></p>\n<p>And my problem with that is no matter where the marble might randomly generate, it must have the same speed as any other.</p>\n<p>I got to the point where depending on the placement of  the marble, the direction of movement will change accordingly, but i cannot wrap my head around what to do next. Because i don't know how to make a constant speed but different directions because it depends on speedX/speedY .</p>\n<p>I think the issue must lie around there.</p>\n<p>I am new to the processing and programming overall, so if you can please help.</p>\n<pre><code>  speedX[i] = x[i] / 100f;\n  speedY[i] = y[i] / 100f;   \n</code></pre>\n<pre><code>import processing.core.*;\n\npublic class Main extends PApplet {\n    int NUMBER_OF_STARS = 100;\n    float[] x = new float[NUMBER_OF_STARS];\n    float[] y = new float[NUMBER_OF_STARS];\n    float[] dX = new float[NUMBER_OF_STARS];\n    float[] dY = new float[NUMBER_OF_STARS];\n\n    float[] speedX = new float[NUMBER_OF_STARS];\n    float[] speedY = new float[NUMBER_OF_STARS];\n  \n    float minR, maxR;\n\n    public void settings() {\n        fullScreen();\n    }\n\n    public void setup() {    \n        minR = 10;\n        maxR = 40;\n        for (int i = 0; i &lt; NUMBER_OF_STARS; i++) {\n            x[i] = random(-width / 2f + maxR, width / 2f - maxR);\n            y[i] = random(-height / 2f + maxR, height / 2f - maxR);\n            speedX[i] = x[i] / 100f;\n            speedY[i] = y[i] / 100f;        \n        }\n    }\n\n    public void draw() {\n        fill(0, 0, 0, 20);\n        rect(0, 0, width, height);\n        translate(width / 2f, height / 2f);\n        for (int i = 0; i &lt; NUMBER_OF_STARS; i++) {\n            fill(255, 255, 255);\n            circle(x[i] + dX[i], y[i] + dY[i], 30);\n            dX[i] += speedX[i];\n            dY[i] += speedY[i];\n        }\n\n    }\n\n    public static void main(String[] args) {\n        PApplet.main(&quot;Main&quot;);\n    }\n\n}\n</code></pre>\n<p>I tried just making the speed the 1/100 of coordinates of the marble. It created the effect, but the marbles, because of this, moving at different speed. Especially those marbles that are near center don't move at all.\nThey need to have effect like they all are moving towards you, like in Star wars movies, or in like in these example  (<a href=\"https://i.stack.imgur.com/SsVL9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SsVL9.png</a>)</p>\n<p>P.S please judge my code and share any advices that will make my code more readable</p>\n"},{"tags":["java","json","jsonpath","jayway"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1671519314,"post_id":74850281,"comment_id":132110947,"body_markdown":"_Basically I would like to write an if else expression using JsonPath._  ---&gt; Why?  It would be so simpler to extract the two dates using JSONPath and then use pure java to do the if-else logic.","body":"<i>Basically I would like to write an if else expression using JsonPath.</i>  ---&gt; Why?  It would be so simpler to extract the two dates using JSONPath and then use pure java to do the if-else logic."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1671529254,"post_id":74850281,"comment_id":132113600,"body_markdown":"@AkshayG because I want this if/else logic to be injected by the configurators through the JsonPath and keep my code agnostic of what they actually want to extract :)","body":"@AkshayG because I want this if/else logic to be injected by the configurators through the JsonPath and keep my code agnostic of what they actually want to extract :)"},{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1672211457,"post_id":74850281,"comment_id":132241898,"body_markdown":"you cannot use if-else but you can use if and if not. Something like this. \n\n`$.concat($.[?(@.A.C.date != null)].C.date,$.[?(@.A.C.date == null)].B.D.date)`","body":"you cannot use if-else but you can use if and if not. Something like this.   <code>$.concat($.[?(@.A.C.date != null)].C.date,$.[?(@.A.C.date == null)].B.D.date)</code>"},{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1672211843,"post_id":74850281,"comment_id":132241975,"body_markdown":"https://jsonpath.herokuapp.com/ site is down and I didn&#39;t find any other site to test jayway jsonpath online. It would help if you can share the reproducible example","body":"<a href=\"https://jsonpath.herokuapp.com/\" rel=\"nofollow noreferrer\">jsonpath.herokuapp.com</a> site is down and I didn&#39;t find any other site to test jayway jsonpath online. It would help if you can share the reproducible example"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671466945,"creation_date":1671459318,"answer_id":74851693,"question_id":74850281,"body_markdown":"You may consider another library _Josson_ to do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;   \\&quot;A\\&quot;:{&quot; +\r\n        &quot;      \\&quot;C\\&quot;:{&quot; +\r\n        &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-23\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   },&quot; +\r\n        &quot;   \\&quot;B\\&quot;:{&quot; +\r\n        &quot;      \\&quot;D\\&quot;:{&quot; +\r\n        &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-24\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   },&quot; +\r\n        &quot;   \\&quot;E\\&quot;:{&quot; +\r\n        &quot;      \\&quot;F\\&quot;:{&quot; +\r\n        &quot;         \\&quot;date\\&quot;:null&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;   }&quot; +\r\n        &quot;}&quot;);\r\n    String date = josson.getString(&quot;coalesce(A.C.date, B.D.date)&quot;);\r\n    System.out.println(date);\r\n    date = josson.getString(&quot;coalesce(E.F.date, B.D.date)&quot;);\r\n    System.out.println(date);\r\n    date = josson.getString(&quot;*.*.date[isNotNull()]&quot;);\r\n    System.out.println(date);\r\n    date = josson.getString(&quot;*().date[isNotNull()]&quot;);\r\n    System.out.println(date);\r\n    JsonNode node = josson.getNode(&quot;**.**.date[isNotNull()]*&quot;);\r\n    System.out.println(node.toString());\r\n\r\n__Output__\r\n\r\n    2022-01-23\r\n    2022-01-24\r\n    2022-01-23\r\n    2022-01-23\r\n    [&quot;2022-01-23&quot;,&quot;2022-01-24&quot;]","title":"How to conditionally extract a Json value using JayWay JsonPath?","body":"<p>You may consider another library <em>Josson</em> to do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;   \\&quot;A\\&quot;:{&quot; +\n    &quot;      \\&quot;C\\&quot;:{&quot; +\n    &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-23\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;   },&quot; +\n    &quot;   \\&quot;B\\&quot;:{&quot; +\n    &quot;      \\&quot;D\\&quot;:{&quot; +\n    &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-24\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;   },&quot; +\n    &quot;   \\&quot;E\\&quot;:{&quot; +\n    &quot;      \\&quot;F\\&quot;:{&quot; +\n    &quot;         \\&quot;date\\&quot;:null&quot; +\n    &quot;      }&quot; +\n    &quot;   }&quot; +\n    &quot;}&quot;);\nString date = josson.getString(&quot;coalesce(A.C.date, B.D.date)&quot;);\nSystem.out.println(date);\ndate = josson.getString(&quot;coalesce(E.F.date, B.D.date)&quot;);\nSystem.out.println(date);\ndate = josson.getString(&quot;*.*.date[isNotNull()]&quot;);\nSystem.out.println(date);\ndate = josson.getString(&quot;*().date[isNotNull()]&quot;);\nSystem.out.println(date);\nJsonNode node = josson.getNode(&quot;**.**.date[isNotNull()]*&quot;);\nSystem.out.println(node.toString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>2022-01-23\n2022-01-24\n2022-01-23\n2022-01-23\n[&quot;2022-01-23&quot;,&quot;2022-01-24&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671462745,"creation_date":1671462745,"answer_id":74852369,"question_id":74850281,"body_markdown":"Here is a possible solution using `com.jayway.jsonpath`\r\n```\r\nimport com.jayway.jsonpath.JsonPath;\r\n\r\nimport java.util.List;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        JsonPath jsonPath = JsonPath.compile(&quot;$.*.*[?(@.date != \\&quot;null\\&quot;)].date&quot;);\r\n        List&lt;String&gt; read = jsonPath.read(&quot;{\\n&quot; +\r\n                &quot;   \\&quot;A\\&quot;:{\\n&quot; +\r\n                &quot;      \\&quot;C\\&quot;:{\\n&quot; +\r\n                &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-23\\&quot;\\n&quot; +\r\n                &quot;      }\\n&quot; +\r\n                &quot;   },\\n&quot; +\r\n                &quot;   \\&quot;B\\&quot;:{\\n&quot; +\r\n                &quot;      \\&quot;D\\&quot;:{\\n&quot; +\r\n                &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-24\\&quot;\\n&quot; +\r\n                &quot;      }\\n&quot; +\r\n                &quot;   }\\n&quot; +\r\n                &quot;}&quot;);\r\n        System.out.println(read.get(0));\r\n    }\r\n}\r\n```\r\nIt gets all the non-null dates then prints the first.","title":"How to conditionally extract a Json value using JayWay JsonPath?","body":"<p>Here is a possible solution using <code>com.jayway.jsonpath</code></p>\n<pre><code>import com.jayway.jsonpath.JsonPath;\n\nimport java.util.List;\n\nclass Scratch {\n    public static void main(String[] args) {\n        JsonPath jsonPath = JsonPath.compile(&quot;$.*.*[?(@.date != \\&quot;null\\&quot;)].date&quot;);\n        List&lt;String&gt; read = jsonPath.read(&quot;{\\n&quot; +\n                &quot;   \\&quot;A\\&quot;:{\\n&quot; +\n                &quot;      \\&quot;C\\&quot;:{\\n&quot; +\n                &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-23\\&quot;\\n&quot; +\n                &quot;      }\\n&quot; +\n                &quot;   },\\n&quot; +\n                &quot;   \\&quot;B\\&quot;:{\\n&quot; +\n                &quot;      \\&quot;D\\&quot;:{\\n&quot; +\n                &quot;         \\&quot;date\\&quot;:\\&quot;2022-01-24\\&quot;\\n&quot; +\n                &quot;      }\\n&quot; +\n                &quot;   }\\n&quot; +\n                &quot;}&quot;);\n        System.out.println(read.get(0));\n    }\n}\n</code></pre>\n<p>It gets all the non-null dates then prints the first.</p>\n"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671466945,"creation_date":1671451522,"question_id":74850281,"body_markdown":"I have the following JSON:\r\n\r\n    {\r\n       &quot;A&quot;:{\r\n          &quot;C&quot;:{\r\n             &quot;date&quot;:&quot;2022-01-23&quot;\r\n          }\r\n       },\r\n       &quot;B&quot;:{\r\n          &quot;D&quot;:{\r\n             &quot;date&quot;:&quot;2022-01-24&quot;\r\n          }\r\n       }\r\n    }\r\n\r\nI would like to extract the value `$.A.C.date` if it is not `null`, else I would like to extract `$.B.D.date`. \r\n\r\nBasically I would like to write an `if else` expression using `JsonPath`. \r\nHowever, I don&#39;t manage to make it work. \r\n\r\nThis is what I&#39;ve tried: \r\n\r\n    String expression = &quot;$.[?($.[?(@.A.C.date != null)].date || $.[?(@.B.D.date != null)].date)]&quot;;\r\n    JsonPath jsonPath = JsonPath.compile(expression);\r\n    String json = &quot;...my JSON...&quot;;\r\n    Object extractedValue = jsonPath.read(json);\r\n    System.out.println(extractedValue);\r\n\r\n... but the output I get is simply an empty array: `[]`.\r\n\r\nI have also tried this: \r\n\r\n    &quot;$.[?($.[?(@.A.C.date != null)].A.C.date || $.[?(@.B.D.date != null)].B.D.date)]&quot;\r\n\r\n... but the output is a list with all the elements (because conditions match in both cases), yet I thought that writing `.A.C.date` was extracting just the `date` and not everything: \r\n\r\n    [\r\n        {&quot;A&quot;:{&quot;C&quot;:{&quot;date&quot;:&quot;2022-01-23&quot;}},\r\n        &quot;B&quot;:{&quot;D&quot;:{&quot;date&quot;:&quot;2022-01-24&quot;}}}\r\n    ]\r\n\r\nAnyone has an idea? I can&#39;t find anything online which is similar to this.\r\n\r\nThis is the dependency I&#39;m using:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to conditionally extract a Json value using JayWay JsonPath?","body":"<p>I have the following JSON:</p>\n<pre><code>{\n   &quot;A&quot;:{\n      &quot;C&quot;:{\n         &quot;date&quot;:&quot;2022-01-23&quot;\n      }\n   },\n   &quot;B&quot;:{\n      &quot;D&quot;:{\n         &quot;date&quot;:&quot;2022-01-24&quot;\n      }\n   }\n}\n</code></pre>\n<p>I would like to extract the value <code>$.A.C.date</code> if it is not <code>null</code>, else I would like to extract <code>$.B.D.date</code>.</p>\n<p>Basically I would like to write an <code>if else</code> expression using <code>JsonPath</code>.\nHowever, I don't manage to make it work.</p>\n<p>This is what I've tried:</p>\n<pre><code>String expression = &quot;$.[?($.[?(@.A.C.date != null)].date || $.[?(@.B.D.date != null)].date)]&quot;;\nJsonPath jsonPath = JsonPath.compile(expression);\nString json = &quot;...my JSON...&quot;;\nObject extractedValue = jsonPath.read(json);\nSystem.out.println(extractedValue);\n</code></pre>\n<p>... but the output I get is simply an empty array: <code>[]</code>.</p>\n<p>I have also tried this:</p>\n<pre><code>&quot;$.[?($.[?(@.A.C.date != null)].A.C.date || $.[?(@.B.D.date != null)].B.D.date)]&quot;\n</code></pre>\n<p>... but the output is a list with all the elements (because conditions match in both cases), yet I thought that writing <code>.A.C.date</code> was extracting just the <code>date</code> and not everything:</p>\n<pre><code>[\n    {&quot;A&quot;:{&quot;C&quot;:{&quot;date&quot;:&quot;2022-01-23&quot;}},\n    &quot;B&quot;:{&quot;D&quot;:{&quot;date&quot;:&quot;2022-01-24&quot;}}}\n]\n</code></pre>\n<p>Anyone has an idea? I can't find anything online which is similar to this.</p>\n<p>This is the dependency I'm using:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6225989,"reputation":662,"user_id":4844216,"display_name":"Ilario"},"score":0,"creation_date":1671468496,"post_id":74853207,"comment_id":132100631,"body_markdown":"If you add a log before the `convertAndSend` with the content of `buff` is it correct? Is your payload correctly serialized? Do you get any exception?","body":"If you add a log before the <code>convertAndSend</code> with the content of <code>buff</code> is it correct? Is your payload correctly serialized? Do you get any exception?"},{"owner":{"account_id":18044689,"reputation":101,"user_id":13115991,"display_name":"BoostedAnimal"},"score":0,"creation_date":1671484116,"post_id":74853207,"comment_id":132105311,"body_markdown":"It seems that the problem is that I sometimes receive the `END` message before receiving the entire body stream. I can also see that the for some reason, it seems that the buffer doesn&#39;t reset, i.e. in the first request it&#39;s 4000 (should be 8000), and in a second separate request it&#39;s 12 000.","body":"It seems that the problem is that I sometimes receive the <code>END</code> message before receiving the entire body stream. I can also see that the for some reason, it seems that the buffer doesn&#39;t reset, i.e. in the first request it&#39;s 4000 (should be 8000), and in a second separate request it&#39;s 12 000."},{"owner":{"account_id":6225989,"reputation":662,"user_id":4844216,"display_name":"Ilario"},"score":0,"creation_date":1671535555,"post_id":74853207,"comment_id":132115535,"body_markdown":"is.read will read available bytes up to at most the buffer size. If your buffer really contains 12000 bytes (which I doubt) there&#39;s a serious bug in the JVM. It&#39;s hard to say why you get and EOF earlier than you expected without information on your data source...","body":"is.read will read available bytes up to at most the buffer size. If your buffer really contains 12000 bytes (which I doubt) there&#39;s a serious bug in the JVM. It&#39;s hard to say why you get and EOF earlier than you expected without information on your data source..."}],"owner":{"account_id":18044689,"reputation":101,"user_id":13115991,"display_name":"BoostedAnimal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671466855,"creation_date":1671466855,"question_id":74853207,"body_markdown":"I want to get the request body as a stream and while it&#39;s uploading, pass it to a web socket. This is my current implementation:\r\n```\r\n        InputStream is = request.getInputStream();\r\n        int total = 0;\r\n        int bytes;\r\n        byte[] buff = new byte[8192];\r\n        while ((bytes = is.read(buff)) != -1) {\r\n            total = total + bytes;\r\n            this.simpMessagingTemplate.convertAndSend(&quot;test&quot;, Arrays.toString(buff));\r\n        }\r\n        this.simpMessagingTemplate.convertAndSend(&quot;test&quot;, &quot;END&quot;);\r\n```\r\n\r\nWhen sending it now, I&#39;m not sure if the data gets corrupted or duplciated but I can&#39;t parse the request. Once the data is sent over, I send `END` so I know that I can parse the data on the frontend. ","title":"How to pass the body of a request as a stream to a websocket without corrupting data?","body":"<p>I want to get the request body as a stream and while it's uploading, pass it to a web socket. This is my current implementation:</p>\n<pre><code>        InputStream is = request.getInputStream();\n        int total = 0;\n        int bytes;\n        byte[] buff = new byte[8192];\n        while ((bytes = is.read(buff)) != -1) {\n            total = total + bytes;\n            this.simpMessagingTemplate.convertAndSend(&quot;test&quot;, Arrays.toString(buff));\n        }\n        this.simpMessagingTemplate.convertAndSend(&quot;test&quot;, &quot;END&quot;);\n</code></pre>\n<p>When sending it now, I'm not sure if the data gets corrupted or duplciated but I can't parse the request. Once the data is sent over, I send <code>END</code> so I know that I can parse the data on the frontend.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671286746,"post_id":74834618,"comment_id":132069262,"body_markdown":"it seems there is some confusion with oracle versions: identity columns is a feature of 12c (and `insert into(..) values(default,...)` is valid syntax in 12c)","body":"it seems there is some confusion with oracle versions: identity columns is a feature of 12c (and <code>insert into(..) values(default,...)</code> is valid syntax in 12c)"},{"owner":{"account_id":1707831,"reputation":1627,"user_id":1566537,"accept_rate":82,"display_name":"Bernie"},"score":0,"creation_date":1671289721,"post_id":74834618,"comment_id":132069837,"body_markdown":"I updated the ticket with version information. Does the version matter in this case?","body":"I updated the ticket with version information. Does the version matter in this case?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1671385096,"post_id":74834618,"comment_id":132083476,"body_markdown":"Why did you pick strategy = GenerationType.IDENTITY, and how are tables being created?  IDENTITY requires JPA to let the database assign the value on the insert statement, requiring JPA to leave it blank and look up the value assigned from the database after the insert. Oracle generally uses SEQUENCE objects for assigning identity, so I&#39;m surprised this was accepted at all - maybe try using SEQUENCE instead.","body":"Why did you pick strategy = GenerationType.IDENTITY, and how are tables being created?  IDENTITY requires JPA to let the database assign the value on the insert statement, requiring JPA to leave it blank and look up the value assigned from the database after the insert. Oracle generally uses SEQUENCE objects for assigning identity, so I&#39;m surprised this was accepted at all - maybe try using SEQUENCE instead."},{"owner":{"account_id":1707831,"reputation":1627,"user_id":1566537,"accept_rate":82,"display_name":"Bernie"},"score":0,"creation_date":1671443709,"post_id":74834618,"comment_id":132092723,"body_markdown":"Thanks to all for your input. I posted the solution (ID no longer autogenerated, now it&#39;s sequence-based).","body":"Thanks to all for your input. I posted the solution (ID no longer autogenerated, now it&#39;s sequence-based)."}],"answers":[{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671285372,"creation_date":1671285372,"answer_id":74834673,"question_id":74834618,"body_markdown":"I think the `insertable = false` in your `@Column` annotation might be the problem. Please try without that and let us know how that works.\r\n\r\nYou can read more about this attribute on https://stackoverflow.com/questions/3805584/please-explain-about-insertable-false-and-updatable-false-in-reference-to-the-jp.","title":"JPA/Hibernate on Oracle: Skip autogenerated ID Column when I persist the entity","body":"<p>I think the <code>insertable = false</code> in your <code>@Column</code> annotation might be the problem. Please try without that and let us know how that works.</p>\n<p>You can read more about this attribute on <a href=\"https://stackoverflow.com/questions/3805584/please-explain-about-insertable-false-and-updatable-false-in-reference-to-the-jp\">Please explain about insertable=false and updatable=false in reference to the JPA @Column annotation</a>.</p>\n"}],"owner":{"account_id":1707831,"reputation":1627,"user_id":1566537,"accept_rate":82,"display_name":"Bernie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671466743,"creation_date":1671284856,"question_id":74834618,"body_markdown":"**Info:** Oracle DB 19. Hibernate is v5.5.4 with  ```org.hibernate.dialect.Oracle12cDialect```. JDBC driver is v12.2.0.1.\r\n\r\n**Question:**\r\nI want to save an entity with JPA/Hibernate (DB is Oracle 11g), that has an autogenerated ID column (here: PROT_ID).\r\n\r\n    CREATE TABLE SOME_PROTOCOL(\r\n      PROT_ID       NUMBER(18) GENERATED ALWAYS AS IDENTITY (START WITH 123 MAXVALUE 99999) NOT NULL,\r\n      MORE_COLS     VARCHAR2(500 CHAR) NOT NULL);\r\n\r\nTo add a new record, I have to skip the ID column, like that: \r\n\r\n    insert into SOME_PROTOCOL (MORE_COLS) values (&#39;Some Value&#39;); \r\n\r\nThis is my Entity class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;SOME_PROTOCOL&quot;)\r\n    public class SomeProtocol {\r\n      @Id \r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;PROT_ID&quot;, insertable = false)\r\n      private Long id;\r\n      // Getter, Setter, other columns\r\n    }\r\n\r\nSaving the entity with\r\n\r\n    SomeProtocol s = new SomeProtocol();\r\n    s.setMoreCols(&quot;whatever&quot;);\r\n    hibernateSession.save(s);\r\n\r\nleads to this error: \r\n\r\n    ERROR: Invalid argument(s) in call\r\n    Hibernate: insert into APPL_PROTOCOL (PROT_ID, MORE_COLS) values (default, ?)\r\n\r\nOk, JPA doesn&#39;t skip the ID column, but sets ```default``` as a value.\r\n\r\nI tried some more with @Column(insertable=false) or GenerationType.AUTO, but to no avail.\r\n\r\nHow can I save an entity class with an autogenerated ID column?\r\n\r\n**Solution:**\r\nWe changed the ID generation for that table, we now use an external sequence (previously it was auto-generated). Hibernate can save the entity now via hibernateSession.save.\r\n\r\n      @SequenceGenerator(name = &quot;SEQ_APPL_PROT_GENERATOR&quot;, sequenceName = &quot;SEQ_APPL_PROTOCOL_ID&quot;, allocationSize = 1)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_APPL_PROT_GENERATOR&quot;)\r\n      @Column(name = &quot;PROT_ID&quot;)\r\n      private Long id;","title":"JPA/Hibernate on Oracle: Skip autogenerated ID Column when I persist the entity","body":"<p><strong>Info:</strong> Oracle DB 19. Hibernate is v5.5.4 with  <code>org.hibernate.dialect.Oracle12cDialect</code>. JDBC driver is v12.2.0.1.</p>\n<p><strong>Question:</strong>\nI want to save an entity with JPA/Hibernate (DB is Oracle 11g), that has an autogenerated ID column (here: PROT_ID).</p>\n<pre><code>CREATE TABLE SOME_PROTOCOL(\n  PROT_ID       NUMBER(18) GENERATED ALWAYS AS IDENTITY (START WITH 123 MAXVALUE 99999) NOT NULL,\n  MORE_COLS     VARCHAR2(500 CHAR) NOT NULL);\n</code></pre>\n<p>To add a new record, I have to skip the ID column, like that:</p>\n<pre><code>insert into SOME_PROTOCOL (MORE_COLS) values ('Some Value'); \n</code></pre>\n<p>This is my Entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;SOME_PROTOCOL&quot;)\npublic class SomeProtocol {\n  @Id \n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;PROT_ID&quot;, insertable = false)\n  private Long id;\n  // Getter, Setter, other columns\n}\n</code></pre>\n<p>Saving the entity with</p>\n<pre><code>SomeProtocol s = new SomeProtocol();\ns.setMoreCols(&quot;whatever&quot;);\nhibernateSession.save(s);\n</code></pre>\n<p>leads to this error:</p>\n<pre><code>ERROR: Invalid argument(s) in call\nHibernate: insert into APPL_PROTOCOL (PROT_ID, MORE_COLS) values (default, ?)\n</code></pre>\n<p>Ok, JPA doesn't skip the ID column, but sets <code>default</code> as a value.</p>\n<p>I tried some more with @Column(insertable=false) or GenerationType.AUTO, but to no avail.</p>\n<p>How can I save an entity class with an autogenerated ID column?</p>\n<p><strong>Solution:</strong>\nWe changed the ID generation for that table, we now use an external sequence (previously it was auto-generated). Hibernate can save the entity now via hibernateSession.save.</p>\n<pre><code>  @SequenceGenerator(name = &quot;SEQ_APPL_PROT_GENERATOR&quot;, sequenceName = &quot;SEQ_APPL_PROTOCOL_ID&quot;, allocationSize = 1)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_APPL_PROT_GENERATOR&quot;)\n  @Column(name = &quot;PROT_ID&quot;)\n  private Long id;\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671466285,"creation_date":1671466285,"question_id":74853116,"body_markdown":"I have the following configuration bean :\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(\r\n            prefix = &quot;services.config&quot;\r\n    )\r\n    @Getter\r\n    @RequiredArgsConstructor\r\n    public class ServicesConfiguration {\r\n        private final Map&lt;String, ServiceProperties&gt; configs = new HashMap&lt;&gt;(); \r\n       ....\r\n    }\r\n\r\nThe `ServiceProperties` class : \r\n\r\n    @AllArgsConstructor\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class ServiceProperties{\r\n        private String name;\r\n        @JsonProperty(&quot;refresh&quot;)\r\n        private ServiceRefreshProperties refreshProperties = new ServiceRefreshProperties();\r\n\r\n    }\r\n\r\nThe refresh properties class : \r\n\r\n    @Data\r\n    public class ServiceRefreshProperties {\r\n        private boolean enabled;\r\n        private String scheduler;\r\n    }\r\n\r\nand my yaml look like the following :\r\n\r\n    services:\r\n      config:\r\n        serviceA:\r\n          name: &quot;A&quot;\r\n          refresh:\r\n            enabled: true\r\n            scheduler: &quot;aa-sched&quot;\r\n\r\n \r\nWhen the application starts, the refreshProperties are not loaded and are equal to `null`. All the other properties (`name`, and a few others) are loaded successfully.\r\n\r\nI tried also : \r\n1. Adding a dedicated setter for this property which gets an input of map in the function arguments.\r\n\r\nAny idea why it doesnt work ?\r\n","title":"@JsonProeprty ignored on nested object","body":"<p>I have the following configuration bean :</p>\n<pre><code>@Configuration\n@ConfigurationProperties(\n        prefix = &quot;services.config&quot;\n)\n@Getter\n@RequiredArgsConstructor\npublic class ServicesConfiguration {\n    private final Map&lt;String, ServiceProperties&gt; configs = new HashMap&lt;&gt;(); \n   ....\n}\n</code></pre>\n<p>The <code>ServiceProperties</code> class :</p>\n<pre><code>@AllArgsConstructor\n@Data\n@NoArgsConstructor\npublic class ServiceProperties{\n    private String name;\n    @JsonProperty(&quot;refresh&quot;)\n    private ServiceRefreshProperties refreshProperties = new ServiceRefreshProperties();\n\n}\n</code></pre>\n<p>The refresh properties class :</p>\n<pre><code>@Data\npublic class ServiceRefreshProperties {\n    private boolean enabled;\n    private String scheduler;\n}\n</code></pre>\n<p>and my yaml look like the following :</p>\n<pre><code>services:\n  config:\n    serviceA:\n      name: &quot;A&quot;\n      refresh:\n        enabled: true\n        scheduler: &quot;aa-sched&quot;\n</code></pre>\n<p>When the application starts, the refreshProperties are not loaded and are equal to <code>null</code>. All the other properties (<code>name</code>, and a few others) are loaded successfully.</p>\n<p>I tried also :</p>\n<ol>\n<li>Adding a dedicated setter for this property which gets an input of map in the function arguments.</li>\n</ol>\n<p>Any idea why it doesnt work ?</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-cloud-stream","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671466217,"creation_date":1671466217,"answer_id":74853099,"question_id":74800162,"body_markdown":"The `x-death` header is set by the broker, when it (the broker) routes a rejected message to the DLQ; by default, instead of rejecting a message, the binder republishes to the DLQ with additional information such as exception (which is not available when the broker does the routing).\r\n\r\nTo use broker routing instead, set `republishToDlq` to `false`.","title":"RabbitMQ Binder null x-death within retry loop creating infinite retries before killing consumer","body":"<p>The <code>x-death</code> header is set by the broker, when it (the broker) routes a rejected message to the DLQ; by default, instead of rejecting a message, the binder republishes to the DLQ with additional information such as exception (which is not available when the broker does the routing).</p>\n<p>To use broker routing instead, set <code>republishToDlq</code> to <code>false</code>.</p>\n"}],"owner":{"account_id":6326317,"reputation":35,"user_id":4912690,"display_name":"CiaranP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74853099,"answer_count":1,"score":0,"last_activity_date":1671466217,"creation_date":1671029877,"question_id":74800162,"body_markdown":"I have a retry loop going with use of the dead letter queue to schedule retries until hitting a limit. The issue I have is the `x-death` header is always coming back null whilst it&#39;s clearly aware of the failure as `x-exception-message` and `x-exception-stacktrace` are present.\r\n\r\nThis is what&#39;s happenning in my Spring tests where I use a testcontainers version of rabbit with 3.9-management docker image\r\n\r\nHere is an example of Rabbit MQ binder class:\r\n```\r\n@EnableBinding(Sink.class)\r\n@Service\r\n@Slf4j\r\npublic class RabbitMqListener {\r\n  \r\n  @Value(&quot;${events.retries:10}&quot;)\r\n  private long maxRetries;\r\n\r\n  @StreamListener(target = Sink.INPUT)\r\n  public void process(Event&lt;Map&lt;String, Object&gt;&gt; event,\r\n                      @Header(name = &quot;x-death&quot;, required = false) Map&lt;?, ?&gt; death,\r\n                      @Headers Map&lt;?,?&gt; headers,\r\n                      @Header(AmqpHeaders.DELIVERY_TAG) Long deliveryTag) {\r\n    log.debug(&quot;Received event with Id:{} and deliveryTag:{}&quot;, event.getId(), deliveryTag);\r\n    log.debug(&quot;headers:{}&quot;, headers);\r\n    log.debug(&quot;x-death header:{}&quot;, death);\r\n    if (death != null &amp;&amp; death.get(&quot;count&quot;) != null &amp;&amp;\r\n        Long.valueOf(death.get(&quot;count&quot;).toString()).compareTo(maxRetries) &gt;= 0) {\r\n      log.error(&quot;Max retries reached for event with Id:{}&quot;, event.getId());\r\n      throw new ImmediateAcknowledgeAmqpException(&quot;Failed after &quot; + (maxRetries + 1) + &quot; attempts&quot;);\r\n    }\r\n    \r\n    try {\r\n      processEvent(event);\r\n    } catch (Exception e) {\r\n      throw new AmqpRejectAndDontRequeueException(&quot;Fail to evaluate event with id:&quot; + event.getId(), e);\r\n    }\r\n\r\n  }\r\n\r\n  private boolean processEvent(Event&lt;Map&lt;String, Object&gt;&gt; event) {\r\n    //redacted - you can trust that in this test case it&#39;s throwing an exception\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy config:\r\n```\r\nspring:\r\n  rabbitmq:\r\n    host: localhost\r\n    port: 5672\r\n    username: guest\r\n    password: guest\r\n    dynamic: true\r\n  cloud.stream:\r\n    bindings:\r\n      input:\r\n        destination: events\r\n        group: service\r\n        binder: rabbit\r\n        consumer:\r\n          maxAttempts: 1\r\n    rabbit:\r\n      bindings:\r\n        input:\r\n          consumer:\r\n            autoBindDlq: true\r\n            dlqTtl: 1500\r\n            deadLetterExchange:\r\n    default.contentType: application/json\r\n```\r\n\r\nAnd some logs for the test:\r\n```\r\n[INFO] [main] 14:03:58.448 SpringBootMockServletContext - Initializing Spring TestDispatcherServlet &#39;&#39;\r\n[INFO] [main] 14:03:58.448 TestDispatcherServlet - Initializing Servlet &#39;&#39;\r\n[INFO] [main] 14:03:58.471 TestDispatcherServlet - Completed initialization in 23 ms\r\n[INFO] [main] 14:03:58.577 CachingConnectionFactory - Attempting to connect to: [localhost:61215]\r\n[INFO] [main] 14:03:58.584 CachingConnectionFactory - Created new connection: rabbitConnectionFactory.publisher#6b28d4e4:0/SimpleConnection@40941b54 [delegate=amqp://guest@127.0.0.1:61215/, localPort= 61229]\r\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:03:58.595 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\r\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:03:59.616 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\r\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:04:01.633 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\r\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:04:05.648 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\r\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:04:10.678 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\r\n```\r\nThen several loops of this logging from consuming the message \r\n```\r\n[DEBUG] [events.service-1] 14:04:11.886 RabbitMqListener - Received event with id:foobar and deliveryTag:2\r\n[DEBUG] [events.service-1] 14:04:11.886 RabbitMqListener - headers:{amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=, amqp_deliveryTag=2, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events.service, x-exception-message=Fail to event with id:foobar, x-original-routingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, x-original-exchange=events, id=9fe66161-d224-2988-7ddd-337975fec66a, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:&#39;{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}&#39; MessageProperties [headers={x-exception-message=Fail to evaluate event with id:foobar, x-original-routingKey=events, x-original-exchange=events, x-exception-stacktrace=org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=events, amqp_deliveryTag=1, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, id=ca45340c-a895-61c7-2bc5-99b88b6b7e23, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:&#39;{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}&#39; MessageProperties [headers={}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=events, receivedRoutingKey=events, deliveryTag=1, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, timestamp=1671026651701}]\r\n[DEBUG] [events.service-1] 14:04:11.887 RabbitMqListener - x-death header:null\r\n[ERROR] [events.service-1] 14:04:11.889 LoggingHandler - org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=, amqp_deliveryTag=2, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events.service, x-exception-message=Fail to evaluate event with id:foobar, x-original-routingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, x-original-exchange=events, id=9fe66161-d224-2988-7ddd-337975fec66a, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:&#39;{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}&#39; MessageProperties [headers={x-exception-message=Fail to evaluate event with id:foobar, x-original-routingKey=events, x-original-exchange=events, x-exception-stacktrace=org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=events, amqp_deliveryTag=1, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, id=ca45340c-a895-61c7-2bc5-99b88b6b7e23, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:&#39;{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}&#39; MessageProperties [headers={}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=events, receivedRoutingKey=events, deliveryTag=1, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, timestamp=1671026651701}]\r\n\tat org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:64)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:134)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:62)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:570)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:520)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:208)\r\n\tat org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter.access$800(AmqpInboundChannelAdapter.java:65)\r\n\tat org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.createAndSend(AmqpInboundChannelAdapter.java:322)\r\n\tat org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.onMessage(AmqpInboundChannelAdapter.java:285)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1630)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1549)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1537)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1528)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1472)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:977)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:923)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1298)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1204)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar\r\n\tat com.foo.bar.listener.RabbitMqListener.processEvent(RabbitMqListener.java:99)\r\n\tat com.foo.bar.listener.RabbitMqListener.process(RabbitMqListener.java:70)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\r\n\tat org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:55)\r\n\t... 27 more\r\nCaused by: org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:169)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:780)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:738)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:639)\r\n\tat com.foo.bar.client.ClientImpl.readObject(ClientImpl.java:46)\r\n\tat com.foo.bar.client.ClientImpl$$FastClassBySpringCGLIB$$e4db9dde.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:53)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:346)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\t... 35 more\r\n}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=, receivedRoutingKey=events.service, deliveryTag=3, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, x-exception-stacktrace=org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=events, amqp_deliveryTag=1, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, id=ca45340c-a895-61c7-2bc5-99b88b6b7e23, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:&#39;{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}&#39; MessageProperties [headers={}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=events, receivedRoutingKey=events, deliveryTag=1, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, timestamp=1671026651701}]\r\n\tat org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:64)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:134)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:62)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:570)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:520)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:208)\r\n\tat org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter.access$800(AmqpInboundChannelAdapter.java:65)\r\n\tat org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.createAndSend(AmqpInboundChannelAdapter.java:322)\r\n\tat org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.onMessage(AmqpInboundChannelAdapter.java:285)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1630)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1549)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1537)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1528)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1472)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:977)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:923)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1298)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1204)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: Failed to evaluate event with id:foobar\r\n\tat com.foo.bar.listener.RabbitMqListener.processEvent(RabbitMqListener.java:99)\r\n\tat com.foo.bar.listener.RabbitMqListener.process(RabbitMqListener.java:70)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\r\n\tat org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:55)\r\n\t... 27 more\r\nCaused by: org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:169)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:780)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:738)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:639)\r\n\tat com.foo.bar.client.ClientImpl.readObject(ClientImpl.java:46)\r\n\tat com.foo.bar.client.ClientImpl$$FastClassBySpringCGLIB$$e4db9dde.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:53)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:346)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\t... 35 more\r\n```\r\nWe get several repeats of this loop before\r\n```\r\n[ERROR] [events.service-1] 14:04:11.951 SimpleMessageListenerContainer - Consumer thread error, thread abort.\r\n[ERROR] [events.service-1] 14:04:11.954 SimpleMessageListenerContainer - Stopping container from aborted consumer\r\n[INFO] [events.service-1] 14:04:11.954 SimpleMessageListenerContainer - Waiting for workers to finish.\r\n[INFO] [events.service-1] 14:04:11.954 SimpleMessageListenerContainer - Successfully waited for workers to finish.\r\n\r\n```\r\n","title":"RabbitMQ Binder null x-death within retry loop creating infinite retries before killing consumer","body":"<p>I have a retry loop going with use of the dead letter queue to schedule retries until hitting a limit. The issue I have is the <code>x-death</code> header is always coming back null whilst it's clearly aware of the failure as <code>x-exception-message</code> and <code>x-exception-stacktrace</code> are present.</p>\n<p>This is what's happenning in my Spring tests where I use a testcontainers version of rabbit with 3.9-management docker image</p>\n<p>Here is an example of Rabbit MQ binder class:</p>\n<pre><code>@EnableBinding(Sink.class)\n@Service\n@Slf4j\npublic class RabbitMqListener {\n  \n  @Value(&quot;${events.retries:10}&quot;)\n  private long maxRetries;\n\n  @StreamListener(target = Sink.INPUT)\n  public void process(Event&lt;Map&lt;String, Object&gt;&gt; event,\n                      @Header(name = &quot;x-death&quot;, required = false) Map&lt;?, ?&gt; death,\n                      @Headers Map&lt;?,?&gt; headers,\n                      @Header(AmqpHeaders.DELIVERY_TAG) Long deliveryTag) {\n    log.debug(&quot;Received event with Id:{} and deliveryTag:{}&quot;, event.getId(), deliveryTag);\n    log.debug(&quot;headers:{}&quot;, headers);\n    log.debug(&quot;x-death header:{}&quot;, death);\n    if (death != null &amp;&amp; death.get(&quot;count&quot;) != null &amp;&amp;\n        Long.valueOf(death.get(&quot;count&quot;).toString()).compareTo(maxRetries) &gt;= 0) {\n      log.error(&quot;Max retries reached for event with Id:{}&quot;, event.getId());\n      throw new ImmediateAcknowledgeAmqpException(&quot;Failed after &quot; + (maxRetries + 1) + &quot; attempts&quot;);\n    }\n    \n    try {\n      processEvent(event);\n    } catch (Exception e) {\n      throw new AmqpRejectAndDontRequeueException(&quot;Fail to evaluate event with id:&quot; + event.getId(), e);\n    }\n\n  }\n\n  private boolean processEvent(Event&lt;Map&lt;String, Object&gt;&gt; event) {\n    //redacted - you can trust that in this test case it's throwing an exception\n  }\n\n}\n</code></pre>\n<p>My config:</p>\n<pre><code>spring:\n  rabbitmq:\n    host: localhost\n    port: 5672\n    username: guest\n    password: guest\n    dynamic: true\n  cloud.stream:\n    bindings:\n      input:\n        destination: events\n        group: service\n        binder: rabbit\n        consumer:\n          maxAttempts: 1\n    rabbit:\n      bindings:\n        input:\n          consumer:\n            autoBindDlq: true\n            dlqTtl: 1500\n            deadLetterExchange:\n    default.contentType: application/json\n</code></pre>\n<p>And some logs for the test:</p>\n<pre><code>[INFO] [main] 14:03:58.448 SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''\n[INFO] [main] 14:03:58.448 TestDispatcherServlet - Initializing Servlet ''\n[INFO] [main] 14:03:58.471 TestDispatcherServlet - Completed initialization in 23 ms\n[INFO] [main] 14:03:58.577 CachingConnectionFactory - Attempting to connect to: [localhost:61215]\n[INFO] [main] 14:03:58.584 CachingConnectionFactory - Created new connection: rabbitConnectionFactory.publisher#6b28d4e4:0/SimpleConnection@40941b54 [delegate=amqp://guest@127.0.0.1:61215/, localPort= 61229]\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:03:58.595 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:03:59.616 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:04:01.633 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:04:05.648 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\n[ERROR] [AMQP Connection 127.0.0.1:61215] 14:04:10.678 CachingConnectionFactory - Channel shutdown: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=403, reply-text=ACCESS_REFUSED - operation not permitted on the default exchange, class-id=50, method-id=20)\n</code></pre>\n<p>Then several loops of this logging from consuming the message</p>\n<pre><code>[DEBUG] [events.service-1] 14:04:11.886 RabbitMqListener - Received event with id:foobar and deliveryTag:2\n[DEBUG] [events.service-1] 14:04:11.886 RabbitMqListener - headers:{amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=, amqp_deliveryTag=2, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events.service, x-exception-message=Fail to event with id:foobar, x-original-routingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, x-original-exchange=events, id=9fe66161-d224-2988-7ddd-337975fec66a, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:'{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}' MessageProperties [headers={x-exception-message=Fail to evaluate event with id:foobar, x-original-routingKey=events, x-original-exchange=events, x-exception-stacktrace=org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=events, amqp_deliveryTag=1, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, id=ca45340c-a895-61c7-2bc5-99b88b6b7e23, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:'{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}' MessageProperties [headers={}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=events, receivedRoutingKey=events, deliveryTag=1, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, timestamp=1671026651701}]\n[DEBUG] [events.service-1] 14:04:11.887 RabbitMqListener - x-death header:null\n[ERROR] [events.service-1] 14:04:11.889 LoggingHandler - org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=, amqp_deliveryTag=2, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events.service, x-exception-message=Fail to evaluate event with id:foobar, x-original-routingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, x-original-exchange=events, id=9fe66161-d224-2988-7ddd-337975fec66a, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:'{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}' MessageProperties [headers={x-exception-message=Fail to evaluate event with id:foobar, x-original-routingKey=events, x-original-exchange=events, x-exception-stacktrace=org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=events, amqp_deliveryTag=1, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, id=ca45340c-a895-61c7-2bc5-99b88b6b7e23, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:'{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}' MessageProperties [headers={}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=events, receivedRoutingKey=events, deliveryTag=1, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, timestamp=1671026651701}]\n    at org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:64)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:134)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:62)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:570)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:520)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:208)\n    at org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter.access$800(AmqpInboundChannelAdapter.java:65)\n    at org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.createAndSend(AmqpInboundChannelAdapter.java:322)\n    at org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.onMessage(AmqpInboundChannelAdapter.java:285)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1630)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1549)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1537)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1528)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1472)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:977)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:923)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1298)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1204)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar\n    at com.foo.bar.listener.RabbitMqListener.processEvent(RabbitMqListener.java:99)\n    at com.foo.bar.listener.RabbitMqListener.process(RabbitMqListener.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n    at org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:55)\n    ... 27 more\nCaused by: org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:169)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:780)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:738)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:639)\n    at com.foo.bar.client.ClientImpl.readObject(ClientImpl.java:46)\n    at com.foo.bar.client.ClientImpl$$FastClassBySpringCGLIB$$e4db9dde.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:53)\n    at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:346)\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    ... 35 more\n}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=, receivedRoutingKey=events.service, deliveryTag=3, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, x-exception-stacktrace=org.springframework.messaging.MessagingException: Exception thrown while invoking RabbitMqListener#process[4 args]; nested exception is org.springframework.amqp.AmqpRejectAndDontRequeueException: Fail to evaluate event with id:foobar, failedMessage=GenericMessage [payload=byte[359], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedExchange=events, amqp_deliveryTag=1, amqp_consumerQueue=events.service, amqp_redelivered=false, amqp_receivedRoutingKey=events, amqp_timestamp=Wed Dec 14 14:03:58 GMT 2022, amqp_messageId=4ae864f8-0709-1fdc-b26d-611573474d60, id=ca45340c-a895-61c7-2bc5-99b88b6b7e23, amqp_consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, sourceData=(Body:'{&quot;id&quot;:&quot;foobar&quot;,&quot;timestamp&quot;:1671026638483}' MessageProperties [headers={}, timestamp=Wed Dec 14 14:03:58 GMT 2022, messageId=4ae864f8-0709-1fdc-b26d-611573474d60, contentType=application/json, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=events, receivedRoutingKey=events, deliveryTag=1, consumerTag=amq.ctag-QQ85gnjxKZvE5RTYUWJ1hg, consumerQueue=events.service]), contentType=application/json, timestamp=1671026651701}]\n    at org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:64)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:134)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:62)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:570)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:520)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:208)\n    at org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter.access$800(AmqpInboundChannelAdapter.java:65)\n    at org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.createAndSend(AmqpInboundChannelAdapter.java:322)\n    at org.springframework.integration.amqp.inbound.AmqpInboundChannelAdapter$Listener.onMessage(AmqpInboundChannelAdapter.java:285)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1630)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1549)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1537)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1528)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1472)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:977)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:923)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:83)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1298)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1204)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.amqp.AmqpRejectAndDontRequeueException: Failed to evaluate event with id:foobar\n    at com.foo.bar.listener.RabbitMqListener.processEvent(RabbitMqListener.java:99)\n    at com.foo.bar.listener.RabbitMqListener.process(RabbitMqListener.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n    at org.springframework.cloud.stream.binding.StreamListenerMessageHandler.handleRequestMessage(StreamListenerMessageHandler.java:55)\n    ... 27 more\nCaused by: org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:113)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:169)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:780)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:738)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:639)\n    at com.foo.bar.client.ClientImpl.readObject(ClientImpl.java:46)\n    at com.foo.bar.client.ClientImpl$$FastClassBySpringCGLIB$$e4db9dde.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:53)\n    at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421)\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:346)\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    ... 35 more\n</code></pre>\n<p>We get several repeats of this loop before</p>\n<pre><code>[ERROR] [events.service-1] 14:04:11.951 SimpleMessageListenerContainer - Consumer thread error, thread abort.\n[ERROR] [events.service-1] 14:04:11.954 SimpleMessageListenerContainer - Stopping container from aborted consumer\n[INFO] [events.service-1] 14:04:11.954 SimpleMessageListenerContainer - Waiting for workers to finish.\n[INFO] [events.service-1] 14:04:11.954 SimpleMessageListenerContainer - Successfully waited for workers to finish.\n\n</code></pre>\n"},{"tags":["java","maven","maven-3"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671466190,"creation_date":1671461970,"answer_id":74852229,"question_id":74851387,"body_markdown":"It seems [ChainedLocalRepositoryManager](https://github.com/apache/maven-resolver/blob/master/maven-resolver-util/src/main/java/org/eclipse/aether/util/repository/ChainedLocalRepositoryManager.java) is what you actually need:\r\n\r\n```\r\nDefaultRepositorySystemSession session = MavenRepositorySystemUtils.newSession();\r\n\r\nLocalRepositoryManager cacheRepository = system.newLocalRepositoryManager(\r\n        session, \r\n        new LocalRepository(cacheRepositoryDir)\r\n);\r\n\r\nLocalRepositoryManager rwRepository = system.newLocalRepositoryManager(\r\n        session, \r\n        new LocalRepository(rwRepository)\r\n);\r\n\r\nLocalRepositoryManager chainedRepository = new ChainedLocalRepositoryManager(\r\n        rwRepository, \r\n        Collections.singletonList(cacheRepository), \r\n        true\r\n);\r\n\r\n\r\nsession.setLocalRepositoryManager(chainedRepository);\r\n```","title":"Split Local Repository Maven Resolver API","body":"<p>It seems <a href=\"https://github.com/apache/maven-resolver/blob/master/maven-resolver-util/src/main/java/org/eclipse/aether/util/repository/ChainedLocalRepositoryManager.java\" rel=\"nofollow noreferrer\">ChainedLocalRepositoryManager</a> is what you actually need:</p>\n<pre><code>DefaultRepositorySystemSession session = MavenRepositorySystemUtils.newSession();\n\nLocalRepositoryManager cacheRepository = system.newLocalRepositoryManager(\n        session, \n        new LocalRepository(cacheRepositoryDir)\n);\n\nLocalRepositoryManager rwRepository = system.newLocalRepositoryManager(\n        session, \n        new LocalRepository(rwRepository)\n);\n\nLocalRepositoryManager chainedRepository = new ChainedLocalRepositoryManager(\n        rwRepository, \n        Collections.singletonList(cacheRepository), \n        true\n);\n\n\nsession.setLocalRepositoryManager(chainedRepository);\n</code></pre>\n"}],"owner":{"account_id":1287105,"reputation":63,"user_id":1239974,"display_name":"user1239974"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671466190,"creation_date":1671457529,"question_id":74851387,"body_markdown":"I am a user of the Maven Resolver API and have a hard time finding any documentation regarding the implementation/classes of the API to use when \r\nimplementing &quot;*Split Local Repository*&quot; and to &quot;*differentiate between cached and locally installed artifacts*&quot; as described in https://maven.apache.org/resolver/local-repository.html. \r\n\r\nThe use case I am trying to implement is a Java client application downloading artifacts with 2 Local repositories. \r\nOne pre-loaded read-only cache, and another where remotely downloaded artifacts, not found in the read-only cache, are installed. \r\n\r\nFirst of all I wonder if the described use case even possible to solve with current version of the Resolver API? \r\nIn that case are there any code (java) examples for this. May be some JUBIT tests in the Maven Artifact Resolver code repository?\r\n\r\nI am currently using resolver **1.8.2** but I am happy to upgrade to the latest (**1.9.2**).\r\nThe following is the code I am currently using to initiate my Session/LocalRepository\r\n\r\n     DefaultRepositorySystemSession session = MavenRepositorySystemUtils.newSession();\r\n\r\n     LocalRepository localRepo = new LocalRepository(repoBaseDir);\r\n     session.setLocalRepositoryManager(system.newLocalRepositoryManager(session, localRepo));\r\n\r\n","title":"Split Local Repository Maven Resolver API","body":"<p>I am a user of the Maven Resolver API and have a hard time finding any documentation regarding the implementation/classes of the API to use when\nimplementing &quot;<em>Split Local Repository</em>&quot; and to &quot;<em>differentiate between cached and locally installed artifacts</em>&quot; as described in <a href=\"https://maven.apache.org/resolver/local-repository.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/resolver/local-repository.html</a>.</p>\n<p>The use case I am trying to implement is a Java client application downloading artifacts with 2 Local repositories.\nOne pre-loaded read-only cache, and another where remotely downloaded artifacts, not found in the read-only cache, are installed.</p>\n<p>First of all I wonder if the described use case even possible to solve with current version of the Resolver API?\nIn that case are there any code (java) examples for this. May be some JUBIT tests in the Maven Artifact Resolver code repository?</p>\n<p>I am currently using resolver <strong>1.8.2</strong> but I am happy to upgrade to the latest (<strong>1.9.2</strong>).\nThe following is the code I am currently using to initiate my Session/LocalRepository</p>\n<pre><code> DefaultRepositorySystemSession session = MavenRepositorySystemUtils.newSession();\n\n LocalRepository localRepo = new LocalRepository(repoBaseDir);\n session.setLocalRepositoryManager(system.newLocalRepositoryManager(session, localRepo));\n</code></pre>\n"},{"tags":["java","javac","bytecode","jvm-bytecode","ecj"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671465969,"post_id":74852451,"comment_id":132099704,"body_markdown":"Compare with [this answer](https://stackoverflow.com/a/67414130/2711488)","body":"Compare with <a href=\"https://stackoverflow.com/a/67414130/2711488\">this answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671466053,"creation_date":1671466053,"answer_id":74853066,"question_id":74852451,"body_markdown":"Yes, it&#39;s a javac bug, although you won&#39;t notice it in this case. The line number mappings are only used for exception stack traces, and so I don&#39;t see any issues unless there&#39;s a NPE thrown on the `mStyle == other.mStyle` line. If I modify the `equals` method to be broken:\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        TimeZoneDisplayKey other = (TimeZoneDisplayKey) obj;\r\n        return\r\n                Objects.equals(mLocale, mLocale) &amp;&amp;\r\n                mStyle == other.mStyle &amp;&amp;\r\n                Objects.equals(mTimeZone, other.mTimeZone);\r\n    }\r\n\r\nAnd then I call `equals` with `null` as the second argument, a `NullPointerException` is thrown when trying to access `other.mStyle` but the line number is wrong. It reports the line above which is comparing (incorrectly) the `mLocale` field.","title":"Does javac generate inaccurate line numbers compared to ecj (for this particular case)?","body":"<p>Yes, it's a javac bug, although you won't notice it in this case. The line number mappings are only used for exception stack traces, and so I don't see any issues unless there's a NPE thrown on the <code>mStyle == other.mStyle</code> line. If I modify the <code>equals</code> method to be broken:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    TimeZoneDisplayKey other = (TimeZoneDisplayKey) obj;\n    return\n            Objects.equals(mLocale, mLocale) &amp;&amp;\n            mStyle == other.mStyle &amp;&amp;\n            Objects.equals(mTimeZone, other.mTimeZone);\n}\n</code></pre>\n<p>And then I call <code>equals</code> with <code>null</code> as the second argument, a <code>NullPointerException</code> is thrown when trying to access <code>other.mStyle</code> but the line number is wrong. It reports the line above which is comparing (incorrectly) the <code>mLocale</code> field.</p>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74853066,"answer_count":1,"score":0,"last_activity_date":1671466053,"creation_date":1671463164,"question_id":74852451,"body_markdown":"I use the following class which has this specificity in the equals() method that the return keyword and its expressions are split into several lines (return keyword is on its own line).\r\n\r\n```java\r\npackage jd.core.test;\r\n\r\nimport java.util.Locale;\r\nimport java.util.Objects;\r\nimport java.util.TimeZone;\r\n\r\npublic class TimeZoneDisplayKey {\r\n\r\n    private final TimeZone mTimeZone;\r\n    private final int mStyle;\r\n    private final Locale mLocale;\r\n\r\n    public TimeZoneDisplayKey(TimeZone mTimeZone, int mStyle, Locale mLocale) {\r\n        this.mTimeZone = mTimeZone;\r\n        this.mStyle = mStyle;\r\n        this.mLocale = mLocale;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(mLocale, mStyle, mTimeZone);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        TimeZoneDisplayKey other = (TimeZoneDisplayKey) obj;\r\n        return\r\n                Objects.equals(mLocale, other.mLocale) &amp;&amp;\r\n                mStyle == other.mStyle &amp;&amp;\r\n                Objects.equals(mTimeZone, other.mTimeZone);\r\n    }\r\n}\r\n```\r\n\r\nI use `javac -g` command (from JDK 17) and `javap -l` to obtain the line number table.\r\nBelow a reduced extract of `javap` for `equals()` to illustrate what is puzzling:\r\n\r\n```javap\r\n      31: aload_0\r\n      32: getfield      #17                 // Field mLocale:Ljava/util/Locale;\r\n      35: aload_2\r\n      36: getfield      #17                 // Field mLocale:Ljava/util/Locale;\r\n      39: invokestatic  #37                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\r\n      42: ifeq          74\r\n      45: aload_0\r\n      46: getfield      #13                 // Field mStyle:I\r\n      49: aload_2\r\n      50: getfield      #13                 // Field mStyle:I\r\n      53: if_icmpne     74\r\n      56: aload_0\r\n      57: getfield      #7                  // Field mTimeZone:Ljava/util/TimeZone;\r\n      60: aload_2\r\n      61: getfield      #7                  // Field mTimeZone:Ljava/util/TimeZone;\r\n      64: invokestatic  #37                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\r\n      67: ifeq          74\r\n      70: iconst_1\r\n      71: goto          75\r\n      74: iconst_0\r\n      75: ireturn\r\n    LineNumberTable:\r\n      line 26: 0\r\n      line 27: 5\r\n      line 29: 7\r\n      line 30: 11\r\n      line 32: 13\r\n      line 33: 24\r\n      line 35: 26\r\n      line 36: 31\r\n      line 37: 39\r\n      line 39: 64\r\n      line 36: 75\r\n```\r\n\r\nIt says there is more than just `return` on line 36, there&#39;s `return` (75: ireturn) and `this` (31: aload_0) whereas in the source, the return keyword is on its own line.\r\n\r\nIf I look at what produces `ecj` for `equals()`, I can&#39;t see this problem:\r\n\r\n```javap\r\n      31: aload_0\r\n      32: getfield      #21                 // Field mLocale:Ljava/util/Locale;\r\n      35: aload_2\r\n      36: getfield      #21                 // Field mLocale:Ljava/util/Locale;\r\n      39: invokestatic  #47                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\r\n      42: ifeq          72\r\n      45: aload_0\r\n      46: getfield      #19                 // Field mStyle:I\r\n      49: aload_2\r\n      50: getfield      #19                 // Field mStyle:I\r\n      53: if_icmpne     72\r\n      56: aload_0\r\n      57: getfield      #17                 // Field mTimeZone:Ljava/util/TimeZone;\r\n      60: aload_2\r\n      61: getfield      #17                 // Field mTimeZone:Ljava/util/TimeZone;\r\n      64: invokestatic  #47                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\r\n      67: ifeq          72\r\n      70: iconst_1\r\n      71: ireturn\r\n      72: iconst_0\r\n      73: ireturn\r\n    LineNumberTable:\r\n      line 26: 0\r\n      line 27: 5\r\n      line 29: 7\r\n      line 30: 11\r\n      line 32: 13\r\n      line 33: 24\r\n      line 35: 26\r\n      line 37: 31\r\n      line 38: 45\r\n      line 39: 56\r\n      line 36: 70\r\n```\r\n\r\n\r\n\r\n","title":"Does javac generate inaccurate line numbers compared to ecj (for this particular case)?","body":"<p>I use the following class which has this specificity in the equals() method that the return keyword and its expressions are split into several lines (return keyword is on its own line).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package jd.core.test;\n\nimport java.util.Locale;\nimport java.util.Objects;\nimport java.util.TimeZone;\n\npublic class TimeZoneDisplayKey {\n\n    private final TimeZone mTimeZone;\n    private final int mStyle;\n    private final Locale mLocale;\n\n    public TimeZoneDisplayKey(TimeZone mTimeZone, int mStyle, Locale mLocale) {\n        this.mTimeZone = mTimeZone;\n        this.mStyle = mStyle;\n        this.mLocale = mLocale;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(mLocale, mStyle, mTimeZone);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        TimeZoneDisplayKey other = (TimeZoneDisplayKey) obj;\n        return\n                Objects.equals(mLocale, other.mLocale) &amp;&amp;\n                mStyle == other.mStyle &amp;&amp;\n                Objects.equals(mTimeZone, other.mTimeZone);\n    }\n}\n</code></pre>\n<p>I use <code>javac -g</code> command (from JDK 17) and <code>javap -l</code> to obtain the line number table.\nBelow a reduced extract of <code>javap</code> for <code>equals()</code> to illustrate what is puzzling:</p>\n<pre><code>      31: aload_0\n      32: getfield      #17                 // Field mLocale:Ljava/util/Locale;\n      35: aload_2\n      36: getfield      #17                 // Field mLocale:Ljava/util/Locale;\n      39: invokestatic  #37                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\n      42: ifeq          74\n      45: aload_0\n      46: getfield      #13                 // Field mStyle:I\n      49: aload_2\n      50: getfield      #13                 // Field mStyle:I\n      53: if_icmpne     74\n      56: aload_0\n      57: getfield      #7                  // Field mTimeZone:Ljava/util/TimeZone;\n      60: aload_2\n      61: getfield      #7                  // Field mTimeZone:Ljava/util/TimeZone;\n      64: invokestatic  #37                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\n      67: ifeq          74\n      70: iconst_1\n      71: goto          75\n      74: iconst_0\n      75: ireturn\n    LineNumberTable:\n      line 26: 0\n      line 27: 5\n      line 29: 7\n      line 30: 11\n      line 32: 13\n      line 33: 24\n      line 35: 26\n      line 36: 31\n      line 37: 39\n      line 39: 64\n      line 36: 75\n</code></pre>\n<p>It says there is more than just <code>return</code> on line 36, there's <code>return</code> (75: ireturn) and <code>this</code> (31: aload_0) whereas in the source, the return keyword is on its own line.</p>\n<p>If I look at what produces <code>ecj</code> for <code>equals()</code>, I can't see this problem:</p>\n<pre><code>      31: aload_0\n      32: getfield      #21                 // Field mLocale:Ljava/util/Locale;\n      35: aload_2\n      36: getfield      #21                 // Field mLocale:Ljava/util/Locale;\n      39: invokestatic  #47                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\n      42: ifeq          72\n      45: aload_0\n      46: getfield      #19                 // Field mStyle:I\n      49: aload_2\n      50: getfield      #19                 // Field mStyle:I\n      53: if_icmpne     72\n      56: aload_0\n      57: getfield      #17                 // Field mTimeZone:Ljava/util/TimeZone;\n      60: aload_2\n      61: getfield      #17                 // Field mTimeZone:Ljava/util/TimeZone;\n      64: invokestatic  #47                 // Method java/util/Objects.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z\n      67: ifeq          72\n      70: iconst_1\n      71: ireturn\n      72: iconst_0\n      73: ireturn\n    LineNumberTable:\n      line 26: 0\n      line 27: 5\n      line 29: 7\n      line 30: 11\n      line 32: 13\n      line 33: 24\n      line 35: 26\n      line 37: 31\n      line 38: 45\n      line 39: 56\n      line 36: 70\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514443859,"creation_date":1514443859,"answer_id":48002920,"question_id":48002505,"body_markdown":"Try to call\r\n\r\n    beanFactory.initializeBean(object, beanName);\r\n    beanFactory.autowireBeanProperties(object, AutowireCapableBeanFactory.AUTOWIRE_BY_TYPE, true);\r\n\r\nand then \r\n\r\n    beanFactory.getBeanDefinition(beanName).setPrimary(true)\r\n","title":"how to dynamic register spring bean and set as primary","body":"<p>Try to call</p>\n\n<pre><code>beanFactory.initializeBean(object, beanName);\nbeanFactory.autowireBeanProperties(object, AutowireCapableBeanFactory.AUTOWIRE_BY_TYPE, true);\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>beanFactory.getBeanDefinition(beanName).setPrimary(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3057377,"reputation":451,"user_id":2590727,"accept_rate":39,"display_name":"user2590727"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523616726,"creation_date":1523616726,"answer_id":49815315,"question_id":48002505,"body_markdown":"You have to build BeanDefinition. \r\ne.g.\r\n\r\n    BeanDefinitionBuilder builder = BeanDefinitionBuilder.rootBeanDefinition(object.class)\r\n                            .addPropertyValue(&quot;nameProperty1&quot;, propertyValue1)\r\n                            .addPropertyValue(&quot;nameProperty2&quot;, propertyValue2)\r\n\r\n    BeanDefinition beanDefinition = builder.getBeanDefinition();\r\n    beanDefinition.setPrimary(Boolean.TRUE);\r\n\r\n    beanDefinitionRegistry.registerBeanDefinition(beanName, beanDefinition);\r\n\r\nSo you can now get bean &quot;beanName&quot; from application context.\r\n\r\n ","title":"how to dynamic register spring bean and set as primary","body":"<p>You have to build BeanDefinition. \ne.g.</p>\n\n<pre><code>BeanDefinitionBuilder builder = BeanDefinitionBuilder.rootBeanDefinition(object.class)\n                        .addPropertyValue(\"nameProperty1\", propertyValue1)\n                        .addPropertyValue(\"nameProperty2\", propertyValue2)\n\nBeanDefinition beanDefinition = builder.getBeanDefinition();\nbeanDefinition.setPrimary(Boolean.TRUE);\n\nbeanDefinitionRegistry.registerBeanDefinition(beanName, beanDefinition);\n</code></pre>\n\n<p>So you can now get bean \"beanName\" from application context.</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671465969,"creation_date":1671465969,"answer_id":74853045,"question_id":48002505,"body_markdown":"Here a full sample because I had to search and combine with others answers to make it work fully\r\n\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.beans.factory.support.BeanDefinitionBuilder;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class Config implements BeanDefinitionRegistryPostProcessor {\r\n    \r\n      public static final String MOCK_CLASS = &quot;MyClassMock&quot;;\r\n      public static final String MY_CLASS = &quot;MyClass&quot;;\r\n    \r\n      @Override\r\n      public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n        final var beanDefinition = BeanDefinitionBuilder\r\n            .rootBeanDefinition(MyClass.class)\r\n            .getBeanDefinition();\r\n        beanDefinition.setPrimary(true);\r\n        registry.registerBeanDefinition(MOCK_CLASS, beanDefinition);\r\n      }\r\n    \r\n      @Override\r\n      public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        beanFactory.registerSingleton(MOCK_CLASS, new MyClass());\r\n        beanFactory.registerSingleton(MY_CLASS, new MyClass());\r\n      }\r\n    \r\n    }","title":"how to dynamic register spring bean and set as primary","body":"<p>Here a full sample because I had to search and combine with others answers to make it work fully</p>\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.support.BeanDefinitionBuilder;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class Config implements BeanDefinitionRegistryPostProcessor {\n\n  public static final String MOCK_CLASS = &quot;MyClassMock&quot;;\n  public static final String MY_CLASS = &quot;MyClass&quot;;\n\n  @Override\n  public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n    final var beanDefinition = BeanDefinitionBuilder\n        .rootBeanDefinition(MyClass.class)\n        .getBeanDefinition();\n    beanDefinition.setPrimary(true);\n    registry.registerBeanDefinition(MOCK_CLASS, beanDefinition);\n  }\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    beanFactory.registerSingleton(MOCK_CLASS, new MyClass());\n    beanFactory.registerSingleton(MY_CLASS, new MyClass());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6777278,"reputation":59,"user_id":5218700,"display_name":"Kai Han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1671465969,"creation_date":1514441830,"question_id":48002505,"body_markdown":"It&#39;s easy to register. \r\nJust need to call `beanFactory.registerSingleton(beanName, object);`.\r\n\r\nBut `beanFactory.getBeanDefinition(beanName).setPrimary(true)` will throw **NPE**.\r\n\r\n**So how to dynamically register spring bean and set as primary?**\r\n","title":"how to dynamic register spring bean and set as primary","body":"<p>It's easy to register. \nJust need to call <code>beanFactory.registerSingleton(beanName, object);</code>.</p>\n\n<p>But <code>beanFactory.getBeanDefinition(beanName).setPrimary(true)</code> will throw <strong>NPE</strong>.</p>\n\n<p><strong>So how to dynamically register spring bean and set as primary?</strong></p>\n"},{"tags":["java","scala","google-bigquery","label","httprequest"],"owner":{"account_id":5179735,"reputation":5,"user_id":10595786,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671465902,"creation_date":1671465902,"question_id":74853031,"body_markdown":"I need to configure a parser which can add few default fields(such as default labels) in the request body of underlying BQ HTTP request whenever any query is run via this ***bqserv*** instance (like mentioned in the code snippet below). How to build ***bqserv?***\r\n\r\n```\r\nbqserv.query(QueryJobConfiguration.newBuilder(query).build)\r\n```\r\n\r\nI found ***BigQueryOptions.newBuilder().setTransportOptions()*** to set transport options, but I am unable to figure out exactly how to configure/(or set a parser for) HTTP request body ? I came across **com.google.cloud.spark.bigquery.repackaged.com.google.api.client.util.ObjectParser** as well, but again not sure how to use it and create ***bqserv*** (class com.google.cloud.spark.bigquery.repackaged.com.google.cloud.bigquery.BigQueryImpl) object.","title":"How to configure HTTP request body parser using Bigquery Java client library","body":"<p>I need to configure a parser which can add few default fields(such as default labels) in the request body of underlying BQ HTTP request whenever any query is run via this <em><strong>bqserv</strong></em> instance (like mentioned in the code snippet below). How to build <em><strong>bqserv?</strong></em></p>\n<pre><code>bqserv.query(QueryJobConfiguration.newBuilder(query).build)\n</code></pre>\n<p>I found <em><strong>BigQueryOptions.newBuilder().setTransportOptions()</strong></em> to set transport options, but I am unable to figure out exactly how to configure/(or set a parser for) HTTP request body ? I came across <strong>com.google.cloud.spark.bigquery.repackaged.com.google.api.client.util.ObjectParser</strong> as well, but again not sure how to use it and create <em><strong>bqserv</strong></em> (class com.google.cloud.spark.bigquery.repackaged.com.google.cloud.bigquery.BigQueryImpl) object.</p>\n"},{"tags":["java","pdfbox","digital-signature","pdf-annotations"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1671334569,"post_id":74836898,"comment_id":132076310,"body_markdown":"@KJ You missed the image, see the new edit. He added the stamp annotation (object 129) between signature 1 and 2. After adding signature 2 both signatures are still valid, but now the stamp annotation is considered modified despite that object 129 and related objects were not part of the last incremental save, that is the mystery.","body":"@KJ You missed the image, see the new edit. He added the stamp annotation (object 129) between signature 1 and 2. After adding signature 2 both signatures are still valid, but now the stamp annotation is considered modified despite that object 129 and related objects were not part of the last incremental save, that is the mystery."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1671361496,"post_id":74836898,"comment_id":132079255,"body_markdown":"https://drive.google.com/drive/folders/1mVuP5XLgRp0KUcZ9K85DC18-f3XL2ZFv?usp=sharing comment by Dimitar KRASTEV, I signed the same document using Acrobat Pro and the DSS service. When the document is signed with Acrobat Pro - everything is fine (at least Adobe are compliant with themselves). When it is signed with DSS - there is a problem with the annotation considered as modified. I did not use the same visible signatures wia DSS and Acrobat (the qualified certificate is the same). (...)analyze those files and see why acrobat considering the annotation modified after the second DSS signature","body":"<a href=\"https://drive.google.com/drive/folders/1mVuP5XLgRp0KUcZ9K85DC18-f3XL2ZFv?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a> comment by Dimitar KRASTEV, I signed the same document using Acrobat Pro and the DSS service. When the document is signed with Acrobat Pro - everything is fine (at least Adobe are compliant with themselves). When it is signed with DSS - there is a problem with the annotation considered as modified. I did not use the same visible signatures wia DSS and Acrobat (the qualified certificate is the same). (...)analyze those files and see why acrobat considering the annotation modified after the second DSS signature"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1671364492,"post_id":74836898,"comment_id":132079741,"body_markdown":"The Adobe signed PDF includes the stamp annotation in the last incremental save and adds two things: 1) `/P 14 0 R` and 2) `/NM(495f9a95-136e-4992-881a-6a834fa85519)` . Maybe Adobe adds these itself quietly and then complains about its own behaviour. Try adding the /P and /NM yourself. (call `setPage()`and `setAnnotationName()`).","body":"The Adobe signed PDF includes the stamp annotation in the last incremental save and adds two things: 1) <code>&#47;P 14 0 R</code> and 2) <code>&#47;NM(495f9a95-136e-4992-881a-6a834fa85519)</code> . Maybe Adobe adds these itself quietly and then complains about its own behaviour. Try adding the /P and /NM yourself. (call <code>setPage()</code>and <code>setAnnotationName()</code>)."},{"owner":{"account_id":27264469,"reputation":11,"user_id":20803275,"display_name":"Pulse Mind"},"score":1,"creation_date":1671371806,"post_id":74836898,"comment_id":132081039,"body_markdown":"Well done @TilmanHausherr and Dimitar, I added t.setPage(page) and it works fine :)","body":"Well done @TilmanHausherr and Dimitar, I added t.setPage(page) and it works fine :)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1694436262,"post_id":74836898,"comment_id":135886511,"body_markdown":"@PulseMind You may want to consider marking Tilman&#39;s answer as accepted.","body":"@PulseMind You may want to consider marking Tilman&#39;s answer as accepted."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671465552,"creation_date":1671434632,"answer_id":74847321,"question_id":74836898,"body_markdown":"As told in the comments, the Adobe signed PDF (thank you Dimitar) included the stamp annotation in the last incremental save (the DSS signed PDF didn&#39;t) and added two things: 1) `/P 14 0 R` and 2) `/NM (495f9a95-136e-4992-881a-6a834fa85519)`. Maybe Adobe adds these itself quietly and then complains about its own behavior, despite that both entries are optional.\r\n\r\nCalling `t.setPage(page)` in the code from the question solved the problem.\r\n\r\nI&#39;ve also submitted a bug report on [this semi-official site][1].\r\n\r\n\r\n  [1]: https://acrobat.uservoice.com/forums/926812-acrobat-reader-for-windows-and-mac/suggestions/46099387-unmodified-annotations-should-not-be-reported-as-m","title":"PDFBox2 : Acrobat consider my annotation added between two signature as modified, why ? and how to solve this?","body":"<p>As told in the comments, the Adobe signed PDF (thank you Dimitar) included the stamp annotation in the last incremental save (the DSS signed PDF didn't) and added two things: 1) <code>/P 14 0 R</code> and 2) <code>/NM (495f9a95-136e-4992-881a-6a834fa85519)</code>. Maybe Adobe adds these itself quietly and then complains about its own behavior, despite that both entries are optional.</p>\n<p>Calling <code>t.setPage(page)</code> in the code from the question solved the problem.</p>\n<p>I've also submitted a bug report on <a href=\"https://acrobat.uservoice.com/forums/926812-acrobat-reader-for-windows-and-mac/suggestions/46099387-unmodified-annotations-should-not-be-reported-as-m\" rel=\"nofollow noreferrer\">this semi-official site</a>.</p>\n"}],"owner":{"account_id":27264469,"reputation":11,"user_id":20803275,"display_name":"Pulse Mind"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671465552,"creation_date":1671305254,"question_id":74836898,"body_markdown":"**I&#39;m trying to do this use case:**\r\n\r\n* I start with a document that contains a digital signature (our provider is using DCC&#160;https://github.com/esig/dss&#160;which is based on PDFBox...)\r\n* with PDFBox 2.0.27 I added an annotation using incremental save (I used different kind of annotation, free text, stamp as text, stamp with image…)\r\n* I send this document for a new digital sign\r\n\r\n\r\n\r\n**Actual result** :\r\nWhen I open my document with adobe acrobat reader, I click on validate all in the signature panel and acrobat claims that my annotation was changed\r\nThe stamp annotation object is correctly set and is not provided in another incremental save, I don&#39;t know why Adobe claims it was changed.\r\n\r\n[![Acrobat reader signature panel][1]][1]\r\nLink to the final PDF : https://drive.google.com/file/d/1CV7lJ8dY1gDcx3rgHoW5yHJ612JSAK9B/view?usp=share_link\r\n\r\n**Expected result** : When I open the document in acrobat, I can see the annotation, in the signature&#160;panel everything is green, the annotations are not marked as modified EVEN after clicking on &quot;Validate ALL&quot;\r\n\r\n\r\n\r\nThis is the code source :\r\n```\r\nimport org.apache.pdfbox.pdmodel.PDAppearanceContentStream;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDResources;\r\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\r\nimport org.apache.pdfbox.pdmodel.font.PDFont;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\r\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation;\r\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationRubberStamp;\r\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAppearanceDictionary;\r\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAppearanceStream;\r\nimport org.apache.pdfbox.util.Matrix;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.util.List;\r\n\r\npublic class PDFAnnotStampText {\r\n    public static void main(String[] args) {\r\n\r\n        //Creating PDF document object\r\n        PDDocument document = null;\r\n        String filename = &quot;20221217-VisibleSign-BeforeAnnot-02&quot;;\r\n\r\n        try {\r\n            document = PDDocument.load(new File(&quot;testfiles/&quot; + filename + &quot;.pdf&quot;));\r\n            document.getClass();\r\n\r\n            if (!document.isEncrypted()) {\r\n                System.out.println(&quot;not encrypted&quot;);\r\n\r\n                // https://stackoverflow.com/questions/65927280/annotation-content-not-appearing-with-pdfbox\r\n                OutputStream resultFile = new FileOutputStream(&quot;testfiles/&quot; + filename + &quot;_stamptxt.pdf&quot;);\r\n\r\n                PDPage page = (PDPage) document.getPage(0);\r\n\r\n                addAnnotation(&quot;annotation name&quot;, document, page, 50, 500, &quot;Annot powered&quot;);\r\n\r\n                document.saveIncremental(resultFile);\r\n                document.close();\r\n\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n    }\r\n    private static void addAnnotation(String name, PDDocument doc, PDPage page, float x, float y, String text) throws IOException {\r\n\r\n        List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\r\n        PDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\r\n\r\n        t.setAnnotationName(name); // might play important role\r\n        t.setPrinted(true); // always visible\r\n        t.setReadOnly(true); // does not interact with user\r\n        t.setContents(text);\r\n\r\n        // calculate realWidth, realHeight according to font size (e.g. using _font.getStringWidth(text))\r\n        float realWidth = 100, realHeight = 15;\r\n        PDRectangle rect = new PDRectangle(x, y, realWidth, realHeight);\r\n        t.setRectangle(rect);\r\n\r\n        PDAppearanceDictionary ap = new PDAppearanceDictionary();\r\n        ap.setNormalAppearance(createAppearanceStream(doc, t));\r\n        t.setAppearance(ap);\r\n\r\n        annotations.add(t);\r\n        page.setAnnotations(annotations);\r\n\r\n        // these must be set for incremental save to work properly (PDFBOX &lt; 3.0.0 at least?)\r\n        ap.getCOSObject().setNeedToBeUpdated(true);\r\n        t.getCOSObject().setNeedToBeUpdated(true);\r\n        page.getResources().getCOSObject().setNeedToBeUpdated(true);\r\n        page.getCOSObject().setNeedToBeUpdated(true);\r\n        doc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\r\n        doc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n    }\r\n\r\n    private static void modifyAppearanceStream(PDAppearanceStream aps, PDAnnotation ann) throws IOException {\r\n        PDAppearanceContentStream apsContent = null;\r\n\r\n        try {\r\n            PDRectangle rect = ann.getRectangle();\r\n            rect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight()); // need to be relative - this is mega important because otherwise it appears as if nothing is printed\r\n            aps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\r\n\r\n            // embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\r\n            PDResources res = new PDResources();\r\n            PDFont font = PDType1Font.HELVETICA_BOLD;\r\n            res.add(font).getName(); // okay I create _font elsewhere\r\n            aps.setResources(res);\r\n\r\n            // draw directly on the XObject&#39;s content stream\r\n            apsContent = new PDAppearanceContentStream(aps);\r\n\r\n            apsContent.beginText();\r\n            apsContent.setFont(PDType1Font.HELVETICA_BOLD, 12); // _font\r\n            apsContent.setTextMatrix(Matrix.getTranslateInstance(0, 1));\r\n            apsContent.showText(ann.getContents());\r\n            apsContent.endText();\r\n        }\r\n        finally {\r\n            if (apsContent != null) {\r\n                try {\r\n                    apsContent.close();\r\n                } catch (Exception ex) {\r\n                    System.out.println(ex);\r\n                }\r\n            }\r\n        }\r\n\r\n        aps.getResources().getCOSObject().setNeedToBeUpdated(true);\r\n        aps.getCOSObject().setNeedToBeUpdated(true);\r\n    }\r\n\r\n    private static PDAppearanceStream createAppearanceStream(final PDDocument document, PDAnnotation ann) throws IOException\r\n    {\r\n        PDAppearanceStream aps = new PDAppearanceStream(document);\r\n        modifyAppearanceStream(aps, ann);\r\n        return aps;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DBwOl.png","title":"PDFBox2 : Acrobat consider my annotation added between two signature as modified, why ? and how to solve this?","body":"<p><strong>I'm trying to do this use case:</strong></p>\n<ul>\n<li>I start with a document that contains a digital signature (our provider is using DCC https://github.com/esig/dss which is based on PDFBox...)</li>\n<li>with PDFBox 2.0.27 I added an annotation using incremental save (I used different kind of annotation, free text, stamp as text, stamp with image…)</li>\n<li>I send this document for a new digital sign</li>\n</ul>\n<p><strong>Actual result</strong> :\nWhen I open my document with adobe acrobat reader, I click on validate all in the signature panel and acrobat claims that my annotation was changed\nThe stamp annotation object is correctly set and is not provided in another incremental save, I don't know why Adobe claims it was changed.</p>\n<p><a href=\"https://i.stack.imgur.com/DBwOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DBwOl.png\" alt=\"Acrobat reader signature panel\" /></a>\nLink to the final PDF : <a href=\"https://drive.google.com/file/d/1CV7lJ8dY1gDcx3rgHoW5yHJ612JSAK9B/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1CV7lJ8dY1gDcx3rgHoW5yHJ612JSAK9B/view?usp=share_link</a></p>\n<p><strong>Expected result</strong> : When I open the document in acrobat, I can see the annotation, in the signature panel everything is green, the annotations are not marked as modified EVEN after clicking on &quot;Validate ALL&quot;</p>\n<p>This is the code source :</p>\n<pre><code>import org.apache.pdfbox.pdmodel.PDAppearanceContentStream;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDResources;\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotation;\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationRubberStamp;\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAppearanceDictionary;\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAppearanceStream;\nimport org.apache.pdfbox.util.Matrix;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.List;\n\npublic class PDFAnnotStampText {\n    public static void main(String[] args) {\n\n        //Creating PDF document object\n        PDDocument document = null;\n        String filename = &quot;20221217-VisibleSign-BeforeAnnot-02&quot;;\n\n        try {\n            document = PDDocument.load(new File(&quot;testfiles/&quot; + filename + &quot;.pdf&quot;));\n            document.getClass();\n\n            if (!document.isEncrypted()) {\n                System.out.println(&quot;not encrypted&quot;);\n\n                // https://stackoverflow.com/questions/65927280/annotation-content-not-appearing-with-pdfbox\n                OutputStream resultFile = new FileOutputStream(&quot;testfiles/&quot; + filename + &quot;_stamptxt.pdf&quot;);\n\n                PDPage page = (PDPage) document.getPage(0);\n\n                addAnnotation(&quot;annotation name&quot;, document, page, 50, 500, &quot;Annot powered&quot;);\n\n                document.saveIncremental(resultFile);\n                document.close();\n\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n\n    }\n    private static void addAnnotation(String name, PDDocument doc, PDPage page, float x, float y, String text) throws IOException {\n\n        List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\n        PDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\n\n        t.setAnnotationName(name); // might play important role\n        t.setPrinted(true); // always visible\n        t.setReadOnly(true); // does not interact with user\n        t.setContents(text);\n\n        // calculate realWidth, realHeight according to font size (e.g. using _font.getStringWidth(text))\n        float realWidth = 100, realHeight = 15;\n        PDRectangle rect = new PDRectangle(x, y, realWidth, realHeight);\n        t.setRectangle(rect);\n\n        PDAppearanceDictionary ap = new PDAppearanceDictionary();\n        ap.setNormalAppearance(createAppearanceStream(doc, t));\n        t.setAppearance(ap);\n\n        annotations.add(t);\n        page.setAnnotations(annotations);\n\n        // these must be set for incremental save to work properly (PDFBOX &lt; 3.0.0 at least?)\n        ap.getCOSObject().setNeedToBeUpdated(true);\n        t.getCOSObject().setNeedToBeUpdated(true);\n        page.getResources().getCOSObject().setNeedToBeUpdated(true);\n        page.getCOSObject().setNeedToBeUpdated(true);\n        doc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\n        doc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n    }\n\n    private static void modifyAppearanceStream(PDAppearanceStream aps, PDAnnotation ann) throws IOException {\n        PDAppearanceContentStream apsContent = null;\n\n        try {\n            PDRectangle rect = ann.getRectangle();\n            rect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight()); // need to be relative - this is mega important because otherwise it appears as if nothing is printed\n            aps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\n\n            // embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\n            PDResources res = new PDResources();\n            PDFont font = PDType1Font.HELVETICA_BOLD;\n            res.add(font).getName(); // okay I create _font elsewhere\n            aps.setResources(res);\n\n            // draw directly on the XObject's content stream\n            apsContent = new PDAppearanceContentStream(aps);\n\n            apsContent.beginText();\n            apsContent.setFont(PDType1Font.HELVETICA_BOLD, 12); // _font\n            apsContent.setTextMatrix(Matrix.getTranslateInstance(0, 1));\n            apsContent.showText(ann.getContents());\n            apsContent.endText();\n        }\n        finally {\n            if (apsContent != null) {\n                try {\n                    apsContent.close();\n                } catch (Exception ex) {\n                    System.out.println(ex);\n                }\n            }\n        }\n\n        aps.getResources().getCOSObject().setNeedToBeUpdated(true);\n        aps.getCOSObject().setNeedToBeUpdated(true);\n    }\n\n    private static PDAppearanceStream createAppearanceStream(final PDDocument document, PDAnnotation ann) throws IOException\n    {\n        PDAppearanceStream aps = new PDAppearanceStream(document);\n        modifyAppearanceStream(aps, ann);\n        return aps;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-integration","reactor"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1671463568,"post_id":74852068,"comment_id":132098844,"body_markdown":"Hi! You should have a look at Apache Camel: https://camel.apache.org/ Also have a look here: https://stackoverflow.com/questions/8845186/what-exactly-is-apache-camel","body":"Hi! You should have a look at Apache Camel: <a href=\"https://camel.apache.org/\" rel=\"nofollow noreferrer\">camel.apache.org</a> Also have a look here: <a href=\"https://stackoverflow.com/questions/8845186/what-exactly-is-apache-camel\" title=\"what exactly is apache camel\">stackoverflow.com/questions/8845186/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671465402,"creation_date":1671465402,"answer_id":74852916,"question_id":74852068,"body_markdown":"We probably would need more info about your requirements, but let&#39;s if something what already exists in Spring Integration can answer to some your questions.\r\n\r\nSo, to group requests from the same client you definitely can simply use an `Aggregator` EIP implementation: the client id might be used as a correlation key. You decide yourself what is the best release strategy fits your expectations. And indeed in the end this aggregator endpoint would not emit its reply message until it groups (buffers) messages according to expectations.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator\r\n\r\nAnother your request about `got response from all services s1 and s2` sounds like a Scatter-Gather solution. See more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather.\r\n\r\nSo, you are going to have in your `aggregation service` 1) aggregator endpoint to group client&#39;s messages together and 2) a scatter-gather to distribute request to several services and wait for their replies.","title":"Buffer/parellize service calls","body":"<p>We probably would need more info about your requirements, but let's if something what already exists in Spring Integration can answer to some your questions.</p>\n<p>So, to group requests from the same client you definitely can simply use an <code>Aggregator</code> EIP implementation: the client id might be used as a correlation key. You decide yourself what is the best release strategy fits your expectations. And indeed in the end this aggregator endpoint would not emit its reply message until it groups (buffers) messages according to expectations.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator</a></p>\n<p>Another your request about <code>got response from all services s1 and s2</code> sounds like a Scatter-Gather solution. See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#scatter-gather</a>.</p>\n<p>So, you are going to have in your <code>aggregation service</code> 1) aggregator endpoint to group client's messages together and 2) a scatter-gather to distribute request to several services and wait for their replies.</p>\n"}],"owner":{"account_id":20257598,"reputation":11,"user_id":14856942,"display_name":"Minat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671465402,"creation_date":1671461223,"question_id":74852068,"body_markdown":"We have few services that are expensive to call.\r\nI want to make a rest service that will act as aggregator for other(heavy) rest services, lets say s1 and s2, in order to limit network calls and number of invocations.\r\n\r\nThe aggregation service should return response then and only then when it got response from all services s1 and s2.\r\nAlso aggregation service should group requests from its clients, and send them as one request to s1 and s2.\r\nIt should wait up to N sec before making call to services s1,s2 or wait until it collects Y requests because response can&#39;t be delayed too much.\r\nWhat should I use? Spring integration, webflux, reactor, lowlevel core api?\r\n\r\nI&#39;m wondering if there is already in one of those implemented this integration pattern (EIP).\r\n\r\nI havent tried any solution yet.","title":"Buffer/parellize service calls","body":"<p>We have few services that are expensive to call.\nI want to make a rest service that will act as aggregator for other(heavy) rest services, lets say s1 and s2, in order to limit network calls and number of invocations.</p>\n<p>The aggregation service should return response then and only then when it got response from all services s1 and s2.\nAlso aggregation service should group requests from its clients, and send them as one request to s1 and s2.\nIt should wait up to N sec before making call to services s1,s2 or wait until it collects Y requests because response can't be delayed too much.\nWhat should I use? Spring integration, webflux, reactor, lowlevel core api?</p>\n<p>I'm wondering if there is already in one of those implemented this integration pattern (EIP).</p>\n<p>I havent tried any solution yet.</p>\n"},{"tags":["java","spring","spring-boot","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671465060,"creation_date":1671465060,"answer_id":74852850,"question_id":74782851,"body_markdown":"See the java docs:\r\n\r\n```java\r\n/**\r\n * Specify an expression to be evaluated after the\r\n * {@code SimpleRetryPolicy.canRetry()} returns true - can be used to conditionally\r\n * suppress the retry. Only invoked after an exception is thrown. The root object for\r\n * the evaluation is the last {@code Throwable}. Other beans in the context can be\r\n * referenced. For example: &lt;pre class=code&gt;\r\n *  {@code &quot;message.contains(&#39;you can retry this&#39;)&quot;}.\r\n * &lt;/pre&gt; and &lt;pre class=code&gt;\r\n *  {@code &quot;@someBean.shouldRetry(#root)&quot;}.\r\n * &lt;/pre&gt;\r\n * @return the expression.\r\n * @since 1.2\r\n */\r\n```\r\n","title":"How to use exceptionExpression in Spring Retryable?","body":"<p>See the java docs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Specify an expression to be evaluated after the\n * {@code SimpleRetryPolicy.canRetry()} returns true - can be used to conditionally\n * suppress the retry. Only invoked after an exception is thrown. The root object for\n * the evaluation is the last {@code Throwable}. Other beans in the context can be\n * referenced. For example: &lt;pre class=code&gt;\n *  {@code &quot;message.contains('you can retry this')&quot;}.\n * &lt;/pre&gt; and &lt;pre class=code&gt;\n *  {@code &quot;@someBean.shouldRetry(#root)&quot;}.\n * &lt;/pre&gt;\n * @return the expression.\n * @since 1.2\n */\n</code></pre>\n"}],"owner":{"account_id":15495846,"reputation":73,"user_id":11754821,"display_name":"Santanu Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671465060,"creation_date":1670924959,"question_id":74782851,"body_markdown":"So I have a basic method which already has @Retryable annotation. I recently came across &quot;exceptionExpression&quot; to suppress retry based on some condition. I want to know what are some of the ways I can use this exceptionExpression. I have tried message.contains method. But can I use maybe a result from a boolean function to do the same thing?","title":"How to use exceptionExpression in Spring Retryable?","body":"<p>So I have a basic method which already has @Retryable annotation. I recently came across &quot;exceptionExpression&quot; to suppress retry based on some condition. I want to know what are some of the ways I can use this exceptionExpression. I have tried message.contains method. But can I use maybe a result from a boolean function to do the same thing?</p>\n"},{"tags":["java","lambda","steam","review"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1671463156,"post_id":74852394,"comment_id":132098682,"body_markdown":"Add a method to `Event` called `hasMember` that takes a member and returns `boolean`. Then you just have one `filter` at the top-level that calls this `hasMember` function. While Java lambdas and streaming functions can be a useful technique to shorten simple code and eliminate boilerplate, they are not the &quot;new&quot; way of doing things, and when you have three `filter` calls nested inside of each other, it&#39;s definitely time to refactor.","body":"Add a method to <code>Event</code> called <code>hasMember</code> that takes a member and returns <code>boolean</code>. Then you just have one <code>filter</code> at the top-level that calls this <code>hasMember</code> function. While Java lambdas and streaming functions can be a useful technique to shorten simple code and eliminate boilerplate, they are not the &quot;new&quot; way of doing things, and when you have three <code>filter</code> calls nested inside of each other, it&#39;s definitely time to refactor."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671464809,"creation_date":1671463808,"answer_id":74852572,"question_id":74852394,"body_markdown":"If you want to get rig of excessive misuse of `Optional.ofNullable()` you can do the following changes:\r\n\r\n* Make our repository return an empty `List` instead of `null`.\r\n\r\n* Initialize all fields of type `List`, `Set`, `Map`, etc. with an empty collection by default.\r\n\r\nBoth these suggestions illustrated with examples can be found in the classic book *&quot;Effective Java&quot;* by Joshua Bloch (*former Sun-employee, author of Collections framework and other Java language features*).\r\n\r\nAlso, you can change `filter().count() &gt; 0` to [`anyMatch()`][anyMatch], which easier to read semantically more suitable:\r\n\r\n    public List&lt;Event&gt; getFilteredEventsInJava(String query) {\r\n        \r\n        return eventRepository.findAllBy() // don&#39;t return null from your repository - return an empty List\r\n            .stream()\r\n            .filter(e -&gt; e.getBands().stream() // initilize brands property with empty Set by default\r\n                .anyMatch(b -&gt;  b.getMembers().stream() // initilize members property with empty Set by default\r\n                    .anyMatch(m -&gt; m.getName().contains(query)) // change nested filter().count() to anyMatch()\r\n                )\r\n            )\r\n            .toList(); // for Java 16+ or collect(Collectors.toList())\r\n    }\r\n\r\n\r\n\r\n   [anyMatch]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)","title":"Java 8 Lambdas, Best way to filter on child lists","body":"<p>If you want to get rig of excessive misuse of <code>Optional.ofNullable()</code> you can do the following changes:</p>\n<ul>\n<li><p>Make our repository return an empty <code>List</code> instead of <code>null</code>.</p>\n</li>\n<li><p>Initialize all fields of type <code>List</code>, <code>Set</code>, <code>Map</code>, etc. with an empty collection by default.</p>\n</li>\n</ul>\n<p>Both these suggestions illustrated with examples can be found in the classic book <em>&quot;Effective Java&quot;</em> by Joshua Bloch (<em>former Sun-employee, author of Collections framework and other Java language features</em>).</p>\n<p>Also, you can change <code>filter().count() &gt; 0</code> to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>anyMatch()</code></a>, which easier to read semantically more suitable:</p>\n<pre><code>public List&lt;Event&gt; getFilteredEventsInJava(String query) {\n    \n    return eventRepository.findAllBy() // don't return null from your repository - return an empty List\n        .stream()\n        .filter(e -&gt; e.getBands().stream() // initilize brands property with empty Set by default\n            .anyMatch(b -&gt;  b.getMembers().stream() // initilize members property with empty Set by default\n                .anyMatch(m -&gt; m.getName().contains(query)) // change nested filter().count() to anyMatch()\n            )\n        )\n        .toList(); // for Java 16+ or collect(Collectors.toList())\n}\n</code></pre>\n"}],"owner":{"account_id":3025444,"reputation":15,"user_id":2565568,"display_name":"user2565568"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671464809,"creation_date":1671462876,"question_id":74852394,"body_markdown":"I would like to filter the parent list based on the condition in the sublist of the sublist. \r\n\r\nThe Parent is Event it contains a list of Band and the list of Band contains a list of Member.\r\n\r\nI have to return a list of Event based on Member name\r\n```\r\n@Entity\r\npublic class Event {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;event&quot;)\r\n    private Set&lt;Band&gt; bands;\r\n\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Band {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    private Set&lt;Member&gt; members;\r\n{...}\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Member {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    String name;\r\n}\r\n{...}\r\n```\r\n\r\nHere is the method i implemented : \r\n\r\n```\r\npublic List&lt;Event&gt; getFilteredEventsInJava(String query) {\r\n  \r\n\r\n    final List&lt;Event&gt; events = Optional.ofNullable(eventRepository.findAllBy()).orElseGet(Collections::emptyList).stream()\r\n            .filter(e -&gt; Optional.ofNullable(e.getBands()).orElseGet(Collections::emptySet).stream()\r\n                    .filter(b -&gt;  Optional.ofNullable(b.getMembers()).orElseGet(Collections::emptySet).stream().\r\n                            filter(m -&gt; m.getName().contains(query)).count()&gt;0).count()&gt;0)\r\n            .collect(Collectors.toList());\r\n\r\n    return events;\r\n\r\n}\r\n```\r\n\r\nMy code is working but can you help me to improve it?\r\n\r\nI need help to improve my code","title":"Java 8 Lambdas, Best way to filter on child lists","body":"<p>I would like to filter the parent list based on the condition in the sublist of the sublist.</p>\n<p>The Parent is Event it contains a list of Band and the list of Band contains a list of Member.</p>\n<p>I have to return a list of Event based on Member name</p>\n<pre><code>@Entity\npublic class Event {\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;event&quot;)\n    private Set&lt;Band&gt; bands;\n\n</code></pre>\n<pre><code>@Entity\npublic class Band {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    private Set&lt;Member&gt; members;\n{...}\n}\n</code></pre>\n<pre><code>@Entity\npublic class Member {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;)\n    String name;\n}\n{...}\n</code></pre>\n<p>Here is the method i implemented :</p>\n<pre><code>public List&lt;Event&gt; getFilteredEventsInJava(String query) {\n  \n\n    final List&lt;Event&gt; events = Optional.ofNullable(eventRepository.findAllBy()).orElseGet(Collections::emptyList).stream()\n            .filter(e -&gt; Optional.ofNullable(e.getBands()).orElseGet(Collections::emptySet).stream()\n                    .filter(b -&gt;  Optional.ofNullable(b.getMembers()).orElseGet(Collections::emptySet).stream().\n                            filter(m -&gt; m.getName().contains(query)).count()&gt;0).count()&gt;0)\n            .collect(Collectors.toList());\n\n    return events;\n\n}\n</code></pre>\n<p>My code is working but can you help me to improve it?</p>\n<p>I need help to improve my code</p>\n"},{"tags":["java","spring","eclipse"],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671464726,"creation_date":1671454238,"question_id":74850785,"body_markdown":"I am new to Java, Spring and Eclipse and here is my problem.\r\n\r\nI updated my diamon-config-servlet.xml file by this command\r\n\r\n    xmlns:mvc=&quot;https://www.springframework.org/schema/mvc/&quot;\r\n\r\nAnd below this, I wrote those command\r\n\r\n    &lt;mvc:annotation-driven &gt;&lt;/mvc:annotation-driven&gt;\r\n\t&lt;mvc:resource mapping=&quot;/assets/**&quot; location=&quot;/assets/&quot; &gt;&lt;/mvc:resource&gt;\r\n\r\nI thought that I can use the annotation-driven and resource mapping library by those command, but it show me this error, as you can see in this picture\r\n\r\n[![my error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FMUM.png\r\n\r\nI do not know why I have this error? Because I thought that my code can get the library from the mvc above?\r\n\r\nHere is all of my code, if you need to reference\r\n\r\n    https://github.com/nguyencuc2586/DiamonShop4.3\r\n\r\nCould you please give me some advice for this problem?","title":"No declaration can be found when updating Spring Framework into file config-servlet.xml?","body":"<p>I am new to Java, Spring and Eclipse and here is my problem.</p>\n<p>I updated my diamon-config-servlet.xml file by this command</p>\n<pre><code>xmlns:mvc=&quot;https://www.springframework.org/schema/mvc/&quot;\n</code></pre>\n<p>And below this, I wrote those command</p>\n<pre><code>&lt;mvc:annotation-driven &gt;&lt;/mvc:annotation-driven&gt;\n&lt;mvc:resource mapping=&quot;/assets/**&quot; location=&quot;/assets/&quot; &gt;&lt;/mvc:resource&gt;\n</code></pre>\n<p>I thought that I can use the annotation-driven and resource mapping library by those command, but it show me this error, as you can see in this picture</p>\n<p><a href=\"https://i.stack.imgur.com/2FMUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FMUM.png\" alt=\"my error\" /></a></p>\n<p>I do not know why I have this error? Because I thought that my code can get the library from the mvc above?</p>\n<p>Here is all of my code, if you need to reference</p>\n<pre><code>https://github.com/nguyencuc2586/DiamonShop4.3\n</code></pre>\n<p>Could you please give me some advice for this problem?</p>\n"},{"tags":["java","unit-testing","mockito","junit5","apache-commons-text"],"answers":[{"tags":[],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671464620,"creation_date":1671464620,"answer_id":74852763,"question_id":74852328,"body_markdown":"Okay so I thought creating a `new StringBuilder()` with the result of the `StringSubstitutor.replace()` might not be ideal so I changed the `replacePlaceholdersInText()` to this:\r\n```lang-java\r\npublic StringBuilder replacePlaceholdersInText(Person person) {\r\n        PersonPlaceholders placeholders = new PersonPlaceholders();\r\n        StringBuilder text = READER.readDoc();\r\n        Map&lt;String, String&gt; toReplace = placeholders.getPlaceholders(person);\r\n        StringSubstitutor sub = new StringSubstitutor(toReplace);\r\n        text.replace(0, text.length(), sub.replace(text));\r\n        LOGGER.info(text);\r\n        return text;\r\n    }\r\n```\r\nAnd it worked.\r\n\r\nIf someone knows of a better way I am all ears, but my Unit test passes, and my `main` method works as expected.","title":"Apache Commons StringSubstitutor Working in main Method Call but failing when Run As Part of a Unit Test","body":"<p>Okay so I thought creating a <code>new StringBuilder()</code> with the result of the <code>StringSubstitutor.replace()</code> might not be ideal so I changed the <code>replacePlaceholdersInText()</code> to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public StringBuilder replacePlaceholdersInText(Person person) {\n        PersonPlaceholders placeholders = new PersonPlaceholders();\n        StringBuilder text = READER.readDoc();\n        Map&lt;String, String&gt; toReplace = placeholders.getPlaceholders(person);\n        StringSubstitutor sub = new StringSubstitutor(toReplace);\n        text.replace(0, text.length(), sub.replace(text));\n        LOGGER.info(text);\n        return text;\n    }\n</code></pre>\n<p>And it worked.</p>\n<p>If someone knows of a better way I am all ears, but my Unit test passes, and my <code>main</code> method works as expected.</p>\n"}],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74852763,"answer_count":1,"score":0,"last_activity_date":1671464620,"creation_date":1671462546,"question_id":74852328,"body_markdown":"So I am trying to create a method that replaces Placeholders in a block of text read from a file. I have created a method that utilises StringSubstitutor from Apache Commons Text, and when I call my method in the `main` method, it works, yet my Unit Test fails.\r\n\r\nThe `replacePlaceholders` method:\r\n```lang-java\r\npublic StringBuilder replacePlaceholdersInText(Person person) {\r\n        PersonPlaceholders placeholders = new PersonPlaceholders();\r\n        StringBuilder text = READER.readDoc();\r\n        Map&lt;String, String&gt; toReplace = placeholders.getPlaceholders(person);\r\n        StringSubstitutor sub = new StringSubstitutor(toReplace);\r\n        text = new StringBuilder(sub.replace(text));\r\n        LOGGER.info(text);\r\n        return text;\r\n    }\r\n```\r\n\r\nPersonPlaceholders Class:\r\n```lang-java\r\npublic class PersonPlaceholders implements Placeholders&lt;Person, String, String&gt; {\r\n    @Override\r\n    public Map&lt;String, String&gt; getPlaceholders(Person person) {\r\n        Map&lt;String, String&gt; valueMap = new HashMap&lt;&gt;();\r\n        valueMap.put(&quot;first_name&quot;, person.getFirstName());\r\n        valueMap.put(&quot;last_name&quot;, person.getLastName());\r\n        valueMap.put(&quot;dob&quot;, person.getDob().toString());\r\n        return valueMap;\r\n    }\r\n}\r\n```\r\n\r\nMy Unit Test:\r\n```lang-java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class PersonToFileTest {\r\n    @Mock\r\n    WordDocumentReader reader;\r\n    @InjectMocks\r\n    PersonToFile toFile;\r\n\r\n@Test\r\n    public void helloJohnDoe() {\r\n        Person person = new Person();\r\n        person.setFirstName(&quot;John&quot;);\r\n        person.setLastName(&quot;Doe&quot;);\r\n        person.setDob(LocalDate.of(2000, 5, 23));\r\n        StringBuilder text = new StringBuilder(&quot;Hello ${first_name} ${last_name}. Your date of birth is ${dob}.&quot;);\r\n        StringBuilder expected = new StringBuilder(&quot;Hello John Doe. Your date of birth is 2000-05-23.&quot;);\r\n\r\n        when(reader.readDoc()).thenReturn(text);\r\n\r\n        assertEquals(expected, toFile.replacePlaceholdersInText(person));\r\n\r\n        verify(reader).readDoc();\r\n    }\r\n}\r\n```\r\n\r\nThe difference:\r\n```\r\nExpected :Hello John Doe. Your date of birth is 2000-05-23.\r\nActual   :Hello ${first_name} ${last_name}. Your date of birth is ${dob}.\r\n```\r\n\r\nYet when I run my main method:\r\n```lang-java\r\npublic static void main(String[] args) {\r\n        PersonToFile toFile = new PersonToFile();\r\n        toFile.replacePlaceholdersInText(new Person(&quot;John&quot;, &quot;Doe&quot;, LocalDate.of(2000, 2, 12)));\r\n    }\r\n```\r\nI get this result, (Text is read from a file so that&#39;s why format is slightly different):\r\n```\r\nHi John Doe.\r\nYour date of birth is 2000-02-12.\r\nEND OF FILE!\r\n```\r\n\r\nI&#39;ve used Mockito to mock my `WordDocumentReader` Class, and used the debugger to verify that it is being mocked, that the mock is being interacted with.\r\n \r\nThis seems to be an issue with the `StringSubstitutor.replace()` method not actually being executed in the test, but I am not sure as to why. As I said, the test does everything I expect, until I get to the `.replace` method of the `StringSubstitutor` class.","title":"Apache Commons StringSubstitutor Working in main Method Call but failing when Run As Part of a Unit Test","body":"<p>So I am trying to create a method that replaces Placeholders in a block of text read from a file. I have created a method that utilises StringSubstitutor from Apache Commons Text, and when I call my method in the <code>main</code> method, it works, yet my Unit Test fails.</p>\n<p>The <code>replacePlaceholders</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public StringBuilder replacePlaceholdersInText(Person person) {\n        PersonPlaceholders placeholders = new PersonPlaceholders();\n        StringBuilder text = READER.readDoc();\n        Map&lt;String, String&gt; toReplace = placeholders.getPlaceholders(person);\n        StringSubstitutor sub = new StringSubstitutor(toReplace);\n        text = new StringBuilder(sub.replace(text));\n        LOGGER.info(text);\n        return text;\n    }\n</code></pre>\n<p>PersonPlaceholders Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonPlaceholders implements Placeholders&lt;Person, String, String&gt; {\n    @Override\n    public Map&lt;String, String&gt; getPlaceholders(Person person) {\n        Map&lt;String, String&gt; valueMap = new HashMap&lt;&gt;();\n        valueMap.put(&quot;first_name&quot;, person.getFirstName());\n        valueMap.put(&quot;last_name&quot;, person.getLastName());\n        valueMap.put(&quot;dob&quot;, person.getDob().toString());\n        return valueMap;\n    }\n}\n</code></pre>\n<p>My Unit Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class PersonToFileTest {\n    @Mock\n    WordDocumentReader reader;\n    @InjectMocks\n    PersonToFile toFile;\n\n@Test\n    public void helloJohnDoe() {\n        Person person = new Person();\n        person.setFirstName(&quot;John&quot;);\n        person.setLastName(&quot;Doe&quot;);\n        person.setDob(LocalDate.of(2000, 5, 23));\n        StringBuilder text = new StringBuilder(&quot;Hello ${first_name} ${last_name}. Your date of birth is ${dob}.&quot;);\n        StringBuilder expected = new StringBuilder(&quot;Hello John Doe. Your date of birth is 2000-05-23.&quot;);\n\n        when(reader.readDoc()).thenReturn(text);\n\n        assertEquals(expected, toFile.replacePlaceholdersInText(person));\n\n        verify(reader).readDoc();\n    }\n}\n</code></pre>\n<p>The difference:</p>\n<pre><code>Expected :Hello John Doe. Your date of birth is 2000-05-23.\nActual   :Hello ${first_name} ${last_name}. Your date of birth is ${dob}.\n</code></pre>\n<p>Yet when I run my main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        PersonToFile toFile = new PersonToFile();\n        toFile.replacePlaceholdersInText(new Person(&quot;John&quot;, &quot;Doe&quot;, LocalDate.of(2000, 2, 12)));\n    }\n</code></pre>\n<p>I get this result, (Text is read from a file so that's why format is slightly different):</p>\n<pre><code>Hi John Doe.\nYour date of birth is 2000-02-12.\nEND OF FILE!\n</code></pre>\n<p>I've used Mockito to mock my <code>WordDocumentReader</code> Class, and used the debugger to verify that it is being mocked, that the mock is being interacted with.</p>\n<p>This seems to be an issue with the <code>StringSubstitutor.replace()</code> method not actually being executed in the test, but I am not sure as to why. As I said, the test does everything I expect, until I get to the <code>.replace</code> method of the <code>StringSubstitutor</code> class.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":27166642,"reputation":34,"user_id":20704061,"display_name":"Mavlyan Sadirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671425774,"creation_date":1671425774,"answer_id":74846419,"question_id":74846220,"body_markdown":"you can pass through foreach and write your query in Tag repository, but I think you can&#39;t write query, because they are have list from two sides","title":"How do I select information from ManyToMany Table in JPA?","body":"<p>you can pass through foreach and write your query in Tag repository, but I think you can't write query, because they are have list from two sides</p>\n"},{"tags":[],"owner":{"account_id":27099683,"reputation":1,"user_id":20646459,"display_name":"Sod Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671436946,"creation_date":1671436946,"answer_id":74847667,"question_id":74846220,"body_markdown":"Consider using a native query instead. \r\n\r\nIf you want to use the JPA, you can add a field (Eg. `usedCount`) in the Tag entity and follow the instructions here https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result.\r\n\r\nThe query should look like this:\r\n\r\n`List&lt;Tag&gt; findByUsedCount(Sort sort, Pageable pageable);`\r\n\r\n","title":"How do I select information from ManyToMany Table in JPA?","body":"<p>Consider using a native query instead.</p>\n<p>If you want to use the JPA, you can add a field (Eg. <code>usedCount</code>) in the Tag entity and follow the instructions here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result</a>.</p>\n<p>The query should look like this:</p>\n<p><code>List&lt;Tag&gt; findByUsedCount(Sort sort, Pageable pageable);</code></p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671464618,"creation_date":1671464618,"answer_id":74852762,"question_id":74846220,"body_markdown":"Don&#39;t look at it as trying to access the board_tag_table, and instead look at how you would do this with the java entities themselves. This would be just selecting the 5 top Tags based on the number of boards they have. &quot;select t.tag_id, count(b) as boardCount from Tag t join t.boards b group by t.tag_id order by boardCount&quot;, then use maxResults to limit the returned values to 5","title":"How do I select information from ManyToMany Table in JPA?","body":"<p>Don't look at it as trying to access the board_tag_table, and instead look at how you would do this with the java entities themselves. This would be just selecting the 5 top Tags based on the number of boards they have. &quot;select t.tag_id, count(b) as boardCount from Tag t join t.boards b group by t.tag_id order by boardCount&quot;, then use maxResults to limit the returned values to 5</p>\n"}],"owner":{"account_id":27199263,"reputation":1,"user_id":20731739,"display_name":"s558kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671464618,"creation_date":1671423035,"question_id":74846220,"body_markdown":"I have two entities mapped Board and Tag by @ManyToMany to a join table board_tag_table.\r\n\r\nHow would I return the top 5 most common tag_id in the board_tag_table?\r\n\r\n[enter image description here](https://i.stack.imgur.com/1vxxt.png)\r\n\r\n\r\n```\r\npublic class Board {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;board_tag_table&quot;,\r\n    joinColumns = {\r\n            //primary key of Board\r\n            @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;id&quot;)\r\n    },\r\n    inverseJoinColumns = {\r\n            //primary key of Tag\r\n            @JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;tag_id&quot;)\r\n    })\r\n    private Set&lt;Tag&gt; tags = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\npublic class Tag {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer tag_id;\r\n\r\n    private String tagname;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tags&quot;)\r\n    private Set&lt;Board&gt; boards = new HashSet&lt;&gt;();\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\nUnable to find how to query within a many to many table","title":"How do I select information from ManyToMany Table in JPA?","body":"<p>I have two entities mapped Board and Tag by @ManyToMany to a join table board_tag_table.</p>\n<p>How would I return the top 5 most common tag_id in the board_tag_table?</p>\n<p><a href=\"https://i.stack.imgur.com/1vxxt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class Board {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @ManyToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;board_tag_table&quot;,\n    joinColumns = {\n            //primary key of Board\n            @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;id&quot;)\n    },\n    inverseJoinColumns = {\n            //primary key of Tag\n            @JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;tag_id&quot;)\n    })\n    private Set&lt;Tag&gt; tags = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>\npublic class Tag {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer tag_id;\n\n    private String tagname;\n\n    @JsonIgnore\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;tags&quot;)\n    private Set&lt;Board&gt; boards = new HashSet&lt;&gt;();\n}\n\n\n\n</code></pre>\n<p>Unable to find how to query within a many to many table</p>\n"},{"tags":["java","xalan"],"answers":[{"tags":[],"owner":{"account_id":3881027,"reputation":473,"user_id":3213514,"accept_rate":57,"display_name":"Rahul Khimasia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671464531,"creation_date":1671464531,"answer_id":74852743,"question_id":74733383,"body_markdown":"Yes, you can and should, for more info check this [JavaDoc][1] page. Most Java distributions like the [Oracle JDK][2] and [OpenJDK][3] now incorporates Xalan internally. So now there is no need for an external dependency to Apache Xalan. The version that most JDKs incorporate still implement XSLT version 1.0. The XSLT version 1.0 is not bad, but if you need additional XSLT processing functionality then you can consider something like [SaxonJ][4] which implements XSLT version 3.0. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.xml/javax/xml/transform/package-summary.html\r\n  [2]: https://www.oracle.com/java/technologies/java-se-glance.html\r\n  [3]: https://jdk.java.net/\r\n  [4]: https://www.saxonica.com/download/java.xml","title":"Replacement for Apache Xalan TransformerFactoryImpl","body":"<p>Yes, you can and should, for more info check this <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.xml/javax/xml/transform/package-summary.html\" rel=\"nofollow noreferrer\">JavaDoc</a> page. Most Java distributions like the <a href=\"https://www.oracle.com/java/technologies/java-se-glance.html\" rel=\"nofollow noreferrer\">Oracle JDK</a> and <a href=\"https://jdk.java.net/\" rel=\"nofollow noreferrer\">OpenJDK</a> now incorporates Xalan internally. So now there is no need for an external dependency to Apache Xalan. The version that most JDKs incorporate still implement XSLT version 1.0. The XSLT version 1.0 is not bad, but if you need additional XSLT processing functionality then you can consider something like <a href=\"https://www.saxonica.com/download/java.xml\" rel=\"nofollow noreferrer\">SaxonJ</a> which implements XSLT version 3.0.</p>\n"}],"owner":{"account_id":61679,"reputation":6211,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671464531,"creation_date":1670516846,"question_id":74733383,"body_markdown":"I found the following code in an old Java project. I would like to remove `com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl`, because Apache Xalan has a [security issue][1] and it seems to be retired. \r\n\r\n```java\r\nimport javax.xml.transform.TransformerFactory;\r\n\r\n\r\nTransformerFactory factory = TransformerFactory.newInstance(&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;, SomeSVGDocument.class.getClassLoader());\r\n```\r\n\r\nNow I wonder if can switch to the following code:\r\n\r\n```java\r\nTransformerFactory factory = TransformerFactory.newInstance();\r\n```\r\n\r\nCan I do that or do I need to search for a replacement for `com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl`?\r\n\r\n  [1]: https://security.snyk.io/vuln/SNYK-JAVA-XALAN-2953385","title":"Replacement for Apache Xalan TransformerFactoryImpl","body":"<p>I found the following code in an old Java project. I would like to remove <code>com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl</code>, because Apache Xalan has a <a href=\"https://security.snyk.io/vuln/SNYK-JAVA-XALAN-2953385\" rel=\"nofollow noreferrer\">security issue</a> and it seems to be retired.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.transform.TransformerFactory;\n\n\nTransformerFactory factory = TransformerFactory.newInstance(&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;, SomeSVGDocument.class.getClassLoader());\n</code></pre>\n<p>Now I wonder if can switch to the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransformerFactory factory = TransformerFactory.newInstance();\n</code></pre>\n<p>Can I do that or do I need to search for a replacement for <code>com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl</code>?</p>\n"},{"tags":["java","spring","kubernetes","yaml","el"],"answers":[{"tags":[],"owner":{"account_id":7644621,"reputation":488,"user_id":5795699,"display_name":"Kristian Ferkić"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671461883,"creation_date":1671459588,"answer_id":74851742,"question_id":74851031,"body_markdown":"You have to add the secret to the env-vars of your container.\r\nSuppose you have a `my-secret` secret:\r\n\r\n    apiVersion: v1\r\n    metadata:\r\n      name: my-secret\r\n    type: Opaque\r\n    data:\r\n      THE_SECRET: dG9wU2VjcmV0MTIz\r\n\r\nThen you can reference the value in `THE_SECRET` in your cron-job like this:\r\n\r\n    apiVersion: batch/v1\r\n    kind: CronJob\r\n    metadata:\r\n      name: {{ .Values.name }}-cronjobs\r\n    spec:\r\n      schedule: &quot;0 * * * *&quot;\r\n      jobTemplate:\r\n        spec:\r\n          template:\r\n            spec:\r\n              containers:\r\n              - name: my-job\r\n                image: curlimages/curl\r\n                command: [&quot;sh&quot;, &quot;-c&quot;, &quot;curl --location --request POST \\&quot;http://myservice:8080/api/endpoint\\&quot; --header \\&quot;my-secret: ${THE_SECRET}\\&quot;&quot;]\r\n                envFrom:\r\n                - secretRef:\r\n                    name: my-secret\r\n                - secretRef:\r\n                    name: other-secret","title":"How can I put a Kubernetes Secret in a Cronjob curl command?","body":"<p>You have to add the secret to the env-vars of your container.\nSuppose you have a <code>my-secret</code> secret:</p>\n<pre><code>apiVersion: v1\nmetadata:\n  name: my-secret\ntype: Opaque\ndata:\n  THE_SECRET: dG9wU2VjcmV0MTIz\n</code></pre>\n<p>Then you can reference the value in <code>THE_SECRET</code> in your cron-job like this:</p>\n<pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: {{ .Values.name }}-cronjobs\nspec:\n  schedule: &quot;0 * * * *&quot;\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n          - name: my-job\n            image: curlimages/curl\n            command: [&quot;sh&quot;, &quot;-c&quot;, &quot;curl --location --request POST \\&quot;http://myservice:8080/api/endpoint\\&quot; --header \\&quot;my-secret: ${THE_SECRET}\\&quot;&quot;]\n            envFrom:\n            - secretRef:\n                name: my-secret\n            - secretRef:\n                name: other-secret\n</code></pre>\n"}],"owner":{"account_id":27297681,"reputation":1,"user_id":20815059,"display_name":"Cody M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671464046,"creation_date":1671455586,"question_id":74851031,"body_markdown":"In kubernetes I have a secret defined, and in my deploy-templates YAML files, I have that secret set as ${mySecret}.\r\n\r\nI am trying to create a CronJob that uses the following CURL to run the Job with the header info defined in the secret. No matter what I do, the ${mySecret} doesn&#39;t seem to get turned into the correct information.\r\n\r\nDo I have to define it some other way in the YAML?\r\n\r\n```\r\napiVersion: myjob/v1\r\nkind: CronJob\r\nmetadata:\r\n  name: {{ .Values.name }}-cronjobs\r\nspec:\r\n  schedule: &quot;0 * * * *&quot;\r\n  jobTemplate:\r\n    spec:\r\n      template:\r\n        spec:\r\n          initContainers:\r\n          - name: my-job\r\n            image: curlimages/curl\r\n            command: [&quot;sh&quot;, &quot;-c&quot;, &quot;curl --location --request POST \\&quot;http://myservice:8080/api/endpoint\\&quot; --header \\&quot;my-secret: ${mySecret}\\&quot;&quot;]\r\n\r\n```\r\n\r\nTried to use ${} in a yaml-based curl command. I expected the value to be parsed and run the job correctly. In reality, I get a BAD REQUEST error from the job every hour.","title":"How can I put a Kubernetes Secret in a Cronjob curl command?","body":"<p>In kubernetes I have a secret defined, and in my deploy-templates YAML files, I have that secret set as ${mySecret}.</p>\n<p>I am trying to create a CronJob that uses the following CURL to run the Job with the header info defined in the secret. No matter what I do, the ${mySecret} doesn't seem to get turned into the correct information.</p>\n<p>Do I have to define it some other way in the YAML?</p>\n<pre><code>apiVersion: myjob/v1\nkind: CronJob\nmetadata:\n  name: {{ .Values.name }}-cronjobs\nspec:\n  schedule: &quot;0 * * * *&quot;\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          initContainers:\n          - name: my-job\n            image: curlimages/curl\n            command: [&quot;sh&quot;, &quot;-c&quot;, &quot;curl --location --request POST \\&quot;http://myservice:8080/api/endpoint\\&quot; --header \\&quot;my-secret: ${mySecret}\\&quot;&quot;]\n\n</code></pre>\n<p>Tried to use ${} in a yaml-based curl command. I expected the value to be parsed and run the job correctly. In reality, I get a BAD REQUEST error from the job every hour.</p>\n"},{"tags":["java","multithreading","java-threads"],"comments":[{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":3,"creation_date":1671300593,"post_id":74836316,"comment_id":132071718,"body_markdown":"Think of something that involves `wait`/`notify` on some shared monitor object, rather than relying on `Thread.sleep()`","body":"Think of something that involves <code>wait</code>/<code>notify</code> on some shared monitor object, rather than relying on <code>Thread.sleep()</code>"},{"owner":{"account_id":15877153,"reputation":27,"user_id":11456028,"display_name":"Tarun Soni"},"score":0,"creation_date":1671301705,"post_id":74836316,"comment_id":132071912,"body_markdown":"Okay not familiar with the wait / notify yet and how they work but I will look into this direction thanks.","body":"Okay not familiar with the wait / notify yet and how they work but I will look into this direction thanks."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1671466464,"post_id":74836316,"comment_id":132099888,"body_markdown":"Better to avoid wait/notify, it was not designed for this kind of thing and introduces complications. Using semaphore is a much better idea.","body":"Better to avoid wait/notify, it was not designed for this kind of thing and introduces complications. Using semaphore is a much better idea."}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1671464018,"creation_date":1671301147,"answer_id":74836422,"question_id":74836316,"body_markdown":"I would use a [Semaphore][1]. You initialize it with a given number of permits, and only that number of permits can be used at any given point; anyone who needs more has to wait for one to be released.\r\n\r\nSo, initialize it with 0 permits. Start counting on both threads: after A counts each number, have it release a permit. Before B counts, have it acquire one.\r\n\r\nAt the very beginning, B can&#39;t acquire any permits (there are 0 available), so it blocks trying to acquire one. When A counts to 1 and releases a permit, B can acquire the one and count to 1. And so on.\r\n\r\n&gt; Is it possible to achieve the same with one runnable object between two threads?\r\n\r\nThe Semaphor approach would require two Runnables. I&#39;m not sure how you could formalize the &quot;A ≥ B&quot; requirements without that or sleep/timing (which doesn&#39;t actually formally establish the invariant, it just makes it extremely extremely likely), since at minimum you need a way to tell each thread whether it&#39;s the leader or follower. You could do it with a ThreadLocal to establish the thread&#39;s &quot;mode&quot;, but that&#39;s effectively two Runnables in just a more complicated way.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Semaphore.html","title":"Two threads start a task but at any point thread B never goes ahead of thread A","body":"<p>I would use a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a>. You initialize it with a given number of permits, and only that number of permits can be used at any given point; anyone who needs more has to wait for one to be released.</p>\n<p>So, initialize it with 0 permits. Start counting on both threads: after A counts each number, have it release a permit. Before B counts, have it acquire one.</p>\n<p>At the very beginning, B can't acquire any permits (there are 0 available), so it blocks trying to acquire one. When A counts to 1 and releases a permit, B can acquire the one and count to 1. And so on.</p>\n<blockquote>\n<p>Is it possible to achieve the same with one runnable object between two threads?</p>\n</blockquote>\n<p>The Semaphor approach would require two Runnables. I'm not sure how you could formalize the &quot;A ≥ B&quot; requirements without that or sleep/timing (which doesn't actually formally establish the invariant, it just makes it extremely extremely likely), since at minimum you need a way to tell each thread whether it's the leader or follower. You could do it with a ThreadLocal to establish the thread's &quot;mode&quot;, but that's effectively two Runnables in just a more complicated way.</p>\n"}],"owner":{"account_id":15877153,"reputation":27,"user_id":11456028,"display_name":"Tarun Soni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671464018,"creation_date":1671300172,"question_id":74836316,"body_markdown":"Two threads A and B together start printing numbers from 1 - 100 and only constraint is that thread B can never go ahead of thread A at any point and both the threads should work like usual apart from this constraint.\r\n\r\nSo I did see some answers here on stack Overflow which used join() on thread A before starting thread B but I believe that means Thread B will not start until thread A has finished execution but that means the end of Multithreading.\r\n\r\nOne solution which I tried requires creating two runnable objects having same implementation that prints numbers 1 - 100 and then start two threads on each objects.  \r\nBut in run method for Thread B before printing the numbers I used Thread.sleep(10);\r\n\r\nThis way Thread B never go ahead of Thread A i.e. Whatever number B prints A has already printed it on the console.\r\nDo you guys think that this retains multithreading and also follows the constraint?\r\n\r\nIs there any other way of doing this?  \r\nIs it possible to achieve the same with one runnable object between two threads?","title":"Two threads start a task but at any point thread B never goes ahead of thread A","body":"<p>Two threads A and B together start printing numbers from 1 - 100 and only constraint is that thread B can never go ahead of thread A at any point and both the threads should work like usual apart from this constraint.</p>\n<p>So I did see some answers here on stack Overflow which used join() on thread A before starting thread B but I believe that means Thread B will not start until thread A has finished execution but that means the end of Multithreading.</p>\n<p>One solution which I tried requires creating two runnable objects having same implementation that prints numbers 1 - 100 and then start two threads on each objects.<br />\nBut in run method for Thread B before printing the numbers I used Thread.sleep(10);</p>\n<p>This way Thread B never go ahead of Thread A i.e. Whatever number B prints A has already printed it on the console.\nDo you guys think that this retains multithreading and also follows the constraint?</p>\n<p>Is there any other way of doing this?<br />\nIs it possible to achieve the same with one runnable object between two threads?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7200276,"reputation":297,"user_id":5497719,"display_name":"A G"},"score":0,"creation_date":1671450705,"post_id":74849910,"comment_id":132094728,"body_markdown":"How about creating the expected structure for test2 as Class Test2 and then implement a toString to serialize it the way you&#39;d like it?","body":"How about creating the expected structure for test2 as Class Test2 and then implement a toString to serialize it the way you&#39;d like it?"},{"owner":{"account_id":18468901,"reputation":71,"user_id":13510894,"display_name":"Guk"},"score":0,"creation_date":1671451842,"post_id":74849910,"comment_id":132095036,"body_markdown":"@AG I have to process test2 separately due to the restriction on API. So... I think I can&#39;t make instance for test2 at that time.","body":"@AG I have to process test2 separately due to the restriction on API. So... I think I can&#39;t make instance for test2 at that time."}],"answers":[{"tags":[],"owner":{"account_id":16290924,"reputation":70,"user_id":11764419,"display_name":"Łukasz Karasiński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671452682,"creation_date":1671452682,"answer_id":74850497,"question_id":74849910,"body_markdown":"You should create java class with values that corresponds to you json object. In your  case `test1` is String object and `test2` requires you to create new class that will hold two strings &#39;`a`&#39; and `b`.  With your approach you will lose clear data access when converting two values into one String.\r\n\r\nPlease refer to those links for more information\r\n- https://www.baeldung.com/jackson-object-mapper-tutorial#2-json-to-java-object\r\n- https://stackabuse.com/how-to-convert-json-object-to-java-object-with-jackson/\r\n","title":"How to convert json object string to plain string using jackson?","body":"<p>You should create java class with values that corresponds to you json object. In your  case <code>test1</code> is String object and <code>test2</code> requires you to create new class that will hold two strings '<code>a</code>' and <code>b</code>.  With your approach you will lose clear data access when converting two values into one String.</p>\n<p>Please refer to those links for more information</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial#2-json-to-java-object\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-object-mapper-tutorial#2-json-to-java-object</a></li>\n<li><a href=\"https://stackabuse.com/how-to-convert-json-object-to-java-object-with-jackson/\" rel=\"nofollow noreferrer\">https://stackabuse.com/how-to-convert-json-object-to-java-object-with-jackson/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671464006,"creation_date":1671464006,"answer_id":74852611,"question_id":74849910,"body_markdown":"Use custom deserializer.\r\n\r\n---\r\n\r\n    class TestClass {\r\n        String test1;\r\n        String test2;\r\n\r\n        public TestClass(String test1, String test2) {\r\n            this.test1 = test1;\r\n            this.test2 = test2;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n    public class MyDeserializer extends StdDeserializer&lt;TestClass&gt; {\r\n\r\n        public MyDeserializer() {\r\n            this(TestClass.class);\r\n        }\r\n\r\n        public MyDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n\r\n        @Override\r\n        public TestClass deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            JsonNode node = p.getCodec().readTree(p);\r\n            return new TestClass(node.get(&quot;test1&quot;).asText(), node.get(&quot;test2&quot;).toString());\r\n        }\r\n    }\r\n\r\n---\r\n\r\n__Test__\r\n\r\n    String json = &quot;{&quot; +\r\n            &quot;    \\&quot;test1\\&quot;: \\&quot;test123\\&quot;,&quot; +\r\n            &quot;    \\&quot;test2\\&quot;: {&quot; +\r\n            &quot;        \\&quot;a\\&quot;: 1,&quot; +\r\n            &quot;        \\&quot;b\\&quot;: 2&quot; +\r\n            &quot;    }&quot; +\r\n            &quot;}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper().registerModule(\r\n            new SimpleModule().addDeserializer(TestClass.class, new MyDeserializer()));\r\n    TestClass testClass = mapper.readValue(json, TestClass.class);\r\n    System.out.println(testClass.test1);\r\n    System.out.println(testClass.test2);\r\n\r\n__Output__\r\n\r\n    test123\r\n    {&quot;a&quot;:1,&quot;b&quot;:2}","title":"How to convert json object string to plain string using jackson?","body":"<p>Use custom deserializer.</p>\n<hr />\n<pre><code>class TestClass {\n    String test1;\n    String test2;\n\n    public TestClass(String test1, String test2) {\n        this.test1 = test1;\n        this.test2 = test2;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class MyDeserializer extends StdDeserializer&lt;TestClass&gt; {\n\n    public MyDeserializer() {\n        this(TestClass.class);\n    }\n\n    public MyDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public TestClass deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        JsonNode node = p.getCodec().readTree(p);\n        return new TestClass(node.get(&quot;test1&quot;).asText(), node.get(&quot;test2&quot;).toString());\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Test</strong></p>\n<pre><code>String json = &quot;{&quot; +\n        &quot;    \\&quot;test1\\&quot;: \\&quot;test123\\&quot;,&quot; +\n        &quot;    \\&quot;test2\\&quot;: {&quot; +\n        &quot;        \\&quot;a\\&quot;: 1,&quot; +\n        &quot;        \\&quot;b\\&quot;: 2&quot; +\n        &quot;    }&quot; +\n        &quot;}&quot;;\nObjectMapper mapper = new ObjectMapper().registerModule(\n        new SimpleModule().addDeserializer(TestClass.class, new MyDeserializer()));\nTestClass testClass = mapper.readValue(json, TestClass.class);\nSystem.out.println(testClass.test1);\nSystem.out.println(testClass.test2);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>test123\n{&quot;a&quot;:1,&quot;b&quot;:2}\n</code></pre>\n"}],"owner":{"account_id":18468901,"reputation":71,"user_id":13510894,"display_name":"Guk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74852611,"answer_count":2,"score":-2,"last_activity_date":1671464006,"creation_date":1671449587,"question_id":74849910,"body_markdown":"When I have a json below,\r\n```\r\n{\r\n\t&quot;test1&quot;: &quot;test123&quot;,\r\n\t&quot;test2&quot;: {\r\n\t\t&quot;a&quot;: 1,\r\n\t\t&quot;b&quot;: 2\r\n\t}\r\n}\r\n```\r\nI want to map this to below class using Jackson library.\r\n```java\r\nclass TestClass {\r\n    String test1;\r\n    String test2;\r\n}\r\n```\r\n\r\nBut I can&#39;t do this because test2 is an json object, not String. I want to map both test1 and test2 to string \r\n```\r\nString test1; // &quot;test123&quot;\r\nString test2; // &quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;\r\n```\r\nWhat should I do?","title":"How to convert json object string to plain string using jackson?","body":"<p>When I have a json below,</p>\n<pre><code>{\n    &quot;test1&quot;: &quot;test123&quot;,\n    &quot;test2&quot;: {\n        &quot;a&quot;: 1,\n        &quot;b&quot;: 2\n    }\n}\n</code></pre>\n<p>I want to map this to below class using Jackson library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestClass {\n    String test1;\n    String test2;\n}\n</code></pre>\n<p>But I can't do this because test2 is an json object, not String. I want to map both test1 and test2 to string</p>\n<pre><code>String test1; // &quot;test123&quot;\nString test2; // &quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":353742,"reputation":3219,"user_id":691626,"accept_rate":46,"display_name":"Dino Tw"},"score":0,"creation_date":1425418113,"post_id":28842109,"comment_id":45953540,"body_markdown":"The question is similar to [How can I parse an unqualified JSON array using Jackson?](http://stackoverflow.com/questions/28684742/how-can-i-parse-an-unqualified-json-array-using-jackson).","body":"The question is similar to <a href=\"http://stackoverflow.com/questions/28684742/how-can-i-parse-an-unqualified-json-array-using-jackson\">How can I parse an unqualified JSON array using Jackson?</a>."},{"owner":{"account_id":1615161,"reputation":6022,"user_id":1493081,"accept_rate":61,"display_name":"Alireza Mirian"},"score":0,"creation_date":1519544936,"post_id":28842109,"comment_id":84947952,"body_markdown":"Have you found any solution?","body":"Have you found any solution?"}],"answers":[{"tags":[],"owner":{"account_id":1615161,"reputation":6022,"user_id":1493081,"accept_rate":61,"display_name":"Alireza Mirian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671463646,"creation_date":1519545551,"answer_id":48971465,"question_id":28842109,"body_markdown":"There is a feature called [ACCEPT_SINGLE_VALUE_AS_ARRAY](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonFormat.Feature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY) which is turned off by default but you can turn it on:\r\n\r\n    objectMapper = new ObjectMapper()\r\n            .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\nYou can also turn it on per case:\r\n\r\n    class SomeClass {\r\n\r\n      @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n      private List&lt;String&gt; items;\r\n      // ...\r\n    }","title":"Polymorphic Jackson deserialization: getting either a string or an array of strings","body":"<p>There is a feature called <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonFormat.Feature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\" rel=\"nofollow noreferrer\">ACCEPT_SINGLE_VALUE_AS_ARRAY</a> which is turned off by default but you can turn it on:</p>\n<pre><code>objectMapper = new ObjectMapper()\n        .configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n</code></pre>\n<p>You can also turn it on per case:</p>\n<pre><code>class SomeClass {\n\n  @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\n  private List&lt;String&gt; items;\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":85255,"reputation":15349,"user_id":237815,"accept_rate":54,"display_name":"ccleve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6956,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1671463646,"creation_date":1425417625,"question_id":28842109,"body_markdown":"My question is pretty much identical to this one, except that I&#39;m using Java/Jackson instead of C#:\r\n\r\nhttps://stackoverflow.com/questions/10141610/in-c-sharp-how-can-i-deserialize-this-json-when-one-field-might-be-a-string-or-a\r\n\r\nMy input JSON can be this:\r\n\r\n    { &quot;foo&quot;: &quot;a string&quot; }\r\n\r\nor this:\r\n\r\n    { &quot;foo&quot;: [&quot;array&quot;, &quot;of&quot;, &quot;strings&quot; ] }\r\n\r\nMy class looks like this:\r\n\r\n    class MyClass {\r\n        public List&lt;String&gt; foo;\r\n    }\r\n\r\nIf the input contains a single string, I want it to become the first entry in the list.\r\n\r\nHow can I deserialize foo using Jackson? I could write a custom deserializer, which I&#39;ve done before, but I thought there might be an easier way.\r\n\r\n\r\n\r\n","title":"Polymorphic Jackson deserialization: getting either a string or an array of strings","body":"<p>My question is pretty much identical to this one, except that I'm using Java/Jackson instead of C#:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10141610/in-c-sharp-how-can-i-deserialize-this-json-when-one-field-might-be-a-string-or-a\">In C# how can I deserialize this json when one field might be a string or an array of strings?</a></p>\n\n<p>My input JSON can be this:</p>\n\n<pre><code>{ \"foo\": \"a string\" }\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>{ \"foo\": [\"array\", \"of\", \"strings\" ] }\n</code></pre>\n\n<p>My class looks like this:</p>\n\n<pre><code>class MyClass {\n    public List&lt;String&gt; foo;\n}\n</code></pre>\n\n<p>If the input contains a single string, I want it to become the first entry in the list.</p>\n\n<p>How can I deserialize foo using Jackson? I could write a custom deserializer, which I've done before, but I thought there might be an easier way.</p>\n"},{"tags":["java","jvm","jconsole"],"answers":[{"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309837465,"creation_date":1309837465,"answer_id":6577788,"question_id":6577758,"body_markdown":"you can use jconsole to remotely connect to a production server using the exposed JMX ports...  however its always better to replicate the scenario in a different environment &amp; run jconsole there....","title":"Is enabling JConsole remote monitoring affect system performance in production?","body":"<p>you can use jconsole to remotely connect to a production server using the exposed JMX ports...  however its always better to replicate the scenario in a different environment &amp; run jconsole there....</p>\n"},{"tags":[],"owner":{"account_id":439763,"reputation":2046,"user_id":828918,"display_name":"Moe Matar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1671463631,"creation_date":1309838509,"answer_id":6577861,"question_id":6577758,"body_markdown":"Although it is highly not recommended in a production environment, there is little to no performance implications to enabling remote jmx with no authentication or encryption via options like these:\r\n\r\n\r\n    -Dcom.sun.management.jmxremote\r\n    -Dcom.sun.management.jmxremote.port=9999 \r\n    -Dcom.sun.management.jmxremote.authenticate=false \r\n    -Dcom.sun.management.remote.ssl=false\r\n\r\n\r\nThere is a little more performance cost if you turn on SSL and mandate authentication:\r\n\r\n\r\n    -Dcom.sun.management.jmxremote.authenticate=true \r\n    -Dcom.sun.management.remote.ssl=true\r\n    -Dcom.sun.management.jmxremote.password.file=jmxremote.password\r\n\r\n\r\nThe above 2 scenarios will only start an mbean server and an RMI connector server in your production JVM. Connecting to this JVM remotely will be more expensive, but it all depends on what views you watch (e.g. GC views require all that data to be collected and transported back to the jConsole client, which is not free), as well as the operations you invoke remotely.\r\n\r\nYou can read more statistics from the following blog post:\r\n\r\n- https://web.archive.org/web/20200820010106/https://community.oracle.com/blogs/emcmanus/2006/07/21/how-much-does-it-cost-monitor-app-jconsole\r\n","title":"Is enabling JConsole remote monitoring affect system performance in production?","body":"<p>Although it is highly not recommended in a production environment, there is little to no performance implications to enabling remote jmx with no authentication or encryption via options like these:</p>\n<pre><code>-Dcom.sun.management.jmxremote\n-Dcom.sun.management.jmxremote.port=9999 \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.remote.ssl=false\n</code></pre>\n<p>There is a little more performance cost if you turn on SSL and mandate authentication:</p>\n<pre><code>-Dcom.sun.management.jmxremote.authenticate=true \n-Dcom.sun.management.remote.ssl=true\n-Dcom.sun.management.jmxremote.password.file=jmxremote.password\n</code></pre>\n<p>The above 2 scenarios will only start an mbean server and an RMI connector server in your production JVM. Connecting to this JVM remotely will be more expensive, but it all depends on what views you watch (e.g. GC views require all that data to be collected and transported back to the jConsole client, which is not free), as well as the operations you invoke remotely.</p>\n<p>You can read more statistics from the following blog post:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20200820010106/https://community.oracle.com/blogs/emcmanus/2006/07/21/how-much-does-it-cost-monitor-app-jconsole\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20200820010106/https://community.oracle.com/blogs/emcmanus/2006/07/21/how-much-does-it-cost-monitor-app-jconsole</a></li>\n</ul>\n"}],"owner":{"account_id":70455,"reputation":1496,"user_id":204292,"accept_rate":42,"display_name":"chinto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5588,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":6577861,"answer_count":2,"score":8,"last_activity_date":1671463631,"creation_date":1309837115,"question_id":6577758,"body_markdown":"Oracle/Sun says its fine as long as you don&#39;t run it locally on production box?\r\nhttp://download.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html\r\n\r\n&gt;Note: Using jconsole to monitor a local application is useful for development and prototyping, but is not recommended for production environments, because jconsole itself consumes significant system resources. Remote monitoring is recommended to isolate the jconsole application from the platform being monitored.\r\n\r\nHave you ever enabled it in a production environment and experienced any performance impacts?","title":"Is enabling JConsole remote monitoring affect system performance in production?","body":"<p>Oracle/Sun says its fine as long as you don't run it locally on production box?\n<a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html\">http://download.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html</a></p>\n\n<blockquote>\n  <p>Note: Using jconsole to monitor a local application is useful for development and prototyping, but is not recommended for production environments, because jconsole itself consumes significant system resources. Remote monitoring is recommended to isolate the jconsole application from the platform being monitored.</p>\n</blockquote>\n\n<p>Have you ever enabled it in a production environment and experienced any performance impacts?</p>\n"},{"tags":["java","memory","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1578448732,"post_id":59631145,"comment_id":105439171,"body_markdown":"Don&#39;t use `readAllBytes()`. It needs a buffer the size of the file. TCP/IP will send it about 1500 bytes at a time, so any buffer significantly larger than this is just a waste of time and space.","body":"Don&#39;t use <code>readAllBytes()</code>. It needs a buffer the size of the file. TCP/IP will send it about 1500 bytes at a time, so any buffer significantly larger than this is just a waste of time and space."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1671463313,"creation_date":1578446327,"answer_id":59638224,"question_id":59631145,"body_markdown":"The actual memory buffers managed by `DirectByteBuffer` are not allocated in the heap.  They are allocated using Unsafe.allocateMemory which allocates &quot;native memory&quot;. So increasing or decreasing the heap size won&#39;t help.\r\n\r\nWhen the GC detects that a `DirectByteBuffer` is no longer referenced, a `Cleaner` is used to free the native memory.  However, this happens in the post-collection phase, so if the demand for / turnover of direct buffers is too great, it is possible that the collector won&#39;t be able to keep up.  If that happens, you get an OOME.\r\n\r\n---------------\r\n\r\nWhat can you do about it?\r\n\r\nAFAIK, the only thing you can do is to force more frequent garbage collections.  But that can have performance implications.   And I don&#39;t think it is a guaranteed solution.\r\n\r\nThe real solution is to take a different approach.  \r\n\r\nYou see that you are serving up lots of very large files from a webserver, and the stacktrace shows that you are using `Files::readAllBytes` to load them into memory, and then (presumably) send them using a single `write`.   Presumably you are doing this to get the fastest download times that are possible.  This is a mistake:\r\n\r\n  - The bottleneck for transferring the file is *probably* not the process of reading data from disk.  The real bottleneck is *typically* sending the data via a TCP stream over the network, or writing it to the file system on the client end.\r\n\r\n  - If you are reading a large file sequentially, a modern Linux OS will typically use read ahead a number of disk blocks and hold the blocks in the (OS) buffer cache.  This will reduce the latency on `read` syscalls made by your application.\r\n\r\nSo, for files of this size, a better idea is to stream the file.  Either allocate a large (a few megabytes) `ByteBuffer` and read / write in a loop, *or* use a copy the file using `Files::copy(...)` ([javadoc][1]) which should take care of the buffering for you.  \r\n\r\n(There is also the option of using something that maps to a Linux `sendfile` syscall.  This copies data from one file descriptor to another without writing it into a user-space buffer.)\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-","title":"Direct buffer memory","body":"<p>The actual memory buffers managed by <code>DirectByteBuffer</code> are not allocated in the heap.  They are allocated using Unsafe.allocateMemory which allocates &quot;native memory&quot;. So increasing or decreasing the heap size won't help.</p>\n<p>When the GC detects that a <code>DirectByteBuffer</code> is no longer referenced, a <code>Cleaner</code> is used to free the native memory.  However, this happens in the post-collection phase, so if the demand for / turnover of direct buffers is too great, it is possible that the collector won't be able to keep up.  If that happens, you get an OOME.</p>\n<hr />\n<p>What can you do about it?</p>\n<p>AFAIK, the only thing you can do is to force more frequent garbage collections.  But that can have performance implications.   And I don't think it is a guaranteed solution.</p>\n<p>The real solution is to take a different approach.</p>\n<p>You see that you are serving up lots of very large files from a webserver, and the stacktrace shows that you are using <code>Files::readAllBytes</code> to load them into memory, and then (presumably) send them using a single <code>write</code>.   Presumably you are doing this to get the fastest download times that are possible.  This is a mistake:</p>\n<ul>\n<li><p>The bottleneck for transferring the file is <em>probably</em> not the process of reading data from disk.  The real bottleneck is <em>typically</em> sending the data via a TCP stream over the network, or writing it to the file system on the client end.</p>\n</li>\n<li><p>If you are reading a large file sequentially, a modern Linux OS will typically use read ahead a number of disk blocks and hold the blocks in the (OS) buffer cache.  This will reduce the latency on <code>read</code> syscalls made by your application.</p>\n</li>\n</ul>\n<p>So, for files of this size, a better idea is to stream the file.  Either allocate a large (a few megabytes) <code>ByteBuffer</code> and read / write in a loop, <em>or</em> use a copy the file using <code>Files::copy(...)</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\">javadoc</a>) which should take care of the buffering for you.</p>\n<p>(There is also the option of using something that maps to a Linux <code>sendfile</code> syscall.  This copies data from one file descriptor to another without writing it into a user-space buffer.)</p>\n"},{"tags":[],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637664294,"creation_date":1610026392,"answer_id":65613312,"question_id":59631145,"body_markdown":"You could also try increasing the size of the buffer used for `DirectByteBuffer` with the JVM option `-XX:MaxDirectMemorySize`. The Java docs are not very detailed about this parameter, but according to this [page][1] it will by default be set to 64MB unless you have specified the `-Xmx` flag. So if you haven&#39;t set this flag the allocated buffer may be too small. Or if you have a very large file and have set `-Xmx`, the derived 2GB may be too small and you could still benefit from setting a larger buffer manually.\r\n\r\nAll in all, the better approach is probably to stream the file as suggested by Stephen C.\r\n\r\n\r\n  [1]: http://www.mastertheboss.com/other/java-stuff/troubleshooting-outofmemoryerror-direct-buffer-memory","title":"Direct buffer memory","body":"<p>You could also try increasing the size of the buffer used for <code>DirectByteBuffer</code> with the JVM option <code>-XX:MaxDirectMemorySize</code>. The Java docs are not very detailed about this parameter, but according to this <a href=\"http://www.mastertheboss.com/other/java-stuff/troubleshooting-outofmemoryerror-direct-buffer-memory\" rel=\"noreferrer\">page</a> it will by default be set to 64MB unless you have specified the <code>-Xmx</code> flag. So if you haven't set this flag the allocated buffer may be too small. Or if you have a very large file and have set <code>-Xmx</code>, the derived 2GB may be too small and you could still benefit from setting a larger buffer manually.</p>\n<p>All in all, the better approach is probably to stream the file as suggested by Stephen C.</p>\n"}],"owner":{"account_id":6640938,"reputation":451,"user_id":5126654,"display_name":"Stephan Stahlmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39475,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":59638224,"answer_count":2,"score":17,"last_activity_date":1671463313,"creation_date":1578410042,"question_id":59631145,"body_markdown":"I need to return a rather large file from a web request. The file is around 670mb in size. For the most part this will work fine but after some time the following error will be thrown: \r\n\r\n``` \r\njava.lang.OutOfMemoryError: Direct buffer memory\r\n\tat java.nio.Bits.reserveMemory(Bits.java:694) ~[na:1.8.0_162]\r\n\tat java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:123) ~[na:1.8.0_162]\r\n\tat java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:311) ~[na:1.8.0_162]\r\n\tat sun.nio.ch.Util.getTemporaryDirectBuffer(Util.java:241) ~[na:1.8.0_162]\r\n\tat sun.nio.ch.IOUtil.read(IOUtil.java:195) ~[na:1.8.0_162]\r\n\tat sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:159) ~[na:1.8.0_162]\r\n\tat sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:65) ~[na:1.8.0_162]\r\n\tat sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:109) ~[na:1.8.0_162]\r\n\tat sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103) ~[na:1.8.0_162]\r\n\tat java.nio.file.Files.read(Files.java:3105) ~[na:1.8.0_162]\r\n\tat java.nio.file.Files.readAllBytes(Files.java:3158) ~[na:1.8.0_162]\r\n``` \r\nI have set the heap size to 4096mb which I think should be large enough to handle this kinds of files. Furthermore when this error occured I  took a heapdump with jmap to analyze the current state. I found two rather large byte[], which should be the file I want to return. But the heap is only around 1.6gb in size and not near the configured 4gb it can be. \r\n\r\nAccording to some other answer (https://stackoverflow.com/a/39984276/5126654) in a similar question I tried running manual gc before returning this file. The problem still occured but now only spardic. The problem occured after some time, but then when I tired running the same request again it seems like the garbage collection took care of whatever caused the problem, but this is not sufficient since the problem apparently still can occur. Is there some other way to avoid this memory problem? \r\n","title":"Direct buffer memory","body":"<p>I need to return a rather large file from a web request. The file is around 670mb in size. For the most part this will work fine but after some time the following error will be thrown: </p>\n\n<pre><code>java.lang.OutOfMemoryError: Direct buffer memory\n    at java.nio.Bits.reserveMemory(Bits.java:694) ~[na:1.8.0_162]\n    at java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:123) ~[na:1.8.0_162]\n    at java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:311) ~[na:1.8.0_162]\n    at sun.nio.ch.Util.getTemporaryDirectBuffer(Util.java:241) ~[na:1.8.0_162]\n    at sun.nio.ch.IOUtil.read(IOUtil.java:195) ~[na:1.8.0_162]\n    at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:159) ~[na:1.8.0_162]\n    at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:65) ~[na:1.8.0_162]\n    at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:109) ~[na:1.8.0_162]\n    at sun.nio.ch.ChannelInputStream.read(ChannelInputStream.java:103) ~[na:1.8.0_162]\n    at java.nio.file.Files.read(Files.java:3105) ~[na:1.8.0_162]\n    at java.nio.file.Files.readAllBytes(Files.java:3158) ~[na:1.8.0_162]\n</code></pre>\n\n<p>I have set the heap size to 4096mb which I think should be large enough to handle this kinds of files. Furthermore when this error occured I  took a heapdump with jmap to analyze the current state. I found two rather large byte[], which should be the file I want to return. But the heap is only around 1.6gb in size and not near the configured 4gb it can be. </p>\n\n<p>According to some other answer (<a href=\"https://stackoverflow.com/a/39984276/5126654\">https://stackoverflow.com/a/39984276/5126654</a>) in a similar question I tried running manual gc before returning this file. The problem still occured but now only spardic. The problem occured after some time, but then when I tired running the same request again it seems like the garbage collection took care of whatever caused the problem, but this is not sufficient since the problem apparently still can occur. Is there some other way to avoid this memory problem? </p>\n"},{"tags":["java","maven","jenkins","testing","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671464334,"post_id":74852121,"comment_id":132099106,"body_markdown":"_&quot;Caused by: java.net.ConnectException: Connection timed out (Connection timed out)&quot;_ Sounds like your database configuration is not correct","body":"<i>&quot;Caused by: java.net.ConnectException: Connection timed out (Connection timed out)&quot;</i> Sounds like your database configuration is not correct"},{"owner":{"account_id":13103431,"reputation":41,"user_id":9678584,"display_name":"Kim Kelly"},"score":0,"creation_date":1671481486,"post_id":74852121,"comment_id":132104546,"body_markdown":"It is working locally so well so The configurations should be good :/","body":"It is working locally so well so The configurations should be good :/"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671530534,"post_id":74852121,"comment_id":132114020,"body_markdown":"That suggests that locally you do have a database server running and responding, and not on Jenkins.","body":"That suggests that locally you do have a database server running and responding, and not on Jenkins."}],"owner":{"account_id":13103431,"reputation":41,"user_id":9678584,"display_name":"Kim Kelly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671530562,"answer_count":0,"score":0,"last_activity_date":1671463239,"creation_date":1671461493,"question_id":74852121,"body_markdown":"I am trying to automate a web application and this web application needs to get some information from the database.\r\nthe database is not local but in AWS , and I checked the URL and port.\r\nAfter login , it needs to get a certain link from the database to open it and keep going.\r\nIn my local it works perfectly but once I deployed on Jenkins I found this error.\r\n\r\n**this is the error** :\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat com.bmw.automation.pages.abstraction.AbstractPageBmw.getLastLinkQRCode(AbstractPageBmw.java:115)\r\n\tat com.bmw.automation.pages.common.GmailBoxPage.openLinkQRcode(GmailBoxPage.java:575)\r\n\tat com.bmw.automation.bdd.stepsDefinition.GmailBoxPageStepsDefinition.i_extract_the_link(GmailBoxPageStepsDefinition.java:228)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:64)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:104)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:71)\r\n\tat io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$0(TestNGCucumberRunner.java:116)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\r\n\tat io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:113)\r\n\tat io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:31)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:62)\r\n\tat org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:141)\r\n\tat org.apache.maven.surefire.Surefire.run(Surefire.java:180)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\r\n\tat org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)\r\n\t... 62 more\r\nCaused by: java.net.ConnectException: Connection timed out (Connection timed out)\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n\tat java.net.Socket.connect(Socket.java:606)\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n\t... 65 more\r\n\r\n```\r\n\r\n**And this is my code** :\r\n\r\n```\r\n    public String getLastLinkQRCode() {\r\n    \tString lastLinkQrCode = &quot;&quot;;\r\n    \tConnection myConnection = null;\r\n    \ttry {\r\n    \t\tif(PropertiesReader.getEnvironementName().equalsIgnoreCase(&quot;test&quot;)) {\r\n    \t\t\tmyConnection = DriverManager.getConnection(PropertiesReader.getBmwTestDatabaseUrl_PPV(), PropertiesReader.getBmwTestDatabaseLogin_PPV(), PropertiesReader.getBmwTestDatabasePassword_PPV());\r\n    \t\t} else {\r\n    \t\t\tmyConnection = DriverManager.getConnection(PropertiesReader.getBmwProdDatabaseUrl(), PropertiesReader.getBmwProdDatabaseLogin(), PropertiesReader.getBmwProdDatabasePassword());\r\n    \t\t\t} \r\n    \t\tStatement myStatement = myConnection.createStatement();\r\n    \t\tResultSet myResult = myStatement.executeQueriy(&quot;select link from t1 where mail =&#39;x1x1x1x1@gmail.com&#39; ORDER BY send_date DESC LIMIT 1&quot;);\r\n    \t\twhile(myResult.next()) {\r\n    \t\t\tlastLink= myResult.getString(&quot;link&quot;);\r\n    \t\t}\r\n    \t\tmyConnection.close();\r\n    \t} catch (SQLException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \tSystem.out.println(lastLinkQrCode);\r\n    \treturn lastLink;\r\n    }\r\n}\r\n```","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure On Jenkins","body":"<p>I am trying to automate a web application and this web application needs to get some information from the database.\nthe database is not local but in AWS , and I checked the URL and port.\nAfter login , it needs to get a certain link from the database to open it and keep going.\nIn my local it works perfectly but once I deployed on Jenkins I found this error.</p>\n<p><strong>this is the error</strong> :</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at com.bmw.automation.pages.abstraction.AbstractPageBmw.getLastLinkQRCode(AbstractPageBmw.java:115)\n    at com.bmw.automation.pages.common.GmailBoxPage.openLinkQRcode(GmailBoxPage.java:575)\n    at com.bmw.automation.bdd.stepsDefinition.GmailBoxPageStepsDefinition.i_extract_the_link(GmailBoxPageStepsDefinition.java:228)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\n    at io.cucumber.java.Invoker.invoke(Invoker.java:24)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:92)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:64)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:104)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:71)\n    at io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$0(TestNGCucumberRunner.java:116)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\n    at io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:113)\n    at io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:31)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:62)\n    at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:141)\n    at org.apache.maven.surefire.Surefire.run(Surefire.java:180)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:350)\n    at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1021)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)\n    ... 62 more\nCaused by: java.net.ConnectException: Connection timed out (Connection timed out)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\n    at java.net.Socket.connect(Socket.java:606)\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n    ... 65 more\n\n</code></pre>\n<p><strong>And this is my code</strong> :</p>\n<pre><code>    public String getLastLinkQRCode() {\n        String lastLinkQrCode = &quot;&quot;;\n        Connection myConnection = null;\n        try {\n            if(PropertiesReader.getEnvironementName().equalsIgnoreCase(&quot;test&quot;)) {\n                myConnection = DriverManager.getConnection(PropertiesReader.getBmwTestDatabaseUrl_PPV(), PropertiesReader.getBmwTestDatabaseLogin_PPV(), PropertiesReader.getBmwTestDatabasePassword_PPV());\n            } else {\n                myConnection = DriverManager.getConnection(PropertiesReader.getBmwProdDatabaseUrl(), PropertiesReader.getBmwProdDatabaseLogin(), PropertiesReader.getBmwProdDatabasePassword());\n                } \n            Statement myStatement = myConnection.createStatement();\n            ResultSet myResult = myStatement.executeQueriy(&quot;select link from t1 where mail ='x1x1x1x1@gmail.com' ORDER BY send_date DESC LIMIT 1&quot;);\n            while(myResult.next()) {\n                lastLink= myResult.getString(&quot;link&quot;);\n            }\n            myConnection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        System.out.println(lastLinkQrCode);\n        return lastLink;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1671456445,"post_id":74851080,"comment_id":132096405,"body_markdown":"Would you mind to put actual code here, so that your Question would be clear!","body":"Would you mind to put actual code here, so that your Question would be clear!"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1671458164,"post_id":74851080,"comment_id":132096978,"body_markdown":"The transaction processing is happening in your DB. If you want to test transaction handling, you need to use a DB, not a mock, in your test.","body":"The transaction processing is happening in your DB. If you want to test transaction handling, you need to use a DB, not a mock, in your test."}],"owner":{"account_id":27198951,"reputation":1,"user_id":20731472,"display_name":"Dhineshkumar Ramamoorthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671463191,"creation_date":1671455848,"question_id":74851080,"body_markdown":"I have a class with public method name process() which invoked a private method called processAandB().\r\nIn the method processAandB() we are using\r\n```\r\nhandle.useTransaction(h -&gt; {\r\n   //calling processA and processB private methods\r\n   processA(h)\r\n\r\n   processB(h)\r\n\r\n}) [JDBI handle]\r\n```\r\n\r\nIn processA we are creating tasks(Callable) which are to be processed via executor service and same applies to processB.\r\n\r\nI am writing a JUnit test case where I&#39;ve mocked the Handle and called the process() method and the problem is control is not going inside handle.useTransaction().\r\nI am not sure how to invoke useTransaction in such a way that it call the processA and processB method too.\r\n\r\n\r\nI tried mocking transaction too but couldn&#39;t. \r\nNot sure what is the approach I should follow here.","title":"How to mock handle.useTransaction in JDBI","body":"<p>I have a class with public method name process() which invoked a private method called processAandB().\nIn the method processAandB() we are using</p>\n<pre><code>handle.useTransaction(h -&gt; {\n   //calling processA and processB private methods\n   processA(h)\n\n   processB(h)\n\n}) [JDBI handle]\n</code></pre>\n<p>In processA we are creating tasks(Callable) which are to be processed via executor service and same applies to processB.</p>\n<p>I am writing a JUnit test case where I've mocked the Handle and called the process() method and the problem is control is not going inside handle.useTransaction().\nI am not sure how to invoke useTransaction in such a way that it call the processA and processB method too.</p>\n<p>I tried mocking transaction too but couldn't.\nNot sure what is the approach I should follow here.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","multipart-upload"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671463055,"creation_date":1671450596,"answer_id":74850119,"question_id":74848960,"body_markdown":"The consumer method, which you&#39;re using here, has a [signature][1] of `multipartUpload(Consumer&lt;CompletedMultipartUpload.Builder&gt; multipartUpload)`.\r\n\r\nIn your updated code, you are passing a function that takes a list of `CompletedPart` objects as input &amp; returns a `CompletedMultipartUpload` object. \r\n\r\nThis doesn&#39;t match the signature as you&#39;re not passing in a consumer which just takes in the builder.\r\n\r\n**Update your code to simply just set the parts on the provided builder object - you don&#39;t need to build it yourself.**\r\n\r\nThis is stated by the documentation for the method as well:\r\n\r\n&gt; This is a convenience that creates an instance of the `CompletedMultipartUpload.Builder` *avoiding the need to create one manually* via `CompletedMultipartUpload.builder()`.\r\n\r\nTry this instead:\r\n\r\n```java\r\nCompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(keyName)\r\n                .uploadId(uploadId)\r\n                .multipartUpload(completedMultipartUpload -&gt; completedMultipartUpload.parts(completedParts))\r\n                .build();\r\n```\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/CompleteMultipartUploadRequest.Builder.html","title":"S3Exception when trying to complete multi-part upload using the AWS Java v2 SDK","body":"<p>The consumer method, which you're using here, has a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/CompleteMultipartUploadRequest.Builder.html\" rel=\"nofollow noreferrer\">signature</a> of <code>multipartUpload(Consumer&lt;CompletedMultipartUpload.Builder&gt; multipartUpload)</code>.</p>\n<p>In your updated code, you are passing a function that takes a list of <code>CompletedPart</code> objects as input &amp; returns a <code>CompletedMultipartUpload</code> object.</p>\n<p>This doesn't match the signature as you're not passing in a consumer which just takes in the builder.</p>\n<p><strong>Update your code to simply just set the parts on the provided builder object - you don't need to build it yourself.</strong></p>\n<p>This is stated by the documentation for the method as well:</p>\n<blockquote>\n<p>This is a convenience that creates an instance of the <code>CompletedMultipartUpload.Builder</code> <em>avoiding the need to create one manually</em> via <code>CompletedMultipartUpload.builder()</code>.</p>\n</blockquote>\n<p>Try this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\n                .bucket(bucketName)\n                .key(keyName)\n                .uploadId(uploadId)\n                .multipartUpload(completedMultipartUpload -&gt; completedMultipartUpload.parts(completedParts))\n                .build();\n</code></pre>\n"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671463055,"creation_date":1671444472,"question_id":74848960,"body_markdown":"I&#39;m trying to complete a multi-part upload to S3 in Java 11, using the AWS SDK for Java v2.\r\n\r\nMy `CompleteMultipartUploadRequest` initially looked like this, and functionally worked:\r\n\r\n```\r\nCompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest\r\n                .builder()\r\n                .bucket(s3BucketName)\r\n                .key(fileName)\r\n                .uploadId(uploadId)\r\n                .multipartUpload(CompletedMultipartUpload.builder().parts(completedParts).build())\r\n                .build();\r\nCompleteMultipartUploadResponse completedUploadResponse = s3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\nreturn completedUploadResponse.location();\r\n```\r\n\r\nHowever, Sonar was complaining about:\r\n\r\n&gt; Consider using the Consumer Builder method instead of creating this nested builder.\r\n\r\nSo I made a minor change in the request:\r\n\r\n```\r\nCompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest\r\n                .builder()\r\n                .bucket(s3BucketName)\r\n                .key(fileName)\r\n                .uploadId(uploadId)\r\n                .multipartUpload(completedParts -&gt; CompletedMultipartUpload.builder().parts(completedParts).build())\r\n                .build();\r\nCompleteMultipartUploadResponse completedUploadResponse = s3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\nreturn completedUploadResponse.location();\r\n```\r\n\r\nThe Sonar warning went away, but then the upload started throwing the below exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; software.amazon.awssdk.services.s3.model.S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400, Request ID: xxx, Extended Request ID: xxx) at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleErrorResponse(AwsXmlPredicatedResponseHandler.java:156)\r\n\r\nWhat&#39;s the issue?","title":"S3Exception when trying to complete multi-part upload using the AWS Java v2 SDK","body":"<p>I'm trying to complete a multi-part upload to S3 in Java 11, using the AWS SDK for Java v2.</p>\n<p>My <code>CompleteMultipartUploadRequest</code> initially looked like this, and functionally worked:</p>\n<pre><code>CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest\n                .builder()\n                .bucket(s3BucketName)\n                .key(fileName)\n                .uploadId(uploadId)\n                .multipartUpload(CompletedMultipartUpload.builder().parts(completedParts).build())\n                .build();\nCompleteMultipartUploadResponse completedUploadResponse = s3Client.completeMultipartUpload(completeMultipartUploadRequest);\nreturn completedUploadResponse.location();\n</code></pre>\n<p>However, Sonar was complaining about:</p>\n<blockquote>\n<p>Consider using the Consumer Builder method instead of creating this nested builder.</p>\n</blockquote>\n<p>So I made a minor change in the request:</p>\n<pre><code>CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest\n                .builder()\n                .bucket(s3BucketName)\n                .key(fileName)\n                .uploadId(uploadId)\n                .multipartUpload(completedParts -&gt; CompletedMultipartUpload.builder().parts(completedParts).build())\n                .build();\nCompleteMultipartUploadResponse completedUploadResponse = s3Client.completeMultipartUpload(completeMultipartUploadRequest);\nreturn completedUploadResponse.location();\n</code></pre>\n<p>The Sonar warning went away, but then the upload started throwing the below exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; software.amazon.awssdk.services.s3.model.S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400, Request ID: xxx, Extended Request ID: xxx) at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleErrorResponse(AwsXmlPredicatedResponseHandler.java:156)</p>\n</blockquote>\n<p>What's the issue?</p>\n"},{"tags":["java","windows","macos","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671492590,"post_id":74852412,"comment_id":132107237,"body_markdown":"Those are compile errors (generated by [`javac`](https://docs.oracle.com/en/java/javase/19/docs/specs/man/javac.html)) not runtime errors (generated by `java`).  That indicates that the compiler is not finding the JavaFX modules, so you are not providing the correct `--module-path` to the compiler, or not adding the required modules via `--add-modules` (the later is required if you don&#39;t provide a `module-info.java`).  See [Getting started: JavaFX and Visual Studio Code](https://openjfx.io/openjfx-docs/) for setup of VSCode for JavaFX.","body":"Those are compile errors (generated by <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\"><code>javac</code></a>) not runtime errors (generated by <code>java</code>).  That indicates that the compiler is not finding the JavaFX modules, so you are not providing the correct <code>--module-path</code> to the compiler, or not adding the required modules via <code>--add-modules</code> (the later is required if you don&#39;t provide a <code>module-info.java</code>).  See <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting started: JavaFX and Visual Studio Code</a> for setup of VSCode for JavaFX."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671492932,"post_id":74852412,"comment_id":132107285,"body_markdown":"If using Maven, I don&#39;t understand why you would manually set paths to JavaFX in a separately downloaded JavaFX SDK.  The JavaFX SDK should not be necessary because maven will download and provide all of the modules you needed (if your maven project is correctly configured).","body":"If using Maven, I don&#39;t understand why you would manually set paths to JavaFX in a separately downloaded JavaFX SDK.  The JavaFX SDK should not be necessary because maven will download and provide all of the modules you needed (if your maven project is correctly configured)."},{"owner":{"account_id":6734695,"reputation":734,"user_id":5189887,"display_name":"Bobby StJacques"},"score":0,"creation_date":1671541716,"post_id":74852412,"comment_id":132117562,"body_markdown":"If you&#39;ll read the original question more closely you&#39;ll note that these commands are the output produced when pressing the &quot;play&quot; (Run) button in VS Code. On Windows VS Code uses a -cp argument to include the path to all of the required libraries. On macOS it does not. VS Code does not try to use Maven to run the application when using &quot;play&quot;.","body":"If you&#39;ll read the original question more closely you&#39;ll note that these commands are the output produced when pressing the &quot;play&quot; (Run) button in VS Code. On Windows VS Code uses a -cp argument to include the path to all of the required libraries. On macOS it does not. VS Code does not try to use Maven to run the application when using &quot;play&quot;."}],"owner":{"account_id":2413053,"reputation":11,"user_id":2107726,"display_name":"tommasz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671462973,"creation_date":1671462973,"question_id":74852412,"body_markdown":"We&#39;re using Maven in VSCode to develop with JavaFX. Maven works fine with VSCode on PCs but we can&#39;t use the &quot;Play&quot; button or &quot;Run Without Debugging&quot; on Macs. \r\n\r\njava 19.0.1\r\njavafx 19\r\nmaven 3.8.6\r\nVSCode 1.74.1\r\n\r\n\r\nOn a PC, we get this:\r\n\r\n```\r\n&amp; &#39;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&#39; &#39;@C:\\Users\\username\\AppData\\Local\\Temp\\cp_et8lcjrjl0fge41txqyx61dgy.argfile&#39; &#39;-m&#39; &#39;activities/activities.HelloFX&#39;\r\n-XX:+ShowCodeDetailsInExceptionMessages -cp &quot;C:\\\\Users\\\\username\\\\SoftDevII\\\\2225.124.MavenStarter\\\\target\\\\classes;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19-win.jar&quot; -XX:+ShowCodeDetailsInExceptionMessages -cp &quot;C:\\\\Users\\\\username\\\\SoftDevII\\\\2225.124.MavenStarter\\\\target\\\\classes;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19-win.jar&quot;\r\n```\r\nAnd on Macs we get this, a very different invocation:\r\n\r\n```\r\n[Running] cd &quot;/124-2225/2225.124.MavenStarter/src/main/java/activities/&quot; &amp;&amp; javac HelloFX.java &amp;&amp; java HelloFX\r\n\r\nHelloFX.java:3: error: package javafx.application does not exist\r\nimport javafx.application.Application; HelloFX.java:4: error: package javafx.stage does not exist\r\nimport javafx.stage.Stage;\r\n                   ^\r\nHelloFX.java:6: error: cannot find symbol\r\npublic class HelloFX extends Application {\r\n                             ^\r\n  symbol: class Application\r\nHelloFX.java:9: error: cannot find symbol\r\n    public void start(Stage primaryStage) throws Exception {\r\n                      ^\r\n  symbol:   class Stage\r\n  location: class HelloFX\r\nHelloFX.java:8: error: method does not override or implement a method from a supertype\r\n    @Override\r\n    ^\r\nHelloFX.java:17: error: cannot find symbol\r\n        launch(args);\r\n        ^\r\n  symbol:   method launch(String[])\r\n  location: class HelloFX\r\n```\r\n\r\nHowever, we can run it from the command line if we include what we already have set in VSCode&#39;s settings.json, &quot;java.debug.settings.vmArgs&quot;:\r\n\r\n```\r\njava --module-path /Java/javafx-sdk-19/lib --add-modules javafx.controls,javafx.fxml,javafx.media activities/HelloFX.java\r\n```\r\n\r\nIn addition, we can successfully execute the single file from Maven&#39;s javafx plugin, but we will have multiple application classes so that&#39;s not a good solution. It *seems* like a VSCode issue, but we have no idea where or why Macs and PCs are so different.\r\n\r\n","title":"Differing behavior in VSCode with Maven on PC and Mac","body":"<p>We're using Maven in VSCode to develop with JavaFX. Maven works fine with VSCode on PCs but we can't use the &quot;Play&quot; button or &quot;Run Without Debugging&quot; on Macs.</p>\n<p>java 19.0.1\njavafx 19\nmaven 3.8.6\nVSCode 1.74.1</p>\n<p>On a PC, we get this:</p>\n<pre><code>&amp; 'C:\\Program Files\\Java\\jdk-19\\bin\\java.exe' '@C:\\Users\\username\\AppData\\Local\\Temp\\cp_et8lcjrjl0fge41txqyx61dgy.argfile' '-m' 'activities/activities.HelloFX'\n-XX:+ShowCodeDetailsInExceptionMessages -cp &quot;C:\\\\Users\\\\username\\\\SoftDevII\\\\2225.124.MavenStarter\\\\target\\\\classes;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19-win.jar&quot; -XX:+ShowCodeDetailsInExceptionMessages -cp &quot;C:\\\\Users\\\\username\\\\SoftDevII\\\\2225.124.MavenStarter\\\\target\\\\classes;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-controls\\\\19\\\\javafx-controls-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-graphics\\\\19\\\\javafx-graphics-19-win.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19.jar;C:\\\\Users\\\\username\\\\.m2\\\\repository\\\\org\\\\openjfx\\\\javafx-base\\\\19\\\\javafx-base-19-win.jar&quot;\n</code></pre>\n<p>And on Macs we get this, a very different invocation:</p>\n<pre><code>[Running] cd &quot;/124-2225/2225.124.MavenStarter/src/main/java/activities/&quot; &amp;&amp; javac HelloFX.java &amp;&amp; java HelloFX\n\nHelloFX.java:3: error: package javafx.application does not exist\nimport javafx.application.Application; HelloFX.java:4: error: package javafx.stage does not exist\nimport javafx.stage.Stage;\n                   ^\nHelloFX.java:6: error: cannot find symbol\npublic class HelloFX extends Application {\n                             ^\n  symbol: class Application\nHelloFX.java:9: error: cannot find symbol\n    public void start(Stage primaryStage) throws Exception {\n                      ^\n  symbol:   class Stage\n  location: class HelloFX\nHelloFX.java:8: error: method does not override or implement a method from a supertype\n    @Override\n    ^\nHelloFX.java:17: error: cannot find symbol\n        launch(args);\n        ^\n  symbol:   method launch(String[])\n  location: class HelloFX\n</code></pre>\n<p>However, we can run it from the command line if we include what we already have set in VSCode's settings.json, &quot;java.debug.settings.vmArgs&quot;:</p>\n<pre><code>java --module-path /Java/javafx-sdk-19/lib --add-modules javafx.controls,javafx.fxml,javafx.media activities/HelloFX.java\n</code></pre>\n<p>In addition, we can successfully execute the single file from Maven's javafx plugin, but we will have multiple application classes so that's not a good solution. It <em>seems</em> like a VSCode issue, but we have no idea where or why Macs and PCs are so different.</p>\n"},{"tags":["java","swing","focus"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1521377673,"post_id":49348067,"comment_id":85695815,"body_markdown":"1. For best help, post a ***small*** (key word) program that compiles, runs, and demonstrates your problem, an [mcve]. 2. You appear to be using null layouts and `setBounds`, and while this is not causing your main problems, it will cause your future problems, and so I urge you not to go this route but to use layout managers.","body":"1. For best help, post a <b><i>small</i></b> (key word) program that compiles, runs, and demonstrates your problem, an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2. You appear to be using null layouts and <code>setBounds</code>, and while this is not causing your main problems, it will cause your future problems, and so I urge you not to go this route but to use layout managers."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1521378244,"post_id":49348067,"comment_id":85695973,"body_markdown":"And does this `newGame();` create an entirely new GUI window? If so, perhaps better is to more simply reset the current window to its original state. But again, difficult to say without your [MCVE](https://stackoverflow.com/help/mcve) code post.","body":"And does this <code>newGame();</code> create an entirely new GUI window? If so, perhaps better is to more simply reset the current window to its original state. But again, difficult to say without your <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> code post."},{"owner":{"account_id":12038515,"reputation":39,"user_id":8806252,"accept_rate":60,"display_name":"Stew-coder95"},"score":0,"creation_date":1521378524,"post_id":49348067,"comment_id":85696049,"body_markdown":"I&#39;m trying to figure out how to create the MCVE version to demonstrate the problem, thanks for the tip about this. Also no newGame(); simply resets the logic of the game and the GUI stays constantly open.","body":"I&#39;m trying to figure out how to create the MCVE version to demonstrate the problem, thanks for the tip about this. Also no newGame(); simply resets the logic of the game and the GUI stays constantly open."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1521378589,"post_id":49348067,"comment_id":85696072,"body_markdown":"Creating a decent MCVE is not all that easy, but often the effort reveals the problem to you yourself, since you&#39;re forced to expose the problem.","body":"Creating a decent MCVE is not all that easy, but often the effort reveals the problem to you yourself, since you&#39;re forced to expose the problem."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521394520,"creation_date":1521394520,"answer_id":49350927,"question_id":49348067,"body_markdown":"    txtGuess.requestFocus(); \r\n\r\nFirst of all you should not be using that method. Read the API for the method and it will tell you the better method to use.\r\n\r\n&gt; how can I fix this problem and have the focus on the text field every time the window opens?\r\n\r\nFocus should go to the component at the top left of the frame by default. If this isn&#39;t happening, then you are doing something strange. \r\n\r\nIf your text field is not the first component on the frame, then you can only set focus on it AFTER the GUI has been made visible.\r\n\r\nBased on the code posted it looks like the text field is located above the button, so it should get focus. Maybe the problem is that you are using a null layout and the order you add components to the frame. We can&#39;t tell without a proper MCVE.\r\n\r\nOther suggestions for your code:\r\n\r\n1. Don&#39;t use a null layout and setBounds(). You should not be manually setting a size/ Swing was designed to be used with layout managers. \r\n\r\n2. There is no need to create a unique ActionListener for every button. You can create a generic listener to be shared by every button. Check out: https://stackoverflow.com/questions/33739623/how-to-add-a-shortcut-key-for-a-jbutton-in-java/33739732#33739732 for a working example of this approach.\r\n\r\n&gt; I&#39;m trying to figure out how to create the MCVE version to demonstrate the problem\r\n\r\nIts not a big mystery. You stated you had a frame with a text field and it worked. Then you added a button and it didn&#39;t work. So The MCVE will simply consist of a frame with a text field and button. The game logic is irrelevant to your question so it is not needed. So the MCVE should be about 10 - 15 lines of code. ","title":"JTextField.requestFocus() stopped working after adding buttons to GUI","body":"<pre><code>txtGuess.requestFocus(); \n</code></pre>\n\n<p>First of all you should not be using that method. Read the API for the method and it will tell you the better method to use.</p>\n\n<blockquote>\n  <p>how can I fix this problem and have the focus on the text field every time the window opens?</p>\n</blockquote>\n\n<p>Focus should go to the component at the top left of the frame by default. If this isn't happening, then you are doing something strange. </p>\n\n<p>If your text field is not the first component on the frame, then you can only set focus on it AFTER the GUI has been made visible.</p>\n\n<p>Based on the code posted it looks like the text field is located above the button, so it should get focus. Maybe the problem is that you are using a null layout and the order you add components to the frame. We can't tell without a proper MCVE.</p>\n\n<p>Other suggestions for your code:</p>\n\n<ol>\n<li><p>Don't use a null layout and setBounds(). You should not be manually setting a size/ Swing was designed to be used with layout managers. </p></li>\n<li><p>There is no need to create a unique ActionListener for every button. You can create a generic listener to be shared by every button. Check out: <a href=\"https://stackoverflow.com/questions/33739623/how-to-add-a-shortcut-key-for-a-jbutton-in-java/33739732#33739732\">How to add a shortcut key for a jbutton in java?</a> for a working example of this approach.</p></li>\n</ol>\n\n<blockquote>\n  <p>I'm trying to figure out how to create the MCVE version to demonstrate the problem</p>\n</blockquote>\n\n<p>Its not a big mystery. You stated you had a frame with a text field and it worked. Then you added a button and it didn't work. So The MCVE will simply consist of a frame with a text field and button. The game logic is irrelevant to your question so it is not needed. So the MCVE should be about 10 - 15 lines of code. </p>\n"},{"tags":[],"owner":{"account_id":12038515,"reputation":39,"user_id":8806252,"accept_rate":60,"display_name":"Stew-coder95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521464332,"creation_date":1521464332,"answer_id":49363599,"question_id":49348067,"body_markdown":"The solution was to implement this code \r\n\r\n    frame.addWindowFocusListener(new WindowAdapter() {\r\n    \t\t    public void windowGainedFocus(WindowEvent e) {\r\n    \t\t        textfield.requestFocusInWindow();\r\n    \t\t    }\r\n    \t\t});","title":"JTextField.requestFocus() stopped working after adding buttons to GUI","body":"<p>The solution was to implement this code </p>\n\n<pre><code>frame.addWindowFocusListener(new WindowAdapter() {\n            public void windowGainedFocus(WindowEvent e) {\n                textfield.requestFocusInWindow();\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671462804,"creation_date":1671462804,"answer_id":74852382,"question_id":49348067,"body_markdown":"The focus goes by default to the first focusable Component in the layout.\r\n\r\nIf you want to change this behaviour:\r\n - either follow the [accepted answer][1]\r\n - or add an `AncestorListener`on the component you want to gain focus\r\n - or call `pack()` on the frame/dialog, request the focus `textfield.requestFocusInWindow();` and then show the frame/dialog `frame.setVisible(true);`\r\n\r\nSee this [other question][2] that has been answered on SO, as well as [this article][3] that gives you the full answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49363599/9064287\r\n  [2]: https://stackoverflow.com/q/62821608/9064287\r\n  [3]: https://tips4java.wordpress.com/2010/03/14/dialog-focus/","title":"JTextField.requestFocus() stopped working after adding buttons to GUI","body":"<p>The focus goes by default to the first focusable Component in the layout.</p>\n<p>If you want to change this behaviour:</p>\n<ul>\n<li>either follow the <a href=\"https://stackoverflow.com/a/49363599/9064287\">accepted answer</a></li>\n<li>or add an <code>AncestorListener</code>on the component you want to gain focus</li>\n<li>or call <code>pack()</code> on the frame/dialog, request the focus <code>textfield.requestFocusInWindow();</code> and then show the frame/dialog <code>frame.setVisible(true);</code></li>\n</ul>\n<p>See this <a href=\"https://stackoverflow.com/q/62821608/9064287\">other question</a> that has been answered on SO, as well as <a href=\"https://tips4java.wordpress.com/2010/03/14/dialog-focus/\" rel=\"nofollow noreferrer\">this article</a> that gives you the full answer.</p>\n"}],"owner":{"account_id":12038515,"reputation":39,"user_id":8806252,"accept_rate":60,"display_name":"Stew-coder95"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49363599,"answer_count":3,"score":1,"last_activity_date":1671462804,"creation_date":1521377377,"question_id":49348067,"body_markdown":"I have a GUI made using javax.swing and java.awt, the request focus was working on keeping the text field in focus, so that a user can just start with a keyboard. I then added buttons for each integer 0-9, aswell as a clear field button. However the focus now always starts on a button. \r\n\r\nThe focus still returns to the textField whenever I click a button or if I initiate the focus it remains in the textField, how can I fix this problem and have the focus on the text field everytime the window opens?\r\n\r\nExample Number Buttons\r\n\r\n    JButton btn0 = new JButton(&quot;0&quot;);\r\n    \t\tpanel.add(btn0);\r\n    \t\tbtn0.setBounds(50, 360, 50, 50);\r\n    \t\tbtn0.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tbtn0.setForeground(Color.BLACK);\r\n    \t\tbtn0.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    \t\tbtn0.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tString userIn = txtGuess.getText() + btn0.getText();\r\n    \t\t\t\ttxtGuess.setText(userIn);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\ntextField Code\r\n\r\n    txtGuess = new JTextField();\r\n    \t\ttxtGuess.setBounds(325, 220, 100, 35);\r\n    \t\tpanel.add(txtGuess);\r\n    \t\ttxtGuess.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\r\n    \t\ttxtGuess.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\ttxtGuess.setBackground(Color.decode(&quot;#206BA4&quot;));\r\n    \t\ttxtGuess.setForeground(Color.decode(&quot;#EBF4FA&quot;));\r\n    \t\ttxtGuess.setBorder(loweredBorder);\r\n    \t\ttxtGuess.addActionListener(new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tcheckGuess();\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nThe end of checkGuess();\r\n\r\n    finally {\r\n    \t\t\ttxtGuess.requestFocus(); //sets focus to the text box after checking guess\r\n    \t\t\ttxtGuess.selectAll(); //highlights all text in the text field so UX is improved\r\n    \t\t\tif (attempt &gt;= 10) {\r\n    \t\t\t\tlblOutput.setText(&quot;You lose! Try Again?&quot;);\r\n    \t\t\t\tnewGame();\r\n    \t\t\t}","title":"JTextField.requestFocus() stopped working after adding buttons to GUI","body":"<p>I have a GUI made using javax.swing and java.awt, the request focus was working on keeping the text field in focus, so that a user can just start with a keyboard. I then added buttons for each integer 0-9, aswell as a clear field button. However the focus now always starts on a button. </p>\n\n<p>The focus still returns to the textField whenever I click a button or if I initiate the focus it remains in the textField, how can I fix this problem and have the focus on the text field everytime the window opens?</p>\n\n<p>Example Number Buttons</p>\n\n<pre><code>JButton btn0 = new JButton(\"0\");\n        panel.add(btn0);\n        btn0.setBounds(50, 360, 50, 50);\n        btn0.setHorizontalAlignment(SwingConstants.CENTER);\n        btn0.setForeground(Color.BLACK);\n        btn0.setFont(new Font(\"Arial\", Font.BOLD, 20));\n        btn0.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String userIn = txtGuess.getText() + btn0.getText();\n                txtGuess.setText(userIn);\n            }\n        });\n</code></pre>\n\n<p>textField Code</p>\n\n<pre><code>txtGuess = new JTextField();\n        txtGuess.setBounds(325, 220, 100, 35);\n        panel.add(txtGuess);\n        txtGuess.setFont(new Font(\"Arial\", Font.BOLD, 25));\n        txtGuess.setHorizontalAlignment(SwingConstants.CENTER);\n        txtGuess.setBackground(Color.decode(\"#206BA4\"));\n        txtGuess.setForeground(Color.decode(\"#EBF4FA\"));\n        txtGuess.setBorder(loweredBorder);\n        txtGuess.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                checkGuess();\n            }\n        });\n</code></pre>\n\n<p>The end of checkGuess();</p>\n\n<pre><code>finally {\n            txtGuess.requestFocus(); //sets focus to the text box after checking guess\n            txtGuess.selectAll(); //highlights all text in the text field so UX is improved\n            if (attempt &gt;= 10) {\n                lblOutput.setText(\"You lose! Try Again?\");\n                newGame();\n            }\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671436832,"post_id":74847461,"comment_id":132090881,"body_markdown":"Show us the exact query that you&#39;re using, that doesn&#39;t provide the results you&#39;re expecting.","body":"Show us the exact query that you&#39;re using, that doesn&#39;t provide the results you&#39;re expecting."},{"owner":{"account_id":14131656,"reputation":1,"user_id":20786512,"display_name":"laos"},"score":0,"creation_date":1671444813,"post_id":74847461,"comment_id":132093083,"body_markdown":"I have tried many snippets of code inspired by the one above, and now out of frustration have wiped the slate clean, and I want to start from scratch. Since I don&#39;t have any sort of VCS in my project enabled right now, I woudn&#39;t be able to show you what I had tried.","body":"I have tried many snippets of code inspired by the one above, and now out of frustration have wiped the slate clean, and I want to start from scratch. Since I don&#39;t have any sort of VCS in my project enabled right now, I woudn&#39;t be able to show you what I had tried."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671462889,"post_id":74847461,"comment_id":132098587,"body_markdown":"&quot;In this database, timeout is null right now so it isn&#39;t showing.&quot; There is no `timeout` in the database screenshot you shared. It&#39;s not that it&#39;s `null` and hidden, but it simply doesn&#39;t exist. --- In case you want to query on nodes without a `timeout`, that isn&#39;t possible since Firebase only indexes (and thus can only filter on) properties that *do* exist in the data.","body":"&quot;In this database, timeout is null right now so it isn&#39;t showing.&quot; There is no <code>timeout</code> in the database screenshot you shared. It&#39;s not that it&#39;s <code>null</code> and hidden, but it simply doesn&#39;t exist. --- In case you want to query on nodes without a <code>timeout</code>, that isn&#39;t possible since Firebase only indexes (and thus can only filter on) properties that <i>do</i> exist in the data."},{"owner":{"account_id":14131656,"reputation":1,"user_id":20786512,"display_name":"laos"},"score":0,"creation_date":1671465193,"post_id":74847461,"comment_id":132099437,"body_markdown":"Ahh I understand, but how do I query the database twice? Like I first want to go through the database by devicename and then by timeout so that I can find the uid under which timeout is empty and update that","body":"Ahh I understand, but how do I query the database twice? Like I first want to go through the database by devicename and then by timeout so that I can find the uid under which timeout is empty and update that"}],"owner":{"account_id":14131656,"reputation":1,"user_id":20786512,"display_name":"laos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671462700,"creation_date":1671435501,"question_id":74847461,"body_markdown":"![enter image description here](https://i.stack.imgur.com/qm0hz.png) \r\nIn this database, timeout is null right now so it isn&#39;t showing. When I click a particular button I want timeout to update in the particular database. But in the future this db will be populated by tons of device so I want to sort through the database and look for device with a particular name and update timeout for only a particular device where timeout is null.\r\n\r\nI am not able to figure how to sort through the database with unique keys and update where timeout is null for a specific devicename. I thought I would do something like this:\r\n```\r\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\nQuery query = rootRef.child(&quot;Users&quot;).orderByChild(&quot;userName&quot;).equalTo(&quot;Nick123&quot;);\r\nquery.addValueEventListener(/\\* ... \\*/);\r\n```\r\nAnd then nest something similar for timeout inside this, but how would get the corresponding key of the timeout filed that was null. Even if i save the key while pushing it it just doesn&#39;t make sense. Can anyone please help me through this?","title":"How to query and update value in firebase realtime database based on a specific condition?","body":"<p><img src=\"https://i.stack.imgur.com/qm0hz.png\" alt=\"enter image description here\" />\nIn this database, timeout is null right now so it isn't showing. When I click a particular button I want timeout to update in the particular database. But in the future this db will be populated by tons of device so I want to sort through the database and look for device with a particular name and update timeout for only a particular device where timeout is null.</p>\n<p>I am not able to figure how to sort through the database with unique keys and update where timeout is null for a specific devicename. I thought I would do something like this:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nQuery query = rootRef.child(&quot;Users&quot;).orderByChild(&quot;userName&quot;).equalTo(&quot;Nick123&quot;);\nquery.addValueEventListener(/\\* ... \\*/);\n</code></pre>\n<p>And then nest something similar for timeout inside this, but how would get the corresponding key of the timeout filed that was null. Even if i save the key while pushing it it just doesn't make sense. Can anyone please help me through this?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1671226823,"post_id":74829639,"comment_id":132061760,"body_markdown":"Short answer, yes there is, no answer, probably not the way you should be doing it.  What I mean by that is, you have an existing workflow which is updating the labels, this workflow should then also play the sound - this way if you want to change what happens when an update occurs, it&#39;s decouple from the other workflows","body":"Short answer, yes there is, no answer, probably not the way you should be doing it.  What I mean by that is, you have an existing workflow which is updating the labels, this workflow should then also play the sound - this way if you want to change what happens when an update occurs, it&#39;s decouple from the other workflows"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671286362,"post_id":74829639,"comment_id":132069179,"body_markdown":"@MadProgrammer _you have an existing workflow which is updating the labels, this workflow should then also play the sound_ well ... strictly speaking the label&#39;s text could be updated from a variety of sources, some of which might not be under the OP&#39;s control. Plus - even if all are - it would require smelly duplication. The typical way to _is that every time the JLabel content is being updated_ is to listen to its text property and trigger the sound in that listener.","body":"@MadProgrammer <i>you have an existing workflow which is updating the labels, this workflow should then also play the sound</i> well ... strictly speaking the label&#39;s text could be updated from a variety of sources, some of which might not be under the OP&#39;s control. Plus - even if all are - it would require smelly duplication. The typical way to <i>is that every time the JLabel content is being updated</i> is to listen to its text property and trigger the sound in that listener."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671286539,"post_id":74829639,"comment_id":132069222,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/events/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671309866,"post_id":74829639,"comment_id":132073587,"body_markdown":"@kleopatra Then in that case I&#39;d consider some kind of controller to controller the UI from a centralised workflow - I&#39;d find using a `PropertyChangeListener` for this task a code smell - but that&#39;s me","body":"@kleopatra Then in that case I&#39;d consider some kind of controller to controller the UI from a centralised workflow - I&#39;d find using a <code>PropertyChangeListener</code> for this task a code smell - but that&#39;s me"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1671435501,"post_id":74829639,"comment_id":132090609,"body_markdown":"I also believe the UI would not change just on it&#39;s own - especially a JLabel. Still then, @kleopatra is right. Just because code smells it can still exist, and the smell might come from 3rd party source you still have to use.","body":"I also believe the UI would not change just on it&#39;s own - especially a JLabel. Still then, @kleopatra is right. Just because code smells it can still exist, and the smell might come from 3rd party source you still have to use."}],"answers":[{"tags":[],"owner":{"account_id":27261125,"reputation":1,"user_id":20783931,"display_name":"The SkyRider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671462565,"creation_date":1671462517,"answer_id":74852326,"question_id":74829639,"body_markdown":"Thank you for your answers,\r\n\r\nI ended up calling a method to play the sound \r\ntogether with the jLabel.setText() method","title":"Play sound when JLabel &quot;content&quot; changes","body":"<p>Thank you for your answers,</p>\n<p>I ended up calling a method to play the sound\ntogether with the jLabel.setText() method</p>\n"}],"owner":{"account_id":27261125,"reputation":1,"user_id":20783931,"display_name":"The SkyRider"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74852326,"answer_count":1,"score":-1,"last_activity_date":1671462565,"creation_date":1671223846,"question_id":74829639,"body_markdown":"I am currently scripting a pager application that sends out an alarm.\r\n\r\nNow, there I have multiple JLabels and the JLabel text is set via a connection to my database (via jLabel.setText()...).\r\n\r\nWhat I want to achieve is that every time the JLabel content (by JLabel.setText() ) is being updated, an alarm SoundEffect is going off.\r\n\r\nAny ideas how I could &quot;detect&quot; this change of JLabel value or content?\r\n\r\nI am using the NetBeans IDE 8.2.","title":"Play sound when JLabel &quot;content&quot; changes","body":"<p>I am currently scripting a pager application that sends out an alarm.</p>\n<p>Now, there I have multiple JLabels and the JLabel text is set via a connection to my database (via jLabel.setText()...).</p>\n<p>What I want to achieve is that every time the JLabel content (by JLabel.setText() ) is being updated, an alarm SoundEffect is going off.</p>\n<p>Any ideas how I could &quot;detect&quot; this change of JLabel value or content?</p>\n<p>I am using the NetBeans IDE 8.2.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9197,"page":795,"page_size":100}
