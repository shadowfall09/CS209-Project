{"items":[{"tags":["java","postgresql","maven","jdbc","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671552399,"post_id":74860497,"comment_id":132121441,"body_markdown":"You probably need to escape some characters in there and/or quote them. You&#39;ve got a path separator of `/` defined and a a file separator of `:`.","body":"You probably need to escape some characters in there and/or quote them. You&#39;ve got a path separator of <code>&#47;</code> defined and a a file separator of <code>:</code>."},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1671552832,"post_id":74860497,"comment_id":132121583,"body_markdown":"@JamesR.Perkins So something like `database.url=jdbc\\:postgresql\\:\\/\\/localhost:5431\\/my_database_test`? No luck....","body":"@JamesR.Perkins So something like <code>database.url=jdbc\\:postgresql\\:\\&#47;\\&#47;localhost:5431\\&#47;my_databa&zwnj;&#8203;se_test</code>? No luck...."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671566632,"post_id":74860497,"comment_id":132125900,"body_markdown":"You might need to quote it. This looks like a command line issue. I don&#39;t know what the flyway plugin is though.","body":"You might need to quote it. This looks like a command line issue. I don&#39;t know what the flyway plugin is though."},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1671781530,"post_id":74860497,"comment_id":132174553,"body_markdown":"@JamesR.Perkins hm... still the same error.","body":"@JamesR.Perkins hm... still the same error."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1672236322,"post_id":74860497,"comment_id":132248055,"body_markdown":"@four-eyes - Just FYI re your deleted `await` question: Having your call to `func1` wrapped in an anonymous function would still have worked. I&#39;d have to see what you actually tried to explain why it didn&#39;t work, but that (alone) wasn&#39;t it -- unless you never called the wrapper function. :-D Anyway, just for the avoidance of doubt, that is indeed how you handle rejections of the promise you&#39;re awaiting: `try`/`catch`(/`finally`). (Or more often: Don&#39;t, let the error propagate to the caller. But you know what I mean. :-) ) Happy coding!","body":"@four-eyes - Just FYI re your deleted <code>await</code> question: Having your call to <code>func1</code> wrapped in an anonymous function would still have worked. I&#39;d have to see what you actually tried to explain why it didn&#39;t work, but that (alone) wasn&#39;t it -- unless you never called the wrapper function. :-D Anyway, just for the avoidance of doubt, that is indeed how you handle rejections of the promise you&#39;re awaiting: <code>try</code>/<code>catch</code>(/<code>finally</code>). (Or more often: Don&#39;t, let the error propagate to the caller. But you know what I mean. :-) ) Happy coding!"},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1672247502,"post_id":74860497,"comment_id":132251631,"body_markdown":"@T.J.Crowder Thanks for coming back to me :) I am not sure if I understand `Or more often: Don&#39;t, let the error propagate to the caller`. What do you mean by this? I am kind of new to error handling and making it &quot;failproof&quot; :)","body":"@T.J.Crowder Thanks for coming back to me :) I am not sure if I understand <code>Or more often: Don&#39;t, let the error propagate to the caller</code>. What do you mean by this? I am kind of new to error handling and making it &quot;failproof&quot; :)"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1672248252,"post_id":74860497,"comment_id":132251821,"body_markdown":"@four-eyes - Errors propagate up through the call chain. So if `a` calls `b` calls `c` and an error occurs in `c`, if `c` doesn&#39;t catch that error, it propagates up to `b`; if `b` doesn&#39;t catch that error, it propagates up to `a`. So you only want to catch and handle it at the uppermost level that makes sense. Often you&#39;ll see people put error handlers (`try`/`catch` blocks) in (say) `c` even though `c` can&#39;t do anything about the error; they have it return some kind of &quot;failed&quot; value instead. But that&#39;s usually not best practice. Instead, if `c` can&#39;t meaningful handle the error, it...","body":"@four-eyes - Errors propagate up through the call chain. So if <code>a</code> calls <code>b</code> calls <code>c</code> and an error occurs in <code>c</code>, if <code>c</code> doesn&#39;t catch that error, it propagates up to <code>b</code>; if <code>b</code> doesn&#39;t catch that error, it propagates up to <code>a</code>. So you only want to catch and handle it at the uppermost level that makes sense. Often you&#39;ll see people put error handlers (<code>try</code>/<code>catch</code> blocks) in (say) <code>c</code> even though <code>c</code> can&#39;t do anything about the error; they have it return some kind of &quot;failed&quot; value instead. But that&#39;s usually not best practice. Instead, if <code>c</code> can&#39;t meaningful handle the error, it..."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1672248380,"post_id":74860497,"comment_id":132251853,"body_markdown":"...shouldn&#39;t try to. Instead, leave it to `b` or `a`. Often, this means you only have error handlers in two places: 1. Entry points (the main initial code of your page/app and event handlers), and 2. Places where the error *can* be meaningfully handled. Almost any time you see `try { /*...*/ } catch (e) { return null; }` or similar, it would have been better not to have the `try`/`catch` at all. :-)","body":"...shouldn&#39;t try to. Instead, leave it to <code>b</code> or <code>a</code>. Often, this means you only have error handlers in two places: 1. Entry points (the main initial code of your page/app and event handlers), and 2. Places where the error <i>can</i> be meaningfully handled. Almost any time you see <code>try { &#47;*...*&#47; } catch (e) { return null; }</code> or similar, it would have been better not to have the <code>try</code>/<code>catch</code> at all. :-)"},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1672252167,"post_id":74860497,"comment_id":132252841,"body_markdown":"@T.J.Crowder ah okay, I understand. Thanks for the clarification. What if `a` calls `b` and `b` calls `c`. All three of them are `async/await` constructs. I would (maybe naively) put in `a`, `b` and `c` a `try/catch`, because I do not want my programm to fail, if i.e. `c` provokes an error. In the `catch` of all of them (`a`, `b`, `c`) I would add a `Promise.reject(new Error(&quot;Some message&quot;))`. Is that the corret way?","body":"@T.J.Crowder ah okay, I understand. Thanks for the clarification. What if <code>a</code> calls <code>b</code> and <code>b</code> calls <code>c</code>. All three of them are <code>async&#47;await</code> constructs. I would (maybe naively) put in <code>a</code>, <code>b</code> and <code>c</code> a <code>try&#47;catch</code>, because I do not want my programm to fail, if i.e. <code>c</code> provokes an error. In the <code>catch</code> of all of them (<code>a</code>, <code>b</code>, <code>c</code>) I would add a <code>Promise.reject(new Error(&quot;Some message&quot;))</code>. Is that the corret way?"},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1672252431,"post_id":74860497,"comment_id":132252921,"body_markdown":"@T.J.Crowder The problem with that construct is (I think) that if let&#39;s say `c` provokes an error, causing the `Promise.reject(...)` to be called, it propagates up the call chain to `a` which then provokes its `catch` block with its own error message. This makes it hard to trace where the error occured.","body":"@T.J.Crowder The problem with that construct is (I think) that if let&#39;s say <code>c</code> provokes an error, causing the <code>Promise.reject(...)</code> to be called, it propagates up the call chain to <code>a</code> which then provokes its <code>catch</code> block with its own error message. This makes it hard to trace where the error occured."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1672261661,"post_id":74860497,"comment_id":132255270,"body_markdown":"@four-eyes - I don&#39;t see why, most JavaScript engines provide useful async traces now. If you can give me a concrete example, I might be able to help with that?","body":"@four-eyes - I don&#39;t see why, most JavaScript engines provide useful async traces now. If you can give me a concrete example, I might be able to help with that?"},{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":1,"creation_date":1672476291,"post_id":74860497,"comment_id":132295713,"body_markdown":"@T.J.Crowder Your right, it worked as you suggested. I think I had something messed up in my head. Thanks a lot for your support. I am amazed how people like you like to share their knowledge and do not try to &quot;show off&quot; or make you feel bad because they know more! I really appreciate it!","body":"@T.J.Crowder Your right, it worked as you suggested. I think I had something messed up in my head. Thanks a lot for your support. I am amazed how people like you like to share their knowledge and do not try to &quot;show off&quot; or make you feel bad because they know more! I really appreciate it!"}],"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671528205,"creation_date":1671526124,"question_id":74860497,"body_markdown":"I am trying to run `mvnw clean compile` on a rather old project. \r\nThe whole line is\r\n\r\n    ../mvnw clean compile -Dflyway.url=jdbc:postgresql://localhost:5431/my_database -Dflyway.user=some_user -Dlyway.password=xxx -Dflyway.outOfOrder=true flyway:migrate -f pom.xml -U -X\r\n\r\nThis gives me the following error\r\n\r\n&gt; BUILD FAILURE\r\n&gt;\r\n&gt; [ERROR] Plugin .url=jdbc:postgresql://localhost or one of its dependencies could not be resolved: Could not find artifact .url=jdbc:postgresql:jar://localhost in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\r\n&gt;\r\n&gt; org.apache.maven.plugin.PluginResolutionException: Plugin .url=jdbc:postgresql://localhost or one of its dependencies could not be resolved: Could not find artifact .url=jdbc:postgresql:jar://localhost in central (https://repo.maven.apache.org/maven2)\r\n\r\nAnd then further down\r\n\r\n&gt; Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact .url=jdbc:postgresql:jar://localhost in central (https://repo.maven.apache.org/maven2)\r\n\r\nThis is the part of the `pom.xml` where I add the dependency (which is what I can find on Maven https://mvnrepository.com/artifact/org.postgresql/postgresql/42.2.19)\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n       &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n       &lt;version&gt;42.2.19&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd for what its worth, this is defined in the Wildfly properties for the database (`database.properties`) \r\n\r\n    database.test.url=jdbc:postgresql://localhost:5431/my_database_test\r\n    database.test.username=some_user\r\n    database.test.password=xxx\r\n    \r\n    database.url=jdbc:postgresql://localhost:5431/my_database\r\n    database.username=some_user\r\n    database.password=xxx","title":"PluginResolutionException: Plugin .url=jdbc:postgresql://localhost or one of its dependencies could not be resolved: Could not find artifact","body":"<p>I am trying to run <code>mvnw clean compile</code> on a rather old project.\nThe whole line is</p>\n<pre><code>../mvnw clean compile -Dflyway.url=jdbc:postgresql://localhost:5431/my_database -Dflyway.user=some_user -Dlyway.password=xxx -Dflyway.outOfOrder=true flyway:migrate -f pom.xml -U -X\n</code></pre>\n<p>This gives me the following error</p>\n<blockquote>\n<p>BUILD FAILURE</p>\n<p>[ERROR] Plugin .url=jdbc:postgresql://localhost or one of its dependencies could not be resolved: Could not find artifact .url=jdbc:postgresql:jar://localhost in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>) -&gt; [Help 1]</p>\n<p>org.apache.maven.plugin.PluginResolutionException: Plugin .url=jdbc:postgresql://localhost or one of its dependencies could not be resolved: Could not find artifact .url=jdbc:postgresql:jar://localhost in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</blockquote>\n<p>And then further down</p>\n<blockquote>\n<p>Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact .url=jdbc:postgresql:jar://localhost in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</blockquote>\n<p>This is the part of the <code>pom.xml</code> where I add the dependency (which is what I can find on Maven <a href=\"https://mvnrepository.com/artifact/org.postgresql/postgresql/42.2.19\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.postgresql/postgresql/42.2.19</a>)</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n   &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n   &lt;version&gt;42.2.19&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And for what its worth, this is defined in the Wildfly properties for the database (<code>database.properties</code>)</p>\n<pre><code>database.test.url=jdbc:postgresql://localhost:5431/my_database_test\ndatabase.test.username=some_user\ndatabase.test.password=xxx\n\ndatabase.url=jdbc:postgresql://localhost:5431/my_database\ndatabase.username=some_user\ndatabase.password=xxx\n</code></pre>\n"},{"tags":["java","intellij-idea","pom.xml","querydsl"],"comments":[{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1644462771,"post_id":71058496,"comment_id":125615731,"body_markdown":"Please try File | Invalidate Caches | Invalidate and Restart.\n\nIf the issue remains, please sahre a sample project illustrating the problem","body":"Please try File | Invalidate Caches | Invalidate and Restart.  If the issue remains, please sahre a sample project illustrating the problem"}],"answers":[{"tags":[],"owner":{"account_id":17698987,"reputation":51,"user_id":12849020,"display_name":"Adam Barča"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644482668,"creation_date":1644482668,"answer_id":71062099,"question_id":71058496,"body_markdown":"Ok I solved it the problem was that in intellij idea not enough unmark Generated Sources Root in folder generated-sources but also its subfolders.","title":"java cannot find symbol class Generated","body":"<p>Ok I solved it the problem was that in intellij idea not enough unmark Generated Sources Root in folder generated-sources but also its subfolders.</p>\n"},{"tags":[],"owner":{"account_id":4196154,"reputation":815,"user_id":4339010,"display_name":"DFW"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655821062,"creation_date":1655821062,"answer_id":72702428,"question_id":71058496,"body_markdown":"I couldn&#39;t understand the English here, but I had to make sure to mark the `target\\generated-sources` folder as `Generated Sources Root` by right clicking on it. Then you get a star next to it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9klbC.png","title":"java cannot find symbol class Generated","body":"<p>I couldn't understand the English here, but I had to make sure to mark the <code>target\\generated-sources</code> folder as <code>Generated Sources Root</code> by right clicking on it. Then you get a star next to it.</p>\n<p><a href=\"https://i.stack.imgur.com/9klbC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9klbC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17698987,"reputation":51,"user_id":12849020,"display_name":"Adam Barča"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7181,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72702428,"answer_count":2,"score":0,"last_activity_date":1671528074,"creation_date":1644453408,"question_id":71058496,"body_markdown":"Hello guys my problem is I generate QClasses with querydsl everything generate nice but if I want run project build failed because cant find symbol. Before that it worked well and suddenly without changing the pom.xml so it not work. I&#39;ve had this problem before, and if I remember correctly, I fixed it by being in an intellij idea I unmark Generated Sources Root in folder generated-sources.\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;sk.adambarca&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;server-spring-boot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;server-spring-boot&lt;/name&gt;\r\n\t&lt;description&gt;VUT FIT bachelor thesis&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.16.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysema.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysema-commons-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is image\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bQ2LI.png","title":"java cannot find symbol class Generated","body":"<p>Hello guys my problem is I generate QClasses with querydsl everything generate nice but if I want run project build failed because cant find symbol. Before that it worked well and suddenly without changing the pom.xml so it not work. I've had this problem before, and if I remember correctly, I fixed it by being in an intellij idea I unmark Generated Sources Root in folder generated-sources.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;sk.adambarca&lt;/groupId&gt;\n    &lt;artifactId&gt;server-spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;server-spring-boot&lt;/name&gt;\n    &lt;description&gt;VUT FIT bachelor thesis&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysema.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;mysema-commons-jetty&lt;/artifactId&gt;\n            &lt;version&gt;6.1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.22&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is image\n<a href=\"https://i.stack.imgur.com/bQ2LI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","selenium","testng","selenium-grid","testng.xml"],"answers":[{"comments":[{"owner":{"account_id":19938177,"reputation":1,"user_id":14610417,"display_name":"mag_sin"},"score":0,"creation_date":1605154213,"post_id":64794546,"comment_id":114566323,"body_markdown":"i tried similar to your approach but could not see any answers on the net to get a confirmation everyone is using grid. What I tried is created 1) master salve in jenkins 2) create pipeline job as you did that will run parallel in all 8 combination3) Testng will take care of running test case parallel in each combination. I never used grid in this approach. Jenkins would take care of cloning project to particular environment and run the test locally. After running would archive the report and log for that combination.","body":"i tried similar to your approach but could not see any answers on the net to get a confirmation everyone is using grid. What I tried is created 1) master salve in jenkins 2) create pipeline job as you did that will run parallel in all 8 combination3) Testng will take care of running test case parallel in each combination. I never used grid in this approach. Jenkins would take care of cloning project to particular environment and run the test locally. After running would archive the report and log for that combination."},{"owner":{"account_id":15232020,"reputation":31,"user_id":10990877,"display_name":"Greg"},"score":0,"creation_date":1605293707,"post_id":64794546,"comment_id":114615785,"body_markdown":"Sorry so what exactly is the problem?","body":"Sorry so what exactly is the problem?"}],"tags":[],"owner":{"account_id":15232020,"reputation":31,"user_id":10990877,"display_name":"Greg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605130876,"creation_date":1605130876,"answer_id":64794546,"question_id":64764362,"body_markdown":"Can&#39;t say I have used this method so apologies but I use maven to run the tests and have found it works fine. You can add a test to a group by doing:\r\n\r\n```\r\n@Test(groups = {&quot;WindowsChrome&quot;, &quot;LinuxChrome&quot;})\r\npublic class Test123 {\r\n```\r\n\r\nYou can run tests with maven like:\r\n\r\n```\r\nmvn test -Dgroups=WindowsChrome\r\n```\r\n\r\nIf you want to run this in a pipeline then I would checkout the code and clone it for each environment. In the pipeline you can add .env files that each environment will use containing variables like &quot;OS_TYPE&quot; and &quot;BROWSER_TYPE&quot;. Now you can do:\r\n\r\n```\r\nstage(&#39;Windows Chrome Tests&#39;) {\r\n     steps {\r\n          bat &quot;mvn test -f WindowsChrome/pom.xml -Dgroups=WindowsChrome&quot;\r\n     }\r\n}\r\nstage(&#39;Linux Chrome Tests&#39;) {\r\n     steps {\r\n          bat &quot;mvn test -f LinuxChrome/pom.xml -Dgroups=LinuxChrome&quot;\r\n     }\r\n}\r\n```\r\n\r\nIn order to have logs making any sense with parallel tests you need to use ThreadLocal with Logger which will create a unique instance for each thread. Ensure you remove this when done or a following test using the same thread will continue on using the same instance. I would put the OS/browser in the log file name.\r\n\r\n\r\n\r\n","title":"Selenium Grid multi browser and multi platform right approach","body":"<p>Can't say I have used this method so apologies but I use maven to run the tests and have found it works fine. You can add a test to a group by doing:</p>\n<pre><code>@Test(groups = {&quot;WindowsChrome&quot;, &quot;LinuxChrome&quot;})\npublic class Test123 {\n</code></pre>\n<p>You can run tests with maven like:</p>\n<pre><code>mvn test -Dgroups=WindowsChrome\n</code></pre>\n<p>If you want to run this in a pipeline then I would checkout the code and clone it for each environment. In the pipeline you can add .env files that each environment will use containing variables like &quot;OS_TYPE&quot; and &quot;BROWSER_TYPE&quot;. Now you can do:</p>\n<pre><code>stage('Windows Chrome Tests') {\n     steps {\n          bat &quot;mvn test -f WindowsChrome/pom.xml -Dgroups=WindowsChrome&quot;\n     }\n}\nstage('Linux Chrome Tests') {\n     steps {\n          bat &quot;mvn test -f LinuxChrome/pom.xml -Dgroups=LinuxChrome&quot;\n     }\n}\n</code></pre>\n<p>In order to have logs making any sense with parallel tests you need to use ThreadLocal with Logger which will create a unique instance for each thread. Ensure you remove this when done or a following test using the same thread will continue on using the same instance. I would put the OS/browser in the log file name.</p>\n"}],"owner":{"account_id":19938177,"reputation":1,"user_id":14610417,"display_name":"mag_sin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671527895,"creation_date":1604992423,"question_id":64764362,"body_markdown":"My goal is to a run test cases parallel on below combination and produce a extent report for each combination, total 8 combination\r\n1. Windows (Chrome, Firefox, IE)\r\n2. Linux (Chrome, Firefox)\r\n3. Mac (Safari, Chrome, Firefox)\r\n  \r\nHave come up with this after searching over net.\r\nThis ```&lt;suite&gt;``` run all ```&lt;test&gt;``` tags parallel and each ```&lt;test&gt;``` represents a OS &amp; browser combination that again run test classes parallel. Each test class has a RemoteWebDriver instance.\r\n1. Whether this solution is correct or do i need to make any changes?   \r\n2. Complexity increases once test classes start increasing I want to add / remove test classes from all 8 test tags.\r\n3. If i want run just one combination(os+browser) do i need to have another testng.xml file and edit the parameter values?\r\n4. How to get the report for each combination. Since all test are running parallel and multi threaded how to track each test?\r\n\r\n**TestNg.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot;&gt;\r\n\t&lt;test name=&quot;Windows_Chrome&quot; parallel=&quot;classes&quot; thread-count=&quot;3&quot;&gt;\r\n\t\t&lt;parameter name=&quot;os&quot; value=&quot;windows&quot; /&gt;\r\n\t\t&lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t\t&lt;class name=&quot;com.mag.SeleniumGrid.Test_001&quot; /&gt;\r\n\t\t\t&lt;class name=&quot;com.mag.SeleniumGrid.Test_002&quot; /&gt;\r\n\t\t\t&lt;class name=&quot;com.mag.SeleniumGrid.Test_00N&quot; /&gt;\r\n\t\t\t&lt;!--Each class create RemoteWebDriver instance based on parameters--&gt;\r\n\t\t&lt;/classes&gt;\r\n\t&lt;/test&gt;\r\n\t&lt;!-- ..... all 8 combinations --&gt;\r\n\t\r\n\t&lt;test name=&quot;Linux_Chrome&quot; parallel=&quot;classes&quot; thread-count=&quot;3&quot;&gt;\r\n\t\t&lt;parameter name=&quot;os&quot; value=&quot;linux&quot; /&gt;\r\n\t\t&lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t\t&lt;class name=&quot;com.mag.SeleniumGrid.Test_001&quot; /&gt;\r\n\t\t\t&lt;class name=&quot;com.mag.SeleniumGrid.Test_002&quot; /&gt;\r\n\t\t\t&lt;class name=&quot;com.mag.SeleniumGrid.Test_00N&quot; /&gt;\r\n\t\t&lt;/classes&gt;\r\n\t&lt;/test&gt;\r\n&lt;/suite&gt; \r\n```\r\n","title":"Selenium Grid multi browser and multi platform right approach","body":"<p>My goal is to a run test cases parallel on below combination and produce a extent report for each combination, total 8 combination</p>\n<ol>\n<li>Windows (Chrome, Firefox, IE)</li>\n<li>Linux (Chrome, Firefox)</li>\n<li>Mac (Safari, Chrome, Firefox)</li>\n</ol>\n<p>Have come up with this after searching over net.\nThis <code>&lt;suite&gt;</code> run all <code>&lt;test&gt;</code> tags parallel and each <code>&lt;test&gt;</code> represents a OS &amp; browser combination that again run test classes parallel. Each test class has a RemoteWebDriver instance.</p>\n<ol>\n<li>Whether this solution is correct or do i need to make any changes?</li>\n<li>Complexity increases once test classes start increasing I want to add / remove test classes from all 8 test tags.</li>\n<li>If i want run just one combination(os+browser) do i need to have another testng.xml file and edit the parameter values?</li>\n<li>How to get the report for each combination. Since all test are running parallel and multi threaded how to track each test?</li>\n</ol>\n<p><strong>TestNg.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot;&gt;\n    &lt;test name=&quot;Windows_Chrome&quot; parallel=&quot;classes&quot; thread-count=&quot;3&quot;&gt;\n        &lt;parameter name=&quot;os&quot; value=&quot;windows&quot; /&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.mag.SeleniumGrid.Test_001&quot; /&gt;\n            &lt;class name=&quot;com.mag.SeleniumGrid.Test_002&quot; /&gt;\n            &lt;class name=&quot;com.mag.SeleniumGrid.Test_00N&quot; /&gt;\n            &lt;!--Each class create RemoteWebDriver instance based on parameters--&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;!-- ..... all 8 combinations --&gt;\n    \n    &lt;test name=&quot;Linux_Chrome&quot; parallel=&quot;classes&quot; thread-count=&quot;3&quot;&gt;\n        &lt;parameter name=&quot;os&quot; value=&quot;linux&quot; /&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.mag.SeleniumGrid.Test_001&quot; /&gt;\n            &lt;class name=&quot;com.mag.SeleniumGrid.Test_002&quot; /&gt;\n            &lt;class name=&quot;com.mag.SeleniumGrid.Test_00N&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt; \n</code></pre>\n"},{"tags":["java","jboss","eclipselink","sqlexception"],"answers":[{"tags":[],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446372798,"creation_date":1446372798,"answer_id":33461116,"question_id":33065718,"body_markdown":"Seems this is a bug in eclipselink. I have post a bug to the eclipselink team:\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=481185","title":"Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED","body":"<p>Seems this is a bug in eclipselink. I have post a bug to the eclipselink team:</p>\n\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=481185\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=481185</a></p>\n"},{"tags":[],"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513781278,"creation_date":1513781278,"answer_id":47908604,"question_id":33065718,"body_markdown":"While only slightly related as this is also occurring with Hibernate 5 in JBoss EAP 7.0 with a JTA Data Source connecting to MS SQLServerExpress - Red Hat says this didnt occur in JBoss 4, only JBoss 6 and up.  You probably cant view the full solution unless you have a red hat support account but [here][1] is the link. The problem and solutions labeled as &quot;Transaction cannot proceed STATUS_COMMITTED&quot; during commit in EAP 6 and later&quot;\r\n\r\nI do get the exception on every attempted commit with the commit failing.  Red hat basically says &quot;Use an interposed synchronization registered when the connection is first obtained to clean up connection context as required&quot;\r\n\r\nThey say the root cause is &quot;Using a data source connection during the afterCompletion phase of the transaction lifecycle is not supported in EAP 6&quot;\r\n\r\nThey also refer to this [discussion][2] by Iron Jacamar regarding valid use of connections with regard to transaction boundaries.\r\n\r\nThey provide custom code supplied as an implementation of [org.hibernate.connection.ConnectionProvider][3] and say see also the hibernate.connection.provider_class property defintion in [Table 3.4. Hibernate JDBC and Connection Properties][4]\r\n\r\nHopefully this might help someone else regardless of if they&#39;re using EclipseLink or Hibernate.\r\n\r\n  [1]: https://access.redhat.com/solutions/793553\r\n  [2]: http://www.ironjacamar.org/doc/roadto12/txtracking.html\r\n  [3]: http://docs.jboss.org/hibernate/core/4.2/javadocs/org/hibernate/service/jdbc/connections/spi/ConnectionProvider.html\r\n  [4]: http://docs.jboss.org/hibernate/core/4.2/manual/en-US/html_single/#configuration-optional","title":"Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED","body":"<p>While only slightly related as this is also occurring with Hibernate 5 in JBoss EAP 7.0 with a JTA Data Source connecting to MS SQLServerExpress - Red Hat says this didnt occur in JBoss 4, only JBoss 6 and up.  You probably cant view the full solution unless you have a red hat support account but <a href=\"https://access.redhat.com/solutions/793553\" rel=\"nofollow noreferrer\">here</a> is the link. The problem and solutions labeled as \"Transaction cannot proceed STATUS_COMMITTED\" during commit in EAP 6 and later\"</p>\n\n<p>I do get the exception on every attempted commit with the commit failing.  Red hat basically says \"Use an interposed synchronization registered when the connection is first obtained to clean up connection context as required\"</p>\n\n<p>They say the root cause is \"Using a data source connection during the afterCompletion phase of the transaction lifecycle is not supported in EAP 6\"</p>\n\n<p>They also refer to this <a href=\"http://www.ironjacamar.org/doc/roadto12/txtracking.html\" rel=\"nofollow noreferrer\">discussion</a> by Iron Jacamar regarding valid use of connections with regard to transaction boundaries.</p>\n\n<p>They provide custom code supplied as an implementation of <a href=\"http://docs.jboss.org/hibernate/core/4.2/javadocs/org/hibernate/service/jdbc/connections/spi/ConnectionProvider.html\" rel=\"nofollow noreferrer\">org.hibernate.connection.ConnectionProvider</a> and say see also the hibernate.connection.provider_class property defintion in <a href=\"http://docs.jboss.org/hibernate/core/4.2/manual/en-US/html_single/#configuration-optional\" rel=\"nofollow noreferrer\">Table 3.4. Hibernate JDBC and Connection Properties</a></p>\n\n<p>Hopefully this might help someone else regardless of if they're using EclipseLink or Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":7315796,"reputation":1,"user_id":5573503,"display_name":"Kamil Adam Nowak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671527824,"creation_date":1671527718,"answer_id":74860782,"question_id":33065718,"body_markdown":"In this case, use a new transaction for the method you are calling\r\n```\r\n@Transactional(Transactional.TxType.REQUIRES_NEW)\r\n```\r\nworked for me. ","title":"Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED","body":"<p>In this case, use a new transaction for the method you are calling</p>\n<pre><code>@Transactional(Transactional.TxType.REQUIRES_NEW)\n</code></pre>\n<p>worked for me.</p>\n"}],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671527824,"creation_date":1444571223,"question_id":33065718,"body_markdown":"We have here a JBoss application with eclipselink. In very most cases all is ok and the application is running fine. But in some times we get a &quot;Transaction cannot proceed STATUS_COMMITTED&quot; and we don&#39;t know why. The interesting thing is that we get the exception while entering the EJB container ...\r\n\r\nIn which cases can be the error occurred?\r\n\r\nError in server.log:\r\n\r\n    15:17:18,450 INFO  [stdout] (Thread-168) [EL Info]: 2015-09-30 15:17:18.449--ServerSession(488658700)--Communication failure detected when attempting to perform read query outside of a transaction. Attempting to retry query. Error was: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n    15:17:18,453 INFO  [stdout] (Thread-168) Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\r\n    15:17:18,454 INFO  [stdout] (Thread-168) Error Code: 0\r\n    15:17:18,454 INFO  [stdout] (Thread-168) Call: SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\r\n    15:17:18,455 INFO  [stdout] (Thread-168)        bind =&gt; [1 parameter bound]\r\n    15:17:18,456 INFO  [stdout] (Thread-168) Query: ReadAllQuery(name=&quot;fileVersions&quot; referenceClass=ChangeSetFileVersion sql=&quot;SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)&quot;).\r\n\r\nInteresting part of the StackTrace:\r\n\r\n    15:17:28,550 WARN  [com.arjuna.ats.jta] (Thread-168) ARJUNA016029: SynchronizationImple.afterCompletion - failed for org.eclipse.persistence.transaction.JTASynchronizationListener@5c4b3928 with exception: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\r\n    Error Code: 0\r\n    Call: SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\r\n            bind =&gt; [1 parameter bound]\r\n    Query: ReadAllQuery(name=&quot;fileVersions&quot; referenceClass=ChangeSetFileVersion sql=&quot;SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)&quot;)\r\n            at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl$1.handleException(EntityManagerSetupImpl.java:696) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.transaction.AbstractSynchronizationListener.handleException(AbstractSynchronizationListener.java:275) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.transaction.AbstractSynchronizationListener.afterCompletion(AbstractSynchronizationListener.java:242) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.transaction.JTASynchronizationListener.afterCompletion(JTASynchronizationListener.java:79) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)\r\n            at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:402)\r\n            at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:103)\r\n            at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\r\n            at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\r\n            at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\r\n            at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\r\n            at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n            at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n            at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n            at con.xy.view.fileExplorer.UploadFilesCtlrBean$$$view95.moveFiles(Unknown Source) [c-onxyModel.jar:2.3 Build 1290]\r\n            at con.xy.vaadin.fileExplorer.UploadFilesView.updateModelValues(UploadFilesView.java:926) [c-onxyVaadin.jar:2.3 Build 1290]\r\n            at con.xy.vaadin.util.XYViewComponent.doOk(XYViewComponent.java:411) [c-onXYVaadin.jar:2.3 Build 1290]\r\n            at con.xy.vaadin.util.XYViewComponent.access$000(XYViewComponent.java:41) [c-onXYVaadin.jar:2.3 Build 1290]\r\n            at con.xy.vaadin.util.XYViewComponent$DoOkWorker.workOutThread(XYViewComponent.java:668) [c-onXYVaadin.jar:2.3 Build 1290]\r\n            at con.xy.vaadin.util.ThreadSwitcher.run(ThreadSwitcher.java:40) [c-onXYVaadin.jar:2.3 Build 1290]\r\n    Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\r\n    Error Code: 0\r\n    Call: SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\r\n            bind =&gt; [1 parameter bound]\r\n    Query: ReadAllQuery(name=&quot;fileVersions&quot; referenceClass=ChangeSetFileVersion sql=&quot;SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)&quot;)\r\n            at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:340) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1611) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:674) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:558) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:1991) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.sessions.server.ServerSession.executeCall(ServerSession.java:570) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:242) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:228) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeSelectCall(DatasourceCallQueryMechanism.java:299) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.selectAllRows(DatasourceCallQueryMechanism.java:694) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRowsFromTable(ExpressionQueryMechanism.java:2738) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRows(ExpressionQueryMechanism.java:2691) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.queries.ReadAllQuery.executeObjectLevelReadQuery(ReadAllQuery.java:495) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.queries.ObjectLevelReadQuery.executeDatabaseQuery(ObjectLevelReadQuery.java:1168) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:899) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.queries.ObjectLevelReadQuery.execute(ObjectLevelReadQuery.java:1127) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.queries.ReadAllQuery.execute(ReadAllQuery.java:403) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.internalExecuteQuery(AbstractSession.java:3203) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1793) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1775) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:129) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:116) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.indirection.DatabaseValueHolder.getValue(DatabaseValueHolder.java:89) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.indirection.IndirectList.buildDelegate(IndirectList.java:252) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.indirection.IndirectList.getDelegate(IndirectList.java:423) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.indirection.IndirectList.size(IndirectList.java:761) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.queries.CollectionContainerPolicy.sizeFor(CollectionContainerPolicy.java:177) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1520) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:884) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.mappings.CollectionMapping.mergeChangesIntoObject(CollectionMapping.java:1451) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4070) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:884) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:497) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:839) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:497) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:839) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:497) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:839) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeChangesIntoParent(UnitOfWorkImpl.java:3280) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.mergeChangesIntoParent(RepeatableWriteUnitOfWork.java:376) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeClonesAfterCompletion(UnitOfWorkImpl.java:3412) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.transaction.AbstractSynchronizationListener.afterCompletion(AbstractSynchronizationListener.java:217) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            ... 35 more\r\n    Caused by: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\r\n            at org.jboss.jca.adapters.jdbc.WrapperDataSource.checkTransactionActive(WrapperDataSource.java:240)\r\n            at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransactionActive(WrappedConnection.java:1599)\r\n            at org.jboss.jca.adapters.jdbc.WrappedConnection.checkStatus(WrappedConnection.java:1614)\r\n            at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransaction(WrappedConnection.java:1588)\r\n            at org.jboss.jca.adapters.jdbc.WrappedConnection.prepareStatement(WrappedConnection.java:397)\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.prepareStatement(DatabaseAccessor.java:1556) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.prepareStatement(DatabaseAccessor.java:1505) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseCall.prepareStatement(DatabaseCall.java:778) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:619) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\r\n            ... 104 more\r\n\r\n**UPDATE**\r\n\r\nError occurres another time last week. After analysing log&#39;s it seems that the Exception is thorn while **leaving** the EJB container and not while entering it. Have post this also at the eclipselink forum:\r\n\r\nhttps://www.eclipse.org/forums/index.php/t/1071490/\r\n","title":"Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED","body":"<p>We have here a JBoss application with eclipselink. In very most cases all is ok and the application is running fine. But in some times we get a \"Transaction cannot proceed STATUS_COMMITTED\" and we don't know why. The interesting thing is that we get the exception while entering the EJB container ...</p>\n\n<p>In which cases can be the error occurred?</p>\n\n<p>Error in server.log:</p>\n\n<pre><code>15:17:18,450 INFO  [stdout] (Thread-168) [EL Info]: 2015-09-30 15:17:18.449--ServerSession(488658700)--Communication failure detected when attempting to perform read query outside of a transaction. Attempting to retry query. Error was: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\n15:17:18,453 INFO  [stdout] (Thread-168) Internal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\n15:17:18,454 INFO  [stdout] (Thread-168) Error Code: 0\n15:17:18,454 INFO  [stdout] (Thread-168) Call: SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\n15:17:18,455 INFO  [stdout] (Thread-168)        bind =&gt; [1 parameter bound]\n15:17:18,456 INFO  [stdout] (Thread-168) Query: ReadAllQuery(name=\"fileVersions\" referenceClass=ChangeSetFileVersion sql=\"SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\").\n</code></pre>\n\n<p>Interesting part of the StackTrace:</p>\n\n<pre><code>15:17:28,550 WARN  [com.arjuna.ats.jta] (Thread-168) ARJUNA016029: SynchronizationImple.afterCompletion - failed for org.eclipse.persistence.transaction.JTASynchronizationListener@5c4b3928 with exception: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\nError Code: 0\nCall: SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\n        bind =&gt; [1 parameter bound]\nQuery: ReadAllQuery(name=\"fileVersions\" referenceClass=ChangeSetFileVersion sql=\"SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\")\n        at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl$1.handleException(EntityManagerSetupImpl.java:696) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.transaction.AbstractSynchronizationListener.handleException(AbstractSynchronizationListener.java:275) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.transaction.AbstractSynchronizationListener.afterCompletion(AbstractSynchronizationListener.java:242) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.transaction.JTASynchronizationListener.afterCompletion(JTASynchronizationListener.java:79) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:402)\n        at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:103)\n        at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\n        at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\n        at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n        at con.xy.view.fileExplorer.UploadFilesCtlrBean$$$view95.moveFiles(Unknown Source) [c-onxyModel.jar:2.3 Build 1290]\n        at con.xy.vaadin.fileExplorer.UploadFilesView.updateModelValues(UploadFilesView.java:926) [c-onxyVaadin.jar:2.3 Build 1290]\n        at con.xy.vaadin.util.XYViewComponent.doOk(XYViewComponent.java:411) [c-onXYVaadin.jar:2.3 Build 1290]\n        at con.xy.vaadin.util.XYViewComponent.access$000(XYViewComponent.java:41) [c-onXYVaadin.jar:2.3 Build 1290]\n        at con.xy.vaadin.util.XYViewComponent$DoOkWorker.workOutThread(XYViewComponent.java:668) [c-onXYVaadin.jar:2.3 Build 1290]\n        at con.xy.vaadin.util.ThreadSwitcher.run(ThreadSwitcher.java:40) [c-onXYVaadin.jar:2.3 Build 1290]\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.1.v20130918-f2b9fc5): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\nError Code: 0\nCall: SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\n        bind =&gt; [1 parameter bound]\nQuery: ReadAllQuery(name=\"fileVersions\" referenceClass=ChangeSetFileVersion sql=\"SELECT id, closed, changeSetID, xyFileVersionID FROM File.CHANGESETFILEVERSION WHERE (changeSetID = ?)\")\n        at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:340) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.processExceptionForCommError(DatabaseAccessor.java:1611) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:674) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:558) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:1991) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.sessions.server.ServerSession.executeCall(ServerSession.java:570) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:242) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:228) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeSelectCall(DatasourceCallQueryMechanism.java:299) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.selectAllRows(DatasourceCallQueryMechanism.java:694) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRowsFromTable(ExpressionQueryMechanism.java:2738) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.ExpressionQueryMechanism.selectAllRows(ExpressionQueryMechanism.java:2691) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.queries.ReadAllQuery.executeObjectLevelReadQuery(ReadAllQuery.java:495) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.queries.ObjectLevelReadQuery.executeDatabaseQuery(ObjectLevelReadQuery.java:1168) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:899) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.queries.ObjectLevelReadQuery.execute(ObjectLevelReadQuery.java:1127) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.queries.ReadAllQuery.execute(ReadAllQuery.java:403) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.internalExecuteQuery(AbstractSession.java:3203) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1793) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.retryQuery(AbstractSession.java:1863) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.retryQuery(DatabaseSessionImpl.java:999) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1829) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1775) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:129) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:116) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.indirection.DatabaseValueHolder.getValue(DatabaseValueHolder.java:89) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.indirection.IndirectList.buildDelegate(IndirectList.java:252) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.indirection.IndirectList.getDelegate(IndirectList.java:423) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.indirection.IndirectList.size(IndirectList.java:761) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.queries.CollectionContainerPolicy.sizeFor(CollectionContainerPolicy.java:177) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.mappings.CollectionMapping.mergeIntoObject(CollectionMapping.java:1520) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:884) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.mappings.CollectionMapping.mergeChangesIntoObject(CollectionMapping.java:1451) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4070) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:884) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:497) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:839) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:497) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:839) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.mappings.ObjectReferenceMapping.mergeIntoObject(ObjectReferenceMapping.java:497) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeIntoObject(ObjectBuilder.java:4128) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.descriptors.ObjectBuilder.mergeChangesIntoObject(ObjectBuilder.java:4061) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:839) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChangesOfWorkingCopyIntoOriginal(MergeManager.java:698) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.MergeManager.mergeChanges(MergeManager.java:309) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeChangesIntoParent(UnitOfWorkImpl.java:3280) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.mergeChangesIntoParent(RepeatableWriteUnitOfWork.java:376) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.mergeClonesAfterCompletion(UnitOfWorkImpl.java:3412) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.transaction.AbstractSynchronizationListener.afterCompletion(AbstractSynchronizationListener.java:217) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        ... 35 more\nCaused by: java.sql.SQLException: Transaction cannot proceed STATUS_COMMITTED\n        at org.jboss.jca.adapters.jdbc.WrapperDataSource.checkTransactionActive(WrapperDataSource.java:240)\n        at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransactionActive(WrappedConnection.java:1599)\n        at org.jboss.jca.adapters.jdbc.WrappedConnection.checkStatus(WrappedConnection.java:1614)\n        at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransaction(WrappedConnection.java:1588)\n        at org.jboss.jca.adapters.jdbc.WrappedConnection.prepareStatement(WrappedConnection.java:397)\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.prepareStatement(DatabaseAccessor.java:1556) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.prepareStatement(DatabaseAccessor.java:1505) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseCall.prepareStatement(DatabaseCall.java:778) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:619) [eclipselink.jar:2.5.1.v20130918-f2b9fc5]\n        ... 104 more\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Error occurres another time last week. After analysing log's it seems that the Exception is thorn while <strong>leaving</strong> the EJB container and not while entering it. Have post this also at the eclipselink forum:</p>\n\n<p><a href=\"https://www.eclipse.org/forums/index.php/t/1071490/\" rel=\"nofollow\">https://www.eclipse.org/forums/index.php/t/1071490/</a></p>\n"},{"tags":["java","reusability","code-reuse"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671507837,"post_id":74858202,"comment_id":132109273,"body_markdown":"Don&#39;t get into the habit of adding extra `;` -- they can cause confusing behaviour if you add one before a block.","body":"Don&#39;t get into the habit of adding extra <code>;</code> -- they can cause confusing behaviour if you add one before a block."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1671527693,"post_id":74858202,"comment_id":132113154,"body_markdown":"`if(hasDomain == true &amp;&amp; hasCodomain == true)` --&gt; `if (hasDomain &amp;&amp; hasCodomain)`","body":"<code>if(hasDomain == true &amp;&amp; hasCodomain == true)</code> --&gt; <code>if (hasDomain &amp;&amp; hasCodomain)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671508076,"creation_date":1671507657,"answer_id":74858325,"question_id":74858202,"body_markdown":"There are a few ways to do this. I would go with simply writing a function which takes the values instead of the indices, and then two new functions which get the values:\r\n```java\r\npublic boolean areDiff(int a, int b, boolean isLower){\r\n  if (isLower) {\r\n    if (a &lt; b) {\r\n      return true;\r\n    }\r\n  } else {\r\n    if (a &gt; b) {\r\n      return true;\r\n    }\r\n  }     \r\n  return false;\r\n}\r\n```\r\n\r\nand then:\r\n```\r\npublic boolean areDiffX(int i, int j, boolean isLower){\r\n   return areDiff(this.getX(i), this.getX(j), isLower);\r\n}\r\n```\r\n\r\nand a similar `areDiffY` function.\r\n\r\nYou can rewrite `compareTriangleDomain` to take values and use `areDiff` and dispense with  `compareTriangleCodomain` and `areDiffX/Y`.","title":"Is there a way I can reuse part of my code that does the same thing but access different attributes of a class in Java?","body":"<p>There are a few ways to do this. I would go with simply writing a function which takes the values instead of the indices, and then two new functions which get the values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean areDiff(int a, int b, boolean isLower){\n  if (isLower) {\n    if (a &lt; b) {\n      return true;\n    }\n  } else {\n    if (a &gt; b) {\n      return true;\n    }\n  }     \n  return false;\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>public boolean areDiffX(int i, int j, boolean isLower){\n   return areDiff(this.getX(i), this.getX(j), isLower);\n}\n</code></pre>\n<p>and a similar <code>areDiffY</code> function.</p>\n<p>You can rewrite <code>compareTriangleDomain</code> to take values and use <code>areDiff</code> and dispense with  <code>compareTriangleCodomain</code> and <code>areDiffX/Y</code>.</p>\n"},{"comments":[{"owner":{"account_id":25589575,"reputation":21,"user_id":19366635,"display_name":"Thay"},"score":0,"creation_date":1671569537,"post_id":74860702,"comment_id":132126633,"body_markdown":"Thanks, I got it, I haven&#39;t tested but I also think it&#39;ll work. Ngl I didn&#39;t know what were those packages so I had to make some research","body":"Thanks, I got it, I haven&#39;t tested but I also think it&#39;ll work. Ngl I didn&#39;t know what were those packages so I had to make some research"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1671570351,"post_id":74860702,"comment_id":132126847,"body_markdown":"@Thay, This is not a beginner&#39;s level, you need to understand what comparators and functional interfaces are. But, in principle, there is nothing difficult to figure it out on your own.","body":"@Thay, This is not a beginner&#39;s level, you need to understand what comparators and functional interfaces are. But, in principle, there is nothing difficult to figure it out on your own."}],"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671527287,"creation_date":1671527287,"answer_id":74860702,"question_id":74858202,"body_markdown":"Perhaps I dug too deep, but I want to suggest the following approach.\r\n\r\nThe triangle obviously consists of three points on the plane. Why not make a class to represent the point? I will use the `record` syntax that appeared in Java 14. I also add two methods for comparing points and two comparators. One allows you to compare points by `x` coordinate, the second by `y`.\r\n```\r\nimport java.util.Comparator;\r\nimport java.util.function.ToIntFunction;\r\n\r\npublic record Point2D(int x, int y) {\r\n\r\n    private static Comparator&lt;Point2D&gt; compareBy(ToIntFunction&lt;Point2D&gt; keyExtractor) {\r\n        return (o1, o2) -&gt; Comparator.comparingInt(keyExtractor).compare(o1, o2);\r\n    }\r\n\r\n    public static Comparator&lt;Point2D&gt; byX = compareBy(Point2D::x);\r\n    public static Comparator&lt;Point2D&gt; byY = compareBy(Point2D::y);\r\n\r\n    public boolean less(Point2D other, Comparator&lt;Point2D&gt; comp) {\r\n        return comp.compare(this, other) &lt; 0;\r\n    }\r\n\r\n    public boolean higher(Point2D other, Comparator&lt;Point2D&gt; comp) {\r\n        return comp.compare(this, other) &gt; 0;\r\n    }\r\n}\r\n\r\n```\r\nNow we can greatly simplify the `Triangle` class. The triangle is represented by an array of three points instead of six integers.\r\n```\r\nprivate final Point2D[] vertices = new Point2D[3];\r\n\r\npublic void setDomains(Scanner readVar) {\r\n    readVar.nextLine();\r\n    this.vertices[0] = new Point2D(readVar.nextInt(), readVar.nextInt());\r\n    this.vertices[1] = new Point2D(readVar.nextInt(), readVar.nextInt());\r\n    this.vertices[2] = new Point2D(readVar.nextInt(), readVar.nextInt());\r\n}\r\n```\r\nAnd all other methods look like this\r\n```\r\npublic boolean compareTriangle(int i, int j, int k, Comparator&lt;Point2D&gt; comp) {  \r\n    boolean hasDomain;                                                             \r\n    boolean hasCodomain;                                                           \r\n                                                                                   \r\n    hasDomain = vertices[i].less(vertices[j], comp);                               \r\n    hasCodomain = vertices[i].higher(vertices[k], comp);                           \r\n    if (hasDomain &amp;&amp; hasCodomain) {                                                \r\n        return true;                                                               \r\n    }                                                                              \r\n                                                                                   \r\n    hasDomain = vertices[i].higher(vertices[j], comp);                             \r\n    hasCodomain = vertices[i].less(vertices[k], comp);                             \r\n    return hasDomain &amp;&amp; hasCodomain;                                               \r\n}                                                                                  \r\n                                                                                   \r\npublic boolean cutTriangle(int i, int j, int k) {                                  \r\n    boolean halveTriangleX = compareTriangle(i, j, k, Point2D.byX);              \r\n    boolean halveTriangleY = compareTriangle(i, j, k, Point2D.byY);              \r\n    return halveTriangleX || halveTriangleY;                                       \r\n}                                                                                  \r\n```\r\nI have not tested this code (in my opinion it is identical to yours), so you should definitely check it out.","title":"Is there a way I can reuse part of my code that does the same thing but access different attributes of a class in Java?","body":"<p>Perhaps I dug too deep, but I want to suggest the following approach.</p>\n<p>The triangle obviously consists of three points on the plane. Why not make a class to represent the point? I will use the <code>record</code> syntax that appeared in Java 14. I also add two methods for comparing points and two comparators. One allows you to compare points by <code>x</code> coordinate, the second by <code>y</code>.</p>\n<pre><code>import java.util.Comparator;\nimport java.util.function.ToIntFunction;\n\npublic record Point2D(int x, int y) {\n\n    private static Comparator&lt;Point2D&gt; compareBy(ToIntFunction&lt;Point2D&gt; keyExtractor) {\n        return (o1, o2) -&gt; Comparator.comparingInt(keyExtractor).compare(o1, o2);\n    }\n\n    public static Comparator&lt;Point2D&gt; byX = compareBy(Point2D::x);\n    public static Comparator&lt;Point2D&gt; byY = compareBy(Point2D::y);\n\n    public boolean less(Point2D other, Comparator&lt;Point2D&gt; comp) {\n        return comp.compare(this, other) &lt; 0;\n    }\n\n    public boolean higher(Point2D other, Comparator&lt;Point2D&gt; comp) {\n        return comp.compare(this, other) &gt; 0;\n    }\n}\n\n</code></pre>\n<p>Now we can greatly simplify the <code>Triangle</code> class. The triangle is represented by an array of three points instead of six integers.</p>\n<pre><code>private final Point2D[] vertices = new Point2D[3];\n\npublic void setDomains(Scanner readVar) {\n    readVar.nextLine();\n    this.vertices[0] = new Point2D(readVar.nextInt(), readVar.nextInt());\n    this.vertices[1] = new Point2D(readVar.nextInt(), readVar.nextInt());\n    this.vertices[2] = new Point2D(readVar.nextInt(), readVar.nextInt());\n}\n</code></pre>\n<p>And all other methods look like this</p>\n<pre><code>public boolean compareTriangle(int i, int j, int k, Comparator&lt;Point2D&gt; comp) {  \n    boolean hasDomain;                                                             \n    boolean hasCodomain;                                                           \n                                                                                   \n    hasDomain = vertices[i].less(vertices[j], comp);                               \n    hasCodomain = vertices[i].higher(vertices[k], comp);                           \n    if (hasDomain &amp;&amp; hasCodomain) {                                                \n        return true;                                                               \n    }                                                                              \n                                                                                   \n    hasDomain = vertices[i].higher(vertices[j], comp);                             \n    hasCodomain = vertices[i].less(vertices[k], comp);                             \n    return hasDomain &amp;&amp; hasCodomain;                                               \n}                                                                                  \n                                                                                   \npublic boolean cutTriangle(int i, int j, int k) {                                  \n    boolean halveTriangleX = compareTriangle(i, j, k, Point2D.byX);              \n    boolean halveTriangleY = compareTriangle(i, j, k, Point2D.byY);              \n    return halveTriangleX || halveTriangleY;                                       \n}                                                                                  \n</code></pre>\n<p>I have not tested this code (in my opinion it is identical to yours), so you should definitely check it out.</p>\n"}],"owner":{"account_id":25589575,"reputation":21,"user_id":19366635,"display_name":"Thay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671527287,"creation_date":1671506002,"question_id":74858202,"body_markdown":"So I was doing a program there&#39;s supposed to verify if when cut, a triangle can produce two new triangles, I did all the logic and the code works just as it is supposed to, however as I was doing I noticed that I had to apply the same logic for different attributes over and over again, which seemed highly unproductive. Here&#39;s the code:\r\n\r\n```\r\npublic static class Triangle{\r\n        private int[] x = new int[3];\r\n        private int[] y = new int[3];\r\n    \r\n        public int getX(int position) {\r\n            return x[position];\r\n        }\r\n        public int getY(int position) {\r\n            return y[position];\r\n        }\r\n        \r\n        //Get the information regarding the points that make the triangle\r\n        public void setDomains(Scanner readVar){     \r\n            readVar.nextLine();\r\n            this.x[0] = readVar.nextInt();\r\n            this.y[0] = readVar.nextInt();\r\n            this.x[1] = readVar.nextInt();\r\n            this.y[1] = readVar.nextInt();\r\n            this.x[2] = readVar.nextInt();\r\n            this.y[2] = readVar.nextInt();\r\n            \r\n        }\r\n\r\n        //Verify if one of the other points is lower or higher than the present one\r\n        public boolean areDiffX(int i, int j, boolean isLower){\r\n \r\n            if(isLower){\r\n                if(this.getX(i) &lt; this.getX(j)){\r\n                    return true;\r\n                };\r\n            }else{\r\n                if(this.getX(i) &gt; this.getX(j)){\r\n                    return true;\r\n                };\r\n            }\r\n     \r\n            return false;\r\n        }\r\n        //Verify if one of the other points is lower or higher than the present one\r\n        public boolean areDiffY(int i, int j, boolean isLower){\r\n     \r\n            if(isLower){\r\n                if(this.getY(i) &lt; this.getY(j)){\r\n                    return true;\r\n                };\r\n            }else{\r\n                if(this.getY(i) &gt; this.getY(j)){\r\n                    return true;\r\n                };\r\n            }\r\n     \r\n            return false;\r\n        }\r\n    \r\n        //Verify if from the X axes two new triangles can ensurge\r\n        public boolean compareTriangleDomain(int i, int j, int k){\r\n    \r\n            boolean hasDomain = false;\r\n            boolean hasCodomain = false;\r\n    \r\n            hasDomain = areDiffX(i, j, true);\r\n            hasCodomain = areDiffX(i, k, false);\r\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\r\n                return true;\r\n            }\r\n     \r\n            hasDomain = areDiffX(i, j, false);\r\n            hasCodomain = areDiffX(i, k, true);\r\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\r\n                return true;\r\n            }\r\n    \r\n            return false;\r\n        }\r\n        \r\n        //Verify if from the Y axes two new triangles can ensurge\r\n        public boolean compareTriangleCodomain(int i, int j, int k){\r\n    \r\n            boolean hasDomain = false;\r\n            boolean hasCodomain = false;\r\n    \r\n            hasDomain = areDiffY(i, j, true);\r\n            hasCodomain = areDiffY(i, k, false);\r\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\r\n                return true;\r\n            }\r\n     \r\n            hasDomain = areDiffY(i, j, false);\r\n            hasCodomain = areDiffY(i, k, true);\r\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\r\n                return true;\r\n            }\r\n     \r\n            return false;\r\n        }\r\n        \r\n        //Verify if from a certain point of a triangle can be produced two new triangles\r\n        public boolean cutTriangle(int i, int j, int k){\r\n     \r\n           boolean halveTriangleX = compareTriangleDomain(i, j, k);\r\n           boolean halveTriangleY = compareTriangleCodomain(i, j, k);\r\n           if(halveTriangleX || halveTriangleY){\r\n                return true;\r\n           }\r\n           return false;\r\n     \r\n        }\r\n\r\n        //Verify if a triangle can produce two new triangles\r\n        public void checkCut(){\r\n\r\n            boolean canCut = false;\r\n            boolean hasntCut = true;\r\n\r\n            canCut = cutTriangle(0, 1, 2);\r\n            if(canCut == true &amp;&amp; hasntCut == true){\r\n                System.out.println(&quot;YES&quot;);\r\n                hasntCut = false;\r\n            }\r\n            canCut = cutTriangle(1, 0, 2);\r\n            if(canCut == true &amp;&amp; hasntCut == true){\r\n                System.out.println(&quot;YES&quot;);\r\n                hasntCut = false;\r\n            }\r\n            canCut = cutTriangle(2, 1, 0);\r\n            if(canCut == true &amp;&amp; hasntCut == true){\r\n                System.out.println(&quot;YES&quot;);\r\n            }\r\n            else if(hasntCut == true){\r\n                System.out.println(&quot;NO&quot;);\r\n            }\r\n           \r\n        }\r\n    }\r\n```\r\n\r\nI thought that maybe I could add a new parameter to the get function so to specify which axes I&#39;m working with, but I don&#39;t know if this a dumb way to do it, any recommendations and advices are welcome I&#39;m still a baby in java and coding in general.","title":"Is there a way I can reuse part of my code that does the same thing but access different attributes of a class in Java?","body":"<p>So I was doing a program there's supposed to verify if when cut, a triangle can produce two new triangles, I did all the logic and the code works just as it is supposed to, however as I was doing I noticed that I had to apply the same logic for different attributes over and over again, which seemed highly unproductive. Here's the code:</p>\n<pre><code>public static class Triangle{\n        private int[] x = new int[3];\n        private int[] y = new int[3];\n    \n        public int getX(int position) {\n            return x[position];\n        }\n        public int getY(int position) {\n            return y[position];\n        }\n        \n        //Get the information regarding the points that make the triangle\n        public void setDomains(Scanner readVar){     \n            readVar.nextLine();\n            this.x[0] = readVar.nextInt();\n            this.y[0] = readVar.nextInt();\n            this.x[1] = readVar.nextInt();\n            this.y[1] = readVar.nextInt();\n            this.x[2] = readVar.nextInt();\n            this.y[2] = readVar.nextInt();\n            \n        }\n\n        //Verify if one of the other points is lower or higher than the present one\n        public boolean areDiffX(int i, int j, boolean isLower){\n \n            if(isLower){\n                if(this.getX(i) &lt; this.getX(j)){\n                    return true;\n                };\n            }else{\n                if(this.getX(i) &gt; this.getX(j)){\n                    return true;\n                };\n            }\n     \n            return false;\n        }\n        //Verify if one of the other points is lower or higher than the present one\n        public boolean areDiffY(int i, int j, boolean isLower){\n     \n            if(isLower){\n                if(this.getY(i) &lt; this.getY(j)){\n                    return true;\n                };\n            }else{\n                if(this.getY(i) &gt; this.getY(j)){\n                    return true;\n                };\n            }\n     \n            return false;\n        }\n    \n        //Verify if from the X axes two new triangles can ensurge\n        public boolean compareTriangleDomain(int i, int j, int k){\n    \n            boolean hasDomain = false;\n            boolean hasCodomain = false;\n    \n            hasDomain = areDiffX(i, j, true);\n            hasCodomain = areDiffX(i, k, false);\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\n                return true;\n            }\n     \n            hasDomain = areDiffX(i, j, false);\n            hasCodomain = areDiffX(i, k, true);\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\n                return true;\n            }\n    \n            return false;\n        }\n        \n        //Verify if from the Y axes two new triangles can ensurge\n        public boolean compareTriangleCodomain(int i, int j, int k){\n    \n            boolean hasDomain = false;\n            boolean hasCodomain = false;\n    \n            hasDomain = areDiffY(i, j, true);\n            hasCodomain = areDiffY(i, k, false);\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\n                return true;\n            }\n     \n            hasDomain = areDiffY(i, j, false);\n            hasCodomain = areDiffY(i, k, true);\n            if(hasDomain == true &amp;&amp; hasCodomain == true){\n                return true;\n            }\n     \n            return false;\n        }\n        \n        //Verify if from a certain point of a triangle can be produced two new triangles\n        public boolean cutTriangle(int i, int j, int k){\n     \n           boolean halveTriangleX = compareTriangleDomain(i, j, k);\n           boolean halveTriangleY = compareTriangleCodomain(i, j, k);\n           if(halveTriangleX || halveTriangleY){\n                return true;\n           }\n           return false;\n     \n        }\n\n        //Verify if a triangle can produce two new triangles\n        public void checkCut(){\n\n            boolean canCut = false;\n            boolean hasntCut = true;\n\n            canCut = cutTriangle(0, 1, 2);\n            if(canCut == true &amp;&amp; hasntCut == true){\n                System.out.println(&quot;YES&quot;);\n                hasntCut = false;\n            }\n            canCut = cutTriangle(1, 0, 2);\n            if(canCut == true &amp;&amp; hasntCut == true){\n                System.out.println(&quot;YES&quot;);\n                hasntCut = false;\n            }\n            canCut = cutTriangle(2, 1, 0);\n            if(canCut == true &amp;&amp; hasntCut == true){\n                System.out.println(&quot;YES&quot;);\n            }\n            else if(hasntCut == true){\n                System.out.println(&quot;NO&quot;);\n            }\n           \n        }\n    }\n</code></pre>\n<p>I thought that maybe I could add a new parameter to the get function so to specify which axes I'm working with, but I don't know if this a dumb way to do it, any recommendations and advices are welcome I'm still a baby in java and coding in general.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9172111,"reputation":53,"user_id":6819204,"accept_rate":0,"display_name":"Shaik Salam"},"score":1,"creation_date":1671525477,"post_id":74860230,"comment_id":132112494,"body_markdown":"what exactly you are trying to achieve? What is the scenario? You want to clear complete app data or just want to clear whatever data you stored?","body":"what exactly you are trying to achieve? What is the scenario? You want to clear complete app data or just want to clear whatever data you stored?"},{"owner":{"account_id":19493353,"reputation":93,"user_id":14261133,"display_name":"Ammar Ahsan"},"score":0,"creation_date":1671525599,"post_id":74860230,"comment_id":132112535,"body_markdown":"I want to complete complete app data, like you would get when you do when you do the following: Settings-&gt;Applications-&gt; ManageApplications-&gt; My_application-&gt; Clear Data","body":"I want to complete complete app data, like you would get when you do when you do the following: Settings-&gt;Applications-&gt; ManageApplications-&gt; My_application-&gt; Clear Data"},{"owner":{"account_id":9172111,"reputation":53,"user_id":6819204,"accept_rate":0,"display_name":"Shaik Salam"},"score":0,"creation_date":1671526049,"post_id":74860230,"comment_id":132112672,"body_markdown":"To my knowledge, it&#39;s not possible. There might be some system functions working with that data. It is better to clear the data specifically which you don&#39;t need.","body":"To my knowledge, it&#39;s not possible. There might be some system functions working with that data. It is better to clear the data specifically which you don&#39;t need."}],"answers":[{"tags":[],"owner":{"account_id":5035925,"reputation":444,"user_id":4044704,"display_name":"zz-m"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671526935,"creation_date":1671526218,"answer_id":74860518,"question_id":74860230,"body_markdown":"Android developers save user data mainly in three locations. ``File System`` ``DataBase`` ``SharedPreference``.\r\n\r\n**File System**\r\n```\r\ncontext.getCacheDir();\r\ncontext.getFilesDir();\r\ncontext.getExternalCacheDir();\r\ncontext.getExternalFilesDir();\r\n```\r\nYou can navigate the file system and delete the file you create.\r\n\r\n**Database**\r\n\r\nYou can use ``context.deleteDatabase(String name);`` to delete the database you create.\r\n\r\n**SharedPreference**\r\n\r\n``context.getSharedPreferences(String name, int mode).edit().clear();`` will remove all values in the sharedpreference file.\r\n\r\nIndeed, it&#39;s your responsibility to find all the files and directories your app creates. I think it&#39;s hard to do it exactly right.\r\n\r\nAnd with the application running, it generates new files when you are cleaning the room. So the methods above can provide your user a way to minimize storage usage, but can not really completely remove all data.","title":"clear app data without killing application","body":"<p>Android developers save user data mainly in three locations. <code>File System</code> <code>DataBase</code> <code>SharedPreference</code>.</p>\n<p><strong>File System</strong></p>\n<pre><code>context.getCacheDir();\ncontext.getFilesDir();\ncontext.getExternalCacheDir();\ncontext.getExternalFilesDir();\n</code></pre>\n<p>You can navigate the file system and delete the file you create.</p>\n<p><strong>Database</strong></p>\n<p>You can use <code>context.deleteDatabase(String name);</code> to delete the database you create.</p>\n<p><strong>SharedPreference</strong></p>\n<p><code>context.getSharedPreferences(String name, int mode).edit().clear();</code> will remove all values in the sharedpreference file.</p>\n<p>Indeed, it's your responsibility to find all the files and directories your app creates. I think it's hard to do it exactly right.</p>\n<p>And with the application running, it generates new files when you are cleaning the room. So the methods above can provide your user a way to minimize storage usage, but can not really completely remove all data.</p>\n"}],"owner":{"account_id":19493353,"reputation":93,"user_id":14261133,"display_name":"Ammar Ahsan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671526935,"creation_date":1671524585,"question_id":74860230,"body_markdown":"I need to clear all app data including cache without killing the application. All solutions I have seen either just remove cache data or they kill the application after removing app data. Is there any way to do aforementioned thing without the application being closed?","title":"clear app data without killing application","body":"<p>I need to clear all app data including cache without killing the application. All solutions I have seen either just remove cache data or they kill the application after removing app data. Is there any way to do aforementioned thing without the application being closed?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":407683,"reputation":18994,"user_id":777906,"accept_rate":80,"display_name":"DJ180"},"score":10,"creation_date":1345248652,"post_id":12014652,"comment_id":16029873,"body_markdown":"But it&#39;s not the element that I want. I want the element in the set, not the one that I have that is hashCode equivalent. Does that make sense?","body":"But it&#39;s not the element that I want. I want the element in the set, not the one that I have that is hashCode equivalent. Does that make sense?"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1345248876,"post_id":12014652,"comment_id":16029909,"body_markdown":"no, what if there are 3 different objects with the same hashcode? which of these objects do you want?","body":"no, what if there are 3 different objects with the same hashcode? which of these objects do you want?"},{"owner":{"account_id":407683,"reputation":18994,"user_id":777906,"accept_rate":80,"display_name":"DJ180"},"score":5,"creation_date":1345249207,"post_id":12014652,"comment_id":16029963,"body_markdown":"It&#39;s a HashSet. I presumed only one object would exist in the HashSet with that hash code?","body":"It&#39;s a HashSet. I presumed only one object would exist in the HashSet with that hash code?"},{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":1,"creation_date":1345249450,"post_id":12014652,"comment_id":16030003,"body_markdown":"Suggest you use an Interner, as described here: http://stackoverflow.com/a/3008667/83695","body":"Suggest you use an Interner, as described here: <a href=\"http://stackoverflow.com/a/3008667/83695\">stackoverflow.com/a/3008667/83695</a>"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":2,"creation_date":1345249718,"post_id":12014652,"comment_id":16030043,"body_markdown":"contains(Object): &quot;returns true if and only if this set contains an element e such that (o==null ? e==null : o.equals(e))&quot;. As a result from this, hashCode is only a helper to find the object faster.","body":"contains(Object): &quot;returns true if and only if this set contains an element e such that (o==null ? e==null : o.equals(e))&quot;. As a result from this, hashCode is only a helper to find the object faster."},{"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"score":0,"creation_date":1542185237,"post_id":12014652,"comment_id":93473073,"body_markdown":"nicely explained.","body":"nicely explained."}],"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"comment_count":6,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1671149651,"creation_date":1345248589,"answer_id":12014652,"question_id":12014641,"body_markdown":"If you know what element you want to retrieve, then you already have the element.  The only question for a [Set][1] to answer, given an element, is whether it `contains()` it or not.\r\n\r\nIf you want to iterator over the elements, just use a [`Set.iterator()`][2].\r\n\r\nIt sounds like what you&#39;re trying to do is designate a canonical element for an equivalence class of elements.  You can use a `Map&lt;MyObject,MyObject&gt;` to do this.  See [this Stack&amp;nbsp;Overflow question][3] or [this one][4] for a discussion.\r\n\r\nIf you are really determined to find an element that `.equals()` your original element with the constraint that you *must* use the `HashSet`, I think you&#39;re stuck with iterating over it and checking `equals()` yourself.  The API doesn&#39;t let you grab something by its hash code.  So you could do:\r\n\r\n    MyObject findIfPresent(MyObject source, HashSet&lt;MyObject&gt; set)\r\n    {\r\n       if (set.contains(source)) {\r\n          for (MyObject obj : set) {\r\n            if (obj.equals(source))\r\n              return obj;\r\n          }\r\n       }\r\n\r\n      return null;\r\n    }\r\n\r\nIt is brute-force and [O(n)][5] ugly, but if that&#39;s what you need to do...\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#iterator%28%29\r\n  [3]: https://stackoverflow.com/questions/7436765/how-to-implement-a-canonicalizing-mapping-in-java\r\n  [4]: https://stackoverflow.com/questions/3006923/retrieving-the-canonical-value-from-a-sett-where-t-has-a-custom-equals\r\n  [5]: https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions\r\n\r\n\r\n\r\n","title":"Java: Retrieving an element from a HashSet","body":"<p>If you know what element you want to retrieve, then you already have the element.  The only question for a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a> to answer, given an element, is whether it <code>contains()</code> it or not.</p>\n<p>If you want to iterator over the elements, just use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#iterator%28%29\" rel=\"nofollow noreferrer\"><code>Set.iterator()</code></a>.</p>\n<p>It sounds like what you're trying to do is designate a canonical element for an equivalence class of elements.  You can use a <code>Map&lt;MyObject,MyObject&gt;</code> to do this.  See <a href=\"https://stackoverflow.com/questions/7436765/how-to-implement-a-canonicalizing-mapping-in-java\">this Stack Overflow question</a> or <a href=\"https://stackoverflow.com/questions/3006923/retrieving-the-canonical-value-from-a-sett-where-t-has-a-custom-equals\">this one</a> for a discussion.</p>\n<p>If you are really determined to find an element that <code>.equals()</code> your original element with the constraint that you <em>must</em> use the <code>HashSet</code>, I think you're stuck with iterating over it and checking <code>equals()</code> yourself.  The API doesn't let you grab something by its hash code.  So you could do:</p>\n<pre><code>MyObject findIfPresent(MyObject source, HashSet&lt;MyObject&gt; set)\n{\n   if (set.contains(source)) {\n      for (MyObject obj : set) {\n        if (obj.equals(source))\n          return obj;\n      }\n   }\n\n  return null;\n}\n</code></pre>\n<p>It is brute-force and <a href=\"https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions\" rel=\"nofollow noreferrer\">O(n)</a> ugly, but if that's what you need to do...</p>\n"},{"comments":[{"owner":{"account_id":4437712,"reputation":171,"user_id":3613097,"display_name":"pabl0rg"},"score":0,"creation_date":1465849985,"post_id":12014662,"comment_id":63063324,"body_markdown":"I think MVM&#39;s answer is better (though it has fewer votes).  The difference is that if you use the hash code as the index in HashMap&lt;Integer, MyHashObject&gt;, you will lose data if there is a collision (when two MyHashObjects have the same hash code).  If you use HashMap&lt;MyHashObject,MyHashObject&gt;, two objects with the same hash code may share a bucket but not collide.","body":"I think MVM&#39;s answer is better (though it has fewer votes).  The difference is that if you use the hash code as the index in HashMap&lt;Integer, MyHashObject&gt;, you will lose data if there is a collision (when two MyHashObjects have the same hash code).  If you use HashMap&lt;MyHashObject,MyHashObject&gt;, two objects with the same hash code may share a bucket but not collide."},{"owner":{"account_id":4416011,"reputation":906,"user_id":3597604,"display_name":"vkrishna17"},"score":4,"creation_date":1467664695,"post_id":12014662,"comment_id":63809337,"body_markdown":"If someone wants to use a `get` method for HashSets, it can be the case that `hashcode` and `equals` method might not use **ALL** the attributes of an object to calculate and process the results. Maybe remaining attributes contain some other values.","body":"If someone wants to use a <code>get</code> method for HashSets, it can be the case that <code>hashcode</code> and <code>equals</code> method might not use <b>ALL</b> the attributes of an object to calculate and process the results. Maybe remaining attributes contain some other values."}],"tags":[],"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1345248668,"creation_date":1345248668,"answer_id":12014662,"question_id":12014641,"body_markdown":"It sounds like you&#39;re essentially trying to use the hash code as a key in a map (which is what HashSets do behind the scenes).  You could just do it explicitly, by declaring `HashMap&lt;Integer, MyHashObject&gt;`.\r\n\r\nThere is no `get` for HashSets because typically the object you would supply to the `get` method as a parameter is the same object you would get back.","title":"Java: Retrieving an element from a HashSet","body":"<p>It sounds like you're essentially trying to use the hash code as a key in a map (which is what HashSets do behind the scenes).  You could just do it explicitly, by declaring <code>HashMap&lt;Integer, MyHashObject&gt;</code>.</p>\n\n<p>There is no <code>get</code> for HashSets because typically the object you would supply to the <code>get</code> method as a parameter is the same object you would get back.</p>\n"},{"tags":[],"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1423692529,"creation_date":1423692529,"answer_id":28465488,"question_id":12014641,"body_markdown":"If you know the order of elements in your **Set**, you can retrieve them by converting the **Set** to an **Array**.  Something like this:\r\n\r\n    Set mySet = MyStorageObject.getMyStringSet();\r\n    Object[] myArr = mySet.toArray();\r\n    String value1 = myArr[0].toString();\r\n    String value2 = myArr[1].toString();\r\n","title":"Java: Retrieving an element from a HashSet","body":"<p>If you know the order of elements in your <strong>Set</strong>, you can retrieve them by converting the <strong>Set</strong> to an <strong>Array</strong>.  Something like this:</p>\n\n<pre><code>Set mySet = MyStorageObject.getMyStringSet();\nObject[] myArr = mySet.toArray();\nString value1 = myArr[0].toString();\nString value2 = myArr[1].toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4495258,"reputation":151,"user_id":3655194,"display_name":"MVM"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1671526681,"creation_date":1433490771,"answer_id":30661206,"question_id":12014641,"body_markdown":"You can use `HashMap&lt;MyHashObject, MyHashObject&gt;` instead of `HashSet&lt;MyHashObject&gt;`.\r\n\r\nCalling `containsKey()` on your &quot;reconstructed&quot; `MyHashObject` will first `hashCode()` - check the collection, and if a duplicate hashcode is hit, finally `equals()` - check your &quot;reconstructed&quot; against the original, at which you can retrieve the original using `get()`\r\n\r\nComplexity is O(1) but the downside is you will likely have to override both `equals()` and `hashCode()` methods.","title":"Java: Retrieving an element from a HashSet","body":"<p>You can use <code>HashMap&lt;MyHashObject, MyHashObject&gt;</code> instead of <code>HashSet&lt;MyHashObject&gt;</code>.</p>\n<p>Calling <code>containsKey()</code> on your &quot;reconstructed&quot; <code>MyHashObject</code> will first <code>hashCode()</code> - check the collection, and if a duplicate hashcode is hit, finally <code>equals()</code> - check your &quot;reconstructed&quot; against the original, at which you can retrieve the original using <code>get()</code></p>\n<p>Complexity is O(1) but the downside is you will likely have to override both <code>equals()</code> and <code>hashCode()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":2762235,"reputation":9,"user_id":2378891,"display_name":"Saravanakumar V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580485933,"creation_date":1437535870,"answer_id":31553356,"question_id":12014641,"body_markdown":"If I know for sure in my application that the object is not used in search in any of the list or hash data structure and not used equals method elsewhere except the one used indirectly in hash data structure while adding. Is it advisable to update the existing object in set in equals method. Refer the below code. If I add the this bean to HashSet, I can do group aggregation on the matching object on key (id). By this way I am able to achieve aggregation functions such as sum, max, min, ... as well. If not advisable, please feel free to share me your thoughts. \r\n    \r\n       \r\n    public class MyBean {\r\n\r\n        String id,\r\n               name;\r\n        double amountSpent;\r\n    \r\n      \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn id.hashCode();\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif(obj!=null &amp;&amp; obj instanceof MyBean ) {\r\n    \t\t\tMyBean tmpObj = (MyBean) obj;\r\n    \t\t\tif(tmpObj.id!=null &amp;&amp; tmpObj.id.equals(this.id)) {\r\n                    tmpObj.amountSpent += this.amountSpent;\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }","title":"Java: Retrieving an element from a HashSet","body":"<p>If I know for sure in my application that the object is not used in search in any of the list or hash data structure and not used equals method elsewhere except the one used indirectly in hash data structure while adding. Is it advisable to update the existing object in set in equals method. Refer the below code. If I add the this bean to HashSet, I can do group aggregation on the matching object on key (id). By this way I am able to achieve aggregation functions such as sum, max, min, ... as well. If not advisable, please feel free to share me your thoughts. </p>\n\n<pre><code>public class MyBean {\n\n    String id,\n           name;\n    double amountSpent;\n\n    @Override\n    public int hashCode() {\n        return id.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if(obj!=null &amp;&amp; obj instanceof MyBean ) {\n            MyBean tmpObj = (MyBean) obj;\n            if(tmpObj.id!=null &amp;&amp; tmpObj.id.equals(this.id)) {\n                tmpObj.amountSpent += this.amountSpent;\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2108760,"reputation":596,"user_id":1874449,"display_name":"Habib Karbasian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457305714,"creation_date":1457305714,"answer_id":35833763,"question_id":12014641,"body_markdown":"If you could use `List` as a data structure to store your data, instead of using `Map` to store the result in the value of the Map, you can use following snippet and store the result in the same object.\r\n\r\nHere is a **Node** class:\r\n\r\n    private class Node {\r\n        public int row, col, distance;\r\n\r\n        public Node(int row, int col, int distance) {\r\n            this.row = row;\r\n            this.col = col;\r\n            this.distance = distance;\r\n        }\r\n\r\n        public boolean equals(Object o) {\r\n            return (o instanceof Node &amp;&amp;\r\n                    row == ((Node) o).row &amp;&amp;\r\n                    col == ((Node) o).col);\r\n        }\r\n    }\r\n\r\nIf you store your result in **distance** variable and the items in the list are checked based on their coordinates, you can use the following to change the distance to a new one with the help of **lastIndexOf** method as long as you only need to store one element for each data:\r\n\r\n        List&lt;Node&gt; nodeList;\r\n        nodeList = new ArrayList&lt;&gt;(Arrays.asList(new Node(1, 2, 1), new Node(3, 4, 5)));\r\n        Node tempNode = new Node(1, 2, 10);\r\n        if(nodeList.contains(tempNode))\r\n            nodeList.get(nodeList.lastIndexOf(tempNode)).distance += tempNode.distance;\r\n\r\n\r\nIt is basically reimplementing `Set` whose items can be accessed and changed.","title":"Java: Retrieving an element from a HashSet","body":"<p>If you could use <code>List</code> as a data structure to store your data, instead of using <code>Map</code> to store the result in the value of the Map, you can use following snippet and store the result in the same object.</p>\n\n<p>Here is a <strong>Node</strong> class:</p>\n\n<pre><code>private class Node {\n    public int row, col, distance;\n\n    public Node(int row, int col, int distance) {\n        this.row = row;\n        this.col = col;\n        this.distance = distance;\n    }\n\n    public boolean equals(Object o) {\n        return (o instanceof Node &amp;&amp;\n                row == ((Node) o).row &amp;&amp;\n                col == ((Node) o).col);\n    }\n}\n</code></pre>\n\n<p>If you store your result in <strong>distance</strong> variable and the items in the list are checked based on their coordinates, you can use the following to change the distance to a new one with the help of <strong>lastIndexOf</strong> method as long as you only need to store one element for each data:</p>\n\n<pre><code>    List&lt;Node&gt; nodeList;\n    nodeList = new ArrayList&lt;&gt;(Arrays.asList(new Node(1, 2, 1), new Node(3, 4, 5)));\n    Node tempNode = new Node(1, 2, 10);\n    if(nodeList.contains(tempNode))\n        nodeList.get(nodeList.lastIndexOf(tempNode)).distance += tempNode.distance;\n</code></pre>\n\n<p>It is basically reimplementing <code>Set</code> whose items can be accessed and changed.</p>\n"},{"tags":[],"owner":{"account_id":9088024,"reputation":467,"user_id":6765184,"accept_rate":0,"display_name":"V.Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524752942,"creation_date":1472325073,"answer_id":39184787,"question_id":12014641,"body_markdown":"The idea that you need to get the reference to the object that is contained inside a Set object is common. It can be archived by 2 ways:\r\n\r\n1. Use HashSet as you wanted, then: \r\n\r\n   \t    public Object getObjectReference(HashSet&lt;Xobject&gt; set, Xobject obj) {\r\n\t\t    if (set.contains(obj)) {\r\n\t\t    \tfor (Xobject o : set) {\r\n\t\t    \t\tif (obj.equals(o))\r\n\t\t\t    \t\treturn o;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return null;\r\n\t    }\r\n\r\nFor this approach to work, you need to override both hashCode() and equals(Object o) methods\r\nIn the worst scenario we have O(n)\r\n\r\n2. Second approach is to use TreeSet\r\n    \r\n        public Object getObjectReference(TreeSet&lt;Xobject&gt; set, Xobject obj) {\r\n    \t\tif (set.contains(obj)) {\r\n    \t\t\treturn set.floor(obj);\r\n    \t\t}\r\n    \t\treturn null;\r\n        }\r\n    \r\nThis approach gives O(log(n)), more efficient.\r\nYou don&#39;t need to override hashCode for this approach but you have to implement Comparable interface. ( define function compareTo(Object o)).","title":"Java: Retrieving an element from a HashSet","body":"<p>The idea that you need to get the reference to the object that is contained inside a Set object is common. It can be archived by 2 ways:</p>\n\n<ol>\n<li><p>Use HashSet as you wanted, then: </p>\n\n<pre><code>public Object getObjectReference(HashSet&lt;Xobject&gt; set, Xobject obj) {\n    if (set.contains(obj)) {\n        for (Xobject o : set) {\n            if (obj.equals(o))\n                return o;\n        }\n    }\n    return null;\n}\n</code></pre></li>\n</ol>\n\n<p>For this approach to work, you need to override both hashCode() and equals(Object o) methods\nIn the worst scenario we have O(n)</p>\n\n<ol start=\"2\">\n<li><p>Second approach is to use TreeSet</p>\n\n<pre><code>public Object getObjectReference(TreeSet&lt;Xobject&gt; set, Xobject obj) {\n    if (set.contains(obj)) {\n        return set.floor(obj);\n    }\n    return null;\n}\n</code></pre></li>\n</ol>\n\n<p>This approach gives O(log(n)), more efficient.\nYou don't need to override hashCode for this approach but you have to implement Comparable interface. ( define function compareTo(Object o)).</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1671149221,"post_id":48605401,"comment_id":132042617,"body_markdown":"Documentation: [Set&lt;E&gt;](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html). [HashSet&lt;E&gt;](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html)","body":"Documentation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Set&lt;E&gt;</a>. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">HashSet&lt;E&gt;</a>"}],"tags":[],"owner":{"account_id":12589459,"reputation":11,"user_id":9156858,"display_name":"Md. Rezaul Islam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671149027,"creation_date":1517725598,"answer_id":48605401,"question_id":12014641,"body_markdown":"First of all, convert your set to an array. Then, get the item by indexing the array.\r\n\r\n    Set uniqueItem = new HashSet();\r\n    uniqueItem.add(&quot;0&quot;);\r\n    uniqueItem.add(&quot;1&quot;);\r\n    uniqueItem.add(&quot;0&quot;);\r\n\r\n    Object[] arrayItem = uniqueItem.toArray();\r\n    for(int i = 0; i &lt; uniqueItem.size(); i++) {\r\n        System.out.println(&quot;Item &quot; + i + &quot; &quot; + arrayItem[i].toString());\r\n    }\r\n\r\n","title":"Java: Retrieving an element from a HashSet","body":"<p>First of all, convert your set to an array. Then, get the item by indexing the array.</p>\n<pre><code>Set uniqueItem = new HashSet();\nuniqueItem.add(&quot;0&quot;);\nuniqueItem.add(&quot;1&quot;);\nuniqueItem.add(&quot;0&quot;);\n\nObject[] arrayItem = uniqueItem.toArray();\nfor(int i = 0; i &lt; uniqueItem.size(); i++) {\n    System.out.println(&quot;Item &quot; + i + &quot; &quot; + arrayItem[i].toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580477275,"creation_date":1568377220,"answer_id":57923531,"question_id":12014641,"body_markdown":"One of the easiest ways is to convert to Array:\r\n```\r\nfor(int i = 0; i &lt; set.size(); i++) {\r\n    System.out.println(set.toArray()[i]);\r\n}\r\n```","title":"Java: Retrieving an element from a HashSet","body":"<p>One of the easiest ways is to convert to Array:</p>\n\n<pre><code>for(int i = 0; i &lt; set.size(); i++) {\n    System.out.println(set.toArray()[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671148711,"creation_date":1663744790,"answer_id":73796796,"question_id":12014641,"body_markdown":"If you want to have a reference to the real object using the same performance as HashSet, I think the best way is to use HashMap.\r\n\r\nExample (in Kotlin, but similar in Java) of finding an object, changing some field in it if it exists, or adding it in case it doesn&#39;t exist:\r\n\r\n```\r\nval map = HashMap&lt;DbData, DbData&gt;()\r\nval dbData = map[objectToFind]\r\nif(dbData!=null){\r\n  ++dbData.someIntField\r\n}\r\nelse {\r\n  map[dbData] = dbData\r\n}\r\n```\r\n","title":"Java: Retrieving an element from a HashSet","body":"<p>If you want to have a reference to the real object using the same performance as HashSet, I think the best way is to use HashMap.</p>\n<p>Example (in Kotlin, but similar in Java) of finding an object, changing some field in it if it exists, or adding it in case it doesn't exist:</p>\n<pre><code>val map = HashMap&lt;DbData, DbData&gt;()\nval dbData = map[objectToFind]\nif(dbData!=null){\n  ++dbData.someIntField\n}\nelse {\n  map[dbData] = dbData\n}\n</code></pre>\n"}],"owner":{"account_id":407683,"reputation":18994,"user_id":777906,"accept_rate":80,"display_name":"DJ180"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295771,"favorite_count":0,"down_vote_count":1,"up_vote_count":70,"accepted_answer_id":12014652,"answer_count":10,"score":69,"last_activity_date":1671526681,"creation_date":1345248471,"question_id":12014641,"body_markdown":"Why cannot I retrieve an element from a [HashSet][1]?\r\n\r\nConsider my `HashSet` containing a list of `MyHashObjects` with their `hashCode()` and `equals()` methods overridden correctly. I was hoping to construct a `MyHashObject` myself, and set the relevant hash code properties to certain values.\r\n\r\nI can query the `HashSet` to see if there &quot;equivalent&quot; objects in the set using the `contains()` method. So even though `contains()` returns true for the two objects, they may not be `==` true.\r\n\r\nHow come then there isn’t any `get()` method similar to how the `contains()` works?\r\n\r\nWhat is the thinking behind this API decision?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"Java: Retrieving an element from a HashSet","body":"<p>Why cannot I retrieve an element from a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"noreferrer\">HashSet</a>?</p>\n<p>Consider my <code>HashSet</code> containing a list of <code>MyHashObjects</code> with their <code>hashCode()</code> and <code>equals()</code> methods overridden correctly. I was hoping to construct a <code>MyHashObject</code> myself, and set the relevant hash code properties to certain values.</p>\n<p>I can query the <code>HashSet</code> to see if there &quot;equivalent&quot; objects in the set using the <code>contains()</code> method. So even though <code>contains()</code> returns true for the two objects, they may not be <code>==</code> true.</p>\n<p>How come then there isn’t any <code>get()</code> method similar to how the <code>contains()</code> works?</p>\n<p>What is the thinking behind this API decision?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1671527002,"post_id":74860475,"comment_id":132112963,"body_markdown":"I think this is just MyBatis carrying the result of `Statement.executeUpdate()`. And this is not just about affected rows (inserted, updated, etc.), but also about ddl statements that affect no data. If you know that you&#39;re inserting just one record, then perhaps you should simply have a try/catch around your insert call and raise your `SomeException` when you catch an sql exception of some sort.","body":"I think this is just MyBatis carrying the result of <code>Statement.executeUpdate()</code>. And this is not just about affected rows (inserted, updated, etc.), but also about ddl statements that affect no data. If you know that you&#39;re inserting just one record, then perhaps you should simply have a try/catch around your insert call and raise your <code>SomeException</code> when you catch an sql exception of some sort."}],"answers":[{"tags":[],"owner":{"account_id":3178764,"reputation":1236,"user_id":2685996,"display_name":"xAqweRx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671526195,"creation_date":1671526195,"answer_id":74860511,"question_id":74860475,"body_markdown":"Most of the time - it depends on implementation. Lots of ORM done in a state - where insert returning `boolean` value - whether information was inserted or not. So, basically, your example with `result != 1` checking exactly - whether data was inserted in DB or have not. ","title":"Do I have to check row count after insert?","body":"<p>Most of the time - it depends on implementation. Lots of ORM done in a state - where insert returning <code>boolean</code> value - whether information was inserted or not. So, basically, your example with <code>result != 1</code> checking exactly - whether data was inserted in DB or have not.</p>\n"},{"comments":[{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1671526317,"post_id":74860517,"comment_id":132112743,"body_markdown":"If I insert more than two line, is it necessary?","body":"If I insert more than two line, is it necessary?"},{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1671526395,"post_id":74860517,"comment_id":132112779,"body_markdown":"If you insert multiple lines, it can be useful to compare the affected lines with the lines that should have been inserted.","body":"If you insert multiple lines, it can be useful to compare the affected lines with the lines that should have been inserted."}],"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671526215,"creation_date":1671526215,"answer_id":74860517,"question_id":74860475,"body_markdown":"For a single line INSERT the result is unnecessary. The Database will throw an exception if the INSERT fails.","title":"Do I have to check row count after insert?","body":"<p>For a single line INSERT the result is unnecessary. The Database will throw an exception if the INSERT fails.</p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74860517,"answer_count":2,"score":4,"last_activity_date":1671526215,"creation_date":1671526024,"question_id":74860475,"body_markdown":"I saw code like below.\r\n\r\n```java\r\npublic void insertSomething( SomeObj some ) {\r\n  // insert 1 row\r\n  int result = someMapper.insertSomething( some );\r\n\r\n  if( result != 1 ) {\r\n    throw new SomeException( &quot;insertion failed&quot; );  \r\n  }\r\n}\r\n```\r\n\r\nI&#39;m curious about ```if( result != 1 ) { ... }```.\r\n\r\nWouldn&#39;t a database exception raised if the database failed to insert something?\r\n\r\nDo I have to remove this code or not?","title":"Do I have to check row count after insert?","body":"<p>I saw code like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void insertSomething( SomeObj some ) {\n  // insert 1 row\n  int result = someMapper.insertSomething( some );\n\n  if( result != 1 ) {\n    throw new SomeException( &quot;insertion failed&quot; );  \n  }\n}\n</code></pre>\n<p>I'm curious about <code>if( result != 1 ) { ... }</code>.</p>\n<p>Wouldn't a database exception raised if the database failed to insert something?</p>\n<p>Do I have to remove this code or not?</p>\n"},{"tags":["java","hibernate","orm","jpa-2.0"],"answers":[{"comments":[{"owner":{"account_id":223667,"reputation":161,"user_id":483033,"display_name":"Suyash"},"score":0,"creation_date":1287673694,"post_id":3988251,"comment_id":4269527,"body_markdown":"Hi Noam thanks for your reply. But dont we need Collection on both sides since its a many-to-many relationship ?","body":"Hi Noam thanks for your reply. But dont we need Collection on both sides since its a many-to-many relationship ?"},{"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"score":0,"creation_date":1287675988,"post_id":3988251,"comment_id":4269982,"body_markdown":"in order for hibernate to map the collections only one side is required. from the hibernate annotaion docs: &quot;As seen previously, the other side don&#39;t have to (must not) describe the physical mapping: a simple mappedBy argument containing the owner side property name bind the two.&quot;","body":"in order for hibernate to map the collections only one side is required. from the hibernate annotaion docs: &quot;As seen previously, the other side don&#39;t have to (must not) describe the physical mapping: a simple mappedBy argument containing the owner side property name bind the two.&quot;"},{"owner":{"account_id":223667,"reputation":161,"user_id":483033,"display_name":"Suyash"},"score":4,"creation_date":1288168324,"post_id":3988251,"comment_id":4324827,"body_markdown":"I was able to resolve the issue by removing references of other entity from toString() method. i.e removed references of BankAccount from User object&#39;s toString method and vice versa. I also removed fetch=fetchType.EAGER from all the entities.However, i thought that hibernate was able to detect such a cyclic dependency and not throw stackoverflow exception.","body":"I was able to resolve the issue by removing references of other entity from toString() method. i.e removed references of BankAccount from User object&#39;s toString method and vice versa. I also removed fetch=fetchType.EAGER from all the entities.However, i thought that hibernate was able to detect such a cyclic dependency and not throw stackoverflow exception."}],"tags":[],"owner":{"account_id":208225,"reputation":3021,"user_id":458576,"accept_rate":86,"display_name":"Noam Nevo"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1287669638,"creation_date":1287669638,"answer_id":3988251,"question_id":3987799,"body_markdown":"You cannot map the many to many relationship on both of the lists, hibernate will then try to fetch a collection for every nested element i.e. every user in the users list has a list of bank accounts which have a list of users... . think of it of a never ending recursion. \r\n","title":"JPA with Hibernate 3 - ManyToMany-Stack overflow and Multiple bag errors","body":"<p>You cannot map the many to many relationship on both of the lists, hibernate will then try to fetch a collection for every nested element i.e. every user in the users list has a list of bank accounts which have a list of users... . think of it of a never ending recursion. </p>\n"},{"comments":[{"owner":{"account_id":223667,"reputation":161,"user_id":483033,"display_name":"Suyash"},"score":0,"creation_date":1288078450,"post_id":3991288,"comment_id":4312169,"body_markdown":"I have added JIRA for this issue alongwith complete source code http://opensource.atlassian.com/projects/hibernate/browse/HHH-5691","body":"I have added JIRA for this issue alongwith complete source code <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-5691\" rel=\"nofollow noreferrer\">opensource.atlassian.com/projects/hibernate/browse/HHH-5691</a>"},{"owner":{"account_id":1582418,"reputation":5334,"user_id":1467482,"accept_rate":74,"display_name":"Vjeetje"},"score":6,"creation_date":1454007477,"post_id":3991288,"comment_id":57862483,"body_markdown":"I had a very similar issue using Lombok&#39;s ToSring annotation on a many-to-many relationship between two entities. Solution: use the exclude attribute of the ToString annotation. Anyway, Hibernate can work fine with a many-to-many relationship where both sides are fetched eagerly.","body":"I had a very similar issue using Lombok&#39;s ToSring annotation on a many-to-many relationship between two entities. Solution: use the exclude attribute of the ToString annotation. Anyway, Hibernate can work fine with a many-to-many relationship where both sides are fetched eagerly."}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287690350,"creation_date":1287690350,"answer_id":3991288,"question_id":3987799,"body_markdown":"(Let&#39;s leave the `fetch` attribute aside for now). Your mapping is perfectly valid and is the right way to map a bidirectional many-to-many relationship. From the JPA 2.0 specification:\r\n\r\n&gt; ### 2.10.4 Bidirectional ManyToMany Relationships\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; **Example:**\r\n&gt; \r\n&gt;     @Entity\r\n&gt;     public class Project {\r\n&gt;         private Collection&lt;Employee&gt; employees;\r\n&gt; \r\n&gt;         @ManyToMany\r\n&gt;         public Collection&lt;Employee&gt; getEmployees() {\r\n&gt;             return employees;\r\n&gt;         }\r\n&gt; \r\n&gt;         public void setEmployees(Collection&lt;Employee&gt; employees) {\r\n&gt;             this.employees = employees;\r\n&gt;         }\r\n&gt;         ...\r\n&gt;     }\r\n&gt; \r\n&gt;     @Entity\r\n&gt;     public class Employee {\r\n&gt;         private Collection&lt;Project&gt; projects;\r\n&gt;         \r\n&gt;         @ManyToMany(mappedBy=&quot;employees&quot;)\r\n&gt;         public Collection&lt;Project&gt; getProjects() {\r\n&gt;             return projects;\r\n&gt;         }\r\n&gt;         public void setProjects(Collection&lt;Project&gt; projects) {\r\n&gt;             this.projects = projects;\r\n&gt;         }\r\n&gt;         ...\r\n&gt;     }\r\n&gt; \r\n&gt; In this example:\r\n&gt; \r\n&gt; - Entity `Project` references a collection of Entity `Employee`.\r\n&gt; - Entity `Employee` references a collection of Entity `Project`.\r\n&gt; - Entity `Project` is the owner of the relationship.\r\n&gt; \r\n&gt; ...\r\n\r\nThat being said, I&#39;m unsure of the behavior **when using `EAGER` fetching on both sides** (will it lead to an infinite cycle?), the JPA specification is pretty blurry about this and I can&#39;t find any clear mention that it is forbidden. But I bet that it&#39;s part of the problem.\r\n\r\nBut in the particular case of Hibernate, I&#39;d expect Hibernate to be able to handle cycles as mentioned in [this comment][1] from Emmanuel Bernard:\r\n\r\n&gt; LAZY or EAGER should be orthogonal to an infinite loop issue in the codebase. Hibernate knows how to handle cyclic graphs\r\n\r\nFunnily enough, I&#39;ve answered [a very similar question][2] recently (very close problem). **Maybe** an hint that something is wrong in Hibernate (my understanding of the above comment is that using EAGER fetching on both sides should work). \r\n\r\nI&#39;ll thus conclude my answer in the same way: **if you can provide a test case allowing to reproduce the problem**, open a Jira issue.\r\n\r\n\r\n  [1]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-4147?focusedCommentId=25378&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_25378\r\n  [2]: https://stackoverflow.com/questions/3978733/hibernate-manytomany-bidirectional-eager-fetching/3978903#3978903","title":"JPA with Hibernate 3 - ManyToMany-Stack overflow and Multiple bag errors","body":"<p>(Let's leave the <code>fetch</code> attribute aside for now). Your mapping is perfectly valid and is the right way to map a bidirectional many-to-many relationship. From the JPA 2.0 specification:</p>\n\n<blockquote>\n  <h3>2.10.4 Bidirectional ManyToMany Relationships</h3>\n  \n  <p>...</p>\n  \n  <p><strong>Example:</strong></p>\n\n<pre><code>@Entity\npublic class Project {\n    private Collection&lt;Employee&gt; employees;\n\n    @ManyToMany\n    public Collection&lt;Employee&gt; getEmployees() {\n        return employees;\n    }\n\n    public void setEmployees(Collection&lt;Employee&gt; employees) {\n        this.employees = employees;\n    }\n    ...\n}\n\n@Entity\npublic class Employee {\n    private Collection&lt;Project&gt; projects;\n\n    @ManyToMany(mappedBy=\"employees\")\n    public Collection&lt;Project&gt; getProjects() {\n        return projects;\n    }\n    public void setProjects(Collection&lt;Project&gt; projects) {\n        this.projects = projects;\n    }\n    ...\n}\n</code></pre>\n  \n  <p>In this example:</p>\n  \n  <ul>\n  <li>Entity <code>Project</code> references a collection of Entity <code>Employee</code>.</li>\n  <li>Entity <code>Employee</code> references a collection of Entity <code>Project</code>.</li>\n  <li>Entity <code>Project</code> is the owner of the relationship.</li>\n  </ul>\n  \n  <p>...</p>\n</blockquote>\n\n<p>That being said, I'm unsure of the behavior <strong>when using <code>EAGER</code> fetching on both sides</strong> (will it lead to an infinite cycle?), the JPA specification is pretty blurry about this and I can't find any clear mention that it is forbidden. But I bet that it's part of the problem.</p>\n\n<p>But in the particular case of Hibernate, I'd expect Hibernate to be able to handle cycles as mentioned in <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-4147?focusedCommentId=25378&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_25378\" rel=\"nofollow noreferrer\">this comment</a> from Emmanuel Bernard:</p>\n\n<blockquote>\n  <p>LAZY or EAGER should be orthogonal to an infinite loop issue in the codebase. Hibernate knows how to handle cyclic graphs</p>\n</blockquote>\n\n<p>Funnily enough, I've answered <a href=\"https://stackoverflow.com/questions/3978733/hibernate-manytomany-bidirectional-eager-fetching/3978903#3978903\">a very similar question</a> recently (very close problem). <strong>Maybe</strong> an hint that something is wrong in Hibernate (my understanding of the above comment is that using EAGER fetching on both sides should work). </p>\n\n<p>I'll thus conclude my answer in the same way: <strong>if you can provide a test case allowing to reproduce the problem</strong>, open a Jira issue.</p>\n"},{"comments":[{"owner":{"account_id":16148428,"reputation":1317,"user_id":11657446,"display_name":"arnonuem"},"score":5,"creation_date":1584452339,"post_id":56934145,"comment_id":107436435,"body_markdown":"An alternative is to annotate the fields with `@ToString.Exclude` and `@EqualsAndHashCode.Exclude`","body":"An alternative is to annotate the fields with <code>@ToString.Exclude</code> and <code>@EqualsAndHashCode.Exclude</code>"},{"owner":{"account_id":6018899,"reputation":609,"user_id":4726740,"display_name":"kolya_metallist"},"score":1,"creation_date":1584635612,"post_id":56934145,"comment_id":107503383,"body_markdown":"@arnonuem Yes, but if Lombok version is 1.16.22 or higher","body":"@arnonuem Yes, but if Lombok version is 1.16.22 or higher"},{"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"score":0,"creation_date":1661003690,"post_id":56934145,"comment_id":129669873,"body_markdown":"I tried using your mechanism, it failed. Sorry for a downvote.","body":"I tried using your mechanism, it failed. Sorry for a downvote."},{"owner":{"account_id":6018899,"reputation":609,"user_id":4726740,"display_name":"kolya_metallist"},"score":0,"creation_date":1661024802,"post_id":56934145,"comment_id":129674374,"body_markdown":"@PratikGaurav at least you could share what exactly you had did","body":"@PratikGaurav at least you could share what exactly you had did"},{"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"score":0,"creation_date":1661173138,"post_id":56934145,"comment_id":129701524,"body_markdown":"I tried these at the class level.","body":"I tried these at the class level."},{"owner":{"account_id":6018899,"reputation":609,"user_id":4726740,"display_name":"kolya_metallist"},"score":0,"creation_date":1661720585,"post_id":56934145,"comment_id":129833279,"body_markdown":"@PratikGaurav What tried? No example, no result, nothing.","body":"@PratikGaurav What tried? No example, no result, nothing."},{"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"score":1,"creation_date":1661768127,"post_id":56934145,"comment_id":129841993,"body_markdown":"I tried those annotations at class level, however as per your comment, I tried it again class level and problem got solved. Please don&#39;t be rude while communicating. Stackoverflow is community application, and we learn when we communicate. Also, I took back my downvote, hope it makes us both clear.","body":"I tried those annotations at class level, however as per your comment, I tried it again class level and problem got solved. Please don&#39;t be rude while communicating. Stackoverflow is community application, and we learn when we communicate. Also, I took back my downvote, hope it makes us both clear."}],"tags":[],"owner":{"account_id":6018899,"reputation":609,"user_id":4726740,"display_name":"kolya_metallist"},"comment_count":7,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1562586029,"creation_date":1562586029,"answer_id":56934145,"question_id":3987799,"body_markdown":"I&#39;ve faced the similar issue and the root cause is a Lombok generation code as Vjeetje mentioned above. My code uses the annotation @Data, which generates hashCode and ToString methods with cross-dependent fields and this structure leads to Hibernate stuck. So, one should care to avoid these infinite loop calls, in my case I just added the exclusion parameters, like @EqualsAndHashCode(exclude=&quot;dependent_list&quot;) and @ToString(exclude = &quot;dependent_list&quot;). It solves stack overflow issue.","title":"JPA with Hibernate 3 - ManyToMany-Stack overflow and Multiple bag errors","body":"<p>I've faced the similar issue and the root cause is a Lombok generation code as Vjeetje mentioned above. My code uses the annotation @Data, which generates hashCode and ToString methods with cross-dependent fields and this structure leads to Hibernate stuck. So, one should care to avoid these infinite loop calls, in my case I just added the exclusion parameters, like @EqualsAndHashCode(exclude=\"dependent_list\") and @ToString(exclude = \"dependent_list\"). It solves stack overflow issue.</p>\n"},{"tags":[],"owner":{"account_id":14285899,"reputation":131,"user_id":10319254,"display_name":"Prathamesh Beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599541362,"creation_date":1599541362,"answer_id":63787378,"question_id":3987799,"body_markdown":"I was also facing the same issue.\r\n\r\nThe problem was with my @Data annotation from the lombok library.\r\n\r\nTo fix it, I replaced @Data with @Getter, @Setter. And defined a custom toString() method on the class.","title":"JPA with Hibernate 3 - ManyToMany-Stack overflow and Multiple bag errors","body":"<p>I was also facing the same issue.</p>\n<p>The problem was with my @Data annotation from the lombok library.</p>\n<p>To fix it, I replaced @Data with @Getter, @Setter. And defined a custom toString() method on the class.</p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671525962,"creation_date":1671525962,"answer_id":74860462,"question_id":3987799,"body_markdown":"The Problem,\r\n\r\nClasses go in recursion.\r\n\r\nThe solution : Remove the default toString() and hashCode() method, from Lombok and how to remove it.\r\n\r\nAdd two annotations to mention the customization.\r\n\r\n```\r\n@ToString(exclude = &quot;components&quot;)\r\n@EqualsAndHashCode(exclude = &quot;components&quot;)\r\n```\r\n\r\nComplete example.\r\n\r\n\r\n```\r\npackage com.oracle.dto2;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\n@ToString(exclude = &quot;components&quot;)\r\n@EqualsAndHashCode(exclude = &quot;components&quot;)\r\npublic class Device {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;ds&quot;)\r\n    @SequenceGenerator(name = &quot;ds&quot;,sequenceName = &quot;dev_seq&quot;,allocationSize = 1,initialValue = 1)\r\n    @Column(name = &quot;device_Id&quot;,updatable = false,nullable = false)\r\n    @Setter(AccessLevel.NONE)\r\n    private Integer deviceId;\r\n    @OneToMany\r\n    List&lt;Component&gt; components;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.oracle.dto2;\r\n\r\nimport lombok.AccessLevel;\r\nimport lombok.Data;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Data\r\npublic class Component {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;cs&quot;)\r\n    @SequenceGenerator(name = &quot;cs&quot;,sequenceName = &quot;comp_seq&quot;,allocationSize = 1,initialValue = 1)\r\n    @Column(name = &quot;component_Id&quot;,updatable = false,nullable = false)\r\n    @Setter(AccessLevel.NONE)\r\n    private Long componentId;\r\n    @Column(name=&quot;component_price&quot;,nullable = false)\r\n    private Double price;\r\n    @Column(name=&quot;component_manufacturer&quot;,nullable = true)\r\n    private String manufacturer;\r\n}\r\n\r\n```","title":"JPA with Hibernate 3 - ManyToMany-Stack overflow and Multiple bag errors","body":"<p>The Problem,</p>\n<p>Classes go in recursion.</p>\n<p>The solution : Remove the default toString() and hashCode() method, from Lombok and how to remove it.</p>\n<p>Add two annotations to mention the customization.</p>\n<pre><code>@ToString(exclude = &quot;components&quot;)\n@EqualsAndHashCode(exclude = &quot;components&quot;)\n</code></pre>\n<p>Complete example.</p>\n<pre><code>package com.oracle.dto2;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Data\n@ToString(exclude = &quot;components&quot;)\n@EqualsAndHashCode(exclude = &quot;components&quot;)\npublic class Device {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;ds&quot;)\n    @SequenceGenerator(name = &quot;ds&quot;,sequenceName = &quot;dev_seq&quot;,allocationSize = 1,initialValue = 1)\n    @Column(name = &quot;device_Id&quot;,updatable = false,nullable = false)\n    @Setter(AccessLevel.NONE)\n    private Integer deviceId;\n    @OneToMany\n    List&lt;Component&gt; components;\n}\n\n</code></pre>\n<pre><code>package com.oracle.dto2;\n\nimport lombok.AccessLevel;\nimport lombok.Data;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\npublic class Component {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO,generator = &quot;cs&quot;)\n    @SequenceGenerator(name = &quot;cs&quot;,sequenceName = &quot;comp_seq&quot;,allocationSize = 1,initialValue = 1)\n    @Column(name = &quot;component_Id&quot;,updatable = false,nullable = false)\n    @Setter(AccessLevel.NONE)\n    private Long componentId;\n    @Column(name=&quot;component_price&quot;,nullable = false)\n    private Double price;\n    @Column(name=&quot;component_manufacturer&quot;,nullable = true)\n    private String manufacturer;\n}\n\n</code></pre>\n"}],"owner":{"account_id":223667,"reputation":161,"user_id":483033,"display_name":"Suyash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12668,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1671525962,"creation_date":1287666865,"question_id":3987799,"body_markdown":"I am facing issues while retrieving data for entities having bi-directional many-to-many relationship. If I use `List` for storing entities, I get unable to fetch multiple bags simultaneously error. If i change my code to use `Set`, I get stackoverflow error.\r\n\r\nDetails :\r\n\r\n - Spring 3.0.3\r\n - Hibernate-core : 3.5.1-Final\r\n - Hibernate-annotations : 3.5.1-Final\r\n - hibernate-common-annotations : 3.2.0-Final\r\n - hibernate-entitymanager : 3.5.1-Final\r\n - Mysql database\r\n - Junit 4\r\n\r\nUser has Many Bank Accounts; Bank Account can have many users\r\n\r\nUser.java\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, mappedBy=&quot;user&quot;) \r\n    private List&lt;BankAccount&gt; bankAccounts = new ArrayList&lt;BankAccount&gt;();\r\n\r\nBankAccount.java\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_bankaccount&quot;, \r\n               joinColumns = @JoinColumn(name=&quot;bank_account_id&quot;), \r\n               inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;)\r\n    )\r\n    private List&lt;User&gt; user = new ArrayList&lt;User&gt;();\r\n\r\nDB Tables\r\n\r\n    Users\r\n    user_id PK\r\n    \r\n    Bankaccount\r\n    bank_account_id PK\r\n\r\n    user_bankaccount\r\n    bank_account_id PK ( references bankaccount.bank_account_id )\r\n    user_id PK ( references user.user_id )\r\n\r\n\r\nissues\r\n\r\n1. when I try to get all the users data (`getAllUsers`) using a JUnit test case, I get unable to fetch multiple bags simultaneously error.\r\n2. If I use `Set` and `HashSet` instead of List and `ArrayList` respectively, I get stackoverflow error.\r\n\r\nPlease help me and let me know if code is wrong or its a known hibernate issue with specific version of libs that I am using.\r\n\r\n\r\n\r\n\r\n","title":"JPA with Hibernate 3 - ManyToMany-Stack overflow and Multiple bag errors","body":"<p>I am facing issues while retrieving data for entities having bi-directional many-to-many relationship. If I use <code>List</code> for storing entities, I get unable to fetch multiple bags simultaneously error. If i change my code to use <code>Set</code>, I get stackoverflow error.</p>\n\n<p>Details :</p>\n\n<ul>\n<li>Spring 3.0.3</li>\n<li>Hibernate-core : 3.5.1-Final</li>\n<li>Hibernate-annotations : 3.5.1-Final</li>\n<li>hibernate-common-annotations : 3.2.0-Final</li>\n<li>hibernate-entitymanager : 3.5.1-Final</li>\n<li>Mysql database</li>\n<li>Junit 4</li>\n</ul>\n\n<p>User has Many Bank Accounts; Bank Account can have many users</p>\n\n<p>User.java</p>\n\n<pre><code>@ManyToMany(fetch = FetchType.EAGER, mappedBy=\"user\") \nprivate List&lt;BankAccount&gt; bankAccounts = new ArrayList&lt;BankAccount&gt;();\n</code></pre>\n\n<p>BankAccount.java</p>\n\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = \"user_bankaccount\", \n           joinColumns = @JoinColumn(name=\"bank_account_id\"), \n           inverseJoinColumns = @JoinColumn(name = \"user_id\")\n)\nprivate List&lt;User&gt; user = new ArrayList&lt;User&gt;();\n</code></pre>\n\n<p>DB Tables</p>\n\n<pre><code>Users\nuser_id PK\n\nBankaccount\nbank_account_id PK\n\nuser_bankaccount\nbank_account_id PK ( references bankaccount.bank_account_id )\nuser_id PK ( references user.user_id )\n</code></pre>\n\n<p>issues</p>\n\n<ol>\n<li>when I try to get all the users data (<code>getAllUsers</code>) using a JUnit test case, I get unable to fetch multiple bags simultaneously error.</li>\n<li>If I use <code>Set</code> and <code>HashSet</code> instead of List and <code>ArrayList</code> respectively, I get stackoverflow error.</li>\n</ol>\n\n<p>Please help me and let me know if code is wrong or its a known hibernate issue with specific version of libs that I am using.</p>\n"},{"tags":["java","mysql","database","mariadb","mysql-8.0"],"comments":[{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":1,"creation_date":1671402047,"post_id":74843356,"comment_id":132086299,"body_markdown":"You should consider to change column type from `BIGINT` to `BIGINT UNSIGNED`.","body":"You should consider to change column type from <code>BIGINT</code> to <code>BIGINT UNSIGNED</code>."}],"answers":[{"comments":[{"owner":{"account_id":169436,"reputation":766,"user_id":1505888,"accept_rate":0,"display_name":"DarkKnight"},"score":0,"creation_date":1671388095,"post_id":74843412,"comment_id":132083960,"body_markdown":"Thanks for the reply. I understand the rollback can increment the auto_increment value in case of any errors during the transaction commit process. But the problem is that there are very big jumps which contradict the total number of records in the DB. (e.g., 1709, 7656 failures or more than seem&#39;s not possible). Will re-check the logs for that number of call per day.","body":"Thanks for the reply. I understand the rollback can increment the auto_increment value in case of any errors during the transaction commit process. But the problem is that there are very big jumps which contradict the total number of records in the DB. (e.g., 1709, 7656 failures or more than seem&#39;s not possible). Will re-check the logs for that number of call per day."},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":1,"creation_date":1671398835,"post_id":74843412,"comment_id":132085821,"body_markdown":"If you&#39;re not missing any records, chances are that the insert is correct and from value n + 1, there is a jump of n + x. The reason for x can only be observed from the logs. It is not possible for us to know why your application (which we don&#39;t know how it works and we don&#39;t have its code or any use cases from it) reacts this way. You have to realize that what you&#39;re asking can&#39;t be answered with 100% accuracy by any of us. What we can give is educated guesses. Why would it skip 10 or 1000 sequences for one record? Again, depends how the app works, for example &quot;if it retries until it works&quot;.","body":"If you&#39;re not missing any records, chances are that the insert is correct and from value n + 1, there is a jump of n + x. The reason for x can only be observed from the logs. It is not possible for us to know why your application (which we don&#39;t know how it works and we don&#39;t have its code or any use cases from it) reacts this way. You have to realize that what you&#39;re asking can&#39;t be answered with 100% accuracy by any of us. What we can give is educated guesses. Why would it skip 10 or 1000 sequences for one record? Again, depends how the app works, for example &quot;if it retries until it works&quot;."},{"owner":{"account_id":169436,"reputation":766,"user_id":1505888,"accept_rate":0,"display_name":"DarkKnight"},"score":0,"creation_date":1671454010,"post_id":74843412,"comment_id":132095652,"body_markdown":"Yes I understand. I&#39;m looking to find pointers to log the query information at JPA or mysql level (e.g., redo logs - not sure if this can help) or way to reproduce for cases like transaction rollback.","body":"Yes I understand. I&#39;m looking to find pointers to log the query information at JPA or mysql level (e.g., redo logs - not sure if this can help) or way to reproduce for cases like transaction rollback."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1671459434,"post_id":74843412,"comment_id":132097385,"body_markdown":"@DarkKnight, There are no tools to read the redo logs. You may be thinking of the binary logs, but this won&#39;t help find transactions that were rolled back, because only committed transactions are written to the binary log.","body":"@DarkKnight, There are no tools to read the redo logs. You may be thinking of the binary logs, but this won&#39;t help find transactions that were rolled back, because only committed transactions are written to the binary log."},{"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"score":0,"creation_date":1671499780,"post_id":74843412,"comment_id":132108244,"body_markdown":"@DarkKnight Why are you looking at the MySQL level? Both Bill Karwin and I told you the chances of it being a bug in the DB are low. Normally the app, middleware or interface that handles the API calls on the DB is the one that&#39;s supposed to keep track of insert errors. That&#39;s where you&#39;re supposed to see the use cases Bill mentioned in his answer or see API errors that I talked about. Redo or DB logs have other purposes. If the application/middleware handling the flows doesn&#39;t have any useful error logging, then you have a totally new problem.","body":"@DarkKnight Why are you looking at the MySQL level? Both Bill Karwin and I told you the chances of it being a bug in the DB are low. Normally the app, middleware or interface that handles the API calls on the DB is the one that&#39;s supposed to keep track of insert errors. That&#39;s where you&#39;re supposed to see the use cases Bill mentioned in his answer or see API errors that I talked about. Redo or DB logs have other purposes. If the application/middleware handling the flows doesn&#39;t have any useful error logging, then you have a totally new problem."}],"tags":[],"owner":{"account_id":1128331,"reputation":981,"user_id":1115019,"display_name":"TheNomad"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671387024,"creation_date":1671387024,"answer_id":74843412,"question_id":74843356,"body_markdown":"Well, for starters, I wouldn&#39;t start checking the inserts. They are hardly at fault here. How is the insert done? I would expect that if the API call fails, you&#39;ll rollback, else commit, correct? But keep in mind that **if a transaction fails, the sequence is not rolled back**.\r\n\r\nI would search the API call logs for errors. Chances are, if you have max id 1099, then the next insert is 1104, I&#39;d say you&#39;ll surely find 4 errors in the log, plus a correct and valid insert.\r\n\r\nKeep in mind, sequences are not meant to &quot;look nice&quot;. Yes, if all control codes pass, then of course, each record is n + 1 and it is &quot;properly&quot; (from an aesthetic point-of-view) inserted. But sequences are not about that. An `auto_increment` simply makes sure that you will not break a PK or UK constraint. That is all. So for any usage, regardless of a `COMMIT` or `ROLLBACK`, a sequence is &quot;used&quot;. This is by design and guarantees data integrity.\r\n\r\nAs for simulating this, you can try a custom API call (or local insert, but if you want to be as close to the prod version as possible, you can use an API call) that always rolls back after inserting. Then checking the current sequence value of the `auto_increment`.","title":"MySQL: 8.0.31 - Large gaps (thousands) in ID Field after few months of usage","body":"<p>Well, for starters, I wouldn't start checking the inserts. They are hardly at fault here. How is the insert done? I would expect that if the API call fails, you'll rollback, else commit, correct? But keep in mind that <strong>if a transaction fails, the sequence is not rolled back</strong>.</p>\n<p>I would search the API call logs for errors. Chances are, if you have max id 1099, then the next insert is 1104, I'd say you'll surely find 4 errors in the log, plus a correct and valid insert.</p>\n<p>Keep in mind, sequences are not meant to &quot;look nice&quot;. Yes, if all control codes pass, then of course, each record is n + 1 and it is &quot;properly&quot; (from an aesthetic point-of-view) inserted. But sequences are not about that. An <code>auto_increment</code> simply makes sure that you will not break a PK or UK constraint. That is all. So for any usage, regardless of a <code>COMMIT</code> or <code>ROLLBACK</code>, a sequence is &quot;used&quot;. This is by design and guarantees data integrity.</p>\n<p>As for simulating this, you can try a custom API call (or local insert, but if you want to be as close to the prod version as possible, you can use an API call) that always rolls back after inserting. Then checking the current sequence value of the <code>auto_increment</code>.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671387594,"creation_date":1671387594,"answer_id":74843471,"question_id":74843356,"body_markdown":"Id &quot;gaps&quot; can occur for several reasons:\r\n\r\n - If an INSERT fails, for example by conflicting with another constraint like UNIQUE or FOREIGN KEY, the generation of an id will not be undone. The row will not be inserted, but the id is still incremented, so a value is &quot;lost.&quot;\r\n\r\n   I helped a client with such an issue once. They had a UNIQUE constraint in the username in the `users` table, and some people kept trying to sign up as new users on the website using existing usernames. This happened every day, and kept increasing, so eventually there was about 1500 id&#39;s &quot;lost&quot; per day.\r\n\r\n - If the INSERT succeeds, but the transaction is rolled back by your application for some reason.\r\n\r\n - If the [`auto_increment_increment`][1] is set to something other than 1. This is an option that can be set temporarily by any session, so you may not see it in your MySQL Server config file. But it would probably be in the application code. \r\n\r\n - The INSERT specifies a value higher than the next greater id value, overriding the auto-increment. Auto-increment will not generate a value lower than the greatest value in the table, so if an INSERT specifies a higher value, the next INSERT after that will be greater. It won&#39;t fill in the gap it left.\r\n\r\n - Someone ran `ALTER TABLE ... AUTO_INCREMENT=...` and changed the table&#39;s current next id value.\r\n\r\n- InnoDB bugs. These are rare, but they have been reported that sometimes a table &quot;skips&quot; auto-increment values instead of incrementing strictly by 1. The auto-increment guarantees unique values, but it does not guarantee consecutive values.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/replication-options-source.html#sysvar_auto_increment_increment","title":"MySQL: 8.0.31 - Large gaps (thousands) in ID Field after few months of usage","body":"<p>Id &quot;gaps&quot; can occur for several reasons:</p>\n<ul>\n<li><p>If an INSERT fails, for example by conflicting with another constraint like UNIQUE or FOREIGN KEY, the generation of an id will not be undone. The row will not be inserted, but the id is still incremented, so a value is &quot;lost.&quot;</p>\n<p>I helped a client with such an issue once. They had a UNIQUE constraint in the username in the <code>users</code> table, and some people kept trying to sign up as new users on the website using existing usernames. This happened every day, and kept increasing, so eventually there was about 1500 id's &quot;lost&quot; per day.</p>\n</li>\n<li><p>If the INSERT succeeds, but the transaction is rolled back by your application for some reason.</p>\n</li>\n<li><p>If the <a href=\"https://dev.mysql.com/doc/refman/8.0/en/replication-options-source.html#sysvar_auto_increment_increment\" rel=\"nofollow noreferrer\"><code>auto_increment_increment</code></a> is set to something other than 1. This is an option that can be set temporarily by any session, so you may not see it in your MySQL Server config file. But it would probably be in the application code.</p>\n</li>\n<li><p>The INSERT specifies a value higher than the next greater id value, overriding the auto-increment. Auto-increment will not generate a value lower than the greatest value in the table, so if an INSERT specifies a higher value, the next INSERT after that will be greater. It won't fill in the gap it left.</p>\n</li>\n<li><p>Someone ran <code>ALTER TABLE ... AUTO_INCREMENT=...</code> and changed the table's current next id value.</p>\n</li>\n<li><p>InnoDB bugs. These are rare, but they have been reported that sometimes a table &quot;skips&quot; auto-increment values instead of incrementing strictly by 1. The auto-increment guarantees unique values, but it does not guarantee consecutive values.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":169436,"reputation":766,"user_id":1505888,"accept_rate":0,"display_name":"DarkKnight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1671460673,"accepted_answer_id":74843471,"answer_count":2,"score":3,"last_activity_date":1671525928,"creation_date":1671386500,"question_id":74843356,"body_markdown":"We see large gaps in primary key column with auto_increment in mysql 8.0.31 release version in multiple tables (with default - innodb_autoinc_lock_mode = 2 (“interleaved” lock mode)). Also I understand some smaller gaps can happen in this mode.\r\n\r\n\r\nWe have &#39;order&#39; table (id bigint) and &#39;order_line_items&#39; table (id bigint).\r\n\r\n    TABLE_NAME\t\t\t| CURRENT AUTO_INCREMENT  \t|  TABLE ROW COUNT\r\n    order\t            |  \t27504\t\t\t        |        1367\r\n    order_line_items    |  430930\t\t  \t        |\t    34970\r\n\r\nWe have a total of 1367 order rows with current auto increment value of &#39;27504&#39;, and 34970 (order line item rows) with current auto increment value of &#39;430930&#39;. We save, order and order_line_items all within the same transaction in a API call (there is possibility for error which can lead to transaction rollback).\r\n\r\n**Gaps:**\r\n\r\nOrder table gaps continued to happen for 1-2 day once we noticed and went back to incrementing by &#39;1&#39; again as of today. Jumps are happening together in clusters continuously (check below) and went back to incrementing by &#39;1&#39;.\r\n\r\n    Order table gap details:\r\n\r\n    id    |  difference from previous &#39;id&#39;\r\n    -------------------------------------\r\n    27489\t1\r\n    27488\t1\r\n    27487\t1\r\n    27486\t232\r\n    27254\t232\r\n    27022\t693\r\n    26329\t240\r\n    26089\t401\r\n    25688\t175\r\n    25513\t348\r\n    25165\t864\r\n    24301\t7656\r\n    16645\t1709\r\n    14936\t184\r\n    14752\t13\r\n    14739\t541\r\n    14198\t82\r\n    14116\t215\r\n    13901\t68\r\n    13833\t117\r\n    13716\t140\r\n    ....\r\n    1468\t1\r\n    1467\t10\r\n    1457\t1\r\n    1456\t1\r\n    1455\t1\r\n    1454\t9\r\n    1445\t1\r\n    1444\t1\r\n    1443\t1\r\n    1442\t1\r\n    1441\t1\r\n\r\n**Observations:**\r\n\r\n1) We use (OpenJPA) use the configuration (@Id, @GeneratedValue(strategy = GenerationType.IDENTITY) for the ID. Id&#39;s are not set in the code.\r\n\r\n2) We see the same pattern in other tables as well. We tested the same API with parallel creation of the same with 20 threads but we didn&#39;t similar large gaps in the create id&#39;s for both tables.\r\n\r\n3) Till id: 1445 (we have count of 1225 rows) in order table, we don&#39;t see any issue with bigger jumps. After id: 1445, we started seeing multiple jumps in order table till 27487 for 1-2 days continuously. \r\n\r\n4) Also I understand the rollback of transaction&#39;s in API call can increase the auto-increment value, but the multiple bigger jumps compared to total records seems not understandable.\r\n\r\n**Questions:**\r\n1) Does anyone has any idea what can be the cause for this ?. Why id&#39;s are jumping in multiple thousands (e.g., 7656, 1709 in above example) when the total records are below 1367 in order tables ?.\r\n\r\n2) I see this happens in multiple cluster of islands of the ids jumping and starts back to create one by one (like the above example). Has this relate to any other internal handling of mysql data relate processes. ?. Is this a possible bug in mysql ?\r\n\r\n3) What can cause &#39;mysql&#39; to jump higher like this (for e.g., bulk inserts, can shared locks cause this) ?. How can I simulate this issue locally ?. \r\n\r\n\r\nAny ideas would be really helpful.\r\n\r\n\r\n**Update:**\r\nMulti- API calls were done which were failed at the API level due to unexpected retry from our client side which caused the large gaps in the ids. Thanks everyone.","title":"MySQL: 8.0.31 - Large gaps (thousands) in ID Field after few months of usage","body":"<p>We see large gaps in primary key column with auto_increment in mysql 8.0.31 release version in multiple tables (with default - innodb_autoinc_lock_mode = 2 (“interleaved” lock mode)). Also I understand some smaller gaps can happen in this mode.</p>\n<p>We have 'order' table (id bigint) and 'order_line_items' table (id bigint).</p>\n<pre><code>TABLE_NAME          | CURRENT AUTO_INCREMENT    |  TABLE ROW COUNT\norder               |   27504                   |        1367\norder_line_items    |  430930                   |       34970\n</code></pre>\n<p>We have a total of 1367 order rows with current auto increment value of '27504', and 34970 (order line item rows) with current auto increment value of '430930'. We save, order and order_line_items all within the same transaction in a API call (there is possibility for error which can lead to transaction rollback).</p>\n<p><strong>Gaps:</strong></p>\n<p>Order table gaps continued to happen for 1-2 day once we noticed and went back to incrementing by '1' again as of today. Jumps are happening together in clusters continuously (check below) and went back to incrementing by '1'.</p>\n<pre><code>Order table gap details:\n\nid    |  difference from previous 'id'\n-------------------------------------\n27489   1\n27488   1\n27487   1\n27486   232\n27254   232\n27022   693\n26329   240\n26089   401\n25688   175\n25513   348\n25165   864\n24301   7656\n16645   1709\n14936   184\n14752   13\n14739   541\n14198   82\n14116   215\n13901   68\n13833   117\n13716   140\n....\n1468    1\n1467    10\n1457    1\n1456    1\n1455    1\n1454    9\n1445    1\n1444    1\n1443    1\n1442    1\n1441    1\n</code></pre>\n<p><strong>Observations:</strong></p>\n<ol>\n<li><p>We use (OpenJPA) use the configuration (@Id, @GeneratedValue(strategy = GenerationType.IDENTITY) for the ID. Id's are not set in the code.</p>\n</li>\n<li><p>We see the same pattern in other tables as well. We tested the same API with parallel creation of the same with 20 threads but we didn't similar large gaps in the create id's for both tables.</p>\n</li>\n<li><p>Till id: 1445 (we have count of 1225 rows) in order table, we don't see any issue with bigger jumps. After id: 1445, we started seeing multiple jumps in order table till 27487 for 1-2 days continuously.</p>\n</li>\n<li><p>Also I understand the rollback of transaction's in API call can increase the auto-increment value, but the multiple bigger jumps compared to total records seems not understandable.</p>\n</li>\n</ol>\n<p><strong>Questions:</strong></p>\n<ol>\n<li><p>Does anyone has any idea what can be the cause for this ?. Why id's are jumping in multiple thousands (e.g., 7656, 1709 in above example) when the total records are below 1367 in order tables ?.</p>\n</li>\n<li><p>I see this happens in multiple cluster of islands of the ids jumping and starts back to create one by one (like the above example). Has this relate to any other internal handling of mysql data relate processes. ?. Is this a possible bug in mysql ?</p>\n</li>\n<li><p>What can cause 'mysql' to jump higher like this (for e.g., bulk inserts, can shared locks cause this) ?. How can I simulate this issue locally ?.</p>\n</li>\n</ol>\n<p>Any ideas would be really helpful.</p>\n<p><strong>Update:</strong>\nMulti- API calls were done which were failed at the API level due to unexpected retry from our client side which caused the large gaps in the ids. Thanks everyone.</p>\n"},{"tags":["java","ios","swift","encryption","rsa"],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671525314,"creation_date":1671460493,"question_id":74851923,"body_markdown":"# Objective\r\n\r\nA RSA-4096 key pair is generated and the public key shall be send in order to ecrypt some payload.\r\n\r\nThe microservice executing the encryption is written in Java 17.\r\n\r\nNote:\r\n&gt; **Java** 17, more specific the &#39;java.security&#39;-library accepts keys which look alike the PKCS#1-format but are slightly different. They are using the **SubjectPublicKeyInfo** (or SPKI) specification.\r\n\r\nThe SPKI specification follows the [RFC 5280][1].\r\n\r\n1) It is not possible to change the microservice.\r\n2) It is searched for a solution to generate a RSA key pair in swift (iOS) following the SPKI specification.\r\n- Transformation from a PKCS#1-format is preferred.\r\n- An external library (such as OpenSSL) may be used. Still, native swift code is in favor to prevent weakness in &quot;security&quot;-related functions.\r\n\r\n\r\n## Setup\r\n- Swift in Xcode (IDE)\r\n- Emulator for iPhone14\r\n\r\n\r\n\r\n### Sample Code: Generating a KeyPair (Swift - iOS)\r\n```swift\r\n// Keypair attributes\r\nlet tag = &quot;my_personal_keystore_keypair_alias&quot;.data(using: .utf8)!\r\nlet attributes: [String: Any] =\r\n    [kSecAttrKeyType as String:            kSecAttrKeyTypeRSA,\r\n     kSecAttrKeySizeInBits as String:      &quot;4096&quot;,\r\n     kSecPrivateKeyAttrs as String:\r\n        [kSecAttrIsPermanent as String:    true,\r\n         kSecAttrApplicationTag as String: tag]\r\n]\r\nvar error: Unmanaged&lt;CFError&gt;?\r\n\r\n// Generate PrivateKey / Keypair\r\nguard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &amp;error) else {\r\n    throw error!.takeRetainedValue() as Error\r\n}\r\n\r\n// Extract PublicKey\r\nguard let publicKey = SecKeyCopyPublicKey(privateKey),\r\n      let publicKeyOptional = SecKeyCopyExternalRepresentation(publicKey, nil) else {\r\n    return &quot;PublicKey could not be accessed.&quot;\r\n}\r\nlet publicKeyData = publicKeyOptional as Data\r\nlet base64PublicKey = publicKeyData.base64EncodedString()\r\nprint(&quot;PublicKey, base64:   &quot;, base64PublicKey)\r\n```\r\n\r\nThe given swift-code generates a RSA key pair in PKCS#1-format.\r\nDetails on the key-formats may be retrieved from this question:\r\n- https://stackoverflow.com/questions/74844528/why-do-pkcs1-publickeys-from-java17-keyfactory-and-swift-ios-differ\r\n\r\n# Problem\r\n\r\nStill the wrong format (&#220;KCS#1) is retrieved.\r\n\r\n## Not the objective\r\n\r\nThis section shall **prevent typical mistakes** along the research.\r\nThe following mistakes can be excluded:\r\n\r\n**A)** The key provided by iOS is BASE64 encoded - it has **been handeled already** .. :)\r\n- https://stackoverflow.com/questions/53906275/rsa-public-key-created-in-ios-swift-and-exported-as-base64-not-recognized-in-jav\r\n\r\n**B)** The code transforming the public key is in Objective-C.\r\nThis till **remains a legit alternative** to the primary objective of this question .. ^.^\r\n- https://stackoverflow.com/questions/43637323/rsa-public-key-generation-swift\r\n\r\n**C)** Swift/iOS hates Keys (KeyPairs) to be overwritten. If you need a new KeyPair, delete the old one using its ALIAS and thereafter create a new KeyPair. **Already solved for this question** .. :D\r\n- https://stackoverflow.com/questions/53906275/rsa-public-key-created-in-ios-swift-and-exported-as-base64-not-recognized-in-jav\r\n\r\n**D)** Other standards/formats are explicitly not included in the solution space **although they may implicitly be containers** for the *desired SPKI-Format*.\r\nTo mention left outs: ASN.1, DER, PEM, x509, PKCS#1 etc. .. :)\r\n- Especially PEM: https://developer.apple.com/forums/thread/85915\r\n- https://www.cryptologie.net/article/260/asn1-vs-der-vs-pem-vs-x509-vs-pkcs7-vs/\r\n\r\n**E)** *Things &amp; Links* that may come into my mind later on .. ;-)\r\n\r\n\r\n\r\n## Sample Java code for testing\r\n\r\nSample keys can be found in the **Appendix** below.\r\n\r\nParsing the key(s) generated by Java 17:\r\n```java\r\npublic Optional&lt;PublicKey&gt; validateKeyFromJava(String publicKey) {\r\n    try {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKey);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\r\n        EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n        return Optional.ofNullable(keyFactory.generatePublic(publicKeySpec));\r\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\n### The error to be overcome\r\n\r\nThe PKCS#1-format can not be read by the Java 17 microservice.\r\n\r\n```none\r\njava.security.spec.InvalidKeySpecException: java.security.InvalidKeyException:\r\nIOException: algid parse error, not a sequence\r\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:241)\r\nat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:351)\r\n```\r\n\r\nTherefore the SPKI-format is needed to be used by Swift (iOS).\r\n\r\n\r\n\r\n# Hope\r\n\r\nIn case there is no solution using **native Swift**, the following approach using OpenSSL may be tried (not happened, yet).\r\n- https://medium.com/@joncardasis/openssl-swift-everything-you-need-to-know-2a4f9f256462\r\n\r\n\r\n\r\n## Anyways\r\nThanks for reading &amp; sharing - any help is appreciated :)\r\n\r\n\r\n\r\n# Appendix\r\n\r\nAll keys may be analyzed:\r\n- https://8gwifi.org/PemParserFunctions.jsp\r\n\r\nMultiple keys are given to prevent &#39;lucky shots&#39; ..  ;-)\r\n\r\n\r\n## Sample keys - Swift iOS (PKCS#1)\r\nFirst:\r\n&gt; MIICCgKCAgEAl0HYn9IdRmexAR9dSh3SxmFazWF0RV2TKmtRxGySvCA+aHZ/Dp+8tC0YDWpQzP+tZdlDWNOBj/D7i1z4b+UZk8F9ZEoi+w61kYQz+KjMkRuYrPBFi4A/gsS2qGeFJ4OvLQzGObZ0C+5/E+wunUWyQCVjgjTHKH8yqfVXeWYFKmaSSZblSZJAObE8Ao5J38DMINF1oWG+GdZt8RTLf35ULLEa8zKvFXrfBkDjiQH90WKPwDxWwvFInqZhjpsFxLytiKW+iBLqa4+0P7uwXVodFXa38RW9dk9mEsLvj6764BKtPAaWym9XZfEZNBu0jwlfO07k0augynGps6bsSIyYglDImlTRagdA/e+1AMBlSxEFVO4NpCjEpMT7rNX/LYPeEaJ8fTC3axOM1yEntcwUfSSCDulVPGlWlFbPxt29y1RrGtMmwfbTlbOQf2okMf0mGx9Ytd9HWadIdWh4FqDVWA8MF82PP1YsOW5TA0hkprK1qJwfkaLRKnmpfL5a7gWn4HWzpdDqrezhbc/zTCeHbX5c61mgWsAIWnB3fyXsJHpR62+QtBEznwhDxafVCQyUmsDqbncBxilEnFIn08G+6ox2PQC8GhNdpFVGsSoqpDfctsm51/tUYLpyeIBdzw/3nMLL1J5jL3yWr7ZKgnzNwjpC8l6c6gpsF3NRodeVhp8CAwEAAQ==\r\n\r\n\r\nSecond:\r\n&gt; MIICCgKCAgEAlSbN7rlX6EMCDGuxQm9G6qqXIWshDvI5VaN4QPNCFcFzPjI/FyaHqi43+mxTyKGycT6TNqvanSu67yoIA80tSlFH2LndWv6sPQeHKxNwwFKU98Y/uL3M6hKIVXDwa6kZGM58dfY9qMWEOPXB4AwZtVaxJ4ePHFAR0kEOAHLCPpQxFkNlkg9FlCwlBzZbhHkI5uhCmlGEiLpLaJNJzjn7yo33m65189J6tIh3vopZ2ahFHb/vo6SVSbtS7Y0YlinJwH3MCGLm5+pKBpE64t5lgEhDPYSF7pKpLhEVqC5ETaya3mYTkXPSCiY/9Mo5zddniUGrxAJaY940jY3QNYeFmWPEEdhhIW2tUbuiM3IlHAqk4Du5p/2o1QcSVZdBsHStSGdcWqs00Z+ooxXwrOpMOUnZeb8Jt5dGDyHwjOmPf0N8dDQwz+5pgOoTkxd/z5cTK9tMv/nC+Mbbt8LRsct16M3LYrRAYnA8unX1ZD3eXTJPOSB/fM9Hmf1ObxQro9tatC5RaJjS0Xg5aepUsey62BW9lj4kHCkRPD4w1OmjDWGUCOSEhwy0KwqFyRBppYUMndEbJb3GKEjpekcQYwjERPtH/vEVxaN5gGYaCORancUaNH+d03zAmi0G830QXQvyohyKUkGw5qljEBH5R5Wqu7YLTlUes0rQEx8DpLVclaMCAwEAAQ==\r\n\r\n\r\n\r\n## Sample keys - Java 17 (SPKI-format)\r\nFirst:\r\n&gt; MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqwMRLS3hhNuVBQTqRT4714fbl4h3PtrSZQ8Ry1qMCefFOLzmLmLD/VdnFoHj3QiqlZMlajvVuJonprhOy911aNW2Qs2VZ+zoMkLRjah9gqg00dLVtdWa2FXjAX6bh/rSR6jmF1hzfLPs/CqOKyDpX003AUF/WvgHkuAizQjZeskEDKawbExs6RSSFHNycrGwB9hBhAwGvyZpC2+fqPN/93W2NZ8xyb5H6CmM7pCpG+sTcsEEYOZjjq2HV8vYdM9KHi7O+nmY0MJxjLJ5JOv5oLqPXFt4Epezz4v2C3oE3Leu4gIy1r1D2xHuxu0pyQ9F2nI7a+6mGZbRAYDA8Yq2oidqBDC9pKogoHcMYhXj/G0WNEhE9ODuHg+GkiiGc3zysuKwfKu1Z5ZmUtlI1kVFqUEEi81smylTXtkU/oEf7P0OX94XcNTq1N3iO+nuFayAhINlvLUXwyO4JQUsmCyu0bH17XuNUfbnSCmOfGhFSjpyU0PthW9Qtf9yY9MmyZz9c9T2kfxoUxBnNRhVUZ+Kg8oA6kkNJp/ac+AdZzkPZFev91ZKYCbyI+rcakJ4KBQ5YoprDtpHmAQZ5E3/rWcq1Tis0yiomE2+natrzaO4aQbrljOHEgB6arbMkeu7/sZHEvYfK7ilH7tsZfDdU2DVOV0yxNReYwOHAFgFMTNQvBsCAwEAAQ==\r\n\r\n\r\nSecond:\r\n&gt; MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs9ywiZnmv9Ewf+dIsmwV8ZlZKQNg4lbVLpNptb3pftnoukvBjak1rDqb6GcxXtM+UuBgr4Wigi0TI+vItzWv6QlBB8HShA4WImKrOCD3+U1fFdDpwCxQO+oHqTqeNKhRcKcM0e0C/c88hJo8l9G2OCjIANW3O+pGeMirB/XjPdcQ+d37TFGpRs83wPR8gUFQsH8qQMkS7uOtTCZHfcK6UzbvJB3Gf/llcCSfPYKUMY9SXIc5K9hpI0E1v5EdEUvdbhiilZI0esntr5BzeO5AxH/m9fFPH9ekZZyc9nXsHY7tPOJMD+wsTad4D9NBGi9x+lzxZRdxyDLote4ix+aHSqMgcdtOyJ69WFym2Ty1VfCgrmG8fhC/PZBEzk6obK5uJD4mO3owrKgYsmJgZHO3CbVkmv04+EEPpQLippQu8uCl+2KO480EvjSco5ryVH3XEsAGokBLCsZviBtntY/Ia0OLXPmy7WWXigxsVQkgPZ1SyZa3FUp/Zuwtoo0BWDI/9JdUZPfKhbQkcxtnKbCe8QXf51YUgIfKXPTBlmk/Zj931EzXdQCZFMvgK+I5p79DqCsD9yKbiUnfK9tXJ4SzMfuiLd4pqB0UIMVMQEj5SZPYn7eHRZyje4v96FDwtj56NQ/kZPYXKqLoOv5nvMALZngzJ6aFaGjkWZX9RNQLfA8CAwEAAQ==\r\n\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7","title":"How to generate/export RSA public keys in Swift including SubjectPublicKeyInfo (SPKI-format) in iOS?","body":"<h1>Objective</h1>\n<p>A RSA-4096 key pair is generated and the public key shall be send in order to ecrypt some payload.</p>\n<p>The microservice executing the encryption is written in Java 17.</p>\n<p>Note:</p>\n<blockquote>\n<p><strong>Java</strong> 17, more specific the 'java.security'-library accepts keys which look alike the PKCS#1-format but are slightly different. They are using the <strong>SubjectPublicKeyInfo</strong> (or SPKI) specification.</p>\n</blockquote>\n<p>The SPKI specification follows the <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7\" rel=\"nofollow noreferrer\">RFC 5280</a>.</p>\n<ol>\n<li>It is not possible to change the microservice.</li>\n<li>It is searched for a solution to generate a RSA key pair in swift (iOS) following the SPKI specification.</li>\n</ol>\n<ul>\n<li>Transformation from a PKCS#1-format is preferred.</li>\n<li>An external library (such as OpenSSL) may be used. Still, native swift code is in favor to prevent weakness in &quot;security&quot;-related functions.</li>\n</ul>\n<h2>Setup</h2>\n<ul>\n<li>Swift in Xcode (IDE)</li>\n<li>Emulator for iPhone14</li>\n</ul>\n<h3>Sample Code: Generating a KeyPair (Swift - iOS)</h3>\n<pre class=\"lang-swift prettyprint-override\"><code>// Keypair attributes\nlet tag = &quot;my_personal_keystore_keypair_alias&quot;.data(using: .utf8)!\nlet attributes: [String: Any] =\n    [kSecAttrKeyType as String:            kSecAttrKeyTypeRSA,\n     kSecAttrKeySizeInBits as String:      &quot;4096&quot;,\n     kSecPrivateKeyAttrs as String:\n        [kSecAttrIsPermanent as String:    true,\n         kSecAttrApplicationTag as String: tag]\n]\nvar error: Unmanaged&lt;CFError&gt;?\n\n// Generate PrivateKey / Keypair\nguard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &amp;error) else {\n    throw error!.takeRetainedValue() as Error\n}\n\n// Extract PublicKey\nguard let publicKey = SecKeyCopyPublicKey(privateKey),\n      let publicKeyOptional = SecKeyCopyExternalRepresentation(publicKey, nil) else {\n    return &quot;PublicKey could not be accessed.&quot;\n}\nlet publicKeyData = publicKeyOptional as Data\nlet base64PublicKey = publicKeyData.base64EncodedString()\nprint(&quot;PublicKey, base64:   &quot;, base64PublicKey)\n</code></pre>\n<p>The given swift-code generates a RSA key pair in PKCS#1-format.\nDetails on the key-formats may be retrieved from this question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/74844528/why-do-pkcs1-publickeys-from-java17-keyfactory-and-swift-ios-differ\">Why do PKCS#1 PublicKeys from &#39;Java17 KeyFactory&#39; and Swift (iOS) differ?</a></li>\n</ul>\n<h1>Problem</h1>\n<p>Still the wrong format (ÜKCS#1) is retrieved.</p>\n<h2>Not the objective</h2>\n<p>This section shall <strong>prevent typical mistakes</strong> along the research.\nThe following mistakes can be excluded:</p>\n<p><strong>A)</strong> The key provided by iOS is BASE64 encoded - it has <strong>been handeled already</strong> .. :)</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/53906275/rsa-public-key-created-in-ios-swift-and-exported-as-base64-not-recognized-in-jav\">RSA public key created in iOS/Swift and exported as base64 not recognized in Java</a></li>\n</ul>\n<p><strong>B)</strong> The code transforming the public key is in Objective-C.\nThis till <strong>remains a legit alternative</strong> to the primary objective of this question .. ^.^</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/43637323/rsa-public-key-generation-swift\">RSA public key generation -- Swift</a></li>\n</ul>\n<p><strong>C)</strong> Swift/iOS hates Keys (KeyPairs) to be overwritten. If you need a new KeyPair, delete the old one using its ALIAS and thereafter create a new KeyPair. <strong>Already solved for this question</strong> .. :D</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/53906275/rsa-public-key-created-in-ios-swift-and-exported-as-base64-not-recognized-in-jav\">RSA public key created in iOS/Swift and exported as base64 not recognized in Java</a></li>\n</ul>\n<p><strong>D)</strong> Other standards/formats are explicitly not included in the solution space <strong>although they may implicitly be containers</strong> for the <em>desired SPKI-Format</em>.\nTo mention left outs: ASN.1, DER, PEM, x509, PKCS#1 etc. .. :)</p>\n<ul>\n<li>Especially PEM: <a href=\"https://developer.apple.com/forums/thread/85915\" rel=\"nofollow noreferrer\">https://developer.apple.com/forums/thread/85915</a></li>\n<li><a href=\"https://www.cryptologie.net/article/260/asn1-vs-der-vs-pem-vs-x509-vs-pkcs7-vs/\" rel=\"nofollow noreferrer\">https://www.cryptologie.net/article/260/asn1-vs-der-vs-pem-vs-x509-vs-pkcs7-vs/</a></li>\n</ul>\n<p><strong>E)</strong> <em>Things &amp; Links</em> that may come into my mind later on .. ;-)</p>\n<h2>Sample Java code for testing</h2>\n<p>Sample keys can be found in the <strong>Appendix</strong> below.</p>\n<p>Parsing the key(s) generated by Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;PublicKey&gt; validateKeyFromJava(String publicKey) {\n    try {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKey);\n        KeyFactory keyFactory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\n        EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(publicKeyBytes);\n        return Optional.ofNullable(keyFactory.generatePublic(publicKeySpec));\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n<h3>The error to be overcome</h3>\n<p>The PKCS#1-format can not be read by the Java 17 microservice.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException:\nIOException: algid parse error, not a sequence\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:241)\nat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:351)\n</code></pre>\n<p>Therefore the SPKI-format is needed to be used by Swift (iOS).</p>\n<h1>Hope</h1>\n<p>In case there is no solution using <strong>native Swift</strong>, the following approach using OpenSSL may be tried (not happened, yet).</p>\n<ul>\n<li><a href=\"https://medium.com/@joncardasis/openssl-swift-everything-you-need-to-know-2a4f9f256462\" rel=\"nofollow noreferrer\">https://medium.com/@joncardasis/openssl-swift-everything-you-need-to-know-2a4f9f256462</a></li>\n</ul>\n<h2>Anyways</h2>\n<p>Thanks for reading &amp; sharing - any help is appreciated :)</p>\n<h1>Appendix</h1>\n<p>All keys may be analyzed:</p>\n<ul>\n<li><a href=\"https://8gwifi.org/PemParserFunctions.jsp\" rel=\"nofollow noreferrer\">https://8gwifi.org/PemParserFunctions.jsp</a></li>\n</ul>\n<p>Multiple keys are given to prevent 'lucky shots' ..  ;-)</p>\n<h2>Sample keys - Swift iOS (PKCS#1)</h2>\n<p>First:</p>\n<blockquote>\n<p>MIICCgKCAgEAl0HYn9IdRmexAR9dSh3SxmFazWF0RV2TKmtRxGySvCA+aHZ/Dp+8tC0YDWpQzP+tZdlDWNOBj/D7i1z4b+UZk8F9ZEoi+w61kYQz+KjMkRuYrPBFi4A/gsS2qGeFJ4OvLQzGObZ0C+5/E+wunUWyQCVjgjTHKH8yqfVXeWYFKmaSSZblSZJAObE8Ao5J38DMINF1oWG+GdZt8RTLf35ULLEa8zKvFXrfBkDjiQH90WKPwDxWwvFInqZhjpsFxLytiKW+iBLqa4+0P7uwXVodFXa38RW9dk9mEsLvj6764BKtPAaWym9XZfEZNBu0jwlfO07k0augynGps6bsSIyYglDImlTRagdA/e+1AMBlSxEFVO4NpCjEpMT7rNX/LYPeEaJ8fTC3axOM1yEntcwUfSSCDulVPGlWlFbPxt29y1RrGtMmwfbTlbOQf2okMf0mGx9Ytd9HWadIdWh4FqDVWA8MF82PP1YsOW5TA0hkprK1qJwfkaLRKnmpfL5a7gWn4HWzpdDqrezhbc/zTCeHbX5c61mgWsAIWnB3fyXsJHpR62+QtBEznwhDxafVCQyUmsDqbncBxilEnFIn08G+6ox2PQC8GhNdpFVGsSoqpDfctsm51/tUYLpyeIBdzw/3nMLL1J5jL3yWr7ZKgnzNwjpC8l6c6gpsF3NRodeVhp8CAwEAAQ==</p>\n</blockquote>\n<p>Second:</p>\n<blockquote>\n<p>MIICCgKCAgEAlSbN7rlX6EMCDGuxQm9G6qqXIWshDvI5VaN4QPNCFcFzPjI/FyaHqi43+mxTyKGycT6TNqvanSu67yoIA80tSlFH2LndWv6sPQeHKxNwwFKU98Y/uL3M6hKIVXDwa6kZGM58dfY9qMWEOPXB4AwZtVaxJ4ePHFAR0kEOAHLCPpQxFkNlkg9FlCwlBzZbhHkI5uhCmlGEiLpLaJNJzjn7yo33m65189J6tIh3vopZ2ahFHb/vo6SVSbtS7Y0YlinJwH3MCGLm5+pKBpE64t5lgEhDPYSF7pKpLhEVqC5ETaya3mYTkXPSCiY/9Mo5zddniUGrxAJaY940jY3QNYeFmWPEEdhhIW2tUbuiM3IlHAqk4Du5p/2o1QcSVZdBsHStSGdcWqs00Z+ooxXwrOpMOUnZeb8Jt5dGDyHwjOmPf0N8dDQwz+5pgOoTkxd/z5cTK9tMv/nC+Mbbt8LRsct16M3LYrRAYnA8unX1ZD3eXTJPOSB/fM9Hmf1ObxQro9tatC5RaJjS0Xg5aepUsey62BW9lj4kHCkRPD4w1OmjDWGUCOSEhwy0KwqFyRBppYUMndEbJb3GKEjpekcQYwjERPtH/vEVxaN5gGYaCORancUaNH+d03zAmi0G830QXQvyohyKUkGw5qljEBH5R5Wqu7YLTlUes0rQEx8DpLVclaMCAwEAAQ==</p>\n</blockquote>\n<h2>Sample keys - Java 17 (SPKI-format)</h2>\n<p>First:</p>\n<blockquote>\n<p>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqwMRLS3hhNuVBQTqRT4714fbl4h3PtrSZQ8Ry1qMCefFOLzmLmLD/VdnFoHj3QiqlZMlajvVuJonprhOy911aNW2Qs2VZ+zoMkLRjah9gqg00dLVtdWa2FXjAX6bh/rSR6jmF1hzfLPs/CqOKyDpX003AUF/WvgHkuAizQjZeskEDKawbExs6RSSFHNycrGwB9hBhAwGvyZpC2+fqPN/93W2NZ8xyb5H6CmM7pCpG+sTcsEEYOZjjq2HV8vYdM9KHi7O+nmY0MJxjLJ5JOv5oLqPXFt4Epezz4v2C3oE3Leu4gIy1r1D2xHuxu0pyQ9F2nI7a+6mGZbRAYDA8Yq2oidqBDC9pKogoHcMYhXj/G0WNEhE9ODuHg+GkiiGc3zysuKwfKu1Z5ZmUtlI1kVFqUEEi81smylTXtkU/oEf7P0OX94XcNTq1N3iO+nuFayAhINlvLUXwyO4JQUsmCyu0bH17XuNUfbnSCmOfGhFSjpyU0PthW9Qtf9yY9MmyZz9c9T2kfxoUxBnNRhVUZ+Kg8oA6kkNJp/ac+AdZzkPZFev91ZKYCbyI+rcakJ4KBQ5YoprDtpHmAQZ5E3/rWcq1Tis0yiomE2+natrzaO4aQbrljOHEgB6arbMkeu7/sZHEvYfK7ilH7tsZfDdU2DVOV0yxNReYwOHAFgFMTNQvBsCAwEAAQ==</p>\n</blockquote>\n<p>Second:</p>\n<blockquote>\n<p>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs9ywiZnmv9Ewf+dIsmwV8ZlZKQNg4lbVLpNptb3pftnoukvBjak1rDqb6GcxXtM+UuBgr4Wigi0TI+vItzWv6QlBB8HShA4WImKrOCD3+U1fFdDpwCxQO+oHqTqeNKhRcKcM0e0C/c88hJo8l9G2OCjIANW3O+pGeMirB/XjPdcQ+d37TFGpRs83wPR8gUFQsH8qQMkS7uOtTCZHfcK6UzbvJB3Gf/llcCSfPYKUMY9SXIc5K9hpI0E1v5EdEUvdbhiilZI0esntr5BzeO5AxH/m9fFPH9ekZZyc9nXsHY7tPOJMD+wsTad4D9NBGi9x+lzxZRdxyDLote4ix+aHSqMgcdtOyJ69WFym2Ty1VfCgrmG8fhC/PZBEzk6obK5uJD4mO3owrKgYsmJgZHO3CbVkmv04+EEPpQLippQu8uCl+2KO480EvjSco5ryVH3XEsAGokBLCsZviBtntY/Ia0OLXPmy7WWXigxsVQkgPZ1SyZa3FUp/Zuwtoo0BWDI/9JdUZPfKhbQkcxtnKbCe8QXf51YUgIfKXPTBlmk/Zj931EzXdQCZFMvgK+I5p79DqCsD9yKbiUnfK9tXJ4SzMfuiLd4pqB0UIMVMQEj5SZPYn7eHRZyje4v96FDwtj56NQ/kZPYXKqLoOv5nvMALZngzJ6aFaGjkWZX9RNQLfA8CAwEAAQ==</p>\n</blockquote>\n"},{"tags":["java","docker-compose","testcontainers","testcontainers-junit5"],"comments":[{"owner":{"account_id":12937672,"reputation":1290,"user_id":9354495,"display_name":"yuppie-flu"},"score":0,"creation_date":1671547799,"post_id":74860009,"comment_id":132119701,"body_markdown":"Have you tried to check the postgres docker container logs before the exception appears and while the container is still running?","body":"Have you tried to check the postgres docker container logs before the exception appears and while the container is still running?"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1671618486,"post_id":74860009,"comment_id":132136167,"body_markdown":"When Testcontainers fails the wait strategy of a container, it logs the container logs. Please share those.","body":"When Testcontainers fails the wait strategy of a container, it logs the container logs. Please share those."}],"owner":{"account_id":1174380,"reputation":1876,"user_id":1150744,"accept_rate":67,"display_name":"Chexpir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671524851,"creation_date":1671523178,"question_id":74860009,"body_markdown":"I am having this error running Quarkus tests with docker-compose, upgrading from Quarkus 2.4.0 to Quarkus 2.15.0, not sure why it is happening, but if anybody can shed some light it will be helpful.\r\n\r\nIt happens running integration tests, it sounds like it is timing out, so I tried to put a higher timeout value \r\n\r\n    quarkus.devservices.timeout=180\r\n\r\nbut it did not work either.\r\n\r\n```\r\n[2022-12-19T08:55:14.576Z] &gt; Task :score-integrationtest:test\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,293 WARN  [org.ecl.jet.ser.AbstractConnector] (pool-2-thread-1) Acceptors should be &lt;= availableProcessors: NetworkTrafficServerConnector@161ff9e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:0}\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,720 INFO  [org.ecl.jet.ser.Server] (pool-2-thread-1) jetty-9.4.49.v20220914; built: 2022-09-14T01:07:36.601Z; git: 4231a3b2e4cb8548a412a789936d640a97b1aa0a; jvm 17.0.1+12-LTS\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,803 INFO  [org.ecl.jet.ser.han.ContextHandler] (pool-2-thread-1) Started o.e.j.s.ServletContextHandler@64f54045{/__admin,null,AVAILABLE}\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,848 INFO  [org.ecl.jet.ser.han.Con.ROOT] (pool-2-thread-1) RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned &#39;null&#39;\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,856 INFO  [org.ecl.jet.ser.han.ContextHandler] (pool-2-thread-1) Started o.e.j.s.ServletContextHandler@5e9f3de4{/,null,AVAILABLE}\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,876 INFO  [org.ecl.jet.ser.AbstractConnector] (pool-2-thread-1) Started NetworkTrafficServerConnector@161ff9e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:9701}\r\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,877 INFO  [org.ecl.jet.ser.Server] (pool-2-thread-1) Started @30367ms\r\n...\r\n[2022-12-19T08:55:16.123Z]     2022-12-19 08:55:15,908 INFO  [&#128051; .5]] (agroal-11) Creating container for image: postgres:14.5\r\n[2022-12-19T08:55:16.423Z]     2022-12-19 08:55:16,106 INFO  [&#128051; .5]] (agroal-11) Container postgres:14.5 is starting: 3225b3d78588be4297362f627043c39b27ddf5b1dd71438e153b2b5b4d07fc29\r\n[2022-12-19T08:55:21.997Z]     2022-12-19 08:55:20,933 ERROR [&#128051; .5]] (agroal-11) Could not start container: java.lang.RuntimeException: java.lang.InterruptedException\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.output.WaitingConsumer.waitUntil(WaitingConsumer.java:105)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.output.WaitingConsumer.waitUntil(WaitingConsumer.java:78)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy.waitUntilReady(LogMessageWaitStrategy.java:45)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.wait.strategy.AbstractWaitStrategy.waitUntilReady(AbstractWaitStrategy.java:52)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.PostgreSQLContainer.waitUntilContainerStarted(PostgreSQLContainer.java:143)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:485)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n[2022-12-19T08:55:21.997Z]     \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.jdbc.ContainerDatabaseDriver.connect(ContainerDatabaseDriver.java:124)\r\n[2022-12-19T08:55:21.997Z]     \tat io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:226)\r\n[2022-12-19T08:55:21.997Z]     \tat io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:535)\r\n[2022-12-19T08:55:21.997Z]     \tat io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:516)\r\n[2022-12-19T08:55:21.997Z]     \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n[2022-12-19T08:55:21.997Z]     \tat io.agroal.pool.util.PriorityScheduledExecutor.beforeExecute(PriorityScheduledExecutor.java:75)\r\n[2022-12-19T08:55:21.997Z]     \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n[2022-12-19T08:55:21.997Z]     \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n[2022-12-19T08:55:21.997Z]     \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[2022-12-19T08:55:21.997Z]     Caused by: java.lang.InterruptedException\r\n[2022-12-19T08:55:21.997Z]     \tat java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1679)\r\n[2022-12-19T08:55:21.997Z]     \tat java.base/java.util.concurrent.LinkedBlockingDeque.pollLast(LinkedBlockingDeque.java:533)\r\n[2022-12-19T08:55:21.997Z]     \tat org.testcontainers.containers.output.WaitingConsumer.waitUntil(WaitingConsumer.java:85)\r\n[2022-12-19T08:55:21.997Z]     \t... 18 more\r\n```","title":"testContainers Initialization Error with java.lang.InterruptedException","body":"<p>I am having this error running Quarkus tests with docker-compose, upgrading from Quarkus 2.4.0 to Quarkus 2.15.0, not sure why it is happening, but if anybody can shed some light it will be helpful.</p>\n<p>It happens running integration tests, it sounds like it is timing out, so I tried to put a higher timeout value</p>\n<pre><code>quarkus.devservices.timeout=180\n</code></pre>\n<p>but it did not work either.</p>\n<pre><code>[2022-12-19T08:55:14.576Z] &gt; Task :score-integrationtest:test\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,293 WARN  [org.ecl.jet.ser.AbstractConnector] (pool-2-thread-1) Acceptors should be &lt;= availableProcessors: NetworkTrafficServerConnector@161ff9e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:0}\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,720 INFO  [org.ecl.jet.ser.Server] (pool-2-thread-1) jetty-9.4.49.v20220914; built: 2022-09-14T01:07:36.601Z; git: 4231a3b2e4cb8548a412a789936d640a97b1aa0a; jvm 17.0.1+12-LTS\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,803 INFO  [org.ecl.jet.ser.han.ContextHandler] (pool-2-thread-1) Started o.e.j.s.ServletContextHandler@64f54045{/__admin,null,AVAILABLE}\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,848 INFO  [org.ecl.jet.ser.han.Con.ROOT] (pool-2-thread-1) RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,856 INFO  [org.ecl.jet.ser.han.ContextHandler] (pool-2-thread-1) Started o.e.j.s.ServletContextHandler@5e9f3de4{/,null,AVAILABLE}\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,876 INFO  [org.ecl.jet.ser.AbstractConnector] (pool-2-thread-1) Started NetworkTrafficServerConnector@161ff9e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:9701}\n[2022-12-19T08:55:14.576Z]     2022-12-19 08:55:12,877 INFO  [org.ecl.jet.ser.Server] (pool-2-thread-1) Started @30367ms\n...\n[2022-12-19T08:55:16.123Z]     2022-12-19 08:55:15,908 INFO  [🐳 .5]] (agroal-11) Creating container for image: postgres:14.5\n[2022-12-19T08:55:16.423Z]     2022-12-19 08:55:16,106 INFO  [🐳 .5]] (agroal-11) Container postgres:14.5 is starting: 3225b3d78588be4297362f627043c39b27ddf5b1dd71438e153b2b5b4d07fc29\n[2022-12-19T08:55:21.997Z]     2022-12-19 08:55:20,933 ERROR [🐳 .5]] (agroal-11) Could not start container: java.lang.RuntimeException: java.lang.InterruptedException\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.output.WaitingConsumer.waitUntil(WaitingConsumer.java:105)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.output.WaitingConsumer.waitUntil(WaitingConsumer.java:78)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy.waitUntilReady(LogMessageWaitStrategy.java:45)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.wait.strategy.AbstractWaitStrategy.waitUntilReady(AbstractWaitStrategy.java:52)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.PostgreSQLContainer.waitUntilContainerStarted(PostgreSQLContainer.java:143)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:485)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n[2022-12-19T08:55:21.997Z]      at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.jdbc.ContainerDatabaseDriver.connect(ContainerDatabaseDriver.java:124)\n[2022-12-19T08:55:21.997Z]      at io.agroal.pool.ConnectionFactory.createConnection(ConnectionFactory.java:226)\n[2022-12-19T08:55:21.997Z]      at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:535)\n[2022-12-19T08:55:21.997Z]      at io.agroal.pool.ConnectionPool$CreateConnectionTask.call(ConnectionPool.java:516)\n[2022-12-19T08:55:21.997Z]      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n[2022-12-19T08:55:21.997Z]      at io.agroal.pool.util.PriorityScheduledExecutor.beforeExecute(PriorityScheduledExecutor.java:75)\n[2022-12-19T08:55:21.997Z]      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\n[2022-12-19T08:55:21.997Z]      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n[2022-12-19T08:55:21.997Z]      at java.base/java.lang.Thread.run(Thread.java:833)\n[2022-12-19T08:55:21.997Z]     Caused by: java.lang.InterruptedException\n[2022-12-19T08:55:21.997Z]      at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1679)\n[2022-12-19T08:55:21.997Z]      at java.base/java.util.concurrent.LinkedBlockingDeque.pollLast(LinkedBlockingDeque.java:533)\n[2022-12-19T08:55:21.997Z]      at org.testcontainers.containers.output.WaitingConsumer.waitUntil(WaitingConsumer.java:85)\n[2022-12-19T08:55:21.997Z]      ... 18 more\n</code></pre>\n"},{"tags":["java","spring-boot","rest","http-headers"],"answers":[{"tags":[],"owner":{"account_id":27264556,"reputation":1,"user_id":20786832,"display_name":"ernest.ojakol"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671524504,"creation_date":1671205806,"answer_id":74826776,"question_id":74815767,"body_markdown":"```\r\nheaders.set(&quot;X-Original Signer&quot;, &quot;signer&quot;);\r\n```\r\n\r\nThe space in the request header was the problem.","title":"Bad Message 400 || reason: Illegal character SPACE=&#39; &#39;","body":"<pre><code>headers.set(&quot;X-Original Signer&quot;, &quot;signer&quot;);\n</code></pre>\n<p>The space in the request header was the problem.</p>\n"}],"owner":{"account_id":27264556,"reputation":1,"user_id":20786832,"display_name":"ernest.ojakol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671524504,"creation_date":1671127427,"question_id":74815767,"body_markdown":"I keep getting this error when I send a request using Resttemplate in springboot. Anyone out there please advise. Bad Message 400 || reason: Illegal character SPACE=&#39; &#39;. See the code below.\r\n\r\nRequesT\r\n\r\n\r\n```\r\nheaders.set(&quot;Content-Type&quot;, &quot;text/xml;charset=utf-8&quot;);\r\nheaders.setBasicAuth(&quot;XXXX&quot;, &quot;YYYY&quot;);\r\nheaders.set(&quot;X-Original Signer&quot;, &quot;signer&quot;);\r\nheaders.set(&quot;X-Signature&quot;,&quot;signature&quot;);\r\nHttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(request, headers);\r\n\r\n        try{\r\n            String fetch=restTemplate.postForObject(url, entity, String.class);            \r\n            return new ResponseEntity&lt;&gt;(fetch, HttpStatus.OK);\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.OK);\r\n        }\r\n```\r\n\r\n\r\nResttemplate Config\r\n\r\n```\r\n @Bean\r\n    public RestTemplate restTemplate() throws Exception{\r\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n\r\n        SSLContext sslContext = new SSLContextBuilder().loadTrustMaterial(trustStore.getURL(), trustStorePassword.toCharArray(), acceptingTrustStrategy)\r\n        .loadKeyMaterial(keystore.getURL(), keystorePassword.toCharArray(), keystorePassword.toCharArray()).build();\r\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, new LocalHostnameVerifier());\r\n        HttpClient httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\r\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n    \r\n        return new RestTemplate(factory);\r\n    }\r\n\r\n        private class LocalHostnameVerifier implements HostnameVerifier {\r\n\r\n            @Override\r\n            public boolean verify(String hostname, SSLSession session) {\r\n                // TODO Auto-generated method stub\r\n                return &quot;127.0.0.1&quot;.equals(hostname);\r\n            }\r\n            \r\n        }\r\n```\r\n\r\n\r\n\r\nExpecting to Receive a Response from the API but it doesn&#39;t seem like i can get through to the API. please assist","title":"Bad Message 400 || reason: Illegal character SPACE=&#39; &#39;","body":"<p>I keep getting this error when I send a request using Resttemplate in springboot. Anyone out there please advise. Bad Message 400 || reason: Illegal character SPACE=' '. See the code below.</p>\n<p>RequesT</p>\n<pre><code>headers.set(&quot;Content-Type&quot;, &quot;text/xml;charset=utf-8&quot;);\nheaders.setBasicAuth(&quot;XXXX&quot;, &quot;YYYY&quot;);\nheaders.set(&quot;X-Original Signer&quot;, &quot;signer&quot;);\nheaders.set(&quot;X-Signature&quot;,&quot;signature&quot;);\nHttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(request, headers);\n\n        try{\n            String fetch=restTemplate.postForObject(url, entity, String.class);            \n            return new ResponseEntity&lt;&gt;(fetch, HttpStatus.OK);\n        } catch(Exception e){\n            e.printStackTrace();\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.OK);\n        }\n</code></pre>\n<p>Resttemplate Config</p>\n<pre><code> @Bean\n    public RestTemplate restTemplate() throws Exception{\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n        SSLContext sslContext = new SSLContextBuilder().loadTrustMaterial(trustStore.getURL(), trustStorePassword.toCharArray(), acceptingTrustStrategy)\n        .loadKeyMaterial(keystore.getURL(), keystorePassword.toCharArray(), keystorePassword.toCharArray()).build();\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, new LocalHostnameVerifier());\n        HttpClient httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory(httpClient);\n    \n        return new RestTemplate(factory);\n    }\n\n        private class LocalHostnameVerifier implements HostnameVerifier {\n\n            @Override\n            public boolean verify(String hostname, SSLSession session) {\n                // TODO Auto-generated method stub\n                return &quot;127.0.0.1&quot;.equals(hostname);\n            }\n            \n        }\n</code></pre>\n<p>Expecting to Receive a Response from the API but it doesn't seem like i can get through to the API. please assist</p>\n"},{"tags":["java","spring","hibernate","rest","http-status-code-504"],"answers":[{"comments":[{"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"score":0,"creation_date":1671525829,"post_id":74860132,"comment_id":132112607,"body_markdown":"Hi!\nI understand what is the meaning of the exception. but there is no system in &quot;middle&quot; between backend and db. the execution is fine, no errors during execution, response is returned and then this error pops up. backend timeout configuration is increased also.","body":"Hi! I understand what is the meaning of the exception. but there is no system in &quot;middle&quot; between backend and db. the execution is fine, no errors during execution, response is returned and then this error pops up. backend timeout configuration is increased also."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1671527351,"post_id":74860132,"comment_id":132113063,"body_markdown":"@Jessi your backend timeout configuration should not be related with this issue. Maybe there is a system in middle between client and server, maybe a proxy server","body":"@Jessi your backend timeout configuration should not be related with this issue. Maybe there is a system in middle between client and server, maybe a proxy server"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671524493,"creation_date":1671523974,"answer_id":74860132,"question_id":74860088,"body_markdown":"    org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\r\nThe above line of your exception means the client made a request to the server, but probably before the server could produce the response, send it back and close the connection, the client for some reason decided to close the connection himself.\r\n\r\nTherefore the server understands that the connection is not anymore open and hence the error saying Broken pipe, meaning the server can&#39;t transmit the data any more even if the response is ready.\r\n\r\nOne case where this would be possible to happen often is if the client was some system with some timeout configuration which outmatched the server response time. ","title":"why getting 504 response code after method terminates successfully?","body":"<pre><code>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n</code></pre>\n<p>The above line of your exception means the client made a request to the server, but probably before the server could produce the response, send it back and close the connection, the client for some reason decided to close the connection himself.</p>\n<p>Therefore the server understands that the connection is not anymore open and hence the error saying Broken pipe, meaning the server can't transmit the data any more even if the response is ready.</p>\n<p>One case where this would be possible to happen often is if the client was some system with some timeout configuration which outmatched the server response time.</p>\n"}],"owner":{"account_id":19362396,"reputation":79,"user_id":14157410,"display_name":"Jessi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671524493,"creation_date":1671523682,"question_id":74860088,"body_markdown":"I&#39;m working on a Java app using spring(v4.3.13.RELEASE), spring-boot(v1.5.9.RELEASE) and Hibernate(5.4.12.Final).\r\nalso using postgres(not sure its version) as db.\r\n\r\nI have a problem, when this backend app gets a REST call, it executing a big method, that first is querying postgres to get all user data. sometimes it can be a lot of data returned, represented by hibernate objects.\r\nThen, this method is performing some logic on this data and save it to the db.\r\nso far so good.\r\n\r\nI have a user that when I get request from, it seems that everything is working well,\r\nlogs are printed as usual, no errors during the method execution, then result is returned as normal and after then an exception is raise in the app - \r\n\r\n```java.io.IOException: Broken pipe``` (full stackTrace is below)\r\n\r\nso the response returned is failure with status code 504 (instead of &#39;success&#39; with code 200).\r\n\r\nIt happens also when only reading data from db and not writing to it.\r\nall code blocks that are reading/writing to db are surrounded by try/catch blocks.\r\n\r\nI don&#39;t know what is causing this error since it seems that method execution is terminated successfully and no errors pops up during execution and execution time is also fine (approximately 5 min).\r\nI tried to increase hibernate default db transactions timeout in my app (was 10 min and i changed it to 1.5 hours!) but it doesn&#39;t seems to help because method execution is terminating successfully.\r\n\r\nany thoughts and help would be appreciated!!!! \r\n\r\n```\r\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:356)\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:815)\r\n\tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:720)\r\n\tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:391)\r\n\tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:369)\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\r\n\tat com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:2039)\r\n\tat com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1051)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:953)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:286)\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:231)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:174)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:81)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:113)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:380)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:59)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:136)\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:76)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1222)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1034)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat io.micrometer.spring.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:107)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: Broken pipe\r\n\tat sun.nio.ch.FileDispatcherImpl.write0(Native Method)\r\n\tat sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)\r\n\tat sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)\r\n\tat sun.nio.ch.IOUtil.write(IOUtil.java:65)\r\n\tat sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:468)\r\n\tat org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)\r\n\tat org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)\r\n\tat org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1267)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:450)\r\n\tat org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:388)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:644)\r\n\tat org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:121)\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:235)\r\n\tat org.apache.coyote.Response.doWrite(Response.java:541)\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:351)\r\n\t... 83 common frames omitted```","title":"why getting 504 response code after method terminates successfully?","body":"<p>I'm working on a Java app using spring(v4.3.13.RELEASE), spring-boot(v1.5.9.RELEASE) and Hibernate(5.4.12.Final).\nalso using postgres(not sure its version) as db.</p>\n<p>I have a problem, when this backend app gets a REST call, it executing a big method, that first is querying postgres to get all user data. sometimes it can be a lot of data returned, represented by hibernate objects.\nThen, this method is performing some logic on this data and save it to the db.\nso far so good.</p>\n<p>I have a user that when I get request from, it seems that everything is working well,\nlogs are printed as usual, no errors during the method execution, then result is returned as normal and after then an exception is raise in the app -</p>\n<p><code>java.io.IOException: Broken pipe</code> (full stackTrace is below)</p>\n<p>so the response returned is failure with status code 504 (instead of 'success' with code 200).</p>\n<p>It happens also when only reading data from db and not writing to it.\nall code blocks that are reading/writing to db are surrounded by try/catch blocks.</p>\n<p>I don't know what is causing this error since it seems that method execution is terminated successfully and no errors pops up during execution and execution time is also fine (approximately 5 min).\nI tried to increase hibernate default db transactions timeout in my app (was 10 min and i changed it to 1.5 hours!) but it doesn't seems to help because method execution is terminating successfully.</p>\n<p>any thoughts and help would be appreciated!!!!</p>\n<pre><code>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:356)\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:815)\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:720)\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:391)\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:369)\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:2039)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1051)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:953)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:286)\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:231)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:174)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:81)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:113)\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:380)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:59)\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:136)\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:76)\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1222)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1034)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at io.micrometer.spring.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:107)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: Broken pipe\n    at sun.nio.ch.FileDispatcherImpl.write0(Native Method)\n    at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)\n    at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93)\n    at sun.nio.ch.IOUtil.write(IOUtil.java:65)\n    at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:468)\n    at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:134)\n    at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)\n    at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:157)\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1267)\n    at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:670)\n    at org.apache.tomcat.util.net.SocketWrapperBase.writeBlocking(SocketWrapperBase.java:450)\n    at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:388)\n    at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:644)\n    at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:121)\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:235)\n    at org.apache.coyote.Response.doWrite(Response.java:541)\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:351)\n    ... 83 common frames omitted```\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":1,"creation_date":1671509388,"post_id":74858411,"comment_id":132109436,"body_markdown":"consider looking at https://stackoverflow.com/help/how-to-ask and add your code as well","body":"consider looking at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and add your code as well"}],"answers":[{"comments":[{"owner":{"account_id":27303340,"reputation":1,"user_id":20819695,"display_name":"May"},"score":0,"creation_date":1671513773,"post_id":74858518,"comment_id":132110015,"body_markdown":"Sir,it doesnt work.","body":"Sir,it doesnt work."},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1671515037,"post_id":74858518,"comment_id":132110183,"body_markdown":"Is it causing error?, can you show me?","body":"Is it causing error?, can you show me?"},{"owner":{"account_id":27303340,"reputation":1,"user_id":20819695,"display_name":"May"},"score":0,"creation_date":1671521052,"post_id":74858518,"comment_id":132111332,"body_markdown":"Sir,it doesnt change selected item background color when dropdown popup","body":"Sir,it doesnt change selected item background color when dropdown popup"},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1671523447,"post_id":74858518,"comment_id":132111894,"body_markdown":"Updated whole code,, have a look","body":"Updated whole code,, have a look"},{"owner":{"account_id":27303340,"reputation":1,"user_id":20819695,"display_name":"May"},"score":0,"creation_date":1671523857,"post_id":74858518,"comment_id":132111986,"body_markdown":"Sir i am getting error at style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;","body":"Sir i am getting error at style=&quot;@style/Widget.MaterialComponents.TextInputLayout.Outl&zwnj;&#8203;inedBox.ExposedDropd&zwnj;&#8203;ownMenu&quot;"},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1671528024,"post_id":74858518,"comment_id":132113251,"body_markdown":"implementation &#39;com.google.android.material:material:1.7.0&#39;","body":"implementation &#39;com.google.android.material:material:1.7.0&#39;"},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1671528053,"post_id":74858518,"comment_id":132113260,"body_markdown":"add this dependency in you `build.gradle (app)`","body":"add this dependency in you <code>build.gradle (app)</code>"}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671523432,"creation_date":1671510295,"answer_id":74858518,"question_id":74858411,"body_markdown":"Your main layout\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;16dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/autoCompleteTextView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:inputType=&quot;none&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;LabelFor&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\nCreate an `drop_down_style.xml` layout in your resources. Add following view...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/drop_down_text&quot;\r\n        style=&quot;?android:attr/dropDownItemStyle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#C0C000&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:padding=&quot;5dp&quot; /&gt;\r\n\r\nUpdate your `ArrayAdapter` as following\r\n\r\n    List&lt;String&gt; dataList = new ArrayList&lt;&gt;();\r\n    dataList.add(&quot;1&quot;);\r\n    dataList.add(&quot;2&quot;);\r\n    dataList.add(&quot;3&quot;);\r\n    dataList.add(&quot;4&quot;);\r\n\r\n\r\n    AutoCompleteTextView view = findViewById(R.id.autoCompleteTextView);\r\n    ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;&gt;(this, R.layout.drop_down_style, R.id.drop_down_text, dataList);\r\n    view.setAdapter(myAdapter);\r\n","title":"Autocomplete textview android","body":"<p>Your main layout</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;16dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/autoCompleteTextView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:inputType=&quot;none&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;LabelFor&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>Create an <code>drop_down_style.xml</code> layout in your resources. Add following view...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/drop_down_text&quot;\n    style=&quot;?android:attr/dropDownItemStyle&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#C0C000&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;5dp&quot; /&gt;\n</code></pre>\n<p>Update your <code>ArrayAdapter</code> as following</p>\n<pre><code>List&lt;String&gt; dataList = new ArrayList&lt;&gt;();\ndataList.add(&quot;1&quot;);\ndataList.add(&quot;2&quot;);\ndataList.add(&quot;3&quot;);\ndataList.add(&quot;4&quot;);\n\n\nAutoCompleteTextView view = findViewById(R.id.autoCompleteTextView);\nArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;&gt;(this, R.layout.drop_down_style, R.id.drop_down_text, dataList);\nview.setAdapter(myAdapter);\n</code></pre>\n"}],"owner":{"account_id":27303340,"reputation":1,"user_id":20819695,"display_name":"May"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671524086,"creation_date":1671508866,"question_id":74858411,"body_markdown":"I am new to android developer.I want to know it is possible to set the selected item’s background of autocomplete text view drop-down menu.I try so many ways but the color change only when click.I can’t use spinner can use only autocomplete textview for school project. Below is example photo.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen drop-down pop up I want selected item with background color.please help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KXHGE.png","title":"Autocomplete textview android","body":"<p>I am new to android developer.I want to know it is possible to set the selected item’s background of autocomplete text view drop-down menu.I try so many ways but the color change only when click.I can’t use spinner can use only autocomplete textview for school project. Below is example photo.</p>\n<p><a href=\"https://i.stack.imgur.com/KXHGE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXHGE.png\" alt=\"enter image description here\" /></a></p>\n<p>When drop-down pop up I want selected item with background color.please help!</p>\n"},{"tags":["java","selenium","jenkins"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1671527474,"post_id":74860113,"comment_id":132113095,"body_markdown":"Could you share the correspondig selenium test code?","body":"Could you share the correspondig selenium test code?"}],"owner":{"account_id":2202328,"reputation":71,"user_id":1946430,"display_name":"Shazin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671523856,"creation_date":1671523856,"question_id":74860113,"body_markdown":"Recently I&#39;ve encountered error with assertions comparing strings having quotation marks. The marks are not being recongnized and replaced with question marks.\r\nThis happens only when running tests on Jenkins. \r\nProject encoding is UTF-8, the same is in ```maven-plugin-compiler```.\r\nCurrently my workaround is to replace these marks, but doing it wherever they appear is not something I would be proud of. \r\nHas anyone have any idea how to deal with it?\r\n\r\n[![Execution Logs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i6JmN.png","title":"Decode string with quotation marks Jenkins","body":"<p>Recently I've encountered error with assertions comparing strings having quotation marks. The marks are not being recongnized and replaced with question marks.\nThis happens only when running tests on Jenkins.\nProject encoding is UTF-8, the same is in <code>maven-plugin-compiler</code>.\nCurrently my workaround is to replace these marks, but doing it wherever they appear is not something I would be proud of.\nHas anyone have any idea how to deal with it?</p>\n<p><a href=\"https://i.stack.imgur.com/i6JmN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6JmN.png\" alt=\"Execution Logs\" /></a></p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1616499285,"post_id":66758269,"comment_id":118015424,"body_markdown":"Apart from the `javax.*` -&gt; `jakarta.*` namespace migration, Tomcat 10 has very few changes from Tomcat 9 (cf. [Tomcat 10 changelog](https://tomcat.apache.org/tomcat-10.0-doc/changelog.html) and [Tomcat 9 changelog](https://tomcat.apache.org/tomcat-9.0-doc/changelog.html)): most changes are backported to Tomcat 9 and this includes **all** security vulnerabilities.","body":"Apart from the <code>javax.*</code> -&gt; <code>jakarta.*</code> namespace migration, Tomcat 10 has very few changes from Tomcat 9 (cf. <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/changelog.html\" rel=\"nofollow noreferrer\">Tomcat 10 changelog</a> and <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/changelog.html\" rel=\"nofollow noreferrer\">Tomcat 9 changelog</a>): most changes are backported to Tomcat 9 and this includes <b>all</b> security vulnerabilities."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1616516655,"post_id":66758269,"comment_id":118024415,"body_markdown":"we don&#39;t know how your app has embedded tomcat, so we can&#39;t tell how to update it, either.","body":"we don&#39;t know how your app has embedded tomcat, so we can&#39;t tell how to update it, either."}],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1616482521,"post_id":66758449,"comment_id":118008659,"body_markdown":"I agree on the conclusion: Tomcat 7 was supported for 10 years. Since Tomcat 10 introduces a breaking change, Tomcat 9 will probably be supported well beyond 2030.","body":"I agree on the conclusion: Tomcat 7 was supported for 10 years. Since Tomcat 10 introduces a breaking change, Tomcat 9 will probably be supported well beyond 2030."},{"owner":{"account_id":12236495,"reputation":2250,"user_id":8930751,"accept_rate":78,"display_name":"CrazyCoder"},"score":0,"creation_date":1616485799,"post_id":66758449,"comment_id":118009759,"body_markdown":"Thanks a lot for your reply. We have a internal quality tool which scans different projects and then only it gets deployed Based on the scan recommendations we have to change or update he code. Then only it gets deployed. This is implemented across entire company. So there is no way I can bypass this. I have to update it to 10.0.4. So can you tell me how can it be done? Thanks.","body":"Thanks a lot for your reply. We have a internal quality tool which scans different projects and then only it gets deployed Based on the scan recommendations we have to change or update he code. Then only it gets deployed. This is implemented across entire company. So there is no way I can bypass this. I have to update it to 10.0.4. So can you tell me how can it be done? Thanks."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1616516755,"post_id":66758449,"comment_id":118024467,"body_markdown":"@CrazyCoder I already did tell you: Change all occurrences of the `javax.*` package names referring to Tomcat’s Servlet/JSP/etc. technologies. Read the Tomcat documentation I linked. Explore their migration tool to see if that might help.","body":"@CrazyCoder I already did tell you: Change all occurrences of the <code>javax.*</code> package names referring to Tomcat’s Servlet/JSP/etc. technologies. Read the Tomcat documentation I linked. Explore their migration tool to see if that might help."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1671523697,"creation_date":1616482074,"answer_id":66758449,"question_id":66758269,"body_markdown":"# Tomcat 9 &amp; 10 are equivalent products\r\n\r\n[Apache Tomcat][1] 9 and 10 are equivalent products. The only difference is support for changes for the package names in the Jakarta Servlet and related technologies from `javax.*` to `jakarta.*`. \r\n\r\nThis package name change is for legal reasons involved in the transfer of responsibility for [Jakarta EE][2] (formerly Java EE) technologies from [Oracle Corp][3] to the [Eclipse Foundation][4].\r\n\r\nFor more info, read [*Understanding Jakarta EE 9*](https://www.eclipse.org/community/eclipse_newsletter/2020/november/1.php).\r\n\r\nTo quote [the documentation][5]:\r\n\r\n&gt;Users of Tomcat 10 onwards should be aware that, as a result of the move from Java EE to Jakarta EE as part of the transfer of Java EE to the Eclipse Foundation, the primary package for all implemented APIs has changed from javax.* to jakarta.*. This will almost certainly require code changes to enable applications to migrate from Tomcat 9 and earlier to Tomcat 10 and later. A migration tool is under development to aid this process.\r\n\r\n# Move to the latest 9 rather than 10\r\n\r\nTomcat 9 and 10 track the same development changes. If your goal is simply to gain some security fixes, as far as I know you&#39;ll get the same fixes in both 9 and 10. Do not take my word for this, just study the Tomcat Release Notes.\r\n\r\nSo for the fastest easiest migration path, just upgrade to the latest 9 instead of 10. The current latest version of 9 is 9.0.44. \r\n\r\n\r\n# Stick with Tomcat 10\r\n\r\nAlternatively, if you want to proceed with using Tomcat 10, change the `import` statements across your code base to use `jakarta.*` in place of `javax.*`. \r\n\r\nIDEs such as IntelliJ have added features to assist in this migration chore. \r\n\r\nAnd you’ll need to update any third-party libraries using `javax.*`  to new versions using `jakarta.*`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Tomcat\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [3]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [4]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [5]: https://tomcat.apache.org/download-10.cgi","title":"How to update Apache Tomcat Embed from 9.0.35 to 10.0.4 in Java application","body":"<h1>Tomcat 9 &amp; 10 are equivalent products</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Apache Tomcat</a> 9 and 10 are equivalent products. The only difference is support for changes for the package names in the Jakarta Servlet and related technologies from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<p>This package name change is for legal reasons involved in the transfer of responsibility for <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> (formerly Java EE) technologies from <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle Corp</a> to the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>.</p>\n<p>For more info, read <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2020/november/1.php\" rel=\"nofollow noreferrer\"><em>Understanding Jakarta EE 9</em></a>.</p>\n<p>To quote <a href=\"https://tomcat.apache.org/download-10.cgi\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Users of Tomcat 10 onwards should be aware that, as a result of the move from Java EE to Jakarta EE as part of the transfer of Java EE to the Eclipse Foundation, the primary package for all implemented APIs has changed from javax.* to jakarta.*. This will almost certainly require code changes to enable applications to migrate from Tomcat 9 and earlier to Tomcat 10 and later. A migration tool is under development to aid this process.</p>\n</blockquote>\n<h1>Move to the latest 9 rather than 10</h1>\n<p>Tomcat 9 and 10 track the same development changes. If your goal is simply to gain some security fixes, as far as I know you'll get the same fixes in both 9 and 10. Do not take my word for this, just study the Tomcat Release Notes.</p>\n<p>So for the fastest easiest migration path, just upgrade to the latest 9 instead of 10. The current latest version of 9 is 9.0.44.</p>\n<h1>Stick with Tomcat 10</h1>\n<p>Alternatively, if you want to proceed with using Tomcat 10, change the <code>import</code> statements across your code base to use <code>jakarta.*</code> in place of <code>javax.*</code>.</p>\n<p>IDEs such as IntelliJ have added features to assist in this migration chore.</p>\n<p>And you’ll need to update any third-party libraries using <code>javax.*</code>  to new versions using <code>jakarta.*</code>.</p>\n"}],"owner":{"account_id":12236495,"reputation":2250,"user_id":8930751,"accept_rate":78,"display_name":"CrazyCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14173,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1671523697,"creation_date":1616481069,"question_id":66758269,"body_markdown":"I have a Java application which shows Apache Tomcat Embed as 9.0.35 version. I need to update this to 10.0.4. I&#39;m very new to Java and have very minimal knowledge on it. This upgrade is needed to resolve some vulnerabilities with in the application.\r\n\r\nHow can I do this from IntelliJ IDE?\r\n","title":"How to update Apache Tomcat Embed from 9.0.35 to 10.0.4 in Java application","body":"<p>I have a Java application which shows Apache Tomcat Embed as 9.0.35 version. I need to update this to 10.0.4. I'm very new to Java and have very minimal knowledge on it. This upgrade is needed to resolve some vulnerabilities with in the application.</p>\n<p>How can I do this from IntelliJ IDE?</p>\n"},{"tags":["java","firebase","android-studio","firebase-cloud-messaging"],"owner":{"account_id":27305116,"reputation":1,"user_id":20821227,"display_name":"xplorer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671523609,"creation_date":1671523609,"question_id":74860072,"body_markdown":"I am calling a php script to send notification, all the tokens are in the db and I retrieve them.\r\nIf the image is null the \r\n\r\n```\r\nshowSmallNotification\r\n```\r\nwill be executed which does not include an image but all I get is this error.\r\nD/skia: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\nI tried and searched for it but the other examples were not and so helpful\r\n\r\nThis is the php code\r\n\r\n```\r\n&lt;?php \r\n//importing required files \r\nrequire_once &#39;DbOperation.php&#39;;\r\nrequire_once &#39;Firebase.php&#39;;\r\nrequire_once &#39;Push.php&#39;; \r\n\r\n$db = new DbOperation();\r\n\r\n$response = array(); \r\n$_SERVER[&#39;REQUEST_METHOD&#39;]=&#39;POST&#39;;\r\n$_POST[&#39;title&#39;]=&quot;hi&quot;;\r\n$_POST[&#39;message&#39;]=&quot;wegweg&quot;;\r\n$_POST[&#39;email&#39;]=&quot;test@test.com&quot;;\r\nif($_SERVER[&#39;REQUEST_METHOD&#39;]==&#39;POST&#39;){\t\r\n\t//hecking the required params \r\n\tif(isset($_POST[&#39;title&#39;]) and isset($_POST[&#39;message&#39;]) and isset($_POST[&#39;email&#39;])){\r\n\r\n\t\t//creating a new push\r\n\t\t$push = null; \r\n\t\t//first check if the push has an image with it\r\n\t\tif(isset($_POST[&#39;image&#39;])){\r\n\t\t\t$push = new Push(\r\n\t\t\t\t\t$_POST[&#39;title&#39;],\r\n\t\t\t\t\t$_POST[&#39;message&#39;],\r\n\t\t\t\t\t$_POST[&#39;image&#39;]\r\n\t\t\t\t);\r\n\t\t}else{\r\n\t\t\t//if the push don&#39;t have an image give null in place of image\r\n\t\t\t$push = new Push(\r\n\t\t\t\t\t$_POST[&#39;title&#39;],\r\n\t\t\t\t\t$_POST[&#39;message&#39;],\r\n\t\t\t\t\tnull\r\n\t\t\t\t);\r\n\t\t}\r\n\r\n\t\t//getting the push from push object\r\n\t\t$mPushNotification = $push-&gt;getPush(); \r\n\r\n\t\t//getting the token from database object \r\n\t\t$devicetoken = $db-&gt;getTokenByEmail($_POST[&#39;email&#39;]);\r\n\r\n\t\t//creating firebase class object \r\n\t\t$firebase = new Firebase(); \r\n\r\n\t\t//sending push notification and displaying result \r\n\t\techo $firebase-&gt;send($devicetoken, $mPushNotification);\r\n\t}else{\r\n\t\t$response[&#39;error&#39;]=true;\r\n\t\t$response[&#39;message&#39;]=&#39;Parameters missing&#39;;\r\n\t}\r\n}else{\r\n\t$response[&#39;error&#39;]=true;\r\n\t$response[&#39;message&#39;]=&#39;Invalid request&#39;;\r\n}\r\n\r\necho json_encode($response);\r\n```\r\nThis is the java code but I get the below error\r\n```\r\n\r\npackage com.example.notif3;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\n\r\nimport android.text.Html;\r\n\r\nimport androidx.core.app.NotificationCompat;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\n\r\npublic class MyNotificationManager {\r\n\r\n    public static final int ID_BIG_NOTIFICATION = 234;\r\n    public static final int ID_SMALL_NOTIFICATION = 235;\r\n\r\n    private Context mCtx;\r\n\r\n    public MyNotificationManager(Context mCtx) {\r\n        this.mCtx = mCtx;\r\n    }\r\n\r\n    //the method will show a big notification with an image\r\n    //parameters are title for message title, message for message text, url of the big image and an intent that will open\r\n    //when you will tap on the notification\r\n    public void showBigNotification(String title, String message, String url, Intent intent) {\r\n        PendingIntent resultPendingIntent =\r\n                PendingIntent.getActivity(\r\n                        mCtx,\r\n                        ID_BIG_NOTIFICATION,\r\n                        intent,\r\n                        PendingIntent.FLAG_UPDATE_CURRENT\r\n                );\r\n        NotificationCompat.BigPictureStyle bigPictureStyle = new NotificationCompat.BigPictureStyle();\r\n        bigPictureStyle.setBigContentTitle(title);\r\n        bigPictureStyle.setSummaryText(Html.fromHtml(message).toString());\r\n        bigPictureStyle.bigPicture(getBitmapFromURL(url));\r\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(mCtx);\r\n        Notification notification;\r\n        notification = mBuilder.setSmallIcon(R.mipmap.ic_launcher).setTicker(title).setWhen(0)\r\n                .setAutoCancel(true)\r\n                .setContentIntent(resultPendingIntent)\r\n                .setContentTitle(title)\r\n                .setStyle(bigPictureStyle)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setLargeIcon(BitmapFactory.decodeResource(mCtx.getResources(), R.mipmap.ic_launcher))\r\n                .setContentText(message)\r\n                .build();\r\n\r\n        notification.flags |= Notification.FLAG_AUTO_CANCEL;\r\n\r\n        NotificationManager notificationManager = (NotificationManager) mCtx.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.notify(ID_BIG_NOTIFICATION, notification);\r\n    }\r\n\r\n    //the method will show a small notification\r\n    //parameters are title for message title, message for message text and an intent that will open\r\n    //when you will tap on the notification\r\n    public void showSmallNotification(String title, String message, Intent intent) {\r\n        PendingIntent resultPendingIntent =\r\n                PendingIntent.getActivity(\r\n                        mCtx,\r\n                        ID_SMALL_NOTIFICATION,\r\n                        intent,\r\n                        PendingIntent.FLAG_UPDATE_CURRENT\r\n                );\r\n\r\n\r\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(mCtx);\r\n        Notification notification;\r\n        notification = mBuilder.setSmallIcon(R.mipmap.ic_launcher).setTicker(title).setWhen(0)\r\n                .setAutoCancel(true)\r\n                .setContentIntent(resultPendingIntent)\r\n                .setContentTitle(title)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setLargeIcon(BitmapFactory.decodeResource(mCtx.getResources(), R.mipmap.ic_launcher))\r\n                .setContentText(message)\r\n                .build();\r\n\r\n        notification.flags |= Notification.FLAG_AUTO_CANCEL;\r\n\r\n        NotificationManager notificationManager = (NotificationManager) mCtx.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.notify(ID_SMALL_NOTIFICATION, notification);\r\n    }\r\n\r\n    //The method will return Bitmap from an image URL\r\n    private Bitmap getBitmapFromURL(String strURL) {\r\n        try {\r\n            URL url = new URL(strURL);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setDoInput(true);\r\n            connection.connect();\r\n            InputStream input = connection.getInputStream();\r\n            Bitmap myBitmap = BitmapFactory.decodeStream(input);\r\n            return myBitmap;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nD/skia: --- Failed to create image decoder with message &#39;unimplemented&#39;\r\n\r\n\r\nThese are the data that come to the java \r\nE/MyFirebaseMsgService: Data Payload: {data={&quot;image&quot;:null,&quot;title&quot;:&quot;hi&quot;,&quot;message&quot;:&quot;wegweg&quot;}}\r\nE/MyFirebaseMsgService: Notification JSON {&quot;data&quot;:{&quot;image&quot;:null,&quot;title&quot;:&quot;hi&quot;,&quot;message&quot;:&quot;wegweg&quot;}}\r\n\r\nIf the image is null then the function \r\n```\r\nshowSmallNotification\r\n```\r\nwill be executed which does not include image\r\nAny ideas?\r\n","title":"Php push notifications to firebase in android studio error &quot;Failed to create image decoder with message &#39;unimplemented&#39;&quot;","body":"<p>I am calling a php script to send notification, all the tokens are in the db and I retrieve them.\nIf the image is null the</p>\n<pre><code>showSmallNotification\n</code></pre>\n<p>will be executed which does not include an image but all I get is this error.\nD/skia: --- Failed to create image decoder with message 'unimplemented'\nI tried and searched for it but the other examples were not and so helpful</p>\n<p>This is the php code</p>\n<pre><code>&lt;?php \n//importing required files \nrequire_once 'DbOperation.php';\nrequire_once 'Firebase.php';\nrequire_once 'Push.php'; \n\n$db = new DbOperation();\n\n$response = array(); \n$_SERVER['REQUEST_METHOD']='POST';\n$_POST['title']=&quot;hi&quot;;\n$_POST['message']=&quot;wegweg&quot;;\n$_POST['email']=&quot;test@test.com&quot;;\nif($_SERVER['REQUEST_METHOD']=='POST'){ \n    //hecking the required params \n    if(isset($_POST['title']) and isset($_POST['message']) and isset($_POST['email'])){\n\n        //creating a new push\n        $push = null; \n        //first check if the push has an image with it\n        if(isset($_POST['image'])){\n            $push = new Push(\n                    $_POST['title'],\n                    $_POST['message'],\n                    $_POST['image']\n                );\n        }else{\n            //if the push don't have an image give null in place of image\n            $push = new Push(\n                    $_POST['title'],\n                    $_POST['message'],\n                    null\n                );\n        }\n\n        //getting the push from push object\n        $mPushNotification = $push-&gt;getPush(); \n\n        //getting the token from database object \n        $devicetoken = $db-&gt;getTokenByEmail($_POST['email']);\n\n        //creating firebase class object \n        $firebase = new Firebase(); \n\n        //sending push notification and displaying result \n        echo $firebase-&gt;send($devicetoken, $mPushNotification);\n    }else{\n        $response['error']=true;\n        $response['message']='Parameters missing';\n    }\n}else{\n    $response['error']=true;\n    $response['message']='Invalid request';\n}\n\necho json_encode($response);\n</code></pre>\n<p>This is the java code but I get the below error</p>\n<pre><code>\npackage com.example.notif3;\n\nimport android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\n\nimport android.text.Html;\n\nimport androidx.core.app.NotificationCompat;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\n\npublic class MyNotificationManager {\n\n    public static final int ID_BIG_NOTIFICATION = 234;\n    public static final int ID_SMALL_NOTIFICATION = 235;\n\n    private Context mCtx;\n\n    public MyNotificationManager(Context mCtx) {\n        this.mCtx = mCtx;\n    }\n\n    //the method will show a big notification with an image\n    //parameters are title for message title, message for message text, url of the big image and an intent that will open\n    //when you will tap on the notification\n    public void showBigNotification(String title, String message, String url, Intent intent) {\n        PendingIntent resultPendingIntent =\n                PendingIntent.getActivity(\n                        mCtx,\n                        ID_BIG_NOTIFICATION,\n                        intent,\n                        PendingIntent.FLAG_UPDATE_CURRENT\n                );\n        NotificationCompat.BigPictureStyle bigPictureStyle = new NotificationCompat.BigPictureStyle();\n        bigPictureStyle.setBigContentTitle(title);\n        bigPictureStyle.setSummaryText(Html.fromHtml(message).toString());\n        bigPictureStyle.bigPicture(getBitmapFromURL(url));\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(mCtx);\n        Notification notification;\n        notification = mBuilder.setSmallIcon(R.mipmap.ic_launcher).setTicker(title).setWhen(0)\n                .setAutoCancel(true)\n                .setContentIntent(resultPendingIntent)\n                .setContentTitle(title)\n                .setStyle(bigPictureStyle)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setLargeIcon(BitmapFactory.decodeResource(mCtx.getResources(), R.mipmap.ic_launcher))\n                .setContentText(message)\n                .build();\n\n        notification.flags |= Notification.FLAG_AUTO_CANCEL;\n\n        NotificationManager notificationManager = (NotificationManager) mCtx.getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(ID_BIG_NOTIFICATION, notification);\n    }\n\n    //the method will show a small notification\n    //parameters are title for message title, message for message text and an intent that will open\n    //when you will tap on the notification\n    public void showSmallNotification(String title, String message, Intent intent) {\n        PendingIntent resultPendingIntent =\n                PendingIntent.getActivity(\n                        mCtx,\n                        ID_SMALL_NOTIFICATION,\n                        intent,\n                        PendingIntent.FLAG_UPDATE_CURRENT\n                );\n\n\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(mCtx);\n        Notification notification;\n        notification = mBuilder.setSmallIcon(R.mipmap.ic_launcher).setTicker(title).setWhen(0)\n                .setAutoCancel(true)\n                .setContentIntent(resultPendingIntent)\n                .setContentTitle(title)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setLargeIcon(BitmapFactory.decodeResource(mCtx.getResources(), R.mipmap.ic_launcher))\n                .setContentText(message)\n                .build();\n\n        notification.flags |= Notification.FLAG_AUTO_CANCEL;\n\n        NotificationManager notificationManager = (NotificationManager) mCtx.getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(ID_SMALL_NOTIFICATION, notification);\n    }\n\n    //The method will return Bitmap from an image URL\n    private Bitmap getBitmapFromURL(String strURL) {\n        try {\n            URL url = new URL(strURL);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setDoInput(true);\n            connection.connect();\n            InputStream input = connection.getInputStream();\n            Bitmap myBitmap = BitmapFactory.decodeStream(input);\n            return myBitmap;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n\n</code></pre>\n<p>D/skia: --- Failed to create image decoder with message 'unimplemented'</p>\n<p>These are the data that come to the java\nE/MyFirebaseMsgService: Data Payload: {data={&quot;image&quot;:null,&quot;title&quot;:&quot;hi&quot;,&quot;message&quot;:&quot;wegweg&quot;}}\nE/MyFirebaseMsgService: Notification JSON {&quot;data&quot;:{&quot;image&quot;:null,&quot;title&quot;:&quot;hi&quot;,&quot;message&quot;:&quot;wegweg&quot;}}</p>\n<p>If the image is null then the function</p>\n<pre><code>showSmallNotification\n</code></pre>\n<p>will be executed which does not include image\nAny ideas?</p>\n"},{"tags":["java","mongodb","bson","bsondocument"],"owner":{"account_id":15562398,"reputation":45,"user_id":12757722,"display_name":"comandantexd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671523536,"creation_date":1671474280,"question_id":74854520,"body_markdown":"First of all, hope you are having a great day!!!\r\n\r\nI have a class model with a POJO having nested document list which are an abstract type, like so:\r\n\r\n```java\r\npublic class ConfigDocument {\r\n    private List&lt;BaseActionConfig&gt; actions;\r\n}\r\n```\r\n```java\r\npublic abstract class BaseActionConfig {\r\n    @BsonProperty(&quot;interface&quot;) private int iface;\r\n}\r\n\r\npublic class SwitchActionConfig extends BaseActionConfig {\r\n    private int switchIndex;\r\n    private boolean switchState;\r\n}\r\n```\r\nMy configuration form MongoClient is:\r\n```java\r\npublic class MongoDBManager {\r\n\r\n    private static MongoClient client = null;\r\n\r\n    private static CodecRegistry codecRegistry()\r\n    {\r\n        ClassModel&lt;ConfigDocument&gt; configDocumentPojo =\r\n            ClassModel.builder(ConfigDocument.class).enableDiscriminator(true).build();\r\n\r\n\r\n        ClassModel&lt;BaseActionConfig&gt; baseActionConfigPojo = ClassModel.builder(BaseActionConfig.class)\r\n                                                                .enableDiscriminator(true)\r\n                                                                .discriminatorKey(&quot;interface&quot;)\r\n                                                                .build();\r\n\r\n        ClassModel&lt;SwitchActionConfig&gt; switchActionConfigPojo = ClassModel.builder(SwitchActionConfig.class)\r\n                                                                    .enableDiscriminator(true)\r\n                                                                    .discriminatorKey(&quot;interface&quot;)\r\n                                                                    .discriminator(&quot;1&quot;)\r\n                                                                    .build();\r\n\r\n\r\n        PojoCodecProvider manualProvider = PojoCodecProvider.builder()\r\n                                                .register(configDocumentPojo,\r\n                                                          baseActionConfigPojo,\r\n                                                          switchActionConfigPojo)\r\n                                                .build();\r\n        PojoCodecProvider autoProvider = PojoCodecProvider.builder().automatic(true).build();\r\n\r\n        CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\r\n                                                            fromProviders(manualProvider, autoProvider));\r\n\r\n        return pojoCodecRegistry;\r\n    }\r\n\r\n    private static MongoClient getClient()\r\n    {\r\n        if (client == null) {\r\n            CodecRegistry pojoCodecRegistry = MongoDBManager.codecRegistry();\r\n\r\n            MongoClientSettings setting = MongoClientSettings.builder()\r\n                                                .applyConnectionString(new ConnectionString(CONN_STRING))\r\n                                                .codecRegistry(pojoCodecRegistry)\r\n                                                .build();\r\n\r\n            client = MongoClients.create(setting);\r\n        }\r\n\r\n        return client;\r\n    }\r\n}\r\n```\r\n\r\nWhen reading from database i have all kind of exceptions. The most recurrent one is an ```InstantiateException```. After a lot of research and configuring ClassModels for using the ```BsonDiscriminator``` i reached the conclusion that the discriminator is not working because i am using an integer value.\r\n\r\nHow? I have manually replaced the type field in a document inside the database to string  and the discrimination started to work. Also, because at some time i have reached this other exception:\r\n\r\n```\r\norg.bson.codecs.configuration.CodecConfigurationException:\r\nFailed to decode &#39;ConfigDocument&#39;. Decoding &#39;actions&#39; errored with: Failed to decode &#39;BaseActionConfig&#39;.\r\nDecoding errored with: readString can only be called when CurrentBSONType is STRING, not when CurrentBSONType is INT32.\r\n```\r\n\r\nThe thing is that i cannot update the field of ALL Documents in the database and i see useless to add a new field on each document only for having this java application to work.\r\nSo, before watching me writing a custom Codec for those classes, i wanted to know if it is possible to configure a discriminator to use an integer value instead of an string one.\r\n\r\n[Reference to mongodb POJO Customization documentation](https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/data-formats/pojo-customization/#abstract-or-interface-types-in-properties)","title":"Is it possible to use an integer discrimination value for mongodb java driver?","body":"<p>First of all, hope you are having a great day!!!</p>\n<p>I have a class model with a POJO having nested document list which are an abstract type, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConfigDocument {\n    private List&lt;BaseActionConfig&gt; actions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseActionConfig {\n    @BsonProperty(&quot;interface&quot;) private int iface;\n}\n\npublic class SwitchActionConfig extends BaseActionConfig {\n    private int switchIndex;\n    private boolean switchState;\n}\n</code></pre>\n<p>My configuration form MongoClient is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MongoDBManager {\n\n    private static MongoClient client = null;\n\n    private static CodecRegistry codecRegistry()\n    {\n        ClassModel&lt;ConfigDocument&gt; configDocumentPojo =\n            ClassModel.builder(ConfigDocument.class).enableDiscriminator(true).build();\n\n\n        ClassModel&lt;BaseActionConfig&gt; baseActionConfigPojo = ClassModel.builder(BaseActionConfig.class)\n                                                                .enableDiscriminator(true)\n                                                                .discriminatorKey(&quot;interface&quot;)\n                                                                .build();\n\n        ClassModel&lt;SwitchActionConfig&gt; switchActionConfigPojo = ClassModel.builder(SwitchActionConfig.class)\n                                                                    .enableDiscriminator(true)\n                                                                    .discriminatorKey(&quot;interface&quot;)\n                                                                    .discriminator(&quot;1&quot;)\n                                                                    .build();\n\n\n        PojoCodecProvider manualProvider = PojoCodecProvider.builder()\n                                                .register(configDocumentPojo,\n                                                          baseActionConfigPojo,\n                                                          switchActionConfigPojo)\n                                                .build();\n        PojoCodecProvider autoProvider = PojoCodecProvider.builder().automatic(true).build();\n\n        CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n                                                            fromProviders(manualProvider, autoProvider));\n\n        return pojoCodecRegistry;\n    }\n\n    private static MongoClient getClient()\n    {\n        if (client == null) {\n            CodecRegistry pojoCodecRegistry = MongoDBManager.codecRegistry();\n\n            MongoClientSettings setting = MongoClientSettings.builder()\n                                                .applyConnectionString(new ConnectionString(CONN_STRING))\n                                                .codecRegistry(pojoCodecRegistry)\n                                                .build();\n\n            client = MongoClients.create(setting);\n        }\n\n        return client;\n    }\n}\n</code></pre>\n<p>When reading from database i have all kind of exceptions. The most recurrent one is an <code>InstantiateException</code>. After a lot of research and configuring ClassModels for using the <code>BsonDiscriminator</code> i reached the conclusion that the discriminator is not working because i am using an integer value.</p>\n<p>How? I have manually replaced the type field in a document inside the database to string  and the discrimination started to work. Also, because at some time i have reached this other exception:</p>\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException:\nFailed to decode 'ConfigDocument'. Decoding 'actions' errored with: Failed to decode 'BaseActionConfig'.\nDecoding errored with: readString can only be called when CurrentBSONType is STRING, not when CurrentBSONType is INT32.\n</code></pre>\n<p>The thing is that i cannot update the field of ALL Documents in the database and i see useless to add a new field on each document only for having this java application to work.\nSo, before watching me writing a custom Codec for those classes, i wanted to know if it is possible to configure a discriminator to use an integer value instead of an string one.</p>\n<p><a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/data-formats/pojo-customization/#abstract-or-interface-types-in-properties\" rel=\"nofollow noreferrer\">Reference to mongodb POJO Customization documentation</a></p>\n"},{"tags":["java","android","android-studio","kotlin"],"owner":{"account_id":26149102,"reputation":1,"user_id":19837311,"display_name":"Islam Shadeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671523494,"creation_date":1671404441,"question_id":74844979,"body_markdown":"I want to send the arraylist of objects answer with multipart request,\r\nthis is the form data that i should send :\r\n\r\n```\r\n{\r\n    &quot;title&quot;        : &quot;title&quot;,\r\n    &quot;description&quot;  : &quot;description&quot;,\r\n    &quot;file&quot;         : &quot;0&quot;,\r\n    &quot;type&quot;         : 0,\r\n    &quot;question&quot;     : &quot;question&quot;,\r\n    &quot;points_number&quot;: 3,\r\n    &quot;exam_id&quot;      : 3,\r\n    &quot;answers&quot;      : [\r\n         {\r\n        &quot;title&quot;    : &quot;title&quot;,\r\n        &quot;status&quot;   : 0\r\n    },\r\n     {\r\n        &quot;title&quot;    : &quot;title2&quot;,\r\n        &quot;status&quot;   : 1\r\n    }\r\n    ]\r\n}\r\n```\r\n\r\nthis my retrofit request\r\n\r\n```\r\n@Multipart\r\n@JvmSuppressWildcards\r\n@POST(&quot;teacher/exams/questions/store-question&quot;)\r\nsuspend fun storeQuestionTeacher(\r\n    @Header(&quot;Authorization&quot;) Authorization: String,\r\n    @Header(&quot;lang&quot;) lang: String,\r\n    @Part(&quot;answers[]&quot;) answers: ArrayList&lt;Map&lt;String,Any&gt;&gt;,\r\n    @PartMap createQuestionBody: Map&lt;String, RequestBody&gt;,\r\n    @Part file: MultipartBody.Part,\r\n): Response&lt;TeacherMainResponse&lt;Any&gt;&gt;\r\n```\r\n\r\n[this what i send with this request](https://i.stack.imgur.com/7K4MV.png)\r\n\r\nI want send the answers array in multipart request\r\nas shown above.","title":"send array list of objects as part in multipart","body":"<p>I want to send the arraylist of objects answer with multipart request,\nthis is the form data that i should send :</p>\n<pre><code>{\n    &quot;title&quot;        : &quot;title&quot;,\n    &quot;description&quot;  : &quot;description&quot;,\n    &quot;file&quot;         : &quot;0&quot;,\n    &quot;type&quot;         : 0,\n    &quot;question&quot;     : &quot;question&quot;,\n    &quot;points_number&quot;: 3,\n    &quot;exam_id&quot;      : 3,\n    &quot;answers&quot;      : [\n         {\n        &quot;title&quot;    : &quot;title&quot;,\n        &quot;status&quot;   : 0\n    },\n     {\n        &quot;title&quot;    : &quot;title2&quot;,\n        &quot;status&quot;   : 1\n    }\n    ]\n}\n</code></pre>\n<p>this my retrofit request</p>\n<pre><code>@Multipart\n@JvmSuppressWildcards\n@POST(&quot;teacher/exams/questions/store-question&quot;)\nsuspend fun storeQuestionTeacher(\n    @Header(&quot;Authorization&quot;) Authorization: String,\n    @Header(&quot;lang&quot;) lang: String,\n    @Part(&quot;answers[]&quot;) answers: ArrayList&lt;Map&lt;String,Any&gt;&gt;,\n    @PartMap createQuestionBody: Map&lt;String, RequestBody&gt;,\n    @Part file: MultipartBody.Part,\n): Response&lt;TeacherMainResponse&lt;Any&gt;&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7K4MV.png\" rel=\"nofollow noreferrer\">this what i send with this request</a></p>\n<p>I want send the answers array in multipart request\nas shown above.</p>\n"},{"tags":["java","selenium","extentreports"],"comments":[{"owner":{"account_id":10621254,"reputation":2639,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"score":0,"creation_date":1671438836,"post_id":74847807,"comment_id":132091376,"body_markdown":"What is your extend report version?","body":"What is your extend report version?"},{"owner":{"account_id":165589,"reputation":61,"user_id":2494852,"accept_rate":75,"display_name":"Ami"},"score":0,"creation_date":1671439337,"post_id":74847807,"comment_id":132091488,"body_markdown":"it is version 5.0.9","body":"it is version 5.0.9"}],"answers":[{"tags":[],"owner":{"account_id":27264513,"reputation":354,"user_id":20786794,"display_name":"Omprakash Chavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671522755,"creation_date":1671518247,"answer_id":74859338,"question_id":74847807,"body_markdown":"You can do,\r\n\r\n    logger.log(Status.FAIL, MediaEntityBuilder.createScreenCaptureFromPath(completeImagePath).build());\r\n\r\nHere, completeImagePath should be the absolute full path to the screenshot file.\r\nFor e.g. in your case, it would be,\r\n\r\n    String completeImagePath = System.getProperty(&quot;user.dir&quot;) + File.separator + destination;\r\n\r\nIf you want to embed the screenshot in the report itself, then you can do below:\r\n\r\n    String dateName = new SimpleDateFormat(&quot;yyyyMMddhhmmss&quot;).format(new Date());\r\n    TakesScreenshot ts = (TakesScreenshot) driver;\r\n    File source = ts.getScreenshotAs(OutputType.FILE);\r\n    // after execution, you could see a folder &quot;FailedTestsScreenshots&quot; under src folder\r\n    String destination = &quot;ss/&quot; + screenshotName+dateName+&quot;.png&quot;;\r\n    File finalDestination = new File(destination);\r\n    FileUtils.copyFile(source, finalDestination);\r\n\t\t\r\n\t\tbyte[] encoded = null;\r\n\t\ttry {\r\n\t\t\tencoded = Base64.encodeBase64(FileUtils.readFileToByteArray(source));\r\n\t\t} catch (IOException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\r\n\t\tlogger.log(Status.FAIL,\r\n\t\t\t\tMediaEntityBuilder.createScreenCaptureFromBase64String(new String(encoded, StandardCharsets.US_ASCII)).build());","title":"ExtentReports doesn&#39;t save the screenshot with the report","body":"<p>You can do,</p>\n<pre><code>logger.log(Status.FAIL, MediaEntityBuilder.createScreenCaptureFromPath(completeImagePath).build());\n</code></pre>\n<p>Here, completeImagePath should be the absolute full path to the screenshot file.\nFor e.g. in your case, it would be,</p>\n<pre><code>String completeImagePath = System.getProperty(&quot;user.dir&quot;) + File.separator + destination;\n</code></pre>\n<p>If you want to embed the screenshot in the report itself, then you can do below:</p>\n<pre><code>String dateName = new SimpleDateFormat(&quot;yyyyMMddhhmmss&quot;).format(new Date());\nTakesScreenshot ts = (TakesScreenshot) driver;\nFile source = ts.getScreenshotAs(OutputType.FILE);\n// after execution, you could see a folder &quot;FailedTestsScreenshots&quot; under src folder\nString destination = &quot;ss/&quot; + screenshotName+dateName+&quot;.png&quot;;\nFile finalDestination = new File(destination);\nFileUtils.copyFile(source, finalDestination);\n    \n    byte[] encoded = null;\n    try {\n        encoded = Base64.encodeBase64(FileUtils.readFileToByteArray(source));\n    } catch (IOException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n\n    logger.log(Status.FAIL,\n            MediaEntityBuilder.createScreenCaptureFromBase64String(new String(encoded, StandardCharsets.US_ASCII)).build());\n</code></pre>\n"}],"owner":{"account_id":165589,"reputation":61,"user_id":2494852,"accept_rate":75,"display_name":"Ami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671522755,"creation_date":1671438031,"question_id":74847807,"body_markdown":"Hello I am trying to capture screenshot of failed test cases using selenium webdriver with Maven and TestNG with following code, it does generate the screenshot in my project but doesn&#39;t get included inside the report what do I need to change in the code?\r\n\r\n     WebDriver driver;\r\n    ExtentReports extent;\r\n    ExtentTest logger;\r\n    @BeforeTest\r\n    public void setUp() {\r\n        extent = new ExtentReports(&quot;C:\\\\Users\\\\IdeaProjects\\\\p\\\\test-output\\\\report.html&quot;, true);\r\n        extent.loadConfig(new File(&quot;C:\\\\Users\\\\IdeaProjects\\\\p\\\\test-output\\\\extent-config.xml&quot;));\r\n        driver = new FirefoxDriver();\r\n        driver.manage().window().maximize();\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n        driver.get(&quot;http://www.google.com&quot;);\r\n    }\r\n    @Test\r\n    public void testExtentReports() {\r\n        logger = extent.startTest(&quot;testExtentReports&quot;);\r\n        Assert.assertTrue(false);\r\n    }\r\n    @AfterMethod\r\n    public void tearDown(ITestResult result) throws IOException {\r\n        if(result.getStatus() == ITestResult.FAILURE) {\r\n            logger.log(LogStatus.FAIL, &quot;Test Case Failed is &quot;+result.getName());\r\n            logger.log(LogStatus.FAIL, &quot;Test Case Failed is &quot;+result.getThrowable());\r\n            String screenshotPath = TestMine.getScreenshot(driver, result.getName());\r\n            logger.log(LogStatus.FAIL, logger.addScreenCapture(screenshotPath));\r\n        } else if(result.getStatus() == ITestResult.SKIP) {\r\n            logger.log(LogStatus.SKIP, &quot;Test Case Skipped is &quot;+result.getName());\r\n        }\r\n        extent.endTest(logger);\r\n    }\r\n    public static String getScreenshot(WebDriver driver, String screenshotName) throws IOException {\r\n        String dateName = new SimpleDateFormat(&quot;yyyyMMddhhmmss&quot;).format(new Date());\r\n        TakesScreenshot ts = (TakesScreenshot) driver;\r\n        File source = ts.getScreenshotAs(OutputType.FILE);\r\n        // after execution, you could see a folder &quot;FailedTestsScreenshots&quot; under src folder\r\n        String destination = &quot;ss/&quot; + screenshotName+dateName+&quot;.png&quot;;\r\n        File finalDestination = new File(destination);\r\n        FileUtils.copyFile(source, finalDestination);\r\n        return destination;\r\n    }\r\n    @AfterTest\r\n    public void endReport() {\r\n        extent.flush();\r\n        extent.close();\r\n        driver.quit();\r\n    }\r\n\r\nI found a solution here but i am not quite sure how to implement this with my code: \r\nhttps://stackoverflow.com/questions/52078525/printing-screenshot-within-extentreport\r\n\r\n","title":"ExtentReports doesn&#39;t save the screenshot with the report","body":"<p>Hello I am trying to capture screenshot of failed test cases using selenium webdriver with Maven and TestNG with following code, it does generate the screenshot in my project but doesn't get included inside the report what do I need to change in the code?</p>\n<pre><code> WebDriver driver;\nExtentReports extent;\nExtentTest logger;\n@BeforeTest\npublic void setUp() {\n    extent = new ExtentReports(&quot;C:\\\\Users\\\\IdeaProjects\\\\p\\\\test-output\\\\report.html&quot;, true);\n    extent.loadConfig(new File(&quot;C:\\\\Users\\\\IdeaProjects\\\\p\\\\test-output\\\\extent-config.xml&quot;));\n    driver = new FirefoxDriver();\n    driver.manage().window().maximize();\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    driver.get(&quot;http://www.google.com&quot;);\n}\n@Test\npublic void testExtentReports() {\n    logger = extent.startTest(&quot;testExtentReports&quot;);\n    Assert.assertTrue(false);\n}\n@AfterMethod\npublic void tearDown(ITestResult result) throws IOException {\n    if(result.getStatus() == ITestResult.FAILURE) {\n        logger.log(LogStatus.FAIL, &quot;Test Case Failed is &quot;+result.getName());\n        logger.log(LogStatus.FAIL, &quot;Test Case Failed is &quot;+result.getThrowable());\n        String screenshotPath = TestMine.getScreenshot(driver, result.getName());\n        logger.log(LogStatus.FAIL, logger.addScreenCapture(screenshotPath));\n    } else if(result.getStatus() == ITestResult.SKIP) {\n        logger.log(LogStatus.SKIP, &quot;Test Case Skipped is &quot;+result.getName());\n    }\n    extent.endTest(logger);\n}\npublic static String getScreenshot(WebDriver driver, String screenshotName) throws IOException {\n    String dateName = new SimpleDateFormat(&quot;yyyyMMddhhmmss&quot;).format(new Date());\n    TakesScreenshot ts = (TakesScreenshot) driver;\n    File source = ts.getScreenshotAs(OutputType.FILE);\n    // after execution, you could see a folder &quot;FailedTestsScreenshots&quot; under src folder\n    String destination = &quot;ss/&quot; + screenshotName+dateName+&quot;.png&quot;;\n    File finalDestination = new File(destination);\n    FileUtils.copyFile(source, finalDestination);\n    return destination;\n}\n@AfterTest\npublic void endReport() {\n    extent.flush();\n    extent.close();\n    driver.quit();\n}\n</code></pre>\n<p>I found a solution here but i am not quite sure how to implement this with my code:\n<a href=\"https://stackoverflow.com/questions/52078525/printing-screenshot-within-extentreport\">Printing screenshot within ExtentReport</a></p>\n"},{"tags":["java","compilation","annotations"],"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1327374500,"post_id":8981540,"comment_id":11253254,"body_markdown":"I have often seen annotation checkers used as part of a unit test suite.  Would this work for you?","body":"I have often seen annotation checkers used as part of a unit test suite.  Would this work for you?"},{"owner":{"account_id":142682,"reputation":17408,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"score":0,"creation_date":1327375131,"post_id":8981540,"comment_id":11253349,"body_markdown":"Well -- i have some constants that need to be gotten from classes.  The classes have an ugly constructor, so I cant enforce them using getters.   So i figured I would annotate the class using annotations with the constant parameters as annotation fields.","body":"Well -- i have some constants that need to be gotten from classes.  The classes have an ugly constructor, so I cant enforce them using getters.   So i figured I would annotate the class using annotations with the constant parameters as annotation fields."}],"answers":[{"comments":[{"owner":{"account_id":142682,"reputation":17408,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"score":0,"creation_date":1327528265,"post_id":8981692,"comment_id":11296374,"body_markdown":"This is a good answer.  I&#39;ll wait to see if there is a higher level or simpler approach (i.e. a way to simply enforce this in existing code/classes).","body":"This is a good answer.  I&#39;ll wait to see if there is a higher level or simpler approach (i.e. a way to simply enforce this in existing code/classes)."},{"owner":{"account_id":368684,"reputation":413,"user_id":715640,"display_name":"Justin Smith"},"score":0,"creation_date":1418328135,"post_id":8981692,"comment_id":43303924,"body_markdown":"From what I can tell, the annotation processor will omit processing on classes that do not already have the annotations, which does not seem to be what the OP is looking for.  I&#39;m looking for the same solution though, so if I am wrong, I would love an example.","body":"From what I can tell, the annotation processor will omit processing on classes that do not already have the annotations, which does not seem to be what the OP is looking for.  I&#39;m looking for the same solution though, so if I am wrong, I would love an example."},{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":2,"creation_date":1418330283,"post_id":8981692,"comment_id":43305051,"body_markdown":"If you use @SupportedAnnotationTypes(&quot;*&quot;) on your processor then it will pick up all classes, even if there are no annotations on it.","body":"If you use @SupportedAnnotationTypes(&quot;*&quot;) on your processor then it will pick up all classes, even if there are no annotations on it."},{"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"score":0,"creation_date":1421895219,"post_id":8981692,"comment_id":44539691,"body_markdown":"@prunge I (almost) love you!, thanks for your comment","body":"@prunge I (almost) love you!, thanks for your comment"},{"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"score":0,"creation_date":1578961274,"post_id":8981692,"comment_id":105602209,"body_markdown":"The link is dead.","body":"The link is dead."},{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":0,"creation_date":1671522834,"post_id":8981692,"comment_id":132111731,"body_markdown":"Found link to a part of that original article which is now dead and added it.  It only has the first part, but probably enough to have a good intro still on annotation processors.  There are probably better annotation processor tutorials out there, so those interested search around.","body":"Found link to a part of that original article which is now dead and added it.  It only has the first part, but probably enough to have a good intro still on annotation processors.  There are probably better annotation processor tutorials out there, so those interested search around."}],"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1671522710,"creation_date":1327375900,"answer_id":8981692,"question_id":8981540,"body_markdown":"You can write an annotation processor to run arbitrary logic at compile time.  \r\n\r\nFrom an annotation processor, you can do things like check whether a class has a particular structure or member present if a particular annotation exists on that class.  They are pretty flexible - for more of an idea of what you can do with them check out [the API][1].  They are also supported in major IDEs such as Eclipse and Netbeans.\r\n\r\nAn introduction to writing an annotation processor is [here][2] (link dead, partial copy [here][3]).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/annotation/processing/AbstractProcessor.html\r\n  [2]: http://today.java.net/pub/a/today/2008/04/10/source-code-analysis-using-java-6-compiler-apis.html\r\n  [3]: https://www.infoworld.com/article/2072018/source-code-analysis-using-java-6-apis.html","title":"Enforcing java annotations at compile time","body":"<p>You can write an annotation processor to run arbitrary logic at compile time.</p>\n<p>From an annotation processor, you can do things like check whether a class has a particular structure or member present if a particular annotation exists on that class.  They are pretty flexible - for more of an idea of what you can do with them check out <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/annotation/processing/AbstractProcessor.html\" rel=\"nofollow noreferrer\">the API</a>.  They are also supported in major IDEs such as Eclipse and Netbeans.</p>\n<p>An introduction to writing an annotation processor is <a href=\"http://today.java.net/pub/a/today/2008/04/10/source-code-analysis-using-java-6-compiler-apis.html\" rel=\"nofollow noreferrer\">here</a> (link dead, partial copy <a href=\"https://www.infoworld.com/article/2072018/source-code-analysis-using-java-6-apis.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n"}],"owner":{"account_id":142682,"reputation":17408,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5407,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1671522710,"creation_date":1327374360,"question_id":8981540,"body_markdown":"Hi : I wanted to make sure that an annotation is present at compile time in a class.  Is this possible ?  I realize that annoataions are, themselves, classes, so I assume so - but Im just not sure syntactically where and how to enforce/implement such a structure in my classes. ","title":"Enforcing java annotations at compile time","body":"<p>Hi : I wanted to make sure that an annotation is present at compile time in a class.  Is this possible ?  I realize that annoataions are, themselves, classes, so I assume so - but Im just not sure syntactically where and how to enforce/implement such a structure in my classes. </p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1671521915,"post_id":74859747,"comment_id":132111523,"body_markdown":"I&#39;m not sure what the question is exactly. Yes, Spring can inject dependencies via setters. It&#39;s called &quot;setter injection&quot;","body":"I&#39;m not sure what the question is exactly. Yes, Spring can inject dependencies via setters. It&#39;s called &quot;setter injection&quot;"}],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671522521,"creation_date":1671522521,"answer_id":74859916,"question_id":74859747,"body_markdown":"Because you&#39;re using the setting construct\r\nAnd java generates a parameterless constructor for all classes by default, if you don&#39;t define a constructor for that class\r\nI guess you want to use constructor construction\r\nHere is an example of a parameter constructor configuration bean\r\n\r\n    &lt;bean id=&quot;exampleBean&quot; class=&quot;com.example.Person&quot; &gt;\r\n      &lt;constructor-arg value=&quot;Eren Yaeger&quot;/&gt;\r\n      &lt;constructor-arg value=&quot;Some Address&quot;/&gt;\r\n    &lt;/bean&gt;","title":"do beans (&lt;beans&gt; defined in XML File) work with only setters and getters in spring?","body":"<p>Because you're using the setting construct\nAnd java generates a parameterless constructor for all classes by default, if you don't define a constructor for that class\nI guess you want to use constructor construction\nHere is an example of a parameter constructor configuration bean</p>\n<pre><code>&lt;bean id=&quot;exampleBean&quot; class=&quot;com.example.Person&quot; &gt;\n  &lt;constructor-arg value=&quot;Eren Yaeger&quot;/&gt;\n  &lt;constructor-arg value=&quot;Some Address&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"display_name":"user20820474"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74859916,"answer_count":1,"score":0,"last_activity_date":1671522521,"creation_date":1671521439,"question_id":74859747,"body_markdown":" ```\r\n&lt;bean class=&quot;com.example.Person&quot; name=&quot;ExampleBean1&quot;&gt;\r\n\t\t&lt;property name=&quot;name&quot;&gt;\r\n\t\t\t&lt;value&gt;Eren Yaeger&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\ni defined the above bean in a xml file.\r\n\r\n\r\n```\r\n\t//   ***   SETTER METHODS   ***\r\n\t\r\n\tpublic void setName(String name)\r\n\t{\r\n\t\tSystem.out.println(&quot;Setter Method&quot;);\r\n\t\tthis.name=name;\r\n\t}\r\n\t\r\n\tpublic void setAddress(String address)\r\n\t{\r\n\t\tSystem.out.println(&quot;Setter Method&quot;);\r\n\t\tthis.address=address;\r\n\t}\r\n\t\r\n\t//   ***   GETTER METHODS   ***\r\n\t\r\n\tpublic String getName()\r\n\t{\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic String getAddress()\r\n\t{\r\n\t\treturn address;\r\n\t}\r\n\t\r\n\t//   ***   CONSTRUCTORS   ***\r\n\t\r\n//\tpublic Person(String name,String address)\r\n//\t{\r\n//\t\tthis.name=name;\r\n//\t\tthis.address=address;\r\n//\t}\r\n```\r\nas you can see in above code i commented the constructor but it still getting values so it means that beans only require setter and getter methods?\r\n\r\nplease try to explain it with reason because i&#39;m completely new to spring.Thanks.\r\n\r\n\r\ncode snippet is above","title":"do beans (&lt;beans&gt; defined in XML File) work with only setters and getters in spring?","body":"<pre><code>&lt;bean class=&quot;com.example.Person&quot; name=&quot;ExampleBean1&quot;&gt;\n       &lt;property name=&quot;name&quot;&gt;\n           &lt;value&gt;Eren Yaeger&lt;/value&gt;\n       &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>i defined the above bean in a xml file.</p>\n<pre><code>    //   ***   SETTER METHODS   ***\n    \n    public void setName(String name)\n    {\n        System.out.println(&quot;Setter Method&quot;);\n        this.name=name;\n    }\n    \n    public void setAddress(String address)\n    {\n        System.out.println(&quot;Setter Method&quot;);\n        this.address=address;\n    }\n    \n    //   ***   GETTER METHODS   ***\n    \n    public String getName()\n    {\n        return name;\n    }\n    \n    public String getAddress()\n    {\n        return address;\n    }\n    \n    //   ***   CONSTRUCTORS   ***\n    \n//  public Person(String name,String address)\n//  {\n//      this.name=name;\n//      this.address=address;\n//  }\n</code></pre>\n<p>as you can see in above code i commented the constructor but it still getting values so it means that beans only require setter and getter methods?</p>\n<p>please try to explain it with reason because i'm completely new to spring.Thanks.</p>\n<p>code snippet is above</p>\n"},{"tags":["java","dictionary","java-stream"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671522282,"creation_date":1671522282,"answer_id":74859870,"question_id":74859823,"body_markdown":"If you&#39;re finding the key with the largest list, you can do this:\r\n\r\n    .max(Comparator.comparingInt(entry -&gt; entry.getValue().size())).map(Entry::getKey)\r\n\r\nSo your code can be\r\n\r\n    String result = map.entrySet().stream()\r\n                       .max(Comparator.comparingInt(entry -&gt; entry.getValue().size()))\r\n                       .map(Map.Entry::getKey)\r\n                       .orElse(null); //if map is empty","title":"Finding maximum list size in a Map using Java streams","body":"<p>If you're finding the key with the largest list, you can do this:</p>\n<pre><code>.max(Comparator.comparingInt(entry -&gt; entry.getValue().size())).map(Entry::getKey)\n</code></pre>\n<p>So your code can be</p>\n<pre><code>String result = map.entrySet().stream()\n                   .max(Comparator.comparingInt(entry -&gt; entry.getValue().size()))\n                   .map(Map.Entry::getKey)\n                   .orElse(null); //if map is empty\n</code></pre>\n"}],"owner":{"account_id":12979665,"reputation":559,"user_id":14358734,"display_name":"m. lekk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671522282,"creation_date":1671521936,"question_id":74859823,"body_markdown":"I have a map of the form `Map&lt;String, List&lt;Product&gt;&gt;`.\r\n\r\nI&#39;d like to find the String in this Map that has the largest associated List.\r\n\r\nI have tried so, so many things. Most recently:\r\n\r\n```        \r\nmap.entrySet()\r\n.stream()\r\n.max(Comparator((String entry1, String entry2) -&gt; Integer.compare(q4().get(entry1).size(), q4.get(entry2).size()));\r\n```\r\n\r\nNothing has worked. ","title":"Finding maximum list size in a Map using Java streams","body":"<p>I have a map of the form <code>Map&lt;String, List&lt;Product&gt;&gt;</code>.</p>\n<p>I'd like to find the String in this Map that has the largest associated List.</p>\n<p>I have tried so, so many things. Most recently:</p>\n<pre><code>map.entrySet()\n.stream()\n.max(Comparator((String entry1, String entry2) -&gt; Integer.compare(q4().get(entry1).size(), q4.get(entry2).size()));\n</code></pre>\n<p>Nothing has worked.</p>\n"},{"tags":["java","kotlin","java-stream"],"comments":[{"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"score":1,"creation_date":1551450137,"post_id":54945724,"comment_id":96655951,"body_markdown":"The extensions listed in https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/index.html are just additions to what Java provided, fyi","body":"The extensions listed in <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/index.ht&zwnj;&#8203;ml</a> are just additions to what Java provided, fyi"}],"answers":[{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1551449949,"creation_date":1551448033,"answer_id":54945958,"question_id":54945724,"body_markdown":"The Stream alternative in Kotlin is [Sequences][1].\r\n\r\n     listOf(1, 2, 3, 4, 5)\r\n        .asSequence()\r\n        .filter { it &lt; 3 }\r\n        .onEach { println(&quot;filtered $it&quot;) }\r\n        .map { it * 10 }\r\n        .forEach { println(&quot;final: $it&quot;) }\r\n\r\nThere&#39;s [`onEach`][2] to do what `peek` does.\r\n\r\n**Fun fact**: Kotlin also wanted to call their sequences &quot;Streams&quot; before it was clear that Java would do the same, so they renamed it to &quot;Sequences&quot;.\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/index.html\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/on-each.html","title":"Kotlin Stream peek(...) method","body":"<p>The Stream alternative in Kotlin is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/index.html\" rel=\"noreferrer\">Sequences</a>.</p>\n\n<pre><code> listOf(1, 2, 3, 4, 5)\n    .asSequence()\n    .filter { it &lt; 3 }\n    .onEach { println(\"filtered $it\") }\n    .map { it * 10 }\n    .forEach { println(\"final: $it\") }\n</code></pre>\n\n<p>There's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/on-each.html\" rel=\"noreferrer\"><code>onEach</code></a> to do what <code>peek</code> does.</p>\n\n<p><strong>Fun fact</strong>: Kotlin also wanted to call their sequences \"Streams\" before it was clear that Java would do the same, so they renamed it to \"Sequences\".</p>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620734439,"creation_date":1620734439,"answer_id":67486329,"question_id":54945724,"body_markdown":"Firstly, unlike Java in Kotlin, you can perform stream processing (map/reduce operations) on any type of collection for example: \r\n\r\n    val list = ArrayList&lt;Int&gt;()\r\n    list.forEach {  }\r\n    list.onEach {  } \r\n\r\nHowever the operations defined in this way are not lazily evaluated and if we need lazy evaluation by applying the method `.asSequence()` and generate a stream from collection.\r\n\r\nFinally to answer your question `onEach()` is the equivalent of `peek()`  ","title":"Kotlin Stream peek(...) method","body":"<p>Firstly, unlike Java in Kotlin, you can perform stream processing (map/reduce operations) on any type of collection for example:</p>\n<pre><code>val list = ArrayList&lt;Int&gt;()\nlist.forEach {  }\nlist.onEach {  } \n</code></pre>\n<p>However the operations defined in this way are not lazily evaluated and if we need lazy evaluation by applying the method <code>.asSequence()</code> and generate a stream from collection.</p>\n<p>Finally to answer your question <code>onEach()</code> is the equivalent of <code>peek()</code></p>\n"},{"tags":[],"owner":{"account_id":7661420,"reputation":408,"user_id":5806602,"accept_rate":40,"display_name":"Andy Cass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671522278,"creation_date":1671521737,"answer_id":74859798,"question_id":54945724,"body_markdown":"You can use your own custom extension function, I use this for live data \r\n\r\n    inline fun &lt;T&gt; LiveData&lt;T&gt;.peek(crossinline block: (T) -&gt; Unit): LiveData&lt;T&gt; {\r\n        return map {\r\n            block(it)\r\n            it\r\n        }\r\n    }\r\n\r\nYou could modify to get something like this.\r\n\r\n    inline fun &lt;T&gt; Stream&lt;T&gt;.peek(crossinline block: (T) -&gt; Unit): Stream&lt;T&gt; {\r\n        return map {\r\n            block(it)\r\n            it\r\n        }\r\n    }\r\n\r\nSimilarly\r\n\r\n    inline fun &lt;T&gt; Sequence&lt;T&gt;.peek(crossinline action: (T) -&gt; Unit): Sequence&lt;T&gt; {\r\n        return map {\r\n            action(it)\r\n            it\r\n        }\r\n    }\r\n\r\nThen in your code\r\n\r\n    listOf(1, 2, 3, 4, 5)\r\n        .asSequence()\r\n        .filter { it &lt; 4 }\r\n        .peek { println(&quot;peek $it&quot;) }\r\n        .map { it * 10 }\r\n        .peek { println(&quot;final: $it&quot;) }\r\n","title":"Kotlin Stream peek(...) method","body":"<p>You can use your own custom extension function, I use this for live data</p>\n<pre><code>inline fun &lt;T&gt; LiveData&lt;T&gt;.peek(crossinline block: (T) -&gt; Unit): LiveData&lt;T&gt; {\n    return map {\n        block(it)\n        it\n    }\n}\n</code></pre>\n<p>You could modify to get something like this.</p>\n<pre><code>inline fun &lt;T&gt; Stream&lt;T&gt;.peek(crossinline block: (T) -&gt; Unit): Stream&lt;T&gt; {\n    return map {\n        block(it)\n        it\n    }\n}\n</code></pre>\n<p>Similarly</p>\n<pre><code>inline fun &lt;T&gt; Sequence&lt;T&gt;.peek(crossinline action: (T) -&gt; Unit): Sequence&lt;T&gt; {\n    return map {\n        action(it)\n        it\n    }\n}\n</code></pre>\n<p>Then in your code</p>\n<pre><code>listOf(1, 2, 3, 4, 5)\n    .asSequence()\n    .filter { it &lt; 4 }\n    .peek { println(&quot;peek $it&quot;) }\n    .map { it * 10 }\n    .peek { println(&quot;final: $it&quot;) }\n</code></pre>\n"}],"owner":{"account_id":8854143,"reputation":1257,"user_id":6612401,"accept_rate":100,"display_name":"Evgeny Mamaev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12303,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":54945958,"answer_count":3,"score":26,"last_activity_date":1671522278,"creation_date":1551447146,"question_id":54945724,"body_markdown":"What is the best alternative in Kotlin to java.util.stream.Stream&lt;&gt;.peek(...)?\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\r\n\r\nSeems there are no alternative intermediate operations:\r\n\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/index.html\r\n\r\nI found only terminating forEach(...)","title":"Kotlin Stream peek(...) method","body":"<p>What is the best alternative in Kotlin to java.util.stream.Stream&lt;>.peek(...)?</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-</a></p>\n\n<p>Seems there are no alternative intermediate operations:</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/index.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/index.html</a></p>\n\n<p>I found only terminating forEach(...)</p>\n"},{"tags":["java","session","jsf","iframe","primefaces"],"comments":[{"owner":{"account_id":25375238,"reputation":45,"user_id":19188472,"display_name":"philipp8230"},"score":0,"creation_date":1671521305,"post_id":74859667,"comment_id":132111399,"body_markdown":"I want to add that we are using the iframe in the page because we slowly want to move away from JSF to Angular, so we added the iframe in our JSF application.","body":"I want to add that we are using the iframe in the page because we slowly want to move away from JSF to Angular, so we added the iframe in our JSF application."},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1671572361,"post_id":74859667,"comment_id":132127343,"body_markdown":"Which application server are you using? How do you manage the login session(ldap/AD/...)?","body":"Which application server are you using? How do you manage the login session(ldap/AD/...)?"},{"owner":{"account_id":25375238,"reputation":45,"user_id":19188472,"display_name":"philipp8230"},"score":0,"creation_date":1671718552,"post_id":74859667,"comment_id":132161621,"body_markdown":"@WoAiNii I&#39;m using a TomEE 9.0.52 Server. To be honest, I don&#39;t get what you mean with the second part of your question but still I try to feed you with some more information. I specified a session timeout in my web.xml file, which I then increase to 30 minutes in case of successful login. The user gets assigned a JSESSIONID, which is used for the HttpSession Object.","body":"@WoAiNii I&#39;m using a TomEE 9.0.52 Server. To be honest, I don&#39;t get what you mean with the second part of your question but still I try to feed you with some more information. I specified a session timeout in my web.xml file, which I then increase to 30 minutes in case of successful login. The user gets assigned a JSESSIONID, which is used for the HttpSession Object."},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1671742035,"post_id":74859667,"comment_id":132168768,"body_markdown":"When you look at the cookie with JSESSIONID what&#39;s its expiration? Your solution seems similar to [these ones](https://stackoverflow.com/questions/8793064/keep-a-session-alive-for-an-indefinite-amount-of-time) so if they didn&#39;t work you could have something else that terminates your session or invalidate it.","body":"When you look at the cookie with JSESSIONID what&#39;s its expiration? Your solution seems similar to <a href=\"https://stackoverflow.com/questions/8793064/keep-a-session-alive-for-an-indefinite-amount-of-time\">these ones</a> so if they didn&#39;t work you could have something else that terminates your session or invalidate it."}],"owner":{"account_id":25375238,"reputation":45,"user_id":19188472,"display_name":"philipp8230"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671522220,"creation_date":1671520800,"question_id":74859667,"body_markdown":"I have an JSF Primefaces application which on one page shows an iFrame. In this iFrame the user can work for quite a while, afterwards he can press a button which navigates to one of my JSF handled pages. I implemented this using the `window.parent.postMessage` event, this works well.\r\n\r\nBut still there remains one problem: While working in the iFrame, the Session times out and the user gets redirected to the login screen.\r\n\r\nI already tried using &lt;br&gt;`&lt;p:poll interval=&quot;1500&quot; listener=&quot;#{bean.interact}&quot;/&gt;` &lt;br&gt;with \r\n```\r\npublic String interact() {\r\n        HttpSession session = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n        ((HttpServletRequest) FacesContext.getCurrentInstance().getExternalContext().getRequest()).getSession(false);\r\n        return null;\r\n    }\r\n```\r\nin order to keep the session alive. In my interact function I tried different things. I read in other StackOverflow posts that getting the session should be enough to keep it open.\r\n\r\nDebugging the function shows that `session.getLastAccessedTime()` is updated every time the poll is executing. The session ID is always the same.\r\n\r\nBut still, after my defined session timeout, the user gets redirected to the login screen the moment the poll is fired.\r\n\r\nMy .xhtml file hosting the frame looks as follows:\r\n```\r\n&lt;ui:define name=&quot;content&quot;&gt;\r\n    &lt;h:form&gt;\r\n        &lt;p:remoteCommand name=&quot;finish&quot; action=&quot;#{bean.finish()}&quot;/&gt;\r\n        &lt;p:remoteCommand name=&quot;back&quot; action=&quot;#{bean.back()}&quot;/&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            window.addEventListener(&#39;message&#39;, (e) =&gt; {\r\n                if(e.data === &#39;finished&#39;) {\r\n                    finish();\r\n                } else if(e.data === &#39;back&#39;) {\r\n                    back();\r\n                }\r\n            });\r\n        &lt;/script&gt;\r\n        &lt;iframe src=&quot;https://myUrl/#{bean.queryParameterEncrypted()}&quot;/&gt;\r\n        &lt;p:poll interval=&quot;1500&quot; listener=&quot;#{bean.interact}&quot;/&gt;\r\n    &lt;/h:form&gt;\r\n&lt;/ui:define&gt;\r\n```","title":"Prevent JSF Session Timeout while working in iFrame","body":"<p>I have an JSF Primefaces application which on one page shows an iFrame. In this iFrame the user can work for quite a while, afterwards he can press a button which navigates to one of my JSF handled pages. I implemented this using the <code>window.parent.postMessage</code> event, this works well.</p>\n<p>But still there remains one problem: While working in the iFrame, the Session times out and the user gets redirected to the login screen.</p>\n<p>I already tried using <br><code>&lt;p:poll interval=&quot;1500&quot; listener=&quot;#{bean.interact}&quot;/&gt;</code> <br>with</p>\n<pre><code>public String interact() {\n        HttpSession session = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n        ((HttpServletRequest) FacesContext.getCurrentInstance().getExternalContext().getRequest()).getSession(false);\n        return null;\n    }\n</code></pre>\n<p>in order to keep the session alive. In my interact function I tried different things. I read in other StackOverflow posts that getting the session should be enough to keep it open.</p>\n<p>Debugging the function shows that <code>session.getLastAccessedTime()</code> is updated every time the poll is executing. The session ID is always the same.</p>\n<p>But still, after my defined session timeout, the user gets redirected to the login screen the moment the poll is fired.</p>\n<p>My .xhtml file hosting the frame looks as follows:</p>\n<pre><code>&lt;ui:define name=&quot;content&quot;&gt;\n    &lt;h:form&gt;\n        &lt;p:remoteCommand name=&quot;finish&quot; action=&quot;#{bean.finish()}&quot;/&gt;\n        &lt;p:remoteCommand name=&quot;back&quot; action=&quot;#{bean.back()}&quot;/&gt;\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            window.addEventListener('message', (e) =&gt; {\n                if(e.data === 'finished') {\n                    finish();\n                } else if(e.data === 'back') {\n                    back();\n                }\n            });\n        &lt;/script&gt;\n        &lt;iframe src=&quot;https://myUrl/#{bean.queryParameterEncrypted()}&quot;/&gt;\n        &lt;p:poll interval=&quot;1500&quot; listener=&quot;#{bean.interact}&quot;/&gt;\n    &lt;/h:form&gt;\n&lt;/ui:define&gt;\n</code></pre>\n"},{"tags":["java","swing","mouseevent","line","paintcomponent"],"answers":[{"comments":[{"owner":{"account_id":7357508,"reputation":15,"user_id":5601777,"display_name":"Reens"},"score":0,"creation_date":1477502828,"post_id":40253833,"comment_id":67797228,"body_markdown":"Thank you for this. Would you be able to provide code or help me with my code above? I&#39;m not a very good programmer. I tried the first approach but wasn&#39;t sure if I should have an ArrayList of Shape or Point (seeing that they have pointStart and pointEnd). I tried both but failed.","body":"Thank you for this. Would you be able to provide code or help me with my code above? I&#39;m not a very good programmer. I tried the first approach but wasn&#39;t sure if I should have an ArrayList of Shape or Point (seeing that they have pointStart and pointEnd). I tried both but failed."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1477506110,"post_id":40253833,"comment_id":67799057,"body_markdown":"@Reens, I did help you with the code. I gave you two working examples. Modify the working examples to draw a line instead of a rectangle.","body":"@Reens, I did help you with the code. I gave you two working examples. Modify the working examples to draw a line instead of a rectangle."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477456579,"creation_date":1477456579,"answer_id":40253833,"question_id":40253767,"body_markdown":"&gt; This is the code that works for me, but the previous line gets erased as soon as you draw a new one:\r\n\r\nThere are two common approaches:\r\n\r\n1. Keep an ArrayList of objects to paint. Then the paintComponent() method repaints all the objects each time the component needs to repaint itself\r\n\r\n2. Paint onto a BufferImage and then just paint the BufferedImage.\r\n\r\nCheck out [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for a working example of both of these approaches.","title":"Java Swing draw lines with mouse click and drag","body":"<blockquote>\n  <p>This is the code that works for me, but the previous line gets erased as soon as you draw a new one:</p>\n</blockquote>\n\n<p>There are two common approaches:</p>\n\n<ol>\n<li><p>Keep an ArrayList of objects to paint. Then the paintComponent() method repaints all the objects each time the component needs to repaint itself</p></li>\n<li><p>Paint onto a BufferImage and then just paint the BufferedImage.</p></li>\n</ol>\n\n<p>Check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow\">Custom Painting Approaches</a> for a working example of both of these approaches.</p>\n"},{"tags":[],"owner":{"account_id":27267836,"reputation":1,"user_id":20789567,"display_name":"Minjky"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671522168,"creation_date":1671156353,"answer_id":74819488,"question_id":40253767,"body_markdown":"Just set in mouseRelesed \r\n\r\n    pointStart = e.getPoint instead of pointStart = null.\r\n\r\nthere is no need for any lists or things like that \r\nwhen you set it to null it starts from the beginning and deletes the last one \r\n\r\n    \r\n","title":"Java Swing draw lines with mouse click and drag","body":"<p>Just set in mouseRelesed</p>\n<pre><code>pointStart = e.getPoint instead of pointStart = null.\n</code></pre>\n<p>there is no need for any lists or things like that\nwhen you set it to null it starts from the beginning and deletes the last one</p>\n"}],"owner":{"account_id":7357508,"reputation":15,"user_id":5601777,"display_name":"Reens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3453,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1671522168,"creation_date":1477456235,"question_id":40253767,"body_markdown":"I want to bring back a question that was asked before: https://stackoverflow.com/questions/9711938/java-draw-line-as-the-mouse-is-moved/32541290#32541290\r\n\r\n&quot;I would like to add a feature to my application which allows the user to draw a straight line by clicking the mouse at the start location and releasing it at the end location. The line should move as the mouse moves until it is finally released; similar to the way that a line can be drawn using the Microsoft Paint application.\r\n\r\nHow can implement this so that the line is repainted as it moves without repainting other things that may already be drawn in that rectangular area?&quot;\r\n\r\n**Question is: How can I draw multiple lines with the old lines still there?** \r\n\r\nThis is the code that works for me, but the previous line gets erased as soon as you draw a new one:\r\n\r\n    public static void main(String args[]) throws Exception {\r\n        JFrame f = new JFrame(&quot;Draw a Red Line&quot;);\r\n        f.setSize(300, 300);\r\n        f.setLocation(300, 300);\r\n        f.setResizable(false);\r\n        JPanel p = new JPanel() {\r\n            Point pointStart = null;\r\n            Point pointEnd   = null;\r\n            {\r\n                addMouseListener(new MouseAdapter() {\r\n                    public void mousePressed(MouseEvent e) {\r\n                        pointStart = e.getPoint();\r\n                    }\r\n    \r\n                    public void mouseReleased(MouseEvent e) {\r\n                        pointStart = null;\r\n                    }\r\n                });\r\n                addMouseMotionListener(new MouseMotionAdapter() {\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        pointEnd = e.getPoint();\r\n                    }\r\n    \r\n                    public void mouseDragged(MouseEvent e) {\r\n                        pointEnd = e.getPoint();\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                if (pointStart != null) {\r\n                    g.setColor(Color.RED);\r\n                    g.drawLine(pointStart.x, pointStart.y, pointEnd.x, pointEnd.y);\r\n                }\r\n            }\r\n        };\r\n        f.add(p);\r\n        f.setVisible(true); \r\n    }","title":"Java Swing draw lines with mouse click and drag","body":"<p>I want to bring back a question that was asked before: <a href=\"https://stackoverflow.com/questions/9711938/java-draw-line-as-the-mouse-is-moved/32541290#32541290\">java draw line as the mouse is moved</a></p>\n\n<p>\"I would like to add a feature to my application which allows the user to draw a straight line by clicking the mouse at the start location and releasing it at the end location. The line should move as the mouse moves until it is finally released; similar to the way that a line can be drawn using the Microsoft Paint application.</p>\n\n<p>How can implement this so that the line is repainted as it moves without repainting other things that may already be drawn in that rectangular area?\"</p>\n\n<p><strong>Question is: How can I draw multiple lines with the old lines still there?</strong> </p>\n\n<p>This is the code that works for me, but the previous line gets erased as soon as you draw a new one:</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n    JFrame f = new JFrame(\"Draw a Red Line\");\n    f.setSize(300, 300);\n    f.setLocation(300, 300);\n    f.setResizable(false);\n    JPanel p = new JPanel() {\n        Point pointStart = null;\n        Point pointEnd   = null;\n        {\n            addMouseListener(new MouseAdapter() {\n                public void mousePressed(MouseEvent e) {\n                    pointStart = e.getPoint();\n                }\n\n                public void mouseReleased(MouseEvent e) {\n                    pointStart = null;\n                }\n            });\n            addMouseMotionListener(new MouseMotionAdapter() {\n                public void mouseMoved(MouseEvent e) {\n                    pointEnd = e.getPoint();\n                }\n\n                public void mouseDragged(MouseEvent e) {\n                    pointEnd = e.getPoint();\n                    repaint();\n                }\n            });\n        }\n        public void paint(Graphics g) {\n            super.paint(g);\n            if (pointStart != null) {\n                g.setColor(Color.RED);\n                g.drawLine(pointStart.x, pointStart.y, pointEnd.x, pointEnd.y);\n            }\n        }\n    };\n    f.add(p);\n    f.setVisible(true); \n}\n</code></pre>\n"},{"tags":["java","selenium","xpath","automated-tests"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1671449114,"post_id":74849253,"comment_id":132094319,"body_markdown":"From which page do you want to retrieve the table headers, mention that exact page and also how to navigate to that page?","body":"From which page do you want to retrieve the table headers, mention that exact page and also how to navigate to that page?"},{"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"score":0,"creation_date":1671452863,"post_id":74849253,"comment_id":132095300,"body_markdown":"@AbiSaran I have updated check now","body":"@AbiSaran I have updated check now"},{"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"score":0,"creation_date":1671453226,"post_id":74849253,"comment_id":132095402,"body_markdown":"@AbiSaran I have updated please check also execute all the files to reach at the table present in image","body":"@AbiSaran I have updated please check also execute all the files to reach at the table present in image"}],"answers":[{"comments":[{"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"score":0,"creation_date":1671522826,"post_id":74859807,"comment_id":132111728,"body_markdown":"Yes, Sure I will","body":"Yes, Sure I will"}],"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671521785,"creation_date":1671521785,"answer_id":74859807,"question_id":74849253,"body_markdown":"After login, add the below code and try:\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;.//button[@class=&#39;toast-close-button&#39;]&quot;)).click();\r\n    \t        \r\n    driver.findElement(By.xpath(&quot;(.//td[text()=&#39;random&#39;]//parent::tr//td/button)[1]&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.xpath(&quot;(.//div[@class=&#39;modal-content&#39;]//button[@type=&#39;button&#39; and @title=&#39;View data&#39;])[1]&quot;)).click();\r\n    Thread.sleep(2000);\r\n    \t        \r\n    JavascriptExecutor js=(JavascriptExecutor)driver;\r\n    \t        \r\n    List&lt;WebElement&gt; headers = driver.findElements(By.xpath(&quot;.//div[@class=&#39;dataTables_scrollHead&#39;]//th&quot;));\r\n    System.out.println(&quot;Total no. of headers: &quot; + headers.size());\r\n    \t        \r\n    System.out.println(&quot;Headers: &quot;);\r\n    System.err.println(&quot;========&quot;);\r\n    for (WebElement header : headers) {\r\n        js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, header);\r\n    \tSystem.out.println(header.getText());\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    Total no. of headers: 9\r\n    Headers: \r\n    ========\r\n    TIMESTAMP\r\n    SOURCE NAME\r\n    SOURCE STATE\r\n    ACK STATE\r\n    MESSAGE TEXT\r\n    LAST NOTES\r\n    ALL NOTES\r\n    ALARM VALUE\r\n    LOW LIMIT\r\n\r\nI answered your previous question also, check that, if it works for you, mark that as answer.","title":"All though Xpath is showing all elements in selector hub from expected div ,selenium isn&#39;t capturing completely","body":"<p>After login, add the below code and try:</p>\n<pre><code>driver.findElement(By.xpath(&quot;.//button[@class='toast-close-button']&quot;)).click();\n            \ndriver.findElement(By.xpath(&quot;(.//td[text()='random']//parent::tr//td/button)[1]&quot;)).click();\nThread.sleep(2000);\ndriver.findElement(By.xpath(&quot;(.//div[@class='modal-content']//button[@type='button' and @title='View data'])[1]&quot;)).click();\nThread.sleep(2000);\n            \nJavascriptExecutor js=(JavascriptExecutor)driver;\n            \nList&lt;WebElement&gt; headers = driver.findElements(By.xpath(&quot;.//div[@class='dataTables_scrollHead']//th&quot;));\nSystem.out.println(&quot;Total no. of headers: &quot; + headers.size());\n            \nSystem.out.println(&quot;Headers: &quot;);\nSystem.err.println(&quot;========&quot;);\nfor (WebElement header : headers) {\n    js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, header);\n    System.out.println(header.getText());\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Total no. of headers: 9\nHeaders: \n========\nTIMESTAMP\nSOURCE NAME\nSOURCE STATE\nACK STATE\nMESSAGE TEXT\nLAST NOTES\nALL NOTES\nALARM VALUE\nLOW LIMIT\n</code></pre>\n<p>I answered your previous question also, check that, if it works for you, mark that as answer.</p>\n"}],"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74859807,"answer_count":1,"score":0,"last_activity_date":1671521785,"creation_date":1671445891,"question_id":74849253,"body_markdown":"I want to capture all the headers of a table using the selenium using the. I am using the \r\nXpath to capture the webelement using Xpath.\r\nXpath:\r\n\r\n    &quot;//div[@class=&#39;dataTables_scrollHeadInner&#39;]//tr[@id=&#39;report-data-table-header-0&#39;]/th&quot;\r\nand it shows all the elements of the div i.e (9 th&#39;s),but when I capture it using selenium I only get 7 elements.\r\n\r\nAll the xpaths are mentioned are required the and the commented block of code is function call of homePage.view_report_values(textString). \r\n\r\nSource Code:\r\n\r\n    package Onsight.Framework;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    import com.github.javafaker.Faker;\r\n    \r\n    import avdhut.onsight.commonutils.BaseComponenets;\r\n    import avdhut.onsight.pageobject.HomePage;\r\n    import avdhut.onsight.pageobject.LoginPage;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class Webtable  {\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\r\n    \t\tString userEmailString = &quot;User66&quot;;\r\n    \t\tString userPassword = &quot;Avdhut@5201&quot;;\r\n    \t\tString titleString;\r\n    \t\tString textString=&quot;Clarita&quot;;\r\n    \t\tFaker faker = new Faker();\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\t// options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\r\n    \t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver(options);\r\n    \t\tdriver.get(urlString);\r\n    \t\tLoginPage loginPage = new LoginPage(driver);\r\n    \t\tloginPage.login_username(userEmailString);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tloginPage.EnterPassword(userPassword);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tHomePage homePage = new HomePage(driver);\r\n    \t\thomePage.view_report_values(textString);\r\n    \t\t   \r\n    \t\t\r\n    \t\r\n    \t\r\n    \t}\r\n    }\r\n    //tr[class=&#39;odd&#39;] em[class=&#39;fa fa-table&#39;]\r\n\r\nPage Object file:\r\n\r\n    [![public class HomePage extends BaseComponenets {\r\n    \tWebDriver driver;\r\n    \tBy createReportBy=By.cssSelector(&quot;button\\[data-target*=&#39;#addReportModal&#39;\\]&quot;);\r\n    \tBy baseTableBy=By.xpath(&quot;//table\\[@id=&#39;query-table&#39;\\]&quot;);\r\n    \tBy report_name_rowsBy=By.xpath(&quot;//tbody/tr&quot;);\r\n    \tBy viewBy=By.xpath(&quot;//button\\[contains(@title,&#39;View&#39;)\\]&quot;);\r\n    \tBy view_dataBy=By.xpath(&quot;//button\\[contains(@title,&#39;View data&#39;)\\]&quot;);\r\n    \tBy dataBy=By.xpath(&quot;//table\\[@id=&#39;reportDataTable-0&#39;\\]/tbody/tr\t&quot;);\r\n    \tBy teable_headingBy=By.xpath(&quot;//div\\[@class=&#39;dataTables_scrollHeadInner&#39;\\]//tr\\[@id=&#39;report-data-table-header-0&#39;\\]/th&quot;);\r\n    \tBy next_paginateBy=By.xpath(&quot;//li\\[@id=&#39;reportDataTable-0_next&#39;\\]&quot;);\r\n    \tBy paginateBy=By.xpath(&quot;//div\\[@id=&#39;reportDataTable-0_paginate&#39;\\]/ul\\[@class=&#39;pagination&#39;\\]/li\\[@class=&#39;paginate_button page-item &#39;\\]&quot;);\r\n    \tBy no_of_pagesBy=By.xpath(&quot;//div\\[@id=&#39;reportDataTable-0_info&#39;\\]&quot;);\r\n    \tpublic HomePage(WebDriver driver) {\r\n    \t\tsuper(driver);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t\tthis.driver=driver;\r\n    \t}\r\n    \tpublic void CreateReport_Button() {\r\n    \t\tIsClickable(createReportBy);\r\n    \t\tWebElement create_Report=driver.findElement(createReportBy);\r\n    \t\tcreate_Report.click();\r\n    \t}\r\n    \tpublic void get_headers() {\r\n    \t\tIsVisible(teable_headingBy);\r\n    \t\tList&lt;WebElement&gt; table_headerElement=driver.findElements(teable_headingBy);\r\n    \t\t\r\n    \t\t\tfor (WebElement header : table_headerElement) {\r\n    \t\t\t\tSystem.out.println(header.getText());\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \tpublic void view_report_values(String report_title) throws InterruptedException {\r\n    \t\r\n    \t\tIsVisible(baseTableBy);\r\n    \t\tWebElement baseTable=driver.findElement(baseTableBy);\r\n    \t\tList&lt;WebElement&gt; table_roWebElement=baseTable.findElements(report_name_rowsBy);\r\n    \t\tList&lt;String&gt; list=new ArrayList&lt;String&gt;();\r\n    \t\tfor (WebElement webElement : table_roWebElement) {\r\n    \t\t\tif (webElement.getText().contains(report_title)) {\r\n    \t\t\t\tSystem.out.println(true);\r\n    \t\t\t\tIsClickable(viewBy);\r\n    \t\t\t\tSystem.out.println(webElement.getText());\r\n    \t\t\t\twebElement.findElement(viewBy).click();\r\n    \t\t\t\tIsClickable(view_dataBy);\r\n    \t\t\t\tdriver.findElement(view_dataBy).click();\t\r\n    \t\t\t\tIsVisible(next_paginateBy);\r\n    \t\t\t\tList&lt;WebElement&gt; pagebar=driver.findElements(paginateBy);\r\n    \t\t\t\tfor(WebElement page:pagebar) {\r\n    \t\t\t\t\tlist.add(page.getText());\r\n    \t\t\t\t}\r\n    //\t\t\tname(list);\r\n    \t\t\t\tif (driver.findElement(next_paginateBy).isDisplayed()) {\r\n    \t\t\t\t\tfor (int i = 1; i &lt;= 30; i++) {\r\n    \t\t\t\t\t\tif (i==1) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;first_page&quot;);\r\n    \t\t\t\t\t\t\tget_headers();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    //\t\t\t\t\t\tThread.sleep(10000);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t   }\r\n    \t\t\t\t} else {\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    //\t\t\t\t\t\t\r\n    \t\t}\r\n    }][1]][1]\r\n\r\n\r\nConsole O/P:\r\n\r\n    TIMESTAMP\r\n    SOURCE NAME\r\n    SOURCE STATE\r\n    ACK STATE\r\n    MESSAGE TEXT\r\n    LAST NOTES\r\n\r\n\r\n\r\n    \r\nAfter that I googled and then found some articles and then In order to test I used console of google chrome\r\n\r\n    document.getElementsByClassName(&#39;dataTables_scrollBody&#39;).scrollLeft += 250&quot;, &quot;\r\nIt gave me an error , then, I used:\r\n\r\n    document.getElementsByClassName(&#39;dataTables_scrollBody&#39;).scrollLeft +=250\r\nThen,\r\nI got the message :\r\n\r\n&gt; NaN\r\n\r\n[![enter image description here][1]][1] \r\nThis is the table I want to scroll also the classname mentioned in belongs to same div of the table in image\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nkUVl.png","title":"All though Xpath is showing all elements in selector hub from expected div ,selenium isn&#39;t capturing completely","body":"<p>I want to capture all the headers of a table using the selenium using the. I am using the\nXpath to capture the webelement using Xpath.\nXpath:</p>\n<pre><code>&quot;//div[@class='dataTables_scrollHeadInner']//tr[@id='report-data-table-header-0']/th&quot;\n</code></pre>\n<p>and it shows all the elements of the div i.e (9 th's),but when I capture it using selenium I only get 7 elements.</p>\n<p>All the xpaths are mentioned are required the and the commented block of code is function call of homePage.view_report_values(textString).</p>\n<p>Source Code:</p>\n<pre><code>package Onsight.Framework;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport com.github.javafaker.Faker;\n\nimport avdhut.onsight.commonutils.BaseComponenets;\nimport avdhut.onsight.pageobject.HomePage;\nimport avdhut.onsight.pageobject.LoginPage;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class Webtable  {\n    \n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n        \n        String urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\n        String userEmailString = &quot;User66&quot;;\n        String userPassword = &quot;Avdhut@5201&quot;;\n        String titleString;\n        String textString=&quot;Clarita&quot;;\n        Faker faker = new Faker();\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        // options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(urlString);\n        LoginPage loginPage = new LoginPage(driver);\n        loginPage.login_username(userEmailString);\n        loginPage.click0nsubmit();\n        loginPage.EnterPassword(userPassword);\n        loginPage.click0nsubmit();\n        HomePage homePage = new HomePage(driver);\n        homePage.view_report_values(textString);\n           \n        \n    \n    \n    }\n}\n//tr[class='odd'] em[class='fa fa-table']\n</code></pre>\n<p>Page Object file:</p>\n<pre><code>[![public class HomePage extends BaseComponenets {\n    WebDriver driver;\n    By createReportBy=By.cssSelector(&quot;button\\[data-target*='#addReportModal'\\]&quot;);\n    By baseTableBy=By.xpath(&quot;//table\\[@id='query-table'\\]&quot;);\n    By report_name_rowsBy=By.xpath(&quot;//tbody/tr&quot;);\n    By viewBy=By.xpath(&quot;//button\\[contains(@title,'View')\\]&quot;);\n    By view_dataBy=By.xpath(&quot;//button\\[contains(@title,'View data')\\]&quot;);\n    By dataBy=By.xpath(&quot;//table\\[@id='reportDataTable-0'\\]/tbody/tr &quot;);\n    By teable_headingBy=By.xpath(&quot;//div\\[@class='dataTables_scrollHeadInner'\\]//tr\\[@id='report-data-table-header-0'\\]/th&quot;);\n    By next_paginateBy=By.xpath(&quot;//li\\[@id='reportDataTable-0_next'\\]&quot;);\n    By paginateBy=By.xpath(&quot;//div\\[@id='reportDataTable-0_paginate'\\]/ul\\[@class='pagination'\\]/li\\[@class='paginate_button page-item '\\]&quot;);\n    By no_of_pagesBy=By.xpath(&quot;//div\\[@id='reportDataTable-0_info'\\]&quot;);\n    public HomePage(WebDriver driver) {\n        super(driver);\n        // TODO Auto-generated constructor stub\n        this.driver=driver;\n    }\n    public void CreateReport_Button() {\n        IsClickable(createReportBy);\n        WebElement create_Report=driver.findElement(createReportBy);\n        create_Report.click();\n    }\n    public void get_headers() {\n        IsVisible(teable_headingBy);\n        List&lt;WebElement&gt; table_headerElement=driver.findElements(teable_headingBy);\n        \n            for (WebElement header : table_headerElement) {\n                System.out.println(header.getText());\n            }\n        \n        \n        \n    }\n    public void view_report_values(String report_title) throws InterruptedException {\n    \n        IsVisible(baseTableBy);\n        WebElement baseTable=driver.findElement(baseTableBy);\n        List&lt;WebElement&gt; table_roWebElement=baseTable.findElements(report_name_rowsBy);\n        List&lt;String&gt; list=new ArrayList&lt;String&gt;();\n        for (WebElement webElement : table_roWebElement) {\n            if (webElement.getText().contains(report_title)) {\n                System.out.println(true);\n                IsClickable(viewBy);\n                System.out.println(webElement.getText());\n                webElement.findElement(viewBy).click();\n                IsClickable(view_dataBy);\n                driver.findElement(view_dataBy).click();    \n                IsVisible(next_paginateBy);\n                List&lt;WebElement&gt; pagebar=driver.findElements(paginateBy);\n                for(WebElement page:pagebar) {\n                    list.add(page.getText());\n                }\n//          name(list);\n                if (driver.findElement(next_paginateBy).isDisplayed()) {\n                    for (int i = 1; i &lt;= 30; i++) {\n                        if (i==1) {\n                            System.out.println(&quot;first_page&quot;);\n                            get_headers();\n                        }\n                        \n//                      Thread.sleep(10000);\n                        \n                   }\n                } else {\n\n                }\n                \n//                      \n        }\n}][1]][1]\n</code></pre>\n<p>Console O/P:</p>\n<pre><code>TIMESTAMP\nSOURCE NAME\nSOURCE STATE\nACK STATE\nMESSAGE TEXT\nLAST NOTES\n</code></pre>\n<p>After that I googled and then found some articles and then In order to test I used console of google chrome</p>\n<pre><code>document.getElementsByClassName('dataTables_scrollBody').scrollLeft += 250&quot;, &quot;\n</code></pre>\n<p>It gave me an error , then, I used:</p>\n<pre><code>document.getElementsByClassName('dataTables_scrollBody').scrollLeft +=250\n</code></pre>\n<p>Then,\nI got the message :</p>\n<blockquote>\n<p>NaN</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/nkUVl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nkUVl.png\" alt=\"enter image description here\" /></a>\nThis is the table I want to scroll also the classname mentioned in belongs to same div of the table in image</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671552628,"post_id":74859800,"comment_id":132121507,"body_markdown":"take a look https://stackoverflow.com/questions/20496239/maven-plugins-can-not-be-found-in-intellij","body":"take a look <a href=\"https://stackoverflow.com/questions/20496239/maven-plugins-can-not-be-found-in-intellij\" title=\"maven plugins can not be found in intellij\">stackoverflow.com/questions/20496239/&hellip;</a>"},{"owner":{"account_id":12086498,"reputation":58,"user_id":11673880,"display_name":"Ankit Dabhi"},"score":0,"creation_date":1671776194,"post_id":74859800,"comment_id":132173688,"body_markdown":"It&#39;s not working for me","body":"It&#39;s not working for me"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671785987,"post_id":74859800,"comment_id":132175494,"body_markdown":"Is it works from command line?","body":"Is it works from command line?"}],"owner":{"account_id":12086498,"reputation":58,"user_id":11673880,"display_name":"Ankit Dabhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671521744,"creation_date":1671521744,"question_id":74859800,"body_markdown":"Getting error in my project even comment out Maven plugin, still facing same issue\r\n\r\n    &lt;!--&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;pushReleases&gt;true&lt;/pushReleases&gt;\r\n\t\t\t\t\t&lt;pushFeatures&gt;true&lt;/pushFeatures&gt;\r\n\t\t\t\t\t&lt;allowSnapshots&gt;true&lt;/allowSnapshots&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&amp;lt;!&amp;ndash; required for proper handling of symlinks by jgitflow. Requirements: POSIX and Java7 &amp;ndash;&amp;gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;org.eclipse.jgit.java7&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&amp;lt;!&amp;ndash; the same as the one inside jgitflow&#39;s dependencies &amp;ndash;&amp;gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.7.1.201504261725-r&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;--&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7TQ7P.png\r\n  [2]: https://i.stack.imgur.com/M1IWB.png\r\n\r\n\r\n\r\n ","title":"Unresolved plugin: &#39;external.atlassian.jgitflow:jgitflow-maven-plugin:1.0-m5.1&#39;","body":"<p>Getting error in my project even comment out Maven plugin, still facing same issue</p>\n<pre><code>&lt;!--&lt;plugin&gt;\n            &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\n            &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;pushReleases&gt;true&lt;/pushReleases&gt;\n                &lt;pushFeatures&gt;true&lt;/pushFeatures&gt;\n                &lt;allowSnapshots&gt;true&lt;/allowSnapshots&gt;\n            &lt;/configuration&gt;\n\n            &lt;dependencies&gt;\n                &amp;lt;!&amp;ndash; required for proper handling of symlinks by jgitflow. Requirements: POSIX and Java7 &amp;ndash;&amp;gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n                    &lt;artifactId&gt;org.eclipse.jgit.java7&lt;/artifactId&gt;\n                    &amp;lt;!&amp;ndash; the same as the one inside jgitflow's dependencies &amp;ndash;&amp;gt;\n                    &lt;version&gt;3.7.1.201504261725-r&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;--&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7TQ7P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7TQ7P.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/M1IWB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1IWB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","netty","bytebuffer","netty4"],"answers":[{"comments":[{"owner":{"account_id":2629084,"reputation":7968,"user_id":2275490,"display_name":"Vickel"},"score":0,"creation_date":1671500884,"post_id":74849452,"comment_id":132108382,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}],"tags":[],"owner":{"account_id":484415,"reputation":63,"user_id":900073,"display_name":"Junyong"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671521636,"creation_date":1671446953,"answer_id":74849452,"question_id":74409734,"body_markdown":"You can modify the limit first\r\n\r\n    var bb = ByteBufferPoolManager.getNativeByteBuffer();\r\n    bb.limit(nextPacketLength-12);\r\n    receivingBuf.readBytes(bb);\r\n\r\nOr you can duplicate bb and modify its limit. Don&#39;t worry about the overhead, because the duplicate shares the original&#39;s content, so the overhead is very small.\r\n\r\n    var bb = ByteBufferPoolManager.getNativeByteBuffer();\r\n    bb.duplicate().limit(nextPacketLength-12);\r\n    receivingBuf.readBytes(bb);","title":"Netty 4 - Copy specific nr of bytes from ByteBuf into Native ByteBuffer","body":"<p>You can modify the limit first</p>\n<pre><code>var bb = ByteBufferPoolManager.getNativeByteBuffer();\nbb.limit(nextPacketLength-12);\nreceivingBuf.readBytes(bb);\n</code></pre>\n<p>Or you can duplicate bb and modify its limit. Don't worry about the overhead, because the duplicate shares the original's content, so the overhead is very small.</p>\n<pre><code>var bb = ByteBufferPoolManager.getNativeByteBuffer();\nbb.duplicate().limit(nextPacketLength-12);\nreceivingBuf.readBytes(bb);\n</code></pre>\n"}],"owner":{"account_id":6245015,"reputation":483,"user_id":4857290,"display_name":"Ralms"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671521636,"creation_date":1668216730,"question_id":74409734,"body_markdown":"I&#39;ve been implementing Netty 4 on my app and I&#39;ve ran into a limitation which I would like to optimize. \r\n\r\nI&#39;m using NioSocketChannel where when I receive data, the final object it needs to end up into is a Direct ByteBuffer Native,created as such: \r\n`ByteBuffer.allocateDirect(var0).order(ByteOrder.nativeOrder());` This is hard requirement, I can&#39;t go around it. \r\n\r\nTo minimize object allocation, I&#39;m using a ByteBufferPool and my ChannelRead looks something like this: \r\n\r\n```\r\ntry{\r\n   receivingBuf.writeBytes((ByteBuf) msg);\r\n\r\n   if(receivingBuf.readableBytes() &gt;= nextPacketLength){\r\n      var bb = ByteBufferPoolManager.getByteBuffer();\r\n      receivingBuf.readBytes(bb.array(), 0, nextPacketLength-12);\r\n      bb.position(0);\r\n      bb.limit(nextPacketLength - 12);\r\n\r\n      MyCustomMethodToProcessData(bb);\r\n   }\r\n}\r\nfinally\r\n{\r\n   ((ByteBuf) msg).release();\r\n}\r\n```\r\nPlease ignore the -12 bytes, that is due to the format of my packets. Also, `ByteBufferPoolManager.getByteBuffer()` returns a normal heap ByteBuffer. \r\n\r\n**GOAL: Transfer a specific number of bytes from `receivingBuf` into a Direct Native Order allocated ByteBuffer.**\r\n\r\nI tried to do this:\r\n```\r\nvar bb = ByteBufferPoolManager.getNativeByteBuffer();\r\nreceivingBuf.readBytes(bb.array(), 0, nextPacketLength-12);\r\nbb.position(0);\r\nbb.limit(nextPacketLength - 12);\r\n\r\nMyCustomMethodToProcessData(bb);\r\n```\r\nBut this doesn&#39;t work, as you can&#39;t access `.array()` on a Direct ByteBuffer. You get exception: \r\n```\r\njava.lang.UnsupportedOperationException\r\n\tat java.base/java.nio.ByteBuffer.array(ByteBuffer.java:1471)\r\n```\r\n\r\nIf I do:\r\n```\r\nvar bb = ByteBufferPoolManager.getNativeByteBuffer();\r\nreceivingBuf.readBytes(bb, 0, nextPacketLength-12);\r\n...\r\n```\r\nThis doesn&#39;t exist as an available method on ByteBuf.\r\n\r\nAdditionally, if I do:\r\n```\r\nvar bb = ByteBufferPoolManager.getNativeByteBuffer();\r\nreceivingBuf.readBytes(bb);\r\n...\r\n```\r\nWill cause an exception, as the Native ByteBuffer is massive (1000000 size), and ByteBuf will attempt to copy over 1 million bytes, while the available bytes on the ByteBuf is way less than that. \r\n\r\nOne option I&#39;ve considered, is having a byte[] per channel context, which is used exclusively do to this data transfer, but still, I don&#39;t think I will have much improvements vs what I&#39;m doing now. \r\n\r\nAny ideas on how I can remove this middle hop in `ByteBuf -&gt; Heap ByteBuffer -&gt; Native ByteBuffer`? ","title":"Netty 4 - Copy specific nr of bytes from ByteBuf into Native ByteBuffer","body":"<p>I've been implementing Netty 4 on my app and I've ran into a limitation which I would like to optimize.</p>\n<p>I'm using NioSocketChannel where when I receive data, the final object it needs to end up into is a Direct ByteBuffer Native,created as such:\n<code>ByteBuffer.allocateDirect(var0).order(ByteOrder.nativeOrder());</code> This is hard requirement, I can't go around it.</p>\n<p>To minimize object allocation, I'm using a ByteBufferPool and my ChannelRead looks something like this:</p>\n<pre><code>try{\n   receivingBuf.writeBytes((ByteBuf) msg);\n\n   if(receivingBuf.readableBytes() &gt;= nextPacketLength){\n      var bb = ByteBufferPoolManager.getByteBuffer();\n      receivingBuf.readBytes(bb.array(), 0, nextPacketLength-12);\n      bb.position(0);\n      bb.limit(nextPacketLength - 12);\n\n      MyCustomMethodToProcessData(bb);\n   }\n}\nfinally\n{\n   ((ByteBuf) msg).release();\n}\n</code></pre>\n<p>Please ignore the -12 bytes, that is due to the format of my packets. Also, <code>ByteBufferPoolManager.getByteBuffer()</code> returns a normal heap ByteBuffer.</p>\n<p><strong>GOAL: Transfer a specific number of bytes from <code>receivingBuf</code> into a Direct Native Order allocated ByteBuffer.</strong></p>\n<p>I tried to do this:</p>\n<pre><code>var bb = ByteBufferPoolManager.getNativeByteBuffer();\nreceivingBuf.readBytes(bb.array(), 0, nextPacketLength-12);\nbb.position(0);\nbb.limit(nextPacketLength - 12);\n\nMyCustomMethodToProcessData(bb);\n</code></pre>\n<p>But this doesn't work, as you can't access <code>.array()</code> on a Direct ByteBuffer. You get exception:</p>\n<pre><code>java.lang.UnsupportedOperationException\n    at java.base/java.nio.ByteBuffer.array(ByteBuffer.java:1471)\n</code></pre>\n<p>If I do:</p>\n<pre><code>var bb = ByteBufferPoolManager.getNativeByteBuffer();\nreceivingBuf.readBytes(bb, 0, nextPacketLength-12);\n...\n</code></pre>\n<p>This doesn't exist as an available method on ByteBuf.</p>\n<p>Additionally, if I do:</p>\n<pre><code>var bb = ByteBufferPoolManager.getNativeByteBuffer();\nreceivingBuf.readBytes(bb);\n...\n</code></pre>\n<p>Will cause an exception, as the Native ByteBuffer is massive (1000000 size), and ByteBuf will attempt to copy over 1 million bytes, while the available bytes on the ByteBuf is way less than that.</p>\n<p>One option I've considered, is having a byte[] per channel context, which is used exclusively do to this data transfer, but still, I don't think I will have much improvements vs what I'm doing now.</p>\n<p>Any ideas on how I can remove this middle hop in <code>ByteBuf -&gt; Heap ByteBuffer -&gt; Native ByteBuffer</code>?</p>\n"},{"tags":["java","elasticsearch","liferay","portlet","liferay-7"],"answers":[{"comments":[{"owner":{"account_id":1251429,"reputation":211,"user_id":1211766,"accept_rate":67,"display_name":"dgiaig"},"score":0,"creation_date":1604072258,"post_id":64605539,"comment_id":114244362,"body_markdown":"Thank you so much @jorgediaz-lr , your solution is working perfectly and your answer was awesome.\nI have a problem just with the RegistryUtili and the @ Reference: deployed with this code, the service had some problem with some unsatisfied reference (to the registry or the registryutil) so, for now,I&#39;ll leave it without any reference.\n\nThank you again!","body":"Thank you so much @jorgediaz-lr , your solution is working perfectly and your answer was awesome. I have a problem just with the RegistryUtili and the @ Reference: deployed with this code, the service had some problem with some unsatisfied reference (to the registry or the registryutil) so, for now,I&#39;ll leave it without any reference.  Thank you again!"}],"tags":[],"owner":{"account_id":4041556,"reputation":942,"user_id":3324255,"display_name":"jorgediaz-lr"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671521573,"creation_date":1604049270,"answer_id":64605539,"question_id":64578394,"body_markdown":"The &quot;ddmFieldArray&quot; field is a nested field that it is not returned by default.\r\nYou have to fetch it from the document source field that is stored in an internal &quot;_source&quot; field in Elasticsearch (see https://www.elastic.co/guide/en/elasticsearch/reference/7.9/search-fields.html )\r\n\r\nIn order to do this in Liferay, you have to use some search methods that aren&#39;t available in the old **portal-kernel** search classes, you have to use the new search classes that are available in the **portal-search-api** module that is located in *modules/apps/portal-search*\r\n\r\nThese are the changes you have to apply to your code:\r\n\r\n - Before executing the search, you have to add the &quot;fetchSource&quot; flag to your search adding this code:\r\n\r\n```\r\n    searchRequestBuilderFactory.builder(\r\n    \tsearchContext\r\n    ).fetchSource(\r\n    \ttrue\r\n    ).build();\r\n```\r\n\r\n - After executing the search, you have to get the Document objects from the SearchResponse object. This SearchResponse is available in the searchContext using this code:\r\n\r\n```\r\n    /* Execute search */\r\n    IndexSearcherHelperUtil.search(searchContext, query);\r\n    \r\n    /* Get results from search response */\r\n    SearchResponse searchResponse = searchContext.getAttribute(&quot;search.response&quot;);\r\n    List&lt;SearchHit&gt; resultHits = searchResponse.getSearchHits().getSearchHits();\r\n    \r\n    /* Iterate */\r\n    for (SearchHit searchHit : resultHits)  {\r\n    \tDocument doc = searchHit.getDocument();\r\n    \r\n    \t...your stuff...\r\n    }\r\n```\r\n \r\nYou have some examples about fetching source and gettings SearchResponse in following Liferay classes:\r\n\r\n - [com.liferay.document.library.search.test.DLSearchFixture][1], see method searchOnlyOneSearchHit where fetchSource(true) is setted and the SearchResponse object is got from the searchContext\r\n - [com.liferay.account.internal.retriever.AccountOrganizationRetrieverImpl][2] where some searchs are done using SearchRequest and SearchResponse.\r\n - [com.liferay.asset.internal.util.AssetHelperImpl][3] where searchRequestBuilderFactory is used.\r\n\r\nI have also implemented a groovy script example that you can execute it from: **Control Panel =&gt; Server Administration =&gt; Script**\r\n\r\n- **Code for 7.3.x version:**\r\n```\r\nimport com.liferay.registry.*;\r\nimport com.liferay.portal.kernel.search.*;\r\nimport com.liferay.portal.kernel.search.generic.*;\r\nimport com.liferay.portal.search.legacy.searcher.SearchRequestBuilderFactory;\r\nimport com.liferay.portal.search.searcher.SearchResponse;\r\nimport com.liferay.portal.search.hits.SearchHit;\r\nimport com.liferay.portal.search.document.Document;\r\n\r\n/* Get SearchRequestBuilderFactory reference using RegistryUtil, because we cannot use &quot;@Reference&quot; in a groovy script */\r\nRegistry registry = RegistryUtil.getRegistry();\r\nSearchRequestBuilderFactory searchRequestBuilderFactory = registry.getService(registry.getServiceReference(SearchRequestBuilderFactory.class.getName()));\r\n\r\n/* Create SearchContext */\r\nSearchContext searchContext = new SearchContext();\r\nsearchContext.setCompanyId(com.liferay.portal.kernel.util.PortalUtil.getCompany(actionRequest).getCompanyId());\r\nsearchContext.setStart(-1);\r\nsearchContext.setEnd(-1);\r\n\r\n/* Line to fetch stored source of documents */\r\nsearchRequestBuilderFactory.builder(\r\n\tsearchContext\r\n).fetchSource(\r\n\ttrue\r\n).build();\r\n\r\n/* Get journal articles that are approved (status = 0) */\r\nMatchQuery approvedQuery = new MatchQuery(Field.STATUS, String.valueOf(0));\r\nMatchQuery journalArticleQuery = new MatchQuery(&quot;entryClassName&quot;, com.liferay.journal.model.JournalArticle.class.getName());\r\n\r\nBooleanQuery query = new BooleanQueryImpl();\r\nquery.add(approvedQuery, BooleanClauseOccur.MUST.getName());\r\nquery.add(journalArticleQuery, BooleanClauseOccur.MUST.getName());\r\n\r\n/* Execute search */\r\nIndexSearcherHelperUtil.search(searchContext, query);\r\n\r\n/* Get results from search response */\r\nSearchResponse searchResponse = searchContext.getAttribute(&quot;search.response&quot;);\r\nList&lt;SearchHit&gt; resultHits = searchResponse.getSearchHits().getSearchHits();\r\n\r\n/* Iterate */\r\nfor (SearchHit searchHit : resultHits)  {\r\n\tDocument doc = searchHit.getDocument();\r\n\tout.println(&quot;entryClassPK: &quot; + doc.getValue(&quot;entryClassPK&quot;));\r\n\tout.println(&quot;ddmFieldArray: &quot; + doc.getValues(&quot;ddmFieldArray&quot;));\r\n\tout.println(&quot;&quot;);\r\n}\r\n```\r\n\r\n- **Code for 7.4.x version:**\r\n```\r\nimport com.liferay.portal.kernel.search.*;\r\nimport com.liferay.portal.kernel.search.generic.*;\r\nimport com.liferay.portal.search.legacy.searcher.SearchRequestBuilderFactory;\r\nimport com.liferay.portal.search.searcher.SearchResponse;\r\nimport com.liferay.portal.search.hits.SearchHit;\r\nimport com.liferay.portal.search.document.Document;\r\n\r\nimport org.osgi.framework.Bundle;\r\nimport org.osgi.framework.BundleContext;\r\n\r\nimport com.liferay.portal.kernel.module.util.SystemBundleUtil;\r\n\r\n/* Get SearchRequestBuilderFactory reference using the BundleContext, because we cannot use &quot;@Reference&quot; in a groovy script */\r\nBundleContext bundleContext = SystemBundleUtil.getBundleContext();\r\nSearchRequestBuilderFactory searchRequestBuilderFactory = bundleContext.getService(bundleContext.getServiceReferences(SearchRequestBuilderFactory.class.getName(), null)[0]);\r\n\r\n/* Create SearchContext */\r\nSearchContext searchContext = new SearchContext();\r\nsearchContext.setCompanyId(com.liferay.portal.kernel.util.PortalUtil.getCompany(actionRequest).getCompanyId());\r\nsearchContext.setStart(-1);\r\nsearchContext.setEnd(-1);\r\n\r\n/* Line to fetch stored source of documents */\r\nsearchRequestBuilderFactory.builder(\r\n    searchContext\r\n).fetchSource(\r\n    true\r\n).build();\r\n\r\n/* Get journal articles that are approved (status = 0) */\r\nMatchQuery approvedQuery = new MatchQuery(Field.STATUS, String.valueOf(0));\r\nMatchQuery journalArticleQuery = new MatchQuery(&quot;entryClassName&quot;, com.liferay.journal.model.JournalArticle.class.getName());\r\n\r\nBooleanQuery query = new BooleanQueryImpl();\r\nquery.add(approvedQuery, BooleanClauseOccur.MUST.getName());\r\nquery.add(journalArticleQuery, BooleanClauseOccur.MUST.getName());\r\n\r\n/* Execute search */\r\nIndexSearcherHelperUtil.search(searchContext, query);\r\n\r\n/* Get results from search response */\r\nSearchResponse searchResponse = searchContext.getAttribute(&quot;search.response&quot;);\r\nList&lt;SearchHit&gt; resultHits = searchResponse.getSearchHits().getSearchHits();\r\n\r\n/* Iterate */\r\nfor (SearchHit searchHit : resultHits)  {\r\n    Document doc = searchHit.getDocument();\r\n    out.println(&quot;entryClassPK: &quot; + doc.getValue(&quot;entryClassPK&quot;));\r\n    out.println(&quot;ddmFieldArray: &quot; + doc.getValues(&quot;ddmFieldArray&quot;));\r\n    out.println(&quot;&quot;);\r\n}\r\n```\r\n\r\nIn your code you should replace the RegistryUtil or BundleContext usage with the &quot;@Reference&quot; annotation.\r\n\r\nLet me know if you have any problem with my example.\r\n\r\n\r\n  [1]: https://github.com/liferay/liferay-portal/blob/02396f764ad152bde79f062c7cb1ca941a670234/modules/apps/document-library/document-library-test/src/testIntegration/java/com/liferay/document/library/search/test/DLSearchFixture.java#L73-L92\r\n  [2]: https://github.com/liferay/liferay-portal/blob/02396f764ad152bde79f062c7cb1ca941a670234/modules/apps/account/account-service/src/main/java/com/liferay/account/internal/retriever/AccountOrganizationRetrieverImpl.java#L56-L75\r\n  [3]: https://github.com/liferay/liferay-portal/blob/02396f764ad152bde79f062c7cb1ca941a670234/modules/apps/asset/asset-service/src/main/java/com/liferay/asset/internal/util/AssetHelperImpl.java#L562-L566","title":"Liferay 7.3.5GA6 custom index search and ddmFieldArray","body":"<p>The &quot;ddmFieldArray&quot; field is a nested field that it is not returned by default.\nYou have to fetch it from the document source field that is stored in an internal &quot;_source&quot; field in Elasticsearch (see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.9/search-fields.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/7.9/search-fields.html</a> )</p>\n<p>In order to do this in Liferay, you have to use some search methods that aren't available in the old <strong>portal-kernel</strong> search classes, you have to use the new search classes that are available in the <strong>portal-search-api</strong> module that is located in <em>modules/apps/portal-search</em></p>\n<p>These are the changes you have to apply to your code:</p>\n<ul>\n<li>Before executing the search, you have to add the &quot;fetchSource&quot; flag to your search adding this code:</li>\n</ul>\n<pre><code>    searchRequestBuilderFactory.builder(\n        searchContext\n    ).fetchSource(\n        true\n    ).build();\n</code></pre>\n<ul>\n<li>After executing the search, you have to get the Document objects from the SearchResponse object. This SearchResponse is available in the searchContext using this code:</li>\n</ul>\n<pre><code>    /* Execute search */\n    IndexSearcherHelperUtil.search(searchContext, query);\n    \n    /* Get results from search response */\n    SearchResponse searchResponse = searchContext.getAttribute(&quot;search.response&quot;);\n    List&lt;SearchHit&gt; resultHits = searchResponse.getSearchHits().getSearchHits();\n    \n    /* Iterate */\n    for (SearchHit searchHit : resultHits)  {\n        Document doc = searchHit.getDocument();\n    \n        ...your stuff...\n    }\n</code></pre>\n<p>You have some examples about fetching source and gettings SearchResponse in following Liferay classes:</p>\n<ul>\n<li><a href=\"https://github.com/liferay/liferay-portal/blob/02396f764ad152bde79f062c7cb1ca941a670234/modules/apps/document-library/document-library-test/src/testIntegration/java/com/liferay/document/library/search/test/DLSearchFixture.java#L73-L92\" rel=\"nofollow noreferrer\">com.liferay.document.library.search.test.DLSearchFixture</a>, see method searchOnlyOneSearchHit where fetchSource(true) is setted and the SearchResponse object is got from the searchContext</li>\n<li><a href=\"https://github.com/liferay/liferay-portal/blob/02396f764ad152bde79f062c7cb1ca941a670234/modules/apps/account/account-service/src/main/java/com/liferay/account/internal/retriever/AccountOrganizationRetrieverImpl.java#L56-L75\" rel=\"nofollow noreferrer\">com.liferay.account.internal.retriever.AccountOrganizationRetrieverImpl</a> where some searchs are done using SearchRequest and SearchResponse.</li>\n<li><a href=\"https://github.com/liferay/liferay-portal/blob/02396f764ad152bde79f062c7cb1ca941a670234/modules/apps/asset/asset-service/src/main/java/com/liferay/asset/internal/util/AssetHelperImpl.java#L562-L566\" rel=\"nofollow noreferrer\">com.liferay.asset.internal.util.AssetHelperImpl</a> where searchRequestBuilderFactory is used.</li>\n</ul>\n<p>I have also implemented a groovy script example that you can execute it from: <strong>Control Panel =&gt; Server Administration =&gt; Script</strong></p>\n<ul>\n<li><strong>Code for 7.3.x version:</strong></li>\n</ul>\n<pre><code>import com.liferay.registry.*;\nimport com.liferay.portal.kernel.search.*;\nimport com.liferay.portal.kernel.search.generic.*;\nimport com.liferay.portal.search.legacy.searcher.SearchRequestBuilderFactory;\nimport com.liferay.portal.search.searcher.SearchResponse;\nimport com.liferay.portal.search.hits.SearchHit;\nimport com.liferay.portal.search.document.Document;\n\n/* Get SearchRequestBuilderFactory reference using RegistryUtil, because we cannot use &quot;@Reference&quot; in a groovy script */\nRegistry registry = RegistryUtil.getRegistry();\nSearchRequestBuilderFactory searchRequestBuilderFactory = registry.getService(registry.getServiceReference(SearchRequestBuilderFactory.class.getName()));\n\n/* Create SearchContext */\nSearchContext searchContext = new SearchContext();\nsearchContext.setCompanyId(com.liferay.portal.kernel.util.PortalUtil.getCompany(actionRequest).getCompanyId());\nsearchContext.setStart(-1);\nsearchContext.setEnd(-1);\n\n/* Line to fetch stored source of documents */\nsearchRequestBuilderFactory.builder(\n    searchContext\n).fetchSource(\n    true\n).build();\n\n/* Get journal articles that are approved (status = 0) */\nMatchQuery approvedQuery = new MatchQuery(Field.STATUS, String.valueOf(0));\nMatchQuery journalArticleQuery = new MatchQuery(&quot;entryClassName&quot;, com.liferay.journal.model.JournalArticle.class.getName());\n\nBooleanQuery query = new BooleanQueryImpl();\nquery.add(approvedQuery, BooleanClauseOccur.MUST.getName());\nquery.add(journalArticleQuery, BooleanClauseOccur.MUST.getName());\n\n/* Execute search */\nIndexSearcherHelperUtil.search(searchContext, query);\n\n/* Get results from search response */\nSearchResponse searchResponse = searchContext.getAttribute(&quot;search.response&quot;);\nList&lt;SearchHit&gt; resultHits = searchResponse.getSearchHits().getSearchHits();\n\n/* Iterate */\nfor (SearchHit searchHit : resultHits)  {\n    Document doc = searchHit.getDocument();\n    out.println(&quot;entryClassPK: &quot; + doc.getValue(&quot;entryClassPK&quot;));\n    out.println(&quot;ddmFieldArray: &quot; + doc.getValues(&quot;ddmFieldArray&quot;));\n    out.println(&quot;&quot;);\n}\n</code></pre>\n<ul>\n<li><strong>Code for 7.4.x version:</strong></li>\n</ul>\n<pre><code>import com.liferay.portal.kernel.search.*;\nimport com.liferay.portal.kernel.search.generic.*;\nimport com.liferay.portal.search.legacy.searcher.SearchRequestBuilderFactory;\nimport com.liferay.portal.search.searcher.SearchResponse;\nimport com.liferay.portal.search.hits.SearchHit;\nimport com.liferay.portal.search.document.Document;\n\nimport org.osgi.framework.Bundle;\nimport org.osgi.framework.BundleContext;\n\nimport com.liferay.portal.kernel.module.util.SystemBundleUtil;\n\n/* Get SearchRequestBuilderFactory reference using the BundleContext, because we cannot use &quot;@Reference&quot; in a groovy script */\nBundleContext bundleContext = SystemBundleUtil.getBundleContext();\nSearchRequestBuilderFactory searchRequestBuilderFactory = bundleContext.getService(bundleContext.getServiceReferences(SearchRequestBuilderFactory.class.getName(), null)[0]);\n\n/* Create SearchContext */\nSearchContext searchContext = new SearchContext();\nsearchContext.setCompanyId(com.liferay.portal.kernel.util.PortalUtil.getCompany(actionRequest).getCompanyId());\nsearchContext.setStart(-1);\nsearchContext.setEnd(-1);\n\n/* Line to fetch stored source of documents */\nsearchRequestBuilderFactory.builder(\n    searchContext\n).fetchSource(\n    true\n).build();\n\n/* Get journal articles that are approved (status = 0) */\nMatchQuery approvedQuery = new MatchQuery(Field.STATUS, String.valueOf(0));\nMatchQuery journalArticleQuery = new MatchQuery(&quot;entryClassName&quot;, com.liferay.journal.model.JournalArticle.class.getName());\n\nBooleanQuery query = new BooleanQueryImpl();\nquery.add(approvedQuery, BooleanClauseOccur.MUST.getName());\nquery.add(journalArticleQuery, BooleanClauseOccur.MUST.getName());\n\n/* Execute search */\nIndexSearcherHelperUtil.search(searchContext, query);\n\n/* Get results from search response */\nSearchResponse searchResponse = searchContext.getAttribute(&quot;search.response&quot;);\nList&lt;SearchHit&gt; resultHits = searchResponse.getSearchHits().getSearchHits();\n\n/* Iterate */\nfor (SearchHit searchHit : resultHits)  {\n    Document doc = searchHit.getDocument();\n    out.println(&quot;entryClassPK: &quot; + doc.getValue(&quot;entryClassPK&quot;));\n    out.println(&quot;ddmFieldArray: &quot; + doc.getValues(&quot;ddmFieldArray&quot;));\n    out.println(&quot;&quot;);\n}\n</code></pre>\n<p>In your code you should replace the RegistryUtil or BundleContext usage with the &quot;@Reference&quot; annotation.</p>\n<p>Let me know if you have any problem with my example.</p>\n"}],"owner":{"account_id":1251429,"reputation":211,"user_id":1211766,"accept_rate":67,"display_name":"dgiaig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64605539,"answer_count":1,"score":2,"last_activity_date":1671521573,"creation_date":1603906798,"question_id":64578394,"body_markdown":"I&#39;m trying to develop a custom web content search portlet for Liferay 7.3.5 GA6, using SearchContext, IndexSearcherHelperUtil and all the other stuff.\r\n\r\nI have some DDMStructure with different fields and, from what I&#39;ve seen on the elasticsearch index, this fields are indexed in a nested document, like this:\r\n\r\n    &quot;ddmFieldArray&quot;: [\r\n    {\r\n    &quot;ddmFieldName&quot;: &quot;ddm__text__37702__nome_it_IT&quot;,\r\n    &quot;ddmValueFieldName&quot;: &quot;ddmFieldValueText_it_IT&quot;,\r\n    &quot;ddmFieldValueText_it_IT&quot;: &quot;Nome esempio&quot;,\r\n    &quot;ddmFieldValueText_it_IT_String_sortable&quot;: &quot;nome esempio&quot;\r\n    }\r\n    ,\r\n    {\r\n    &quot;ddmFieldName&quot;: &quot;ddm__text__37702__descrizione_breve_it_IT&quot;,\r\n    &quot;ddmValueFieldName&quot;: &quot;ddmFieldValueText_it_IT&quot;,\r\n    &quot;ddmFieldValueText_it_IT&quot;: &quot;Esempio di descrizione breve da indicizzare&quot;,\r\n    &quot;ddmFieldValueText_it_IT_String_sortable&quot;: &quot;esempio di descrizione breve da indicizzare&quot;\r\n    }\r\n    ]\r\n\r\nwhich is different from the old way I used to know, where the custom fields were indexed like `ddm__[keyword/text]__[structure_id]__[field_name]`\r\n\r\nNow, I understand&amp;nbsp;this different way of indexing is due to an improvement to avoid elastic issues (Limit of total fields has been exceeded) but...After executing the search, there is no &lt;strong&gt;ddmFieldArray&lt;/strong&gt; in the *com.liferay.portal.kernel.search.Document .getFields*, so I&#39;m unable to get the ddmstructure fields values from the elastic search index.\r\n\r\nHere&#39;s the code:\r\n\r\n    long journalArticleClassId = ClassNameLocalServiceUtil.getClassNameId(JournalArticle.class.getName());\r\n    \r\n    SearchContext searchContext = new SearchContext();\r\n    searchContext.setClassTypeIds(new long[] {journalArticleClassId});\r\n    searchContext.setCompanyId(companyId);\r\n    searchContext.setStart(QueryUtil.ALL_POS);\r\n    searchContext.setEnd(QueryUtil.ALL_POS);\r\n    \t\t\r\n    BooleanQuery query = new BooleanQueryImpl();\r\n    \t\t    \r\n    \t\t\r\n    MatchQuery approvedQuery = new MatchQuery(Field.STATUS, String.valueOf(WorkflowConstants.STATUS_APPROVED));\r\n    \r\n    query.add(approvedQuery, BooleanClauseOccur.MUST.getName());\r\n    \r\n    \r\n    Hits resultHits = IndexSearcherHelperUtil.search(searchContext, query);\r\n    \r\n    for (Document doc: resultHits.getDocs()) {\t\t\t\r\n    \tdoc.getFields().forEach((k, v) -&gt; _log.debug(k)); //No ddm structure field\r\n    }\r\n\r\nIs this still an improvement or just an unexpected behaviour?\r\n\r\nAny way to solve or extend this?\r\n\r\nThanks","title":"Liferay 7.3.5GA6 custom index search and ddmFieldArray","body":"<p>I'm trying to develop a custom web content search portlet for Liferay 7.3.5 GA6, using SearchContext, IndexSearcherHelperUtil and all the other stuff.</p>\n<p>I have some DDMStructure with different fields and, from what I've seen on the elasticsearch index, this fields are indexed in a nested document, like this:</p>\n<pre><code>&quot;ddmFieldArray&quot;: [\n{\n&quot;ddmFieldName&quot;: &quot;ddm__text__37702__nome_it_IT&quot;,\n&quot;ddmValueFieldName&quot;: &quot;ddmFieldValueText_it_IT&quot;,\n&quot;ddmFieldValueText_it_IT&quot;: &quot;Nome esempio&quot;,\n&quot;ddmFieldValueText_it_IT_String_sortable&quot;: &quot;nome esempio&quot;\n}\n,\n{\n&quot;ddmFieldName&quot;: &quot;ddm__text__37702__descrizione_breve_it_IT&quot;,\n&quot;ddmValueFieldName&quot;: &quot;ddmFieldValueText_it_IT&quot;,\n&quot;ddmFieldValueText_it_IT&quot;: &quot;Esempio di descrizione breve da indicizzare&quot;,\n&quot;ddmFieldValueText_it_IT_String_sortable&quot;: &quot;esempio di descrizione breve da indicizzare&quot;\n}\n]\n</code></pre>\n<p>which is different from the old way I used to know, where the custom fields were indexed like <code>ddm__[keyword/text]__[structure_id]__[field_name]</code></p>\n<p>Now, I understand this different way of indexing is due to an improvement to avoid elastic issues (Limit of total fields has been exceeded) but...After executing the search, there is no <strong>ddmFieldArray</strong> in the <em>com.liferay.portal.kernel.search.Document .getFields</em>, so I'm unable to get the ddmstructure fields values from the elastic search index.</p>\n<p>Here's the code:</p>\n<pre><code>long journalArticleClassId = ClassNameLocalServiceUtil.getClassNameId(JournalArticle.class.getName());\n\nSearchContext searchContext = new SearchContext();\nsearchContext.setClassTypeIds(new long[] {journalArticleClassId});\nsearchContext.setCompanyId(companyId);\nsearchContext.setStart(QueryUtil.ALL_POS);\nsearchContext.setEnd(QueryUtil.ALL_POS);\n        \nBooleanQuery query = new BooleanQueryImpl();\n            \n        \nMatchQuery approvedQuery = new MatchQuery(Field.STATUS, String.valueOf(WorkflowConstants.STATUS_APPROVED));\n\nquery.add(approvedQuery, BooleanClauseOccur.MUST.getName());\n\n\nHits resultHits = IndexSearcherHelperUtil.search(searchContext, query);\n\nfor (Document doc: resultHits.getDocs()) {          \n    doc.getFields().forEach((k, v) -&gt; _log.debug(k)); //No ddm structure field\n}\n</code></pre>\n<p>Is this still an improvement or just an unexpected behaviour?</p>\n<p>Any way to solve or extend this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":18669761,"reputation":21,"user_id":14061628,"display_name":"timmy a"},"score":0,"creation_date":1671689450,"post_id":74859683,"comment_id":132153512,"body_markdown":"GreaterThanEqual and LessThanEqual are both valid for Date queries. Thanks a ton!","body":"GreaterThanEqual and LessThanEqual are both valid for Date queries. Thanks a ton!"}],"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671520903,"creation_date":1671520903,"answer_id":74859683,"question_id":74859570,"body_markdown":"You want `&gt;=` but method has only `After` it is missing `or equal`\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject\r\ndoes not have `AfterThanEqual` maybe `GreaterThanEqual` works with dates\r\n\r\nor You can try using negation \r\n`public List&lt;Reservation&gt; findByCheckInDateNotBeforeAndCheckOutDateNotAfter(Date checkIn, Date checkOut);`\r\n\r\nalso you could enable sql logging as shown here https://www.baeldung.com/sql-logging-spring-boot and verify executed sql\r\n","title":"Multi-Date queries in JPA repository","body":"<p>You want <code>&gt;=</code> but method has only <code>After</code> it is missing <code>or equal</code></p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject</a>\ndoes not have <code>AfterThanEqual</code> maybe <code>GreaterThanEqual</code> works with dates</p>\n<p>or You can try using negation\n<code>public List&lt;Reservation&gt; findByCheckInDateNotBeforeAndCheckOutDateNotAfter(Date checkIn, Date checkOut);</code></p>\n<p>also you could enable sql logging as shown here <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/sql-logging-spring-boot</a> and verify executed sql</p>\n"}],"owner":{"account_id":18669761,"reputation":21,"user_id":14061628,"display_name":"timmy a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671520903,"creation_date":1671520066,"question_id":74859570,"body_markdown":"I&#39;m having an issue with creating a Query in Spring Data JPA. \r\nI want to return a List that consists of objects that are AFTER Date1 and BEFORE Date2.\r\n\r\nAdditional Question: How do I get JPA to return a single column. For instance, if I wanted to return one column of the Reservation table instead of a list of Reservation objects.\r\n\r\nI want my query to be the equivalent of:\r\n\r\n```\r\nSELECT * FROM reservation WHERE check_in_date &gt;= &#39;2022-12-18&#39; AND check_out_date &lt;= &#39;2022-12-30&#39;;\r\n```\r\n\r\nI thought that the correct method name would be: \r\n\r\n```\r\npublic List&lt;Reservation&gt; findByCheckInDateAfterAndCheckOutDateBefore(Date checkIn, Date checkOut);\r\n```\r\n\r\ncheckInDate/checkOutDate are the names of the fields in the Reservation object.\r\nHowever, it is not returning the correct values. ","title":"Multi-Date queries in JPA repository","body":"<p>I'm having an issue with creating a Query in Spring Data JPA.\nI want to return a List that consists of objects that are AFTER Date1 and BEFORE Date2.</p>\n<p>Additional Question: How do I get JPA to return a single column. For instance, if I wanted to return one column of the Reservation table instead of a list of Reservation objects.</p>\n<p>I want my query to be the equivalent of:</p>\n<pre><code>SELECT * FROM reservation WHERE check_in_date &gt;= '2022-12-18' AND check_out_date &lt;= '2022-12-30';\n</code></pre>\n<p>I thought that the correct method name would be:</p>\n<pre><code>public List&lt;Reservation&gt; findByCheckInDateAfterAndCheckOutDateBefore(Date checkIn, Date checkOut);\n</code></pre>\n<p>checkInDate/checkOutDate are the names of the fields in the Reservation object.\nHowever, it is not returning the correct values.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-grid"],"owner":{"account_id":21902216,"reputation":11,"user_id":16187758,"display_name":"D3nNi Alw1n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671520424,"creation_date":1671520424,"question_id":74859623,"body_markdown":"In chrome we have Webrtc-Internals page I am trying to automate this website but I have a problem in doing it when you click on &quot;**Create Dump**&quot; dropdown we have two checkbox&#39;s \r\n\r\n[![enter image description here](https://i.stack.imgur.com/1EWhI.png)](https://i.stack.imgur.com/1EWhI.png) \r\n\r\nand                       \r\n\r\n[![enter image description here](https://i.stack.imgur.com/VQ8Nw.png)](https://i.stack.imgur.com/VQ8Nw.png)\r\n\r\nI am trying to click this element using &quot;--headless&quot; chrome without headless if you click it opens &quot;**save as**&quot; dialog box which cannot be automated using selenium cause it os-dialog box but when it comes to headless by click nothing popups and check box is not enabling no exceptions was shown, If you have an idea to automates this it would be helpful, \r\n\r\nSample code (Java) :\r\n\r\n```\r\ndriver.get(&quot;chrome://webrtc-internals/&quot;);\r\ndriver.findElement(By.xpath(&quot;/html/body/p/details/summary&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;//*[@id=&#39;content-root&#39;]/details/div/p[5]/label/input&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;//*[@id=&#39;content-root&#39;]/details/div/p[1]/label/input&quot;)).click();\r\n\r\n```\r\n\r\n**Thanks on advance!**\r\n\r\nTried sendKeys also not working, \r\nIn a case it enables but can&#39;t save recording, Tried different type of chrome version\r\n\r\n\r\n  [1]: https://chrome://webrtc-internals/","title":"WebRTC page automation checkbox is not enabling in headless chrome","body":"<p>In chrome we have Webrtc-Internals page I am trying to automate this website but I have a problem in doing it when you click on &quot;<strong>Create Dump</strong>&quot; dropdown we have two checkbox's</p>\n<p><a href=\"https://i.stack.imgur.com/1EWhI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1EWhI.png\" alt=\"enter image description here\" /></a></p>\n<p>and</p>\n<p><a href=\"https://i.stack.imgur.com/VQ8Nw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQ8Nw.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to click this element using &quot;--headless&quot; chrome without headless if you click it opens &quot;<strong>save as</strong>&quot; dialog box which cannot be automated using selenium cause it os-dialog box but when it comes to headless by click nothing popups and check box is not enabling no exceptions was shown, If you have an idea to automates this it would be helpful,</p>\n<p>Sample code (Java) :</p>\n<pre><code>driver.get(&quot;chrome://webrtc-internals/&quot;);\ndriver.findElement(By.xpath(&quot;/html/body/p/details/summary&quot;)).click();\ndriver.findElement(By.xpath(&quot;//*[@id='content-root']/details/div/p[5]/label/input&quot;)).click();\ndriver.findElement(By.xpath(&quot;//*[@id='content-root']/details/div/p[1]/label/input&quot;)).click();\n\n</code></pre>\n<p><strong>Thanks on advance!</strong></p>\n<p>Tried sendKeys also not working,\nIn a case it enables but can't save recording, Tried different type of chrome version</p>\n"},{"tags":["java","mysql","hibernate","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":2,"creation_date":1562753776,"post_id":56968284,"comment_id":100473747,"body_markdown":"thanks for mentioning that issue. But I still getting the above error","body":"thanks for mentioning that issue. But I still getting the above error"},{"owner":{"account_id":3648548,"reputation":2986,"user_id":3041229,"display_name":"ValerioMC"},"score":0,"creation_date":1562754931,"post_id":56968284,"comment_id":100474313,"body_markdown":"can it be you need a getter too on id? public Long getId()","body":"can it be you need a getter too on id? public Long getId()"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1562755119,"post_id":56968284,"comment_id":100474413,"body_markdown":"Does it have this?  No identifier specified for entity: com.sliit.af.model.Course","body":"Does it have this?  No identifier specified for entity: com.sliit.af.model.Course"},{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":0,"creation_date":1562755232,"post_id":56968284,"comment_id":100474478,"body_markdown":"No, I have also added getters and setters for Id, But still getting the error mentiones in the question.","body":"No, I have also added getters and setters for Id, But still getting the error mentiones in the question."},{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":0,"creation_date":1562755309,"post_id":56968284,"comment_id":100474529,"body_markdown":"adding @Bean(name=&quot;entityManagerFactory&quot;) as the other answer, it solved the error but gives a different error.http://notepad.pw/stackoverflow-56968183","body":"adding @Bean(name=&quot;entityManagerFactory&quot;) as the other answer, it solved the error but gives a different error.<a href=\"http://notepad.pw/stackoverflow-56968183\" rel=\"nofollow noreferrer\">notepad.pw/stackoverflow-56968183</a>"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1562755428,"post_id":56968284,"comment_id":100474601,"body_markdown":"@Tenusha please share your subject Reposiroty","body":"@Tenusha please share your subject Reposiroty"}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1562752893,"creation_date":1562752893,"answer_id":56968284,"question_id":56968183,"body_markdown":"You have used the @Id annotation from a wrong package:\r\n\r\n    import org.springframework.data.annotation.Id;\r\n\r\nIt HAS to be:\r\n\r\n   \r\n\r\n     import javax.persistence.Id;","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<p>You have used the @Id annotation from a wrong package:</p>\n\n<pre><code>import org.springframework.data.annotation.Id;\n</code></pre>\n\n<p>It HAS to be:</p>\n\n<pre><code> import javax.persistence.Id;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":0,"creation_date":1562754714,"post_id":56968373,"comment_id":100474190,"body_markdown":"Thanks for answer. I have added your code under `@Configuration`, it gives me an error. http://notepad.pw/stackoverflow-56968183","body":"Thanks for answer. I have added your code under <code>@Configuration</code>, it gives me an error. <a href=\"http://notepad.pw/stackoverflow-56968183\" rel=\"nofollow noreferrer\">notepad.pw/stackoverflow-56968183</a>"}],"tags":[],"owner":{"account_id":8868539,"reputation":2197,"user_id":6622913,"display_name":"Istiaque Hossain"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1643280349,"creation_date":1562753152,"answer_id":56968373,"question_id":56968183,"body_markdown":"some day ago i am getting error message like **required a bean named &#39;entityManagerFactory&#39; that could not be found.**\r\n\r\nAfter lot of googling solve this problem. I set manual configuration for JPA.\r\n\r\n    @Bean \r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean(); \r\n    \r\n        return sessionFactory;\r\n    }\r\n\r\nbut JPA by default search sessionFactory by name &#39;entityManagerFactory&#39; so change my code as:\r\n\r\n    @Bean(name=&quot;entityManagerFactory&quot;)\r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    \r\n        return sessionFactory;\r\n    } \r\n\r\n[my previous answer ][1]\r\n\r\n\r\n----------\r\n**UPDATE**\r\nimport proper calss\r\n\r\n```import javax.persistence.Id;```\r\n\r\nyou try to join subject class with course without foreign key reference...\r\nchange your code according that image \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54663039/6622913\r\n  [2]: https://i.stack.imgur.com/t0Y74.jpg","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<p>some day ago i am getting error message like <strong>required a bean named 'entityManagerFactory' that could not be found.</strong></p>\n<p>After lot of googling solve this problem. I set manual configuration for JPA.</p>\n<pre><code>@Bean \npublic LocalSessionFactoryBean sessionFactory() {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean(); \n\n    return sessionFactory;\n}\n</code></pre>\n<p>but JPA by default search sessionFactory by name 'entityManagerFactory' so change my code as:</p>\n<pre><code>@Bean(name=&quot;entityManagerFactory&quot;)\npublic LocalSessionFactoryBean sessionFactory() {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n\n    return sessionFactory;\n} \n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/54663039/6622913\">my previous answer </a></p>\n<hr />\n<p><strong>UPDATE</strong>\nimport proper calss</p>\n<p><code>import javax.persistence.Id;</code></p>\n<p>you try to join subject class with course without foreign key reference...\nchange your code according that image</p>\n<p><a href=\"https://i.stack.imgur.com/t0Y74.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t0Y74.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":0,"creation_date":1562755774,"post_id":56968939,"comment_id":100474765,"body_markdown":"That issue is fixed, But I&#39;m still getting the mentioned issue in the question","body":"That issue is fixed, But I&#39;m still getting the mentioned issue in the question"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1562755958,"post_id":56968939,"comment_id":100474859,"body_markdown":"Hello @Tenusha yes I have seen it. importing your project","body":"Hello @Tenusha yes I have seen it. importing your project"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":1,"creation_date":1562756645,"post_id":56968939,"comment_id":100475201,"body_markdown":"Hello @Tenusha add `spring.jpa.database=mysql` in your application file and let me know","body":"Hello @Tenusha add <code>spring.jpa.database=mysql</code> in your application file and let me know"},{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1562756996,"post_id":56968939,"comment_id":100475411,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/196255/discussion-between-patel-romil-and-tenusha).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/196255/discussion-between-patel-romil-and-tenusha\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1562755195,"creation_date":1562755195,"answer_id":56968939,"question_id":56968183,"body_markdown":"Add `@Id annotation` in all your modal class `(Course, Subject)`\r\nMake sure package you import is `import javax.persistence.Id`;","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<p>Add <code>@Id annotation</code> in all your modal class <code>(Course, Subject)</code>\nMake sure package you import is <code>import javax.persistence.Id</code>;</p>\n"},{"comments":[{"owner":{"account_id":17646262,"reputation":11,"user_id":12807633,"display_name":"Daniel E Plummer"},"score":0,"creation_date":1599160772,"post_id":63730250,"comment_id":112696064,"body_markdown":"I was experiencing the same issue and I tried every answer listed in the posts.  What I believe is the main issue is that I was lacking a spring-boot-starter-jdbc.   Hence, my H2 database and table are being created but when spring attempts to autowire the beans that link the database the entityManagerFactory is unable to locate the beans. Why?  Because their is no jdbc connection to begin a session.  Therefore, most of us are missing spring-boot-starter-jdbc or if you have the dependency, then the dependency is listed after h2 database has already been created.","body":"I was experiencing the same issue and I tried every answer listed in the posts.  What I believe is the main issue is that I was lacking a spring-boot-starter-jdbc.   Hence, my H2 database and table are being created but when spring attempts to autowire the beans that link the database the entityManagerFactory is unable to locate the beans. Why?  Because their is no jdbc connection to begin a session.  Therefore, most of us are missing spring-boot-starter-jdbc or if you have the dependency, then the dependency is listed after h2 database has already been created."},{"owner":{"account_id":17646262,"reputation":11,"user_id":12807633,"display_name":"Daniel E Plummer"},"score":0,"creation_date":1599160935,"post_id":63730250,"comment_id":112696127,"body_markdown":"After reviewing the code above, I believe the solution is to add spring-boot-starter-jdbc underneath spring-boot-starter-jpa.","body":"After reviewing the code above, I believe the solution is to add spring-boot-starter-jdbc underneath spring-boot-starter-jpa."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1599197084,"post_id":63730250,"comment_id":112704664,"body_markdown":"While this code may provide a solution to the question, it is better to add context on why / how it works. This can help future users learn and apply that knowledge to their own code. Please add this context in the answer, not in the comments. Thanks","body":"While this code may provide a solution to the question, it is better to add context on why / how it works. This can help future users learn and apply that knowledge to their own code. Please add this context in the answer, not in the comments. Thanks"}],"tags":[],"owner":{"account_id":17646262,"reputation":11,"user_id":12807633,"display_name":"Daniel E Plummer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599160403,"creation_date":1599160403,"answer_id":63730250,"question_id":56968183,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt;\r\n    \t\t&lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;groupId&gt;com.revature&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;restful-web-services&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;RestfulWebServices&lt;/name&gt;\r\n    \t&lt;description&gt;Restful Web Services project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;!-- START AND STOP THE APPLICATION AFTER MAKING THE CHANGE! --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;!-- provides information concerning the health metrics etc. of applicaiton --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- provides view of data and consumes info from actuator --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugin-tools/maven-plugin-annotations --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;jfrog-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;JFROG Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://oss.jfrog.org/artifactory/oss-snapshot-local&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.revature&lt;/groupId&gt;\n    &lt;artifactId&gt;restful-web-services&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RestfulWebServices&lt;/name&gt;\n    &lt;description&gt;Restful Web Services project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.25&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; \n            &lt;/dependency&gt; --&gt;\n        &lt;!-- START AND STOP THE APPLICATION AFTER MAKING THE CHANGE! --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; \n            &lt;/dependency&gt; --&gt;\n\n        &lt;!-- provides information concerning the health metrics etc. of applicaiton --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- provides view of data and consumes info from actuator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugin-tools/maven-plugin-annotations --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; \n            &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jfrog-snapshots&lt;/id&gt;\n            &lt;name&gt;JFROG Snapshots&lt;/name&gt;\n            &lt;url&gt;http://oss.jfrog.org/artifactory/oss-snapshot-local&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13822440,"reputation":11,"user_id":9977581,"display_name":"Oussama.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612263931,"creation_date":1612263931,"answer_id":66008435,"question_id":56968183,"body_markdown":"I had the same issue, I fixed it by adding the version to javax persistence api like in pom.xml, changing this : \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\nTo this :\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<p>I had the same issue, I fixed it by adding the version to javax persistence api like in pom.xml, changing this :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>To this :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18710340,"reputation":419,"user_id":13640565,"display_name":"Shiru99"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626155493,"creation_date":1626155493,"answer_id":68357117,"question_id":56968183,"body_markdown":"Adding `@EntityScan(basePackages = &quot;io.summer&quot;)` to your Application class. That is needed for hibernate to scan your entities. (Worked for me, for postgresql)\r\n\r\n    package com.sliit.af;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaAuditing\r\n    @EntityScan(basePackages = &quot;com.sliit.af&quot;)       /* ADDED HERE */\r\n    public class SpringBootMysqlApplication {\r\n \r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(SpringBootMysqlApplication.class, args);\r\n\t    }\r\n\r\n    }","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<p>Adding <code>@EntityScan(basePackages = &quot;io.summer&quot;)</code> to your Application class. That is needed for hibernate to scan your entities. (Worked for me, for postgresql)</p>\n<pre><code>package com.sliit.af;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\n\n@SpringBootApplication\n@EnableJpaAuditing\n@EntityScan(basePackages = &quot;com.sliit.af&quot;)       /* ADDED HERE */\npublic class SpringBootMysqlApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootMysqlApplication.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92835,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":56968373,"answer_count":6,"score":4,"last_activity_date":1671519544,"creation_date":1562752614,"question_id":56968183,"body_markdown":"When I try to run my spring-boot project with hibernate and MySql, I got following error.\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-07-10 15:15:32.474 ERROR 12112 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.sliit.af.model.Course\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n\tat com.sliit.af.SpringBootMysqlApplication.main(SpringBootMysqlApplication.java:12) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\nCaused by: org.hibernate.AnnotationException: No identifier specified for entity: com.sliit.af.model.Course\r\n\tat org.hibernate.cfg.InheritanceState.determineDefaultAccessType(InheritanceState.java:266) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.cfg.InheritanceState.getElementsToProcess(InheritanceState.java:211) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:775) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:250) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:231) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:274) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\t... 21 common frames omitted\r\n```\r\n\r\nMy application.properties\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/spring-mysql?useSSL=false\r\nspring.datasource.username = root\r\nspring.datasource.password = \r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\n```\r\n\r\nIn pom.xml I have following dependencies,\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nand my Course model looks like below,\r\n```\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.EntityListeners;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\n@Entity\r\n@Table(name = &quot;courses&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Course {\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\t\r\n\t@NotBlank\r\n\tString name;\r\n\t\r\n\t@NotBlank\r\n\tString code;\r\n\t\r\n\t@NotBlank\r\n\tint passMark;\r\n\r\n    ....\r\n}\r\n```\r\n\r\nI also referred previous questions(https://stackoverflow.com/questions/40058001/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resou) regarding this issue, But nothing helps. \r\n\r\nFull code base is available at https://github.com/tenusha/application-frameworks/tree/master/spring-boot-mysql","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource (Invocation of init method failed)","body":"<p>When I try to run my spring-boot project with hibernate and MySql, I got following error.</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-07-10 15:15:32.474 ERROR 12112 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.sliit.af.model.Course\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at com.sliit.af.SpringBootMysqlApplication.main(SpringBootMysqlApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.1.6.RELEASE.jar:2.1.6.RELEASE]\nCaused by: org.hibernate.AnnotationException: No identifier specified for entity: com.sliit.af.model.Course\n    at org.hibernate.cfg.InheritanceState.determineDefaultAccessType(InheritanceState.java:266) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.cfg.InheritanceState.getElementsToProcess(InheritanceState.java:211) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:775) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:250) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:231) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:274) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    ... 21 common frames omitted\n</code></pre>\n\n<p>My application.properties</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/spring-mysql?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = \n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\n\n</code></pre>\n\n<p>In pom.xml I have following dependencies,</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>and my Course model looks like below,</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.EntityListeners;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\n@Entity\n@Table(name = \"courses\")\n@EntityListeners(AuditingEntityListener.class)\npublic class Course {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    String name;\n\n    @NotBlank\n    String code;\n\n    @NotBlank\n    int passMark;\n\n    ....\n}\n</code></pre>\n\n<p>I also referred previous questions(<a href=\"https://stackoverflow.com/questions/40058001/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resou\">Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource : Invocation of init method failed</a>) regarding this issue, But nothing helps. </p>\n\n<p>Full code base is available at <a href=\"https://github.com/tenusha/application-frameworks/tree/master/spring-boot-mysql\" rel=\"nofollow noreferrer\">https://github.com/tenusha/application-frameworks/tree/master/spring-boot-mysql</a></p>\n"},{"tags":["java","kotlin","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":9028981,"reputation":4582,"user_id":8822610,"display_name":"vighnesh153"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671515118,"creation_date":1671515118,"answer_id":74858933,"question_id":74858879,"body_markdown":"Not sure why it is `private` for Kotlin DSL and not for Groovy DSL, but found an alternative using `compilerArgs` from this [stackoverflow post](https://stackoverflow.com/a/50524229/8822610)\r\n\r\n```kt\r\ntasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\r\n    val compilerArgs = options.compilerArgs\r\n\tcompilerArgs.add(&quot;-verbose&quot;)\r\n}\r\n```\r\n\r\nThis, to me, feels a bit low-level since we are directly updating the compiler arguments instead of using objects/maps to set them. Will wait for someone to post a better solution (if it exists).","title":"Gradle Kotlin DSL - Cannot access &#39;verbose&#39;: it is private in &#39;CompileOptions&#39;","body":"<p>Not sure why it is <code>private</code> for Kotlin DSL and not for Groovy DSL, but found an alternative using <code>compilerArgs</code> from this <a href=\"https://stackoverflow.com/a/50524229/8822610\">stackoverflow post</a></p>\n<pre><code>tasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\n    val compilerArgs = options.compilerArgs\n    compilerArgs.add(&quot;-verbose&quot;)\n}\n</code></pre>\n<p>This, to me, feels a bit low-level since we are directly updating the compiler arguments instead of using objects/maps to set them. Will wait for someone to post a better solution (if it exists).</p>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671519422,"creation_date":1671519422,"answer_id":74859478,"question_id":74858879,"body_markdown":"[CompileOptions](https://github.com/gradle/gradle/blob/master/subprojects/language-java/src/main/java/org/gradle/api/tasks/compile/CompileOptions.java) has a setter for `verbose`, so this will work\r\n```\r\ntasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\r\n    options.setVerbose(true)\r\n}\r\n```\r\nIt is also possible to set the flag via property:\r\n```\r\ntasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\r\n    options.isVerbose = true\r\n}\r\n```","title":"Gradle Kotlin DSL - Cannot access &#39;verbose&#39;: it is private in &#39;CompileOptions&#39;","body":"<p><a href=\"https://github.com/gradle/gradle/blob/master/subprojects/language-java/src/main/java/org/gradle/api/tasks/compile/CompileOptions.java\" rel=\"nofollow noreferrer\">CompileOptions</a> has a setter for <code>verbose</code>, so this will work</p>\n<pre><code>tasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\n    options.setVerbose(true)\n}\n</code></pre>\n<p>It is also possible to set the flag via property:</p>\n<pre><code>tasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\n    options.isVerbose = true\n}\n</code></pre>\n"}],"owner":{"account_id":9028981,"reputation":4582,"user_id":8822610,"display_name":"vighnesh153"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74859478,"answer_count":2,"score":1,"last_activity_date":1671519422,"creation_date":1671514630,"question_id":74858879,"body_markdown":"I am trying to set the `verbose` flag/option to true in the gradle build script (Kotlin DSL).\r\n\r\nGradle throws error that this property is private and not accessible in Kotlin DSL. The same thing works in Groovy DSL though.\r\n\r\n##### Groovy DSL (working)\r\n```groovy\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ntasks.named(&quot;compileJava&quot;) {\r\n    options.verbose = true\r\n}\r\n```\r\n\r\n##### Kotlin DSL (not-working)\r\n```kts\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ntasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\r\n    options.verbose = true\r\n}\r\n```\r\n\r\n##### Error\r\n```\r\nScript compilation error:\r\n\r\n  Line 32:     options.verbose = true;\r\n                       ^ Cannot access &#39;verbose&#39;: it is private in &#39;CompileOptions&#39;\r\n\r\n1 error\r\n```\r\n\r\nI am sure I am missing something. Any help is appreciated. Thanks.","title":"Gradle Kotlin DSL - Cannot access &#39;verbose&#39;: it is private in &#39;CompileOptions&#39;","body":"<p>I am trying to set the <code>verbose</code> flag/option to true in the gradle build script (Kotlin DSL).</p>\n<p>Gradle throws error that this property is private and not accessible in Kotlin DSL. The same thing works in Groovy DSL though.</p>\n<h5>Groovy DSL (working)</h5>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ntasks.named(&quot;compileJava&quot;) {\n    options.verbose = true\n}\n</code></pre>\n<h5>Kotlin DSL (not-working)</h5>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ntasks.named&lt;JavaCompile&gt;(&quot;compileJava&quot;) {\n    options.verbose = true\n}\n</code></pre>\n<h5>Error</h5>\n<pre><code>Script compilation error:\n\n  Line 32:     options.verbose = true;\n                       ^ Cannot access 'verbose': it is private in 'CompileOptions'\n\n1 error\n</code></pre>\n<p>I am sure I am missing something. Any help is appreciated. Thanks.</p>\n"},{"tags":["java","spring","tomcat"],"answers":[{"tags":[],"owner":{"account_id":1696393,"reputation":748,"user_id":1557707,"accept_rate":67,"display_name":"vish213"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671374980,"creation_date":1671374980,"answer_id":74842310,"question_id":74840623,"body_markdown":"You&#39;ve named both filter and servlet as &quot;demo-config&quot;. Just update the filter name (observe value in &lt;code&gt;filter-name&lt;/code&gt; tag)\r\n\r\n```\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter\r\n\t\t&lt;/filter-class&gt;\r\n\t\t&lt;!-- Added the context configuration below --&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\r\n```    ","title":"java spring problem : server can not start because of &quot;SEVERE: A child container failed during start...&quot;?","body":"<p>You've named both filter and servlet as &quot;demo-config&quot;. Just update the filter name (observe value in <code>filter-name</code> tag)</p>\n<pre><code>\n    &lt;filter&gt;\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter\n        &lt;/filter-class&gt;\n        &lt;!-- Added the context configuration below --&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/filter&gt;\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27289967,"reputation":66,"user_id":20808544,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671519201,"creation_date":1671375905,"answer_id":74842427,"question_id":74840623,"body_markdown":"I would say you need to pay attention to the output exception stack first. It mentioned the root cause already.\r\n\r\n&gt; i.e. `*Caused by: java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name [sitemesh]*`\r\n\r\nIf you are setting up a new web application, I&#39;ll suggest you make it as simple as possible as well. So, remove those filters you do not need.\r\n\r\nIf your web application was running successfully before, then please focus on your new changes, especially regarding above filter.\r\n\r\nAfter checking your code in the GitHub, I feel you need to set up the filter `sitemesh` with the same name in both section `filter` and **filter-mapping**, otherwise, the filter-mapping will not understand where the filter instance is. Please try following configuration. Note: Based on your `web.xml` file, I changed the value of **filter-name** to **sitemesh** from **demo-config**.\r\n\r\n```xml\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter\r\n        &lt;/filter-class&gt;\r\n        &lt;!-- Added the context configuration below --&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;!-- Mapped the servlet to &#39;/&#39; --&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n```","title":"java spring problem : server can not start because of &quot;SEVERE: A child container failed during start...&quot;?","body":"<p>I would say you need to pay attention to the output exception stack first. It mentioned the root cause already.</p>\n<blockquote>\n<p>i.e. <code>*Caused by: java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name [sitemesh]*</code></p>\n</blockquote>\n<p>If you are setting up a new web application, I'll suggest you make it as simple as possible as well. So, remove those filters you do not need.</p>\n<p>If your web application was running successfully before, then please focus on your new changes, especially regarding above filter.</p>\n<p>After checking your code in the GitHub, I feel you need to set up the filter <code>sitemesh</code> with the same name in both section <code>filter</code> and <strong>filter-mapping</strong>, otherwise, the filter-mapping will not understand where the filter instance is. Please try following configuration. Note: Based on your <code>web.xml</code> file, I changed the value of <strong>filter-name</strong> to <strong>sitemesh</strong> from <strong>demo-config</strong>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;filter&gt;\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter\n        &lt;/filter-class&gt;\n        &lt;!-- Added the context configuration below --&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/demo-config-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/filter&gt;\n\n    &lt;!-- Mapped the servlet to '/' --&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671519201,"creation_date":1671359313,"question_id":74840623,"body_markdown":"I am studying java spring boot and here is my problem.\r\n\r\nI decided to reorganize my files like this\r\n\r\n    /layouts/user/footer.jsp\r\n    /layouts/user/header.jsp\r\n    /layouts/user.jsp\r\n    /user/index.jsp\r\n    /web.xml\r\n\r\nFrom the user.jsp file, I wrote this code to link to the footer.jsp and the header.jsp file\r\n\r\n    &lt;%@include file=&quot;/WEB-INF/views/layouts/user/header.jsp&quot;%&gt;\r\n\t&lt;decorator:body /&gt;\r\n\t&lt;%@include file=&quot;/WEB-INF/views/layouts/user/footer.jsp&quot;%&gt;\r\n\r\nThen I ran my code by tomcat 9.0.62 and got this error\r\n\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: \r\n    Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component \r\n    [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t... 21 more\r\n    Caused by: java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name [sitemesh]\r\n\tat org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:3067)\r\n\tat org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:3029)\r\n\tat org.apache.catalina.startup.ContextConfig.configureContext(ContextConfig.java:1453)\r\n\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1329)\r\n\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\r\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n    thg 12 18, 2022 4:56:35 CH org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t... 13 more\r\n    Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\r\n\t... 21 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t... 21 more\r\n    Caused by: java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name [sitemesh]\r\n\tat \r\n    org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:3067)\r\n\tat org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:3029)\r\n\tat \r\n    org.apache.catalina.startup.ContextConfig.configureContext(ContextConfig.java:1453)\r\n\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1329)\r\n\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\r\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t... 27 more\r\n\r\n I tried to install tomcat 8.5 and tomcat 10 and still meet the same error, so maybe it is not because of tomcat version.\r\n\r\nI also reference this link https://www.youtube.com/watch?v=bYMrMAi95YU, but in my code I had changed the code to url-pattern so it is not the reason.\r\n\r\nHere is my code, if you need\r\n\r\n    https://github.com/nguyencuc2586/Spring3.2\r\n\r\nCould you please give me some advices for this problem ? Thank you in advance.\r\n\r\n","title":"java spring problem : server can not start because of &quot;SEVERE: A child container failed during start...&quot;?","body":"<p>I am studying java spring boot and here is my problem.</p>\n<p>I decided to reorganize my files like this</p>\n<pre><code>/layouts/user/footer.jsp\n/layouts/user/header.jsp\n/layouts/user.jsp\n/user/index.jsp\n/web.xml\n</code></pre>\n<p>From the user.jsp file, I wrote this code to link to the footer.jsp and the header.jsp file</p>\n<pre><code>&lt;%@include file=&quot;/WEB-INF/views/layouts/user/header.jsp&quot;%&gt;\n&lt;decorator:body /&gt;\n&lt;%@include file=&quot;/WEB-INF/views/layouts/user/footer.jsp&quot;%&gt;\n</code></pre>\n<p>Then I ran my code by tomcat 9.0.62 and got this error</p>\n<pre><code>SEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: \nFailed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component \n[StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\nat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n... 21 more\nCaused by: java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name [sitemesh]\nat org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:3067)\nat org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:3029)\nat org.apache.catalina.startup.ContextConfig.configureContext(ContextConfig.java:1453)\nat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1329)\nat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\nat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n... 27 more\nthg 12 18, 2022 4:56:35 CH org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\nat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n... 13 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\nat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\n... 21 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/DemoSpringMVC]]\nat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n... 21 more\nCaused by: java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name [sitemesh]\nat \norg.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:3067)\nat org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:3029)\nat \norg.apache.catalina.startup.ContextConfig.configureContext(ContextConfig.java:1453)\nat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1329)\nat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:986)\nat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\nat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n... 27 more\n</code></pre>\n<p>I tried to install tomcat 8.5 and tomcat 10 and still meet the same error, so maybe it is not because of tomcat version.</p>\n<p>I also reference this link <a href=\"https://www.youtube.com/watch?v=bYMrMAi95YU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bYMrMAi95YU</a>, but in my code I had changed the code to url-pattern so it is not the reason.</p>\n<p>Here is my code, if you need</p>\n<pre><code>https://github.com/nguyencuc2586/Spring3.2\n</code></pre>\n<p>Could you please give me some advices for this problem ? Thank you in advance.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":23207251,"reputation":47,"user_id":17301298,"display_name":"Ulan Duishenaliev"},"score":0,"creation_date":1671517175,"post_id":74859140,"comment_id":132110516,"body_markdown":"but it actually has in class Author, doesn&#39;t it?","body":"but it actually has in class Author, doesn&#39;t it?"}],"tags":[],"owner":{"account_id":10342917,"reputation":31,"user_id":7628711,"display_name":"Rajvee Shah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671518692,"creation_date":1671516979,"answer_id":74859140,"question_id":74859052,"body_markdown":"For this project in database you have to add auto increment in field Id of author table. check this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FTP1W.png\r\n\r\n\r\ncheck your database table! is it there! \r\nWhy this much needed for ID\r\nyou can put @ID and @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\nNot need of this code\r\n      @Id\r\n        @GeneratedValue(\r\n                strategy = GenerationType.SEQUENCE,\r\n                generator = &quot;author_seq&quot;\r\n        )\r\n        @SequenceGenerator(\r\n                name = &quot;authors_seq&quot;,\r\n                sequenceName = &quot;author_sequence&quot;,\r\n                initialValue = 1,\r\n                allocationSize = 50\r\n        )\r\n\r\n","title":"Postman shows error 500 cuz Object in JSON is null","body":"<p>For this project in database you have to add auto increment in field Id of author table. check this</p>\n<p><a href=\"https://i.stack.imgur.com/FTP1W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FTP1W.png\" alt=\"enter image description here\" /></a></p>\n<p>check your database table! is it there!\nWhy this much needed for ID\nyou can put @ID and @GeneratedValue(strategy = GenerationType.AUTO)</p>\n<p>Not need of this code\n@Id\n@GeneratedValue(\nstrategy = GenerationType.SEQUENCE,\ngenerator = &quot;author_seq&quot;\n)\n@SequenceGenerator(\nname = &quot;authors_seq&quot;,\nsequenceName = &quot;author_sequence&quot;,\ninitialValue = 1,\nallocationSize = 50\n)</p>\n"},{"tags":[],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671517309,"creation_date":1671517309,"answer_id":74859200,"question_id":74859052,"body_markdown":"The problem is in &#39;Author&#39; entity. The error trace indicates that Author is null.\r\n\r\n    Cannot invoke &quot;kg.istschool.bookservice.model.entity.Author.getId()&quot; because &quot;author&quot; is null\r\n\r\nYou obtain &#39;Author&#39; from `repository`, using `findAll` of your &#39;Book&#39; entity. \r\n\r\n&#39;Book&#39; entity should have a FK relation with &#39;Author&#39; entity.\r\nProbably, in your &#39;Book&#39; `table` in `database`, the column &#39;Author&#39; is null, or the relationship is bad defined.\r\n\r\nIf you have access to `database`, I suggest you check the `table` &#39;Book&#39; and find the value of related-column &#39;Author&#39;. If this column can be nullable, you should control this in your code.\r\n\r\n    public AuthorDto authorToAuthorDto(Author author) {\r\n    if(author == null) return null;\r\n    //... your map\r\n    }","title":"Postman shows error 500 cuz Object in JSON is null","body":"<p>The problem is in 'Author' entity. The error trace indicates that Author is null.</p>\n<pre><code>Cannot invoke &quot;kg.istschool.bookservice.model.entity.Author.getId()&quot; because &quot;author&quot; is null\n</code></pre>\n<p>You obtain 'Author' from <code>repository</code>, using <code>findAll</code> of your 'Book' entity.</p>\n<p>'Book' entity should have a FK relation with 'Author' entity.\nProbably, in your 'Book' <code>table</code> in <code>database</code>, the column 'Author' is null, or the relationship is bad defined.</p>\n<p>If you have access to <code>database</code>, I suggest you check the <code>table</code> 'Book' and find the value of related-column 'Author'. If this column can be nullable, you should control this in your code.</p>\n<pre><code>public AuthorDto authorToAuthorDto(Author author) {\nif(author == null) return null;\n//... your map\n}\n</code></pre>\n"}],"owner":{"account_id":23207251,"reputation":47,"user_id":17301298,"display_name":"Ulan Duishenaliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1671529041,"accepted_answer_id":74859200,"answer_count":2,"score":-1,"last_activity_date":1671518692,"creation_date":1671516248,"question_id":74859052,"body_markdown":"So, I&#39;ve got a Spring Application that saves books and authors. Author has Long id, String name. Book has **Long id, String name** and object of class **Author author**.\r\nIn JSON it has to be like \r\n```\r\n {\r\n    &quot;name&quot;: &quot;Rich dad&quot;,\r\n    &quot;authorDto&quot;: {\r\n        &quot;id&quot;:2\r\n    }\r\n    }\r\n  ```\r\nSo When I try to send the GET request for bookList I&#39;ve got next message of error:\r\n```\r\nCannot invoke &quot;kg.istschool.bookservice.model.entity.Author.getId()&quot; because &quot;author&quot; is null\r\n\tat kg.istschool.bookservice.mappers.AuthorMapper.authorToAuthorDto(AuthorMapper.java:27) ~[classes/:na]\r\n\tat kg.istschool.bookservice.mappers.BookMapper.bookToBookDto(BookMapper.java:45) ~[classes/:na]\r\n```\r\n\r\nHere is the link for the project: https://github.com/uli2912/book-service\r\n\r\nThe Idea shows me that problem is in here \r\n```\r\npublic AuthorDto authorToAuthorDto(Author author) {\r\n        AuthorDto authorDto = new AuthorDto();\r\n        authorDto.setId(author.getId());\r\n        authorDto.setName(author.getName());\r\n\r\n        return authorDto;\r\n    }\r\n```\r\n\r\n```\r\n@Override\r\n    public List&lt;BookDTO&gt; getBooks() {\r\n    List&lt;Book&gt; bookList = bookRepo.findAll();\r\n\r\n    List&lt;BookDTO&gt; bookDTOList = bookList.stream()\r\n            .map(x -&gt; bookMapper.bookToBookDto(x))\r\n            .collect(Collectors.toList());\r\n\r\n    return bookDTOList;\r\n    }\r\n```\r\n```\r\n public BookDTO bookToBookDto(@RequestBody Book book) {\r\n        if (Objects.isNull(book)) {\r\n            return null;\r\n        }\r\n\r\n        BookDTO bookDTO = new BookDTO();\r\n\r\n\r\n        bookDTO.setId(book.getId());\r\n        bookDTO.setName(book.getName());\r\n        bookDTO.setAuthorDto(authorMapper.authorToAuthorDto(book.getAuthor()));\r\n        return bookDTO;\r\n    }\r\n```\r\n\r\nSo what&#39;s wrong there?","title":"Postman shows error 500 cuz Object in JSON is null","body":"<p>So, I've got a Spring Application that saves books and authors. Author has Long id, String name. Book has <strong>Long id, String name</strong> and object of class <strong>Author author</strong>.\nIn JSON it has to be like</p>\n<pre><code> {\n    &quot;name&quot;: &quot;Rich dad&quot;,\n    &quot;authorDto&quot;: {\n        &quot;id&quot;:2\n    }\n    }\n</code></pre>\n<p>So When I try to send the GET request for bookList I've got next message of error:</p>\n<pre><code>Cannot invoke &quot;kg.istschool.bookservice.model.entity.Author.getId()&quot; because &quot;author&quot; is null\n    at kg.istschool.bookservice.mappers.AuthorMapper.authorToAuthorDto(AuthorMapper.java:27) ~[classes/:na]\n    at kg.istschool.bookservice.mappers.BookMapper.bookToBookDto(BookMapper.java:45) ~[classes/:na]\n</code></pre>\n<p>Here is the link for the project: <a href=\"https://github.com/uli2912/book-service\" rel=\"nofollow noreferrer\">https://github.com/uli2912/book-service</a></p>\n<p>The Idea shows me that problem is in here</p>\n<pre><code>public AuthorDto authorToAuthorDto(Author author) {\n        AuthorDto authorDto = new AuthorDto();\n        authorDto.setId(author.getId());\n        authorDto.setName(author.getName());\n\n        return authorDto;\n    }\n</code></pre>\n<pre><code>@Override\n    public List&lt;BookDTO&gt; getBooks() {\n    List&lt;Book&gt; bookList = bookRepo.findAll();\n\n    List&lt;BookDTO&gt; bookDTOList = bookList.stream()\n            .map(x -&gt; bookMapper.bookToBookDto(x))\n            .collect(Collectors.toList());\n\n    return bookDTOList;\n    }\n</code></pre>\n<pre><code> public BookDTO bookToBookDto(@RequestBody Book book) {\n        if (Objects.isNull(book)) {\n            return null;\n        }\n\n        BookDTO bookDTO = new BookDTO();\n\n\n        bookDTO.setId(book.getId());\n        bookDTO.setName(book.getName());\n        bookDTO.setAuthorDto(authorMapper.authorToAuthorDto(book.getAuthor()));\n        return bookDTO;\n    }\n</code></pre>\n<p>So what's wrong there?</p>\n"},{"tags":["java","string","loops"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1527795388,"post_id":9259411,"comment_id":88273133,"body_markdown":"Also now with JDK/11, one can [make use of `String.lines`](https://stackoverflow.com/a/50631579/1746118) which provides better performance than split.","body":"Also now with JDK/11, one can <a href=\"https://stackoverflow.com/a/50631579/1746118\">make use of <code>String.lines</code></a> which provides better performance than split."}],"answers":[{"comments":[{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1329132295,"post_id":9259462,"comment_id":11668855,"body_markdown":"Thanks for the answer. Does this solution provide better performance? I notice that this solution use **3** object. I want to limit the creation of object to have enough memory, so does `BufferedReader` and `StringReader` are lighter than a String array?","body":"Thanks for the answer. Does this solution provide better performance? I notice that this solution use <b>3</b> object. I want to limit the creation of object to have enough memory, so does <code>BufferedReader</code> and <code>StringReader</code> are lighter than a String array?"},{"owner":{"account_id":13574,"reputation":8143,"user_id":27385,"accept_rate":86,"display_name":"Alex"},"score":1,"creation_date":1329136418,"post_id":9259462,"comment_id":11670205,"body_markdown":"As the javadoc for BufferedReader states, using said class is a valid means of wrapping costly read methods for cost-effective reads. See http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html","body":"As the javadoc for BufferedReader states, using said class is a valid means of wrapping costly read methods for cost-effective reads. See <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.htm&zwnj;&#8203;l</a>"}],"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"comment_count":2,"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1329149587,"creation_date":1329131471,"answer_id":9259462,"question_id":9259411,"body_markdown":"You could use :\r\n\r\n    BufferedReader bufReader = new BufferedReader(new StringReader(textContent));\r\n\r\nAnd use the `readLine()` method :\r\n\r\n    String line=null;\r\n    while( (line=bufReader.readLine()) != null )\r\n    {\r\n\r\n    }\r\n","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>You could use :</p>\n\n<pre><code>BufferedReader bufReader = new BufferedReader(new StringReader(textContent));\n</code></pre>\n\n<p>And use the <code>readLine()</code> method :</p>\n\n<pre><code>String line=null;\nwhile( (line=bufReader.readLine()) != null )\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1200514,"reputation":3435,"user_id":1171276,"accept_rate":75,"display_name":"Brendan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1329131537,"creation_date":1329131537,"answer_id":9259479,"question_id":9259411,"body_markdown":"You could use String.indexOf()/String.substring()\r\n\r\n    String separator = System.getProperty(&quot;line.separator&quot;);\r\n    int index = textContent.indexOf(separator);\r\n    \r\n    while (index &gt; 0)\r\n    {\r\n      int nextIndex = textContent.indexOf(separator, index + separator.length());\r\n      String line = textContent.substring(index + separator.length(), nextIndex);\r\n        \r\n      // do something with line.\r\n    }","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>You could use String.indexOf()/String.substring()</p>\n\n<pre><code>String separator = System.getProperty(\"line.separator\");\nint index = textContent.indexOf(separator);\n\nwhile (index &gt; 0)\n{\n  int nextIndex = textContent.indexOf(separator, index + separator.length());\n  String line = textContent.substring(index + separator.length(), nextIndex);\n\n  // do something with line.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13574,"reputation":8143,"user_id":27385,"accept_rate":86,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1526887548,"creation_date":1329131707,"answer_id":9259517,"question_id":9259411,"body_markdown":"# `Scanner`\r\n\r\nWhat about the [`java.util.Scanner`][1] class added in Java 1.5?\r\n\r\nIn summary:\r\n\r\n&gt; A simple text scanner which can parse primitive types and strings\r\n&gt; using regular expressions.\r\n&gt; \r\n&gt; A Scanner breaks its input into tokens using a delimiter pattern,\r\n&gt; which by default matches whitespace. The resulting tokens may then be\r\n&gt; converted into values of different types using the various next\r\n&gt; methods.\r\n\r\nand of note for your scenario:\r\n\r\n&gt; The scanner can also use delimiters other than whitespace. This\r\n&gt; example reads several items in from a string:\r\n&gt; \r\n&gt;          String input = &quot;1 fish 2 fish red fish blue fish&quot;;\r\n&gt;          Scanner s = new Scanner(input).useDelimiter(&quot;\\\\s*fish\\\\s*&quot;);\r\n&gt;          System.out.println(s.nextInt());\r\n&gt;          System.out.println(s.nextInt());\r\n&gt;          System.out.println(s.next());\r\n&gt;          System.out.println(s.next());\r\n&gt;          s.close();\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Scanner.html","title":"What is the best way to iterate over the lines of a Java String?","body":"<h1><code>Scanner</code></h1>\n\n<p>What about the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>java.util.Scanner</code></a> class added in Java 1.5?</p>\n\n<p>In summary:</p>\n\n<blockquote>\n  <p>A simple text scanner which can parse primitive types and strings\n  using regular expressions.</p>\n  \n  <p>A Scanner breaks its input into tokens using a delimiter pattern,\n  which by default matches whitespace. The resulting tokens may then be\n  converted into values of different types using the various next\n  methods.</p>\n</blockquote>\n\n<p>and of note for your scenario:</p>\n\n<blockquote>\n  <p>The scanner can also use delimiters other than whitespace. This\n  example reads several items in from a string:</p>\n\n<pre><code>     String input = \"1 fish 2 fish red fish blue fish\";\n     Scanner s = new Scanner(input).useDelimiter(\"\\\\s*fish\\\\s*\");\n     System.out.println(s.nextInt());\n     System.out.println(s.nextInt());\n     System.out.println(s.next());\n     System.out.println(s.next());\n     s.close();\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"score":1,"creation_date":1329133000,"post_id":9259518,"comment_id":11669092,"body_markdown":"@alain.janinm, when you keep an array of splitted lines that array takes a lot of memory as you said. In this case all lines of your text are not loaded in memory. BufferedReader just remembers the last read point and when you call readLine() method it just reads next line of your string (with help of StringReader). So in every iteration you have only one line of your text in memory (in `line` variable) instead of all lines.","body":"@alain.janinm, when you keep an array of splitted lines that array takes a lot of memory as you said. In this case all lines of your text are not loaded in memory. BufferedReader just remembers the last read point and when you call readLine() method it just reads next line of your string (with help of StringReader). So in every iteration you have only one line of your text in memory (in <code>line</code> variable) instead of all lines."}],"tags":[],"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329131713,"creation_date":1329131713,"answer_id":9259518,"question_id":9259411,"body_markdown":"use BufferedReader with StringReader argument. BufferedReader has a method readLine() so you can read your string line by line.\r\n\r\n\t\tStringReader reader = new StringReader(myBigTextString);\r\n\t\tBufferedReader br = new BufferedReader(reader);\r\n\t\tString line;\r\n\t\twhile((line=br.readLine())!=null)\r\n\t\t{\r\n\t\t\t//do what you want\r\n\t\t}","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>use BufferedReader with StringReader argument. BufferedReader has a method readLine() so you can read your string line by line.</p>\n\n<pre><code>    StringReader reader = new StringReader(myBigTextString);\n    BufferedReader br = new BufferedReader(reader);\n    String line;\n    while((line=br.readLine())!=null)\n    {\n        //do what you want\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":0,"creation_date":1329132617,"post_id":9259549,"comment_id":11668951,"body_markdown":"Thanks for the answer. other proposed `BufferedReader`. What is the advantages of `java.io.LineNumberReader`?","body":"Thanks for the answer. other proposed <code>BufferedReader</code>. What is the advantages of <code>java.io.LineNumberReader</code>?"},{"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"score":0,"creation_date":1329135441,"post_id":9259549,"comment_id":11669876,"body_markdown":"Actually, I just did not realise BufferedReader has the readLine() method implemented as well.","body":"Actually, I just did not realise BufferedReader has the readLine() method implemented as well."},{"owner":{"account_id":1984689,"reputation":755,"user_id":1780295,"accept_rate":62,"display_name":"MonkeyWithDarts"},"score":0,"creation_date":1438961592,"post_id":9259549,"comment_id":51680499,"body_markdown":"For future readers: LineNumberReader extends BufferedReader, so LineNumberReader is a drop-in replacement for BufferedReader with the added behavior of tracking the line number of the line you just read. See http://docs.oracle.com/javase/8/docs/api/java/io/LineNumberReader.html.","body":"For future readers: LineNumberReader extends BufferedReader, so LineNumberReader is a drop-in replacement for BufferedReader with the added behavior of tracking the line number of the line you just read. See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/LineNumberReader.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/LineNumberReader.h&zwnj;&#8203;tml</a>."}],"tags":[],"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329131906,"creation_date":1329131906,"answer_id":9259549,"question_id":9259411,"body_markdown":"Combine `java.io.StringReader` and `java.io.LineNumberReader`","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>Combine <code>java.io.StringReader</code> and <code>java.io.LineNumberReader</code></p>\n"},{"comments":[{"owner":{"account_id":1399613,"reputation":137,"user_id":1328632,"accept_rate":75,"display_name":"Jiangfan Du"},"score":3,"creation_date":1469609843,"post_id":9259716,"comment_id":64603238,"body_markdown":"From guava&#39;s source code: ```Splitter.on(Pattern.compile(&quot;\\r?\\n&quot;)).split(entireFile)```","body":"From guava&#39;s source code: <code>Splitter.on(Pattern.compile(&quot;\\r?\\n&quot;)).split(entireFile)</code>"},{"owner":{"account_id":71092,"reputation":3112,"user_id":205629,"display_name":"simon04"},"score":0,"creation_date":1488449883,"post_id":9259716,"comment_id":72240113,"body_markdown":"More precisely, it is in the Javadoc for `Splitter#on`: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Splitter.html#on-java.util.regex.Pattern-","body":"More precisely, it is in the Javadoc for <code>Splitter#on</code>: <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Splitter.html#on-java.util.regex.Pattern-\" rel=\"nofollow noreferrer\">google.github.io/guava/releases/snapshot/api/docs/com/google&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460810208,"creation_date":1329132697,"answer_id":9259716,"question_id":9259411,"body_markdown":"Guava&#39;s [Splitter][1] works well. Especially as you can remove blank lines\r\n\r\n    Splitter splitter = Splitter.on(System.getProperty(&quot;line.separator&quot;))\r\n                                .trimResults()\r\n                                .omitEmptyStrings();\r\n    for (String line : splitter.split(input)){\r\n       // do work here\r\n    }\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Splitter.html","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>Guava's <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Splitter.html\" rel=\"nofollow\">Splitter</a> works well. Especially as you can remove blank lines</p>\n\n<pre><code>Splitter splitter = Splitter.on(System.getProperty(\"line.separator\"))\n                            .trimResults()\n                            .omitEmptyStrings();\nfor (String line : splitter.split(input)){\n   // do work here\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1469567611,"post_id":32027219,"comment_id":64587866,"body_markdown":"the real java8 way would probably use `System.lineSeparator()` instead of the property directly","body":"the real java8 way would probably use <code>System.lineSeparator()</code> instead of the property directly"},{"owner":{"account_id":22368,"reputation":3697,"user_id":55070,"accept_rate":76,"display_name":"leo"},"score":0,"creation_date":1486024346,"post_id":32027219,"comment_id":71171430,"body_markdown":"@xenoterracide you are right! Changed the answer accordingly.","body":"@xenoterracide you are right! Changed the answer accordingly."},{"owner":{"account_id":22368,"reputation":3697,"user_id":55070,"accept_rate":76,"display_name":"leo"},"score":0,"creation_date":1572599385,"post_id":32027219,"comment_id":103616654,"body_markdown":"@Torque I fixed the problem.","body":"@Torque I fixed the problem."},{"owner":{"account_id":75005,"reputation":14167,"user_id":215266,"accept_rate":78,"display_name":"satur9nine"},"score":0,"creation_date":1602178651,"post_id":32027219,"comment_id":113645825,"body_markdown":"Disadvantage of this solution is the split method is going to process the entire String so it can build a complete array of all lines before it returns. If your string is huge you will be creating a giant array with a lot of objects which is costly.","body":"Disadvantage of this solution is the split method is going to process the entire String so it can build a complete array of all lines before it returns. If your string is huge you will be creating a giant array with a lot of objects which is costly."}],"tags":[],"owner":{"account_id":22368,"reputation":3697,"user_id":55070,"accept_rate":76,"display_name":"leo"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1503485012,"creation_date":1439658982,"answer_id":32027219,"question_id":9259411,"body_markdown":"To add the Java 8 way to this question:\r\n\r\n    Arrays.stream(content.split(&quot;\\\\r?\\\\n&quot;)).forEach(line -&gt; /*do something */)\r\n\r\nOf curse you can also use `System.lineSeparator()`to split if you are sure that the file is comming from the same plattform as the vm runs on.\r\n\r\nOr even better use the stream api even more agressiv with filter, map and collect:\r\n\r\n    String result = Arrays.stream(content.split(System.lineSeparator()))\r\n                         .filter(/* filter for lines you are interested in*/)\r\n                         .map(/*convert string*/)\r\n                         .collect(Collectors.joining(&quot;;&quot;));","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>To add the Java 8 way to this question:</p>\n\n<pre><code>Arrays.stream(content.split(\"\\\\r?\\\\n\")).forEach(line -&gt; /*do something */)\n</code></pre>\n\n<p>Of curse you can also use <code>System.lineSeparator()</code>to split if you are sure that the file is comming from the same plattform as the vm runs on.</p>\n\n<p>Or even better use the stream api even more agressiv with filter, map and collect:</p>\n\n<pre><code>String result = Arrays.stream(content.split(System.lineSeparator()))\n                     .filter(/* filter for lines you are interested in*/)\n                     .map(/*convert string*/)\n                     .collect(Collectors.joining(\";\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1370973,"reputation":7979,"user_id":1306186,"accept_rate":80,"display_name":"Zulakis"},"score":0,"creation_date":1495978955,"post_id":42137687,"comment_id":75465889,"body_markdown":"This will split the string on both spaces and newlines, which is not what the question is looking for.","body":"This will split the string on both spaces and newlines, which is not what the question is looking for."},{"owner":{"account_id":11665,"reputation":6473,"user_id":22610,"accept_rate":80,"display_name":"Andy Balaam"},"score":0,"creation_date":1497015023,"post_id":42137687,"comment_id":75914416,"body_markdown":"Thanks @Zulakis - I have corrected the code to use an explicit delimiter.","body":"Thanks @Zulakis - I have corrected the code to use an explicit delimiter."},{"owner":{"account_id":52561,"reputation":1633,"user_id":157080,"accept_rate":71,"display_name":"John"},"score":0,"creation_date":1526431167,"post_id":42137687,"comment_id":87738386,"body_markdown":"I think it would be improved by using System.getProperty(&quot;line.separator&quot;).","body":"I think it would be improved by using System.getProperty(&quot;line.separator&quot;)."}],"tags":[],"owner":{"account_id":11665,"reputation":6473,"user_id":22610,"accept_rate":80,"display_name":"Andy Balaam"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497015011,"creation_date":1486645922,"answer_id":42137687,"question_id":9259411,"body_markdown":"You can actually wrangle `Scanner` to allow you to use a normal `for` loop:\r\n\r\n    import java.util.Scanner;\r\n    public class IterateLines {\r\n        public static void main(String[] args) {\r\n            Iterable&lt;String&gt; sc = () -&gt;\r\n                new Scanner(&quot;foo bar\\nbaz\\n&quot;).useDelimiter(&quot;\\n&quot;);\r\n            for (String line: sc) {\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ngives us:\r\n\r\n    $ javac IterateLines.java &amp;&amp; java IterateLines \r\n    foo bar\r\n    baz\r\n\r\n","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>You can actually wrangle <code>Scanner</code> to allow you to use a normal <code>for</code> loop:</p>\n\n<pre><code>import java.util.Scanner;\npublic class IterateLines {\n    public static void main(String[] args) {\n        Iterable&lt;String&gt; sc = () -&gt;\n            new Scanner(\"foo bar\\nbaz\\n\").useDelimiter(\"\\n\");\n        for (String line: sc) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n\n<p>gives us:</p>\n\n<pre><code>$ javac IterateLines.java &amp;&amp; java IterateLines \nfoo bar\nbaz\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1590548006,"creation_date":1527795298,"answer_id":50631579,"question_id":9259411,"body_markdown":"I believe you have a better API available starting with Java-11 where you can do the same using the **`String.lines()`** API which returns the stream of strings extracted from this string partitioned by line terminators.\r\n    \r\n    public Stream&lt;String&gt; lines()\r\n\r\nUsage of the same could be:-\r\n\r\n    Stream&lt;String&gt; linesFromString = textContent.lines();\r\n    linesFromString.forEach(l -&gt; {  //do sth });\r\n\r\n***Important API Note*** :- \r\n\r\n    @implNote This method provides better performance than\r\n              split(&quot;\\R&quot;) by supplying elements lazily and\r\n              by faster search of new line terminators.","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>I believe you have a better API available starting with Java-11 where you can do the same using the <strong><code>String.lines()</code></strong> API which returns the stream of strings extracted from this string partitioned by line terminators.</p>\n\n<pre><code>public Stream&lt;String&gt; lines()\n</code></pre>\n\n<p>Usage of the same could be:-</p>\n\n<pre><code>Stream&lt;String&gt; linesFromString = textContent.lines();\nlinesFromString.forEach(l -&gt; {  //do sth });\n</code></pre>\n\n<p><strong><em>Important API Note</em></strong> :- </p>\n\n<pre><code>@implNote This method provides better performance than\n          split(\"\\R\") by supplying elements lazily and\n          by faster search of new line terminators.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75005,"reputation":14167,"user_id":215266,"accept_rate":78,"display_name":"satur9nine"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602265728,"creation_date":1602265728,"answer_id":64284945,"question_id":9259411,"body_markdown":"If you are using Java 1.8 (or Android) then try this:\r\n\r\n    new BufferedReader(new StringReader(str)).lines().forEachOrdered((line) -&gt; {\r\n        // process each line as you like\r\n    });\r\n\r\n[Docs state][1]\r\n\r\n&gt;  The Stream is lazily populated, i.e., read only occurs during the terminal stream operation. \r\n\r\nWhich means this runs quicker than other solutions that first generate a massive array of Strings before iteration can begin.\r\n\r\nIf you are using Java 11 or later then the answer @Naman gave recommending [String#lines()][2] method is even cleaner and fast as well, see https://stackoverflow.com/a/50631579/215266 \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedReader.html#lines()\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>If you are using Java 1.8 (or Android) then try this:</p>\n<pre><code>new BufferedReader(new StringReader(str)).lines().forEachOrdered((line) -&gt; {\n    // process each line as you like\n});\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/BufferedReader.html#lines()\" rel=\"nofollow noreferrer\">Docs state</a></p>\n<blockquote>\n<p>The Stream is lazily populated, i.e., read only occurs during the terminal stream operation.</p>\n</blockquote>\n<p>Which means this runs quicker than other solutions that first generate a massive array of Strings before iteration can begin.</p>\n<p>If you are using Java 11 or later then the answer @Naman gave recommending <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\" rel=\"nofollow noreferrer\">String#lines()</a> method is even cleaner and fast as well, see <a href=\"https://stackoverflow.com/a/50631579/215266\">https://stackoverflow.com/a/50631579/215266</a></p>\n"}],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72824,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":9259462,"answer_count":10,"score":62,"last_activity_date":1671518283,"creation_date":1329131198,"question_id":9259411,"body_markdown":"Currently I&#39;m using something like :\r\n\r\n    String[]lines = textContent.split(System.getProperty(&quot;line.separator&quot;));\r\n    for(String tmpLine : lines){\r\n       //do something\r\n    }\r\n\r\nI&#39;m not very glad of this method because it create an heavy array (let say `textContent` can contain a book).\r\n\r\n**Is there any better solution to iterate over the lines of a `String`?**","title":"What is the best way to iterate over the lines of a Java String?","body":"<p>Currently I'm using something like :</p>\n\n<pre><code>String[]lines = textContent.split(System.getProperty(\"line.separator\"));\nfor(String tmpLine : lines){\n   //do something\n}\n</code></pre>\n\n<p>I'm not very glad of this method because it create an heavy array (let say <code>textContent</code> can contain a book).</p>\n\n<p><strong>Is there any better solution to iterate over the lines of a <code>String</code>?</strong></p>\n"},{"tags":["java","spring","spring-boot","api","exception"],"answers":[{"comments":[{"owner":{"account_id":12657811,"reputation":27,"user_id":9199774,"display_name":"Marcos Oleiro"},"score":0,"creation_date":1671539431,"post_id":74859154,"comment_id":132116778,"body_markdown":"I dont need to handle SQLException on utils&#39; method, im already handling on ControlerAdvice, that&#39;s why im just throwing it on methods","body":"I dont need to handle SQLException on utils&#39; method, im already handling on ControlerAdvice, that&#39;s why im just throwing it on methods"}],"tags":[],"owner":{"account_id":11392684,"reputation":21,"user_id":8352125,"display_name":"Pratik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671517071,"creation_date":1671517071,"answer_id":74859154,"question_id":74853473,"body_markdown":"I think its ok to throws exception in controller also, but have 2 suggestions:\r\n\r\n1. use try catch instead of throws\r\n2. try @SneakyThrows if you are using project Lombok\r\nhttps://projectlombok.org/features/SneakyThrows","title":"Java - Avoid Throws Instruction On Controller","body":"<p>I think its ok to throws exception in controller also, but have 2 suggestions:</p>\n<ol>\n<li>use try catch instead of throws</li>\n<li>try @SneakyThrows if you are using project Lombok\n<a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/SneakyThrows</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":12657811,"reputation":27,"user_id":9199774,"display_name":"Marcos Oleiro"},"score":0,"creation_date":1671539484,"post_id":74859322,"comment_id":132116790,"body_markdown":"So if i have already a ControllerAdvice handling it, no problem throwing on Controller?","body":"So if i have already a ControllerAdvice handling it, no problem throwing on Controller?"},{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":1,"creation_date":1671543483,"post_id":74859322,"comment_id":132118197,"body_markdown":"In this case its not a problem, because its a truly exceptional scenario (assuming you will face this exception only when your database has some kind of a problem) Exceptions are heavy with the stacktrace, so its better not to use it to control the code flow","body":"In this case its not a problem, because its a truly exceptional scenario (assuming you will face this exception only when your database has some kind of a problem) Exceptions are heavy with the stacktrace, so its better not to use it to control the code flow"}],"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671518120,"creation_date":1671518120,"answer_id":74859322,"question_id":74853473,"body_markdown":"The `throws SQLException` in method signature is the Java way of making developer aware that this need to be handled or at least acknowledged (as part of method signature).This type of exception is called Checked Exception\r\n\r\n &quot;feeling controller throwing an exception is not right&quot; - You are totally on right track. You have couple of options here, either you can catch this exception and convert to appropriate HTTP code in Controller itself, or resort to a global ControllerAdvice which can handle these exceptions. I wouldn&#39;t try converting it to a runtime exception just to avoid the need to acknowledge that code branching in method signature.\r\n\r\nThe usefulness of checked exception is a controversial topic. You will find proponents of both side of this debate. \r\n\r\nIf this checked exception made you think how to handle it, then checkedException serves it&#39;s purpose, IMHO (I came back from golang ecosystem where the language make you handle every darn error paths, I see the point of checked exceptions)\r\n","title":"Java - Avoid Throws Instruction On Controller","body":"<p>The <code>throws SQLException</code> in method signature is the Java way of making developer aware that this need to be handled or at least acknowledged (as part of method signature).This type of exception is called Checked Exception</p>\n<p>&quot;feeling controller throwing an exception is not right&quot; - You are totally on right track. You have couple of options here, either you can catch this exception and convert to appropriate HTTP code in Controller itself, or resort to a global ControllerAdvice which can handle these exceptions. I wouldn't try converting it to a runtime exception just to avoid the need to acknowledge that code branching in method signature.</p>\n<p>The usefulness of checked exception is a controversial topic. You will find proponents of both side of this debate.</p>\n<p>If this checked exception made you think how to handle it, then checkedException serves it's purpose, IMHO (I came back from golang ecosystem where the language make you handle every darn error paths, I see the point of checked exceptions)</p>\n"}],"owner":{"account_id":12657811,"reputation":27,"user_id":9199774,"display_name":"Marcos Oleiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74859322,"answer_count":2,"score":1,"last_activity_date":1671518120,"creation_date":1671468339,"question_id":74853473,"body_markdown":"So, hello, how are you?\r\n\r\nI have a controller that calls a Service&#39;s method that calls a Utils&#39; method, like this:\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/some-pattern&quot;)\r\n    public class SomeController {\r\n\r\n      @Autowired\r\n      SomeService service;\r\n\r\n      @PostMapping(&quot;/some-url&quot;)\r\n      public ResponseEntity&lt;?&gt; someMehhod(@RequestBody Object docs) {\r\n\r\n        service.someMethod(docs) ;\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\r\n      }\r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    public class SomeService {\r\n    \r\n      @Autowired\r\n      SomeUtils utils;\r\n\r\n      public void someMethod(Object docs) throws SQLException{\r\n\r\n        //  THIS METHOD CAN RAISE AN SQL EXCEPTIO\r\n        utils.someMehhod(docs);\r\n      }\r\n    }\r\n\r\nUtil:\r\n\r\n    @Component\r\n    public class SomeUtils {\r\n\r\n      public void someMehhod(docs) throws SQLException {\r\n        // Some DB operation that need to try/catch or throw SQLException\r\n      }\r\n    }\r\n\r\n\r\nI dont mind to just throw SQLException, i have a handler class that will handle it, my problem its that i gotta insert &quot;throws SQLException&quot; in controller method too but that doesnt seems right to me, it is ok to have this instruction on controller or i have a way to avoid it? I was thinking do &#39;wrap&#39; SQLException into a custom exception extending RuntimeException. Thougths?\r\n","title":"Java - Avoid Throws Instruction On Controller","body":"<p>So, hello, how are you?</p>\n<p>I have a controller that calls a Service's method that calls a Utils' method, like this:</p>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/some-pattern&quot;)\npublic class SomeController {\n\n  @Autowired\n  SomeService service;\n\n  @PostMapping(&quot;/some-url&quot;)\n  public ResponseEntity&lt;?&gt; someMehhod(@RequestBody Object docs) {\n\n    service.someMethod(docs) ;\n    return new ResponseEntity&lt;&gt;(null, HttpStatus.OK);\n  }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class SomeService {\n\n  @Autowired\n  SomeUtils utils;\n\n  public void someMethod(Object docs) throws SQLException{\n\n    //  THIS METHOD CAN RAISE AN SQL EXCEPTIO\n    utils.someMehhod(docs);\n  }\n}\n</code></pre>\n<p>Util:</p>\n<pre><code>@Component\npublic class SomeUtils {\n\n  public void someMehhod(docs) throws SQLException {\n    // Some DB operation that need to try/catch or throw SQLException\n  }\n}\n</code></pre>\n<p>I dont mind to just throw SQLException, i have a handler class that will handle it, my problem its that i gotta insert &quot;throws SQLException&quot; in controller method too but that doesnt seems right to me, it is ok to have this instruction on controller or i have a way to avoid it? I was thinking do 'wrap' SQLException into a custom exception extending RuntimeException. Thougths?</p>\n"},{"tags":["java","selenium","maven","testng"],"comments":[{"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"score":0,"creation_date":1671517629,"post_id":74859026,"comment_id":132110613,"body_markdown":"I would suggest you to read about instance fields. Refer this link (https://self-learning-java-tutorial.blogspot.com/2014/02/classes-and-objects.html). \n\nTo solve your problem, make UID, PWD as instance fields in TestData class, and access them using TestData object like excel.PWID, excel.PWD","body":"I would suggest you to read about instance fields. Refer this link (<a href=\"https://self-learning-java-tutorial.blogspot.com/2014/02/classes-and-objects.html\" rel=\"nofollow noreferrer\">self-learning-java-tutorial.blogspot.com/2014/02/&hellip;</a>).   To solve your problem, make UID, PWD as instance fields in TestData class, and access them using TestData object like excel.PWID, excel.PWD"}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671518061,"creation_date":1671518061,"answer_id":74859313,"question_id":74859026,"body_markdown":"You can try like this:\r\n\r\n\r\n    public class TestData {\r\n    \tdouble UID;\r\n    \tString PWD;\r\n    \t\r\n    \tpublic void excel() throws IOException {\r\n    \t\tString filePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Inputfiles&quot;;\r\n    \t\tFile file = new File(filePath + &quot;\\\\TestData.xlsx&quot;);\r\n    \t\tFileInputStream inputStream = new FileInputStream(file);\r\n    \t\tXSSFWorkbook wb = new XSSFWorkbook(inputStream);\r\n    \t\tXSSFSheet sheet = wb.getSheet(&quot;Admin_inputs&quot;);\r\n    \t\tXSSFRow row2 = sheet.getRow(1);\r\n    \t\tXSSFCell cell = row2.getCell(0);\r\n    \t\tUID = cell.getNumericCellValue();\r\n    \t\tXSSFCell cell2 = row2.getCell(1);\r\n    \t\tPWD = cell2.getStringCellValue();\r\n    \t}\r\n    }\r\n\r\nIn `Admin_Login()` method, am just printing `UID` and `PWD`, change the code according to your requirement:\r\n\r\n\r\n    public class AdminLoginAction extends TestData {\r\n    \t@Test()\r\n    \tpublic void Admin_Login() throws InterruptedException, IOException {\r\n    \t\t// TestData excel = new TestData();  // you don&#39;t need to create this object because you are already inheriting `TestData` class.\r\n    \r\n    \t\texcel();  // before using UID and PWD you have to call excel() method.\r\n    \t\tSystem.out.println(UID);\r\n    \t\tSystem.out.println(PWD);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Unable to call the parameters from one class-method to another class-method","body":"<p>You can try like this:</p>\n<pre><code>public class TestData {\n    double UID;\n    String PWD;\n    \n    public void excel() throws IOException {\n        String filePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Inputfiles&quot;;\n        File file = new File(filePath + &quot;\\\\TestData.xlsx&quot;);\n        FileInputStream inputStream = new FileInputStream(file);\n        XSSFWorkbook wb = new XSSFWorkbook(inputStream);\n        XSSFSheet sheet = wb.getSheet(&quot;Admin_inputs&quot;);\n        XSSFRow row2 = sheet.getRow(1);\n        XSSFCell cell = row2.getCell(0);\n        UID = cell.getNumericCellValue();\n        XSSFCell cell2 = row2.getCell(1);\n        PWD = cell2.getStringCellValue();\n    }\n}\n</code></pre>\n<p>In <code>Admin_Login()</code> method, am just printing <code>UID</code> and <code>PWD</code>, change the code according to your requirement:</p>\n<pre><code>public class AdminLoginAction extends TestData {\n    @Test()\n    public void Admin_Login() throws InterruptedException, IOException {\n        // TestData excel = new TestData();  // you don't need to create this object because you are already inheriting `TestData` class.\n\n        excel();  // before using UID and PWD you have to call excel() method.\n        System.out.println(UID);\n        System.out.println(PWD);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15173022,"reputation":3,"user_id":12518185,"display_name":"Raghavendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74859313,"answer_count":1,"score":-1,"last_activity_date":1671518061,"creation_date":1671516009,"question_id":74859026,"body_markdown":"I have tried with the below code having two classes once is Class1-TestData and Method1-excel(),\r\nAnd another call to access the parameters Class2-AdminLoginAction and Method2-Admin_Login().\r\n\r\nHere is the problem with I need to call the string parameters like UID and PWD as I marked in the Screenshot attached. But the script showed some error and was unable to access it. So, How can I solve this problem, Am I going to the right approach or any other way? Please do need full as soon as possible.\r\n\r\n[Script image for two classes](https://i.stack.imgur.com/nr5VT.png)\r\n\r\n    import java.io.IOException; \r\n    import java.util.Date;\r\n    \r\n    import org.openqa.selenium.By; \r\n    import org.openqa.selenium.WebDriver; \r\n    import org.openqa.selenium.chrome.ChromeDriver; \r\n    import org.testng.annotations.*;\r\n    \r\n    import com.aventstack.extentreports.ExtentReports;\r\n    import com.aventstack.extentreports.ExtentTest;\r\n    import com.aventstack.extentreports.Status;\r\n    \r\n    import com.aventstack.extentreports.reporter.ExtentSparkReporter;\r\n    \r\n    public class AdminLoginAction extends TestData{\r\n    \r\n    WebDriver d;\r\n    Date currentdate = new Date();\r\n    String Screenshotdate = currentdate.toString().replace(&quot; &quot;, &quot;-&quot;).replace(&quot;:&quot;, &quot;-&quot;);\r\n    ExtentSparkReporter spark = new ExtentSparkReporter(&quot;ExtentReport.html&quot;);\r\n    ExtentReports extent = new ExtentReports();\r\n    @Test()\r\n    public void Admin_Login() throws InterruptedException, IOException {\r\n    \tTestData excel = new TestData();\r\n    \t\r\n    \textent.attachReporter(spark);\r\n    \tExtentTest test = extent.createTest(&quot;Launch browswer and access the WeClean Login page&quot;);\r\n    \ttest.log(Status.PASS, &quot;Launch browser success...!!!&quot;);\r\n    \ttest.pass(&quot;Verified launching browser&quot;);\r\n    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\backup\\\\selenium\\\\chromedriver.exe&quot;);\r\n    \td = new ChromeDriver();\r\n    \td.manage().window().maximize();\r\n    \td.get(URL);\r\n    \tUtils.CaptureScreenshot(d, Screenshotdate + &quot;_Login.png&quot;);\r\n    \td.findElement(By.id(&quot;loginUser&quot;)).sendKeys(UID);\r\n    \td.findElement(By.id(&quot;password&quot;)).sendKeys(PWD);\r\n    \td.findElement(By.id(&quot;loginButton&quot;)).click();\r\n    \tThread.sleep(5000);\r\n    \tUtils.CaptureScreenshot(d, Screenshotdate + &quot;_HomePage.png&quot;);\r\n    \ttest.log(Status.PASS, &quot;Admin Logged in Successful&quot;);\r\n    \ttest.pass(&quot;Verified Admin logged in&quot;);\r\n    }\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class TestData{\r\n\tpublic void excel() throws IOException {\r\n\t String filePath = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\Inputfiles&quot;;\r\n\t File file =    new File(filePath + &quot;\\\\TestData.xlsx&quot;);\r\n\t FileInputStream inputStream = new FileInputStream(file);\r\n\t XSSFWorkbook wb=new XSSFWorkbook(inputStream);\r\n\t XSSFSheet sheet=wb.getSheet(&quot;Admin_inputs&quot;);\r\n     XSSFRow row2=sheet.getRow(1);\r\n     XSSFCell cell=row2.getCell(0);\r\n     double UID= cell.getNumericCellValue();\r\n     XSSFCell cell2 = row2.getCell(1);\r\n     String PWD = cell2.getStringCellValue();\r\n\t}\r\n```","title":"Unable to call the parameters from one class-method to another class-method","body":"<p>I have tried with the below code having two classes once is Class1-TestData and Method1-excel(),\nAnd another call to access the parameters Class2-AdminLoginAction and Method2-Admin_Login().</p>\n<p>Here is the problem with I need to call the string parameters like UID and PWD as I marked in the Screenshot attached. But the script showed some error and was unable to access it. So, How can I solve this problem, Am I going to the right approach or any other way? Please do need full as soon as possible.</p>\n<p><a href=\"https://i.stack.imgur.com/nr5VT.png\" rel=\"nofollow noreferrer\">Script image for two classes</a></p>\n<pre><code>import java.io.IOException; \nimport java.util.Date;\n\nimport org.openqa.selenium.By; \nimport org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.chrome.ChromeDriver; \nimport org.testng.annotations.*;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.ExtentTest;\nimport com.aventstack.extentreports.Status;\n\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\n\npublic class AdminLoginAction extends TestData{\n\nWebDriver d;\nDate currentdate = new Date();\nString Screenshotdate = currentdate.toString().replace(&quot; &quot;, &quot;-&quot;).replace(&quot;:&quot;, &quot;-&quot;);\nExtentSparkReporter spark = new ExtentSparkReporter(&quot;ExtentReport.html&quot;);\nExtentReports extent = new ExtentReports();\n@Test()\npublic void Admin_Login() throws InterruptedException, IOException {\n    TestData excel = new TestData();\n    \n    extent.attachReporter(spark);\n    ExtentTest test = extent.createTest(&quot;Launch browswer and access the WeClean Login page&quot;);\n    test.log(Status.PASS, &quot;Launch browser success...!!!&quot;);\n    test.pass(&quot;Verified launching browser&quot;);\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\backup\\\\selenium\\\\chromedriver.exe&quot;);\n    d = new ChromeDriver();\n    d.manage().window().maximize();\n    d.get(URL);\n    Utils.CaptureScreenshot(d, Screenshotdate + &quot;_Login.png&quot;);\n    d.findElement(By.id(&quot;loginUser&quot;)).sendKeys(UID);\n    d.findElement(By.id(&quot;password&quot;)).sendKeys(PWD);\n    d.findElement(By.id(&quot;loginButton&quot;)).click();\n    Thread.sleep(5000);\n    Utils.CaptureScreenshot(d, Screenshotdate + &quot;_HomePage.png&quot;);\n    test.log(Status.PASS, &quot;Admin Logged in Successful&quot;);\n    test.pass(&quot;Verified Admin logged in&quot;);\n}\n</code></pre>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Scanner;\n\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.testng.annotations.Test;\n\npublic class TestData{\n    public void excel() throws IOException {\n     String filePath = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\Inputfiles&quot;;\n     File file =    new File(filePath + &quot;\\\\TestData.xlsx&quot;);\n     FileInputStream inputStream = new FileInputStream(file);\n     XSSFWorkbook wb=new XSSFWorkbook(inputStream);\n     XSSFSheet sheet=wb.getSheet(&quot;Admin_inputs&quot;);\n     XSSFRow row2=sheet.getRow(1);\n     XSSFCell cell=row2.getCell(0);\n     double UID= cell.getNumericCellValue();\n     XSSFCell cell2 = row2.getCell(1);\n     String PWD = cell2.getStringCellValue();\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671512442,"post_id":74858636,"comment_id":132109812,"body_markdown":"Does this compile `if (!(o instanceof UserId userId)) return false;` ?","body":"Does this compile <code>if (!(o instanceof UserId userId)) return false;</code> ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1671512539,"post_id":74858636,"comment_id":132109830,"body_markdown":"`Object o` not used in comparison","body":"<code>Object o</code> not used in comparison"}],"answers":[{"comments":[{"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"score":0,"creation_date":1671599038,"post_id":74858773,"comment_id":132131275,"body_markdown":"you are correct. Just wanted to add this as a source of where you can read more about it: https://www.baeldung.com/jpa-unique-constraints","body":"you are correct. Just wanted to add this as a source of where you can read more about it: <a href=\"https://www.baeldung.com/jpa-unique-constraints\" rel=\"nofollow noreferrer\">baeldung.com/jpa-unique-constraints</a>"}],"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671513414,"creation_date":1671513414,"answer_id":74858773,"question_id":74858636,"body_markdown":"Whether you do this via annotations and schema generation, or just by creating / modifying the schema directly, the answer is the same.\r\n\r\nYou will need to create a single unique constraint in the database naming both columns, not two separate constraints.\r\n\r\nIf you want a schema generation annotation to do this, supply the @UniqueConstraint annotation to the @Table annotation, e.g.\r\n\r\n\r\n    @Table(uniqueConstraints = { \r\n     @UniqueConstraint(columnNames = {\r\n       &quot;name&quot;, &quot;email&quot; \r\n     }) \r\n    })\r\n\r\n\r\n","title":"Overriding equals() and hashcode() methods in JPA embeddable does not work","body":"<p>Whether you do this via annotations and schema generation, or just by creating / modifying the schema directly, the answer is the same.</p>\n<p>You will need to create a single unique constraint in the database naming both columns, not two separate constraints.</p>\n<p>If you want a schema generation annotation to do this, supply the @UniqueConstraint annotation to the @Table annotation, e.g.</p>\n<pre><code>@Table(uniqueConstraints = { \n @UniqueConstraint(columnNames = {\n   &quot;name&quot;, &quot;email&quot; \n }) \n})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671628402,"post_id":74859243,"comment_id":132139165,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74859243/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27303517,"reputation":1,"user_id":20819839,"display_name":"ATATC"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1671517561,"creation_date":1671517561,"answer_id":74859243,"question_id":74858636,"body_markdown":"```java\r\npublic class UserId implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = -622156255674132106L;\r\n    @Column(name = &quot;name&quot;, nullable = false, unique=true)\r\n    protected String name = &quot;&quot;;\r\n    @Column(name = &quot;email&quot;, nullable = false, unique=true)\r\n    protected String email = &quot;&quot;;\r\n```","title":"Overriding equals() and hashcode() methods in JPA embeddable does not work","body":"<pre class=\"lang-java prettyprint-override\"><code>public class UserId implements Serializable {\n    @Serial\n    private static final long serialVersionUID = -622156255674132106L;\n    @Column(name = &quot;name&quot;, nullable = false, unique=true)\n    protected String name = &quot;&quot;;\n    @Column(name = &quot;email&quot;, nullable = false, unique=true)\n    protected String email = &quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":27303517,"reputation":1,"user_id":20819839,"display_name":"ATATC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671517736,"creation_date":1671511847,"question_id":74858636,"body_markdown":"JDK 17\r\n\r\nSpringBoot latest\r\n\r\nJPA latest\r\n\r\nMySQL 8.0.31\r\n\r\nI am trying to implement a strategy that makes sure that both the name and the email address of each user are unique.\r\n\r\nUser entity:\r\n\r\n```java\r\n@Entity\r\npublic class User {\r\n    ......\r\n    @EmbeddedId\r\n    protected UserId id;\r\n    ......\r\n}\r\n```\r\n\r\nUser id:\r\n\r\n```java\r\n@Embeddable\r\npublic class UserId implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = -622156255674132106L;\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    protected String name = &quot;&quot;;\r\n    @Column(name = &quot;email&quot;, nullable = false)\r\n    protected String email = &quot;&quot;;\r\n\r\n    public UserId(String name, String email) {\r\n        setName(name);\r\n        setEmail(email);\r\n    }\r\n\r\n    public UserId() {}\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return Objects.requireNonNullElse(name, &quot;&quot;);\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return Objects.requireNonNullElse(email, &quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow, by default, it is marked as a conflict only if `userA.name == userB.name &amp;&amp; userA.email == userB.email`, which means there can be two users having the same email address as long as they do not share one single name. How to stop this from happening? What I expect is `userA.name == userB.name || userA.email == userB.email`.\r\n\r\nI&#39;ve tried overriding `equals()` and `hashcode()` in the following way.\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (!(o instanceof UserId userId)) return false;\r\n\r\n    if (Objects.equals(name, userId.name)) return true;\r\n    return Objects.equals(email, userId.email);\r\n}\r\n\r\n@Override\r\npublic int hashCode() {\r\n    int result = name != null ? name.hashCode() : 0;\r\n    result = 31 * result + (email != null ? email.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n\r\nHowever, it does not work. Also, breakpoints inside these two functions are not reached.\r\n\r\n==========Edited==========\r\n\r\nI&#39;ve solved the original problem. But when it comes to `UsersRepository.existsById()`, it&#39;s still considered not to exist if either of the two columns does not match. How can I fix it?","title":"Overriding equals() and hashcode() methods in JPA embeddable does not work","body":"<p>JDK 17</p>\n<p>SpringBoot latest</p>\n<p>JPA latest</p>\n<p>MySQL 8.0.31</p>\n<p>I am trying to implement a strategy that makes sure that both the name and the email address of each user are unique.</p>\n<p>User entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n    ......\n    @EmbeddedId\n    protected UserId id;\n    ......\n}\n</code></pre>\n<p>User id:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class UserId implements Serializable {\n    @Serial\n    private static final long serialVersionUID = -622156255674132106L;\n    @Column(name = &quot;name&quot;, nullable = false)\n    protected String name = &quot;&quot;;\n    @Column(name = &quot;email&quot;, nullable = false)\n    protected String email = &quot;&quot;;\n\n    public UserId(String name, String email) {\n        setName(name);\n        setEmail(email);\n    }\n\n    public UserId() {}\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return Objects.requireNonNullElse(name, &quot;&quot;);\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getEmail() {\n        return Objects.requireNonNullElse(email, &quot;&quot;);\n    }\n}\n</code></pre>\n<p>Now, by default, it is marked as a conflict only if <code>userA.name == userB.name &amp;&amp; userA.email == userB.email</code>, which means there can be two users having the same email address as long as they do not share one single name. How to stop this from happening? What I expect is <code>userA.name == userB.name || userA.email == userB.email</code>.</p>\n<p>I've tried overriding <code>equals()</code> and <code>hashcode()</code> in the following way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof UserId userId)) return false;\n\n    if (Objects.equals(name, userId.name)) return true;\n    return Objects.equals(email, userId.email);\n}\n\n@Override\npublic int hashCode() {\n    int result = name != null ? name.hashCode() : 0;\n    result = 31 * result + (email != null ? email.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>However, it does not work. Also, breakpoints inside these two functions are not reached.</p>\n<p>==========Edited==========</p>\n<p>I've solved the original problem. But when it comes to <code>UsersRepository.existsById()</code>, it's still considered not to exist if either of the two columns does not match. How can I fix it?</p>\n"},{"tags":["java","maven","cucumber","cucumber-jvm","test-reporting"],"answers":[{"comments":[{"owner":{"account_id":8993794,"reputation":41,"user_id":6704896,"display_name":"N Riay"},"score":0,"creation_date":1525265893,"post_id":50120482,"comment_id":87288407,"body_markdown":"Thanks for the reply. Actually `TEST-AllTestsRunner.xml` contents are far less than required to fill in cucumber report (cucumber.json).  As per `maven-surefire-report-plugin`, my team + manager is not happy with its report and they prefer to have cucumber report.","body":"Thanks for the reply. Actually <code>TEST-AllTestsRunner.xml</code> contents are far less than required to fill in cucumber report (cucumber.json).  As per <code>maven-surefire-report-plugin</code>, my team + manager is not happy with its report and they prefer to have cucumber report."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1525273550,"post_id":50120482,"comment_id":87294001,"body_markdown":"The only way out is to use the old retry mechanism and merge the 2 json files.","body":"The only way out is to use the old retry mechanism and merge the 2 json files."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1525273988,"post_id":50120482,"comment_id":87294264,"body_markdown":"refer to this for merging,maybe this helps https://github.com/gfk-ba/senbot/issues/4 https://github.com/damianszczepanik/cucumber-reporting","body":"refer to this for merging,maybe this helps <a href=\"https://github.com/gfk-ba/senbot/issues/4\" rel=\"nofollow noreferrer\">github.com/gfk-ba/senbot/issues/4</a> <a href=\"https://github.com/damianszczepanik/cucumber-reporting\" rel=\"nofollow noreferrer\">github.com/damianszczepanik/cucumber-reporting</a>"},{"owner":{"account_id":8993794,"reputation":41,"user_id":6704896,"display_name":"N Riay"},"score":0,"creation_date":1525357091,"post_id":50120482,"comment_id":87332324,"body_markdown":"Yes, I do understand that. I have already been using that mechanism by using `&lt;info.cukes&gt;` for cucumber-jvm rather than `&lt;io.cucumber&gt;` and then combining the two json, Inclined to use this lastest `io.cucumber` as it has buildin support for rerun mechanism and no need to have FailedTestRunner class.","body":"Yes, I do understand that. I have already been using that mechanism by using <code>&lt;info.cukes&gt;</code> for cucumber-jvm rather than <code>&lt;io.cucumber&gt;</code> and then combining the two json, Inclined to use this lastest <code>io.cucumber</code> as it has buildin support for rerun mechanism and no need to have FailedTestRunner class."}],"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525193419,"creation_date":1525193419,"answer_id":50120482,"question_id":50115819,"body_markdown":"In this case the `AllTestsRunner` is run repeatedly till it succeeds up to the count mentioned in the `rerunFailingTestsCount` parameter or fails on last run. So the last run always wins.\r\n\r\nThe surefire plugin creates its own reports in the **target** folder. Two reports are `AllTestsRunner.txt`, which is a summary, and `TEST-AllTestsRunner.xml` has the details. Both these reports has details about all runs. You could create a custom program to convert the `TEST-AllTestsRunner.xml` file to desired json.\r\n\r\nThere is a [surefire report plugin][1] which reads the above xml file and generates html report. It will create reports in the site folder and run with mvn site. Maybe this works.\r\n\r\n\r\n  [1]: http://maven.apache.org/surefire/maven-surefire-report-plugin/index.html","title":"cucumber.json report getting overwritten by rerun scenario report","body":"<p>In this case the <code>AllTestsRunner</code> is run repeatedly till it succeeds up to the count mentioned in the <code>rerunFailingTestsCount</code> parameter or fails on last run. So the last run always wins.</p>\n\n<p>The surefire plugin creates its own reports in the <strong>target</strong> folder. Two reports are <code>AllTestsRunner.txt</code>, which is a summary, and <code>TEST-AllTestsRunner.xml</code> has the details. Both these reports has details about all runs. You could create a custom program to convert the <code>TEST-AllTestsRunner.xml</code> file to desired json.</p>\n\n<p>There is a <a href=\"http://maven.apache.org/surefire/maven-surefire-report-plugin/index.html\" rel=\"nofollow noreferrer\">surefire report plugin</a> which reads the above xml file and generates html report. It will create reports in the site folder and run with mvn site. Maybe this works.</p>\n"},{"comments":[{"owner":{"account_id":8993794,"reputation":41,"user_id":6704896,"display_name":"N Riay"},"score":0,"creation_date":1525858080,"post_id":50160234,"comment_id":87517049,"body_markdown":"Hi mpkorstanje\ni have tried to use the `cucumber-jvm-parallel-plugin` with version `5.0.0` alongwith `io.cucucmber` version `2.4.0`, using `&lt;parallelScheme&gt;SCENARIO&lt;/parallelScheme&gt;`\nBut the problem i am getting is, for a feature with 5 scenarios, it creates 5 runners, each of those 5 runners will run all 5 scenarios repeatedly. Is that a bug or Am i doing something wrong.","body":"Hi mpkorstanje i have tried to use the <code>cucumber-jvm-parallel-plugin</code> with version <code>5.0.0</code> alongwith <code>io.cucucmber</code> version <code>2.4.0</code>, using <code>&lt;parallelScheme&gt;SCENARIO&lt;&#47;parallelScheme&gt;</code> But the problem i am getting is, for a feature with 5 scenarios, it creates 5 runners, each of those 5 runners will run all 5 scenarios repeatedly. Is that a bug or Am i doing something wrong."},{"owner":{"account_id":8993794,"reputation":41,"user_id":6704896,"display_name":"N Riay"},"score":0,"creation_date":1525858804,"post_id":50160234,"comment_id":87517496,"body_markdown":"Also, Another problem is, if any of the scenario FAILS (due to automation code problem), it gets rerun and it failed again. Legitimate failures which needs to be fixed. But the build shows BUILD SUCCESS rather than failed. this is not right behaviour? what do you suggest.","body":"Also, Another problem is, if any of the scenario FAILS (due to automation code problem), it gets rerun and it failed again. Legitimate failures which needs to be fixed. But the build shows BUILD SUCCESS rather than failed. this is not right behaviour? what do you suggest."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1525880062,"post_id":50160234,"comment_id":87532094,"body_markdown":"I&#39;ve heard people report that problem before but every time I ask for a mcve in the form of a github repo it goes away. https://stackoverflow.com/help/mcve","body":"I&#39;ve heard people report that problem before but every time I ask for a mcve in the form of a github repo it goes away. <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"},{"owner":{"account_id":8993794,"reputation":41,"user_id":6704896,"display_name":"N Riay"},"score":0,"creation_date":1525975112,"post_id":50160234,"comment_id":87574293,"body_markdown":"I have created an issue here https://github.com/temyers/cucumber-jvm-parallel-plugin/issues/169","body":"I have created an issue here <a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin/issues/169\" rel=\"nofollow noreferrer\">github.com/temyers/cucumber-jvm-parallel-plugin/issues/169</a>"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527700907,"creation_date":1525366382,"answer_id":50160234,"question_id":50115819,"body_markdown":"The good news is you&#39;re not doing anything wrong!\r\n\r\nThe bad news is that the results you&#39;re observing are entirely as expected. This is a natural consequence of chaining different tools (`Surefire --&gt; JUnit --&gt; Cucumber`) that are otherwise unaware of each other. From the perspective of Cucumber it would appear that the rerun is an entirely new execution so it will happily overwrite the old reports.  Only at the start of the chain it is possible to create accurate reports.\r\n\r\nAs such your options from least to most effort and worst to best quality are:\r\n\r\n 1. Use the reports generated by Surefire.\r\n\r\n 2. Write your own plugin that appends results rather then overwriting them.\r\n 3. Get involved with the Cucumber project and help resolve this fundamentally.\r\n\r\n\r\nEdit: Removed the suggestion to use the [cucumber-jvm-parallel-plugin](https://github.com/temyers/cucumber-jvm-parallel-plugin) create a individual unit test for each scenario. This won&#39;t actually work.","title":"cucumber.json report getting overwritten by rerun scenario report","body":"<p>The good news is you're not doing anything wrong!</p>\n\n<p>The bad news is that the results you're observing are entirely as expected. This is a natural consequence of chaining different tools (<code>Surefire --&gt; JUnit --&gt; Cucumber</code>) that are otherwise unaware of each other. From the perspective of Cucumber it would appear that the rerun is an entirely new execution so it will happily overwrite the old reports.  Only at the start of the chain it is possible to create accurate reports.</p>\n\n<p>As such your options from least to most effort and worst to best quality are:</p>\n\n<ol>\n<li><p>Use the reports generated by Surefire.</p></li>\n<li><p>Write your own plugin that appends results rather then overwriting them.</p></li>\n<li>Get involved with the Cucumber project and help resolve this fundamentally.</li>\n</ol>\n\n<p>Edit: Removed the suggestion to use the <a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin\" rel=\"nofollow noreferrer\">cucumber-jvm-parallel-plugin</a> create a individual unit test for each scenario. This won't actually work.</p>\n"},{"tags":[],"owner":{"account_id":9892893,"reputation":275,"user_id":7325348,"display_name":"gary.zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642129038,"creation_date":1642129038,"answer_id":70705549,"question_id":50115819,"body_markdown":"I face the same issue. I&#39;m pretty happy with the result I got. Share the info here.\r\n\r\n**Retry without concern of report**\r\n\r\nIf you just want to retry the failed tests and doesn&#39;t care about the incomplete report, it&#39;s easy. There are two ways to do it.\r\n\r\n 1. Use rerunFailingTestsCount from Maven. Reference https://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html. Regarding reporting, the limitation is cucumber.json is overridden during the rerun. That means you will only get the report of tests which have been rerun.\r\n 2. Use rerun plugin of Cucumber. See the code given by N Riay. Regarding reporting, the limitation is there are two cucumber json files generated.\r\n\r\n**Solution**\r\n\r\nIf you also want to get an unified report, here is the solution.\r\nOn top of option 2, we use [cucumber-reporting][1] to combine the two cucumber json files after all the runners including FailedTestsRunner are finished.\r\n\r\nPlease refer to code in section &quot;ONLY RUNNER FILE CODE&quot; given by N Riay. Then, add below code. BeforeSuite and AfterSuite are concept of TestNG. For Junit, it&#39;s similar. Just to make sure it&#39;s only run once.\r\n\r\n    import net.masterthought.cucumber.Configuration;\r\n    import net.masterthought.cucumber.ReportBuilder;\r\n    import net.masterthought.cucumber.reducers.ReducingMethod;\r\n    \r\n    @BeforeSuite\r\n    public void beforeSuite() throws IOException {\r\n        &lt;Delete all the cucumber json files. Otherwise report will always combine json file of FailedTestsRunner even it&#39;s not run&gt;\r\n    }\r\n\r\n    @AfterSuite\r\n    public void afterSuite() {\r\n        Configuration configuration = new Configuration(new File(&quot;target&quot;), &quot;my project&quot;);\r\n\t    configuration.addReducingMethod(ReducingMethod.MERGE_FEATURES_WITH_RETEST);\r\n\t    List&lt;String&gt; jsonFiles = &lt;get the file path of the two json&gt;;\r\n\t    ReportBuilder reportBuilder=new ReportBuilder(jsonFiles,configuration);\r\n\t    reportBuilder.generateReports();\r\n    }\r\n\r\nMERGE_FEATURES_WITH_RETEST reference - https://javadoc.io/static/net.masterthought/cucumber-reporting/5.0.2/net/masterthought/cucumber/reducers/ReducingMethod.html\r\n\r\n  [1]: https://github.com/damianszczepanik/cucumber-reporting","title":"cucumber.json report getting overwritten by rerun scenario report","body":"<p>I face the same issue. I'm pretty happy with the result I got. Share the info here.</p>\n<p><strong>Retry without concern of report</strong></p>\n<p>If you just want to retry the failed tests and doesn't care about the incomplete report, it's easy. There are two ways to do it.</p>\n<ol>\n<li>Use rerunFailingTestsCount from Maven. Reference <a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-failsafe-plugin/examples/rerun-failing-tests.html</a>. Regarding reporting, the limitation is cucumber.json is overridden during the rerun. That means you will only get the report of tests which have been rerun.</li>\n<li>Use rerun plugin of Cucumber. See the code given by N Riay. Regarding reporting, the limitation is there are two cucumber json files generated.</li>\n</ol>\n<p><strong>Solution</strong></p>\n<p>If you also want to get an unified report, here is the solution.\nOn top of option 2, we use <a href=\"https://github.com/damianszczepanik/cucumber-reporting\" rel=\"nofollow noreferrer\">cucumber-reporting</a> to combine the two cucumber json files after all the runners including FailedTestsRunner are finished.</p>\n<p>Please refer to code in section &quot;ONLY RUNNER FILE CODE&quot; given by N Riay. Then, add below code. BeforeSuite and AfterSuite are concept of TestNG. For Junit, it's similar. Just to make sure it's only run once.</p>\n<pre><code>import net.masterthought.cucumber.Configuration;\nimport net.masterthought.cucumber.ReportBuilder;\nimport net.masterthought.cucumber.reducers.ReducingMethod;\n\n@BeforeSuite\npublic void beforeSuite() throws IOException {\n    &lt;Delete all the cucumber json files. Otherwise report will always combine json file of FailedTestsRunner even it's not run&gt;\n}\n\n@AfterSuite\npublic void afterSuite() {\n    Configuration configuration = new Configuration(new File(&quot;target&quot;), &quot;my project&quot;);\n    configuration.addReducingMethod(ReducingMethod.MERGE_FEATURES_WITH_RETEST);\n    List&lt;String&gt; jsonFiles = &lt;get the file path of the two json&gt;;\n    ReportBuilder reportBuilder=new ReportBuilder(jsonFiles,configuration);\n    reportBuilder.generateReports();\n}\n</code></pre>\n<p>MERGE_FEATURES_WITH_RETEST reference - <a href=\"https://javadoc.io/static/net.masterthought/cucumber-reporting/5.0.2/net/masterthought/cucumber/reducers/ReducingMethod.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.masterthought/cucumber-reporting/5.0.2/net/masterthought/cucumber/reducers/ReducingMethod.html</a></p>\n"},{"tags":[],"owner":{"account_id":24498129,"reputation":1,"user_id":18414103,"display_name":"Archana Muthukrishnan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671517494,"creation_date":1671516587,"answer_id":74859087,"question_id":50115819,"body_markdown":"Edited:\r\nI tried with solution provided by gary.zhang by creating method in hooks class.but still not able to get consolidated report after rerun.\r\nOnly latest failed scenario is generated","title":"cucumber.json report getting overwritten by rerun scenario report","body":"<p>Edited:\nI tried with solution provided by gary.zhang by creating method in hooks class.but still not able to get consolidated report after rerun.\nOnly latest failed scenario is generated</p>\n"}],"owner":{"account_id":8993794,"reputation":41,"user_id":6704896,"display_name":"N Riay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7197,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1671517494,"creation_date":1525174675,"question_id":50115819,"body_markdown":"I have got UI Test project and a API test project with same technology stack (JAVA1.8, Cucumber-JVM, JUnit, Maven) and both projects are showing me this problem. Probably because same set of dependencies are present in both.\r\n\r\nI have employed the Flaky test re-run mechanism using maven-surefire-plugin build-in functionality `&lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;`. Also, I have cucumber dependencies added based on `&lt;groupId&gt;io.cucumber&lt;/groupId&gt;` and not `&lt;groupId&gt;info.cukes&lt;/groupId&gt;`. Both these have their own version of cucumber-java and cucumber-jvm dependencies. \r\n\r\nMy POM.XML looks like this.\r\n---------------------------\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n             &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                 &lt;id&gt;acceptance-test&lt;/id&gt;\r\n                 &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;test&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n                 &lt;configuration&gt;\r\n                     &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                     &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                      &lt;includes&gt;\r\n                          &lt;include&gt;**/*Runner.class&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                  &lt;/configuration&gt;\r\n             &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n## ONLY RUNNER FILE CODE ##\r\n\r\n    @RunWith(Cucumber.class)\r\n    @ContextConfiguration(locations = {&quot;file:/src/test/resources/spring-config.xml&quot;})\r\n    @CucumberOptions(\r\n            glue = &quot;com.test.uitest&quot;,\r\n            features = &quot;classpath:cucumber&quot;,\r\n            tags = {&quot;~@ignore&quot;,&quot;@ui_home&quot;},\r\n            monochrome = true,\r\n            plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;,\r\n                    &quot;json:target/cucumber-reports/cucumber.json&quot;,\r\n                    &quot;rerun:target/rerun.txt&quot;} //Creates a text file with failed scenarios\r\n    )\r\n    public class AllTestsRunner {\r\n    }\r\n\r\nNow Aparently, I need to have another runner with following code in it (as per other forums and threads here on StackOverflow)\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            monochrome = true,\r\n            glue = &quot;com.test.uitest&quot;,\r\n            features = &quot;@target/rerun.txt&quot;, //Cucumber picks the failed scenarios from this file\r\n            format = {&quot;pretty&quot;, &quot;html:target/rerun-reports&quot;,\r\n                    &quot;json:target/cucumber-reports/rerun-report.json&quot;}\r\n    )\r\n    public class FailedTestsRunner {\r\n    }\r\n\r\nBut I don&#39;t need to have this 2nd runner, as the rerun mechanism works absolutely brilliantly with just the one runner on top. Even, there is no need of rerun.txt file generated in 1st runner.The in-build mechanism within maven-surefire plugin (v_2.21.0) along with io.cucumber v_2.4.0 works perfectly and if any scenario fails during 1st execution, it reruns automatically without recording it inside rerun.txt file. \r\n\r\n## PROBLEM IS ##\r\n----------\r\nI have 5 scenarios in my feature file. If all of them pass in 1st run. It successfully generates the report with cucumber.json report showing all 5 scenarios.\r\nBut, if (say) 2 out of 5 scenarios fails, and those gets executed automatically in a rerun mechanism, the cucumber.json report file only recording results of those two scenarios and not the all 5 scenarios. Overall build PASSES if those 2 scenarios passes in rerun or FAILs if those 2 scenarios fails. That&#39;s correct, but my problem is with the cucumber.json getting overwritten by rerun mechanism.\r\nI have tried to use the `maven-cucumber-reporting` plugin v_3.16.0 but it actually reads the cucumber.json file itself and hence don&#39;t resolve my problem. Any help would be appreciated. ","title":"cucumber.json report getting overwritten by rerun scenario report","body":"<p>I have got UI Test project and a API test project with same technology stack (JAVA1.8, Cucumber-JVM, JUnit, Maven) and both projects are showing me this problem. Probably because same set of dependencies are present in both.</p>\n\n<p>I have employed the Flaky test re-run mechanism using maven-surefire-plugin build-in functionality <code>&lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;</code>. Also, I have cucumber dependencies added based on <code>&lt;groupId&gt;io.cucumber&lt;/groupId&gt;</code> and not <code>&lt;groupId&gt;info.cukes&lt;/groupId&gt;</code>. Both these have their own version of cucumber-java and cucumber-jvm dependencies. </p>\n\n<h2>My POM.XML looks like this.</h2>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;configuration&gt;\n         &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n         &lt;execution&gt;\n             &lt;id&gt;acceptance-test&lt;/id&gt;\n             &lt;phase&gt;integration-test&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;test&lt;/goal&gt;\n             &lt;/goals&gt;\n             &lt;configuration&gt;\n                 &lt;forkCount&gt;1&lt;/forkCount&gt;\n                 &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                  &lt;includes&gt;\n                      &lt;include&gt;**/*Runner.class&lt;/include&gt;\n                  &lt;/includes&gt;\n              &lt;/configuration&gt;\n         &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<h2>ONLY RUNNER FILE CODE</h2>\n\n<pre><code>@RunWith(Cucumber.class)\n@ContextConfiguration(locations = {\"file:/src/test/resources/spring-config.xml\"})\n@CucumberOptions(\n        glue = \"com.test.uitest\",\n        features = \"classpath:cucumber\",\n        tags = {\"~@ignore\",\"@ui_home\"},\n        monochrome = true,\n        plugin = {\"pretty\", \"html:target/cucumber-reports\",\n                \"json:target/cucumber-reports/cucumber.json\",\n                \"rerun:target/rerun.txt\"} //Creates a text file with failed scenarios\n)\npublic class AllTestsRunner {\n}\n</code></pre>\n\n<p>Now Aparently, I need to have another runner with following code in it (as per other forums and threads here on StackOverflow)</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        monochrome = true,\n        glue = \"com.test.uitest\",\n        features = \"@target/rerun.txt\", //Cucumber picks the failed scenarios from this file\n        format = {\"pretty\", \"html:target/rerun-reports\",\n                \"json:target/cucumber-reports/rerun-report.json\"}\n)\npublic class FailedTestsRunner {\n}\n</code></pre>\n\n<p>But I don't need to have this 2nd runner, as the rerun mechanism works absolutely brilliantly with just the one runner on top. Even, there is no need of rerun.txt file generated in 1st runner.The in-build mechanism within maven-surefire plugin (v_2.21.0) along with io.cucumber v_2.4.0 works perfectly and if any scenario fails during 1st execution, it reruns automatically without recording it inside rerun.txt file. </p>\n\n<h2>## PROBLEM IS ##</h2>\n\n<p>I have 5 scenarios in my feature file. If all of them pass in 1st run. It successfully generates the report with cucumber.json report showing all 5 scenarios.\nBut, if (say) 2 out of 5 scenarios fails, and those gets executed automatically in a rerun mechanism, the cucumber.json report file only recording results of those two scenarios and not the all 5 scenarios. Overall build PASSES if those 2 scenarios passes in rerun or FAILs if those 2 scenarios fails. That's correct, but my problem is with the cucumber.json getting overwritten by rerun mechanism.\nI have tried to use the <code>maven-cucumber-reporting</code> plugin v_3.16.0 but it actually reads the cucumber.json file itself and hence don't resolve my problem. Any help would be appreciated. </p>\n"},{"tags":["java","visual-studio-code","server","vscode-debugger"],"answers":[{"comments":[{"owner":{"account_id":27155055,"reputation":9,"user_id":20694177,"display_name":"Diego Fernando Rodrguez Gonzle"},"score":0,"creation_date":1671619560,"post_id":74859201,"comment_id":132136496,"body_markdown":"I was able to solve the problem and it currently occurs because the new Visual Code update required JDK 17 and for some reason the Debbug mode did not work for me using a Maven project in java.","body":"I was able to solve the problem and it currently occurs because the new Visual Code update required JDK 17 and for some reason the Debbug mode did not work for me using a Maven project in java."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1671672183,"post_id":74859201,"comment_id":132151320,"body_markdown":"Hi Diego Fernando Rodrguez Gonzle, glad to know you&#39;ve found the solution to resolve this issue! Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"Hi Diego Fernando Rodrguez Gonzle, glad to know you&#39;ve found the solution to resolve this issue! Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671517319,"creation_date":1671517319,"answer_id":74859201,"question_id":74847765,"body_markdown":"&gt; Listening to the dt_socket transport at address: 61032\r\n\r\nThe error message indicates that the debugger is trying to listen for connections on port 61032 and fails.\r\n\r\nIt could be that the port is being used by another process. You can try changing the debug port number. Another possibility is that a firewall or network configuration is preventing the debugger from listening on the port. Or try restarting the debugger or vscode and make sure you have the latest version of the debugger installed.","title":"Debugger not working in visual studio code It gets stuck on the line below","body":"<blockquote>\n<p>Listening to the dt_socket transport at address: 61032</p>\n</blockquote>\n<p>The error message indicates that the debugger is trying to listen for connections on port 61032 and fails.</p>\n<p>It could be that the port is being used by another process. You can try changing the debug port number. Another possibility is that a firewall or network configuration is preventing the debugger from listening on the port. Or try restarting the debugger or vscode and make sure you have the latest version of the debugger installed.</p>\n"}],"owner":{"account_id":27155055,"reputation":9,"user_id":20694177,"display_name":"Diego Fernando Rodrguez Gonzle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2094,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671517319,"creation_date":1671437673,"question_id":74847765,"body_markdown":"```\r\nListening to the dt_socket transport at address: 61032\r\n```\r\n\r\n![1]\r\n\r\nError deployment in debug mode.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxLHQ.png","title":"Debugger not working in visual studio code It gets stuck on the line below","body":"<pre><code>Listening to the dt_socket transport at address: 61032\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/gxLHQ.png\" alt=\"1\" /></p>\n<p>Error deployment in debug mode.</p>\n"},{"tags":["java","jsf","jakarta-ee","command-line","glassfish"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1671518029,"post_id":74859187,"comment_id":132110696,"body_markdown":"You probably don&#39;t want to do that. It&#39;s not the model of your application. How about whoever is launching the server creates a configuration file on the local system and your bean code reads that config file? Alternatively, there are also system properties that can be passed to the server startup command.","body":"You probably don&#39;t want to do that. It&#39;s not the model of your application. How about whoever is launching the server creates a configuration file on the local system and your bean code reads that config file? Alternatively, there are also system properties that can be passed to the server startup command."},{"owner":{"account_id":18308320,"reputation":41,"user_id":13331711,"display_name":"bill tsi"},"score":0,"creation_date":1671520015,"post_id":74859187,"comment_id":132111092,"body_markdown":"I want an argument to determine that the app is running in development mode, localy in my pc. I don&#39;t want that configuration be passed to the deployment environment and I don&#39;t want to be needed to comment out code before submit an excetutable to my sys admin","body":"I want an argument to determine that the app is running in development mode, localy in my pc. I don&#39;t want that configuration be passed to the deployment environment and I don&#39;t want to be needed to comment out code before submit an excetutable to my sys admin"}],"owner":{"account_id":18308320,"reputation":41,"user_id":13331711,"display_name":"bill tsi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671517245,"creation_date":1671517245,"question_id":74859187,"body_markdown":"I&#39;m building a web app with jsf 2.3 (Java 8, GlassFish application server). Obviously I dont have access to the main function, so my questions are\r\n\r\n1. Can I have access to the command line arguments inside my beans?\r\n2. How can I pass command line arguments to my application through GlassFish?\r\n\r\n```\r\n@Named(value = &#39;myBean&#39;)\r\n@ApplicationScope\r\npublic class MyBean {\r\n\r\n    String argc[] args = ConsoleLineArguments();\r\n    \r\n    ...\r\n}\r\n```\r\n\r\n","title":"Access command line arguments in jsf web application backing bean","body":"<p>I'm building a web app with jsf 2.3 (Java 8, GlassFish application server). Obviously I dont have access to the main function, so my questions are</p>\n<ol>\n<li>Can I have access to the command line arguments inside my beans?</li>\n<li>How can I pass command line arguments to my application through GlassFish?</li>\n</ol>\n<pre><code>@Named(value = 'myBean')\n@ApplicationScope\npublic class MyBean {\n\n    String argc[] args = ConsoleLineArguments();\n    \n    ...\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","text-to-speech","speech"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671517043,"creation_date":1671516706,"answer_id":74859103,"question_id":74845686,"body_markdown":"Have you already introduced dependencies to your project? *Referenced Libraries* under the **PROJECTS** panel manages your dependencies. Add directly without build tools. If you use maven or gradle, add it in the [corresponding file][1].\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf the `javax.speec` package is not available, it may be deprecated. You can also try `Google Cloud Text-to-Speech` or `FreeTTS` packages. You can install and manage them through maven or gradle.\r\n\r\nFor example, add the following items to the *pom.xml* (using Maven)\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n  &lt;artifactId&gt;google-cloud-texttospeech&lt;/artifactId&gt;\r\n  &lt;version&gt;1.23.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_dependency-management\r\n  [2]: https://i.stack.imgur.com/SRV6u.png","title":"How to use javax.speech api without ide but with VS Code edittor","body":"<p>Have you already introduced dependencies to your project? <em>Referenced Libraries</em> under the <strong>PROJECTS</strong> panel manages your dependencies. Add directly without build tools. If you use maven or gradle, add it in the <a href=\"https://code.visualstudio.com/docs/java/java-project#_dependency-management\" rel=\"nofollow noreferrer\">corresponding file</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/SRV6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SRV6u.png\" alt=\"enter image description here\" /></a></p>\n<p>If the <code>javax.speec</code> package is not available, it may be deprecated. You can also try <code>Google Cloud Text-to-Speech</code> or <code>FreeTTS</code> packages. You can install and manage them through maven or gradle.</p>\n<p>For example, add the following items to the <em>pom.xml</em> (using Maven)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;google-cloud-texttospeech&lt;/artifactId&gt;\n  &lt;version&gt;1.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20415010,"reputation":29,"user_id":14977444,"display_name":"eritten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671517043,"creation_date":1671414732,"question_id":74845686,"body_markdown":"I am a visually impaired developer. I am new to text to speech in Java and I want to add text to speech to my project. I have checked online tutorial and all of them are talking about free TTS.\r\nI have read so many tutorials and they are using IDE such as: IntelliJ, NetBeans and others which I don&#39;t use.\r\n\r\nCould someone help me to set the free TTS up without these IDEs but with VS Code?\r\n\r\n\r\nI tried importing javax.speech.Engine in my code and it gives me the below error.\r\ncode\r\nimport java.speech.Engine;\r\nsaved in Speech.java\r\ncommand line\r\n\r\njavac Speech.java\r\nthe error\r\n\r\nSpeech.java:1: error: package javax.speech does not exist\r\nimport javax.speech.Engine;\r\n\r\n","title":"How to use javax.speech api without ide but with VS Code edittor","body":"<p>I am a visually impaired developer. I am new to text to speech in Java and I want to add text to speech to my project. I have checked online tutorial and all of them are talking about free TTS.\nI have read so many tutorials and they are using IDE such as: IntelliJ, NetBeans and others which I don't use.</p>\n<p>Could someone help me to set the free TTS up without these IDEs but with VS Code?</p>\n<p>I tried importing javax.speech.Engine in my code and it gives me the below error.\ncode\nimport java.speech.Engine;\nsaved in Speech.java\ncommand line</p>\n<p>javac Speech.java\nthe error</p>\n<p>Speech.java:1: error: package javax.speech does not exist\nimport javax.speech.Engine;</p>\n"},{"tags":["java","algorithm","oop","methods","return-value"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1671428769,"post_id":74846598,"comment_id":132089495,"body_markdown":"welcome to stackoverflow! so, just to be sure, you meant `computeDiscountInfo( );` in `void Main` doesn&#39;t work?","body":"welcome to stackoverflow! so, just to be sure, you meant <code>computeDiscountInfo( );</code> in <code>void Main</code> doesn&#39;t work?"},{"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"score":0,"creation_date":1671429371,"post_id":74846598,"comment_id":132089595,"body_markdown":"it&#39;s always helpful to clarify what specifically &quot;doesn&#39;t work&quot; when asking a question (but it&#39;s really common for folks to forget this); eg, what were you expecting, and what did you actually get (which is a good thing to actually define up front before even coding, and is the basis for writing test cases that validate the code)","body":"it&#39;s always helpful to clarify what specifically &quot;doesn&#39;t work&quot; when asking a question (but it&#39;s really common for folks to forget this); eg, what were you expecting, and what did you actually get (which is a good thing to actually define up front before even coding, and is the basis for writing test cases that validate the code)"},{"owner":{"account_id":25361379,"reputation":23,"user_id":19176566,"display_name":"smouvfox805"},"score":0,"creation_date":1671429523,"post_id":74846598,"comment_id":132089617,"body_markdown":"Yes through inheritance. It does just fine under the same class but when I extended the class into a sub it gives me problems.","body":"Yes through inheritance. It does just fine under the same class but when I extended the class into a sub it gives me problems."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671428835,"creation_date":1671428835,"answer_id":74846667,"question_id":74846598,"body_markdown":"Assuming you are wanting to use `computeDiscountInfo`. This belong to the `fvx` object so it should be called as `fvx.computeDiscountInfo(...)`\r\n\r\nNow consider\r\n1) it returns a double, so you can do  `double rv = fvx.computeDiscountInfo(...)`\r\n2) you notice that I have wrote `(...)`, because this method takes a couple of paramaters `double price, double discount`.  so you should call using the parameters instead of `...` maybe `double rv = fvx.computeDiscountInfo(price, discount);` ","title":"How do I return values from one class to another?","body":"<p>Assuming you are wanting to use <code>computeDiscountInfo</code>. This belong to the <code>fvx</code> object so it should be called as <code>fvx.computeDiscountInfo(...)</code></p>\n<p>Now consider</p>\n<ol>\n<li>it returns a double, so you can do  <code>double rv = fvx.computeDiscountInfo(...)</code></li>\n<li>you notice that I have wrote <code>(...)</code>, because this method takes a couple of paramaters <code>double price, double discount</code>.  so you should call using the parameters instead of <code>...</code> maybe <code>double rv = fvx.computeDiscountInfo(price, discount);</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22182083,"reputation":33,"user_id":16425641,"display_name":"Supun Kalhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671429375,"creation_date":1671429375,"answer_id":74846716,"question_id":74846598,"body_markdown":"What you want to do is to call the computeDiscountInfo function in the FvX class from your main method.\r\n\r\nFirst create an FvX instance inside your main method and then call the computeDiscountInfo function using that fvx object. You can replace your main class like show below.\r\n```\r\npublic class GnX {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        FvX fvx = new FvX( );\r\n\r\n        double price;\r\n        double discount;\r\n        double savings;\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n\r\n        System.out.println(&quot;Enter a base price for the discount: &quot;);\r\n        price = scan.nextDouble( );\r\n        System.out.println(&quot;Now, Enter a discount rate: &quot;);\r\n        discount = scan.nextDouble( );\r\n\r\n\r\n        displayInfo( );\r\n        savings = fvx.computeDiscountInfo(price, discount);\r\n\r\n\r\n        System.out.println(&quot;Special this week on any service over &quot; + price);\r\n        System.out.println(&quot;Discount of &quot; + discount);\r\n        System.out.println(&quot;That&#39;s a savings of at least $&quot; + savings);\r\n    }\r\n\r\n\r\n    public static void displayInfo( ) {\r\n        System.out.println(&quot;Paradise Guitar Is A Fantastic Place To Reherse&quot;);\r\n        System.out.println(&quot;This Rehersal Room Is Studio Based&quot;);\r\n    }\r\n}\r\n```","title":"How do I return values from one class to another?","body":"<p>What you want to do is to call the computeDiscountInfo function in the FvX class from your main method.</p>\n<p>First create an FvX instance inside your main method and then call the computeDiscountInfo function using that fvx object. You can replace your main class like show below.</p>\n<pre><code>public class GnX {\n\n    public static void main(String[] args) {\n\n        FvX fvx = new FvX( );\n\n        double price;\n        double discount;\n        double savings;\n\n        Scanner scan = new Scanner(System.in);\n\n\n        System.out.println(&quot;Enter a base price for the discount: &quot;);\n        price = scan.nextDouble( );\n        System.out.println(&quot;Now, Enter a discount rate: &quot;);\n        discount = scan.nextDouble( );\n\n\n        displayInfo( );\n        savings = fvx.computeDiscountInfo(price, discount);\n\n\n        System.out.println(&quot;Special this week on any service over &quot; + price);\n        System.out.println(&quot;Discount of &quot; + discount);\n        System.out.println(&quot;That's a savings of at least $&quot; + savings);\n    }\n\n\n    public static void displayInfo( ) {\n        System.out.println(&quot;Paradise Guitar Is A Fantastic Place To Reherse&quot;);\n        System.out.println(&quot;This Rehersal Room Is Studio Based&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25361379,"reputation":23,"user_id":19176566,"display_name":"smouvfox805"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74846667,"answer_count":2,"score":1,"last_activity_date":1671517036,"creation_date":1671428008,"question_id":74846598,"body_markdown":"I just need to return a value which is the savings value back to the call method on the main class. I extended the sub class but it doesn&#39;t work. I also tried importing the sub class into the parent class as an object, still no success.     \r\n\r\n```\r\npackage package1;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class GnX {\r\n   FvX fvx = new FvX( );\t\r\n\t     \r\n   public static void main(String[] args) {\r\n\t\tdouble price;\r\n\t\tdouble discount;\r\n\t\tdouble savings;\r\n\t\tScanner scan = new Scanner(System.in);\t\r\n\t\t\r\n\t\t\r\n    \tSystem.out.println(&quot;Enter a base price for the discount: &quot;);\r\n        price = scan.nextDouble( );\r\n\t    System.out.println(&quot;Now, Enter a discount rate: &quot;);\r\n\t    discount = scan.nextDouble( );\r\n\t\r\n\t    displayInfo( );\r\n\t    computeDiscountInfo( );\r\n\t\r\n\t    System.out.println(&quot;Special this week on any service over &quot; + price);\r\n\t    System.out.println(&quot;Discount of &quot; + discount);\r\n        System.out.println(&quot;That&#39;s a savings of at least $&quot; + savings);\r\n\t}\r\n\r\n\tpublic static void displayInfo( ) {\r\n\t    System.out.println(&quot;Paradise Guitar Is A Fantastic Place To Reherse&quot;); \r\n\t    System.out.println(&quot;This Rehersal Room Is Studio Based&quot;);\r\n    }\r\n}\r\n```   \r\n\r\nClass that&#39;s inherited through parent class in a separate window:\r\n```\r\n\r\npackage package1;\r\n\r\npublic class FvX extends GnX {\r\n\r\n    public FvX( ) {\r\n    }\r\n    \r\n    public static double computeDiscountInfo(double price, double discount) {\r\n\t\tdouble savings;\r\n\t\tsavings = price * discount / 100;\r\n\t\treturn savings;\r\n\t}\r\n}\r\n```","title":"How do I return values from one class to another?","body":"<p>I just need to return a value which is the savings value back to the call method on the main class. I extended the sub class but it doesn't work. I also tried importing the sub class into the parent class as an object, still no success.</p>\n<pre><code>package package1;\n\nimport java.util.Scanner;\n\npublic class GnX {\n   FvX fvx = new FvX( );    \n         \n   public static void main(String[] args) {\n        double price;\n        double discount;\n        double savings;\n        Scanner scan = new Scanner(System.in);  \n        \n        \n        System.out.println(&quot;Enter a base price for the discount: &quot;);\n        price = scan.nextDouble( );\n        System.out.println(&quot;Now, Enter a discount rate: &quot;);\n        discount = scan.nextDouble( );\n    \n        displayInfo( );\n        computeDiscountInfo( );\n    \n        System.out.println(&quot;Special this week on any service over &quot; + price);\n        System.out.println(&quot;Discount of &quot; + discount);\n        System.out.println(&quot;That's a savings of at least $&quot; + savings);\n    }\n\n    public static void displayInfo( ) {\n        System.out.println(&quot;Paradise Guitar Is A Fantastic Place To Reherse&quot;); \n        System.out.println(&quot;This Rehersal Room Is Studio Based&quot;);\n    }\n}\n</code></pre>\n<p>Class that's inherited through parent class in a separate window:</p>\n<pre><code>\npackage package1;\n\npublic class FvX extends GnX {\n\n    public FvX( ) {\n    }\n    \n    public static double computeDiscountInfo(double price, double discount) {\n        double savings;\n        savings = price * discount / 100;\n        return savings;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","retrofit","sharedpreferences","okhttp"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1671510609,"post_id":74857467,"comment_id":132109578,"body_markdown":"The context is null.","body":"The context is null."},{"owner":{"account_id":22978066,"reputation":85,"user_id":17105431,"display_name":"duc nguyendinh trung"},"score":0,"creation_date":1671512429,"post_id":74857467,"comment_id":132109811,"body_markdown":"context.getSharedPreferences is null","body":"context.getSharedPreferences is null"}],"answers":[{"comments":[{"owner":{"account_id":23543389,"reputation":25,"user_id":17587238,"display_name":"Argus Gale"},"score":0,"creation_date":1671565209,"post_id":74858992,"comment_id":132125500,"body_markdown":"Is it the same in other classes?","body":"Is it the same in other classes?"}],"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671515625,"creation_date":1671515625,"answer_id":74858992,"question_id":74857467,"body_markdown":"Change into `ApiClient.java` like:\r\n```\r\npublic static Retrofit getClient(Context context) {\r\n    OkHttpClient client = new TokenInterceptor().getClients(context);\r\n    ...\r\n}\r\n```\r\n\r\nAnd into `MainActivity.java` like:\r\n```\r\nnew ApiClient().getClient(MainActivity.this);\r\n```","title":"Shared Preference on a null object reference","body":"<p>Change into <code>ApiClient.java</code> like:</p>\n<pre><code>public static Retrofit getClient(Context context) {\n    OkHttpClient client = new TokenInterceptor().getClients(context);\n    ...\n}\n</code></pre>\n<p>And into <code>MainActivity.java</code> like:</p>\n<pre><code>new ApiClient().getClient(MainActivity.this);\n</code></pre>\n"}],"owner":{"account_id":23543389,"reputation":25,"user_id":17587238,"display_name":"Argus Gale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74858992,"answer_count":1,"score":0,"last_activity_date":1671515625,"creation_date":1671497145,"question_id":74857467,"body_markdown":"TokenInterceptor.class\r\n\r\n    public OkHttpClient getClients(Context context) {\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        SharedPreferences preferences = context.getSharedPreferences(&quot;logged&quot;, MODE_PRIVATE);\r\n        String tokens = preferences.getString(&quot;token&quot;, &quot;&quot;);\r\n        return new OkHttpClient\r\n                    .Builder()\r\n                    .addInterceptor(interceptor)\r\n                    .addInterceptor(new Interceptor() {\r\n                        @Override\r\n                        public Response intercept(Chain chain) throws IOException {\r\n    \r\n                            Request request = chain.request().newBuilder()\r\n                                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                                    .header(&quot;xc-auth&quot;, &quot;&quot;+tokens)\r\n                                    .build();\r\n    \r\n                            return chain.proceed(request);\r\n    \r\n                        }\r\n                    })\r\n                    .readTimeout(90, TimeUnit.SECONDS)\r\n                    .writeTimeout(90, TimeUnit.SECONDS)\r\n                    .connectTimeout(90, TimeUnit.SECONDS)\r\n                    .retryOnConnectionFailure(false)\r\n                    .cache(null)\r\n                    .build();\r\n        }\r\n\r\nApiClient.class\r\n\r\n    public static Retrofit getClient() {\r\n        OkHttpClient client = new TokenInterceptor().getClients();\r\n        if (retrofit == null) {\r\n            Gson gson = new GsonBuilder().setLenient()\r\n                                         .create();\r\n            retrofit = new Retrofit.Builder()\r\n                        .client(client)\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create(gson))\r\n    \r\n                        .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\nMainActivity.class\r\n\r\n    String ResponseJson = response.body().string();\r\n    Gson objGson = new Gson();\r\n    tokenResponse objResp = objGson.fromJson(ResponseJson, tokenResponse.class);\r\n    Toast.makeText(MainActivity.this, &quot;успешно:&quot;+ResponseJson, Toast.LENGTH_LONG).show();\r\n    token = ResponseJson;\r\n    SharedPreferences preferences = getSharedPreferences(&quot;logged&quot;, MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = preferences.edit();\r\n    editor.putBoolean(&quot;isLogged&quot;, true);\r\n    editor.putString(&quot;token&quot;, token);\r\n    editor.apply();\r\n\r\n---------------------------------\r\n```none\r\nW/System.err: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.SharedPreferences android.content.Context.getSharedPreferences(java.lang.String, int)&#39; on a null object reference\r\n\r\nW/System.err:     at com.example.tokenauth.RestApi.TokenInterceptor.getClients(TokenInterceptor.java:35)\r\n\r\nW/System.err:     at com.example.tokenauth.RestApi.ApiClient.getClient(ApiClient.java:26)\r\n\r\nW/System.err:     at com.example.tokenauth.MainActivity.CallLoginService(MainActivity.java:58)\r\n\r\nW/System.err:     at com.example.tokenauth.MainActivity.access$000(MainActivity.java:30)\r\n\r\nW/System.err:     at com.example.tokenauth.MainActivity$1.onClick(MainActivity.java:48)\r\n```\r\n","title":"Shared Preference on a null object reference","body":"<p>TokenInterceptor.class</p>\n<pre><code>public OkHttpClient getClients(Context context) {\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    SharedPreferences preferences = context.getSharedPreferences(&quot;logged&quot;, MODE_PRIVATE);\n    String tokens = preferences.getString(&quot;token&quot;, &quot;&quot;);\n    return new OkHttpClient\n                .Builder()\n                .addInterceptor(interceptor)\n                .addInterceptor(new Interceptor() {\n                    @Override\n                    public Response intercept(Chain chain) throws IOException {\n\n                        Request request = chain.request().newBuilder()\n                                .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                                .header(&quot;xc-auth&quot;, &quot;&quot;+tokens)\n                                .build();\n\n                        return chain.proceed(request);\n\n                    }\n                })\n                .readTimeout(90, TimeUnit.SECONDS)\n                .writeTimeout(90, TimeUnit.SECONDS)\n                .connectTimeout(90, TimeUnit.SECONDS)\n                .retryOnConnectionFailure(false)\n                .cache(null)\n                .build();\n    }\n</code></pre>\n<p>ApiClient.class</p>\n<pre><code>public static Retrofit getClient() {\n    OkHttpClient client = new TokenInterceptor().getClients();\n    if (retrofit == null) {\n        Gson gson = new GsonBuilder().setLenient()\n                                     .create();\n        retrofit = new Retrofit.Builder()\n                    .client(client)\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n\n                    .build();\n    }\n    return retrofit;\n}\n</code></pre>\n<p>MainActivity.class</p>\n<pre><code>String ResponseJson = response.body().string();\nGson objGson = new Gson();\ntokenResponse objResp = objGson.fromJson(ResponseJson, tokenResponse.class);\nToast.makeText(MainActivity.this, &quot;успешно:&quot;+ResponseJson, Toast.LENGTH_LONG).show();\ntoken = ResponseJson;\nSharedPreferences preferences = getSharedPreferences(&quot;logged&quot;, MODE_PRIVATE);\nSharedPreferences.Editor editor = preferences.edit();\neditor.putBoolean(&quot;isLogged&quot;, true);\neditor.putString(&quot;token&quot;, token);\neditor.apply();\n</code></pre>\n<hr />\n<pre class=\"lang-none prettyprint-override\"><code>W/System.err: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.SharedPreferences android.content.Context.getSharedPreferences(java.lang.String, int)' on a null object reference\n\nW/System.err:     at com.example.tokenauth.RestApi.TokenInterceptor.getClients(TokenInterceptor.java:35)\n\nW/System.err:     at com.example.tokenauth.RestApi.ApiClient.getClient(ApiClient.java:26)\n\nW/System.err:     at com.example.tokenauth.MainActivity.CallLoginService(MainActivity.java:58)\n\nW/System.err:     at com.example.tokenauth.MainActivity.access$000(MainActivity.java:30)\n\nW/System.err:     at com.example.tokenauth.MainActivity$1.onClick(MainActivity.java:48)\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-viewpager","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":11602234,"reputation":414,"user_id":8498996,"display_name":"Chintan"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1569578843,"creation_date":1569564817,"answer_id":58128755,"question_id":58128491,"body_markdown":"  **Change this code in MainActivity**\r\n\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n       \r\n        switch (menuItem.getItemId()) {\r\n            case R.id.menu_home:\r\n                viewPager.setCurrentItem(0);\r\n                break;\r\n            case R.id.menu_favorite:\r\n                viewPager.setCurrentItem(1);\r\n                break;\r\n            case R.id.menu_account:\r\n                viewPager.setCurrentItem(2);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n**Add this code for select bottomNavigation Tab.**\r\n\r\n\r\n    viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n                @Override\r\n                public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onPageSelected(int position) {\r\n                    switch (position) {\r\n                        case 0:\r\n                            mBottomNavigation.getMenu().findItem(R.id.menu_home).setChecked(true);\r\n                            break;\r\n                        case 1:\r\n                            mBottomNavigation.getMenu().findItem(R.id.menu_favorite).setChecked(true);\r\n                            break;\r\n                        case 2:\r\n                            mBottomNavigation.getMenu().findItem(R.id.menu_account).setChecked(true);\r\n                            break;\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onPageScrollStateChanged(int state) {\r\n    \r\n                }\r\n            });","title":"How to combine BottomNavigationView and ViewPager?","body":"<p><strong>Change this code in MainActivity</strong></p>\n\n<pre><code>@Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n\n    switch (menuItem.getItemId()) {\n        case R.id.menu_home:\n            viewPager.setCurrentItem(0);\n            break;\n        case R.id.menu_favorite:\n            viewPager.setCurrentItem(1);\n            break;\n        case R.id.menu_account:\n            viewPager.setCurrentItem(2);\n            break;\n    }\n    return true;\n}\n</code></pre>\n\n<p><strong>Add this code for select bottomNavigation Tab.</strong></p>\n\n<pre><code>viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                switch (position) {\n                    case 0:\n                        mBottomNavigation.getMenu().findItem(R.id.menu_home).setChecked(true);\n                        break;\n                    case 1:\n                        mBottomNavigation.getMenu().findItem(R.id.menu_favorite).setChecked(true);\n                        break;\n                    case 2:\n                        mBottomNavigation.getMenu().findItem(R.id.menu_account).setChecked(true);\n                        break;\n                }\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16042187,"reputation":169,"user_id":12128740,"display_name":"Bagus Eka Saputra"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1569571789,"creation_date":1569569984,"answer_id":58129978,"question_id":58128491,"body_markdown":"As the answer of Mr. @Chintan , I replaced :\r\n\r\n    return new FooFragment();\r\n\r\nto\r\n\r\n    viewPager.setCurrentItem(index);\r\n\r\nAnd remove **loadFragment()** function, it&#39;s perfectly works now. Thank you very much!\r\n\r\n","title":"How to combine BottomNavigationView and ViewPager?","body":"<p>As the answer of Mr. @Chintan , I replaced :</p>\n\n<pre><code>return new FooFragment();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>viewPager.setCurrentItem(index);\n</code></pre>\n\n<p>And remove <strong>loadFragment()</strong> function, it's perfectly works now. Thank you very much!</p>\n"},{"tags":[],"owner":{"account_id":26782425,"reputation":61,"user_id":20377085,"display_name":"Akshay Karande"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671515568,"creation_date":1671515110,"answer_id":74858932,"question_id":58128491,"body_markdown":"         binding.bottomNavigation.setOnClickMenuListener(model -&gt; {\r\n            switch (model.getId()) {\r\n                case 1:\r\n                    binding.viewPager.setCurrentItem(0);\r\n                    break;\r\n                case 2:\r\n                    binding.viewPager.setCurrentItem(1);\r\n                    break;\r\n                case 3:\r\n                    binding.viewPager.setCurrentItem(2);\r\n                    break;\r\n                case 4:\r\n                    binding.viewPager.setCurrentItem(3);\r\n                    break;\r\n            }\r\n            return null;\r\n        });","title":"How to combine BottomNavigationView and ViewPager?","body":"<pre><code>     binding.bottomNavigation.setOnClickMenuListener(model -&gt; {\n        switch (model.getId()) {\n            case 1:\n                binding.viewPager.setCurrentItem(0);\n                break;\n            case 2:\n                binding.viewPager.setCurrentItem(1);\n                break;\n            case 3:\n                binding.viewPager.setCurrentItem(2);\n                break;\n            case 4:\n                binding.viewPager.setCurrentItem(3);\n                break;\n        }\n        return null;\n    });\n</code></pre>\n"}],"owner":{"account_id":16042187,"reputation":169,"user_id":12128740,"display_name":"Bagus Eka Saputra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19394,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":58129978,"answer_count":3,"score":13,"last_activity_date":1671515568,"creation_date":1569563223,"question_id":58128491,"body_markdown":"I need help to combine ViewPager and BottomNavigationView. But when I swipe the screen as ViewPager works, the fragment become stacked with another fragment. How do I fix this?\r\n\r\n**Stacked fragment**\r\n\r\n![1][1]\r\n\r\n\r\n**On normal fragment before swiped**\r\n\r\n![1][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QMVa4m.png\r\n  [2]: https://i.stack.imgur.com/Kiudxm.png\r\n\r\nHere is my code :\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity implements BottomNavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private BottomNavigationView mBottomNavigation;\r\n    private ViewPager viewPager;\r\n    private ViewPagerAdapter mViewPagerAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        loadFragment(new HomeFragment());\r\n        mBottomNavigation = findViewById(R.id.buttom_navigation);\r\n        mBottomNavigation.setOnNavigationItemSelectedListener(this);\r\n\r\n        viewPager = findViewById(R.id.view_pager);\r\n        mViewPagerAdapter = new ViewPagerAdapter(getSupportFragmentManager());\r\n        viewPager.setAdapter(mViewPagerAdapter);\r\n    }\r\n\r\n    private boolean loadFragment(Fragment fragment) {\r\n        if (fragment != null) {\r\n            FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n            ft.replace(R.id.container_frame_layout, fragment);\r\n            ft.commit();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n        Fragment fragment = null;\r\n        switch (menuItem.getItemId()) {\r\n            case R.id.menu_home:\r\n                fragment = new HomeFragment();\r\n                break;\r\n            case R.id.menu_favorite:\r\n                fragment = new FavoriteFragment();\r\n                break;\r\n            case R.id.menu_account:\r\n                fragment = new AccountFragment();\r\n                break;\r\n        }\r\n        return loadFragment(fragment);\r\n    }\r\n\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/container_frame_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;androidx.viewpager.widget.ViewPager\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/buttom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        app:itemIconTint=&quot;#ffff&quot;\r\n        app:itemTextColor=&quot;#ffff&quot;\r\n        app:menu=&quot;@menu/item_menu&quot;/&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n**ViewPagerAdapter.java**\r\n\r\n    public class ViewPagerAdapter extends FragmentStatePagerAdapter {\r\n\r\n    public ViewPagerAdapter(FragmentManager fm) {\r\n        super(fm);\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        switch (position) {\r\n            case 0:\r\n                return new HomeFragment();\r\n            case 1:\r\n                return new FavoriteFragment();\r\n            case 2:\r\n                return new AccountFragment();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 3;\r\n    }\r\n\r\n\r\n\r\nThanks in advance!","title":"How to combine BottomNavigationView and ViewPager?","body":"<p>I need help to combine ViewPager and BottomNavigationView. But when I swipe the screen as ViewPager works, the fragment become stacked with another fragment. How do I fix this?</p>\n\n<p><strong>Stacked fragment</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/QMVa4m.png\" alt=\"1\"></p>\n\n<p><strong>On normal fragment before swiped</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/Kiudxm.png\" alt=\"1\"></p>\n\n<p>Here is my code :</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements BottomNavigationView.OnNavigationItemSelectedListener {\n\nprivate BottomNavigationView mBottomNavigation;\nprivate ViewPager viewPager;\nprivate ViewPagerAdapter mViewPagerAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    loadFragment(new HomeFragment());\n    mBottomNavigation = findViewById(R.id.buttom_navigation);\n    mBottomNavigation.setOnNavigationItemSelectedListener(this);\n\n    viewPager = findViewById(R.id.view_pager);\n    mViewPagerAdapter = new ViewPagerAdapter(getSupportFragmentManager());\n    viewPager.setAdapter(mViewPagerAdapter);\n}\n\nprivate boolean loadFragment(Fragment fragment) {\n    if (fragment != null) {\n        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n        ft.replace(R.id.container_frame_layout, fragment);\n        ft.commit();\n        return true;\n    }\n    return false;\n}\n\n@Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n    Fragment fragment = null;\n    switch (menuItem.getItemId()) {\n        case R.id.menu_home:\n            fragment = new HomeFragment();\n            break;\n        case R.id.menu_favorite:\n            fragment = new FavoriteFragment();\n            break;\n        case R.id.menu_account:\n            fragment = new AccountFragment();\n            break;\n    }\n    return loadFragment(fragment);\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;FrameLayout\n    android:id=\"@+id/container_frame_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"/&gt;\n\n&lt;androidx.viewpager.widget.ViewPager\n    android:id=\"@+id/view_pager\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"/&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=\"@+id/buttom_navigation\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/colorPrimary\"\n    android:layout_alignParentBottom=\"true\"\n    app:itemIconTint=\"#ffff\"\n    app:itemTextColor=\"#ffff\"\n    app:menu=\"@menu/item_menu\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>ViewPagerAdapter.java</strong></p>\n\n<pre><code>public class ViewPagerAdapter extends FragmentStatePagerAdapter {\n\npublic ViewPagerAdapter(FragmentManager fm) {\n    super(fm);\n}\n\n@Override\npublic Fragment getItem(int position) {\n    switch (position) {\n        case 0:\n            return new HomeFragment();\n        case 1:\n            return new FavoriteFragment();\n        case 2:\n            return new AccountFragment();\n    }\n    return null;\n}\n\n@Override\npublic int getCount() {\n    return 3;\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","maven","visual-studio-code","environment-variables"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670355352,"post_id":74708074,"comment_id":131856316,"body_markdown":"I suggest using a project-specific `settings.xml` (see [this question](https://stackoverflow.com/questions/43156870/create-project-specific-maven-settings)), and in this `settings.xml` define a property with name `maven.compiler.executable`, pointing to the home of the JDK needed (see [this question](https://stackoverflow.com/questions/2503658/specify-jdk-for-maven-to-use)).","body":"I suggest using a project-specific <code>settings.xml</code> (see <a href=\"https://stackoverflow.com/questions/43156870/create-project-specific-maven-settings\">this question</a>), and in this <code>settings.xml</code> define a property with name <code>maven.compiler.executable</code>, pointing to the home of the JDK needed (see <a href=\"https://stackoverflow.com/questions/2503658/specify-jdk-for-maven-to-use\">this question</a>)."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670356231,"post_id":74708074,"comment_id":131856609,"body_markdown":"Thanks... I will check it out. Is this file `settings.xml` respected by Eclipse also? Will this file be generated if I run `mvn eclipse:eclipse`? If I set JRE in Eclipse, will it be effective in VS Code? I notice if I configure the build path and add the correct JRE version, then maven goals will run properly in Eclipse.","body":"Thanks... I will check it out. Is this file <code>settings.xml</code> respected by Eclipse also? Will this file be generated if I run <code>mvn eclipse:eclipse</code>? If I set JRE in Eclipse, will it be effective in VS Code? I notice if I configure the build path and add the correct JRE version, then maven goals will run properly in Eclipse."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670356390,"post_id":74708074,"comment_id":131856669,"body_markdown":"It should be respect by everything that adheres to how maven works (unless - of course - the settings are explicitly overriden). For the rest: just try it out. I myself are not an eclipse user.","body":"It should be respect by everything that adheres to how maven works (unless - of course - the settings are explicitly overriden). For the rest: just try it out. I myself are not an eclipse user."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670458185,"post_id":74708074,"comment_id":131883199,"body_markdown":"There was a solution but now I don&#39;t see it. I think that answer was removed because it was not from a trusted source or something like that.","body":"There was a solution but now I don&#39;t see it. I think that answer was removed because it was not from a trusted source or something like that."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670481904,"post_id":74708074,"comment_id":131886549,"body_markdown":"https://stackoverflow.com/a/35463606  use toolchain settings","body":"<a href=\"https://stackoverflow.com/a/35463606\">stackoverflow.com/a/35463606</a>  use toolchain settings"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670527505,"post_id":74708074,"comment_id":131901252,"body_markdown":"Thanks, it looks this is what I am looking for. I followed the steps to activate the toolchain and I can see the effect showing in the output of `mvn clean install`, but when I unzip the resulting JAR and check the file `MANIFEST.MF` I always see the JDK defined by the system `PATH`  and `JAVA_HOME`.","body":"Thanks, it looks this is what I am looking for. I followed the steps to activate the toolchain and I can see the effect showing in the output of <code>mvn clean install</code>, but when I unzip the resulting JAR and check the file <code>MANIFEST.MF</code> I always see the JDK defined by the system <code>PATH</code>  and <code>JAVA_HOME</code>."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1670545045,"post_id":74708074,"comment_id":131905342,"body_markdown":"I think it won&#39;t work for generating a JAR file and must set `PATH` and `JAVA_HOME` correctly before running the maven goal to generate the JAR file using the intended JDK version. According to the documentation here, https://maven.apache.org/guides/mini/guide-using-toolchains.html `maven-jar-plugin` is not included. I checked the JDK version in the generated `.class` files using the `javap` command and found out that the java version is affected by setting `maven-compiler-plugin` accordingly.","body":"I think it won&#39;t work for generating a JAR file and must set <code>PATH</code> and <code>JAVA_HOME</code> correctly before running the maven goal to generate the JAR file using the intended JDK version. According to the documentation here, <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-using-toolchains.html</a> <code>maven-jar-plugin</code> is not included. I checked the JDK version in the generated <code>.class</code> files using the <code>javap</code> command and found out that the java version is affected by setting <code>maven-compiler-plugin</code> accordingly."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":1,"creation_date":1671032295,"post_id":74708074,"comment_id":132010623,"body_markdown":"Sure will do... In the meantime, I wanted to know if generating the JAR file with a newer JDK version will work fine if deployed in a JRE with an older version, keeping in mind that the classes are compiled using the correct JDK. Is this OK?","body":"Sure will do... In the meantime, I wanted to know if generating the JAR file with a newer JDK version will work fine if deployed in a JRE with an older version, keeping in mind that the classes are compiled using the correct JDK. Is this OK?"}],"answers":[{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671515353,"creation_date":1671515353,"answer_id":74858966,"question_id":74708074,"body_markdown":"There are various ways to set the target jdk version required to generate the jar file but all such methods will affect the class files only. You can set the target jdk using toolchain, compiler plugin, and a couple of other methods. But to generate the jar using a certain jdk you must set the PATH environment variable before running the maven goal to generate the JAR file using the intended JDK version. For example, ccording to the documentation here, maven.apache.org/guides/mini/guide-using-toolchains.html, the maven-jar-plugin is not included. I checked the JDK version in the generated .class files using the `javap` command and found out that the java version is affected by setting maven-compiler-plugin accordingly but the jar was generated using the javac.exe that was visible as per the PATH environment variable. ","title":"Change target JRE (JAVA_HOME &amp; PATH) when running maven goals in VS Code","body":"<p>There are various ways to set the target jdk version required to generate the jar file but all such methods will affect the class files only. You can set the target jdk using toolchain, compiler plugin, and a couple of other methods. But to generate the jar using a certain jdk you must set the PATH environment variable before running the maven goal to generate the JAR file using the intended JDK version. For example, ccording to the documentation here, maven.apache.org/guides/mini/guide-using-toolchains.html, the maven-jar-plugin is not included. I checked the JDK version in the generated .class files using the <code>javap</code> command and found out that the java version is affected by setting maven-compiler-plugin accordingly but the jar was generated using the javac.exe that was visible as per the PATH environment variable.</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74858966,"answer_count":1,"score":1,"last_activity_date":1671515353,"creation_date":1670354877,"question_id":74708074,"body_markdown":"The Windows 10 system environment variables `JAVA_HOME` and `PATH` are pointing to JDK 18 which is needed to launch VS Code and needed by other applications on the laptop.\r\n\r\nI configured Maven Project in VS Code with JRE/Java Runtime pointing to JDK 1.8 which is required for the project to compile and build correctly. All is working fine.\r\n\r\nWhen I run Maven Goals such as `mvn clean install` either using `ctrl-shift-p` and `execute maven command`, or by running a build from Maven View/Lifecycle entry. A terminal is launched and it will inherit the system environment variables. In order to avoid this problem, I always cancel the launched maven command in the PowerShell terminal by pressing `ctrl-c` and change the environment variables using:\r\n\r\n```\r\n$ENV:Path=&quot;C:\\apps\\jdk1.8.0_351\\bin;&quot;+$ENV:Path\r\n$env:JAVA_HOME=&quot;C:\\apps\\jdk1.8.0_351&quot;\r\n```\r\n\r\n... then run the maven goal again.\r\n\r\nI also added a favorite in Maven View/Favorites to launch the maven goal as follows:\r\n\r\n```\r\n    &quot;maven.terminal.favorites&quot;: [\r\n        {\r\n            &quot;command&quot;: &quot;clean install \\&quot;-Dmaven.test.skip=true\\&quot;&quot;,\r\n            &quot;debug&quot;: false\r\n        }\r\n    ]\r\n```\r\n\r\nWhen I run the above goal, it will always inherit the system values, and I have to change them again as mentioned earlier.\r\n\r\nIn addition, if I try to run a goal from Mave View/Plugins/Install by right-clicking and clicking debug, it will always launch a new PowerShell terminal which will inherit the system environment variables, and I didn&#39;t find a way to change this.\r\n\r\nI am thinking that VS Code should set the environment correctly when running Maven Goals based on the JRE configured in VS Code Workspace setting.json file, but this is not happening.\r\n\r\nWhen I configured Debug Request in `launch.json`, it is respecting the JDK defined for the project, so why it is not respecting this setting when running maven goals?\r\n\r\nI think I can solve this problem by configuring a task that will run the maven goal in PowerShell script by I think this is a bit complex for such a simple requirement.\r\n\r\nHow I can solve this problem without configuring a new task? I am thinking there is a config somewhere to set JRE for Maven Goals for a given project.","title":"Change target JRE (JAVA_HOME &amp; PATH) when running maven goals in VS Code","body":"<p>The Windows 10 system environment variables <code>JAVA_HOME</code> and <code>PATH</code> are pointing to JDK 18 which is needed to launch VS Code and needed by other applications on the laptop.</p>\n<p>I configured Maven Project in VS Code with JRE/Java Runtime pointing to JDK 1.8 which is required for the project to compile and build correctly. All is working fine.</p>\n<p>When I run Maven Goals such as <code>mvn clean install</code> either using <code>ctrl-shift-p</code> and <code>execute maven command</code>, or by running a build from Maven View/Lifecycle entry. A terminal is launched and it will inherit the system environment variables. In order to avoid this problem, I always cancel the launched maven command in the PowerShell terminal by pressing <code>ctrl-c</code> and change the environment variables using:</p>\n<pre><code>$ENV:Path=&quot;C:\\apps\\jdk1.8.0_351\\bin;&quot;+$ENV:Path\n$env:JAVA_HOME=&quot;C:\\apps\\jdk1.8.0_351&quot;\n</code></pre>\n<p>... then run the maven goal again.</p>\n<p>I also added a favorite in Maven View/Favorites to launch the maven goal as follows:</p>\n<pre><code>    &quot;maven.terminal.favorites&quot;: [\n        {\n            &quot;command&quot;: &quot;clean install \\&quot;-Dmaven.test.skip=true\\&quot;&quot;,\n            &quot;debug&quot;: false\n        }\n    ]\n</code></pre>\n<p>When I run the above goal, it will always inherit the system values, and I have to change them again as mentioned earlier.</p>\n<p>In addition, if I try to run a goal from Mave View/Plugins/Install by right-clicking and clicking debug, it will always launch a new PowerShell terminal which will inherit the system environment variables, and I didn't find a way to change this.</p>\n<p>I am thinking that VS Code should set the environment correctly when running Maven Goals based on the JRE configured in VS Code Workspace setting.json file, but this is not happening.</p>\n<p>When I configured Debug Request in <code>launch.json</code>, it is respecting the JDK defined for the project, so why it is not respecting this setting when running maven goals?</p>\n<p>I think I can solve this problem by configuring a task that will run the maven goal in PowerShell script by I think this is a bit complex for such a simple requirement.</p>\n<p>How I can solve this problem without configuring a new task? I am thinking there is a config somewhere to set JRE for Maven Goals for a given project.</p>\n"},{"tags":["java","kotlin","datetime","date-formatting","duration"],"comments":[{"owner":{"account_id":2397410,"reputation":10658,"user_id":2095953,"accept_rate":56,"display_name":"frodo2975"},"score":0,"creation_date":1671485332,"post_id":74856098,"comment_id":132105696,"body_markdown":"This is not a duplicate, none of the answers in the linked question are localized.","body":"This is not a duplicate, none of the answers in the linked question are localized."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1671486827,"post_id":74856098,"comment_id":132106082,"body_markdown":"Interesting… The Unicode [CLDR](https://en.wikipedia.org/wiki/Common_Locale_Data_Repository) ([used by modern implementations of Java](https://openjdk.org/jeps/252)) does indeed seem to offer localization data for [duration values such as *minutes*](https://unicode-org.github.io/cldr-staging/charts/42/by_type/units.duration.html). I am voting to re-open.","body":"Interesting… The Unicode <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\">CLDR</a> (<a href=\"https://openjdk.org/jeps/252\" rel=\"nofollow noreferrer\">used by modern implementations of Java</a>) does indeed seem to offer localization data for <a href=\"https://unicode-org.github.io/cldr-staging/charts/42/by_type/units.duration.html\" rel=\"nofollow noreferrer\">duration values such as <i>minutes</i></a>. I am voting to re-open."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1671486924,"post_id":74856098,"comment_id":132106111,"body_markdown":"I suggest you add a link to documentation on this `RelativeDateTimeFormatter ` class you mention. I do not see it bundled with Java SE.","body":"I suggest you add a link to documentation on this <code>RelativeDateTimeFormatter </code> class you mention. I do not see it bundled with Java SE."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671487208,"post_id":74856098,"comment_id":132106167,"body_markdown":"Joda seems to have had classes for formatting Period.  It&#39;s odd that these didn&#39;t end up in java.time.  (Of course, that doesn&#39;t deal with the localisation, but it&#39;s half of the issue).","body":"Joda seems to have had classes for formatting Period.  It&#39;s odd that these didn&#39;t end up in java.time.  (Of course, that doesn&#39;t deal with the localisation, but it&#39;s half of the issue)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671514391,"post_id":74856098,"comment_id":132110093,"body_markdown":"As the other comments seem to indicate, I believe that this is not built into Java (probably not Kotlin either).","body":"As the other comments seem to indicate, I believe that this is not built into Java (probably not Kotlin either)."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1672136125,"post_id":74856098,"comment_id":132226566,"body_markdown":"Did you check [How to format a duration in java?](https://stackoverflow.com/q/266825/10819573)?","body":"Did you check <a href=\"https://stackoverflow.com/q/266825/10819573\">How to format a duration in java?</a>?"}],"owner":{"account_id":2397410,"reputation":10658,"user_id":2095953,"accept_rate":56,"display_name":"frodo2975"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":0,"score":5,"last_activity_date":1671514422,"creation_date":1671484613,"question_id":74856098,"body_markdown":"Is there a way to format a localized time duration in Kotlin or Java? I have a Duration, and I want to display it in a localized, human readable string like &quot;1 minute 30 seconds&quot; or &quot;1m 30s&quot;. \r\n\r\nI did find [RelativeDateTimeFormatter][1], but it only appears to generate time parts that are in the future or past tense like &quot;1 minute ago&quot; or &quot;in 1 minute&quot;. Is there a way to configure it to generate the present tense?\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/icu/text/RelativeDateTimeFormatter","title":"Kotlin/Java how to format localized time duration like &quot;1 minute 30 seconds&quot;?","body":"<p>Is there a way to format a localized time duration in Kotlin or Java? I have a Duration, and I want to display it in a localized, human readable string like &quot;1 minute 30 seconds&quot; or &quot;1m 30s&quot;.</p>\n<p>I did find <a href=\"https://developer.android.com/reference/android/icu/text/RelativeDateTimeFormatter\" rel=\"nofollow noreferrer\">RelativeDateTimeFormatter</a>, but it only appears to generate time parts that are in the future or past tense like &quot;1 minute ago&quot; or &quot;in 1 minute&quot;. Is there a way to configure it to generate the present tense?</p>\n"},{"tags":["java","arrays","sum"],"answers":[{"tags":[],"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671512281,"creation_date":1671512281,"answer_id":74858676,"question_id":74858577,"body_markdown":"You don&#39;t need 2 loops, one to look for the first zero and then sum up.\r\n\r\n```java\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        List&lt;Integer&gt; sums = new ArrayList&lt;&gt;();\r\n        int sum = 0;\r\n\r\n        // read input\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = in.nextInt();\r\n        }\r\n\r\n        boolean isCounting = false;\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (arr[i] != 0 &amp;&amp; isCounting) {\r\n                sum += arr[i];\r\n            } else if(arr[i] == 0){\r\n                // if already counting then finish the sum\r\n                if (isCounting) {\r\n                    sums.add(sum);\r\n                    sum = 0;\r\n                } else { // else start counting\r\n                    isCounting = true;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(sums);\r\n    }\r\n}\r\n```","title":"How to get sum of array elements between two zeros","body":"<p>You don't need 2 loops, one to look for the first zero and then sum up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int arr[] = new int[n];\n        List&lt;Integer&gt; sums = new ArrayList&lt;&gt;();\n        int sum = 0;\n\n        // read input\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = in.nextInt();\n        }\n\n        boolean isCounting = false;\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] != 0 &amp;&amp; isCounting) {\n                sum += arr[i];\n            } else if(arr[i] == 0){\n                // if already counting then finish the sum\n                if (isCounting) {\n                    sums.add(sum);\n                    sum = 0;\n                } else { // else start counting\n                    isCounting = true;\n                }\n            }\n        }\n        System.out.println(sums);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671604583,"post_id":74858725,"comment_id":132132243,"body_markdown":"It would be nice to give a brief explanation of how this works / how it solves the problem, and how it&#39;s different than existing answers.","body":"It would be nice to give a brief explanation of how this works / how it solves the problem, and how it&#39;s different than existing answers."}],"tags":[],"owner":{"account_id":4710737,"reputation":1,"user_id":3811307,"display_name":"Tuyen Tran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671512924,"creation_date":1671512924,"answer_id":74858725,"question_id":74858577,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int size = in.nextInt();\r\n        int arr[] = new int[size];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = in.nextInt();\r\n        }\r\n        int sum = 0;\r\n        int idx = 0;\r\n        while (arr[idx] != 0)\r\n            idx++; // After this, idx will be the index of the first 0\r\n        do {\r\n            idx++; // Keep looping from idx + 1 until the next 0\r\n            if (arr[idx] != 0 &amp;&amp; idx &lt; arr.length)\r\n                sum += arr[idx];\r\n        } while (idx &lt; arr.length &amp;&amp; arr[idx] != 0);\r\n        System.out.println(&quot;Sum = &quot; + sum);\r\n    }\r\n}\r\n```","title":"How to get sum of array elements between two zeros","body":"<pre><code>import java.util.Scanner;\n\nclass Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int size = in.nextInt();\n        int arr[] = new int[size];\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = in.nextInt();\n        }\n        int sum = 0;\n        int idx = 0;\n        while (arr[idx] != 0)\n            idx++; // After this, idx will be the index of the first 0\n        do {\n            idx++; // Keep looping from idx + 1 until the next 0\n            if (arr[idx] != 0 &amp;&amp; idx &lt; arr.length)\n                sum += arr[idx];\n        } while (idx &lt; arr.length &amp;&amp; arr[idx] != 0);\n        System.out.println(&quot;Sum = &quot; + sum);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671513777,"creation_date":1671513777,"answer_id":74858802,"question_id":74858577,"body_markdown":"&gt;     int sum = -1;\r\n&gt;     int j = -1;\r\n&gt;         \r\n&gt;         for(int i=0; i&lt;arr.length;i++ ){\r\n&gt;            if (arr[i] == 0) {\r\n&gt;                j = i;\r\n&gt;                if (sum == -1)\r\n&gt;                    sum = 0;\r\n&gt;                 else\r\n&gt;                    break;\r\n&gt;            } \r\n&gt;            if ( j == -1)\r\n&gt;               continue;\r\n&gt;             sum += arr[i];\r\n&gt;         }\r\n\r\nThe above should work","title":"How to get sum of array elements between two zeros","body":"<blockquote>\n<pre><code>int sum = -1;\nint j = -1;\n    \n    for(int i=0; i&lt;arr.length;i++ ){\n       if (arr[i] == 0) {\n           j = i;\n           if (sum == -1)\n               sum = 0;\n            else\n               break;\n       } \n       if ( j == -1)\n          continue;\n        sum += arr[i];\n    }\n</code></pre>\n</blockquote>\n<p>The above should work</p>\n"},{"tags":[],"owner":{"account_id":26332814,"reputation":11,"user_id":20067765,"display_name":"Denis Khvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671513900,"creation_date":1671513900,"answer_id":74858817,"question_id":74858577,"body_markdown":"    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int[] arr = new int[n];\r\n        int sum = 0;\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = in.nextInt();\r\n            if (arr[i] == 0) {\r\n                list.add(i);\r\n            }\r\n        }\r\n\r\n        for (int i = list.get(0); i &lt;= list.get(list.size()-1); i++) {\r\n            sum += arr[i];\r\n        }\r\n\r\n        System.out.println(sum);\r\n    }","title":"How to get sum of array elements between two zeros","body":"<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int[] arr = new int[n];\n    int sum = 0;\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; n; i++) {\n        arr[i] = in.nextInt();\n        if (arr[i] == 0) {\n            list.add(i);\n        }\n    }\n\n    for (int i = list.get(0); i &lt;= list.get(list.size()-1); i++) {\n        sum += arr[i];\n    }\n\n    System.out.println(sum);\n}\n</code></pre>\n"}],"owner":{"account_id":27289539,"reputation":11,"user_id":20808181,"display_name":"goof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74858676,"answer_count":4,"score":-1,"last_activity_date":1671513900,"creation_date":1671511214,"question_id":74858577,"body_markdown":"first input: size of array: 5\r\n\r\nsecond input: 0 -2 4 0 6\r\n\r\noutput: 2\r\n\r\nHere is what I have tried. It is also adding the numbers before zero:\r\n\r\nMy code&#39;s output: \r\n\r\narray size: 10 \r\n\r\nelements: 6 19 0 -3 4 8 0 -6 9 59\r\n\r\nmy output: 25 9\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Vector;\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n]; \r\n        Vector&lt;Integer&gt; A = new Vector&lt;Integer&gt;();\r\n\r\n    int sum = 0;\r\n        for(int i=0; i&lt;arr.length; i++){\r\n            arr[i] = in.nextInt();\r\n        }\r\n \r\n   \r\n    for(int i = 0; i &lt; arr.length; i++)\r\n    {\r\n       if (arr[i] == 0)\r\n       {\r\n           i++;\r\n           break;\r\n       }\r\n    }\r\n \r\n   \r\n    for(int i=0; i &lt; arr.length; i++)\r\n    {\r\n        \r\n    \r\n       if (arr[i] == 0)\r\n       {\r\n           A.add(sum);\r\n           sum = 0;\r\n       }\r\n        \r\n       else\r\n       {\r\n           sum += arr[i];\r\n       }\r\n    }\r\n\r\n    for(int j = 0; j &lt; A.size(); j++)\r\n    {\r\n       System.out.print(A.get(j) + &quot; &quot;);\r\n    }\r\n    }\r\n}\r\n```","title":"How to get sum of array elements between two zeros","body":"<p>first input: size of array: 5</p>\n<p>second input: 0 -2 4 0 6</p>\n<p>output: 2</p>\n<p>Here is what I have tried. It is also adding the numbers before zero:</p>\n<p>My code's output:</p>\n<p>array size: 10</p>\n<p>elements: 6 19 0 -3 4 8 0 -6 9 59</p>\n<p>my output: 25 9</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Vector;\npublic class Main{\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int arr[] = new int[n]; \n        Vector&lt;Integer&gt; A = new Vector&lt;Integer&gt;();\n\n    int sum = 0;\n        for(int i=0; i&lt;arr.length; i++){\n            arr[i] = in.nextInt();\n        }\n \n   \n    for(int i = 0; i &lt; arr.length; i++)\n    {\n       if (arr[i] == 0)\n       {\n           i++;\n           break;\n       }\n    }\n \n   \n    for(int i=0; i &lt; arr.length; i++)\n    {\n        \n    \n       if (arr[i] == 0)\n       {\n           A.add(sum);\n           sum = 0;\n       }\n        \n       else\n       {\n           sum += arr[i];\n       }\n    }\n\n    for(int j = 0; j &lt; A.size(); j++)\n    {\n       System.out.print(A.get(j) + &quot; &quot;);\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27303673,"reputation":1,"user_id":20819984,"display_name":"Jos&#233; Valladares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671513328,"creation_date":1671513328,"question_id":74858762,"body_markdown":"How to use JMapper to concatenate two properties\r\nFor example\r\n\r\n```\r\nclass MyDestination {\r\n  String name;\r\n  Integer age;\r\n  String address;\r\n}\r\n```\r\n\r\n```\r\nclass MySOURCE{             \r\n  String name;     \r\n  String lastname;\r\n  Integer age;\r\n  String address;\r\n}                     \r\n```\r\n\r\nFrom which I want the result when mapping the concatenation of first and last name\r\n\r\n```\r\nclass MyDestination {\r\n    @JMap(attributes = {&quot;name&quot;, &quot;lastname&quot;})\r\n    String name;\r\n    @JMap(&quot;age&quot;)\r\n    Integer age;\r\n    @JMap(&quot;address&quot;)\r\n    String address;\r\n}\r\n\r\nclass MySOURCE{             \r\n  String name;     \r\n  String lastname;\r\n  Integer age;\r\n  String address;\r\n}     \r\n```","title":"How to use JMapper","body":"<p>How to use JMapper to concatenate two properties\nFor example</p>\n<pre><code>class MyDestination {\n  String name;\n  Integer age;\n  String address;\n}\n</code></pre>\n<pre><code>class MySOURCE{             \n  String name;     \n  String lastname;\n  Integer age;\n  String address;\n}                     \n</code></pre>\n<p>From which I want the result when mapping the concatenation of first and last name</p>\n<pre><code>class MyDestination {\n    @JMap(attributes = {&quot;name&quot;, &quot;lastname&quot;})\n    String name;\n    @JMap(&quot;age&quot;)\n    Integer age;\n    @JMap(&quot;address&quot;)\n    String address;\n}\n\nclass MySOURCE{             \n  String name;     \n  String lastname;\n  Integer age;\n  String address;\n}     \n</code></pre>\n"},{"tags":["java","android","algorithm"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671513163,"creation_date":1671496980,"answer_id":74857457,"question_id":74857302,"body_markdown":"This is a very classic problem. [`Java enums`][1] are a fantastic tool to solve this exact problem.\r\n\r\nHere is an example of something similar I am working on.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nprivate class SOQ_20221219_2 {\r\n    private enum Tool { HAMMER, NAIL, DRILL, SCREW, SAW, WOOD, METAL, ; }\r\n\r\n    private enum Project {\r\n        WORK_BENCH(Tool.HAMMER, Tool.NAIL, Tool.SAW, Tool.WOOD),\r\n        STOP_SIGN(Tool.DRILL, Tool.SCREW, Tool.METAL),\r\n        SHED(Tool.HAMMER, Tool.NAIL, Tool.DRILL, Tool.SCREW, Tool.SAW, Tool.WOOD, Tool.METAL),\r\n        TOOL_HANGER(Tool.HAMMER, Tool.NAIL, Tool.WOOD),\r\n        ;\r\n\r\n        public final Set&lt;Tool&gt; requiredTools;\r\n\r\n        Project(Tool... requiredTools) {\r\n            this.requiredTools = Set.of(requiredTools);\r\n        }\r\n\r\n        public boolean canMakeWithGivenTools(Set&lt;Tool&gt; givenTools) {\r\n            Objects.requireNonNull(givenTools);\r\n            return givenTools.containsAll(this.requiredTools);\r\n        }\r\n    }\r\n\r\n    public SOQ_20221219_2() {\r\n        final Set&lt;Tool&gt; tools = EnumSet.of(Tool.HAMMER, Tool.NAIL, Tool.SAW, Tool.WOOD);\r\n        for (final Project eachProject : Project.values()) {\r\n            if (eachProject.canMakeWithGivenTools(tools)) {\r\n                System.out.println(eachProject + &quot; can be made with &quot; + tools);\r\n            }\r\n        }\r\n    }\r\n}   \r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Finding Lists from Smaller Items from Other Lists","body":"<p>This is a very classic problem. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><code>Java enums</code></a> are a fantastic tool to solve this exact problem.</p>\n<p>Here is an example of something similar I am working on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nprivate class SOQ_20221219_2 {\n    private enum Tool { HAMMER, NAIL, DRILL, SCREW, SAW, WOOD, METAL, ; }\n\n    private enum Project {\n        WORK_BENCH(Tool.HAMMER, Tool.NAIL, Tool.SAW, Tool.WOOD),\n        STOP_SIGN(Tool.DRILL, Tool.SCREW, Tool.METAL),\n        SHED(Tool.HAMMER, Tool.NAIL, Tool.DRILL, Tool.SCREW, Tool.SAW, Tool.WOOD, Tool.METAL),\n        TOOL_HANGER(Tool.HAMMER, Tool.NAIL, Tool.WOOD),\n        ;\n\n        public final Set&lt;Tool&gt; requiredTools;\n\n        Project(Tool... requiredTools) {\n            this.requiredTools = Set.of(requiredTools);\n        }\n\n        public boolean canMakeWithGivenTools(Set&lt;Tool&gt; givenTools) {\n            Objects.requireNonNull(givenTools);\n            return givenTools.containsAll(this.requiredTools);\n        }\n    }\n\n    public SOQ_20221219_2() {\n        final Set&lt;Tool&gt; tools = EnumSet.of(Tool.HAMMER, Tool.NAIL, Tool.SAW, Tool.WOOD);\n        for (final Project eachProject : Project.values()) {\n            if (eachProject.canMakeWithGivenTools(tools)) {\n                System.out.println(eachProject + &quot; can be made with &quot; + tools);\n            }\n        }\n    }\n}   \n</code></pre>\n"}],"owner":{"account_id":23219799,"reputation":27,"user_id":17312230,"display_name":"trcon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1671558016,"answer_count":1,"score":-1,"last_activity_date":1671513163,"creation_date":1671494916,"question_id":74857302,"body_markdown":"I&#39;m currently creating a project that involves keeping track of lists of machines to build and the items to build it within those lists. However, I&#39;d like to extend the functionality further and show the user other machines that could be built (or the percentage of it) with the items saved to the system.\r\n\r\nThis project is part of an Android app, and the machine lists and the parts within them are pulled off an external REST API, just for background.\r\n\r\nI&#39;ve tried searching for some resources, however I think it&#39;s quite hard to put what I&#39;m trying to do into a short query. Forgive me if this has already been asked, but I&#39;m not quite sure how to start on this and any advice would be appreciated. Thanks!","title":"Finding Lists from Smaller Items from Other Lists","body":"<p>I'm currently creating a project that involves keeping track of lists of machines to build and the items to build it within those lists. However, I'd like to extend the functionality further and show the user other machines that could be built (or the percentage of it) with the items saved to the system.</p>\n<p>This project is part of an Android app, and the machine lists and the parts within them are pulled off an external REST API, just for background.</p>\n<p>I've tried searching for some resources, however I think it's quite hard to put what I'm trying to do into a short query. Forgive me if this has already been asked, but I'm not quite sure how to start on this and any advice would be appreciated. Thanks!</p>\n"},{"tags":["java","json","spring-boot","csv","jackson"],"comments":[{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":1,"creation_date":1671474121,"post_id":74854347,"comment_id":132102546,"body_markdown":"Could you provide more error details (stack trace)?\nAlso, you need a `comma (,)` on the 7th line (after `&quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;`).","body":"Could you provide more error details (stack trace)? Also, you need a <code>comma (,)</code> on the 7th line (after <code>&quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;</code>)."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671483234,"creation_date":1671476244,"answer_id":74854886,"question_id":74854347,"body_markdown":"There are a couple of things that are causing this. Main reason for the exception you are getting is that your csv schema does not have columns to map. Run a debugger and see what the line `JsonNode firstObject = jsonTree.elements().next();` returns and what fields are added to the schema when you run `firstObject.fieldNames().forEachRemaining(fieldName -&gt; {csvSchemaBuilder.addColumn(fieldName);} );`\r\n\r\nHaving said that, the parsing may still not go through as  CSV generator does not support nested Objects. There are several ways to handle this. You can write a custom method to handle the structure and spit out flattened data or use a library to handle the transformation. One way that I have done it in the past is by using the JOLT library (json to json transform) to pre-process the JSON and create an interim document and parsing it. See details in this answer - https://stackoverflow.com/questions/74712859/return-a-json-response-as-csv-file-from-spring-boot-controller/74713492#74713492\r\n","title":"How to convert a complex JSON to CSV in Java","body":"<p>There are a couple of things that are causing this. Main reason for the exception you are getting is that your csv schema does not have columns to map. Run a debugger and see what the line <code>JsonNode firstObject = jsonTree.elements().next();</code> returns and what fields are added to the schema when you run <code>firstObject.fieldNames().forEachRemaining(fieldName -&gt; {csvSchemaBuilder.addColumn(fieldName);} );</code></p>\n<p>Having said that, the parsing may still not go through as  CSV generator does not support nested Objects. There are several ways to handle this. You can write a custom method to handle the structure and spit out flattened data or use a library to handle the transformation. One way that I have done it in the past is by using the JOLT library (json to json transform) to pre-process the JSON and create an interim document and parsing it. See details in this answer - <a href=\"https://stackoverflow.com/questions/74712859/return-a-json-response-as-csv-file-from-spring-boot-controller/74713492#74713492\">Return a JSON response as CSV file from spring-boot controller</a></p>\n"}],"owner":{"account_id":25798764,"reputation":21,"user_id":19541542,"display_name":"Aman Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671512906,"creation_date":1671473382,"question_id":74854347,"body_markdown":"I am having a `complex.json` file and I want it to convert into CSV file using Java Spring boot. \r\n\r\nBelow is my `complex.json` file:\r\n\r\n```\r\n{\r\n  &quot;requestId&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCURRR01&quot;,\r\n  &quot;recyleBinRecords&quot;: [\r\n    {\r\n      &quot;Record&quot;: {\r\n        &quot;ProductName&quot;: &quot;Name1&quot;,\r\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;\r\n        &quot;ProductArea&quot;: &quot;Area1&quot;\r\n      },\r\n      &quot;dependecyMaterial&quot;: [\r\n        {\r\n          &quot;Name&quot;: &quot;D1&quot;,\r\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n          &quot;parentid&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n          &quot;value&quot;: &quot;Value1&quot;\r\n        },\r\n        {\r\n          &quot;Name&quot;: &quot;d2&quot;,\r\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n          &quot;parentid&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n          &quot;value&quot;: &quot;value2&quot;\r\n        }]},{\r\n      &quot;Record&quot;: {\r\n        &quot;ProductName&quot;: &quot;Name2&quot;,\r\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n        &quot;ProductArea&quot;: &quot;Product2&quot;\r\n      },\r\n      &quot;dependecyMaterial&quot;: [\r\n        {\r\n          &quot;Name&quot;: &quot;D3&quot;,\r\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n          &quot;parentid&quot;: &quot;P1&quot;,\r\n          &quot;value&quot;: &quot;value1&quot;\r\n        },\r\n        {\r\n          &quot;Name&quot;: &quot;D4&quot;,\r\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n          &quot;parentid&quot;: &quot;P2&quot;,\r\n          &quot;value&quot;: &quot;value2&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\nBelow is code I tried but it&#39;s giving **no column exception**.\r\n```\r\nJsonNode jsonTree = new ObjectMapper().readTree(new File(&quot;src/main/resources/complex.json&quot;));\r\nBuilder csvSchemaBuilder = CsvSchema.builder();\r\nJsonNode firstObject = jsonTree.elements().next();\r\nfirstObject.fieldNames().forEachRemaining(fieldName -&gt; {csvSchemaBuilder.addColumn(fieldName);} );\r\nCsvSchema csvSchema = csvSchemaBuilder.build().withHeader();\r\n```\r\n\r\n```\r\nCsvMapper csvMapper = new CsvMapper();\r\ncsvMapper.writerFor(JsonNode.class)\r\n  .with(csvSchema)\r\n  .writeValue(new File(&quot;src/main/resources/orderLines.csv&quot;), jsonTree);Copy\r\n```\r\nNeed a solution to convert my JSON to CSV in java.\r\n\r\n","title":"How to convert a complex JSON to CSV in Java","body":"<p>I am having a <code>complex.json</code> file and I want it to convert into CSV file using Java Spring boot.</p>\n<p>Below is my <code>complex.json</code> file:</p>\n<pre><code>{\n  &quot;requestId&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCURRR01&quot;,\n  &quot;recyleBinRecords&quot;: [\n    {\n      &quot;Record&quot;: {\n        &quot;ProductName&quot;: &quot;Name1&quot;,\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;\n        &quot;ProductArea&quot;: &quot;Area1&quot;\n      },\n      &quot;dependecyMaterial&quot;: [\n        {\n          &quot;Name&quot;: &quot;D1&quot;,\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n          &quot;parentid&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n          &quot;value&quot;: &quot;Value1&quot;\n        },\n        {\n          &quot;Name&quot;: &quot;d2&quot;,\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n          &quot;parentid&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n          &quot;value&quot;: &quot;value2&quot;\n        }]},{\n      &quot;Record&quot;: {\n        &quot;ProductName&quot;: &quot;Name2&quot;,\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n        &quot;ProductArea&quot;: &quot;Product2&quot;\n      },\n      &quot;dependecyMaterial&quot;: [\n        {\n          &quot;Name&quot;: &quot;D3&quot;,\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n          &quot;parentid&quot;: &quot;P1&quot;,\n          &quot;value&quot;: &quot;value1&quot;\n        },\n        {\n          &quot;Name&quot;: &quot;D4&quot;,\n          &quot;id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n          &quot;parentid&quot;: &quot;P2&quot;,\n          &quot;value&quot;: &quot;value2&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>Below is code I tried but it's giving <strong>no column exception</strong>.</p>\n<pre><code>JsonNode jsonTree = new ObjectMapper().readTree(new File(&quot;src/main/resources/complex.json&quot;));\nBuilder csvSchemaBuilder = CsvSchema.builder();\nJsonNode firstObject = jsonTree.elements().next();\nfirstObject.fieldNames().forEachRemaining(fieldName -&gt; {csvSchemaBuilder.addColumn(fieldName);} );\nCsvSchema csvSchema = csvSchemaBuilder.build().withHeader();\n</code></pre>\n<pre><code>CsvMapper csvMapper = new CsvMapper();\ncsvMapper.writerFor(JsonNode.class)\n  .with(csvSchema)\n  .writeValue(new File(&quot;src/main/resources/orderLines.csv&quot;), jsonTree);Copy\n</code></pre>\n<p>Need a solution to convert my JSON to CSV in java.</p>\n"},{"tags":["java","spring","hibernate","redis"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1453276579,"post_id":34893279,"comment_id":57525878,"body_markdown":"http://docs.spring.io/spring-data/data-redis/docs/1.5.2.RELEASE/api/org/springframework/data/redis/core/RedisTemplate.html#expire(K,%20long,%20java.util.concurrent.TimeUnit) Doesn&#39;t say anything about a uniqueKey. You can pass the key to expire","body":"<a href=\"http://docs.spring.io/spring-data/data-redis/docs/1.5.2.RELEASE/api/org/springframework/data/redis/core/RedisTemplate.html#expire(K,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/data-redis/docs/1.5.2.RELEASE/api&zwnj;&#8203;/&hellip;</a> Doesn&#39;t say anything about a uniqueKey. You can pass the key to expire"},{"owner":{"account_id":4996023,"reputation":1207,"user_id":4016595,"accept_rate":38,"display_name":"Akash Chavda"},"score":0,"creation_date":1453281492,"post_id":34893279,"comment_id":57528575,"body_markdown":"Yes, you are right. In this url doesn&#39;t say anything about uniqueKey. But In implementation when i use uniqueKey then this uniqueKey is expired. But when i use key then this key is not expired.","body":"Yes, you are right. In this url doesn&#39;t say anything about uniqueKey. But In implementation when i use uniqueKey then this uniqueKey is expired. But when i use key then this key is not expired."},{"owner":{"account_id":4425571,"reputation":636,"user_id":3604140,"accept_rate":100,"display_name":"Nebras"},"score":0,"creation_date":1453645431,"post_id":34893279,"comment_id":57683154,"body_markdown":"The unique key is considered for the whole hash... so can expire the key for this hash. Unless you need to remove the hash key and value manually.","body":"The unique key is considered for the whole hash... so can expire the key for this hash. Unless you need to remove the hash key and value manually."}],"answers":[{"tags":[],"owner":{"account_id":404325,"reputation":3300,"user_id":772590,"accept_rate":69,"display_name":"Santosh Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453283617,"creation_date":1453283617,"answer_id":34896731,"question_id":34893279,"body_markdown":"Actually You cannot expire or set the TTL for individual keys inside the Redis Hash. You can only expire or set TTL the complete hash. if you want to support  this you have to change your data structure.  \r\n\r\nHere is the link for why it is not possible; and below are some excerpts from \r\n[Redis expire][1]\r\n&gt; As far as i know redis cares for performance than features. It will\r\n&gt; defeat the purpose of memory efficient hash implementation in redis.\r\n&gt; Since hash key-value fields are not always represented as full\r\n&gt; featured redis object (they could be stored as linear array when hash\r\n&gt; is small to save memory), so the hash key field cannot have a TTL.\r\n\r\nAlso this link [Allow to set an expiration on hash field][2] might help you to change your data structure to handle expiry\r\n\r\n\r\n  [1]: http://redis.io/commands/expire\r\n  [2]: https://github.com/antirez/redis/issues/1042","title":"Spring Data Redis Expire Key","body":"<p>Actually You cannot expire or set the TTL for individual keys inside the Redis Hash. You can only expire or set TTL the complete hash. if you want to support  this you have to change your data structure.  </p>\n\n<p>Here is the link for why it is not possible; and below are some excerpts from \n<a href=\"http://redis.io/commands/expire\" rel=\"noreferrer\">Redis expire</a></p>\n\n<blockquote>\n  <p>As far as i know redis cares for performance than features. It will\n  defeat the purpose of memory efficient hash implementation in redis.\n  Since hash key-value fields are not always represented as full\n  featured redis object (they could be stored as linear array when hash\n  is small to save memory), so the hash key field cannot have a TTL.</p>\n</blockquote>\n\n<p>Also this link <a href=\"https://github.com/antirez/redis/issues/1042\" rel=\"noreferrer\">Allow to set an expiration on hash field</a> might help you to change your data structure to handle expiry</p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1583570668,"creation_date":1473842394,"answer_id":39486013,"question_id":34893279,"body_markdown":"Actually you can do it with [Redisson](https://redisson.org) Redis Java Client using `RMapCache` object. It provides ability to set `ttl` and `maxIdle` per map entry. Example:\r\n\r\n    // implements java.util.concurrent.ConcurrentMap interface\r\n    RMapCache&lt;String, SomeObject&gt; map = redisson.getMapCache(&quot;anyMap&quot;);\r\n\r\n    // ttl = 10 minutes, \r\n    map.put(&quot;key1&quot;, new SomeObject(), 10, TimeUnit.MINUTES);\r\n\r\n    // ttl = 10 minutes, maxIdleTime = 10 seconds\r\n    map.put(&quot;key1&quot;, new SomeObject(), 10, TimeUnit.MINUTES, 10, TimeUnit.SECONDS);","title":"Spring Data Redis Expire Key","body":"<p>Actually you can do it with <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> Redis Java Client using <code>RMapCache</code> object. It provides ability to set <code>ttl</code> and <code>maxIdle</code> per map entry. Example:</p>\n\n<pre><code>// implements java.util.concurrent.ConcurrentMap interface\nRMapCache&lt;String, SomeObject&gt; map = redisson.getMapCache(\"anyMap\");\n\n// ttl = 10 minutes, \nmap.put(\"key1\", new SomeObject(), 10, TimeUnit.MINUTES);\n\n// ttl = 10 minutes, maxIdleTime = 10 seconds\nmap.put(\"key1\", new SomeObject(), 10, TimeUnit.MINUTES, 10, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7874694,"reputation":1606,"user_id":5950846,"accept_rate":50,"display_name":"Swadeshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1536763110,"creation_date":1492788021,"answer_id":43546410,"question_id":34893279,"body_markdown":"I am using Redis Version 3.2.100.\r\n\r\nInstead of **redis template** ,Use **Redis Cache Manager**, pass redistemplate to cacheManager and use its  set expires property to which is basically map of String &amp; Long  , you can add cache name and set its expiry time i.e time to live (TTL).\r\n\r\nYou can use **setDefaultExpiration** method of cacheManager to set same expiry time to all the cache.\r\n\r\n    @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unused&quot; })\r\n    @Configuration\r\n    @EnableCaching(proxyTargetClass = true, mode = AdviceMode.ASPECTJ, order = 1)\r\n    @PropertySource(&quot;classpath:/application.properties&quot;)\r\n    public class CacheConfigImpl extends CachingConfigurerSupport {\r\n    \r\n    \tprivate @Value(&quot;${redis.ip}&quot;) String redisHost;\r\n    \tprivate @Value(&quot;${redis.port}&quot;) int redisPort;\r\n    \t\r\n    \t private static final Map&lt;String, Long&gt; cacheMap = new HashMap&lt;String, Long&gt;();\r\n        static {\r\n        \tcacheMap.put(&quot;method1cache&quot;, 600L);\r\n        \tcacheMap.put(&quot;method2cache&quot;, 600L);\r\n        \tcacheMap.put(&quot;method3cache&quot;, 800L);\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \tpublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n    \t\treturn new PropertySourcesPlaceholderConfigurer();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic JedisConnectionFactory redisConnectionFactory() {\r\n    \t\tJedisConnectionFactory redisConnectionFactory = new JedisConnectionFactory();\r\n    \t\tredisConnectionFactory.setHostName(CustomPropertyLoader.getProperty(&quot;redis.ip&quot;));\r\n    \t\tredisConnectionFactory.setPort(Integer.parseInt(CustomPropertyLoader.getProperty(&quot;redis.port&quot;)));\r\n    \t\treturn redisConnectionFactory;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\r\n    \t\tRedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;String, String&gt;();\r\n    \t\tredisTemplate.setConnectionFactory(redisConnectionFactory);\r\n    \t\tredisTemplate.afterPropertiesSet();\r\n    \t\treturn redisTemplate;\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;RCacheManager&quot;)\r\n    \tpublic CacheManager cacheManager(RedisTemplate redisTemplate) {\r\n    \r\n    \t\tRedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\r\n    \t\tcacheManager.setExpires(cacheMap);\r\n    \t\tcacheManager.setUsePrefix(true);\r\n    \t\tfinal String redis_client_name = CustomPropertyLoader.getProperty(&quot;redis.client.name&quot;);\r\n    \t\tcacheManager.setCachePrefix(new RedisCachePrefix() {\r\n    \t\t\tprivate final RedisSerializer&lt;String&gt; serializer = new StringRedisSerializer();\r\n    \t\t\tprivate final String delimiter = &quot;:&quot;;\r\n    \r\n    \t\t\tpublic byte[] prefix(String cacheName) {\r\n    \t\t\t\treturn this.serializer\r\n    \t\t\t\t\t\t.serialize(redis_client_name.concat(this.delimiter).concat(cacheName).concat(this.delimiter));\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn cacheManager;\r\n    \t}\r\n    \t}","title":"Spring Data Redis Expire Key","body":"<p>I am using Redis Version 3.2.100.</p>\n\n<p>Instead of <strong>redis template</strong> ,Use <strong>Redis Cache Manager</strong>, pass redistemplate to cacheManager and use its  set expires property to which is basically map of String &amp; Long  , you can add cache name and set its expiry time i.e time to live (TTL).</p>\n\n<p>You can use <strong>setDefaultExpiration</strong> method of cacheManager to set same expiry time to all the cache.</p>\n\n<pre><code>@SuppressWarnings({ \"rawtypes\", \"unused\" })\n@Configuration\n@EnableCaching(proxyTargetClass = true, mode = AdviceMode.ASPECTJ, order = 1)\n@PropertySource(\"classpath:/application.properties\")\npublic class CacheConfigImpl extends CachingConfigurerSupport {\n\n    private @Value(\"${redis.ip}\") String redisHost;\n    private @Value(\"${redis.port}\") int redisPort;\n\n     private static final Map&lt;String, Long&gt; cacheMap = new HashMap&lt;String, Long&gt;();\n    static {\n        cacheMap.put(\"method1cache\", 600L);\n        cacheMap.put(\"method2cache\", 600L);\n        cacheMap.put(\"method3cache\", 800L);\n    }\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n\n    @Bean\n    public JedisConnectionFactory redisConnectionFactory() {\n        JedisConnectionFactory redisConnectionFactory = new JedisConnectionFactory();\n        redisConnectionFactory.setHostName(CustomPropertyLoader.getProperty(\"redis.ip\"));\n        redisConnectionFactory.setPort(Integer.parseInt(CustomPropertyLoader.getProperty(\"redis.port\")));\n        return redisConnectionFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;String, String&gt;();\n        redisTemplate.setConnectionFactory(redisConnectionFactory);\n        redisTemplate.afterPropertiesSet();\n        return redisTemplate;\n    }\n\n    @Bean(name = \"RCacheManager\")\n    public CacheManager cacheManager(RedisTemplate redisTemplate) {\n\n        RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\n        cacheManager.setExpires(cacheMap);\n        cacheManager.setUsePrefix(true);\n        final String redis_client_name = CustomPropertyLoader.getProperty(\"redis.client.name\");\n        cacheManager.setCachePrefix(new RedisCachePrefix() {\n            private final RedisSerializer&lt;String&gt; serializer = new StringRedisSerializer();\n            private final String delimiter = \":\";\n\n            public byte[] prefix(String cacheName) {\n                return this.serializer\n                        .serialize(redis_client_name.concat(this.delimiter).concat(cacheName).concat(this.delimiter));\n            }\n        });\n        return cacheManager;\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523895874,"creation_date":1523895874,"answer_id":49862024,"question_id":34893279,"body_markdown":"You can adopt Quartz for this purpose (implementing ttl for a Redis record).\r\nIf you use Spring Boot, it autoconfigures [Scheduler][1] for you. Thus you can autowire it directly to your service layer.\r\n\r\n    @Autowired\r\n    private Scheduler scheduler;\r\n\r\nThen you need to implement a job like this (in this example I am using Spring Redis Data):\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class RemoveExpiredRecordJob implements Job {\r\n\r\n    @Autowired\r\n    public RedisRepository redisRepository;\r\n\r\n    @Override\r\n    public void execute(JobExecutionContext jobExecutionContext) {\r\n        String key = jobExecutionContext\r\n                .getJobDetail()\r\n                .getKey()\r\n                .getName();\r\n        redisRepository.deleteById(key);\r\n        log.info(&quot;Record removed due timeout :: {}&quot;, key);\r\n    }\r\n}\r\n\r\nThen you can encapsulate some logic for creating JobDetail and Trigger\r\n\r\n    @Component\r\n    public class SchedulerComponentBuilder {\r\n    \r\n        public JobDetail getJobDetail (String key, Class&lt;? extends org.quartz.Job&gt; clazz) {\r\n            return JobBuilder.newJob().ofType(clazz)\r\n                    .storeDurably(false)\r\n                    .withIdentity(key)\r\n                    .withDescription(&quot;This key will be removed from Redis store when time expires.&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        public Trigger getTrigger(int ttl, JobDetail jobDetail) {\r\n            java.util.Calendar calendar = java.util.Calendar.getInstance();\r\n            calendar.add(java.util.Calendar.SECOND, ttl);\r\n            return TriggerBuilder.newTrigger().forJob(jobDetail)\r\n                    .withDescription(&quot;This trigger fires once to remove an expired record from Redis store.&quot;)\r\n                    .startAt(calendar.getTime())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nAnd finally, right after you saved you record in Redis repository, you need to schedule a job for removal this record (uniqueKey) from it like this:\r\n\r\n    @Autowired\r\n    private SchedulerComponentBuilder schedulerComponentBuilder;\r\n\r\n    private void schedule(String uniqueKey, int ttl) {\r\n        try {\r\n            JobDetail jobDetail = schedulerComponentBuilder.getJobDetail(uniqueKey, RemoveExpiredRecordJob.class);\r\n            Trigger jobTrigger = schedulerComponentBuilder.getTrigger(ttl, jobDetail);\r\n            scheduler.scheduleJob(jobDetail,jobTrigger);\r\n            log.info(&quot;Job is scheduled :: {}&quot;, jobDetail);\r\n        } catch (SchedulerException e) {\r\n            log.error(&quot;Filed to schedule a job {}&quot;, e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-quartz\r\n","title":"Spring Data Redis Expire Key","body":"<p>You can adopt Quartz for this purpose (implementing ttl for a Redis record).\nIf you use Spring Boot, it autoconfigures <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-quartz\" rel=\"nofollow noreferrer\">Scheduler</a> for you. Thus you can autowire it directly to your service layer.</p>\n\n<pre><code>@Autowired\nprivate Scheduler scheduler;\n</code></pre>\n\n<p>Then you need to implement a job like this (in this example I am using Spring Redis Data):</p>\n\n<pre><code>@Slf4j\n@Component\npublic class RemoveExpiredRecordJob implements Job {\n\n@Autowired\npublic RedisRepository redisRepository;\n\n@Override\npublic void execute(JobExecutionContext jobExecutionContext) {\n    String key = jobExecutionContext\n            .getJobDetail()\n            .getKey()\n            .getName();\n    redisRepository.deleteById(key);\n    log.info(\"Record removed due timeout :: {}\", key);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Then you can encapsulate some logic for creating JobDetail and Trigger</p>\n\n<pre><code>@Component\npublic class SchedulerComponentBuilder {\n\n    public JobDetail getJobDetail (String key, Class&lt;? extends org.quartz.Job&gt; clazz) {\n        return JobBuilder.newJob().ofType(clazz)\n                .storeDurably(false)\n                .withIdentity(key)\n                .withDescription(\"This key will be removed from Redis store when time expires.\")\n                .build();\n    }\n\n    public Trigger getTrigger(int ttl, JobDetail jobDetail) {\n        java.util.Calendar calendar = java.util.Calendar.getInstance();\n        calendar.add(java.util.Calendar.SECOND, ttl);\n        return TriggerBuilder.newTrigger().forJob(jobDetail)\n                .withDescription(\"This trigger fires once to remove an expired record from Redis store.\")\n                .startAt(calendar.getTime())\n                .build();\n    }\n}\n</code></pre>\n\n<p>And finally, right after you saved you record in Redis repository, you need to schedule a job for removal this record (uniqueKey) from it like this:</p>\n\n<pre><code>@Autowired\nprivate SchedulerComponentBuilder schedulerComponentBuilder;\n\nprivate void schedule(String uniqueKey, int ttl) {\n    try {\n        JobDetail jobDetail = schedulerComponentBuilder.getJobDetail(uniqueKey, RemoveExpiredRecordJob.class);\n        Trigger jobTrigger = schedulerComponentBuilder.getTrigger(ttl, jobDetail);\n        scheduler.scheduleJob(jobDetail,jobTrigger);\n        log.info(\"Job is scheduled :: {}\", jobDetail);\n    } catch (SchedulerException e) {\n        log.error(\"Filed to schedule a job {}\", e);\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13195289,"reputation":81,"user_id":9530369,"display_name":"Akanksha Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524809598,"creation_date":1524809598,"answer_id":50056326,"question_id":34893279,"body_markdown":"To set TTL for keys, you may create multiple beans of cacheManager and set TTL for individual bean. Then as per your use, you can use required cachemanager.\r\nHere is what I have implemented.\r\n\r\n    @Configuration(&quot;cacheConfig&quot;)\r\n    @EnableCaching\r\n    public class CacheConfig extends CachingConfigurerSupport{\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic JedisConnectionFactory redisConnectionFactory() {\r\n    \t\tSystem.out.println(&quot;redisConnectionFactory&quot;);\r\n    \t\tJedisConnectionFactory redisConnectionFactory = new JedisConnectionFactory();\r\n    \r\n    \t\t// Defaults\r\n    \t\tredisConnectionFactory.setHostName(&quot;127.0.0.1&quot;);\r\n    \t\tredisConnectionFactory.setPort(6379);\r\n    \t\treturn redisConnectionFactory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory cf) {\r\n    \t\tSystem.out.println(&quot;redisTemplate&quot;);\r\n    \t\tRedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;String, String&gt;();\r\n    \t\tredisTemplate.setConnectionFactory(cf);\r\n    \t\tredisTemplate.setKeySerializer(new StringRedisSerializer());\r\n    \t\treturn redisTemplate;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Primary\r\n    \tpublic CacheManager cacheManager2(RedisTemplate redisTemplate) {\r\n    \t\tRedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\r\n    \t\t// Number of seconds before expiration. Defaults to unlimited (0)\r\n    \t\tcacheManager.setDefaultExpiration(20);\r\n    \t\tcacheManager.setUsePrefix(true);\r\n    \t\treturn cacheManager;\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic CacheManager cacheManager1(RedisTemplate redisTemplate) {\r\n    \t\tRedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\r\n    \t\t// Number of seconds before expiration. Defaults to unlimited (0)\r\n    \t\tcacheManager.setDefaultExpiration(60);\r\n    \t\tcacheManager.setUsePrefix(true);\r\n    \t\treturn cacheManager;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nTo use above created cachemanager beans,\r\n\r\n    @Cacheable(value = &quot;users&quot;, key = &quot;#userId.toString()&quot;, cacheManager =&quot;cacheManager2&quot;)\r\n    \t@RequestMapping(value = &quot;/{userId}&quot;, method = RequestMethod.GET)\r\n    \tpublic User getUser(@PathVariable String userId) {\r\n    \t\tLOG.info(&quot;Getting user with ID {}.: &quot;+userId);\r\n    \t  return userService.fetchUserDataonUsers(userId);\r\n    \t}\r\n\r\n\r\n    @Cacheable(value = &quot;users&quot;, key = &quot;#userId.toString()&quot;, cacheManager =&quot;cacheManager1&quot;)\r\n    \t@RequestMapping(value = &quot;data/{userId}&quot;, method = RequestMethod.GET)\r\n    \tpublic String getUserData(@PathVariable String userId) {\r\n    \t\tLOG.info(&quot;Getting user with ID getUserData {}.: &quot;+userId);\r\n    \t  return userService.fetchUserDataonUsers(userId).toString();\r\n    \t}\r\n\r\n\r\nwhen we define `cacheManager =&quot;cacheManager2&quot;` in  `@Cacheable` , It will use TTL set for `cacheManager2` defined in configuration. Same goes for `cacheManager1`","title":"Spring Data Redis Expire Key","body":"<p>To set TTL for keys, you may create multiple beans of cacheManager and set TTL for individual bean. Then as per your use, you can use required cachemanager.\nHere is what I have implemented.</p>\n\n<pre><code>@Configuration(\"cacheConfig\")\n@EnableCaching\npublic class CacheConfig extends CachingConfigurerSupport{\n\n\n    @Bean\n    public JedisConnectionFactory redisConnectionFactory() {\n        System.out.println(\"redisConnectionFactory\");\n        JedisConnectionFactory redisConnectionFactory = new JedisConnectionFactory();\n\n        // Defaults\n        redisConnectionFactory.setHostName(\"127.0.0.1\");\n        redisConnectionFactory.setPort(6379);\n        return redisConnectionFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory cf) {\n        System.out.println(\"redisTemplate\");\n        RedisTemplate&lt;String, String&gt; redisTemplate = new RedisTemplate&lt;String, String&gt;();\n        redisTemplate.setConnectionFactory(cf);\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        return redisTemplate;\n    }\n\n    @Bean\n    @Primary\n    public CacheManager cacheManager2(RedisTemplate redisTemplate) {\n        RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\n        // Number of seconds before expiration. Defaults to unlimited (0)\n        cacheManager.setDefaultExpiration(20);\n        cacheManager.setUsePrefix(true);\n        return cacheManager;\n    }\n\n\n    @Bean\n    public CacheManager cacheManager1(RedisTemplate redisTemplate) {\n        RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate);\n        // Number of seconds before expiration. Defaults to unlimited (0)\n        cacheManager.setDefaultExpiration(60);\n        cacheManager.setUsePrefix(true);\n        return cacheManager;\n    }\n\n}\n</code></pre>\n\n<p>To use above created cachemanager beans,</p>\n\n<pre><code>@Cacheable(value = \"users\", key = \"#userId.toString()\", cacheManager =\"cacheManager2\")\n    @RequestMapping(value = \"/{userId}\", method = RequestMethod.GET)\n    public User getUser(@PathVariable String userId) {\n        LOG.info(\"Getting user with ID {}.: \"+userId);\n      return userService.fetchUserDataonUsers(userId);\n    }\n\n\n@Cacheable(value = \"users\", key = \"#userId.toString()\", cacheManager =\"cacheManager1\")\n    @RequestMapping(value = \"data/{userId}\", method = RequestMethod.GET)\n    public String getUserData(@PathVariable String userId) {\n        LOG.info(\"Getting user with ID getUserData {}.: \"+userId);\n      return userService.fetchUserDataonUsers(userId).toString();\n    }\n</code></pre>\n\n<p>when we define <code>cacheManager =\"cacheManager2\"</code> in  <code>@Cacheable</code> , It will use TTL set for <code>cacheManager2</code> defined in configuration. Same goes for <code>cacheManager1</code></p>\n"},{"comments":[{"owner":{"account_id":6341303,"reputation":395,"user_id":4923106,"accept_rate":40,"display_name":"Arpan Sharma"},"score":0,"creation_date":1572607454,"post_id":58202429,"comment_id":103619780,"body_markdown":"this solution adds phantom keys in Redis and other app like python reading these keys will get two values for same key(1 orignal and 1 phantom)...","body":"this solution adds phantom keys in Redis and other app like python reading these keys will get two values for same key(1 orignal and 1 phantom)..."},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1574336915,"post_id":58202429,"comment_id":104201769,"body_markdown":"Yes it does add a phantom key. But  it wont be a problem if one is accessing the store from Spring boot or the likes.","body":"Yes it does add a phantom key. But  it wont be a problem if one is accessing the store from Spring boot or the likes."}],"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1637076228,"creation_date":1570022463,"answer_id":58202429,"question_id":34893279,"body_markdown":"I am using Spring Data Redis.\r\n\r\nI am using `@Redishash(timeToLive=300)` annotation to expire my Entities after 300 seconds.\r\n\r\nHere is the excerpt from my `pom.xml`\r\n\r\n    ...\r\n    ...\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n    ...\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n    ...\r\n    ...\r\n\r\nMy `RedisConfig.class`\r\n\r\n    @Configuration\r\n    @Log4j2\r\n    @EnableRedisRepositories(basePackageClasses = ConsentOTP.class)\r\n    public class RedisConfig {\r\n    \r\n    \t@Value(&quot;${spring.redis.host}&quot;)\r\n    \tprivate String host;\r\n    \r\n    \t@Value(&quot;${spring.redis.port}&quot;)\r\n    \tprivate Integer port;\r\n    \r\n    \t@Value(&quot;${spring.redis.password}&quot;)\r\n    \tprivate String password;\r\n    \r\n    \t@Bean\r\n    \tJedisConnectionFactory jedisConnectionFactory() {\r\n    \t\tlog.info(&quot;=================================================================&quot;);\r\n    \t\tlog.info(&quot;redis config : {} : {} &quot;, host, port);\r\n    \t\tlog.info(&quot;=================================================================&quot;);\r\n    \r\n    \t\tRedisStandaloneConfiguration config = new RedisStandaloneConfiguration(host, port);\r\n    \t\tconfig.setPassword(RedisPassword.of(password));\r\n    \t\treturn new JedisConnectionFactory(config);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd my entity class `ConsentOtp.class`\r\n\r\n    @RedisHash(value = &quot;ConsentOTP&quot;, timeToLive = 300)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class ConsentOTP implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1708925807375596799L;\r\n    \r\n    \tprivate String id;\r\n    \tprivate LocalDateTime timestamp;\r\n    \tprivate String otp;\r\n    \r\n    \tpublic ConsentOTP(String personId, LocalDateTime timestamp, String otp) {\r\n    \t\tthis.id = personId;\r\n    \t\tthis.timestamp = timestamp;\r\n    \t\tthis.otp = otp;\r\n    \t}\r\n    }\r\n\r\nHere is my Redis repository\r\n\r\n    public interface ConsentOtpRepository extends CrudRepository&lt;ConsentOTP, String&gt; {\r\n    \t\r\n    }","title":"Spring Data Redis Expire Key","body":"<p>I am using Spring Data Redis.</p>\n<p>I am using <code>@Redishash(timeToLive=300)</code> annotation to expire my Entities after 300 seconds.</p>\n<p>Here is the excerpt from my <code>pom.xml</code></p>\n<pre><code>...\n...\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n...\n...\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n...\n...\n</code></pre>\n<p>My <code>RedisConfig.class</code></p>\n<pre><code>@Configuration\n@Log4j2\n@EnableRedisRepositories(basePackageClasses = ConsentOTP.class)\npublic class RedisConfig {\n\n    @Value(&quot;${spring.redis.host}&quot;)\n    private String host;\n\n    @Value(&quot;${spring.redis.port}&quot;)\n    private Integer port;\n\n    @Value(&quot;${spring.redis.password}&quot;)\n    private String password;\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        log.info(&quot;=================================================================&quot;);\n        log.info(&quot;redis config : {} : {} &quot;, host, port);\n        log.info(&quot;=================================================================&quot;);\n\n        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration(host, port);\n        config.setPassword(RedisPassword.of(password));\n        return new JedisConnectionFactory(config);\n    }\n\n}\n</code></pre>\n<p>And my entity class <code>ConsentOtp.class</code></p>\n<pre><code>@RedisHash(value = &quot;ConsentOTP&quot;, timeToLive = 300)\n@Data\n@NoArgsConstructor\npublic class ConsentOTP implements Serializable {\n\n    private static final long serialVersionUID = 1708925807375596799L;\n\n    private String id;\n    private LocalDateTime timestamp;\n    private String otp;\n\n    public ConsentOTP(String personId, LocalDateTime timestamp, String otp) {\n        this.id = personId;\n        this.timestamp = timestamp;\n        this.otp = otp;\n    }\n}\n</code></pre>\n<p>Here is my Redis repository</p>\n<pre><code>public interface ConsentOtpRepository extends CrudRepository&lt;ConsentOTP, String&gt; {\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586864061,"creation_date":1586864061,"answer_id":61206739,"question_id":34893279,"body_markdown":"Though I am late to the party posting this for the Posterity.\r\n\r\nSetting `TTL` value in key level it is not possible, because `org.springframework.data.redis.cache.RedisCacheManager` does not provide any methods to configure the TTL value in key despite they have provided it for the `cache` level. The following steps will help you configure the TTL time in a `cache` and `default` level. \r\n\r\n 1. Adding required maven dependency.\r\n\r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n 2. adding Redis configuration including TTL values for default level and cache level. Here we have set the TTL value to a sample cache called &quot;photo&quot;.\r\n```\r\ncache:\r\n  host: localhost\r\n  port: 6379\r\n  default-ttl: 6000\r\n  caches-ttl:\r\n    photo: 3600\r\n```\r\n 3. Adding RedisCacheManager configuration\r\n```\r\nimport lombok.Data;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.CachingConfigurerSupport;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheManager;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\nimport java.time.Duration;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.Objects;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisCacheConfiguration extends CachingConfigurerSupport {\r\n\r\n    @Autowired\r\n    private CacheConfigurationProperties cacheConfigurationProperties = null;\r\n\r\n    private org.springframework.data.redis.cache.RedisCacheConfiguration createCacheConfiguration(long timeoutInSeconds) {\r\n        return org.springframework.data.redis.cache.RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofSeconds(timeoutInSeconds));\r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager(LettuceConnectionFactory redisConnectionFactory) {\r\n        Map&lt;String, org.springframework.data.redis.cache.RedisCacheConfiguration&gt; cacheConfigurations = new HashMap&lt;&gt;();\r\n        if (Objects.nonNull(cacheConfigurationProperties.getCachesTTL())) {\r\n            for (Entry&lt;String, String&gt; cacheNameAndTimeout : cacheConfigurationProperties.getCachesTTL().entrySet()) {\r\n                cacheConfigurations.put(cacheNameAndTimeout.getKey(), createCacheConfiguration(Long.parseLong(cacheNameAndTimeout.getValue())));\r\n            }\r\n        }\r\n        return RedisCacheManager\r\n                .builder(redisConnectionFactory)\r\n                .cacheDefaults(createCacheConfiguration(Long.parseLong(cacheConfigurationProperties.getDefaultTTL())))\r\n                .withInitialCacheConfigurations(cacheConfigurations).build();\r\n    }\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n        redisStandaloneConfiguration.setHostName(cacheConfigurationProperties.getHost());\r\n      redisStandaloneConfiguration.setPort(Integer.parseInt(cacheConfigurationProperties.getPort()));\r\n        return new LettuceConnectionFactory(redisStandaloneConfiguration);\r\n    }\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;cache&quot;)\r\n    @Data\r\n    class CacheConfigurationProperties {\r\n        private String port;\r\n        private String host;\r\n        private String defaultTTL;\r\n        private Map&lt;String, String&gt; cachesTTL;\r\n    }\r\n}\r\n```\r\n\r\nThe complete documentation is available at [Medium][1]\r\n\r\n\r\n  [1]: https://medium.com/@prasanth_rajendran/caching-with-spring-boot-data-redis-84aa49d15595","title":"Spring Data Redis Expire Key","body":"<p>Though I am late to the party posting this for the Posterity.</p>\n\n<p>Setting <code>TTL</code> value in key level it is not possible, because <code>org.springframework.data.redis.cache.RedisCacheManager</code> does not provide any methods to configure the TTL value in key despite they have provided it for the <code>cache</code> level. The following steps will help you configure the TTL time in a <code>cache</code> and <code>default</code> level. </p>\n\n<ol>\n<li>Adding required maven dependency.</li>\n</ol>\n\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>adding Redis configuration including TTL values for default level and cache level. Here we have set the TTL value to a sample cache called \"photo\".</li>\n</ol>\n\n<pre><code>cache:\n  host: localhost\n  port: 6379\n  default-ttl: 6000\n  caches-ttl:\n    photo: 3600\n</code></pre>\n\n<ol start=\"3\">\n<li>Adding RedisCacheManager configuration</li>\n</ol>\n\n<pre><code>import lombok.Data;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.CachingConfigurerSupport;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheManager;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport java.time.Duration;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Objects;\n\n@Configuration\n@EnableCaching\npublic class RedisCacheConfiguration extends CachingConfigurerSupport {\n\n    @Autowired\n    private CacheConfigurationProperties cacheConfigurationProperties = null;\n\n    private org.springframework.data.redis.cache.RedisCacheConfiguration createCacheConfiguration(long timeoutInSeconds) {\n        return org.springframework.data.redis.cache.RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofSeconds(timeoutInSeconds));\n    }\n\n    @Bean\n    public CacheManager cacheManager(LettuceConnectionFactory redisConnectionFactory) {\n        Map&lt;String, org.springframework.data.redis.cache.RedisCacheConfiguration&gt; cacheConfigurations = new HashMap&lt;&gt;();\n        if (Objects.nonNull(cacheConfigurationProperties.getCachesTTL())) {\n            for (Entry&lt;String, String&gt; cacheNameAndTimeout : cacheConfigurationProperties.getCachesTTL().entrySet()) {\n                cacheConfigurations.put(cacheNameAndTimeout.getKey(), createCacheConfiguration(Long.parseLong(cacheNameAndTimeout.getValue())));\n            }\n        }\n        return RedisCacheManager\n                .builder(redisConnectionFactory)\n                .cacheDefaults(createCacheConfiguration(Long.parseLong(cacheConfigurationProperties.getDefaultTTL())))\n                .withInitialCacheConfigurations(cacheConfigurations).build();\n    }\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n        redisStandaloneConfiguration.setHostName(cacheConfigurationProperties.getHost());\n      redisStandaloneConfiguration.setPort(Integer.parseInt(cacheConfigurationProperties.getPort()));\n        return new LettuceConnectionFactory(redisStandaloneConfiguration);\n    }\n\n    @Configuration\n    @ConfigurationProperties(prefix = \"cache\")\n    @Data\n    class CacheConfigurationProperties {\n        private String port;\n        private String host;\n        private String defaultTTL;\n        private Map&lt;String, String&gt; cachesTTL;\n    }\n}\n</code></pre>\n\n<p>The complete documentation is available at <a href=\"https://medium.com/@prasanth_rajendran/caching-with-spring-boot-data-redis-84aa49d15595\" rel=\"nofollow noreferrer\">Medium</a></p>\n"},{"tags":[],"owner":{"account_id":12927102,"reputation":23,"user_id":9347399,"display_name":"Erik Ghukasyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588196506,"creation_date":1588196506,"answer_id":61512213,"question_id":34893279,"body_markdown":"I had a same problem. Difference was just in using Jedis client. I solved it changing postions of UniqueKey and Key.\r\nFor your example it will be something like this:\r\n\r\n    redisService.sadd(key, uniqueKey);\r\n    redis.expire(key, expirationTime);\r\n\r\n","title":"Spring Data Redis Expire Key","body":"<p>I had a same problem. Difference was just in using Jedis client. I solved it changing postions of UniqueKey and Key.\nFor your example it will be something like this:</p>\n\n<pre><code>redisService.sadd(key, uniqueKey);\nredis.expire(key, expirationTime);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5495911,"reputation":93,"user_id":4367032,"accept_rate":75,"display_name":"Fahim Feroje Al Jami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612089063,"creation_date":1612089063,"answer_id":65978057,"question_id":34893279,"body_markdown":"Updated code for @Akanksha Sharma&#39;s [answer][1] with Lettuce redis client.\r\n\r\n    @Bean\r\n    public RedisConnectionFactory lettuceConnectionFactory() {\r\n        return new LettuceConnectionFactory(new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379));\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public CacheManager cacheManager1(RedisConnectionFactory redisConnectionFactory) {\r\n        \r\n        return RedisCacheManager\r\n                .builder(redisConnectionFactory)\r\n                .cacheDefaults(RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(60L)))\r\n                .build();\r\n        \r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager2(RedisConnectionFactory redisConnectionFactory) {\r\n        return RedisCacheManager\r\n                .builder(redisConnectionFactory)\r\n                .cacheDefaults(RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofHours(1L)))\r\n                .build();\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/50056326/4367032","title":"Spring Data Redis Expire Key","body":"<p>Updated code for @Akanksha Sharma's <a href=\"https://stackoverflow.com/a/50056326/4367032\">answer</a> with Lettuce redis client.</p>\n<pre><code>@Bean\npublic RedisConnectionFactory lettuceConnectionFactory() {\n    return new LettuceConnectionFactory(new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379));\n}\n\n@Bean\n@Primary\npublic CacheManager cacheManager1(RedisConnectionFactory redisConnectionFactory) {\n    \n    return RedisCacheManager\n            .builder(redisConnectionFactory)\n            .cacheDefaults(RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(60L)))\n            .build();\n    \n}\n\n@Bean\npublic CacheManager cacheManager2(RedisConnectionFactory redisConnectionFactory) {\n    return RedisCacheManager\n            .builder(redisConnectionFactory)\n            .cacheDefaults(RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofHours(1L)))\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289461,"reputation":31,"user_id":4222461,"display_name":"Matt Hall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620311226,"creation_date":1620311226,"answer_id":67420154,"question_id":34893279,"body_markdown":"Hi not sure if this is still active but the only correct answer is provided by \r\n\r\nSantosh Joshi\r\n\r\nhttps://stackoverflow.com/a/34896731/4222461\r\n\r\nas he correctly states you cannot expire an individual key in a redis hash, only the hash itself.\r\n\r\nsee https://github.com/redis/redis/issues/1042\r\n\r\nand https://github.com/redis/redis/issues/1042#issuecomment-45367109 in particular\r\n","title":"Spring Data Redis Expire Key","body":"<p>Hi not sure if this is still active but the only correct answer is provided by</p>\n<p>Santosh Joshi</p>\n<p><a href=\"https://stackoverflow.com/a/34896731/4222461\">https://stackoverflow.com/a/34896731/4222461</a></p>\n<p>as he correctly states you cannot expire an individual key in a redis hash, only the hash itself.</p>\n<p>see <a href=\"https://github.com/redis/redis/issues/1042\" rel=\"nofollow noreferrer\">https://github.com/redis/redis/issues/1042</a></p>\n<p>and <a href=\"https://github.com/redis/redis/issues/1042#issuecomment-45367109\" rel=\"nofollow noreferrer\">https://github.com/redis/redis/issues/1042#issuecomment-45367109</a> in particular</p>\n"},{"tags":[],"owner":{"account_id":1726740,"reputation":2422,"user_id":1581226,"accept_rate":62,"display_name":"qwerty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636972928,"creation_date":1636972928,"answer_id":69973082,"question_id":34893279,"body_markdown":"Simple and short : via RedisConnection\r\n\r\n    public void saveInCache(String key, Object obj) {\r\n\r\n        RedisConnection connection = connectionFactory.getConnection();\r\n        try {\r\n            connection.set(key.getBytes(), SerializationUtils.serialize(obj));\r\n\t\t\t//setting custom expiry runtime\r\n            long expiresIn = obj.getExpiresAfter() - Instant.now().getEpochSecond(); \r\n            connection.expire(key.getBytes(), expiresIn);\r\n\r\n        } catch (Exception e) {\r\n\t\t\t//handle any exception\r\n\t\t}\r\n\t\tfinally {\r\n            try {\r\n                if (connection != null &amp;&amp; !connection.isClosed()) {\r\n                    connection.close();\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Exception while closing redis connection : &quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Spring Data Redis Expire Key","body":"<p>Simple and short : via RedisConnection</p>\n<pre><code>public void saveInCache(String key, Object obj) {\n\n    RedisConnection connection = connectionFactory.getConnection();\n    try {\n        connection.set(key.getBytes(), SerializationUtils.serialize(obj));\n        //setting custom expiry runtime\n        long expiresIn = obj.getExpiresAfter() - Instant.now().getEpochSecond(); \n        connection.expire(key.getBytes(), expiresIn);\n\n    } catch (Exception e) {\n        //handle any exception\n    }\n    finally {\n        try {\n            if (connection != null &amp;&amp; !connection.isClosed()) {\n                connection.close();\n            }\n\n        } catch (Exception e) {\n            logger.error(&quot;Exception while closing redis connection : &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4996023,"reputation":1207,"user_id":4016595,"accept_rate":38,"display_name":"Akash Chavda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124011,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":11,"score":27,"last_activity_date":1671512820,"creation_date":1453272565,"question_id":34893279,"body_markdown":"I have a Spring Hibernate Application. In my application, Recently i am implemented Spring data Redis.\r\n\r\n    spring-servlet.xml\r\n    &lt;!-- redis connection factory --&gt;\r\n    &lt;bean id=&quot;jedisConnFactory&quot; class=&quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&quot; p:use-pool=&quot;true&quot;/&gt;\r\n    \r\n   \t&lt;!-- redis template definition --&gt;\r\n   \t&lt;bean id=&quot;redisTemplate&quot; class=&quot;org.springframework.data.redis.core.RedisTemplate&quot; \r\n   \t    p:connection-factory-ref=&quot;jedisConnFactory&quot;/&gt;\r\n\r\nAnd this `redisTemplate` use in my ServiceImpl class.\r\n\r\n    RedisServiceImpl\r\n\r\n    @Autowired\r\n    private RedisTemplate&lt;String, T&gt; redisTemplate;\r\n    \r\n    public RedisTemplate&lt;String, T&gt; getRedisTemplate() {\r\n    \treturn redisTemplate;\r\n    }\r\n    \r\n    public void setRedisTemplate(RedisTemplate&lt;String, T&gt; redisTemplate) {\r\n    \tthis.redisTemplate = redisTemplate;\r\n    }\r\n\r\nNow I added data in redisServer like this\r\n\r\n    public void putData(String uniqueKey, String key, Object results) {\r\n    \t\t\r\n    \tredisTemplate.opsForHash().put(uniqueKey, key, results);\r\n    }\r\n\r\nNow i want to remove Expire key.\r\n\r\nI search in Google, But in google all are saying like this\r\n\r\n    redisTemplate.expire(key, timeout, TimeUnit);\r\n\r\nIn this expire method, We need to provide `uniqueKey` instead of `key`.\r\nBut I need to Expire `key` instead of `uniqueKey`.\r\n\r\nSo Please help me what can i do for expire `Key`?\r\n","title":"Spring Data Redis Expire Key","body":"<p>I have a Spring Hibernate Application. In my application, Recently i am implemented Spring data Redis.</p>\n<pre><code>spring-servlet.xml\n&lt;!-- redis connection factory --&gt;\n&lt;bean id=&quot;jedisConnFactory&quot; class=&quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&quot; p:use-pool=&quot;true&quot;/&gt;\n\n&lt;!-- redis template definition --&gt;\n&lt;bean id=&quot;redisTemplate&quot; class=&quot;org.springframework.data.redis.core.RedisTemplate&quot; \n    p:connection-factory-ref=&quot;jedisConnFactory&quot;/&gt;\n</code></pre>\n<p>And this <code>redisTemplate</code> use in my ServiceImpl class.</p>\n<pre><code>RedisServiceImpl\n\n@Autowired\nprivate RedisTemplate&lt;String, T&gt; redisTemplate;\n\npublic RedisTemplate&lt;String, T&gt; getRedisTemplate() {\n    return redisTemplate;\n}\n\npublic void setRedisTemplate(RedisTemplate&lt;String, T&gt; redisTemplate) {\n    this.redisTemplate = redisTemplate;\n}\n</code></pre>\n<p>Now I added data in redisServer like this</p>\n<pre><code>public void putData(String uniqueKey, String key, Object results) {\n        \n    redisTemplate.opsForHash().put(uniqueKey, key, results);\n}\n</code></pre>\n<p>Now i want to remove Expire key.</p>\n<p>I search in Google, But in google all are saying like this</p>\n<pre><code>redisTemplate.expire(key, timeout, TimeUnit);\n</code></pre>\n<p>In this expire method, We need to provide <code>uniqueKey</code> instead of <code>key</code>.\nBut I need to Expire <code>key</code> instead of <code>uniqueKey</code>.</p>\n<p>So Please help me what can i do for expire <code>Key</code>?</p>\n"},{"tags":["java","ucanaccess","jackcess"],"answers":[{"tags":[],"owner":{"account_id":18292330,"reputation":15,"user_id":14585834,"display_name":"ramej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671497308,"creation_date":1671497308,"answer_id":74857482,"question_id":74806419,"body_markdown":"Ok, indeed as I suspected my problem was about incompatibility with the libraries, don&#39;t take into account that `jackcess-encrypt` and `bcprov` must not only be compatible with each other, but must also be compatible with the version of ` UCanAccess` that you are using, in addition to obviously the version of java.\r\n\r\nI had a hard time finding a combination of versions that worked for me for java 1.8, the one I got was:\r\n\r\n`ucanaccess-3.0.3.1` , `jackcess-encrypt-2.1.1` , and `bcprov-jdk15on-154`\r\n\r\nHowever I would like to get it to work with `UCanAccess-5.0.1` but I just get errors and errors again when I try, if anyone knows how to do this I would appreciate the help.\r\n","title":"Java UCanAccess problem connecting to a database with password","body":"<p>Ok, indeed as I suspected my problem was about incompatibility with the libraries, don't take into account that <code>jackcess-encrypt</code> and <code>bcprov</code> must not only be compatible with each other, but must also be compatible with the version of <code> UCanAccess</code> that you are using, in addition to obviously the version of java.</p>\n<p>I had a hard time finding a combination of versions that worked for me for java 1.8, the one I got was:</p>\n<p><code>ucanaccess-3.0.3.1</code> , <code>jackcess-encrypt-2.1.1</code> , and <code>bcprov-jdk15on-154</code></p>\n<p>However I would like to get it to work with <code>UCanAccess-5.0.1</code> but I just get errors and errors again when I try, if anyone knows how to do this I would appreciate the help.</p>\n"}],"owner":{"account_id":18292330,"reputation":15,"user_id":14585834,"display_name":"ramej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74857482,"answer_count":1,"score":0,"last_activity_date":1671512723,"creation_date":1671073677,"question_id":74806419,"body_markdown":"**very good**\r\n\r\nI have been working on a desktop application that connects to an access 2016 database to save some data, everything has gone great, but I need the database to be encrypted to prevent them from freely modifying the data.\r\n\r\nI have started to investigate how I can achieve this, I am working with `UCanAccess-5.0.0`, according to what I have read, the connection string changes and now an encryption class is necessary.\r\n\r\nI started working with `jackcess-encrypt-4.0.2` but I&#39;m getting some errors and I would like to know if you can help me, I appreciate any help.\r\n\r\nI am working with netbeans 12.5 and I am running with java witch ant and jdk 8.\r\n\r\nThis is my connection class:\r\n\r\n```java\r\npackage Class;\r\n\r\nimport java.sql.*;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JOptionPane;\r\npublic class Conn {\r\n\r\n    Connection cn = null;\r\n    Statement st = null;\r\n\r\n    public Connection(){\r\n        try {\r\n            String rutafile = &quot;C:\\\\Users\\\\Ramej\\\\Documents\\\\Projects\\\\Test\\\\DB_Q2.accdb;jackcessOpener=Class.CryptCodecOpener&quot;;\r\n            String url = &quot;jdbc:ucanaccess://&quot; + rutafile;\r\n            cn = DriverManager.getConnection(url,&quot;sa&quot;,&quot;123&quot;);\r\n            st = cn.createStatement();\r\n        } catch (SQLException e) {\r\n            System.err.println(&quot;Error: &quot; + e);\r\n        }\r\n    }\r\n\r\n    public Connection getConnection(){\r\n        return cn;\r\n    }\r\n\r\n    public void Disconnection(){\r\n        try {\r\n            cn.close();\r\n        } catch (SQLException e) {\r\n            Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, e);\r\n            System.err.println(&quot;Error: &quot;+ e);\r\n        }\r\n    }\r\n}\r\n```\r\nand I have the `CryptCodecOpener` class set up as follows:\r\n\r\n```java\r\npackage Class;\r\n\r\nimport com.healthmarketscience.jackcess.Database;\r\nimport com.healthmarketscience.jackcess.DatabaseBuilder;\r\nimport com.healthmarketscience.jackcess.crypt.CryptCodecProvider;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport net.ucanaccess.jdbc.JackcessOpenerInterface;\r\n\r\npublic class CryptCodecOpener implements JackcessOpenerInterface {\r\n\r\n    public Database open(File fl, String pwd) throws IOException {\r\n        DatabaseBuilder dbd = new DatabaseBuilder(fl);\r\n        dbd.setAutoSync(false);\r\n        dbd.setCodecProvider(new CryptCodecProvider(pwd));\r\n        dbd.setReadOnly(false);\r\n        return dbd.open();\r\n    }\r\n}\r\n```\r\nWhen entering the system and connecting to the database I find the following errors:\r\n```none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalAccessError: tried to access field com.healthmarketscience.jackcess.impl.PageChannel.DEFAULT_BYTE_ORDER from class com.healthmarketscience.jackcess.crypt.impl.BaseCryptCodecHandler\r\n\tat com.healthmarketscience.jackcess.crypt.impl.BaseCryptCodecHandler.wrap(BaseCryptCodecHandler.java:349)\r\n\tat com.healthmarketscience.jackcess.crypt.impl.OfficeCryptCodecHandler.create(OfficeCryptCodecHandler.java:81)\r\n\tat com.healthmarketscience.jackcess.crypt.CryptCodecProvider.createHandler(CryptCodecProvider.java:130)\r\n\tat com.healthmarketscience.jackcess.impl.PageChannel.initialize(PageChannel.java:105)\r\n\tat com.healthmarketscience.jackcess.impl.DatabaseImpl.&lt;init&gt;(DatabaseImpl.java:554)\r\n\tat com.healthmarketscience.jackcess.impl.DatabaseImpl.open(DatabaseImpl.java:415)\r\n\tat com.healthmarketscience.jackcess.DatabaseBuilder.open(DatabaseBuilder.java:267)\r\n\tat Clases.CryptCodecOpener.open(CryptCodecOpener.java:27)\r\n\tat net.ucanaccess.jdbc.DBReference.&lt;init&gt;(DBReference.java:170)\r\n\tat net.ucanaccess.jdbc.DBReferenceSingleton.loadReference(DBReferenceSingleton.java:51)\r\n\tat net.ucanaccess.jdbc.UcanaccessDriver.connect(UcanaccessDriver.java:91)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat Clases.Conexion.&lt;init&gt;(Conexion.java:34)\r\n\tat Ventana.MenuPrincipal.&lt;init&gt;(MenuPrincipal.java:66)\r\n\tat Ventana.MenuPrincipal$11.run(MenuPrincipal.java:511)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n```\r\nI have tried to run with `jackcess-encrypt-4.0.2` and with `jackcess-encrypt-2.1.0` without getting any different result, I have also tried with `bcprov-debug-jdk18on-172`, `bcprov-ext-jdk15on -1.70`, `bcprov-ext-jdk18on-172`. Without finding a solution. I guess I&#39;m not loading any other library or I don&#39;t know what I&#39;m doing wrong, I appreciate the help.","title":"Java UCanAccess problem connecting to a database with password","body":"<p><strong>very good</strong></p>\n<p>I have been working on a desktop application that connects to an access 2016 database to save some data, everything has gone great, but I need the database to be encrypted to prevent them from freely modifying the data.</p>\n<p>I have started to investigate how I can achieve this, I am working with <code>UCanAccess-5.0.0</code>, according to what I have read, the connection string changes and now an encryption class is necessary.</p>\n<p>I started working with <code>jackcess-encrypt-4.0.2</code> but I'm getting some errors and I would like to know if you can help me, I appreciate any help.</p>\n<p>I am working with netbeans 12.5 and I am running with java witch ant and jdk 8.</p>\n<p>This is my connection class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Class;\n\nimport java.sql.*;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\npublic class Conn {\n\n    Connection cn = null;\n    Statement st = null;\n\n    public Connection(){\n        try {\n            String rutafile = &quot;C:\\\\Users\\\\Ramej\\\\Documents\\\\Projects\\\\Test\\\\DB_Q2.accdb;jackcessOpener=Class.CryptCodecOpener&quot;;\n            String url = &quot;jdbc:ucanaccess://&quot; + rutafile;\n            cn = DriverManager.getConnection(url,&quot;sa&quot;,&quot;123&quot;);\n            st = cn.createStatement();\n        } catch (SQLException e) {\n            System.err.println(&quot;Error: &quot; + e);\n        }\n    }\n\n    public Connection getConnection(){\n        return cn;\n    }\n\n    public void Disconnection(){\n        try {\n            cn.close();\n        } catch (SQLException e) {\n            Logger.getLogger(Conexion.class.getName()).log(Level.SEVERE, null, e);\n            System.err.println(&quot;Error: &quot;+ e);\n        }\n    }\n}\n</code></pre>\n<p>and I have the <code>CryptCodecOpener</code> class set up as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Class;\n\nimport com.healthmarketscience.jackcess.Database;\nimport com.healthmarketscience.jackcess.DatabaseBuilder;\nimport com.healthmarketscience.jackcess.crypt.CryptCodecProvider;\nimport java.io.File;\nimport java.io.IOException;\nimport net.ucanaccess.jdbc.JackcessOpenerInterface;\n\npublic class CryptCodecOpener implements JackcessOpenerInterface {\n\n    public Database open(File fl, String pwd) throws IOException {\n        DatabaseBuilder dbd = new DatabaseBuilder(fl);\n        dbd.setAutoSync(false);\n        dbd.setCodecProvider(new CryptCodecProvider(pwd));\n        dbd.setReadOnly(false);\n        return dbd.open();\n    }\n}\n</code></pre>\n<p>When entering the system and connecting to the database I find the following errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalAccessError: tried to access field com.healthmarketscience.jackcess.impl.PageChannel.DEFAULT_BYTE_ORDER from class com.healthmarketscience.jackcess.crypt.impl.BaseCryptCodecHandler\n    at com.healthmarketscience.jackcess.crypt.impl.BaseCryptCodecHandler.wrap(BaseCryptCodecHandler.java:349)\n    at com.healthmarketscience.jackcess.crypt.impl.OfficeCryptCodecHandler.create(OfficeCryptCodecHandler.java:81)\n    at com.healthmarketscience.jackcess.crypt.CryptCodecProvider.createHandler(CryptCodecProvider.java:130)\n    at com.healthmarketscience.jackcess.impl.PageChannel.initialize(PageChannel.java:105)\n    at com.healthmarketscience.jackcess.impl.DatabaseImpl.&lt;init&gt;(DatabaseImpl.java:554)\n    at com.healthmarketscience.jackcess.impl.DatabaseImpl.open(DatabaseImpl.java:415)\n    at com.healthmarketscience.jackcess.DatabaseBuilder.open(DatabaseBuilder.java:267)\n    at Clases.CryptCodecOpener.open(CryptCodecOpener.java:27)\n    at net.ucanaccess.jdbc.DBReference.&lt;init&gt;(DBReference.java:170)\n    at net.ucanaccess.jdbc.DBReferenceSingleton.loadReference(DBReferenceSingleton.java:51)\n    at net.ucanaccess.jdbc.UcanaccessDriver.connect(UcanaccessDriver.java:91)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at Clases.Conexion.&lt;init&gt;(Conexion.java:34)\n    at Ventana.MenuPrincipal.&lt;init&gt;(MenuPrincipal.java:66)\n    at Ventana.MenuPrincipal$11.run(MenuPrincipal.java:511)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n<p>I have tried to run with <code>jackcess-encrypt-4.0.2</code> and with <code>jackcess-encrypt-2.1.0</code> without getting any different result, I have also tried with <code>bcprov-debug-jdk18on-172</code>, <code>bcprov-ext-jdk15on -1.70</code>, <code>bcprov-ext-jdk18on-172</code>. Without finding a solution. I guess I'm not loading any other library or I don't know what I'm doing wrong, I appreciate the help.</p>\n"},{"tags":["java","spring-boot","hibernate","orm"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671496890,"post_id":74855726,"comment_id":132107856,"body_markdown":"&quot;we have started seeing different results for these calculations&quot; - would you mind clarifying what does it mean?","body":"&quot;we have started seeing different results for these calculations&quot; - would you mind clarifying what does it mean?"},{"owner":{"account_id":290399,"reputation":2210,"user_id":591935,"accept_rate":76,"display_name":"Daniel"},"score":1,"creation_date":1671512645,"post_id":74855726,"comment_id":132109849,"body_markdown":"Sure, I&#39;ve updated with some details","body":"Sure, I&#39;ve updated with some details"},{"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"score":0,"creation_date":1671824463,"post_id":74855726,"comment_id":132185170,"body_markdown":"Do your calculations depend on the presentation order of elements in the stream? If so, it might be worth adding an `ORDER BY` to the query.\n\nThen, have you checked that the SQL generated between old and new deployments is 1:1?","body":"Do your calculations depend on the presentation order of elements in the stream? If so, it might be worth adding an <code>ORDER BY</code> to the query.  Then, have you checked that the SQL generated between old and new deployments is 1:1?"},{"owner":{"account_id":290399,"reputation":2210,"user_id":591935,"accept_rate":76,"display_name":"Daniel"},"score":0,"creation_date":1671828446,"post_id":74855726,"comment_id":132185947,"body_markdown":"They do not depend on the order, no. Will try with ORDER BY and see if that helps. \nThe generated SQL is identical, except the column aliases which are apparently not needed any longer in Hibernate 6.","body":"They do not depend on the order, no. Will try with ORDER BY and see if that helps.  The generated SQL is identical, except the column aliases which are apparently not needed any longer in Hibernate 6."}],"owner":{"account_id":290399,"reputation":2210,"user_id":591935,"accept_rate":76,"display_name":"Daniel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671512605,"creation_date":1671482114,"question_id":74855726,"body_markdown":"We have an application doing some batch processing, were some statistics are calculated from order history. We fetch around 500k records from a Postgres database when doing this. The data is basically only orders and order details joined to orders like this\r\n```\r\n@OneToMany(mappedBy = &quot;createdOrder&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\npublic Set&lt;OrderDetails&gt; getOrderDetails() {\r\n\treturn orderDetails;\r\n}\r\n```\r\n\r\nWe have a query defined like this\r\n```\r\n@QueryHints(value = @QueryHint(name = org.hibernate.jpa.QueryHints.HINT_FETCH_SIZE, value = &quot;5000&quot;))\r\nStream&lt;CreatedOrder&gt; streamAllDistinctByCreatedBetween(long startEpochMillis, long endEpochMillis);\r\n```\r\n\r\nWe then perform the calculations like this. The flush/clear piece was added to avoid allocating too much memory for the data which we no longer needed for the calculations.\r\n```\r\n@Transactional\r\npublic void calculateOrderStats() {\r\n\ttry (Stream&lt;OrderDetails&gt; orderDetailsStream = createdOrderRepository.streamAllDistinctByCreatedBetween(periodStart, periodEnd)) {\r\n\t\torderDetailsStream.forEach(orderDetails -&gt; {\r\n            //Do calculations..\r\n            if(count % 1000 == 0) {\r\n                entityManager.flush();\r\n                entityManager.clear();\r\n            }\r\n        });\r\n\t}\r\n}\r\n```\r\n\r\nWe have been running this code with Spring boot 2.7.1/Hibernate 5.6.9.Final for quite some time. But after upgrading to Spring boot 3.0.0/Hibernate 6.1.5.Final, we have started seeing different results for these calculations. We basically calculate what items are frequently bought together, and we are getting different results when running the old and the new versions side by side.\r\n\r\nAfter much investigation, we realized that the difference comes from the fact that we are no longer getting the same data from the stream and the only thing we can do to get the same results with with 6.x as with 5.x is to \r\n1) Remove the stream() and collect all orders straight to a list, increasing memory consumtion by A LOT. \r\nor \r\n2) Remove the flush/clear piece of code, i.e.\r\n```\r\nif(count % 1000 == 0) {\r\n   entityManager.clear();\r\n} \r\n```\r\n\r\nAny ideas as to why would the entityManager.clear() work with Hibernate 5.x and cause these issues with 6.x? We haven&#39;t been able to find an explanation in the 6.0 migration guide.","title":"Inconsistent result with JPA streams after upgrading to Hibernate 6.x / Spring boot 3","body":"<p>We have an application doing some batch processing, were some statistics are calculated from order history. We fetch around 500k records from a Postgres database when doing this. The data is basically only orders and order details joined to orders like this</p>\n<pre><code>@OneToMany(mappedBy = &quot;createdOrder&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\npublic Set&lt;OrderDetails&gt; getOrderDetails() {\n    return orderDetails;\n}\n</code></pre>\n<p>We have a query defined like this</p>\n<pre><code>@QueryHints(value = @QueryHint(name = org.hibernate.jpa.QueryHints.HINT_FETCH_SIZE, value = &quot;5000&quot;))\nStream&lt;CreatedOrder&gt; streamAllDistinctByCreatedBetween(long startEpochMillis, long endEpochMillis);\n</code></pre>\n<p>We then perform the calculations like this. The flush/clear piece was added to avoid allocating too much memory for the data which we no longer needed for the calculations.</p>\n<pre><code>@Transactional\npublic void calculateOrderStats() {\n    try (Stream&lt;OrderDetails&gt; orderDetailsStream = createdOrderRepository.streamAllDistinctByCreatedBetween(periodStart, periodEnd)) {\n        orderDetailsStream.forEach(orderDetails -&gt; {\n            //Do calculations..\n            if(count % 1000 == 0) {\n                entityManager.flush();\n                entityManager.clear();\n            }\n        });\n    }\n}\n</code></pre>\n<p>We have been running this code with Spring boot 2.7.1/Hibernate 5.6.9.Final for quite some time. But after upgrading to Spring boot 3.0.0/Hibernate 6.1.5.Final, we have started seeing different results for these calculations. We basically calculate what items are frequently bought together, and we are getting different results when running the old and the new versions side by side.</p>\n<p>After much investigation, we realized that the difference comes from the fact that we are no longer getting the same data from the stream and the only thing we can do to get the same results with with 6.x as with 5.x is to</p>\n<ol>\n<li>Remove the stream() and collect all orders straight to a list, increasing memory consumtion by A LOT.\nor</li>\n<li>Remove the flush/clear piece of code, i.e.</li>\n</ol>\n<pre><code>if(count % 1000 == 0) {\n   entityManager.clear();\n} \n</code></pre>\n<p>Any ideas as to why would the entityManager.clear() work with Hibernate 5.x and cause these issues with 6.x? We haven't been able to find an explanation in the 6.0 migration guide.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":1057645,"reputation":2379,"user_id":1060010,"accept_rate":61,"display_name":"Spaniard89"},"score":0,"creation_date":1342609305,"post_id":11538823,"comment_id":15257424,"body_markdown":"but isn&#39;t it OS dependent as, i can only make it work with Windows. But what if i want it to work with Linux as well? Is it possible to parse the file location or search for the name of software in a particular directory? Any help would be very much appreciated.","body":"but isn&#39;t it OS dependent as, i can only make it work with Windows. But what if i want it to work with Linux as well? Is it possible to parse the file location or search for the name of software in a particular directory? Any help would be very much appreciated."},{"owner":{"account_id":1224517,"reputation":2240,"user_id":1190376,"accept_rate":75,"display_name":"Antimony"},"score":0,"creation_date":1342609939,"post_id":11538823,"comment_id":15257735,"body_markdown":"For Linux:\n\nIn order to run Linux shell commands from Java, see [example](http://linuxprogram.wordpress.com/2006/10/22/how-to-excute-a-linux-shell-command-in-java/)\n\nAs for what to run: [see this](http://linuxprogram.wordpress.com/2006/10/22/how-to-excute-a-linux-shell-command-in-java/)","body":"For Linux:  In order to run Linux shell commands from Java, see <a href=\"http://linuxprogram.wordpress.com/2006/10/22/how-to-excute-a-linux-shell-command-in-java/\" rel=\"nofollow noreferrer\">example</a>  As for what to run: <a href=\"http://linuxprogram.wordpress.com/2006/10/22/how-to-excute-a-linux-shell-command-in-java/\" rel=\"nofollow noreferrer\">see this</a>"},{"owner":{"account_id":1057645,"reputation":2379,"user_id":1060010,"accept_rate":61,"display_name":"Spaniard89"},"score":1,"creation_date":1342610083,"post_id":11538823,"comment_id":15257790,"body_markdown":"i am extremely sorry but how would this post, solve my problem?","body":"i am extremely sorry but how would this post, solve my problem?"},{"owner":{"account_id":1224517,"reputation":2240,"user_id":1190376,"accept_rate":75,"display_name":"Antimony"},"score":0,"creation_date":1342610198,"post_id":11538823,"comment_id":15257844,"body_markdown":"Alright. Going step by step.\nYou first write a program that runs the Linux shell command (which gives a list of software/apps installed in the Linux machine) for you, then save the result in a list. This list is what you needed.","body":"Alright. Going step by step. You first write a program that runs the Linux shell command (which gives a list of software/apps installed in the Linux machine) for you, then save the result in a list. This list is what you needed."},{"owner":{"account_id":1057645,"reputation":2379,"user_id":1060010,"accept_rate":61,"display_name":"Spaniard89"},"score":0,"creation_date":1342610471,"post_id":11538823,"comment_id":15257966,"body_markdown":"Thank you very much @Antimony but which linux shell command gives the list of applications installed?","body":"Thank you very much @Antimony but which linux shell command gives the list of applications installed?"},{"owner":{"account_id":1224517,"reputation":2240,"user_id":1190376,"accept_rate":75,"display_name":"Antimony"},"score":0,"creation_date":1342610662,"post_id":11538823,"comment_id":15258045,"body_markdown":"Dude. Read my second comment properly, it&#39;s got 2 links. You might have missed the second one.","body":"Dude. Read my second comment properly, it&#39;s got 2 links. You might have missed the second one."},{"owner":{"account_id":1057645,"reputation":2379,"user_id":1060010,"accept_rate":61,"display_name":"Spaniard89"},"score":0,"creation_date":1342610768,"post_id":11538823,"comment_id":15258090,"body_markdown":"But aren&#39;t they same? Both the link redirect to the same web page! Thank you mate!","body":"But aren&#39;t they same? Both the link redirect to the same web page! Thank you mate!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1552827313,"post_id":11538823,"comment_id":97150532,"body_markdown":"@Spaniard89 For Linux distributions, [see this](https://unix.stackexchange.com/questions/20979/how-do-i-list-all-installed-programs).","body":"@Spaniard89 For Linux distributions, <a href=\"https://unix.stackexchange.com/questions/20979/how-do-i-list-all-installed-programs\">see this</a>."}],"tags":[],"owner":{"account_id":1224517,"reputation":2240,"user_id":1190376,"accept_rate":75,"display_name":"Antimony"},"comment_count":8,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342605544,"creation_date":1342605544,"answer_id":11538823,"question_id":11538672,"body_markdown":"There&#39;s [another question on StackOverflow](https://stackoverflow.com/questions/6860968/check-for-installed-program-on-windows-using-java) that checks for the existence of a particular software.\r\n\r\nYou can make a list of all filepaths that have\r\n\r\n    HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\r\n\r\nin the beginning, then take whatever is at the end of this filepath to be the name of the software. ","title":"Getting the list of softwares installed using Java on a computer","body":"<p>There's <a href=\"https://stackoverflow.com/questions/6860968/check-for-installed-program-on-windows-using-java\">another question on StackOverflow</a> that checks for the existence of a particular software.</p>\n\n<p>You can make a list of all filepaths that have</p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\n</code></pre>\n\n<p>in the beginning, then take whatever is at the end of this filepath to be the name of the software. </p>\n"},{"tags":[],"owner":{"account_id":5778721,"reputation":15,"user_id":4560055,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431345687,"creation_date":1431343107,"answer_id":30166304,"question_id":11538672,"body_markdown":"I think following code might help you. I am new to java so pls edit my code if any changes.\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.StringWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n\r\n    public class getInstalledAppList {\r\n      \r\n      private static final String REGQUERY_UTIL = &quot;reg query &quot;;\r\n      private static final String REGSTR_TOKEN = &quot;REG_SZ&quot;;\r\n      static String s = REGQUERY_UTIL + &quot;HKEY_LOCAL_MACHINE\\\\Software&quot;\r\n                        + &quot;\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Uninstall&quot;;\r\n                    \r\n  \r\n\r\n  \r\n\r\n    public static String getCurrentUserPersonalFolderPath() {\r\n        try {\r\n          Process process = Runtime.getRuntime().exec(s);\r\n          StreamReader reader = new StreamReader(process.getInputStream());\r\n    \r\n          reader.start();\r\n          process.waitFor();\r\n          reader.join();\r\n    \r\n          String result = reader.getResult();\r\n          int p = result.indexOf(REGSTR_TOKEN);\r\n    \r\n          if (p == -1)\r\n             return null;\r\n            \r\n          return result.substring(p + REGSTR_TOKEN.length()).trim();\r\n        }\r\n        catch (IOException | InterruptedException e) {\r\n          return null;\r\n        }\r\n      }\r\n    \r\n      \r\n      \r\n      static class StreamReader extends Thread {\r\n        private final InputStream is;\r\n        private final StringWriter sw;\r\n    \r\n        StreamReader(InputStream is) {\r\n          this.is = is;\r\n          sw = new StringWriter();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n          try {\r\n            int c;\r\n            while ((c = is.read()) != -1)\r\n              sw.write(c);\r\n            }\r\n            catch (IOException e) { e.printStackTrace(); }\r\n          }\r\n    \r\n        String getResult() {\r\n          return sw.toString();\r\n        }\r\n      }\r\n    \r\n      public static void main(String s[]) {\r\n          \r\n          getDisplayNameDword( getCurrentUserPersonalFolderPath()  );\r\n      }\r\n      \r\n      private static void getDisplayNameDword(String str){\r\n      \r\n          Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n      \r\n          String [] array = new String[500];\r\n          \r\n          \r\n          array = str.split(&quot;\\n&quot;);\r\n          \r\n          for(String i : array){\r\n              \r\n              set.add( getName(i.trim()) ); \r\n             \r\n          }\r\n          \r\n               \r\n          Iterator i = set.iterator();\r\n          \r\n          while(i.hasNext()){\r\n          \r\n              System.out.println( i.next() );\r\n          \r\n          }\r\n          \r\n      }\r\n      \r\n      private static String getName(String s){\r\n      Process process = null;\r\n      try {\r\n                // Run reg query, then read output with StreamReader (internal class)\r\n                 process = Runtime.getRuntime().exec(&quot;reg query &quot; + \r\n                        &#39;&quot;&#39;+ s + &quot;\\&quot; /v &quot; + &quot;DisplayName&quot;);\r\n     \r\n                StreamReader reader = new StreamReader(process.getInputStream());\r\n                reader.start();\r\n                process.waitFor();\r\n                reader.join();\r\n     \r\n                \r\n                // Parse out the value\r\n                String[] parsed = reader.getResult().split(REGSTR_TOKEN);\r\n                if (parsed.length &gt; 1) {\r\n                return  (parsed[parsed.length-1]).trim();\r\n                }\r\n               \r\n           } catch (IOException | InterruptedException e) {\r\n               e.printStackTrace();\r\n           }\r\n      return null;\r\n      }\r\n    }\r\n\r\n\r\nor use psinfo.exe to get installed app list in windows.\r\n","title":"Getting the list of softwares installed using Java on a computer","body":"<p>I think following code might help you. I am new to java so pls edit my code if any changes.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class getInstalledAppList {\n\n  private static final String REGQUERY_UTIL = \"reg query \";\n  private static final String REGSTR_TOKEN = \"REG_SZ\";\n  static String s = REGQUERY_UTIL + \"HKEY_LOCAL_MACHINE\\\\Software\"\n                    + \"\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Uninstall\";\n\n\n\n\n\npublic static String getCurrentUserPersonalFolderPath() {\n    try {\n      Process process = Runtime.getRuntime().exec(s);\n      StreamReader reader = new StreamReader(process.getInputStream());\n\n      reader.start();\n      process.waitFor();\n      reader.join();\n\n      String result = reader.getResult();\n      int p = result.indexOf(REGSTR_TOKEN);\n\n      if (p == -1)\n         return null;\n\n      return result.substring(p + REGSTR_TOKEN.length()).trim();\n    }\n    catch (IOException | InterruptedException e) {\n      return null;\n    }\n  }\n\n\n\n  static class StreamReader extends Thread {\n    private final InputStream is;\n    private final StringWriter sw;\n\n    StreamReader(InputStream is) {\n      this.is = is;\n      sw = new StringWriter();\n    }\n\n    @Override\n    public void run() {\n      try {\n        int c;\n        while ((c = is.read()) != -1)\n          sw.write(c);\n        }\n        catch (IOException e) { e.printStackTrace(); }\n      }\n\n    String getResult() {\n      return sw.toString();\n    }\n  }\n\n  public static void main(String s[]) {\n\n      getDisplayNameDword( getCurrentUserPersonalFolderPath()  );\n  }\n\n  private static void getDisplayNameDword(String str){\n\n      Set&lt;String&gt; set = new HashSet&lt;&gt;();\n\n      String [] array = new String[500];\n\n\n      array = str.split(\"\\n\");\n\n      for(String i : array){\n\n          set.add( getName(i.trim()) ); \n\n      }\n\n\n      Iterator i = set.iterator();\n\n      while(i.hasNext()){\n\n          System.out.println( i.next() );\n\n      }\n\n  }\n\n  private static String getName(String s){\n  Process process = null;\n  try {\n            // Run reg query, then read output with StreamReader (internal class)\n             process = Runtime.getRuntime().exec(\"reg query \" + \n                    '\"'+ s + \"\\\" /v \" + \"DisplayName\");\n\n            StreamReader reader = new StreamReader(process.getInputStream());\n            reader.start();\n            process.waitFor();\n            reader.join();\n\n\n            // Parse out the value\n            String[] parsed = reader.getResult().split(REGSTR_TOKEN);\n            if (parsed.length &gt; 1) {\n            return  (parsed[parsed.length-1]).trim();\n            }\n\n       } catch (IOException | InterruptedException e) {\n           e.printStackTrace();\n       }\n  return null;\n  }\n}\n</code></pre>\n\n<p>or use psinfo.exe to get installed app list in windows.</p>\n"},{"tags":[],"owner":{"account_id":1883524,"reputation":1135,"user_id":1703195,"accept_rate":60,"display_name":"drone.ah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552823607,"creation_date":1552823607,"answer_id":55206740,"question_id":11538672,"body_markdown":"I wrote a little library ([JavaListApps](https://github.com/drone-ah/JavaListApps)) that does this based on [ListPrograms](https://github.com/mavenlin/ListPrograms) which is in turn based on a \r\n[VB Script](http://www.vbforums.com/showthread.php?598355-Example-of-how-to-get-a-list-of-installed-programs-(like-Add-and-Remove-Programs))\r\nlinked from a \r\n[StackOverflow Post](https://stackoverflow.com/questions/802499/how-can-i-enumerate-list-all-installed-applications-in-windows-xp/9757013#comment22371865_9757013)\r\n\r\nMy need is a little limited, so there are unimplemented parts compared to the C++ version.\r\n\r\n","title":"Getting the list of softwares installed using Java on a computer","body":"<p>I wrote a little library (<a href=\"https://github.com/drone-ah/JavaListApps\" rel=\"nofollow noreferrer\">JavaListApps</a>) that does this based on <a href=\"https://github.com/mavenlin/ListPrograms\" rel=\"nofollow noreferrer\">ListPrograms</a> which is in turn based on a \n<a href=\"http://www.vbforums.com/showthread.php?598355-Example-of-how-to-get-a-list-of-installed-programs-(like-Add-and-Remove-Programs)\" rel=\"nofollow noreferrer\">VB Script</a>\nlinked from a \n<a href=\"https://stackoverflow.com/questions/802499/how-can-i-enumerate-list-all-installed-applications-in-windows-xp/9757013#comment22371865_9757013\">StackOverflow Post</a></p>\n\n<p>My need is a little limited, so there are unimplemented parts compared to the C++ version.</p>\n"}],"owner":{"account_id":1057645,"reputation":2379,"user_id":1060010,"accept_rate":61,"display_name":"Spaniard89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7922,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1671512505,"creation_date":1342605050,"question_id":11538672,"body_markdown":"How can one get a list of installed software and its version in Java?","title":"Getting the list of softwares installed using Java on a computer","body":"<p>How can one get a list of installed software and its version in Java?</p>\n"},{"tags":["java","android","xml","cardview"],"answers":[{"tags":[],"owner":{"account_id":26559503,"reputation":61,"user_id":20187556,"display_name":"Orcazephyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665268698,"creation_date":1665268698,"answer_id":74000983,"question_id":74000544,"body_markdown":"My code should work for you as long as you have no problem with the extra ````LinearLayout````. I couldn&#39;t find a better way, as there seems to be no way to center multiple objects in a ````RelativeLayout```` without grouping them in a ````LinearLayout````.\r\n````\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:cardCornerRadius=&quot;80dp&quot;\r\n        android:cardElevation=&quot;10dp&quot;&gt;\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;16dp&quot;&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:paddingBottom=&quot;10dp&quot;\r\n            android:text=&quot;Some example&quot;\r\n            android:textSize=&quot;40dp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/text&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/delCount&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;-&quot;\r\n                android:textSize=&quot;30dp&quot;&gt;\r\n\r\n            &lt;/Button&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/kpl1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:paddingStart=&quot;5dp&quot;\r\n                android:paddingEnd=&quot;5dp&quot;\r\n                android:text=&quot;10&quot;\r\n                android:textSize=&quot;30dp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/addCount&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;+&quot;\r\n                android:textSize=&quot;30dp&quot;&gt;\r\n\r\n            &lt;/Button&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n````","title":"How to align all items in cardview to center?","body":"<p>My code should work for you as long as you have no problem with the extra <code>LinearLayout</code>. I couldn't find a better way, as there seems to be no way to center multiple objects in a <code>RelativeLayout</code> without grouping them in a <code>LinearLayout</code>.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:cardCornerRadius=&quot;80dp&quot;\n        android:cardElevation=&quot;10dp&quot;&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;16dp&quot;&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:paddingBottom=&quot;10dp&quot;\n            android:text=&quot;Some example&quot;\n            android:textSize=&quot;40dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/text&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/delCount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;-&quot;\n                android:textSize=&quot;30dp&quot;&gt;\n\n            &lt;/Button&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/kpl1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginStart=&quot;5dp&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginEnd=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:layout_marginBottom=&quot;5dp&quot;\n                android:paddingStart=&quot;5dp&quot;\n                android:paddingEnd=&quot;5dp&quot;\n                android:text=&quot;10&quot;\n                android:textSize=&quot;30dp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/addCount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;+&quot;\n                android:textSize=&quot;30dp&quot;&gt;\n\n            &lt;/Button&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671458055,"post_id":74811000,"comment_id":132096935,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74811000/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9081358,"reputation":53,"user_id":6761088,"display_name":"Niranjan Rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671512192,"creation_date":1671104625,"answer_id":74811000,"question_id":74000544,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:cardCornerRadius=&quot;80dp&quot;\r\n        android:cardElevation=&quot;10dp&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/text&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:paddingBottom=&quot;10dp&quot;\r\n                android:text=&quot;Some example&quot;\r\n                android:textSize=&quot;40dp&quot; /&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:padding=&quot;16dp&quot;&gt;\r\n                \r\n                &lt;Button\r\n                    android:id=&quot;@+id/addCount&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;+&quot;\r\n                    android:textSize=&quot;30dp&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/kpl1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginStart=&quot;5dp&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:layout_marginEnd=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:layout_marginBottom=&quot;5dp&quot;\r\n                    android:paddingStart=&quot;5dp&quot;\r\n                    android:paddingEnd=&quot;5dp&quot;\r\n                    android:text=&quot;10&quot;\r\n                    android:textSize=&quot;30dp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n                &lt;Button\r\n                    android:id=&quot;@+id/delCount&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;-&quot;\r\n                    android:textSize=&quot;30dp&quot;&gt;\r\n    \r\n                &lt;/Button&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\nwhile using cardview, surround all your views in a parent linearLayout \r\nsuch that you can control the view.\r\n","title":"How to align all items in cardview to center?","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:cardCornerRadius=&quot;80dp&quot;\n    android:cardElevation=&quot;10dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/text&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:paddingBottom=&quot;10dp&quot;\n            android:text=&quot;Some example&quot;\n            android:textSize=&quot;40dp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:gravity=&quot;center&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;16dp&quot;&gt;\n            \n            &lt;Button\n                android:id=&quot;@+id/addCount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;+&quot;\n                android:textSize=&quot;30dp&quot;/&gt;\n            &lt;TextView\n                android:id=&quot;@+id/kpl1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginStart=&quot;5dp&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginEnd=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:layout_marginBottom=&quot;5dp&quot;\n                android:paddingStart=&quot;5dp&quot;\n                android:paddingEnd=&quot;5dp&quot;\n                android:text=&quot;10&quot;\n                android:textSize=&quot;30dp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n            &lt;Button\n                android:id=&quot;@+id/delCount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;-&quot;\n                android:textSize=&quot;30dp&quot;&gt;\n\n            &lt;/Button&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>while using cardview, surround all your views in a parent linearLayout\nsuch that you can control the view.</p>\n"}],"owner":{"account_id":26567042,"reputation":1,"user_id":20193893,"display_name":"Rosp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671512192,"creation_date":1665263339,"question_id":74000544,"body_markdown":"Im having an issue with centering my buttons and text between those buttons to center. Im not sure whats wrong, because that &quot;Some example&quot; text placed nicely. Is there some other &quot;command&quot; to use with buttons? I already tested layout_gravity:center, but that doesnt work some reason.. Anyone can help me?\r\n\r\n[Issue pic][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZpPYw.png\r\n\r\nHere is my xml code:\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:cardCornerRadius=&quot;80dp&quot;\r\n        android:cardElevation=&quot;10dp&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;16dp&quot;&gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/text&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:paddingBottom=&quot;10dp&quot;\r\n                android:text=&quot;Some example&quot;\r\n                android:textSize=&quot;40dp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/kpl1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;5dp&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:paddingStart=&quot;5dp&quot;\r\n                android:paddingEnd=&quot;5dp&quot;\r\n                android:text=&quot;10&quot;\r\n                android:textSize=&quot;30dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:layout_below=&quot;@+id/text&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_toRightOf=&quot;@+id/addCount&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/addCount&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:layout_below=&quot;@+id/text&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;+&quot;\r\n                android:textSize=&quot;30dp&quot;&gt;\r\n\r\n            &lt;/Button&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/delCount&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:text=&quot;-&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textSize=&quot;30dp&quot;\r\n                android:layout_below=&quot;@+id/text&quot;\r\n                android:layout_toRightOf=&quot;@id/kpl1&quot;&gt;\r\n\r\n            &lt;/Button&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"How to align all items in cardview to center?","body":"<p>Im having an issue with centering my buttons and text between those buttons to center. Im not sure whats wrong, because that &quot;Some example&quot; text placed nicely. Is there some other &quot;command&quot; to use with buttons? I already tested layout_gravity:center, but that doesnt work some reason.. Anyone can help me?</p>\n<p><a href=\"https://i.stack.imgur.com/ZpPYw.png\" rel=\"nofollow noreferrer\">Issue pic</a></p>\n<p>Here is my xml code:</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:cardCornerRadius=&quot;80dp&quot;\n        android:cardElevation=&quot;10dp&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;16dp&quot;&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/text&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                android:paddingBottom=&quot;10dp&quot;\n                android:text=&quot;Some example&quot;\n                android:textSize=&quot;40dp&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/kpl1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;5dp&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:layout_marginEnd=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:layout_marginBottom=&quot;5dp&quot;\n                android:paddingStart=&quot;5dp&quot;\n                android:paddingEnd=&quot;5dp&quot;\n                android:text=&quot;10&quot;\n                android:textSize=&quot;30dp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:layout_below=&quot;@+id/text&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_toRightOf=&quot;@+id/addCount&quot;/&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/addCount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:layout_below=&quot;@+id/text&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;+&quot;\n                android:textSize=&quot;30dp&quot;&gt;\n\n            &lt;/Button&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/delCount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:text=&quot;-&quot;\n                android:gravity=&quot;center&quot;\n                android:textSize=&quot;30dp&quot;\n                android:layout_below=&quot;@+id/text&quot;\n                android:layout_toRightOf=&quot;@id/kpl1&quot;&gt;\n\n            &lt;/Button&gt;\n\n        &lt;/RelativeLayout&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user7392562"},"score":0,"creation_date":1671472200,"post_id":74854108,"comment_id":132101951,"body_markdown":"Duplicate keys are not allowed in a Map","body":"Duplicate keys are not allowed in a Map"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1671479098,"post_id":74854108,"comment_id":132103906,"body_markdown":"The purpose of a map is to map one key to one value. If a key can have more than one value, then map a key to an object that can contain more than one value, like a `List` or `Set`.","body":"The purpose of a map is to map one key to one value. If a key can have more than one value, then map a key to an object that can contain more than one value, like a <code>List</code> or <code>Set</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671487473,"post_id":74854108,"comment_id":132106227,"body_markdown":"[*Multimap*](https://en.wikipedia.org/wiki/Multimap) is the technical term. Already covered on Stack Overflow. Search to learn more.","body":"<a href=\"https://en.wikipedia.org/wiki/Multimap\" rel=\"nofollow noreferrer\"><i>Multimap</i></a> is the technical term. Already covered on Stack Overflow. Search to learn more."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671487503,"post_id":74854158,"comment_id":132106231,"body_markdown":"Some explanation would help.","body":"Some explanation would help."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671472203,"creation_date":1671472203,"answer_id":74854158,"question_id":74854108,"body_markdown":"```java\r\nMap&lt;String, List&lt;Employee&gt;&gt; hm = listWmp.stream().collect(Collectors.groupingBy(Employee::getEmpId));","title":"multiple values per key in java","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Employee&gt;&gt; hm = listWmp.stream().collect(Collectors.groupingBy(Employee::getEmpId));\n</code></pre>\n"}],"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671487723,"answer_count":1,"score":0,"last_activity_date":1671511534,"creation_date":1671471900,"question_id":74854108,"body_markdown":"I want to add multiple values to a map key. I tried many ways, but every time I get an error at some points. \r\n\r\nHere is what I tried\r\n\r\n\t\t\r\n\r\n    List&lt;Employee&gt;listWmp = new ArrayList&lt;&gt;();\r\n    \t\tlistWmp.add(0, emp1);\r\n    \t\tlistWmp.add(1, emp2);\r\n    \t\tlistWmp.add(2, emp3);\r\n    \t\tlistWmp.add(3, emp4);\r\n    \t\tlistWmp.add(4, emp5);\r\n    \t\tSystem.out.println(&quot;list elements are : &quot;+listWmp);\r\n    \t\t//convert the list into map\r\n    \t   Map&lt;String, Employee&gt; listMap = listWmp.stream()\r\n                   .collect(Collectors.toMap(Employee::getEmpId, employee -&gt; employee));\r\n    \t   System.out.println(&quot;list to map values :&quot;+listMap);\r\n    Map&lt;String, List&lt;Employee&gt;&gt; hm = new HashMap&lt;String, List&lt;Employee&gt;();\r\n\r\nI want the below result. How do I add multiple values to a key?\r\n\r\n    empId=1, empBame=Mayank, empDepartment=HR, emil=mayank@gmail.com\r\n    empId=1,empBame=Mahesh, empDepartment=Trainer, emil=Mahesh@gmail.com \r\n\r\n","title":"multiple values per key in java","body":"<p>I want to add multiple values to a map key. I tried many ways, but every time I get an error at some points.</p>\n<p>Here is what I tried</p>\n<pre><code>List&lt;Employee&gt;listWmp = new ArrayList&lt;&gt;();\n        listWmp.add(0, emp1);\n        listWmp.add(1, emp2);\n        listWmp.add(2, emp3);\n        listWmp.add(3, emp4);\n        listWmp.add(4, emp5);\n        System.out.println(&quot;list elements are : &quot;+listWmp);\n        //convert the list into map\n       Map&lt;String, Employee&gt; listMap = listWmp.stream()\n               .collect(Collectors.toMap(Employee::getEmpId, employee -&gt; employee));\n       System.out.println(&quot;list to map values :&quot;+listMap);\nMap&lt;String, List&lt;Employee&gt;&gt; hm = new HashMap&lt;String, List&lt;Employee&gt;();\n</code></pre>\n<p>I want the below result. How do I add multiple values to a key?</p>\n<pre><code>empId=1, empBame=Mayank, empDepartment=HR, emil=mayank@gmail.com\nempId=1,empBame=Mahesh, empDepartment=Trainer, emil=Mahesh@gmail.com \n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1671506355,"post_id":74858177,"comment_id":132109065,"body_markdown":"Can you explain whats happening and what you expect what happens and how / where that relates to the code you show? What is a &quot;name of an index&quot;? Also please post text output as text instead of as image, a code block should work fine for that","body":"Can you explain whats happening and what you expect what happens and how / where that relates to the code you show? What is a &quot;name of an index&quot;? Also please post text output as text instead of as image, a code block should work fine for that"}],"answers":[{"comments":[{"owner":{"account_id":26862194,"reputation":1,"user_id":20445489,"display_name":"Joven Rey Flores"},"score":0,"creation_date":1671511063,"post_id":74858532,"comment_id":132109629,"body_markdown":"my index no. is auto increment when you add item to arraylist","body":"my index no. is auto increment when you add item to arraylist"},{"owner":{"account_id":1228814,"reputation":665,"user_id":1193826,"accept_rate":20,"display_name":"Kaushal"},"score":0,"creation_date":1671515418,"post_id":74858532,"comment_id":132110236,"body_markdown":"Its ok, if the index is set to increment automatically. There will be a variable (where index is set) in Materials class which will be holding/storing index value. You have to use the getter of that method for comparison in if condition. Hope it helps.","body":"Its ok, if the index is set to increment automatically. There will be a variable (where index is set) in Materials class which will be holding/storing index value. You have to use the getter of that method for comparison in if condition. Hope it helps."}],"tags":[],"owner":{"account_id":1228814,"reputation":665,"user_id":1193826,"accept_rate":20,"display_name":"Kaushal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671510466,"creation_date":1671510466,"answer_id":74858532,"question_id":74858177,"body_markdown":"Welcome to stackoverflow.com.\r\n\r\nThere is a small problem in the edit material for loop. You are always editing the first material and breaking the loop. You have to first find the Material object from the list and then update the same.\r\n\r\nCheck the sample below:\r\n\r\n    if (choice2 == 1) {\r\n      System.out.print(&quot;Enter Item name: &quot;);\r\n      String itm = scan.next();\r\n      System.out.print(&quot;Enter Item unit: &quot;);\r\n      int unit = scan.nextInt();\r\n      System.out.print(&quot;Enter Item quantity: &quot;);\r\n      int qty = scan.nextInt();\r\n      item.add(new Materials(itm, unit, qty));\r\n      System.out.println(itm + &quot; &quot; + unit + &quot; &quot; + qty + &quot; Successfully added!&quot;);\r\n      // edit item name\r\n    } else if (choice2 == 2) {\r\n      System.out.println(&quot;----------------------&quot;);\r\n      System.out.println(&quot;Edit Materials &quot;);\r\n      System.out.println(&quot;----------------------&quot;);\r\n      System.out.print(&quot;Enter Item index: &quot;);\r\n      int item_index = scan.nextInt();\r\n      System.out.print(&quot;Enter new name of the item: &quot;);\r\n      String newitem = scan.next();\r\n      for (Materials m : item) {\r\n        if (m.getItem_index() == item_index) {\r\n            m.setItem_name(newitem);\r\n            System.out.println(&quot;Item  -&gt;&quot; + m.getItem_name() + &quot; Successfully updated! &quot;);\r\n            break;\r\n        }\r\n      }// view all item in inventory\r\n    }\r\n\r\nThe difference is in for loop\r\n\r\n    if (m.getItem_index() == item_index) {\r\n      m.setItem_name(newitem);\r\n      System.out.println(&quot;Item  -&gt;&quot; + m.getItem_name() + &quot; Successfully updated! &quot;);\r\n      break;\r\n    }\r\n\r\nSince the definition of Materials class was not provided, so there might be a need of correcting the method call `m.getItem_index()` in above code.","title":"I want to edit specific item name in my inventory through accessing certain index, my problem is here","body":"<p>Welcome to stackoverflow.com.</p>\n<p>There is a small problem in the edit material for loop. You are always editing the first material and breaking the loop. You have to first find the Material object from the list and then update the same.</p>\n<p>Check the sample below:</p>\n<pre><code>if (choice2 == 1) {\n  System.out.print(&quot;Enter Item name: &quot;);\n  String itm = scan.next();\n  System.out.print(&quot;Enter Item unit: &quot;);\n  int unit = scan.nextInt();\n  System.out.print(&quot;Enter Item quantity: &quot;);\n  int qty = scan.nextInt();\n  item.add(new Materials(itm, unit, qty));\n  System.out.println(itm + &quot; &quot; + unit + &quot; &quot; + qty + &quot; Successfully added!&quot;);\n  // edit item name\n} else if (choice2 == 2) {\n  System.out.println(&quot;----------------------&quot;);\n  System.out.println(&quot;Edit Materials &quot;);\n  System.out.println(&quot;----------------------&quot;);\n  System.out.print(&quot;Enter Item index: &quot;);\n  int item_index = scan.nextInt();\n  System.out.print(&quot;Enter new name of the item: &quot;);\n  String newitem = scan.next();\n  for (Materials m : item) {\n    if (m.getItem_index() == item_index) {\n        m.setItem_name(newitem);\n        System.out.println(&quot;Item  -&gt;&quot; + m.getItem_name() + &quot; Successfully updated! &quot;);\n        break;\n    }\n  }// view all item in inventory\n}\n</code></pre>\n<p>The difference is in for loop</p>\n<pre><code>if (m.getItem_index() == item_index) {\n  m.setItem_name(newitem);\n  System.out.println(&quot;Item  -&gt;&quot; + m.getItem_name() + &quot; Successfully updated! &quot;);\n  break;\n}\n</code></pre>\n<p>Since the definition of Materials class was not provided, so there might be a need of correcting the method call <code>m.getItem_index()</code> in above code.</p>\n"}],"owner":{"account_id":26862194,"reputation":1,"user_id":20445489,"display_name":"Joven Rey Flores"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671510594,"creation_date":1671505733,"question_id":74858177,"body_markdown":"I want to edit the item name by accessing a certain index, but my problem is when I try to edit the name of index 2 \r\nindex 1 is editing not index 2\r\nhere is my output\r\n```java\r\nif (choice2 == 1) {\r\n    System.out.print(&quot;Enter Item name: &quot;);\r\n    String itm = scan.next();\r\n    System.out.print(&quot;Enter Item unit: &quot;);\r\n    int unit = scan.nextInt();\r\n    System.out.print(&quot;Enter Item quantity: &quot;);\r\n    int qty = scan.nextInt();\r\n    item.add(new Materials(itm, unit, qty));\r\n    System.out.println(itm + &quot; &quot; + unit + &quot; &quot; + qty + &quot; Successfully added!&quot;);\r\n    // edit item name\r\n} else if (choice2 == 2) {\r\n    System.out.println(&quot;----------------------&quot;);\r\n    System.out.println(&quot;Edit Materials &quot;);\r\n    System.out.println(&quot;----------------------&quot;);\r\n    System.out.print(&quot;Enter Item index: &quot;);\r\n    int item_index = scan.nextInt();\r\n    System.out.print(&quot;Enter new name of the item: &quot;);\r\n    String newitem = scan.next();\r\n    for (Materials m : item) {\r\n        m.setItem_name(newitem);\r\n        System.out.println(&quot;Item  -&gt;&quot; + m.getItem_name() + &quot; Successfully updated! &quot;);\r\n        break;\r\n    }// view all item in inventory\r\n```\r\nI want to edit name of the indexes.\r\nhere is the output\r\n```none\r\n (1) ADD MATERIALS\r\n (2) EDIT MATERIALS\r\n (3) VIEW MATERIAL\r\n (4) Exit\r\nEnter your choice: 3\r\n-------------------------------------------------------------------------\r\nUnique_Id\tItem_name\t\tUnit\t\tQuantity\r\n-------------------------------------------------------------------------\r\n1:\t\tfish\t\t\t2\t\t312\r\n2:\t\tcangoods\t\t\t3\t\t123\r\n\r\n-------------------------------------------------------------------------\r\n\r\n (1) ADD MATERIALS\r\n (2) EDIT MATERIALS\r\n (3) VIEW MATERIAL\r\n (4) Exit\r\nEnter your choice: 2\r\n----------------------\r\nEdit Materials \r\n----------------------\r\nEnter Item index: 2\r\nEnter new name of the item: python\r\nItem  -&gt;python Successfully updated! \r\n\r\n (1) ADD MATERIALS\r\n (2) EDIT MATERIALS\r\n (3) VIEW MATERIAL\r\n (4) Exit\r\nEnter your choice: 3\r\n-------------------------------------------------------------------------\r\nUnique_Id\tItem_name\t\tUnit\t\tQuantity\r\n-------------------------------------------------------------------------\r\n1:\t\tpython\t\t\t2\t\t312\r\n2:\t\tcangoods\t\t\t3\t\t123\r\n\r\n-------------------------------------------------------------------------\r\n\r\n (1) ADD MATERIALS\r\n (2) EDIT MATERIALS\r\n (3) VIEW MATERIAL\r\n (4) Exit\r\nEnter your choice: \r\n```\r\n ","title":"I want to edit specific item name in my inventory through accessing certain index, my problem is here","body":"<p>I want to edit the item name by accessing a certain index, but my problem is when I try to edit the name of index 2\nindex 1 is editing not index 2\nhere is my output</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (choice2 == 1) {\n    System.out.print(&quot;Enter Item name: &quot;);\n    String itm = scan.next();\n    System.out.print(&quot;Enter Item unit: &quot;);\n    int unit = scan.nextInt();\n    System.out.print(&quot;Enter Item quantity: &quot;);\n    int qty = scan.nextInt();\n    item.add(new Materials(itm, unit, qty));\n    System.out.println(itm + &quot; &quot; + unit + &quot; &quot; + qty + &quot; Successfully added!&quot;);\n    // edit item name\n} else if (choice2 == 2) {\n    System.out.println(&quot;----------------------&quot;);\n    System.out.println(&quot;Edit Materials &quot;);\n    System.out.println(&quot;----------------------&quot;);\n    System.out.print(&quot;Enter Item index: &quot;);\n    int item_index = scan.nextInt();\n    System.out.print(&quot;Enter new name of the item: &quot;);\n    String newitem = scan.next();\n    for (Materials m : item) {\n        m.setItem_name(newitem);\n        System.out.println(&quot;Item  -&gt;&quot; + m.getItem_name() + &quot; Successfully updated! &quot;);\n        break;\n    }// view all item in inventory\n</code></pre>\n<p>I want to edit name of the indexes.\nhere is the output</p>\n<pre class=\"lang-none prettyprint-override\"><code> (1) ADD MATERIALS\n (2) EDIT MATERIALS\n (3) VIEW MATERIAL\n (4) Exit\nEnter your choice: 3\n-------------------------------------------------------------------------\nUnique_Id   Item_name       Unit        Quantity\n-------------------------------------------------------------------------\n1:      fish            2       312\n2:      cangoods            3       123\n\n-------------------------------------------------------------------------\n\n (1) ADD MATERIALS\n (2) EDIT MATERIALS\n (3) VIEW MATERIAL\n (4) Exit\nEnter your choice: 2\n----------------------\nEdit Materials \n----------------------\nEnter Item index: 2\nEnter new name of the item: python\nItem  -&gt;python Successfully updated! \n\n (1) ADD MATERIALS\n (2) EDIT MATERIALS\n (3) VIEW MATERIAL\n (4) Exit\nEnter your choice: 3\n-------------------------------------------------------------------------\nUnique_Id   Item_name       Unit        Quantity\n-------------------------------------------------------------------------\n1:      python          2       312\n2:      cangoods            3       123\n\n-------------------------------------------------------------------------\n\n (1) ADD MATERIALS\n (2) EDIT MATERIALS\n (3) VIEW MATERIAL\n (4) Exit\nEnter your choice: \n</code></pre>\n"},{"tags":["java","android","android-emulator","androidx","searchview"],"comments":[{"owner":{"account_id":3472982,"reputation":176,"user_id":2906883,"accept_rate":57,"display_name":"Pandiri Deepak"},"score":0,"creation_date":1676085916,"post_id":74858413,"comment_id":133072306,"body_markdown":"Any solution for this.. for me its happening to only itel devices in kenya..","body":"Any solution for this.. for me its happening to only itel devices in kenya.."}],"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671510117,"creation_date":1671508886,"question_id":74858413,"body_markdown":"I am making app and I used search view to filter data from recyclerview. Search bar run smoothly in my app with android 11 phone. However, When I change to Android 6.0 phone, my app crashed as below error:\r\n\r\n     Caused by: android.view.InflateException: Binary XML file line #58: Binary XML file line #58: Error inflating class androidx.appcompat.widget.SearchView\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.tonyapp.rabbitfarm.MainActivity.onCreate(MainActivity.java:57)\r\n        at android.app.Activity.performCreate(Activity.java:6237)\r\n\r\nI created search bar in xml as below:\r\n\r\n     &lt;androidx.appcompat.widget.SearchView\r\n        android:id=&quot;@+id/searchView_home&quot;\r\n        android:textDirection=&quot;ltr&quot;\r\n\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:layout_below=&quot;@id/tlbar&quot;\r\n\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;@dimen/_8sdp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n\r\n\r\n        android:background=&quot;@drawable/searchview&quot;\r\n        app:iconifiedByDefault=&quot;false&quot;\r\n\r\n\r\n        app:queryHint=&quot;@string/queryhint&quot;\r\n        app:searchHintIcon=&quot;@drawable/search_ic&quot;\r\n        app:searchIcon=&quot;@drawable/ic_timkiem&quot;&gt;\r\n\r\n    &lt;/androidx.appcompat.widget.SearchView&gt;\r\n\r\nI made search bar code in java as below:\r\n\r\n    \r\n        searchView_home= findViewById(R.id.searchView_home);\r\n        EditText txtSearch = ((EditText)searchView_home.findViewById(androidx.appcompat.R.id.search_src_text));\r\n        txtSearch.setHint(getResources().getString(R.string.queryhint));\r\n        txtSearch.setHintTextColor(Color.BLACK);\r\n        txtSearch.setTextColor(Color.BLACK);\r\n\r\n        ((EditText) searchView_home.findViewById(androidx.appcompat.R.id.search_src_text))\r\n                .setHintTextColor(getResources().getColor(R.color.black));\r\n\r\n\r\n     searchView_home.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String newText) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                filter(newText);\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\nI tried to migrate my app to androidx as a suggestion from solution of other people at menu bar/refactor/migrate to android X. Unfortunately, the crash still persist. Please help me fix this  error.","title":"Error inflating class androidx.appcompat.widget.SearchView","body":"<p>I am making app and I used search view to filter data from recyclerview. Search bar run smoothly in my app with android 11 phone. However, When I change to Android 6.0 phone, my app crashed as below error:</p>\n<pre><code> Caused by: android.view.InflateException: Binary XML file line #58: Binary XML file line #58: Error inflating class androidx.appcompat.widget.SearchView\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n    at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n    at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n    at com.tonyapp.rabbitfarm.MainActivity.onCreate(MainActivity.java:57)\n    at android.app.Activity.performCreate(Activity.java:6237)\n</code></pre>\n<p>I created search bar in xml as below:</p>\n<pre><code> &lt;androidx.appcompat.widget.SearchView\n    android:id=&quot;@+id/searchView_home&quot;\n    android:textDirection=&quot;ltr&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:layout_below=&quot;@id/tlbar&quot;\n\n    android:layout_marginStart=&quot;8dp&quot;\n    android:layout_marginTop=&quot;@dimen/_8sdp&quot;\n    android:layout_marginEnd=&quot;8dp&quot;\n\n\n    android:background=&quot;@drawable/searchview&quot;\n    app:iconifiedByDefault=&quot;false&quot;\n\n\n    app:queryHint=&quot;@string/queryhint&quot;\n    app:searchHintIcon=&quot;@drawable/search_ic&quot;\n    app:searchIcon=&quot;@drawable/ic_timkiem&quot;&gt;\n\n&lt;/androidx.appcompat.widget.SearchView&gt;\n</code></pre>\n<p>I made search bar code in java as below:</p>\n<pre><code>    searchView_home= findViewById(R.id.searchView_home);\n    EditText txtSearch = ((EditText)searchView_home.findViewById(androidx.appcompat.R.id.search_src_text));\n    txtSearch.setHint(getResources().getString(R.string.queryhint));\n    txtSearch.setHintTextColor(Color.BLACK);\n    txtSearch.setTextColor(Color.BLACK);\n\n    ((EditText) searchView_home.findViewById(androidx.appcompat.R.id.search_src_text))\n            .setHintTextColor(getResources().getColor(R.color.black));\n\n\n searchView_home.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String newText) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            filter(newText);\n            return true;\n        }\n    });\n</code></pre>\n<p>I tried to migrate my app to androidx as a suggestion from solution of other people at menu bar/refactor/migrate to android X. Unfortunately, the crash still persist. Please help me fix this  error.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671510069,"creation_date":1671510069,"answer_id":74858496,"question_id":74858333,"body_markdown":"you can use your own image chooser, then pass in the selected Uri. \r\n\r\nyou can refer to https://android-arsenal.com/details/1/3487 for more examples.  \r\n\r\nthe specific code to use is here: -\r\n\r\n    // start cropping activity for pre-acquired image saved on the device\r\n    CropImage.activity(imageUri)\r\n     .start(this);\r\n","title":"Using image attachment only from gallery","body":"<p>you can use your own image chooser, then pass in the selected Uri.</p>\n<p>you can refer to <a href=\"https://android-arsenal.com/details/1/3487\" rel=\"nofollow noreferrer\">https://android-arsenal.com/details/1/3487</a> for more examples.</p>\n<p>the specific code to use is here: -</p>\n<pre><code>// start cropping activity for pre-acquired image saved on the device\nCropImage.activity(imageUri)\n .start(this);\n</code></pre>\n"}],"owner":{"account_id":18634928,"reputation":1,"user_id":13582063,"display_name":"Daniel Haniyansa Salim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671510069,"creation_date":1671507837,"question_id":74858333,"body_markdown":"My team using plugin from https://github.com/ArthurHub/Android-Image-Cropper for Image Attachment so after input image (whether it from Camera or Gallery) it can automatically redirect to Crop the selected Image.\r\n\r\nIs there any way for disabled Camera Input for Image attachment, so it only attached the image only from gallery and other sources but not from Camera (by disabling or hide the option)? I&#39;ve been searching the option for disabled the Camera menu, but nothing comes out of it.\r\nThank you.","title":"Using image attachment only from gallery","body":"<p>My team using plugin from <a href=\"https://github.com/ArthurHub/Android-Image-Cropper\" rel=\"nofollow noreferrer\">https://github.com/ArthurHub/Android-Image-Cropper</a> for Image Attachment so after input image (whether it from Camera or Gallery) it can automatically redirect to Crop the selected Image.</p>\n<p>Is there any way for disabled Camera Input for Image attachment, so it only attached the image only from gallery and other sources but not from Camera (by disabling or hide the option)? I've been searching the option for disabled the Camera menu, but nothing comes out of it.\nThank you.</p>\n"},{"tags":["java","bit-shift","primitive-types"],"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1429319264,"post_id":29682355,"comment_id":47558974,"body_markdown":"All arithmetic operations on a `char`, `byte` or `short` promote to `int` first.","body":"All arithmetic operations on a <code>char</code>, <code>byte</code> or <code>short</code> promote to <code>int</code> first."}],"answers":[{"comments":[{"owner":{"account_id":2226614,"reputation":153,"user_id":1965211,"display_name":"zhangfx"},"score":0,"creation_date":1560757143,"post_id":29682481,"comment_id":99825736,"body_markdown":"&quot; when promotion to int&quot;\n\nthis means convert byte to int:  `(int)varB`. Although their values are the same, the binary changes a lot.","body":"&quot; when promotion to int&quot;  this means convert byte to int:  <code>(int)varB</code>. Although their values are the same, the binary changes a lot."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1429206921,"creation_date":1429206921,"answer_id":29682481,"question_id":29682355,"body_markdown":"The reason is the sign extension associated with the numeric promotion to `int` that occurs when bit-shifting.  The value `varB` is promoted to `int` before shifting.  The unsigned bit-shift to the right does occur, but its effects are dropped when casting back to `byte`, which only keeps the last 8 bits:\r\n\r\n    varB (byte)     : 11111111\r\n    promoted to int : 11111111 11111111 11111111 11111111\r\n    shift right 6   : 00000011 11111111 11111111 11111111\r\n    cast to byte    : 11111111\r\n\r\nYou can use the bitwise-and operator `&amp;` to mask out the unwanted bits before shifting.  Bit-anding with `0xFF` keeps only the 8 least significant bits.\r\n\r\n    varB = (byte) ((varB &amp; 0xFF) &gt;&gt;&gt; 6);\r\n\r\nHere&#39;s what happens now:\r\n\r\n    varB (byte)     : 11111111\r\n    promoted to int : 11111111 11111111 11111111 11111111\r\n    bit-and mask    : 00000000 00000000 00000000 11111111\r\n    shift right 6   : 00000000 00000000 00000000 00000011\r\n    cast to byte    : 00000011","title":"Why Java unsigned bit shifting for a negative byte is so strange?","body":"<p>The reason is the sign extension associated with the numeric promotion to <code>int</code> that occurs when bit-shifting.  The value <code>varB</code> is promoted to <code>int</code> before shifting.  The unsigned bit-shift to the right does occur, but its effects are dropped when casting back to <code>byte</code>, which only keeps the last 8 bits:</p>\n\n<pre><code>varB (byte)     : 11111111\npromoted to int : 11111111 11111111 11111111 11111111\nshift right 6   : 00000011 11111111 11111111 11111111\ncast to byte    : 11111111\n</code></pre>\n\n<p>You can use the bitwise-and operator <code>&amp;</code> to mask out the unwanted bits before shifting.  Bit-anding with <code>0xFF</code> keeps only the 8 least significant bits.</p>\n\n<pre><code>varB = (byte) ((varB &amp; 0xFF) &gt;&gt;&gt; 6);\n</code></pre>\n\n<p>Here's what happens now:</p>\n\n<pre><code>varB (byte)     : 11111111\npromoted to int : 11111111 11111111 11111111 11111111\nbit-and mask    : 00000000 00000000 00000000 11111111\nshift right 6   : 00000000 00000000 00000000 00000011\ncast to byte    : 00000011\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429209530,"creation_date":1429207066,"answer_id":29682536,"question_id":29682355,"body_markdown":"Because thats how *shifting* for bytes in java is defined in the language: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.19.\r\n\r\nThe gist is that types smaller than *int* are silently widened to int, shifted and then narrowed back.\r\n\r\nWhich makes your single line effectively the equivalent of:\r\n\r\n    byte b = -1;      // 1111_1111\r\n    int temp = b;     // 1111_1111_1111_1111_1111_1111_1111_1111\r\n    temp &gt;&gt;&gt;= 6;      // 0000_0011_1111_1111_1111_1111_1111_1111\r\n    b = (byte) temp;  // 1111_1111\r\n\r\nTo shift just the byte you need to make the widening conversion explicitly yourself with unsigned semantics (and the narrowing conversion needs to be manually, too):\r\n\r\n    byte b = -1;          // 1111_1111\r\n    int temp = b &amp; 0xFF;  // 0000_0000_0000_0000_0000_0000_1111_1111\r\n    temp &gt;&gt;&gt;= 6;          // 0000_0000_0000_0000_0000_0000_0000_0011\r\n    b = (byte) temp;      // 0000_0011\r\n","title":"Why Java unsigned bit shifting for a negative byte is so strange?","body":"<p>Because thats how <em>shifting</em> for bytes in java is defined in the language: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.19\" rel=\"nofollow\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.19</a>.</p>\n\n<p>The gist is that types smaller than <em>int</em> are silently widened to int, shifted and then narrowed back.</p>\n\n<p>Which makes your single line effectively the equivalent of:</p>\n\n<pre><code>byte b = -1;      // 1111_1111\nint temp = b;     // 1111_1111_1111_1111_1111_1111_1111_1111\ntemp &gt;&gt;&gt;= 6;      // 0000_0011_1111_1111_1111_1111_1111_1111\nb = (byte) temp;  // 1111_1111\n</code></pre>\n\n<p>To shift just the byte you need to make the widening conversion explicitly yourself with unsigned semantics (and the narrowing conversion needs to be manually, too):</p>\n\n<pre><code>byte b = -1;          // 1111_1111\nint temp = b &amp; 0xFF;  // 0000_0000_0000_0000_0000_0000_1111_1111\ntemp &gt;&gt;&gt;= 6;          // 0000_0000_0000_0000_0000_0000_0000_0011\nb = (byte) temp;      // 0000_0011\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4224404,"reputation":395,"user_id":3458267,"display_name":"PianoMastR64"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671509991,"creation_date":1671509991,"answer_id":74858489,"question_id":29682355,"body_markdown":"One problem with the [top answer](https://stackoverflow.com/a/29682481/3458267) is that, although it works correctly for unsigned `&gt;&gt;&gt;` right shift, it doesn&#39;t for signed `&gt;&gt;` right shift. This is because `&gt;&gt;` depends on the sign bit (the one farthest to the left) which moves when it&#39;s promoted to `int`. This means when you use `&gt;&gt;`, you&#39;ll get `00000011` when you might expect `11111111`. If you want a trick that works for both, try shifting left by 24, doing your chosen right shift, then shifting back to the right by 24. That way your byte data&#39;s sign bit is in the right place.\r\n\r\n```\r\nvarB = (byte) (varB &lt;&lt; 24 &gt;&gt; 6 &gt;&gt; 24);\r\n```\r\n\r\nI&#39;ve [bracketed] the sign bit. Here&#39;s what&#39;s happening:\r\n```\r\nvarB (byte)          : [1]1111111\r\npromoted to int      : [1]1111111 11111111 11111111 11111111\r\nshift left 24        : [1]1111111 00000000 00000000 00000000\r\nsigned shift right 6 : [1]1111111 11111100 00000000 00000000\r\nshift right 24       : [1]1111111 11111111 11111111 11111111\r\ncast to byte         : [1]1111111\r\n```\r\n\r\nHere you can see it also works for `&gt;&gt;&gt;`:\r\n```\r\nvarB = (byte) (varB &lt;&lt; 24 &gt;&gt;&gt; 6 &gt;&gt; 24);\r\n```\r\n```\r\nvarB (byte)            : [1]1111111\r\npromoted to int        : [1]1111111 11111111 11111111 11111111\r\nshift left 24          : [1]1111111 00000000 00000000 00000000\r\nunsigned shift right 6 : [0]0000011 11111100 00000000 00000000\r\nshift right 24         : [0]0000000 00000000 00000000 00000011\r\ncast to byte           : [0]0000011\r\n```\r\n\r\nThis costs more operations for the convenience of not having to remember the rules about which one you should and shouldn&#39;t bitmask. So use whatever solution works for you.\r\n\r\nBtw, it&#39;s good to know that `short` is also promoted to int which means everything in these answers applies to it as well. The only difference is that you shift left/right by 16, and the bitmask is `0xFFFF`.","title":"Why Java unsigned bit shifting for a negative byte is so strange?","body":"<p>One problem with the <a href=\"https://stackoverflow.com/a/29682481/3458267\">top answer</a> is that, although it works correctly for unsigned <code>&gt;&gt;&gt;</code> right shift, it doesn't for signed <code>&gt;&gt;</code> right shift. This is because <code>&gt;&gt;</code> depends on the sign bit (the one farthest to the left) which moves when it's promoted to <code>int</code>. This means when you use <code>&gt;&gt;</code>, you'll get <code>00000011</code> when you might expect <code>11111111</code>. If you want a trick that works for both, try shifting left by 24, doing your chosen right shift, then shifting back to the right by 24. That way your byte data's sign bit is in the right place.</p>\n<pre><code>varB = (byte) (varB &lt;&lt; 24 &gt;&gt; 6 &gt;&gt; 24);\n</code></pre>\n<p>I've [bracketed] the sign bit. Here's what's happening:</p>\n<pre><code>varB (byte)          : [1]1111111\npromoted to int      : [1]1111111 11111111 11111111 11111111\nshift left 24        : [1]1111111 00000000 00000000 00000000\nsigned shift right 6 : [1]1111111 11111100 00000000 00000000\nshift right 24       : [1]1111111 11111111 11111111 11111111\ncast to byte         : [1]1111111\n</code></pre>\n<p>Here you can see it also works for <code>&gt;&gt;&gt;</code>:</p>\n<pre><code>varB = (byte) (varB &lt;&lt; 24 &gt;&gt;&gt; 6 &gt;&gt; 24);\n</code></pre>\n<pre><code>varB (byte)            : [1]1111111\npromoted to int        : [1]1111111 11111111 11111111 11111111\nshift left 24          : [1]1111111 00000000 00000000 00000000\nunsigned shift right 6 : [0]0000011 11111100 00000000 00000000\nshift right 24         : [0]0000000 00000000 00000000 00000011\ncast to byte           : [0]0000011\n</code></pre>\n<p>This costs more operations for the convenience of not having to remember the rules about which one you should and shouldn't bitmask. So use whatever solution works for you.</p>\n<p>Btw, it's good to know that <code>short</code> is also promoted to int which means everything in these answers applies to it as well. The only difference is that you shift left/right by 16, and the bitmask is <code>0xFFFF</code>.</p>\n"}],"owner":{"account_id":3072521,"reputation":1252,"user_id":2602807,"accept_rate":41,"display_name":"user2602807"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29682481,"answer_count":3,"score":6,"last_activity_date":1671509991,"creation_date":1429206569,"question_id":29682355,"body_markdown":"I have a byte variable:\r\n\r\n    byte varB = (byte) -1; // binary view: 1111 1111\r\n\r\nI want to see the two left-most bits and do an ***unsigned right shift*** of 6 digits:\r\n\r\n    varB = (byte) (varB &gt;&gt;&gt; 6);\r\n\r\nBut I&#39;m getting ***-1*** as if it was int type, and getting ***3*** only if I shift for 30! \r\n\r\nHow can I work around this and get the result only with a 6-digit shift?\r\n","title":"Why Java unsigned bit shifting for a negative byte is so strange?","body":"<p>I have a byte variable:</p>\n\n<pre><code>byte varB = (byte) -1; // binary view: 1111 1111\n</code></pre>\n\n<p>I want to see the two left-most bits and do an <strong><em>unsigned right shift</em></strong> of 6 digits:</p>\n\n<pre><code>varB = (byte) (varB &gt;&gt;&gt; 6);\n</code></pre>\n\n<p>But I'm getting <strong><em>-1</em></strong> as if it was int type, and getting <strong><em>3</em></strong> only if I shift for 30! </p>\n\n<p>How can I work around this and get the result only with a 6-digit shift?</p>\n"},{"tags":["java","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671509288,"creation_date":1671509288,"answer_id":74858443,"question_id":74858126,"body_markdown":"Firstly, you need to flatten the nested lists into a stream of `Discount`:\r\n\r\n    var discountStream = order.external().stream().flatMap(e -&gt; e.discount().stream());\r\n\r\nNow you can collect the stream into a map using an accumulator that sum the discount values of each discount code:\r\n\r\n    return discountStream.collect(Collectors.toMap(Discount::discountCode, Discount::discountAmount, (existing, replacement) -&gt; existing + replacement));\r\n\r\n[Minimal working example](https://godbolt.org/z/bsahdKPcE)","title":"Java Stream - Iterate list and inner list , sum up a value in the inner list and group by a key in the inner list","body":"<p>Firstly, you need to flatten the nested lists into a stream of <code>Discount</code>:</p>\n<pre><code>var discountStream = order.external().stream().flatMap(e -&gt; e.discount().stream());\n</code></pre>\n<p>Now you can collect the stream into a map using an accumulator that sum the discount values of each discount code:</p>\n<pre><code>return discountStream.collect(Collectors.toMap(Discount::discountCode, Discount::discountAmount, (existing, replacement) -&gt; existing + replacement));\n</code></pre>\n<p><a href=\"https://godbolt.org/z/bsahdKPcE\" rel=\"nofollow noreferrer\">Minimal working example</a></p>\n"}],"owner":{"account_id":63056,"reputation":1645,"user_id":186896,"accept_rate":85,"display_name":"SyAu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74858443,"answer_count":1,"score":-1,"last_activity_date":1671509288,"creation_date":1671505090,"question_id":74858126,"body_markdown":"I have this data structure, \r\n\r\nOrder has a list of &#39;External&#39;, which inturn has &#39;Discount&#39; list. \r\n\r\n\r\n\r\n    Order\r\n    External 1\r\n        Discount 1 (discountCode &#39;discount1&#39; , discountAmount 100)\r\n        Discount 2 (discountCode &#39;discount2&#39; , discountAmount 10)\r\n    External 2\r\n        Discount 1 (discountCode &#39;discount1&#39; , discountAmount 110)\r\n\r\n**Code Snipet**&lt;br /&gt;\r\n\r\n        External external1 = new External();\r\n        Discount d1 = new Discount();\r\n        d1.setDiscountAmount(100);\r\n        d1.setDiscountCode(&quot;discount1&quot;);\r\n        Discount d2 = new Discount();\r\n        d2.setDiscountAmount(10);\r\n        d2.setDiscountCode(&quot;discount2&quot;);\r\n        external1.setDiscount(Arrays.asList(d1,d2));\r\n\r\n        External external2 = new External();\r\n        Discount d3 = new Discount();\r\n        d3.setDiscountAmount(110);\r\n        d3.setDiscountCode(&quot;discount1&quot;);\r\n        external2.setDiscount(Arrays.asList(d3));\r\n\r\n        Order order = new Order()\r\n        order.setExternal(Arrays.asList(external1,external2));\r\n\r\n\r\nI need to iterate &#39;External&#39; list , group by &#39;discountCode&#39; and sum up &#39;discountAmount&#39; of all items in the &#39;External&#39; list . Finally, would like to get result in a Map&lt;String, Integer&gt; like,&lt;br /&gt; \r\nkey discount1  value 210&lt;br /&gt;\r\nkey discount2  value 10\r\n\r\nUsing Stream , How could I iterate all elements in the list, group by discount code and sum up discount values?","title":"Java Stream - Iterate list and inner list , sum up a value in the inner list and group by a key in the inner list","body":"<p>I have this data structure,</p>\n<p>Order has a list of 'External', which inturn has 'Discount' list.</p>\n<pre><code>Order\nExternal 1\n    Discount 1 (discountCode 'discount1' , discountAmount 100)\n    Discount 2 (discountCode 'discount2' , discountAmount 10)\nExternal 2\n    Discount 1 (discountCode 'discount1' , discountAmount 110)\n</code></pre>\n<p><strong>Code Snipet</strong><br /></p>\n<pre><code>    External external1 = new External();\n    Discount d1 = new Discount();\n    d1.setDiscountAmount(100);\n    d1.setDiscountCode(&quot;discount1&quot;);\n    Discount d2 = new Discount();\n    d2.setDiscountAmount(10);\n    d2.setDiscountCode(&quot;discount2&quot;);\n    external1.setDiscount(Arrays.asList(d1,d2));\n\n    External external2 = new External();\n    Discount d3 = new Discount();\n    d3.setDiscountAmount(110);\n    d3.setDiscountCode(&quot;discount1&quot;);\n    external2.setDiscount(Arrays.asList(d3));\n\n    Order order = new Order()\n    order.setExternal(Arrays.asList(external1,external2));\n</code></pre>\n<p>I need to iterate 'External' list , group by 'discountCode' and sum up 'discountAmount' of all items in the 'External' list . Finally, would like to get result in a Map&lt;String, Integer&gt; like,<br />\nkey discount1  value 210<br />\nkey discount2  value 10</p>\n<p>Using Stream , How could I iterate all elements in the list, group by discount code and sum up discount values?</p>\n"},{"tags":["java","spring-boot","jsp"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1671486505,"post_id":74856355,"comment_id":132105992,"body_markdown":"Have you tried `@GetMapping(&quot;/Dashboard.jsp&quot;)`?","body":"Have you tried <code>@GetMapping(&quot;&#47;Dashboard.jsp&quot;)</code>?"},{"owner":{"account_id":7768575,"reputation":934,"user_id":5878986,"accept_rate":43,"display_name":"Bertug"},"score":0,"creation_date":1671486906,"post_id":74856355,"comment_id":132106106,"body_markdown":"Yes @CryptoFool","body":"Yes @CryptoFool"},{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":1,"creation_date":1671490573,"post_id":74856355,"comment_id":132106870,"body_markdown":"yes alone isn&#39;t really helpful, explain what&#39;s the issue with @CryptoFool&#39;s suggestion. Also, please provide any kind of exceptions/errors you encountered, _I cannot handle..._ isn&#39;t really helpful.","body":"yes alone isn&#39;t really helpful, explain what&#39;s the issue with @CryptoFool&#39;s suggestion. Also, please provide any kind of exceptions/errors you encountered, <i>I cannot handle...</i> isn&#39;t really helpful."},{"owner":{"account_id":7768575,"reputation":934,"user_id":5878986,"accept_rate":43,"display_name":"Bertug"},"score":0,"creation_date":1671508432,"post_id":74856355,"comment_id":132109344,"body_markdown":"I am getting 404, I have just edited question with your suggestion. @Mr.Typo","body":"I am getting 404, I have just edited question with your suggestion. @Mr.Typo"}],"owner":{"account_id":7768575,"reputation":934,"user_id":5878986,"accept_rate":43,"display_name":"Bertug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671508377,"creation_date":1671486364,"question_id":74856355,"body_markdown":"I have a spring boot project but, I have some links from past and users are linking url on their websites and I cannot request client to change their urls. I am trying to navigate jsp link to React app. I have just found a solution but I got stuck.\r\n\r\nHere is the link example: **abc/Dashboard.jsp#/company/88**\r\n\r\nI am **handling abc/Dashbord** but I cannot handle abc/Dasboard.jsp to navigate a jsp page.\r\n\r\nThere is my handling endpoint;\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;&quot;)\r\n    public class DashboardController {\r\n        @GetMapping(&quot;/Dashboard&quot;)\r\n        public String viewBooks() {\r\n            return &quot;view-dashboard&quot;;\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/Dashboard.jsp&quot;)\r\n    public String viewBooks2() {\r\n        return &quot;view-dashboard&quot;;\r\n    }\r\n\r\nMy Jsp Page\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;e-ŞİRKET&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    &lt;script&gt;\r\n        const url = window.location.href.split(&#39;/&#39;)\r\n    \r\n        if(url &amp;&amp; url.length &gt; 0) {\r\n            const id = url[url.length -1]\r\n            if(id) {\r\n                window.location.replace(window.location.origin + &#39;?page=company&amp;company=&#39; + id)\r\n            }\r\n        }\r\n    \r\n    &lt;/script&gt;\r\n\r\nIt is working for abc/Dashboard#company/88 but;\r\n how I can handle abc/Dashboard.jsp#/company/123. I am getting 404.","title":"How to handle Dot Char in Url Mapping","body":"<p>I have a spring boot project but, I have some links from past and users are linking url on their websites and I cannot request client to change their urls. I am trying to navigate jsp link to React app. I have just found a solution but I got stuck.</p>\n<p>Here is the link example: <strong>abc/Dashboard.jsp#/company/88</strong></p>\n<p>I am <strong>handling abc/Dashbord</strong> but I cannot handle abc/Dasboard.jsp to navigate a jsp page.</p>\n<p>There is my handling endpoint;</p>\n<pre><code>@Controller\n@RequestMapping(&quot;&quot;)\npublic class DashboardController {\n    @GetMapping(&quot;/Dashboard&quot;)\n    public String viewBooks() {\n        return &quot;view-dashboard&quot;;\n    }\n}\n\n@GetMapping(&quot;/Dashboard.jsp&quot;)\npublic String viewBooks2() {\n    return &quot;view-dashboard&quot;;\n}\n</code></pre>\n<p>My Jsp Page</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;e-ŞİRKET&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;script&gt;\n    const url = window.location.href.split('/')\n\n    if(url &amp;&amp; url.length &gt; 0) {\n        const id = url[url.length -1]\n        if(id) {\n            window.location.replace(window.location.origin + '?page=company&amp;company=' + id)\n        }\n    }\n\n&lt;/script&gt;\n</code></pre>\n<p>It is working for abc/Dashboard#company/88 but;\nhow I can handle abc/Dashboard.jsp#/company/123. I am getting 404.</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671502543,"post_id":74857861,"comment_id":132108613,"body_markdown":"I don&#39;t know anything about Processing, but in Java, a line of code like `mainGame = new Gameboard(25,25);` must be either inside a method, or inside a constructor, or part of an initialiser (so you could declare `private mainGame = new Gameboard(25,25);` for example).","body":"I don&#39;t know anything about Processing, but in Java, a line of code like <code>mainGame = new Gameboard(25,25);</code> must be either inside a method, or inside a constructor, or part of an initialiser (so you could declare <code>private mainGame = new Gameboard(25,25);</code> for example)."},{"owner":{"account_id":27302732,"reputation":3,"user_id":20819180,"display_name":"Owen Cai"},"score":0,"creation_date":1671502785,"post_id":74857861,"comment_id":132108644,"body_markdown":"Thanks for commenting, but it seems that adding a &quot;private&quot; does not help, the same error still appears","body":"Thanks for commenting, but it seems that adding a &quot;private&quot; does not help, the same error still appears"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671502934,"post_id":74857861,"comment_id":132108662,"body_markdown":"Please read the tag wikis for the tags that you use.  Specifically, the `[computer-science]` tag wiki says: &quot;Computer science (CS) is the science behind programming. *Use for questions related to the more theoretical questions involving programming.*&quot;.  I&#39;m sure that you will agree that there is nothing theoretical in the question you asked.  (I have removed it.)","body":"Please read the tag wikis for the tags that you use.  Specifically, the <code>[computer-science]</code> tag wiki says: &quot;Computer science (CS) is the science behind programming. <i>Use for questions related to the more theoretical questions involving programming.</i>&quot;.  I&#39;m sure that you will agree that there is nothing theoretical in the question you asked.  (I have removed it.)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671503082,"post_id":74857861,"comment_id":132108675,"body_markdown":"The other problem is that your example is too fragmentary for us to be sure that we understand your question ... and for us to give a clear answer that **you** can understand.  Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"The other problem is that your example is too fragmentary for us to be sure that we understand your question ... and for us to give a clear answer that <b>you</b> can understand.  Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671503447,"post_id":74857861,"comment_id":132108703,"body_markdown":"FWIW - I think that Dawood&#39;s diagnosis is correct.  But you have misinterpreted his suggestion.  It is not a *complete* fix ... or necessarily even the *correct* fix.  This is implied when he says &quot;for example&quot;!! Unfortunately, we can&#39;t tell you the correct fix without more information; see above.","body":"FWIW - I think that Dawood&#39;s diagnosis is correct.  But you have misinterpreted his suggestion.  It is not a <i>complete</i> fix ... or necessarily even the <i>correct</i> fix.  This is implied when he says &quot;for example&quot;!! Unfortunately, we can&#39;t tell you the correct fix without more information; see above."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671504110,"post_id":74857861,"comment_id":132108787,"body_markdown":"No, my suggestion had a typo (and it&#39;s too late to change it now).  I meant to write `private Gameboard mainGame =  new Gameboard(25, 25);` - but what I was trying to say was, make this an initialiser, not just an assignment.","body":"No, my suggestion had a typo (and it&#39;s too late to change it now).  I meant to write <code>private Gameboard mainGame =  new Gameboard(25, 25);</code> - but what I was trying to say was, make this an initialiser, not just an assignment."},{"owner":{"account_id":27302732,"reputation":3,"user_id":20819180,"display_name":"Owen Cai"},"score":0,"creation_date":1671504123,"post_id":74857861,"comment_id":132108790,"body_markdown":"Sorry for wrong tags, I have edited my codes on the above, with the word limitation I deleted the minesweeper rules part but saved the problematic part. I tried Dawood&#39;s method but it seems the problem changes to null pointer exception.And also apologize for the poor understanding, Im still new to Processing and just began using it for a week","body":"Sorry for wrong tags, I have edited my codes on the above, with the word limitation I deleted the minesweeper rules part but saved the problematic part. I tried Dawood&#39;s method but it seems the problem changes to null pointer exception.And also apologize for the poor understanding, Im still new to Processing and just began using it for a week"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671504803,"post_id":74857861,"comment_id":132108880,"body_markdown":"As  general rule - if making a change looks like it changed one problem into another, it means that you had two problems initially, and you fixed just one of them.","body":"As  general rule - if making a change looks like it changed one problem into another, it means that you had two problems initially, and you fixed just one of them."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1671506241,"post_id":74857861,"comment_id":132109041,"body_markdown":"Really the only thing that was missing was a type for `mainGame`. You never said what object type it has, so you can&#39;t assign anything to it. `Gameboard mainGame = ...` solves the error you&#39;re getting, because it&#39;s 100% correct: there is a glaring error near `mainGame = ...` =)","body":"Really the only thing that was missing was a type for <code>mainGame</code>. You never said what object type it has, so you can&#39;t assign anything to it. <code>Gameboard mainGame = ...</code> solves the error you&#39;re getting, because it&#39;s 100% correct: there is a glaring error near <code>mainGame = ...</code> =)"}],"answers":[{"comments":[{"owner":{"account_id":27302732,"reputation":3,"user_id":20819180,"display_name":"Owen Cai"},"score":0,"creation_date":1671504747,"post_id":74858059,"comment_id":132108868,"body_markdown":"Thanks for replying. I made changes according to your answer and strangely there is still nullpointer exception. I checked through all other methods and they seems all initialized somehow.","body":"Thanks for replying. I made changes according to your answer and strangely there is still nullpointer exception. I checked through all other methods and they seems all initialized somehow."},{"owner":{"account_id":27302732,"reputation":3,"user_id":20819180,"display_name":"Owen Cai"},"score":0,"creation_date":1671504958,"post_id":74858059,"comment_id":132108892,"body_markdown":"I deleted all other parts and the code now works fine!! Thanks for the help, I am now troubleshooting on other parts","body":"I deleted all other parts and the code now works fine!! Thanks for the help, I am now troubleshooting on other parts"},{"owner":{"account_id":27302732,"reputation":3,"user_id":20819180,"display_name":"Owen Cai"},"score":0,"creation_date":1671505227,"post_id":74858059,"comment_id":132108930,"body_markdown":"Sure, let me find out how to do that","body":"Sure, let me find out how to do that"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1671506360,"post_id":74858059,"comment_id":132109066,"body_markdown":"Note that the reason this works is that you didn&#39;t just rearrange it, you also changed to to actually _solve_ the original problem: you turned it from `mainGame` into `Gameboard mainGame`, which is what the error was about. You can&#39;t have untyped variables in Processing.","body":"Note that the reason this works is that you didn&#39;t just rearrange it, you also changed to to actually <i>solve</i> the original problem: you turned it from <code>mainGame</code> into <code>Gameboard mainGame</code>, which is what the error was about. You can&#39;t have untyped variables in Processing."}],"tags":[],"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671504361,"creation_date":1671504361,"answer_id":74858059,"question_id":74857861,"body_markdown":"Processing is a java based language: https://processing.org\r\n\r\nThe following re-arrangement of your code should run without error:\r\n```\r\nclass Gameboard {\r\n  int gameWidth;\r\n  int gameHeight;\r\n  int[][] gameBoard;\r\n\r\n  Gameboard(int w, int h) {\r\n    gameWidth = w;\r\n    gameHeight = h;\r\n    int[][] gameBoard = new int[w][h];\r\n  }\r\n  \r\n  void generateMines(){\r\n    \r\n  }\r\n}\r\n\r\nGameboard mainGame;\r\n\r\n  int totalMines = 0;\r\n  int lossX = -1;\r\n  int lossY = -1;\r\n  boolean gameWin = false;\r\n  \r\nvoid setup() {\r\n  size(600, 360);\r\n  ellipseMode(CENTER);\r\n  rectMode(CORNER);\r\n  textSize(14);\r\n  mainGame = new Gameboard(25, 25);\r\n  // initiate the board by rolling the mines randomly.\r\n  mainGame.generateMines();\r\n}\r\n\r\nvoid draw(){\r\n  \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Processing error: Possible error on variable assignment near ‘mainGame=’","body":"<p>Processing is a java based language: <a href=\"https://processing.org\" rel=\"nofollow noreferrer\">https://processing.org</a></p>\n<p>The following re-arrangement of your code should run without error:</p>\n<pre><code>class Gameboard {\n  int gameWidth;\n  int gameHeight;\n  int[][] gameBoard;\n\n  Gameboard(int w, int h) {\n    gameWidth = w;\n    gameHeight = h;\n    int[][] gameBoard = new int[w][h];\n  }\n  \n  void generateMines(){\n    \n  }\n}\n\nGameboard mainGame;\n\n  int totalMines = 0;\n  int lossX = -1;\n  int lossY = -1;\n  boolean gameWin = false;\n  \nvoid setup() {\n  size(600, 360);\n  ellipseMode(CENTER);\n  rectMode(CORNER);\n  textSize(14);\n  mainGame = new Gameboard(25, 25);\n  // initiate the board by rolling the mines randomly.\n  mainGame.generateMines();\n}\n\nvoid draw(){\n  \n}\n\n</code></pre>\n"}],"owner":{"account_id":27302732,"reputation":3,"user_id":20819180,"display_name":"Owen Cai"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74858059,"answer_count":1,"score":0,"last_activity_date":1671507743,"creation_date":1671501958,"question_id":74857861,"body_markdown":"I wrote a gameand used the following code\r\n\r\n\r\n\r\n\r\n\r\n\r\n    class Gameboard {\r\n      int gameWidth;\r\n      int gameHeight;\r\n      int[][] gameBoard;\r\n      public Gameboard(int w, int h){\r\n        this.gameWidth = w;\r\n        this.gameHeight = h;\r\n        int[][] gameBoard = new int[w][h];\r\n      }\r\n  \r\n    }\r\n\r\n    int totalMines;\r\n    \r\n    \r\n    boolean firstPlay;\r\n    \r\n    \r\n    boolean gameWin;\r\n    \r\n    \r\n    \r\n    int lossX, lossY;\r\n    \r\n    mainGame = new Gameboard(30,16);\r\n    void setup()\r\n    {\r\n        size(600,360);\r\n        ellipseMode(CENTER);\r\n        rectMode(CORNER);\r\n        textSize(14);\r\n        totalMines = 0;\r\n        lossX = -1;\r\n        lossY = -1;\r\n        gameWin = false;\r\n        mainGame.generateMines();\r\n    }\r\n    \r\n    \r\n    void draw()\r\n    {\r\n        \r\n    }\r\n\r\n\r\n\r\nand as I am trying to run the game with setup like this:\r\n\r\n\r\n\r\nProcessing gives me error saying&quot; Possible error on variable assignment near ‘mainGame=’&quot;\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf I reverse the order of mainGame= and setup, the error becomes &quot;Missing operator, semicolon, or ‘}’ near ‘setup’?&quot; Can someone help me on this?\r\n\r\nEdit: This is the whole code that I made following a tutorial, and based on comments I have tried to insert mainGame=new Gameboard into setup() but it won&#39;t work.","title":"Processing error: Possible error on variable assignment near ‘mainGame=’","body":"<p>I wrote a gameand used the following code</p>\n<pre><code>class Gameboard {\n  int gameWidth;\n  int gameHeight;\n  int[][] gameBoard;\n  public Gameboard(int w, int h){\n    this.gameWidth = w;\n    this.gameHeight = h;\n    int[][] gameBoard = new int[w][h];\n  }\n\n}\n\nint totalMines;\n\n\nboolean firstPlay;\n\n\nboolean gameWin;\n\n\n\nint lossX, lossY;\n\nmainGame = new Gameboard(30,16);\nvoid setup()\n{\n    size(600,360);\n    ellipseMode(CENTER);\n    rectMode(CORNER);\n    textSize(14);\n    totalMines = 0;\n    lossX = -1;\n    lossY = -1;\n    gameWin = false;\n    mainGame.generateMines();\n}\n\n\nvoid draw()\n{\n    \n}\n</code></pre>\n<p>and as I am trying to run the game with setup like this:</p>\n<p>Processing gives me error saying&quot; Possible error on variable assignment near ‘mainGame=’&quot;</p>\n<p>If I reverse the order of mainGame= and setup, the error becomes &quot;Missing operator, semicolon, or ‘}’ near ‘setup’?&quot; Can someone help me on this?</p>\n<p>Edit: This is the whole code that I made following a tutorial, and based on comments I have tried to insert mainGame=new Gameboard into setup() but it won't work.</p>\n"},{"tags":["java","date","parsing","rfc2822"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":3,"creation_date":1268777424,"post_id":2458524,"comment_id":2447206,"body_markdown":"Have you tried using `java.text.SimpleDateFormat`?","body":"Have you tried using <code>java.text.SimpleDateFormat</code>?"},{"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"score":0,"creation_date":1268779100,"post_id":2458524,"comment_id":2447369,"body_markdown":"That looks like the right one to use, I was worried about what the correct format string was as well, it looked like something that would be easy to mess up.  This appears to be the right string for RFC 2822 though: &quot;EEE, d MMM yyyy HH:mm:ss Z&quot; (as per the answer below)","body":"That looks like the right one to use, I was worried about what the correct format string was as well, it looked like something that would be easy to mess up.  This appears to be the right string for RFC 2822 though: &quot;EEE, d MMM yyyy HH:mm:ss Z&quot; (as per the answer below)"},{"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"score":0,"creation_date":1268780565,"post_id":2458524,"comment_id":2447519,"body_markdown":"Thats wild, I took that off the official SimpleDateFormat page.  Its technically correct for their example, but still wrong: http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\n\nThanks for giving me a heads up, that is what I had in my code.","body":"Thats wild, I took that off the official SimpleDateFormat page.  Its technically correct for their example, but still wrong: <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/text/&hellip;</a>  Thanks for giving me a heads up, that is what I had in my code."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1544705863,"post_id":2458524,"comment_id":94376367,"body_markdown":"Source of the standard: [Internet Message Format](https://www.ietf.org/rfc/rfc2822.txt), scroll down to section *3.3. Date and Time Specification*.","body":"Source of the standard: <a href=\"https://www.ietf.org/rfc/rfc2822.txt\" rel=\"nofollow noreferrer\">Internet Message Format</a>, scroll down to section <i>3.3. Date and Time Specification</i>."}],"answers":[{"comments":[{"owner":{"account_id":7291708,"reputation":3515,"user_id":5557885,"accept_rate":54,"display_name":"rajadilipkolli"},"score":0,"creation_date":1473154199,"post_id":2458581,"comment_id":66020727,"body_markdown":"use this link http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html for latest acceptable values","body":"use this link <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/text/&hellip;</a> for latest acceptable values"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1596224101,"post_id":2458581,"comment_id":111754240,"body_markdown":"FYI, this Answer is now outdated. The `SimpleDateFormat` and `Date` classes were supplanted years ago by the modern *java.time* classes defined in JSR 310. See [the Answer by pathfinder78](https://stackoverflow.com/a/53758647/642706).","body":"FYI, this Answer is now outdated. The <code>SimpleDateFormat</code> and <code>Date</code> classes were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310. See <a href=\"https://stackoverflow.com/a/53758647/642706\">the Answer by pathfinder78</a>."}],"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":2,"down_vote_count":2,"up_vote_count":29,"is_accepted":true,"score":27,"last_activity_date":1464366438,"creation_date":1268777962,"answer_id":2458581,"question_id":2458524,"body_markdown":"This is quick code that does what you ask (using **[SimpleDateFormat][1]**)\r\n\r\n    String rfcDate = &quot;Sat, 13 Mar 2010 11:29:05 -0800&quot;;\r\n    String pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;;\r\n    SimpleDateFormat format = new SimpleDateFormat(pattern);\r\n    Date javaDate = format.parse(rfcDate);\r\n\r\n    //Done.\r\n\r\n\r\nPS. I&#39;ve not dealt with exceptions and concurrency here (as SimpleDateFormat is not synchronized when parsing date).\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html","title":"Parsing RFC 2822 date in JAVA","body":"<p>This is quick code that does what you ask (using <strong><a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a></strong>)</p>\n\n<pre><code>String rfcDate = \"Sat, 13 Mar 2010 11:29:05 -0800\";\nString pattern = \"EEE, dd MMM yyyy HH:mm:ss Z\";\nSimpleDateFormat format = new SimpleDateFormat(pattern);\nDate javaDate = format.parse(rfcDate);\n\n//Done.\n</code></pre>\n\n<p>PS. I've not dealt with exceptions and concurrency here (as SimpleDateFormat is not synchronized when parsing date).</p>\n"},{"comments":[{"owner":{"account_id":236302,"reputation":609,"user_id":503689,"display_name":"jason gilbert"},"score":4,"creation_date":1347991329,"post_id":5567629,"comment_id":16793450,"body_markdown":"Setting the Locale is definitely required.  The android javadoc for Locale suggests using Locale.US for computer-to-computer communication.  [link](https://developer.android.com/reference/java/util/Locale.html)","body":"Setting the Locale is definitely required.  The android javadoc for Locale suggests using Locale.US for computer-to-computer communication.  <a href=\"https://developer.android.com/reference/java/util/Locale.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1362470947,"post_id":5567629,"comment_id":21450732,"body_markdown":"+1 Locale.ROOT would also be a good choice, but isn&#39;t available on all systems.","body":"+1 Locale.ROOT would also be a good choice, but isn&#39;t available on all systems."},{"owner":{"account_id":583,"reputation":19545,"user_id":751,"accept_rate":83,"display_name":"Adam Tuttle"},"score":0,"creation_date":1378998123,"post_id":5567629,"comment_id":27667603,"body_markdown":"@jasongilbert Can you explain why you say that the Locale &quot;is definitely required&quot;? According to the docs, it&#39;s not: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html -- but maybe you meant &quot;required if...&quot; and it&#39;s the continuation of the &quot;if&quot; that I&#39;m interested in...","body":"@jasongilbert Can you explain why you say that the Locale &quot;is definitely required&quot;? According to the docs, it&#39;s not: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a> -- but maybe you meant &quot;required if...&quot; and it&#39;s the continuation of the &quot;if&quot; that I&#39;m interested in..."},{"owner":{"account_id":236302,"reputation":609,"user_id":503689,"display_name":"jason gilbert"},"score":2,"creation_date":1382202638,"post_id":5567629,"comment_id":28871373,"body_markdown":"@AdamTuttle It&#39;s required if you want your dates to parse properly when the default locale is not US English.  For example, if a user is in Germany the dates would not parse properly with their default Locale.","body":"@AdamTuttle It&#39;s required if you want your dates to parse properly when the default locale is not US English.  For example, if a user is in Germany the dates would not parse properly with their default Locale."}],"tags":[],"owner":{"account_id":186751,"reputation":1187,"user_id":424352,"accept_rate":67,"display_name":"Laurent VB"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1302098628,"creation_date":1302098628,"answer_id":5567629,"question_id":2458524,"body_markdown":"If your application is using another language than English, you may want to force the locale for the date parsing/formatting by using an alternate SimpleDateFormat constructor:\r\n\r\n    String pattern = &quot;EEE, dd MMM yyyy HH:mm:ss Z&quot;;\r\n    SimpleDateFormat format = new SimpleDateFormat(pattern, Locale.ENGLISH);\r\n\r\n","title":"Parsing RFC 2822 date in JAVA","body":"<p>If your application is using another language than English, you may want to force the locale for the date parsing/formatting by using an alternate SimpleDateFormat constructor:</p>\n\n<pre><code>String pattern = \"EEE, dd MMM yyyy HH:mm:ss Z\";\nSimpleDateFormat format = new SimpleDateFormat(pattern, Locale.ENGLISH);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":583,"reputation":19545,"user_id":751,"accept_rate":83,"display_name":"Adam Tuttle"},"score":2,"creation_date":1378998327,"post_id":17404726,"comment_id":27667743,"body_markdown":"+1 for pointing out that the day of week is optional. I&#39;m setting up a waterfall of try/catches with various patterns to just keep trying variations until it finds one that works.","body":"+1 for pointing out that the day of week is optional. I&#39;m setting up a waterfall of try/catches with various patterns to just keep trying variations until it finds one that works."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":1,"creation_date":1440085027,"post_id":17404726,"comment_id":52137326,"body_markdown":"not only the `day-of-week` is optional, also the seconds in time-of-day are declared as optional: `time-of-day = hour &quot;:&quot; minute [ &quot;:&quot; second ]`","body":"not only the <code>day-of-week</code> is optional, also the seconds in time-of-day are declared as optional: <code>time-of-day = hour &quot;:&quot; minute [ &quot;:&quot; second ]</code>"}],"tags":[],"owner":{"account_id":2991506,"reputation":61,"user_id":2539016,"display_name":"Casper"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372682434,"creation_date":1372682434,"answer_id":17404726,"question_id":2458524,"body_markdown":"Please keep in mind that the [day-of-week &quot;,&quot;] is optional in RFC-2822, hence the suggested examples are not covering all RFC-2822 date formats. Additional, the RFC-822 date type allowed many different time zone notations(obs-zone), which are not covered by the &quot;Z&quot; format specifier.\r\n\r\nI guess there is no easy way out, other than looking for &quot;,&quot; and &quot;-|+&quot; to determine which pattern to use.","title":"Parsing RFC 2822 date in JAVA","body":"<p>Please keep in mind that the [day-of-week \",\"] is optional in RFC-2822, hence the suggested examples are not covering all RFC-2822 date formats. Additional, the RFC-822 date type allowed many different time zone notations(obs-zone), which are not covered by the \"Z\" format specifier.</p>\n\n<p>I guess there is no easy way out, other than looking for \",\" and \"-|+\" to determine which pattern to use.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1596224208,"post_id":53758647,"comment_id":111754288,"body_markdown":"Good answer for the parsing. But I no not recommending ever converting a `ZonedDateTime` to `LocalDateTime`. In doing so you are discarding valuable information, the time zone, with *nothing gained* in return. Like an amount of money without the context of a particular currency, a `LocalDateTime` is ambiguous, and therefore cannot represent a moment.","body":"Good answer for the parsing. But I no not recommending ever converting a <code>ZonedDateTime</code> to <code>LocalDateTime</code>. In doing so you are discarding valuable information, the time zone, with <i>nothing gained</i> in return. Like an amount of money without the context of a particular currency, a <code>LocalDateTime</code> is ambiguous, and therefore cannot represent a moment."}],"tags":[],"owner":{"account_id":9621696,"reputation":71,"user_id":7142715,"display_name":"pathfinder78"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596224263,"creation_date":1544693251,"answer_id":53758647,"question_id":2458524,"body_markdown":"# `DateTimeFormatter.RFC_1123_DATE_TIME `\r\n\r\nSince Java 8 new datetime classes were implemented: `java.time.ZonedDateTime` and `java.time.LocalDateTime`. `ZonedDateTime` supports the parsing of RFC strings nearly out of the box:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    String rfcDate = &quot;Tue, 4 Dec 2018 17:37:31 +0100 (CET)&quot;;  \r\n    if (rfcDate.matches(&quot;.*[ ]\\\\(\\\\w\\\\w\\\\w\\\\)$&quot;)) {\r\n        //Brackets with time zone are added sometimes, for example by JavaMail\r\n        //This must be removed before parsing\r\n        //from: &quot;Tue, 4 Dec 2018 17:37:31 +0100 (CET)&quot;\r\n        //  to: &quot;Tue, 4 Dec 2018 17:37:31 +0100&quot;\r\n        rfcDate = rfcDate.substring(0, rfcDate.length() - 6);\r\n    }\r\n\r\n    //and now parsing... \r\n    DateTimeFormatter dateFormat = DateTimeFormatter.RFC_1123_DATE_TIME;\r\n    try {\r\n        ZonedDateTime zoned = ZonedDateTime.parse(rfcDate, dateFormat);\r\n        LocalDateTime local = zoned.toLocalDateTime();        \r\n    } catch (DateTimeParseException e) { ... }\r\n\r\n","title":"Parsing RFC 2822 date in JAVA","body":"<h1><code>DateTimeFormatter.RFC_1123_DATE_TIME </code></h1>\n<p>Since Java 8 new datetime classes were implemented: <code>java.time.ZonedDateTime</code> and <code>java.time.LocalDateTime</code>. <code>ZonedDateTime</code> supports the parsing of RFC strings nearly out of the box:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rfcDate = &quot;Tue, 4 Dec 2018 17:37:31 +0100 (CET)&quot;;  \nif (rfcDate.matches(&quot;.*[ ]\\\\(\\\\w\\\\w\\\\w\\\\)$&quot;)) {\n    //Brackets with time zone are added sometimes, for example by JavaMail\n    //This must be removed before parsing\n    //from: &quot;Tue, 4 Dec 2018 17:37:31 +0100 (CET)&quot;\n    //  to: &quot;Tue, 4 Dec 2018 17:37:31 +0100&quot;\n    rfcDate = rfcDate.substring(0, rfcDate.length() - 6);\n}\n\n//and now parsing... \nDateTimeFormatter dateFormat = DateTimeFormatter.RFC_1123_DATE_TIME;\ntry {\n    ZonedDateTime zoned = ZonedDateTime.parse(rfcDate, dateFormat);\n    LocalDateTime local = zoned.toLocalDateTime();        \n} catch (DateTimeParseException e) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596191968,"creation_date":1596191968,"answer_id":63190314,"question_id":2458524,"body_markdown":"There is a javax.mail class that perform the parsing of RFC-2822 dates :\r\n\r\n[javax.mail.internet.MailDateFormat][1]\r\n\r\nincluding the optional and obsolete formats.\r\n\r\nJust do :\r\n\r\n    new javax.mail.internet.MailDateFormat().parse(&quot;Sat, 13 Mar 2010 11:29:00 -0800&quot;)\r\n    new javax.mail.internet.MailDateFormat().parse(&quot;13 Mar 2010 11:29:00 -0800&quot;)\r\n    new javax.mail.internet.MailDateFormat().parse(&quot;13 Mar 2010 11:29 -0800&quot;)\r\n\r\nIt will correctly parse these valid RFC-2822 dates\r\n\r\nAs for other old DateFormatters, the `MailDateFormat` class is not thread safe.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/mail/internet/MailDateFormat.html","title":"Parsing RFC 2822 date in JAVA","body":"<p>There is a javax.mail class that perform the parsing of RFC-2822 dates :</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/mail/internet/MailDateFormat.html\" rel=\"nofollow noreferrer\">javax.mail.internet.MailDateFormat</a></p>\n<p>including the optional and obsolete formats.</p>\n<p>Just do :</p>\n<pre><code>new javax.mail.internet.MailDateFormat().parse(&quot;Sat, 13 Mar 2010 11:29:00 -0800&quot;)\nnew javax.mail.internet.MailDateFormat().parse(&quot;13 Mar 2010 11:29:00 -0800&quot;)\nnew javax.mail.internet.MailDateFormat().parse(&quot;13 Mar 2010 11:29 -0800&quot;)\n</code></pre>\n<p>It will correctly parse these valid RFC-2822 dates</p>\n<p>As for other old DateFormatters, the <code>MailDateFormat</code> class is not thread safe.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671475426,"post_id":74853183,"comment_id":132102942,"body_markdown":"While correct this is answering the opposite question. This question was about parsing from a string to an `OffsetDateTme` (or other date-time object). Thanks for your contribution.","body":"While correct this is answering the opposite question. This question was about parsing from a string to an <code>OffsetDateTme</code> (or other date-time object). Thanks for your contribution."},{"owner":{"account_id":9605548,"reputation":56,"user_id":7131705,"display_name":"Serhii D"},"score":0,"creation_date":1671564274,"post_id":74853183,"comment_id":132125221,"body_markdown":"Happy to help. This is the only correct option in my case that the email verification system accepted. I tried other options. I settled on this one.","body":"Happy to help. This is the only correct option in my case that the email verification system accepted. I tried other options. I settled on this one."}],"tags":[],"owner":{"account_id":9605548,"reputation":56,"user_id":7131705,"display_name":"Serhii D"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671507341,"creation_date":1671466709,"answer_id":74853183,"question_id":2458524,"body_markdown":"Try this:\r\n\r\n```java\r\nString dateTime = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME); \r\n//RFC_1123 == RFC_2822\r\n```","title":"Parsing RFC 2822 date in JAVA","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dateTime = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME); \n//RFC_1123 == RFC_2822\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671483472,"creation_date":1671470065,"answer_id":74853786,"question_id":2458524,"body_markdown":"RFC 2822 date-time string contains timezone offset e.g. the given string *Sat, 13 Mar 2010 11:29:05 -0800* has a timezone offset of -08:00 hours from UTC i.e. the equivalent date-time at UTC can be obtained by adding 8 hours to *Sat, 13 Mar 2010 11:29:05*.\r\n\r\njava.time\r\n--\r\n\r\nThe [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) API has `OffsetDateTime` to represent a date-time with timezone offset.\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String strRFC2822DateTimeStr = &quot;Sat, 13 Mar 2010 11:29:05 -0800&quot;;\r\n    \r\n            OffsetDateTime odt = OffsetDateTime.parse(strRFC2822DateTimeStr, DateTimeFormatter.RFC_1123_DATE_TIME);\r\n            System.out.println(odt);\r\n    \r\n            // Alternatively: using a custom DateTimeFormatter\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM uuuu HH:mm:ss XX&quot;, Locale.ENGLISH);\r\n            System.out.println(OffsetDateTime.parse(strRFC2822DateTimeStr, parser));\r\n    \r\n            // In case you need the equivalent date-time at UTC\r\n            OffsetDateTime odtUtc = odt.withOffsetSameInstant(ZoneOffset.UTC);\r\n            System.out.println(odtUtc);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2010-03-13T11:29:05-08:00\r\n    2010-03-13T11:29:05-08:00\r\n    2010-03-13T19:29:05Z\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n**Some useful links**:\r\n 1. [Never use SimpleDateFormat or DateTimeFormatter without a Locale](https://stackoverflow.com/a/65544056/10819573).\r\n 2. You can use `y` instead of `u` but [I prefer `u` to `y`](https://stackoverflow.com/a/65928023/10819573).\r\n 3. [How to use `OffsetDateTime` with JDBC](https://stackoverflow.com/a/67752047/10819573).","title":"Parsing RFC 2822 date in JAVA","body":"<p>RFC 2822 date-time string contains timezone offset e.g. the given string <em>Sat, 13 Mar 2010 11:29:05 -0800</em> has a timezone offset of -08:00 hours from UTC i.e. the equivalent date-time at UTC can be obtained by adding 8 hours to <em>Sat, 13 Mar 2010 11:29:05</em>.</p>\n<h2>java.time</h2>\n<p>The <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> API has <code>OffsetDateTime</code> to represent a date-time with timezone offset.</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String strRFC2822DateTimeStr = &quot;Sat, 13 Mar 2010 11:29:05 -0800&quot;;\n\n        OffsetDateTime odt = OffsetDateTime.parse(strRFC2822DateTimeStr, DateTimeFormatter.RFC_1123_DATE_TIME);\n        System.out.println(odt);\n\n        // Alternatively: using a custom DateTimeFormatter\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM uuuu HH:mm:ss XX&quot;, Locale.ENGLISH);\n        System.out.println(OffsetDateTime.parse(strRFC2822DateTimeStr, parser));\n\n        // In case you need the equivalent date-time at UTC\n        OffsetDateTime odtUtc = odt.withOffsetSameInstant(ZoneOffset.UTC);\n        System.out.println(odtUtc);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2010-03-13T11:29:05-08:00\n2010-03-13T11:29:05-08:00\n2010-03-13T19:29:05Z\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<p><strong>Some useful links</strong>:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use SimpleDateFormat or DateTimeFormatter without a Locale</a>.</li>\n<li>You can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer <code>u</code> to <code>y</code></a>.</li>\n<li><a href=\"https://stackoverflow.com/a/67752047/10819573\">How to use <code>OffsetDateTime</code> with JDBC</a>.</li>\n</ol>\n"}],"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16375,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":2458581,"answer_count":7,"score":21,"last_activity_date":1671507341,"creation_date":1268777320,"question_id":2458524,"body_markdown":"I need to parse an RFC 2822 string representation of a date in Java.  An example string is here:\r\n\r\n&gt; Sat, 13 Mar 2010 11:29:05 -0800\r\n\r\nIt looks pretty nasty so I wanted to make sure I was doing everything right and would run into weird problems later with the date being interpreted wrong either through AM-PM/Military time problems, UTC time problems, problems I don&#39;t anticipate, etc...\r\n\r\nThanks!","title":"Parsing RFC 2822 date in JAVA","body":"<p>I need to parse an RFC 2822 string representation of a date in Java.  An example string is here:</p>\n\n<blockquote>\n  <p>Sat, 13 Mar 2010 11:29:05 -0800</p>\n</blockquote>\n\n<p>It looks pretty nasty so I wanted to make sure I was doing everything right and would run into weird problems later with the date being interpreted wrong either through AM-PM/Military time problems, UTC time problems, problems I don't anticipate, etc...</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1671909697,"post_id":74858300,"comment_id":132196447,"body_markdown":"can you put what did you try so far to github ?","body":"can you put what did you try so far to github ?"},{"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"score":0,"creation_date":1672381467,"post_id":74858300,"comment_id":132278833,"body_markdown":"unfortunately, I cannot put this up on github, however, what I did which really wasn&#39;t the best case for this. I ended up creating a composite key since that was the only examples I could find online","body":"unfortunately, I cannot put this up on github, however, what I did which really wasn&#39;t the best case for this. I ended up creating a composite key since that was the only examples I could find online"}],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671507321,"creation_date":1671507321,"question_id":74858300,"body_markdown":"I have a view that I am trying to access from a postgres database.  The view does not contain a primary key, nor do the columns singly or compositely act as candidates for a primary key.  The many articles I have read propose using uuid, but since I cannot modify the view this is not an option.\r\n\r\nAnother thing I have read is mapping the view to a POJO class, but I am not quite sure I understand what that means.\r\n\r\nFor example, let&#39;s say for simplicity&#39;s sake I have a view that has the following information:\r\n\r\nfirst_name\r\nlast_name\r\nDOB\r\n\r\nHow would I map this view to a POJO class to now contain all the above information plus an ID which can serve as a primary key?  It&#39;s important to note, that I should not in any way modify the view in anyway. I assume since it&#39;s a view I wouldn&#39;t be able to.  If the view had an ID/PK I would just use the annotation @IMMUTABLE and have only getters.  \r\n\r\nDoes this approach mean I am duplicating information in a new table with data from the view for the sole purpose of adding a primary key? \r\n\r\nIf these are the only two solutions available, can a list of steps be provided to implement the second solution? \r\n\r\nFinally, is there a better way I can achieve querying a view without a primary key, than the two solutions mentioned above?","title":"Querying a database view in Postgres without a primary key using Spring JPA","body":"<p>I have a view that I am trying to access from a postgres database.  The view does not contain a primary key, nor do the columns singly or compositely act as candidates for a primary key.  The many articles I have read propose using uuid, but since I cannot modify the view this is not an option.</p>\n<p>Another thing I have read is mapping the view to a POJO class, but I am not quite sure I understand what that means.</p>\n<p>For example, let's say for simplicity's sake I have a view that has the following information:</p>\n<p>first_name\nlast_name\nDOB</p>\n<p>How would I map this view to a POJO class to now contain all the above information plus an ID which can serve as a primary key?  It's important to note, that I should not in any way modify the view in anyway. I assume since it's a view I wouldn't be able to.  If the view had an ID/PK I would just use the annotation @IMMUTABLE and have only getters.</p>\n<p>Does this approach mean I am duplicating information in a new table with data from the view for the sole purpose of adding a primary key?</p>\n<p>If these are the only two solutions available, can a list of steps be provided to implement the second solution?</p>\n<p>Finally, is there a better way I can achieve querying a view without a primary key, than the two solutions mentioned above?</p>\n"},{"tags":["java","javafx","responsive"],"comments":[{"owner":{"account_id":10843903,"reputation":3,"user_id":7974170,"display_name":"Ironmomo"},"score":0,"creation_date":1671467268,"post_id":74848595,"comment_id":132100165,"body_markdown":"Problem can now be reproduced","body":"Problem can now be reproduced"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1671469646,"post_id":74848595,"comment_id":132101049,"body_markdown":"`hBox.setMinSize(0,0)`?","body":"<code>hBox.setMinSize(0,0)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671507085,"creation_date":1671507085,"answer_id":74858287,"question_id":74848595,"body_markdown":"According to the [documentation for `HBox`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/HBox.html), the minimum width of a `HBox` is computed as:\r\n\r\n&gt; left/right insets plus the sum of each child&#39;s min width plus spacing between each child\r\n\r\nIf you want the `HBox` to be able to be sized smaller than that, you should explicitly replace its minimum width (and probably height too):\r\n\r\n    hBox.setMinSize(0, 0);\r\n\r\n\r\nThis allows the `HBox` to be made smaller, as can be seen by portions of the margin being visible after resizing:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNote that a `BorderPane` will not clip the content by default. Again, referring to the [documentation](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html):\r\n\r\n&gt; BorderPane does not clip its content by default\r\n\r\nThis is why you see the rectangles being painted over the top of the margin in the screenshot above. \r\n\r\nFixing this is a little trickier. You can create a `Rectangle` to use as the clip for the `HBox`, ensuring the width and height of the clip match the width and height of the `HBox`. \r\n\r\nYou can do\r\n\r\n        HBox hBox = new HBox();\r\n        Rectangle clip = new Rectangle();\r\n        hBox.setClip(clip);\r\n        clip.widthProperty().bind(hBox.widthProperty());\r\n        clip.heightProperty().bind(hBox.heightProperty());\r\n\r\nor (probably better):\r\n\r\n        HBox hBox = new HBox() {\r\n            Rectangle clip = new Rectangle();\r\n            {\r\n                setClip(clip);\r\n            }\r\n            @Override\r\n            protected void layoutChildren() {\r\n                clip.setWidth(getWidth());\r\n                clip.setHeight(getHeight());\r\n                super.layoutChildren();\r\n            }\r\n        };\r\n\r\nEither of these gives\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eVIbF.png\r\n  [2]: https://i.stack.imgur.com/21upb.png\r\n  [3]: https://i.stack.imgur.com/9u1NY.png","title":"Resize HBox regardless of its content","body":"<p>According to the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/HBox.html\" rel=\"nofollow noreferrer\">documentation for <code>HBox</code></a>, the minimum width of a <code>HBox</code> is computed as:</p>\n<blockquote>\n<p>left/right insets plus the sum of each child's min width plus spacing between each child</p>\n</blockquote>\n<p>If you want the <code>HBox</code> to be able to be sized smaller than that, you should explicitly replace its minimum width (and probably height too):</p>\n<pre><code>hBox.setMinSize(0, 0);\n</code></pre>\n<p>This allows the <code>HBox</code> to be made smaller, as can be seen by portions of the margin being visible after resizing:</p>\n<p><a href=\"https://i.stack.imgur.com/eVIbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVIbF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/21upb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/21upb.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that a <code>BorderPane</code> will not clip the content by default. Again, referring to the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>BorderPane does not clip its content by default</p>\n</blockquote>\n<p>This is why you see the rectangles being painted over the top of the margin in the screenshot above.</p>\n<p>Fixing this is a little trickier. You can create a <code>Rectangle</code> to use as the clip for the <code>HBox</code>, ensuring the width and height of the clip match the width and height of the <code>HBox</code>.</p>\n<p>You can do</p>\n<pre><code>    HBox hBox = new HBox();\n    Rectangle clip = new Rectangle();\n    hBox.setClip(clip);\n    clip.widthProperty().bind(hBox.widthProperty());\n    clip.heightProperty().bind(hBox.heightProperty());\n</code></pre>\n<p>or (probably better):</p>\n<pre><code>    HBox hBox = new HBox() {\n        Rectangle clip = new Rectangle();\n        {\n            setClip(clip);\n        }\n        @Override\n        protected void layoutChildren() {\n            clip.setWidth(getWidth());\n            clip.setHeight(getHeight());\n            super.layoutChildren();\n        }\n    };\n</code></pre>\n<p>Either of these gives</p>\n<p><a href=\"https://i.stack.imgur.com/9u1NY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9u1NY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10843903,"reputation":3,"user_id":7974170,"display_name":"Ironmomo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74858287,"answer_count":1,"score":0,"last_activity_date":1671507085,"creation_date":1671442498,"question_id":74848595,"body_markdown":"**Situation**\r\nI&#39;m using a BoarderPane where its center is a HBox. The HBox itself contains dynamically created Rectangles.\r\n\r\nThe empty HBox grows and shrinks like expected when resizing the Stage.\r\n\r\nBut as soon as the HBox contains Rectangles, the HBox looses the ability to shrink. It can only shrink to the point where its content is still being displayed.\r\n\r\nHow can I keep the behavior shown in an empty HBox? \r\nHow can I make the HBox shrink without considering if the content has enough space or not?\r\nThe resizing of the Rectangles will be managed by the programmer with a Listener on the Hboxes width and height Property. The listener works aslong as the size of the hbox is enough to display all of the rectangle\r\n\r\nI guess there are two options to solve this: 1. Make HBox ignore Childs (Rectangles) visabilty 2. Make Rectangles auto ajust to its Parent(HBox) size without having to write a Listener yourself\r\n\r\n\r\n**Reproduce Problem**\r\n1. Setup JavaFX Application\r\n2. Use following code to generate GUI\r\n3. Resize the Window with the mouse and see behavior\r\n```\r\npublic class App extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        BorderPane root = new BorderPane();\r\n        HBox hBox = new HBox();\r\n        hBox.setBackground(new Background(new BackgroundFill(Color.BLUE,null,null)));\r\n        BorderPane.setMargin(hBox,new Insets(20,20,20,20));\r\n        root.setCenter(hBox);\r\n\r\n        //Adding child makes HBox not shrink if childs can&#39;t be displayed if Stage size is being changed\r\n        Rectangle rectangle = new Rectangle(200,200);\r\n        Rectangle rectangle2 = new Rectangle(200,200);\r\n        HBox.setMargin(rectangle,new Insets(20,20,20,20));\r\n        HBox.setMargin(rectangle2,new Insets(20,20,20,20));\r\n        hBox.getChildren().addAll(List.of(rectangle,rectangle2));\r\n\r\n        VBox left = new VBox();\r\n        left.setBackground(new Background(newBackgroundFill(Color.GREEN,null,null)));\r\n        root.setLeft(left);\r\n        left.setPrefWidth(100);\r\n        primaryStage.setScene(new Scene(root));\r\n\r\n        primaryStage.setWidth(700);\r\n        primaryStage.setHeight(500);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Resize HBox regardless of its content","body":"<p><strong>Situation</strong>\nI'm using a BoarderPane where its center is a HBox. The HBox itself contains dynamically created Rectangles.</p>\n<p>The empty HBox grows and shrinks like expected when resizing the Stage.</p>\n<p>But as soon as the HBox contains Rectangles, the HBox looses the ability to shrink. It can only shrink to the point where its content is still being displayed.</p>\n<p>How can I keep the behavior shown in an empty HBox?\nHow can I make the HBox shrink without considering if the content has enough space or not?\nThe resizing of the Rectangles will be managed by the programmer with a Listener on the Hboxes width and height Property. The listener works aslong as the size of the hbox is enough to display all of the rectangle</p>\n<p>I guess there are two options to solve this: 1. Make HBox ignore Childs (Rectangles) visabilty 2. Make Rectangles auto ajust to its Parent(HBox) size without having to write a Listener yourself</p>\n<p><strong>Reproduce Problem</strong></p>\n<ol>\n<li>Setup JavaFX Application</li>\n<li>Use following code to generate GUI</li>\n<li>Resize the Window with the mouse and see behavior</li>\n</ol>\n<pre><code>public class App extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        BorderPane root = new BorderPane();\n        HBox hBox = new HBox();\n        hBox.setBackground(new Background(new BackgroundFill(Color.BLUE,null,null)));\n        BorderPane.setMargin(hBox,new Insets(20,20,20,20));\n        root.setCenter(hBox);\n\n        //Adding child makes HBox not shrink if childs can't be displayed if Stage size is being changed\n        Rectangle rectangle = new Rectangle(200,200);\n        Rectangle rectangle2 = new Rectangle(200,200);\n        HBox.setMargin(rectangle,new Insets(20,20,20,20));\n        HBox.setMargin(rectangle2,new Insets(20,20,20,20));\n        hBox.getChildren().addAll(List.of(rectangle,rectangle2));\n\n        VBox left = new VBox();\n        left.setBackground(new Background(newBackgroundFill(Color.GREEN,null,null)));\n        root.setLeft(left);\n        left.setPrefWidth(100);\n        primaryStage.setScene(new Scene(root));\n\n        primaryStage.setWidth(700);\n        primaryStage.setHeight(500);\n        primaryStage.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1671507648,"post_id":74858257,"comment_id":132109251,"body_markdown":"REST microservices communicate over REST (HTTP) with each other, i.e. you would have to do something like `POST http://event.app/your/rest/api/createEvent` to issue commands from mainApp to eventApp. There are many ways to do that, from manually using spring&#39;s RestTemplate, any other http client library to autogenerated API clients","body":"REST microservices communicate over REST (HTTP) with each other, i.e. you would have to do something like <code>POST http:&#47;&#47;event.app&#47;your&#47;rest&#47;api&#47;createEvent</code> to issue commands from mainApp to eventApp. There are many ways to do that, from manually using spring&#39;s RestTemplate, any other http client library to autogenerated API clients"}],"owner":{"account_id":9150834,"reputation":337,"user_id":6805470,"display_name":"Richard Garcia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671506698,"creation_date":1671506698,"question_id":74858257,"body_markdown":"I&#39;m kind of new to java / Spring boot,\r\nI&#39;m building a microservice solution and I have two projects, lets&#39;s call both apps mainApp and eventApp\r\n\r\nboth mainApp and eventApp are spring boot web REST API&#39;s.\r\n\r\nthe eventApp has a simple CRUD (@RestController, @Service, @Repository, etc) that manage all the event related stuff.\r\n\r\nfrom the MainApp I need to be able to create, update, fetch the events from the EventApp\r\n\r\nsomething like:\r\n\r\n    Event newEvent = EventApp.EventService.createEvent(...somePayload)\r\nbut I need to keep both EventApp and MainApp as webapps (users should be able to interact with the EventApp CRUD itself)\r\n\r\nhow can I achieve this?","title":"How to use a spring boost web service project from another one","body":"<p>I'm kind of new to java / Spring boot,\nI'm building a microservice solution and I have two projects, lets's call both apps mainApp and eventApp</p>\n<p>both mainApp and eventApp are spring boot web REST API's.</p>\n<p>the eventApp has a simple CRUD (@RestController, @Service, @Repository, etc) that manage all the event related stuff.</p>\n<p>from the MainApp I need to be able to create, update, fetch the events from the EventApp</p>\n<p>something like:</p>\n<pre><code>Event newEvent = EventApp.EventService.createEvent(...somePayload)\n</code></pre>\n<p>but I need to keep both EventApp and MainApp as webapps (users should be able to interact with the EventApp CRUD itself)</p>\n<p>how can I achieve this?</p>\n"},{"tags":["java","jsp","tomcat","jstl"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671504398,"creation_date":1671504398,"answer_id":74858064,"question_id":74858024,"body_markdown":"Use the JSTL `&lt;c:url&gt;` instead of scriptlets.\r\n\r\n```\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n\r\n&lt;a href=&quot;&lt;c:url value=&quot;${forsale.commentUrl}&quot;/&gt;&quot;&gt;${forsale.name}&lt;/a&gt;\r\n```","title":"Encode URL passed to JSTL list item","body":"<p>Use the JSTL <code>&lt;c:url&gt;</code> instead of scriptlets.</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n\n&lt;a href=&quot;&lt;c:url value=&quot;${forsale.commentUrl}&quot;/&gt;&quot;&gt;${forsale.name}&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":17170659,"reputation":155,"user_id":12427876,"display_name":"TaihouKai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74858064,"answer_count":1,"score":1,"last_activity_date":1671504398,"creation_date":1671504000,"question_id":74858024,"body_markdown":"In my tomcat web app, I implemented anti-csrf token like this:\r\n```\r\n&lt;form method=&quot;post&quot; action=&quot;&lt;%=response.encodeURL(&quot;buy&quot;)%&gt;&quot;&gt;\r\n```\r\n\r\nSo, the URL becomes: `http://10.0.0.129:8080/webapp/buy?CSRFToken=3B2D9F4ED12AB2237B690B8E3C4CD234`\r\n\r\nHowever, when I have a `&lt;c:forEach items=&quot;${forsales}&quot; var=&quot;forsale&quot;&gt;`:\r\n```\r\n&lt;c:forEach items=&quot;${forsales}&quot; var=&quot;forsale&quot;&gt;\r\n&lt;tr&gt;\r\n&lt;td align=&quot;center&quot;&gt;${forsale.id}&lt;/td&gt;\r\n&lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;${forsale.commentUrl}&quot;&gt;${forsale.name}&lt;/a&gt;&lt;/td&gt;\r\n&lt;td align=&quot;center&quot;&gt;${forsale.sellerid}&lt;/td&gt;\r\n&lt;td align=&quot;center&quot;&gt;${forsale.seller}&lt;/td&gt;\r\n&lt;td align=&quot;center&quot;&gt;${forsale.description}&lt;/td&gt;\r\n&lt;td align=&quot;center&quot;&gt;&lt;fmt:formatNumber value=&quot;${forsale.price}&quot; type=&quot;currency&quot; /&gt;&lt;/td&gt;\r\n&lt;td align=&quot;center&quot;&gt;${forsale.stock}&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/c:forEach&gt;\r\n```\r\n\r\nHow to encode `&lt;a href=&quot;${forsale.commentUrl}&quot;&gt;`, for the link to include CSRFToken?","title":"Encode URL passed to JSTL list item","body":"<p>In my tomcat web app, I implemented anti-csrf token like this:</p>\n<pre><code>&lt;form method=&quot;post&quot; action=&quot;&lt;%=response.encodeURL(&quot;buy&quot;)%&gt;&quot;&gt;\n</code></pre>\n<p>So, the URL becomes: <code>http://10.0.0.129:8080/webapp/buy?CSRFToken=3B2D9F4ED12AB2237B690B8E3C4CD234</code></p>\n<p>However, when I have a <code>&lt;c:forEach items=&quot;${forsales}&quot; var=&quot;forsale&quot;&gt;</code>:</p>\n<pre><code>&lt;c:forEach items=&quot;${forsales}&quot; var=&quot;forsale&quot;&gt;\n&lt;tr&gt;\n&lt;td align=&quot;center&quot;&gt;${forsale.id}&lt;/td&gt;\n&lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;${forsale.commentUrl}&quot;&gt;${forsale.name}&lt;/a&gt;&lt;/td&gt;\n&lt;td align=&quot;center&quot;&gt;${forsale.sellerid}&lt;/td&gt;\n&lt;td align=&quot;center&quot;&gt;${forsale.seller}&lt;/td&gt;\n&lt;td align=&quot;center&quot;&gt;${forsale.description}&lt;/td&gt;\n&lt;td align=&quot;center&quot;&gt;&lt;fmt:formatNumber value=&quot;${forsale.price}&quot; type=&quot;currency&quot; /&gt;&lt;/td&gt;\n&lt;td align=&quot;center&quot;&gt;${forsale.stock}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n<p>How to encode <code>&lt;a href=&quot;${forsale.commentUrl}&quot;&gt;</code>, for the link to include CSRFToken?</p>\n"},{"tags":["java","string","performance","string-formatting","micro-optimization"],"comments":[{"owner":{"account_id":806,"reputation":123161,"user_id":1053,"accept_rate":81,"display_name":"Ed S."},"score":32,"creation_date":1233785702,"post_id":513600,"comment_id":327345,"body_markdown":"Why don&#39;t you test it?","body":"Why don&#39;t you test it?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1250354239,"post_id":513600,"comment_id":1111634,"body_markdown":"If you are producing this output, then I assume it has to be readable by a human as a rate a human can read it.  Lets say 10 lines per second at most.  I think you will find it really doesn&#39;t matter which approach you take, if it is notionally slower, the user might appreciate it. ;) So no, StringBuilder is not heavyweight in most situations.","body":"If you are producing this output, then I assume it has to be readable by a human as a rate a human can read it.  Lets say 10 lines per second at most.  I think you will find it really doesn&#39;t matter which approach you take, if it is notionally slower, the user might appreciate it. ;) So no, StringBuilder is not heavyweight in most situations."},{"owner":{"account_id":19089,"reputation":5104,"user_id":44437,"display_name":"Air"},"score":11,"creation_date":1284584639,"post_id":513600,"comment_id":3928819,"body_markdown":"@Peter, no it&#39;s absolutely not for reading in real time by humans! It&#39;s there to help analysis when things go wrong. Log output will typically be thousands of lines per second, so it needs to be efficient.","body":"@Peter, no it&#39;s absolutely not for reading in real time by humans! It&#39;s there to help analysis when things go wrong. Log output will typically be thousands of lines per second, so it needs to be efficient."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1284622168,"post_id":513600,"comment_id":3932266,"body_markdown":"if you are producing many thousands of lines per second, I would suggest 1) use shorter text, even no text such as plain CSV, or binary 2) Don&#39;t use String at all, you can write the data into a ByteBuffer without creating any objects (as text or binary) 3) background the writing of data to disk or a socket.  You should be able to sustain around 1 million lines per second. (Basicly as much as your disk subsystem will allow)  You can achive bursts of 10x this.","body":"if you are producing many thousands of lines per second, I would suggest 1) use shorter text, even no text such as plain CSV, or binary 2) Don&#39;t use String at all, you can write the data into a ByteBuffer without creating any objects (as text or binary) 3) background the writing of data to disk or a socket.  You should be able to sustain around 1 million lines per second. (Basicly as much as your disk subsystem will allow)  You can achive bursts of 10x this."},{"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"score":7,"creation_date":1285169619,"post_id":513600,"comment_id":3991193,"body_markdown":"This isn&#39;t relevant to the general case, but for logging in particular, LogBack (written by the original Log4j author) has a form of parameterized logging that addresses this exact problem - http://logback.qos.ch/manual/architecture.html#ParametrizedLogging","body":"This isn&#39;t relevant to the general case, but for logging in particular, LogBack (written by the original Log4j author) has a form of parameterized logging that addresses this exact problem - <a href=\"http://logback.qos.ch/manual/architecture.html#ParametrizedLogging\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/architecture.html#ParametrizedLogging</a>"},{"owner":{"account_id":295281,"reputation":3060,"user_id":599614,"display_name":"sstn"},"score":0,"creation_date":1382687322,"post_id":513600,"comment_id":29065631,"body_markdown":"As a side-note: At least the Harmony/Android implementation of `String.format()` uses a `StringBuilder` internally. So if `String.format()` would be ok, `StringBuilder` alone shall be ok as well.","body":"As a side-note: At least the Harmony/Android implementation of <code>String.format()</code> uses a <code>StringBuilder</code> internally. So if <code>String.format()</code> would be ok, <code>StringBuilder</code> alone shall be ok as well."},{"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"score":0,"creation_date":1671268344,"post_id":513600,"comment_id":132066369,"body_markdown":"After reading the question, ALL the answers, and ALL the comments, I&#39;m still wondering what is best for defining an exception message. :S","body":"After reading the question, ALL the answers, and ALL the comments, I&#39;m still wondering what is best for defining an exception message. :S"}],"answers":[{"tags":[],"owner":{"account_id":4975,"reputation":19183,"user_id":7756,"accept_rate":81,"display_name":"Orion Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233785681,"creation_date":1233785681,"answer_id":513616,"question_id":513600,"body_markdown":"Generally you should use String.Format because it&#39;s relatively fast and it supports globalization (assuming you&#39;re actually trying to write something that is read by the user). It also makes it easier to globalize if you&#39;re trying to translate one string versus 3 or more per statement (especially for languages that have drastically different grammatical structures).\r\n\r\nNow if you never plan on translating anything, then either rely on Java&#39;s built in conversion of + operators into `StringBuilder`. Or use Java&#39;s `StringBuilder` explicitly.","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>Generally you should use String.Format because it's relatively fast and it supports globalization (assuming you're actually trying to write something that is read by the user). It also makes it easier to globalize if you're trying to translate one string versus 3 or more per statement (especially for languages that have drastically different grammatical structures).</p>\n\n<p>Now if you never plan on translating anything, then either rely on Java's built in conversion of + operators into <code>StringBuilder</code>. Or use Java's <code>StringBuilder</code> explicitly.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1233786392,"post_id":513625,"comment_id":327398,"body_markdown":"The bytecode for the second example *surely* calls String.format, but I&#39;d be horrified if a simple concatenation did. Why would the compiler use a format string which would then have to be parsed?","body":"The bytecode for the second example <i>surely</i> calls String.format, but I&#39;d be horrified if a simple concatenation did. Why would the compiler use a format string which would then have to be parsed?"},{"owner":{"account_id":3652,"reputation":16815,"user_id":5287,"accept_rate":76,"display_name":"Yes - that Jake."},"score":0,"creation_date":1233787030,"post_id":513625,"comment_id":327444,"body_markdown":"I used &quot;bytecode&quot; where I should have said &quot;binary code.&quot; When it all comes down to jmps and movs, it may well be the exact same code.","body":"I used &quot;bytecode&quot; where I should have said &quot;binary code.&quot; When it all comes down to jmps and movs, it may well be the exact same code."}],"tags":[],"owner":{"account_id":3652,"reputation":16815,"user_id":5287,"accept_rate":76,"display_name":"Yes - that Jake."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233785765,"creation_date":1233785765,"answer_id":513625,"question_id":513600,"body_markdown":"The answer to this depends very much on how your specific Java compiler optimizes the bytecode it generates. Strings are immutable and, theoretically, each &quot;+&quot; operation can create a new one. But, your compiler almost certainly optimizes away interim steps in building long strings. It&#39;s entirely possible that both lines of code above generate the exact same bytecode.\r\n\r\nThe only real way to know is to test the code iteratively in your current environment. Write a QD app that concatenates strings both ways iteratively and see how they time out against each other.","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>The answer to this depends very much on how your specific Java compiler optimizes the bytecode it generates. Strings are immutable and, theoretically, each \"+\" operation can create a new one. But, your compiler almost certainly optimizes away interim steps in building long strings. It's entirely possible that both lines of code above generate the exact same bytecode.</p>\n\n<p>The only real way to know is to test the code iteratively in your current environment. Write a QD app that concatenates strings both ways iteratively and see how they time out against each other.</p>\n"},{"comments":[{"owner":{"account_id":19089,"reputation":5104,"user_id":44437,"display_name":"Air"},"score":8,"creation_date":1234283859,"post_id":513637,"comment_id":345922,"body_markdown":"Worth pointing out the &quot;related question&quot; is actually C# and hence not applicable.","body":"Worth pointing out the &quot;related question&quot; is actually C# and hence not applicable."},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":0,"creation_date":1434485724,"post_id":513637,"comment_id":49795606,"body_markdown":"which tool did you use to measure memory fragmentation and does fragmentation even make a speed difference for ram?","body":"which tool did you use to measure memory fragmentation and does fragmentation even make a speed difference for ram?"},{"owner":{"account_id":8069003,"reputation":79,"user_id":6082313,"display_name":"Jo&#227;o Rebelo"},"score":0,"creation_date":1476786594,"post_id":513637,"comment_id":67483043,"body_markdown":"It is worth pointing out that the substring method was changed from Java 7 +. It now should return a new String representation containing only the substringed characters. That means that there is no need to return a call String::new","body":"It is worth pointing out that the substring method was changed from Java 7 +. It now should return a new String representation containing only the substringed characters. That means that there is no need to return a call String::new"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":3,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1527207208,"creation_date":1233785904,"answer_id":513637,"question_id":513600,"body_markdown":"In your example, performance probalby isn&#39;t too different but there are other issues to consider: namely memory fragmentation.  Even concatenate operation is creating a new string, even if its temporary (it takes time to GC it and it&#39;s more work).  String.format() is just more readable and it involves less fragmentation.\r\n\r\nAlso, if you&#39;re using a particular format a lot, don&#39;t forget you can use the Formatter() class directly (all String.format() does is instantiate a one use Formatter instance).\r\n\r\nAlso, something else you should be aware of: be careful of using substring().  For example:\r\n\r\n    String getSmallString() {\r\n      String largeString = // load from file; say 2M in size\r\n      return largeString.substring(100, 300);\r\n    }\r\n\r\nThat large string is still in memory because that&#39;s just how Java substrings work.  A better version is:\r\n\r\n      return new String(largeString.substring(100, 300));\r\n\r\nor\r\n\r\n      return String.format(&quot;%s&quot;, largeString.substring(100, 300));\r\n\r\nThe second form is probably more useful if you&#39;re doing other stuff at the same time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6785/is-string-format-as-efficient-as-stringbuilder","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>In your example, performance probalby isn't too different but there are other issues to consider: namely memory fragmentation.  Even concatenate operation is creating a new string, even if its temporary (it takes time to GC it and it's more work).  String.format() is just more readable and it involves less fragmentation.</p>\n\n<p>Also, if you're using a particular format a lot, don't forget you can use the Formatter() class directly (all String.format() does is instantiate a one use Formatter instance).</p>\n\n<p>Also, something else you should be aware of: be careful of using substring().  For example:</p>\n\n<pre><code>String getSmallString() {\n  String largeString = // load from file; say 2M in size\n  return largeString.substring(100, 300);\n}\n</code></pre>\n\n<p>That large string is still in memory because that's just how Java substrings work.  A better version is:</p>\n\n<pre><code>  return new String(largeString.substring(100, 300));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  return String.format(\"%s\", largeString.substring(100, 300));\n</code></pre>\n\n<p>The second form is probably more useful if you're doing other stuff at the same time.</p>\n"},{"comments":[{"owner":{"account_id":4975,"reputation":19183,"user_id":7756,"accept_rate":81,"display_name":"Orion Adrian"},"score":14,"creation_date":1234286874,"post_id":513705,"comment_id":346089,"body_markdown":"There&#39;s one flaw with this test in that it&#39;s not entirely a good representation of all string formatting. Often there&#39;s logic involved in what to include and logic to format specific values into strings. Any real test should look at real-world scenarios.","body":"There&#39;s one flaw with this test in that it&#39;s not entirely a good representation of all string formatting. Often there&#39;s logic involved in what to include and logic to format specific values into strings. Any real test should look at real-world scenarios."},{"owner":{"account_id":30583,"reputation":322,"user_id":83441,"accept_rate":100,"display_name":"Tone"},"score":0,"creation_date":1308333233,"post_id":513705,"comment_id":7487553,"body_markdown":"Wouldn&#39;t using a StringBuffer (Thread safe) or StringBuilder (faster than StringBuffer but not thread safe) better yet than using concatenation (&quot;+&quot;)?","body":"Wouldn&#39;t using a StringBuffer (Thread safe) or StringBuilder (faster than StringBuffer but not thread safe) better yet than using concatenation (&quot;+&quot;)?"},{"owner":{"account_id":18461,"reputation":39097,"user_id":42303,"accept_rate":98,"display_name":"hhafez"},"score":9,"creation_date":1308526103,"post_id":513705,"comment_id":7511269,"body_markdown":"There was another question on SO about + verses StringBuffer, in recent versions of Java + was replaced with StringBuffer when possible so the performance wouldn&#39;t be different","body":"There was another question on SO about + verses StringBuffer, in recent versions of Java + was replaced with StringBuffer when possible so the performance wouldn&#39;t be different"},{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":1,"creation_date":1331598775,"post_id":513705,"comment_id":12293401,"body_markdown":"ran this test with %s instead of %d, to remove localization from the equation. didn&#39;t matter.","body":"ran this test with %s instead of %d, to remove localization from the equation. didn&#39;t matter."},{"owner":{"account_id":342550,"reputation":3620,"user_id":673759,"accept_rate":100,"display_name":"David H. Clements"},"score":26,"creation_date":1347770072,"post_id":513705,"comment_id":16733020,"body_markdown":"This looks a lot like the sort of microbenchmark that is going to be optimized away in a very unuseful manner.","body":"This looks a lot like the sort of microbenchmark that is going to be optimized away in a very unuseful manner."},{"owner":{"account_id":109614,"reputation":13954,"user_id":290340,"accept_rate":89,"display_name":"Evan Plaice"},"score":22,"creation_date":1393066690,"post_id":513705,"comment_id":33259942,"body_markdown":"Another poorly implemented micro-benchmark. How do both methods scale by orders of magnitude. How about using, 100, 1000, 10000, 1000000, operations. If you only run one test, on one order of magnitude, on a application that isn&#39;t running on an isolated core; there&#39;s no way to tell how much of the difference can be written off as &#39;side-effects&#39; due to context switching, background processes, etc.","body":"Another poorly implemented micro-benchmark. How do both methods scale by orders of magnitude. How about using, 100, 1000, 10000, 1000000, operations. If you only run one test, on one order of magnitude, on a application that isn&#39;t running on an isolated core; there&#39;s no way to tell how much of the difference can be written off as &#39;side-effects&#39; due to context switching, background processes, etc."},{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":9,"creation_date":1403252026,"post_id":513705,"comment_id":37595503,"body_markdown":"Moreover as you don&#39;t ever get out of main JIT cannot kick in.","body":"Moreover as you don&#39;t ever get out of main JIT cannot kick in."},{"owner":{"account_id":2128842,"reputation":3834,"user_id":2415524,"accept_rate":87,"display_name":"mbomb007"},"score":2,"creation_date":1434485756,"post_id":513705,"comment_id":49795625,"body_markdown":"@EvanPlaice The OP isn&#39;t using 100, 1000, 10000, or 1000000 operations in a single line, so that wouldn&#39;t be directly relevant to his question.","body":"@EvanPlaice The OP isn&#39;t using 100, 1000, 10000, or 1000000 operations in a single line, so that wouldn&#39;t be directly relevant to his question."},{"owner":{"account_id":1405136,"reputation":3941,"user_id":1333061,"display_name":"mfussenegger"},"score":3,"creation_date":1452282436,"post_id":513705,"comment_id":57116120,"body_markdown":"Just wanted to add that String.format also uses a StringBuilder internally. (at least in openjdk8). So it basically is locale/regex/formatting overhead + StringBuilder vs. only StringBuilder. Even if the benchmark is poorly implemented. I think it is safe to say that doing just &quot;x&quot; is faster than doing &quot;y&quot; + &quot;x&quot;","body":"Just wanted to add that String.format also uses a StringBuilder internally. (at least in openjdk8). So it basically is locale/regex/formatting overhead + StringBuilder vs. only StringBuilder. Even if the benchmark is poorly implemented. I think it is safe to say that doing just &quot;x&quot; is faster than doing &quot;y&quot; + &quot;x&quot;"},{"owner":{"account_id":1290904,"reputation":554,"user_id":1243031,"display_name":"aks"},"score":0,"creation_date":1540859942,"post_id":513705,"comment_id":93010913,"body_markdown":"I know that this might sound like a wired question and is probably wired, how did you create this chart again ?","body":"I know that this might sound like a wired question and is probably wired, how did you create this chart again ?"}],"tags":[],"owner":{"account_id":18461,"reputation":39097,"user_id":42303,"accept_rate":98,"display_name":"hhafez"},"comment_count":10,"down_vote_count":11,"up_vote_count":146,"is_accepted":true,"score":135,"last_activity_date":1434593684,"creation_date":1233786934,"answer_id":513705,"question_id":513600,"body_markdown":"I wrote a small class to test which has the better performance of the two and + comes ahead of format. by a factor of 5 to 6.\r\nTry it your self\r\n\r\n    import java.io.*;\r\n    import java.util.Date;\r\n    \r\n    public class StringTest{\r\n    \r\n        public static void main( String[] args ){\r\n    \tint i = 0;\r\n    \tlong prev_time = System.currentTimeMillis();\r\n    \tlong time;\r\n    \r\n    \tfor( i = 0; i&lt; 100000; i++){\r\n    \t    String s = &quot;Blah&quot; + i + &quot;Blah&quot;;\r\n    \t}\r\n    \ttime = System.currentTimeMillis() - prev_time;\r\n    \r\n    \tSystem.out.println(&quot;Time after for loop &quot; + time);\r\n    \t\r\n    \tprev_time = System.currentTimeMillis();\r\n    \tfor( i = 0; i&lt;100000; i++){\r\n    \t    String s = String.format(&quot;Blah %d Blah&quot;, i);\r\n    \t}\r\n    \ttime = System.currentTimeMillis() - prev_time;\r\n    \tSystem.out.println(&quot;Time after for loop &quot; + time);\r\n    \t\r\n        }\r\n    }\r\n\r\n\r\n\r\nRunning the above for different N shows that both behave linearly, but ```String.format``` is 5-30 times slower. \r\n\r\nThe reason is that in the current implementation `String.format` first parses the input with regular expressions and then fills in the parameters. Concatenation with plus, on the other hand, gets optimized by javac (not by the JIT) and uses ```StringBuilder.append``` directly. \r\n\r\n![Runtime comparison][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qCZyw.png","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>I wrote a small class to test which has the better performance of the two and + comes ahead of format. by a factor of 5 to 6.\nTry it your self</p>\n\n<pre><code>import java.io.*;\nimport java.util.Date;\n\npublic class StringTest{\n\n    public static void main( String[] args ){\n    int i = 0;\n    long prev_time = System.currentTimeMillis();\n    long time;\n\n    for( i = 0; i&lt; 100000; i++){\n        String s = \"Blah\" + i + \"Blah\";\n    }\n    time = System.currentTimeMillis() - prev_time;\n\n    System.out.println(\"Time after for loop \" + time);\n\n    prev_time = System.currentTimeMillis();\n    for( i = 0; i&lt;100000; i++){\n        String s = String.format(\"Blah %d Blah\", i);\n    }\n    time = System.currentTimeMillis() - prev_time;\n    System.out.println(\"Time after for loop \" + time);\n\n    }\n}\n</code></pre>\n\n<p>Running the above for different N shows that both behave linearly, but <code>String.format</code> is 5-30 times slower. </p>\n\n<p>The reason is that in the current implementation <code>String.format</code> first parses the input with regular expressions and then fills in the parameters. Concatenation with plus, on the other hand, gets optimized by javac (not by the JIT) and uses <code>StringBuilder.append</code> directly. </p>\n\n<p><img src=\"https://i.stack.imgur.com/qCZyw.png\" alt=\"Runtime comparison\"></p>\n"},{"comments":[{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":1,"creation_date":1233811548,"post_id":513787,"comment_id":328441,"body_markdown":"Your test is invalid because it fails to take into account the time eaten up by just having a loop.  You should include that and subtract it from all the other results, at a minimum (yes it can be a significant percentage).","body":"Your test is invalid because it fails to take into account the time eaten up by just having a loop.  You should include that and subtract it from all the other results, at a minimum (yes it can be a significant percentage)."},{"owner":{"account_id":11160,"reputation":6376,"user_id":21368,"display_name":"the.duckman"},"score":1,"creation_date":1234174106,"post_id":513787,"comment_id":340747,"body_markdown":"I did that, the for loop takes 0 ms. \n\nBut even if it did take time, this would only increase the factor.","body":"I did that, the for loop takes 0 ms.   But even if it did take time, this would only increase the factor."},{"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"score":4,"creation_date":1234290873,"post_id":513787,"comment_id":346334,"body_markdown":"The StringBuilder test is invalid because it does not call toString() at the end to actually give you a String you can use. I added this and the result is that StringBuilder takes about the same amount of time as +. I&#39;m sure as you increase the number of appends it will eventually become cheaper.","body":"The StringBuilder test is invalid because it does not call toString() at the end to actually give you a String you can use. I added this and the result is that StringBuilder takes about the same amount of time as +. I&#39;m sure as you increase the number of appends it will eventually become cheaper."}],"tags":[],"owner":{"account_id":11160,"reputation":6376,"user_id":21368,"display_name":"the.duckman"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234520914,"creation_date":1233788408,"answer_id":513787,"question_id":513600,"body_markdown":"I just modified hhafez&#39;s test to include StringBuilder. StringBuilder is 33 times faster than String.format using jdk 1.6.0_10 client on XP. Using the -server switch lowers the factor to 20. \r\n\r\n    public class StringTest {\r\n    \r\n       public static void main( String[] args ) {\r\n          test();\r\n          test();\r\n       }\r\n\r\n       private static void test() {\r\n          int i = 0;\r\n          long prev_time = System.currentTimeMillis();\r\n          long time;\r\n\r\n          for ( i = 0; i &lt; 1000000; i++ ) {\r\n             String s = &quot;Blah&quot; + i + &quot;Blah&quot;;\r\n          }\r\n          time = System.currentTimeMillis() - prev_time;\r\n    \r\n          System.out.println(&quot;Time after for loop &quot; + time);\r\n    \r\n          prev_time = System.currentTimeMillis();\r\n          for ( i = 0; i &lt; 1000000; i++ ) {\r\n             String s = String.format(&quot;Blah %d Blah&quot;, i);\r\n          }\r\n          time = System.currentTimeMillis() - prev_time;\r\n          System.out.println(&quot;Time after for loop &quot; + time);\r\n    \r\n          prev_time = System.currentTimeMillis();\r\n          for ( i = 0; i &lt; 1000000; i++ ) {\r\n             new StringBuilder(&quot;Blah&quot;).append(i).append(&quot;Blah&quot;);\r\n          }\r\n          time = System.currentTimeMillis() - prev_time;\r\n          System.out.println(&quot;Time after for loop &quot; + time);\r\n       }\r\n    }\r\n\r\nWhile this might sound drastic, I consider it to be relevant only in rare cases, because the absolute numbers are pretty low: 4 s for 1 million simple String.format calls is sort of ok - as long as I use them for logging or the like.\r\n\r\n&lt;b&gt;Update:&lt;/b&gt; As pointed out by sjbotha in the comments, the StringBuilder test is invalid, since it is missing a final `.toString()`. \r\n\r\nThe correct speed-up factor from `String.format(.)` to `StringBuilder` is 23 on my machine (16 with the `-server` switch).","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>I just modified hhafez's test to include StringBuilder. StringBuilder is 33 times faster than String.format using jdk 1.6.0_10 client on XP. Using the -server switch lowers the factor to 20. </p>\n\n<pre><code>public class StringTest {\n\n   public static void main( String[] args ) {\n      test();\n      test();\n   }\n\n   private static void test() {\n      int i = 0;\n      long prev_time = System.currentTimeMillis();\n      long time;\n\n      for ( i = 0; i &lt; 1000000; i++ ) {\n         String s = \"Blah\" + i + \"Blah\";\n      }\n      time = System.currentTimeMillis() - prev_time;\n\n      System.out.println(\"Time after for loop \" + time);\n\n      prev_time = System.currentTimeMillis();\n      for ( i = 0; i &lt; 1000000; i++ ) {\n         String s = String.format(\"Blah %d Blah\", i);\n      }\n      time = System.currentTimeMillis() - prev_time;\n      System.out.println(\"Time after for loop \" + time);\n\n      prev_time = System.currentTimeMillis();\n      for ( i = 0; i &lt; 1000000; i++ ) {\n         new StringBuilder(\"Blah\").append(i).append(\"Blah\");\n      }\n      time = System.currentTimeMillis() - prev_time;\n      System.out.println(\"Time after for loop \" + time);\n   }\n}\n</code></pre>\n\n<p>While this might sound drastic, I consider it to be relevant only in rare cases, because the absolute numbers are pretty low: 4 s for 1 million simple String.format calls is sort of ok - as long as I use them for logging or the like.</p>\n\n<p><b>Update:</b> As pointed out by sjbotha in the comments, the StringBuilder test is invalid, since it is missing a final <code>.toString()</code>. </p>\n\n<p>The correct speed-up factor from <code>String.format(.)</code> to <code>StringBuilder</code> is 23 on my machine (16 with the <code>-server</code> switch).</p>\n"},{"comments":[{"owner":{"account_id":1075043,"reputation":19715,"user_id":1073386,"accept_rate":83,"display_name":"Adam Stelmaszczyk"},"score":1,"creation_date":1435348231,"post_id":513964,"comment_id":50180554,"body_markdown":"*I&#39;d say that performance-wise, String.format vs. plain concatenation comes down to what you prefer* I think this is incorrect. Performance-wise, concatenation is much better. For more details please take a look on my answer.","body":"<i>I&#39;d say that performance-wise, String.format vs. plain concatenation comes down to what you prefer</i> I think this is incorrect. Performance-wise, concatenation is much better. For more details please take a look on my answer."}],"tags":[],"owner":{"account_id":23549,"reputation":2025,"user_id":59084,"display_name":"dw.mackie"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1233792596,"creation_date":1233792596,"answer_id":513964,"question_id":513600,"body_markdown":"To expand/correct on the first answer above, it&#39;s not translation that String.format would help with, actually.  &lt;br&gt;\r\nWhat String.format will help with is when you&#39;re printing a date/time (or a numeric format, etc), where there are localization(l10n) differences (ie, some countries will print 04Feb2009 and others will print Feb042009).  &lt;br&gt;\r\nWith translation, you&#39;re just talking about moving any externalizable strings (like error messages and what-not) into a property bundle so that you can use the right bundle for the right language, using ResourceBundle and MessageFormat.&lt;br&gt;\r\n&lt;br&gt;\r\nLooking at all the above, I&#39;d say that performance-wise, String.format vs. plain concatenation comes down to what you prefer.  If you prefer looking at calls to .format over concatenation, then by all means, go with that. &lt;br&gt;\r\nAfter all, code is read a lot more than it&#39;s written. ","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>To expand/correct on the first answer above, it's not translation that String.format would help with, actually.  <br>\nWhat String.format will help with is when you're printing a date/time (or a numeric format, etc), where there are localization(l10n) differences (ie, some countries will print 04Feb2009 and others will print Feb042009).  <br>\nWith translation, you're just talking about moving any externalizable strings (like error messages and what-not) into a property bundle so that you can use the right bundle for the right language, using ResourceBundle and MessageFormat.<br>\n<br>\nLooking at all the above, I'd say that performance-wise, String.format vs. plain concatenation comes down to what you prefer.  If you prefer looking at calls to .format over concatenation, then by all means, go with that. <br>\nAfter all, code is read a lot more than it's written. </p>\n"},{"comments":[{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":9,"creation_date":1318477938,"post_id":1281651,"comment_id":9431824,"body_markdown":"&quot;don&#39;t forget to check the logging level before constructing the message&quot;, is a good advice, this should be done at least for debug messages, because there could be a lot of them and they should not enabled in production.","body":"&quot;don&#39;t forget to check the logging level before constructing the message&quot;, is a good advice, this should be done at least for debug messages, because there could be a lot of them and they should not enabled in production."},{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":50,"creation_date":1365488570,"post_id":1281651,"comment_id":22633339,"body_markdown":"No, this is not right. Sorry to be blunt but the number of upvotes it has attracted is nothing short of alarming. Using the `+` operator compiles to the equivalent `StringBuilder` code. Microbenchmarks like this are not a good way of measuring performance - why not use jvisualvm, it&#39;s in the jdk for a reason. `String.format()` *will* be slower, but due to the time to parse the format string rather than any object allocations. Deferring the creation of logging artifacts until you&#39;re sure they&#39;re needed *is* good advice, but if it would be having a performance impact it&#39;s in the wrong place.","body":"No, this is not right. Sorry to be blunt but the number of upvotes it has attracted is nothing short of alarming. Using the <code>+</code> operator compiles to the equivalent <code>StringBuilder</code> code. Microbenchmarks like this are not a good way of measuring performance - why not use jvisualvm, it&#39;s in the jdk for a reason. <code>String.format()</code> <i>will</i> be slower, but due to the time to parse the format string rather than any object allocations. Deferring the creation of logging artifacts until you&#39;re sure they&#39;re needed <i>is</i> good advice, but if it would be having a performance impact it&#39;s in the wrong place."},{"owner":{"account_id":1309947,"reputation":512,"user_id":1258147,"display_name":"kurtzbot"},"score":1,"creation_date":1409164291,"post_id":1281651,"comment_id":39866641,"body_markdown":"@CurtainDog, your comment was made on a four-year old post, can you point to documentation or create a separate answer to address the difference?","body":"@CurtainDog, your comment was made on a four-year old post, can you point to documentation or create a separate answer to address the difference?"},{"owner":{"account_id":3427249,"reputation":3669,"user_id":2872712,"display_name":"apricot"},"score":1,"creation_date":1462300177,"post_id":1281651,"comment_id":61575478,"body_markdown":"Reference in support of @CurtainDog&#39;s comment: http://stackoverflow.com/a/1532499/2872712.\n\nThat is, + is preferred unless it is done in a loop.","body":"Reference in support of @CurtainDog&#39;s comment: <a href=\"http://stackoverflow.com/a/1532499/2872712\">stackoverflow.com/a/1532499/2872712</a>.  That is, + is preferred unless it is done in a loop."},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":0,"creation_date":1554904082,"post_id":1281651,"comment_id":97922233,"body_markdown":"`And a note, BTW, don&#39;t forget to check the logging level before constructing the message.` is not good advice. Assuming we&#39;re talking about `java.util.logging.*` specifically, checking the logging level is when you&#39;re talking about doing advanced processing that would cause adverse effects on a program that you wouldn&#39;t want when a program does not have logging turned on to the appropriate level. String formatting is not that type of processing AT ALL. Formatting is part of the `java.util.logging` framework, and the logger itself checks the logging level before the formatter is ever invoked.","body":"<code>And a note, BTW, don&#39;t forget to check the logging level before constructing the message.</code> is not good advice. Assuming we&#39;re talking about <code>java.util.logging.*</code> specifically, checking the logging level is when you&#39;re talking about doing advanced processing that would cause adverse effects on a program that you wouldn&#39;t want when a program does not have logging turned on to the appropriate level. String formatting is not that type of processing AT ALL. Formatting is part of the <code>java.util.logging</code> framework, and the logger itself checks the logging level before the formatter is ever invoked."}],"tags":[],"owner":{"account_id":879495,"reputation":2727,"user_id":156879,"display_name":"Itamar"},"comment_count":5,"down_vote_count":12,"up_vote_count":275,"is_accepted":false,"score":263,"last_activity_date":1671504282,"creation_date":1250334185,"answer_id":1281651,"question_id":513600,"body_markdown":"I took [hhafez][1]&#39;s code and added a **memory test**:\r\n\r\n    private static void test() {\r\n        Runtime runtime = Runtime.getRuntime();\r\n        long memory;\r\n        ...\r\n        memory = runtime.freeMemory();\r\n        // for loop code\r\n        memory = memory-runtime.freeMemory();\r\n\r\nI run this separately for each approach, the &#39;+&#39; operator, String.format and StringBuilder (calling toString()), so the memory used will not be affected by other approaches.\r\nI added more concatenations, making the string as &quot;Blah&quot; + i + &quot;Blah&quot;+ i +&quot;Blah&quot; + i + &quot;Blah&quot;.\r\n\r\nThe result are as follows (average of 5 runs each):\r\n\r\nApproach | Time(ms) | Memory allocated (long)\r\n---|---|---\r\n`+` operator | 747 | 320,504\r\n`String.format` | 16484 | 373,312\r\n`StringBuilder` | 769 | 57,344\r\n\r\nWe can see that String `+` and `StringBuilder` are practically identical time-wise, but `StringBuilder` is much more efficient in memory use.\r\nThis is very important when we have many log calls (or any other statements involving strings) in a time interval short enough so the Garbage Collector won&#39;t get to clean the many string instances resulting of the `+` operator.\r\n\r\nAnd a note, BTW, don&#39;t forget to check the logging **level** before constructing the message.\r\n\r\nConclusions:\r\n\r\n 1. I&#39;ll keep on using `StringBuilder`.\r\n 2. I have too much time or too little life.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/513705/1845976","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>I took <a href=\"https://stackoverflow.com/a/513705/1845976\">hhafez</a>'s code and added a <strong>memory test</strong>:</p>\n<pre><code>private static void test() {\n    Runtime runtime = Runtime.getRuntime();\n    long memory;\n    ...\n    memory = runtime.freeMemory();\n    // for loop code\n    memory = memory-runtime.freeMemory();\n</code></pre>\n<p>I run this separately for each approach, the '+' operator, String.format and StringBuilder (calling toString()), so the memory used will not be affected by other approaches.\nI added more concatenations, making the string as &quot;Blah&quot; + i + &quot;Blah&quot;+ i +&quot;Blah&quot; + i + &quot;Blah&quot;.</p>\n<p>The result are as follows (average of 5 runs each):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Approach</th>\n<th>Time(ms)</th>\n<th>Memory allocated (long)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>+</code> operator</td>\n<td>747</td>\n<td>320,504</td>\n</tr>\n<tr>\n<td><code>String.format</code></td>\n<td>16484</td>\n<td>373,312</td>\n</tr>\n<tr>\n<td><code>StringBuilder</code></td>\n<td>769</td>\n<td>57,344</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>We can see that String <code>+</code> and <code>StringBuilder</code> are practically identical time-wise, but <code>StringBuilder</code> is much more efficient in memory use.\nThis is very important when we have many log calls (or any other statements involving strings) in a time interval short enough so the Garbage Collector won't get to clean the many string instances resulting of the <code>+</code> operator.</p>\n<p>And a note, BTW, don't forget to check the logging <strong>level</strong> before constructing the message.</p>\n<p>Conclusions:</p>\n<ol>\n<li>I'll keep on using <code>StringBuilder</code>.</li>\n<li>I have too much time or too little life.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":322859,"reputation":3895,"user_id":642511,"accept_rate":71,"display_name":"dusktreader"},"score":0,"creation_date":1345743279,"post_id":6522436,"comment_id":16166240,"body_markdown":"In terms of readability, the code you posted is much more...cumbersome than String.format( &quot;What do you get if you multiply %d by %d?&quot;, varSix, varNine);","body":"In terms of readability, the code you posted is much more...cumbersome than String.format( &quot;What do you get if you multiply %d by %d?&quot;, varSix, varNine);"},{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":17,"creation_date":1365488834,"post_id":6522436,"comment_id":22633448,"body_markdown":"No difference between `+` and `StringBuilder`indeed. Unfortunately there&#39;s a lot of misinformation in other answers in this thread. I&#39;m almost tempted to change the question to `how should I not be measuring performance`.","body":"No difference between <code>+</code> and <code>StringBuilder</code>indeed. Unfortunately there&#39;s a lot of misinformation in other answers in this thread. I&#39;m almost tempted to change the question to <code>how should I not be measuring performance</code>."}],"tags":[],"owner":{"account_id":434980,"reputation":3666,"user_id":821306,"display_name":"Rapha&#235;l"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1309358073,"creation_date":1309358073,"answer_id":6522436,"question_id":513600,"body_markdown":"Your old ugly style is automatically compiled by JAVAC 1.6 as :\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;What do you get if you multiply &quot;);\r\n    sb.append(varSix);\r\n    sb.append(&quot; by &quot;);\r\n    sb.append(varNine);\r\n    sb.append(&quot;?&quot;);\r\n    String s =  sb.toString();\r\n\r\nSo there is absolutely no difference between this and using a StringBuilder.\r\n\r\nString.format is a lot more heavyweight since it creates a new Formatter, parses your input format string, creates a StringBuilder, append everything to it and calls toString().","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>Your old ugly style is automatically compiled by JAVAC 1.6 as :</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(\"What do you get if you multiply \");\nsb.append(varSix);\nsb.append(\" by \");\nsb.append(varNine);\nsb.append(\"?\");\nString s =  sb.toString();\n</code></pre>\n\n<p>So there is absolutely no difference between this and using a StringBuilder.</p>\n\n<p>String.format is a lot more heavyweight since it creates a new Formatter, parses your input format string, creates a StringBuilder, append everything to it and calls toString().</p>\n"},{"comments":[{"owner":{"account_id":1893786,"reputation":1374,"user_id":1711188,"accept_rate":62,"display_name":"Andy MacKinlay"},"score":5,"creation_date":1419226875,"post_id":7129469,"comment_id":43617849,"body_markdown":"I don&#39;t think your speculation about optimisation of the format string processing is correct. In some real-world tests using Java 7, I found that using `String.format` in inner loops (running millions of times) resulted in more than 10% of my execution time spent in `java.util.Formatter.parse(String)`. This seems to indicate that in inner loops, you should avoid calling `Formatter.format` or anything which calls it, including `PrintStream.format` (a flaw in Java&#39;s standard lib, IMO, especially since you can&#39;t cache the parsed format string).","body":"I don&#39;t think your speculation about optimisation of the format string processing is correct. In some real-world tests using Java 7, I found that using <code>String.format</code> in inner loops (running millions of times) resulted in more than 10% of my execution time spent in <code>java.util.Formatter.parse(String)</code>. This seems to indicate that in inner loops, you should avoid calling <code>Formatter.format</code> or anything which calls it, including <code>PrintStream.format</code> (a flaw in Java&#39;s standard lib, IMO, especially since you can&#39;t cache the parsed format string)."}],"tags":[],"owner":{"account_id":10552,"reputation":21351,"user_id":20003,"accept_rate":73,"display_name":"Dustin Getz"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1313886763,"creation_date":1313811406,"answer_id":7129469,"question_id":513600,"body_markdown":"Java&#39;s String.format works like so:\r\n\r\n 1. it parses the format string, exploding into a list of format chunks\r\n 2. it iterates the format chunks, rendering into a StringBuilder,  which is basically an array that resizes itself as necessary, by copying into a new array. this is necessary because we don&#39;t yet know how large to allocate the final String\r\n 3. StringBuilder.toString() copies his internal buffer into a new String \r\n\r\nif the final destination for this data is a stream (e.g. rendering a webpage or writing to a file), you can assemble the format chunks directly into your stream:\r\n\r\n    new PrintStream(outputStream, autoFlush, encoding).format(&quot;hello {0}&quot;, &quot;world&quot;);\r\n\r\nI speculate that the optimizer will optimize away the format string processing. If so, you&#39;re left with equivalent [amortized][1] performance to manually unrolling your String.format into a StringBuilder.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Amortized_analysis","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>Java's String.format works like so:</p>\n\n<ol>\n<li>it parses the format string, exploding into a list of format chunks</li>\n<li>it iterates the format chunks, rendering into a StringBuilder,  which is basically an array that resizes itself as necessary, by copying into a new array. this is necessary because we don't yet know how large to allocate the final String</li>\n<li>StringBuilder.toString() copies his internal buffer into a new String </li>\n</ol>\n\n<p>if the final destination for this data is a stream (e.g. rendering a webpage or writing to a file), you can assemble the format chunks directly into your stream:</p>\n\n<pre><code>new PrintStream(outputStream, autoFlush, encoding).format(\"hello {0}\", \"world\");\n</code></pre>\n\n<p>I speculate that the optimizer will optimize away the format string processing. If so, you're left with equivalent <a href=\"http://en.wikipedia.org/wiki/Amortized_analysis\" rel=\"noreferrer\">amortized</a> performance to manually unrolling your String.format into a StringBuilder.</p>\n"},{"tags":[],"owner":{"account_id":4663233,"reputation":11,"user_id":3776977,"display_name":"ANON"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403730071,"creation_date":1403730071,"answer_id":24418487,"question_id":513600,"body_markdown":"Here is modified version of hhafez entry.  It includes a string builder option.\r\n\r\n    public class BLA\r\n\t{\r\n\tpublic static final String BLAH = &quot;Blah &quot;;\r\n\tpublic static final String BLAH2 = &quot; Blah&quot;;\r\n\tpublic static final String BLAH3 = &quot;Blah %d Blah&quot;;\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint i = 0;\r\n\t\tlong prev_time = System.currentTimeMillis();\r\n\t\tlong time;\r\n\t\tint numLoops = 1000000;\r\n\t\t\r\n\t\tfor( i = 0; i&lt; numLoops; i++){\r\n\t\t\tString s = BLAH + i + BLAH2;\r\n\t\t}\r\n\t\ttime = System.currentTimeMillis() - prev_time;\r\n\r\n\t\tSystem.out.println(&quot;Time after for loop &quot; + time);\r\n\r\n\t\tprev_time = System.currentTimeMillis();\r\n\t\tfor( i = 0; i&lt;numLoops; i++){\r\n\t\t\tString s = String.format(BLAH3, i);\r\n\t\t}\r\n\t\ttime = System.currentTimeMillis() - prev_time;\r\n\t\tSystem.out.println(&quot;Time after for loop &quot; + time);\r\n\r\n\t\tprev_time = System.currentTimeMillis();\r\n\t\tfor( i = 0; i&lt;numLoops; i++){\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tsb.append(BLAH);\r\n\t\t\tsb.append(i);\r\n\t\t\tsb.append(BLAH2);\r\n\t\t\tString s = sb.toString();\r\n\t\t}\r\n\t\ttime = System.currentTimeMillis() - prev_time;\r\n\t\tSystem.out.println(&quot;Time after for loop &quot; + time);\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nTime after for loop 391\r\nTime after for loop 4163\r\nTime after for loop 227","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>Here is modified version of hhafez entry.  It includes a string builder option.</p>\n\n<pre><code>public class BLA\n{\npublic static final String BLAH = \"Blah \";\npublic static final String BLAH2 = \" Blah\";\npublic static final String BLAH3 = \"Blah %d Blah\";\n\n\npublic static void main(String[] args) {\n    int i = 0;\n    long prev_time = System.currentTimeMillis();\n    long time;\n    int numLoops = 1000000;\n\n    for( i = 0; i&lt; numLoops; i++){\n        String s = BLAH + i + BLAH2;\n    }\n    time = System.currentTimeMillis() - prev_time;\n\n    System.out.println(\"Time after for loop \" + time);\n\n    prev_time = System.currentTimeMillis();\n    for( i = 0; i&lt;numLoops; i++){\n        String s = String.format(BLAH3, i);\n    }\n    time = System.currentTimeMillis() - prev_time;\n    System.out.println(\"Time after for loop \" + time);\n\n    prev_time = System.currentTimeMillis();\n    for( i = 0; i&lt;numLoops; i++){\n        StringBuilder sb = new StringBuilder();\n        sb.append(BLAH);\n        sb.append(i);\n        sb.append(BLAH2);\n        String s = sb.toString();\n    }\n    time = System.currentTimeMillis() - prev_time;\n    System.out.println(\"Time after for loop \" + time);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Time after for loop 391\nTime after for loop 4163\nTime after for loop 227</p>\n"},{"comments":[{"owner":{"account_id":216415,"reputation":488,"user_id":471658,"accept_rate":75,"display_name":"ammianus"},"score":0,"creation_date":1520355594,"post_id":30383354,"comment_id":85277281,"body_markdown":"Could you leverage an existing library like slf4j-api which purports to address this usecase with their parameterized logging feature? https://www.slf4j.org/faq.html#logging_performance","body":"Could you leverage an existing library like slf4j-api which purports to address this usecase with their parameterized logging feature? <a href=\"https://www.slf4j.org/faq.html#logging_performance\" rel=\"nofollow noreferrer\">slf4j.org/faq.html#logging_performance</a>"}],"tags":[],"owner":{"account_id":1750120,"reputation":709,"user_id":1599402,"display_name":"software.wikipedia"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1432239033,"creation_date":1432238728,"answer_id":30383354,"question_id":513600,"body_markdown":"**Another perspective from Logging point of view Only.**\r\n\r\nI see a lot of discussion related to logging on this thread so thought of adding my experience in answer. May be someone will find it useful.\r\n\r\nI guess the motivation of logging using formatter comes from avoiding the string concatenation. Basically, you do not want to have an overhead of string concat if you are not going to log it. \r\n\r\nYou do not really need to concat/format unless you want to log. Lets say if I define a method like this \r\n\r\n    public void logDebug(String... args, Throwable t) {\r\n        if(debugOn) {\r\n           // call concat methods for all args\r\n           //log the final debug message\r\n        }\r\n    }\r\n\r\nIn this approach the cancat/formatter is not really called at all if its a debug message and debugOn = false\r\n\r\nThough it will still be better to use StringBuilder instead of formatter here. The main motivation is to avoid any of that. \r\n\r\nAt the same time I do not like adding &quot;if&quot; block for each logging statement since \r\n\r\n - It affects readability\r\n - Reduces coverage on my unit tests - thats confusing when you want to make sure every line is tested. \r\n\r\nTherefore I prefer to create a logging utility class with methods like above and use it everywhere without worrying about performance hit and any other issues related to it.\r\n ","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p><strong>Another perspective from Logging point of view Only.</strong></p>\n\n<p>I see a lot of discussion related to logging on this thread so thought of adding my experience in answer. May be someone will find it useful.</p>\n\n<p>I guess the motivation of logging using formatter comes from avoiding the string concatenation. Basically, you do not want to have an overhead of string concat if you are not going to log it. </p>\n\n<p>You do not really need to concat/format unless you want to log. Lets say if I define a method like this </p>\n\n<pre><code>public void logDebug(String... args, Throwable t) {\n    if(debugOn) {\n       // call concat methods for all args\n       //log the final debug message\n    }\n}\n</code></pre>\n\n<p>In this approach the cancat/formatter is not really called at all if its a debug message and debugOn = false</p>\n\n<p>Though it will still be better to use StringBuilder instead of formatter here. The main motivation is to avoid any of that. </p>\n\n<p>At the same time I do not like adding \"if\" block for each logging statement since </p>\n\n<ul>\n<li>It affects readability</li>\n<li>Reduces coverage on my unit tests - thats confusing when you want to make sure every line is tested. </li>\n</ul>\n\n<p>Therefore I prefer to create a logging utility class with methods like above and use it everywhere without worrying about performance hit and any other issues related to it.</p>\n"},{"tags":[],"owner":{"account_id":1075043,"reputation":19715,"user_id":1073386,"accept_rate":83,"display_name":"Adam Stelmaszczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1501603146,"creation_date":1435269154,"answer_id":31061425,"question_id":513600,"body_markdown":"All the benchmarks presented here have some [flaws][1], thus results are not reliable.\r\n\r\nI was surprised that nobody used [JMH][2] for benchmarking, so I did.\r\n\r\nResults:\r\n\r\n    Benchmark             Mode  Cnt     Score     Error  Units\r\n    MyBenchmark.testOld  thrpt   20  9645.834 &#177; 238.165  ops/s  // using +\r\n    MyBenchmark.testNew  thrpt   20   429.898 &#177;  10.551  ops/s  // using String.format\r\n\r\nUnits are operations per second, the more the better. [Benchmark source code][3]. OpenJDK IcedTea 2.5.4 Java Virtual Machine was used.\r\n\r\nSo, old style (using +) is much faster.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\r\n  [2]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [3]: https://gist.github.com/AdamStelmaszczyk/72f0a2511428e36e495c#file-mybenchmark-java","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>All the benchmarks presented here have some <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">flaws</a>, thus results are not reliable.</p>\n\n<p>I was surprised that nobody used <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> for benchmarking, so I did.</p>\n\n<p>Results:</p>\n\n<pre><code>Benchmark             Mode  Cnt     Score     Error  Units\nMyBenchmark.testOld  thrpt   20  9645.834 ± 238.165  ops/s  // using +\nMyBenchmark.testNew  thrpt   20   429.898 ±  10.551  ops/s  // using String.format\n</code></pre>\n\n<p>Units are operations per second, the more the better. <a href=\"https://gist.github.com/AdamStelmaszczyk/72f0a2511428e36e495c#file-mybenchmark-java\" rel=\"noreferrer\">Benchmark source code</a>. OpenJDK IcedTea 2.5.4 Java Virtual Machine was used.</p>\n\n<p>So, old style (using +) is much faster.</p>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saša"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480957819,"creation_date":1480957819,"answer_id":40979631,"question_id":513600,"body_markdown":"Consider using `&quot;hello&quot;.concat( &quot;world!&quot; )` for small number of strings in concatenation. It could be even better for performance than other approaches.\r\n\r\nIf you have more than 3 strings, than consider using StringBuilder, or just String, depending on compiler that you use.","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>Consider using <code>\"hello\".concat( \"world!\" )</code> for small number of strings in concatenation. It could be even better for performance than other approaches.</p>\n\n<p>If you have more than 3 strings, than consider using StringBuilder, or just String, depending on compiler that you use.</p>\n"}],"owner":{"account_id":19089,"reputation":5104,"user_id":44437,"display_name":"Air"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182481,"favorite_count":0,"down_vote_count":0,"up_vote_count":247,"accepted_answer_id":513705,"answer_count":13,"score":247,"last_activity_date":1671504282,"creation_date":1233785369,"question_id":513600,"body_markdown":"We have to build Strings all the time for log output and so on. Over the JDK versions we have learned when to use `StringBuffer` (many appends, thread safe) and `StringBuilder` (many appends, non-thread-safe).\r\n\r\nWhat&#39;s the advice on using `String.format()`? Is it efficient, or are we forced to stick with concatenation for one-liners where performance is important?\r\n\r\ne.g. ugly old style,\r\n\r\n    String s = &quot;What do you get if you multiply &quot; + varSix + &quot; by &quot; + varNine + &quot;?&quot;;\r\n\r\nvs. tidy new style (String.format, which is possibly slower),\r\n\r\n    String s = String.format(&quot;What do you get if you multiply %d by %d?&quot;, varSix, varNine);\r\n\r\nNote: my specific use case is the hundreds of &#39;one-liner&#39; log strings throughout my code. They don&#39;t involve a loop, so `StringBuilder` is too heavyweight. I&#39;m interested in `String.format()` specifically.","title":"Should I use Java&#39;s String.format() if performance is important?","body":"<p>We have to build Strings all the time for log output and so on. Over the JDK versions we have learned when to use <code>StringBuffer</code> (many appends, thread safe) and <code>StringBuilder</code> (many appends, non-thread-safe).</p>\n\n<p>What's the advice on using <code>String.format()</code>? Is it efficient, or are we forced to stick with concatenation for one-liners where performance is important?</p>\n\n<p>e.g. ugly old style,</p>\n\n<pre><code>String s = \"What do you get if you multiply \" + varSix + \" by \" + varNine + \"?\";\n</code></pre>\n\n<p>vs. tidy new style (String.format, which is possibly slower),</p>\n\n<pre><code>String s = String.format(\"What do you get if you multiply %d by %d?\", varSix, varNine);\n</code></pre>\n\n<p>Note: my specific use case is the hundreds of 'one-liner' log strings throughout my code. They don't involve a loop, so <code>StringBuilder</code> is too heavyweight. I'm interested in <code>String.format()</code> specifically.</p>\n"},{"tags":["java","android","google-cloud-firestore","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671286032,"creation_date":1671286032,"answer_id":74834745,"question_id":74765588,"body_markdown":"You are calling `pieChart.setUsePercentValues(true);` in `setPieChart()`, so it is showing percentages instead of the actual values. Remove that or set it to false if you want to see values.","title":"How to fix display of Count in MpAndroidchart","body":"<p>You are calling <code>pieChart.setUsePercentValues(true);</code> in <code>setPieChart()</code>, so it is showing percentages instead of the actual values. Remove that or set it to false if you want to see values.</p>\n"},{"tags":[],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671503922,"creation_date":1671503922,"answer_id":74858015,"question_id":74765588,"body_markdown":"Remove this line\r\n&gt; pieChart.setUsePercentValues(true);\r\n\r\nYou can also use the Tasks class instead of nesting queries.","title":"How to fix display of Count in MpAndroidchart","body":"<p>Remove this line</p>\n<blockquote>\n<p>pieChart.setUsePercentValues(true);</p>\n</blockquote>\n<p>You can also use the Tasks class instead of nesting queries.</p>\n"}],"owner":{"account_id":27081463,"reputation":3,"user_id":20630562,"display_name":"teachmetocode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74834745,"answer_count":2,"score":0,"last_activity_date":1671503922,"creation_date":1670804376,"question_id":74765588,"body_markdown":"I&#39;m having a bit of trouble since when I get a count from my firestore database, it displays 25 instead of 1. I can&#39;t seem to solve this problem. I think it shows 1/4 of the count, since when I tried to add only three counts the output displays only 33.33.\r\n\r\nHere is my code, I have searched for ways to fix this but I don&#39;t seem to find ways to fix it.\r\n\r\n```\r\nprivate void setPieChart() {\r\n    pieChart.setDrawHoleEnabled(true);\r\n    pieChart.setUsePercentValues(true);\r\n    pieChart.setEntryLabelTextSize(12);\r\n    pieChart.setEntryLabelColor(Color.BLACK);\r\n    pieChart.setCenterTextSize(24);\r\n    pieChart.getDescription().setEnabled(false);\r\n\r\n    Legend l = pieChart.getLegend();\r\n    l.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\r\n    l.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\r\n    l.setOrientation(Legend.LegendOrientation.VERTICAL);\r\n    l.setDrawInside(false);\r\n    l.setEnabled(true);\r\n}\r\nprivate void loadPiechartData() {\r\n    entries = new ArrayList&lt;&gt;();\r\n    db.collection(&quot;charot&quot;)\r\n            .whereEqualTo(&quot;electricity&quot;, &quot;lugi&quot;)\r\n            .count()\r\n            .get(AggregateSource.SERVER).addOnCompleteListener(task -&gt; {\r\n                entries.add(new PieEntry(task.getResult().getCount(), &quot;lugi&quot;));\r\n\r\n                db.collection(&quot;charot&quot;)\r\n                        .whereEqualTo(&quot;mahal&quot;, &quot;bawi&quot;)\r\n                        .count()\r\n                        .get(AggregateSource.SERVER).addOnCompleteListener(task2 -&gt; {\r\n                            entries.add(new PieEntry(task2.getResult().getCount(), &quot;bawi&quot;));\r\n\r\n                            db.collection(&quot;charot&quot;)\r\n                                    .whereEqualTo(&quot;basta&quot;, &quot;ewan&quot;)\r\n                                    .count()\r\n                                    .get(AggregateSource.SERVER).addOnCompleteListener(task3 -&gt; {\r\n                                    entries.add(newPieEntry(task2.getResult().getCount(),&quot;ewan&quot;));\r\n                                        db.collection(&quot;charot&quot;)\r\n                                                .whereEqualTo(&quot;tuiton&quot;, &quot;pwede&quot;)\r\n                                                .count()\r\n                                    .get(AggregateSource.SERVER).addOnCompleteListener(task4-&gt; {\r\n                                 entries.add(new PieEntry(task4.getResult().getCount(), &quot;pwede&quot;));\r\n                                                    if (task.isComplete()) {\r\n                                                    ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;();\r\n                                  for (int color : ColorTemplate.MATERIAL_COLORS) {\r\n                                                            colors.add(color); }\r\n                                  for (int color : ColorTemplate.VORDIPLOM_COLORS) {\r\n                                                     colors.add(color); }\r\n                                  PieDataSet dataSet = new PieDataSet(entries, &quot;&quot;);\r\n                                  dataSet.setColors(colors);\r\n                                  PieData data = new PieData(dataSet);\r\n                                  data.setValueFormatter(new ValueFormatter() {\r\n                                  @Override\r\n                                  public String getFormattedValue(float value) {\r\n                                  return String.valueOf((int) value)}\r\n                                  });\r\n                                 data.setDrawValues(true);\r\n                                 data.setValueTextSize(12f);\r\n                                 data.setValueTextColor(Color.BLACK);\r\n                                 pieChart.setData(data);\r\n                                 pieChart.invalidate();\r\n                                 pieChart.animateY(1000, Easing.EaseInOutQuad);\r\n                                                    }\r\n                                                });\r\n                                    });\r\n                        });\r\n            });\r\n```\r\n\r\nI&#39;m still getting the hang of Charts and even my group couldn&#39;t fix it.\r\n\r\nThis is my database\r\n![enter image description here][1]\r\n\r\nand this is the output\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NYX8z.png\r\n  [2]: https://i.stack.imgur.com/R0E2z.png","title":"How to fix display of Count in MpAndroidchart","body":"<p>I'm having a bit of trouble since when I get a count from my firestore database, it displays 25 instead of 1. I can't seem to solve this problem. I think it shows 1/4 of the count, since when I tried to add only three counts the output displays only 33.33.</p>\n<p>Here is my code, I have searched for ways to fix this but I don't seem to find ways to fix it.</p>\n<pre><code>private void setPieChart() {\n    pieChart.setDrawHoleEnabled(true);\n    pieChart.setUsePercentValues(true);\n    pieChart.setEntryLabelTextSize(12);\n    pieChart.setEntryLabelColor(Color.BLACK);\n    pieChart.setCenterTextSize(24);\n    pieChart.getDescription().setEnabled(false);\n\n    Legend l = pieChart.getLegend();\n    l.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\n    l.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\n    l.setOrientation(Legend.LegendOrientation.VERTICAL);\n    l.setDrawInside(false);\n    l.setEnabled(true);\n}\nprivate void loadPiechartData() {\n    entries = new ArrayList&lt;&gt;();\n    db.collection(&quot;charot&quot;)\n            .whereEqualTo(&quot;electricity&quot;, &quot;lugi&quot;)\n            .count()\n            .get(AggregateSource.SERVER).addOnCompleteListener(task -&gt; {\n                entries.add(new PieEntry(task.getResult().getCount(), &quot;lugi&quot;));\n\n                db.collection(&quot;charot&quot;)\n                        .whereEqualTo(&quot;mahal&quot;, &quot;bawi&quot;)\n                        .count()\n                        .get(AggregateSource.SERVER).addOnCompleteListener(task2 -&gt; {\n                            entries.add(new PieEntry(task2.getResult().getCount(), &quot;bawi&quot;));\n\n                            db.collection(&quot;charot&quot;)\n                                    .whereEqualTo(&quot;basta&quot;, &quot;ewan&quot;)\n                                    .count()\n                                    .get(AggregateSource.SERVER).addOnCompleteListener(task3 -&gt; {\n                                    entries.add(newPieEntry(task2.getResult().getCount(),&quot;ewan&quot;));\n                                        db.collection(&quot;charot&quot;)\n                                                .whereEqualTo(&quot;tuiton&quot;, &quot;pwede&quot;)\n                                                .count()\n                                    .get(AggregateSource.SERVER).addOnCompleteListener(task4-&gt; {\n                                 entries.add(new PieEntry(task4.getResult().getCount(), &quot;pwede&quot;));\n                                                    if (task.isComplete()) {\n                                                    ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;();\n                                  for (int color : ColorTemplate.MATERIAL_COLORS) {\n                                                            colors.add(color); }\n                                  for (int color : ColorTemplate.VORDIPLOM_COLORS) {\n                                                     colors.add(color); }\n                                  PieDataSet dataSet = new PieDataSet(entries, &quot;&quot;);\n                                  dataSet.setColors(colors);\n                                  PieData data = new PieData(dataSet);\n                                  data.setValueFormatter(new ValueFormatter() {\n                                  @Override\n                                  public String getFormattedValue(float value) {\n                                  return String.valueOf((int) value)}\n                                  });\n                                 data.setDrawValues(true);\n                                 data.setValueTextSize(12f);\n                                 data.setValueTextColor(Color.BLACK);\n                                 pieChart.setData(data);\n                                 pieChart.invalidate();\n                                 pieChart.animateY(1000, Easing.EaseInOutQuad);\n                                                    }\n                                                });\n                                    });\n                        });\n            });\n</code></pre>\n<p>I'm still getting the hang of Charts and even my group couldn't fix it.</p>\n<p>This is my database\n<img src=\"https://i.stack.imgur.com/NYX8z.png\" alt=\"enter image description here\" /></p>\n<p>and this is the output</p>\n<p><a href=\"https://i.stack.imgur.com/R0E2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R0E2z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","persistence","hql","case"],"answers":[{"comments":[{"owner":{"account_id":564151,"reputation":11,"user_id":182334,"display_name":"side_dish"},"score":0,"creation_date":1254387216,"post_id":1502647,"comment_id":1355675,"body_markdown":"ooppss... i just forgot to paste it here... :)","body":"ooppss... i just forgot to paste it here... :)"},{"owner":{"account_id":564151,"reputation":11,"user_id":182334,"display_name":"side_dish"},"score":0,"creation_date":1254389610,"post_id":1502647,"comment_id":1355839,"body_markdown":"do i need to to import classes for this or case is not supported in hql?","body":"do i need to to import classes for this or case is not supported in hql?"},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1254390067,"post_id":1502647,"comment_id":1355887,"body_markdown":"**case** is perfectly supported in hql (if the underlying database supports it).","body":"<b>case</b> is perfectly supported in hql (if the underlying database supports it)."},{"owner":{"account_id":564151,"reputation":11,"user_id":182334,"display_name":"side_dish"},"score":0,"creation_date":1254455131,"post_id":1502647,"comment_id":1361262,"body_markdown":"but what&#39;s this \nNo data type for node: org.hibernate.hql.ast.tree.CaseNode \nall about? what is wrong with the code?","body":"but what&#39;s this  No data type for node: org.hibernate.hql.ast.tree.CaseNode  all about? what is wrong with the code?"},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1254468714,"post_id":1502647,"comment_id":1361790,"body_markdown":"@side_dish I don&#39;t know for sure. I suggest uou try to make the simplest request to work, then add complexity little by little, until you encouter the error. Then, either you find the correction, or you ask us a more focused question with the simplest case that is wrong, stating what works and what doesn&#39;t ...","body":"@side_dish I don&#39;t know for sure. I suggest uou try to make the simplest request to work, then add complexity little by little, until you encouter the error. Then, either you find the correction, or you ask us a more focused question with the simplest case that is wrong, stating what works and what doesn&#39;t ..."}],"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254386051,"creation_date":1254386051,"answer_id":1502647,"question_id":1502536,"body_markdown":"I believe your forgot the table you want to query.\r\n\r\n         select \r\n           case \r\n             when min(start_day_plan) is not NULL then min(start_day_plan) \r\n             else to_date((min(insertDate)) - cast(&#39;1 month&#39; as interval),&#39;yyyy-MM-dd&#39; ) \r\n           end\r\n         from MyTable\r\n        ","title":"How can I use the sql case clause in HQL?","body":"<p>I believe your forgot the table you want to query.</p>\n\n<pre><code>     select \n       case \n         when min(start_day_plan) is not NULL then min(start_day_plan) \n         else to_date((min(insertDate)) - cast('1 month' as interval),'yyyy-MM-dd' ) \n       end\n     from MyTable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305902380,"creation_date":1305902380,"answer_id":6073522,"question_id":1502536,"body_markdown":"I stumble upon this same problem recently. My error came from the fact JPA expects the same fields name in the query **AND** in the entity class.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n@Entity\r\npublic class Foo {\r\n  private String field1;\r\n  ...\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIn the query `field1` is expected and not `Field1` nor `FIELD1` and so on ...","title":"How can I use the sql case clause in HQL?","body":"<p>I stumble upon this same problem recently. My error came from the fact JPA expects the same fields name in the query <strong>AND</strong> in the entity class.</p>\n\n<pre><code>\n@Entity\npublic class Foo {\n  private String field1;\n  ...\n}\n</code></pre>\n\n<p>In the query <code>field1</code> is expected and not <code>Field1</code> nor <code>FIELD1</code> and so on ...</p>\n"},{"tags":[],"owner":{"account_id":1321331,"reputation":123,"user_id":1267100,"display_name":"seberenimer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353357425,"creation_date":1353357425,"answer_id":13461780,"question_id":1502536,"body_markdown":"I had a similar problem and solution than [Stephan][1].  We use JPA annotations on the getter but the field name was starting with a capital (which is not a good practice anyway). \r\n\r\n    private Timestamp MyTime;\r\n    ...\r\n    @Column(name = &quot;MYTIME&quot;)\r\n    public Timestamp getMyTime() {\r\n        return MyTime;\r\n    }\r\n\r\nI think when Hibernate was resolving my field name based on the getter it was looking for a field named `myTime` but there was only `MyTime`.  The problem was solved when I renamed the field with the correct camel case convention (`myTime`) \r\n\r\n[1]: https://stackoverflow.com/a/6073522/1267100","title":"How can I use the sql case clause in HQL?","body":"<p>I had a similar problem and solution than <a href=\"https://stackoverflow.com/a/6073522/1267100\">Stephan</a>.  We use JPA annotations on the getter but the field name was starting with a capital (which is not a good practice anyway). </p>\n\n<pre><code>private Timestamp MyTime;\n...\n@Column(name = \"MYTIME\")\npublic Timestamp getMyTime() {\n    return MyTime;\n}\n</code></pre>\n\n<p>I think when Hibernate was resolving my field name based on the getter it was looking for a field named <code>myTime</code> but there was only <code>MyTime</code>.  The problem was solved when I renamed the field with the correct camel case convention (<code>myTime</code>) </p>\n"}],"owner":{"account_id":564151,"reputation":11,"user_id":182334,"display_name":"side_dish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1671501780,"creation_date":1254384254,"question_id":1502536,"body_markdown":"I really need help regarding this one. \r\n\r\nHere is the code snippet:\r\n\r\n  \r\n\r\n      hSql=&quot; select case \r\n          when min(start_day_plan) is not NULL then min(start_day_plan)\r\n          else to_date((min(insertDate)) - cast(&#39;1 month&#39; as interval),&#39;yyyy-MM-dd&#39; )\r\n          end \r\n          from Project&quot;\r\n        \r\n        getHibernateTemplate().find(hSql);\r\n\r\n\r\n\r\nBut this generates the error below:\r\n\r\n-------------------------------------------------------------------------------------------\r\n\r\n    java.lang.IllegalStateException: No data type for node: org.hibernate.hql.ast.tree.CaseNode \r\n     \\-[CASE] CaseNode: &#39;case&#39;\r\n        +-[WHEN] SqlNode: &#39;when&#39;\r\n        |  +-[IS_NOT_NULL] UnaryLogicOperatorNode: &#39;is not null&#39;\r\n        |  |  \\-[AGGREGATE] AggregateNode: &#39;min&#39;\r\n        |  |     \\-[IDENT] IdentNode: &#39;start_day_plan&#39; {originalText=start_day_plan}\r\n        |  \\-[AGGREGATE] AggregateNode: &#39;min&#39;\r\n        |     \\-[IDENT] IdentNode: &#39;start_day_plan&#39; {originalText=start_day_plan}\r\n        \\-[ELSE] SqlNode: &#39;else&#39;\r\n           \\-[METHOD_CALL] MethodNode: &#39;(&#39;\r\n              +-[METHOD_NAME] IdentNode: &#39;to_date&#39; {originalText=to_date}\r\n              \\-[EXPR_LIST] SqlNode: &#39;exprList&#39;\r\n                 +-[MINUS] BinaryArithmeticOperatorNode: &#39;-&#39; {dataType=org.hibernate.type.DoubleType@bb21ab}\r\n                 |  +-[AGGREGATE] AggregateNode: &#39;min&#39;\r\n                 |  |  \\-[IDENT] IdentNode: &#39;insertDate&#39; {originalText=insertDate}\r\n                 |  \\-[METHOD_CALL] MethodNode: &#39;(&#39;\r\n                 |     +-[METHOD_NAME] IdentNode: &#39;cast&#39; {originalText=cast}\r\n                 |     \\-[EXPR_LIST] SqlNode: &#39;exprList&#39;\r\n                 |        +-[QUOTED_STRING] LiteralNode: &#39;&#39;1 month&#39;&#39;\r\n                 |        \\-[IDENT] IdentNode: &#39;interval&#39; {originalText=interval}\r\n                 \\-[QUOTED_STRING] LiteralNode: &#39;&#39;yyyy-MM-dd&#39;&#39;\r\n\r\n\r\nwhat will be the correct query for this? im just trying to subtract 1 month from the insertdate.\r\n\r\nIf you could help, please do so..thanks :)\r\n\r\n&lt;/pre&gt;&lt;/html&gt;\r\n","title":"How can I use the sql case clause in HQL?","body":"<p>I really need help regarding this one. </p>\n\n<p>Here is the code snippet:</p>\n\n<pre><code>  hSql=\" select case \n      when min(start_day_plan) is not NULL then min(start_day_plan)\n      else to_date((min(insertDate)) - cast('1 month' as interval),'yyyy-MM-dd' )\n      end \n      from Project\"\n\n    getHibernateTemplate().find(hSql);\n</code></pre>\n\n<p>But this generates the error below:</p>\n\n<hr>\n\n<pre><code>java.lang.IllegalStateException: No data type for node: org.hibernate.hql.ast.tree.CaseNode \n \\-[CASE] CaseNode: 'case'\n    +-[WHEN] SqlNode: 'when'\n    |  +-[IS_NOT_NULL] UnaryLogicOperatorNode: 'is not null'\n    |  |  \\-[AGGREGATE] AggregateNode: 'min'\n    |  |     \\-[IDENT] IdentNode: 'start_day_plan' {originalText=start_day_plan}\n    |  \\-[AGGREGATE] AggregateNode: 'min'\n    |     \\-[IDENT] IdentNode: 'start_day_plan' {originalText=start_day_plan}\n    \\-[ELSE] SqlNode: 'else'\n       \\-[METHOD_CALL] MethodNode: '('\n          +-[METHOD_NAME] IdentNode: 'to_date' {originalText=to_date}\n          \\-[EXPR_LIST] SqlNode: 'exprList'\n             +-[MINUS] BinaryArithmeticOperatorNode: '-' {dataType=org.hibernate.type.DoubleType@bb21ab}\n             |  +-[AGGREGATE] AggregateNode: 'min'\n             |  |  \\-[IDENT] IdentNode: 'insertDate' {originalText=insertDate}\n             |  \\-[METHOD_CALL] MethodNode: '('\n             |     +-[METHOD_NAME] IdentNode: 'cast' {originalText=cast}\n             |     \\-[EXPR_LIST] SqlNode: 'exprList'\n             |        +-[QUOTED_STRING] LiteralNode: ''1 month''\n             |        \\-[IDENT] IdentNode: 'interval' {originalText=interval}\n             \\-[QUOTED_STRING] LiteralNode: ''yyyy-MM-dd''\n</code></pre>\n\n<p>what will be the correct query for this? im just trying to subtract 1 month from the insertdate.</p>\n\n<p>If you could help, please do so..thanks :)</p>\n\n<p></p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":1,"creation_date":1671509653,"post_id":74857769,"comment_id":132109460,"body_markdown":"if you just want to create shadowJar for :b ; just add the same plugin in b/build.gradle","body":"if you just want to create shadowJar for :b ; just add the same plugin in b/build.gradle"}],"owner":{"display_name":"user17319252"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671501455,"creation_date":1671500928,"question_id":74857769,"body_markdown":"I have a multi module gradle project of which module &#39;a&#39; is creating a fat jar using the shadowJar task from johnrengelman. I want to shadow module &#39;b&#39; but from the output of a specific task in &#39;b&#39;. How can I do it?\r\n\r\na/build.gradle\r\n```\r\nplugins {\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:b&#39;)\r\n}\r\n\r\nshadowJar {\r\n    // shadow with a specific task from module b&#39;s?\r\n}\r\n```\r\n\r\ncurrently it seems that gradle is shadowing module b with its default `jar` task which is expected. Output when creating the fat jar with the shadowJar task:\r\n\r\n```\r\n&gt; Task :b:compileJava UP-TO-DATE\r\n&gt; Task :b:processResources NO-SOURCE\r\n&gt; Task :b:classes UP-TO-DATE\r\n&gt; Task :b:jar UP-TO-DATE // I want it to use my specific task\r\n&gt; Task :a:compileJava UP-TO-DATE\r\n&gt; Task :a:processResources\r\n&gt; Task :a:classes\r\n&gt; Task :a:jar\r\n```","title":"creating a shadow jar with a specific gradle task","body":"<p>I have a multi module gradle project of which module 'a' is creating a fat jar using the shadowJar task from johnrengelman. I want to shadow module 'b' but from the output of a specific task in 'b'. How can I do it?</p>\n<p>a/build.gradle</p>\n<pre><code>plugins {\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\ndependencies {\n    implementation project(':b')\n}\n\nshadowJar {\n    // shadow with a specific task from module b's?\n}\n</code></pre>\n<p>currently it seems that gradle is shadowing module b with its default <code>jar</code> task which is expected. Output when creating the fat jar with the shadowJar task:</p>\n<pre><code>&gt; Task :b:compileJava UP-TO-DATE\n&gt; Task :b:processResources NO-SOURCE\n&gt; Task :b:classes UP-TO-DATE\n&gt; Task :b:jar UP-TO-DATE // I want it to use my specific task\n&gt; Task :a:compileJava UP-TO-DATE\n&gt; Task :a:processResources\n&gt; Task :a:classes\n&gt; Task :a:jar\n</code></pre>\n"},{"tags":["java","profiling","visualization","stack-trace"],"answers":[{"comments":[{"owner":{"account_id":39947,"reputation":11998,"user_id":115493,"accept_rate":62,"display_name":"mik01aj"},"score":0,"creation_date":1417727673,"post_id":27297438,"comment_id":43071299,"body_markdown":"Thanks! With this answer I was able to create the flame graph (I used `sleep 0.001`). It&#39;s not very convenient (e.g. it&#39;s hard to profile application startup), but works :) An extended answer would be highly appreciated, though.","body":"Thanks! With this answer I was able to create the flame graph (I used <code>sleep 0.001</code>). It&#39;s not very convenient (e.g. it&#39;s hard to profile application startup), but works :) An extended answer would be highly appreciated, though."},{"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"score":0,"creation_date":1417728366,"post_id":27297438,"comment_id":43071662,"body_markdown":"Is the hard part to profile the application startup the problem to get the process-id quick enough? If yes: How do you start your application? from an IDE (Eclipse/Netbeans/...), or from the command line/Terminal? If it&#39;s from the Terminal, with bash you could use `$!` to get the process number of the last started process. Putting the java-command and the above one-liner into a shell-file, and changing the one-liner to `while true; jstack $! &gt;&gt; stack.txt; sleep 0.001; done` and then starting that shell-script could reduce the lost time at startup to a minimum, I guess.","body":"Is the hard part to profile the application startup the problem to get the process-id quick enough? If yes: How do you start your application? from an IDE (Eclipse/Netbeans/...), or from the command line/Terminal? If it&#39;s from the Terminal, with bash you could use <code>$!</code> to get the process number of the last started process. Putting the java-command and the above one-liner into a shell-file, and changing the one-liner to <code>while true; jstack $! &gt;&gt; stack.txt; sleep 0.001; done</code> and then starting that shell-script could reduce the lost time at startup to a minimum, I guess."}],"tags":[],"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535559140,"creation_date":1417706050,"answer_id":27297438,"question_id":27228972,"body_markdown":"Did you try the `jstack` command? just run it on the command line: `jstack pidOfJavaProcess &gt; stack.txt` (naturally, replacing pidOfJavaProcess with the actual process number). You could run this in a loop in bash (the default shell used on Mac OS X):\r\n\r\n    while true; do jstack pidOfJavaProcess &gt;&gt; stack.txt; sleep 1.0; done\r\n\r\nnote the `&gt;&gt;` to append to the file, and not overwrite it each second. Press `Ctrl+C` to stop logging the stack traces.\r\n\r\nThis will only generate the java stack traces, and not the native call stacks from the JVM.","title":"How to get Java profiling dump for creating flame graphs on the mac?","body":"<p>Did you try the <code>jstack</code> command? just run it on the command line: <code>jstack pidOfJavaProcess &gt; stack.txt</code> (naturally, replacing pidOfJavaProcess with the actual process number). You could run this in a loop in bash (the default shell used on Mac OS X):</p>\n\n<pre><code>while true; do jstack pidOfJavaProcess &gt;&gt; stack.txt; sleep 1.0; done\n</code></pre>\n\n<p>note the <code>&gt;&gt;</code> to append to the file, and not overwrite it each second. Press <code>Ctrl+C</code> to stop logging the stack traces.</p>\n\n<p>This will only generate the java stack traces, and not the native call stacks from the JVM.</p>\n"},{"tags":[],"owner":{"account_id":39947,"reputation":11998,"user_id":115493,"accept_rate":62,"display_name":"mik01aj"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1418132697,"creation_date":1418132697,"answer_id":27380404,"question_id":27228972,"body_markdown":"I created 2 little shell scripts based on @cello&#39;s answer. They generate [hot/cold flame graphs](http://www.brendangregg.com/FlameGraphs/hotcoldflamegraphs.html).\r\n\r\nGet them from [this Gist](https://gist.github.com/mik01aj/1811bb1ccf7dd5f716ce).\r\n\r\nUsage:\r\n\r\n    ps ax | grep java # find the PID of your process\r\n    ./profile.sh 20402 stacks.txt\r\n    ./gen.sh stacks.txt\r\n\r\nAlternatively, to measure application from startup (in this, case, my gradle build that also needed to be run in another directory and with some input stream) I used:\r\n\r\n    cd ../my-project; ./gradlew --no-daemon clean build &lt; /dev/zero &amp;; cd -; ./profile.sh $! stacks.txt\r\n    ./gen.sh stacks.txt\r\n\r\nResults:\r\n\r\n![flame graphs](http://i.stack.imgur.com/LvK7y.jpg)\r\n\r\nIn this example, I can clearly see that my application is I/O bound (notice blue bars on top).","title":"How to get Java profiling dump for creating flame graphs on the mac?","body":"<p>I created 2 little shell scripts based on @cello's answer. They generate <a href=\"http://www.brendangregg.com/FlameGraphs/hotcoldflamegraphs.html\" rel=\"noreferrer\">hot/cold flame graphs</a>.</p>\n\n<p>Get them from <a href=\"https://gist.github.com/mik01aj/1811bb1ccf7dd5f716ce\" rel=\"noreferrer\">this Gist</a>.</p>\n\n<p>Usage:</p>\n\n<pre><code>ps ax | grep java # find the PID of your process\n./profile.sh 20402 stacks.txt\n./gen.sh stacks.txt\n</code></pre>\n\n<p>Alternatively, to measure application from startup (in this, case, my gradle build that also needed to be run in another directory and with some input stream) I used:</p>\n\n<pre><code>cd ../my-project; ./gradlew --no-daemon clean build &lt; /dev/zero &amp;; cd -; ./profile.sh $! stacks.txt\n./gen.sh stacks.txt\n</code></pre>\n\n<p>Results:</p>\n\n<p><img src=\"https://i.stack.imgur.com/LvK7y.jpg\" alt=\"flame graphs\"></p>\n\n<p>In this example, I can clearly see that my application is I/O bound (notice blue bars on top).</p>\n"},{"tags":[],"owner":{"account_id":6445151,"reputation":151,"user_id":4993862,"display_name":"saquib khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1433928722,"creation_date":1433924302,"answer_id":30750832,"question_id":27228972,"body_markdown":"Try this: https://github.com/saquibkhan/javaFlameGraph\r\n\r\n&gt; ##Installation\r\n&gt; ```npm install javaflamegraph```\r\n&gt; \r\n&gt; ##Usage\r\n&gt; 1. ```cd javaflamegraph```\r\n&gt; 2. ```npm start``` - This will wait till it detects a process with name &#39;Java&#39;. Can be best best used to start profiling at program\r\n&gt; startup.\r\n&gt; 3. ```npm run start &lt;process id&gt;``` - This will start profiling for the given process id.\r\n&gt;     e.g. ```npm run start 1234```\r\n\r\n","title":"How to get Java profiling dump for creating flame graphs on the mac?","body":"<p>Try this: <a href=\"https://github.com/saquibkhan/javaFlameGraph\" rel=\"nofollow\">https://github.com/saquibkhan/javaFlameGraph</a></p>\n\n<blockquote>\n  <h2>Installation</h2>\n  \n  <p><code>npm install javaflamegraph</code></p>\n  \n  <h2>Usage</h2>\n  \n  <ol>\n  <li><code>cd javaflamegraph</code></li>\n  <li><code>npm start</code> - This will wait till it detects a process with name 'Java'. Can be best best used to start profiling at program\n  startup.</li>\n  <li><code>npm run start &lt;process id&gt;</code> - This will start profiling for the given process id.\n  e.g. <code>npm run start 1234</code></li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1535561714,"creation_date":1535546404,"answer_id":52077719,"question_id":27228972,"body_markdown":"Good news, the FlameGraph repository has &quot;a script&quot; to work with jstacks already in it.\r\n\r\nhttps://github.com/brendangregg/FlameGraph\r\n\r\nIt&#39;s the `stackcollapse-jstack.pl`.\r\n\r\nIt seems that by default it expects just stack trace after stack trace in its input, and counts each one as &quot;a sample point.&quot;\r\n\r\nSo you can just do multiple jstack&#39;s into a file (run this once or a few times, or once a second &quot;for awhile&quot; etc.):\r\n\r\n`jstack pid_of_your_jvm &gt;&gt; my_jstack`\r\n\r\nThen execute that script:\r\n\r\n     ./stackcollapse-jstack.pl my_jstack &gt; my_jstack.folded\r\n\r\nand finally convert to flamegraph:\r\n\r\n     ./flamegraph.pl --color=java my_jstack.folded &gt; my_jstack.svg\r\n\r\nNo third party helpers required (though they may still be useful).\r\n\r\nNote also that the `stackcollapse-jstack.pl` file discards non RUNNABLE threads, you may want to tweak that if you want to also include &quot;idle&quot; threads (typically you don&#39;t).\r\n\r\nApparently you could use the linux &quot;perf&quot; command to generate stacks for a java process, as well, see the README https://github.com/brendangregg/FlameGraph\r\n\r\nThis might include more native calls, for instance.","title":"How to get Java profiling dump for creating flame graphs on the mac?","body":"<p>Good news, the FlameGraph repository has \"a script\" to work with jstacks already in it.</p>\n\n<p><a href=\"https://github.com/brendangregg/FlameGraph\" rel=\"noreferrer\">https://github.com/brendangregg/FlameGraph</a></p>\n\n<p>It's the <code>stackcollapse-jstack.pl</code>.</p>\n\n<p>It seems that by default it expects just stack trace after stack trace in its input, and counts each one as \"a sample point.\"</p>\n\n<p>So you can just do multiple jstack's into a file (run this once or a few times, or once a second \"for awhile\" etc.):</p>\n\n<p><code>jstack pid_of_your_jvm &gt;&gt; my_jstack</code></p>\n\n<p>Then execute that script:</p>\n\n<pre><code> ./stackcollapse-jstack.pl my_jstack &gt; my_jstack.folded\n</code></pre>\n\n<p>and finally convert to flamegraph:</p>\n\n<pre><code> ./flamegraph.pl --color=java my_jstack.folded &gt; my_jstack.svg\n</code></pre>\n\n<p>No third party helpers required (though they may still be useful).</p>\n\n<p>Note also that the <code>stackcollapse-jstack.pl</code> file discards non RUNNABLE threads, you may want to tweak that if you want to also include \"idle\" threads (typically you don't).</p>\n\n<p>Apparently you could use the linux \"perf\" command to generate stacks for a java process, as well, see the README <a href=\"https://github.com/brendangregg/FlameGraph\" rel=\"noreferrer\">https://github.com/brendangregg/FlameGraph</a></p>\n\n<p>This might include more native calls, for instance.</p>\n"},{"tags":[],"owner":{"account_id":182285,"reputation":1925,"user_id":416868,"accept_rate":0,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671501016,"creation_date":1671501016,"answer_id":74857774,"question_id":27228972,"body_markdown":"**Install Flamegrpah**\r\n\r\n```bash\r\n$ wget https://raw.githubusercontent.com/brendangregg/FlameGraph/master/flamegraph.pl\r\n$ wget https://raw.githubusercontent.com/brendangregg/FlameGraph/master/stackcollapse-jstack.pl\r\n$ chmod +x *.pl\r\n# Copy those Perl scripts into the PATH location\r\n```\r\n\r\n**Collect the stacktrace of running java application**\r\n\r\n```bash    \r\n# Run multiple times (in loop) to get more samples\r\n$ jcmd &lt;Java Pid&gt; Thread.print &gt;&gt; jcmd.tdump\r\n```\r\n\r\n**Generate flamegraph**\r\n```bash\r\n$ stackcollapse-jstack.pl jcmd.tdump &gt; jcmd.tdump.folded\r\n$ flamegraph.pl --color=io --title &quot;Thread Dump&quot; --countname &quot;Samples&quot; --width 1080 jcmd.tdump.folded &gt; jcmd.tdump.svg \r\n```\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mGeJw.png","title":"How to get Java profiling dump for creating flame graphs on the mac?","body":"<p><strong>Install Flamegrpah</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://raw.githubusercontent.com/brendangregg/FlameGraph/master/flamegraph.pl\n$ wget https://raw.githubusercontent.com/brendangregg/FlameGraph/master/stackcollapse-jstack.pl\n$ chmod +x *.pl\n# Copy those Perl scripts into the PATH location\n</code></pre>\n<p><strong>Collect the stacktrace of running java application</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code># Run multiple times (in loop) to get more samples\n$ jcmd &lt;Java Pid&gt; Thread.print &gt;&gt; jcmd.tdump\n</code></pre>\n<p><strong>Generate flamegraph</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ stackcollapse-jstack.pl jcmd.tdump &gt; jcmd.tdump.folded\n$ flamegraph.pl --color=io --title &quot;Thread Dump&quot; --countname &quot;Samples&quot; --width 1080 jcmd.tdump.folded &gt; jcmd.tdump.svg \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mGeJw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGeJw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":39947,"reputation":11998,"user_id":115493,"accept_rate":62,"display_name":"mik01aj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5487,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27380404,"answer_count":5,"score":9,"last_activity_date":1671501016,"creation_date":1417438817,"question_id":27228972,"body_markdown":"I&#39;d like to collect stacktraces from my Java app for creating [CPU Flame Graphs](http://www.brendangregg.com/FlameGraphs/cpuflamegraphs.html) for profiling.\r\n\r\nThis is very similar to this question: https://stackoverflow.com/questions/10333376/how-to-get-complete-stack-dump-from-profiler-in-every-sample-for-use-in-flame-gr with 2 differences:\r\n\r\n1. I work with Java code and I need Java stacktraces\r\n2. I&#39;m working on Mac (this means there is no `pref` and AFAIK `dtrace` on OSX doesn&#39;t support `jstack`extension).\r\n\r\nI have already tried [lightweight-java-profiler](https://code.google.com/p/lightweight-java-profiler/) and [Honest profiler](https://github.com/RichardWarburton/honest-profiler), and both of them don&#39;t seem to work on Mac. I also Tried [VisualVM](http://visualvm.java.net), but I couldn&#39;t get it to produce the stacktrace dumps that I needed.\r\n\r\nFirst prioirty for me are flame graphs generated from Java stacktraces, but having the native call stack as well would be great, because it would let me address the I/O issues (and maybe even generate [hot/cold flame graphs](http://www.brendangregg.com/FlameGraphs/hotcoldflamegraphs.html)).\r\n","title":"How to get Java profiling dump for creating flame graphs on the mac?","body":"<p>I'd like to collect stacktraces from my Java app for creating <a href=\"http://www.brendangregg.com/FlameGraphs/cpuflamegraphs.html\" rel=\"nofollow noreferrer\">CPU Flame Graphs</a> for profiling.</p>\n\n<p>This is very similar to this question: <a href=\"https://stackoverflow.com/questions/10333376/how-to-get-complete-stack-dump-from-profiler-in-every-sample-for-use-in-flame-gr\">How to get complete stack dump from profiler in every sample for use in flame graph?</a> with 2 differences:</p>\n\n<ol>\n<li>I work with Java code and I need Java stacktraces</li>\n<li>I'm working on Mac (this means there is no <code>pref</code> and AFAIK <code>dtrace</code> on OSX doesn't support <code>jstack</code>extension).</li>\n</ol>\n\n<p>I have already tried <a href=\"https://code.google.com/p/lightweight-java-profiler/\" rel=\"nofollow noreferrer\">lightweight-java-profiler</a> and <a href=\"https://github.com/RichardWarburton/honest-profiler\" rel=\"nofollow noreferrer\">Honest profiler</a>, and both of them don't seem to work on Mac. I also Tried <a href=\"http://visualvm.java.net\" rel=\"nofollow noreferrer\">VisualVM</a>, but I couldn't get it to produce the stacktrace dumps that I needed.</p>\n\n<p>First prioirty for me are flame graphs generated from Java stacktraces, but having the native call stack as well would be great, because it would let me address the I/O issues (and maybe even generate <a href=\"http://www.brendangregg.com/FlameGraphs/hotcoldflamegraphs.html\" rel=\"nofollow noreferrer\">hot/cold flame graphs</a>).</p>\n"},{"tags":["java","spring-boot","visual-studio-code","intellij-idea","proxy"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1671174089,"post_id":74819938,"comment_id":132046244,"body_markdown":"`How do I use Maven through a proxy?` (https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy)","body":"<code>How do I use Maven through a proxy?</code> (<a href=\"https://stackoverflow.com/questions/1251192/how-do-i-use-maven-through-a-proxy\" title=\"how do i use maven through a proxy\">stackoverflow.com/questions/1251192/&hellip;</a>)"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1671179146,"post_id":74819938,"comment_id":132047417,"body_markdown":"There is nothing wrong with your configuration, is there another setting causing the error? See [here](https://code.visualstudio.com/docs/setup/network#_proxy-server-support) for detailed settings.","body":"There is nothing wrong with your configuration, is there another setting causing the error? See <a href=\"https://code.visualstudio.com/docs/setup/network#_proxy-server-support\" rel=\"nofollow noreferrer\">here</a> for detailed settings."}],"answers":[{"tags":[],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671500796,"creation_date":1671500796,"answer_id":74857750,"question_id":74819938,"body_markdown":"The comment by life888888 pointed me in the right direction.  The organization has its own settings.xml file which lists the web address as a mirror to the maven repository. Once, I used the correct file and placed it in my .m2 folder, all worked as it should.  I did not need to configure proxy settings at all.","title":"POM file not compiling, autoproxy.pac file not working","body":"<p>The comment by life888888 pointed me in the right direction.  The organization has its own settings.xml file which lists the web address as a mirror to the maven repository. Once, I used the correct file and placed it in my .m2 folder, all worked as it should.  I did not need to configure proxy settings at all.</p>\n"}],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74857750,"answer_count":1,"score":0,"last_activity_date":1671500796,"creation_date":1671161906,"question_id":74819938,"body_markdown":"I have an application working on Intellij Ultimate edition.  There I noticed, it had an option in HTTP Proxy to autodetect proxy settings.  I click the checkmark that says Automatic proxy Configuration URL: `http://webconfig.org.com/autoproxy.pac` org is a replacement for company and I am able to download artifacts from the organization.\r\n\r\nI try to replicate this in visual studio code.  I&#39;ve given the same information in settings.json\r\n\r\n```\r\n    &quot;http.proxyStrictSSL&quot;: false,\r\n    &quot;http.proxyAuthorization&quot;: null,\r\n    &quot;http.proxy&quot;: &quot;http://webconfig.org.com/autoproxy.pac&quot;,\r\n```\r\n\r\nbut it won&#39;t work. I do not see a setting for autodetect proxy in VS code.  Since my pom files have errors, the application will not recognize or load the main class file.  What is the proper way to configure the proxy settings in vs code, so that I can reach artifacts within my organization?\r\n\r\n","title":"POM file not compiling, autoproxy.pac file not working","body":"<p>I have an application working on Intellij Ultimate edition.  There I noticed, it had an option in HTTP Proxy to autodetect proxy settings.  I click the checkmark that says Automatic proxy Configuration URL: <code>http://webconfig.org.com/autoproxy.pac</code> org is a replacement for company and I am able to download artifacts from the organization.</p>\n<p>I try to replicate this in visual studio code.  I've given the same information in settings.json</p>\n<pre><code>    &quot;http.proxyStrictSSL&quot;: false,\n    &quot;http.proxyAuthorization&quot;: null,\n    &quot;http.proxy&quot;: &quot;http://webconfig.org.com/autoproxy.pac&quot;,\n</code></pre>\n<p>but it won't work. I do not see a setting for autodetect proxy in VS code.  Since my pom files have errors, the application will not recognize or load the main class file.  What is the proper way to configure the proxy settings in vs code, so that I can reach artifacts within my organization?</p>\n"},{"tags":["java","android","android-navigation-bar"],"owner":{"account_id":24724844,"reputation":1,"user_id":18613528,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671498754,"creation_date":1671498754,"question_id":74857592,"body_markdown":"I need the NavigationBar to display only the navigation bar strip.\r\n\r\nTo do this, I added the following to `themes.xml`\r\n\r\n~~~\r\n&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\r\n&lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\r\n~~~\r\n\r\nBut this is not enough, since my NavigationBar has a translucent backgraund, to fix this, I found this code.\r\n\r\n~~~\r\ngetWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n~~~\r\n\r\nAnd in a sense it worked, but everything disappeared for me, including the navigation bar strip. How can I implement what I want?\r\n\r\nIt is necessary that only the strip is displayed on top of the activity, without background.","title":"Make NavigationBar completely transparent","body":"<p>I need the NavigationBar to display only the navigation bar strip.</p>\n<p>To do this, I added the following to <code>themes.xml</code></p>\n<pre><code>&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;\n&lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>But this is not enough, since my NavigationBar has a translucent backgraund, to fix this, I found this code.</p>\n<pre><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n</code></pre>\n<p>And in a sense it worked, but everything disappeared for me, including the navigation bar strip. How can I implement what I want?</p>\n<p>It is necessary that only the strip is displayed on top of the activity, without background.</p>\n"},{"tags":["java","android","kotlin","type-mismatch"],"comments":[{"owner":{"account_id":13492977,"reputation":1827,"user_id":9734616,"display_name":"Brijesh Joshi"},"score":0,"creation_date":1530604279,"post_id":51149239,"comment_id":89282191,"body_markdown":"post your code.","body":"post your code."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1530604287,"post_id":51149239,"comment_id":89282193,"body_markdown":"What is &quot;java library map&quot;? Where is your code?","body":"What is &quot;java library map&quot;? Where is your code?"},{"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"score":2,"creation_date":1530604712,"post_id":51149239,"comment_id":89282422,"body_markdown":"Show the code for your `JavaModel` class, in particular the `params` field declaration.","body":"Show the code for your <code>JavaModel</code> class, in particular the <code>params</code> field declaration."},{"owner":{"account_id":8297723,"reputation":1301,"user_id":6237400,"accept_rate":0,"display_name":"DiRiNoiD"},"score":0,"creation_date":1530604833,"post_id":51149239,"comment_id":89282482,"body_markdown":"İt is compiled code I am not able to see it. Only thing that I can say is JavaModel.params is Map&lt;String, Object&gt;","body":"İt is compiled code I am not able to see it. Only thing that I can say is JavaModel.params is Map&lt;String, Object&gt;"},{"owner":{"account_id":3518564,"reputation":329,"user_id":5962682,"display_name":"Piyapan Poomsirivilai"},"score":0,"creation_date":1650440679,"post_id":51149239,"comment_id":127113515,"body_markdown":"I try to reproduce problem using Java 11, Kotlin 1.6.10 but it can compile and run without any problem. I think that Kotlin already supported this type conversion.","body":"I try to reproduce problem using Java 11, Kotlin 1.6.10 but it can compile and run without any problem. I think that Kotlin already supported this type conversion."}],"answers":[{"comments":[{"owner":{"account_id":536400,"reputation":1344,"user_id":905414,"display_name":"3mpty"},"score":0,"creation_date":1530606372,"post_id":51149715,"comment_id":89283302,"body_markdown":"Kotlin will show Type mismatch for such code:\n    `var param: MutableMap&lt;String, Object?&gt; = hashMapOf(); param.put(&quot;key&quot;, &quot;&quot;)`","body":"Kotlin will show Type mismatch for such code:     <code>var param: MutableMap&lt;String, Object?&gt; = hashMapOf(); param.put(&quot;key&quot;, &quot;&quot;)</code>"},{"owner":{"account_id":8297723,"reputation":1301,"user_id":6237400,"accept_rate":0,"display_name":"DiRiNoiD"},"score":0,"creation_date":1530607045,"post_id":51149715,"comment_id":89283719,"body_markdown":"Your are right 3mpty, so what is the solution? Both solution gives exact same error.","body":"Your are right 3mpty, so what is the solution? Both solution gives exact same error."},{"owner":{"account_id":943365,"reputation":4244,"user_id":971070,"accept_rate":44,"display_name":"Hong Duan"},"score":0,"creation_date":1530610025,"post_id":51149715,"comment_id":89285481,"body_markdown":"Seems right, @DiRiNoiD you should share more info about your `JavaModel`","body":"Seems right, @DiRiNoiD you should share more info about your <code>JavaModel</code>"}],"tags":[],"owner":{"account_id":943365,"reputation":4244,"user_id":971070,"accept_rate":44,"display_name":"Hong Duan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530605768,"creation_date":1530605768,"answer_id":51149715,"question_id":51149239,"body_markdown":"Java&#39;s `Object` is not the same as Kotlin&#39;s `Any`, so the type `MutableMap&lt;String, Any&gt;` and `Map&lt;String, Object&gt;?` mismatched, because you cannot change the 3rd party java library, just declare the `params` as:\r\n\r\n    val params: MutableMap&lt;String, Object&gt; = HashMap()\r\n","title":"Android kotlin Object Any type mismatch","body":"<p>Java's <code>Object</code> is not the same as Kotlin's <code>Any</code>, so the type <code>MutableMap&lt;String, Any&gt;</code> and <code>Map&lt;String, Object&gt;?</code> mismatched, because you cannot change the 3rd party java library, just declare the <code>params</code> as:</p>\n\n<pre><code>val params: MutableMap&lt;String, Object&gt; = HashMap()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":536400,"reputation":1344,"user_id":905414,"display_name":"3mpty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530606120,"creation_date":1530606120,"answer_id":51149814,"question_id":51149239,"body_markdown":"`JavaModel.params`requires explicitly `&lt;String, Object&gt;`. You cannot use Kotlin `Any` there. Also `HashMap` in Kotlin is mapped type so your best shot is to do simple workaround:\r\n\r\nExtend HashMap from java, ex. `ParamsMap.java`:\r\n\r\n    public class ParamsMap extends HashMap&lt;String, Object&gt; { }\r\n\r\nAnd use it like this:\r\n\r\n    val model = JavaModel()\r\n\r\n    val params = ParamsMap()\r\n    params.put(&quot;key&quot;,&quot;value&quot;)\r\n    model.params = params","title":"Android kotlin Object Any type mismatch","body":"<p><code>JavaModel.params</code>requires explicitly <code>&lt;String, Object&gt;</code>. You cannot use Kotlin <code>Any</code> there. Also <code>HashMap</code> in Kotlin is mapped type so your best shot is to do simple workaround:</p>\n\n<p>Extend HashMap from java, ex. <code>ParamsMap.java</code>:</p>\n\n<pre><code>public class ParamsMap extends HashMap&lt;String, Object&gt; { }\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>val model = JavaModel()\n\nval params = ParamsMap()\nparams.put(\"key\",\"value\")\nmodel.params = params\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8297723,"reputation":1301,"user_id":6237400,"accept_rate":0,"display_name":"DiRiNoiD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530607506,"creation_date":1530607506,"answer_id":51150241,"question_id":51149239,"body_markdown":"The only thing I can achieve this is to create a new Java class and do the operation inside it. I give the params Java Map as parameter and and I made the operation inside the Java class.\r\n\r\nKotlin automatically behaves any Object as Any so it gives type mismatch for the assignment.\r\n\r\n    public class ObjectMapper {\r\n        public static void setParam(Map&lt;String, Object&gt; params, String key, String value) {\r\n            params.put(key, value);\r\n        }\r\n    }","title":"Android kotlin Object Any type mismatch","body":"<p>The only thing I can achieve this is to create a new Java class and do the operation inside it. I give the params Java Map as parameter and and I made the operation inside the Java class.</p>\n\n<p>Kotlin automatically behaves any Object as Any so it gives type mismatch for the assignment.</p>\n\n<pre><code>public class ObjectMapper {\n    public static void setParam(Map&lt;String, Object&gt; params, String key, String value) {\n        params.put(key, value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8297723,"reputation":1301,"user_id":6237400,"accept_rate":0,"display_name":"DiRiNoiD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10543,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":3,"score":9,"last_activity_date":1671498320,"creation_date":1530604234,"question_id":51149239,"body_markdown":"How to assign kotlin map&lt;String, Any&gt; to java library map&lt;String, Object&gt;.\r\nThis gives type mismatch error for Object and Any.\r\n\r\nI need to assign java map&lt;String, Object&gt; variable in a 3rd party java library, from my kotlin code map&lt;String, Any&gt;.\r\n\r\n    val model = JavaModel() //from 3rd party java library\r\n    \r\n    val params:MutableMap&lt;String, Any&gt; = HashMap()\r\n    params.put(&quot;key&quot;,&quot;value&quot;)\r\n    model.params = params //gives error below\r\n\r\nType mismatch: inferred type is `MutableMap&lt;String, Any&gt;` but `Map&lt;String, Object&gt;?` was expected","title":"Android kotlin Object Any type mismatch","body":"<p>How to assign kotlin map to java library map.\nThis gives type mismatch error for Object and Any.</p>\n\n<p>I need to assign java map variable in a 3rd party java library, from my kotlin code map.</p>\n\n<pre><code>val model = JavaModel() //from 3rd party java library\n\nval params:MutableMap&lt;String, Any&gt; = HashMap()\nparams.put(\"key\",\"value\")\nmodel.params = params //gives error below\n</code></pre>\n\n<p>Type mismatch: inferred type is <code>MutableMap&lt;String, Any&gt;</code> but <code>Map&lt;String, Object&gt;?</code> was expected</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":23954317,"reputation":15,"user_id":17945419,"display_name":"compsci"},"score":0,"creation_date":1671453781,"post_id":74847515,"comment_id":132095580,"body_markdown":"Dang thanks! Actually, I&#39;ve seen that solution but disregarded since it was on 2018 hoping by now that there would be a way rather than copying","body":"Dang thanks! Actually, I&#39;ve seen that solution but disregarded since it was on 2018 hoping by now that there would be a way rather than copying"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671461408,"post_id":74847515,"comment_id":132098061,"body_markdown":"Did my answer help? Can I help you with other information?","body":"Did my answer help? Can I help you with other information?"},{"owner":{"account_id":23954317,"reputation":15,"user_id":17945419,"display_name":"compsci"},"score":0,"creation_date":1671498036,"post_id":74847515,"comment_id":132107996,"body_markdown":"Oh surely it helps, In the DatabaseReference fromPath i just pass there the old class and and in &quot;toPath&quot; I passed the new class from the string input from the user.  Then, called the method in the buttononlick event, after that I removed the value of the old class and changed the value of the new class so the new class will be synced will the recylerview.  I&#39;ve wrtitten an update to the question for reference.","body":"Oh surely it helps, In the DatabaseReference fromPath i just pass there the old class and and in &quot;toPath&quot; I passed the new class from the string input from the user.  Then, called the method in the buttononlick event, after that I removed the value of the old class and changed the value of the new class so the new class will be synced will the recylerview.  I&#39;ve wrtitten an update to the question for reference."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671522489,"post_id":74847515,"comment_id":132111643,"body_markdown":"So did my answer help you solve the problem?","body":"So did my answer help you solve the problem?"},{"owner":{"account_id":23954317,"reputation":15,"user_id":17945419,"display_name":"compsci"},"score":0,"creation_date":1671586505,"post_id":74847515,"comment_id":132129635,"body_markdown":"Yeah it answers, but in my case I just added some code for it to change the the value of the key, cause if I use the code alone, the key changes but not the value of the key which is vital in my case cause the value is needed in the recyler view","body":"Yeah it answers, but in my case I just added some code for it to change the the value of the key, cause if I use the code alone, the key changes but not the value of the key which is vital in my case cause the value is needed in the recyler view"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671435875,"creation_date":1671435875,"answer_id":74847515,"question_id":74846643,"body_markdown":"You cannot update the name of a key once it was set. If you need to change the key, then you need to copy that particular node to another location, provide the new name, and then delete the old record. There is no other solution for that. To copy a node from one location to another, please see my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/50147779/failed-to-parse-note-when-adding-firebase-completelistener/50153774","title":"Update key In Firebase Database inside the Dialog","body":"<p>You cannot update the name of a key once it was set. If you need to change the key, then you need to copy that particular node to another location, provide the new name, and then delete the old record. There is no other solution for that. To copy a node from one location to another, please see my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50147779/failed-to-parse-note-when-adding-firebase-completelistener/50153774\">How to copy a record from a location to another in Firebase realtime database?</a></li>\n</ul>\n"}],"owner":{"account_id":23954317,"reputation":15,"user_id":17945419,"display_name":"compsci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671463091,"accepted_answer_id":74847515,"answer_count":1,"score":0,"last_activity_date":1671498270,"creation_date":1671428539,"question_id":74846643,"body_markdown":"Is there any way to update this key in the Firebase? Seems like the value is updating but not the key itself.\r\n\r\n[Firebase Key Image](https://i.stack.imgur.com/nwTuO.png)\r\n\r\nI&#39;ve tried using hashmap with `updateChildren` and setValue as well, it is working but only the value of that key is Updating not the key itself like this:\r\n[Key No Updating](https://i.stack.imgur.com/uWk6P.png)\r\n\r\nThis is the code of the update button in the dialog class:\r\n\r\n\r\n\r\n```\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        userId = user.getUid();\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(addClassinput.getText().toString());\r\nclassBtn.setOnClickListener(new View.OnClickListener() {\r\n@Override\r\npublic void onClick(View v) {\r\nreference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        if(!addClassinput.getText().toString().isEmpty()){\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;getClassName&quot;, addClassinput.getText().toString());\r\n\r\n\r\n            FirebaseDatabase.getInstance().getReference(&quot;Users&quot;) .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                    .child(&quot;Courses&quot;).child(getClass).updateChildren(map)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void unused) {\r\n                            Toast.makeText(getContext(), &quot;Updated Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(getContext(), &quot;Error Updating!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n        }\r\n        else{\r\n            Toast.makeText(getContext(), &quot;Invalid Input!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n   }\r\n });\r\n```\r\nP.S\r\nThis thing surely helps:\r\nhttps://stackoverflow.com/questions/50147779/how-to-copy-a-record-from-a-location-to-another-in-firebase-realtime-database/50153774#50153774\r\n\r\nHere is my update of the code and it is working fine:\r\n\r\n     user = FirebaseAuth.getInstance().getCurrentUser();\r\n            userId = user.getUid();\r\n            reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(getClass);\r\n    \r\n            classBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ref2 = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(addClassinput.getText().toString());\r\n                    moveRecord(reference, ref2);\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(getClass).removeValue();\r\n    \r\n                    reference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            String key = snapshot.getKey();\r\n                            if(!addClassinput.getText().toString().isEmpty()){\r\n                                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                                map.put(&quot;getClassName&quot;, addClassinput.getText().toString());\r\n    \r\n    \r\n                                FirebaseDatabase.getInstance().getReference(&quot;Users&quot;) .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                                        .child(&quot;Courses&quot;).child(addClassinput.getText().toString()).updateChildren(map)\r\n                                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onSuccess(Void unused) {\r\n                                                Toast.makeText(getContext(), &quot;Updated Successfully!&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        })\r\n                                        .addOnFailureListener(new OnFailureListener() {\r\n                                            @Override\r\n                                            public void onFailure(@NonNull Exception e) {\r\n                                                Toast.makeText(getContext(), &quot;Error Updating!&quot;, Toast.LENGTH_SHORT).show();\r\n                                            }\r\n                                        });\r\n    \r\n                            }\r\n                            else{\r\n                                Toast.makeText(getContext(), &quot;Invalid Input!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n                }\r\n            });\r\n    private void moveRecord(DatabaseReference fromPath, final DatabaseReference toPath) {\r\n            ValueEventListener valueEventListener = new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    toPath.setValue(dataSnapshot.getValue()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if (task.isComplete()) {\r\n                                Log.d(TAG, &quot;Success!&quot;);\r\n                            } else {\r\n                                Log.d(TAG, &quot;Copy failed!&quot;);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Log.d(TAG, databaseError.getMessage()); //Don&#39;t ignore potential errors!\r\n                }\r\n            };\r\n            fromPath.addListenerForSingleValueEvent(valueEventListener);\r\n        }\r\n\r\n","title":"Update key In Firebase Database inside the Dialog","body":"<p>Is there any way to update this key in the Firebase? Seems like the value is updating but not the key itself.</p>\n<p><a href=\"https://i.stack.imgur.com/nwTuO.png\" rel=\"nofollow noreferrer\">Firebase Key Image</a></p>\n<p>I've tried using hashmap with <code>updateChildren</code> and setValue as well, it is working but only the value of that key is Updating not the key itself like this:\n<a href=\"https://i.stack.imgur.com/uWk6P.png\" rel=\"nofollow noreferrer\">Key No Updating</a></p>\n<p>This is the code of the update button in the dialog class:</p>\n<pre><code>        user = FirebaseAuth.getInstance().getCurrentUser();\n        userId = user.getUid();\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(addClassinput.getText().toString());\nclassBtn.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View v) {\nreference.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        if(!addClassinput.getText().toString().isEmpty()){\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n            map.put(&quot;getClassName&quot;, addClassinput.getText().toString());\n\n\n            FirebaseDatabase.getInstance().getReference(&quot;Users&quot;) .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                    .child(&quot;Courses&quot;).child(getClass).updateChildren(map)\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void unused) {\n                            Toast.makeText(getContext(), &quot;Updated Successfully&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(getContext(), &quot;Error Updating!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n        }\n        else{\n            Toast.makeText(getContext(), &quot;Invalid Input!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n   }\n });\n</code></pre>\n<p>P.S\nThis thing surely helps:\n<a href=\"https://stackoverflow.com/questions/50147779/how-to-copy-a-record-from-a-location-to-another-in-firebase-realtime-database/50153774#50153774\">How to copy a record from a location to another in Firebase realtime database?</a></p>\n<p>Here is my update of the code and it is working fine:</p>\n<pre><code> user = FirebaseAuth.getInstance().getCurrentUser();\n        userId = user.getUid();\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(getClass);\n\n        classBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ref2 = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(addClassinput.getText().toString());\n                moveRecord(reference, ref2);\n                FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(userId).child(&quot;Courses&quot;).child(getClass).removeValue();\n\n                reference.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        String key = snapshot.getKey();\n                        if(!addClassinput.getText().toString().isEmpty()){\n                            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                            map.put(&quot;getClassName&quot;, addClassinput.getText().toString());\n\n\n                            FirebaseDatabase.getInstance().getReference(&quot;Users&quot;) .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                                    .child(&quot;Courses&quot;).child(addClassinput.getText().toString()).updateChildren(map)\n                                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onSuccess(Void unused) {\n                                            Toast.makeText(getContext(), &quot;Updated Successfully!&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    })\n                                    .addOnFailureListener(new OnFailureListener() {\n                                        @Override\n                                        public void onFailure(@NonNull Exception e) {\n                                            Toast.makeText(getContext(), &quot;Error Updating!&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    });\n\n                        }\n                        else{\n                            Toast.makeText(getContext(), &quot;Invalid Input!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n            }\n        });\nprivate void moveRecord(DatabaseReference fromPath, final DatabaseReference toPath) {\n        ValueEventListener valueEventListener = new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                toPath.setValue(dataSnapshot.getValue()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if (task.isComplete()) {\n                            Log.d(TAG, &quot;Success!&quot;);\n                        } else {\n                            Log.d(TAG, &quot;Copy failed!&quot;);\n                        }\n                    }\n                });\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.d(TAG, databaseError.getMessage()); //Don't ignore potential errors!\n            }\n        };\n        fromPath.addListenerForSingleValueEvent(valueEventListener);\n    }\n</code></pre>\n"},{"tags":["java","arrays","scala","iterator"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":4,"creation_date":1671474058,"post_id":74853856,"comment_id":132102524,"body_markdown":"Pretty sure `Array.fill()` actually creates an array... that&#39;s a bad idea for `MAX_INT`, it&#39;s a *really* bad idea for `MAX_LONG`. No computer has that much memory, or ever will. You want to create a lazy iterator - you don&#39;t need to store everything to be able to meet the interface of `Iterator`.","body":"Pretty sure <code>Array.fill()</code> actually creates an array... that&#39;s a bad idea for <code>MAX_INT</code>, it&#39;s a <i>really</i> bad idea for <code>MAX_LONG</code>. No computer has that much memory, or ever will. You want to create a lazy iterator - you don&#39;t need to store everything to be able to meet the interface of <code>Iterator</code>."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1671478267,"post_id":74853856,"comment_id":132103698,"body_markdown":"You could use `Iterator.continually` and then take only the number of items you want maybe. Depends your use case: what do you want to do with it after?","body":"You could use <code>Iterator.continually</code> and then take only the number of items you want maybe. Depends your use case: what do you want to do with it after?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1671498466,"post_id":74853856,"comment_id":132108047,"body_markdown":"Scala arrays reuse Java functionality. And Java arrays can&#39;t be long-indexed https://stackoverflow.com/questions/27333879/can-you-index-an-array-with-a-long-int","body":"Scala arrays reuse Java functionality. And Java arrays can&#39;t be long-indexed <a href=\"https://stackoverflow.com/questions/27333879/can-you-index-an-array-with-a-long-int\" title=\"can you index an array with a long int\">stackoverflow.com/questions/27333879/&hellip;</a>"}],"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671498076,"creation_date":1671470421,"question_id":74853856,"body_markdown":"I can create an iterator of INTEGER.MAX_VALUE elements via:\r\n\r\n```\r\nclass MyClass {\r\n// irrelevant details\r\n}\r\n\r\nprivate def expandMyClass(notExpanded: Iterator[MyClass], amount: Int): Iterator[MyClass] = {\r\n  notExpanded.flatMap(c =&gt; {\r\n    Array.fill(amount)(MyClass())\r\n  }\r\n}\r\n```\r\n\r\nHow can I create iterators up to LONG.MAX_VALUE? Java collections seem to have a max number of elements up to INTEGER.MAX_VALUE. Something like this:\r\n\r\n```\r\nprivate def expandMyClass(notExpanded: Iterator[MyClass], amount: Long): Iterator[MyClass] = {\r\n  notExpanded.flatMap(c =&gt; {\r\n    Array.fill(amount)(MyClass()) // amount is a Long, won&#39;t work here\r\n  }\r\n}\r\n```","title":"Create Iterator up to LONG.MAX_VALUE number of elements","body":"<p>I can create an iterator of INTEGER.MAX_VALUE elements via:</p>\n<pre><code>class MyClass {\n// irrelevant details\n}\n\nprivate def expandMyClass(notExpanded: Iterator[MyClass], amount: Int): Iterator[MyClass] = {\n  notExpanded.flatMap(c =&gt; {\n    Array.fill(amount)(MyClass())\n  }\n}\n</code></pre>\n<p>How can I create iterators up to LONG.MAX_VALUE? Java collections seem to have a max number of elements up to INTEGER.MAX_VALUE. Something like this:</p>\n<pre><code>private def expandMyClass(notExpanded: Iterator[MyClass], amount: Long): Iterator[MyClass] = {\n  notExpanded.flatMap(c =&gt; {\n    Array.fill(amount)(MyClass()) // amount is a Long, won't work here\n  }\n}\n</code></pre>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"display_name":"user890904"},"score":0,"creation_date":1351178441,"post_id":13071264,"comment_id":17756707,"body_markdown":"What do you want as a result ? the whole paragraph removed ? or &lt;p&gt;&lt;/p&gt; ?","body":"What do you want as a result ? the whole paragraph removed ? or &lt;p&gt;&lt;/p&gt; ?"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1351242423,"post_id":13071264,"comment_id":17776598,"body_markdown":"I want to clean the whole paragraph","body":"I want to clean the whole paragraph"},{"owner":{"display_name":"user890904"},"score":0,"creation_date":1351626037,"post_id":13071264,"comment_id":17882366,"body_markdown":"If you upload the file where we can get it, it would be easier to inspect it and give a working code.","body":"If you upload the file where we can get it, it would be easier to inspect it and give a working code."}],"answers":[{"comments":[{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1351242623,"post_id":13072144,"comment_id":17776674,"body_markdown":"&lt;p&gt;&amp;nbsp;&lt;/p&gt; returns &lt;p&gt; &lt;/p&gt;; but i want to remove the whole line &lt;p&gt;&amp;nbsp;&lt;/p&gt;","body":"&lt;p&gt;&amp;nbsp;&lt;/p&gt; returns &lt;p&gt; &lt;/p&gt;; but i want to remove the whole line &lt;p&gt;&amp;nbsp;&lt;/p&gt;"},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":0,"creation_date":1351456930,"post_id":13072144,"comment_id":17826836,"body_markdown":"Ok, see my edit. But please make shure you dont write a blank instead of char 160 in the regex :-)","body":"Ok, see my edit. But please make shure you dont write a blank instead of char 160 in the regex :-)"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":1,"creation_date":1351527366,"post_id":13072144,"comment_id":17847959,"body_markdown":"As you say, with `code`doc.select(&quot;p:matchesOwn((?is)\\u00a0&quot;).remove();`code` I remove `code`&lt;p&gt;&amp;nbsp;&lt;/p&gt;`code`, but how can I remove `code`&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...etc...&lt;/p&gt;`code`\n???","body":"As you say, with <code>code</code>doc.select(&quot;p:matchesOwn((?is)\\u00a0&quot;).remove();<code>code</code> I remove <code>code</code>&lt;p&gt;&amp;nbsp;&lt;/p&gt;<code>code</code>, but how can I remove <code>code</code>&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...etc...&lt;/p&gt;<code>code</code> ???"},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":1,"creation_date":1351528532,"post_id":13072144,"comment_id":17848536,"body_markdown":"If the code from above doesn&#39;t remove more than one `&amp;nbsp;` you can use this regex instead: `&quot;p:matchesOwn((?is)&#160;+?)&quot;`.","body":"If the code from above doesn&#39;t remove more than one <code>&amp;nbsp;</code> you can use this regex instead: <code>&quot;p:matchesOwn((?is) +?)&quot;</code>."},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1351541561,"post_id":13072144,"comment_id":17853809,"body_markdown":"Thanks for the efforts, but none of this work: &quot;p:matchesOwn((?is)\\u00a0+?)&quot; &quot;p:matchesOwn((?is)(\\u00a0)+?)&quot;","body":"Thanks for the efforts, but none of this work: &quot;p:matchesOwn((?is)\\u00a0+?)&quot; &quot;p:matchesOwn((?is)(\\u00a0)+?)&quot;"},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":0,"creation_date":1351546463,"post_id":13072144,"comment_id":17855924,"body_markdown":"Did you copy &amp; paste the regex of my post? Please try it with the &quot;blank&quot; as in my post and not with \\u00a0.","body":"Did you copy &amp; paste the regex of my post? Please try it with the &quot;blank&quot; as in my post and not with \\u00a0."},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1351585509,"post_id":13072144,"comment_id":17863956,"body_markdown":"Ollo, I have discovered that the dirty html comes with a mixture of #160 and #32 whitespaces. Do you know the master expression to kill all of them? thanks thanks thanks...","body":"Ollo, I have discovered that the dirty html comes with a mixture of #160 and #32 whitespaces. Do you know the master expression to kill all of them? thanks thanks thanks..."},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":0,"creation_date":1351624702,"post_id":13072144,"comment_id":17881794,"body_markdown":"Please try this one `&quot;p:matchesOwn((?is)&#160;), p:not(:matchesOwn((?is)\\\\S+?)&quot;`. Unfortunately a simple `p:matchesOwn((?is)[  ]+?&quot;)` didn&#39;t work (there are #160 and #32 between []). Even `p:matchesOwn((?is)[ \\\\s]+?&quot;)` didn&#39;t (using Jsoup 1.7.1) ... maybe a bug? However ... now there&#39;s a combination between a regex for #160 and one for whitespaces, let us see if it works :-)","body":"Please try this one <code>&quot;p:matchesOwn((?is) ), p:not(:matchesOwn((?is)\\\\S+?)&quot;</code>. Unfortunately a simple <code>p:matchesOwn((?is)[  ]+?&quot;)</code> didn&#39;t work (there are #160 and #32 between []). Even <code>p:matchesOwn((?is)[ \\\\s]+?&quot;)</code> didn&#39;t (using Jsoup 1.7.1) ... maybe a bug? However ... now there&#39;s a combination between a regex for #160 and one for whitespaces, let us see if it works :-)"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1351681744,"post_id":13072144,"comment_id":17898860,"body_markdown":"Hi Ollo, with your &quot;p:matchesOwn((?is) ), p:not(:matchesOwn((?is)\\\\S+?)&quot; expression, all inside &lt;p&gt;...&lt;/p&gt; its removed, except one blank (&lt;p&gt;&#160;&lt;/p&gt;). Don&#39;t worry. I think I&#39;am going to use HTML Clean plug-in for jQuery (and give you the green stick for the time spent on this issue)","body":"Hi Ollo, with your &quot;p:matchesOwn((?is) ), p:not(:matchesOwn((?is)\\\\S+?)&quot; expression, all inside &lt;p&gt;...&lt;/p&gt; its removed, except one blank (&lt;p&gt; &lt;/p&gt;). Don&#39;t worry. I think I&#39;am going to use HTML Clean plug-in for jQuery (and give you the green stick for the time spent on this issue)"},{"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"score":0,"creation_date":1351681968,"post_id":13072144,"comment_id":17898958,"body_markdown":"Doh! As stated above, Jsoup doesn&#39;t support the posted regex otherwise it won&#39;t be a problem. Maybe [HtmlCleaner](http://htmlcleaner.sourceforge.net/) is an option too. But if the jquery Plugin does it&#39;s job ... perfect! :-)","body":"Doh! As stated above, Jsoup doesn&#39;t support the posted regex otherwise it won&#39;t be a problem. Maybe <a href=\"http://htmlcleaner.sourceforge.net/\" rel=\"nofollow noreferrer\">HtmlCleaner</a> is an option too. But if the jquery Plugin does it&#39;s job ... perfect! :-)"}],"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"comment_count":10,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1671497855,"creation_date":1351179296,"answer_id":13072144,"question_id":13071264,"body_markdown":"You can change the `OutputSettings` for this:\r\n\r\n**Example:**\r\n\r\n    final String html = ...;\r\n    \r\n    \r\n    OutputSettings settings = new OutputSettings();\r\n    settings.escapeMode(Entities.EscapeMode.xhtml);\r\n    \r\n    String cleanHtml = Jsoup.clean(html, &quot;&quot;, Whitelist.relaxed(), settings);\r\n\r\nThis is possible with a `Document` parsed by Jsoup too:\r\n\r\n    Document doc = Jsoup.parse(...);\r\n    doc.outputSettings().escapeMode(Entities.EscapeMode.xhtml);\r\n    \r\n    // ...\r\n\r\n\r\n----------\r\n\r\n**Edit:**\r\n\r\nRemoving tags:\r\n\r\n    doc.select(&quot;p:matchesOwn((?is)&#160;)&quot;).remove();\r\n\r\nPlease note: after `(?is)` there&#39;s **not** a blank, but *char #160* (= nbsp).\r\nThis will remove all p-Tags whose own text is only a `&amp;nbsp;`. If you want do so with all other tags, you can replace the `p:` with `*:`.","title":"alternative of JSoup or how to clean whitespaces","body":"<p>You can change the <code>OutputSettings</code> for this:</p>\n<p><strong>Example:</strong></p>\n<pre><code>final String html = ...;\n\n\nOutputSettings settings = new OutputSettings();\nsettings.escapeMode(Entities.EscapeMode.xhtml);\n\nString cleanHtml = Jsoup.clean(html, &quot;&quot;, Whitelist.relaxed(), settings);\n</code></pre>\n<p>This is possible with a <code>Document</code> parsed by Jsoup too:</p>\n<pre><code>Document doc = Jsoup.parse(...);\ndoc.outputSettings().escapeMode(Entities.EscapeMode.xhtml);\n\n// ...\n</code></pre>\n<hr />\n<p><strong>Edit:</strong></p>\n<p>Removing tags:</p>\n<pre><code>doc.select(&quot;p:matchesOwn((?is) )&quot;).remove();\n</code></pre>\n<p>Please note: after <code>(?is)</code> there's <strong>not</strong> a blank, but <em>char #160</em> (= nbsp).\nThis will remove all p-Tags whose own text is only a <code>&amp;nbsp;</code>. If you want do so with all other tags, you can replace the <code>p:</code> with <code>*:</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user890904"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351252745,"creation_date":1351252745,"answer_id":13086531,"question_id":13071264,"body_markdown":"If you have the document object, you can loop over the paragrap elements and remove all those that don&#39;t have text (or non white space text) in them. before checking if the text is empty, you can replace the occurrences of NBSP; with white space. Assuming your working ith UTF-8 documents the following might work for you:\r\n\r\n    public static final String NBSP_IN_UTF8 = &quot;\\u00a0&quot;; \r\n\r\nAssuming you know how to get the Document object, the loop to clean is simple: select the paragraph elements and remove empty ones:\r\n\r\n    org.jsoup.nodes.Document doc= ...   //obtain your document object  \r\n    for (org.jsoup.nodes.Element element : doc.select(&quot;p&quot;)) {\r\n        if ( !element.hasText() || element.text().replaceAll(NBSP_IN_UTF8, &quot;&quot;).trim().equals(&quot;&quot;) ) {\r\n           element.remove();\r\n        }\r\n      }\r\n\r\n\r\n","title":"alternative of JSoup or how to clean whitespaces","body":"<p>If you have the document object, you can loop over the paragrap elements and remove all those that don't have text (or non white space text) in them. before checking if the text is empty, you can replace the occurrences of NBSP; with white space. Assuming your working ith UTF-8 documents the following might work for you:</p>\n\n<pre><code>public static final String NBSP_IN_UTF8 = \"\\u00a0\"; \n</code></pre>\n\n<p>Assuming you know how to get the Document object, the loop to clean is simple: select the paragraph elements and remove empty ones:</p>\n\n<pre><code>org.jsoup.nodes.Document doc= ...   //obtain your document object  \nfor (org.jsoup.nodes.Element element : doc.select(\"p\")) {\n    if ( !element.hasText() || element.text().replaceAll(NBSP_IN_UTF8, \"\").trim().equals(\"\") ) {\n       element.remove();\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11295,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13072144,"answer_count":2,"score":4,"last_activity_date":1671497855,"creation_date":1351176604,"question_id":13071264,"body_markdown":"Does somebody know an alternative of **JSoup**?\r\n\r\nOr how to clean sequences like `&lt;p&gt;&amp;nbsp;&lt;/p&gt;`?\r\n\r\n**HTML Clean plug-in for jQuery** works well for me, but I&#39;m interested in doing the html code cleaning at **server side**, not in the **client side**.\r\n\r\nOr, what is the replaceAll expression to do??:\r\n\r\n    String cleanS = dirtyS.replaceAll(&quot;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&quot;, &quot;&quot;); //This doesnt work\r\n\r\nI have discovered that the dirty html comes with mixed sequences of blank spaces **#160**, and others like **#32**.\r\n\r\n\r\nSo, what I need is a expression to remove whatever mixture of them.\r\n\r\n![mix space blank][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/o8vsA.png","title":"alternative of JSoup or how to clean whitespaces","body":"<p>Does somebody know an alternative of <strong>JSoup</strong>?</p>\n\n<p>Or how to clean sequences like <code>&lt;p&gt;&amp;nbsp;&lt;/p&gt;</code>?</p>\n\n<p><strong>HTML Clean plug-in for jQuery</strong> works well for me, but I'm interested in doing the html code cleaning at <strong>server side</strong>, not in the <strong>client side</strong>.</p>\n\n<p>Or, what is the replaceAll expression to do??:</p>\n\n<pre><code>String cleanS = dirtyS.replaceAll(\"&lt;p&gt;&amp;nbsp;&lt;/p&gt;\", \"\"); //This doesnt work\n</code></pre>\n\n<p>I have discovered that the dirty html comes with mixed sequences of blank spaces <strong>#160</strong>, and others like <strong>#32</strong>.</p>\n\n<p>So, what I need is a expression to remove whatever mixture of them.</p>\n\n<p><img src=\"https://i.stack.imgur.com/o8vsA.png\" alt=\"mix space blank\"></p>\n"},{"tags":["java","methods","multidimensional-array"],"comments":[{"owner":{"account_id":84917,"reputation":6829,"user_id":237109,"accept_rate":78,"display_name":"Micah Armantrout"},"score":0,"creation_date":1329677044,"post_id":9351955,"comment_id":11806552,"body_markdown":"public class Test3 {\n private double[][] a= new double[3][5];","body":"public class Test3 {  private double[][] a= new double[3][5];"}],"answers":[{"comments":[{"owner":{"account_id":14561529,"reputation":936,"user_id":11378666,"display_name":"Gerke"},"score":1,"creation_date":1633693787,"post_id":9351971,"comment_id":122834179,"body_markdown":"This is not 100% true. If you pass Objects between methods, e.g. ArrayLists and modify a value of them, the value will also be modified in the calling method.","body":"This is not 100% true. If you pass Objects between methods, e.g. ArrayLists and modify a value of them, the value will also be modified in the calling method."}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1329676659,"creation_date":1329676659,"answer_id":9351971,"question_id":9351955,"body_markdown":"You can&#39;t.  Variables defined inside a method are local to that method.\r\n\r\nIf you want to share variables between methods, then you&#39;ll need to specify them as member variables of the class.  Alternatively, you can pass them from one method to another as arguments (this isn&#39;t always applicable).","title":"How to use a variable of one method in another method?","body":"<p>You can't.  Variables defined inside a method are local to that method.</p>\n\n<p>If you want to share variables between methods, then you'll need to specify them as member variables of the class.  Alternatively, you can pass them from one method to another as arguments (this isn't always applicable).</p>\n"},{"tags":[],"owner":{"account_id":233248,"reputation":18133,"user_id":498609,"accept_rate":73,"display_name":"Diego"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329676778,"creation_date":1329676778,"answer_id":9351996,"question_id":9351955,"body_markdown":"Just move the declaration of `a` to make it a private property of class `Test3`, like this:\r\n\r\n    public class Test3 {\r\n     \r\n      private double[][] a;\r\n      public void Scores() { \r\n       a= new double[3][5];\r\n       int i,j;\r\n    ...etc...","title":"How to use a variable of one method in another method?","body":"<p>Just move the declaration of <code>a</code> to make it a private property of class <code>Test3</code>, like this:</p>\n\n<pre><code>public class Test3 {\n\n  private double[][] a;\n  public void Scores() { \n   a= new double[3][5];\n   int i,j;\n...etc...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1196026,"reputation":11248,"user_id":1167744,"accept_rate":79,"display_name":"Parth Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329676978,"creation_date":1329676978,"answer_id":9352027,"question_id":9351955,"body_markdown":"just make a[i][j] as class variable, declare it outside the `Scores()`, just below the class name\r\n\r\n\r\n\r\n    public class Test3 {\r\n      double[][] a= new double[3][5];\r\n      public void Scores() { \r\n       ....\r\n      }\r\n      .....\r\n    }","title":"How to use a variable of one method in another method?","body":"<p>just make a[i][j] as class variable, declare it outside the <code>Scores()</code>, just below the class name</p>\n\n<pre><code>public class Test3 {\n  double[][] a= new double[3][5];\n  public void Scores() { \n   ....\n  }\n  .....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84917,"reputation":6829,"user_id":237109,"accept_rate":78,"display_name":"Micah Armantrout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329677085,"creation_date":1329677085,"answer_id":9352041,"question_id":9351955,"body_markdown":"Pass in a argument or make a class var\r\n","title":"How to use a variable of one method in another method?","body":"<p>Pass in a argument or make a class var</p>\n"},{"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1329678221,"post_id":9352156,"comment_id":11806853,"body_markdown":"Note: if you do this and test the code from the method &#39;public static void main(String args)&#39; then you will need to create an instance of the class by doing &#39;Test3 instance = new Test3()&#39;. Then call the method with &#39;instance.Scores()&#39;.","body":"Note: if you do this and test the code from the method &#39;public static void main(String args)&#39; then you will need to create an instance of the class by doing &#39;Test3 instance = new Test3()&#39;. Then call the method with &#39;instance.Scores()&#39;."}],"tags":[],"owner":{"account_id":1261428,"reputation":191,"user_id":1219612,"display_name":"DunClickMeBro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329677801,"creation_date":1329677801,"answer_id":9352156,"question_id":9351955,"body_markdown":"If you want to be able to use the 2d-matrix a, you need to declare it outside of your methods.\r\n    \r\n    public class Test3 {\r\n        double[][] a= new double[3][5]; \r\n\r\n        public void Scores() { \r\n           //double[][] a= new double[3][5];  \r\n           int i,j;\r\n\r\n           for(i=0; i&lt;3; i++ ){\r\n              for(j=0; j&lt;5; j++){\r\n                a[i][j]= (double) Math.random(); \r\n                System.out.println(&quot;a[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; +a[i][j]);\r\n              }   \r\n           }   \r\n        }\r\n        .......\r\n\r\nYou&#39;ll see that I&#39;ve moved the declaration of a (formerly inside Scores(), and which I have commented out) outside the function, and it is now a field of the class Test3.  **When you declare a variable inside a function, it is local to that function.  It cannot be seen by other functions, etc.  If you declare it as a class field, your functions can see it.**  Take a look at this, as it may help.  http://www.java2s.com/Tutorial/Java/0020__Language/VariableScope.htm\r\nThe term &quot;scope&quot; just refers to the lifetime of a variable and where it can be seen.  Hope this helps!","title":"How to use a variable of one method in another method?","body":"<p>If you want to be able to use the 2d-matrix a, you need to declare it outside of your methods.</p>\n\n<pre><code>public class Test3 {\n    double[][] a= new double[3][5]; \n\n    public void Scores() { \n       //double[][] a= new double[3][5];  \n       int i,j;\n\n       for(i=0; i&lt;3; i++ ){\n          for(j=0; j&lt;5; j++){\n            a[i][j]= (double) Math.random(); \n            System.out.println(\"a[\" + i + \"][\" + j + \"] = \" +a[i][j]);\n          }   \n       }   \n    }\n    .......\n</code></pre>\n\n<p>You'll see that I've moved the declaration of a (formerly inside Scores(), and which I have commented out) outside the function, and it is now a field of the class Test3.  <strong>When you declare a variable inside a function, it is local to that function.  It cannot be seen by other functions, etc.  If you declare it as a class field, your functions can see it.</strong>  Take a look at this, as it may help.  Language/VariableScope.htm\">http://www.java2s.com/Tutorial/Java/0020_Language/VariableScope.htm\nThe term \"scope\" just refers to the lifetime of a variable and where it can be seen.  Hope this helps!</p>\n"},{"tags":[],"owner":{"display_name":"user620244"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1329679924,"creation_date":1329679924,"answer_id":9352477,"question_id":9351955,"body_markdown":"Looks like you&#39;re using instance methods instead of static ones.\r\n\r\nIf you don&#39;t want to create an object, you should declare all your methods static, so something like\r\n\r\n    private static void methodName(Argument args...)\r\n\r\nIf you want a variable to be accessible by all these methods, you should initialise it outside the methods and to limit its scope, declare it private.\r\n\r\n    private static int[][] array = new int[3][5];\r\n\r\nGlobal variables are usually looked down upon (especially for situations like your one) because in a large-scale program they can wreak havoc, so making it private will prevent some problems at the least.\r\n\r\nAlso, I&#39;ll say the usual: You should try to keep your code a bit tidy. Use descriptive class, method and variable names and keep your code neat (with proper indentation, linebreaks etc.) and consistent.\r\n\r\nHere&#39;s a final (shortened) example of what your code should be like:\r\n\r\n    public class Test3 {\r\n        //Use this array in your methods\r\n        private static int[][] scores = new int[3][5];\r\n\r\n        /* Rather than just &quot;Scores&quot; name it so people know what\r\n         * to expect\r\n         */\r\n        private static void createScores() {\r\n            //Code...\r\n        }\r\n        //Other methods...\r\n\r\n        /* Since you&#39;re now using static methods, you don&#39;t \r\n         * have to initialise an object and call its methods.\r\n         */\r\n        public static void main(String[] args){\r\n            createScores();\r\n            MD();   //Don&#39;t know what these do\r\n            sumD(); //so I&#39;ll leave them.\r\n        }\r\n    }\r\n\r\nIdeally, since you&#39;re using an array, you would create the array in the main method and pass it as an argument across each method, but explaining how that works is probably a whole new question on its own so I&#39;ll leave it at that.","title":"How to use a variable of one method in another method?","body":"<p>Looks like you're using instance methods instead of static ones.</p>\n\n<p>If you don't want to create an object, you should declare all your methods static, so something like</p>\n\n<pre><code>private static void methodName(Argument args...)\n</code></pre>\n\n<p>If you want a variable to be accessible by all these methods, you should initialise it outside the methods and to limit its scope, declare it private.</p>\n\n<pre><code>private static int[][] array = new int[3][5];\n</code></pre>\n\n<p>Global variables are usually looked down upon (especially for situations like your one) because in a large-scale program they can wreak havoc, so making it private will prevent some problems at the least.</p>\n\n<p>Also, I'll say the usual: You should try to keep your code a bit tidy. Use descriptive class, method and variable names and keep your code neat (with proper indentation, linebreaks etc.) and consistent.</p>\n\n<p>Here's a final (shortened) example of what your code should be like:</p>\n\n<pre><code>public class Test3 {\n    //Use this array in your methods\n    private static int[][] scores = new int[3][5];\n\n    /* Rather than just \"Scores\" name it so people know what\n     * to expect\n     */\n    private static void createScores() {\n        //Code...\n    }\n    //Other methods...\n\n    /* Since you're now using static methods, you don't \n     * have to initialise an object and call its methods.\n     */\n    public static void main(String[] args){\n        createScores();\n        MD();   //Don't know what these do\n        sumD(); //so I'll leave them.\n    }\n}\n</code></pre>\n\n<p>Ideally, since you're using an array, you would create the array in the main method and pass it as an argument across each method, but explaining how that works is probably a whole new question on its own so I'll leave it at that.</p>\n"},{"tags":[],"owner":{"account_id":4680627,"reputation":1,"user_id":3789431,"display_name":"Atikant Negi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404114526,"creation_date":1404114526,"answer_id":24485253,"question_id":9351955,"body_markdown":"    public class Test3 {\r\n      double[][] a=new double[3][5];\r\n      public void Scores() { \r\n   \r\n       int i,j;\r\n\r\n       for(i=0; i&lt;3; i++ ){\r\n            for(j=0; j&lt;5; j++){\r\n                    a[i][j]= (double) Math.random(); \r\n                    System.out.println(&quot;a[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; +a[i][j]);\r\n            }   \r\n       }   \r\n    }\r\n      public void MD(){\r\n       double[][] b =new double[3][5];\r\n       int [] m = new int[5];\r\n       int i,j;\r\n       //double[][] a= new double[3][5];\r\n\r\n       for(j= 0; j&lt;5; j++)\r\n            for(i=0 ; i&lt;3 ; i++) \r\n            {\r\n               b[i][j]=0.0;                                                    \r\n               if(a[i][j]&gt;0.0) \r\n                  m[j]++;\r\n            }   \r\n        for(j= 0; j&lt;5; j++){\r\n            for(i=0 ; i&lt;3 ; i++) {\r\n               if(a[i][j] &gt; 0.0){\r\n                   b[i][j]=a[i][j]*m[j];\r\n                   System.out.println(&quot;b[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; + b[i][j]);\r\n               }    \r\n           }        \r\n       }                \r\n    }\r\n\r\n    public void sumD(){\r\n\r\n    int i,j,n;\r\n    double[] sum= new double[3];\r\n    double[] k= new double[3];\r\n    //double[][] a= new double[3][5];\r\n\r\n      for(i=0; i&lt;3; i++){\r\n          n=0;\r\n          sum[i]=0.0;\r\n          for(j=0; j&lt;5; j++){\r\n              if(a[i][j]&gt;0.0){\r\n                  sum[i] += (a[i][j])*2;\r\n                  n++;\r\n              }                \r\n          }\r\n          k[i]=sum[i]/n;\r\n           System.out.println(&quot;k[&quot; + i + &quot;] = &quot; + k[i]); \r\n      }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        Test3 print= new Test3();\r\n        print.Scores();\r\n        print.MD();\r\n        print.sumD();\r\n\r\n     }  \r\n    }","title":"How to use a variable of one method in another method?","body":"<pre><code>public class Test3 {\n  double[][] a=new double[3][5];\n  public void Scores() { \n\n   int i,j;\n\n   for(i=0; i&lt;3; i++ ){\n        for(j=0; j&lt;5; j++){\n                a[i][j]= (double) Math.random(); \n                System.out.println(\"a[\" + i + \"][\" + j + \"] = \" +a[i][j]);\n        }   \n   }   \n}\n  public void MD(){\n   double[][] b =new double[3][5];\n   int [] m = new int[5];\n   int i,j;\n   //double[][] a= new double[3][5];\n\n   for(j= 0; j&lt;5; j++)\n        for(i=0 ; i&lt;3 ; i++) \n        {\n           b[i][j]=0.0;                                                    \n           if(a[i][j]&gt;0.0) \n              m[j]++;\n        }   \n    for(j= 0; j&lt;5; j++){\n        for(i=0 ; i&lt;3 ; i++) {\n           if(a[i][j] &gt; 0.0){\n               b[i][j]=a[i][j]*m[j];\n               System.out.println(\"b[\" + i + \"][\" + j + \"] = \" + b[i][j]);\n           }    \n       }        \n   }                \n}\n\npublic void sumD(){\n\nint i,j,n;\ndouble[] sum= new double[3];\ndouble[] k= new double[3];\n//double[][] a= new double[3][5];\n\n  for(i=0; i&lt;3; i++){\n      n=0;\n      sum[i]=0.0;\n      for(j=0; j&lt;5; j++){\n          if(a[i][j]&gt;0.0){\n              sum[i] += (a[i][j])*2;\n              n++;\n          }                \n      }\n      k[i]=sum[i]/n;\n       System.out.println(\"k[\" + i + \"] = \" + k[i]); \n  }\n}\n\npublic static void main(String[] args){\n    Test3 print= new Test3();\n    print.Scores();\n    print.MD();\n    print.sumD();\n\n }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7087213,"reputation":91,"user_id":5423668,"accept_rate":33,"display_name":"Shuvendu Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468046951,"creation_date":1468041135,"answer_id":38278599,"question_id":9351955,"body_markdown":"you can declare a 2-d array pointer as a member of the class. Then declare the size and value inside a member function. In this case you can access it form another function..\r\n\r\nSee the use of T[][] in this code\r\n\r\n        public class Knapsack {\r\n    \t\r\n    \t//private static Scanner in;\r\n    \tint T[][];\r\n    \r\n    \tint MaximumVal(int wt[],int val[], int total){\r\n    \t\tint l=total;\r\n    \t\tint m=val.length;\r\n    \t\tT = new int[m+1][l+1];\r\n    \t\t\r\n    \t\tfor (int i=0; i&lt;=m; i++){\r\n    \t\t\tfor(int j=0; j&lt;=l; j++){\r\n    \t\t\t\tif(i==0 || j==0){\r\n    \t\t\t\t\tT[i][j]=0;\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(j-wt[i-1] &gt;= 0){\r\n    \t\t\t\t\tT[i][j]=Math.max(T[i-1][j], val[i-1]+T[i-1][j-wt[i-1]]);\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\tT[i][j]=T[i-1][j];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn T[m][l];\r\n    \t}\r\n    \t\r\n    \tvoid PrintPath(int wt[], int val[]){\r\n    \t\tint i=T.length-1;\r\n    \t\tint j=T[0].length-1;\r\n    \t\twhile(j!=0){\r\n    \t\t\tif(i&gt;0){\r\n    \t\t\t\twhile(T[i][j]==T[i-1][j]){\r\n    \t\t\t\t\ti--;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.print(wt[i-1]+&quot; &quot;);\r\n    \t\t\tj=j-wt[i-1];\r\n    \t\t\ti--;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \t//Main Function with test case ::\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\tint wt[]={1,3,4,5};\r\n    \t\tint val[]={1,4,5,7};\r\n    \t\tKnapsack K = new Knapsack();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the total value:  &quot;);\r\n    \t\t//in = new Scanner(System.in);\r\n    \t\t//int total = in.nextInt();\r\n    \t\t\r\n    \t\tint result = K.MaximumVal(wt,val,7); // pass total\r\n    \t\tSystem.out.println(&quot;Total value is &quot;+ result);\r\n    \t\t\r\n    \t\tK.PrintPath(wt,val);\r\n    \t} \r\n    }\r\n\r\n ","title":"How to use a variable of one method in another method?","body":"<p>you can declare a 2-d array pointer as a member of the class. Then declare the size and value inside a member function. In this case you can access it form another function..</p>\n\n<p>See the use of T[][] in this code</p>\n\n<pre><code>    public class Knapsack {\n\n    //private static Scanner in;\n    int T[][];\n\n    int MaximumVal(int wt[],int val[], int total){\n        int l=total;\n        int m=val.length;\n        T = new int[m+1][l+1];\n\n        for (int i=0; i&lt;=m; i++){\n            for(int j=0; j&lt;=l; j++){\n                if(i==0 || j==0){\n                    T[i][j]=0;\n                    continue;\n                }\n                if(j-wt[i-1] &gt;= 0){\n                    T[i][j]=Math.max(T[i-1][j], val[i-1]+T[i-1][j-wt[i-1]]);\n                }\n                else{\n                    T[i][j]=T[i-1][j];\n                }\n            }\n        }\n        return T[m][l];\n    }\n\n    void PrintPath(int wt[], int val[]){\n        int i=T.length-1;\n        int j=T[0].length-1;\n        while(j!=0){\n            if(i&gt;0){\n                while(T[i][j]==T[i-1][j]){\n                    i--;\n                }\n            }\n            System.out.print(wt[i-1]+\" \");\n            j=j-wt[i-1];\n            i--;\n        }\n    }\n\n\n    //Main Function with test case ::\n\n    public static void main(String args[]){\n        int wt[]={1,3,4,5};\n        int val[]={1,4,5,7};\n        Knapsack K = new Knapsack();\n\n        System.out.print(\"Enter the total value:  \");\n        //in = new Scanner(System.in);\n        //int total = in.nextInt();\n\n        int result = K.MaximumVal(wt,val,7); // pass total\n        System.out.println(\"Total value is \"+ result);\n\n        K.PrintPath(wt,val);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8797133,"reputation":29,"user_id":6574704,"display_name":"rajiv baghel"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1510210838,"creation_date":1502087313,"answer_id":45540593,"question_id":9351955,"body_markdown":"      public class Practise {\r\n    \tString a;\r\n    \t\r\n    \tpublic String getA() {\r\n    \t\treturn a;\r\n    \t}\r\n    \tpublic void setA(String a) {\r\n    \t\tthis.a = a;\r\n    \t}\r\n    \tvoid meth1(){\r\n    \t\r\n    \t\tthis.setA(&quot;asd&quot;);\r\n    \t\t\r\n    \tSystem.out.println(a);\r\n    \t  \t\t\r\n    \t\r\n    \t}\r\n    \tvoid meth2(){\r\n    \r\n    \t\tString b=&quot;qwerty&quot;;\r\n    \t\tSystem.out.println(getA()+&quot; &quot;+b);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tPractise p= new Practise();\r\n    \t\tp.meth1();\r\n    \t\tp.meth2();\r\n    \t}\r\n    \r\n    }","title":"How to use a variable of one method in another method?","body":"<pre><code>  public class Practise {\n    String a;\n\n    public String getA() {\n        return a;\n    }\n    public void setA(String a) {\n        this.a = a;\n    }\n    void meth1(){\n\n        this.setA(\"asd\");\n\n    System.out.println(a);\n\n\n    }\n    void meth2(){\n\n        String b=\"qwerty\";\n        System.out.println(getA()+\" \"+b);\n\n    }\n\n\n    public static void main(String[] args) {\n\n        Practise p= new Practise();\n        p.meth1();\n        p.meth2();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1245234,"reputation":89,"user_id":1206844,"accept_rate":0,"display_name":"Jame"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266368,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":9,"score":8,"last_activity_date":1671497837,"creation_date":1329676531,"question_id":9351955,"body_markdown":"I want to know how can I use the variable `a[i][j]` in the method `Scores()` to use it in the methods `MD()` and `sumD()` in the following code:\r\n\r\nIn my code, the methods `MD()` and `sumD()` can&#39;t get the result.\r\n    \r\n    public class Test3 {\r\n    \r\n      public void Scores() { \r\n       double[][] a= new double[3][5];\r\n       int i,j;\r\n       \r\n       for(i=0; i&lt;3; i++ ){\r\n            for(j=0; j&lt;5; j++){\r\n                    a[i][j]= (double) Math.random(); \r\n                    System.out.println(&quot;a[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; +a[i][j]);\r\n            }   \r\n       }   \r\n    }\r\n      public void MD(){\r\n       double[][] b =new double[3][5];\r\n       int [] m = new int[5];\r\n       int i,j;\r\n       //double[][] a= new double[3][5];\r\n       \r\n       for(j= 0; j&lt;5; j++)\r\n            for(i=0 ; i&lt;3 ; i++) \r\n            {\r\n               b[i][j]=0.0;                                                    \r\n               if(a[i][j]&gt;0.0) \r\n                  m[j]++;\r\n            }   \r\n        for(j= 0; j&lt;5; j++){\r\n            for(i=0 ; i&lt;3 ; i++) {\r\n               if(a[i][j] &gt; 0.0){\r\n                   b[i][j]=a[i][j]*m[j];\r\n                   System.out.println(&quot;b[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; + b[i][j]);\r\n               }    \r\n           }        \r\n       }                \r\n    }\r\n\r\n    public void sumD(){\r\n     \r\n    int i,j,n;\r\n    double[] sum= new double[3];\r\n    double[] k= new double[3];\r\n    //double[][] a= new double[3][5];\r\n   \r\n      for(i=0; i&lt;3; i++){\r\n          n=0;\r\n          sum[i]=0.0;\r\n          for(j=0; j&lt;5; j++){\r\n              if(a[i][j]&gt;0.0){\r\n                  sum[i] += (a[i][j])*2;\r\n                  n++;\r\n              }                \r\n          }\r\n          k[i]=sum[i]/n;\r\n          System.out.println(&quot;k[&quot; + i + &quot;] = &quot; + k[i]); \r\n     }\r\n    }\r\n   \r\n    public static void main(String[] args){\r\n        Test3 print= new Test3();\r\n        print.Scores();\r\n        print.MD();\r\n        print.sumD();\r\n        \r\n     }  \r\n    }","title":"How to use a variable of one method in another method?","body":"<p>I want to know how can I use the variable <code>a[i][j]</code> in the method <code>Scores()</code> to use it in the methods <code>MD()</code> and <code>sumD()</code> in the following code:</p>\n<p>In my code, the methods <code>MD()</code> and <code>sumD()</code> can't get the result.</p>\n<pre><code>public class Test3 {\n\n  public void Scores() { \n   double[][] a= new double[3][5];\n   int i,j;\n   \n   for(i=0; i&lt;3; i++ ){\n        for(j=0; j&lt;5; j++){\n                a[i][j]= (double) Math.random(); \n                System.out.println(&quot;a[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; +a[i][j]);\n        }   \n   }   \n}\n  public void MD(){\n   double[][] b =new double[3][5];\n   int [] m = new int[5];\n   int i,j;\n   //double[][] a= new double[3][5];\n   \n   for(j= 0; j&lt;5; j++)\n        for(i=0 ; i&lt;3 ; i++) \n        {\n           b[i][j]=0.0;                                                    \n           if(a[i][j]&gt;0.0) \n              m[j]++;\n        }   \n    for(j= 0; j&lt;5; j++){\n        for(i=0 ; i&lt;3 ; i++) {\n           if(a[i][j] &gt; 0.0){\n               b[i][j]=a[i][j]*m[j];\n               System.out.println(&quot;b[&quot; + i + &quot;][&quot; + j + &quot;] = &quot; + b[i][j]);\n           }    \n       }        \n   }                \n}\n\npublic void sumD(){\n \nint i,j,n;\ndouble[] sum= new double[3];\ndouble[] k= new double[3];\n//double[][] a= new double[3][5];\n\n  for(i=0; i&lt;3; i++){\n      n=0;\n      sum[i]=0.0;\n      for(j=0; j&lt;5; j++){\n          if(a[i][j]&gt;0.0){\n              sum[i] += (a[i][j])*2;\n              n++;\n          }                \n      }\n      k[i]=sum[i]/n;\n      System.out.println(&quot;k[&quot; + i + &quot;] = &quot; + k[i]); \n }\n}\n\npublic static void main(String[] args){\n    Test3 print= new Test3();\n    print.Scores();\n    print.MD();\n    print.sumD();\n    \n }  \n}\n</code></pre>\n"},{"tags":["java","stack","parentheses"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1370099927,"post_id":16874176,"comment_id":24342414,"body_markdown":"You say &quot;parens&quot; but you also seem to want to check brackets...","body":"You say &quot;parens&quot; but you also seem to want to check brackets..."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":1,"creation_date":1427907242,"post_id":16874176,"comment_id":46969225,"body_markdown":"what&#39;s so special about java here?","body":"what&#39;s so special about java here?"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427907335,"post_id":16874176,"comment_id":46969268,"body_markdown":"I am doing it in java so I thought there may be some specific advice(s).","body":"I am doing it in java so I thought there may be some specific advice(s)."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1427907447,"post_id":16874176,"comment_id":46969349,"body_markdown":"Remove the tag java as it&#39;s nothing to do with java. You havent pasted code saying i am stucked here etc.","body":"Remove the tag java as it&#39;s nothing to do with java. You havent pasted code saying i am stucked here etc."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1427907571,"post_id":16874176,"comment_id":46969407,"body_markdown":"The trick is to maintain a stack where each level corresponds to a bracketing and stores the bracket type.","body":"The trick is to maintain a stack where each level corresponds to a bracketing and stores the bracket type."},{"owner":{"account_id":5615335,"reputation":3543,"user_id":4446875,"accept_rate":50,"display_name":"Aify"},"score":0,"creation_date":1427907970,"post_id":16874176,"comment_id":46969624,"body_markdown":"@yvesdaoust http://en.wikipedia.org/wiki/Bracket_%28mathematics%29 proves my point exactly - Depending on what kind of situation the brackets are used in, they may need to be parsed as different types, or together, or without the matching bracket","body":"@yvesdaoust <a href=\"http://en.wikipedia.org/wiki/Bracket_%28mathematics%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bracket_%28mathematics%29</a> proves my point exactly - Depending on what kind of situation the brackets are used in, they may need to be parsed as different types, or together, or without the matching bracket"},{"owner":{"account_id":921943,"reputation":75308,"user_id":953482,"accept_rate":92,"display_name":"Kevin"},"score":10,"creation_date":1427908077,"post_id":16874176,"comment_id":46969665,"body_markdown":"Question. Is `[ { ] }` a valid matching?","body":"Question. Is <code>[ { ] }</code> a valid matching?"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427909270,"post_id":16874176,"comment_id":46970251,"body_markdown":"@Aify This is an algorithmic idea I was spinning around with. What tag would you suggest then?","body":"@Aify This is an algorithmic idea I was spinning around with. What tag would you suggest then?"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427909303,"post_id":16874176,"comment_id":46970267,"body_markdown":"@Kevin No...error is at 3","body":"@Kevin No...error is at 3"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427909372,"post_id":16874176,"comment_id":46970310,"body_markdown":"@Aify any reference to the broad &#39;question&#39; you mentioned?","body":"@Aify any reference to the broad &#39;question&#39; you mentioned?"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427909894,"post_id":16874176,"comment_id":46970566,"body_markdown":"@Aify My context is matching (),{} and [] and nothing else really matters. If closing of a type follows after the opening of the same type then its okay! That&#39;s all I need.","body":"@Aify My context is matching (),{} and [] and nothing else really matters. If closing of a type follows after the opening of the same type then its okay! That&#39;s all I need."},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427910115,"post_id":16874176,"comment_id":46970696,"body_markdown":"@Aify No, I needed to know that I am covering all the cases. Can there be any other case(s)?","body":"@Aify No, I needed to know that I am covering all the cases. Can there be any other case(s)?"},{"owner":{"account_id":1092551,"reputation":3879,"user_id":1086871,"accept_rate":100,"display_name":"G. Bach"},"score":3,"creation_date":1427910338,"post_id":16874176,"comment_id":46970820,"body_markdown":"Without a language specification (i.e. a precise answer to the question &quot;according to which rules are the expressions you want to parse being formed&quot;) we can&#39;t answer this. Are they a context free language? They definitely aren&#39;t regular due to the parentheses alone. Are they context-sensitive? Turing-complete? Regardless of all that, this question should be on CS.SE","body":"Without a language specification (i.e. a precise answer to the question &quot;according to which rules are the expressions you want to parse being formed&quot;) we can&#39;t answer this. Are they a context free language? They definitely aren&#39;t regular due to the parentheses alone. Are they context-sensitive? Turing-complete? Regardless of all that, this question should be on CS.SE"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427910399,"post_id":16874176,"comment_id":46970849,"body_markdown":"Also is it necessary to implement it with an stack? what is the idea for doing it simply with arrays?","body":"Also is it necessary to implement it with an stack? what is the idea for doing it simply with arrays?"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427910659,"post_id":16874176,"comment_id":46970995,"body_markdown":"@G. Bach Parsing language would be java, parsed language is a mathematical expression.","body":"@G. Bach Parsing language would be java, parsed language is a mathematical expression."},{"owner":{"account_id":1092551,"reputation":3879,"user_id":1086871,"accept_rate":100,"display_name":"G. Bach"},"score":0,"creation_date":1427910803,"post_id":16874176,"comment_id":46971089,"body_markdown":"The programming language is irrelevant, the language being parsed is. The relevant question is &quot;what constitutes a mathematical expression?&quot;","body":"The programming language is irrelevant, the language being parsed is. The relevant question is &quot;what constitutes a mathematical expression?&quot;"},{"owner":{"account_id":5365626,"reputation":71,"user_id":4275686,"accept_rate":86,"display_name":"user4275686"},"score":0,"creation_date":1427910899,"post_id":16874176,"comment_id":46971138,"body_markdown":"@G.Bach Constituents of the mathematical expression : Numbers, variables, operators(+ - * /) and yes the parentheses to change precedency of evaluation.","body":"@G.Bach Constituents of the mathematical expression : Numbers, variables, operators(+ - * /) and yes the parentheses to change precedency of evaluation."},{"owner":{"account_id":3968069,"reputation":178,"user_id":3273365,"accept_rate":67,"display_name":"shasan"},"score":0,"creation_date":1427914163,"post_id":16874176,"comment_id":46972922,"body_markdown":"@aify there is nothing off topic here except maybe your comments. This kind of question totally belongs in the algorithm category. Your stuff about intervals is what&#39;s off topic under this question as it clearly talks about a mathematical expression.","body":"@aify there is nothing off topic here except maybe your comments. This kind of question totally belongs in the algorithm category. Your stuff about intervals is what&#39;s off topic under this question as it clearly talks about a mathematical expression."},{"owner":{"account_id":153881,"reputation":19008,"user_id":369450,"accept_rate":99,"display_name":"Uyghur Lives Matter"},"score":2,"creation_date":1428001946,"post_id":16874176,"comment_id":47013042,"body_markdown":"Or you could write a real parser instead of abusing regex.","body":"Or you could write a real parser instead of abusing regex."},{"owner":{"account_id":1244338,"reputation":2182,"user_id":1206098,"display_name":"Vitor Braga"},"score":0,"creation_date":1531087360,"post_id":16874176,"comment_id":89451543,"body_markdown":"Just a interesting scenario case test: &quot;(((()){))}&quot; shoud return false","body":"Just a interesting scenario case test: &quot;(((()){))}&quot; shoud return false"}],"answers":[{"comments":[{"owner":{"account_id":2649334,"reputation":489,"user_id":2291409,"accept_rate":80,"display_name":"Shuvo0o"},"score":0,"creation_date":1370102161,"post_id":16874430,"comment_id":24342980,"body_markdown":"thanks but the problem is {, {}  or even {()}, {}() it should return false. In other words, the first c == { should be false.","body":"thanks but the problem is {, {}  or even {()}, {}() it should return false. In other words, the first c == { should be false."},{"owner":{"account_id":1498034,"reputation":355,"user_id":1778537,"accept_rate":30,"display_name":"Sigur"},"score":0,"creation_date":1528407725,"post_id":16874430,"comment_id":88508907,"body_markdown":"Would it work for a whole file or only for a single line? Suppose `(` is in 1st line but `)` is in 2nd line of a file. Is it possible to check in this case?","body":"Would it work for a whole file or only for a single line? Suppose <code>(</code> is in 1st line but <code>)</code> is in 2nd line of a file. Is it possible to check in this case?"}],"tags":[],"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"comment_count":2,"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1370102532,"creation_date":1370101485,"answer_id":16874430,"question_id":16874176,"body_markdown":"Your code has some confusion in its handling of the &#39;{&#39; and &#39;}&#39; characters.  It should be entirely parallel to how you handle &#39;(&#39; and &#39;)&#39;.\r\n\r\nThis code, modified slightly from yours, seems to work properly:\r\n\r\n    public static boolean isParenthesisMatch(String str) {\r\n        if (str.charAt(0) == &#39;{&#39;)\r\n            return false;\r\n\r\n        Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\r\n        char c;\r\n        for(int i=0; i &lt; str.length(); i++) {\r\n            c = str.charAt(i);\r\n\r\n            if(c == &#39;(&#39;)\r\n                stack.push(c);\r\n            else if(c == &#39;{&#39;)\r\n                stack.push(c);\r\n            else if(c == &#39;)&#39;)\r\n                if(stack.empty())\r\n                    return false;\r\n                else if(stack.peek() == &#39;(&#39;)\r\n                    stack.pop();\r\n                else\r\n                    return false;\r\n            else if(c == &#39;}&#39;)\r\n                if(stack.empty())\r\n                    return false;\r\n                else if(stack.peek() == &#39;{&#39;)\r\n                    stack.pop();\r\n                else\r\n                    return false;\r\n        }\r\n        return stack.empty();\r\n    }\r\n\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Your code has some confusion in its handling of the '{' and '}' characters.  It should be entirely parallel to how you handle '(' and ')'.</p>\n\n<p>This code, modified slightly from yours, seems to work properly:</p>\n\n<pre><code>public static boolean isParenthesisMatch(String str) {\n    if (str.charAt(0) == '{')\n        return false;\n\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n\n    char c;\n    for(int i=0; i &lt; str.length(); i++) {\n        c = str.charAt(i);\n\n        if(c == '(')\n            stack.push(c);\n        else if(c == '{')\n            stack.push(c);\n        else if(c == ')')\n            if(stack.empty())\n                return false;\n            else if(stack.peek() == '(')\n                stack.pop();\n            else\n                return false;\n        else if(c == '}')\n            if(stack.empty())\n                return false;\n            else if(stack.peek() == '{')\n                stack.pop();\n            else\n                return false;\n    }\n    return stack.empty();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7511881,"reputation":226,"user_id":5706553,"accept_rate":80,"display_name":"JSextonn"},"score":3,"creation_date":1534057780,"post_id":19712146,"comment_id":90568576,"body_markdown":"Great code, though it could be slightly improved upon by adding a continue statement after pushing the current character onto the stack.","body":"Great code, though it could be slightly improved upon by adding a continue statement after pushing the current character onto the stack."}],"tags":[],"owner":{"account_id":3503958,"reputation":739,"user_id":2929951,"display_name":"Rafael Amsili"},"comment_count":1,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1383237734,"creation_date":1383237734,"answer_id":19712146,"question_id":16874176,"body_markdown":"This code is easier to understand:\r\n\r\n    public static boolean CheckParentesis(String str)\r\n\t{\r\n\t\tif (str.isEmpty())\r\n\t\t\treturn true;\r\n\t\t\r\n\t\tStack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\t\tfor (int i = 0; i &lt; str.length(); i++)\r\n\t\t{\r\n\t\t\tchar current = str.charAt(i);\r\n\t\t\tif (current == &#39;{&#39; || current == &#39;(&#39; || current == &#39;[&#39;)\r\n\t\t\t{\r\n\t\t\t\tstack.push(current);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (current == &#39;}&#39; || current == &#39;)&#39; || current == &#39;]&#39;)\r\n\t\t\t{\r\n\t\t\t\tif (stack.isEmpty())\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\tchar last = stack.peek();\r\n\t\t\t\tif (current == &#39;}&#39; &amp;&amp; last == &#39;{&#39; || current == &#39;)&#39; &amp;&amp; last == &#39;(&#39; || current == &#39;]&#39; &amp;&amp; last == &#39;[&#39;)\r\n\t\t\t\t\tstack.pop();\r\n\t\t\t\telse \r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn stack.isEmpty();\r\n\t}\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>This code is easier to understand:</p>\n\n<pre><code>public static boolean CheckParentesis(String str)\n{\n    if (str.isEmpty())\n        return true;\n\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n    for (int i = 0; i &lt; str.length(); i++)\n    {\n        char current = str.charAt(i);\n        if (current == '{' || current == '(' || current == '[')\n        {\n            stack.push(current);\n        }\n\n\n        if (current == '}' || current == ')' || current == ']')\n        {\n            if (stack.isEmpty())\n                return false;\n\n            char last = stack.peek();\n            if (current == '}' &amp;&amp; last == '{' || current == ')' &amp;&amp; last == '(' || current == ']' &amp;&amp; last == '[')\n                stack.pop();\n            else \n                return false;\n        }\n\n    }\n\n    return stack.isEmpty();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1870077,"reputation":2039,"user_id":1692526,"accept_rate":55,"display_name":"Swanidhi"},"score":0,"creation_date":1444890411,"post_id":20624496,"comment_id":54092997,"body_markdown":"Even if I add &#39;{&#39; and &#39;}&#39; conditions to this algorithm, it doesn&#39;t apply to - `{(})`.\nWe must check if after every `LAST` bracket/parenthesis that opens, the `SAME` must close.","body":"Even if I add &#39;{&#39; and &#39;}&#39; conditions to this algorithm, it doesn&#39;t apply to - <code>{(})</code>. We must check if after every <code>LAST</code> bracket/parenthesis that opens, the <code>SAME</code> must close."}],"tags":[],"owner":{"account_id":2667335,"reputation":119,"user_id":2305457,"accept_rate":50,"display_name":"Kibrom Gebre"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1387246130,"creation_date":1387244930,"answer_id":20624496,"question_id":16874176,"body_markdown":"The algorithm:\r\n\r\n 1. scan the string,pushing to a stack for every &#39;(&#39; found in the string \r\n 2. if char &#39;)&#39; scanned, pop one &#39;(&#39; from the stack\r\n\r\nNow, parentheses are balanced for two conditions:\r\n\r\n -  &#39;(&#39; can be popped from the stack for every &#39;)&#39; found in the string, and\r\n -  stack is empty at the end (when the entire string is processed)\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>The algorithm:</p>\n\n<ol>\n<li>scan the string,pushing to a stack for every '(' found in the string </li>\n<li>if char ')' scanned, pop one '(' from the stack</li>\n</ol>\n\n<p>Now, parentheses are balanced for two conditions:</p>\n\n<ul>\n<li>'(' can be popped from the stack for every ')' found in the string, and</li>\n<li>stack is empty at the end (when the entire string is processed)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1092551,"reputation":3879,"user_id":1086871,"accept_rate":100,"display_name":"G. Bach"},"score":1,"creation_date":1427914339,"post_id":29398249,"comment_id":46973019,"body_markdown":"The problem is not about correctly nesting parentheses alone.","body":"The problem is not about correctly nesting parentheses alone."},{"owner":{"account_id":620,"reputation":157519,"user_id":811,"display_name":"Shog9"},"score":0,"creation_date":1428023385,"post_id":29398249,"comment_id":47021041,"body_markdown":"Heads-up: your answer has been merged here from http://stackoverflow.com/questions/29396477/what-are-the-cases-to-be-considered-while-parsing-a-mathematical-expressionbrac - please adjust as needed.","body":"Heads-up: your answer has been merged here from <a href=\"http://stackoverflow.com/questions/29396477/what-are-the-cases-to-be-considered-while-parsing-a-mathematical-expressionbrac\" title=\"what are the cases to be considered while parsing a mathematical expressionbrac\">stackoverflow.com/questions/29396477/&hellip;</a> - please adjust as needed."},{"owner":{"account_id":380363,"reputation":622,"user_id":734321,"accept_rate":40,"display_name":"Sanket"},"score":0,"creation_date":1502037683,"post_id":29398249,"comment_id":78028506,"body_markdown":"The implementation of the above algorithm in javascript can be found here (https://gist.github.com/sanketmaru/e83ce04100966bf46f6e8919a06c33ba). All possible inputs can be tested.","body":"The implementation of the above algorithm in javascript can be found here (<a href=\"https://gist.github.com/sanketmaru/e83ce04100966bf46f6e8919a06c33ba\" rel=\"nofollow noreferrer\">gist.github.com/sanketmaru/e83ce04100966bf46f6e8919a06c33ba</a>&zwnj;&#8203;). All possible inputs can be tested."}],"tags":[],"owner":{"account_id":2325665,"reputation":18438,"user_id":2040251,"display_name":"kraskevich"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427913295,"creation_date":1427913295,"answer_id":29398249,"question_id":16874176,"body_markdown":"Actually, there is no need to check any cases &quot;manually&quot;. You can just run the following algorithm:\r\n\r\n1. Iterate over the given sequence. Start with an empty stack.\r\n\r\n2. If the current char is an opening bracket, just push it to the stack.\r\n\r\n3. If it&#39;s a closing bracket, check that the stack is not empty and the top element of the step is an appropriate opening bracket(that it is, matches this one). If it is not, report an error. Otherwise, pop the top element from the stack.\r\n\r\n4. In the end, the sequence is correct iff the stack is empty.\r\n\r\nWhy is it correct? Here is a sketch of a proof: if this algorithm reported that the sequence is corrected, it had found a matching pair of all brackets. Thus, the sequence is indeed correct by definition. If it has reported an error: \r\n\r\n1. If the stack was not empty in the end, the balance of opening and closing brackets is not zero. Thus, it is not a correct sequence.\r\n\r\n2. If the stack was empty when we had to pop an element, the balance is off again.\r\n\r\n3. If there was a wrong element on top of the stack, a pair of &quot;wrong&quot; brackets should match each other. It means that the sequence is not correct.\r\n\r\nI have shown that: \r\n\r\n* If the algorithm has reported that the sequence is correct, it is correct.\r\n\r\n* If the algorithm has reported that the sequence is not correct, it is incorrect(note that I do not use the fact that there are no other cases except those that are mentioned in your question). \r\n\r\nThis two points imply that this algorithm works for all possible inputs.\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Actually, there is no need to check any cases \"manually\". You can just run the following algorithm:</p>\n\n<ol>\n<li><p>Iterate over the given sequence. Start with an empty stack.</p></li>\n<li><p>If the current char is an opening bracket, just push it to the stack.</p></li>\n<li><p>If it's a closing bracket, check that the stack is not empty and the top element of the step is an appropriate opening bracket(that it is, matches this one). If it is not, report an error. Otherwise, pop the top element from the stack.</p></li>\n<li><p>In the end, the sequence is correct iff the stack is empty.</p></li>\n</ol>\n\n<p>Why is it correct? Here is a sketch of a proof: if this algorithm reported that the sequence is corrected, it had found a matching pair of all brackets. Thus, the sequence is indeed correct by definition. If it has reported an error: </p>\n\n<ol>\n<li><p>If the stack was not empty in the end, the balance of opening and closing brackets is not zero. Thus, it is not a correct sequence.</p></li>\n<li><p>If the stack was empty when we had to pop an element, the balance is off again.</p></li>\n<li><p>If there was a wrong element on top of the stack, a pair of \"wrong\" brackets should match each other. It means that the sequence is not correct.</p></li>\n</ol>\n\n<p>I have shown that: </p>\n\n<ul>\n<li><p>If the algorithm has reported that the sequence is correct, it is correct.</p></li>\n<li><p>If the algorithm has reported that the sequence is not correct, it is incorrect(note that I do not use the fact that there are no other cases except those that are mentioned in your question). </p></li>\n</ul>\n\n<p>This two points imply that this algorithm works for all possible inputs.</p>\n"},{"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":0,"creation_date":1429466443,"post_id":29733603,"comment_id":47600530,"body_markdown":"This is quite different to the code posted by the OP. It would be very helpful to others if you could explain it a bit so we can see what your train of thought was.","body":"This is quite different to the code posted by the OP. It would be very helpful to others if you could explain it a bit so we can see what your train of thought was."},{"owner":{"account_id":5862559,"reputation":494,"user_id":4617741,"accept_rate":86,"display_name":"Amos Bordowitz"},"score":0,"creation_date":1442398472,"post_id":29733603,"comment_id":53062710,"body_markdown":"Plus it&#39;s way too long. you should also refrain as much as possible from printing from within methods.","body":"Plus it&#39;s way too long. you should also refrain as much as possible from printing from within methods."}],"tags":[],"owner":{"account_id":6149039,"reputation":1,"user_id":4794061,"display_name":"sai tvs"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429466041,"creation_date":1429466041,"answer_id":29733603,"question_id":16874176,"body_markdown":"    //basic code non strack algorithm just started learning java ignore space and time.\r\n    /// {[()]}[][]{}\r\n    // {[( -a -&gt; }]) -b -&gt; replace a(]}) -&gt; reverse a( }]))-&gt; \r\n    //Split string to substring {[()]}, next [], next [], next{}\r\n    \r\n    public class testbrackets {\r\n    \tstatic String stringfirst;\r\n    \tstatic String stringsecond;\r\n    \tstatic int open = 0;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tsplitstring(&quot;(()){}()&quot;);\r\n    \t}\r\n    static void splitstring(String str){\r\n    \t\r\n    \tint len = str.length();\r\n    \tfor(int i=0;i&lt;=len-1;i++){\r\n    \t\tstringfirst=&quot;&quot;;\r\n    \t\tstringsecond=&quot;&quot;;\r\n    \t\tSystem.out.println(&quot;loop starttttttt&quot;);\r\n    \t\tchar a = str.charAt(i);\r\n    \tif(a==&#39;{&#39;||a==&#39;[&#39;||a==&#39;(&#39;)\r\n    \t{\r\n    \t\topen = open+1;\r\n    \t\tcontinue;\r\n    \t}\r\n    \tif(a==&#39;}&#39;||a==&#39;]&#39;||a==&#39;)&#39;){\r\n    \t\tif(open==0){\r\n    \t\t\tSystem.out.println(open+&quot;started with closing brace&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tString stringfirst=str.substring(i-open, i);\r\n    \t\tSystem.out.println(&quot;stringfirst&quot;+stringfirst);\r\n    \t\tString stringsecond=str.substring(i, i+open);\r\n    \t\tSystem.out.println(&quot;stringsecond&quot;+stringsecond);\r\n    \t\treplace(stringfirst, stringsecond);\r\n    \r\n    \t\t}\r\n    \ti=(i+open)-1;\r\n    \topen=0;\r\n    \tSystem.out.println(i);\r\n    \t}\r\n    \t}\r\n    \tstatic void replace(String stringfirst, String stringsecond){\r\n    \t\tstringfirst = stringfirst.replace(&#39;{&#39;, &#39;}&#39;);\r\n    \t\tstringfirst = stringfirst.replace(&#39;(&#39;, &#39;)&#39;);\r\n    \t\tstringfirst = stringfirst.replace(&#39;[&#39;, &#39;]&#39;);\r\n    \t\tStringBuilder stringfirst1 = new StringBuilder(stringfirst);\r\n    \t\tstringfirst = stringfirst1.reverse().toString();\r\n    \tSystem.out.println(&quot;stringfirst&quot;+stringfirst);\r\n    \tSystem.out.println(&quot;stringsecond&quot;+stringsecond);\r\n    if(stringfirst.equals(stringsecond)){\r\n    \tSystem.out.println(&quot;pass&quot;);\r\n    }\r\n    \telse{\r\n    \t\tSystem.out.println(&quot;fail&quot;);\r\n    \t\tSystem.exit(0);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>//basic code non strack algorithm just started learning java ignore space and time.\n/// {[()]}[][]{}\n// {[( -a -&gt; }]) -b -&gt; replace a(]}) -&gt; reverse a( }]))-&gt; \n//Split string to substring {[()]}, next [], next [], next{}\n\npublic class testbrackets {\n    static String stringfirst;\n    static String stringsecond;\n    static int open = 0;\n    public static void main(String[] args) {\n        splitstring(\"(()){}()\");\n    }\nstatic void splitstring(String str){\n\n    int len = str.length();\n    for(int i=0;i&lt;=len-1;i++){\n        stringfirst=\"\";\n        stringsecond=\"\";\n        System.out.println(\"loop starttttttt\");\n        char a = str.charAt(i);\n    if(a=='{'||a=='['||a=='(')\n    {\n        open = open+1;\n        continue;\n    }\n    if(a=='}'||a==']'||a==')'){\n        if(open==0){\n            System.out.println(open+\"started with closing brace\");\n            return;\n        }\n        String stringfirst=str.substring(i-open, i);\n        System.out.println(\"stringfirst\"+stringfirst);\n        String stringsecond=str.substring(i, i+open);\n        System.out.println(\"stringsecond\"+stringsecond);\n        replace(stringfirst, stringsecond);\n\n        }\n    i=(i+open)-1;\n    open=0;\n    System.out.println(i);\n    }\n    }\n    static void replace(String stringfirst, String stringsecond){\n        stringfirst = stringfirst.replace('{', '}');\n        stringfirst = stringfirst.replace('(', ')');\n        stringfirst = stringfirst.replace('[', ']');\n        StringBuilder stringfirst1 = new StringBuilder(stringfirst);\n        stringfirst = stringfirst1.reverse().toString();\n    System.out.println(\"stringfirst\"+stringfirst);\n    System.out.println(\"stringsecond\"+stringsecond);\nif(stringfirst.equals(stringsecond)){\n    System.out.println(\"pass\");\n}\n    else{\n        System.out.println(\"fail\");\n        System.exit(0);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295224,"reputation":1,"user_id":5560327,"display_name":"Pooja Gandhi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1448016906,"creation_date":1447446888,"answer_id":33701308,"question_id":16874176,"body_markdown":"    \r\n    import java.util.Stack;\r\n\r\n    class Demo\r\n    {\r\n        \r\n        char c;\r\n        \r\n        public  boolean checkParan(String word)\r\n        {\r\n            Stack&lt;Character&gt; sta = new Stack&lt;Character&gt;();\r\n            for(int i=0;i&lt;word.length();i++)\r\n            {\r\n               c=word.charAt(i);\r\n                \r\n               \r\n              if(c==&#39;(&#39;)\r\n              {\r\n                  sta.push(c);\r\n                  System.out.println(&quot;( Pushed into the stack&quot;);\r\n                 \r\n              }\r\n              else if(c==&#39;{&#39;)\r\n              {\r\n                  sta.push(c);\r\n                  System.out.println(&quot;( Pushed into the stack&quot;);\r\n              }\r\n              else if(c==&#39;)&#39;)\r\n              {\r\n                  if(sta.empty())\r\n                  {\r\n                      System.out.println(&quot;Stack is Empty&quot;);\r\n                      return false;\r\n                  }\r\n                  else if(sta.peek()==&#39;(&#39;)\r\n                  {\r\n                      \r\n                      sta.pop();\r\n                      System.out.println(&quot; ) is poped from the Stack&quot;);\r\n                  }\r\n                  else if(sta.peek()==&#39;(&#39; &amp;&amp; sta.empty())\r\n                  {\r\n                      System.out.println(&quot;Stack is Empty&quot;);\r\n                      return false;\r\n                  }\r\n              }\r\n              else if(c==&#39;}&#39;)\r\n              {\r\n                  if(sta.empty())\r\n                  {\r\n                   System.out.println(&quot;Stack is Empty&quot;);\r\n                  return false;\r\n                  }\r\n                  else if(sta.peek()==&#39;{&#39;)\r\n                  {\r\n                      sta.pop();\r\n                      System.out.println(&quot; } is poped from the Stack&quot;);\r\n                  }\r\n                 \r\n              }\r\n             \r\n              else if(c==&#39;(&#39;)\r\n              {\r\n                  if(sta.empty())\r\n                  {\r\n                     System.out.println(&quot;Stack is empty only ( parenthesis in Stack &quot;);  \r\n                  }\r\n              }\r\n              \r\n              \r\n            }\r\n        // System.out.print(&quot;The top element is : &quot;+sta.peek());\r\n        return sta.empty();\r\n        } \r\n        \r\n        \r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    \r\n-----------------------------------------    \r\n    \r\n    public class ParaenthesisChehck {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n           Demo d1= new Demo();\r\n         //  d1.checkParan(&quot; &quot;);\r\n          // d1.checkParan(&quot;{}&quot;);\r\n           //d1.checkParan(&quot;()&quot;);\r\n           //d1.checkParan(&quot;{()}&quot;);\r\n         // d1.checkParan(&quot;{123}&quot;);\r\n           d1.checkParan(&quot;{{{}}&quot;);\r\n           \r\n            \r\n            \r\n            \r\n            \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>import java.util.Stack;\n\nclass Demo\n{\n\n    char c;\n\n    public  boolean checkParan(String word)\n    {\n        Stack&lt;Character&gt; sta = new Stack&lt;Character&gt;();\n        for(int i=0;i&lt;word.length();i++)\n        {\n           c=word.charAt(i);\n\n\n          if(c=='(')\n          {\n              sta.push(c);\n              System.out.println(\"( Pushed into the stack\");\n\n          }\n          else if(c=='{')\n          {\n              sta.push(c);\n              System.out.println(\"( Pushed into the stack\");\n          }\n          else if(c==')')\n          {\n              if(sta.empty())\n              {\n                  System.out.println(\"Stack is Empty\");\n                  return false;\n              }\n              else if(sta.peek()=='(')\n              {\n\n                  sta.pop();\n                  System.out.println(\" ) is poped from the Stack\");\n              }\n              else if(sta.peek()=='(' &amp;&amp; sta.empty())\n              {\n                  System.out.println(\"Stack is Empty\");\n                  return false;\n              }\n          }\n          else if(c=='}')\n          {\n              if(sta.empty())\n              {\n               System.out.println(\"Stack is Empty\");\n              return false;\n              }\n              else if(sta.peek()=='{')\n              {\n                  sta.pop();\n                  System.out.println(\" } is poped from the Stack\");\n              }\n\n          }\n\n          else if(c=='(')\n          {\n              if(sta.empty())\n              {\n                 System.out.println(\"Stack is empty only ( parenthesis in Stack \");  \n              }\n          }\n\n\n        }\n    // System.out.print(\"The top element is : \"+sta.peek());\n    return sta.empty();\n    } \n\n\n\n\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class ParaenthesisChehck {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n       Demo d1= new Demo();\n     //  d1.checkParan(\" \");\n      // d1.checkParan(\"{}\");\n       //d1.checkParan(\"()\");\n       //d1.checkParan(\"{()}\");\n     // d1.checkParan(\"{123}\");\n       d1.checkParan(\"{{{}}\");\n\n\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2147441,"reputation":1,"user_id":1904764,"display_name":"Prabhu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1449206770,"creation_date":1449202820,"answer_id":34080859,"question_id":16874176,"body_markdown":"    import java.util.*;\r\n\r\n    public class Parenthesis\r\n\r\n     {\r\n\r\n\t    public static void main(String...okok)\r\n   \r\n\t    {\r\n\t    \tScanner sc= new Scanner(System.in);\r\n\t\t    String str=sc.next();\r\n\t\t    System.out.println(isValid(str));\r\n\t\t\r\n\t    }\r\n\t    public static int isValid(String a) {\r\n\t\t    if(a.length()%2!=0)\r\n\t\t    {\r\n\t\t\t\r\n\t\t    \treturn 0;\r\n\t\t    }\r\n\t\t    else if(a.length()==0)\r\n\t\t    {\r\n\t\t\t\r\n\t\t    \treturn 1;\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t\t\r\n\t\t\t    char c[]=a.toCharArray();\r\n\t\t\t    Stack&lt;Character&gt; stk =  new Stack&lt;Character&gt;();\r\n\t\t\t    for(int i=0;i&lt;c.length;i++)\r\n\t\t\t    {\r\n\t\t\t    \tif(c[i]==&#39;(&#39; || c[i]==&#39;[&#39; || c[i]==&#39;{&#39;)\r\n\t\t\t    \t{\r\n\t\t\t    \t\tstk.push(c[i]);\r\n\t\t\t    \t}\r\n\t\t\t    \telse\r\n\t\t\t    \t{\r\n\t\t\t\t    \tif(stk.isEmpty())\r\n\t\t\t\t    \t{\r\n\t\t\t\t\t    \treturn 0;\r\n\t\t\t\t    \t\t//break;\r\n\t\t\t\t    \t}\r\n\t\t\t\t\t    else\r\n\t\t\t\t\t    {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    \tchar cc=c[i];\r\n\t\t\t\t\t\t    if(cc==&#39;)&#39; &amp;&amp; stk.peek()==&#39;(&#39; )\r\n\t\t\t\t\t\t    {\r\n\t\t\t\t\t\t    \tstk.pop();\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t    else if(cc==&#39;]&#39; &amp;&amp; stk.peek()==&#39;[&#39; )\r\n\t\t\t\t\t\t    {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t    \tstk.pop();\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t    else if(cc==&#39;}&#39; &amp;&amp; stk.peek()==&#39;{&#39; )\r\n\t\t\t\t\t\t    {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t    \tstk.pop();\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t\t\r\n\t\t\t    }\r\n\t\t\t    if(stk.isEmpty())\r\n\t\t\t    {\r\n\t\t\t    \treturn 1;\r\n\t\t\t    }else\r\n\t\t\t    {\r\n\t\t\t\t    return 0;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\r\n\t\t\r\n\t\r\n\t    }\r\n\r\n    }\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>import java.util.*;\n\npublic class Parenthesis\n\n {\n\n    public static void main(String...okok)\n\n    {\n        Scanner sc= new Scanner(System.in);\n        String str=sc.next();\n        System.out.println(isValid(str));\n\n    }\n    public static int isValid(String a) {\n        if(a.length()%2!=0)\n        {\n\n            return 0;\n        }\n        else if(a.length()==0)\n        {\n\n            return 1;\n        }\n        else\n        {\n\n            char c[]=a.toCharArray();\n            Stack&lt;Character&gt; stk =  new Stack&lt;Character&gt;();\n            for(int i=0;i&lt;c.length;i++)\n            {\n                if(c[i]=='(' || c[i]=='[' || c[i]=='{')\n                {\n                    stk.push(c[i]);\n                }\n                else\n                {\n                    if(stk.isEmpty())\n                    {\n                        return 0;\n                        //break;\n                    }\n                    else\n                    {\n\n                        char cc=c[i];\n                        if(cc==')' &amp;&amp; stk.peek()=='(' )\n                        {\n                            stk.pop();\n                        }\n                        else if(cc==']' &amp;&amp; stk.peek()=='[' )\n                        {\n\n                            stk.pop();\n                        }\n                        else if(cc=='}' &amp;&amp; stk.peek()=='{' )\n                        {\n\n                            stk.pop();\n                        }\n                    }\n                }\n\n            }\n            if(stk.isEmpty())\n            {\n                return 1;\n            }else\n            {\n                return 0;\n            }\n        }\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98508,"reputation":7390,"user_id":266598,"accept_rate":87,"display_name":"Yalamber"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1451465929,"creation_date":1451465929,"answer_id":34526159,"question_id":16874176,"body_markdown":"I tried this using javascript below is the result. \r\n\r\n    function bracesChecker(str) {\r\n      if(!str) {\r\n        return true;\r\n      }\r\n      var openingBraces = [&#39;{&#39;, &#39;[&#39;, &#39;(&#39;];\r\n      var closingBraces = [&#39;}&#39;, &#39;]&#39;, &#39;)&#39;];\r\n      var stack = [];\r\n      var openIndex;\r\n      var closeIndex;\r\n      //check for opening Braces in the val\r\n      for (var i = 0, len = str.length; i &lt; len; i++) {\r\n        openIndex = openingBraces.indexOf(str[i]);\r\n        closeIndex = closingBraces.indexOf(str[i]);\r\n        if(openIndex !== -1) {\r\n          stack.push(str[i]);\r\n        }  \r\n        if(closeIndex !== -1) {\r\n          if(openingBraces[closeIndex] === stack[stack.length-1]) { \r\n            stack.pop();\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      if(stack.length === 0) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    var testStrings = [\r\n      &#39;&#39;, \r\n      &#39;test&#39;, \r\n      &#39;{{[][]()()}()}[]()&#39;, \r\n      &#39;{test{[test]}}&#39;, \r\n      &#39;{test{[test]}&#39;, \r\n      &#39;{test{(yo)[test]}}&#39;, \r\n      &#39;test{[test]}}&#39;, \r\n      &#39;te()s[]t{[test]}&#39;, \r\n      &#39;te()s[]t{[test&#39;\r\n    ];\r\n    \r\n    testStrings.forEach(val =&gt; console.log(`${val} =&gt; ${bracesChecker(val)}`));\r\n\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>I tried this using javascript below is the result. </p>\n\n<pre><code>function bracesChecker(str) {\n  if(!str) {\n    return true;\n  }\n  var openingBraces = ['{', '[', '('];\n  var closingBraces = ['}', ']', ')'];\n  var stack = [];\n  var openIndex;\n  var closeIndex;\n  //check for opening Braces in the val\n  for (var i = 0, len = str.length; i &lt; len; i++) {\n    openIndex = openingBraces.indexOf(str[i]);\n    closeIndex = closingBraces.indexOf(str[i]);\n    if(openIndex !== -1) {\n      stack.push(str[i]);\n    }  \n    if(closeIndex !== -1) {\n      if(openingBraces[closeIndex] === stack[stack.length-1]) { \n        stack.pop();\n      } else {\n        return false;\n      }\n    }\n  }\n  if(stack.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\nvar testStrings = [\n  '', \n  'test', \n  '{{[][]()()}()}[]()', \n  '{test{[test]}}', \n  '{test{[test]}', \n  '{test{(yo)[test]}}', \n  'test{[test]}}', \n  'te()s[]t{[test]}', \n  'te()s[]t{[test'\n];\n\ntestStrings.forEach(val =&gt; console.log(`${val} =&gt; ${bracesChecker(val)}`));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451861139,"creation_date":1451861139,"answer_id":34582509,"question_id":16874176,"body_markdown":"**Algorithm** is:\r\n\r\n    1)Create a stack\r\n    \r\n    2)while(end of input is not reached)\r\n    \r\n       i)if the character read is not a sysmbol to be balanced ,ignore it.\r\n    \r\n       ii)if the character is {,[,( then push it to stack\r\n    \r\n       iii)If it is a },),] then if \r\n    \r\n            a)the stack is empty report an error(catch it) i.e not balanced\r\n    \r\n            b)else pop the stack \r\n    \r\n       iv)if element popped is not corresponding to opening sysmbol,then report error.\r\n    \r\n    3) In the end,if stack is not empty report error else expression is balanced.  \r\n\r\nIn **Java code**:                  \r\n\r\n    public class StackDemo {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.out.println(&quot;--Bracket checker--&quot;);\r\n    \t\tCharStackArray stack = new CharStackArray(10);\r\n    \t\tstack.balanceSymbol(&quot;[a+b{c+(e-f[p-q])}]&quot;) ;\r\n    \t\tstack.display();\r\n    \r\n    \t}\r\n    \r\n    }    \r\n    \r\n    class CharStackArray {\r\n        \tprivate char[] array;\r\n        \tprivate int top;\r\n        \tprivate int capacity;\r\n        \r\n        \tpublic CharStackArray(int cap) {\r\n        \t\tcapacity = cap;\r\n        \t\tarray = new char[capacity];\r\n        \t\ttop = -1;\r\n        \t}\r\n        \r\n        \tpublic void push(char data) {\r\n        \t\tarray[++top] = data;\r\n        \t}\r\n        \r\n        \tpublic char pop() {\r\n        \t\treturn array[top--];\r\n        \t}\r\n        \r\n        \tpublic void display() {\r\n        \t\tfor (int i = 0; i &lt;= top; i++) {\r\n        \t\t\tSystem.out.print(array[i] + &quot;-&gt;&quot;);\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tpublic char peek() throws Exception {\r\n        \t\treturn array[top];\r\n        \t}\r\n        \r\n            /*Call this method by passing a string expression*/\r\n        \tpublic void balanceSymbol(String str) {\r\n        \t\ttry {\r\n        \t\t\tchar[] arr = str.toCharArray();\r\n        \t\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n        \t\t\t\tif (arr[i] == &#39;[&#39; || arr[i] == &#39;{&#39; || arr[i] == &#39;(&#39;)\r\n        \t\t\t\t\tpush(arr[i]);\r\n        \t\t\t\telse if (arr[i] == &#39;}&#39; &amp;&amp; peek() == &#39;{&#39;)\r\n        \t\t\t\t\tpop();\r\n        \t\t\t\telse if (arr[i] == &#39;]&#39; &amp;&amp; peek() == &#39;[&#39;)\r\n        \t\t\t\t\tpop();\r\n        \t\t\t\telse if (arr[i] == &#39;)&#39; &amp;&amp; peek() == &#39;(&#39;)\r\n        \t\t\t\t\tpop();\r\n        \t\t\t}\r\n        \t\t\tif (isEmpty()) {\r\n        \t\t\t\tSystem.out.println(&quot;String is balanced&quot;);\r\n        \t\t\t} else {\r\n        \t\t\t\tSystem.out.println(&quot;String is not balanced&quot;);\r\n        \t\t\t}\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tSystem.out.println(&quot;String not balanced&quot;);\r\n        \t\t}\r\n        \r\n        \t}\r\n        \r\n        \tpublic boolean isEmpty() {\r\n        \t\treturn (top == -1);\r\n        \t}\r\n        }\r\n        \r\n**Output:**\r\n\r\n--Bracket checker--\r\n\r\nString is balanced        \r\n        \r\n\r\n          ","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p><strong>Algorithm</strong> is:</p>\n\n<pre><code>1)Create a stack\n\n2)while(end of input is not reached)\n\n   i)if the character read is not a sysmbol to be balanced ,ignore it.\n\n   ii)if the character is {,[,( then push it to stack\n\n   iii)If it is a },),] then if \n\n        a)the stack is empty report an error(catch it) i.e not balanced\n\n        b)else pop the stack \n\n   iv)if element popped is not corresponding to opening sysmbol,then report error.\n\n3) In the end,if stack is not empty report error else expression is balanced.  \n</code></pre>\n\n<p>In <strong>Java code</strong>:                  </p>\n\n<pre><code>public class StackDemo {\n    public static void main(String[] args) throws Exception {\n        System.out.println(\"--Bracket checker--\");\n        CharStackArray stack = new CharStackArray(10);\n        stack.balanceSymbol(\"[a+b{c+(e-f[p-q])}]\") ;\n        stack.display();\n\n    }\n\n}    \n\nclass CharStackArray {\n        private char[] array;\n        private int top;\n        private int capacity;\n\n        public CharStackArray(int cap) {\n            capacity = cap;\n            array = new char[capacity];\n            top = -1;\n        }\n\n        public void push(char data) {\n            array[++top] = data;\n        }\n\n        public char pop() {\n            return array[top--];\n        }\n\n        public void display() {\n            for (int i = 0; i &lt;= top; i++) {\n                System.out.print(array[i] + \"-&gt;\");\n            }\n        }\n\n        public char peek() throws Exception {\n            return array[top];\n        }\n\n        /*Call this method by passing a string expression*/\n        public void balanceSymbol(String str) {\n            try {\n                char[] arr = str.toCharArray();\n                for (int i = 0; i &lt; arr.length; i++) {\n                    if (arr[i] == '[' || arr[i] == '{' || arr[i] == '(')\n                        push(arr[i]);\n                    else if (arr[i] == '}' &amp;&amp; peek() == '{')\n                        pop();\n                    else if (arr[i] == ']' &amp;&amp; peek() == '[')\n                        pop();\n                    else if (arr[i] == ')' &amp;&amp; peek() == '(')\n                        pop();\n                }\n                if (isEmpty()) {\n                    System.out.println(\"String is balanced\");\n                } else {\n                    System.out.println(\"String is not balanced\");\n                }\n            } catch (Exception e) {\n                System.out.println(\"String not balanced\");\n            }\n\n        }\n\n        public boolean isEmpty() {\n            return (top == -1);\n        }\n    }\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>--Bracket checker--</p>\n\n<p>String is balanced        </p>\n"},{"tags":[],"owner":{"account_id":7921058,"reputation":1,"user_id":5982020,"display_name":"Pravin Lobo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456426118,"creation_date":1456422790,"answer_id":35634686,"question_id":16874176,"body_markdown":"    import java.util.*;\r\n\r\n    public class MatchBrackets {\r\n\r\n    \tpublic static void main(String[] argh) {\r\n    \t\tString input = &quot;[]{[]()}&quot;;\r\n    \t\tSystem.out.println  (input);\r\n\r\n    \t\tchar [] openChars =  {&#39;[&#39;,&#39;{&#39;,&#39;(&#39;};\r\n    \t\tchar [] closeChars = {&#39;]&#39;,&#39;}&#39;,&#39;)&#39;};\r\n\r\n    \t\tStack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\r\n    \t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n\r\n    \t\t\tString x = &quot;&quot; +input.charAt(i);\r\n\r\n    \t\t\tif (String.valueOf(openChars).indexOf(x) != -1)\r\n    \t\t\t{\r\n    \t\t\t\tstack.push(input.charAt(i));\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tCharacter lastOpener = stack.peek();\r\n    \t\t\t\tint idx1 = String.valueOf(openChars).indexOf(lastOpener.toString());\r\n    \t\t\t\tint idx2 = String.valueOf(closeChars).indexOf(x);\r\n\r\n    \t\t\t\tif (idx1 != idx2)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;false&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tstack.pop();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    \t\tif (stack.size() == 0)\r\n    \t\t\tSystem.out.println(&quot;true&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;false&quot;);\r\n    \t}\r\n    }\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>import java.util.*;\n\npublic class MatchBrackets {\n\n    public static void main(String[] argh) {\n        String input = \"[]{[]()}\";\n        System.out.println  (input);\n\n        char [] openChars =  {'[','{','('};\n        char [] closeChars = {']','}',')'};\n\n        Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n\n            String x = \"\" +input.charAt(i);\n\n            if (String.valueOf(openChars).indexOf(x) != -1)\n            {\n                stack.push(input.charAt(i));\n            }\n            else\n            {\n                Character lastOpener = stack.peek();\n                int idx1 = String.valueOf(openChars).indexOf(lastOpener.toString());\n                int idx2 = String.valueOf(closeChars).indexOf(x);\n\n                if (idx1 != idx2)\n                {\n                    System.out.println(\"false\");\n                    return;\n                }\n                else\n                {\n                    stack.pop();\n                }\n            }\n        }\n\n        if (stack.size() == 0)\n            System.out.println(\"true\");\n        else\n            System.out.println(\"false\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3097750,"reputation":1804,"user_id":2622612,"accept_rate":78,"display_name":"Zippy"},"score":1,"creation_date":1459254790,"post_id":36284110,"comment_id":60194571,"body_markdown":"Why should OP use your code? Could you expand your answer with an explanation?","body":"Why should OP use your code? Could you expand your answer with an explanation?"},{"owner":{"account_id":6372812,"reputation":1183,"user_id":4944734,"display_name":"ganesan dharmalingam"},"score":0,"creation_date":1463038753,"post_id":36284110,"comment_id":61894116,"body_markdown":"It returns the result immediately after found a illegal close. Uses Map which intern uses hashing technique and faster. Number of lines are less and easy to understand.","body":"It returns the result immediately after found a illegal close. Uses Map which intern uses hashing technique and faster. Number of lines are less and easy to understand."},{"owner":{"account_id":5682740,"reputation":159,"user_id":4493288,"display_name":"Tim"},"score":0,"creation_date":1483830854,"post_id":36284110,"comment_id":70261242,"body_markdown":"`openClosePair.values().contains(ch)` be replaced `openClosePair.containsValue(ch)`","body":"<code>openClosePair.values().contains(ch)</code> be replaced <code>openClosePair.containsValue(ch)</code>"},{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":0,"creation_date":1522963492,"post_id":36284110,"comment_id":86375308,"body_markdown":"your last pair is backwards change to (&#39;]&#39;,&#39;[&#39;)","body":"your last pair is backwards change to (&#39;]&#39;,&#39;[&#39;)"},{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":0,"creation_date":1522964677,"post_id":36284110,"comment_id":86375807,"body_markdown":"and you need to check if the stack is empty  if(stack.empty() || stack.pop() != openClosedPair.get(ch)) { \n\t        \t\t\t return false;\n\t        \t\t }","body":"and you need to check if the stack is empty  if(stack.empty() || stack.pop() != openClosedPair.get(ch)) {  \t        \t\t\t return false; \t        \t\t }"},{"owner":{"account_id":4147462,"reputation":146,"user_id":3400772,"display_name":"Pankaj Dubey"},"score":0,"creation_date":1552396947,"post_id":36284110,"comment_id":96986447,"body_markdown":"@ganesandharmalingam Great explanation!","body":"@ganesandharmalingam Great explanation!"},{"owner":{"account_id":4502479,"reputation":891,"user_id":3660710,"display_name":"Asanka Siriwardena"},"score":0,"creation_date":1639021537,"post_id":36284110,"comment_id":124243915,"body_markdown":"This does not work for pattern &#39;())&#39; should be corrected as if(stack.empty() || stack.pop() != openClosePair.get(ch))","body":"This does not work for pattern &#39;())&#39; should be corrected as if(stack.empty() || stack.pop() != openClosePair.get(ch))"}],"tags":[],"owner":{"account_id":6372812,"reputation":1183,"user_id":4944734,"display_name":"ganesan dharmalingam"},"comment_count":7,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1532869917,"creation_date":1459254003,"answer_id":36284110,"question_id":16874176,"body_markdown":"    public static boolean isValidExpression(String expression) {\r\n\t\tMap&lt;Character, Character&gt; openClosePair = new HashMap&lt;Character, Character&gt;();\r\n\t\topenClosePair.put(&#39;)&#39;, &#39;(&#39;);\r\n\t\topenClosePair.put(&#39;}&#39;, &#39;{&#39;);\r\n\t\topenClosePair.put(&#39;]&#39;, &#39;[&#39;);\t\t\r\n\t\tStack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\t\tfor(char ch : expression.toCharArray()) {\r\n\t\t\tif(openClosePair.containsKey(ch)) {\r\n\t\t\t    if(stack.pop() != openClosePair.get(ch)) {\r\n\t\t\t    \treturn false;\r\n\t\t\t    }\r\n\t\t\t} else if(openClosePair.values().contains(ch)) {\r\n\t\t\t\tstack.push(ch);\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn stack.isEmpty();\r\n\t}","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>public static boolean isValidExpression(String expression) {\n    Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;Character, Character&gt;();\n    openClosePair.put(')', '(');\n    openClosePair.put('}', '{');\n    openClosePair.put(']', '[');        \n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n    for(char ch : expression.toCharArray()) {\n        if(openClosePair.containsKey(ch)) {\n            if(stack.pop() != openClosePair.get(ch)) {\n                return false;\n            }\n        } else if(openClosePair.values().contains(ch)) {\n            stack.push(ch); \n        }\n    }\n    return stack.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204759,"reputation":2421,"user_id":453158,"accept_rate":12,"display_name":"deniswsrosa"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1463657129,"creation_date":1463657129,"answer_id":37321781,"question_id":16874176,"body_markdown":"\tpublic static boolean isBalanced(String s) {\r\n\t\tMap&lt;Character, Character&gt; openClosePair = new HashMap&lt;Character, Character&gt;();\r\n\t    openClosePair.put(&#39;(&#39;, &#39;)&#39;);\r\n\t    openClosePair.put(&#39;{&#39;, &#39;}&#39;);\r\n\t    openClosePair.put(&#39;[&#39;, &#39;]&#39;); \r\n\t    \r\n\t\tStack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\r\n\t\t\tif (openClosePair.containsKey(s.charAt(i))) {\r\n\t\t\t\tstack.push(s.charAt(i));\r\n\t\t\t\t\r\n\t\t\t} else if ( openClosePair.containsValue(s.charAt(i))) {\r\n\t\t\t\tif (stack.isEmpty())\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tif (openClosePair.get(stack.pop()) != s.charAt(i))\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// ignore all other characters\r\n\r\n\t\t}\r\n\t\treturn stack.isEmpty();\r\n\t}","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>public static boolean isBalanced(String s) {\n    Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;Character, Character&gt;();\n    openClosePair.put('(', ')');\n    openClosePair.put('{', '}');\n    openClosePair.put('[', ']'); \n\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n    for (int i = 0; i &lt; s.length(); i++) {\n\n        if (openClosePair.containsKey(s.charAt(i))) {\n            stack.push(s.charAt(i));\n\n        } else if ( openClosePair.containsValue(s.charAt(i))) {\n            if (stack.isEmpty())\n                return false;\n            if (openClosePair.get(stack.pop()) != s.charAt(i))\n                return false;\n        }\n\n        // ignore all other characters\n\n    }\n    return stack.isEmpty();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4162953,"reputation":3355,"user_id":3412611,"accept_rate":82,"display_name":"Tony Babarino"},"score":1,"creation_date":1466713892,"post_id":38000970,"comment_id":63446689,"body_markdown":"While this code snippet may solve the question, [including an explanation](http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may solve the question, <a href=\"http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}],"tags":[],"owner":{"account_id":7813980,"reputation":7,"user_id":5909317,"display_name":"Ashish Jadhav"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466714815,"creation_date":1466712843,"answer_id":38000970,"question_id":16874176,"body_markdown":"    import java.util.*;\r\n    \r\n    class StackDemo {\r\n    \r\n    \tpublic static void main(String[] argh) {\r\n    \t\tboolean flag = true;\r\n    \t\tString str = &quot;(()){}()&quot;;\r\n    \t\tint l = str.length();\r\n    \t\tflag = true;\r\n    \t\tStack&lt;String&gt; st = new Stack&lt;String&gt;();\r\n    \t\tfor (int i = 0; i &lt; l; i++) {\r\n    \t\t\tString test = str.substring(i, i + 1);\r\n    \t\t\tif (test.equals(&quot;(&quot;)) {\r\n    \t\t\t\tst.push(test);\r\n    \t\t\t} else if (test.equals(&quot;{&quot;)) {\r\n    \t\t\t\tst.push(test);\r\n    \t\t\t} else if (test.equals(&quot;[&quot;)) {\r\n    \t\t\t\tst.push(test);\r\n    \t\t\t} else if (test.equals(&quot;)&quot;)) {\r\n    \t\t\t\tif (st.empty()) {\r\n    \t\t\t\t\tflag = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (st.peek().equals(&quot;(&quot;)) {\r\n    \t\t\t\t\tst.pop();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tflag = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (test.equals(&quot;}&quot;)) {\r\n    \t\t\t\tif (st.empty()) {\r\n    \t\t\t\t\tflag = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (st.peek().equals(&quot;{&quot;)) {\r\n    \t\t\t\t\tst.pop();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tflag = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t} else if (test.equals(&quot;]&quot;)) {\r\n    \t\t\t\tif (st.empty()) {\r\n    \t\t\t\t\tflag = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (st.peek().equals(&quot;[&quot;)) {\r\n    \t\t\t\t\tst.pop();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tflag = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (flag &amp;&amp; st.empty())\r\n    \t\t\tSystem.out.println(&quot;true&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;false&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>import java.util.*;\n\nclass StackDemo {\n\n    public static void main(String[] argh) {\n        boolean flag = true;\n        String str = \"(()){}()\";\n        int l = str.length();\n        flag = true;\n        Stack&lt;String&gt; st = new Stack&lt;String&gt;();\n        for (int i = 0; i &lt; l; i++) {\n            String test = str.substring(i, i + 1);\n            if (test.equals(\"(\")) {\n                st.push(test);\n            } else if (test.equals(\"{\")) {\n                st.push(test);\n            } else if (test.equals(\"[\")) {\n                st.push(test);\n            } else if (test.equals(\")\")) {\n                if (st.empty()) {\n                    flag = false;\n                    break;\n                }\n                if (st.peek().equals(\"(\")) {\n                    st.pop();\n                } else {\n                    flag = false;\n                    break;\n                }\n            } else if (test.equals(\"}\")) {\n                if (st.empty()) {\n                    flag = false;\n                    break;\n                }\n                if (st.peek().equals(\"{\")) {\n                    st.pop();\n                } else {\n                    flag = false;\n                    break;\n                }\n            } else if (test.equals(\"]\")) {\n                if (st.empty()) {\n                    flag = false;\n                    break;\n                }\n                if (st.peek().equals(\"[\")) {\n                    st.pop();\n                } else {\n                    flag = false;\n                    break;\n                }\n            }\n        }\n        if (flag &amp;&amp; st.empty())\n            System.out.println(\"true\");\n        else\n            System.out.println(\"false\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490274320,"creation_date":1490274320,"answer_id":42976915,"question_id":16874176,"body_markdown":"I have seen answers here and almost all did well. However, I have written my own version that utilizes a Dictionary for managing the bracket pairs and a stack to monitor the order of detected braces. I have also written a blog [post][1] for this.\r\n\r\nHere is my class\r\n\r\n    public class FormulaValidator\r\n    {\r\n        // Question: Check if a string is balanced. Every opening bracket is matched by a closing bracket in a correct position.\r\n        // { [ ( } ] )\r\n\r\n        // Example: &quot;()&quot; is balanced\r\n        // Example: &quot;{ ]&quot; is not balanced.\r\n        // Examples: &quot;()[]{}&quot; is balanced.\r\n        // &quot;{([])}&quot; is balanced\r\n        // &quot;{ ( [ ) ] }&quot; is _not_ balanced\r\n\r\n        // Input: string, containing the bracket symbols only\r\n        // Output: true or false\r\n        public bool IsBalanced(string input)\r\n        {\r\n            var brackets = BuildBracketMap();\r\n            var openingBraces = new Stack&lt;char&gt;();\r\n            var inputCharacters = input.ToCharArray();\r\n\r\n            foreach (char character in inputCharacters)\r\n            {\r\n                if (brackets.ContainsKey(character))\r\n                {\r\n                    openingBraces.Push(character);\r\n                }\r\n\r\n                if (brackets.ContainsValue(character))\r\n                {\r\n                    var closingBracket = character;\r\n                    var openingBracket = brackets.FirstOrDefault(x =&gt; x.Value == closingBracket).Key;\r\n\r\n                    if (openingBraces.Peek() == openingBracket)\r\n                        openingBraces.Pop();\r\n                    else\r\n                        return false;\r\n                }\r\n            }\r\n\r\n            return openingBraces.Count == 0;\r\n        }\r\n\r\n        private Dictionary&lt;char, char&gt; BuildBracketMap()\r\n        {\r\n            return new Dictionary&lt;char, char&gt;()\r\n            {\r\n                {&#39;[&#39;, &#39;]&#39;},\r\n                {&#39;(&#39;, &#39;)&#39;},\r\n                {&#39;{&#39;, &#39;}&#39;}\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://js-guru.blogspot.sg/2017/03/validating-balanced-parenthesis.html","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>I have seen answers here and almost all did well. However, I have written my own version that utilizes a Dictionary for managing the bracket pairs and a stack to monitor the order of detected braces. I have also written a blog <a href=\"http://js-guru.blogspot.sg/2017/03/validating-balanced-parenthesis.html\" rel=\"nofollow noreferrer\">post</a> for this.</p>\n\n<p>Here is my class</p>\n\n<pre><code>public class FormulaValidator\n{\n    // Question: Check if a string is balanced. Every opening bracket is matched by a closing bracket in a correct position.\n    // { [ ( } ] )\n\n    // Example: \"()\" is balanced\n    // Example: \"{ ]\" is not balanced.\n    // Examples: \"()[]{}\" is balanced.\n    // \"{([])}\" is balanced\n    // \"{ ( [ ) ] }\" is _not_ balanced\n\n    // Input: string, containing the bracket symbols only\n    // Output: true or false\n    public bool IsBalanced(string input)\n    {\n        var brackets = BuildBracketMap();\n        var openingBraces = new Stack&lt;char&gt;();\n        var inputCharacters = input.ToCharArray();\n\n        foreach (char character in inputCharacters)\n        {\n            if (brackets.ContainsKey(character))\n            {\n                openingBraces.Push(character);\n            }\n\n            if (brackets.ContainsValue(character))\n            {\n                var closingBracket = character;\n                var openingBracket = brackets.FirstOrDefault(x =&gt; x.Value == closingBracket).Key;\n\n                if (openingBraces.Peek() == openingBracket)\n                    openingBraces.Pop();\n                else\n                    return false;\n            }\n        }\n\n        return openingBraces.Count == 0;\n    }\n\n    private Dictionary&lt;char, char&gt; BuildBracketMap()\n    {\n        return new Dictionary&lt;char, char&gt;()\n        {\n            {'[', ']'},\n            {'(', ')'},\n            {'{', '}'}\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":540190,"reputation":957,"user_id":908316,"display_name":"Freddie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493999016,"creation_date":1493999016,"answer_id":43808964,"question_id":16874176,"body_markdown":"Ganesan&#39;s answer above is not correct and StackOverflow is not letting me comment or Edit his post. So below is the correct answer. Ganesan has an incorrect facing &quot;[&quot; and is missing the stack isEmpty() check. \r\n\r\nThe below code will return true if the braces are properly matching.\r\n\r\n    public static boolean isValidExpression(String expression) {\r\n        Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;Character, Character&gt;();\r\n        openClosePair.put(&#39;)&#39;, &#39;(&#39;);\r\n        openClosePair.put(&#39;}&#39;, &#39;{&#39;);\r\n        openClosePair.put(&#39;]&#39;, &#39;[&#39;);\r\n\r\n        Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n        for(char ch : expression.toCharArray()) {\r\n            if(openClosePair.containsKey(ch)) {\r\n                if(stack.isEmpty() || stack.pop() != openClosePair.get(ch)) {\r\n                    return false;\r\n                }\r\n            } else if(openClosePair.values().contains(ch)) {\r\n                stack.push(ch); \r\n            }\r\n        }\r\n        return stack.isEmpty();\r\n    }","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Ganesan's answer above is not correct and StackOverflow is not letting me comment or Edit his post. So below is the correct answer. Ganesan has an incorrect facing \"[\" and is missing the stack isEmpty() check. </p>\n\n<p>The below code will return true if the braces are properly matching.</p>\n\n<pre><code>public static boolean isValidExpression(String expression) {\n    Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;Character, Character&gt;();\n    openClosePair.put(')', '(');\n    openClosePair.put('}', '{');\n    openClosePair.put(']', '[');\n\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n    for(char ch : expression.toCharArray()) {\n        if(openClosePair.containsKey(ch)) {\n            if(stack.isEmpty() || stack.pop() != openClosePair.get(ch)) {\n                return false;\n            }\n        } else if(openClosePair.values().contains(ch)) {\n            stack.push(ch); \n        }\n    }\n    return stack.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495113207,"creation_date":1495113207,"answer_id":44048785,"question_id":16874176,"body_markdown":"If you want to have a look at my code. Just for reference \r\n\r\n    public class Default {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tint numOfString = Integer.parseInt(br.readLine());\r\n    \t\tString s;\r\n    \t\tString stringBalanced = &quot;YES&quot;;\r\n    \t\tStack&lt;Character&gt; exprStack = new Stack&lt;Character&gt;();\r\n    \r\n    \t\twhile ((s = br.readLine()) != null) {\r\n    \t\t\tstringBalanced = &quot;YES&quot;;\r\n    \t\t\tint length = s.length() - 1;\r\n    \t\t\tfor (int i = 0; i &lt;= length; i++) {\r\n    \t\t\t\tchar tmp = s.charAt(i);\r\n    \t\t\t\t\r\n    \t\t\t\tif(tmp==&#39;[&#39; || tmp==&#39;{&#39; || tmp==&#39;(&#39;){\r\n    \t\t\t\t\texprStack.push(tmp);\r\n    \t\t\t\t}else if(tmp==&#39;]&#39; || tmp==&#39;}&#39; || tmp==&#39;)&#39;){\r\n    \t\t\t\t\tif(!exprStack.isEmpty()){\r\n    \t\t\t\t\t\tchar peekElement = exprStack.peek();\r\n    \t\t\t\t\t\texprStack.pop();\r\n    \t\t\t\t\t\tif(tmp==&#39;]&#39; &amp;&amp; peekElement!=&#39;[&#39;){\r\n    \t\t\t\t\t\t\tstringBalanced=&quot;NO&quot;;\r\n    \t\t\t\t\t\t}else if(tmp==&#39;}&#39; &amp;&amp; peekElement!=&#39;{&#39;){\r\n    \t\t\t\t\t\t\tstringBalanced=&quot;NO&quot;;\r\n    \t\t\t\t\t\t}else if(tmp==&#39;)&#39; &amp;&amp; peekElement!=&#39;(&#39;){\r\n    \t\t\t\t\t\t\tstringBalanced=&quot;NO&quot;;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}else{\r\n    \t\t\t\t\t\tstringBalanced=&quot;NO&quot;;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(!exprStack.isEmpty()){\r\n    \t\t\t\tstringBalanced = &quot;NO&quot;;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\texprStack.clear();\r\n    \t\t\tSystem.out.println(stringBalanced);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>If you want to have a look at my code. Just for reference </p>\n\n<pre><code>public class Default {\n\n    public static void main(String[] args) throws IOException {\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        int numOfString = Integer.parseInt(br.readLine());\n        String s;\n        String stringBalanced = \"YES\";\n        Stack&lt;Character&gt; exprStack = new Stack&lt;Character&gt;();\n\n        while ((s = br.readLine()) != null) {\n            stringBalanced = \"YES\";\n            int length = s.length() - 1;\n            for (int i = 0; i &lt;= length; i++) {\n                char tmp = s.charAt(i);\n\n                if(tmp=='[' || tmp=='{' || tmp=='('){\n                    exprStack.push(tmp);\n                }else if(tmp==']' || tmp=='}' || tmp==')'){\n                    if(!exprStack.isEmpty()){\n                        char peekElement = exprStack.peek();\n                        exprStack.pop();\n                        if(tmp==']' &amp;&amp; peekElement!='['){\n                            stringBalanced=\"NO\";\n                        }else if(tmp=='}' &amp;&amp; peekElement!='{'){\n                            stringBalanced=\"NO\";\n                        }else if(tmp==')' &amp;&amp; peekElement!='('){\n                            stringBalanced=\"NO\";\n                        }\n                    }else{\n                        stringBalanced=\"NO\";\n                        break;\n                    }\n                }\n\n            }\n\n            if(!exprStack.isEmpty()){\n                stringBalanced = \"NO\";\n            }\n\n            exprStack.clear();\n            System.out.println(stringBalanced);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11071168,"reputation":1,"user_id":8129234,"display_name":"Muhammad Kashif"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496899711,"creation_date":1496899711,"answer_id":44427314,"question_id":16874176,"body_markdown":"    public static bool IsBalanced(string input)\r\n        {\r\n            Dictionary&lt;char, char&gt; bracketPairs = new Dictionary&lt;char, char&gt;() {\r\n            { &#39;(&#39;, &#39;)&#39; },\r\n            { &#39;{&#39;, &#39;}&#39; },\r\n            { &#39;[&#39;, &#39;]&#39; },\r\n            { &#39;&lt;&#39;, &#39;&gt;&#39; }\r\n        };\r\n\r\n            Stack&lt;char&gt; brackets = new Stack&lt;char&gt;();\r\n\r\n            try\r\n            {\r\n                // Iterate through each character in the input string\r\n                foreach (char c in input)\r\n                {\r\n                    // check if the character is one of the &#39;opening&#39; brackets\r\n                    if (bracketPairs.Keys.Contains(c))\r\n                    {\r\n                        // if yes, push to stack\r\n                        brackets.Push(c);\r\n                    }\r\n                    else\r\n                        // check if the character is one of the &#39;closing&#39; brackets\r\n                        if (bracketPairs.Values.Contains(c))\r\n                        {\r\n                            // check if the closing bracket matches the &#39;latest&#39; &#39;opening&#39; bracket\r\n                            if (c == bracketPairs[brackets.First()])\r\n                            {\r\n                                brackets.Pop();\r\n                            }\r\n                            else\r\n                                // if not, its an unbalanced string\r\n                                return false;\r\n                        }\r\n                        else\r\n                            // continue looking\r\n                            continue;\r\n                }\r\n            }\r\n            catch\r\n            {\r\n                // an exception will be caught in case a closing bracket is found, \r\n                // before any opening bracket.\r\n                // that implies, the string is not balanced. Return false\r\n                return false;\r\n            }\r\n\r\n            // Ensure all brackets are closed\r\n            return brackets.Count() == 0 ? true : false;\r\n        }\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>public static bool IsBalanced(string input)\n    {\n        Dictionary&lt;char, char&gt; bracketPairs = new Dictionary&lt;char, char&gt;() {\n        { '(', ')' },\n        { '{', '}' },\n        { '[', ']' },\n        { '&lt;', '&gt;' }\n    };\n\n        Stack&lt;char&gt; brackets = new Stack&lt;char&gt;();\n\n        try\n        {\n            // Iterate through each character in the input string\n            foreach (char c in input)\n            {\n                // check if the character is one of the 'opening' brackets\n                if (bracketPairs.Keys.Contains(c))\n                {\n                    // if yes, push to stack\n                    brackets.Push(c);\n                }\n                else\n                    // check if the character is one of the 'closing' brackets\n                    if (bracketPairs.Values.Contains(c))\n                    {\n                        // check if the closing bracket matches the 'latest' 'opening' bracket\n                        if (c == bracketPairs[brackets.First()])\n                        {\n                            brackets.Pop();\n                        }\n                        else\n                            // if not, its an unbalanced string\n                            return false;\n                    }\n                    else\n                        // continue looking\n                        continue;\n            }\n        }\n        catch\n        {\n            // an exception will be caught in case a closing bracket is found, \n            // before any opening bracket.\n            // that implies, the string is not balanced. Return false\n            return false;\n        }\n\n        // Ensure all brackets are closed\n        return brackets.Count() == 0 ? true : false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5832323,"reputation":368,"user_id":4596427,"display_name":"ibrik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503153769,"creation_date":1503153769,"answer_id":45772839,"question_id":16874176,"body_markdown":"    public String checkString(String value) {\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        char topStackChar = 0;\r\n        for (int i = 0; i &lt; value.length(); i++) {\r\n            if (!stack.isEmpty()) {\r\n                topStackChar = stack.peek();\r\n            }\r\n            stack.push(value.charAt(i));\r\n            if (!stack.isEmpty() &amp;&amp; stack.size() &gt; 1) {\r\n                if ((topStackChar == &#39;[&#39; &amp;&amp; stack.peek() == &#39;]&#39;) ||\r\n                        (topStackChar == &#39;{&#39; &amp;&amp; stack.peek() == &#39;}&#39;) ||\r\n                        (topStackChar == &#39;(&#39; &amp;&amp; stack.peek() == &#39;)&#39;)) {\r\n                    stack.pop();\r\n                    stack.pop();\r\n                }\r\n            }\r\n        }\r\n        return stack.isEmpty() ? &quot;YES&quot; : &quot;NO&quot;;\r\n    }","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>public String checkString(String value) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    char topStackChar = 0;\n    for (int i = 0; i &lt; value.length(); i++) {\n        if (!stack.isEmpty()) {\n            topStackChar = stack.peek();\n        }\n        stack.push(value.charAt(i));\n        if (!stack.isEmpty() &amp;&amp; stack.size() &gt; 1) {\n            if ((topStackChar == '[' &amp;&amp; stack.peek() == ']') ||\n                    (topStackChar == '{' &amp;&amp; stack.peek() == '}') ||\n                    (topStackChar == '(' &amp;&amp; stack.peek() == ')')) {\n                stack.pop();\n                stack.pop();\n            }\n        }\n    }\n    return stack.isEmpty() ? \"YES\" : \"NO\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155659,"reputation":110,"user_id":2668601,"display_name":"Said Ali Samed"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527596000,"creation_date":1527596000,"answer_id":50584137,"question_id":16874176,"body_markdown":"Here&#39;s a solution in Python.\r\n\r\n    #!/usr/bin/env python\r\n\r\n    def brackets_match(brackets):\r\n        stack = []\r\n        for char in brackets:\r\n            if char == &quot;{&quot; or char == &quot;(&quot; or char == &quot;[&quot;:\r\n                stack.append(char)\r\n            if char == &quot;}&quot;:\r\n                if stack[-1] == &quot;{&quot;:\r\n                    stack.pop()\r\n                else:\r\n                    return False\r\n            elif char == &quot;]&quot;:\r\n                if stack[-1] == &quot;[&quot;:\r\n                    stack.pop()\r\n                else:\r\n                    return False\r\n            elif char == &quot;)&quot;:\r\n                if stack[-1] == &quot;(&quot;:\r\n                    stack.pop()\r\n                else:\r\n                    return False\r\n        if len(stack) == 0:\r\n            return True\r\n        else:\r\n            return False\r\n\r\n    if __name__ == &quot;__main__&quot;:\r\n        print(brackets_match(&quot;This is testing {([])} if brackets have match.&quot;))\r\n\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Here's a solution in Python.</p>\n\n<pre><code>#!/usr/bin/env python\n\ndef brackets_match(brackets):\n    stack = []\n    for char in brackets:\n        if char == \"{\" or char == \"(\" or char == \"[\":\n            stack.append(char)\n        if char == \"}\":\n            if stack[-1] == \"{\":\n                stack.pop()\n            else:\n                return False\n        elif char == \"]\":\n            if stack[-1] == \"[\":\n                stack.pop()\n            else:\n                return False\n        elif char == \")\":\n            if stack[-1] == \"(\":\n                stack.pop()\n            else:\n                return False\n    if len(stack) == 0:\n        return True\n    else:\n        return False\n\nif __name__ == \"__main__\":\n    print(brackets_match(\"This is testing {([])} if brackets have match.\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440418,"reputation":150,"user_id":4990600,"display_name":"Dmytro Zhluktenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1529683841,"creation_date":1529683841,"answer_id":50991884,"question_id":16874176,"body_markdown":"Was asked to implement this algorithm at live coding interview, here&#39;s my refactored solution in C#:\r\n\r\n[Git][1] [Tests][2]\r\n\r\n\r\n  [1]: https://github.com/d1mnewz/CSharpPlayground/tree/master/MatchingBrackets\r\n  [2]: https://github.com/d1mnewz/CSharpPlayground/tree/master/MatchingBrackets.Tests","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Was asked to implement this algorithm at live coding interview, here's my refactored solution in C#:</p>\n\n<p><a href=\"https://github.com/d1mnewz/CSharpPlayground/tree/master/MatchingBrackets\" rel=\"nofollow noreferrer\">Git</a> <a href=\"https://github.com/d1mnewz/CSharpPlayground/tree/master/MatchingBrackets.Tests\" rel=\"nofollow noreferrer\">Tests</a></p>\n"},{"tags":[],"owner":{"account_id":14079499,"reputation":1,"user_id":10170917,"display_name":"Ritesh Nailwal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533211957,"creation_date":1533210708,"answer_id":51652957,"question_id":16874176,"body_markdown":"    package com.balance.braces;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Stack;\r\n\r\n    public class BalanceBraces {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString[] values = { &quot;()]&quot;, &quot;[()]&quot; };\r\n\r\n\t\tString[] rsult = match(values);\r\n\r\n\t\tArrays.stream(rsult).forEach(str -&gt; System.out.println(str));\r\n\t}\r\n\r\n\tstatic String[] match(String[] values) {\r\n\r\n\t\tString[] returnString = new String[values.length];\r\n\r\n\t\tfor (int i = 0; i &lt; values.length; i++) {\r\n\t\t\tString value = values[i];\r\n\r\n\t\t\tif (value.length() % 2 != 0) {\r\n\t\t\t\treturnString[i] = &quot;NO&quot;;\r\n\t\t\t\tcontinue;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tStack&lt;Character&gt; buffer = new Stack&lt;Character&gt;();\r\n\t\t\t\tfor (char ch : value.toCharArray()) {\r\n\r\n\t\t\t\t\tif (buffer.isEmpty()) {\r\n\t\t\t\t\t\tbuffer.add(ch);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (isMatchedBrace(buffer.peek(), ch)) {\r\n\t\t\t\t\t\t\tbuffer.pop();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbuffer.push(ch);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (buffer.isEmpty()) {\r\n\t\t\t\t\t\treturnString[i] = &quot;YES&quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturnString[i] = &quot;FALSE&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn returnString;\r\n\t}\r\n\r\n\tstatic boolean isMatchedBrace(char start, char endmatch) {\r\n\t\tif (start == &#39;{&#39;)\r\n\t\t\treturn endmatch == &#39;}&#39;;\r\n\t\tif (start == &#39;(&#39;)\r\n\t\t\treturn endmatch == &#39;)&#39;;\r\n\t\tif (start == &#39;[&#39;)\r\n\t\t\treturn endmatch == &#39;]&#39;;\r\n\t\treturn false;\r\n\t}\r\n\r\n    }\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>package com.balance.braces;\n\nimport java.util.Arrays;\nimport java.util.Stack;\n\npublic class BalanceBraces {\n\npublic static void main(String[] args) {\n\n    String[] values = { \"()]\", \"[()]\" };\n\n    String[] rsult = match(values);\n\n    Arrays.stream(rsult).forEach(str -&gt; System.out.println(str));\n}\n\nstatic String[] match(String[] values) {\n\n    String[] returnString = new String[values.length];\n\n    for (int i = 0; i &lt; values.length; i++) {\n        String value = values[i];\n\n        if (value.length() % 2 != 0) {\n            returnString[i] = \"NO\";\n            continue;\n        } else {\n\n            Stack&lt;Character&gt; buffer = new Stack&lt;Character&gt;();\n            for (char ch : value.toCharArray()) {\n\n                if (buffer.isEmpty()) {\n                    buffer.add(ch);\n                } else {\n                    if (isMatchedBrace(buffer.peek(), ch)) {\n                        buffer.pop();\n                    } else {\n                        buffer.push(ch);\n                    }\n                }\n                if (buffer.isEmpty()) {\n                    returnString[i] = \"YES\";\n                } else {\n                    returnString[i] = \"FALSE\";\n                }\n            }\n        }\n\n    }\n\n    return returnString;\n}\n\nstatic boolean isMatchedBrace(char start, char endmatch) {\n    if (start == '{')\n        return endmatch == '}';\n    if (start == '(')\n        return endmatch == ')';\n    if (start == '[')\n        return endmatch == ']';\n    return false;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1536697785,"creation_date":1536696428,"answer_id":52283512,"question_id":16874176,"body_markdown":" in java you don&#39;t want to compare the string or char by == signs. you would use equals method. equalsIgnoreCase or something of the like. if you use == it must point to the same memory location. In the method below I attempted to use ints to get around this. using ints here from the string index since every opening brace has a closing brace. I wanted to use location match instead of a comparison match. But i think with this you have to be intentional in where you place the characters of the string. Lets also consider that Yes = true and No = false for simplicity. This answer assumes that you passed an array of strings to inspect and required an array of if yes (they matched) or No (they didn&#39;t)\r\n\r\n    import java.util.Stack; \r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t//String[] arrayOfBraces = new String[]{&quot;{[]}&quot;,&quot;([{}])&quot;,&quot;{}{()}&quot;,&quot;{}&quot;,&quot;}]{}&quot;,&quot;{[)]()}&quot;};\r\n\t    // Example: &quot;()&quot; is balanced\r\n\t    // Example: &quot;{ ]&quot; is not balanced.\r\n\t    // Examples: &quot;()[]{}&quot; is balanced.\r\n\t    // &quot;{([])}&quot; is balanced\r\n\t    // &quot;{([)]}&quot; is _not_ balanced\r\n\t\t\r\n\t\tString[] arrayOfBraces \t= new String[]{&quot;{[]}&quot;,&quot;([{}])&quot;,&quot;{}{()}&quot;,&quot;()[]{}&quot;,&quot;}]{}&quot;,&quot;{[)]()}&quot;,&quot;{[)]()}&quot;,&quot;{([)]}&quot;};\r\n\t\tString[] answers \t\t= new String[arrayOfBraces.length];\t\t\r\n\t\tString openers \t\t\t= &quot;([{&quot;;\r\n\t\tString closers \t\t\t= &quot;)]}&quot;;\r\n\t\tString stringToInspect  = &quot;&quot;; \r\n\t\tStack&lt;String&gt; stack \t= new Stack&lt;String&gt;();\r\n\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arrayOfBraces.length; i++) {\r\n\t\t\t\r\n\t\t\tstringToInspect = arrayOfBraces[i];\r\n\t\t\tfor (int j = 0; j &lt; stringToInspect.length(); j++) {\t\t\t\r\n\t\t\t\tif(stack.isEmpty()){\r\n\t\t\t\t\tif (openers.indexOf(stringToInspect.charAt(j))&gt;=0) {\r\n\t\t\t\t\t\tstack.push(&quot;&quot;+stringToInspect.charAt(j));\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tanswers[i]= &quot;NO&quot;;\r\n\t\t\t\t\t\tj=stringToInspect.length();\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(openers.indexOf(stringToInspect.charAt(j))&gt;=0){\r\n\t\t\t\t\tstack.push(&quot;&quot;+stringToInspect.charAt(j));\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tString comparator = stack.pop();\r\n\t\t\t\t\tint compLoc = openers.indexOf(comparator);\r\n\t\t\t\t\tint thisLoc = closers.indexOf(stringToInspect.charAt(j));\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (compLoc != thisLoc) {\r\n\t\t\t\t\t\tanswers[i]= &quot;NO&quot;;\r\n\t\t\t\t\t\tj=stringToInspect.length();\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(stack.empty() &amp;&amp; (j== stringToInspect.length()-1)){\r\n\t\t\t\t\t\t\tanswers[i]= &quot;YES&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(answers.length);\t\t\t\r\n\t\tfor (int j = 0; j &lt; answers.length; j++) {\r\n\t\t\tSystem.out.println(answers[j]);\r\n\t\t}\t\t\r\n\t}","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>in java you don't want to compare the string or char by == signs. you would use equals method. equalsIgnoreCase or something of the like. if you use == it must point to the same memory location. In the method below I attempted to use ints to get around this. using ints here from the string index since every opening brace has a closing brace. I wanted to use location match instead of a comparison match. But i think with this you have to be intentional in where you place the characters of the string. Lets also consider that Yes = true and No = false for simplicity. This answer assumes that you passed an array of strings to inspect and required an array of if yes (they matched) or No (they didn't)</p>\n\n<pre><code>import java.util.Stack; \n\n    public static void main(String[] args) {\n\n    //String[] arrayOfBraces = new String[]{\"{[]}\",\"([{}])\",\"{}{()}\",\"{}\",\"}]{}\",\"{[)]()}\"};\n    // Example: \"()\" is balanced\n    // Example: \"{ ]\" is not balanced.\n    // Examples: \"()[]{}\" is balanced.\n    // \"{([])}\" is balanced\n    // \"{([)]}\" is _not_ balanced\n\n    String[] arrayOfBraces  = new String[]{\"{[]}\",\"([{}])\",\"{}{()}\",\"()[]{}\",\"}]{}\",\"{[)]()}\",\"{[)]()}\",\"{([)]}\"};\n    String[] answers        = new String[arrayOfBraces.length];     \n    String openers          = \"([{\";\n    String closers          = \")]}\";\n    String stringToInspect  = \"\"; \n    Stack&lt;String&gt; stack     = new Stack&lt;String&gt;();\n\n\n    for (int i = 0; i &lt; arrayOfBraces.length; i++) {\n\n        stringToInspect = arrayOfBraces[i];\n        for (int j = 0; j &lt; stringToInspect.length(); j++) {            \n            if(stack.isEmpty()){\n                if (openers.indexOf(stringToInspect.charAt(j))&gt;=0) {\n                    stack.push(\"\"+stringToInspect.charAt(j));   \n                }\n                else{\n                    answers[i]= \"NO\";\n                    j=stringToInspect.length();\n                }                   \n            }\n            else if(openers.indexOf(stringToInspect.charAt(j))&gt;=0){\n                stack.push(\"\"+stringToInspect.charAt(j));   \n            }\n            else{\n                String comparator = stack.pop();\n                int compLoc = openers.indexOf(comparator);\n                int thisLoc = closers.indexOf(stringToInspect.charAt(j));\n\n                if (compLoc != thisLoc) {\n                    answers[i]= \"NO\";\n                    j=stringToInspect.length();                     \n                }\n                else{\n                    if(stack.empty() &amp;&amp; (j== stringToInspect.length()-1)){\n                        answers[i]= \"YES\";\n                    }\n                }\n            }\n        }\n    }\n\n    System.out.println(answers.length);         \n    for (int j = 0; j &lt; answers.length; j++) {\n        System.out.println(answers[j]);\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14123939,"reputation":161,"user_id":10203787,"display_name":"Leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541962726,"creation_date":1541960518,"answer_id":53251804,"question_id":16874176,"body_markdown":"Optimized implementation using Stacks and Switch statement:\r\n\r\n    public class JavaStack {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n          Stack&lt;Character&gt; s = new Stack&lt;Character&gt;();\r\n\r\n        while (sc.hasNext()) {\r\n            String input = sc.next();\r\n\r\n            for (int i = 0; i &lt; input.length(); i++) {\r\n                char c = input.charAt(i);\r\n                switch (c) {\r\n\r\n                    case &#39;(&#39;:\r\n                        s.push(c); break;\r\n                    case &#39;[&#39;:\r\n                        s.push(c); break;\r\n                    case &#39;{&#39;:\r\n                        s.push(c); break;\r\n                    case &#39;)&#39;:\r\n                        if (!s.isEmpty() &amp;&amp; s.peek().equals(&#39;(&#39;)) {\r\n                            s.pop();\r\n                        } else {\r\n                            s.push(c);\r\n                        } break;\r\n                    case &#39;]&#39;:\r\n                        if (!s.isEmpty() &amp;&amp; s.peek().equals(&#39;[&#39;)) {\r\n                            s.pop();\r\n                        } else {\r\n                            s.push(c);\r\n                        } break;\r\n                    case &#39;}&#39;:\r\n                        if (!s.isEmpty() &amp;&amp; s.peek().equals(&#39;{&#39;)) {\r\n                            s.pop();\r\n                        } else {\r\n                            s.push(c);\r\n                        } break;\r\n\r\n                    default:\r\n                        s.push(&#39;x&#39;); break;\r\n\r\n                }\r\n\r\n            }\r\n            if (s.empty()) {\r\n                System.out.println(&quot;true&quot;);\r\n            } else {\r\n                System.out.println(&quot;false&quot;);\r\n                s.clear();\r\n            }\r\n        }\r\n    } }\r\n\r\nCheers !","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Optimized implementation using Stacks and Switch statement:</p>\n\n<pre><code>public class JavaStack {\n\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n      Stack&lt;Character&gt; s = new Stack&lt;Character&gt;();\n\n    while (sc.hasNext()) {\n        String input = sc.next();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n            char c = input.charAt(i);\n            switch (c) {\n\n                case '(':\n                    s.push(c); break;\n                case '[':\n                    s.push(c); break;\n                case '{':\n                    s.push(c); break;\n                case ')':\n                    if (!s.isEmpty() &amp;&amp; s.peek().equals('(')) {\n                        s.pop();\n                    } else {\n                        s.push(c);\n                    } break;\n                case ']':\n                    if (!s.isEmpty() &amp;&amp; s.peek().equals('[')) {\n                        s.pop();\n                    } else {\n                        s.push(c);\n                    } break;\n                case '}':\n                    if (!s.isEmpty() &amp;&amp; s.peek().equals('{')) {\n                        s.pop();\n                    } else {\n                        s.push(c);\n                    } break;\n\n                default:\n                    s.push('x'); break;\n\n            }\n\n        }\n        if (s.empty()) {\n            System.out.println(\"true\");\n        } else {\n            System.out.println(\"false\");\n            s.clear();\n        }\n    }\n} }\n</code></pre>\n\n<p>Cheers !</p>\n"},{"tags":[],"owner":{"account_id":3494296,"reputation":107,"user_id":2923052,"display_name":"suryadev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543204424,"creation_date":1543136169,"answer_id":53466001,"question_id":16874176,"body_markdown":"      Check balanced parenthesis or brackets with stack-- \r\n      var excp = &quot;{{()}[{a+b+b}][{(c+d){}}][]}&quot;;\r\n       var stk = [];   \r\n       function bracket_balance(){\r\n          for(var i=0;i&lt;excp.length;i++){\r\n              if(excp[i]==&#39;[&#39; || excp[i]==&#39;(&#39; || excp[i]==&#39;{&#39;){\r\n                 stk.push(excp[i]);\r\n              }else if(excp[i]== &#39;]&#39; &amp;&amp; stk.pop() != &#39;[&#39;){\r\n                 return false;\r\n              }else if(excp[i]== &#39;}&#39; &amp;&amp; stk.pop() != &#39;{&#39;){\r\n    \r\n                return false;\r\n              }else if(excp[i]== &#39;)&#39; &amp;&amp; stk.pop() != &#39;(&#39;){\r\n    \r\n                return false;\r\n              }\r\n          }\r\n    \r\n          return true;\r\n       }\r\n    \r\n      console.log(bracket_balance());\r\n      //Parenthesis are balance then return true else false","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>  Check balanced parenthesis or brackets with stack-- \n  var excp = \"{{()}[{a+b+b}][{(c+d){}}][]}\";\n   var stk = [];   \n   function bracket_balance(){\n      for(var i=0;i&lt;excp.length;i++){\n          if(excp[i]=='[' || excp[i]=='(' || excp[i]=='{'){\n             stk.push(excp[i]);\n          }else if(excp[i]== ']' &amp;&amp; stk.pop() != '['){\n             return false;\n          }else if(excp[i]== '}' &amp;&amp; stk.pop() != '{'){\n\n            return false;\n          }else if(excp[i]== ')' &amp;&amp; stk.pop() != '('){\n\n            return false;\n          }\n      }\n\n      return true;\n   }\n\n  console.log(bracket_balance());\n  //Parenthesis are balance then return true else false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8618017,"reputation":190,"user_id":6454102,"display_name":"ancarofl6"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545575810,"creation_date":1545575810,"answer_id":53904477,"question_id":16874176,"body_markdown":"You&#39;re doing some extra checks that aren&#39;t needed. Doesn&#39;t make any diff to functionality, but a cleaner way to write your code would be:\r\n\r\n    public static boolean isParenthesisMatch(String str) {\r\n\t\tStack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\t\tchar c;\r\n\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tc = str.charAt(i);\r\n\t\t\tif (c == &#39;(&#39; || c == &#39;{&#39;)\r\n\t\t\t\tstack.push(c);\r\n\t\t\telse if (stack.empty())\r\n\t\t\t\treturn false;\r\n\t\t\telse if (c == &#39;)&#39;) {\r\n\t\t\t\tif (stack.pop() != &#39;(&#39;)\r\n\t\t\t\t\treturn false;\r\n\t\t\t} else if (c == &#39;}&#39;) {\r\n\t\t\t\tif (stack.pop() != &#39;{&#39;)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn stack.empty();\r\n\t}\r\n\r\nThere is no reason to peek at a paranthesis before removing it from the stack. I&#39;d also consider wrapping instruction blocks in parantheses to improve readability.","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>You're doing some extra checks that aren't needed. Doesn't make any diff to functionality, but a cleaner way to write your code would be:</p>\n\n<pre><code>public static boolean isParenthesisMatch(String str) {\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n    char c;\n\n    for (int i = 0; i &lt; str.length(); i++) {\n        c = str.charAt(i);\n        if (c == '(' || c == '{')\n            stack.push(c);\n        else if (stack.empty())\n            return false;\n        else if (c == ')') {\n            if (stack.pop() != '(')\n                return false;\n        } else if (c == '}') {\n            if (stack.pop() != '{')\n                return false;\n        }\n    }\n    return stack.empty();\n}\n</code></pre>\n\n<p>There is no reason to peek at a paranthesis before removing it from the stack. I'd also consider wrapping instruction blocks in parantheses to improve readability.</p>\n"},{"comments":[{"owner":{"account_id":14272149,"reputation":3575,"user_id":10309342,"display_name":"gehbiszumeis"},"score":1,"creation_date":1560323910,"post_id":56556555,"comment_id":99693531,"body_markdown":"Please put your answer always in context instead of just pasting code. See [here](https://stackoverflow.com/help/how-to-answer) for more details.","body":"Please put your answer always in context instead of just pasting code. See <a href=\"https://stackoverflow.com/help/how-to-answer\">here</a> for more details."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1560324985,"post_id":56556555,"comment_id":99694074,"body_markdown":"Please don&#39;t only post code as an answer, but include an explanation what your code does, and how it solves the problem.","body":"Please don&#39;t only post code as an answer, but include an explanation what your code does, and how it solves the problem."}],"tags":[],"owner":{"account_id":16118665,"reputation":1,"user_id":11635115,"display_name":"Sharan Stark"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1560423454,"creation_date":1560323620,"answer_id":56556555,"question_id":16874176,"body_markdown":"**Brackets Matching program without using stack**  \r\n  \r\nHere i used string for replacement of stack implementations like push and pop operations.\r\n\r\n`package java_prac;\r\n    import java.util.*;\r\n    public class BracketsChecker {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;- - - Brackets Checker [ without stack ] - - -\\n\\n&quot;);\r\n    \t\tScanner scan=new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;Input : &quot; );\r\n    \t\tString s = scan.nextLine();\r\n    \t\tscan.close();\r\n    \t\tSystem.out.println(&quot;\\n...working...\\n&quot;);\r\n    \t\tString o=&quot;([{&quot;;\r\n    \t\tString c=&quot;)]}&quot;;\r\n    \t\tString x=&quot; &quot;;\r\n    \t\tint check =0;\r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \t\t\tif(o.contains(String.valueOf(s.charAt(i)))){\r\n    \t\t\t\tx+=s.charAt(i);\t\t\r\n    \t\t\t\t //System.out.println(&quot;In : &quot;+x); // stack in\r\n    \t\t\t}else if(c.contains(String.valueOf(s.charAt(i)))) {\t\r\n    \t\t\t\tchar temp = s.charAt(i);\r\n    \t\t\t\tif(temp==&#39;)&#39;) temp = &#39;(&#39;;\r\n    \t\t\t\tif(temp==&#39;}&#39;) temp = &#39;{&#39;;\r\n    \t\t\t\tif(temp==&#39;]&#39;) temp = &#39;[&#39;;\r\n    \t\t\t\tif(x.charAt(x.length()-1)==temp) {\r\n    \t\t\t\t\tx=&quot; &quot;+x.substring(1,x.length()-1);\r\n    \t\t\t\t\t//System.out.println(&quot;Out : &quot;+x);   // stack out\r\n    \t\t\t}else {\r\n    \t\t\tcheck=1;\t\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t}\t\r\n    \t\tif(x.length()==1 &amp;&amp; check==0 ) {\r\n    \t\t\tSystem.out.println(&quot;\\n\\nCompilation Success \\n\\n&#169; github.com/sharanstark 2k19&quot;);\r\n    \t\t}else {\r\n    \t\t\tSystem.out.println(&quot;\\n\\nCompilation Error \\n\\n&#169; github.com/sharanstark 2k19&quot; );\r\n    \t\t}\r\n    \t}\r\n    }`","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p><strong>Brackets Matching program without using stack</strong>  </p>\n\n<p>Here i used string for replacement of stack implementations like push and pop operations.</p>\n\n<p>`package java_prac;\n    import java.util.*;\n    public class BracketsChecker {</p>\n\n<pre><code>    public static void main(String[] args) {\n        System.out.println(\"- - - Brackets Checker [ without stack ] - - -\\n\\n\");\n        Scanner scan=new Scanner(System.in);\n        System.out.print(\"Input : \" );\n        String s = scan.nextLine();\n        scan.close();\n        System.out.println(\"\\n...working...\\n\");\n        String o=\"([{\";\n        String c=\")]}\";\n        String x=\" \";\n        int check =0;\n        for (int i = 0; i &lt; s.length(); i++) {\n            if(o.contains(String.valueOf(s.charAt(i)))){\n                x+=s.charAt(i);     \n                 //System.out.println(\"In : \"+x); // stack in\n            }else if(c.contains(String.valueOf(s.charAt(i)))) { \n                char temp = s.charAt(i);\n                if(temp==')') temp = '(';\n                if(temp=='}') temp = '{';\n                if(temp==']') temp = '[';\n                if(x.charAt(x.length()-1)==temp) {\n                    x=\" \"+x.substring(1,x.length()-1);\n                    //System.out.println(\"Out : \"+x);   // stack out\n            }else {\n            check=1;    \n            }\n            }\n    }   \n        if(x.length()==1 &amp;&amp; check==0 ) {\n            System.out.println(\"\\n\\nCompilation Success \\n\\n© github.com/sharanstark 2k19\");\n        }else {\n            System.out.println(\"\\n\\nCompilation Error \\n\\n© github.com/sharanstark 2k19\" );\n        }\n    }\n}`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9336815,"reputation":1022,"user_id":6930761,"accept_rate":67,"display_name":"Max.Futerman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627196929,"creation_date":1564810309,"answer_id":57335711,"question_id":16874176,"body_markdown":"\r\n\r\n    public boolean isValid(String s) {\r\n        Map&lt;Character, Character&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&#39;(&#39;, &#39;)&#39;);\r\n        map.put(&#39;[&#39;, &#39;]&#39;);\r\n        map.put(&#39;{&#39;, &#39;}&#39;);\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        for(char c : s.toCharArray()){\r\n            if(map.containsKey(c)){\r\n                stack.push(c);\r\n            } else if(!stack.empty() &amp;&amp; map.get(stack.peek())==c){\r\n                stack.pop();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return stack.empty();\r\n    }","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<pre><code>public boolean isValid(String s) {\n    Map&lt;Character, Character&gt; map = new HashMap&lt;&gt;();\n    map.put('(', ')');\n    map.put('[', ']');\n    map.put('{', '}');\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    for(char c : s.toCharArray()){\n        if(map.containsKey(c)){\n            stack.push(c);\n        } else if(!stack.empty() &amp;&amp; map.get(stack.peek())==c){\n            stack.pop();\n        } else {\n            return false;\n        }\n    }\n    return stack.empty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11205809,"reputation":1433,"user_id":8221470,"display_name":"Hetal Rachh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579271627,"creation_date":1579271627,"answer_id":59789436,"question_id":16874176,"body_markdown":"**Algorithm to use for checking well balanced parenthesis** -\r\n\r\n \r\n\r\n 1. Declare a map **matchingParenMap** and initialize it with closing and opening bracket of each type as the key-value pair respectively.\r\n 2. Declare a set **openingParenSet** and initialize it with the values of matchingParenMap.\r\n 3. Declare a stack **parenStack** which will store the opening brackets &#39;{&#39;, &#39;(&#39;, and &#39;[&#39;.\r\n 4. Now traverse the string expression **input**.\r\n       \r\n       1. If the current character is an opening bracket ( &#39;**{**&#39;, &#39;**(**&#39;, &#39;**[**&#39; ) then push it to the \r\n        **parenStack**.\r\n\r\n       2. If the current character is a closing bracket ( &#39;**}**&#39;, &#39;**)**&#39;, &#39;**]**&#39; ) then pop from \r\n       **parenStack** and if the popped character is equal to the matching starting bracket in \r\n       **matchingParenMap** then continue looping else return false.\r\n    \r\n 5. After complete traversal if no opening brackets are left in **parenStack** it means it is a well balanced expression.\r\n\r\nI have explained the code snippet of the algorithm used on my blog. Check link - http://hetalrachh.home.blog/2019/12/25/stack-data-structure/","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p><strong>Algorithm to use for checking well balanced parenthesis</strong> -</p>\n\n<ol>\n<li>Declare a map <strong>matchingParenMap</strong> and initialize it with closing and opening bracket of each type as the key-value pair respectively.</li>\n<li>Declare a set <strong>openingParenSet</strong> and initialize it with the values of matchingParenMap.</li>\n<li>Declare a stack <strong>parenStack</strong> which will store the opening brackets '{', '(', and '['.</li>\n<li><p>Now traverse the string expression <strong>input</strong>.</p>\n\n<ol>\n<li><p>If the current character is an opening bracket ( '<strong>{</strong>', '<strong>(</strong>', '<strong>[</strong>' ) then push it to the \n<strong>parenStack</strong>.</p></li>\n<li><p>If the current character is a closing bracket ( '<strong>}</strong>', '<strong>)</strong>', '<strong>]</strong>' ) then pop from \n<strong>parenStack</strong> and if the popped character is equal to the matching starting bracket in \n<strong>matchingParenMap</strong> then continue looping else return false.</p></li>\n</ol></li>\n<li><p>After complete traversal if no opening brackets are left in <strong>parenStack</strong> it means it is a well balanced expression.</p></li>\n</ol>\n\n<p>I have explained the code snippet of the algorithm used on my blog. Check link - <a href=\"http://hetalrachh.home.blog/2019/12/25/stack-data-structure/\" rel=\"nofollow noreferrer\">http://hetalrachh.home.blog/2019/12/25/stack-data-structure/</a></p>\n"},{"comments":[{"owner":{"account_id":9930295,"reputation":11658,"user_id":11082165,"display_name":"Brian61354270"},"score":1,"creation_date":1587429516,"post_id":61332384,"comment_id":108503412,"body_markdown":"Hello! While this code may solve the question, [including an explanation](https://meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please [edit] your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"Hello! While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/61332384/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."},{"owner":{"account_id":3102767,"reputation":51,"user_id":2626456,"display_name":"Dheeraj Bansal"},"score":0,"creation_date":1598518444,"post_id":61332384,"comment_id":112487052,"body_markdown":"Thanks @Brian for pointing this out!\nI&#39;ve added more description to my post","body":"Thanks @Brian for pointing this out! I&#39;ve added more description to my post"}],"tags":[],"owner":{"account_id":3102767,"reputation":51,"user_id":2626456,"display_name":"Dheeraj Bansal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598518392,"creation_date":1587418373,"answer_id":61332384,"question_id":16874176,"body_markdown":"Problem Statement:\r\n **Check for balanced parentheses in an expression** Or **Match for Open Closing Brackets**\r\n\r\nIf you appeared for coding interview round then you might have encountered this problem before. This is a pretty common question and can be solved by using **Stack** *Data Structure*\r\nSolution in C#\r\n\r\n```\r\n        public void OpenClosingBracketsMatch()\r\n        {\r\n            string pattern = &quot;{[(((((}}])&quot;;\r\n            Dictionary&lt;char, char&gt; matchLookup = new Dictionary&lt;char, char&gt;();\r\n            matchLookup[&#39;{&#39;] = &#39;}&#39;;\r\n            matchLookup[&#39;(&#39;] = &#39;)&#39;;\r\n            matchLookup[&#39;[&#39;] = &#39;]&#39;;\r\n            Stack&lt;char&gt; stck = new Stack&lt;char&gt;();\r\n            for (int i = 0; i &lt; pattern.Length; i++)\r\n            {\r\n                char currentChar = pattern[i];\r\n                if (matchLookup.ContainsKey(currentChar))\r\n                    stck.Push(currentChar);\r\n                else if (currentChar == &#39;}&#39; || currentChar == &#39;)&#39; || currentChar == &#39;]&#39;)\r\n                {\r\n                    char topCharFromStack = stck.Peek();\r\n                    if (matchLookup[topCharFromStack] != currentChar)\r\n                    {\r\n                        Console.WriteLine(&quot;NOT Matched&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            Console.WriteLine(&quot;Matched&quot;);\r\n        }\r\n```\r\nFor more information, you may also refer to this link: [https://www.geeksforgeeks.org/check-for-balanced-parentheses-in-an-expression/][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/check-for-balanced-parentheses-in-an-expression/","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>Problem Statement:\n<strong>Check for balanced parentheses in an expression</strong> Or <strong>Match for Open Closing Brackets</strong></p>\n<p>If you appeared for coding interview round then you might have encountered this problem before. This is a pretty common question and can be solved by using <strong>Stack</strong> <em>Data Structure</em>\nSolution in C#</p>\n<pre><code>        public void OpenClosingBracketsMatch()\n        {\n            string pattern = &quot;{[(((((}}])&quot;;\n            Dictionary&lt;char, char&gt; matchLookup = new Dictionary&lt;char, char&gt;();\n            matchLookup['{'] = '}';\n            matchLookup['('] = ')';\n            matchLookup['['] = ']';\n            Stack&lt;char&gt; stck = new Stack&lt;char&gt;();\n            for (int i = 0; i &lt; pattern.Length; i++)\n            {\n                char currentChar = pattern[i];\n                if (matchLookup.ContainsKey(currentChar))\n                    stck.Push(currentChar);\n                else if (currentChar == '}' || currentChar == ')' || currentChar == ']')\n                {\n                    char topCharFromStack = stck.Peek();\n                    if (matchLookup[topCharFromStack] != currentChar)\n                    {\n                        Console.WriteLine(&quot;NOT Matched&quot;);\n                        return;\n                    }\n                }\n            }\n\n            Console.WriteLine(&quot;Matched&quot;);\n        }\n</code></pre>\n<p>For more information, you may also refer to this link: <a href=\"https://www.geeksforgeeks.org/check-for-balanced-parentheses-in-an-expression/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/check-for-balanced-parentheses-in-an-expression/</a></p>\n"},{"tags":[],"owner":{"account_id":20004583,"reputation":11,"user_id":14662918,"display_name":"Ranger7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606221597,"creation_date":1606221597,"answer_id":64986720,"question_id":16874176,"body_markdown":"here is my solution using c++\r\nif brackets are matched then returns true if not then gives false\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJFLt.png\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;stack&gt;\r\n    #include &lt;string.h&gt;\r\n    using namespace std;\r\n    \r\n    int matchbracket(string expr){\r\n        stack&lt;char&gt; st;\r\n        int i;\r\n        char x;\r\n        for(i=0;i&lt;expr.length();i++){\r\n            if(expr[i]==&#39;(&#39;||expr[i]==&#39;{&#39;||expr[i]==&#39;[&#39;)\r\n              st.push(expr[i]);\r\n              \r\n            if(st.empty())\r\n             return -1;\r\n            switch(expr[i]){\r\n                case &#39;)&#39; :\r\n                 x=expr[i];\r\n                 st.pop();\r\n                 if(x==&#39;}&#39;||x==&#39;]&#39;)\r\n                  return 0;\r\n                  break;\r\n                \r\n                case &#39;}&#39; :\r\n                 x=expr[i];\r\n                 st.pop();\r\n                 if(x==&#39;)&#39;||x==&#39;]&#39;)\r\n                  return 0;\r\n                  break;\r\n            \r\n                case &#39;]&#39; :\r\n                x=expr[i];\r\n                st.pop();\r\n                if(x==&#39;)&#39;||x==&#39;}&#39;)\r\n                 return 1;\r\n                 break;\r\n            } \r\n    \r\n        }\r\n        return(st.empty());\r\n    }\r\n    \r\n    int main()\r\n    {\r\n     string expr;\r\n     cin&gt;&gt;expr;\r\n     \r\n     if(matchbracket(expr)==1)\r\n      cout&lt;&lt;&quot;\\nTRUE\\n&quot;;\r\n      else\r\n      cout&lt;&lt;&quot;\\nFALSE\\n&quot;;\r\n    }","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>here is my solution using c++\nif brackets are matched then returns true if not then gives false\n<a href=\"https://i.stack.imgur.com/sJFLt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJFLt.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\n#include &lt;string.h&gt;\nusing namespace std;\n\nint matchbracket(string expr){\n    stack&lt;char&gt; st;\n    int i;\n    char x;\n    for(i=0;i&lt;expr.length();i++){\n        if(expr[i]=='('||expr[i]=='{'||expr[i]=='[')\n          st.push(expr[i]);\n          \n        if(st.empty())\n         return -1;\n        switch(expr[i]){\n            case ')' :\n             x=expr[i];\n             st.pop();\n             if(x=='}'||x==']')\n              return 0;\n              break;\n            \n            case '}' :\n             x=expr[i];\n             st.pop();\n             if(x==')'||x==']')\n              return 0;\n              break;\n        \n            case ']' :\n            x=expr[i];\n            st.pop();\n            if(x==')'||x=='}')\n             return 1;\n             break;\n        } \n\n    }\n    return(st.empty());\n}\n\nint main()\n{\n string expr;\n cin&gt;&gt;expr;\n \n if(matchbracket(expr)==1)\n  cout&lt;&lt;&quot;\\nTRUE\\n&quot;;\n  else\n  cout&lt;&lt;&quot;\\nFALSE\\n&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8766155,"reputation":91,"user_id":6554429,"display_name":"mohamed chadad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664449384,"creation_date":1664449384,"answer_id":73894451,"question_id":16874176,"body_markdown":"This is my implementation for this problem:\r\n\r\n    public class BalancedBrackets {\r\n\r\n    static final Set&lt;Character&gt; startBrackets = Set.of(&#39;(&#39;, &#39;[&#39;, &#39;{&#39;);\r\n    static final Map&lt;Character, Character&gt; bracketsMap = Map.of(&#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;, &#39;{&#39;, &#39;}&#39;);\r\n\r\n    public static void main(String[] args) {\r\n        // Here you can add test cases\r\n        Arrays.asList(\r\n                &quot;(())&quot;,\r\n                &quot;([])&quot;,\r\n                &quot;()()(())({})&quot;\r\n        ).forEach(expTest -&gt; System.out.printf(&quot;%s is %s balanced%n&quot;, expTest, isBalancedBrackets(expTest) ? &quot;&quot; : &quot;not&quot;));\r\n    }\r\n\r\n    public static boolean isBalancedBrackets(String exp) {\r\n        Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\r\n        for (int i = 0; i &lt; exp.length(); i++) {\r\n            Character chr = exp.charAt(i);\r\n            if (bracketsMap.containsKey(chr)) {\r\n                stack.push(chr);\r\n                continue;\r\n            }\r\n            if (stack.isEmpty()) {\r\n                return false;\r\n            }\r\n            Character check = stack.pop();\r\n            if (bracketsMap.get(check) != chr) {\r\n                return false;\r\n            }\r\n        }\r\n        return (stack.isEmpty());\r\n    }\r\n}\r\n\r\nhttps://github.com/CMohamed/ProblemSolving/blob/main/other/balanced-brackets/BalancedBrackets.java","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>This is my implementation for this problem:</p>\n<pre><code>public class BalancedBrackets {\n\nstatic final Set&lt;Character&gt; startBrackets = Set.of('(', '[', '{');\nstatic final Map&lt;Character, Character&gt; bracketsMap = Map.of('(', ')', '[', ']', '{', '}');\n\npublic static void main(String[] args) {\n    // Here you can add test cases\n    Arrays.asList(\n            &quot;(())&quot;,\n            &quot;([])&quot;,\n            &quot;()()(())({})&quot;\n    ).forEach(expTest -&gt; System.out.printf(&quot;%s is %s balanced%n&quot;, expTest, isBalancedBrackets(expTest) ? &quot;&quot; : &quot;not&quot;));\n}\n\npublic static boolean isBalancedBrackets(String exp) {\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\n    for (int i = 0; i &lt; exp.length(); i++) {\n        Character chr = exp.charAt(i);\n        if (bracketsMap.containsKey(chr)) {\n            stack.push(chr);\n            continue;\n        }\n        if (stack.isEmpty()) {\n            return false;\n        }\n        Character check = stack.pop();\n        if (bracketsMap.get(check) != chr) {\n            return false;\n        }\n    }\n    return (stack.isEmpty());\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://github.com/CMohamed/ProblemSolving/blob/main/other/balanced-brackets/BalancedBrackets.java\" rel=\"nofollow noreferrer\">https://github.com/CMohamed/ProblemSolving/blob/main/other/balanced-brackets/BalancedBrackets.java</a></p>\n"}],"owner":{"account_id":2649334,"reputation":489,"user_id":2291409,"accept_rate":80,"display_name":"Shuvo0o"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209855,"favorite_count":0,"down_vote_count":2,"up_vote_count":41,"accepted_answer_id":16874430,"answer_count":31,"score":39,"last_activity_date":1671497669,"creation_date":1370099833,"question_id":16874176,"body_markdown":"For example if the parenthesis/brackets is matching in the following:\r\n\r\n    ({})\r\n    (()){}()\r\n    ()\r\nand so on but if the parenthesis/brackets is not matching it should return false, eg:\r\n\r\n    {}\r\n    ({}(\r\n    ){})\r\n    (()\r\n\r\nand so on. Can you please check this code?\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static boolean isParenthesisMatch(String str) {\r\n        Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n\r\n        char c;\r\n        for(int i=0; i &lt; str.length(); i++) {\r\n            c = str.charAt(i);\r\n\t\r\n            if(c == &#39;{&#39;)\r\n                return false;\r\n\r\n            if(c == &#39;(&#39;)\r\n                stack.push(c);\r\n\r\n            if(c == &#39;{&#39;) {\r\n                stack.push(c);\r\n                if(c == &#39;}&#39;)\r\n                    if(stack.empty())\r\n                        return false;\r\n                    else if(stack.peek() == &#39;{&#39;)\r\n                        stack.pop();\r\n            }\r\n            else if(c == &#39;)&#39;)\r\n                if(stack.empty())\r\n                    return false;\r\n                else if(stack.peek() == &#39;(&#39;)\r\n                        stack.pop();\r\n                    else\r\n                        return false;\r\n    \t\t}\r\n    \t\treturn stack.empty();\r\n    }\r\n\r\n    public static void main(String[] args) {\t\t\r\n        String str = &quot;({})&quot;;\r\n        System.out.println(Weekly12.parenthesisOtherMatching(str));\t\r\n    }\r\n","title":"Parenthesis/Brackets Matching using Stack algorithm","body":"<p>For example if the parenthesis/brackets is matching in the following:</p>\n<pre><code>({})\n(()){}()\n()\n</code></pre>\n<p>and so on but if the parenthesis/brackets is not matching it should return false, eg:</p>\n<pre><code>{}\n({}(\n){})\n(()\n</code></pre>\n<p>and so on. Can you please check this code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isParenthesisMatch(String str) {\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n\n    char c;\n    for(int i=0; i &lt; str.length(); i++) {\n        c = str.charAt(i);\n\n        if(c == '{')\n            return false;\n\n        if(c == '(')\n            stack.push(c);\n\n        if(c == '{') {\n            stack.push(c);\n            if(c == '}')\n                if(stack.empty())\n                    return false;\n                else if(stack.peek() == '{')\n                    stack.pop();\n        }\n        else if(c == ')')\n            if(stack.empty())\n                return false;\n            else if(stack.peek() == '(')\n                    stack.pop();\n                else\n                    return false;\n        }\n        return stack.empty();\n}\n\npublic static void main(String[] args) {        \n    String str = &quot;({})&quot;;\n    System.out.println(Weekly12.parenthesisOtherMatching(str)); \n}\n</code></pre>\n"},{"tags":["java","resttemplate","url-parameters","query-string","path-parameter"],"answers":[{"comments":[{"owner":{"account_id":30976,"reputation":8154,"user_id":84761,"accept_rate":80,"display_name":"Gnaniyar Zubair"},"score":2,"creation_date":1520848754,"post_id":36021268,"comment_id":85468062,"body_markdown":"But &quot;UriComponentsBuilder&quot;  class is not available in Spring 3. is there any alternative solution for Spring 3?","body":"But &quot;UriComponentsBuilder&quot;  class is not available in Spring 3. is there any alternative solution for Spring 3?"}],"tags":[],"owner":{"account_id":5847688,"reputation":11485,"user_id":4607349,"accept_rate":74,"display_name":"Michal Foksa"},"comment_count":1,"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1626298516,"creation_date":1458072968,"answer_id":36021268,"question_id":35998790,"body_markdown":"I would use `buildAndExpand` from `UriComponentsBuilder` to pass all types of URI parameters. \r\n\r\nFor example:\r\n\r\n\tString url = &quot;http://test.com/solarSystem/planets/{planet}/moons/{moon}&quot;;\r\n\r\n\t// URI (URL) parameters\r\n\tMap&lt;String, String&gt; urlParams = new HashMap&lt;&gt;();\r\n\turlParams.put(&quot;planet&quot;, &quot;Mars&quot;);\r\n\turlParams.put(&quot;moon&quot;, &quot;Phobos&quot;);\r\n\r\n\t// Query parameters\r\n\tUriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url)\r\n\t\t\t// Add query parameter\r\n\t\t\t.queryParam(&quot;firstName&quot;, &quot;Mark&quot;)\r\n\t\t\t.queryParam(&quot;lastName&quot;, &quot;Watney&quot;);\r\n\r\n\tSystem.out.println(builder.buildAndExpand(urlParams).toUri());\r\n    /**\r\n     * Console output:\r\n\t * http://test.com/solarSystem/planets/Mars/moons/Phobos?firstName=Mark&amp;lastName=Watney\r\n     */\r\n\r\n    restTemplate.exchange(builder.buildAndExpand(urlParams).toUri() , HttpMethod.PUT,\r\n            requestEntity, class_p);\r\n\r\n\t/**\r\n\t * Log entry:\r\n\t * org.springframework.web.client.RestTemplate Created PUT request for &quot;http://test.com/solarSystem/planets/Mars/moons/Phobos?firstName=Mark&amp;lastName=Watney&quot;\r\n\t */\r\n","title":"RestTemplate: How to send URL and query parameters together","body":"<p>I would use <code>buildAndExpand</code> from <code>UriComponentsBuilder</code> to pass all types of URI parameters.</p>\n<p>For example:</p>\n<pre><code>String url = &quot;http://test.com/solarSystem/planets/{planet}/moons/{moon}&quot;;\n\n// URI (URL) parameters\nMap&lt;String, String&gt; urlParams = new HashMap&lt;&gt;();\nurlParams.put(&quot;planet&quot;, &quot;Mars&quot;);\nurlParams.put(&quot;moon&quot;, &quot;Phobos&quot;);\n\n// Query parameters\nUriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url)\n        // Add query parameter\n        .queryParam(&quot;firstName&quot;, &quot;Mark&quot;)\n        .queryParam(&quot;lastName&quot;, &quot;Watney&quot;);\n\nSystem.out.println(builder.buildAndExpand(urlParams).toUri());\n/**\n * Console output:\n * http://test.com/solarSystem/planets/Mars/moons/Phobos?firstName=Mark&amp;lastName=Watney\n */\n\nrestTemplate.exchange(builder.buildAndExpand(urlParams).toUri() , HttpMethod.PUT,\n        requestEntity, class_p);\n\n/**\n * Log entry:\n * org.springframework.web.client.RestTemplate Created PUT request for &quot;http://test.com/solarSystem/planets/Mars/moons/Phobos?firstName=Mark&amp;lastName=Watney&quot;\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1527666375,"creation_date":1527666375,"answer_id":50599077,"question_id":35998790,"body_markdown":"An issue with the answer from *Michal Foksa* is that it adds the query parameters first, and then expands the path variables. If query parameter contains parenthesis, e.g. `{foobar}`, this will cause an exception.\r\n\r\nThe safe way is to expand the path variables first, and then add the query parameters:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;;\r\n    Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    params.put(&quot;id&quot;, &quot;1234&quot;);\r\n    URI uri = UriComponentsBuilder.fromUriString(url)\r\n            .buildAndExpand(params)\r\n            .toUri();\r\n    uri = UriComponentsBuilder\r\n            .fromUri(uri)\r\n            .queryParam(&quot;name&quot;, &quot;myName&quot;)\r\n            .build()\r\n            .toUri();\r\n    restTemplate.exchange(uri , HttpMethod.PUT, requestEntity, class_p);","title":"RestTemplate: How to send URL and query parameters together","body":"<p>An issue with the answer from <em>Michal Foksa</em> is that it adds the query parameters first, and then expands the path variables. If query parameter contains parenthesis, e.g. <code>{foobar}</code>, this will cause an exception.</p>\n\n<p>The safe way is to expand the path variables first, and then add the query parameters:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String url = \"http://test.com/Services/rest/{id}/Identifier\";\nMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\nparams.put(\"id\", \"1234\");\nURI uri = UriComponentsBuilder.fromUriString(url)\n        .buildAndExpand(params)\n        .toUri();\nuri = UriComponentsBuilder\n        .fromUri(uri)\n        .queryParam(\"name\", \"myName\")\n        .build()\n        .toUri();\nrestTemplate.exchange(uri , HttpMethod.PUT, requestEntity, class_p);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2141360,"reputation":539,"user_id":1899903,"display_name":"SUMIT"},"score":3,"creation_date":1580311068,"post_id":57773648,"comment_id":106056950,"body_markdown":"have you tried with path variable .Here your example demonstrate with query param and question was raised with  respect to path param.","body":"have you tried with path variable .Here your example demonstrate with query param and question was raised with  respect to path param."}],"tags":[],"owner":{"account_id":12204554,"reputation":95,"user_id":8907985,"display_name":"K. O."},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1567527048,"creation_date":1567520470,"answer_id":57773648,"question_id":35998790,"body_markdown":"One-liner using TestRestTemplate.exchange function with parameters map.\r\n\r\n```\r\nrestTemplate.exchange(&quot;/someUrl?id={id}&quot;, HttpMethod.GET, reqEntity, respType, [&quot;id&quot;: id])\r\n```\r\n\r\nThe params map initialized like this is a &lt;b&gt;groovy&lt;/b&gt; initializer*","title":"RestTemplate: How to send URL and query parameters together","body":"<p>One-liner using TestRestTemplate.exchange function with parameters map.</p>\n\n<pre><code>restTemplate.exchange(\"/someUrl?id={id}\", HttpMethod.GET, reqEntity, respType, [\"id\": id])\n</code></pre>\n\n<p>The params map initialized like this is a <b>groovy</b> initializer*</p>\n"},{"tags":[],"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605215758,"creation_date":1605215758,"answer_id":64811847,"question_id":35998790,"body_markdown":"One simple way to do that is:\r\n\r\n    String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;\r\n    \r\n    UriComponents uriComponents = UriComponentsBuilder.fromUriString(url).build();\r\n    uriComponents = uriComponents.expand(Collections.singletonMap(&quot;id&quot;, &quot;1234&quot;));\r\n\r\nand then adds the query params.\r\n\r\n","title":"RestTemplate: How to send URL and query parameters together","body":"<p>One simple way to do that is:</p>\n<pre><code>String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;\n\nUriComponents uriComponents = UriComponentsBuilder.fromUriString(url).build();\nuriComponents = uriComponents.expand(Collections.singletonMap(&quot;id&quot;, &quot;1234&quot;));\n</code></pre>\n<p>and then adds the query params.</p>\n"},{"tags":[],"owner":{"account_id":13267236,"reputation":31,"user_id":9579580,"display_name":"Sascha Ha&#223;ler"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610564840,"creation_date":1610564840,"answer_id":65708337,"question_id":35998790,"body_markdown":"    String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;;\r\n    Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    params.put(&quot;id&quot;, &quot;1234&quot;);\r\n    URI uri = UriComponentsBuilder.fromUriString(url)\r\n            .buildAndExpand(params)\r\n            .toUri();\r\n    uri = UriComponentsBuilder\r\n            .fromUri(uri)\r\n            .queryParam(&quot;name&quot;, &quot;myName&quot;)\r\n            .build()\r\n            .toUri();\r\n    restTemplate.exchange(uri , HttpMethod.PUT, requestEntity, class_p);\r\n&gt; The safe way is to expand the path variables first, and then add the query parameters:\r\n\r\nFor me this resulted in duplicated encoding, e.g. a space was decoded to %2520 (space -&gt; %20 -&gt; %25).\r\n\r\nI solved it by:\r\n\r\n    String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;;\r\n    Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    params.put(&quot;id&quot;, &quot;1234&quot;);\r\n    UriComponentsBuilder uriComponentsBuilder = UriComponentsBuilder.fromUriString(url);\r\n    uriComponentsBuilder.uriVariables(params);\r\n    Uri uri = uriComponentsBuilder.queryParam(&quot;name&quot;, &quot;myName&quot;);\r\n            .build()\r\n            .toUri();\r\n    restTemplate.exchange(uri , HttpMethod.PUT, requestEntity, class_p);\r\n\r\nEssentially I am using `uriComponentsBuilder.uriVariables(params);` to add path parameters. The documentation says:\r\n\r\n&gt; ... In contrast to UriComponents.expand(Map) or buildAndExpand(Map), this method is useful when you need to supply URI variables without building the UriComponents instance just yet, or perhaps pre-expand some shared default values such as host and port. ...\r\n\r\nSource: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html#uriVariables-java.util.Map-","title":"RestTemplate: How to send URL and query parameters together","body":"<pre><code>String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;;\nMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\nparams.put(&quot;id&quot;, &quot;1234&quot;);\nURI uri = UriComponentsBuilder.fromUriString(url)\n        .buildAndExpand(params)\n        .toUri();\nuri = UriComponentsBuilder\n        .fromUri(uri)\n        .queryParam(&quot;name&quot;, &quot;myName&quot;)\n        .build()\n        .toUri();\nrestTemplate.exchange(uri , HttpMethod.PUT, requestEntity, class_p);\n</code></pre>\n<blockquote>\n<p>The safe way is to expand the path variables first, and then add the query parameters:</p>\n</blockquote>\n<p>For me this resulted in duplicated encoding, e.g. a space was decoded to %2520 (space -&gt; %20 -&gt; %25).</p>\n<p>I solved it by:</p>\n<pre><code>String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;;\nMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\nparams.put(&quot;id&quot;, &quot;1234&quot;);\nUriComponentsBuilder uriComponentsBuilder = UriComponentsBuilder.fromUriString(url);\nuriComponentsBuilder.uriVariables(params);\nUri uri = uriComponentsBuilder.queryParam(&quot;name&quot;, &quot;myName&quot;);\n        .build()\n        .toUri();\nrestTemplate.exchange(uri , HttpMethod.PUT, requestEntity, class_p);\n</code></pre>\n<p>Essentially I am using <code>uriComponentsBuilder.uriVariables(params);</code> to add path parameters. The documentation says:</p>\n<blockquote>\n<p>... In contrast to UriComponents.expand(Map) or buildAndExpand(Map), this method is useful when you need to supply URI variables without building the UriComponents instance just yet, or perhaps pre-expand some shared default values such as host and port. ...</p>\n</blockquote>\n<p>Source: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html#uriVariables-java.util.Map-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html#uriVariables-java.util.Map-</a></p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630428679,"creation_date":1630428679,"answer_id":69002574,"question_id":35998790,"body_markdown":"\r\nBelow is the working code, I had to pass two values in the respective placeholders while making the query parameter.\r\n\r\n    String queryParam = &quot;Key=Project_{ProdjectCode}_IN_{AccountCode}&quot;\r\n    \r\n    Map&lt;String, String&gt; queryParamMap = new HashMap&lt;&gt;();\r\n    queryParamMap.put(&quot;ProjectCode&quot;,&quot;Project1&quot;);\r\n    queryParamMap.put(&quot;AccountCode&quot;,&quot;Account1&quot;);\r\n    \r\n    UriComponents builder = UriComponentsBuilder.fromHttpUrl(&quot;http://myservice.com/accountsDetails&quot;).query(queryParam).buildAndExpand(queryParamMap);\r\n    \r\n    restTemplate.exchange(builder.toUriString(), HttpMethod.GET,httpEntity,MyResponse.class);\r\n\r\n\r\nAbove code will make a GET call to url \r\nhttp://myservice.com/accountsDetails?Key=Project_Project1_IN_Account1\r\n\r\n\r\n\r\n","title":"RestTemplate: How to send URL and query parameters together","body":"<p>Below is the working code, I had to pass two values in the respective placeholders while making the query parameter.</p>\n<pre><code>String queryParam = &quot;Key=Project_{ProdjectCode}_IN_{AccountCode}&quot;\n\nMap&lt;String, String&gt; queryParamMap = new HashMap&lt;&gt;();\nqueryParamMap.put(&quot;ProjectCode&quot;,&quot;Project1&quot;);\nqueryParamMap.put(&quot;AccountCode&quot;,&quot;Account1&quot;);\n\nUriComponents builder = UriComponentsBuilder.fromHttpUrl(&quot;http://myservice.com/accountsDetails&quot;).query(queryParam).buildAndExpand(queryParamMap);\n\nrestTemplate.exchange(builder.toUriString(), HttpMethod.GET,httpEntity,MyResponse.class);\n</code></pre>\n<p>Above code will make a GET call to url\n<a href=\"http://myservice.com/accountsDetails?Key=Project_Project1_IN_Account1\" rel=\"nofollow noreferrer\">http://myservice.com/accountsDetails?Key=Project_Project1_IN_Account1</a></p>\n"},{"tags":[],"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634770502,"creation_date":1634770502,"answer_id":69653906,"question_id":35998790,"body_markdown":"Since version 5.3 you can use this API to do this.\r\n\r\n    RequestEntity.post(urlString, urlParam1, urlParam2).headers(...).body(requestBody);\r\n\r\n&gt; public static RequestEntity.BodyBuilder post(String uriTemplate,\r\n                                             Object... uriVariables)\\\r\n&gt; Create an HTTP POST builder with the given string base uri template.\r\n\r\n\r\nAt the docs: \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/RequestEntity.html#post-java.net.URI-\r\n\r\nOr \r\n\r\n    template.exchange(..., uriVariables)","title":"RestTemplate: How to send URL and query parameters together","body":"<p>Since version 5.3 you can use this API to do this.</p>\n<pre><code>RequestEntity.post(urlString, urlParam1, urlParam2).headers(...).body(requestBody);\n</code></pre>\n<blockquote>\n<p>public static RequestEntity.BodyBuilder post(String uriTemplate,\nObject... uriVariables)<br />\nCreate an HTTP POST builder with the given string base uri template.</p>\n</blockquote>\n<p>At the docs:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/RequestEntity.html#post-java.net.URI-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/RequestEntity.html#post-java.net.URI-</a></p>\n<p>Or</p>\n<pre><code>template.exchange(..., uriVariables)\n</code></pre>\n"}],"owner":{"account_id":6546394,"reputation":923,"user_id":5062268,"display_name":"Shiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254607,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":36021268,"answer_count":7,"score":80,"last_activity_date":1671497486,"creation_date":1457992341,"question_id":35998790,"body_markdown":"I am trying to pass path param and query params in a URL but I am getting a weird error. Below is the code.\r\n\r\n    \r\n\r\n        String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;\r\n        Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n        params.put(&quot;id&quot;, &quot;1234&quot;);\r\n        UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url)\r\n        \t\t\t\t\t\t\t\t\t.queryParam(&quot;name&quot;, &quot;myName&quot;);\r\n        String uriBuilder = builder.build().encode().toUriString();\r\n        restTemplate.exchange(uriBuilder , HttpMethod.PUT, requestEntity,\r\n    \t\t\t\t\tclass_p, params);\r\n\r\nand my url is becoming `http://test.com/Services/rest/%7Bid%7D/Identifier?name=myName`\r\n\r\nWhat should I do to make it work? I am expecting `http://test.com/Services/rest/{id}/Identifier?name=myName` so that params will add id to the url.","title":"RestTemplate: How to send URL and query parameters together","body":"<p>I am trying to pass path param and query params in a URL but I am getting a weird error. Below is the code.</p>\n<pre><code>    String url = &quot;http://test.com/Services/rest/{id}/Identifier&quot;\n    Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n    params.put(&quot;id&quot;, &quot;1234&quot;);\n    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url)\n                                        .queryParam(&quot;name&quot;, &quot;myName&quot;);\n    String uriBuilder = builder.build().encode().toUriString();\n    restTemplate.exchange(uriBuilder , HttpMethod.PUT, requestEntity,\n                    class_p, params);\n</code></pre>\n<p>and my url is becoming <code>http://test.com/Services/rest/%7Bid%7D/Identifier?name=myName</code></p>\n<p>What should I do to make it work? I am expecting <code>http://test.com/Services/rest/{id}/Identifier?name=myName</code> so that params will add id to the url.</p>\n"},{"tags":["java","spring-boot","csv","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671535957,"post_id":74857478,"comment_id":132115655,"body_markdown":"What are you going to do if and when you catch it?","body":"What are you going to do if and when you catch it?"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1671544410,"post_id":74857478,"comment_id":132118504,"body_markdown":"As per requirement, need to upload the csv to s3 bucket and send an email","body":"As per requirement, need to upload the csv to s3 bucket and send an email"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671554148,"post_id":74857478,"comment_id":132122035,"body_markdown":"That&#39;s not what I meant","body":"That&#39;s not what I meant"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1671560112,"post_id":74857478,"comment_id":132123897,"body_markdown":"Well, if header is not present in the csv to process, I have to store the csv in s3. As mentioned, if header is not present a runtime exception is thrown from bean.parse(), and that&#39;s the problem.","body":"Well, if header is not present in the csv to process, I have to store the csv in s3. As mentioned, if header is not present a runtime exception is thrown from bean.parse(), and that&#39;s the problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671560288,"post_id":74857478,"comment_id":132123948,"body_markdown":"*Well, if header is not present in the csv to process, I have to store the csv in s3* Surely you mean if the header IS present?","body":"<i>Well, if header is not present in the csv to process, I have to store the csv in s3</i> Surely you mean if the header IS present?"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1671561917,"post_id":74857478,"comment_id":132124439,"body_markdown":"No, even if it&#39;s not present, have to store in s3 , in error folder.","body":"No, even if it&#39;s not present, have to store in s3 , in error folder."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671562421,"post_id":74857478,"comment_id":132124605,"body_markdown":"OK. I wouldn&#39;t get too hung up about it being a `RuntimeException`. That might be the case only to save you the hassle of *having* to catch it. So, catch it, and then just upload it as a file to the error folder","body":"OK. I wouldn&#39;t get too hung up about it being a <code>RuntimeException</code>. That might be the case only to save you the hassle of <i>having</i> to catch it. So, catch it, and then just upload it as a file to the error folder"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1671563718,"post_id":74857478,"comment_id":132125028,"body_markdown":"I was hoping to find a cleaner solution, because catching a RuntimeException doesn&#39;t seem to be good coding practice.","body":"I was hoping to find a cleaner solution, because catching a RuntimeException doesn&#39;t seem to be good coding practice."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671568206,"post_id":74857478,"comment_id":132126314,"body_markdown":"There&#39;s nothing wrong with it if you have to.","body":"There&#39;s nothing wrong with it if you have to."}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671497263,"creation_date":1671497263,"question_id":74857478,"body_markdown":"I use OpenCSV for CSV files reading and writing. I am stuck at handling the exception when a required column is missing in the csv file. Below is the code :\r\n\r\n    CsvToBean&lt;T&gt; beans = new CsvToBeanBuilder&lt;T&gt;(new FileReader(file))\r\n              .withType(targetClazz)\r\n              .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n              .withThrowExceptions(false)\r\n              .build();\r\n    \r\n          List&lt;T&gt; correctlyParsed = beans.parse();\r\n          List&lt;String[]&gt; linesWithErrors = buildListOfLinesWithErrors(beans.getCapturedExceptions());\r\n\r\nThis works fine till I receive the all the headers as defined in the Java object. But, if any one is missing, I get the below error:\r\n\r\n    Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [X]. The list of headers encountered is [A, B, C, D].\r\n\r\nThis error is caused from line\r\n\r\n    List&lt;T&gt; correctlyParsed = beans.parse();\r\n\r\n The only way I could handle this error is by adding a catch block for RuntimeException. But catching RuntimeException doesn&#39;t seem to be good coding. \r\nPlease suggest if there is a way around.\r\n\r\nThanks!","title":"how to catch CsvRequiredFieldEmptyException when using openCsv","body":"<p>I use OpenCSV for CSV files reading and writing. I am stuck at handling the exception when a required column is missing in the csv file. Below is the code :</p>\n<pre><code>CsvToBean&lt;T&gt; beans = new CsvToBeanBuilder&lt;T&gt;(new FileReader(file))\n          .withType(targetClazz)\n          .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n          .withThrowExceptions(false)\n          .build();\n\n      List&lt;T&gt; correctlyParsed = beans.parse();\n      List&lt;String[]&gt; linesWithErrors = buildListOfLinesWithErrors(beans.getCapturedExceptions());\n</code></pre>\n<p>This works fine till I receive the all the headers as defined in the Java object. But, if any one is missing, I get the below error:</p>\n<pre><code>Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [X]. The list of headers encountered is [A, B, C, D].\n</code></pre>\n<p>This error is caused from line</p>\n<pre><code>List&lt;T&gt; correctlyParsed = beans.parse();\n</code></pre>\n<p>The only way I could handle this error is by adding a catch block for RuntimeException. But catching RuntimeException doesn't seem to be good coding.\nPlease suggest if there is a way around.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671496757,"post_id":74857351,"comment_id":132107846,"body_markdown":"The problem is almost always that `card1 = card.decoded_card1` runs before `decoded_card1 = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.size)` due to the asynchronous nature of loading data from Firestore. You can most easily validate if that&#39;s the case by setting breakpoints on both of those lines, running in the debugger, and checking in which order they get invoked.","body":"The problem is almost always that <code>card1 = card.decoded_card1</code> runs before <code>decoded_card1 = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.size)</code> due to the asynchronous nature of loading data from Firestore. You can most easily validate if that&#39;s the case by setting breakpoints on both of those lines, running in the debugger, and checking in which order they get invoked."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671524843,"post_id":74857351,"comment_id":132112280,"body_markdown":"As Frank mentioned in his comment, Firebase API is asynchronous. Since you&#39;re using Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudFirestore).","body":"As Frank mentioned in his comment, Firebase API is asynchronous. Since you&#39;re using Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudFirestore\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":27289524,"reputation":11,"user_id":20808169,"display_name":"Arweus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671495640,"creation_date":1671495524,"question_id":74857351,"body_markdown":"There is data in the following structure in Firestore:\r\n\r\n&gt; link1 i.stack.imgur.com/jUwPE.png\r\n\r\n\r\n    collection: Cards\r\n    Document: albus\r\n    field : resim\r\n\r\nI want to save all of this data in the object I created in kotlin as follows:\r\n\r\n\r\n```\r\n    lateinit var decoded_cardBackground : Bitmap\r\n    lateinit var decoded_card1: Bitmap\r\n\r\n    init{\r\n\r\n        var collection = Firebase.firestore.collection(&quot;Cards&quot;)\r\n\r\n        collection.document(&quot;albus&quot;).get()\r\n            .addOnSuccessListener{ document-&gt;\r\n\r\n            val base64 = document.data!![&quot;resim&quot;].toString()\r\n            val imageBytes = Base64.decode(base64, Base64.DEFAULT)\r\n            decoded_card1 = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.size)\r\n            }\r\n        }\r\n```\r\n\r\n\r\nThen I want to use this data in another activity:\r\n\r\n    val card = CardsFromFirebase()\r\n    CardsBackground = card.decoded_cardBackground\r\n    card1 = card.decoded_card1\r\n    card2 = card.decoded_card1\r\n\r\nI tried to adapt my code using Picasso library. but I can&#39;t use it because of the structure I&#39;m     using.","title":"I can&#39;t pass the information in the firestore to the properties of the object in kotlin","body":"<p>There is data in the following structure in Firestore:</p>\n<blockquote>\n<p>link1 i.stack.imgur.com/jUwPE.png</p>\n</blockquote>\n<pre><code>collection: Cards\nDocument: albus\nfield : resim\n</code></pre>\n<p>I want to save all of this data in the object I created in kotlin as follows:</p>\n<pre><code>    lateinit var decoded_cardBackground : Bitmap\n    lateinit var decoded_card1: Bitmap\n\n    init{\n\n        var collection = Firebase.firestore.collection(&quot;Cards&quot;)\n\n        collection.document(&quot;albus&quot;).get()\n            .addOnSuccessListener{ document-&gt;\n\n            val base64 = document.data!![&quot;resim&quot;].toString()\n            val imageBytes = Base64.decode(base64, Base64.DEFAULT)\n            decoded_card1 = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.size)\n            }\n        }\n</code></pre>\n<p>Then I want to use this data in another activity:</p>\n<pre><code>val card = CardsFromFirebase()\nCardsBackground = card.decoded_cardBackground\ncard1 = card.decoded_card1\ncard2 = card.decoded_card1\n</code></pre>\n<p>I tried to adapt my code using Picasso library. but I can't use it because of the structure I'm     using.</p>\n"},{"tags":["java","android","csv","filenotfoundexception","opencsv"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671453175,"post_id":74850466,"comment_id":132095388,"body_markdown":"FileReader will not read files residing in assets or res\\raw.","body":"FileReader will not read files residing in assets or res\\raw."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1671453311,"post_id":74850466,"comment_id":132095428,"body_markdown":"`I also tried using &quot;InputStream&quot;, &quot;AssetManager&quot;,` Yes!!! That is what you need to use if the file is in assets. Let us see you tried to use them! Show how you opened an input stream for a file in assets.","body":"<code>I also tried using &quot;InputStream&quot;, &quot;AssetManager&quot;,</code> Yes!!! That is what you need to use if the file is in assets. Let us see you tried to use them! Show how you opened an input stream for a file in assets."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671455288,"post_id":74850466,"comment_id":132096040,"body_markdown":"`new InputStreamReader(getAssets().open(&quot;teste.csv&quot;))` should work, if your `assets/` directory is the correct spot and `teste.csv` is directly in that directory. FWIW, [this source code](https://gitlab.com/commonsguy/cw-jetpack-java/-/blob/master/DiceLight/src/main/java/com/commonsware/jetpack/diceware/PassphraseRepository.java) is profiled in [this section](https://commonsware.com/Jetpack/pages/chap-arch-003) of [this free book](https://commonsware.com/Jetpack).","body":"<code>new InputStreamReader(getAssets().open(&quot;teste.csv&quot;))</code> should work, if your <code>assets&#47;</code> directory is the correct spot and <code>teste.csv</code> is directly in that directory. FWIW, <a href=\"https://gitlab.com/commonsguy/cw-jetpack-java/-/blob/master/DiceLight/src/main/java/com/commonsware/jetpack/diceware/PassphraseRepository.java\" rel=\"nofollow noreferrer\">this source code</a> is profiled in <a href=\"https://commonsware.com/Jetpack/pages/chap-arch-003\" rel=\"nofollow noreferrer\">this section</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":27285256,"reputation":11,"user_id":20804527,"display_name":"Azzullino"},"score":0,"creation_date":1671483326,"post_id":74850466,"comment_id":132105067,"body_markdown":"@blackapps I&#39;ve tried the following, got same error: `FileInputStream fis = openFileInput(&quot;teste.csv&quot;); InputStreamReader isr = new InputStreamReader(fis);` and `FileInputStream file = new FileInputStream(&quot;teste.csv&quot;);\nInputStreamReader input = new InputStreamReader(file);`, **BUT** `InputStream is = getAssets().open(&quot;teste.csv&quot;);` doesn&#39;t give the error, is it the correct way? How do I link with CSVReader?","body":"@blackapps I&#39;ve tried the following, got same error: <code>FileInputStream fis = openFileInput(&quot;teste.csv&quot;); InputStreamReader isr = new InputStreamReader(fis);</code> and <code>FileInputStream file = new FileInputStream(&quot;teste.csv&quot;); InputStreamReader input = new InputStreamReader(file);</code>, <b>BUT</b> <code>InputStream is = getAssets().open(&quot;teste.csv&quot;);</code> doesn&#39;t give the error, is it the correct way? How do I link with CSVReader?"},{"owner":{"account_id":27285256,"reputation":11,"user_id":20804527,"display_name":"Azzullino"},"score":0,"creation_date":1671483680,"post_id":74850466,"comment_id":132105181,"body_markdown":"@CommonsWare, look at following image, is it correct? The Android Studio finds the file [link](https://ibb.co/q7vjY8q) I&#39;m still working on the code you gave.","body":"@CommonsWare, look at following image, is it correct? The Android Studio finds the file <a href=\"https://ibb.co/q7vjY8q\" rel=\"nofollow noreferrer\">link</a> I&#39;m still working on the code you gave."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671485695,"post_id":74850466,"comment_id":132105773,"body_markdown":"@Azzullino: In terms of where your `assets/` directory goes, yes, that looks fine. It should be at the same level as `res` and `java`.","body":"@Azzullino: In terms of where your <code>assets&#47;</code> directory goes, yes, that looks fine. It should be at the same level as <code>res</code> and <code>java</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671486674,"post_id":74850466,"comment_id":132106042,"body_markdown":"Please post your code in your post. Not unreadable in comments.","body":"Please post your code in your post. Not unreadable in comments."},{"owner":{"account_id":27285256,"reputation":11,"user_id":20804527,"display_name":"Azzullino"},"score":0,"creation_date":1671488396,"post_id":74850466,"comment_id":132106413,"body_markdown":"Sorry @blackapps. I just updated with the new code. The 3 alternatives commands I&#39;ve tested (InputStream, InputStreamReader, BufferedReader) doesn&#39;t outputs the ENOENT Error, so I think they found the .csv file. I just need to know how I bind them with the OpenCSV code to read the .csv file.","body":"Sorry @blackapps. I just updated with the new code. The 3 alternatives commands I&#39;ve tested (InputStream, InputStreamReader, BufferedReader) doesn&#39;t outputs the ENOENT Error, so I think they found the .csv file. I just need to know how I bind them with the OpenCSV code to read the .csv file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671503436,"post_id":74850466,"comment_id":132108702,"body_markdown":"Yesterday i googled for CSVReader reader = new CSVReaderBuilder and immedialy found such a piece of code.","body":"Yesterday i googled for CSVReader reader = new CSVReaderBuilder and immedialy found such a piece of code."}],"owner":{"account_id":27285256,"reputation":11,"user_id":20804527,"display_name":"Azzullino"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671495620,"creation_date":1671452542,"question_id":74850466,"body_markdown":"I&#39;m having some trouble working with OpenCSV in Android Studio. When I try to reference a file, it gives me the following error: &quot;java.io.FileNotFoundException: teste.csv: open failed: ENOENT (No such file or directory)&quot;.\r\n\r\nSpecs:\r\n*Windows 10\r\n*Android Studio Dolphin | 2021.3.1 Patch 1\r\n**Project on Android Studio: &quot;No activity&quot;\r\n*OpenCSV 5.7.1\r\n\r\n\r\nMainActivity code **(UPDATED with codes InputStream, InputStreamReader, BufferedReader)**:\r\n\r\n```\r\npackage com.example.testecsv;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.content.res.AssetManager;\r\nimport android.os.Bundle;\r\n\r\nimport com.opencsv.CSVParserBuilder;\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.CSVReaderBuilder;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.DataInputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.lang.reflect.Field;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        \r\n        try {\r\n            //#1 InputStreamReader code (no error)\r\n            InputStreamReader isr = new InputStreamReader(getAssets().open(&quot;teste.csv&quot;));\r\n\r\n            //#2 InputStream code (no error)\r\n            InputStream is = getAssets().open(&quot;teste.csv&quot;);\r\n\r\n            //#3 BufferedReader code (no error)\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(getAssets().open(&quot;teste.csv&quot;), &quot;UTF-8&quot;));\r\n\r\n            // Code retrieved from OpenCSV site and documentation\r\n            // New example from original post, got from OpenCSV documentation --&gt; WHAT DO I PUT INSIDE &quot;FileReader&quot; ???\r\n            CSVReader reader = new CSVReaderBuilder(new FileReader(&quot;teste.csv&quot;)).build();\r\n            String [] nextLine;\r\n            while ((nextLine = reader.readNext()) != null) {\r\n                // nextLine[] is an array of values from the line\r\n                System.out.println(nextLine[0] + nextLine[1] + &quot;etc...&quot;);\r\n            }\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (CsvValidationException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThe file exists on both &quot;assets&quot; folder and &quot;res/raw&quot; folder. Android Studio finds the FILE, but the compilation don&#39;t (on virtual or on physical device), here&#39;s some details of the error:\r\n\r\n```\r\n2022-12-18 15:39:15.232 13198-13198 System.err              com.example.testecsv                 W  java.io.FileNotFoundException: teste.csv: open failed: ENOENT (No such file or directory)\r\n2022-12-18 15:39:15.280 13198-13198 System.err              com.example.testecsv                 W  \tat libcore.io.IoBridge.open(IoBridge.java:574)\r\n2022-12-18 15:39:15.281 13198-13198 System.err              com.example.testecsv                 W  \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\r\n2022-12-18 15:39:15.283 13198-13198 System.err              com.example.testecsv                 W  \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)\r\n2022-12-18 15:39:15.284 13198-13198 System.err              com.example.testecsv                 W  \tat java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n2022-12-18 15:39:15.285 13198-13198 System.err              com.example.testecsv                 W  \tat com.example.testecsv.MainActivity.onCreate(MainActivity.java:25)\r\n2022-12-18 15:39:15.289 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.Activity.performCreate(Activity.java:8305)\r\n2022-12-18 15:39:15.289 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.Activity.performCreate(Activity.java:8284)\r\n2022-12-18 15:39:15.290 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n2022-12-18 15:39:15.291 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\r\n2022-12-18 15:39:15.292 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n2022-12-18 15:39:15.292 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n2022-12-18 15:39:15.293 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n2022-12-18 15:39:15.296 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n2022-12-18 15:39:15.298 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n2022-12-18 15:39:15.299 13198-13198 System.err              com.example.testecsv                 W  \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n2022-12-18 15:39:15.301 13198-13198 System.err              com.example.testecsv                 W  \tat android.os.Looper.loopOnce(Looper.java:201)\r\n2022-12-18 15:39:15.301 13198-13198 System.err              com.example.testecsv                 W  \tat android.os.Looper.loop(Looper.java:288)\r\n2022-12-18 15:39:15.302 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n2022-12-18 15:39:15.304 13198-13198 System.err              com.example.testecsv                 W  \tat java.lang.reflect.Method.invoke(Native Method)\r\n2022-12-18 15:39:15.306 13198-13198 System.err              com.example.testecsv                 W  \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n2022-12-18 15:39:15.308 13198-13198 System.err              com.example.testecsv                 W  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n2022-12-18 15:39:15.314 13198-13198 System.err              com.example.testecsv                 W  Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\n2022-12-18 15:39:15.316 13198-13198 System.err              com.example.testecsv                 W  \tat libcore.io.Linux.open(Native Method)\r\n2022-12-18 15:39:15.316 13198-13198 System.err              com.example.testecsv                 W  \tat libcore.io.ForwardingOs.open(ForwardingOs.java:563)\r\n2022-12-18 15:39:15.317 13198-13198 System.err              com.example.testecsv                 W  \tat libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\r\n2022-12-18 15:39:15.318 13198-13198 System.err              com.example.testecsv                 W  \tat libcore.io.ForwardingOs.open(ForwardingOs.java:563)\r\n2022-12-18 15:39:15.318 13198-13198 System.err              com.example.testecsv                 W  \tat android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7758)\r\n2022-12-18 15:39:15.322 13198-13198 System.err              com.example.testecsv                 W  \tat libcore.io.IoBridge.open(IoBridge.java:560)\r\n2022-12-18 15:39:15.324 13198-13198 System.err              com.example.testecsv                 W  \t... 20 more\r\n```\r\n\r\n\r\nI&#39;ve tried a lot of codes, answers from internet (stackoverflow included), examples from documentation and outside documentation, but still struggling trying to simply READ a .csv file. It doesn&#39;t matter which code I write, it always can&#39;t find the file path, giving the error above (the code more above I wrote just to post it here like an example). I also tried using \r\n&quot;InputStream&quot;, &quot;AssetManager&quot;, &quot;FileInputStream&quot; and a few others commands and codes. It still 4 days and it&#39;s stressing me out. I&#39;m using my last resort which is asking here. I&#39;m not an advanced programmer, I&#39;m just trying to build a simple app to help some people. The answer might be something very simple, but I can&#39;t find it, and I&#39;m feeling down, almost giving up to something so simple. Please be kind. Thanks for all who might help me.\r\n\r\n**EDIT 1:**\r\n\r\nWith the following added code, I can read the .csv file by the normal way, but I&#39;m still struggling how I can link this code with the OpenCSV Code.\r\n\r\n```\r\nBufferedReader br = new BufferedReader(new InputStreamReader(getAssets().open(&quot;teste.csv&quot;), &quot;UTF-8&quot;));\r\nArrayList lines = new ArrayList&lt;String&gt;();\r\nString newLine;\r\n    while ((newLine = br.readLine()) != null) {\r\n        System.out.println(newLine);\r\n        lines.add(newLine);\r\n    }\r\nbr.close();\r\n```","title":"Android Studio - OpenCSV - Error java.io.FileNotFoundException: teste.csv: open failed: ENOENT (No such file or directory)","body":"<p>I'm having some trouble working with OpenCSV in Android Studio. When I try to reference a file, it gives me the following error: &quot;java.io.FileNotFoundException: teste.csv: open failed: ENOENT (No such file or directory)&quot;.</p>\n<p>Specs:\n*Windows 10\n*Android Studio Dolphin | 2021.3.1 Patch 1\n**Project on Android Studio: &quot;No activity&quot;\n*OpenCSV 5.7.1</p>\n<p>MainActivity code <strong>(UPDATED with codes InputStream, InputStreamReader, BufferedReader)</strong>:</p>\n<pre><code>package com.example.testecsv;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.content.res.AssetManager;\nimport android.os.Bundle;\n\nimport com.opencsv.CSVParserBuilder;\nimport com.opencsv.CSVReader;\nimport com.opencsv.CSVReaderBuilder;\nimport com.opencsv.exceptions.CsvValidationException;\n\nimport java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.lang.reflect.Field;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        \n        try {\n            //#1 InputStreamReader code (no error)\n            InputStreamReader isr = new InputStreamReader(getAssets().open(&quot;teste.csv&quot;));\n\n            //#2 InputStream code (no error)\n            InputStream is = getAssets().open(&quot;teste.csv&quot;);\n\n            //#3 BufferedReader code (no error)\n            BufferedReader br = new BufferedReader(new InputStreamReader(getAssets().open(&quot;teste.csv&quot;), &quot;UTF-8&quot;));\n\n            // Code retrieved from OpenCSV site and documentation\n            // New example from original post, got from OpenCSV documentation --&gt; WHAT DO I PUT INSIDE &quot;FileReader&quot; ???\n            CSVReader reader = new CSVReaderBuilder(new FileReader(&quot;teste.csv&quot;)).build();\n            String [] nextLine;\n            while ((nextLine = reader.readNext()) != null) {\n                // nextLine[] is an array of values from the line\n                System.out.println(nextLine[0] + nextLine[1] + &quot;etc...&quot;);\n            }\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (CsvValidationException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>The file exists on both &quot;assets&quot; folder and &quot;res/raw&quot; folder. Android Studio finds the FILE, but the compilation don't (on virtual or on physical device), here's some details of the error:</p>\n<pre><code>2022-12-18 15:39:15.232 13198-13198 System.err              com.example.testecsv                 W  java.io.FileNotFoundException: teste.csv: open failed: ENOENT (No such file or directory)\n2022-12-18 15:39:15.280 13198-13198 System.err              com.example.testecsv                 W      at libcore.io.IoBridge.open(IoBridge.java:574)\n2022-12-18 15:39:15.281 13198-13198 System.err              com.example.testecsv                 W      at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\n2022-12-18 15:39:15.283 13198-13198 System.err              com.example.testecsv                 W      at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:115)\n2022-12-18 15:39:15.284 13198-13198 System.err              com.example.testecsv                 W      at java.io.FileReader.&lt;init&gt;(FileReader.java:60)\n2022-12-18 15:39:15.285 13198-13198 System.err              com.example.testecsv                 W      at com.example.testecsv.MainActivity.onCreate(MainActivity.java:25)\n2022-12-18 15:39:15.289 13198-13198 System.err              com.example.testecsv                 W      at android.app.Activity.performCreate(Activity.java:8305)\n2022-12-18 15:39:15.289 13198-13198 System.err              com.example.testecsv                 W      at android.app.Activity.performCreate(Activity.java:8284)\n2022-12-18 15:39:15.290 13198-13198 System.err              com.example.testecsv                 W      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\n2022-12-18 15:39:15.291 13198-13198 System.err              com.example.testecsv                 W      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\n2022-12-18 15:39:15.292 13198-13198 System.err              com.example.testecsv                 W      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\n2022-12-18 15:39:15.292 13198-13198 System.err              com.example.testecsv                 W      at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n2022-12-18 15:39:15.293 13198-13198 System.err              com.example.testecsv                 W      at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n2022-12-18 15:39:15.296 13198-13198 System.err              com.example.testecsv                 W      at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n2022-12-18 15:39:15.298 13198-13198 System.err              com.example.testecsv                 W      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\n2022-12-18 15:39:15.299 13198-13198 System.err              com.example.testecsv                 W      at android.os.Handler.dispatchMessage(Handler.java:106)\n2022-12-18 15:39:15.301 13198-13198 System.err              com.example.testecsv                 W      at android.os.Looper.loopOnce(Looper.java:201)\n2022-12-18 15:39:15.301 13198-13198 System.err              com.example.testecsv                 W      at android.os.Looper.loop(Looper.java:288)\n2022-12-18 15:39:15.302 13198-13198 System.err              com.example.testecsv                 W      at android.app.ActivityThread.main(ActivityThread.java:7872)\n2022-12-18 15:39:15.304 13198-13198 System.err              com.example.testecsv                 W      at java.lang.reflect.Method.invoke(Native Method)\n2022-12-18 15:39:15.306 13198-13198 System.err              com.example.testecsv                 W      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n2022-12-18 15:39:15.308 13198-13198 System.err              com.example.testecsv                 W      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n2022-12-18 15:39:15.314 13198-13198 System.err              com.example.testecsv                 W  Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n2022-12-18 15:39:15.316 13198-13198 System.err              com.example.testecsv                 W      at libcore.io.Linux.open(Native Method)\n2022-12-18 15:39:15.316 13198-13198 System.err              com.example.testecsv                 W      at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\n2022-12-18 15:39:15.317 13198-13198 System.err              com.example.testecsv                 W      at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\n2022-12-18 15:39:15.318 13198-13198 System.err              com.example.testecsv                 W      at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\n2022-12-18 15:39:15.318 13198-13198 System.err              com.example.testecsv                 W      at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7758)\n2022-12-18 15:39:15.322 13198-13198 System.err              com.example.testecsv                 W      at libcore.io.IoBridge.open(IoBridge.java:560)\n2022-12-18 15:39:15.324 13198-13198 System.err              com.example.testecsv                 W      ... 20 more\n</code></pre>\n<p>I've tried a lot of codes, answers from internet (stackoverflow included), examples from documentation and outside documentation, but still struggling trying to simply READ a .csv file. It doesn't matter which code I write, it always can't find the file path, giving the error above (the code more above I wrote just to post it here like an example). I also tried using\n&quot;InputStream&quot;, &quot;AssetManager&quot;, &quot;FileInputStream&quot; and a few others commands and codes. It still 4 days and it's stressing me out. I'm using my last resort which is asking here. I'm not an advanced programmer, I'm just trying to build a simple app to help some people. The answer might be something very simple, but I can't find it, and I'm feeling down, almost giving up to something so simple. Please be kind. Thanks for all who might help me.</p>\n<p><strong>EDIT 1:</strong></p>\n<p>With the following added code, I can read the .csv file by the normal way, but I'm still struggling how I can link this code with the OpenCSV Code.</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(getAssets().open(&quot;teste.csv&quot;), &quot;UTF-8&quot;));\nArrayList lines = new ArrayList&lt;String&gt;();\nString newLine;\n    while ((newLine = br.readLine()) != null) {\n        System.out.println(newLine);\n        lines.add(newLine);\n    }\nbr.close();\n</code></pre>\n"},{"tags":["java","generics","comparator","heap","min-heap"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671493122,"creation_date":1671493122,"answer_id":74857134,"question_id":74857100,"body_markdown":"The `Comparator` interface does not declare a `subtract` method. Even if a specific implementation of it has it, you cannot call it without casting. You can define your own interface instead.\r\n\r\n```java\r\npublic interface HeapComparator&lt;T&gt; extends Comparator&lt;T&gt; {\r\n\tint subtract(T x, T y);\r\n}\r\npublic class IntegerComparator implements HeapComparator&lt;Integer&gt; {\r\n\t@Override\r\n\tpublic int compare(Integer x, Integer y) {\r\n\t\tint result = Integer.valueOf(x).compareTo(Integer.valueOf(y));\r\n\t\tSystem.out.println(result);\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int subtract(Integer x, Integer y) {\r\n\t\tint result = Integer.valueOf(x) - Integer.valueOf(y);\r\n\t\treturn result;\r\n\t}\r\n}\r\n// ...\r\npublic class MinHeap&lt;T&gt; {\r\n    private List&lt;T&gt; MinHeap = null;\r\n    private HeapComparator&lt;? super T&gt; comparator;\r\n```","title":"How can i fix my implementation a generic Decrease-Key method in a Min Heap in java?","body":"<p>The <code>Comparator</code> interface does not declare a <code>subtract</code> method. Even if a specific implementation of it has it, you cannot call it without casting. You can define your own interface instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface HeapComparator&lt;T&gt; extends Comparator&lt;T&gt; {\n    int subtract(T x, T y);\n}\npublic class IntegerComparator implements HeapComparator&lt;Integer&gt; {\n    @Override\n    public int compare(Integer x, Integer y) {\n        int result = Integer.valueOf(x).compareTo(Integer.valueOf(y));\n        System.out.println(result);\n        return result;\n    }\n\n    @Override\n    public int subtract(Integer x, Integer y) {\n        int result = Integer.valueOf(x) - Integer.valueOf(y);\n        return result;\n    }\n}\n// ...\npublic class MinHeap&lt;T&gt; {\n    private List&lt;T&gt; MinHeap = null;\n    private HeapComparator&lt;? super T&gt; comparator;\n</code></pre>\n"}],"owner":{"account_id":27050825,"reputation":1,"user_id":20604228,"display_name":"tpip_enjoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671493122,"creation_date":1671492863,"question_id":74857100,"body_markdown":"I want to decrease the value of an element with index i in my Min Heap data structure that i am implementing using an ArrayList (and then move the element in the correct position), here is the implementation of it, i will skip the insert, heapSize, method for the Min Heap implementation and other random stuff: \r\n\r\n```\r\n\r\npublic class MinHeap&lt;T&gt; {\r\n   \r\n    private List&lt;T&gt; MinHeap = null;\r\n    private Comparator&lt;? super T&gt; comparator;\r\n    private int size; \r\n   \r\n\r\n    public MinHeap(Comparator&lt;? super T&gt; comparator) throws MinHeapException {\r\n        if(comparator==null) throw new MinHeapException(&quot;MinHeap constructor: comparator parameter cannot be null&quot;);\r\n        MinHeap = new ArrayList&lt;&gt;();\r\n        size = 0; \r\n        this.comparator = comparator;\r\n    }\r\n}\r\n```\r\n\r\nTo compare the generic elements, in this case Integers, i am using a comparator Class as follows:\r\n\r\n\r\n```\r\npublic class IntegerComparator implements Comparator&lt;Integer&gt;{\r\n  @Override\r\n  public int compare(Integer x, Integer y) {\r\n    \r\n    int result = Integer.valueOf(x).compareTo(Integer.valueOf(y));\r\n    System.out.println(result);\r\n    return result;\r\n\r\n   }\r\n\r\n   public int subtract(Integer x, Integer y){\r\n       \r\n       int result = Integer.valueOf(x) - Integer.valueOf(y);\r\n       return result;\r\n   }\r\n}\r\n```\r\n\r\n\r\nNow, this is the method that i use to perform the Decrease-Key operation: \r\n\r\n\r\n```\r\n    public void decreaseKey(int i, T key) {\r\n        //here no error, no problem\r\n        if ((this.comparator).compare(MinHeap.get(i), key) &lt; 0 ) {\r\n            throw new IllegalArgumentException(&quot;Key is larger than the original key&quot;);\r\n        }\r\n\r\n\r\n        //here is the error. \r\n        int result = (this.comparator).subtract(MinHeap.get(i), key) ;\r\n\r\n        MinHeap.set(i, result);\r\n\r\n        int parent = parent(i);\r\n\r\n        while (i &gt; 0 &amp;&amp; (this.comparator).compare(MinHeap.get(parent), MinHeap.get(i)) &gt; 0) {\r\n\r\n            swap(i, parent);\r\n            i = parent;\r\n            parent = parent(parent);\r\n        }\r\n    }\r\n```\r\n\r\nI am not understanding why when the compare function gets called there is no problem, but when i want to use my subtract function in the interface to get the result of the subtraction between the element at the i position and the key, java tells me that the parameters are of type T and they need to be of type Integer to perform the operation, but when the compare function gets called with T parameters , there is no problem in that. How am i supposed to perform a generic subtraction for my method? Below i will put the main of my program: \r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws MinHeapException{\r\n        \r\n        MinHeap&lt;Integer&gt; heap = new MinHeap&lt;&gt;(new IntegerComparator());\r\n        heap.insert(3);\r\n        heap.insert(14);\r\n        heap.insert(32);\r\n        heap.insert(12);\r\n        heap.insert(11);\r\n        heap.insert(1);\r\n        heap.insert(4);\r\n        //array will be : 1, 11, 3, 14, 12, 32, 4\r\n        \r\n        heap.printHeap();\r\n        \r\n        heap.decreaseKey(4, 2);\r\n\r\n        heap.printHeap();\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\nI have put the subtract method in the Comparator class for simplicity, i didnt want to create a class only for that, also it seemed logical, but not sure about this. \r\n\r\n\r\nI have put the subtract method in the Comparator class for simplicity, i didnt want to create a class only for that, also it seemed logical, but not sure about this. ","title":"How can i fix my implementation a generic Decrease-Key method in a Min Heap in java?","body":"<p>I want to decrease the value of an element with index i in my Min Heap data structure that i am implementing using an ArrayList (and then move the element in the correct position), here is the implementation of it, i will skip the insert, heapSize, method for the Min Heap implementation and other random stuff:</p>\n<pre><code>\npublic class MinHeap&lt;T&gt; {\n   \n    private List&lt;T&gt; MinHeap = null;\n    private Comparator&lt;? super T&gt; comparator;\n    private int size; \n   \n\n    public MinHeap(Comparator&lt;? super T&gt; comparator) throws MinHeapException {\n        if(comparator==null) throw new MinHeapException(&quot;MinHeap constructor: comparator parameter cannot be null&quot;);\n        MinHeap = new ArrayList&lt;&gt;();\n        size = 0; \n        this.comparator = comparator;\n    }\n}\n</code></pre>\n<p>To compare the generic elements, in this case Integers, i am using a comparator Class as follows:</p>\n<pre><code>public class IntegerComparator implements Comparator&lt;Integer&gt;{\n  @Override\n  public int compare(Integer x, Integer y) {\n    \n    int result = Integer.valueOf(x).compareTo(Integer.valueOf(y));\n    System.out.println(result);\n    return result;\n\n   }\n\n   public int subtract(Integer x, Integer y){\n       \n       int result = Integer.valueOf(x) - Integer.valueOf(y);\n       return result;\n   }\n}\n</code></pre>\n<p>Now, this is the method that i use to perform the Decrease-Key operation:</p>\n<pre><code>    public void decreaseKey(int i, T key) {\n        //here no error, no problem\n        if ((this.comparator).compare(MinHeap.get(i), key) &lt; 0 ) {\n            throw new IllegalArgumentException(&quot;Key is larger than the original key&quot;);\n        }\n\n\n        //here is the error. \n        int result = (this.comparator).subtract(MinHeap.get(i), key) ;\n\n        MinHeap.set(i, result);\n\n        int parent = parent(i);\n\n        while (i &gt; 0 &amp;&amp; (this.comparator).compare(MinHeap.get(parent), MinHeap.get(i)) &gt; 0) {\n\n            swap(i, parent);\n            i = parent;\n            parent = parent(parent);\n        }\n    }\n</code></pre>\n<p>I am not understanding why when the compare function gets called there is no problem, but when i want to use my subtract function in the interface to get the result of the subtraction between the element at the i position and the key, java tells me that the parameters are of type T and they need to be of type Integer to perform the operation, but when the compare function gets called with T parameters , there is no problem in that. How am i supposed to perform a generic subtraction for my method? Below i will put the main of my program:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws MinHeapException{\n        \n        MinHeap&lt;Integer&gt; heap = new MinHeap&lt;&gt;(new IntegerComparator());\n        heap.insert(3);\n        heap.insert(14);\n        heap.insert(32);\n        heap.insert(12);\n        heap.insert(11);\n        heap.insert(1);\n        heap.insert(4);\n        //array will be : 1, 11, 3, 14, 12, 32, 4\n        \n        heap.printHeap();\n        \n        heap.decreaseKey(4, 2);\n\n        heap.printHeap();\n    \n    }\n\n}\n</code></pre>\n<p>I have put the subtract method in the Comparator class for simplicity, i didnt want to create a class only for that, also it seemed logical, but not sure about this.</p>\n<p>I have put the subtract method in the Comparator class for simplicity, i didnt want to create a class only for that, also it seemed logical, but not sure about this.</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671490348,"creation_date":1671489245,"answer_id":74856715,"question_id":74855562,"body_markdown":"The *workaround* is: \r\n\r\nafter I put all `JSP` files instead of `/webapp/WEB-INF/view/` directory to `/resources/templates/jsp/`. \r\n\r\nAnd added inside `application.properties` instead:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/view/\r\n    spring.mvc.view.suffix=.jsp\r\n\r\nanother classpath:\r\n\r\n    spring.thymeleaf.prefix=classpath:/templates/jsp/\r\n    spring.thymeleaf.suffix=.jsp\r\n\r\nit started work for me.\r\n\r\nAlso be aware if you have all important dependencies inside `POM` as:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"How to display JSP files in browser correctly?","body":"<p>The <em>workaround</em> is:</p>\n<p>after I put all <code>JSP</code> files instead of <code>/webapp/WEB-INF/view/</code> directory to <code>/resources/templates/jsp/</code>.</p>\n<p>And added inside <code>application.properties</code> instead:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/view/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>another classpath:</p>\n<pre><code>spring.thymeleaf.prefix=classpath:/templates/jsp/\nspring.thymeleaf.suffix=.jsp\n</code></pre>\n<p>it started work for me.</p>\n<p>Also be aware if you have all important dependencies inside <code>POM</code> as:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74856715,"answer_count":1,"score":1,"last_activity_date":1671491797,"creation_date":1671480838,"question_id":74855562,"body_markdown":"I&#39;m following the [article][1] where there are `JSP` files and I&#39;m struggling with displaying them correctly in browser.\r\n\r\nIn my project I have `LoginController` class as:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/api/page&quot;)\r\n    public class LoginController {\r\n    \r\n        @GetMapping(&quot;/welcomePage&quot;)\r\n        public ModelAndView welcomePage() {\r\n            ModelAndView model = new ModelAndView();\r\n            model.setViewName(&quot;welcomePage&quot;);\r\n            return model;\r\n        }\r\n    \r\n        /*\r\n         * Updated homePage.jsp file to provide User and Admin Roles specific activities.\r\n         * homePage.jsp\r\n         */\r\n        @GetMapping(&quot;/homePage&quot;)\r\n        public ModelAndView homePage() {\r\n            ModelAndView model = new ModelAndView();\r\n            model.setViewName(&quot;homePage&quot;);\r\n            return model;\r\n        }\r\n    \r\n        /*\r\n         * &#39;/userPage&#39; is used by USER Role to access and perform Normal user activities.\r\n         */\r\n        @GetMapping(&quot;/userPage&quot;)\r\n        public ModelAndView userPage() {\r\n            ModelAndView model = new ModelAndView();\r\n            model.setViewName(&quot;userPage&quot;);\r\n            return model;\r\n        }\r\n    \r\n        /*\r\n         * &#39;/adminPage&#39; is used by ADMIN Role to access and perform Admin user activities.\r\n         * ADMIN role can access “/userPage” URL too.\r\n         */\r\n        @GetMapping(&quot;/adminPage&quot;)\r\n        public ModelAndView adminPage() {\r\n            ModelAndView model = new ModelAndView();\r\n            model.setViewName(&quot;adminPage&quot;);\r\n            return model;\r\n        }\r\n    \r\n        @GetMapping(&quot;/loginPage&quot;)\r\n        public ModelAndView loginPage(@RequestParam(value = &quot;error&quot;,required = false) String error,\r\n                                      @RequestParam(value = &quot;logout&quot;,\trequired = false) String logout) {\r\n    \r\n            ModelAndView model = new ModelAndView();\r\n            if (error != null) {\r\n                model.addObject(&quot;error&quot;, &quot;Invalid Credentials provided.&quot;);\r\n            }\r\n    \r\n            if (logout != null) {\r\n                model.addObject(&quot;message&quot;, &quot;Logged out from successfully.&quot;);\r\n            }\r\n    \r\n            model.setViewName(&quot;loginPage&quot;);\r\n            return model;\r\n        }\r\n    }\r\n\r\nAlso I have some `JSP` files which are locating inside `/WEB-INF/view` as stated in [this][2] &amp; [this][3] answer:\r\n\r\n*adminPage.jsp*:\r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;https://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n    &lt;h3&gt;Admin Page&lt;/h3&gt;\r\n    \r\n    &lt;c:url value=&quot;/logout&quot; var=&quot;logoutUrl&quot; /&gt;\r\n    &lt;form id=&quot;logout&quot; action=&quot;${logoutUrl}&quot; method=&quot;post&quot; &gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n    &lt;/form&gt;\r\n    &lt;c:if test=&quot;${pageContext.request.userPrincipal.name != null}&quot;&gt;\r\n        &lt;a href=&quot;javascript:document.getElementById(&#39;logout&#39;).submit()&quot;&gt;Logout&lt;/a&gt;\r\n    &lt;/c:if&gt;\r\n\r\n\r\n*homePage.jsp*\r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;https://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n    &lt;a href=&quot;${pageContext.request.contextPath}/userPage&quot;&gt;User&lt;/a&gt; | &lt;a href=&quot;${pageContext.request.contextPath}/adminPage&quot;&gt;Admin&lt;/a&gt; | &lt;a href=&quot;javascript:document.getElementById(&#39;logout&#39;).submit()&quot;&gt;Logout&lt;/a&gt;\r\n    \r\n    &lt;h3&gt;Welcome to Rest API Application&lt;/h3&gt;\r\n    &lt;ul&gt;\r\n        &lt;li&gt;Java 8 tutorial&lt;/li&gt;\r\n        &lt;li&gt;Spring tutorial&lt;/li&gt;\r\n        &lt;li&gt;Gradle tutorial&lt;/li&gt;\r\n        &lt;li&gt;BigData tutorial&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    \r\n    &lt;c:url value=&quot;/logout&quot; var=&quot;logoutUrl&quot; /&gt;\r\n    &lt;form id=&quot;logout&quot; action=&quot;${logoutUrl}&quot; method=&quot;post&quot; &gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\n*loginPage.jsp*\r\n\r\n    &lt;%@ include file=&quot;welcomePage.html&quot; %&gt;\r\n    &lt;hr/&gt;\r\n    \r\n    &lt;h3&gt;Login Form&lt;/h3&gt;\r\n    &lt;%\r\n        String profile_msg = (String) request.getAttribute(&quot;profile_msg&quot;);\r\n        if (profile_msg != null) {\r\n            out.print(profile_msg);\r\n        }\r\n        String login_msg = (String) request.getAttribute(&quot;login_msg&quot;);\r\n        if (login_msg != null) {\r\n            out.print(login_msg);\r\n        }\r\n    %&gt;\r\n    &lt;br/&gt;\r\n    &lt;form action=&quot;loginPage.jsp&quot; method=&quot;post&quot;&gt;\r\n        Email:&lt;input type=&quot;text&quot; name=&quot;email&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\r\n        Password:&lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;login&quot;/&gt;&quot;\r\n    &lt;/form&gt;\r\n\r\n*userPage.jsp*\r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;https://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n    &lt;h3&gt;User Page&lt;/h3&gt;\r\n    \r\n    &lt;c:url value=&quot;/logout&quot; var=&quot;logoutUrl&quot; /&gt;\r\n    &lt;form id=&quot;logout&quot; action=&quot;${logoutUrl}&quot; method=&quot;post&quot; &gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n    &lt;/form&gt;\r\n    &lt;c:if test=&quot;${pageContext.request.userPrincipal.name != null}&quot;&gt;\r\n        &lt;a href=&quot;javascript:document.getElementById(&#39;logout&#39;).submit()&quot;&gt;Logout&lt;/a&gt;\r\n    &lt;/c:if&gt;\r\n\r\nIn my application I have `application.properties` with configurations as:\r\n\r\n    spring.mvc.view.prefix=/webapp/WEB-INF/view/\r\n    spring.mvc.view.suffix=.jsp\r\n\r\nBut I&#39;m getting always the error as:\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Mon Dec 19 20:54:05 CET 2022\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n\r\n\r\nMy `POM` file contains:\r\n\r\n    &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.12&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nCan someone tell, please, am I missing something and what do I need to add to display them in my browser correctly? Can it be the confusing with [Spring Security configuration][4]?\r\n\r\nMy current [logs][5].\r\n\r\nI can provide more information if it helps to detect the cause of issue. \r\n\r\nThank you in advance for any smart ideas.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20220810213921/https://www.digitalocean.com/community/tutorials/spring-security-role-based-access-authorization-example\r\n  [2]: https://stackoverflow.com/a/49513293/8370915\r\n  [3]: https://stackoverflow.com/a/8640713/8370915\r\n  [4]: https://gist.github.com/invzbl3/fe9ec2811a897dbf606538a9d6f0035d#file-loginsecurityconfig-java-L49\r\n  [5]: https://gist.github.com/invzbl3/4201320dc7e862cdcb5ce7d6b20971b1","title":"How to display JSP files in browser correctly?","body":"<p>I'm following the <a href=\"https://web.archive.org/web/20220810213921/https://www.digitalocean.com/community/tutorials/spring-security-role-based-access-authorization-example\" rel=\"nofollow noreferrer\">article</a> where there are <code>JSP</code> files and I'm struggling with displaying them correctly in browser.</p>\n<p>In my project I have <code>LoginController</code> class as:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/page&quot;)\npublic class LoginController {\n\n    @GetMapping(&quot;/welcomePage&quot;)\n    public ModelAndView welcomePage() {\n        ModelAndView model = new ModelAndView();\n        model.setViewName(&quot;welcomePage&quot;);\n        return model;\n    }\n\n    /*\n     * Updated homePage.jsp file to provide User and Admin Roles specific activities.\n     * homePage.jsp\n     */\n    @GetMapping(&quot;/homePage&quot;)\n    public ModelAndView homePage() {\n        ModelAndView model = new ModelAndView();\n        model.setViewName(&quot;homePage&quot;);\n        return model;\n    }\n\n    /*\n     * '/userPage' is used by USER Role to access and perform Normal user activities.\n     */\n    @GetMapping(&quot;/userPage&quot;)\n    public ModelAndView userPage() {\n        ModelAndView model = new ModelAndView();\n        model.setViewName(&quot;userPage&quot;);\n        return model;\n    }\n\n    /*\n     * '/adminPage' is used by ADMIN Role to access and perform Admin user activities.\n     * ADMIN role can access “/userPage” URL too.\n     */\n    @GetMapping(&quot;/adminPage&quot;)\n    public ModelAndView adminPage() {\n        ModelAndView model = new ModelAndView();\n        model.setViewName(&quot;adminPage&quot;);\n        return model;\n    }\n\n    @GetMapping(&quot;/loginPage&quot;)\n    public ModelAndView loginPage(@RequestParam(value = &quot;error&quot;,required = false) String error,\n                                  @RequestParam(value = &quot;logout&quot;,   required = false) String logout) {\n\n        ModelAndView model = new ModelAndView();\n        if (error != null) {\n            model.addObject(&quot;error&quot;, &quot;Invalid Credentials provided.&quot;);\n        }\n\n        if (logout != null) {\n            model.addObject(&quot;message&quot;, &quot;Logged out from successfully.&quot;);\n        }\n\n        model.setViewName(&quot;loginPage&quot;);\n        return model;\n    }\n}\n</code></pre>\n<p>Also I have some <code>JSP</code> files which are locating inside <code>/WEB-INF/view</code> as stated in <a href=\"https://stackoverflow.com/a/49513293/8370915\">this</a> &amp; <a href=\"https://stackoverflow.com/a/8640713/8370915\">this</a> answer:</p>\n<p><em>adminPage.jsp</em>:</p>\n<pre><code>&lt;%@taglib prefix=&quot;c&quot; uri=&quot;https://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;h3&gt;Admin Page&lt;/h3&gt;\n\n&lt;c:url value=&quot;/logout&quot; var=&quot;logoutUrl&quot; /&gt;\n&lt;form id=&quot;logout&quot; action=&quot;${logoutUrl}&quot; method=&quot;post&quot; &gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\n&lt;/form&gt;\n&lt;c:if test=&quot;${pageContext.request.userPrincipal.name != null}&quot;&gt;\n    &lt;a href=&quot;javascript:document.getElementById('logout').submit()&quot;&gt;Logout&lt;/a&gt;\n&lt;/c:if&gt;\n</code></pre>\n<p><em>homePage.jsp</em></p>\n<pre><code>&lt;%@taglib prefix=&quot;c&quot; uri=&quot;https://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;a href=&quot;${pageContext.request.contextPath}/userPage&quot;&gt;User&lt;/a&gt; | &lt;a href=&quot;${pageContext.request.contextPath}/adminPage&quot;&gt;Admin&lt;/a&gt; | &lt;a href=&quot;javascript:document.getElementById('logout').submit()&quot;&gt;Logout&lt;/a&gt;\n\n&lt;h3&gt;Welcome to Rest API Application&lt;/h3&gt;\n&lt;ul&gt;\n    &lt;li&gt;Java 8 tutorial&lt;/li&gt;\n    &lt;li&gt;Spring tutorial&lt;/li&gt;\n    &lt;li&gt;Gradle tutorial&lt;/li&gt;\n    &lt;li&gt;BigData tutorial&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;c:url value=&quot;/logout&quot; var=&quot;logoutUrl&quot; /&gt;\n&lt;form id=&quot;logout&quot; action=&quot;${logoutUrl}&quot; method=&quot;post&quot; &gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p><em>loginPage.jsp</em></p>\n<pre><code>&lt;%@ include file=&quot;welcomePage.html&quot; %&gt;\n&lt;hr/&gt;\n\n&lt;h3&gt;Login Form&lt;/h3&gt;\n&lt;%\n    String profile_msg = (String) request.getAttribute(&quot;profile_msg&quot;);\n    if (profile_msg != null) {\n        out.print(profile_msg);\n    }\n    String login_msg = (String) request.getAttribute(&quot;login_msg&quot;);\n    if (login_msg != null) {\n        out.print(login_msg);\n    }\n%&gt;\n&lt;br/&gt;\n&lt;form action=&quot;loginPage.jsp&quot; method=&quot;post&quot;&gt;\n    Email:&lt;input type=&quot;text&quot; name=&quot;email&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\n    Password:&lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;login&quot;/&gt;&quot;\n&lt;/form&gt;\n</code></pre>\n<p><em>userPage.jsp</em></p>\n<pre><code>&lt;%@taglib prefix=&quot;c&quot; uri=&quot;https://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;h3&gt;User Page&lt;/h3&gt;\n\n&lt;c:url value=&quot;/logout&quot; var=&quot;logoutUrl&quot; /&gt;\n&lt;form id=&quot;logout&quot; action=&quot;${logoutUrl}&quot; method=&quot;post&quot; &gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\n&lt;/form&gt;\n&lt;c:if test=&quot;${pageContext.request.userPrincipal.name != null}&quot;&gt;\n    &lt;a href=&quot;javascript:document.getElementById('logout').submit()&quot;&gt;Logout&lt;/a&gt;\n&lt;/c:if&gt;\n</code></pre>\n<p>In my application I have <code>application.properties</code> with configurations as:</p>\n<pre><code>spring.mvc.view.prefix=/webapp/WEB-INF/view/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>But I'm getting always the error as:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon Dec 19 20:54:05 CET 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\n</code></pre>\n<p>My <code>POM</code> file contains:</p>\n<pre><code>&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.12&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Can someone tell, please, am I missing something and what do I need to add to display them in my browser correctly? Can it be the confusing with <a href=\"https://gist.github.com/invzbl3/fe9ec2811a897dbf606538a9d6f0035d#file-loginsecurityconfig-java-L49\" rel=\"nofollow noreferrer\">Spring Security configuration</a>?</p>\n<p>My current <a href=\"https://gist.github.com/invzbl3/4201320dc7e862cdcb5ce7d6b20971b1\" rel=\"nofollow noreferrer\">logs</a>.</p>\n<p>I can provide more information if it helps to detect the cause of issue.</p>\n<p>Thank you in advance for any smart ideas.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1671397693,"post_id":74843944,"comment_id":132085617,"body_markdown":"Can you share the whole stack trace and the relevant code in a codeblock?","body":"Can you share the whole stack trace and the relevant code in a codeblock?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671398354,"post_id":74843944,"comment_id":132085736,"body_markdown":"@dan1st I shared it.","body":"@dan1st I shared it."},{"owner":{"account_id":5153902,"reputation":250,"user_id":4127651,"display_name":"erenerdogan"},"score":0,"creation_date":1671400214,"post_id":74843944,"comment_id":132086029,"body_markdown":"I think user role is problem. Can you share user roles in JwtAuthenticationFilter.java for PRODUCT-SERVICE (line 43)?","body":"I think user role is problem. Can you share user roles in JwtAuthenticationFilter.java for PRODUCT-SERVICE (line 43)?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671401064,"post_id":74843944,"comment_id":132086168,"body_markdown":"@erenerdogan ROLE_USER is responsible for `http://PRODUCT-SERVICE/product/{id}` and `http://PAYMENT-SERVICE/payment/order/{id}`. I also shared all these classes.","body":"@erenerdogan ROLE_USER is responsible for <code>http:&#47;&#47;PRODUCT-SERVICE&#47;product&#47;{id}</code> and <code>http:&#47;&#47;PAYMENT-SERVICE&#47;payment&#47;order&#47;{id}</code>. I also shared all these classes."},{"owner":{"account_id":5153902,"reputation":250,"user_id":4127651,"display_name":"erenerdogan"},"score":0,"creation_date":1671402729,"post_id":74843944,"comment_id":132086414,"body_markdown":"for(String rolename : jwtUtils.getRoleNamesFromJwtToken(jwt)){\n      authorities.add(new SimpleGrantedAuthority(rolename));\n} let me know what is rolename for this code in JwtAuthenticationFilter.java? ROLE_USER or USER?","body":"for(String rolename : jwtUtils.getRoleNamesFromJwtToken(jwt)){       authorities.add(new SimpleGrantedAuthority(rolename)); } let me know what is rolename for this code in JwtAuthenticationFilter.java? ROLE_USER or USER?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1671402889,"post_id":74843944,"comment_id":132086437,"body_markdown":"@erenerdogan ROLE_USER. I can send a request to `http://localhost:8081/product/1` or `http://localhost:9090/product/1` and `http://localhost:8083/payment/order/1` or `http://localhost:9090/payment/order/1` with a bearer token contaning ROLE_USER.","body":"@erenerdogan ROLE_USER. I can send a request to <code>http:&#47;&#47;localhost:8081&#47;product&#47;1</code> or <code>http:&#47;&#47;localhost:9090&#47;product&#47;1</code> and <code>http:&#47;&#47;localhost:8083&#47;payment&#47;order&#47;1</code> or <code>http:&#47;&#47;localhost:9090&#47;payment&#47;order&#47;1</code> with a bearer token contaning ROLE_USER."},{"owner":{"account_id":5153902,"reputation":250,"user_id":4127651,"display_name":"erenerdogan"},"score":0,"creation_date":1671406895,"post_id":74843944,"comment_id":132087030,"body_markdown":"headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken); can you try this line without &quot;Bearer &quot;?","body":"headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken); can you try this line without &quot;Bearer &quot;?"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671491403,"creation_date":1671490809,"answer_id":74856888,"question_id":74843944,"body_markdown":"Here is the answer \r\n\r\nAfter removing the &quot;Bearer&quot; in `getOrderDetails` of `OrderServiceImpl` , It works","title":"Spring Boot Microservices - Rest Template 401 Unauthorized error","body":"<p>Here is the answer</p>\n<p>After removing the &quot;Bearer&quot; in <code>getOrderDetails</code> of <code>OrderServiceImpl</code> , It works</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1611,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74856888,"answer_count":1,"score":-1,"last_activity_date":1671491403,"creation_date":1671392832,"question_id":74843944,"body_markdown":"I have a problem about sending a request to other service from one service. All services have security. That&#39;s why you couldn&#39;t send a request to url without the bearer token.\r\n\r\nI after getting bearer token of `ROLE_USER` from this url `localhost:9090/authenticate/login` \r\n\r\nI defined bearer token in getOrderDetails of Order Service but I got this issue shown below. How can I fix the issue?\r\n\r\n    org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : &quot;{ &quot;error&quot;: &quot;Full authentication is required to access this resource&quot; }&lt;EOL&gt;&lt;EOL&gt;&quot;\r\n\r\nHere are problem in the code snippets shown below to call another service.\r\n\r\n    public OrderResponse getOrderDetails(long orderId, String bearerToken) {\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\r\n    \r\n            HttpEntity request = new HttpEntity&lt;&gt;(headers);\r\n    \r\n            log.info(&quot;OrderServiceImpl | getOrderDetails | Get order details for Order Id : {}&quot;, orderId);\r\n    \r\n            Order order\r\n                    = orderRepository.findById(orderId)\r\n                    .orElseThrow(() -&gt; new CustomException(&quot;Order not found for the order Id:&quot; + orderId,\r\n                            &quot;NOT_FOUND&quot;,\r\n                            404));\r\n    \r\n            log.info(&quot;OrderServiceImpl | getOrderDetails | Invoking Product service to fetch the product for id: {}&quot;, order.getProductId());\r\n            /*ProductResponse productResponse\r\n                    = restTemplate.getForObject(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    ProductResponse.class\r\n            );*/\r\n    \r\n            // HERE IS THE ISSUE\r\n            ResponseEntity&lt;ProductResponse&gt; responseProduct = restTemplate.exchange(\r\n                    &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\r\n                    HttpMethod.GET, request, ProductResponse.class);\r\n            ProductResponse productResponse = responseProduct.getBody();\r\n    \r\n    \r\n            log.info(&quot;OrderServiceImpl | getOrderDetails | Getting payment information form the payment Service&quot;);\r\n            /*PaymentResponse paymentResponse\r\n                    = restTemplate.getForObject(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    PaymentResponse.class\r\n            );*/\r\n    \r\n            // HERE IS THE ISSUE\r\n            ResponseEntity&lt;PaymentResponse&gt; responsePayment = restTemplate.exchange(\r\n                    &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\r\n                    HttpMethod.GET, request, PaymentResponse.class);\r\n            PaymentResponse paymentResponse = responsePayment.getBody();\r\n    \r\n            OrderResponse.ProductDetails productDetails\r\n                    = OrderResponse.ProductDetails\r\n                    .builder()\r\n                    .productName(productResponse.getProductName())\r\n                    .productId(productResponse.getProductId())\r\n                    .build();\r\n    \r\n            OrderResponse.PaymentDetails paymentDetails\r\n                    = OrderResponse.PaymentDetails\r\n                    .builder()\r\n                    .paymentId(paymentResponse.getPaymentId())\r\n                    .paymentStatus(paymentResponse.getStatus())\r\n                    .paymentDate(paymentResponse.getPaymentDate())\r\n                    .paymentMode(paymentResponse.getPaymentMode())\r\n                    .build();\r\n    \r\n            OrderResponse orderResponse\r\n                    = OrderResponse.builder()\r\n                    .orderId(order.getId())\r\n                    .orderStatus(order.getOrderStatus())\r\n                    .amount(order.getAmount())\r\n                    .orderDate(order.getOrderDate())\r\n                    .productDetails(productDetails)\r\n                    .paymentDetails(paymentDetails)\r\n                    .build();\r\n    \r\n            log.info(&quot;OrderServiceImpl | getOrderDetails | orderResponse : &quot; + orderResponse.toString());\r\n    \r\n            return orderResponse;\r\n        }\r\n\r\n**Fixed the issue :** After removing the &quot;Bearer&quot; in getOrderDetails of OrderServiceImpl , It works\r\n\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n**To run the app,**\r\n\r\n1 ) Run Service Registery (Eureka Server)\r\n\r\n2 ) Run config server\r\n\r\n3 ) Run zipkin and redis through these commands shown below on docker\r\n\r\n      docker run -d -p 9411:9411 openzipkin/zipkin\r\n      docker run -d --name redis -p 6379:6379 redis\r\n\r\n4 ) Run api gateway\r\n\r\n5 ) Run other services\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer","title":"Spring Boot Microservices - Rest Template 401 Unauthorized error","body":"<p>I have a problem about sending a request to other service from one service. All services have security. That's why you couldn't send a request to url without the bearer token.</p>\n<p>I after getting bearer token of <code>ROLE_USER</code> from this url <code>localhost:9090/authenticate/login</code></p>\n<p>I defined bearer token in getOrderDetails of Order Service but I got this issue shown below. How can I fix the issue?</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : &quot;{ &quot;error&quot;: &quot;Full authentication is required to access this resource&quot; }&lt;EOL&gt;&lt;EOL&gt;&quot;\n</code></pre>\n<p>Here are problem in the code snippets shown below to call another service.</p>\n<pre><code>public OrderResponse getOrderDetails(long orderId, String bearerToken) {\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;+ bearerToken);\n\n        HttpEntity request = new HttpEntity&lt;&gt;(headers);\n\n        log.info(&quot;OrderServiceImpl | getOrderDetails | Get order details for Order Id : {}&quot;, orderId);\n\n        Order order\n                = orderRepository.findById(orderId)\n                .orElseThrow(() -&gt; new CustomException(&quot;Order not found for the order Id:&quot; + orderId,\n                        &quot;NOT_FOUND&quot;,\n                        404));\n\n        log.info(&quot;OrderServiceImpl | getOrderDetails | Invoking Product service to fetch the product for id: {}&quot;, order.getProductId());\n        /*ProductResponse productResponse\n                = restTemplate.getForObject(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                ProductResponse.class\n        );*/\n\n        // HERE IS THE ISSUE\n        ResponseEntity&lt;ProductResponse&gt; responseProduct = restTemplate.exchange(\n                &quot;http://PRODUCT-SERVICE/product/&quot; + order.getProductId(),\n                HttpMethod.GET, request, ProductResponse.class);\n        ProductResponse productResponse = responseProduct.getBody();\n\n\n        log.info(&quot;OrderServiceImpl | getOrderDetails | Getting payment information form the payment Service&quot;);\n        /*PaymentResponse paymentResponse\n                = restTemplate.getForObject(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                PaymentResponse.class\n        );*/\n\n        // HERE IS THE ISSUE\n        ResponseEntity&lt;PaymentResponse&gt; responsePayment = restTemplate.exchange(\n                &quot;http://PAYMENT-SERVICE/payment/order/&quot; + order.getId(),\n                HttpMethod.GET, request, PaymentResponse.class);\n        PaymentResponse paymentResponse = responsePayment.getBody();\n\n        OrderResponse.ProductDetails productDetails\n                = OrderResponse.ProductDetails\n                .builder()\n                .productName(productResponse.getProductName())\n                .productId(productResponse.getProductId())\n                .build();\n\n        OrderResponse.PaymentDetails paymentDetails\n                = OrderResponse.PaymentDetails\n                .builder()\n                .paymentId(paymentResponse.getPaymentId())\n                .paymentStatus(paymentResponse.getStatus())\n                .paymentDate(paymentResponse.getPaymentDate())\n                .paymentMode(paymentResponse.getPaymentMode())\n                .build();\n\n        OrderResponse orderResponse\n                = OrderResponse.builder()\n                .orderId(order.getId())\n                .orderStatus(order.getOrderStatus())\n                .amount(order.getAmount())\n                .orderDate(order.getOrderDate())\n                .productDetails(productDetails)\n                .paymentDetails(paymentDetails)\n                .build();\n\n        log.info(&quot;OrderServiceImpl | getOrderDetails | orderResponse : &quot; + orderResponse.toString());\n\n        return orderResponse;\n    }\n</code></pre>\n<p><strong>Fixed the issue :</strong> After removing the &quot;Bearer&quot; in getOrderDetails of OrderServiceImpl , It works</p>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p><strong>To run the app,</strong></p>\n<p>1 ) Run Service Registery (Eureka Server)</p>\n<p>2 ) Run config server</p>\n<p>3 ) Run zipkin and redis through these commands shown below on docker</p>\n<pre><code>  docker run -d -p 9411:9411 openzipkin/zipkin\n  docker run -d --name redis -p 6379:6379 redis\n</code></pre>\n<p>4 ) Run api gateway</p>\n<p>5 ) Run other services</p>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":11443181,"reputation":18452,"user_id":8431111,"display_name":"J_H"},"score":0,"creation_date":1671216536,"post_id":74827591,"comment_id":132059153,"body_markdown":"The behavior you describe definitely sounds like serious breakage. Any interest in workarounds, pending a proper fix? (1.) Send timestamped heartbeat, await ACK, and only then begin the tests. (2.) Exploit kafka&#39;s on-disk log and dup suppression: replay recent messages once the container is up and responsive.","body":"The behavior you describe definitely sounds like serious breakage. Any interest in workarounds, pending a proper fix? (1.) Send timestamped heartbeat, await ACK, and only then begin the tests. (2.) Exploit kafka&#39;s on-disk log and dup suppression: replay recent messages once the container is up and responsive."},{"owner":{"account_id":27274201,"reputation":21,"user_id":20795089,"display_name":"Slush"},"score":0,"creation_date":1671217440,"post_id":74827591,"comment_id":132059412,"body_markdown":"Yes, I have considered possible workarounds in the event I can&#39;t find a proper solution. A seemingly simple solution I was considering was that since this only happens on the first message batch in the broker lifecycle, I could just send a &quot;primer&quot; message on startup to absorb the failure, given that broker would rarely be taken down. I am interested in anyone else&#39;s experience with this, since it doesn&#39;t appear in springboot,  and only was noticed through extensive testing, I am worried that there may be more blockers down the quarkus/kafka path.","body":"Yes, I have considered possible workarounds in the event I can&#39;t find a proper solution. A seemingly simple solution I was considering was that since this only happens on the first message batch in the broker lifecycle, I could just send a &quot;primer&quot; message on startup to absorb the failure, given that broker would rarely be taken down. I am interested in anyone else&#39;s experience with this, since it doesn&#39;t appear in springboot,  and only was noticed through extensive testing, I am worried that there may be more blockers down the quarkus/kafka path."}],"owner":{"account_id":27274201,"reputation":21,"user_id":20795089,"display_name":"Slush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671490422,"creation_date":1671210097,"question_id":74827591,"body_markdown":"My Quarkus App appears to be dropping the first batch of messages sent every time I restart my Docker Container. I am currently running &#39;Confluentinc&#39; Kafka (Zookeeper/Broker) images. The drop appears to effect the first batch of messages published from a Junit Test each time the Docker Container is destroyed and created. Subsequent re-runs of the same test, do not produce the same failure. This issue seems to happen somewhere between the broker and the Quarkus @Injected @ApplicationScoped &quot;Stuff&quot; listener. This is important because the testing broker from Quarkus (Vectorized/redpanda) is supposed to restart between each test.\r\n\r\nInterestingly enough, (sometimes) simply having the Offset Explorer (2.3) connected to the cluster before running the test prevents the the failure from occuring. (!?)\r\n\r\nMy testing file: https://github.com/Eli-Ronai/QuarkusKafkaBugDemo\r\n```\r\npackage Test;\r\n\r\nimport io.quarkus.runtime.StartupEvent;\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport org.eclipse.microprofile.reactive.messaging.Channel;\r\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\r\nimport org.eclipse.microprofile.reactive.messaging.Incoming;\r\nimport org.junit.jupiter.api.*;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.ValueSource;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.enterprise.event.Observes;\r\nimport javax.inject.Inject;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\n\r\nimport static org.testng.Assert.assertEquals;\r\n\r\n@ApplicationScoped\r\nclass Stuff {\r\n    private static final String TEST_CHANNEL_NAME = &quot;TestChannel1&quot;;\r\n    private static final String TEST_CHANNEL_NAME2 = &quot;TestChannel2&quot;;\r\n    final LinkedBlockingQueue&lt;String&gt; queue = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    void startup(@Observes StartupEvent event){\r\n        System.out.println(&quot;Injected the listener&quot;);\r\n    }\r\n\r\n    @Inject\r\n    @Channel(TEST_CHANNEL_NAME+&quot;-out&quot;)\r\n    Emitter&lt;String&gt; emitter;\r\n\r\n    @Inject\r\n    @Channel(TEST_CHANNEL_NAME2+&quot;-out&quot;)\r\n    Emitter&lt;String&gt; emitterTwo;\r\n\r\n    @Incoming(TEST_CHANNEL_NAME)\r\n    public void listen(String message) throws InterruptedException {\r\n        System.out.println(message);\r\n        queue.put(message);\r\n    }\r\n\r\n    @Incoming(TEST_CHANNEL_NAME2)\r\n    public void listen2(String message) throws InterruptedException {\r\n        System.out.println(message);\r\n        queue.put(message);\r\n    }\r\n\r\n    public void send(String message) {\r\n        emitter.send(message);\r\n    }\r\n\r\n    public String take() throws InterruptedException {\r\n        return queue.take();\r\n    }\r\n\r\n    public void sendToTwo(String message) {\r\n        emitterTwo.send(message);\r\n    }\r\n}\r\n\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n@QuarkusTest\r\npublic class BufferTests {\r\n    final Stuff stuff;\r\n\r\n    @Inject\r\n    public BufferTests(Stuff stuff) {\r\n        this.stuff = stuff;\r\n    }\r\n\r\n    @Order(2)\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;a&quot;})\r\n    @Timeout(10)\r\n    public void TestAsParameterizedTest(String unusedTestId) {\r\n        final int TEST_SIZE = 1000;\r\n        final var mainThread = Thread.currentThread();\r\n\r\n        new Thread(() -&gt; {\r\n            final var start = System.currentTimeMillis();\r\n\r\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\r\n                stuff.send(Integer.toString(i));\r\n            }\r\n\r\n            try {\r\n                synchronized (this) {\r\n                    wait(System.currentTimeMillis() - start + 9000);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            mainThread.interrupt();\r\n        }).start();\r\n\r\n        int i = 0;\r\n\r\n        try {\r\n            for (; i &lt; TEST_SIZE; i++) {\r\n                System.out.println(stuff.take());\r\n            }\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n\r\n        assertEquals(i, TEST_SIZE);\r\n    }\r\n\r\n    @Order(4)\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\r\n    @Timeout(10)\r\n    public void ConfirmThatTestsRunIndependently(String testId) {\r\n        final int TEST_SIZE = 1000;\r\n        final var mainThread = Thread.currentThread();\r\n\r\n        new Thread(() -&gt; {\r\n            final var start = System.currentTimeMillis();\r\n\r\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\r\n                stuff.send(i+testId);\r\n            }\r\n\r\n            try {\r\n                synchronized (this) {\r\n                    wait(System.currentTimeMillis() - start + 9000);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            mainThread.interrupt();\r\n        }).start();\r\n\r\n        int i = 0;\r\n\r\n        try {\r\n            for (; i &lt; TEST_SIZE; i++) {\r\n                String item = stuff.take();\r\n                assertEquals(testId, item.substring(item.length()-1));\r\n            }\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n        assertEquals(i, TEST_SIZE);\r\n    }\r\n\r\n    @Order(5)\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\r\n    @Timeout(10)\r\n    public void ConfirmThatTestsRunIndependentlyParallel(String testId) {\r\n        final int TEST_SIZE = 1000;\r\n        final var mainThread = Thread.currentThread();\r\n\r\n        new Thread(() -&gt; {\r\n            final var start = System.currentTimeMillis();\r\n\r\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\r\n                stuff.send(i+testId);\r\n            }\r\n\r\n            try {\r\n                synchronized (this) {\r\n                    wait(System.currentTimeMillis() - start + 9000);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            mainThread.interrupt();\r\n        }).start();\r\n\r\n        int i = 0;\r\n\r\n        try {\r\n            for (; i &lt; TEST_SIZE; i++) {\r\n                String item = stuff.take();\r\n                assertEquals(testId, item.substring(item.length()-1));\r\n            }\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n        assertEquals(i, TEST_SIZE);\r\n    }\r\n\r\n    @Order(1)\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\r\n    @Timeout(10)\r\n    public void ProducesTheBug(String testId) {\r\n        final int TEST_SIZE = 1000;\r\n        final var mainThread = Thread.currentThread();\r\n\r\n        //Send\r\n        new Thread(() -&gt; {\r\n            final var start = System.currentTimeMillis();\r\n\r\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\r\n                stuff.send(i+testId);\r\n            }\r\n\r\n            try {\r\n                synchronized (this) {\r\n                    wait(System.currentTimeMillis() - start + 9000);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            mainThread.interrupt();\r\n        }).start();\r\n\r\n        int i = 0;\r\n\r\n        //Receive\r\n        try {\r\n            for (; i &lt; TEST_SIZE; i++) {\r\n                String item = stuff.take();\r\n                assertEquals(testId, item.substring(item.length()-1));\r\n            }\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n        assertEquals(i, TEST_SIZE);\r\n    }\r\n\r\n    @Order(3)\r\n    @Test\r\n    @Timeout(10)\r\n    // This test is copied and pasted from ProducesTheBug()\r\n    public void DoesNotProduceTheBug() {\r\n        String testId = &quot;a&quot;;\r\n        final int TEST_SIZE = 1000;\r\n        final var mainThread = Thread.currentThread();\r\n\r\n        //Send\r\n        new Thread(() -&gt; {\r\n            final var start = System.currentTimeMillis();\r\n\r\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\r\n                stuff.send(i+testId);\r\n            }\r\n\r\n            try {\r\n                synchronized (this) {\r\n                    wait(System.currentTimeMillis() - start + 9000);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            mainThread.interrupt();\r\n        }).start();\r\n\r\n        int i = 0;\r\n\r\n        //Receive\r\n        try {\r\n            for (; i &lt; TEST_SIZE; i++) {\r\n                String item = stuff.take();\r\n                assertEquals(testId, item.substring(item.length()-1));\r\n            }\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n        assertEquals(i, TEST_SIZE);\r\n    }\r\n\r\n    @Order(6)\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\r\n    @Timeout(10)\r\n    public void SendTestMessagesToSecondTopic(String testId) {\r\n        final int TEST_SIZE = 1000;\r\n        final var mainThread = Thread.currentThread();\r\n\r\n        new Thread(() -&gt; {\r\n            final var start = System.currentTimeMillis();\r\n\r\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\r\n                stuff.sendToTwo(i+testId);\r\n            }\r\n\r\n            try {\r\n                synchronized (this) {\r\n                    wait(System.currentTimeMillis() - start + 9000);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            mainThread.interrupt();\r\n        }).start();\r\n\r\n        int i = 0;\r\n\r\n        try {\r\n            for (; i &lt; TEST_SIZE; i++) {\r\n                String item = stuff.take();\r\n                assertEquals(testId, item.substring(item.length()-1));\r\n            }\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n        assertEquals(i, TEST_SIZE);\r\n    }\r\n}\r\n\r\n```\r\n\r\napplication.properties:\r\n```\r\nmp.messaging.incoming.TestChannel1.topic=TestChannel1\r\nmp.messaging.incoming.TestChannel1.connector = smallrye-kafka\r\nmp.messaging.outgoing.TestChannel1-out.topic=TestChannel1\r\nmp.messaging.outgoing.TestChannel1-out.connector = smallrye-kafka\r\n\r\nmp.messaging.incoming.TestChannel2.topic=TestChannel2\r\nmp.messaging.incoming.TestChannel2.connector = smallrye-kafka\r\nmp.messaging.outgoing.TestChannel2-out.topic=TestChannel2\r\nmp.messaging.outgoing.TestChannel2-out.connector = smallrye-kafka\r\n\r\n#Code blow disallows quarkus dev-services from creating a test broker.\r\nquarkus.kafka.devservices.enabled=false\r\nkafka.bootstrap.servers=9092\r\n\r\nmp.messaging.incoming.TestChannel1.bootstrap.servers=localhost:9092\r\nmp.messaging.outgoing.TestChannel1-out.bootstrap.servers=localhost:9092\r\nmp.messaging.outgoing.TestChannel1-out.key.deserializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nmp.messaging.incoming.TestChannel2.bootstrap.servers=localhost:9092\r\nmp.messaging.outgoing.TestChannel2-out.bootstrap.servers=localhost:9092\r\n\r\nmp.messaging.incoming.TestChannel1.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.outgoing.TestChannel1-out.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nmp.messaging.incoming.TestChannel2.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.outgoing.TestChannel2-out.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n```\r\n\r\ndocker-compose:\r\n```\r\n---\r\nversion: &#39;1&#39;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:latest\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n\r\n  broker:\r\n    image: confluentinc/cp-server:latest\r\n    hostname: broker\r\n    container_name: broker\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:49170,PLAINTEXT_HOST://localhost:9092\r\n      KAFKA_METRIC_REPORTERS: io.confluent.metrics.reporter.ConfluentMetricsReporter\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n      KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\r\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\r\n      KAFKA_CONFLUENT_SCHEMA_REGISTRY_URL: http://schema-registry:8083/\r\n      CONFLUENT_METRICS_REPORTER_BOOTSTRAP_SERVERS: broker:49170\r\n      CONFLUENT_METRICS_REPORTER_TOPIC_REPLICAS: 1\r\n\r\n#  schema-registry:\r\n#    image: confluentinc/cp-schema-registry:latest\r\n#    hostname: schema-registry\r\n#    container_name: schema-registry\r\n#    depends_on:\r\n#      - broker\r\n#    ports:\r\n#      - &quot;8083:8083&quot;\r\n#    environment:\r\n#      SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n#      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: &#39;broker:49170&#39;\r\n#      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8083/\r\n```\r\n\r\n- Force Eager Loading of the @ApplicationScoped &#39;Stuff&#39; listener with @Observes StartupEvent constructor\r\nMessages not received. \r\n- Verify Messages being published through non-Quarkus listener (Desktop terminal window)\r\nMessages received by pure-kafka consumer.\r\n- System.out.println statement in the @Incoming listen method.\r\nMessages not printed to console.\r\n- Publish 1000 messages at once.\r\nFirst batch of 1000 messages do not get delivered, and are also not in Kafka que. (Kafka believes they were acknowledged) \r\n- Wait up to 3 minutes after container creation before running tests\r\nMessages not received.\r\n-Publish messages to multiple topics\r\nMessages were received on second topic, the missed messages are limited to the first batch received only.\r\n- Added a Schema Registry Dependency to the Docker Compose.\r\nPrevents messages from going missing in the minimal bug reproduction example, but not in the full app.\r\n- Stopping And Starting the Container\r\nMessage Received, the Docker container must be destroyed and created to reproduce the bug \r\n\r\n\r\nI am expecting to receive all messages sent through Kafka, in the event that a message is not received, by the @Incoming listener I am expecting that Kafka should not acknowledge the message as received and keep it in the que.","title":"Quarkus missing acknowledged smallrye kafka messages after restart","body":"<p>My Quarkus App appears to be dropping the first batch of messages sent every time I restart my Docker Container. I am currently running 'Confluentinc' Kafka (Zookeeper/Broker) images. The drop appears to effect the first batch of messages published from a Junit Test each time the Docker Container is destroyed and created. Subsequent re-runs of the same test, do not produce the same failure. This issue seems to happen somewhere between the broker and the Quarkus @Injected @ApplicationScoped &quot;Stuff&quot; listener. This is important because the testing broker from Quarkus (Vectorized/redpanda) is supposed to restart between each test.</p>\n<p>Interestingly enough, (sometimes) simply having the Offset Explorer (2.3) connected to the cluster before running the test prevents the the failure from occuring. (!?)</p>\n<p>My testing file: <a href=\"https://github.com/Eli-Ronai/QuarkusKafkaBugDemo\" rel=\"nofollow noreferrer\">https://github.com/Eli-Ronai/QuarkusKafkaBugDemo</a></p>\n<pre><code>package Test;\n\nimport io.quarkus.runtime.StartupEvent;\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.eclipse.microprofile.reactive.messaging.Channel;\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\nimport org.eclipse.microprofile.reactive.messaging.Incoming;\nimport org.junit.jupiter.api.*;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.event.Observes;\nimport javax.inject.Inject;\nimport java.util.concurrent.LinkedBlockingQueue;\n\nimport static org.testng.Assert.assertEquals;\n\n@ApplicationScoped\nclass Stuff {\n    private static final String TEST_CHANNEL_NAME = &quot;TestChannel1&quot;;\n    private static final String TEST_CHANNEL_NAME2 = &quot;TestChannel2&quot;;\n    final LinkedBlockingQueue&lt;String&gt; queue = new LinkedBlockingQueue&lt;&gt;();\n\n    void startup(@Observes StartupEvent event){\n        System.out.println(&quot;Injected the listener&quot;);\n    }\n\n    @Inject\n    @Channel(TEST_CHANNEL_NAME+&quot;-out&quot;)\n    Emitter&lt;String&gt; emitter;\n\n    @Inject\n    @Channel(TEST_CHANNEL_NAME2+&quot;-out&quot;)\n    Emitter&lt;String&gt; emitterTwo;\n\n    @Incoming(TEST_CHANNEL_NAME)\n    public void listen(String message) throws InterruptedException {\n        System.out.println(message);\n        queue.put(message);\n    }\n\n    @Incoming(TEST_CHANNEL_NAME2)\n    public void listen2(String message) throws InterruptedException {\n        System.out.println(message);\n        queue.put(message);\n    }\n\n    public void send(String message) {\n        emitter.send(message);\n    }\n\n    public String take() throws InterruptedException {\n        return queue.take();\n    }\n\n    public void sendToTwo(String message) {\n        emitterTwo.send(message);\n    }\n}\n\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\n@QuarkusTest\npublic class BufferTests {\n    final Stuff stuff;\n\n    @Inject\n    public BufferTests(Stuff stuff) {\n        this.stuff = stuff;\n    }\n\n    @Order(2)\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;a&quot;})\n    @Timeout(10)\n    public void TestAsParameterizedTest(String unusedTestId) {\n        final int TEST_SIZE = 1000;\n        final var mainThread = Thread.currentThread();\n\n        new Thread(() -&gt; {\n            final var start = System.currentTimeMillis();\n\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\n                stuff.send(Integer.toString(i));\n            }\n\n            try {\n                synchronized (this) {\n                    wait(System.currentTimeMillis() - start + 9000);\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            mainThread.interrupt();\n        }).start();\n\n        int i = 0;\n\n        try {\n            for (; i &lt; TEST_SIZE; i++) {\n                System.out.println(stuff.take());\n            }\n        } catch (InterruptedException ignored) {\n        }\n\n        assertEquals(i, TEST_SIZE);\n    }\n\n    @Order(4)\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\n    @Timeout(10)\n    public void ConfirmThatTestsRunIndependently(String testId) {\n        final int TEST_SIZE = 1000;\n        final var mainThread = Thread.currentThread();\n\n        new Thread(() -&gt; {\n            final var start = System.currentTimeMillis();\n\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\n                stuff.send(i+testId);\n            }\n\n            try {\n                synchronized (this) {\n                    wait(System.currentTimeMillis() - start + 9000);\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            mainThread.interrupt();\n        }).start();\n\n        int i = 0;\n\n        try {\n            for (; i &lt; TEST_SIZE; i++) {\n                String item = stuff.take();\n                assertEquals(testId, item.substring(item.length()-1));\n            }\n        } catch (InterruptedException ignored) {\n        }\n        assertEquals(i, TEST_SIZE);\n    }\n\n    @Order(5)\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\n    @Timeout(10)\n    public void ConfirmThatTestsRunIndependentlyParallel(String testId) {\n        final int TEST_SIZE = 1000;\n        final var mainThread = Thread.currentThread();\n\n        new Thread(() -&gt; {\n            final var start = System.currentTimeMillis();\n\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\n                stuff.send(i+testId);\n            }\n\n            try {\n                synchronized (this) {\n                    wait(System.currentTimeMillis() - start + 9000);\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            mainThread.interrupt();\n        }).start();\n\n        int i = 0;\n\n        try {\n            for (; i &lt; TEST_SIZE; i++) {\n                String item = stuff.take();\n                assertEquals(testId, item.substring(item.length()-1));\n            }\n        } catch (InterruptedException ignored) {\n        }\n        assertEquals(i, TEST_SIZE);\n    }\n\n    @Order(1)\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\n    @Timeout(10)\n    public void ProducesTheBug(String testId) {\n        final int TEST_SIZE = 1000;\n        final var mainThread = Thread.currentThread();\n\n        //Send\n        new Thread(() -&gt; {\n            final var start = System.currentTimeMillis();\n\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\n                stuff.send(i+testId);\n            }\n\n            try {\n                synchronized (this) {\n                    wait(System.currentTimeMillis() - start + 9000);\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            mainThread.interrupt();\n        }).start();\n\n        int i = 0;\n\n        //Receive\n        try {\n            for (; i &lt; TEST_SIZE; i++) {\n                String item = stuff.take();\n                assertEquals(testId, item.substring(item.length()-1));\n            }\n        } catch (InterruptedException ignored) {\n        }\n        assertEquals(i, TEST_SIZE);\n    }\n\n    @Order(3)\n    @Test\n    @Timeout(10)\n    // This test is copied and pasted from ProducesTheBug()\n    public void DoesNotProduceTheBug() {\n        String testId = &quot;a&quot;;\n        final int TEST_SIZE = 1000;\n        final var mainThread = Thread.currentThread();\n\n        //Send\n        new Thread(() -&gt; {\n            final var start = System.currentTimeMillis();\n\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\n                stuff.send(i+testId);\n            }\n\n            try {\n                synchronized (this) {\n                    wait(System.currentTimeMillis() - start + 9000);\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            mainThread.interrupt();\n        }).start();\n\n        int i = 0;\n\n        //Receive\n        try {\n            for (; i &lt; TEST_SIZE; i++) {\n                String item = stuff.take();\n                assertEquals(testId, item.substring(item.length()-1));\n            }\n        } catch (InterruptedException ignored) {\n        }\n        assertEquals(i, TEST_SIZE);\n    }\n\n    @Order(6)\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;})\n    @Timeout(10)\n    public void SendTestMessagesToSecondTopic(String testId) {\n        final int TEST_SIZE = 1000;\n        final var mainThread = Thread.currentThread();\n\n        new Thread(() -&gt; {\n            final var start = System.currentTimeMillis();\n\n            for (int i = 0; i &lt; TEST_SIZE; i++) {\n                stuff.sendToTwo(i+testId);\n            }\n\n            try {\n                synchronized (this) {\n                    wait(System.currentTimeMillis() - start + 9000);\n                }\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n\n            mainThread.interrupt();\n        }).start();\n\n        int i = 0;\n\n        try {\n            for (; i &lt; TEST_SIZE; i++) {\n                String item = stuff.take();\n                assertEquals(testId, item.substring(item.length()-1));\n            }\n        } catch (InterruptedException ignored) {\n        }\n        assertEquals(i, TEST_SIZE);\n    }\n}\n\n</code></pre>\n<p>application.properties:</p>\n<pre><code>mp.messaging.incoming.TestChannel1.topic=TestChannel1\nmp.messaging.incoming.TestChannel1.connector = smallrye-kafka\nmp.messaging.outgoing.TestChannel1-out.topic=TestChannel1\nmp.messaging.outgoing.TestChannel1-out.connector = smallrye-kafka\n\nmp.messaging.incoming.TestChannel2.topic=TestChannel2\nmp.messaging.incoming.TestChannel2.connector = smallrye-kafka\nmp.messaging.outgoing.TestChannel2-out.topic=TestChannel2\nmp.messaging.outgoing.TestChannel2-out.connector = smallrye-kafka\n\n#Code blow disallows quarkus dev-services from creating a test broker.\nquarkus.kafka.devservices.enabled=false\nkafka.bootstrap.servers=9092\n\nmp.messaging.incoming.TestChannel1.bootstrap.servers=localhost:9092\nmp.messaging.outgoing.TestChannel1-out.bootstrap.servers=localhost:9092\nmp.messaging.outgoing.TestChannel1-out.key.deserializer=org.apache.kafka.common.serialization.StringSerializer\n\nmp.messaging.incoming.TestChannel2.bootstrap.servers=localhost:9092\nmp.messaging.outgoing.TestChannel2-out.bootstrap.servers=localhost:9092\n\nmp.messaging.incoming.TestChannel1.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.outgoing.TestChannel1-out.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n\nmp.messaging.incoming.TestChannel2.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.outgoing.TestChannel2-out.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>docker-compose:</p>\n<pre><code>---\nversion: '1'\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:latest\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n\n  broker:\n    image: confluentinc/cp-server:latest\n    hostname: broker\n    container_name: broker\n    depends_on:\n      - zookeeper\n    ports:\n      - &quot;9092:9092&quot;\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:49170,PLAINTEXT_HOST://localhost:9092\n      KAFKA_METRIC_REPORTERS: io.confluent.metrics.reporter.ConfluentMetricsReporter\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_SCHEMA_REGISTRY_URL: http://schema-registry:8083/\n      CONFLUENT_METRICS_REPORTER_BOOTSTRAP_SERVERS: broker:49170\n      CONFLUENT_METRICS_REPORTER_TOPIC_REPLICAS: 1\n\n#  schema-registry:\n#    image: confluentinc/cp-schema-registry:latest\n#    hostname: schema-registry\n#    container_name: schema-registry\n#    depends_on:\n#      - broker\n#    ports:\n#      - &quot;8083:8083&quot;\n#    environment:\n#      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n#      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: 'broker:49170'\n#      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8083/\n</code></pre>\n<ul>\n<li>Force Eager Loading of the @ApplicationScoped 'Stuff' listener with @Observes StartupEvent constructor\nMessages not received.</li>\n<li>Verify Messages being published through non-Quarkus listener (Desktop terminal window)\nMessages received by pure-kafka consumer.</li>\n<li>System.out.println statement in the @Incoming listen method.\nMessages not printed to console.</li>\n<li>Publish 1000 messages at once.\nFirst batch of 1000 messages do not get delivered, and are also not in Kafka que. (Kafka believes they were acknowledged)</li>\n<li>Wait up to 3 minutes after container creation before running tests\nMessages not received.\n-Publish messages to multiple topics\nMessages were received on second topic, the missed messages are limited to the first batch received only.</li>\n<li>Added a Schema Registry Dependency to the Docker Compose.\nPrevents messages from going missing in the minimal bug reproduction example, but not in the full app.</li>\n<li>Stopping And Starting the Container\nMessage Received, the Docker container must be destroyed and created to reproduce the bug</li>\n</ul>\n<p>I am expecting to receive all messages sent through Kafka, in the event that a message is not received, by the @Incoming listener I am expecting that Kafka should not acknowledge the message as received and keep it in the que.</p>\n"},{"tags":["java","spring-boot","favicon","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671484086,"creation_date":1671484086,"answer_id":74856018,"question_id":74855880,"body_markdown":"Solution in this case was two-fold:\r\n\r\nHardcode the specific path for the resourceHandler\r\n\r\n```java\r\nregistry.addResourceHandler(&quot;/favicon.ico&quot;).addResourceLocations(resourceLocationRoot + &quot;/images/favicon.ico&quot;);\r\n```\r\n\r\nComment out the explicit favicon request in my template\r\n```html\r\n&lt;!--\t&lt;link rel=&quot;icon&quot;  th:href=&quot;@{~/blog-repo/images/favicon.ico}&quot; sizes=&quot;any&quot; /&gt;--&gt;\r\n```\r\n\r\n","title":"Externalize favicon with Spring Boot and Thymeleaf","body":"<p>Solution in this case was two-fold:</p>\n<p>Hardcode the specific path for the resourceHandler</p>\n<pre class=\"lang-java prettyprint-override\"><code>registry.addResourceHandler(&quot;/favicon.ico&quot;).addResourceLocations(resourceLocationRoot + &quot;/images/favicon.ico&quot;);\n</code></pre>\n<p>Comment out the explicit favicon request in my template</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!--    &lt;link rel=&quot;icon&quot;  th:href=&quot;@{~/blog-repo/images/favicon.ico}&quot; sizes=&quot;any&quot; /&gt;--&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"score":0,"creation_date":1671552828,"post_id":74856813,"comment_id":132121581,"body_markdown":"Thank you! I&#39;ll try this out. I definitely like it more and feel this is cleaner. I had tried out what was being suggested on the Baeldung guide, but was not solving for using a `FileSystemResource`. If this works, I&#39;ll come back and confirm the solution.","body":"Thank you! I&#39;ll try this out. I definitely like it more and feel this is cleaner. I had tried out what was being suggested on the Baeldung guide, but was not solving for using a <code>FileSystemResource</code>. If this works, I&#39;ll come back and confirm the solution."},{"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"score":1,"creation_date":1671554735,"post_id":74856813,"comment_id":132122220,"body_markdown":"Worked like a charm and as I said before, much cleaner. Thank you!","body":"Worked like a charm and as I said before, much cleaner. Thank you!"}],"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671490160,"creation_date":1671490160,"answer_id":74856813,"question_id":74855880,"body_markdown":"The favicon can also be served from a custom location as explained in:\r\n*  Baeldung&#39;s [Guide to the Favicon in Spring Boot](https://www.baeldung.com/spring-boot-favicon)\r\n\r\nFor example have an `application.properties` like:\r\n```\r\nfavicon.directory = /path/to/external/directory\r\n```\r\nand a configuration applying a `SimpleUrlHandlerMapping` using a customized `ResourceHttpRequestHandler` that loads the `favicon.ico` from any [`Resource`][1] like:\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;favicon&quot;)\r\npublic class FaviconConfiguration {\r\n\r\n    File directory;  // configured in application.properties\r\n\r\n    @Bean\r\n    public SimpleUrlHandlerMapping customFaviconHandlerMapping() {\r\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\r\n        mapping.setOrder(Integer.MIN_VALUE);  // to be first\r\n        mapping.setUrlMap(Collections.singletonMap(&quot;/favicon.ico&quot;, faviconRequestHandler()));  // use the handler defined below\r\n\r\n        return mapping;\r\n    }\r\n\r\n    @Bean\r\n    protected ResourceHttpRequestHandler faviconRequestHandler() {\r\n        ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler();\r\n        FileSystemResource faviconResource = new FileSystemResource(directory);\r\n        List&lt;Resource&gt; locations = Arrays.asList(faviconResource);\r\n        requestHandler.setLocations(locations);\r\n\r\n        return requestHandler;\r\n    }\r\n}\r\n```\r\n\r\nThis has 2 benefits over [already answered solution](https://stackoverflow.com/a/74856018/5730279):\r\n\r\n1. the `File` typed property is already validated as path (can add additional checks like `exists()` or `isDirectory()`)\r\n2. the configuration class is isolated and follows SRP (single-responsibility: favicon mapping)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html","title":"Externalize favicon with Spring Boot and Thymeleaf","body":"<p>The favicon can also be served from a custom location as explained in:</p>\n<ul>\n<li>Baeldung's <a href=\"https://www.baeldung.com/spring-boot-favicon\" rel=\"nofollow noreferrer\">Guide to the Favicon in Spring Boot</a></li>\n</ul>\n<p>For example have an <code>application.properties</code> like:</p>\n<pre><code>favicon.directory = /path/to/external/directory\n</code></pre>\n<p>and a configuration applying a <code>SimpleUrlHandlerMapping</code> using a customized <code>ResourceHttpRequestHandler</code> that loads the <code>favicon.ico</code> from any <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html\" rel=\"nofollow noreferrer\"><code>Resource</code></a> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;favicon&quot;)\npublic class FaviconConfiguration {\n\n    File directory;  // configured in application.properties\n\n    @Bean\n    public SimpleUrlHandlerMapping customFaviconHandlerMapping() {\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\n        mapping.setOrder(Integer.MIN_VALUE);  // to be first\n        mapping.setUrlMap(Collections.singletonMap(&quot;/favicon.ico&quot;, faviconRequestHandler()));  // use the handler defined below\n\n        return mapping;\n    }\n\n    @Bean\n    protected ResourceHttpRequestHandler faviconRequestHandler() {\n        ResourceHttpRequestHandler requestHandler = new ResourceHttpRequestHandler();\n        FileSystemResource faviconResource = new FileSystemResource(directory);\n        List&lt;Resource&gt; locations = Arrays.asList(faviconResource);\n        requestHandler.setLocations(locations);\n\n        return requestHandler;\n    }\n}\n</code></pre>\n<p>This has 2 benefits over <a href=\"https://stackoverflow.com/a/74856018/5730279\">already answered solution</a>:</p>\n<ol>\n<li>the <code>File</code> typed property is already validated as path (can add additional checks like <code>exists()</code> or <code>isDirectory()</code>)</li>\n<li>the configuration class is isolated and follows SRP (single-responsibility: favicon mapping)</li>\n</ol>\n"}],"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74856813,"answer_count":2,"score":1,"last_activity_date":1671490160,"creation_date":1671483187,"question_id":74855880,"body_markdown":"# Externalize favicon with Spring Boot and Thymeleaf\r\n\r\nFor unimportant reasons, I&#39;m trying to source a **favicon** in my Spring Boot project from a directory **not on the classpath**.\r\n\r\nI&#39;m able to load images or other assets that directory but the favicon for some reason cannot be loaded.\r\n\r\nHere&#39;s a demo project I created to illustrate the problem and the things I&#39;ve tried so far\r\n\r\n```\r\n.\r\n├── build.gradle\r\n├── gradle\r\n│&#160;&#160; └── wrapper\r\n│&#160;&#160;     ├── gradle-wrapper.jar\r\n│&#160;&#160;     └── gradle-wrapper.properties\r\n├── gradlew\r\n├── settings.gradle\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; └── com\r\n    │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160;         └── demo\r\n    │&#160;&#160; │&#160;&#160;             ├── Demo2Application.java\r\n    │&#160;&#160; │&#160;&#160;             ├── ExternalConfig.java\r\n    │&#160;&#160; │&#160;&#160;             └── PageController.java\r\n    │&#160;&#160; └── resources\r\n    │&#160;&#160;     ├── application.properties\r\n    │&#160;&#160;     ├── static\r\n    │&#160;&#160;     └── templates\r\n    │&#160;&#160;         └── index.html\r\n    └── test\r\n        └── java\r\n            └── com\r\n                └── example\r\n                    └── demo\r\n                        └── Demo2ApplicationTests.java\r\n\r\n```\r\n\r\n- I have a single `@Configuration` class called `ExternalConfig.java`.\r\n- I have a single `@Controller`class called `PageController.java` which is used to return the Thymeleaf template to the browser.\r\n- `application.properties` only contains one entry\r\n\t- `test.repoPath = /path/to/external/directory`\r\n\r\n### Demo2Application (launch class)\r\n```java\r\n@SpringBootApplication\r\npublic class Demo2Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo2Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n### PageController\r\n```java\r\n@Controller\r\npublic class PageController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String getIndex () {\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\n### index.html\r\nNote, that I&#39;ve added an extra `img` line here to show to myself that I can source content from an external directory.\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n\t&lt;title th:text=&quot;${blogTitle}&quot;/&gt;\r\n\t&lt;link rel=&quot;icon&quot;  th:href=&quot;@{~/blog-repo/images/favicon.ico}&quot; sizes=&quot;any&quot; /&gt;\r\n\t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/style.css}&quot;/&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;p&gt;Just to render something&lt;/p&gt;\r\n\t&lt;img th:src=&quot;@{~/testing-path/images/logo.svg}&quot; alt=&quot;Blog Logo&quot; height=&quot;200px&quot;/&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n### ExternalConfig.java (Where I&#39;m trying to make the changes)\r\n\r\nThis is where the magic is supposed to happen. From what I&#39;ve been able to find online, the solution is to add a new `resourceHandler` to the `ResourceHandlerRegistry`. This works to allow Thymeleaf and Spring to serve images assets. I believe it&#39;ll also work if you&#39;re trying to store your favicon in a different folder in your classpath. But for external files, it doesn&#39;t seem to work. Here&#39;s the code.\r\n\r\n```java\r\n@Configuration\r\n@Data\r\n@Validated\r\n@ConfigurationProperties(prefix = &quot;test&quot;)\r\npublic class ExternalConfig implements WebMvcConfigurer {\r\n\r\n    private String repoPath;\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        repoPath = repoPath.endsWith(File.separator) ? repoPath : repoPath + File.separator;\r\n        var resourceLocationRoot = &quot;file:&quot; + repoPath;\r\n        registry.addResourceHandler(&quot;/testing-path/**&quot;).addResourceLocations(resourceLocationRoot);\r\n        registry.addResourceHandler(&quot;/favicon.ico&quot;).addResourceLocations(resourceLocationRoot + &quot;/images/&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhen I debug, I can see that the path is properly added to the registry. When I go to `http://localhost:8080`, `index.html` page shows up as expected as well as a the `img` that I put in the html file. The favicon does not show up however.\r\n\r\nI&#39;ve tried also specifying the specific file path to the exact file but that didn&#39;t work either.\r\n`registry.addResourceHandler(&quot;/favicon.ico&quot;).addResourceLocations(resourceLocationRoot + &quot;/images/favicon.ico&quot;);`\r\n\r\n\r\nI&#39;m using Spring Boot 3.0.0 for this project.","title":"Externalize favicon with Spring Boot and Thymeleaf","body":"<h1>Externalize favicon with Spring Boot and Thymeleaf</h1>\n<p>For unimportant reasons, I'm trying to source a <strong>favicon</strong> in my Spring Boot project from a directory <strong>not on the classpath</strong>.</p>\n<p>I'm able to load images or other assets that directory but the favicon for some reason cannot be loaded.</p>\n<p>Here's a demo project I created to illustrate the problem and the things I've tried so far</p>\n<pre><code>.\n├── build.gradle\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── settings.gradle\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── com\n    │   │       └── example\n    │   │           └── demo\n    │   │               ├── Demo2Application.java\n    │   │               ├── ExternalConfig.java\n    │   │               └── PageController.java\n    │   └── resources\n    │       ├── application.properties\n    │       ├── static\n    │       └── templates\n    │           └── index.html\n    └── test\n        └── java\n            └── com\n                └── example\n                    └── demo\n                        └── Demo2ApplicationTests.java\n\n</code></pre>\n<ul>\n<li>I have a single <code>@Configuration</code> class called <code>ExternalConfig.java</code>.</li>\n<li>I have a single <code>@Controller</code>class called <code>PageController.java</code> which is used to return the Thymeleaf template to the browser.</li>\n<li><code>application.properties</code> only contains one entry\n<ul>\n<li><code>test.repoPath = /path/to/external/directory</code></li>\n</ul>\n</li>\n</ul>\n<h3>Demo2Application (launch class)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Demo2Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Demo2Application.class, args);\n    }\n\n}\n</code></pre>\n<h3>PageController</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class PageController {\n\n    @GetMapping(&quot;/&quot;)\n    public String getIndex () {\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<h3>index.html</h3>\n<p>Note, that I've added an extra <code>img</code> line here to show to myself that I can source content from an external directory.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;title th:text=&quot;${blogTitle}&quot;/&gt;\n    &lt;link rel=&quot;icon&quot;  th:href=&quot;@{~/blog-repo/images/favicon.ico}&quot; sizes=&quot;any&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/style.css}&quot;/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;Just to render something&lt;/p&gt;\n    &lt;img th:src=&quot;@{~/testing-path/images/logo.svg}&quot; alt=&quot;Blog Logo&quot; height=&quot;200px&quot;/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h3>ExternalConfig.java (Where I'm trying to make the changes)</h3>\n<p>This is where the magic is supposed to happen. From what I've been able to find online, the solution is to add a new <code>resourceHandler</code> to the <code>ResourceHandlerRegistry</code>. This works to allow Thymeleaf and Spring to serve images assets. I believe it'll also work if you're trying to store your favicon in a different folder in your classpath. But for external files, it doesn't seem to work. Here's the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Data\n@Validated\n@ConfigurationProperties(prefix = &quot;test&quot;)\npublic class ExternalConfig implements WebMvcConfigurer {\n\n    private String repoPath;\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        repoPath = repoPath.endsWith(File.separator) ? repoPath : repoPath + File.separator;\n        var resourceLocationRoot = &quot;file:&quot; + repoPath;\n        registry.addResourceHandler(&quot;/testing-path/**&quot;).addResourceLocations(resourceLocationRoot);\n        registry.addResourceHandler(&quot;/favicon.ico&quot;).addResourceLocations(resourceLocationRoot + &quot;/images/&quot;);\n    }\n}\n</code></pre>\n<p>When I debug, I can see that the path is properly added to the registry. When I go to <code>http://localhost:8080</code>, <code>index.html</code> page shows up as expected as well as a the <code>img</code> that I put in the html file. The favicon does not show up however.</p>\n<p>I've tried also specifying the specific file path to the exact file but that didn't work either.\n<code>registry.addResourceHandler(&quot;/favicon.ico&quot;).addResourceLocations(resourceLocationRoot + &quot;/images/favicon.ico&quot;);</code></p>\n<p>I'm using Spring Boot 3.0.0 for this project.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":3,"creation_date":1671470725,"post_id":74853815,"comment_id":132101424,"body_markdown":"Why create a list at all? Just create the hashmap, then call `put` 5 times rather than `add`","body":"Why create a list at all? Just create the hashmap, then call <code>put</code> 5 times rather than <code>add</code>"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1671470800,"post_id":74853902,"comment_id":132101449,"body_markdown":"Second param can be `Function::identity`","body":"Second param can be <code>Function::identity</code>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671470862,"post_id":74853902,"comment_id":132101475,"body_markdown":"Yes but if this is more readable for beginners...","body":"Yes but if this is more readable for beginners..."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671470632,"creation_date":1671470632,"answer_id":74853902,"question_id":74853815,"body_markdown":"The best way is to use a Stream and then collect the employee:\r\n\r\n    Map&lt;String, Employee&gt; listMap = listWmp.stream()\r\n                        .collect(Collectors.toMap(Employee::getEmpId, employee -&gt; employee));\r\n\r\nOr if you don&#39;t want to use Java Stream API you have to change your code to:\r\n\r\n    listMap.put(employee.getEmpId(), employee);","title":"convert List&lt;object&gt; to map","body":"<p>The best way is to use a Stream and then collect the employee:</p>\n<pre><code>Map&lt;String, Employee&gt; listMap = listWmp.stream()\n                    .collect(Collectors.toMap(Employee::getEmpId, employee -&gt; employee));\n</code></pre>\n<p>Or if you don't want to use Java Stream API you have to change your code to:</p>\n<pre><code>listMap.put(employee.getEmpId(), employee);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671470691,"creation_date":1671470691,"answer_id":74853908,"question_id":74853815,"body_markdown":"&gt; A `Map` is an object that maps keys to values.\r\n\r\nYour `Map` is defined as `Map&lt;String, Employee&gt;`. So it maps a `String` to an `Employee`.\r\n\r\nWhen you try to execute :\r\n\r\n```java\r\nlistMap.put(employee.getEmpId(), employee.getEmpBame());\r\n```\r\n\r\nIt fails because the second parameter is supposed to be an instance of `Employee` but `employee.getEmpBame()` returns a `String`.\r\n\r\nYou should replace it with :\r\n\r\n```java\r\nlistMap.put(employee.getEmpId(), employee);\r\n```","title":"convert List&lt;object&gt; to map","body":"<blockquote>\n<p>A <code>Map</code> is an object that maps keys to values.</p>\n</blockquote>\n<p>Your <code>Map</code> is defined as <code>Map&lt;String, Employee&gt;</code>. So it maps a <code>String</code> to an <code>Employee</code>.</p>\n<p>When you try to execute :</p>\n<pre class=\"lang-java prettyprint-override\"><code>listMap.put(employee.getEmpId(), employee.getEmpBame());\n</code></pre>\n<p>It fails because the second parameter is supposed to be an instance of <code>Employee</code> but <code>employee.getEmpBame()</code> returns a <code>String</code>.</p>\n<p>You should replace it with :</p>\n<pre class=\"lang-java prettyprint-override\"><code>listMap.put(employee.getEmpId(), employee);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12614652,"reputation":136,"user_id":9172548,"display_name":"mr-possible"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671470863,"creation_date":1671470863,"answer_id":74853940,"question_id":74853815,"body_markdown":"You should/may do like this:  \r\n\r\n\r\n    Employee emp1 = new Employee(&quot;1&quot;,&quot;Mayank&quot;,&quot;HR&quot;,&quot;mayank@gmail.com&quot;);\r\n        Employee emp2 = new Employee(&quot;2&quot;,&quot;Mahesh&quot;,&quot;Trainer&quot;,&quot;Mahesh@gmail.com&quot;);\r\n        Employee emp3 = new Employee(&quot;3&quot;,&quot;Vipul&quot;,&quot;SEO&quot;,&quot;Vipul@gmail.com&quot;);\r\n        Employee emp4 = new Employee(&quot;4&quot;,&quot;Ajay&quot;,&quot;Devlopwr&quot;,&quot;Ajay@gmail.com&quot;);\r\n        Employee emp5 = new Employee(&quot;5&quot;,&quot;Rakesh&quot;,&quot;Marketing&quot;,&quot;Rakesh@gmail.com&quot;);\r\n            \r\n             List&lt;Employee&gt; listWmp = new ArrayList&lt;&gt;();\r\n             listWmp.add(emp1);\r\n             listWmp.add(emp2);\r\n             listWmp.add(emp3);\r\n             listWmp.add(emp4);\r\n             listWmp.add(emp5);\r\n            \r\n             Map&lt;String, Employee&gt; listMap = new HashMap&lt;&gt;();\r\n             for (Employee employee : listWmp) {\r\n                 listMap.put(employee.getEmpId(), employee);\r\n             }","title":"convert List&lt;object&gt; to map","body":"<p>You should/may do like this:</p>\n<pre><code>Employee emp1 = new Employee(&quot;1&quot;,&quot;Mayank&quot;,&quot;HR&quot;,&quot;mayank@gmail.com&quot;);\n    Employee emp2 = new Employee(&quot;2&quot;,&quot;Mahesh&quot;,&quot;Trainer&quot;,&quot;Mahesh@gmail.com&quot;);\n    Employee emp3 = new Employee(&quot;3&quot;,&quot;Vipul&quot;,&quot;SEO&quot;,&quot;Vipul@gmail.com&quot;);\n    Employee emp4 = new Employee(&quot;4&quot;,&quot;Ajay&quot;,&quot;Devlopwr&quot;,&quot;Ajay@gmail.com&quot;);\n    Employee emp5 = new Employee(&quot;5&quot;,&quot;Rakesh&quot;,&quot;Marketing&quot;,&quot;Rakesh@gmail.com&quot;);\n        \n         List&lt;Employee&gt; listWmp = new ArrayList&lt;&gt;();\n         listWmp.add(emp1);\n         listWmp.add(emp2);\n         listWmp.add(emp3);\n         listWmp.add(emp4);\n         listWmp.add(emp5);\n        \n         Map&lt;String, Employee&gt; listMap = new HashMap&lt;&gt;();\n         for (Employee employee : listWmp) {\n             listMap.put(employee.getEmpId(), employee);\n         }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671489953,"creation_date":1671488416,"answer_id":74856621,"question_id":74853815,"body_markdown":"# Hard-code a `Map`\r\n\r\nAs [commented][1], in your particular example you could simply [hard-code][2] a `Map` rather than hard-code a `List`. \r\n\r\n```java\r\nEmployee emp1 = new Employee(&quot;1&quot;, &quot;Mayank&quot;, &quot;HR&quot;, &quot;mayank@gmail.com&quot;);\r\nEmployee emp2 = new Employee(&quot;2&quot;, &quot;Mahesh&quot;, &quot;Trainer&quot;, &quot;Mahesh@gmail.com&quot;);\r\nEmployee emp3 = new Employee(&quot;3&quot;, &quot;Vipul&quot;, &quot;SEO&quot;, &quot;Vipul@gmail.com&quot;);\r\nEmployee emp4 = new Employee(&quot;4&quot;, &quot;Ajay&quot;, &quot;Devlopwr&quot;, &quot;Ajay@gmail.com&quot;);\r\nEmployee emp5 = new Employee(&quot;5&quot;, &quot;Rakesh&quot;, &quot;Marketing&quot;, &quot;Rakesh@gmail.com&quot;);\r\n\r\nMap &lt; String , Employee &gt; mapEmpIdToEmp = new HashMap &lt; &gt; ();\r\nmapEmpIdToEmp.put( emp1.id() , emp1 );\r\nmapEmpIdToEmp.put( emp2.id() , emp2 );\r\nmapEmpIdToEmp.put( emp3.id() , emp3 );\r\nmapEmpIdToEmp.put( emp4.id() , emp4 );\r\nmapEmpIdToEmp.put( emp5.id() , emp5 );\r\n```\r\n\r\n## `Map.of`\r\n\r\nThe [`Map.of`][3] method in modern Java makes literal map instantiation quite easy and readable. The resulting `Map` is [unmodifiable][4].\r\n\r\n```java\r\nMap &lt; String , Employee &gt; mapEmpIdToEmp = \r\n    Map.of(\r\n        emp1.id() , emp1 ,  // key , value \r\n        emp2.id() , emp2 ,\r\n        emp3.id() , emp3 ,\r\n        emp4.id() , emp4 ,\r\n        emp5.id() , emp5\r\n    );\r\n```\r\n\r\n\r\n# `List.of`\r\n\r\nIndeed, you could use [`List.of`][5] for hard-coding those 5 new `Employee` objects into an [unmodifiable][6] `List`. \r\n\r\n\r\n```java\r\nList&lt; Employee &gt; employees = \r\n    List.of(\r\n        new Employee(&quot;1&quot;, &quot;Mayank&quot;, &quot;HR&quot;, &quot;mayank@gmail.com&quot;) ,\r\n        new Employee(&quot;2&quot;, &quot;Mahesh&quot;, &quot;Trainer&quot;, &quot;Mahesh@gmail.com&quot;) ,\r\n        new Employee(&quot;3&quot;, &quot;Vipul&quot;, &quot;SEO&quot;, &quot;Vipul@gmail.com&quot;) ,\r\n        new Employee(&quot;4&quot;, &quot;Ajay&quot;, &quot;Devlopwr&quot;, &quot;Ajay@gmail.com&quot;) ,\r\n        new Employee(&quot;5&quot;, &quot;Rakesh&quot;, &quot;Marketing&quot;, &quot;Rakesh@gmail.com&quot;)\r\n    );\r\n```\r\n\r\nFrom that list, build your map in a soft-coded manner.\r\n\r\n```java\r\nMap &lt; String , Employee &gt; mapEmpIdToEmp = new HashMap &lt; &gt; ();\r\nfor( Employee employee : employees ) \r\n{\r\n    mapEmpIdToEmp.put( employee.id() , employee ) ;\r\n}\r\n```\r\n\r\nIf desired, call [`Map.copyOf`][7] to make an [unmodifiable][4] map from `mapEmpIdToEmp`. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74853815/convert-listobject-to-map/74856621#comment132101424_74853815\r\n  [2]: https://en.wikipedia.org/wiki/Hard_coding\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E,E,E,E,E)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)","title":"convert List&lt;object&gt; to map","body":"<h1>Hard-code a <code>Map</code></h1>\n<p>As <a href=\"https://stackoverflow.com/questions/74853815/convert-listobject-to-map/74856621#comment132101424_74853815\">commented</a>, in your particular example you could simply <a href=\"https://en.wikipedia.org/wiki/Hard_coding\" rel=\"nofollow noreferrer\">hard-code</a> a <code>Map</code> rather than hard-code a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee emp1 = new Employee(&quot;1&quot;, &quot;Mayank&quot;, &quot;HR&quot;, &quot;mayank@gmail.com&quot;);\nEmployee emp2 = new Employee(&quot;2&quot;, &quot;Mahesh&quot;, &quot;Trainer&quot;, &quot;Mahesh@gmail.com&quot;);\nEmployee emp3 = new Employee(&quot;3&quot;, &quot;Vipul&quot;, &quot;SEO&quot;, &quot;Vipul@gmail.com&quot;);\nEmployee emp4 = new Employee(&quot;4&quot;, &quot;Ajay&quot;, &quot;Devlopwr&quot;, &quot;Ajay@gmail.com&quot;);\nEmployee emp5 = new Employee(&quot;5&quot;, &quot;Rakesh&quot;, &quot;Marketing&quot;, &quot;Rakesh@gmail.com&quot;);\n\nMap &lt; String , Employee &gt; mapEmpIdToEmp = new HashMap &lt; &gt; ();\nmapEmpIdToEmp.put( emp1.id() , emp1 );\nmapEmpIdToEmp.put( emp2.id() , emp2 );\nmapEmpIdToEmp.put( emp3.id() , emp3 );\nmapEmpIdToEmp.put( emp4.id() , emp4 );\nmapEmpIdToEmp.put( emp5.id() , emp5 );\n</code></pre>\n<h2><code>Map.of</code></h2>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a> method in modern Java makes literal map instantiation quite easy and readable. The resulting <code>Map</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String , Employee &gt; mapEmpIdToEmp = \n    Map.of(\n        emp1.id() , emp1 ,  // key , value \n        emp2.id() , emp2 ,\n        emp3.id() , emp3 ,\n        emp4.id() , emp4 ,\n        emp5.id() , emp5\n    );\n</code></pre>\n<h1><code>List.of</code></h1>\n<p>Indeed, you could use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E,E,E,E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> for hard-coding those 5 new <code>Employee</code> objects into an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable</a> <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt; Employee &gt; employees = \n    List.of(\n        new Employee(&quot;1&quot;, &quot;Mayank&quot;, &quot;HR&quot;, &quot;mayank@gmail.com&quot;) ,\n        new Employee(&quot;2&quot;, &quot;Mahesh&quot;, &quot;Trainer&quot;, &quot;Mahesh@gmail.com&quot;) ,\n        new Employee(&quot;3&quot;, &quot;Vipul&quot;, &quot;SEO&quot;, &quot;Vipul@gmail.com&quot;) ,\n        new Employee(&quot;4&quot;, &quot;Ajay&quot;, &quot;Devlopwr&quot;, &quot;Ajay@gmail.com&quot;) ,\n        new Employee(&quot;5&quot;, &quot;Rakesh&quot;, &quot;Marketing&quot;, &quot;Rakesh@gmail.com&quot;)\n    );\n</code></pre>\n<p>From that list, build your map in a soft-coded manner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String , Employee &gt; mapEmpIdToEmp = new HashMap &lt; &gt; ();\nfor( Employee employee : employees ) \n{\n    mapEmpIdToEmp.put( employee.id() , employee ) ;\n}\n</code></pre>\n<p>If desired, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Map.copyOf</code></a> to make an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable</a> map from <code>mapEmpIdToEmp</code>.</p>\n"}],"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1671489953,"creation_date":1671470232,"question_id":74853815,"body_markdown":"I have an `Employee` class that contain four fields: id, name, department, and email. I have created five objects, set the values and added all of them to a list.\r\n\r\nNow, I want to convert that list to map but I am not able to. For your reference, here is the code that I tried\r\n\r\n    Employee emp1 = new Employee(&quot;1&quot;, &quot;Mayank&quot;, &quot;HR&quot;, &quot;mayank@gmail.com&quot;);\r\n    Employee emp2 = new Employee(&quot;2&quot;, &quot;Mahesh&quot;, &quot;Trainer&quot;, &quot;Mahesh@gmail.com&quot;);\r\n    Employee emp3 = new Employee(&quot;3&quot;, &quot;Vipul&quot;, &quot;SEO&quot;, &quot;Vipul@gmail.com&quot;);\r\n    Employee emp4 = new Employee(&quot;4&quot;, &quot;Ajay&quot;, &quot;Devlopwr&quot;, &quot;Ajay@gmail.com&quot;);\r\n    Employee emp5 = new Employee(&quot;5&quot;, &quot;Rakesh&quot;, &quot;Marketing&quot;, &quot;Rakesh@gmail.com&quot;);\r\n\r\n    //add class object to list\r\n    List &lt; Employee &gt; listWmp = new ArrayList &lt; &gt; ();\r\n    listWmp.add(0, emp1);\r\n    listWmp.add(1, emp2);\r\n    listWmp.add(2, emp3);\r\n    listWmp.add(3, emp4);\r\n    listWmp.add(4, emp5);\r\n    System.out.println(&quot;list elements are : &quot; + listWmp);\r\n    //convert the list into map\r\n    Map &lt; String, Employee &gt; listMap = new HashMap &lt; &gt; ();\r\n    for (Employee employee: listWmp) {\r\n      listMap.put(employee.getEmpId(), employee.getEmpBame());\r\n    }\r\n\r\nHow do I convert the list to a map?","title":"convert List&lt;object&gt; to map","body":"<p>I have an <code>Employee</code> class that contain four fields: id, name, department, and email. I have created five objects, set the values and added all of them to a list.</p>\n<p>Now, I want to convert that list to map but I am not able to. For your reference, here is the code that I tried</p>\n<pre><code>Employee emp1 = new Employee(&quot;1&quot;, &quot;Mayank&quot;, &quot;HR&quot;, &quot;mayank@gmail.com&quot;);\nEmployee emp2 = new Employee(&quot;2&quot;, &quot;Mahesh&quot;, &quot;Trainer&quot;, &quot;Mahesh@gmail.com&quot;);\nEmployee emp3 = new Employee(&quot;3&quot;, &quot;Vipul&quot;, &quot;SEO&quot;, &quot;Vipul@gmail.com&quot;);\nEmployee emp4 = new Employee(&quot;4&quot;, &quot;Ajay&quot;, &quot;Devlopwr&quot;, &quot;Ajay@gmail.com&quot;);\nEmployee emp5 = new Employee(&quot;5&quot;, &quot;Rakesh&quot;, &quot;Marketing&quot;, &quot;Rakesh@gmail.com&quot;);\n\n//add class object to list\nList &lt; Employee &gt; listWmp = new ArrayList &lt; &gt; ();\nlistWmp.add(0, emp1);\nlistWmp.add(1, emp2);\nlistWmp.add(2, emp3);\nlistWmp.add(3, emp4);\nlistWmp.add(4, emp5);\nSystem.out.println(&quot;list elements are : &quot; + listWmp);\n//convert the list into map\nMap &lt; String, Employee &gt; listMap = new HashMap &lt; &gt; ();\nfor (Employee employee: listWmp) {\n  listMap.put(employee.getEmpId(), employee.getEmpBame());\n}\n</code></pre>\n<p>How do I convert the list to a map?</p>\n"},{"tags":["java","mongodb","kotlin","aggregation-framework","morphia"],"answers":[{"tags":[],"owner":{"account_id":14250208,"reputation":1,"user_id":10294018,"display_name":"Kassutta Fit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671489065,"creation_date":1671489065,"answer_id":74856699,"question_id":74856352,"body_markdown":"UPDATE: Got through the docs after investing hours. We can use `sum(literal(1))` to do the same in aggregation query in kotlin.","title":"How to calculate count(*) in groupby in latest morphia version 2.3 using datastore.aggregate()?","body":"<p>UPDATE: Got through the docs after investing hours. We can use <code>sum(literal(1))</code> to do the same in aggregation query in kotlin.</p>\n"}],"owner":{"account_id":14250208,"reputation":1,"user_id":10294018,"display_name":"Kassutta Fit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671489065,"creation_date":1671486360,"question_id":74856352,"body_markdown":"`\r\n```\r\ndatastore.aggregate()\r\n            .match()\r\n            .project()\r\n            .unwind()\r\n            .group(group(id(&quot;my_id&quot;)).field(&quot;totalCount&quot;, sum(&quot;1&quot;)).field(&quot;average&quot;, avg(field(&quot;field2&quot;))))\r\n            .execute(result::class.java)\r\n            .toList()\r\n```\r\n`\r\n\r\nIn CLI it works something like $sum : 1 in group to do a count(*) but how to do this in kotlin/java code??\r\n\r\nI just want to count all occurences after group by . Basically similar to `select count(*) from table group by name;`","title":"How to calculate count(*) in groupby in latest morphia version 2.3 using datastore.aggregate()?","body":"<p>`</p>\n<pre><code>datastore.aggregate()\n            .match()\n            .project()\n            .unwind()\n            .group(group(id(&quot;my_id&quot;)).field(&quot;totalCount&quot;, sum(&quot;1&quot;)).field(&quot;average&quot;, avg(field(&quot;field2&quot;))))\n            .execute(result::class.java)\n            .toList()\n</code></pre>\n<p>`</p>\n<p>In CLI it works something like $sum : 1 in group to do a count(*) but how to do this in kotlin/java code??</p>\n<p>I just want to count all occurences after group by . Basically similar to <code>select count(*) from table group by name;</code></p>\n"},{"tags":["java","android-recyclerview","android-adapter"],"answers":[{"comments":[{"owner":{"account_id":27301107,"reputation":11,"user_id":20817865,"display_name":"yasyes"},"score":0,"creation_date":1671532809,"post_id":74856636,"comment_id":132114700,"body_markdown":"Thanks for you comment. Do you have an example for your second way? Maybe this should be the easiest one for my implementation but I don&#39;t know how to implement it. A small example would help me I guess.","body":"Thanks for you comment. Do you have an example for your second way? Maybe this should be the easiest one for my implementation but I don&#39;t know how to implement it. A small example would help me I guess."},{"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"score":0,"creation_date":1671575624,"post_id":74856636,"comment_id":132128006,"body_markdown":"Let&#39;s say you pass to the adapters another parameter, a functional interface with just a void OnCheckBoxSelected(), with no parameters (you could also add something if you need it). The adapter class will invoke this callback everytime a checkbox is selected (just append the invocation call to the onClickListener). Finally, just pass your management code as lambdas when you create the adapters (maybe () -&gt; {adapter2.uncheckAll() }; the unchekAll method will obviously need to be created)","body":"Let&#39;s say you pass to the adapters another parameter, a functional interface with just a void OnCheckBoxSelected(), with no parameters (you could also add something if you need it). The adapter class will invoke this callback everytime a checkbox is selected (just append the invocation call to the onClickListener). Finally, just pass your management code as lambdas when you create the adapters (maybe () -&gt; {adapter2.uncheckAll() }; the unchekAll method will obviously need to be created)"}],"tags":[],"owner":{"account_id":15206457,"reputation":133,"user_id":10972726,"display_name":"MichiBros"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671488533,"creation_date":1671488533,"answer_id":74856636,"question_id":74856546,"body_markdown":"You can go three ways with this:\r\n\r\nThe first, dirty way is to just pass one adapter to the other and viceversa, and when one has a checkbox event, it callbacks the other one.\r\n\r\nThe second way would be to implement some sort of interface. You said that both adapters are similar, so it shouldn&#39;t be a problem. This interface would have a single method, the callback to update the checkboxes. From the caller activity class, you should be able to manage them both (you could also be able to put them in an array, if you ever need to add more) and get callbacks from either one of the adapters.\r\n\r\nThe third and perhaps the cleanest way would be to merge the recylcerviews: since a recyclerview can display different kind of views (you just have to fiddle a bit with the onBindViewHolder method) it could be possible (depends on the situation, you haven&#39;t provided enough information for this to be possible or entirely ruled out) to use only one adapter class.","title":"How to select only one checkbox within 2 recyclerviews","body":"<p>You can go three ways with this:</p>\n<p>The first, dirty way is to just pass one adapter to the other and viceversa, and when one has a checkbox event, it callbacks the other one.</p>\n<p>The second way would be to implement some sort of interface. You said that both adapters are similar, so it shouldn't be a problem. This interface would have a single method, the callback to update the checkboxes. From the caller activity class, you should be able to manage them both (you could also be able to put them in an array, if you ever need to add more) and get callbacks from either one of the adapters.</p>\n<p>The third and perhaps the cleanest way would be to merge the recylcerviews: since a recyclerview can display different kind of views (you just have to fiddle a bit with the onBindViewHolder method) it could be possible (depends on the situation, you haven't provided enough information for this to be possible or entirely ruled out) to use only one adapter class.</p>\n"}],"owner":{"account_id":27301107,"reputation":11,"user_id":20817865,"display_name":"yasyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671488533,"creation_date":1671487733,"question_id":74856546,"body_markdown":"I got 2 recyclerviews on a fragment. Both recyclerviews contain items and checkboxes. Only a single checkbox should be selectable within the two recyclerviews.\r\nSo if a checkbox is selected, all other checkboxes should be switched off IN BOTH RECYCLERVIEWS etc..\r\n\r\n\r\nHere is my current code. \r\nthis code means that only one checkbox can currently be selected in each recyclerview.\r\n\r\nMy two recylcerviewadapters look like this (**NOTE: both a quiet identical so I&#39;m only posting one of them**):\r\n\r\n```\r\n@Override\r\npublic void onBindViewHolder(@NonNull NameViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n    //getting broadcast from 1st recyclerviewadapter\r\n    LocalBroadcastManager.getInstance(context).registerReceiver(mNameReceiver, new IntentFilter(&quot;checkbox_first_adapter&quot;));\r\n\r\n    String name = namesArrayList.get(position);\r\n\r\n    holder.nameView.setText(name);\r\n    \r\n    holder.checkBox.setVisibility(View.VISIBLE);\r\n\r\n    holder.checkBox.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            rowIndex = position;\r\n            notifyDataSetChanged();\r\n            //If checkbox is checked, send broadcast to 2nd recyclerviewadapter\r\n            sendCheckBoxBroadCast();\r\n            isClicked = true;\r\n        }\r\n    });\r\n\r\n\r\n    if (isCheckBoxChecked) {\r\n        holder.checkBox.setChecked(false);\r\n    }\r\n\r\n\r\n    if (!isClicked) {\r\n        if (selectedName != null) {\r\n            if (name.equals(selectedName.getName())) {\r\n                holder.checkBox.setChecked(true);\r\n                sendCheckBoxBroadCast();\r\n            }\r\n        }\r\n    } else {\r\n        if (rowIndex == position) {\r\n            holder.checkBox.setChecked(true);\r\n        } else {\r\n            holder.checkBox.setChecked(false);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\npublic BroadcastReceiver mNameReceiver = new BroadcastReceiver() {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        isCheckBoxChecked = intent.getBooleanExtra(&quot;isCheckBoxChecked&quot;, false);\r\n    }\r\n};\r\n\r\nprivate void sendCheckBoxBroadCast() {\r\n    Intent intent = new Intent(&quot;checkbox_second_adapter&quot;);\r\n    intent.putExtra(&quot;isCheckBoxChecked&quot;, true);\r\n    LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\r\n}\r\n\r\n```\r\n\r\nHow can I signal the 2nd recyclerview adapter that a checkbox has been selected so that it knows to unselect all checkboxes?","title":"How to select only one checkbox within 2 recyclerviews","body":"<p>I got 2 recyclerviews on a fragment. Both recyclerviews contain items and checkboxes. Only a single checkbox should be selectable within the two recyclerviews.\nSo if a checkbox is selected, all other checkboxes should be switched off IN BOTH RECYCLERVIEWS etc..</p>\n<p>Here is my current code.\nthis code means that only one checkbox can currently be selected in each recyclerview.</p>\n<p>My two recylcerviewadapters look like this (<strong>NOTE: both a quiet identical so I'm only posting one of them</strong>):</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull NameViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n    //getting broadcast from 1st recyclerviewadapter\n    LocalBroadcastManager.getInstance(context).registerReceiver(mNameReceiver, new IntentFilter(&quot;checkbox_first_adapter&quot;));\n\n    String name = namesArrayList.get(position);\n\n    holder.nameView.setText(name);\n    \n    holder.checkBox.setVisibility(View.VISIBLE);\n\n    holder.checkBox.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            rowIndex = position;\n            notifyDataSetChanged();\n            //If checkbox is checked, send broadcast to 2nd recyclerviewadapter\n            sendCheckBoxBroadCast();\n            isClicked = true;\n        }\n    });\n\n\n    if (isCheckBoxChecked) {\n        holder.checkBox.setChecked(false);\n    }\n\n\n    if (!isClicked) {\n        if (selectedName != null) {\n            if (name.equals(selectedName.getName())) {\n                holder.checkBox.setChecked(true);\n                sendCheckBoxBroadCast();\n            }\n        }\n    } else {\n        if (rowIndex == position) {\n            holder.checkBox.setChecked(true);\n        } else {\n            holder.checkBox.setChecked(false);\n        }\n    }\n\n}\n\n\npublic BroadcastReceiver mNameReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        isCheckBoxChecked = intent.getBooleanExtra(&quot;isCheckBoxChecked&quot;, false);\n    }\n};\n\nprivate void sendCheckBoxBroadCast() {\n    Intent intent = new Intent(&quot;checkbox_second_adapter&quot;);\n    intent.putExtra(&quot;isCheckBoxChecked&quot;, true);\n    LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\n}\n\n</code></pre>\n<p>How can I signal the 2nd recyclerview adapter that a checkbox has been selected so that it knows to unselect all checkboxes?</p>\n"},{"tags":["java","jpanel","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671359368,"post_id":74840466,"comment_id":132078915,"body_markdown":"Add the mouse listener to the image pane, not the scroll pane","body":"Add the mouse listener to the image pane, not the scroll pane"},{"owner":{"display_name":"user20807033"},"score":0,"creation_date":1671468255,"post_id":74840466,"comment_id":132100541,"body_markdown":"Thank you very much. It is working as I wanted to.","body":"Thank you very much. It is working as I wanted to."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671488531,"post_id":74840466,"comment_id":132106450,"body_markdown":"&quot;_If there is a better way to code the function, please tell me how, It will be much appreciated._&quot; This sounds more like a code review question than an SO question. You might want to take a look at [the codereview.stackexchange.com guidelines](https://codereview.meta.stackexchange.com/q/5777) to see if your question _later_ fits there instead.","body":"&quot;<i>If there is a better way to code the function, please tell me how, It will be much appreciated.</i>&quot; This sounds more like a code review question than an SO question. You might want to take a look at <a href=\"https://codereview.meta.stackexchange.com/q/5777\">the codereview.stackexchange.com guidelines</a> to see if your question <i>later</i> fits there instead."}],"owner":{"display_name":"user20807033"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671488495,"creation_date":1671357726,"question_id":74840466,"body_markdown":"I&#39;m trying to draw a rectangle onto a selected image when a mouse is dragged.\r\nIt seems that mouse listener is working but a rectangle is not drawn along the mouse drag.\r\n\r\nWhat my program will do is, open an image selection dialog when a &quot;click&quot; buttom is pressed then select an image(any). After the image is displayed on a new JPanel, click a mouse and drag it to draw a rectangle on the image.\r\n\r\nIf there is a better way to code the function, please tell me how, It will be much appreciated.\r\n\r\n```\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Graphics;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Toolkit;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.SwingUtilities;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Test extends JFrame {\r\n\tprivate JPanel panel;\r\n\tprivate GridBagLayout gbl;\r\n\tprivate GridBagConstraints gbc;\r\n\tprivate Rectangle draggingRectangle;\r\n\tprivate boolean dragging;\r\n\r\n\tpublic Test() {\r\n\t\tdragging = false;\r\n\t\tconstructPanel();\r\n\t}\r\n\r\n\tprivate void constructPanel() {\r\n\t\tsetBounds(0, 0, 400, 300);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tpanel = new JPanel();\r\n\t\tgbl = new GridBagLayout();\r\n\t\tpanel.setLayout(gbl);\r\n\t\tgbc = new GridBagConstraints();\r\n\r\n\t\tJButton imageButton = new JButton(&quot;Click&quot;);\r\n\t\timageButton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tJFileChooser jc = new JFileChooser();\r\n\t\t\t\tjc.setFileSelectionMode(JFileChooser.FILES_ONLY);\r\n\t\t\t\tif (jc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t\tdisplayImage(jc.getSelectedFile().getAbsolutePath());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tgbc.gridx = 1;\r\n\t\tgbc.gridy = 1;\r\n\t\tgbl.setConstraints(imageButton, gbc);\r\n\t\tpanel.add(imageButton);\r\n\t\tgetContentPane().add(panel, BorderLayout.CENTER);\r\n\t}\r\n\r\n\tprivate void displayImage(String filePath) {\r\n\t\tdraggingRectangle = new Rectangle(0, 0);\r\n\t\tdragging = false;\r\n\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tJScrollPane scrPane = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tJPanel imagePanel = new JPanel() {\r\n\t\t\t\t\t\tpublic void paintComponent(Graphics g) {\r\n\t\t\t\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\t\t\t\tg.drawImage(Toolkit.getDefaultToolkit().getImage(filePath), 0, 0, this);\r\n\r\n\t\t\t\t\t\t\t// g.setXORMode(Color.WHITE);\r\n\t\t\t\t\t\t\tg.setColor(Color.WHITE);\r\n\t\t\t\t\t\t\tif (dragging) {\r\n\t\t\t\t\t\t\t\tg.drawRect(draggingRectangle.x, draggingRectangle.y, draggingRectangle.width,\r\n\t\t\t\t\t\t\t\t\t\tdraggingRectangle.height);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tscrPane = new JScrollPane(imagePanel, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\r\n\t\t\t\t\t\t\tJScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n\r\n\t\t\t\t\tscrPane.addMouseListener(new MouseListener() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\t\t\t\tif (draggingRectangle != null) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;pressed&quot;);\r\n\t\t\t\t\t\t\t\tdraggingRectangle.setBounds(e.getX(), e.getY(), 0, 0);\r\n\t\t\t\t\t\t\t\timagePanel.repaint();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\t\t\t\tdragging = false;\r\n\t\t\t\t\t\t\tif (draggingRectangle != null) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;released&quot;);\r\n\t\t\t\t\t\t\t\tdraggingRectangle.setBounds(0, 0, 0, 0);\r\n\t\t\t\t\t\t\t\timagePanel.repaint();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tscrPane.addMouseMotionListener(new MouseMotionListener() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\t\t\t\tif (draggingRectangle != null) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;dragged&quot;);\r\n\t\t\t\t\t\t\t\tint x = (int) draggingRectangle.getX();\r\n\t\t\t\t\t\t\t\tint y = (int) draggingRectangle.getY();\r\n\t\t\t\t\t\t\t\tdraggingRectangle.setSize(e.getX() - x, e.getY() - y);\r\n\t\t\t\t\t\t\t\timagePanel.repaint();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO: handle exception\r\n\t\t\t\t}\r\n\r\n\t\t\t\tJFrame imageDisplay = new JFrame();\r\n\t\t\t\timageDisplay.add(scrPane);\r\n\t\t\t\timageDisplay.setSize(530, 200);\r\n\t\t\t\timageDisplay.setVisible(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Test().setVisible(true);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI inserted a debug code to check whether the mouse listener is working.\r\nand it&#39;s working.","title":"How to draw a rectangle when a mouse is dragged?","body":"<p>I'm trying to draw a rectangle onto a selected image when a mouse is dragged.\nIt seems that mouse listener is working but a rectangle is not drawn along the mouse drag.</p>\n<p>What my program will do is, open an image selection dialog when a &quot;click&quot; buttom is pressed then select an image(any). After the image is displayed on a new JPanel, click a mouse and drag it to draw a rectangle on the image.</p>\n<p>If there is a better way to code the function, please tell me how, It will be much appreciated.</p>\n<pre><code>\nimport java.awt.BorderLayout;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.Rectangle;\nimport java.awt.Toolkit;\nimport java.awt.Color;\n\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Test extends JFrame {\n    private JPanel panel;\n    private GridBagLayout gbl;\n    private GridBagConstraints gbc;\n    private Rectangle draggingRectangle;\n    private boolean dragging;\n\n    public Test() {\n        dragging = false;\n        constructPanel();\n    }\n\n    private void constructPanel() {\n        setBounds(0, 0, 400, 300);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        panel = new JPanel();\n        gbl = new GridBagLayout();\n        panel.setLayout(gbl);\n        gbc = new GridBagConstraints();\n\n        JButton imageButton = new JButton(&quot;Click&quot;);\n        imageButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFileChooser jc = new JFileChooser();\n                jc.setFileSelectionMode(JFileChooser.FILES_ONLY);\n                if (jc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {\n                    displayImage(jc.getSelectedFile().getAbsolutePath());\n                } else {\n                    return;\n                }\n            }\n        });\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        gbl.setConstraints(imageButton, gbc);\n        panel.add(imageButton);\n        getContentPane().add(panel, BorderLayout.CENTER);\n    }\n\n    private void displayImage(String filePath) {\n        draggingRectangle = new Rectangle(0, 0);\n        dragging = false;\n\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JScrollPane scrPane = null;\n                try {\n                    JPanel imagePanel = new JPanel() {\n                        public void paintComponent(Graphics g) {\n                            super.paintComponent(g);\n                            g.drawImage(Toolkit.getDefaultToolkit().getImage(filePath), 0, 0, this);\n\n                            // g.setXORMode(Color.WHITE);\n                            g.setColor(Color.WHITE);\n                            if (dragging) {\n                                g.drawRect(draggingRectangle.x, draggingRectangle.y, draggingRectangle.width,\n                                        draggingRectangle.height);\n                            }\n                        }\n                    };\n                    scrPane = new JScrollPane(imagePanel, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\n                            JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\n                    scrPane.addMouseListener(new MouseListener() {\n\n                        @Override\n                        public void mouseClicked(MouseEvent e) {\n                            // TODO Auto-generated method stub\n\n                        }\n\n                        @Override\n                        public void mousePressed(MouseEvent e) {\n                            if (draggingRectangle != null) {\n                                System.out.println(&quot;pressed&quot;);\n                                draggingRectangle.setBounds(e.getX(), e.getY(), 0, 0);\n                                imagePanel.repaint();\n                            }\n                        }\n\n                        @Override\n                        public void mouseReleased(MouseEvent e) {\n                            dragging = false;\n                            if (draggingRectangle != null) {\n                                System.out.println(&quot;released&quot;);\n                                draggingRectangle.setBounds(0, 0, 0, 0);\n                                imagePanel.repaint();\n                            }\n                        }\n\n                        @Override\n                        public void mouseEntered(MouseEvent e) {\n                            // TODO Auto-generated method stub\n\n                        }\n\n                        @Override\n                        public void mouseExited(MouseEvent e) {\n                            // TODO Auto-generated method stub\n\n                        }\n\n                    });\n                    \n                    scrPane.addMouseMotionListener(new MouseMotionListener() {\n\n                        @Override\n                        public void mouseDragged(MouseEvent e) {\n                            if (draggingRectangle != null) {\n                                System.out.println(&quot;dragged&quot;);\n                                int x = (int) draggingRectangle.getX();\n                                int y = (int) draggingRectangle.getY();\n                                draggingRectangle.setSize(e.getX() - x, e.getY() - y);\n                                imagePanel.repaint();\n                            }\n                        }\n\n                        @Override\n                        public void mouseMoved(MouseEvent e) {\n                            // TODO Auto-generated method stub\n                            \n                        }\n                        \n                    });\n                } catch (Exception e) {\n                    // TODO: handle exception\n                }\n\n                JFrame imageDisplay = new JFrame();\n                imageDisplay.add(scrPane);\n                imageDisplay.setSize(530, 200);\n                imageDisplay.setVisible(true);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        new Test().setVisible(true);\n    }\n}\n\n</code></pre>\n<p>I inserted a debug code to check whether the mouse listener is working.\nand it's working.</p>\n"},{"tags":["java","hibernate","derby","glassfish-4"],"comments":[{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1629120685,"post_id":23018836,"comment_id":121595613,"body_markdown":"Either you use NativeSQL or make sure to use the name of variable and tablename as classname if using JPQL.","body":"Either you use NativeSQL or make sure to use the name of variable and tablename as classname if using JPQL."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":3,"creation_date":1629135183,"post_id":23018836,"comment_id":121601934,"body_markdown":"If using JPQL then you use Class name and not table name otherwise this error can come.","body":"If using JPQL then you use Class name and not table name otherwise this error can come."}],"answers":[{"comments":[{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":2,"creation_date":1532608439,"post_id":23029128,"comment_id":90045411,"body_markdown":"Suggest open a new question... this is not an answer to the first question... or enhance your first question with &#39;Update&#39; keyword","body":"Suggest open a new question... this is not an answer to the first question... or enhance your first question with &#39;Update&#39; keyword"}],"tags":[],"owner":{"account_id":4309697,"reputation":2863,"user_id":3521167,"display_name":"Vlad Dobrydin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397298415,"creation_date":1397298415,"answer_id":23029128,"question_id":23018836,"body_markdown":"Problem partially was solved. Besides creating jdbc/resource(DB Derby) had to create JDBC Connection Pool for db resource in Glassfish admin console, and check it on pinging. Now all CRUD operation work just fine. I check, object Customer in database adding properly, update and delete too. But in Glassfish output log have same exception:\r\n&lt;br/&gt;\r\n \r\n\r\n    SEVERE:   org.hibernate.hql.internal.ast.QuerySyntaxException: CUSTOMERV is not mapped [select concat(first_name, &#39; &#39;, last_name) as name from CUSTOMERV]\r\n    \tat org.hibernate.hql.internal.ast.QuerySyntaxException.generateQueryException(QuerySyntaxException.java:96)\r\n    \tat org.hibernate.QueryException.wrapWithQueryString(QueryException.java:120)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:234)\r\n    \t.......\r\n \r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: CUSTOMERV is not mapped\r\n    \tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:189)\r\n    \tat org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:109)","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>Problem partially was solved. Besides creating jdbc/resource(DB Derby) had to create JDBC Connection Pool for db resource in Glassfish admin console, and check it on pinging. Now all CRUD operation work just fine. I check, object Customer in database adding properly, update and delete too. But in Glassfish output log have same exception:\n<br/></p>\n\n<pre><code>SEVERE:   org.hibernate.hql.internal.ast.QuerySyntaxException: CUSTOMERV is not mapped [select concat(first_name, ' ', last_name) as name from CUSTOMERV]\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.generateQueryException(QuerySyntaxException.java:96)\n    at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:120)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:234)\n    .......\n\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: CUSTOMERV is not mapped\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:189)\n    at org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:109)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"score":51,"creation_date":1397566328,"post_id":23083900,"comment_id":35280596,"body_markdown":"That may not be the reason. Select c from Customer c this is fine query as Customer is you class name and we should write class name in the query not the table name.Another thing in your hibernate.cfg.xml you have given both &lt;mapping resource and class&gt; only one would be fine. Please check with that.","body":"That may not be the reason. Select c from Customer c this is fine query as Customer is you class name and we should write class name in the query not the table name.Another thing in your hibernate.cfg.xml you have given both &lt;mapping resource and class&gt; only one would be fine. Please check with that."},{"owner":{"account_id":4162303,"reputation":1389,"user_id":3412127,"display_name":"Akah"},"score":7,"creation_date":1460560175,"post_id":23083900,"comment_id":60802176,"body_markdown":"Great, the single thing that worked for me was just using the class name well formatted rather than the database table name itself. I think Hibernate requires this to be able to do a proper mapping. It&#39;s a little confusing and not the usual way like with JDBC though, but i hope future versions try to like into this issue. It would be a plus to keep some style from JDBC for some of these query mechanisms.","body":"Great, the single thing that worked for me was just using the class name well formatted rather than the database table name itself. I think Hibernate requires this to be able to do a proper mapping. It&#39;s a little confusing and not the usual way like with JDBC though, but i hope future versions try to like into this issue. It would be a plus to keep some style from JDBC for some of these query mechanisms."},{"owner":{"account_id":6542893,"reputation":143,"user_id":5059735,"display_name":"Terry"},"score":4,"creation_date":1497346677,"post_id":23083900,"comment_id":76027423,"body_markdown":"Thanks. It worked for me. Actually it takes the entity/class name not the table name. For example : if your table name is CUSTOMER and your entity name is Customer, It will take Customer in the query as it is an HQL query.","body":"Thanks. It worked for me. Actually it takes the entity/class name not the table name. For example : if your table name is CUSTOMER and your entity name is Customer, It will take Customer in the query as it is an HQL query."}],"tags":[],"owner":{"account_id":4309697,"reputation":2863,"user_id":3521167,"display_name":"Vlad Dobrydin"},"comment_count":3,"down_vote_count":4,"up_vote_count":160,"is_accepted":true,"score":156,"last_activity_date":1440511601,"creation_date":1397565266,"answer_id":23083900,"question_id":23018836,"body_markdown":"Finally I found a mistake! Hope this is useful to someone. When doing a request to the database(in my case it Apache Derby), name of base need write the first letter upper case other in lower case.\r\n \r\nThis is wrong query:\r\n\r\n    session.createQuery(&quot;select first_name from CUSTOMERV&quot;).\r\n\r\nThis is valid query\r\n\r\n    session.createQuery(&quot;select first_name from Customerv&quot;). \r\n\r\nAnd class entity must be same name as database, but I&#39;m not sure.","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>Finally I found a mistake! Hope this is useful to someone. When doing a request to the database(in my case it Apache Derby), name of base need write the first letter upper case other in lower case.</p>\n\n<p>This is wrong query:</p>\n\n<pre><code>session.createQuery(\"select first_name from CUSTOMERV\").\n</code></pre>\n\n<p>This is valid query</p>\n\n<pre><code>session.createQuery(\"select first_name from Customerv\"). \n</code></pre>\n\n<p>And class entity must be same name as database, but I'm not sure.</p>\n"},{"tags":[],"owner":{"account_id":2086827,"reputation":81,"user_id":1857611,"display_name":"connectoram"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440511619,"creation_date":1439414228,"answer_id":31975575,"question_id":23018836,"body_markdown":"May be this will make it more clear, and of course makes sense too.\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    \r\n    /**\r\n     * \r\n     * @author Ram Srinvasan\r\n     * Use class name in NamedQuery\r\n     * Use table name in NamedNativeQuery\r\n     */\r\n    @NamedQueries({ @NamedQuery(name = &quot;findUserByName&quot;, query = &quot;from User u where u.name= :name&quot;) })\r\n    \r\n    @NamedNativeQueries({ @NamedNativeQuery(name = &quot;findUserByNameNativeSQL&quot;, query = &quot;select * from users u where u.name= :name&quot;, resultClass = User.class) })\r\n    public class User implements Principal {\r\n    ...\r\n    }\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>May be this will make it more clear, and of course makes sense too.</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\n\n/**\n * \n * @author Ram Srinvasan\n * Use class name in NamedQuery\n * Use table name in NamedNativeQuery\n */\n@NamedQueries({ @NamedQuery(name = \"findUserByName\", query = \"from User u where u.name= :name\") })\n\n@NamedNativeQueries({ @NamedNativeQuery(name = \"findUserByNameNativeSQL\", query = \"select * from users u where u.name= :name\", resultClass = User.class) })\npublic class User implements Principal {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4674704,"reputation":225,"user_id":3785458,"accept_rate":0,"display_name":"Siva kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478060515,"creation_date":1478060515,"answer_id":40372441,"question_id":23018836,"body_markdown":"There is one more chance to get this exception even we used class name i.e., if we have two classes with same name in different packages. we&#39;ll get this problem. \r\n\r\nI think hibernate may get ambiguity and throws this exception, so the solution is to use complete qualified name(like **com.test.Customerv**)\r\n\r\nI added this answer that will help in scenario as I mentioned. I got the same scenario got stuck for some time.","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>There is one more chance to get this exception even we used class name i.e., if we have two classes with same name in different packages. we'll get this problem. </p>\n\n<p>I think hibernate may get ambiguity and throws this exception, so the solution is to use complete qualified name(like <strong>com.test.Customerv</strong>)</p>\n\n<p>I added this answer that will help in scenario as I mentioned. I got the same scenario got stuck for some time.</p>\n"},{"comments":[{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":1,"creation_date":1511262118,"post_id":40764036,"comment_id":81776124,"body_markdown":"this was the case for me, while changing implementation to work with Oracle DB instead of Derby - with Derby, for some reason, declaring entities in persistence.xml was not necessary (it seemed logical to me, since entities were already annotated) (maybe that was because of an older driver (ojdbc6))","body":"this was the case for me, while changing implementation to work with Oracle DB instead of Derby - with Derby, for some reason, declaring entities in persistence.xml was not necessary (it seemed logical to me, since entities were already annotated) (maybe that was because of an older driver (ojdbc6))"}],"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1479902527,"creation_date":1479902527,"answer_id":40764036,"question_id":23018836,"body_markdown":"hibernate.cfg.xml file should have the mapping for the tables like below. Check if it is missing in your file.\r\n\r\n    ......\r\n    &lt;hibernate-configuration&gt;\r\n    ......\r\n    ......\r\n      &lt;session-factory&gt;\r\n    ......\r\n    &lt;mapping class=&quot;com.test.bean.dbBean.testTableHibernate&quot;/&gt;\r\n    ......\r\n     &lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n    .....","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>hibernate.cfg.xml file should have the mapping for the tables like below. Check if it is missing in your file.</p>\n\n<pre><code>......\n&lt;hibernate-configuration&gt;\n......\n......\n  &lt;session-factory&gt;\n......\n&lt;mapping class=\"com.test.bean.dbBean.testTableHibernate\"/&gt;\n......\n &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5708748,"reputation":989,"user_id":4511432,"display_name":"Sanjeev Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1559365650,"creation_date":1512347592,"answer_id":47624917,"question_id":23018836,"body_markdown":"in **HQL** query, Don&#39;t write the **Table name**, write your **Entity class name** in your query like  \r\n\r\n    String s = &quot;from Entity_class name&quot;;\r\n    query qry = session.createUqery(s);","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>in <strong>HQL</strong> query, Don't write the <strong>Table name</strong>, write your <strong>Entity class name</strong> in your query like  </p>\n\n<pre><code>String s = \"from Entity_class name\";\nquery qry = session.createUqery(s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7194983,"reputation":1072,"user_id":5494094,"display_name":"Ibrahim.H"},"score":0,"creation_date":1555176036,"post_id":50440869,"comment_id":98022430,"body_markdown":"I had this issue with micronaut when I forgot to change `packages-to-scan` in my `application.yml` config file.","body":"I had this issue with micronaut when I forgot to change <code>packages-to-scan</code> in my <code>application.yml</code> config file."}],"tags":[],"owner":{"account_id":2325826,"reputation":13961,"user_id":2040375,"accept_rate":98,"display_name":"Majid"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1555212061,"creation_date":1526865806,"answer_id":50440869,"question_id":23018836,"body_markdown":"Other persons that are using mapping classes for Hibernate, make sure that have addressed correctly to _model_ package in `sessionFactory` bean declaration in the following part:\r\n\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.mblog.model&quot;&gt;&lt;/property&gt;","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>Other persons that are using mapping classes for Hibernate, make sure that have addressed correctly to <em>model</em> package in <code>sessionFactory</code> bean declaration in the following part:</p>\n\n<pre><code>&lt;property name=\"packagesToScan\" value=\"com.mblog.model\"&gt;&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1532614770,"creation_date":1532614770,"answer_id":51541093,"question_id":23018836,"body_markdown":"None of the other solution worked for me.\r\n\r\nEven if I don&#39;t think its the best practice, I Had to **add it into the code** like this\r\n\r\n`configuration.addAnnotatedClass(com.myOrg.entities.Person.class);`\r\n\r\nhere\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n        Configuration configuration = new Configuration().configure();\r\n    \r\n        configuration.addAnnotatedClass(com.myOrg.entities.Person.class);\r\n    \r\n        StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder()\r\n                .applySettings(configuration.getProperties());\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory(builder.build());\r\n        return sessionFactory;\r\n    }\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>None of the other solution worked for me.</p>\n\n<p>Even if I don't think its the best practice, I Had to <strong>add it into the code</strong> like this</p>\n\n<p><code>configuration.addAnnotatedClass(com.myOrg.entities.Person.class);</code></p>\n\n<p>here</p>\n\n<pre><code>public static SessionFactory getSessionFactory() {\n    Configuration configuration = new Configuration().configure();\n\n    configuration.addAnnotatedClass(com.myOrg.entities.Person.class);\n\n    StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder()\n            .applySettings(configuration.getProperties());\n    SessionFactory sessionFactory = configuration.buildSessionFactory(builder.build());\n    return sessionFactory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534234281,"creation_date":1534234281,"answer_id":51836685,"question_id":23018836,"body_markdown":"If you by any chance using java for configuration, you may need to check the below `bean` declaration if you have package level changes. Eg: `com.abc.spring` package changed to `com.bbc.spring`  \r\n\r\n    @Bean\r\n        public SessionFactory sessionFactory() {\r\n    \r\n            LocalSessionFactoryBuilder builder = new LocalSessionFactoryBuilder(dataSource());\r\n            //builder.scanPackages(&quot;com.abc.spring&quot;);    //Comment this line as this package no longer valid.\r\n            builder.scanPackages(&quot;com.bbc.spring&quot;);\r\n            builder.addProperties(getHibernationProperties());\r\n    \r\n            return builder.buildSessionFactory();\r\n        }","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>If you by any chance using java for configuration, you may need to check the below <code>bean</code> declaration if you have package level changes. Eg: <code>com.abc.spring</code> package changed to <code>com.bbc.spring</code>  </p>\n\n<pre><code>@Bean\n    public SessionFactory sessionFactory() {\n\n        LocalSessionFactoryBuilder builder = new LocalSessionFactoryBuilder(dataSource());\n        //builder.scanPackages(\"com.abc.spring\");    //Comment this line as this package no longer valid.\n        builder.scanPackages(\"com.bbc.spring\");\n        builder.addProperties(getHibernationProperties());\n\n        return builder.buildSessionFactory();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7938451,"reputation":652,"user_id":5993488,"display_name":"Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538980910,"creation_date":1538980910,"answer_id":52696716,"question_id":23018836,"body_markdown":"Should use Entity class name for em.createQuery method\r\nor\r\nShould use em.createNativeQuery method for native query without entity class\r\n\r\n**With Entity class:**\r\n\r\n*em.createQuery(&quot;select first_name from CUSTOMERV&quot;)*\r\n\r\n**Without Entity class or Native query:**\r\n\r\n*em.createNativeQuery(&quot;select c.first_name from CUSTOMERV c&quot;)*","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>Should use Entity class name for em.createQuery method\nor\nShould use em.createNativeQuery method for native query without entity class</p>\n\n<p><strong>With Entity class:</strong></p>\n\n<p><em>em.createQuery(\"select first_name from CUSTOMERV\")</em></p>\n\n<p><strong>Without Entity class or Native query:</strong></p>\n\n<p><em>em.createNativeQuery(\"select c.first_name from CUSTOMERV c\")</em></p>\n"},{"comments":[{"owner":{"account_id":3504594,"reputation":3961,"user_id":2930417,"display_name":"hatanooh"},"score":0,"creation_date":1539137919,"post_id":52731603,"comment_id":92388430,"body_markdown":"shows how to config multiple datasource with springboot 2.","body":"shows how to config multiple datasource with springboot 2."}],"tags":[],"owner":{"account_id":3504594,"reputation":3961,"user_id":2930417,"display_name":"hatanooh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539137788,"creation_date":1539137245,"answer_id":52731603,"question_id":23018836,"body_markdown":"In my case: spring boot 2 ,multiple datasource(default and custom). `entityManager.createQuery` go wrong: &#39;entity is not mapped&#39;\r\n\r\nwhile debug, i find out that the entityManager&#39;s unitName is wrong(should be custom,but the fact is default)\r\nthe right way:\r\n\r\n    @PersistenceContext(unitName = &quot;customer1&quot;) // !important, \r\n\tprivate EntityManager em;\r\n\r\nthe `customer1` is from the second datasource config class:\r\n\r\n    @Bean(name = &quot;customer1EntityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n\t\t\t@Qualifier(&quot;customer1DataSource&quot;) DataSource dataSource) {\r\n\t\treturn builder.dataSource(dataSource).packages(&quot;com.xxx.customer1Datasource.model&quot;)\r\n\t\t\t\t.persistenceUnit(&quot;customer1&quot;)\r\n\t\t\t\t// PersistenceUnit injects an EntityManagerFactory, and PersistenceContext\r\n\t\t\t\t// injects an EntityManager.\r\n\t\t\t\t// It&#39;s generally better to use PersistenceContext unless you really need to\r\n\t\t\t\t// manage the EntityManager lifecycle manually.\r\n\t\t\t\t// 【4】\r\n\t\t\t\t.properties(jpaProperties.getHibernateProperties(new HibernateSettings())).build();\r\n\t}\r\n\r\nThen,the entityManager is right.\r\n\r\nBut, em.persist(entity) doesn&#39;t work,and the transaction doesn&#39;t work.\r\n\r\nAnother important point is:\r\n\r\n    @Transactional(&quot;customer1TransactionManager&quot;) // !important\r\n\tpublic Trade findNewestByJdpModified() {\r\n\t\t//test persist,working right!\r\n\t\tTrade t = new Trade();\r\n\t\tem.persist(t);\r\n\t\tlog.info(&quot;t.id&quot; + t.getSysTradeId());\r\n\r\n\t\t//test transactional, working right!\r\n\t\tint a = 3/0;\r\n\t}\r\n\r\n`customer1TransactionManager` is from the second datasource config class:\r\n\r\n    @Bean(name = &quot;customer1TransactionManager&quot;)\r\n\tpublic PlatformTransactionManager transactionManager(\r\n\t\t\t@Qualifier(&quot;customer1EntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n\t\treturn new JpaTransactionManager(entityManagerFactory);\r\n\t}\r\n\r\nThe whole second datasource config class is :\r\n\r\n    package com.lichendt.shops.sync;\r\n\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.sql.DataSource;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;customer1EntityManagerFactory&quot;, transactionManagerRef = &quot;customer1TransactionManager&quot;,\r\n    \t\t// 【1】这里写的是DAO层的路径 ，如果你的DAO放在 com.xx.DAO下面，则这里写成 com.xx.DAO\r\n    \t\tbasePackages = { &quot;com.lichendt.customer1Datasource.dao&quot; })\r\n    public class Custom1DBConfig {\r\n    \r\n    \t@Autowired\r\n    \tprivate JpaProperties jpaProperties;\r\n    \r\n    \t@Bean(name = &quot;customer1DatasourceProperties&quot;)\r\n    \t@Qualifier(&quot;customer1DatasourceProperties&quot;)\r\n    \t@ConfigurationProperties(prefix = &quot;customer1.datasource&quot;)\r\n    \tpublic DataSourceProperties customer1DataSourceProperties() {\r\n    \t\treturn new DataSourceProperties();\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;customer1DataSource&quot;)\r\n    \t@Qualifier(&quot;customer1DatasourceProperties&quot;)\r\n    \t@ConfigurationProperties(prefix = &quot;customer1.datasource&quot;) //\r\n    \t// 【2】datasource配置的前缀，对应上面 【mysql的yaml配置】\r\n    \tpublic DataSource dataSource() {\r\n    \t\t// return DataSourceBuilder.create().build();\r\n    \t\treturn customer1DataSourceProperties().initializeDataSourceBuilder().build();\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;customer1EntityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n    \t\t\t@Qualifier(&quot;customer1DataSource&quot;) DataSource dataSource) {\r\n    \t\treturn builder.dataSource(dataSource).packages(&quot;com.lichendt.customer1Datasource.model&quot;) // 【3】这里是实体类的包路径\r\n    \t\t\t\t.persistenceUnit(&quot;customer1&quot;)\r\n    \t\t\t\t// PersistenceUnit injects an EntityManagerFactory, and PersistenceContext\r\n    \t\t\t\t// injects an EntityManager.\r\n    \t\t\t\t// It&#39;s generally better to use PersistenceContext unless you really need to\r\n    \t\t\t\t// manage the EntityManager lifecycle manually.\r\n    \t\t\t\t// 【4】\r\n    \t\t\t\t.properties(jpaProperties.getHibernateProperties(new HibernateSettings())).build();\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;customer1TransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager transactionManager(\r\n    \t\t\t@Qualifier(&quot;customer1EntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n    \t\treturn new JpaTransactionManager(entityManagerFactory);\r\n    \t}\r\n    }\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>In my case: spring boot 2 ,multiple datasource(default and custom). <code>entityManager.createQuery</code> go wrong: 'entity is not mapped'</p>\n\n<p>while debug, i find out that the entityManager's unitName is wrong(should be custom,but the fact is default)\nthe right way:</p>\n\n<pre><code>@PersistenceContext(unitName = \"customer1\") // !important, \nprivate EntityManager em;\n</code></pre>\n\n<p>the <code>customer1</code> is from the second datasource config class:</p>\n\n<pre><code>@Bean(name = \"customer1EntityManagerFactory\")\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n        @Qualifier(\"customer1DataSource\") DataSource dataSource) {\n    return builder.dataSource(dataSource).packages(\"com.xxx.customer1Datasource.model\")\n            .persistenceUnit(\"customer1\")\n            // PersistenceUnit injects an EntityManagerFactory, and PersistenceContext\n            // injects an EntityManager.\n            // It's generally better to use PersistenceContext unless you really need to\n            // manage the EntityManager lifecycle manually.\n            // 【4】\n            .properties(jpaProperties.getHibernateProperties(new HibernateSettings())).build();\n}\n</code></pre>\n\n<p>Then,the entityManager is right.</p>\n\n<p>But, em.persist(entity) doesn't work,and the transaction doesn't work.</p>\n\n<p>Another important point is:</p>\n\n<pre><code>@Transactional(\"customer1TransactionManager\") // !important\npublic Trade findNewestByJdpModified() {\n    //test persist,working right!\n    Trade t = new Trade();\n    em.persist(t);\n    log.info(\"t.id\" + t.getSysTradeId());\n\n    //test transactional, working right!\n    int a = 3/0;\n}\n</code></pre>\n\n<p><code>customer1TransactionManager</code> is from the second datasource config class:</p>\n\n<pre><code>@Bean(name = \"customer1TransactionManager\")\npublic PlatformTransactionManager transactionManager(\n        @Qualifier(\"customer1EntityManagerFactory\") EntityManagerFactory entityManagerFactory) {\n    return new JpaTransactionManager(entityManagerFactory);\n}\n</code></pre>\n\n<p>The whole second datasource config class is :</p>\n\n<pre><code>package com.lichendt.shops.sync;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings;\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = \"customer1EntityManagerFactory\", transactionManagerRef = \"customer1TransactionManager\",\n        // 【1】这里写的是DAO层的路径 ，如果你的DAO放在 com.xx.DAO下面，则这里写成 com.xx.DAO\n        basePackages = { \"com.lichendt.customer1Datasource.dao\" })\npublic class Custom1DBConfig {\n\n    @Autowired\n    private JpaProperties jpaProperties;\n\n    @Bean(name = \"customer1DatasourceProperties\")\n    @Qualifier(\"customer1DatasourceProperties\")\n    @ConfigurationProperties(prefix = \"customer1.datasource\")\n    public DataSourceProperties customer1DataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = \"customer1DataSource\")\n    @Qualifier(\"customer1DatasourceProperties\")\n    @ConfigurationProperties(prefix = \"customer1.datasource\") //\n    // 【2】datasource配置的前缀，对应上面 【mysql的yaml配置】\n    public DataSource dataSource() {\n        // return DataSourceBuilder.create().build();\n        return customer1DataSourceProperties().initializeDataSourceBuilder().build();\n    }\n\n    @Bean(name = \"customer1EntityManagerFactory\")\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n            @Qualifier(\"customer1DataSource\") DataSource dataSource) {\n        return builder.dataSource(dataSource).packages(\"com.lichendt.customer1Datasource.model\") // 【3】这里是实体类的包路径\n                .persistenceUnit(\"customer1\")\n                // PersistenceUnit injects an EntityManagerFactory, and PersistenceContext\n                // injects an EntityManager.\n                // It's generally better to use PersistenceContext unless you really need to\n                // manage the EntityManager lifecycle manually.\n                // 【4】\n                .properties(jpaProperties.getHibernateProperties(new HibernateSettings())).build();\n    }\n\n    @Bean(name = \"customer1TransactionManager\")\n    public PlatformTransactionManager transactionManager(\n            @Qualifier(\"customer1EntityManagerFactory\") EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13785413,"reputation":74,"user_id":9949464,"display_name":"Subrahmanyam Janapamula"},"score":0,"creation_date":1578497854,"post_id":53044289,"comment_id":105459446,"body_markdown":"in which xml file?","body":"in which xml file?"},{"owner":{"account_id":6167064,"reputation":453,"user_id":4806592,"display_name":"Karan"},"score":0,"creation_date":1684071248,"post_id":53044289,"comment_id":134459921,"body_markdown":"@SubrahmanyamJanapamula  - if u are using springboot and JPA , no need of any xml file mappings","body":"@SubrahmanyamJanapamula  - if u are using springboot and JPA , no need of any xml file mappings"}],"tags":[],"owner":{"account_id":13665347,"reputation":63,"user_id":9859395,"display_name":"Debiprasad Behera"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1540811610,"creation_date":1540811610,"answer_id":53044289,"question_id":23018836,"body_markdown":"It means your table is not mapped to the JPA.\r\nEither Name of the table is wrong (Maybe case sensitive), or you need to put an entry in the XML file.\r\n\r\nHappy Coding :)\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>It means your table is not mapped to the JPA.\nEither Name of the table is wrong (Maybe case sensitive), or you need to put an entry in the XML file.</p>\n\n<p>Happy Coding :)</p>\n"},{"tags":[],"owner":{"account_id":4090960,"reputation":1295,"user_id":3358937,"accept_rate":100,"display_name":"Cjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1543818544,"creation_date":1543818544,"answer_id":53588561,"question_id":23018836,"body_markdown":"If you are using the JPA annotations to create the entities and then make sure that the table name is mapped along with @Table annotation instead of @Entity.\r\n\r\nIncorrectly mapped :\r\n\r\n    @Entity(name=&quot;DB_TABLE_NAME&quot;)\r\n    public class DbTableName implements Serializable {\r\n       ....\r\n       ....\r\n    }\r\n\r\nCorrectly mapped entity :\r\n\r\n    @Entity\r\n    @Table(name=&quot;DB_TABLE_NAME&quot;)\r\n    public class DbTableName implements Serializable {\r\n       ....\r\n       ....\r\n    }\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>If you are using the JPA annotations to create the entities and then make sure that the table name is mapped along with @Table annotation instead of @Entity.</p>\n\n<p>Incorrectly mapped :</p>\n\n<pre><code>@Entity(name=\"DB_TABLE_NAME\")\npublic class DbTableName implements Serializable {\n   ....\n   ....\n}\n</code></pre>\n\n<p>Correctly mapped entity :</p>\n\n<pre><code>@Entity\n@Table(name=\"DB_TABLE_NAME\")\npublic class DbTableName implements Serializable {\n   ....\n   ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15350257,"reputation":87,"user_id":11074246,"display_name":"Kshitiz Bathwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551945141,"creation_date":1551945141,"answer_id":55038629,"question_id":23018836,"body_markdown":"In Apache Derby DB, refrain from using table names as &quot;user&quot; or so because they are reserved keywords on Apache Derby but will work fine on MySql.\r\n\r\nIn the Query, you must specify the name of the Entity class that you want to fetch the data from in the FROM clause of the Query.\r\n\r\n    List&lt;User&gt; users=session.createQuery(&quot;from User&quot;).list();\r\n\r\nHere, User is the name of my Java Entity class(Consider the casing of the name as in Java it matters.)","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>In Apache Derby DB, refrain from using table names as \"user\" or so because they are reserved keywords on Apache Derby but will work fine on MySql.</p>\n\n<p>In the Query, you must specify the name of the Entity class that you want to fetch the data from in the FROM clause of the Query.</p>\n\n<pre><code>List&lt;User&gt; users=session.createQuery(\"from User\").list();\n</code></pre>\n\n<p>Here, User is the name of my Java Entity class(Consider the casing of the name as in Java it matters.)</p>\n"},{"tags":[],"owner":{"account_id":6586440,"reputation":656,"user_id":5089072,"display_name":"raj240"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556614787,"creation_date":1556614787,"answer_id":55917370,"question_id":23018836,"body_markdown":"I too have faced similar issue when i started to work on Hibernate. All in all i can say is in the createQuery one needs to pass the name of the entity class not the table name to which the entity is mapped to.","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>I too have faced similar issue when i started to work on Hibernate. All in all i can say is in the createQuery one needs to pass the name of the entity class not the table name to which the entity is mapped to.</p>\n"},{"tags":[],"owner":{"account_id":916656,"reputation":922,"user_id":949309,"display_name":"ITisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1596461227,"creation_date":1572518109,"answer_id":58641470,"question_id":23018836,"body_markdown":"In my case I just forgot to add `nativeQuery = true`\r\n\r\n    @Query( value = &quot;some sql query ...&quot;, nativeQuery = true)\r\n\r\nFor Spring Boot with Spring Data JPA","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>In my case I just forgot to add <code>nativeQuery = true</code></p>\n<pre><code>@Query( value = &quot;some sql query ...&quot;, nativeQuery = true)\n</code></pre>\n<p>For Spring Boot with Spring Data JPA</p>\n"},{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582600925,"creation_date":1582600925,"answer_id":60387064,"question_id":23018836,"body_markdown":"Another solution that worked:\r\n\r\nThe data access object that actually throwed this exception is\r\n\r\n    public List&lt;Foo&gt; findAll() {\r\n        return sessionFactory.getCurrentSession().createQuery(&quot;from foo&quot;).list();\r\n    }\r\n\r\nThe mistake I did in the above snippet is that I have used the table name foo inside createQuery. Instead, I got to use Foo, the actual class name.\r\n\r\n    public List&lt;Foo&gt; findAll() {\r\n        return sessionFactory.getCurrentSession().createQuery(&quot;from Foo&quot;).list();\r\n\r\nThanks to this blog: https://www.arundhaj.com/blog/querysyntaxexception-not-mapped.html","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>Another solution that worked:</p>\n\n<p>The data access object that actually throwed this exception is</p>\n\n<pre><code>public List&lt;Foo&gt; findAll() {\n    return sessionFactory.getCurrentSession().createQuery(\"from foo\").list();\n}\n</code></pre>\n\n<p>The mistake I did in the above snippet is that I have used the table name foo inside createQuery. Instead, I got to use Foo, the actual class name.</p>\n\n<pre><code>public List&lt;Foo&gt; findAll() {\n    return sessionFactory.getCurrentSession().createQuery(\"from Foo\").list();\n</code></pre>\n\n<p>Thanks to this blog: <a href=\"https://www.arundhaj.com/blog/querysyntaxexception-not-mapped.html\" rel=\"nofollow noreferrer\">https://www.arundhaj.com/blog/querysyntaxexception-not-mapped.html</a></p>\n"},{"tags":[],"owner":{"account_id":16202146,"reputation":1348,"user_id":11698284,"display_name":"Madhusanka Edirimanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585925202,"creation_date":1585923498,"answer_id":61013912,"question_id":23018836,"body_markdown":"Other persons that are using mapping classes for Hibernate, make sure that have addressed correctly to model package in sessionFactory bean declaration in the following part:\r\n\r\n\r\n\r\n\r\n    public List&lt;Book&gt; list() {\r\n\t\tList&lt;Book&gt; list=SessionFactory.getCurrentSession().createQuery(&quot;from book&quot;).list();\r\n\t\treturn list;\r\n\t}\r\n\r\nThe mistake I did in the above snippet is that I have used the table name foo inside createQuery. Instead, I got to use Foo, the actual class name.\r\n\r\n\r\n\r\n    public List&lt;Book&gt; list() {                                                                               \r\n        List&lt;Book&gt; list=SessionFactory.getCurrentSession().createQuery(&quot;from Book&quot;).list();\r\n\t\treturn list;\r\n\t}\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>Other persons that are using mapping classes for Hibernate, make sure that have addressed correctly to model package in sessionFactory bean declaration in the following part:</p>\n\n<pre><code>public List&lt;Book&gt; list() {\n    List&lt;Book&gt; list=SessionFactory.getCurrentSession().createQuery(\"from book\").list();\n    return list;\n}\n</code></pre>\n\n<p>The mistake I did in the above snippet is that I have used the table name foo inside createQuery. Instead, I got to use Foo, the actual class name.</p>\n\n<pre><code>public List&lt;Book&gt; list() {                                                                               \n    List&lt;Book&gt; list=SessionFactory.getCurrentSession().createQuery(\"from Book\").list();\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13786368,"reputation":311,"user_id":9950157,"display_name":"Shiwantha Viraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669612770,"creation_date":1600973291,"answer_id":64052595,"question_id":23018836,"body_markdown":"add parameter nativeQuery = true\r\n\r\nex:\r\n```\r\n@Query(value=&quot;Update user set user_name =:user_name,password =:password where user_id =:user_id&quot;,nativeQuery = true)\r\n```","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>add parameter nativeQuery = true</p>\n<p>ex:</p>\n<pre><code>@Query(value=&quot;Update user set user_name =:user_name,password =:password where user_id =:user_id&quot;,nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1645217996,"creation_date":1645217996,"answer_id":71179781,"question_id":23018836,"body_markdown":"In Hibernate,\r\n\r\n    session.createQuery(&quot;select first_name from Customerv&quot;). \r\n\r\nThe `Customerv` is your **Entity Name**, not your **Table Name**\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>In Hibernate,</p>\n<pre><code>session.createQuery(&quot;select first_name from Customerv&quot;). \n</code></pre>\n<p>The <code>Customerv</code> is your <strong>Entity Name</strong>, not your <strong>Table Name</strong></p>\n"},{"tags":[],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666276928,"creation_date":1666276928,"answer_id":74141796,"question_id":23018836,"body_markdown":"The mistake in my case is that I used `session.createQuery()` instead of `session.createSQLQuery()`","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>The mistake in my case is that I used <code>session.createQuery()</code> instead of <code>session.createSQLQuery()</code></p>\n"},{"tags":[],"owner":{"account_id":22326816,"reputation":41,"user_id":16548722,"display_name":"Spilvergo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671488478,"creation_date":1671488478,"answer_id":74856629,"question_id":23018836,"body_markdown":"in my case was that i forgot the &quot;nativeQuery = true&quot;","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>in my case was that i forgot the &quot;nativeQuery = true&quot;</p>\n"}],"owner":{"account_id":4309697,"reputation":2863,"user_id":3521167,"display_name":"Vlad Dobrydin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385093,"favorite_count":0,"down_vote_count":0,"up_vote_count":127,"accepted_answer_id":23083900,"answer_count":22,"score":127,"last_activity_date":1671488478,"creation_date":1397236841,"question_id":23018836,"body_markdown":"I have example web application Hibernate 4.3.5 + Derby database 10.10.1.1+ Glassfish4.0 with IDE NetBeans 8.0Beta.\r\n\r\nI have the next exception:\r\n\r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: CUSTOMERV is not mapped\r\n\tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:189)\r\n\tat org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:109)\r\n\tat org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:95)\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:331)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3633)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3522)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:706)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:562)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:299)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:247)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:278)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:206)\r\n\t... 72 more \r\n\r\n**Form from index.xhtml**\r\n&lt;br/&gt;     \r\n    \r\n    &lt;h:panelGrid id=&quot;panel1&quot; columns=&quot;2&quot; border=&quot;1&quot;\r\n                     cellpadding=&quot;5&quot; cellspacing=&quot;1&quot;&gt;\r\n            &lt;f:facet name=&quot;header&quot;&gt;\r\n                &lt;h:outputText value=&quot;Add Customer Information&quot;/&gt;\r\n            &lt;/f:facet&gt;\r\n            &lt;h:outputLabel value=&quot;First Name:&quot;/&gt;\r\n            &lt;h:inputText value=&quot;#{customer.firstName}&quot; id=&quot;fn&quot;/&gt;\r\n            &lt;h:outputLabel value=&quot;Last Name:&quot;/&gt;\r\n            &lt;h:inputText value=&quot;#{customer.lastName}&quot; id=&quot;ln&quot;/&gt;\r\n            &lt;h:outputLabel value=&quot;Email:&quot;/&gt;\r\n            &lt;h:inputText value=&quot;#{customer.email}&quot; id=&quot;eml&quot;/&gt;\r\n            &lt;h:outputLabel value=&quot;Date of Birth:&quot;/&gt;\r\n            &lt;h:inputText value=&quot;#{customer.sd}&quot; id=&quot;s&quot;/&gt;\r\n            &lt;f:facet name=&quot;footer&quot;&gt;\r\n                &lt;h:outputLabel value=&quot;#{customer.msg}&quot; id=&quot;msg&quot; styleClass=&quot;msg&quot;/&gt;\r\n                &lt;h:commandButton value=&quot;Save&quot; action=&quot;#{customer.saveCustomer}&quot;&gt;\r\n                &lt;/h:commandButton&gt;\r\n            &lt;/f:facet&gt;\r\n        &lt;/h:panelGrid&gt; \r\n\r\n  **Customer.java**\r\n    &lt;br/&gt;\r\n    \r\n        package com.javaknowledge.entity;\r\n    \r\n        import com.javaknowledge.dao.CustomerDao;\r\n        import java.text.ParseException;\r\n        import java.text.SimpleDateFormat;\r\n        import java.util.ArrayList;\r\n        import java.util.Date;\r\n        import java.util.List;\r\n        import javax.faces.bean.ManagedBean;\r\n        import javax.faces.bean.SessionScoped;\r\n        import javax.persistence.*;    \r\n    \r\n        @ManagedBean\r\n        @SessionScoped\r\n    \r\n        public class Customer implements java.io.Serializable {\r\n        \r\n        private Integer custId;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n        private Date dob;\r\n        private String sd, msg, selectedname;\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n     \r\n       \r\n        public Customer() {\r\n        }\r\n     \r\n        public Customer(String firstName, String lastName, String email, Date dob) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.email = email;\r\n            this.dob = dob;\r\n        }\r\n     \r\n        public String getSd() {\r\n            return sd;\r\n        }\r\n     \r\n        public void setSd(String sd) {\r\n            this.sd = sd;\r\n        }\r\n        \r\n        public Integer getCustId() {\r\n            return this.custId;\r\n        }\r\n     \r\n        public void setCustId(Integer custId) {\r\n            this.custId = custId;\r\n        }\r\n        \r\n        public String getFirstName() {\r\n            return this.firstName;\r\n        }\r\n     \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n        \r\n        public String getLastName() {\r\n            return this.lastName;\r\n        }\r\n     \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n        @Column(name = &quot;EMAIL&quot;)\r\n        public String getEmail() {\r\n            return this.email;\r\n        }\r\n     \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n     \r\n        @Column(name = &quot;DOB&quot;)\r\n        public Date getDob() {\r\n            return this.dob;\r\n        }\r\n     \r\n        public void setDob(Date dob) {\r\n            this.dob = dob;\r\n        }\r\n     \r\n        public String getMsg() {\r\n            return msg;\r\n        }\r\n     \r\n        public void setMsg(String msg) {\r\n            this.msg = msg;\r\n        }\r\n     \r\n        public String getSelectedname() {\r\n            return selectedname;\r\n        }\r\n     \r\n        public void setSelectedname(String selectedname) {\r\n            this.selectedname = selectedname;\r\n        }\r\n     \r\n        public void saveCustomer() {\r\n            try {\r\n                Date d = sdf.parse(sd);\r\n                System.out.println(d);\r\n                this.dob = d;\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            CustomerDao dao = new CustomerDao();\r\n            dao.addCustomer(this);\r\n            this.msg = &quot;Member Info Saved Successfull!&quot;;\r\n            clearAll();\r\n        }\r\n        public void updateCustomer() {\r\n            try {\r\n                Date d = sdf.parse(sd);\r\n                System.out.println(d);\r\n                this.dob = d;\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            CustomerDao dao = new CustomerDao();\r\n            dao.updateCustomer(this);\r\n            this.msg = &quot;Member Info Update Successfull!&quot;;\r\n            clearAll();\r\n        }\r\n        public void deleteCustomer() {\r\n            CustomerDao dao = new CustomerDao();\r\n            dao.deleteCustomer(custId);\r\n            this.msg = &quot;Member Info Delete Successfull!&quot;;\r\n            clearAll();\r\n        }\r\n     \r\n        public List&lt;Customer&gt; getAllCustomers() {\r\n            List&lt;Customer&gt; users = new ArrayList&lt;Customer&gt;();\r\n            CustomerDao dao = new CustomerDao();\r\n            users = dao.getAllCustomers();\r\n            return users;\r\n        }\r\n     \r\n        public void fullInfo() {\r\n            CustomerDao dao = new CustomerDao();\r\n            List&lt;Customer&gt; lc = dao.getCustomerById(selectedname);\r\n            System.out.println(lc.get(0).firstName);\r\n            this.custId = lc.get(0).custId;\r\n            this.firstName = lc.get(0).firstName;\r\n            this.lastName = lc.get(0).lastName;\r\n            this.email = lc.get(0).email;\r\n            this.dob = lc.get(0).dob;\r\n            this.sd = sdf.format(dob);\r\n        }\r\n     \r\n        private void clearAll() {\r\n            this.firstName = &quot;&quot;;\r\n            this.lastName = &quot;&quot;;\r\n            this.sd = &quot;&quot;;\r\n            this.email = &quot;&quot;;\r\n            this.custId=0;\r\n        }\r\n      \r\n       }\r\n\r\n**hibernate.cfg.xml**\r\n&lt;br/&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.DerbyDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.apache.derby.jdbc.ClientDriver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:derby://localhost:1527/derbyDB&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;user1&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;user1&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n     \r\n        &lt;property name=&quot;c3p0.min_size&quot;&gt;1&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.max_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.idle_test_period&quot;&gt;300&lt;/property&gt;\r\n        \r\n        &lt;mapping class=&quot;com.javaknowledge.entity.Customer&quot; resource=&quot;com/javaknowledge/entity/Customer.hbm.xml&quot;/&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n \r\n**Customer.hbm.xml**\r\n&lt;br/&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping&gt;\r\n      &lt;class name=&quot;com.javaknowledge.entity.Customer&quot; table=&quot;CUSTOMERV&quot; schema=&quot;APP&quot;&gt;\r\n            &lt;id name=&quot;custId&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n                &lt;column name=&quot;cust_id&quot; /&gt;\r\n                &lt;generator class=&quot;increment&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;firstName&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;first_name&quot; length=&quot;45&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;lastName&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;last_name&quot; length=&quot;45&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;email&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;email&quot; length=&quot;45&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;dob&quot; type=&quot;date&quot;&gt;\r\n                &lt;column name=&quot;dob&quot; length=&quot;10&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/property&gt;\r\n       &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n    ","title":"org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped","body":"<p>I have example web application Hibernate 4.3.5 + Derby database 10.10.1.1+ Glassfish4.0 with IDE NetBeans 8.0Beta.</p>\n\n<p>I have the next exception:</p>\n\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: CUSTOMERV is not mapped\nat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:189)\nat org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:109)\nat org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:95)\nat org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:331)\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3633)\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3522)\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:706)\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:562)\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:299)\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:247)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:278)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:206)\n... 72 more \n</code></pre>\n\n<p><strong>Form from index.xhtml</strong>\n<br/>     </p>\n\n<pre><code>&lt;h:panelGrid id=\"panel1\" columns=\"2\" border=\"1\"\n                 cellpadding=\"5\" cellspacing=\"1\"&gt;\n        &lt;f:facet name=\"header\"&gt;\n            &lt;h:outputText value=\"Add Customer Information\"/&gt;\n        &lt;/f:facet&gt;\n        &lt;h:outputLabel value=\"First Name:\"/&gt;\n        &lt;h:inputText value=\"#{customer.firstName}\" id=\"fn\"/&gt;\n        &lt;h:outputLabel value=\"Last Name:\"/&gt;\n        &lt;h:inputText value=\"#{customer.lastName}\" id=\"ln\"/&gt;\n        &lt;h:outputLabel value=\"Email:\"/&gt;\n        &lt;h:inputText value=\"#{customer.email}\" id=\"eml\"/&gt;\n        &lt;h:outputLabel value=\"Date of Birth:\"/&gt;\n        &lt;h:inputText value=\"#{customer.sd}\" id=\"s\"/&gt;\n        &lt;f:facet name=\"footer\"&gt;\n            &lt;h:outputLabel value=\"#{customer.msg}\" id=\"msg\" styleClass=\"msg\"/&gt;\n            &lt;h:commandButton value=\"Save\" action=\"#{customer.saveCustomer}\"&gt;\n            &lt;/h:commandButton&gt;\n        &lt;/f:facet&gt;\n    &lt;/h:panelGrid&gt; \n</code></pre>\n\n<p><strong>Customer.java</strong>\n    <br/></p>\n\n<pre><code>    package com.javaknowledge.entity;\n\n    import com.javaknowledge.dao.CustomerDao;\n    import java.text.ParseException;\n    import java.text.SimpleDateFormat;\n    import java.util.ArrayList;\n    import java.util.Date;\n    import java.util.List;\n    import javax.faces.bean.ManagedBean;\n    import javax.faces.bean.SessionScoped;\n    import javax.persistence.*;    \n\n    @ManagedBean\n    @SessionScoped\n\n    public class Customer implements java.io.Serializable {\n\n    private Integer custId;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private Date dob;\n    private String sd, msg, selectedname;\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n\n    public Customer() {\n    }\n\n    public Customer(String firstName, String lastName, String email, Date dob) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.dob = dob;\n    }\n\n    public String getSd() {\n        return sd;\n    }\n\n    public void setSd(String sd) {\n        this.sd = sd;\n    }\n\n    public Integer getCustId() {\n        return this.custId;\n    }\n\n    public void setCustId(Integer custId) {\n        this.custId = custId;\n    }\n\n    public String getFirstName() {\n        return this.firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return this.lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    @Column(name = \"EMAIL\")\n    public String getEmail() {\n        return this.email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Column(name = \"DOB\")\n    public Date getDob() {\n        return this.dob;\n    }\n\n    public void setDob(Date dob) {\n        this.dob = dob;\n    }\n\n    public String getMsg() {\n        return msg;\n    }\n\n    public void setMsg(String msg) {\n        this.msg = msg;\n    }\n\n    public String getSelectedname() {\n        return selectedname;\n    }\n\n    public void setSelectedname(String selectedname) {\n        this.selectedname = selectedname;\n    }\n\n    public void saveCustomer() {\n        try {\n            Date d = sdf.parse(sd);\n            System.out.println(d);\n            this.dob = d;\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        CustomerDao dao = new CustomerDao();\n        dao.addCustomer(this);\n        this.msg = \"Member Info Saved Successfull!\";\n        clearAll();\n    }\n    public void updateCustomer() {\n        try {\n            Date d = sdf.parse(sd);\n            System.out.println(d);\n            this.dob = d;\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        CustomerDao dao = new CustomerDao();\n        dao.updateCustomer(this);\n        this.msg = \"Member Info Update Successfull!\";\n        clearAll();\n    }\n    public void deleteCustomer() {\n        CustomerDao dao = new CustomerDao();\n        dao.deleteCustomer(custId);\n        this.msg = \"Member Info Delete Successfull!\";\n        clearAll();\n    }\n\n    public List&lt;Customer&gt; getAllCustomers() {\n        List&lt;Customer&gt; users = new ArrayList&lt;Customer&gt;();\n        CustomerDao dao = new CustomerDao();\n        users = dao.getAllCustomers();\n        return users;\n    }\n\n    public void fullInfo() {\n        CustomerDao dao = new CustomerDao();\n        List&lt;Customer&gt; lc = dao.getCustomerById(selectedname);\n        System.out.println(lc.get(0).firstName);\n        this.custId = lc.get(0).custId;\n        this.firstName = lc.get(0).firstName;\n        this.lastName = lc.get(0).lastName;\n        this.email = lc.get(0).email;\n        this.dob = lc.get(0).dob;\n        this.sd = sdf.format(dob);\n    }\n\n    private void clearAll() {\n        this.firstName = \"\";\n        this.lastName = \"\";\n        this.sd = \"\";\n        this.email = \"\";\n        this.custId=0;\n    }\n\n   }\n</code></pre>\n\n<p><strong>hibernate.cfg.xml</strong>\n<br/></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.DerbyDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;org.apache.derby.jdbc.ClientDriver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:derby://localhost:1527/derbyDB&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;user1&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;user1&lt;/property&gt;\n    &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n    &lt;property name=\"c3p0.min_size\"&gt;1&lt;/property&gt;\n    &lt;property name=\"c3p0.max_size\"&gt;5&lt;/property&gt;\n    &lt;property name=\"c3p0.timeout\"&gt;300&lt;/property&gt;\n    &lt;property name=\"c3p0.max_statements\"&gt;50&lt;/property&gt;\n    &lt;property name=\"c3p0.idle_test_period\"&gt;300&lt;/property&gt;\n\n    &lt;mapping class=\"com.javaknowledge.entity.Customer\" resource=\"com/javaknowledge/entity/Customer.hbm.xml\"/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>Customer.hbm.xml</strong>\n<br/></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\"&gt;\n&lt;hibernate-mapping&gt;\n  &lt;class name=\"com.javaknowledge.entity.Customer\" table=\"CUSTOMERV\" schema=\"APP\"&gt;\n        &lt;id name=\"custId\" type=\"java.lang.Integer\"&gt;\n            &lt;column name=\"cust_id\" /&gt;\n            &lt;generator class=\"increment\" /&gt;\n        &lt;/id&gt;\n        &lt;property name=\"firstName\" type=\"string\"&gt;\n            &lt;column name=\"first_name\" length=\"45\" not-null=\"true\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"lastName\" type=\"string\"&gt;\n            &lt;column name=\"last_name\" length=\"45\" not-null=\"true\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"email\" type=\"string\"&gt;\n            &lt;column name=\"email\" length=\"45\" not-null=\"true\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"dob\" type=\"date\"&gt;\n            &lt;column name=\"dob\" length=\"10\" not-null=\"true\" /&gt;\n        &lt;/property&gt;\n   &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1671477448,"post_id":74854817,"comment_id":132103483,"body_markdown":"Hi. Besides `timer.cancel()` you should use `timer.purge()` as well. Check these answers: https://stackoverflow.com/a/16100989/20666497 and https://stackoverflow.com/a/1409132/20666497","body":"Hi. Besides <code>timer.cancel()</code> you should use <code>timer.purge()</code> as well. Check these answers: <a href=\"https://stackoverflow.com/a/16100989/20666497\">stackoverflow.com/a/16100989/20666497</a> and <a href=\"https://stackoverflow.com/a/1409132/20666497\">stackoverflow.com/a/1409132/20666497</a>"},{"owner":{"account_id":27282594,"reputation":1,"user_id":20802275,"display_name":"DraggyCords cords"},"score":0,"creation_date":1671479409,"post_id":74854817,"comment_id":132103982,"body_markdown":"This not work , im try , i don&#39;t know where im must use this ? If im use timer cancel then my time schedule just stopped and I dont need this because my loop must have hp = 0 to cancel time, im try using , time.purge but I dont know how this is resolve my problem with public run void, ? Im try cancel public void and again load loop to get int hp = 0","body":"This not work , im try , i don&#39;t know where im must use this ? If im use timer cancel then my time schedule just stopped and I dont need this because my loop must have hp = 0 to cancel time, im try using , time.purge but I dont know how this is resolve my problem with public run void, ? Im try cancel public void and again load loop to get int hp = 0"}],"owner":{"account_id":27282594,"reputation":1,"user_id":20802275,"display_name":"DraggyCords cords"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671488018,"creation_date":1671475916,"question_id":74854817,"body_markdown":"How I can stoped or canceled my timertask void ? \r\nBecause TimerTask void stopped my loop and I don&#39;t know how I can resolve my problem.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.util.Random;\r\n\r\n\r\n\r\n\r\n\r\npublic class Main {\r\n\tpublic static void main(String [] args) throws Exception {\r\n\t\tint hp = 10;\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t\tdo{\r\n\t        Random los = new Random();\r\n\t        int pc = 1 + los.nextInt(6);\r\n\t\t    TimerTask zd = new TimerTask(){\r\n\t\t        public void run(){\r\n\t    \t        System.out.println(&quot;Czas off&quot;);\r\n\t\t            System.out.println(&quot;5 sek&quot;);\r\n\t\t            \t\t            \r\n\t\t         } \r\n\t\t                 \r\n\t        };\r\n\t\t    Timer czas = new Timer();\r\n\t\t    czas.schedule(zd, 5 * 1000);\r\n\t\t    System.out.println(&quot;5 sek na odp&quot;);\r\n\t\t   \r\n\t\t    String odp = sc.nextLine();\r\n\t\t    switch(odp){\r\n\t\t        case &quot;atk&quot;:\r\n\t\t            System.out.println(&quot;oo tak&quot;);\r\n\t\t             hp = hp - pc;\r\n\t\t            System.out.println(&quot;hp spadlo o &quot; + pc + &quot; &quot;  + &quot; wynosi &quot; + hp);\r\n\t\t           \t                \t\t               \r\n\t\t            break;\r\n\t\t        default:\r\n\t\t            System.out.println(&quot;zle&quot;);\r\n\t\t               \r\n\t\t            hp = hp + pc;\r\n\t\t            System.out.println(&quot;hp wzroslo o &quot; + pc);\r\n\t\t               \r\n\t\t        }\r\n\t\t    \r\n\t\t    \r\n\t\t   }while(hp&gt;0); \r\n\t\t              \r\n\t\t        System.out.println(&quot;pokonany&quot;);\t   \r\n    }\r\n        \r\n}\r\n```\r\n\r\nThere is a code, when time out. My loop has stop working and them is starter a void run, but I cant go back to my loop. How I can resolve this? \r\n\r\n\r\nI&#39;m try using zd.cancel();\r\nBut this doesnt work.\r\nAnd I&#39;m make another methods without i came back to main methods again, then I have a bugs with program.","title":"How to close timertask void when it is started","body":"<p>How I can stoped or canceled my timertask void ?\nBecause TimerTask void stopped my loop and I don't know how I can resolve my problem.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.Random;\n\n\n\n\n\npublic class Main {\n    public static void main(String [] args) throws Exception {\n        int hp = 10;\n        Scanner sc = new Scanner(System.in);\n        do{\n            Random los = new Random();\n            int pc = 1 + los.nextInt(6);\n            TimerTask zd = new TimerTask(){\n                public void run(){\n                    System.out.println(&quot;Czas off&quot;);\n                    System.out.println(&quot;5 sek&quot;);\n                                        \n                 } \n                         \n            };\n            Timer czas = new Timer();\n            czas.schedule(zd, 5 * 1000);\n            System.out.println(&quot;5 sek na odp&quot;);\n           \n            String odp = sc.nextLine();\n            switch(odp){\n                case &quot;atk&quot;:\n                    System.out.println(&quot;oo tak&quot;);\n                     hp = hp - pc;\n                    System.out.println(&quot;hp spadlo o &quot; + pc + &quot; &quot;  + &quot; wynosi &quot; + hp);\n                                                           \n                    break;\n                default:\n                    System.out.println(&quot;zle&quot;);\n                       \n                    hp = hp + pc;\n                    System.out.println(&quot;hp wzroslo o &quot; + pc);\n                       \n                }\n            \n            \n           }while(hp&gt;0); \n                      \n                System.out.println(&quot;pokonany&quot;);    \n    }\n        \n}\n</code></pre>\n<p>There is a code, when time out. My loop has stop working and them is starter a void run, but I cant go back to my loop. How I can resolve this?</p>\n<p>I'm try using zd.cancel();\nBut this doesnt work.\nAnd I'm make another methods without i came back to main methods again, then I have a bugs with program.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9428,"page":795,"page_size":100}
