{"items":[{"tags":["java","maven","unicode"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1658590264,"post_id":73091967,"comment_id":129091616,"body_markdown":"Does this answer your question? [How to configure encoding in Maven?](https://stackoverflow.com/questions/3017695/how-to-configure-encoding-in-maven)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3017695/how-to-configure-encoding-in-maven\">How to configure encoding in Maven?</a>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1658590636,"post_id":73091967,"comment_id":129091688,"body_markdown":"I do believe that is power shell issue","body":"I do believe that is power shell issue"},{"owner":{"account_id":25877947,"reputation":1,"user_id":19607571,"display_name":"Suresh K"},"score":0,"creation_date":1658590897,"post_id":73091967,"comment_id":129091742,"body_markdown":"Have set sourceEncoding to UTF-8 only","body":"Have set sourceEncoding to UTF-8 only"},{"owner":{"account_id":3659760,"reputation":581,"user_id":3049908,"display_name":"maxime.bochon"},"score":0,"creation_date":1658593985,"post_id":73091967,"comment_id":129092380,"body_markdown":"Character display issues can come from any part of the execution chain: the file itself (the one containing the characters to display), the code reading the file, the code printing the text, some process above that (the JVM), the shell in which it is run, and finally the operating system. Have you tried running the same command with the same files but from different shells or operating systems? If the result is not garbled, you should have a look at your current shell or operating system character encoding/display configuration.","body":"Character display issues can come from any part of the execution chain: the file itself (the one containing the characters to display), the code reading the file, the code printing the text, some process above that (the JVM), the shell in which it is run, and finally the operating system. Have you tried running the same command with the same files but from different shells or operating systems? If the result is not garbled, you should have a look at your current shell or operating system character encoding/display configuration."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1658602761,"post_id":73091967,"comment_id":129094314,"body_markdown":"Code page 1252 is not UTF-8","body":"Code page 1252 is not UTF-8"},{"owner":{"account_id":25877947,"reputation":1,"user_id":19607571,"display_name":"Suresh K"},"score":0,"creation_date":1661412869,"post_id":73091967,"comment_id":129767423,"body_markdown":"Thanks, maxime.bochon. It looks OS encoding issue as it works on diffrent OS lang.","body":"Thanks, maxime.bochon. It looks OS encoding issue as it works on diffrent OS lang."}],"owner":{"account_id":25877947,"reputation":1,"user_id":19607571,"display_name":"Suresh K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658590275,"creation_date":1658590143,"question_id":73091967,"body_markdown":"**Unicode char are getting garbled when ruuning Maven**\r\nWhen running the script as a Java program or using TestNG Unicode char is not garbled.\r\nBut I want to get it run with Maven.\r\n\r\nCode:\r\n\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class TestClass {\r\n    \r\n        @Test\r\n        void sample() {\r\n            System.out.println(&quot;Hello how are you&quot;);\r\n            System.out.println(&quot;乇乂丅尺卂 丅卄工匚匚 ｖａｐｏｒｗａｖｅ ォ威嵐&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nMaven version:\r\n\r\n&gt; PS F:\\Java projects\\Udemy_Selenium_Java&gt; mvn --version              \r\n&gt; Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0) Maven\r\n&gt; home: F:\\Java projects\\Dependencies\\apache-maven-3.8.5 Java version:\r\n&gt; 17.0.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-17.0.1 Default locale: en_US, platform encoding: Cp1252\r\n&gt; OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family:\r\n&gt; &quot;windows&quot;\r\n\r\nResult when running with Maven and Unicode char garbled :\r\n\r\n    PS F:\\Java projects\\Udemy_Selenium_Java&gt; mvn clean test -Dtest=&quot;TestClass&quot;\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------&lt; org.example:Udemy_Selenium_Java &gt;-------------------\r\n    [INFO] Building Udemy_Selenium_Java 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Udemy_Selenium_Java ---\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Udemy_Selenium_Java ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Udemy_Selenium_Java ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 33 source files to F:\\Java projects\\Udemy_Selenium_Java\\target\\classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ Udemy_Selenium_Java ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory F:\\Java projects\\Udemy_Selenium_Java\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ Udemy_Selenium_Java ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 95 source files to F:\\Java projects\\Udemy_Selenium_Java\\target\\test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ Udemy_Selenium_Java ---\r\n    [INFO] Using auto detected provider org.apache.maven.surefire.testng.TestNGProvider\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running TestClass\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Hello how are you\r\n    ????? ????? ????????? ???\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.706 s - in TestClass\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO]\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  11.789 s\r\n    [INFO] Finished at: 2022-07-23T20:39:23+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nPOM.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Udemy_Selenium_Java&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;7.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWorking screenshot with TestNG:\r\n[TestNG Working Sample screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xHnjO.png","title":"Unicode char are getting garbled when running with Maven","body":"<p><strong>Unicode char are getting garbled when ruuning Maven</strong>\nWhen running the script as a Java program or using TestNG Unicode char is not garbled.\nBut I want to get it run with Maven.</p>\n<p>Code:</p>\n<pre><code>import org.testng.annotations.Test;\n\npublic class TestClass {\n\n    @Test\n    void sample() {\n        System.out.println(&quot;Hello how are you&quot;);\n        System.out.println(&quot;乇乂丅尺卂 丅卄工匚匚 ｖａｐｏｒｗａｖｅ ォ威嵐&quot;);\n    }\n\n}\n</code></pre>\n<p>Maven version:</p>\n<blockquote>\n<p>PS F:\\Java projects\\Udemy_Selenium_Java&gt; mvn --version<br />\nApache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0) Maven\nhome: F:\\Java projects\\Dependencies\\apache-maven-3.8.5 Java version:\n17.0.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-17.0.1 Default locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family:\n&quot;windows&quot;</p>\n</blockquote>\n<p>Result when running with Maven and Unicode char garbled :</p>\n<pre><code>PS F:\\Java projects\\Udemy_Selenium_Java&gt; mvn clean test -Dtest=&quot;TestClass&quot;\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.example:Udemy_Selenium_Java &gt;-------------------\n[INFO] Building Udemy_Selenium_Java 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Udemy_Selenium_Java ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Udemy_Selenium_Java ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Udemy_Selenium_Java ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 33 source files to F:\\Java projects\\Udemy_Selenium_Java\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ Udemy_Selenium_Java ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory F:\\Java projects\\Udemy_Selenium_Java\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ Udemy_Selenium_Java ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 95 source files to F:\\Java projects\\Udemy_Selenium_Java\\target\\test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ Udemy_Selenium_Java ---\n[INFO] Using auto detected provider org.apache.maven.surefire.testng.TestNGProvider\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running TestClass\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nHello how are you\n????? ????? ????????? ???\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.706 s - in TestClass\n[INFO] \n[INFO] Results:\n[INFO]\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  11.789 s\n[INFO] Finished at: 2022-07-23T20:39:23+05:30\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>POM.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Udemy_Selenium_Java&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Working screenshot with TestNG:\n<a href=\"https://i.stack.imgur.com/xHnjO.png\" rel=\"nofollow noreferrer\">TestNG Working Sample screenshot</a></p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":9452345,"reputation":6871,"user_id":7028697,"display_name":"amethystic"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1580711173,"creation_date":1476967048,"answer_id":40154698,"question_id":40154086,"body_markdown":"You must create your own serializer which implements the interface `Serializer` (`org.apache.kafka.common.serialization.Serializer`) and then set the producer option `key.serializer` / `value.serializer` to it.","title":"How to create Custom serializer in kafka?","body":"<p>You must create your own serializer which implements the interface <code>Serializer</code> (<code>org.apache.kafka.common.serialization.Serializer</code>) and then set the producer option <code>key.serializer</code> / <code>value.serializer</code> to it.</p>\n"},{"tags":[],"owner":{"account_id":2570558,"reputation":4103,"user_id":2229409,"display_name":"Luciano Afranllie"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1476978382,"creation_date":1476978382,"answer_id":40158971,"question_id":40154086,"body_markdown":"Here you have an example to use your own serializer/deserializer for the Kafka message value. For Kafka message key is the same thing.\r\n\r\nWe want to send a serialized version of MyMessage as Kafka value and deserialize it again into a MyMessage object at consumer side.\r\n\r\nSerializing MyMessage in producer side.\r\n\r\nYou should create a serializer class that implements org.apache.kafka.common.serialization.Serializer\r\n\r\n*serialize()* method do the work, receiving your object and returning a serialized version as bytes array.\r\n\r\n    public class MyValueSerializer implements Serializer&lt;MyMessage&gt;\r\n    {\r\n        private boolean isKey;\r\n\r\n        @Override\r\n        public void configure(Map&lt;String, ?&gt; configs, boolean isKey)\r\n        {\r\n            this.isKey = isKey;\r\n        }\r\n\r\n        @Override\r\n        public byte[] serialize(String topic, MyMessage message)\r\n        {\r\n            if (message == null) {\r\n                return null;\r\n            }\r\n\r\n            try {\r\n                \r\n                (serialize your MyMessage object into bytes)\r\n\r\n                return bytes;\r\n\r\n            } catch (IOException | RuntimeException e) {\r\n                throw new SerializationException(&quot;Error serializing value&quot;, e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void close()\r\n        {\r\n\r\n        }\r\n    }\r\n\r\n    final IntegerSerializer keySerializer = new IntegerSerializer();\r\n    final MyValueSerializer myValueSerializer = new MyValueSerializer();\r\n    final KafkaProducer&lt;Integer, MyMessage&gt; producer = new KafkaProducer&lt;&gt;(props, keySerializer, myValueSerializer);\r\n\r\n    int messageNo = 1;\r\n    int kafkaKey = messageNo;\r\n    MyMessage kafkaValue = new MyMessage();\r\n    ProducerRecord producerRecord = new ProducerRecord&lt;&gt;(topic, kafkaKey, kafkaValue);\r\n    producer.send(producerRecord, new DemoCallBack(logTag, startTime, messageNo, strValue));\r\n\r\n\r\nDeserializing MyMessage in consumer side.\r\n\r\nYou should create a deserializer class that implements org.apache.kafka.common.serialization.Deserializer\r\n\r\n*deserialize()* method do the work, receiving serialized value as bytes array and returning your object.\r\n\r\n    public class MyValueDeserializer implements Deserializer&lt;MyMessage&gt;\r\n    {\r\n        private boolean isKey;\r\n\r\n        @Override\r\n        public void configure(Map&lt;String, ?&gt; configs, boolean isKey)\r\n        {\r\n            this.isKey = isKey;\r\n        }\r\n\r\n        @Override\r\n        public MyMessage deserialize(String s, byte[] value)\r\n        {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n\r\n            try {\r\n                \r\n                (deserialize value into your MyMessage object)\r\n\r\n                MyMessage message = new MyMessage();\r\n                return message;\r\n\r\n            } catch (IOException | RuntimeException e) {\r\n                throw new SerializationException(&quot;Error deserializing value&quot;, e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void close()\r\n        {\r\n\r\n        }\r\n    }\r\n\r\nThen use it like this:\r\n\r\n    final IntegerDeserializer keyDeserializer = new IntegerDeserializer();\r\n    final MyValueDeserializer myValueDeserializer = new MyValueDeserializer();\r\n    final KafkaConsumer&lt;Integer, MyMessage&gt; consumer = new KafkaConsumer&lt;&gt;(props, keyDeserializer, myValueDeserializer);\r\n\r\n    ConsumerRecords&lt;Integer, MyMessage&gt; records = consumer.poll(1000);\r\n    for (ConsumerRecord&lt;Integer, MyMessage&gt; record : records) {\r\n        \r\n        int kafkaKey = record.key();\r\n        MyMessage kafkaValue = record.value();\r\n\r\n        ...\r\n    }","title":"How to create Custom serializer in kafka?","body":"<p>Here you have an example to use your own serializer/deserializer for the Kafka message value. For Kafka message key is the same thing.</p>\n\n<p>We want to send a serialized version of MyMessage as Kafka value and deserialize it again into a MyMessage object at consumer side.</p>\n\n<p>Serializing MyMessage in producer side.</p>\n\n<p>You should create a serializer class that implements org.apache.kafka.common.serialization.Serializer</p>\n\n<p><em>serialize()</em> method do the work, receiving your object and returning a serialized version as bytes array.</p>\n\n<pre><code>public class MyValueSerializer implements Serializer&lt;MyMessage&gt;\n{\n    private boolean isKey;\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey)\n    {\n        this.isKey = isKey;\n    }\n\n    @Override\n    public byte[] serialize(String topic, MyMessage message)\n    {\n        if (message == null) {\n            return null;\n        }\n\n        try {\n\n            (serialize your MyMessage object into bytes)\n\n            return bytes;\n\n        } catch (IOException | RuntimeException e) {\n            throw new SerializationException(\"Error serializing value\", e);\n        }\n    }\n\n    @Override\n    public void close()\n    {\n\n    }\n}\n\nfinal IntegerSerializer keySerializer = new IntegerSerializer();\nfinal MyValueSerializer myValueSerializer = new MyValueSerializer();\nfinal KafkaProducer&lt;Integer, MyMessage&gt; producer = new KafkaProducer&lt;&gt;(props, keySerializer, myValueSerializer);\n\nint messageNo = 1;\nint kafkaKey = messageNo;\nMyMessage kafkaValue = new MyMessage();\nProducerRecord producerRecord = new ProducerRecord&lt;&gt;(topic, kafkaKey, kafkaValue);\nproducer.send(producerRecord, new DemoCallBack(logTag, startTime, messageNo, strValue));\n</code></pre>\n\n<p>Deserializing MyMessage in consumer side.</p>\n\n<p>You should create a deserializer class that implements org.apache.kafka.common.serialization.Deserializer</p>\n\n<p><em>deserialize()</em> method do the work, receiving serialized value as bytes array and returning your object.</p>\n\n<pre><code>public class MyValueDeserializer implements Deserializer&lt;MyMessage&gt;\n{\n    private boolean isKey;\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey)\n    {\n        this.isKey = isKey;\n    }\n\n    @Override\n    public MyMessage deserialize(String s, byte[] value)\n    {\n        if (value == null) {\n            return null;\n        }\n\n        try {\n\n            (deserialize value into your MyMessage object)\n\n            MyMessage message = new MyMessage();\n            return message;\n\n        } catch (IOException | RuntimeException e) {\n            throw new SerializationException(\"Error deserializing value\", e);\n        }\n    }\n\n    @Override\n    public void close()\n    {\n\n    }\n}\n</code></pre>\n\n<p>Then use it like this:</p>\n\n<pre><code>final IntegerDeserializer keyDeserializer = new IntegerDeserializer();\nfinal MyValueDeserializer myValueDeserializer = new MyValueDeserializer();\nfinal KafkaConsumer&lt;Integer, MyMessage&gt; consumer = new KafkaConsumer&lt;&gt;(props, keyDeserializer, myValueDeserializer);\n\nConsumerRecords&lt;Integer, MyMessage&gt; records = consumer.poll(1000);\nfor (ConsumerRecord&lt;Integer, MyMessage&gt; record : records) {\n\n    int kafkaKey = record.key();\n    MyMessage kafkaValue = record.value();\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4219149,"reputation":537,"user_id":3454339,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1588844662,"creation_date":1534413232,"answer_id":51874263,"question_id":40154086,"body_markdown":"No words, only code\r\n\r\n 1. Some object, which you sent to Kafka\r\n\r\n\r\n        import lombok.AllArgsConstructor;\r\n\t\timport lombok.Data;\r\n\t\timport lombok.NoArgsConstructor;\r\n\t\timport lombok.ToString;\r\n\t\t\r\n\t\t@Data\r\n\t\t@AllArgsConstructor\r\n\t\t@NoArgsConstructor\r\n\t\t@ToString\r\n\t\tpublic class TestDto {\r\n\t\t\r\n\t\t\tprivate String name;\r\n\t\t\tprivate String version;\r\n\t\t\r\n\t\t}\r\n\r\n 2. Create Serializer, which will be used by Producer\r\n\r\n\t\t@Slf4j\r\n\t\tpublic class KafkaValueSerializer implements Serializer&lt;TestDto&gt; {\r\n\r\n\t\t\tprivate ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic byte[] serialize(String topic, TestDto data) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn objectMapper.writeValueAsBytes(data);\r\n\t\t\t\t} catch (JsonProcessingException e) {\r\n\t\t\t\t\tlog.error(&quot;Unable to serialize object {}&quot;, data, e);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close() {\r\n\t\t\t}\r\n\t\t}\r\n\r\n 3. Of couser, don&#39;t foget about Deserialiser for Consumer\r\n\r\n\t\t@Slf4j\r\n\t\tpublic class KafkaValueDeserializer implements Deserializer&lt;TestDto&gt; {\r\n\r\n\t\t\tprivate ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic TestDto deserialize(String topic, byte[] data) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn objectMapper.readValue(new String(data, &quot;UTF-8&quot;), TestDto.class);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tlog.error(&quot;Unable to deserialize message {}&quot;, data, e);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close() {\r\n\t\t\t}\r\n\t\t}\r\n\r\n 4. Last moment, add serializer/deserializer to *application.yml*\r\n\r\n\r\n\t\tspring:\r\n\t\t\tkafka:\r\n\t\t\t  bootstrap-servers:  192.168.192.168:9092\r\n\t\t\t  producer:\r\n\t\t\t\t  value-serializer: com.package.service.kafka.KafkaValueSerializer\r\n\t\t\t  consumer:\r\n\t\t\t\t  group-id: groupId\r\n\t\t\t\t  value-deserializer: com.package.service.kafka.KafkaValueDeserializer\r\n\r\nThat&#39;s all. It&#39;s not necessary any configuration file or dancing with a tamboirine :)\r\n\r\n\r\n5. Send\r\n\r\n\t\tKafkaTemplate&lt;String, TestDto&gt; kafkaTemplate;\r\n\r\n\t\tTestDto test = new TestDto(&quot;test name&quot;, &quot;test-version&quot;);\r\n\t\tkafkaTemplate.send(topic, testDto);\r\n\r\n6. Listen\r\n\r\n\t\t@KafkaListener(topics = &quot;${ktp-agent.kafka.request-topic}&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;)\r\n\t\tpublic void listen(TestDto message) {\r\n\r\n\t\t\tlog.info(&quot;Received message &#39;{}&#39; from Kafka.&quot;, message.toString());\r\n\t\t}\r\n\r\n","title":"How to create Custom serializer in kafka?","body":"<p>No words, only code</p>\n\n<ol>\n<li><p>Some object, which you sent to Kafka</p>\n\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class TestDto {\n\n    private String name;\n    private String version;\n\n}\n</code></pre></li>\n<li><p>Create Serializer, which will be used by Producer</p>\n\n<pre><code>@Slf4j\npublic class KafkaValueSerializer implements Serializer&lt;TestDto&gt; {\n\n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    }\n\n    @Override\n    public byte[] serialize(String topic, TestDto data) {\n        try {\n            return objectMapper.writeValueAsBytes(data);\n        } catch (JsonProcessingException e) {\n            log.error(\"Unable to serialize object {}\", data, e);\n            return null;\n        }\n    }\n\n    @Override\n    public void close() {\n    }\n}\n</code></pre></li>\n<li><p>Of couser, don't foget about Deserialiser for Consumer</p>\n\n<pre><code>@Slf4j\npublic class KafkaValueDeserializer implements Deserializer&lt;TestDto&gt; {\n\n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    }\n\n    @Override\n    public TestDto deserialize(String topic, byte[] data) {\n        try {\n            return objectMapper.readValue(new String(data, \"UTF-8\"), TestDto.class);\n        } catch (Exception e) {\n            log.error(\"Unable to deserialize message {}\", data, e);\n            return null;\n        }\n    }\n\n    @Override\n    public void close() {\n    }\n}\n</code></pre></li>\n<li><p>Last moment, add serializer/deserializer to <em>application.yml</em></p>\n\n<pre><code>spring:\n    kafka:\n      bootstrap-servers:  192.168.192.168:9092\n      producer:\n          value-serializer: com.package.service.kafka.KafkaValueSerializer\n      consumer:\n          group-id: groupId\n          value-deserializer: com.package.service.kafka.KafkaValueDeserializer\n</code></pre></li>\n</ol>\n\n<p>That's all. It's not necessary any configuration file or dancing with a tamboirine :)</p>\n\n<ol start=\"5\">\n<li><p>Send</p>\n\n<pre><code>KafkaTemplate&lt;String, TestDto&gt; kafkaTemplate;\n\nTestDto test = new TestDto(\"test name\", \"test-version\");\nkafkaTemplate.send(topic, testDto);\n</code></pre></li>\n<li><p>Listen</p>\n\n<pre><code>@KafkaListener(topics = \"${ktp-agent.kafka.request-topic}\", groupId = \"${spring.kafka.consumer.group-id}\")\npublic void listen(TestDto message) {\n\n    log.info(\"Received message '{}' from Kafka.\", message.toString());\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12403001,"reputation":96,"user_id":9039322,"display_name":"hcallejas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658589875,"creation_date":1658589875,"answer_id":73091934,"question_id":40154086,"body_markdown":"there is an easier way to do it, basically if you are casting your custom class to bytes in your custom serializer, then you are rebuilding the wheel. kafka already works with bytes. \r\n\r\n   \r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.apache.kafka.common.utils.Bytes;\r\n    \r\n    Bytes bytes = new Bytes(objectMapper.writeValueAsBytes(&lt;customClass&gt;));\r\n    kafkaTemplate.send(&quot;topic&quot;,bytes);\r\n\r\n   \r\n\r\nnext in your Producter and Consumer configuration\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String,String&gt;(){\r\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                &quot;&lt;kafka-server&gt;&quot;);\r\n        configProps.put(\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n        configProps.put(\r\n                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                BytesSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    \r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(\r\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                &quot;host&quot;);\r\n        props.put(\r\n                ConsumerConfig.GROUP_ID_CONFIG,\r\n                &quot;group-id&quot;);\r\n        props.put(\r\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n        props.put(\r\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                BytesDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n    \r\n\r\n\r\nfinally \r\n\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.apache.kafka.common.utils.Bytes;\r\n\r\n\r\n    @KafkaListener(topics = &quot;your.topic&quot;)\r\n    public void getInfoPersona(Bytes message) throws IOException {\r\n        &lt;your-custom-class&gt; customClass = \r\n        objectMapper.readValue(message.get(), &lt;your-custom-class&gt;.class);\r\n    }\r\n  \r\n\r\n","title":"How to create Custom serializer in kafka?","body":"<p>there is an easier way to do it, basically if you are casting your custom class to bytes in your custom serializer, then you are rebuilding the wheel. kafka already works with bytes.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.kafka.common.utils.Bytes;\n\nBytes bytes = new Bytes(objectMapper.writeValueAsBytes(&lt;customClass&gt;));\nkafkaTemplate.send(&quot;topic&quot;,bytes);\n</code></pre>\n<p>next in your Producter and Consumer configuration</p>\n<pre><code>@Bean\npublic ProducerFactory&lt;String,String&gt;(){\nMap&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(\n            ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n            &quot;&lt;kafka-server&gt;&quot;);\n    configProps.put(\n            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n            StringSerializer.class);\n    configProps.put(\n            ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n            BytesSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(\n            ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n            &quot;host&quot;);\n    props.put(\n            ConsumerConfig.GROUP_ID_CONFIG,\n            &quot;group-id&quot;);\n    props.put(\n            ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n            StringDeserializer.class);\n    props.put(\n            ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n            BytesDeserializer.class);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n}\n</code></pre>\n<p>finally</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.apache.kafka.common.utils.Bytes;\n\n\n@KafkaListener(topics = &quot;your.topic&quot;)\npublic void getInfoPersona(Bytes message) throws IOException {\n    &lt;your-custom-class&gt; customClass = \n    objectMapper.readValue(message.get(), &lt;your-custom-class&gt;.class);\n}\n</code></pre>\n"}],"owner":{"account_id":3424943,"reputation":1004,"user_id":2870939,"accept_rate":51,"display_name":"Vimal Dhaduk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25909,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":40158971,"answer_count":4,"score":9,"last_activity_date":1658589875,"creation_date":1476965526,"question_id":40154086,"body_markdown":"There is only few serializer available like,\r\n\r\n    org.apache.kafka.common.serialization.StringSerializer\r\n\r\nHow can we create our own custom serializer ?","title":"How to create Custom serializer in kafka?","body":"<p>There is only few serializer available like,</p>\n<pre><code>org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>How can we create our own custom serializer ?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381312380,"post_id":19268617,"comment_id":28526747,"body_markdown":"Do you want to send both Keys at the same time or have a delay then Tab? Also Is the Tab command working on its own (With out the &quot;UserName been entered)?","body":"Do you want to send both Keys at the same time or have a delay then Tab? Also Is the Tab command working on its own (With out the &quot;UserName been entered)?"},{"owner":{"account_id":3182060,"reputation":885,"user_id":2688543,"accept_rate":50,"display_name":"Niks"},"score":0,"creation_date":1381312694,"post_id":19268617,"comment_id":28526935,"body_markdown":"It should enter username first then hit TAB key.","body":"It should enter username first then hit TAB key."},{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381316472,"post_id":19268617,"comment_id":28529177,"body_markdown":"You may just have to add a slight wait command between the two actions. Can you see Selenium entering the Text for the User Name?","body":"You may just have to add a slight wait command between the two actions. Can you see Selenium entering the Text for the User Name?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":3,"creation_date":1381316608,"post_id":19268617,"comment_id":28529252,"body_markdown":"Your method works for me. Also, you can do `driver.findElement(By.xpath(&quot;...&quot;)).sendKeys(&quot;UserName&quot; + Keys.TAB);` or even `driver.findElement(By.xpath(&quot;...&quot;)).sendKeys(&quot;UserName&quot;, Keys.TAB);`. All of these work for me.","body":"Your method works for me. Also, you can do <code>driver.findElement(By.xpath(&quot;...&quot;)).sendKeys(&quot;UserName&quot; + Keys.TAB);</code> or even <code>driver.findElement(By.xpath(&quot;...&quot;)).sendKeys(&quot;UserName&quot;, Keys.TAB);</code>. All of these work for me."},{"owner":{"account_id":3182060,"reputation":885,"user_id":2688543,"accept_rate":50,"display_name":"Niks"},"score":0,"creation_date":1381320149,"post_id":19268617,"comment_id":28531423,"body_markdown":"@Lt_Shade I do see selenium entering the text for User Name. I have tried by adding wait in between.","body":"@Lt_Shade I do see selenium entering the text for User Name. I have tried by adding wait in between."},{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381322628,"post_id":19268617,"comment_id":28533085,"body_markdown":"You could try using sendKeys(&quot;\\t&quot;); but it doubt that would do much","body":"You could try using sendKeys(&quot;\\t&quot;); but it doubt that would do much"},{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381323586,"post_id":19268617,"comment_id":28533707,"body_markdown":"Also what browser are you using?","body":"Also what browser are you using?"},{"owner":{"account_id":3182060,"reputation":885,"user_id":2688543,"accept_rate":50,"display_name":"Niks"},"score":0,"creation_date":1381408927,"post_id":19268617,"comment_id":28573888,"body_markdown":"@Lt_Shade I am using firefox 24v","body":"@Lt_Shade I am using firefox 24v"},{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381409703,"post_id":19268617,"comment_id":28574358,"body_markdown":"According to the bottom of http://code.google.com/p/selenium/wiki/AdvancedUserInteractions some browsers which support synthetic events (firefox) act differently when using the Tab Key.  `When a user presses the &#39;tab&#39; key the focus jumps from the current element to the next element. This is done by the browser. With synthetic events the browser does not know that the &#39;tab&#39; key is pressed and therefore won&#39;t change the focus. With native events the browser will behave as expected.`","body":"According to the bottom of <a href=\"http://code.google.com/p/selenium/wiki/AdvancedUserInteractions\" rel=\"nofollow noreferrer\">code.google.com/p/selenium/wiki/AdvancedUserInteractions</a> some browsers which support synthetic events (firefox) act differently when using the Tab Key.  <code>When a user presses the &#39;tab&#39; key the focus jumps from the current element to the next element. This is done by the browser. With synthetic events the browser does not know that the &#39;tab&#39; key is pressed and therefore won&#39;t change the focus. With native events the browser will behave as expected.</code>"},{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381409940,"post_id":19268617,"comment_id":28574507,"body_markdown":"Also Native events can be turned on and off in Firefox using `FirefoxProfile profile = new FirefoxProfile();\nprofile.setEnableNativeEvents(true);\nFirefoxDriver driver = new FirefoxDriver(profile);`. Not sure if this is your problem but it might be worth investigating","body":"Also Native events can be turned on and off in Firefox using <code>FirefoxProfile profile = new FirefoxProfile(); profile.setEnableNativeEvents(true); FirefoxDriver driver = new FirefoxDriver(profile);</code>. Not sure if this is your problem but it might be worth investigating"},{"owner":{"account_id":3182060,"reputation":885,"user_id":2688543,"accept_rate":50,"display_name":"Niks"},"score":0,"creation_date":1381411967,"post_id":19268617,"comment_id":28575943,"body_markdown":"@Lt_Shade tried with `profile.setEnableNativeEvents(true);` still not working :(","body":"@Lt_Shade tried with <code>profile.setEnableNativeEvents(true);</code> still not working :("},{"owner":{"account_id":2840100,"reputation":590,"user_id":2439893,"accept_rate":80,"display_name":"Lt_Shade"},"score":0,"creation_date":1381412063,"post_id":19268617,"comment_id":28576008,"body_markdown":"It might just be time to use a click out or Enter until someone else can provide a solution sadly.","body":"It might just be time to use a click out or Enter until someone else can provide a solution sadly."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1609993852,"post_id":19268617,"comment_id":115995073,"body_markdown":"Related: [python - Send keys not to element but in general selenium - Stack Overflow](https://stackoverflow.com/questions/28482297/send-keys-not-to-element-but-in-general-selenium#comment115981598_28482297) (although that question is for Python)","body":"Related: <a href=\"https://stackoverflow.com/questions/28482297/send-keys-not-to-element-but-in-general-selenium#comment115981598_28482297\">python - Send keys not to element but in general selenium - Stack Overflow</a> (although that question is for Python)"}],"answers":[{"tags":[],"owner":{"account_id":2349610,"reputation":3207,"user_id":2058844,"accept_rate":64,"display_name":"Paras"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1447740502,"creation_date":1381313296,"answer_id":19269015,"question_id":19268617,"body_markdown":"I doubt for `Keys.TAB` in `sendKeys` method... if you want to use TAB you need to do something like below:\r\n\r\n\r\n    Actions builder = new Actions(driver);\r\n    builder.keyDown(Keys.TAB).perform()\r\n\r\n","title":"sendKeys() in Selenium web driver","body":"<p>I doubt for <code>Keys.TAB</code> in <code>sendKeys</code> method... if you want to use TAB you need to do something like below:</p>\n\n<pre><code>Actions builder = new Actions(driver);\nbuilder.keyDown(Keys.TAB).perform()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1696244,"reputation":2249,"user_id":1557584,"display_name":"HemChe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381316068,"creation_date":1381316068,"answer_id":19270067,"question_id":19268617,"body_markdown":"Try using `Robot` class in java for pressing TAB key. Use the below code.\r\n\r\n    driver.findElement(By.xpath(&quot;//label[text()=&#39;User Name:&#39;]/following::div/input&quot;)).sendKeys(&quot;UserName&quot;);\r\n\r\n    Robot robot = new Robot();\r\n    robot.keyPress(KeyEvent.VK_TAB);\r\n    robot.keyRelease(KeyEvent.VK_TAB);","title":"sendKeys() in Selenium web driver","body":"<p>Try using <code>Robot</code> class in java for pressing TAB key. Use the below code.</p>\n\n<pre><code>driver.findElement(By.xpath(\"//label[text()='User Name:']/following::div/input\")).sendKeys(\"UserName\");\n\nRobot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_TAB);\nrobot.keyRelease(KeyEvent.VK_TAB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5960606,"reputation":27,"user_id":4685904,"accept_rate":40,"display_name":"Shik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1449846852,"creation_date":1449843483,"answer_id":34225626,"question_id":19268617,"body_markdown":"Try this code:\r\n\r\n    WebElement userName = pathfinderdriver.switchTo().activeElement();\r\n    userName.sendKeys(Keys.TAB);","title":"sendKeys() in Selenium web driver","body":"<p>Try this code:</p>\n\n<pre><code>WebElement userName = pathfinderdriver.switchTo().activeElement();\nuserName.sendKeys(Keys.TAB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8215311,"reputation":31,"user_id":6181917,"display_name":"Babu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559632444,"creation_date":1460225860,"answer_id":36520825,"question_id":19268617,"body_markdown":"This is a single line command to send the TAB key;\r\n\t\t\t\r\n    driver.findElement(By.id(&quot;Enter_ID&quot;)).sendKeys(&quot;\\t&quot;);\r\n","title":"sendKeys() in Selenium web driver","body":"<p>This is a single line command to send the TAB key;</p>\n\n<pre><code>driver.findElement(By.id(\"Enter_ID\")).sendKeys(\"\\t\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8667450,"reputation":1,"user_id":6487384,"display_name":"Akbar Hussain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1466397645,"creation_date":1466397548,"answer_id":37914717,"question_id":19268617,"body_markdown":"    List&lt;WebElement&gt;itemNames = wd.findElements(By.cssSelector(&quot;a strong&quot;)); \r\n    System.out.println(&quot;No items in Catalog page: &quot; + itemNames.size());\r\n       for (WebElement itemName:itemNames)\r\n        {  \r\n           System.out.println(itemName.getText());\r\n        }\r\n           ","title":"sendKeys() in Selenium web driver","body":"<pre><code>List&lt;WebElement&gt;itemNames = wd.findElements(By.cssSelector(\"a strong\")); \nSystem.out.println(\"No items in Catalog page: \" + itemNames.size());\n   for (WebElement itemName:itemNames)\n    {  \n       System.out.println(itemName.getText());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9856859,"reputation":1,"user_id":7301087,"display_name":"Piyush Salodkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481795170,"creation_date":1481792421,"answer_id":41160071,"question_id":19268617,"body_markdown":"Try this, it will surely work:  \r\n \r\n    driver.findElement(By.xpath(&quot;//label[text()=&#39;User Name:&#39;]/following::div/input&quot;)).sendKeys(&quot;UserName&quot; + Keys.TAB);\r\n","title":"sendKeys() in Selenium web driver","body":"<p>Try this, it will surely work:  </p>\n\n<pre><code>driver.findElement(By.xpath(\"//label[text()='User Name:']/following::div/input\")).sendKeys(\"UserName\" + Keys.TAB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":884672,"reputation":2260,"user_id":1739000,"accept_rate":80,"display_name":"NH."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526664229,"creation_date":1526664229,"answer_id":50416461,"question_id":19268617,"body_markdown":"I believe Selenium now uses `Key.TAB` instead of `Keys.TAB`.","title":"sendKeys() in Selenium web driver","body":"<p>I believe Selenium now uses <code>Key.TAB</code> instead of <code>Keys.TAB</code>.</p>\n"},{"tags":[],"owner":{"account_id":13024558,"reputation":1,"user_id":9412934,"display_name":"varun kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553988915,"creation_date":1532543377,"answer_id":51525519,"question_id":19268617,"body_markdown":"Try this one, and then import the package:\r\n\r\n    import org.openqa.selenium.Keys;\r\n    \r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;username&#39;]&quot;)).sendKeys(&quot;username&quot;);\r\n    \t\t\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;username&#39;]&quot;)).sendKeys(Keys.TAB);\r\n    \t\t\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;Password&#39;]&quot;)).sendKeys(&quot;password&quot;);","title":"sendKeys() in Selenium web driver","body":"<p>Try this one, and then import the package:</p>\n\n<pre><code>import org.openqa.selenium.Keys;\n\ndriver.findElement(By.xpath(\"//*[@id='username']\")).sendKeys(\"username\");\n\ndriver.findElement(By.xpath(\"//*[@id='username']\")).sendKeys(Keys.TAB);\n\ndriver.findElement(By.xpath(\"//*[@id='Password']\")).sendKeys(\"password\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16136598,"reputation":1,"user_id":11648922,"display_name":"Shyam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1560527480,"creation_date":1560527480,"answer_id":56601582,"question_id":19268617,"body_markdown":"The simplest solution is Go to Build Path &gt; Configure Build Path &gt; Java Compiler and then select the &#39;Compiler compliance level:&#39; to the latest one from 1.4 (probably you have this). ","title":"sendKeys() in Selenium web driver","body":"<p>The simplest solution is Go to Build Path > Configure Build Path > Java Compiler and then select the 'Compiler compliance level:' to the latest one from 1.4 (probably you have this). </p>\n"},{"tags":[],"owner":{"account_id":15157047,"reputation":833,"user_id":10937481,"display_name":"Khan Saad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576591279,"creation_date":1576586000,"answer_id":59374345,"question_id":19268617,"body_markdown":"&gt; For python selenium,\r\n\r\nImporting the library,\r\n\r\n    from selenium.webdriver.common.keys import Keys\r\n    \r\n\r\nUse this code to press any key you want,\r\n\r\n    Anyelement.send_keys(Keys.RETURN)\r\n\r\nYou can find all the key names by searching this `selenium.webdriver.common.keys`.\r\n","title":"sendKeys() in Selenium web driver","body":"<blockquote>\n  <p>For python selenium,</p>\n</blockquote>\n\n<p>Importing the library,</p>\n\n<pre><code>from selenium.webdriver.common.keys import Keys\n</code></pre>\n\n<p>Use this code to press any key you want,</p>\n\n<pre><code>Anyelement.send_keys(Keys.RETURN)\n</code></pre>\n\n<p>You can find all the key names by searching this <code>selenium.webdriver.common.keys</code>.</p>\n"},{"tags":[],"owner":{"account_id":17969794,"reputation":11,"user_id":13058854,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604908044,"creation_date":1584127225,"answer_id":60676127,"question_id":19268617,"body_markdown":"I have found that creating a var to hold the `WebElement` and the call the `sendKeys()` works for me.\r\n\r\n```\r\nWebElement speedCurrentCell = driver.findElement(By.id(&quot;Speed_current&quot;));\r\nspeedCurrentCell.sendKeys(&quot;1300&quot;);\r\n```","title":"sendKeys() in Selenium web driver","body":"<p>I have found that creating a var to hold the <code>WebElement</code> and the call the <code>sendKeys()</code> works for me.</p>\n<pre><code>WebElement speedCurrentCell = driver.findElement(By.id(&quot;Speed_current&quot;));\nspeedCurrentCell.sendKeys(&quot;1300&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22243468,"reputation":187,"user_id":16477536,"display_name":"AnxiousDino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658589413,"creation_date":1658586321,"answer_id":73091523,"question_id":19268617,"body_markdown":"Nowadays it can be done as such, when posted via Flask from localhost:\r\n\r\n  \r\n    \r\n    chrome_path = &#39;chromedriver&#39;\r\n    driver = webdriver.Chrome(chrome_path)\r\n    \r\n    chrome_options = webdriver.ChromeOptions()\r\n    chrome_options.add_argument(&quot;--disable-popup-blocking&quot;)\r\n    \r\n    driver.maximize_window()\r\n    driver.get(&quot;https://gibiru.com/&quot;)\r\n    \r\n    driver.find_element_by_css_selector(&#39;.form-control.has-feedback.has-clear&#39;).click()\r\n    driver.find_element_by_css_selector(&#39;.form-control.has-feedback.has-clear&#39;).send_keys(&quot;lfc&quot;)\r\n    driver.find_element_by_css_selector(&#39;.form-control.has-feedback.has-clear&#39;).send_keys(Keys.RETURN)\r\n\r\n\r\n\r\n\r\n\r\n","title":"sendKeys() in Selenium web driver","body":"<p>Nowadays it can be done as such, when posted via Flask from localhost:</p>\n<pre><code>chrome_path = 'chromedriver'\ndriver = webdriver.Chrome(chrome_path)\n\nchrome_options = webdriver.ChromeOptions()\nchrome_options.add_argument(&quot;--disable-popup-blocking&quot;)\n\ndriver.maximize_window()\ndriver.get(&quot;https://gibiru.com/&quot;)\n\ndriver.find_element_by_css_selector('.form-control.has-feedback.has-clear').click()\ndriver.find_element_by_css_selector('.form-control.has-feedback.has-clear').send_keys(&quot;lfc&quot;)\ndriver.find_element_by_css_selector('.form-control.has-feedback.has-clear').send_keys(Keys.RETURN)\n</code></pre>\n"}],"owner":{"account_id":3182060,"reputation":885,"user_id":2688543,"accept_rate":50,"display_name":"Niks"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247990,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":12,"score":22,"last_activity_date":1658589413,"creation_date":1381312230,"question_id":19268617,"body_markdown":"I am new to _Selenium_. I just want to send keys to a username text box and send a tab key both at a time so that text box can check for availability of username.\r\n\r\nHere is the code:\r\n    \r\n     driver.findElement(By.xpath(&quot;//label[text()=&#39;User Name:&#39;]/following::div/input&quot;)).sendKeys(&quot;UserName&quot;);\r\n     driver.findElement(By.xpath(&quot;//label[text()=&#39;User Name:&#39;]/following::div/input&quot;)).sendKeys(Keys.TAB);\r\n\r\nBut this one is not working.","title":"sendKeys() in Selenium web driver","body":"<p>I am new to <em>Selenium</em>. I just want to send keys to a username text box and send a tab key both at a time so that text box can check for availability of username.</p>\n\n<p>Here is the code:</p>\n\n<pre><code> driver.findElement(By.xpath(\"//label[text()='User Name:']/following::div/input\")).sendKeys(\"UserName\");\n driver.findElement(By.xpath(\"//label[text()='User Name:']/following::div/input\")).sendKeys(Keys.TAB);\n</code></pre>\n\n<p>But this one is not working.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13085437,"reputation":916,"user_id":9454556,"display_name":"Cyrille Con Morales"},"score":0,"creation_date":1658588335,"post_id":73091583,"comment_id":129091135,"body_markdown":"Why does it need to close this question? any comment ?","body":"Why does it need to close this question? any comment ?"}],"answers":[{"tags":[],"owner":{"account_id":25876439,"reputation":159,"user_id":19606347,"display_name":"Fede Cana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658587576,"creation_date":1658587576,"answer_id":73091658,"question_id":73091583,"body_markdown":"This is strange behavior. If you are inside the Fragment and you want to initialize a Dialog just pass the context of the Fragement.\r\n\r\n    ProgressDialog prog = new ProgressDialog(requireContext());","title":"How to stay on current fragment after progressdialog dismiss android","body":"<p>This is strange behavior. If you are inside the Fragment and you want to initialize a Dialog just pass the context of the Fragement.</p>\n<pre><code>ProgressDialog prog = new ProgressDialog(requireContext());\n</code></pre>\n"}],"owner":{"account_id":13085437,"reputation":916,"user_id":9454556,"display_name":"Cyrille Con Morales"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658588742,"creation_date":1658586912,"question_id":73091583,"body_markdown":"Since we knew that progressdialog need a parameter context or get the activity of fragment but after dismissig the dialog it went to the other fragment which i set the the mainactivity default fragment is homepage\r\n\r\n\r\nThis is the method use in my class\r\n\r\n     public void UploadProfilePicture(Context context, Uri imageUri){\r\n          ProgressDialog prog = new ProgressDialog(context);\r\n     }\r\n","title":"How to stay on current fragment after progressdialog dismiss android","body":"<p>Since we knew that progressdialog need a parameter context or get the activity of fragment but after dismissig the dialog it went to the other fragment which i set the the mainactivity default fragment is homepage</p>\n<p>This is the method use in my class</p>\n<pre><code> public void UploadProfilePicture(Context context, Uri imageUri){\n      ProgressDialog prog = new ProgressDialog(context);\n }\n</code></pre>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":0,"creation_date":1369398838,"post_id":16735060,"comment_id":24099892,"body_markdown":"I know that in this example, the checked list will not actually check the type parameter `T` of the `GenericInterface` instances added to the list, this is not what I&#39;m after. I just want the call to `checkedList()` to be more type-safe, if possible.","body":"I know that in this example, the checked list will not actually check the type parameter <code>T</code> of the <code>GenericInterface</code> instances added to the list, this is not what I&#39;m after. I just want the call to <code>checkedList()</code> to be more type-safe, if possible."},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1369426809,"post_id":16735060,"comment_id":24114749,"body_markdown":"This is the best you can do","body":"This is the best you can do"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1369435245,"post_id":16735060,"comment_id":24117442,"body_markdown":"This is a perfect example of where you could just do the unchecked cast and suppress it.  You&#39;re controlling creation of the delegate list, so there&#39;s nothing to be concerned about.  But Java just can&#39;t let you go and do it without complaining, because for all it knows, the cast could allow a type error.","body":"This is a perfect example of where you could just do the unchecked cast and suppress it.  You&#39;re controlling creation of the delegate list, so there&#39;s nothing to be concerned about.  But Java just can&#39;t let you go and do it without complaining, because for all it knows, the cast could allow a type error."}],"answers":[{"tags":[],"owner":{"account_id":1754919,"reputation":1620,"user_id":1603188,"accept_rate":50,"display_name":"terafor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1369399335,"creation_date":1369399335,"answer_id":16735252,"question_id":16735060,"body_markdown":"There are similar questions:\r\n\r\n - [https://stackoverflow.com/questions/4837190/java-generics-get-class][1]\r\n - [https://stackoverflow.com/questions/3437897/how-to-get-class-instance-of-generics-type-t][2]\r\n\r\n&gt; The short answer is, that there is no way to find out the runtime type\r\n&gt; of generic type parameters in Java.\r\n\r\n  [1]: https://stackoverflow.com/questions/4837190/java-generics-get-class\r\n  [2]: https://stackoverflow.com/questions/3437897/how-to-get-class-instance-of-generics-type-t","title":"How to Cast the Class Object of a Generic Type to a Specific Instance of that Type","body":"<p>There are similar questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4837190/java-generics-get-class\">Java generics - get class?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3437897/how-to-get-class-instance-of-generics-type-t\">How to get a class instance of generics type T</a></li>\n</ul>\n\n<blockquote>\n  <p>The short answer is, that there is no way to find out the runtime type\n  of generic type parameters in Java.</p>\n</blockquote>\n"}],"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11097,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1658588505,"creation_date":1369398688,"question_id":16735060,"body_markdown":"I have a generic interface, lets call it `GenericInterface&lt;T&gt;`. I need to pass the _class object_ of that interface to a method that expects (specified through another type parameter) a specific instance of that type. Let&#39;s assume I want to call `java.util.Collections.checkedList()`:\r\n\r\n    List&lt;GenericInterface&lt;Integer&gt;&gt; list = Collections.checkedList(\r\n        new ArrayList&lt;GenericInterface&lt;Integer&gt;&gt;(),\r\n        GenericInterface.class);\r\n\r\nThis does not work because `Class&lt;GenericInterface&gt;` cannot be implicitly casted to `Class&lt;GenericInterface&lt;Integer&gt;&gt;`, what is the most type safe way to do that? The best I could come up is this:\r\n\r\n    List&lt;GenericInterface&lt;Integer&gt;&gt; list = Collections.checkedList(\r\n        new ArrayList&lt;GenericInterface&lt;Integer&gt;&gt;(),\r\n        (Class&lt;GenericInterface&lt;Integer&gt;&gt;) (Class&lt;?&gt;) GenericInterface.class);\r\n\r\nIt works but won&#39;t protect me from e.g. changing the list&#39;s type to `List&lt;SomeOtherInterface&gt;` without also replacing the class object parameter with `SomeOtherInterface.class`.","title":"How to Cast the Class Object of a Generic Type to a Specific Instance of that Type","body":"<p>I have a generic interface, lets call it <code>GenericInterface&lt;T&gt;</code>. I need to pass the <em>class object</em> of that interface to a method that expects (specified through another type parameter) a specific instance of that type. Let's assume I want to call <code>java.util.Collections.checkedList()</code>:</p>\n\n<pre><code>List&lt;GenericInterface&lt;Integer&gt;&gt; list = Collections.checkedList(\n    new ArrayList&lt;GenericInterface&lt;Integer&gt;&gt;(),\n    GenericInterface.class);\n</code></pre>\n\n<p>This does not work because <code>Class&lt;GenericInterface&gt;</code> cannot be implicitly casted to <code>Class&lt;GenericInterface&lt;Integer&gt;&gt;</code>, what is the most type safe way to do that? The best I could come up is this:</p>\n\n<pre><code>List&lt;GenericInterface&lt;Integer&gt;&gt; list = Collections.checkedList(\n    new ArrayList&lt;GenericInterface&lt;Integer&gt;&gt;(),\n    (Class&lt;GenericInterface&lt;Integer&gt;&gt;) (Class&lt;?&gt;) GenericInterface.class);\n</code></pre>\n\n<p>It works but won't protect me from e.g. changing the list's type to <code>List&lt;SomeOtherInterface&gt;</code> without also replacing the class object parameter with <code>SomeOtherInterface.class</code>.</p>\n"},{"tags":["java","xml","dom","nullpointerexception"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1658500451,"post_id":73081946,"comment_id":129074221,"body_markdown":"Your `item` is probably null. It is never set in the for loop if the condition is never satisfied.","body":"Your <code>item</code> is probably null. It is never set in the for loop if the condition is never satisfied."},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1658500554,"post_id":73081946,"comment_id":129074260,"body_markdown":"You should also use `.equals()` not `==`. By all means add print statements to see. You need to have a solution if none of them equal that `id` cause it will be null","body":"You should also use <code>.equals()</code> not <code>==</code>. By all means add print statements to see. You need to have a solution if none of them equal that <code>id</code> cause it will be null"}],"answers":[{"tags":[],"owner":{"account_id":18463907,"reputation":103,"user_id":13468313,"display_name":"Foxler2010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658588009,"creation_date":1658588009,"answer_id":73091706,"question_id":73081946,"body_markdown":"After researching the difference, it seems that using `.equals()` has made the code compare the content of the Strings, rather than compare the references, like `==` did. Since the references would always be different, it was returning false every time, and then trying to get some info from a null Object.","title":"NullPointerException when casting NodeList to Element","body":"<p>After researching the difference, it seems that using <code>.equals()</code> has made the code compare the content of the Strings, rather than compare the references, like <code>==</code> did. Since the references would always be different, it was returning false every time, and then trying to get some info from a null Object.</p>\n"}],"owner":{"account_id":18463907,"reputation":103,"user_id":13468313,"display_name":"Foxler2010"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658588009,"creation_date":1658500029,"question_id":73081946,"body_markdown":"I am having some weird issues with my DOM-related code. Here it is:\r\n\r\n    public Item getItem(String id) throws ConstructorNotDefinedException {\r\n\r\n        //Find the specific item Element we are working with\r\n        Element item = null;\r\n\r\n        for (int i = 0; i &lt; this.items.getLength(); i++) { //items is a NodeList of all items, derived from the document Element\r\n\r\n            Element currentItem = (Element) this.items.item(i);\r\n\r\n            if (currentItem.getAttribute(&quot;id&quot;) == id) { //only runs once since every ID is unique\r\n\r\n                item = currentItem;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        //The line with the error\r\n        Element typeElement = (Element) item.getElementsByTagName(&quot;type&quot;).item(0);\r\n\r\n\r\n        //more code using typeElement...\r\n\r\nHere is the main class running the code:\r\n\r\n    public class test {\r\n    \r\n        public static void main(String[] args) throws ConstructorNotDefinedException {\r\n\r\n            ItemDataReader reader = ItemDataReader.newInstance(Paths.get(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;, &quot;path&quot;, &quot;to&quot;, &quot;xml&quot;, &quot;document.xml&quot;));\r\n\r\n            Item testItem = reader.getItem(&quot;dog&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\nThe first part seems to work fine, no errors at all, but as soon as I try to get typeElement it throws a NullPointerException. None of the methods called in that line throw the exception so I don&#39;t know where it&#39;s coming from.\r\n\r\nHere&#39;s a sample of the XML document I&#39;m using:\r\n\r\n    &lt;item id=&quot;dog&quot;&gt;\r\n        &lt;type&gt;1&lt;/type&gt;\r\n        &lt;name&gt;Dog&lt;/name&gt;\r\n        &lt;strength&gt;10&lt;/strength&gt;\r\n    &lt;/item&gt;\r\n    &lt;item id=&quot;cat&quot;&gt;\r\n        &lt;type&gt;1&lt;/type&gt;\r\n        &lt;name&gt;Cat&lt;/name&gt;\r\n        &lt;strength&gt;10&lt;/strength&gt;\r\n    &lt;/item&gt;\r\n\r\nI&#39;ve tried a lot of things, and I just don&#39;t know what is going on. Help is very much appreciated!\r\n\r\nEDIT:\r\n\r\nI tried the suggestions from Benjamin W. and using `.equals()` seems to have fixed the problem. I&#39;m still not quite sure why using `==` was not working.","title":"NullPointerException when casting NodeList to Element","body":"<p>I am having some weird issues with my DOM-related code. Here it is:</p>\n<pre><code>public Item getItem(String id) throws ConstructorNotDefinedException {\n\n    //Find the specific item Element we are working with\n    Element item = null;\n\n    for (int i = 0; i &lt; this.items.getLength(); i++) { //items is a NodeList of all items, derived from the document Element\n\n        Element currentItem = (Element) this.items.item(i);\n\n        if (currentItem.getAttribute(&quot;id&quot;) == id) { //only runs once since every ID is unique\n\n            item = currentItem;\n\n        }\n\n    }\n\n    //The line with the error\n    Element typeElement = (Element) item.getElementsByTagName(&quot;type&quot;).item(0);\n\n\n    //more code using typeElement...\n</code></pre>\n<p>Here is the main class running the code:</p>\n<pre><code>public class test {\n\n    public static void main(String[] args) throws ConstructorNotDefinedException {\n\n        ItemDataReader reader = ItemDataReader.newInstance(Paths.get(System.getProperty(&quot;user.home&quot;), &quot;Documents&quot;, &quot;path&quot;, &quot;to&quot;, &quot;xml&quot;, &quot;document.xml&quot;));\n\n        Item testItem = reader.getItem(&quot;dog&quot;);\n\n    }\n\n}\n</code></pre>\n<p>The first part seems to work fine, no errors at all, but as soon as I try to get typeElement it throws a NullPointerException. None of the methods called in that line throw the exception so I don't know where it's coming from.</p>\n<p>Here's a sample of the XML document I'm using:</p>\n<pre><code>&lt;item id=&quot;dog&quot;&gt;\n    &lt;type&gt;1&lt;/type&gt;\n    &lt;name&gt;Dog&lt;/name&gt;\n    &lt;strength&gt;10&lt;/strength&gt;\n&lt;/item&gt;\n&lt;item id=&quot;cat&quot;&gt;\n    &lt;type&gt;1&lt;/type&gt;\n    &lt;name&gt;Cat&lt;/name&gt;\n    &lt;strength&gt;10&lt;/strength&gt;\n&lt;/item&gt;\n</code></pre>\n<p>I've tried a lot of things, and I just don't know what is going on. Help is very much appreciated!</p>\n<p>EDIT:</p>\n<p>I tried the suggestions from Benjamin W. and using <code>.equals()</code> seems to have fixed the problem. I'm still not quite sure why using <code>==</code> was not working.</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658586897,"creation_date":1658586897,"answer_id":73091579,"question_id":73091027,"body_markdown":"Each GMA SDK update may change some initialization methods.\r\n\r\n&gt; &quot;is not working anymore, is that true?&quot;\r\n\r\nIt depends on which version you use. At latest version it will work.\r\n\r\nLatest GMA SDK v21.1.0 has only these methods for initialization.\r\n\r\n```java\r\npublic static void initialize(@NonNull Context context) \r\n\r\npublic static void initialize(@NonNull Context context,\r\n @NonNull OnInitializationCompleteListener listener) \r\n```\r\n\r\nAlso, `MobileAds.initialize(context, app_id)` was removed from the library, not available anymore in GMA SDK. ","title":"What is the use of initializationStatus -&gt; in MobileAds.initialize()?","body":"<p>Each GMA SDK update may change some initialization methods.</p>\n<blockquote>\n<p>&quot;is not working anymore, is that true?&quot;</p>\n</blockquote>\n<p>It depends on which version you use. At latest version it will work.</p>\n<p>Latest GMA SDK v21.1.0 has only these methods for initialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void initialize(@NonNull Context context) \n\npublic static void initialize(@NonNull Context context,\n @NonNull OnInitializationCompleteListener listener) \n</code></pre>\n<p>Also, <code>MobileAds.initialize(context, app_id)</code> was removed from the library, not available anymore in GMA SDK.</p>\n"}],"owner":{"account_id":25065028,"reputation":19,"user_id":18919463,"display_name":"Elparaguas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658586897,"creation_date":1658581815,"question_id":73091027,"body_markdown":"So I know that MobileAds.initialize() is used to reduce latency on the session&#39;s first ad request. But the structure as I have seen is MobileAds.initialize(context,app_id), so what is the use of &quot;initializationStatus -&gt; &quot; then ? I have also seen that someone said that &quot;MobileAds.initialize(this, initializationStatus -&gt; {\r\n        });&quot; is not working anymore, is that true? Is it OK if I use it?\r\n```\r\nMobileAds.initialize(this, initializationStatus -&gt; {\r\n        });\r\n\r\n```","title":"What is the use of initializationStatus -&gt; in MobileAds.initialize()?","body":"<p>So I know that MobileAds.initialize() is used to reduce latency on the session's first ad request. But the structure as I have seen is MobileAds.initialize(context,app_id), so what is the use of &quot;initializationStatus -&gt; &quot; then ? I have also seen that someone said that &quot;MobileAds.initialize(this, initializationStatus -&gt; {\n});&quot; is not working anymore, is that true? Is it OK if I use it?</p>\n<pre><code>MobileAds.initialize(this, initializationStatus -&gt; {\n        });\n\n</code></pre>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658560368,"post_id":73088652,"comment_id":129086162,"body_markdown":"That is happening most likely because you aren&#39;t signing out the user. Here is a [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) that might help.","body":"That is happening most likely because you aren&#39;t signing out the user. Here is a <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> that might help."}],"answers":[{"tags":[],"owner":{"account_id":14695987,"reputation":36,"user_id":10613369,"display_name":"Tharindu Dhanushka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658586027,"creation_date":1658585502,"answer_id":73091443,"question_id":73088652,"body_markdown":"In google sign-in code you check if the user is new or not but you are not doing anything with that other than showing a Toast.\r\n\r\n    //check if user is new or existing\r\n    if (authResult.getAdditionalUserInfo().isNewUser()) {\r\n      //user is new account created.\r\n      // if you want to do something with the new user do it here\r\n      Log.d(TAG, &quot;onSuccess: Account Created...\\n&quot; + email);\r\n      Toast.makeText(login.this, &quot;Account Created...\\n&quot; + email,Toast.LENGTH_LONG).show();\r\n    } else {\r\n      //existing user - logged in\r\n      Log.d(TAG, &quot;onSuccess: Existing user...\\n&quot; + email);\r\n      Toast.makeText(login.this,&quot;Existing user...\\n&quot; + email,Toast.LENGTH_SHORT).show();\r\n    }\r\n    startActivity(new Intent(login.this, MainActivity.class));\r\n    finish();\r\n\r\nIf you want to do something if it&#39;s a new user do it inside the if statement and when a user signup using google his/her email already becomes verified.","title":"How do I prevent newly registered accounts from being automatically signed in?","body":"<p>In google sign-in code you check if the user is new or not but you are not doing anything with that other than showing a Toast.</p>\n<pre><code>//check if user is new or existing\nif (authResult.getAdditionalUserInfo().isNewUser()) {\n  //user is new account created.\n  // if you want to do something with the new user do it here\n  Log.d(TAG, &quot;onSuccess: Account Created...\\n&quot; + email);\n  Toast.makeText(login.this, &quot;Account Created...\\n&quot; + email,Toast.LENGTH_LONG).show();\n} else {\n  //existing user - logged in\n  Log.d(TAG, &quot;onSuccess: Existing user...\\n&quot; + email);\n  Toast.makeText(login.this,&quot;Existing user...\\n&quot; + email,Toast.LENGTH_SHORT).show();\n}\nstartActivity(new Intent(login.this, MainActivity.class));\nfinish();\n</code></pre>\n<p>If you want to do something if it's a new user do it inside the if statement and when a user signup using google his/her email already becomes verified.</p>\n"}],"owner":{"account_id":25847319,"reputation":5,"user_id":19581931,"display_name":"caspernim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658586027,"creation_date":1658559252,"question_id":73088652,"body_markdown":"For my application, I got the usual registration option and the google authentication as well. At first, the registration is working well as intended, with no automatic sign-ins. But after integrating the google authentication in my code, my application would automatically sign-in the newly registered account even with these conditions on my login page. How do I fix this?\r\n\r\n    private void userLogin() {\r\n        String emailtxt = email.getText().toString().trim();\r\n        String passwordtxt = pass.getText().toString().trim();\r\n\r\n        if(emailtxt.isEmpty()){\r\n            email.setError(&quot;Email is required!&quot;);\r\n            email.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(!Patterns.EMAIL_ADDRESS.matcher(emailtxt).matches()){\r\n            email.setError(&quot;Please enter a valid email!&quot;);\r\n            email.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(passwordtxt.isEmpty()){\r\n            pass.setError(&quot;Password is required!&quot;);\r\n            pass.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(passwordtxt.length() &lt; 6){\r\n            pass.setError(&quot;Minimum password length is 6 characters!&quot;);\r\n            pass.requestFocus();\r\n            return;\r\n        }\r\n\r\n\r\n        mAuth.signInWithEmailAndPassword(emailtxt, passwordtxt).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                    //redirect to user profile\r\n\r\n                    if(user.isEmailVerified()) {\r\n                        startActivity(new Intent(login.this, MainActivity.class));\r\n\r\n                    }\r\n                    else{\r\n                        user.sendEmailVerification();\r\n                        Toast.makeText(login.this, &quot;Please check your email to verify your account&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n                else{\r\n                    Toast.makeText(login.this, &quot;Try again! The email/password you provided does not match any of our records&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nand this is my google auth code in the login activity \r\n\r\n    private void checkUser() {\r\n        //if user is already signed in then go to profile activity\r\n        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\r\n        if (firebaseUser != null){\r\n            Log.d(TAG, &quot;checkUser: Already logged in&quot;);\r\n            startActivity(new Intent(this, MainActivity.class));\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == RC_SIGN_IN){\r\n            Log.d(TAG, &quot;onActivityResult: Google Signin intent result&quot;);\r\n            Task&lt;GoogleSignInAccount&gt; accountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                //google sign in success,\r\n                GoogleSignInAccount account = accountTask.getResult(ApiException.class);\r\n                firebaseAuthWithGoogleAccount(account);\r\n            } catch (Exception e) {\r\n                Log.d(TAG, &quot;onActivityResult: &quot;+e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\r\n        Log.d(TAG, &quot;firebaseAuthWithGoogleAccount: begin firebase auth with google account&quot;);\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        firebaseAuth.signInWithCredential(credential).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(AuthResult authResult) {\r\n                        //login success\r\n                        Log.d(TAG, &quot;onSuccess: Logged In&quot;);\r\n\r\n                        //get logged in user\r\n                        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\r\n                        //get user info\r\n                        String uid = firebaseUser.getUid();\r\n                        String email = firebaseUser.getEmail();\r\n\r\n                        Log.d(TAG, &quot;onSuccess: Email: &quot;+email);\r\n                        Log.d(TAG, &quot;onSuccess: UID: &quot;+uid);\r\n\r\n                        //check if user is new or existing\r\n                        if(authResult.getAdditionalUserInfo().isNewUser()){\r\n                            //user is new account created\r\n                            Log.d(TAG, &quot;onSuccess: Account Created...\\n&quot;+email);\r\n                            Toast.makeText(login.this, &quot;Account Created...\\n&quot;+email, Toast.LENGTH_LONG).show();\r\n                        }\r\n                        else{\r\n                            //existing user - logged in\r\n                            Log.d(TAG, &quot;onSuccess: Existing user...\\n&quot;+email);\r\n                            Toast.makeText(login.this, &quot;Existing user...\\n&quot;+email, Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                        startActivity(new Intent(login.this, MainActivity.class));\r\n                        finish();\r\n\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        //login failed\r\n                        Log.d(TAG, &quot;onFailure: Login Failed &quot;+e.getMessage());\r\n\r\n                    }\r\n                });\r\n    }\r\n","title":"How do I prevent newly registered accounts from being automatically signed in?","body":"<p>For my application, I got the usual registration option and the google authentication as well. At first, the registration is working well as intended, with no automatic sign-ins. But after integrating the google authentication in my code, my application would automatically sign-in the newly registered account even with these conditions on my login page. How do I fix this?</p>\n<pre><code>private void userLogin() {\n    String emailtxt = email.getText().toString().trim();\n    String passwordtxt = pass.getText().toString().trim();\n\n    if(emailtxt.isEmpty()){\n        email.setError(&quot;Email is required!&quot;);\n        email.requestFocus();\n        return;\n    }\n\n    if(!Patterns.EMAIL_ADDRESS.matcher(emailtxt).matches()){\n        email.setError(&quot;Please enter a valid email!&quot;);\n        email.requestFocus();\n        return;\n    }\n\n    if(passwordtxt.isEmpty()){\n        pass.setError(&quot;Password is required!&quot;);\n        pass.requestFocus();\n        return;\n    }\n\n    if(passwordtxt.length() &lt; 6){\n        pass.setError(&quot;Minimum password length is 6 characters!&quot;);\n        pass.requestFocus();\n        return;\n    }\n\n\n    mAuth.signInWithEmailAndPassword(emailtxt, passwordtxt).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            if(task.isSuccessful()){\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                //redirect to user profile\n\n                if(user.isEmailVerified()) {\n                    startActivity(new Intent(login.this, MainActivity.class));\n\n                }\n                else{\n                    user.sendEmailVerification();\n                    Toast.makeText(login.this, &quot;Please check your email to verify your account&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n            else{\n                Toast.makeText(login.this, &quot;Try again! The email/password you provided does not match any of our records&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n}\n</code></pre>\n<p>and this is my google auth code in the login activity</p>\n<pre><code>private void checkUser() {\n    //if user is already signed in then go to profile activity\n    FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n    if (firebaseUser != null){\n        Log.d(TAG, &quot;checkUser: Already logged in&quot;);\n        startActivity(new Intent(this, MainActivity.class));\n        finish();\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(requestCode == RC_SIGN_IN){\n        Log.d(TAG, &quot;onActivityResult: Google Signin intent result&quot;);\n        Task&lt;GoogleSignInAccount&gt; accountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\n        try {\n            //google sign in success,\n            GoogleSignInAccount account = accountTask.getResult(ApiException.class);\n            firebaseAuthWithGoogleAccount(account);\n        } catch (Exception e) {\n            Log.d(TAG, &quot;onActivityResult: &quot;+e.getMessage());\n        }\n    }\n}\n\nprivate void firebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\n    Log.d(TAG, &quot;firebaseAuthWithGoogleAccount: begin firebase auth with google account&quot;);\n    AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\n    firebaseAuth.signInWithCredential(credential).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n                @Override\n                public void onSuccess(AuthResult authResult) {\n                    //login success\n                    Log.d(TAG, &quot;onSuccess: Logged In&quot;);\n\n                    //get logged in user\n                    FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n                    //get user info\n                    String uid = firebaseUser.getUid();\n                    String email = firebaseUser.getEmail();\n\n                    Log.d(TAG, &quot;onSuccess: Email: &quot;+email);\n                    Log.d(TAG, &quot;onSuccess: UID: &quot;+uid);\n\n                    //check if user is new or existing\n                    if(authResult.getAdditionalUserInfo().isNewUser()){\n                        //user is new account created\n                        Log.d(TAG, &quot;onSuccess: Account Created...\\n&quot;+email);\n                        Toast.makeText(login.this, &quot;Account Created...\\n&quot;+email, Toast.LENGTH_LONG).show();\n                    }\n                    else{\n                        //existing user - logged in\n                        Log.d(TAG, &quot;onSuccess: Existing user...\\n&quot;+email);\n                        Toast.makeText(login.this, &quot;Existing user...\\n&quot;+email, Toast.LENGTH_SHORT).show();\n\n                    }\n                    startActivity(new Intent(login.this, MainActivity.class));\n                    finish();\n\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    //login failed\n                    Log.d(TAG, &quot;onFailure: Login Failed &quot;+e.getMessage());\n\n                }\n            });\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","logging","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":2,"creation_date":1657887763,"post_id":72992405,"comment_id":128922571,"body_markdown":"As transaction is managed by Spring, you need to enable logging for Spring&#39;s transaction manager class. Try `logging.level.org.springframework.jdbc=DEBUG`.","body":"As transaction is managed by Spring, you need to enable logging for Spring&#39;s transaction manager class. Try <code>logging.level.org.springframework.jdbc=DEBUG</code>."}],"answers":[{"tags":[],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658586012,"creation_date":1658586012,"answer_id":73091496,"question_id":72992405,"body_markdown":"I found the answer, as it was mentioned in the comment\r\nI should have added this in the application.properties:\r\n```\r\nlogging.level.org.springframework.jdbc=DEBUG\r\n```","title":"How can I log queries with regard to the their transactions in MyBatis","body":"<p>I found the answer, as it was mentioned in the comment\nI should have added this in the application.properties:</p>\n<pre><code>logging.level.org.springframework.jdbc=DEBUG\n</code></pre>\n"}],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73091496,"answer_count":1,"score":0,"last_activity_date":1658586012,"creation_date":1657879898,"question_id":72992405,"body_markdown":"I have a spring boot project (2.7) and I&#39;m using Java 17 and I&#39;m using this maven package for Mybatis : mybatis-spring-boot-starter:2.2.2.\r\nAnd I&#39;m using postgres 14 as my database.\r\n\r\nIn the logs I enabled Mybatis query logs, but unfortunately still I don&#39;t see logs of transactions.\r\nI want to see which queries are part of which transactions.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nand this is my application properties file :\r\n\r\n```\r\nmybatis.typeAliasesPackage=com.example.demo.dto\r\nmybatis.config-location=classpath:mybatis-config.xml\r\nlogging.level.org.springframework=WARN\r\nlogging.level.com.example.demo.dao.UserMapper=DEBUG\r\nlogging.level.com.example.demo.dao.TransactionMapper=DEBUG\r\n\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/user\r\nspring.datasource.username=user\r\nspring.datasource.password=password\r\n\r\n```\r\n\r\nand here is my mybatis config file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE configuration\r\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\r\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n    &lt;settings&gt;\r\n        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;\r\n        &lt;setting name=&quot;cacheEnabled&quot; value=&quot;false&quot;/&gt;\r\n        &lt;setting name=&quot;localCacheScope&quot; value=&quot;STATEMENT&quot;/&gt;\r\n    &lt;/settings&gt;\r\n    &lt;typeAliases&gt;\r\n        &lt;package name=&quot;com.example.demo.dto&quot; /&gt;\r\n    &lt;/typeAliases&gt;\r\n\r\n\r\n    &lt;mappers&gt;\r\n        &lt;mapper resource=&quot;mapper/UserMapper.xml&quot;/&gt;\r\n        &lt;mapper resource=&quot;mapper/TransactionMapper.xml&quot;/&gt;\r\n    &lt;/mappers&gt;\r\n&lt;/configuration&gt;\r\n\r\n```","title":"How can I log queries with regard to the their transactions in MyBatis","body":"<p>I have a spring boot project (2.7) and I'm using Java 17 and I'm using this maven package for Mybatis : mybatis-spring-boot-starter:2.2.2.\nAnd I'm using postgres 14 as my database.</p>\n<p>In the logs I enabled Mybatis query logs, but unfortunately still I don't see logs of transactions.\nI want to see which queries are part of which transactions.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>and this is my application properties file :</p>\n<pre><code>mybatis.typeAliasesPackage=com.example.demo.dto\nmybatis.config-location=classpath:mybatis-config.xml\nlogging.level.org.springframework=WARN\nlogging.level.com.example.demo.dao.UserMapper=DEBUG\nlogging.level.com.example.demo.dao.TransactionMapper=DEBUG\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/user\nspring.datasource.username=user\nspring.datasource.password=password\n\n</code></pre>\n<p>and here is my mybatis config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    &lt;settings&gt;\n        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;\n        &lt;setting name=&quot;cacheEnabled&quot; value=&quot;false&quot;/&gt;\n        &lt;setting name=&quot;localCacheScope&quot; value=&quot;STATEMENT&quot;/&gt;\n    &lt;/settings&gt;\n    &lt;typeAliases&gt;\n        &lt;package name=&quot;com.example.demo.dto&quot; /&gt;\n    &lt;/typeAliases&gt;\n\n\n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;mapper/UserMapper.xml&quot;/&gt;\n        &lt;mapper resource=&quot;mapper/TransactionMapper.xml&quot;/&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n"},{"tags":["java","jframe","chess"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658585140,"creation_date":1658584819,"answer_id":73091354,"question_id":73091235,"body_markdown":"One way and perhaps the the most useful is to implement a `mouseListener`and then get the `x y` position from one of the methods.\r\n\r\n- Write a class to extend `MouseAdapter`.\r\n- override the desired empty methods.\r\n- then add an instance of that class to the frame via `addMouseListener` (and perhaps `addMouseMotionListener`).\r\n\r\nThen when you do some action with the mouse, you can get the coordinnates from the `MouseEvent.` It helps to put some print statements in each method to observe what is going on (what method is processing what mouse movement).\r\n\r\nThe above will serve to demonstrate the process. But later on you should actually add the listener on a `JPanel` and add the `JPanel` to the frame.","title":"How do I figure out where I am clicking on a JFrame?","body":"<p>One way and perhaps the the most useful is to implement a <code>mouseListener</code>and then get the <code>x y</code> position from one of the methods.</p>\n<ul>\n<li>Write a class to extend <code>MouseAdapter</code>.</li>\n<li>override the desired empty methods.</li>\n<li>then add an instance of that class to the frame via <code>addMouseListener</code> (and perhaps <code>addMouseMotionListener</code>).</li>\n</ul>\n<p>Then when you do some action with the mouse, you can get the coordinnates from the <code>MouseEvent.</code> It helps to put some print statements in each method to observe what is going on (what method is processing what mouse movement).</p>\n<p>The above will serve to demonstrate the process. But later on you should actually add the listener on a <code>JPanel</code> and add the <code>JPanel</code> to the frame.</p>\n"}],"owner":{"account_id":25874093,"reputation":19,"user_id":19604448,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658585140,"creation_date":1658583698,"question_id":73091235,"body_markdown":"I am trying to make a chess engine as a fun project, but for that I really want to make a GUI. The problem is that I have no experience with this, so I am a little stuck. I managed to create the board, but there are two things I have no idea how to do and looking online just confuses me further.\r\n\r\n1. How do I add the pieces to the board, based on what the board looks like in the computers memory. (so for example if the engine makes a move, I want that move to also happen on the gui, how would I link the two?)\r\n\r\n2. How do I figure out what square the user is clicking on in the gui?\r\n\r\n\r\nThis is the code I have so far for the gui, it&#39;s not much, but it&#39;s honest work\r\n\r\n```\r\nprivate final JFrame gameFrame;\r\n    private Board board;\r\n\r\n    public Table() {\r\n        this.board = new Board();\r\n        this.gameFrame = new JFrame(&quot;Chess&quot;);\r\n        this.gameFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        this.gameFrame.setSize(527, 550);\r\n        JPanel panel = new JPanel() {\r\n            @Override\r\n            public void paint(Graphics g) {\r\n                boolean white = true;\r\n                for (int i = 0; i &lt; 8; i++) {\r\n                    for (int j = 0; j &lt; 8; j++) {\r\n                        if (white) {\r\n                            g.setColor(new Color(240, 217, 181));\r\n                        }\r\n                        else {\r\n                            g.setColor(new Color(181, 136, 99));\r\n                        }\r\n                        g.fillRect(j * 64, i * 64, 64, 64);\r\n                        white = !white;\r\n                    }\r\n                    white = !white;\r\n                }\r\n            }\r\n        };\r\n        this.gameFrame.add(panel);\r\n        this.gameFrame.setVisible(true);\r\n    }\r\n```\r\n\r\nI know I am probably asking questions with complicated answers, but I am just looking for something I can look up or some general directions","title":"How do I figure out where I am clicking on a JFrame?","body":"<p>I am trying to make a chess engine as a fun project, but for that I really want to make a GUI. The problem is that I have no experience with this, so I am a little stuck. I managed to create the board, but there are two things I have no idea how to do and looking online just confuses me further.</p>\n<ol>\n<li><p>How do I add the pieces to the board, based on what the board looks like in the computers memory. (so for example if the engine makes a move, I want that move to also happen on the gui, how would I link the two?)</p>\n</li>\n<li><p>How do I figure out what square the user is clicking on in the gui?</p>\n</li>\n</ol>\n<p>This is the code I have so far for the gui, it's not much, but it's honest work</p>\n<pre><code>private final JFrame gameFrame;\n    private Board board;\n\n    public Table() {\n        this.board = new Board();\n        this.gameFrame = new JFrame(&quot;Chess&quot;);\n        this.gameFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        this.gameFrame.setSize(527, 550);\n        JPanel panel = new JPanel() {\n            @Override\n            public void paint(Graphics g) {\n                boolean white = true;\n                for (int i = 0; i &lt; 8; i++) {\n                    for (int j = 0; j &lt; 8; j++) {\n                        if (white) {\n                            g.setColor(new Color(240, 217, 181));\n                        }\n                        else {\n                            g.setColor(new Color(181, 136, 99));\n                        }\n                        g.fillRect(j * 64, i * 64, 64, 64);\n                        white = !white;\n                    }\n                    white = !white;\n                }\n            }\n        };\n        this.gameFrame.add(panel);\n        this.gameFrame.setVisible(true);\n    }\n</code></pre>\n<p>I know I am probably asking questions with complicated answers, but I am just looking for something I can look up or some general directions</p>\n"},{"tags":["java","swing","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298051039,"creation_date":1298051039,"answer_id":5044676,"question_id":5044628,"body_markdown":"Rather than overriding, put a value in the field and add a `KeyListener` that would remove the value when a key stroke is registered. Maybe also have it change the foreground.\r\n\r\nYou could wrap this up into your own custom `JTextField` class that would take the default text in a constructor.","title":"Example text in JTextField","body":"<p>Rather than overriding, put a value in the field and add a <code>KeyListener</code> that would remove the value when a key stroke is registered. Maybe also have it change the foreground.</p>\n\n<p>You could wrap this up into your own custom <code>JTextField</code> class that would take the default text in a constructor.</p>\n"},{"tags":[],"owner":{"account_id":72664,"reputation":28560,"user_id":209706,"accept_rate":80,"display_name":"Mot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298051086,"creation_date":1298051086,"answer_id":5044688,"question_id":5044628,"body_markdown":"You can&#39;t do that with a plain text field, but you can put a disabled `JLabel` on top of the `JTextField` and hide it if the text field gets the focus.","title":"Example text in JTextField","body":"<p>You can't do that with a plain text field, but you can put a disabled <code>JLabel</code> on top of the <code>JTextField</code> and hide it if the text field gets the focus.</p>\n"},{"tags":[],"owner":{"account_id":173843,"reputation":1974,"user_id":402805,"display_name":"Daniel Teply"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1298051847,"creation_date":1298051847,"answer_id":5044819,"question_id":5044628,"body_markdown":"If you can use external librairies, the Swing components from [Jide software][1] have what you are looking for; it&#39;s called LabeledTextField ([javadoc][2]) and it&#39;s part of the JIDE Common Layer (Open Source Project) - which is free. It&#39;s doing what mklhmnn suggested.\r\n\r\n\r\n  [1]: http://www.jidesoft.com/\r\n  [2]: http://www.jidesoft.com/javadoc/com/jidesoft/swing/LabeledTextField.html","title":"Example text in JTextField","body":"<p>If you can use external librairies, the Swing components from <a href=\"http://www.jidesoft.com/\" rel=\"nofollow\">Jide software</a> have what you are looking for; it's called LabeledTextField (<a href=\"http://www.jidesoft.com/javadoc/com/jidesoft/swing/LabeledTextField.html\" rel=\"nofollow\">javadoc</a>) and it's part of the JIDE Common Layer (Open Source Project) - which is free. It's doing what mklhmnn suggested.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298052137,"creation_date":1298052137,"answer_id":5044861,"question_id":5044628,"body_markdown":"How about initialize the text field with default text and give it a focus listener such that when focus is gained, if the text .equals the default text, call selectAll() on the JTextField.","title":"Example text in JTextField","body":"<p>How about initialize the text field with default text and give it a focus listener such that when focus is gained, if the text .equals the default text, call selectAll() on the JTextField.</p>\n"},{"tags":[],"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298053541,"creation_date":1298052986,"answer_id":5044998,"question_id":5044628,"body_markdown":"Do it like this: \r\n\r\n1. Define the string with the initial text you like and set up your TextField:\r\n\r\n        String initialText = &quot;Enter your initial text here&quot;;\r\n        jTextField1.setText(initialText);\r\n\r\n2. Add a Focus Listener to your TextField, which selects the entire contents of the TextField if it still has the initial value. Anything you may type in will replace the entire contents, since it is selected.\r\n\r\n        jTextField1.addFocusListener(new java.awt.event.FocusAdapter() {\r\n            public void focusGained(java.awt.event.FocusEvent evt) {\r\n               if (jTextField1.getText().equals(initialText)) {\r\n                  jTextField1.selectAll();\r\n               }\r\n            }\r\n        });\r\n","title":"Example text in JTextField","body":"<p>Do it like this: </p>\n\n<ol>\n<li><p>Define the string with the initial text you like and set up your TextField:</p>\n\n<pre><code>String initialText = \"Enter your initial text here\";\njTextField1.setText(initialText);\n</code></pre></li>\n<li><p>Add a Focus Listener to your TextField, which selects the entire contents of the TextField if it still has the initial value. Anything you may type in will replace the entire contents, since it is selected.</p>\n\n<pre><code>jTextField1.addFocusListener(new java.awt.event.FocusAdapter() {\n    public void focusGained(java.awt.event.FocusEvent evt) {\n       if (jTextField1.getText().equals(initialText)) {\n          jTextField1.selectAll();\n       }\n    }\n});\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1658585000,"creation_date":1298057977,"answer_id":5045770,"question_id":5044628,"body_markdown":"The [Text Prompt][1] class provides the required functionality without using a custom JTextField.\r\n\r\nIt allows you to specify a prompt that is displayed when the text field is empty. As soon as you type text the prompt is removed.\r\n\r\nThe prompt is actually a `JLabel` so you can customize the font, style, colour, transparency etc..:\r\n\r\n    JTextField tf7 = new JTextField(10);\r\n    TextPrompt tp7 = new TextPrompt(&quot;First Name&quot;, tf7);\r\n    tp7.setForeground( Color.RED );\r\n\r\nSome examples of customizing the look of the prompt:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2009/11/29/text-prompt/\r\n  [2]: https://i.stack.imgur.com/9r8em.png","title":"Example text in JTextField","body":"<p>The <a href=\"http://tips4java.wordpress.com/2009/11/29/text-prompt/\" rel=\"nofollow noreferrer\">Text Prompt</a> class provides the required functionality without using a custom JTextField.</p>\n<p>It allows you to specify a prompt that is displayed when the text field is empty. As soon as you type text the prompt is removed.</p>\n<p>The prompt is actually a <code>JLabel</code> so you can customize the font, style, colour, transparency etc..:</p>\n<pre><code>JTextField tf7 = new JTextField(10);\nTextPrompt tp7 = new TextPrompt(&quot;First Name&quot;, tf7);\ntp7.setForeground( Color.RED );\n</code></pre>\n<p>Some examples of customizing the look of the prompt:</p>\n<p><a href=\"https://i.stack.imgur.com/9r8em.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9r8em.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1351937793,"creation_date":1351930560,"answer_id":13207343,"question_id":5044628,"body_markdown":"    private JLabel l;\r\n\r\n    JPromptTextField(String prompt) {\r\n        l = new JLabel(prompt, SwingConstants.CENTER);\r\n        l.setForeground(Color.GRAY);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        \r\n        if (this.getText().length() == 0) {\r\n            // Reshape the label if needed, then paint\r\n\r\n            final Rectangle mine = this.getBounds();\r\n            final Rectangle its = l.getBounds(); \r\n            boolean resized = (mine.width != its.width) || (mine.height != its.height);\r\n            boolean moved = (mine.x != its.x) || (mine.y != its.y);\r\n            if (resized || moved)\r\n                l.setBounds(mine);\r\n\r\n            l.paint(g);\r\n        }\r\n    }","title":"Example text in JTextField","body":"<pre><code>private JLabel l;\n\nJPromptTextField(String prompt) {\n    l = new JLabel(prompt, SwingConstants.CENTER);\n    l.setForeground(Color.GRAY);\n}\n\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    if (this.getText().length() == 0) {\n        // Reshape the label if needed, then paint\n\n        final Rectangle mine = this.getBounds();\n        final Rectangle its = l.getBounds(); \n        boolean resized = (mine.width != its.width) || (mine.height != its.height);\n        boolean moved = (mine.x != its.x) || (mine.y != its.y);\n        if (resized || moved)\n            l.setBounds(mine);\n\n        l.paint(g);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":95364,"reputation":3856,"user_id":259757,"accept_rate":66,"display_name":"startoftext"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14129,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5045770,"answer_count":7,"score":7,"last_activity_date":1658585000,"creation_date":1298050826,"question_id":5044628,"body_markdown":"I am looking for a way to put example text into a swing JTextField and have it grayed out. The example text should then disappear as soon as any thing is entered into that text field. Some what similar to what stackoverflow does when a user is posting a question with the title field. \r\n\r\nI would like it if it was already a extended implementation of JTextField so that I can just drop it in as a simple replacement. Anything from swingx would work. I guess if there is not an easy way to do this my option will probably be to override the paint method of JTextField do something that way maybe.\r\n\r\nThanks","title":"Example text in JTextField","body":"<p>I am looking for a way to put example text into a swing JTextField and have it grayed out. The example text should then disappear as soon as any thing is entered into that text field. Some what similar to what stackoverflow does when a user is posting a question with the title field. </p>\n\n<p>I would like it if it was already a extended implementation of JTextField so that I can just drop it in as a simple replacement. Anything from swingx would work. I guess if there is not an easy way to do this my option will probably be to override the paint method of JTextField do something that way maybe.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","tensorflow","fragment"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658425129,"post_id":73064933,"comment_id":129054396,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25294386,"reputation":29,"user_id":19119811,"display_name":"sanju"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658584693,"creation_date":1658400883,"question_id":73064933,"body_markdown":" How to change Fragment i.e change using back camera to usb camera for tensorflow as input for object detection,i suppose its possible by changing the fragment in the camera activity for full code :\r\n&lt;https://github.com/tensorflow/examples/tree/66f60ebc3dd2e8527b7bbbb280fe0657d54f20f4/lite/examples/object_detection/android&gt;\r\n\r\nfor usb camera:\r\n&lt;https://github.com/quantum6/Android-USB-OTG-Camera&gt;\r\n\r\n\r\n\r\n\r\n```\r\n \r\n\r\nimport com.jiangdg.usbcamera.R;\r\nimport com.jiangdg.usbcamera.UVCCameraHelper;\r\nimport com.jiangdg.usbcamera.utils.FileUtils;\r\nimport com.serenegiant.usb.CameraDialog;\r\nimport com.serenegiant.usb.Size;\r\nimport com.serenegiant.usb.USBMonitor;\r\nimport com.serenegiant.usb.common.AbstractUVCCameraHandler;\r\nimport com.serenegiant.usb.widget.CameraViewInterface;\r\n\r\n\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport java.util.List;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\n\r\npublic class camo extends AppCompatActivity implements CameraDialog.CameraDialogParent  {\r\n\r\n    @BindView(R.id.camera_view1)\r\n    public View mTextureView;\r\n\r\n    private boolean isRequest;\r\n    private boolean isPreview;\r\n\r\n\r\n    private UVCCameraHelper mCameraHelper;\r\n    private CameraViewInterface mUVCCameraView;\r\n    private AlertDialog mDialog;\r\n\r\n\r\n    private UVCCameraHelper.OnMyDevConnectListener listener = new UVCCameraHelper.OnMyDevConnectListener() {\r\n\r\n        @Override\r\n        public void onAttachDev(UsbDevice device) {\r\n            // request open permission\r\n            if (!isRequest) {\r\n                isRequest = true;\r\n\r\n                if (mCameraHelper != null) {\r\n                    mCameraHelper.requestPermission(0);\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onDettachDev(UsbDevice device) {\r\n            // close camera\r\n            if (isRequest) {\r\n                isRequest = false;\r\n                mCameraHelper.closeCamera();\r\n                showShortMsg(device.getDeviceName() + &quot; is out&quot;);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onConnectDev(UsbDevice device, boolean isConnected) {\r\n            if (!isConnected) {\r\n                showShortMsg(&quot;fail to connect,please check resolution params&quot;);\r\n                isPreview = false;\r\n            } else {\r\n                isPreview = true;\r\n                showShortMsg(&quot;connecting&quot;);\r\n\r\n                // need to wait UVCCamera initialize over\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            Thread.sleep(2500);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        Looper.prepare();\r\n                        if(mCameraHelper != null &amp;&amp; mCameraHelper.isCameraOpened()) {\r\n\r\n                        }\r\n                        Looper.loop();\r\n                    }\r\n                }).start();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onDisConnectDev(UsbDevice device) {\r\n            showShortMsg(&quot;disconnecting&quot;);\r\n        }\r\n\r\n    };\r\n\r\n    @Override\r\n    public USBMonitor getUSBMonitor() {\r\n        return mCameraHelper.getUSBMonitor();\r\n    }\r\n    @Override\r\n    public void onDialogResult(boolean canceled) {\r\n        if (canceled) {\r\n            showShortMsg(&quot;取消操作&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_camo);\r\n        ButterKnife.bind(this);\r\n\r\n\r\n\r\n        mUVCCameraView = (CameraViewInterface) mTextureView;\r\n        mUVCCameraView.setCallback(mCallback);\r\n        mCameraHelper = UVCCameraHelper.getInstance();\r\n\r\n\r\n        mCameraHelper.setDefaultFrameFormat(UVCCameraHelper.FRAME_FORMAT_MJPEG);\r\n\r\n        mCameraHelper.initUSBMonitor(this, mUVCCameraView, listener);\r\n\r\n\r\n        mCameraHelper.setOnPreviewFrameListener(new AbstractUVCCameraHandler.OnPreViewResultListener() {\r\n            @Override\r\n            public void onPreviewResult(byte[] nv21Yuv) {\r\n                Log.d(&quot;debug&quot;, &quot;onPreviewResult: &quot;+nv21Yuv.length);\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    private CameraViewInterface.Callback mCallback = new CameraViewInterface.Callback() {\r\n\r\n        @Override\r\n        public void onSurfaceCreated(CameraViewInterface view, Surface surface) {\r\n            // must have\r\n            if (!isPreview &amp;&amp; mCameraHelper.isCameraOpened()) {\r\n                mCameraHelper.startPreview(mUVCCameraView);\r\n                isPreview = true;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceChanged(CameraViewInterface view, Surface surface, int width, int height) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceDestroy(CameraViewInterface view, Surface surface) {\r\n            // must have\r\n            if (isPreview &amp;&amp; mCameraHelper.isCameraOpened()) {\r\n                mCameraHelper.stopPreview();\r\n                isPreview = false;\r\n            }\r\n        }\r\n    };\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        // step.2 register USB event broadcast\r\n        if (mCameraHelper != null) {\r\n            mCameraHelper.registerUSB();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        // step.3 unregister USB event broadcast\r\n        if (mCameraHelper != null) {\r\n            mCameraHelper.unregisterUSB();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        FileUtils.releaseFile();\r\n        // step.4 release uvc camera resources\r\n        if (mCameraHelper != null) {\r\n            mCameraHelper.release();\r\n        }\r\n    }\r\n    public boolean isCameraOpened() {\r\n        return mCameraHelper.isCameraOpened();\r\n    }\r\n   \r\n\r\n\r\n}\r\n```\r\n\r\nFrom the above code i must use usb camera instead of back camera the above is the usb camera class,,\r\n\r\nCameraActivity:\r\n\r\n```\r\nprotected void setFragment() {\r\n    String cameraId = chooseCamera();\r\n\r\n    Fragment fragment;\r\n    if (useCamera2API) {\r\n      CameraConnectionFragment camera2Fragment =\r\n              CameraConnectionFragment.newInstance(\r\n                      new CameraConnectionFragment.ConnectionCallback() {\r\n                        @Override\r\n                        public void onPreviewSizeChosen(final Size size, final int rotation) {\r\n                          previewHeight = size.getHeight();\r\n                          previewWidth = size.getWidth();\r\n                          CameraActivity.this.onPreviewSizeChosen(size, rotation);\r\n                        }\r\n                      },\r\n                      this,\r\n                      getLayoutId(),\r\n                      getDesiredPreviewFrameSize());\r\n\r\n      camera2Fragment.setCamera(cameraId);\r\n      fragment = camera2Fragment;\r\n    } else {\r\n      fragment =\r\n              new LegacyCameraConnectionFragment(this, getLayoutId(), getDesiredPreviewFrameSize());\r\n    }\r\n\r\n    getFragmentManager().beginTransaction().replace(R.id.container, fragment).commit();\r\n  }\r\n```\r\nCameraConnectionFragment:\r\n```\r\n\r\n@SuppressLint(&quot;ValidFragment&quot;)\r\npublic class CameraConnectionFragment extends Fragment {\r\n  private static final Logger LOGGER = new Logger();\r\n\r\n  /**\r\n   * The camera preview size will be chosen to be the smallest frame by pixel size capable of\r\n   * containing a DESIRED_SIZE x DESIRED_SIZE square.\r\n   */\r\n  private static final int MINIMUM_PREVIEW_SIZE = 320;\r\n\r\n  /** Conversion from screen rotation to JPEG orientation. */\r\n  private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\r\n\r\n  private static final String FRAGMENT_DIALOG = &quot;dialog&quot;;\r\n\r\n  static {\r\n    ORIENTATIONS.append(Surface.ROTATION_0, 90);\r\n    ORIENTATIONS.append(Surface.ROTATION_90, 0);\r\n    ORIENTATIONS.append(Surface.ROTATION_180, 270);\r\n    ORIENTATIONS.append(Surface.ROTATION_270, 180);\r\n  }\r\n\r\n  /** A {@link Semaphore} to prevent the app from exiting before closing the camera. */\r\n  private final Semaphore cameraOpenCloseLock = new Semaphore(1);\r\n  /** A {@link OnImageAvailableListener} to receive frames as they are available. */\r\n  private final OnImageAvailableListener imageListener;\r\n  /** The input size in pixels desired by TensorFlow (width and height of a square bitmap). */\r\n  private final Size inputSize;\r\n  /** The layout identifier to inflate for this Fragment. */\r\n  private final int layout;\r\n\r\n  private final ConnectionCallback cameraConnectionCallback;\r\n  private final CameraCaptureSession.CaptureCallback captureCallback =\r\n      new CameraCaptureSession.CaptureCallback() {\r\n        @Override\r\n        public void onCaptureProgressed(\r\n            final CameraCaptureSession session,\r\n            final CaptureRequest request,\r\n            final CaptureResult partialResult) {}\r\n\r\n        @Override\r\n        public void onCaptureCompleted(\r\n            final CameraCaptureSession session,\r\n            final CaptureRequest request,\r\n            final TotalCaptureResult result) {}\r\n      };\r\n \r\n  private final CameraDevice.StateCallback stateCallback =\r\n      new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(final CameraDevice cd) {\r\n          // This method is called when the camera is opened.  We start camera preview here.\r\n          cameraOpenCloseLock.release();\r\n          cameraDevice = cd;\r\n          createCameraPreviewSession();\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onDisconnected(final CameraDevice cd) {\r\n          cameraOpenCloseLock.release();\r\n          cd.close();\r\n          cameraDevice = null;\r\n        }\r\n\r\n        @Override\r\n        public void onError(final CameraDevice cd, final int error) {\r\n          cameraOpenCloseLock.release();\r\n          cd.close();\r\n          cameraDevice = null;\r\n          final Activity activity = getActivity();\r\n          if (null != activity) {\r\n            activity.finish();\r\n          }\r\n        }\r\n      };\r\n  /**\r\n   * {@link TextureView.SurfaceTextureListener} handles several lifecycle events on a {@link\r\n   * TextureView}.\r\n   */\r\n  private final TextureView.SurfaceTextureListener surfaceTextureListener =\r\n      new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(\r\n            final SurfaceTexture texture, final int width, final int height) {\r\n          openCamera(width, height);\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(\r\n            final SurfaceTexture texture, final int width, final int height) {\r\n          configureTransform(width, height);\r\n        }\r\n\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(final SurfaceTexture texture) {\r\n          return true;\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureUpdated(final SurfaceTexture texture) {}\r\n      };\r\n\r\n  private CameraConnectionFragment(\r\n      final ConnectionCallback connectionCallback,\r\n      final OnImageAvailableListener imageListener,\r\n      final int layout,\r\n      final Size inputSize) {\r\n    this.cameraConnectionCallback = connectionCallback;\r\n    this.imageListener = imageListener;\r\n    this.layout = layout;\r\n    this.inputSize = inputSize;\r\n  }\r\n\r\n  \r\n  protected static Size chooseOptimalSize(final Size[] choices, final int width, final int height) {\r\n    final int minSize = Math.max(Math.min(width, height), MINIMUM_PREVIEW_SIZE);\r\n    final Size desiredSize = new Size(width, height);\r\n\r\n    // Collect the supported resolutions that are at least as big as the preview Surface\r\n    boolean exactSizeFound = false;\r\n    final List&lt;Size&gt; bigEnough = new ArrayList&lt;Size&gt;();\r\n    final List&lt;Size&gt; tooSmall = new ArrayList&lt;Size&gt;();\r\n    for (final Size option : choices) {\r\n      if (option.equals(desiredSize)) {\r\n        // Set the size but don&#39;t return yet so that remaining sizes will still be logged.\r\n        exactSizeFound = true;\r\n      }\r\n\r\n      if (option.getHeight() &gt;= minSize &amp;&amp; option.getWidth() &gt;= minSize) {\r\n        bigEnough.add(option);\r\n      } else {\r\n        tooSmall.add(option);\r\n      }\r\n    }\r\n\r\n    LOGGER.i(&quot;Desired size: &quot; + desiredSize + &quot;, min size: &quot; + minSize + &quot;x&quot; + minSize);\r\n    LOGGER.i(&quot;Valid preview sizes: [&quot; + TextUtils.join(&quot;, &quot;, bigEnough) + &quot;]&quot;);\r\n    LOGGER.i(&quot;Rejected preview sizes: [&quot; + TextUtils.join(&quot;, &quot;, tooSmall) + &quot;]&quot;);\r\n\r\n    if (exactSizeFound) {\r\n      LOGGER.i(&quot;Exact size match found.&quot;);\r\n      return desiredSize;\r\n    }\r\n\r\n    // Pick the smallest of those, assuming we found any\r\n    if (bigEnough.size() &gt; 0) {\r\n      final Size chosenSize = Collections.min(bigEnough, new CompareSizesByArea());\r\n      LOGGER.i(&quot;Chosen size: &quot; + chosenSize.getWidth() + &quot;x&quot; + chosenSize.getHeight());\r\n      return chosenSize;\r\n    } else {\r\n      LOGGER.e(&quot;Couldn&#39;t find any suitable preview size&quot;);\r\n      return choices[0];\r\n    }\r\n  }\r\n\r\n  public static CameraConnectionFragment newInstance(\r\n      final ConnectionCallback callback,\r\n      final OnImageAvailableListener imageListener,\r\n      final int layout,\r\n      final Size inputSize) {\r\n    return new CameraConnectionFragment(callback, imageListener, layout, inputSize);\r\n  }\r\n\r\n  /**\r\n   * Shows a {@link Toast} on the UI thread.\r\n   *\r\n   * @param text The message to show\r\n   */\r\n  private void showToast(final String text) {\r\n    final Activity activity = getActivity();\r\n    if (activity != null) {\r\n      activity.runOnUiThread(\r\n          new Runnable() {\r\n            @Override\r\n            public void run() {\r\n              Toast.makeText(activity, text, Toast.LENGTH_SHORT).show();\r\n            }\r\n          });\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public View onCreateView(\r\n      final LayoutInflater inflater, final ViewGroup container, final Bundle savedInstanceState) {\r\n    return inflater.inflate(layout, container, false);\r\n  }\r\n\r\n  @Override\r\n  public void onViewCreated(final View view, final Bundle savedInstanceState) {\r\n    textureView = (AutoFitTextureView) view.findViewById(R.id.texture);\r\n  }\r\n\r\n  @Override\r\n  public void onActivityCreated(final Bundle savedInstanceState) {\r\n    super.onActivityCreated(savedInstanceState);\r\n  }\r\n\r\n  @Override\r\n  public void onResume() {\r\n    super.onResume();\r\n    startBackgroundThread();\r\n\r\n    // When the screen is turned off and turned back on, the SurfaceTexture is already\r\n    // available, and &quot;onSurfaceTextureAvailable&quot; will not be called. In that case, we can open\r\n    // a camera and start preview from here (otherwise, we wait until the surface is ready in\r\n    // the SurfaceTextureListener).\r\n    if (textureView.isAvailable()) {\r\n      openCamera(textureView.getWidth(), textureView.getHeight());\r\n    } else {\r\n      textureView.setSurfaceTextureListener(surfaceTextureListener);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void onPause() {\r\n    closeCamera();\r\n    stopBackgroundThread();\r\n    super.onPause();\r\n  }\r\n\r\n  public void setCamera(String cameraId) {\r\n    this.cameraId = cameraId;\r\n  }\r\n\r\n  /** Sets up member variables related to camera. */\r\n  private void setUpCameraOutputs() {\r\n    final Activity activity = getActivity();\r\n    final CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\r\n    try {\r\n      final CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\r\n\r\n      final StreamConfigurationMap map =\r\n          characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n\r\n      sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\r\n\r\n      // Danger, W.R.! Attempting to use too large a preview size could  exceed the camera\r\n      // bus&#39; bandwidth limitation, resulting in gorgeous previews but the storage of\r\n      // garbage capture data.\r\n      previewSize =\r\n          chooseOptimalSize(\r\n              map.getOutputSizes(SurfaceTexture.class),\r\n              inputSize.getWidth(),\r\n              inputSize.getHeight());\r\n\r\n      // We fit the aspect ratio of TextureView to the size of preview we picked.\r\n      final int orientation = getResources().getConfiguration().orientation;\r\n      if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n        textureView.setAspectRatio(previewSize.getWidth(), previewSize.getHeight());\r\n      } else {\r\n        textureView.setAspectRatio(previewSize.getHeight(), previewSize.getWidth());\r\n      }\r\n    } catch (final CameraAccessException e) {\r\n      LOGGER.e(e, &quot;Exception!&quot;);\r\n    } catch (final NullPointerException e) {\r\n      // Currently an NPE is thrown when the Camera2API is used but not supported on the\r\n      // device this code runs.\r\n      ErrorDialog.newInstance(getString(R.string.tfe_od_camera_error))\r\n          .show(getChildFragmentManager(), FRAGMENT_DIALOG);\r\n      throw new IllegalStateException(getString(R.string.tfe_od_camera_error));\r\n    }\r\n\r\n    cameraConnectionCallback.onPreviewSizeChosen(previewSize, sensorOrientation);\r\n  }\r\n\r\n  /** Opens the camera specified by {@link CameraConnectionFragment#cameraId}. */\r\n  private void openCamera(final int width, final int height) {\r\n    setUpCameraOutputs();\r\n    configureTransform(width, height);\r\n    final Activity activity = getActivity();\r\n    final CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\r\n    try {\r\n      if (!cameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\r\n        throw new RuntimeException(&quot;Time out waiting to lock camera opening.&quot;);\r\n      }\r\n      manager.openCamera(cameraId, stateCallback, backgroundHandler);\r\n    } catch (final CameraAccessException e) {\r\n      LOGGER.e(e, &quot;Exception!&quot;);\r\n    } catch (final InterruptedException e) {\r\n      throw new RuntimeException(&quot;Interrupted while trying to lock camera opening.&quot;, e);\r\n    }\r\n  }\r\n\r\n  /** Closes the current {@link CameraDevice}. */\r\n  private void closeCamera() {\r\n    try {\r\n      cameraOpenCloseLock.acquire();\r\n      if (null != captureSession) {\r\n        captureSession.close();\r\n        captureSession = null;\r\n      }\r\n      if (null != cameraDevice) {\r\n        cameraDevice.close();\r\n        cameraDevice = null;\r\n      }\r\n      if (null != previewReader) {\r\n        previewReader.close();\r\n        previewReader = null;\r\n      }\r\n    } catch (final InterruptedException e) {\r\n      throw new RuntimeException(&quot;Interrupted while trying to lock camera closing.&quot;, e);\r\n    } finally {\r\n      cameraOpenCloseLock.release();\r\n    }\r\n  }\r\n\r\n  /** Starts a background thread and its {@link Handler}. */\r\n  private void startBackgroundThread() {\r\n    backgroundThread = new HandlerThread(&quot;ImageListener&quot;);\r\n    backgroundThread.start();\r\n    backgroundHandler = new Handler(backgroundThread.getLooper());\r\n  }\r\n\r\n  /** Stops the background thread and its {@link Handler}. */\r\n  private void stopBackgroundThread() {\r\n    backgroundThread.quitSafely();\r\n    try {\r\n      backgroundThread.join();\r\n      backgroundThread = null;\r\n      backgroundHandler = null;\r\n    } catch (final InterruptedException e) {\r\n      LOGGER.e(e, &quot;Exception!&quot;);\r\n    }\r\n  }\r\n\r\n  /** Creates a new {@link CameraCaptureSession} for camera preview. */\r\n  private void createCameraPreviewSession() {\r\n    try {\r\n      final SurfaceTexture texture = textureView.getSurfaceTexture();\r\n      assert texture != null;\r\n\r\n      // We configure the size of default buffer to be the size of camera preview we want.\r\n      texture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\r\n\r\n      // This is the output Surface we need to start preview.\r\n      final Surface surface = new Surface(texture);\r\n\r\n      // We set up a CaptureRequest.Builder with the output Surface.\r\n      previewRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n      previewRequestBuilder.addTarget(surface);\r\n\r\n      LOGGER.i(&quot;Opening camera preview: &quot; + previewSize.getWidth() + &quot;x&quot; + previewSize.getHeight());\r\n\r\n      // Create the reader for the preview frames.\r\n      previewReader =\r\n          ImageReader.newInstance(\r\n              previewSize.getWidth(), previewSize.getHeight(), ImageFormat.YUV_420_888, 2);\r\n\r\n      previewReader.setOnImageAvailableListener(imageListener, backgroundHandler);\r\n      previewRequestBuilder.addTarget(previewReader.getSurface());\r\n\r\n      // Here, we create a CameraCaptureSession for camera preview.\r\n      cameraDevice.createCaptureSession(\r\n          Arrays.asList(surface, previewReader.getSurface()),\r\n          new CameraCaptureSession.StateCallback() {\r\n\r\n            @Override\r\n            public void onConfigured(final CameraCaptureSession cameraCaptureSession) {\r\n              // The camera is already closed\r\n              if (null == cameraDevice) {\r\n                return;\r\n              }\r\n\r\n              // When the session is ready, we start displaying the preview.\r\n              captureSession = cameraCaptureSession;\r\n              try {\r\n                // Auto focus should be continuous for camera preview.\r\n                previewRequestBuilder.set(\r\n                    CaptureRequest.CONTROL_AF_MODE,\r\n                    CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_PICTURE);\r\n                // Flash is automatically enabled when necessary.\r\n                previewRequestBuilder.set(\r\n                    CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON_AUTO_FLASH);\r\n\r\n                // Finally, we start displaying the camera preview.\r\n                previewRequest = previewRequestBuilder.build();\r\n                captureSession.setRepeatingRequest(\r\n                    previewRequest, captureCallback, backgroundHandler);\r\n              } catch (final CameraAccessException e) {\r\n                LOGGER.e(e, &quot;Exception!&quot;);\r\n              }\r\n            }\r\n\r\n            @Override\r\n            public void onConfigureFailed(final CameraCaptureSession cameraCaptureSession) {\r\n              showToast(&quot;Failed&quot;);\r\n            }\r\n          },\r\n          null);\r\n    } catch (final CameraAccessException e) {\r\n      LOGGER.e(e, &quot;Exception!&quot;);\r\n    }\r\n  }\r\n\r\n   * Callback for Activities to use to initialize their data once the selected preview size is\r\n   * known.\r\n   */\r\n  public interface ConnectionCallback {\r\n    void onPreviewSizeChosen(Size size, int cameraRotation);\r\n  }\r\n\r\n /** Compares two {@code Size}s based on their areas. */\r\n  static class CompareSizesByArea implements Comparator&lt;Size&gt; {\r\n    @Override\r\n    public int compare(final Size lhs, final Size rhs) {\r\n      // We cast here to ensure the multiplications won&#39;t overflow\r\n      return Long.signum(\r\n          (long) lhs.getWidth() * lhs.getHeight() - (long) rhs.getWidth() * rhs.getHeight());\r\n    }\r\n  }\r\n\r\n  /** Shows an error message dialog. */\r\n  public static class ErrorDialog extends DialogFragment {\r\n    private static final String ARG_MESSAGE = &quot;message&quot;;\r\n\r\n    public static ErrorDialog newInstance(final String message) {\r\n      final ErrorDialog dialog = new ErrorDialog();\r\n      final Bundle args = new Bundle();\r\n      args.putString(ARG_MESSAGE, message);\r\n      dialog.setArguments(args);\r\n      return dialog;\r\n    }\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(final Bundle savedInstanceState) {\r\n      final Activity activity = getActivity();\r\n      return new AlertDialog.Builder(activity)\r\n          .setMessage(getArguments().getString(ARG_MESSAGE))\r\n          .setPositiveButton(\r\n              android.R.string.ok,\r\n              new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(final DialogInterface dialogInterface, final int i) {\r\n                  activity.finish();\r\n                }\r\n              })\r\n          .create();\r\n    }\r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n","title":"Android Fragment Change","body":"<p>How to change Fragment i.e change using back camera to usb camera for tensorflow as input for object detection,i suppose its possible by changing the fragment in the camera activity for full code :\n<a href=\"https://github.com/tensorflow/examples/tree/66f60ebc3dd2e8527b7bbbb280fe0657d54f20f4/lite/examples/object_detection/android\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/examples/tree/66f60ebc3dd2e8527b7bbbb280fe0657d54f20f4/lite/examples/object_detection/android</a></p>\n<p>for usb camera:\n<a href=\"https://github.com/quantum6/Android-USB-OTG-Camera\" rel=\"nofollow noreferrer\">https://github.com/quantum6/Android-USB-OTG-Camera</a></p>\n<pre><code> \n\nimport com.jiangdg.usbcamera.R;\nimport com.jiangdg.usbcamera.UVCCameraHelper;\nimport com.jiangdg.usbcamera.utils.FileUtils;\nimport com.serenegiant.usb.CameraDialog;\nimport com.serenegiant.usb.Size;\nimport com.serenegiant.usb.USBMonitor;\nimport com.serenegiant.usb.common.AbstractUVCCameraHandler;\nimport com.serenegiant.usb.widget.CameraViewInterface;\n\n\n\nimport java.util.ArrayList;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\n\npublic class camo extends AppCompatActivity implements CameraDialog.CameraDialogParent  {\n\n    @BindView(R.id.camera_view1)\n    public View mTextureView;\n\n    private boolean isRequest;\n    private boolean isPreview;\n\n\n    private UVCCameraHelper mCameraHelper;\n    private CameraViewInterface mUVCCameraView;\n    private AlertDialog mDialog;\n\n\n    private UVCCameraHelper.OnMyDevConnectListener listener = new UVCCameraHelper.OnMyDevConnectListener() {\n\n        @Override\n        public void onAttachDev(UsbDevice device) {\n            // request open permission\n            if (!isRequest) {\n                isRequest = true;\n\n                if (mCameraHelper != null) {\n                    mCameraHelper.requestPermission(0);\n\n                }\n            }\n        }\n\n\n        @Override\n        public void onDettachDev(UsbDevice device) {\n            // close camera\n            if (isRequest) {\n                isRequest = false;\n                mCameraHelper.closeCamera();\n                showShortMsg(device.getDeviceName() + &quot; is out&quot;);\n            }\n        }\n\n        @Override\n        public void onConnectDev(UsbDevice device, boolean isConnected) {\n            if (!isConnected) {\n                showShortMsg(&quot;fail to connect,please check resolution params&quot;);\n                isPreview = false;\n            } else {\n                isPreview = true;\n                showShortMsg(&quot;connecting&quot;);\n\n                // need to wait UVCCamera initialize over\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        try {\n                            Thread.sleep(2500);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                        Looper.prepare();\n                        if(mCameraHelper != null &amp;&amp; mCameraHelper.isCameraOpened()) {\n\n                        }\n                        Looper.loop();\n                    }\n                }).start();\n            }\n        }\n\n        @Override\n        public void onDisConnectDev(UsbDevice device) {\n            showShortMsg(&quot;disconnecting&quot;);\n        }\n\n    };\n\n    @Override\n    public USBMonitor getUSBMonitor() {\n        return mCameraHelper.getUSBMonitor();\n    }\n    @Override\n    public void onDialogResult(boolean canceled) {\n        if (canceled) {\n            showShortMsg(&quot;取消操作&quot;);\n        }\n\n    }\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_camo);\n        ButterKnife.bind(this);\n\n\n\n        mUVCCameraView = (CameraViewInterface) mTextureView;\n        mUVCCameraView.setCallback(mCallback);\n        mCameraHelper = UVCCameraHelper.getInstance();\n\n\n        mCameraHelper.setDefaultFrameFormat(UVCCameraHelper.FRAME_FORMAT_MJPEG);\n\n        mCameraHelper.initUSBMonitor(this, mUVCCameraView, listener);\n\n\n        mCameraHelper.setOnPreviewFrameListener(new AbstractUVCCameraHandler.OnPreViewResultListener() {\n            @Override\n            public void onPreviewResult(byte[] nv21Yuv) {\n                Log.d(&quot;debug&quot;, &quot;onPreviewResult: &quot;+nv21Yuv.length);\n\n            }\n        });\n\n\n    }\n\n\n    private CameraViewInterface.Callback mCallback = new CameraViewInterface.Callback() {\n\n        @Override\n        public void onSurfaceCreated(CameraViewInterface view, Surface surface) {\n            // must have\n            if (!isPreview &amp;&amp; mCameraHelper.isCameraOpened()) {\n                mCameraHelper.startPreview(mUVCCameraView);\n                isPreview = true;\n            }\n        }\n\n        @Override\n        public void onSurfaceChanged(CameraViewInterface view, Surface surface, int width, int height) {\n\n        }\n\n        @Override\n        public void onSurfaceDestroy(CameraViewInterface view, Surface surface) {\n            // must have\n            if (isPreview &amp;&amp; mCameraHelper.isCameraOpened()) {\n                mCameraHelper.stopPreview();\n                isPreview = false;\n            }\n        }\n    };\n    @Override\n    protected void onStart() {\n        super.onStart();\n        // step.2 register USB event broadcast\n        if (mCameraHelper != null) {\n            mCameraHelper.registerUSB();\n        }\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        // step.3 unregister USB event broadcast\n        if (mCameraHelper != null) {\n            mCameraHelper.unregisterUSB();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        FileUtils.releaseFile();\n        // step.4 release uvc camera resources\n        if (mCameraHelper != null) {\n            mCameraHelper.release();\n        }\n    }\n    public boolean isCameraOpened() {\n        return mCameraHelper.isCameraOpened();\n    }\n   \n\n\n}\n</code></pre>\n<p>From the above code i must use usb camera instead of back camera the above is the usb camera class,,</p>\n<p>CameraActivity:</p>\n<pre><code>protected void setFragment() {\n    String cameraId = chooseCamera();\n\n    Fragment fragment;\n    if (useCamera2API) {\n      CameraConnectionFragment camera2Fragment =\n              CameraConnectionFragment.newInstance(\n                      new CameraConnectionFragment.ConnectionCallback() {\n                        @Override\n                        public void onPreviewSizeChosen(final Size size, final int rotation) {\n                          previewHeight = size.getHeight();\n                          previewWidth = size.getWidth();\n                          CameraActivity.this.onPreviewSizeChosen(size, rotation);\n                        }\n                      },\n                      this,\n                      getLayoutId(),\n                      getDesiredPreviewFrameSize());\n\n      camera2Fragment.setCamera(cameraId);\n      fragment = camera2Fragment;\n    } else {\n      fragment =\n              new LegacyCameraConnectionFragment(this, getLayoutId(), getDesiredPreviewFrameSize());\n    }\n\n    getFragmentManager().beginTransaction().replace(R.id.container, fragment).commit();\n  }\n</code></pre>\n<p>CameraConnectionFragment:</p>\n<pre><code>\n@SuppressLint(&quot;ValidFragment&quot;)\npublic class CameraConnectionFragment extends Fragment {\n  private static final Logger LOGGER = new Logger();\n\n  /**\n   * The camera preview size will be chosen to be the smallest frame by pixel size capable of\n   * containing a DESIRED_SIZE x DESIRED_SIZE square.\n   */\n  private static final int MINIMUM_PREVIEW_SIZE = 320;\n\n  /** Conversion from screen rotation to JPEG orientation. */\n  private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\n\n  private static final String FRAGMENT_DIALOG = &quot;dialog&quot;;\n\n  static {\n    ORIENTATIONS.append(Surface.ROTATION_0, 90);\n    ORIENTATIONS.append(Surface.ROTATION_90, 0);\n    ORIENTATIONS.append(Surface.ROTATION_180, 270);\n    ORIENTATIONS.append(Surface.ROTATION_270, 180);\n  }\n\n  /** A {@link Semaphore} to prevent the app from exiting before closing the camera. */\n  private final Semaphore cameraOpenCloseLock = new Semaphore(1);\n  /** A {@link OnImageAvailableListener} to receive frames as they are available. */\n  private final OnImageAvailableListener imageListener;\n  /** The input size in pixels desired by TensorFlow (width and height of a square bitmap). */\n  private final Size inputSize;\n  /** The layout identifier to inflate for this Fragment. */\n  private final int layout;\n\n  private final ConnectionCallback cameraConnectionCallback;\n  private final CameraCaptureSession.CaptureCallback captureCallback =\n      new CameraCaptureSession.CaptureCallback() {\n        @Override\n        public void onCaptureProgressed(\n            final CameraCaptureSession session,\n            final CaptureRequest request,\n            final CaptureResult partialResult) {}\n\n        @Override\n        public void onCaptureCompleted(\n            final CameraCaptureSession session,\n            final CaptureRequest request,\n            final TotalCaptureResult result) {}\n      };\n \n  private final CameraDevice.StateCallback stateCallback =\n      new CameraDevice.StateCallback() {\n        @Override\n        public void onOpened(final CameraDevice cd) {\n          // This method is called when the camera is opened.  We start camera preview here.\n          cameraOpenCloseLock.release();\n          cameraDevice = cd;\n          createCameraPreviewSession();\n        }\n\n\n        @Override\n        public void onDisconnected(final CameraDevice cd) {\n          cameraOpenCloseLock.release();\n          cd.close();\n          cameraDevice = null;\n        }\n\n        @Override\n        public void onError(final CameraDevice cd, final int error) {\n          cameraOpenCloseLock.release();\n          cd.close();\n          cameraDevice = null;\n          final Activity activity = getActivity();\n          if (null != activity) {\n            activity.finish();\n          }\n        }\n      };\n  /**\n   * {@link TextureView.SurfaceTextureListener} handles several lifecycle events on a {@link\n   * TextureView}.\n   */\n  private final TextureView.SurfaceTextureListener surfaceTextureListener =\n      new TextureView.SurfaceTextureListener() {\n        @Override\n        public void onSurfaceTextureAvailable(\n            final SurfaceTexture texture, final int width, final int height) {\n          openCamera(width, height);\n        }\n\n        @Override\n        public void onSurfaceTextureSizeChanged(\n            final SurfaceTexture texture, final int width, final int height) {\n          configureTransform(width, height);\n        }\n\n        @Override\n        public boolean onSurfaceTextureDestroyed(final SurfaceTexture texture) {\n          return true;\n        }\n\n        @Override\n        public void onSurfaceTextureUpdated(final SurfaceTexture texture) {}\n      };\n\n  private CameraConnectionFragment(\n      final ConnectionCallback connectionCallback,\n      final OnImageAvailableListener imageListener,\n      final int layout,\n      final Size inputSize) {\n    this.cameraConnectionCallback = connectionCallback;\n    this.imageListener = imageListener;\n    this.layout = layout;\n    this.inputSize = inputSize;\n  }\n\n  \n  protected static Size chooseOptimalSize(final Size[] choices, final int width, final int height) {\n    final int minSize = Math.max(Math.min(width, height), MINIMUM_PREVIEW_SIZE);\n    final Size desiredSize = new Size(width, height);\n\n    // Collect the supported resolutions that are at least as big as the preview Surface\n    boolean exactSizeFound = false;\n    final List&lt;Size&gt; bigEnough = new ArrayList&lt;Size&gt;();\n    final List&lt;Size&gt; tooSmall = new ArrayList&lt;Size&gt;();\n    for (final Size option : choices) {\n      if (option.equals(desiredSize)) {\n        // Set the size but don't return yet so that remaining sizes will still be logged.\n        exactSizeFound = true;\n      }\n\n      if (option.getHeight() &gt;= minSize &amp;&amp; option.getWidth() &gt;= minSize) {\n        bigEnough.add(option);\n      } else {\n        tooSmall.add(option);\n      }\n    }\n\n    LOGGER.i(&quot;Desired size: &quot; + desiredSize + &quot;, min size: &quot; + minSize + &quot;x&quot; + minSize);\n    LOGGER.i(&quot;Valid preview sizes: [&quot; + TextUtils.join(&quot;, &quot;, bigEnough) + &quot;]&quot;);\n    LOGGER.i(&quot;Rejected preview sizes: [&quot; + TextUtils.join(&quot;, &quot;, tooSmall) + &quot;]&quot;);\n\n    if (exactSizeFound) {\n      LOGGER.i(&quot;Exact size match found.&quot;);\n      return desiredSize;\n    }\n\n    // Pick the smallest of those, assuming we found any\n    if (bigEnough.size() &gt; 0) {\n      final Size chosenSize = Collections.min(bigEnough, new CompareSizesByArea());\n      LOGGER.i(&quot;Chosen size: &quot; + chosenSize.getWidth() + &quot;x&quot; + chosenSize.getHeight());\n      return chosenSize;\n    } else {\n      LOGGER.e(&quot;Couldn't find any suitable preview size&quot;);\n      return choices[0];\n    }\n  }\n\n  public static CameraConnectionFragment newInstance(\n      final ConnectionCallback callback,\n      final OnImageAvailableListener imageListener,\n      final int layout,\n      final Size inputSize) {\n    return new CameraConnectionFragment(callback, imageListener, layout, inputSize);\n  }\n\n  /**\n   * Shows a {@link Toast} on the UI thread.\n   *\n   * @param text The message to show\n   */\n  private void showToast(final String text) {\n    final Activity activity = getActivity();\n    if (activity != null) {\n      activity.runOnUiThread(\n          new Runnable() {\n            @Override\n            public void run() {\n              Toast.makeText(activity, text, Toast.LENGTH_SHORT).show();\n            }\n          });\n    }\n  }\n\n  @Override\n  public View onCreateView(\n      final LayoutInflater inflater, final ViewGroup container, final Bundle savedInstanceState) {\n    return inflater.inflate(layout, container, false);\n  }\n\n  @Override\n  public void onViewCreated(final View view, final Bundle savedInstanceState) {\n    textureView = (AutoFitTextureView) view.findViewById(R.id.texture);\n  }\n\n  @Override\n  public void onActivityCreated(final Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n  }\n\n  @Override\n  public void onResume() {\n    super.onResume();\n    startBackgroundThread();\n\n    // When the screen is turned off and turned back on, the SurfaceTexture is already\n    // available, and &quot;onSurfaceTextureAvailable&quot; will not be called. In that case, we can open\n    // a camera and start preview from here (otherwise, we wait until the surface is ready in\n    // the SurfaceTextureListener).\n    if (textureView.isAvailable()) {\n      openCamera(textureView.getWidth(), textureView.getHeight());\n    } else {\n      textureView.setSurfaceTextureListener(surfaceTextureListener);\n    }\n  }\n\n  @Override\n  public void onPause() {\n    closeCamera();\n    stopBackgroundThread();\n    super.onPause();\n  }\n\n  public void setCamera(String cameraId) {\n    this.cameraId = cameraId;\n  }\n\n  /** Sets up member variables related to camera. */\n  private void setUpCameraOutputs() {\n    final Activity activity = getActivity();\n    final CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\n    try {\n      final CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n\n      final StreamConfigurationMap map =\n          characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n\n      sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\n\n      // Danger, W.R.! Attempting to use too large a preview size could  exceed the camera\n      // bus' bandwidth limitation, resulting in gorgeous previews but the storage of\n      // garbage capture data.\n      previewSize =\n          chooseOptimalSize(\n              map.getOutputSizes(SurfaceTexture.class),\n              inputSize.getWidth(),\n              inputSize.getHeight());\n\n      // We fit the aspect ratio of TextureView to the size of preview we picked.\n      final int orientation = getResources().getConfiguration().orientation;\n      if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\n        textureView.setAspectRatio(previewSize.getWidth(), previewSize.getHeight());\n      } else {\n        textureView.setAspectRatio(previewSize.getHeight(), previewSize.getWidth());\n      }\n    } catch (final CameraAccessException e) {\n      LOGGER.e(e, &quot;Exception!&quot;);\n    } catch (final NullPointerException e) {\n      // Currently an NPE is thrown when the Camera2API is used but not supported on the\n      // device this code runs.\n      ErrorDialog.newInstance(getString(R.string.tfe_od_camera_error))\n          .show(getChildFragmentManager(), FRAGMENT_DIALOG);\n      throw new IllegalStateException(getString(R.string.tfe_od_camera_error));\n    }\n\n    cameraConnectionCallback.onPreviewSizeChosen(previewSize, sensorOrientation);\n  }\n\n  /** Opens the camera specified by {@link CameraConnectionFragment#cameraId}. */\n  private void openCamera(final int width, final int height) {\n    setUpCameraOutputs();\n    configureTransform(width, height);\n    final Activity activity = getActivity();\n    final CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\n    try {\n      if (!cameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\n        throw new RuntimeException(&quot;Time out waiting to lock camera opening.&quot;);\n      }\n      manager.openCamera(cameraId, stateCallback, backgroundHandler);\n    } catch (final CameraAccessException e) {\n      LOGGER.e(e, &quot;Exception!&quot;);\n    } catch (final InterruptedException e) {\n      throw new RuntimeException(&quot;Interrupted while trying to lock camera opening.&quot;, e);\n    }\n  }\n\n  /** Closes the current {@link CameraDevice}. */\n  private void closeCamera() {\n    try {\n      cameraOpenCloseLock.acquire();\n      if (null != captureSession) {\n        captureSession.close();\n        captureSession = null;\n      }\n      if (null != cameraDevice) {\n        cameraDevice.close();\n        cameraDevice = null;\n      }\n      if (null != previewReader) {\n        previewReader.close();\n        previewReader = null;\n      }\n    } catch (final InterruptedException e) {\n      throw new RuntimeException(&quot;Interrupted while trying to lock camera closing.&quot;, e);\n    } finally {\n      cameraOpenCloseLock.release();\n    }\n  }\n\n  /** Starts a background thread and its {@link Handler}. */\n  private void startBackgroundThread() {\n    backgroundThread = new HandlerThread(&quot;ImageListener&quot;);\n    backgroundThread.start();\n    backgroundHandler = new Handler(backgroundThread.getLooper());\n  }\n\n  /** Stops the background thread and its {@link Handler}. */\n  private void stopBackgroundThread() {\n    backgroundThread.quitSafely();\n    try {\n      backgroundThread.join();\n      backgroundThread = null;\n      backgroundHandler = null;\n    } catch (final InterruptedException e) {\n      LOGGER.e(e, &quot;Exception!&quot;);\n    }\n  }\n\n  /** Creates a new {@link CameraCaptureSession} for camera preview. */\n  private void createCameraPreviewSession() {\n    try {\n      final SurfaceTexture texture = textureView.getSurfaceTexture();\n      assert texture != null;\n\n      // We configure the size of default buffer to be the size of camera preview we want.\n      texture.setDefaultBufferSize(previewSize.getWidth(), previewSize.getHeight());\n\n      // This is the output Surface we need to start preview.\n      final Surface surface = new Surface(texture);\n\n      // We set up a CaptureRequest.Builder with the output Surface.\n      previewRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n      previewRequestBuilder.addTarget(surface);\n\n      LOGGER.i(&quot;Opening camera preview: &quot; + previewSize.getWidth() + &quot;x&quot; + previewSize.getHeight());\n\n      // Create the reader for the preview frames.\n      previewReader =\n          ImageReader.newInstance(\n              previewSize.getWidth(), previewSize.getHeight(), ImageFormat.YUV_420_888, 2);\n\n      previewReader.setOnImageAvailableListener(imageListener, backgroundHandler);\n      previewRequestBuilder.addTarget(previewReader.getSurface());\n\n      // Here, we create a CameraCaptureSession for camera preview.\n      cameraDevice.createCaptureSession(\n          Arrays.asList(surface, previewReader.getSurface()),\n          new CameraCaptureSession.StateCallback() {\n\n            @Override\n            public void onConfigured(final CameraCaptureSession cameraCaptureSession) {\n              // The camera is already closed\n              if (null == cameraDevice) {\n                return;\n              }\n\n              // When the session is ready, we start displaying the preview.\n              captureSession = cameraCaptureSession;\n              try {\n                // Auto focus should be continuous for camera preview.\n                previewRequestBuilder.set(\n                    CaptureRequest.CONTROL_AF_MODE,\n                    CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_PICTURE);\n                // Flash is automatically enabled when necessary.\n                previewRequestBuilder.set(\n                    CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON_AUTO_FLASH);\n\n                // Finally, we start displaying the camera preview.\n                previewRequest = previewRequestBuilder.build();\n                captureSession.setRepeatingRequest(\n                    previewRequest, captureCallback, backgroundHandler);\n              } catch (final CameraAccessException e) {\n                LOGGER.e(e, &quot;Exception!&quot;);\n              }\n            }\n\n            @Override\n            public void onConfigureFailed(final CameraCaptureSession cameraCaptureSession) {\n              showToast(&quot;Failed&quot;);\n            }\n          },\n          null);\n    } catch (final CameraAccessException e) {\n      LOGGER.e(e, &quot;Exception!&quot;);\n    }\n  }\n\n   * Callback for Activities to use to initialize their data once the selected preview size is\n   * known.\n   */\n  public interface ConnectionCallback {\n    void onPreviewSizeChosen(Size size, int cameraRotation);\n  }\n\n /** Compares two {@code Size}s based on their areas. */\n  static class CompareSizesByArea implements Comparator&lt;Size&gt; {\n    @Override\n    public int compare(final Size lhs, final Size rhs) {\n      // We cast here to ensure the multiplications won't overflow\n      return Long.signum(\n          (long) lhs.getWidth() * lhs.getHeight() - (long) rhs.getWidth() * rhs.getHeight());\n    }\n  }\n\n  /** Shows an error message dialog. */\n  public static class ErrorDialog extends DialogFragment {\n    private static final String ARG_MESSAGE = &quot;message&quot;;\n\n    public static ErrorDialog newInstance(final String message) {\n      final ErrorDialog dialog = new ErrorDialog();\n      final Bundle args = new Bundle();\n      args.putString(ARG_MESSAGE, message);\n      dialog.setArguments(args);\n      return dialog;\n    }\n\n    @Override\n    public Dialog onCreateDialog(final Bundle savedInstanceState) {\n      final Activity activity = getActivity();\n      return new AlertDialog.Builder(activity)\n          .setMessage(getArguments().getString(ARG_MESSAGE))\n          .setPositiveButton(\n              android.R.string.ok,\n              new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(final DialogInterface dialogInterface, final int i) {\n                  activity.finish();\n                }\n              })\n          .create();\n    }\n  }\n}\n\n\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1658560408,"post_id":73088643,"comment_id":129086167,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1658562981,"post_id":73088643,"comment_id":129086608,"body_markdown":"The shared code has no error. The functionality of the above code is its picking up the image from the gallery. The thing I am getting stuck is that the image I am selecting is not showing in the user chat and not getting upload in cloud storage.","body":"The shared code has no error. The functionality of the above code is its picking up the image from the gallery. The thing I am getting stuck is that the image I am selecting is not showing in the user chat and not getting upload in cloud storage."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658563064,"post_id":73088643,"comment_id":129086625,"body_markdown":"Are you sure you&#39;re getting the right (correct) URL?","body":"Are you sure you&#39;re getting the right (correct) URL?"},{"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"score":0,"creation_date":1658563637,"post_id":73088643,"comment_id":129086719,"body_markdown":"That what I want to know. Is I am doing it correctly?","body":"That what I want to know. Is I am doing it correctly?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1658564236,"post_id":73088643,"comment_id":129086814,"body_markdown":"Have you tried to log the value, to see if it&#39;s indeed the right one?","body":"Have you tried to log the value, to see if it&#39;s indeed the right one?"}],"answers":[{"tags":[],"owner":{"account_id":14153116,"reputation":2736,"user_id":10224590,"display_name":"Pranav Choudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658560910,"creation_date":1658560910,"answer_id":73088806,"question_id":73088643,"body_markdown":"**Store that image URL in your chat.**\r\n\r\n\r\n\r\nYou can do something like this, I am giving you an example for firebase realtime database:\r\n\r\n\r\n\r\n\r\n\r\n     @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == 438 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n\r\n                // you should show some progress dialog or progress bar here for better user experience.\r\n                progressDialog.show()\r\n                fileUri = data.getData();\r\n                if (checker.equals(&quot;image&quot;)) {\r\n                    StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Image files&quot;);\r\n    \r\n                    final String messgSenderRef = &quot;Messages/&quot; + mAuth.getCurrentUser().getUid() + &quot;/&quot; + userId;\r\n                    final String messgReceiverRf = &quot;Messages/&quot; + userId + &quot;/&quot; + mAuth.getCurrentUser().getUid();\r\n                    DatabaseReference messageRef = databaseReference.child(&quot;Messages&quot;).child(mAuth.getCurrentUser().getUid()).child(userId).push();\r\n                    final String messagePushId = messageRef.getKey();\r\n                    final StorageReference filepath = storageReference.child(messagePushId + &quot;.&quot; + &quot;jpg&quot;);\r\n                    filepath.putFile(fileUri).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onProgress(@NonNull UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                     // you can show progress of upload here, let suppose you have a progressDialog then:-\r\n                            double p = ((double) 100 * taskSnapshot.getBytesTransferred()) / taskSnapshot.getTotalByteCount();\r\n    \r\n                            progressDialog.setMessage((int) p + &quot;%&quot; + &quot; Uploading....&quot;);\r\n    \r\n                        }\r\n                    }).continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                        @Override\r\n                        public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                            if (!task.isSuccessful()) {\r\n                                throw task.getException();\r\n    \r\n    \r\n                            }\r\n    \r\n                            return filepath.getDownloadUrl();\r\n                        }\r\n                    }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                \r\n                                progressDialog.dismiss();\r\n                                // Now you have Uri of your image\r\n                                downloadUri = task.getResult().toString();\r\n    \r\n    \r\n                                Map&lt;String, Object&gt; messageTextBody = new HashMap&lt;&gt;();\r\n                                messageTextBody.put(&quot;message&quot;, downloadUri);\r\n                                messageTextBody.put(&quot;name&quot;, fileUri.getLastPathSegment());\r\n                                messageTextBody.put(&quot;type&quot;, fileStatus);\r\n                                messageTextBody.put(&quot;from&quot;, mAuth.getCurrentUser().getUid());\r\n    \r\n                                messageTextBody.put(&quot;to&quot;, userId);\r\n                                messageTextBody.put(&quot;messageId&quot;, messagePushId);\r\n                                messageTextBody.put(&quot;time&quot;, saveCurrentTime);\r\n                                messageTextBody.put(&quot;date&quot;, saveCurrentDate);\r\n    \r\n    \r\n                                Map&lt;String, Object&gt; messageBodydetails = new HashMap&lt;&gt;();\r\n                                // add message to sender and receiver&#39;s \r\n                                messageBodydetails.put(messgSenderRef + &quot;/&quot; + messagePushId, messageTextBody);\r\n                                messageBodydetails.put(messgReceiverRf + &quot;/&quot; + messagePushId, messageTextBody);\r\n    \r\n    \r\n                                databaseReference.updateChildren(messageBodydetails).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                        if (task.isSuccessful()) {\r\n                                            editText.setText(&quot;&quot;);\r\n                                        }\r\n                                    }\r\n                                });\r\n    \r\n    \r\n                            } else {\r\n                                Toast.makeText(ChatActivity.this, &quot;Error: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                                progressDialog.dismiss();\r\n    \r\n                            }\r\n    \r\n                        }\r\n                    });\r\n    \r\n                } else {\r\n    \r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n\r\nThen in the chat you can check for the changes in the database in realtime and update your chat&#39;s recycler view in realtime. Just specify the chat message type to identify and display the view accordingly. If the chat type is text, show the text message. If the chat type is an image, load an image from the URL you have stored.","title":"Unable to share images in android project chat applicaton","body":"<p><strong>Store that image URL in your chat.</strong></p>\n<p>You can do something like this, I am giving you an example for firebase realtime database:</p>\n<pre><code> @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 438 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n            // you should show some progress dialog or progress bar here for better user experience.\n            progressDialog.show()\n            fileUri = data.getData();\n            if (checker.equals(&quot;image&quot;)) {\n                StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Image files&quot;);\n\n                final String messgSenderRef = &quot;Messages/&quot; + mAuth.getCurrentUser().getUid() + &quot;/&quot; + userId;\n                final String messgReceiverRf = &quot;Messages/&quot; + userId + &quot;/&quot; + mAuth.getCurrentUser().getUid();\n                DatabaseReference messageRef = databaseReference.child(&quot;Messages&quot;).child(mAuth.getCurrentUser().getUid()).child(userId).push();\n                final String messagePushId = messageRef.getKey();\n                final StorageReference filepath = storageReference.child(messagePushId + &quot;.&quot; + &quot;jpg&quot;);\n                filepath.putFile(fileUri).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onProgress(@NonNull UploadTask.TaskSnapshot taskSnapshot) {\n\n                 // you can show progress of upload here, let suppose you have a progressDialog then:-\n                        double p = ((double) 100 * taskSnapshot.getBytesTransferred()) / taskSnapshot.getTotalByteCount();\n\n                        progressDialog.setMessage((int) p + &quot;%&quot; + &quot; Uploading....&quot;);\n\n                    }\n                }).continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n                    @Override\n                    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                        if (!task.isSuccessful()) {\n                            throw task.getException();\n\n\n                        }\n\n                        return filepath.getDownloadUrl();\n                    }\n                }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                        if (task.isSuccessful()) {\n                            \n                            progressDialog.dismiss();\n                            // Now you have Uri of your image\n                            downloadUri = task.getResult().toString();\n\n\n                            Map&lt;String, Object&gt; messageTextBody = new HashMap&lt;&gt;();\n                            messageTextBody.put(&quot;message&quot;, downloadUri);\n                            messageTextBody.put(&quot;name&quot;, fileUri.getLastPathSegment());\n                            messageTextBody.put(&quot;type&quot;, fileStatus);\n                            messageTextBody.put(&quot;from&quot;, mAuth.getCurrentUser().getUid());\n\n                            messageTextBody.put(&quot;to&quot;, userId);\n                            messageTextBody.put(&quot;messageId&quot;, messagePushId);\n                            messageTextBody.put(&quot;time&quot;, saveCurrentTime);\n                            messageTextBody.put(&quot;date&quot;, saveCurrentDate);\n\n\n                            Map&lt;String, Object&gt; messageBodydetails = new HashMap&lt;&gt;();\n                            // add message to sender and receiver's \n                            messageBodydetails.put(messgSenderRef + &quot;/&quot; + messagePushId, messageTextBody);\n                            messageBodydetails.put(messgReceiverRf + &quot;/&quot; + messagePushId, messageTextBody);\n\n\n                            databaseReference.updateChildren(messageBodydetails).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        editText.setText(&quot;&quot;);\n                                    }\n                                }\n                            });\n\n\n                        } else {\n                            Toast.makeText(ChatActivity.this, &quot;Error: &quot; + task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                            progressDialog.dismiss();\n\n                        }\n\n                    }\n                });\n\n            } else {\n\n            }\n\n\n        }\n\n    }\n</code></pre>\n<p>Then in the chat you can check for the changes in the database in realtime and update your chat's recycler view in realtime. Just specify the chat message type to identify and display the view accordingly. If the chat type is text, show the text message. If the chat type is an image, load an image from the URL you have stored.</p>\n"}],"owner":{"account_id":25868371,"reputation":1,"user_id":19599620,"display_name":"RAndroid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658584359,"creation_date":1658559077,"question_id":73088643,"body_markdown":"I tried to share the image in my chat application. But was not able to successfully share it. It&#39;s selecting the image from the gallery but not appearing in the Userchat screen and not getting upload in the firebase also.\r\n\r\nI am not able to find the solution for it. I would very much appreciate if someone can help me out.\r\n\r\n        attachment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                CharSequence options[] = new CharSequence[]\r\n                        {\r\n                          &quot;Image&quot;, &quot;Documents&quot;\r\n                        };\r\n\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(UserChatActivity.this);\r\n                builder.setTitle(&quot;Select File&quot;);\r\n\r\n                builder.setItems(options, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        if(i == 0)\r\n                        {\r\n                            checker = &quot;image&quot;;\r\n\r\n                            Intent intent = new Intent();\r\n                            intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                            intent.setType(&quot;image/*&quot;);\r\n                            startActivityForResult(intent.createChooser(intent, &quot;Select Image&quot;), 438);\r\n                        }\r\n                        if (i == 1)\r\n                        {\r\n                            checker = &quot;pdf&quot;;\r\n                        }\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        });\r\n\r\n**StorageReference**\r\n\r\n        @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 438 &amp;&amp; requestCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null)\r\n        {\r\n            fileUri = data.getData();\r\n\r\n            if (!checker.equals(&quot;image&quot;))\r\n            {\r\n\r\n            }\r\n            else if (checker.equals(&quot;image&quot;))\r\n            {\r\n                StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Image Files&quot;).child(fAuth.getUid());;\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, &quot;Nothing Selected&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }","title":"Unable to share images in android project chat applicaton","body":"<p>I tried to share the image in my chat application. But was not able to successfully share it. It's selecting the image from the gallery but not appearing in the Userchat screen and not getting upload in the firebase also.</p>\n<p>I am not able to find the solution for it. I would very much appreciate if someone can help me out.</p>\n<pre><code>    attachment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            CharSequence options[] = new CharSequence[]\n                    {\n                      &quot;Image&quot;, &quot;Documents&quot;\n                    };\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(UserChatActivity.this);\n            builder.setTitle(&quot;Select File&quot;);\n\n            builder.setItems(options, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    if(i == 0)\n                    {\n                        checker = &quot;image&quot;;\n\n                        Intent intent = new Intent();\n                        intent.setAction(Intent.ACTION_GET_CONTENT);\n                        intent.setType(&quot;image/*&quot;);\n                        startActivityForResult(intent.createChooser(intent, &quot;Select Image&quot;), 438);\n                    }\n                    if (i == 1)\n                    {\n                        checker = &quot;pdf&quot;;\n                    }\n                }\n            });\n            builder.show();\n        }\n    });\n</code></pre>\n<p><strong>StorageReference</strong></p>\n<pre><code>    @Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 438 &amp;&amp; requestCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null)\n    {\n        fileUri = data.getData();\n\n        if (!checker.equals(&quot;image&quot;))\n        {\n\n        }\n        else if (checker.equals(&quot;image&quot;))\n        {\n            StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Image Files&quot;).child(fAuth.getUid());;\n        }\n        else\n        {\n            Toast.makeText(this, &quot;Nothing Selected&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":12265172,"reputation":557,"user_id":8951897,"display_name":"G. Victor"},"score":0,"creation_date":1658429245,"post_id":73037148,"comment_id":129055692,"body_markdown":"Does this answer your question? [org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode](https://stackoverflow.com/questions/62260511/org-openqa-selenium-elementclickinterceptedexception-element-click-intercepted)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62260511/org-openqa-selenium-elementclickinterceptedexception-element-click-intercepted\">org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode</a>"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658303377,"creation_date":1658303377,"answer_id":73047820,"question_id":73037148,"body_markdown":"The exception says clearly there is another overlaying element.\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;Select-value&quot;&gt;...&lt;/div&gt; is not clickable at point (746, 348). Other element would receive the click: &lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;\r\n\r\nInstead of waiting on `&lt;div class=&quot;Select-value&quot;&gt;...&lt;/div&gt;` to be clickable, wait to `&lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;` be not visible.\r\n","title":"condition on wait not applying accordingly","body":"<p>The exception says clearly there is another overlaying element.</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;Select-value&quot;&gt;...&lt;/div&gt; is not clickable at point (746, 348). Other element would receive the click: &lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;\n</code></pre>\n<p>Instead of waiting on <code>&lt;div class=&quot;Select-value&quot;&gt;...&lt;/div&gt;</code> to be clickable, wait to <code>&lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;</code> be not visible.</p>\n"},{"tags":[],"owner":{"account_id":12265172,"reputation":557,"user_id":8951897,"display_name":"G. Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658584281,"creation_date":1658429080,"answer_id":73071241,"question_id":73037148,"body_markdown":"The error says that the click on the desired element was intercepted (blocked) by another element&quot; &lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;&quot; that is located above your element to click. You should wait until the loader will disappear, then wait and click on your element.\r\n\r\n```java\r\nwaits.until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div[class=&#39;LoadingOverlay&#39;]&quot;)));\r\n```\r\n    \r\nAs result final code will be the next:\r\n\r\n```java\r\nwaits.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]&quot;)));\r\nwaits.until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div[class=&#39;LoadingOverlay&#39;]&quot;)));\r\nwaits.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]&quot;)));\r\ndriver.findElement(By.cssSelector(&quot;div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]&quot;)).click();\r\n```","title":"condition on wait not applying accordingly","body":"<p>The error says that the click on the desired element was intercepted (blocked) by another element&quot; ...&quot; that is located above your element to click. You should wait until the loader will disappear, then wait and click on your element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>waits.until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div[class='LoadingOverlay']&quot;)));\n</code></pre>\n<p>As result final code will be the next:</p>\n<pre class=\"lang-java prettyprint-override\"><code>waits.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[id='react-select-regionId--value'] div[class='Select-value']&quot;)));\nwaits.until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div[class='LoadingOverlay']&quot;)));\nwaits.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div[id='react-select-regionId--value'] div[class='Select-value']&quot;)));\ndriver.findElement(By.cssSelector(&quot;div[id='react-select-regionId--value'] div[class='Select-value']&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73071241,"answer_count":2,"score":0,"last_activity_date":1658584281,"creation_date":1658234651,"question_id":73037148,"body_markdown":"I am using selenium java and i have applied explicit wait command on script , so here is the **scenario** the page is taking few mille seconds to load and internet speed on my office is too fast as a result script cant find element to be clickable , if i apply sleep.thread then it works but i dont want to use sleep so thats why my explicit wait is not working according to my needs not sure how to resolve this , i am sharing my console error message and script as well \r\n\r\n     \r\n \r\n\r\n    ChromeOptions optionsBeta = new ChromeOptions();\r\n    \t         optionsBeta.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome Beta\\\\Application\\\\chrome.exe&quot;);\r\n    \t         System.setProperty(&quot;webdriver.chrome.driver&quot; , &quot;./Driver/chromedriver.exe&quot;);\r\n    \t         driver = new ChromeDriver(optionsBeta);\r\n    \t        // WebDriverManager.chromedriver().setup();\r\n    \t         waits=new WebDriverWait (driver, Duration.ofSeconds(10));\r\n\r\n\r\n\r\n     waits.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]&quot;)));\r\n        \t       waits.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]&quot;)));\r\n        \t       // Thread.sleep(500);\r\n        \t       driver.findElement(By.cssSelector(&quot;div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]&quot;)).click();\r\n\r\n\r\n\r\n\r\n    FAILED: First_Test.Task_TestNG.CheckOutTest\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;Select-value&quot;&gt;...&lt;/div&gt; is not clickable at point (746, 348). Other element would receive the click: &lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;\r\n      (Session info: chrome=104.0.5112.48)\r\n    Build info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\n    System info: host: &#39;AWAIS-PC&#39;, ip: &#39;192.168.1.62&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [2d991cd12a3008b98e6c0b82f0f7d750, clickElement {id=0ef92db0-9a11-4eed-8567-7a29f9098752}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 104.0.5112.48, chrome: {chromedriverVersion: 104.0.5112.29 (eff877e18f76..., userDataDir: C:\\Users\\WRP\\AppData\\Local\\...}, goog:chromeOptions: {debuggerAddress: localhost:57616}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:57616/devtoo..., se:cdpVersion: 104.0.5112.48, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Element: [[ChromeDriver: chrome on WINDOWS (2d991cd12a3008b98e6c0b82f0f7d750)] -&gt; css selector: div[id=&#39;react-select-regionId--value&#39;] div[class=&#39;Select-value&#39;]]\r\n    Session ID: 2d991cd12a3008b98e6c0b82f0f7d750\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n    \tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\r\n    \tat org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\r\n    \tat First_Test.Task_TestNG.CheckOutTest(Task_TestNG.java:144)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n    \tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n    \tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:601)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    \tat org.testng.TestNG.run(TestNG.java:1067)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    \r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 1, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 0, Failures: 1, Skips: 0\r\n    ===============================================\r\n    \r\n    [main] INFO org.testng.internal.Utils - [TestNG] Time taken by org.testng.internal.ExitCodeListener@43fda8d9: 0 ms","title":"condition on wait not applying accordingly","body":"<p>I am using selenium java and i have applied explicit wait command on script , so here is the <strong>scenario</strong> the page is taking few mille seconds to load and internet speed on my office is too fast as a result script cant find element to be clickable , if i apply sleep.thread then it works but i dont want to use sleep so thats why my explicit wait is not working according to my needs not sure how to resolve this , i am sharing my console error message and script as well</p>\n<pre><code>ChromeOptions optionsBeta = new ChromeOptions();\n             optionsBeta.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome Beta\\\\Application\\\\chrome.exe&quot;);\n             System.setProperty(&quot;webdriver.chrome.driver&quot; , &quot;./Driver/chromedriver.exe&quot;);\n             driver = new ChromeDriver(optionsBeta);\n            // WebDriverManager.chromedriver().setup();\n             waits=new WebDriverWait (driver, Duration.ofSeconds(10));\n\n\n\n waits.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[id='react-select-regionId--value'] div[class='Select-value']&quot;)));\n               waits.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div[id='react-select-regionId--value'] div[class='Select-value']&quot;)));\n               // Thread.sleep(500);\n               driver.findElement(By.cssSelector(&quot;div[id='react-select-regionId--value'] div[class='Select-value']&quot;)).click();\n\n\n\n\nFAILED: First_Test.Task_TestNG.CheckOutTest\norg.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;Select-value&quot;&gt;...&lt;/div&gt; is not clickable at point (746, 348). Other element would receive the click: &lt;div class=&quot;LoadingOverlay&quot;&gt;...&lt;/div&gt;\n  (Session info: chrome=104.0.5112.48)\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'AWAIS-PC', ip: '192.168.1.62', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [2d991cd12a3008b98e6c0b82f0f7d750, clickElement {id=0ef92db0-9a11-4eed-8567-7a29f9098752}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 104.0.5112.48, chrome: {chromedriverVersion: 104.0.5112.29 (eff877e18f76..., userDataDir: C:\\Users\\WRP\\AppData\\Local\\...}, goog:chromeOptions: {debuggerAddress: localhost:57616}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:57616/devtoo..., se:cdpVersion: 104.0.5112.48, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nElement: [[ChromeDriver: chrome on WINDOWS (2d991cd12a3008b98e6c0b82f0f7d750)] -&gt; css selector: div[id='react-select-regionId--value'] div[class='Select-value']]\nSession ID: 2d991cd12a3008b98e6c0b82f0f7d750\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\n    at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\n    at First_Test.Task_TestNG.CheckOutTest(Task_TestNG.java:144)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 1, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 1, Skips: 0\n===============================================\n\n[main] INFO org.testng.internal.Utils - [TestNG] Time taken by org.testng.internal.ExitCodeListener@43fda8d9: 0 ms\n</code></pre>\n"},{"tags":["java","swing","jframe","jtextfield"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1658578723,"post_id":73090495,"comment_id":129089240,"body_markdown":"Use the [JTextField](https://docs.oracle.com/javase/8/docs/api/javax/swing/JTextField.html) `setSelectionStart` and `setSelectionEnd` methods to set the example text as a selection.  Once a user types in the `JTextField`, don&#39;t erase the text.","body":"Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JTextField.html\" rel=\"nofollow noreferrer\">JTextField</a> <code>setSelectionStart</code> and <code>setSelectionEnd</code> methods to set the example text as a selection.  Once a user types in the <code>JTextField</code>, don&#39;t erase the text."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1658584613,"post_id":73090495,"comment_id":129090353,"body_markdown":"*and adding a mouseListener* - and what if the user tabs to the text field? A GUI should always be designed to support mouse or keyboard interaction with the user. *the search bar will display search... in grey, until clicked* - check out [Text Prompt](https://tips4java.wordpress.com/2009/11/29/text-prompt/) which will allow you to customize the way the prompt is displayed until text is actually typed.","body":"<i>and adding a mouseListener</i> - and what if the user tabs to the text field? A GUI should always be designed to support mouse or keyboard interaction with the user. <i>the search bar will display search... in grey, until clicked</i> - check out <a href=\"https://tips4java.wordpress.com/2009/11/29/text-prompt/\" rel=\"nofollow noreferrer\">Text Prompt</a> which will allow you to customize the way the prompt is displayed until text is actually typed."}],"owner":{"account_id":19914473,"reputation":28,"user_id":17403432,"display_name":"Tom Burrows"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658577356,"answer_count":0,"score":0,"last_activity_date":1658583709,"creation_date":1658577136,"question_id":73090495,"body_markdown":"&lt;h3&gt; What I&#39;m trying to do. &lt;/h3&gt;\r\n\r\nI&#39;m basically trying to add a search bar to my program, made out of a JTextArea.\r\n\r\nWhat I would like to do, is add an &quot;example&quot; into the search bar (greyed out text, which disapears when the JTextArea is activated). I&#39;ve attempted this by changing the text colour, and adding a mouseListener to `setText(&quot;&quot;);`. However, this means that every time I click on the bar, it empties, which isn&#39;t something I want. (Say I typed in a really long string and had to retype it because it was 1 character wrong).\r\n```\r\nJTextField searchBar = new JTextField(&quot;Search...&quot;);\r\nsearchBar.setForeground(&quot;Color.GRAY&quot;);\r\n\r\n\r\nsearchBar.addMouseListener(new MouseListener() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                searchBar.setForeground(Color.BLACK);\r\n                searchBar.setText(&quot;&quot;);\r\n            }\r\n}\r\n```\r\n\r\n&lt;h3&gt; What I&#39;d like to know &lt;/h3&gt;\r\n\r\nHow can I make it so that, each time the frame is repainted, the search bar will display *search...* in grey, until clicked, after which it remains persistent.\r\n\r\nI hope it&#39;s clear why I&#39;m trying to do, any help is appreciated.\r\n\r\nThanks.","title":"How to add example text to a java JTextField?","body":"<h3> What I'm trying to do. </h3>\n<p>I'm basically trying to add a search bar to my program, made out of a JTextArea.</p>\n<p>What I would like to do, is add an &quot;example&quot; into the search bar (greyed out text, which disapears when the JTextArea is activated). I've attempted this by changing the text colour, and adding a mouseListener to <code>setText(&quot;&quot;);</code>. However, this means that every time I click on the bar, it empties, which isn't something I want. (Say I typed in a really long string and had to retype it because it was 1 character wrong).</p>\n<pre><code>JTextField searchBar = new JTextField(&quot;Search...&quot;);\nsearchBar.setForeground(&quot;Color.GRAY&quot;);\n\n\nsearchBar.addMouseListener(new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                searchBar.setForeground(Color.BLACK);\n                searchBar.setText(&quot;&quot;);\n            }\n}\n</code></pre>\n<h3> What I'd like to know </h3>\n<p>How can I make it so that, each time the frame is repainted, the search bar will display <em>search...</em> in grey, until clicked, after which it remains persistent.</p>\n<p>I hope it's clear why I'm trying to do, any help is appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","sql-server","spring","spring-batch","azure-sql-server"],"comments":[{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1641201546,"post_id":70563630,"comment_id":124737386,"body_markdown":"@mahmoud-ben-hassine - do you have suggestions?","body":"@mahmoud-ben-hassine - do you have suggestions?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641203498,"post_id":70563630,"comment_id":124737932,"body_markdown":"I can&#39;t tell you what the issue in your case is but typically this kind of deadlock occurs because 2 parallel processes try to access resources in a different order and thus are waiting for a resource the other holds. As an example imagine a process tries to process rows A, B, C, D in that order while the other for some reason tries to do in in the order D,B,A,C. Now the first process already locked A, B and C and is trying to lock D. However the other process locked D already and is waiting for the first process to finish and release the lock on B - so now you have a deadlock.","body":"I can&#39;t tell you what the issue in your case is but typically this kind of deadlock occurs because 2 parallel processes try to access resources in a different order and thus are waiting for a resource the other holds. As an example imagine a process tries to process rows A, B, C, D in that order while the other for some reason tries to do in in the order D,B,A,C. Now the first process already locked A, B and C and is trying to lock D. However the other process locked D already and is waiting for the first process to finish and release the lock on B - so now you have a deadlock."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1641203713,"post_id":70563630,"comment_id":124737999,"body_markdown":"In your case the problem seems to be that you have 2 processes that try to delete multiple elements from `LoginName.BATCH_STEP_EXECUTION_SEQ` and if this happens in a different order this can lead to a deadlock. So either try to get some order into the deletion process (e.g. by using a subquery to get an ordered list of ids to delete) or just do it sequentially (e.g. lock the table if possible).","body":"In your case the problem seems to be that you have 2 processes that try to delete multiple elements from <code>LoginName.BATCH_STEP_EXECUTION_SEQ</code> and if this happens in a different order this can lead to a deadlock. So either try to get some order into the deletion process (e.g. by using a subquery to get an ordered list of ids to delete) or just do it sequentially (e.g. lock the table if possible)."},{"owner":{"account_id":1944951,"reputation":7473,"user_id":1750324,"display_name":"Steve Ford"},"score":0,"creation_date":1641936657,"post_id":70563630,"comment_id":124937719,"body_markdown":"Shouldn&#39;t those tables have an index on ID, otherwise you will be performing a full table scan?","body":"Shouldn&#39;t those tables have an index on ID, otherwise you will be performing a full table scan?"},{"owner":{"account_id":1944951,"reputation":7473,"user_id":1750324,"display_name":"Steve Ford"},"score":0,"creation_date":1641937404,"post_id":70563630,"comment_id":124937957,"body_markdown":"Note you can see in the deadlock graph that one delete is holding an X lock on page 24682488 and is waiting on an U lock on page 24682490 and the other process has a U lock on page 24682488 and wants an X lock on page 24682490","body":"Note you can see in the deadlock graph that one delete is holding an X lock on page 24682488 and is waiting on an U lock on page 24682490 and the other process has a U lock on page 24682488 and wants an X lock on page 24682490"}],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1641411122,"creation_date":1641388306,"answer_id":70593440,"question_id":70563630,"body_markdown":"I&#39;m afraid this is a known bug in Spring Batch 4.x that is currently only planned to be resolved with Spring Batch 5, which is not to be expected for a couple of months: https://github.com/spring-projects/spring-batch/issues/3927\r\n\r\nYou can emulate the fix by making local adjustments as in the commit of the fix: https://github.com/spring-projects/spring-batch/commit/fe911c8456bb49a69b1c84c78c0a0e0fdf224803, i.e.\r\n\r\n - Adjust the schema to contain sequences\r\n - Change the `DataFieldMaxValueIncrementerFactory` that is used to build the `JobRepository`.\r\n\r\nI don&#39;t think the latter is feasible with pure XML configuration. The discussion on this issue contains some hints how it can be done in Java: https://github.com/spring-projects/spring-batch/issues/1448\r\n\r\nThe concrete customization depends on the customizations that you already have but it should work at least roughly as follows. You can apply the incrementer factory with a `BatchConfigurer`:\r\n\r\n    @Bean\r\n    public BatchConfigurer batchConfigurer(DataSource dataSource) {\r\n\t  return new DefaultBatchConfigurer(dataSource) {\r\n\t\t@Override\r\n\t\tprotected JobRepository createJobRepository() throws Exception {\r\n\t\t  JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\r\n\t\t  factory.setDataSource(getDataSource());\r\n\t\t  factory.setTransactionManager(getTransactionManager());\r\n          factory.setIncrementerFactory(new MyIncrementerFactory(getDataSource()));\r\n\t\t  factory.afterPropertiesSet();\r\n\t\t  return factory.getObject();\r\n\t    }\r\n\t  };\r\n    }\r\n\r\nwhere\r\n\r\n    public class MyIncrementerFactory implements DataFieldMaxValueIncrementerFactory {\r\n\r\n      private final DataSource dataSource;\r\n\r\n      public MyIncrementerFactory(DataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n      }\r\n\r\n      @Override\r\n      public DataFieldMaxValueIncrementer getIncrementer(String databaseType, String incrementerName) {\r\n        return new SqlServerSequenceMaxValueIncrementer(dataSource, incrementerName);\r\n      }\r\n\r\n      @Override\r\n      public boolean isSupportedIncrementerType(String databaseType)       {\r\n        return true;\r\n      }\r\n\r\n      @Override\r\n      public String[] getSupportedIncrementerTypes() {\r\n        return null; // method should not get called anyway\r\n      }\r\n    }\r\n\r\nand `SqlServerSequenceMaxValueIncrementer` should be the incrementer from the commit.","title":"Spring Batch Deadlock - Could not increment identity; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException","body":"<p>I'm afraid this is a known bug in Spring Batch 4.x that is currently only planned to be resolved with Spring Batch 5, which is not to be expected for a couple of months: <a href=\"https://github.com/spring-projects/spring-batch/issues/3927\" rel=\"noreferrer\">https://github.com/spring-projects/spring-batch/issues/3927</a></p>\n<p>You can emulate the fix by making local adjustments as in the commit of the fix: <a href=\"https://github.com/spring-projects/spring-batch/commit/fe911c8456bb49a69b1c84c78c0a0e0fdf224803\" rel=\"noreferrer\">https://github.com/spring-projects/spring-batch/commit/fe911c8456bb49a69b1c84c78c0a0e0fdf224803</a>, i.e.</p>\n<ul>\n<li>Adjust the schema to contain sequences</li>\n<li>Change the <code>DataFieldMaxValueIncrementerFactory</code> that is used to build the <code>JobRepository</code>.</li>\n</ul>\n<p>I don't think the latter is feasible with pure XML configuration. The discussion on this issue contains some hints how it can be done in Java: <a href=\"https://github.com/spring-projects/spring-batch/issues/1448\" rel=\"noreferrer\">https://github.com/spring-projects/spring-batch/issues/1448</a></p>\n<p>The concrete customization depends on the customizations that you already have but it should work at least roughly as follows. You can apply the incrementer factory with a <code>BatchConfigurer</code>:</p>\n<pre><code>@Bean\npublic BatchConfigurer batchConfigurer(DataSource dataSource) {\n  return new DefaultBatchConfigurer(dataSource) {\n    @Override\n    protected JobRepository createJobRepository() throws Exception {\n      JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\n      factory.setDataSource(getDataSource());\n      factory.setTransactionManager(getTransactionManager());\n      factory.setIncrementerFactory(new MyIncrementerFactory(getDataSource()));\n      factory.afterPropertiesSet();\n      return factory.getObject();\n    }\n  };\n}\n</code></pre>\n<p>where</p>\n<pre><code>public class MyIncrementerFactory implements DataFieldMaxValueIncrementerFactory {\n\n  private final DataSource dataSource;\n\n  public MyIncrementerFactory(DataSource dataSource) {\n    this.dataSource = dataSource;\n  }\n\n  @Override\n  public DataFieldMaxValueIncrementer getIncrementer(String databaseType, String incrementerName) {\n    return new SqlServerSequenceMaxValueIncrementer(dataSource, incrementerName);\n  }\n\n  @Override\n  public boolean isSupportedIncrementerType(String databaseType)       {\n    return true;\n  }\n\n  @Override\n  public String[] getSupportedIncrementerTypes() {\n    return null; // method should not get called anyway\n  }\n}\n</code></pre>\n<p>and <code>SqlServerSequenceMaxValueIncrementer</code> should be the incrementer from the commit.</p>\n"},{"tags":[],"owner":{"account_id":8438144,"reputation":61,"user_id":6331631,"display_name":"momonari8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658583584,"creation_date":1655840403,"answer_id":72706293,"question_id":70563630,"body_markdown":"Basically, you need to overwrite incrementerFactory in JobRepository like so:\r\n\r\n    @Bean\r\n    public JobRepository jobRepository(DataSource dataSource, PlatformTransactionManager transactionManager) throws Exception {\r\n        JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\r\n        factory.setDataSource(dataSource);\r\n        factory.setTransactionManager(transactionManager);\r\n        factory.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource) {\r\n            @Override\r\n            public DataFieldMaxValueIncrementer getIncrementer(String incrementerType, String incrementerName) {\r\n                return new SqlServerSequenceMaxValueIncrementer(dataSource, incrementerName);\r\n            }\r\n        });\r\n        factory.afterPropertiesSet();\r\n        return factory.getObject();\r\n    }\r\n    \r\n    @Bean\r\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\r\n        SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher();\r\n        simpleJobLauncher.setJobRepository(jobRepository);\r\n        return simpleJobLauncher;\r\n    }\r\n\r\nAnd here is the source code of [SqlServerSequenceMaxValueIncrementer][2] which you can include in your codebase. \r\n\r\n [2]: https://github.com/spring-projects/spring-batch/blob/5.0.0-M1/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/database/support/SqlServerSequenceMaxValueIncrementer.java","title":"Spring Batch Deadlock - Could not increment identity; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException","body":"<p>Basically, you need to overwrite incrementerFactory in JobRepository like so:</p>\n<pre><code>@Bean\npublic JobRepository jobRepository(DataSource dataSource, PlatformTransactionManager transactionManager) throws Exception {\n    JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\n    factory.setDataSource(dataSource);\n    factory.setTransactionManager(transactionManager);\n    factory.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource) {\n        @Override\n        public DataFieldMaxValueIncrementer getIncrementer(String incrementerType, String incrementerName) {\n            return new SqlServerSequenceMaxValueIncrementer(dataSource, incrementerName);\n        }\n    });\n    factory.afterPropertiesSet();\n    return factory.getObject();\n}\n\n@Bean\npublic SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\n    SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher();\n    simpleJobLauncher.setJobRepository(jobRepository);\n    return simpleJobLauncher;\n}\n</code></pre>\n<p>And here is the source code of <a href=\"https://github.com/spring-projects/spring-batch/blob/5.0.0-M1/spring-batch-infrastructure/src/main/java/org/springframework/batch/item/database/support/SqlServerSequenceMaxValueIncrementer.java\" rel=\"nofollow noreferrer\">SqlServerSequenceMaxValueIncrementer</a> which you can include in your codebase.</p>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3826,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1658583584,"creation_date":1641201343,"question_id":70563630,"body_markdown":"We are in the process of moving to Azure SQL Server from Oracle DB for our Spring Batch application.\r\n\r\nI am getting the following error while trying to execute **two different jobs** at the same time that updates different tables however uses the same common BATCH_ tables\r\n\r\n&gt; Caused by: org.springframework.dao.DataAccessResourceFailureException:\r\n&gt; Could not increment identity; nested exception is\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: Transaction (Process\r\n&gt; ID 167) was deadlocked on lock resources with another process and has\r\n&gt; been chosen as the deadlock victim. Rerun the transaction. at\r\n&gt; org.springframework.jdbc.support.incrementer.SqlServerMaxValueIncrementer.getNextKey(SqlServerMaxValueIncrementer.java:124)\r\n&gt; ~[bat-applybatch-jobs-2.2.12-SNAPSHOT.jar:?] at\r\n&gt; org.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:125)\r\n\r\n\r\nMy Job Repository configuration\r\n\r\n    &lt;job-repository id=&quot;jobRepository&quot; isolation-level-for-create=&quot;READ_COMMITED&quot; /&gt;\r\n\r\n\r\nDatabase deadlock \r\n\r\n    &lt;deadlock&gt;\r\n      &lt;victim-list&gt;\r\n        &lt;victimProcess id=&quot;process2a41675a4e8&quot; /&gt;\r\n      &lt;/victim-list&gt;\r\n      &lt;process-list&gt;\r\n        &lt;process id=&quot;process2a41675a4e8&quot; taskpriority=&quot;0&quot; logused=&quot;280&quot; waitresource=&quot;RID: 6:9:24682488:29&quot; waittime=&quot;4984&quot; ownerId=&quot;696000712&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-29T12:18:30.153&quot; XDES=&quot;0x29a22bc4428&quot; lockMode=&quot;U&quot; schedulerid=&quot;4&quot; kpid=&quot;52760&quot; status=&quot;suspended&quot; spid=&quot;173&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-29T12:18:30.157&quot; lastbatchcompleted=&quot;2021-12-29T12:18:30.153&quot; lastattention=&quot;1900-01-01T00:00:00.153&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;ServerName&quot; hostpid=&quot;0&quot; loginname=&quot;LoginName&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;696000712&quot; currentdb=&quot;6&quot; currentdbname=&quot;Database&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\r\n          &lt;executionStack&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtstart=&quot;26&quot; stmtend=&quot;146&quot; sqlhandle=&quot;0x020000007654041849f4ffe980c136b592ccbe8260983e220000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtend=&quot;126&quot; sqlhandle=&quot;0x0200000045a2af306ade799ae9ffa65edc0f722c526e26330000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n          &lt;/executionStack&gt;\r\n          &lt;inputbuf&gt;\r\n    delete from LoginName.BATCH_STEP_EXECUTION_SEQ where ID &amp;lt; 10899   &lt;/inputbuf&gt;\r\n        &lt;/process&gt;\r\n        &lt;process id=&quot;process2a42d680ca8&quot; taskpriority=&quot;0&quot; logused=&quot;420&quot; waitresource=&quot;RID: 6:9:24682490:8&quot; waittime=&quot;4984&quot; ownerId=&quot;696000707&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-29T12:18:30.153&quot; XDES=&quot;0x2a41ae18428&quot; lockMode=&quot;U&quot; schedulerid=&quot;7&quot; kpid=&quot;53280&quot; status=&quot;suspended&quot; spid=&quot;129&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-29T12:18:30.153&quot; lastbatchcompleted=&quot;2021-12-29T12:18:30.153&quot; lastattention=&quot;1900-01-01T00:00:00.153&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;ServerName&quot; hostpid=&quot;0&quot; loginname=&quot;LoginName&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;696000707&quot; currentdb=&quot;6&quot; currentdbname=&quot;Database&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\r\n          &lt;executionStack&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtstart=&quot;26&quot; stmtend=&quot;146&quot; sqlhandle=&quot;0x020000007654041849f4ffe980c136b592ccbe8260983e220000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtend=&quot;126&quot; sqlhandle=&quot;0x02000000a0f1f51de77e1eefa19367c42fc9d1938c2075020000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n          &lt;/executionStack&gt;\r\n          &lt;inputbuf&gt;\r\n    delete from LoginName.BATCH_STEP_EXECUTION_SEQ where ID &amp;lt; 10898   &lt;/inputbuf&gt;\r\n        &lt;/process&gt;\r\n      &lt;/process-list&gt;\r\n      &lt;resource-list&gt;\r\n        &lt;ridlock fileid=&quot;9&quot; pageid=&quot;24682488&quot; dbid=&quot;6&quot; objectname=&quot;162589bb-bc36-4834-8bdc-e58a2deca742.LoginName.BATCH_STEP_EXECUTION_SEQ&quot; id=&quot;lock2a043bbcc00&quot; mode=&quot;X&quot; associatedObjectId=&quot;72057594071547904&quot;&gt;\r\n          &lt;owner-list&gt;\r\n            &lt;owner id=&quot;process2a42d680ca8&quot; mode=&quot;X&quot; /&gt;\r\n          &lt;/owner-list&gt;\r\n          &lt;waiter-list&gt;\r\n            &lt;waiter id=&quot;process2a41675a4e8&quot; mode=&quot;U&quot; requestType=&quot;wait&quot; /&gt;\r\n          &lt;/waiter-list&gt;\r\n        &lt;/ridlock&gt;\r\n        &lt;ridlock fileid=&quot;9&quot; pageid=&quot;24682490&quot; dbid=&quot;6&quot; objectname=&quot;162589bb-bc36-4834-8bdc-e58a2deca742.LoginName.BATCH_STEP_EXECUTION_SEQ&quot; id=&quot;lock29f5f1b7f00&quot; mode=&quot;X&quot; associatedObjectId=&quot;72057594071547904&quot;&gt;\r\n          &lt;owner-list&gt;\r\n            &lt;owner id=&quot;process2a41675a4e8&quot; mode=&quot;X&quot; /&gt;\r\n          &lt;/owner-list&gt;\r\n          &lt;waiter-list&gt;\r\n            &lt;waiter id=&quot;process2a42d680ca8&quot; mode=&quot;U&quot; requestType=&quot;wait&quot; /&gt;\r\n          &lt;/waiter-list&gt;\r\n        &lt;/ridlock&gt;\r\n      &lt;/resource-list&gt;\r\n    &lt;/deadlock&gt;\r\n\r\n\r\ntried:\r\n\r\n    &lt;job-repository id=&quot;jobRepository&quot; isolation-level-for-create=&quot;READ_UNCOMMITED&quot; /&gt;\r\n\r\n    &lt;job-repository id=&quot;jobRepository&quot;\r\n                    isolation-level-for-create=&quot;ISOLATION_REPEATABLE_READ&quot; /&gt;\r\n\r\n    &lt;job-repository id=&quot;jobRepository&quot;\r\n                    isolation-level-for-create=&quot;SERIALIZABLE&quot; /&gt;\r\n\r\nI have created the tables as highlighted below\r\n\r\n    CREATE TABLE BATCH_STEP_EXECUTION_SEQ (\r\n    ID BIGINT IDENTITY(&lt;last Oracle sequence value&gt;, 1)\r\n    );\r\n    \r\n    CREATE TABLE BATCH_JOB_EXECUTION_SEQ (\r\n    ID BIGINT IDENTITY(&lt;last Oracle sequence value&gt;, 1)\r\n    );\r\n\r\n    CREATE TABLE BATCH_JOB_SEQ (\r\n    ID BIGINT IDENTITY(&lt;last Oracle sequence value&gt;, 1)\r\n    );\r\n\r\nwhat is the issue? How do I fix this?\r\n\r\n\r\n**Update: Job Definition**\r\n\r\n    &lt;bean id=&quot;simpleStep&quot; class=&quot;org.springframework.batch.core.step.factory.SimpleStepFactoryBean&quot;\r\n    \tabstract=&quot;true&quot;&gt;\r\n    \t&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\r\n    \t&lt;property name=&quot;jobRepository&quot; ref=&quot;jobRepository&quot; /&gt;\r\n    \t&lt;property name=&quot;startLimit&quot; value=&quot;100&quot; /&gt;\r\n    \t&lt;property name=&quot;commitInterval&quot; value=&quot;1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n**Update#2:**\r\nCan I try something like this?\r\n\r\n    &lt;bean id=&quot;informixIncrementer&quot; class=&quot;com.bah.batch.informixsupport.InformixMaxValueIncrementerFactory&quot;&gt;&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \r\n    &lt;bean  id=&quot;jobRepository&quot; class=&quot;org.springframework.batch.core.repository.support.JobRepositoryFactoryBean&quot; isolation-level-for-create=&quot;READ_COMMITTED&quot; table-prefix=&quot;BATCH_&quot;&gt;\r\n       &lt;property name=&quot;incrementerFactory&quot; ref=&quot;informixIncrementer&quot;/&gt;\r\n    &lt;/bean&gt;","title":"Spring Batch Deadlock - Could not increment identity; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException","body":"<p>We are in the process of moving to Azure SQL Server from Oracle DB for our Spring Batch application.</p>\n<p>I am getting the following error while trying to execute <strong>two different jobs</strong> at the same time that updates different tables however uses the same common BATCH_ tables</p>\n<blockquote>\n<p>Caused by: org.springframework.dao.DataAccessResourceFailureException:\nCould not increment identity; nested exception is\ncom.microsoft.sqlserver.jdbc.SQLServerException: Transaction (Process\nID 167) was deadlocked on lock resources with another process and has\nbeen chosen as the deadlock victim. Rerun the transaction. at\norg.springframework.jdbc.support.incrementer.SqlServerMaxValueIncrementer.getNextKey(SqlServerMaxValueIncrementer.java:124)\n~[bat-applybatch-jobs-2.2.12-SNAPSHOT.jar:?] at\norg.springframework.jdbc.support.incrementer.AbstractDataFieldMaxValueIncrementer.nextLongValue(AbstractDataFieldMaxValueIncrementer.java:125)</p>\n</blockquote>\n<p>My Job Repository configuration</p>\n<pre><code>&lt;job-repository id=&quot;jobRepository&quot; isolation-level-for-create=&quot;READ_COMMITED&quot; /&gt;\n</code></pre>\n<p>Database deadlock</p>\n<pre><code>&lt;deadlock&gt;\n  &lt;victim-list&gt;\n    &lt;victimProcess id=&quot;process2a41675a4e8&quot; /&gt;\n  &lt;/victim-list&gt;\n  &lt;process-list&gt;\n    &lt;process id=&quot;process2a41675a4e8&quot; taskpriority=&quot;0&quot; logused=&quot;280&quot; waitresource=&quot;RID: 6:9:24682488:29&quot; waittime=&quot;4984&quot; ownerId=&quot;696000712&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-29T12:18:30.153&quot; XDES=&quot;0x29a22bc4428&quot; lockMode=&quot;U&quot; schedulerid=&quot;4&quot; kpid=&quot;52760&quot; status=&quot;suspended&quot; spid=&quot;173&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-29T12:18:30.157&quot; lastbatchcompleted=&quot;2021-12-29T12:18:30.153&quot; lastattention=&quot;1900-01-01T00:00:00.153&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;ServerName&quot; hostpid=&quot;0&quot; loginname=&quot;LoginName&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;696000712&quot; currentdb=&quot;6&quot; currentdbname=&quot;Database&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\n      &lt;executionStack&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtstart=&quot;26&quot; stmtend=&quot;146&quot; sqlhandle=&quot;0x020000007654041849f4ffe980c136b592ccbe8260983e220000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtend=&quot;126&quot; sqlhandle=&quot;0x0200000045a2af306ade799ae9ffa65edc0f722c526e26330000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n      &lt;/executionStack&gt;\n      &lt;inputbuf&gt;\ndelete from LoginName.BATCH_STEP_EXECUTION_SEQ where ID &amp;lt; 10899   &lt;/inputbuf&gt;\n    &lt;/process&gt;\n    &lt;process id=&quot;process2a42d680ca8&quot; taskpriority=&quot;0&quot; logused=&quot;420&quot; waitresource=&quot;RID: 6:9:24682490:8&quot; waittime=&quot;4984&quot; ownerId=&quot;696000707&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-29T12:18:30.153&quot; XDES=&quot;0x2a41ae18428&quot; lockMode=&quot;U&quot; schedulerid=&quot;7&quot; kpid=&quot;53280&quot; status=&quot;suspended&quot; spid=&quot;129&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-29T12:18:30.153&quot; lastbatchcompleted=&quot;2021-12-29T12:18:30.153&quot; lastattention=&quot;1900-01-01T00:00:00.153&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;ServerName&quot; hostpid=&quot;0&quot; loginname=&quot;LoginName&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;696000707&quot; currentdb=&quot;6&quot; currentdbname=&quot;Database&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\n      &lt;executionStack&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtstart=&quot;26&quot; stmtend=&quot;146&quot; sqlhandle=&quot;0x020000007654041849f4ffe980c136b592ccbe8260983e220000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0xadc42a7474869694&quot; queryplanhash=&quot;0x238c4f9df8a5d6cc&quot; line=&quot;1&quot; stmtend=&quot;126&quot; sqlhandle=&quot;0x02000000a0f1f51de77e1eefa19367c42fc9d1938c2075020000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n      &lt;/executionStack&gt;\n      &lt;inputbuf&gt;\ndelete from LoginName.BATCH_STEP_EXECUTION_SEQ where ID &amp;lt; 10898   &lt;/inputbuf&gt;\n    &lt;/process&gt;\n  &lt;/process-list&gt;\n  &lt;resource-list&gt;\n    &lt;ridlock fileid=&quot;9&quot; pageid=&quot;24682488&quot; dbid=&quot;6&quot; objectname=&quot;162589bb-bc36-4834-8bdc-e58a2deca742.LoginName.BATCH_STEP_EXECUTION_SEQ&quot; id=&quot;lock2a043bbcc00&quot; mode=&quot;X&quot; associatedObjectId=&quot;72057594071547904&quot;&gt;\n      &lt;owner-list&gt;\n        &lt;owner id=&quot;process2a42d680ca8&quot; mode=&quot;X&quot; /&gt;\n      &lt;/owner-list&gt;\n      &lt;waiter-list&gt;\n        &lt;waiter id=&quot;process2a41675a4e8&quot; mode=&quot;U&quot; requestType=&quot;wait&quot; /&gt;\n      &lt;/waiter-list&gt;\n    &lt;/ridlock&gt;\n    &lt;ridlock fileid=&quot;9&quot; pageid=&quot;24682490&quot; dbid=&quot;6&quot; objectname=&quot;162589bb-bc36-4834-8bdc-e58a2deca742.LoginName.BATCH_STEP_EXECUTION_SEQ&quot; id=&quot;lock29f5f1b7f00&quot; mode=&quot;X&quot; associatedObjectId=&quot;72057594071547904&quot;&gt;\n      &lt;owner-list&gt;\n        &lt;owner id=&quot;process2a41675a4e8&quot; mode=&quot;X&quot; /&gt;\n      &lt;/owner-list&gt;\n      &lt;waiter-list&gt;\n        &lt;waiter id=&quot;process2a42d680ca8&quot; mode=&quot;U&quot; requestType=&quot;wait&quot; /&gt;\n      &lt;/waiter-list&gt;\n    &lt;/ridlock&gt;\n  &lt;/resource-list&gt;\n&lt;/deadlock&gt;\n</code></pre>\n<p>tried:</p>\n<pre><code>&lt;job-repository id=&quot;jobRepository&quot; isolation-level-for-create=&quot;READ_UNCOMMITED&quot; /&gt;\n\n&lt;job-repository id=&quot;jobRepository&quot;\n                isolation-level-for-create=&quot;ISOLATION_REPEATABLE_READ&quot; /&gt;\n\n&lt;job-repository id=&quot;jobRepository&quot;\n                isolation-level-for-create=&quot;SERIALIZABLE&quot; /&gt;\n</code></pre>\n<p>I have created the tables as highlighted below</p>\n<pre><code>CREATE TABLE BATCH_STEP_EXECUTION_SEQ (\nID BIGINT IDENTITY(&lt;last Oracle sequence value&gt;, 1)\n);\n\nCREATE TABLE BATCH_JOB_EXECUTION_SEQ (\nID BIGINT IDENTITY(&lt;last Oracle sequence value&gt;, 1)\n);\n\nCREATE TABLE BATCH_JOB_SEQ (\nID BIGINT IDENTITY(&lt;last Oracle sequence value&gt;, 1)\n);\n</code></pre>\n<p>what is the issue? How do I fix this?</p>\n<p><strong>Update: Job Definition</strong></p>\n<pre><code>&lt;bean id=&quot;simpleStep&quot; class=&quot;org.springframework.batch.core.step.factory.SimpleStepFactoryBean&quot;\n    abstract=&quot;true&quot;&gt;\n    &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\n    &lt;property name=&quot;jobRepository&quot; ref=&quot;jobRepository&quot; /&gt;\n    &lt;property name=&quot;startLimit&quot; value=&quot;100&quot; /&gt;\n    &lt;property name=&quot;commitInterval&quot; value=&quot;1&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p><strong>Update#2:</strong>\nCan I try something like this?</p>\n<pre><code>&lt;bean id=&quot;informixIncrementer&quot; class=&quot;com.bah.batch.informixsupport.InformixMaxValueIncrementerFactory&quot;&gt;&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n\n&lt;bean  id=&quot;jobRepository&quot; class=&quot;org.springframework.batch.core.repository.support.JobRepositoryFactoryBean&quot; isolation-level-for-create=&quot;READ_COMMITTED&quot; table-prefix=&quot;BATCH_&quot;&gt;\n   &lt;property name=&quot;incrementerFactory&quot; ref=&quot;informixIncrementer&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","arrays","file","object"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1658523891,"post_id":73085870,"comment_id":129081476,"body_markdown":"The relationships and your requirements are not yet clear, at least not to me. What is your goal? Why do you need three lists? Wouldn&#39;t you rather have two maps that show the relations  between `Doctor -&gt; List&lt;Visit&gt;` and `Patient -&gt; List&lt;Visit&gt;` ? Do you have sample inputs and can you share the expected result?","body":"The relationships and your requirements are not yet clear, at least not to me. What is your goal? Why do you need three lists? Wouldn&#39;t you rather have two maps that show the relations  between <code>Doctor -&gt; List&lt;Visit&gt;</code> and <code>Patient -&gt; List&lt;Visit&gt;</code> ? Do you have sample inputs and can you share the expected result?"},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1658524587,"post_id":73085870,"comment_id":129081656,"body_markdown":"So I would need:\n\nDoctor to have his visits\nPaitient to have his visits\nLater on I have methods to create such as: which doctors has most visits, which paitient has most visits, top 5 oldest doctors etc.\n\nSo I guess 2 lists will work just fine, or do you thing 3 would be needed?","body":"So I would need:  Doctor to have his visits Paitient to have his visits Later on I have methods to create such as: which doctors has most visits, which paitient has most visits, top 5 oldest doctors etc.  So I guess 2 lists will work just fine, or do you thing 3 would be needed?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1658524895,"post_id":73085870,"comment_id":129081734,"body_markdown":"Can you share sample data? I mean the content of your files. Just for example, with fake names and ids.","body":"Can you share sample data? I mean the content of your files. Just for example, with fake names and ids."},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1658525382,"post_id":73085870,"comment_id":129081845,"body_markdown":"Sure @Eritrean I&#39;ve added it to the code above.","body":"Sure @Eritrean I&#39;ve added it to the code above."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658583210,"creation_date":1658581807,"answer_id":73091026,"question_id":73085870,"body_markdown":"Assuming you have getters in your `Lekarze` and `Pacjenci` classes, you could just add the `Wizyty` object to `listOfDoctorVisits` and `listOfPaitientVisits` of the current found doctor and patient :\r\n\r\n     while (readerWizyty.hasNextLine()) {\r\n            String[] data = readerWizyty.nextLine().trim().split(&quot;\\t&quot;);\r\n\r\n            Lekarze lekarze1 = lekarze.stream()\r\n                    .filter(m -&gt; m.getIdLekarza() == Integer.parseInt(data[0]))\r\n                    .findAny()\r\n                    .orElse(null);\r\n\r\n            Pacjenci pacjenci1 = pacjent.stream()\r\n                    .filter(m -&gt; m.getIdPacjenta() == Integer.parseInt(data[1]))\r\n                    .findAny()\r\n                    .orElse(null);\r\n\r\n            Wizyty wizyta = new Wizyty(lekarze1, pacjenci1, new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[2]));\r\n\r\n            wizytyList.add(wizyta);\r\n            if(lekarze1 != null) {\r\n               lekarze1.getListOfDoctorVisits().add(wizyta);\r\n            }\r\n            if(pacjenci1 != null) {\r\n               pacjenci1.getListOfPaitientVisits().add(wizyta);\r\n            }\r\n        }\r\n\r\nBut be aware, currently you are iterating over and over the doctors list and patients list for each and every line in the visits file. I would recomend to read the visits file first and create two maps: 1) doctorId to visits and 2) patientId to visits and use those maps to populate the doctors list and patients list. See below example which dose this (for simplicity, I am using lombok and included the three classes as nested inner classes, but you can create your own `getter` and `toString`, and move the inner classes to own file)\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    public class Example {\r\n        private static final DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        private static final Pattern DELIMITER = Pattern.compile(&quot;\\t&quot;);\r\n    \r\n        public static void main(final String[] args) throws IOException {\r\n            final var fileWizyty   = &quot;src/com/company/pliki/wizyty.txt&quot;;\r\n            final var fileLekarze  = &quot;src/com/company/pliki/lekarze.txt&quot;;\r\n            final var filePacjenci = &quot;src/com/company/pliki/pacjenci.txt&quot;;\r\n    \r\n            final List&lt;Wizyty&gt; wizytyList = readWizyty(fileWizyty);\r\n    \r\n            final Map&lt;Integer,List&lt;Wizyty&gt;&gt; lekarzaMapieWizyty = wizytyList.stream()\r\n                    .collect(Collectors.groupingBy(Wizyty::getIdLekarza));\r\n    \r\n            final Map&lt;Integer,List&lt;Wizyty&gt;&gt; pacjentaMapieWizyty = wizytyList.stream()\r\n                    .collect(Collectors.groupingBy(Wizyty::getIdPacjenta));\r\n    \r\n            final List&lt;Lekarze&gt;  lekarzeList   = readLekarze(fileLekarze, lekarzaMapieWizyty);\r\n            final List&lt;Pacjenci&gt; pacjenciList = readPacjenci(filePacjenci, pacjentaMapieWizyty);\r\n        }\r\n    \r\n        private static List&lt;Wizyty&gt; readWizyty(final String pathToFile) throws IOException {\r\n            try (final Stream&lt;String&gt; input = Files.lines(Paths.get(pathToFile))) {\r\n                return input.skip(1)\r\n                    .map(Wizyty::new)\r\n                    .collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n        private static List&lt;Lekarze&gt; readLekarze(final String pathToFile,\r\n                final Map&lt;Integer, List&lt;Wizyty&gt;&gt; map) throws IOException {\r\n    \r\n            try (final Stream&lt;String&gt; input = Files.lines(Paths.get(pathToFile))) {\r\n                return input.skip(1)\r\n                        .map(line  -&gt; new Lekarze(line, map.get(Integer.parseInt(DELIMITER.split(line)[0]))))\r\n                        .collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n        private static List&lt;Pacjenci&gt; readPacjenci(final String pathToFile,\r\n                final Map&lt;Integer, List&lt;Wizyty&gt;&gt; map) throws IOException {\r\n    \r\n            try (final Stream&lt;String&gt; input = Files.lines(Paths.get(pathToFile))) {\r\n                return input.skip(1)\r\n                    .map(line  -&gt; new Pacjenci(line, map.get(Integer.parseInt(DELIMITER.split(line)[0]))))\r\n                    .collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n        @Getter\r\n        @ToString\r\n        static class Lekarze {\r\n            int idLekarza;\r\n            String nazwisko;\r\n            String imie;\r\n            String specjalnosc;\r\n            LocalDate dataUrodzenia;\r\n            String nip;\r\n            String pesel;\r\n            List&lt;Wizyty&gt; wizytyList;\r\n    \r\n            Lekarze (final String line, final List&lt;Wizyty&gt; wizytyList){\r\n                final String[] data = DELIMITER.split(line);\r\n                idLekarza = Integer.parseInt(data[0]);\r\n                nazwisko = data[1];\r\n                imie = data[2];\r\n                specjalnosc = data[3];\r\n                dataUrodzenia = LocalDate.parse(data[4], DTF);\r\n                nip = data[5];\r\n                pesel = data[6];\r\n                this.wizytyList = new ArrayList&lt;&gt;(wizytyList);\r\n            }\r\n        }\r\n    \r\n        @Getter\r\n        @ToString\r\n        static class Pacjenci {\r\n            int idPacjenta;\r\n            String nazwisko;\r\n            String imie;\r\n            String pesel;\r\n            LocalDate dataUrodzenia;\r\n            List&lt;Wizyty&gt; wizytyList;\r\n    \r\n            Pacjenci (final String line, final List&lt;Wizyty&gt; wizytyList){\r\n                final String[] data = DELIMITER.split(line);\r\n                idPacjenta = Integer.parseInt(data[0]);\r\n                nazwisko = data[1];\r\n                imie = data[2];\r\n                pesel = data[3];\r\n                dataUrodzenia = LocalDate.parse(data[4], DTF);\r\n                this.wizytyList = new ArrayList&lt;&gt;(wizytyList);\r\n            }\r\n        }\r\n    \r\n        @Getter\r\n        @ToString\r\n        static class Wizyty {\r\n            int idLekarza;\r\n            int idPacjenta;\r\n            LocalDate dataWizyty;\r\n    \r\n            Wizyty (final String line){\r\n                final String[] data = DELIMITER.split(line);\r\n                idLekarza = Integer.parseInt(data[0]);\r\n                idPacjenta = Integer.parseInt(data[1]);\r\n                dataWizyty = LocalDate.parse(data[2],DTF);\r\n            }\r\n        }\r\n    }","title":"Creating 3 different lists with the use of text file &amp; relations","body":"<p>Assuming you have getters in your <code>Lekarze</code> and <code>Pacjenci</code> classes, you could just add the <code>Wizyty</code> object to <code>listOfDoctorVisits</code> and <code>listOfPaitientVisits</code> of the current found doctor and patient :</p>\n<pre><code> while (readerWizyty.hasNextLine()) {\n        String[] data = readerWizyty.nextLine().trim().split(&quot;\\t&quot;);\n\n        Lekarze lekarze1 = lekarze.stream()\n                .filter(m -&gt; m.getIdLekarza() == Integer.parseInt(data[0]))\n                .findAny()\n                .orElse(null);\n\n        Pacjenci pacjenci1 = pacjent.stream()\n                .filter(m -&gt; m.getIdPacjenta() == Integer.parseInt(data[1]))\n                .findAny()\n                .orElse(null);\n\n        Wizyty wizyta = new Wizyty(lekarze1, pacjenci1, new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[2]));\n\n        wizytyList.add(wizyta);\n        if(lekarze1 != null) {\n           lekarze1.getListOfDoctorVisits().add(wizyta);\n        }\n        if(pacjenci1 != null) {\n           pacjenci1.getListOfPaitientVisits().add(wizyta);\n        }\n    }\n</code></pre>\n<p>But be aware, currently you are iterating over and over the doctors list and patients list for each and every line in the visits file. I would recomend to read the visits file first and create two maps: 1) doctorId to visits and 2) patientId to visits and use those maps to populate the doctors list and patients list. See below example which dose this (for simplicity, I am using lombok and included the three classes as nested inner classes, but you can create your own <code>getter</code> and <code>toString</code>, and move the inner classes to own file)</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport lombok.Getter;\nimport lombok.ToString;\n\npublic class Example {\n    private static final DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n    private static final Pattern DELIMITER = Pattern.compile(&quot;\\t&quot;);\n\n    public static void main(final String[] args) throws IOException {\n        final var fileWizyty   = &quot;src/com/company/pliki/wizyty.txt&quot;;\n        final var fileLekarze  = &quot;src/com/company/pliki/lekarze.txt&quot;;\n        final var filePacjenci = &quot;src/com/company/pliki/pacjenci.txt&quot;;\n\n        final List&lt;Wizyty&gt; wizytyList = readWizyty(fileWizyty);\n\n        final Map&lt;Integer,List&lt;Wizyty&gt;&gt; lekarzaMapieWizyty = wizytyList.stream()\n                .collect(Collectors.groupingBy(Wizyty::getIdLekarza));\n\n        final Map&lt;Integer,List&lt;Wizyty&gt;&gt; pacjentaMapieWizyty = wizytyList.stream()\n                .collect(Collectors.groupingBy(Wizyty::getIdPacjenta));\n\n        final List&lt;Lekarze&gt;  lekarzeList   = readLekarze(fileLekarze, lekarzaMapieWizyty);\n        final List&lt;Pacjenci&gt; pacjenciList = readPacjenci(filePacjenci, pacjentaMapieWizyty);\n    }\n\n    private static List&lt;Wizyty&gt; readWizyty(final String pathToFile) throws IOException {\n        try (final Stream&lt;String&gt; input = Files.lines(Paths.get(pathToFile))) {\n            return input.skip(1)\n                .map(Wizyty::new)\n                .collect(Collectors.toList());\n        }\n    }\n\n    private static List&lt;Lekarze&gt; readLekarze(final String pathToFile,\n            final Map&lt;Integer, List&lt;Wizyty&gt;&gt; map) throws IOException {\n\n        try (final Stream&lt;String&gt; input = Files.lines(Paths.get(pathToFile))) {\n            return input.skip(1)\n                    .map(line  -&gt; new Lekarze(line, map.get(Integer.parseInt(DELIMITER.split(line)[0]))))\n                    .collect(Collectors.toList());\n        }\n    }\n\n    private static List&lt;Pacjenci&gt; readPacjenci(final String pathToFile,\n            final Map&lt;Integer, List&lt;Wizyty&gt;&gt; map) throws IOException {\n\n        try (final Stream&lt;String&gt; input = Files.lines(Paths.get(pathToFile))) {\n            return input.skip(1)\n                .map(line  -&gt; new Pacjenci(line, map.get(Integer.parseInt(DELIMITER.split(line)[0]))))\n                .collect(Collectors.toList());\n        }\n    }\n\n    @Getter\n    @ToString\n    static class Lekarze {\n        int idLekarza;\n        String nazwisko;\n        String imie;\n        String specjalnosc;\n        LocalDate dataUrodzenia;\n        String nip;\n        String pesel;\n        List&lt;Wizyty&gt; wizytyList;\n\n        Lekarze (final String line, final List&lt;Wizyty&gt; wizytyList){\n            final String[] data = DELIMITER.split(line);\n            idLekarza = Integer.parseInt(data[0]);\n            nazwisko = data[1];\n            imie = data[2];\n            specjalnosc = data[3];\n            dataUrodzenia = LocalDate.parse(data[4], DTF);\n            nip = data[5];\n            pesel = data[6];\n            this.wizytyList = new ArrayList&lt;&gt;(wizytyList);\n        }\n    }\n\n    @Getter\n    @ToString\n    static class Pacjenci {\n        int idPacjenta;\n        String nazwisko;\n        String imie;\n        String pesel;\n        LocalDate dataUrodzenia;\n        List&lt;Wizyty&gt; wizytyList;\n\n        Pacjenci (final String line, final List&lt;Wizyty&gt; wizytyList){\n            final String[] data = DELIMITER.split(line);\n            idPacjenta = Integer.parseInt(data[0]);\n            nazwisko = data[1];\n            imie = data[2];\n            pesel = data[3];\n            dataUrodzenia = LocalDate.parse(data[4], DTF);\n            this.wizytyList = new ArrayList&lt;&gt;(wizytyList);\n        }\n    }\n\n    @Getter\n    @ToString\n    static class Wizyty {\n        int idLekarza;\n        int idPacjenta;\n        LocalDate dataWizyty;\n\n        Wizyty (final String line){\n            final String[] data = DELIMITER.split(line);\n            idLekarza = Integer.parseInt(data[0]);\n            idPacjenta = Integer.parseInt(data[1]);\n            dataWizyty = LocalDate.parse(data[2],DTF);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658583210,"creation_date":1658522574,"question_id":73085870,"body_markdown":"I am writing a program where I have 3 different files: paitients, doctors &amp; visits. I have imported them in &amp; they are loading. I have created 3 clases:\r\nVisits relation to Paitient paitient; Doctor doctor and Date of the visit;\r\nDoctor where it has relation `List&lt;Visits&gt; listOfDoctorVisits;`\r\nPaitient where it has relation `List&lt;Visits&gt; listOfPaitientVisits;`\r\n\r\nI need to write code where when I read a file of Visits a new object is made &amp; added to the list. But then a doctor has to has his visits in the `List&lt;Visits&gt; listOfDoctorVisits` &amp; paitient in `listOfPaitientVisits.`\r\n\r\nCould you advise on how to edit the code so it would check the visits file and create a vist list for the doctor &amp; the paitient?\r\n\r\n     List&lt;Wizyty&gt; wizytyList = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            File fileWizyty = new File(&quot;src/com/company/pliki/wizyty.txt&quot;);\r\n            Scanner readerWizyty = new Scanner(fileWizyty);\r\n            readerWizyty.nextLine();\r\n            while (readerWizyty.hasNextLine()) {\r\n                String[] data = readerWizyty.nextLine().trim().split(&quot;\\t&quot;);\r\n\r\n                Lekarze lekarze1 = lekarze.stream()\r\n                        .filter(m -&gt; m.getIdLekarza() == Integer.parseInt(data[0]))\r\n                        .findAny()\r\n                        .orElse(null);\r\n\r\n                Pacjenci pacjenci1 = pacjent.stream()\r\n                        .filter(m -&gt; m.getIdPacjenta() == Integer.parseInt(data[1]))\r\n                        .findAny()\r\n                        .orElse(null);\r\n\r\n                Wizyty wizyta = new Wizyty(lekarze1, pacjenci1, new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[2]));\r\n\r\n                wizytyList.add(wizyta);\r\n            }\r\n            readerWizyty.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Error File Wizyty&quot;);\r\n            e.printStackTrace();\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nSample Doctor text file:\r\n(ID, Surname, Name, Speciality, DOB, NIP number, Pesel number)\r\n\r\n    Id_lekarza\tNazwisko\tImie\tSpecjalnosc\tData_urodzenia\tNIP\tPESEL\r\n           23\tKadaj\t    Monika\tlaryngolog\t1965-03-16\t879-122-69-94\t65031687654\r\n\r\nSample Paitient text file:\r\n(ID, Surname, Name, Pesel number, DOB)\r\n\r\n    Id_pacjenta\tNazwisko\tImie\tPESEL\tData_urodzenia\r\n         100\tKowal\tWaldemar\t01211309876\t2001-1-13\r\n\r\nSample Visits text file:\r\n(Doctor ID, Paitient ID, Date of visit)\r\n\r\n    Id_lekarza\tId_pacjenta\tData_wizyty\r\n      23\t         124\t2006-12-13","title":"Creating 3 different lists with the use of text file &amp; relations","body":"<p>I am writing a program where I have 3 different files: paitients, doctors &amp; visits. I have imported them in &amp; they are loading. I have created 3 clases:\nVisits relation to Paitient paitient; Doctor doctor and Date of the visit;\nDoctor where it has relation <code>List&lt;Visits&gt; listOfDoctorVisits;</code>\nPaitient where it has relation <code>List&lt;Visits&gt; listOfPaitientVisits;</code></p>\n<p>I need to write code where when I read a file of Visits a new object is made &amp; added to the list. But then a doctor has to has his visits in the <code>List&lt;Visits&gt; listOfDoctorVisits</code> &amp; paitient in <code>listOfPaitientVisits.</code></p>\n<p>Could you advise on how to edit the code so it would check the visits file and create a vist list for the doctor &amp; the paitient?</p>\n<pre><code> List&lt;Wizyty&gt; wizytyList = new ArrayList&lt;&gt;();\n\n    try {\n        File fileWizyty = new File(&quot;src/com/company/pliki/wizyty.txt&quot;);\n        Scanner readerWizyty = new Scanner(fileWizyty);\n        readerWizyty.nextLine();\n        while (readerWizyty.hasNextLine()) {\n            String[] data = readerWizyty.nextLine().trim().split(&quot;\\t&quot;);\n\n            Lekarze lekarze1 = lekarze.stream()\n                    .filter(m -&gt; m.getIdLekarza() == Integer.parseInt(data[0]))\n                    .findAny()\n                    .orElse(null);\n\n            Pacjenci pacjenci1 = pacjent.stream()\n                    .filter(m -&gt; m.getIdPacjenta() == Integer.parseInt(data[1]))\n                    .findAny()\n                    .orElse(null);\n\n            Wizyty wizyta = new Wizyty(lekarze1, pacjenci1, new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[2]));\n\n            wizytyList.add(wizyta);\n        }\n        readerWizyty.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;Error File Wizyty&quot;);\n        e.printStackTrace();\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Sample Doctor text file:\n(ID, Surname, Name, Speciality, DOB, NIP number, Pesel number)</p>\n<pre><code>Id_lekarza  Nazwisko    Imie    Specjalnosc Data_urodzenia  NIP PESEL\n       23   Kadaj       Monika  laryngolog  1965-03-16  879-122-69-94   65031687654\n</code></pre>\n<p>Sample Paitient text file:\n(ID, Surname, Name, Pesel number, DOB)</p>\n<pre><code>Id_pacjenta Nazwisko    Imie    PESEL   Data_urodzenia\n     100    Kowal   Waldemar    01211309876 2001-1-13\n</code></pre>\n<p>Sample Visits text file:\n(Doctor ID, Paitient ID, Date of visit)</p>\n<pre><code>Id_lekarza  Id_pacjenta Data_wizyty\n  23             124    2006-12-13\n</code></pre>\n"},{"tags":["java","xslt"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1658580216,"post_id":73090811,"comment_id":129089538,"body_markdown":"Which JRE/JDK (version), do you rely on the built-in TransformerFactory or have you added Xalan or Saxon to the class path?","body":"Which JRE/JDK (version), do you rely on the built-in TransformerFactory or have you added Xalan or Saxon to the class path?"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658582587,"creation_date":1658582587,"answer_id":73091117,"question_id":73090811,"body_markdown":"Looking at https://xalan.apache.org/xalan-j/extensions.html#ext-func-calls I would rather expect e.g. `xmlns:java=&quot;http://xml.apache.org/xalan/java&quot;` and then e.g. `&lt;xsl:value-of select=&quot;java:x.y.z.XsltCallingJavaEchoTwice.doubleIntEcho(number(.))&quot;/&gt;`.","title":"XSLT - calling Java method - gives: The first argument to the non-static Java function &#39;doubleIntEcho&#39; is not a valid object reference","body":"<p>Looking at <a href=\"https://xalan.apache.org/xalan-j/extensions.html#ext-func-calls\" rel=\"nofollow noreferrer\">https://xalan.apache.org/xalan-j/extensions.html#ext-func-calls</a> I would rather expect e.g. <code>xmlns:java=&quot;http://xml.apache.org/xalan/java&quot;</code> and then e.g. <code>&lt;xsl:value-of select=&quot;java:x.y.z.XsltCallingJavaEchoTwice.doubleIntEcho(number(.))&quot;/&gt;</code>.</p>\n"}],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73091117,"answer_count":1,"score":1,"last_activity_date":1658582587,"creation_date":1658579834,"question_id":73090811,"body_markdown":"From an XSLT stylesheet I would like to call a Java (extention) method. \r\n\r\nThe error message is: \r\n\r\n&gt; The first argument to the non-static Java function &#39;doubleIntEcho&#39; is not a valid object reference.\r\n\r\nMy simplified POC consists of 4 parts: \r\n\r\n**1. XML: file**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;value&gt;\r\n        &lt;amount&gt;1&lt;/amount&gt;\r\n        &lt;amount&gt;2&lt;/amount&gt;\r\n        &lt;amount&gt;3&lt;/amount&gt;\r\n    &lt;/value&gt;\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. XSLT stylesheet: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                    xmlns:jcall=&quot;java:x.y.z.XsltCallingJavaEchoTwice&quot;&gt;\r\n        &lt;xsl:output method=&quot;xml&quot;/&gt;\r\n\r\n        &lt;xsl:template match=&quot;/value&quot;&gt;\r\n            &lt;value&gt;\r\n                &lt;xsl:apply-templates select=&quot;amount&quot;/&gt;\r\n            &lt;/value&gt;\r\n        &lt;/xsl:template&gt;\r\n\r\n        &lt;xsl:template match=&quot;amount&quot;&gt;\r\n            &lt;xsl:copy&gt;\r\n                &lt;value&gt;\r\n                    &lt;xsl:value-of select=&quot;text()&quot;/&gt;\r\n                &lt;/value&gt;\r\n                &lt;value-int&gt;\r\n                    &lt;xsl:value-of select=&quot;jcall:doubleIntEcho(number(.))&quot;/&gt;\r\n                &lt;/value-int&gt;\r\n                &lt;value-string&gt;\r\n                    &lt;xsl:value-of select=&quot;jcall:doubleStringEcho(text())&quot;/&gt;\r\n                &lt;/value-string&gt;\r\n            &lt;/xsl:copy&gt;\r\n        &lt;/xsl:template&gt;\r\n\r\n    &lt;/xsl:stylesheet&gt;\r\n&lt;!-- end snippet --&gt;\r\n\r\n**3. Java class with the extention:** \r\n\r\n    package x.y.z;\r\n    \r\n    public class XsltCallingJavaEchoTwice {\r\n        public static String doubleStringEcho( String input) {\r\n            return &quot;Source=&quot; + input + &quot;, echo=&quot; + input + &quot;, echo2=&quot; + input;\r\n        }\r\n        public static int doubleIntEcho( int input) {\r\n            return input + input;\r\n        }\r\n    }\r\n\r\n\r\n\r\n**4. The Java environment starting the XSLT transformation process:** \r\n\r\n    public class XsltFilterParentWithAllChildren {\r\n    \r\n      private static final String XML_FILENAME = &quot;files/xslt-call-java-amounts.xml&quot;;\r\n      private static final String XSLT_FILENAME = &quot;files/xslt-call-java-xsl.xsl&quot;;\r\n      private static final String XML_OUTPUT_FILENAME = &quot;files/output.xml&quot;;\r\n    \r\n      public static void main(String[] args) {\r\n        deleteFile( XML_OUTPUT_FILENAME);\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        try (InputStream is = new FileInputStream(XML_FILENAME)) {\r\n          DocumentBuilder db = dbf.newDocumentBuilder();\r\n          Document doc = db.parse(is);\r\n          try (FileOutputStream output = new FileOutputStream(XML_OUTPUT_FILENAME)) {\r\n            transform(doc, output);\r\n          }\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }   \r\n      private static void transform(Document doc, OutputStream output) throws TransformerException {\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        Transformer transformer = transformerFactory.newTransformer(\r\n                new StreamSource(new File(XSLT_FILENAME)));\r\n        transformer.transform(new DOMSource(doc), new StreamResult(output));\r\n      }   \r\n      private static void deleteFile( String pathname) {\r\n        new File( pathname).delete();\r\n      }\r\n    }","title":"XSLT - calling Java method - gives: The first argument to the non-static Java function &#39;doubleIntEcho&#39; is not a valid object reference","body":"<p>From an XSLT stylesheet I would like to call a Java (extention) method.</p>\n<p>The error message is:</p>\n<blockquote>\n<p>The first argument to the non-static Java function 'doubleIntEcho' is not a valid object reference.</p>\n</blockquote>\n<p>My simplified POC consists of 4 parts:</p>\n<p><strong>1. XML: file</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;value&gt;\n    &lt;amount&gt;1&lt;/amount&gt;\n    &lt;amount&gt;2&lt;/amount&gt;\n    &lt;amount&gt;3&lt;/amount&gt;\n&lt;/value&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li>XSLT stylesheet:</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n                xmlns:jcall=\"java:x.y.z.XsltCallingJavaEchoTwice\"&gt;\n    &lt;xsl:output method=\"xml\"/&gt;\n\n    &lt;xsl:template match=\"/value\"&gt;\n        &lt;value&gt;\n            &lt;xsl:apply-templates select=\"amount\"/&gt;\n        &lt;/value&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=\"amount\"&gt;\n        &lt;xsl:copy&gt;\n            &lt;value&gt;\n                &lt;xsl:value-of select=\"text()\"/&gt;\n            &lt;/value&gt;\n            &lt;value-int&gt;\n                &lt;xsl:value-of select=\"jcall:doubleIntEcho(number(.))\"/&gt;\n            &lt;/value-int&gt;\n            &lt;value-string&gt;\n                &lt;xsl:value-of select=\"jcall:doubleStringEcho(text())\"/&gt;\n            &lt;/value-string&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>3. Java class with the extention:</strong></p>\n<pre><code>package x.y.z;\n\npublic class XsltCallingJavaEchoTwice {\n    public static String doubleStringEcho( String input) {\n        return &quot;Source=&quot; + input + &quot;, echo=&quot; + input + &quot;, echo2=&quot; + input;\n    }\n    public static int doubleIntEcho( int input) {\n        return input + input;\n    }\n}\n</code></pre>\n<p><strong>4. The Java environment starting the XSLT transformation process:</strong></p>\n<pre><code>public class XsltFilterParentWithAllChildren {\n\n  private static final String XML_FILENAME = &quot;files/xslt-call-java-amounts.xml&quot;;\n  private static final String XSLT_FILENAME = &quot;files/xslt-call-java-xsl.xsl&quot;;\n  private static final String XML_OUTPUT_FILENAME = &quot;files/output.xml&quot;;\n\n  public static void main(String[] args) {\n    deleteFile( XML_OUTPUT_FILENAME);\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    try (InputStream is = new FileInputStream(XML_FILENAME)) {\n      DocumentBuilder db = dbf.newDocumentBuilder();\n      Document doc = db.parse(is);\n      try (FileOutputStream output = new FileOutputStream(XML_OUTPUT_FILENAME)) {\n        transform(doc, output);\n      }\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }   \n  private static void transform(Document doc, OutputStream output) throws TransformerException {\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n    Transformer transformer = transformerFactory.newTransformer(\n            new StreamSource(new File(XSLT_FILENAME)));\n    transformer.transform(new DOMSource(doc), new StreamResult(output));\n  }   \n  private static void deleteFile( String pathname) {\n    new File( pathname).delete();\n  }\n}\n</code></pre>\n"},{"tags":["java","tomcat","installation"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1658458814,"post_id":73074233,"comment_id":129061602,"body_markdown":"`java.util.logging` is the built-in logger.  There&#39;s no reason why it might be missing.  Hmm, unless perhaps I see it is part of module `java.logging` and not `java.base`, so perhaps with a newer version of Java it has to be installed separately?  I&#39;m guessing but that might be something to look into. https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Logger.html","body":"<code>java.util.logging</code> is the built-in logger.  There&#39;s no reason why it might be missing.  Hmm, unless perhaps I see it is part of module <code>java.logging</code> and not <code>java.base</code>, so perhaps with a newer version of Java it has to be installed separately?  I&#39;m guessing but that might be something to look into. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Logger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.logging/java&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658582220,"creation_date":1658582220,"answer_id":73091074,"question_id":73074233,"body_markdown":"I finally found that this issue is caused by:\r\n\r\n(1) I&#39;m using jdk 17\r\n(2) Software like Tomcat10 and netbeans14 only supports to be run by jdk8-14, not higher version of JRE. This issue exists on windows/linux.\r\n\r\nSolution:\r\nUnder %JAVA_HOME% remove the jre directory, and replace it with downloaded oracle jre8 directory. Problem solved, both tomcat and netbeans could start.\r\n\r\nMark it.","title":"Tomcat 10 startup cannot find &quot;java/util/logging/Logger&quot;","body":"<p>I finally found that this issue is caused by:</p>\n<p>(1) I'm using jdk 17\n(2) Software like Tomcat10 and netbeans14 only supports to be run by jdk8-14, not higher version of JRE. This issue exists on windows/linux.</p>\n<p>Solution:\nUnder %JAVA_HOME% remove the jre directory, and replace it with downloaded oracle jre8 directory. Problem solved, both tomcat and netbeans could start.</p>\n<p>Mark it.</p>\n"}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658582220,"creation_date":1658453986,"question_id":73074233,"body_markdown":"I&#39;ve just installed jdk17 on win10 under ```D:\\Program Files\\Java\\jdk-17.0.2```\r\n```\r\nC:\\Users\\xxx&gt;javac -version\r\njavac 17.0.2\r\n```\r\nAnd I downloaded tomcat10 zip file and unzip it under ```E:\\wsl\\apache-tomcat-10.0.22```\r\n\r\nThen I set CATALINA_HOME and PATH:\r\n```\r\nset|findstr CATA\r\nCATALINA_HOME=E:\\wsl\\apache-tomcat-10.0.22\r\n\r\necho %JRE_HOME%\r\nD:\\Program Files\\Java\\jdk-17.0.2\\jre\r\n\r\necho %PATH%\r\n....;E:\\wsl\\apache-tomcat-10.0.22\\bin;E:\\wsl\\apache-tomcat-10.0.22\\lib;\r\n\r\nCLASS_PATH=D:\\Program Files\\Java\\jdk-17.0.2\\lib\\dt.jar;D:\\Program Files\\Java\\jdk-17.0.2\\lib\\tools.jar;%JRE_HOME%\\lib\r\n```\r\n\r\nAnd then in cmd.exe, I ran ```startup``` or ```catalina run``` it prints some error message:\r\n\r\n```\r\ncatalina run\r\nUsing CATALINA_BASE:   &quot;E:\\wsl\\apache-tomcat-10.0.22&quot;\r\nUsing CATALINA_HOME:   &quot;E:\\wsl\\apache-tomcat-10.0.22&quot;\r\nUsing CATALINA_TMPDIR: &quot;E:\\wsl\\apache-tomcat-10.0.22\\temp&quot;\r\nUsing JRE_HOME:        &quot;D:\\Program Files\\Java\\jdk-17.0.2\\jre&quot;\r\nUsing CLASSPATH:       &quot;E:\\wsl\\apache-tomcat-10.0.22\\bin\\bootstrap.jar;E:\\wsl\\apache-tomcat-10.0.22\\bin\\tomcat-juli.jar&quot;\r\nUsing CATALINA_OPTS:   &quot;&quot;\r\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\nWARNING: Unknown module: java.rmi specified to --add-opens\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/util/logging/Logger\r\n        at org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:61)\r\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:181)\r\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:133)\r\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:156)\r\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:211)\r\n        at org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:50)\r\nCaused by: java.lang.ClassNotFoundException: java.util.logging.Logger\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n```\r\n\r\nTry to visit localhost:8080, nothing is shown. \r\n\r\nWhat does the above error show? Did I miss anything during setup tomcat?\r\n\r\nThanks.","title":"Tomcat 10 startup cannot find &quot;java/util/logging/Logger&quot;","body":"<p>I've just installed jdk17 on win10 under <code>D:\\Program Files\\Java\\jdk-17.0.2</code></p>\n<pre><code>C:\\Users\\xxx&gt;javac -version\njavac 17.0.2\n</code></pre>\n<p>And I downloaded tomcat10 zip file and unzip it under <code>E:\\wsl\\apache-tomcat-10.0.22</code></p>\n<p>Then I set CATALINA_HOME and PATH:</p>\n<pre><code>set|findstr CATA\nCATALINA_HOME=E:\\wsl\\apache-tomcat-10.0.22\n\necho %JRE_HOME%\nD:\\Program Files\\Java\\jdk-17.0.2\\jre\n\necho %PATH%\n....;E:\\wsl\\apache-tomcat-10.0.22\\bin;E:\\wsl\\apache-tomcat-10.0.22\\lib;\n\nCLASS_PATH=D:\\Program Files\\Java\\jdk-17.0.2\\lib\\dt.jar;D:\\Program Files\\Java\\jdk-17.0.2\\lib\\tools.jar;%JRE_HOME%\\lib\n</code></pre>\n<p>And then in cmd.exe, I ran <code>startup</code> or <code>catalina run</code> it prints some error message:</p>\n<pre><code>catalina run\nUsing CATALINA_BASE:   &quot;E:\\wsl\\apache-tomcat-10.0.22&quot;\nUsing CATALINA_HOME:   &quot;E:\\wsl\\apache-tomcat-10.0.22&quot;\nUsing CATALINA_TMPDIR: &quot;E:\\wsl\\apache-tomcat-10.0.22\\temp&quot;\nUsing JRE_HOME:        &quot;D:\\Program Files\\Java\\jdk-17.0.2\\jre&quot;\nUsing CLASSPATH:       &quot;E:\\wsl\\apache-tomcat-10.0.22\\bin\\bootstrap.jar;E:\\wsl\\apache-tomcat-10.0.22\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nWARNING: Unknown module: java.rmi specified to --add-opens\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/util/logging/Logger\n        at org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:61)\n        at org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:181)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:133)\n        at org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:156)\n        at org.apache.juli.logging.LogFactory.getLog(LogFactory.java:211)\n        at org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:50)\nCaused by: java.lang.ClassNotFoundException: java.util.logging.Logger\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n</code></pre>\n<p>Try to visit localhost:8080, nothing is shown.</p>\n<p>What does the above error show? Did I miss anything during setup tomcat?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658586583,"post_id":73089995,"comment_id":129090702,"body_markdown":"Does this answer your question? [OnActivityResult method is deprecated, what is the alternative?](https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative\">OnActivityResult method is deprecated, what is the alternative?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25876439,"reputation":159,"user_id":19606347,"display_name":"Fede Cana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658581983,"creation_date":1658581983,"answer_id":73091043,"question_id":73089995,"body_markdown":"You must enter the definition of your **ActivityResultLauncher** in the **onCreate()** method of your activity.\r\n\r\n    activityResultLauncher = registerForActivityResult(\r\n                    new ActivityResultContracts.StartActivityForResult(),\r\n                    result -&gt; {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            dbHelper = new DbHelper(this);\r\n                            allItems = dbHelper.getNotesAndChecklists();\r\n                            \r\n                            if(result.getData() != null)\r\n                                noteAdapter.update(allItems);\r\n                        }\r\n                    });\r\n\r\nAlso, add your ActivityResultLauncher variable as a **private attribute** of the activity.\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n\r\nAfter that it starts the activity through it.\r\n\r\n    fabNote.setOnClickListener((View.OnClickListener) view -&gt; activityResultLauncher\r\n                    .launch(new Intent(MainActivity.this, AddNote.class)));\r\n\r\n","title":"How to change this piece of code from (startActivityForResult) to (ActivityResultLauncher) because startActivityForResult is deprecated?","body":"<p>You must enter the definition of your <strong>ActivityResultLauncher</strong> in the <strong>onCreate()</strong> method of your activity.</p>\n<pre><code>activityResultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        dbHelper = new DbHelper(this);\n                        allItems = dbHelper.getNotesAndChecklists();\n                        \n                        if(result.getData() != null)\n                            noteAdapter.update(allItems);\n                    }\n                });\n</code></pre>\n<p>Also, add your ActivityResultLauncher variable as a <strong>private attribute</strong> of the activity.</p>\n<pre><code>private ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n</code></pre>\n<p>After that it starts the activity through it.</p>\n<pre><code>fabNote.setOnClickListener((View.OnClickListener) view -&gt; activityResultLauncher\n                .launch(new Intent(MainActivity.this, AddNote.class)));\n</code></pre>\n"}],"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1658925324,"accepted_answer_id":73091043,"answer_count":1,"score":-1,"last_activity_date":1658581983,"creation_date":1658572509,"question_id":73089995,"body_markdown":"I know there are some other ways to update RecyclerView like restarting the activity or putting update code inside `onResume();` but none of these two ways are efficient, any how. I&#39;ve used ` startActivityForResult(intent, 1);` but now it is deprecated, I want to use `ActivityResultLauncher&lt;Intent&gt; startForResult`. Here is the deprecated code which is working.\r\n\r\nInside MainActivity\r\n\r\n    fabNote.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent = new Intent(MainActivity.this, AddNote.class);\r\n                startActivityForResult(intent, 1);\r\n\r\n            }\r\n        });\r\n\r\ninside AddNote class:\r\n\r\n     Intent intent = new Intent();\r\n                setResult(RESULT_OK,intent);\r\n                finish();\r\n\r\nInside MainActivity:\r\n\r\n     @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(resultCode== RESULT_OK){\r\n            dbHelper = new DbHelper(this);\r\n            allItems = dbHelper.getNotesAndChecklists();\r\n            if(requestCode==1){\r\n                if(data != null){\r\n                    noteAdapter.update(allItems);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow to change this code to work with the method `ActivityResultLauncher&lt;Intent&gt;`?\r\n\r\nI don&#39;t have anything to return and put it in `putExtra` , all I want is when the note added to SQLite Database and when RecyclerView gets updated when return back to main Activity. As I said I can use this way to update RecyclerView \r\n\r\n     @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        noteAdapter.update(allItems);\r\n    }\r\n\r\nbut let&#39;s say the user pressed the home button and then return to the app at this time onResume gets called and RecyclerView is updated though it is unnecessary to update in this case because the data isn&#39;t changed.\r\n\r\n","title":"How to change this piece of code from (startActivityForResult) to (ActivityResultLauncher) because startActivityForResult is deprecated?","body":"<p>I know there are some other ways to update RecyclerView like restarting the activity or putting update code inside <code>onResume();</code> but none of these two ways are efficient, any how. I've used <code> startActivityForResult(intent, 1);</code> but now it is deprecated, I want to use <code>ActivityResultLauncher&lt;Intent&gt; startForResult</code>. Here is the deprecated code which is working.</p>\n<p>Inside MainActivity</p>\n<pre><code>fabNote.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Intent intent = new Intent(MainActivity.this, AddNote.class);\n            startActivityForResult(intent, 1);\n\n        }\n    });\n</code></pre>\n<p>inside AddNote class:</p>\n<pre><code> Intent intent = new Intent();\n            setResult(RESULT_OK,intent);\n            finish();\n</code></pre>\n<p>Inside MainActivity:</p>\n<pre><code> @Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(resultCode== RESULT_OK){\n        dbHelper = new DbHelper(this);\n        allItems = dbHelper.getNotesAndChecklists();\n        if(requestCode==1){\n            if(data != null){\n                noteAdapter.update(allItems);\n            }\n        }\n    }\n}\n</code></pre>\n<p>How to change this code to work with the method <code>ActivityResultLauncher&lt;Intent&gt;</code>?</p>\n<p>I don't have anything to return and put it in <code>putExtra</code> , all I want is when the note added to SQLite Database and when RecyclerView gets updated when return back to main Activity. As I said I can use this way to update RecyclerView</p>\n<pre><code> @Override\nprotected void onResume() {\n    super.onResume();\n    noteAdapter.update(allItems);\n}\n</code></pre>\n<p>but let's say the user pressed the home button and then return to the app at this time onResume gets called and RecyclerView is updated though it is unnecessary to update in this case because the data isn't changed.</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":11276209,"reputation":31,"user_id":8270198,"display_name":"Dimple Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658395444,"creation_date":1658395406,"answer_id":73063689,"question_id":73050740,"body_markdown":"Check your MainActivity.java and MainApplication.java file&#39;s First line it should be ```com.myappName```","title":"React Native java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>Check your MainActivity.java and MainApplication.java file's First line it should be <code>com.myappName</code></p>\n"},{"tags":[],"owner":{"account_id":16549538,"reputation":17,"user_id":11958246,"display_name":"x24dsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658581342,"creation_date":1658581342,"answer_id":73090986,"question_id":73050740,"body_markdown":"I was missing Java files. Fixed the issue by rebuilding **android** and **ios** folders with **react-native-eject**\r\n```\r\nnpm install react-native-eject\r\nsudo rm -rf android ios\r\nnpx react-native eject\r\n```\r\n\r\nMake sure to replace package name manually in **.java** files afterwards.","title":"React Native java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>I was missing Java files. Fixed the issue by rebuilding <strong>android</strong> and <strong>ios</strong> folders with <strong>react-native-eject</strong></p>\n<pre><code>npm install react-native-eject\nsudo rm -rf android ios\nnpx react-native eject\n</code></pre>\n<p>Make sure to replace package name manually in <strong>.java</strong> files afterwards.</p>\n"}],"owner":{"account_id":16549538,"reputation":17,"user_id":11958246,"display_name":"x24dsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73090986,"answer_count":2,"score":0,"last_activity_date":1658581342,"creation_date":1658316045,"question_id":73050740,"body_markdown":"The app crashes on device on start, this is the log:\r\n\r\nNote I replaced my original &#39;com.appname&#39; with **com.myappName**\r\n\r\n```\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: FATAL EXCEPTION: main\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: Process: com.myappName, PID: 5376\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: java.lang.RuntimeException: Unable to instantiate application com.myappName.MainApplication package com.myappName: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.myappName.MainApplication&quot; on path: DexPathList[[zip file &quot;/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/lib/x86_64, /data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.LoadedApk.makeApplicationInner(LoadedApk.java:1463)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.LoadedApk.makeApplicationInner(LoadedApk.java:1392)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6740)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2132)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.os.Looper.loopOnce(Looper.java:201)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:288)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:7892)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.myappName.MainApplication&quot; on path: DexPathList[[zip file &quot;/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/lib/x86_64, /data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:259)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.AppComponentFactory.instantiateApplication(AppComponentFactory.java:76)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat androidx.core.app.CoreComponentFactory.instantiateApplication(CoreComponentFactory.java:52)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.Instrumentation.newApplication(Instrumentation.java:1232)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \tat android.app.LoadedApk.makeApplicationInner(LoadedApk.java:1455)\r\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: \t... 11 more\r\n```\r\n\r\nIt used to work fine before both on Mac and here on Linux. After installing fresh Linux distro and cloning the git repository, this started happening\r\n\r\nHere is what I did:\r\n\r\n1. Cloned git repository\r\n2. npm install --save-exact \r\n3. React Native enviroment / Android is set up properly - no errors regarding that\r\n\r\n**android/app/build.gradle**\r\n\r\n```\r\n    defaultConfig {\r\n        applicationId &quot;com.myappName&quot;\r\n        minSdkVersion rootProject.ext.minSdkVersion\r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 20\r\n        versionName &quot;2.0&quot;\r\n    }\r\n```\r\n\r\n**/android/app/src/main/AndroidManifest.xml**\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;com.myappName&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n      android:name=&quot;.MainApplication&quot;\r\n      android:label=&quot;@string/app_name&quot;\r\n      android:icon=&quot;@mipmap/ic_launcher&quot;\r\n      android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n      android:allowBackup=&quot;false&quot;\r\n      android:theme=&quot;@style/AppTheme&quot;&gt;\r\n      &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\r\n        android:launchMode=&quot;singleTask&quot;\r\n        android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n      &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nEmulator is **Resizeable API 33 x86_64**\r\n\r\nThanks","title":"React Native java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>The app crashes on device on start, this is the log:</p>\n<p>Note I replaced my original 'com.appname' with <strong>com.myappName</strong></p>\n<pre><code>07-20 13:10:05.520  5376  5376 E AndroidRuntime: FATAL EXCEPTION: main\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: Process: com.myappName, PID: 5376\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: java.lang.RuntimeException: Unable to instantiate application com.myappName.MainApplication package com.myappName: java.lang.ClassNotFoundException: Didn't find class &quot;com.myappName.MainApplication&quot; on path: DexPathList[[zip file &quot;/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/lib/x86_64, /data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.LoadedApk.makeApplicationInner(LoadedApk.java:1463)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.LoadedApk.makeApplicationInner(LoadedApk.java:1392)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6740)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2132)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:106)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.os.Looper.loopOnce(Looper.java:201)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:288)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:7892)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.myappName.MainApplication&quot; on path: DexPathList[[zip file &quot;/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/lib/x86_64, /data/app/~~jMKAsYSvEjMZSEi2dXirHg==/com.myappName-u02x8yQYisyfG6ITJEv3UA==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:259)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.AppComponentFactory.instantiateApplication(AppComponentFactory.java:76)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at androidx.core.app.CoreComponentFactory.instantiateApplication(CoreComponentFactory.java:52)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.Instrumentation.newApplication(Instrumentation.java:1232)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    at android.app.LoadedApk.makeApplicationInner(LoadedApk.java:1455)\n07-20 13:10:05.520  5376  5376 E AndroidRuntime:    ... 11 more\n</code></pre>\n<p>It used to work fine before both on Mac and here on Linux. After installing fresh Linux distro and cloning the git repository, this started happening</p>\n<p>Here is what I did:</p>\n<ol>\n<li>Cloned git repository</li>\n<li>npm install --save-exact</li>\n<li>React Native enviroment / Android is set up properly - no errors regarding that</li>\n</ol>\n<p><strong>android/app/build.gradle</strong></p>\n<pre><code>    defaultConfig {\n        applicationId &quot;com.myappName&quot;\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 20\n        versionName &quot;2.0&quot;\n    }\n</code></pre>\n<p><strong>/android/app/src/main/AndroidManifest.xml</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;com.myappName&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n      android:name=&quot;.MainApplication&quot;\n      android:label=&quot;@string/app_name&quot;\n      android:icon=&quot;@mipmap/ic_launcher&quot;\n      android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n      android:allowBackup=&quot;false&quot;\n      android:theme=&quot;@style/AppTheme&quot;&gt;\n      &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot;\n        android:launchMode=&quot;singleTask&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Emulator is <strong>Resizeable API 33 x86_64</strong></p>\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","calculator"],"answers":[{"tags":[],"owner":{"account_id":21453101,"reputation":212,"user_id":15805169,"display_name":"Barney Stinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658581013,"creation_date":1658581013,"answer_id":73090954,"question_id":73090816,"body_markdown":"     private val splitStr = expression.split(&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;^&quot;).toMutableList()\r\n     private val a = splitStr[0].toFloat()\r\nthe problem because of these lines when you are splitting for &quot;-&quot; and you write -5+5 it is splitting for - and first element is empty (&quot;&quot;)and according to [this website][1] when you try to parse empty string to float this leads to number format exception.And to solve that maybe you can check if first element is &quot;-&quot; you can convert that expression to &quot;5-5&quot;and that will give you result.\r\n\r\nThe key is here.You should not use &quot;+&quot;&quot;-&quot; ... as first element in your expression.Beacuse you can not convert to empty string (&quot;&quot;) to float.I hope my explanation was clear.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/numberformatexception-in-java-with-examples/","title":"How to perform operations in case of negative numbers?","body":"<pre><code> private val splitStr = expression.split(&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;^&quot;).toMutableList()\n private val a = splitStr[0].toFloat()\n</code></pre>\n<p>the problem because of these lines when you are splitting for &quot;-&quot; and you write -5+5 it is splitting for - and first element is empty (&quot;&quot;)and according to <a href=\"https://www.geeksforgeeks.org/numberformatexception-in-java-with-examples/\" rel=\"nofollow noreferrer\">this website</a> when you try to parse empty string to float this leads to number format exception.And to solve that maybe you can check if first element is &quot;-&quot; you can convert that expression to &quot;5-5&quot;and that will give you result.</p>\n<p>The key is here.You should not use &quot;+&quot;&quot;-&quot; ... as first element in your expression.Beacuse you can not convert to empty string (&quot;&quot;) to float.I hope my explanation was clear.</p>\n"}],"owner":{"display_name":"user19606960"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73090954,"answer_count":1,"score":0,"last_activity_date":1658581013,"creation_date":1658579857,"question_id":73090816,"body_markdown":"I wanted to build a calculator app for android and for that I needed a parser to convert string expressions to be solved. Now Java and Kotlin doesn&#39;t support eval function and importing a javascript engine just for sake of an operation can open me up to various vulnerabilities. So I made my own calculator parser. Now it&#39;s working completely fine, all arithmetic operations are working fine except in negative numbers in crash. I do know what the problem is as I am splitting the string using delimiters which are mathematical symbols but I&#39;m not able to do any operation in negative values.\r\n\r\nInput : -5+5  Expected : 0  Output : Exception (numberFormatException) \r\n\r\nHere&#39;s the kotlin class :\r\n\r\n        class CalculatorParser(private var expression: String) {\r\n    \r\n        init {\r\n            if (expression.isEmpty() || expression == &quot;0&quot;) {\r\n                expression = &quot;0+0&quot;\r\n            } else if (expression.split(&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;^&quot;).size == 1) {\r\n                expression = &quot;$expression+0&quot;\r\n            }\r\n        }\r\n    \r\n        private val splitStr = expression.split(&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;^&quot;).toMutableList()\r\n        private val a = splitStr[0].toFloat()\r\n        private val b = splitStr[1].toFloat()\r\n        private val operator = getDelimiter(expression)\r\n    \r\n        private fun getDelimiter(str: String): String {\r\n            return if (str.contains(&quot;+&quot;)) {\r\n                &quot;+&quot;\r\n            } else if (str.contains(&quot;-&quot;)) {\r\n                &quot;-&quot;\r\n            } else if (str.contains(&quot;*&quot;)) {\r\n                &quot;*&quot;\r\n            } else if (str.contains(&quot;^&quot;)) {\r\n                &quot;^&quot;\r\n            } else {\r\n                &quot;/&quot;\r\n            }\r\n        }\r\n    \r\n        private fun calculate(): Float {\r\n            return when (operator) {\r\n                &quot;+&quot; -&gt; a + b\r\n                &quot;-&quot; -&gt; a - b\r\n                &quot;*&quot; -&gt; a * b\r\n                &quot;/&quot; -&gt; a / b\r\n                &quot;^&quot; -&gt; pow(a.toInt(), b.toInt()).toFloat()\r\n                else -&gt; {\r\n                    return 0f\r\n                }\r\n            }\r\n        }\r\n    \r\n        fun eval(result: Float = calculate()): String {\r\n            var final = &quot;&quot;\r\n            if (result.toString().contains(&quot;.&quot;)) {\r\n                val splitResult = result.toString().split(&quot;.&quot;)\r\n                final = if (splitResult[1].toInt() &gt; 0) {\r\n                    result.toString()\r\n                } else {\r\n                    result.toInt().toString()\r\n                }\r\n            }\r\n            println(splitStr) // This print statement is only for testing the split array in console to be deleted in production code.\r\n            return final\r\n        }\r\n    \r\n        private fun pow(base: Int, power: Int): Int {\r\n            var result = base\r\n            var i = 1\r\n            while (i &lt; power) {\r\n                result *= base\r\n                i++\r\n            }\r\n            return result\r\n        }\r\n    }\r\n\r\n","title":"How to perform operations in case of negative numbers?","body":"<p>I wanted to build a calculator app for android and for that I needed a parser to convert string expressions to be solved. Now Java and Kotlin doesn't support eval function and importing a javascript engine just for sake of an operation can open me up to various vulnerabilities. So I made my own calculator parser. Now it's working completely fine, all arithmetic operations are working fine except in negative numbers in crash. I do know what the problem is as I am splitting the string using delimiters which are mathematical symbols but I'm not able to do any operation in negative values.</p>\n<p>Input : -5+5  Expected : 0  Output : Exception (numberFormatException)</p>\n<p>Here's the kotlin class :</p>\n<pre><code>    class CalculatorParser(private var expression: String) {\n\n    init {\n        if (expression.isEmpty() || expression == &quot;0&quot;) {\n            expression = &quot;0+0&quot;\n        } else if (expression.split(&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;^&quot;).size == 1) {\n            expression = &quot;$expression+0&quot;\n        }\n    }\n\n    private val splitStr = expression.split(&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;, &quot;^&quot;).toMutableList()\n    private val a = splitStr[0].toFloat()\n    private val b = splitStr[1].toFloat()\n    private val operator = getDelimiter(expression)\n\n    private fun getDelimiter(str: String): String {\n        return if (str.contains(&quot;+&quot;)) {\n            &quot;+&quot;\n        } else if (str.contains(&quot;-&quot;)) {\n            &quot;-&quot;\n        } else if (str.contains(&quot;*&quot;)) {\n            &quot;*&quot;\n        } else if (str.contains(&quot;^&quot;)) {\n            &quot;^&quot;\n        } else {\n            &quot;/&quot;\n        }\n    }\n\n    private fun calculate(): Float {\n        return when (operator) {\n            &quot;+&quot; -&gt; a + b\n            &quot;-&quot; -&gt; a - b\n            &quot;*&quot; -&gt; a * b\n            &quot;/&quot; -&gt; a / b\n            &quot;^&quot; -&gt; pow(a.toInt(), b.toInt()).toFloat()\n            else -&gt; {\n                return 0f\n            }\n        }\n    }\n\n    fun eval(result: Float = calculate()): String {\n        var final = &quot;&quot;\n        if (result.toString().contains(&quot;.&quot;)) {\n            val splitResult = result.toString().split(&quot;.&quot;)\n            final = if (splitResult[1].toInt() &gt; 0) {\n                result.toString()\n            } else {\n                result.toInt().toString()\n            }\n        }\n        println(splitStr) // This print statement is only for testing the split array in console to be deleted in production code.\n        return final\n    }\n\n    private fun pow(base: Int, power: Int): Int {\n        var result = base\n        var i = 1\n        while (i &lt; power) {\n            result *= base\n            i++\n        }\n        return result\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","user-defined-functions","oracle12c","loadjava"],"answers":[{"tags":[],"owner":{"account_id":1315858,"reputation":1454,"user_id":1262758,"display_name":"Peter Kalef &#39; DidiSoft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658580752,"creation_date":1658580752,"answer_id":73090922,"question_id":60088257,"body_markdown":"When loading from a local file you don&#39;t have to use the -proxy switch:\r\n\r\n`call dbms_java.loadjava(&#39;//home/Documents/abc.jar&#39;);`\r\n\r\nNote: The path must reside on the database server machine","title":"Unable to load jar using dbms_java.loadjava in Oracle","body":"<p>When loading from a local file you don't have to use the -proxy switch:</p>\n<p><code>call dbms_java.loadjava('//home/Documents/abc.jar');</code></p>\n<p>Note: The path must reside on the database server machine</p>\n"}],"owner":{"account_id":13691631,"reputation":41,"user_id":9879261,"display_name":"Shubham Grover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658580752,"creation_date":1580967074,"question_id":60088257,"body_markdown":"I need to upload a jar file in Oracle RDBMS using `dbms_java.loadjava` method. I have granted all the required permission and able to run below function successfully.\r\n\r\n    create or replace function get_java_property(prop in varchar2)\r\n    return varchar2 is\r\n    language java name &#39;java.lang.System.getProperty(java.lang.String) return java.lang.String&#39;;\r\n    \r\n    select get_java_property(&#39;java.version&#39;) from dual;\r\n\r\n    1.8.0_231\r\n\r\nHowever, I also need to upload an external jar and use the same. I am successfully able to do the same by placing jar on Oracle Server and running `loadjava` command. However I want to do the same using `dbms_java.loadjava` from my local system. I am trying following query.\r\n\r\n    call dbms_java.loadjava(&#39;–proxy -Dhttp.proxyHost=my_local_system_ip -Dhttp.proxyPort=22 file:///home/Documents/abc.jar&#39;);\r\n\r\nIts returning `Call completed.` However, jar is not uploaded as I have tried to access methods in Jar and getting error\r\n\r\n    ORA-29540: class com/pkg_name/function_name does not exist\r\n    29540. 00000 -  &quot;class %s does not exist&quot;  \r\n    *Cause:    Java method execution failed to find a class with the indicated name.\r\n    *Action:   Correct the name or add the missing Java class.\r\n\r\nHowever same methods are accessible when jar is uploaded through `loadjava` command. Please suggest. May be I am missing some basics.\r\n","title":"Unable to load jar using dbms_java.loadjava in Oracle","body":"<p>I need to upload a jar file in Oracle RDBMS using <code>dbms_java.loadjava</code> method. I have granted all the required permission and able to run below function successfully.</p>\n\n<pre><code>create or replace function get_java_property(prop in varchar2)\nreturn varchar2 is\nlanguage java name 'java.lang.System.getProperty(java.lang.String) return java.lang.String';\n\nselect get_java_property('java.version') from dual;\n\n1.8.0_231\n</code></pre>\n\n<p>However, I also need to upload an external jar and use the same. I am successfully able to do the same by placing jar on Oracle Server and running <code>loadjava</code> command. However I want to do the same using <code>dbms_java.loadjava</code> from my local system. I am trying following query.</p>\n\n<pre><code>call dbms_java.loadjava('–proxy -Dhttp.proxyHost=my_local_system_ip -Dhttp.proxyPort=22 file:///home/Documents/abc.jar');\n</code></pre>\n\n<p>Its returning <code>Call completed.</code> However, jar is not uploaded as I have tried to access methods in Jar and getting error</p>\n\n<pre><code>ORA-29540: class com/pkg_name/function_name does not exist\n29540. 00000 -  \"class %s does not exist\"  \n*Cause:    Java method execution failed to find a class with the indicated name.\n*Action:   Correct the name or add the missing Java class.\n</code></pre>\n\n<p>However same methods are accessible when jar is uploaded through <code>loadjava</code> command. Please suggest. May be I am missing some basics.</p>\n"},{"tags":["java","android-studio","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"account_id":6246578,"reputation":2682,"user_id":4858238,"accept_rate":100,"display_name":"IanGabes"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1440698057,"creation_date":1440698057,"answer_id":32256296,"question_id":32256174,"body_markdown":"If you use `CMD/CTRL + W` multiple times, you can expand your selection from the current cursor word to the enclosed string, to current line, depending on how many times your press it. This is depending on where your cursor is, at the time, unfortunately.\r\n\r\nThis tripped me up when I first started, because I always thought I was closing a tab","title":"Can you batch select text between quotes in IntelliJ IDEA?","body":"<p>If you use <code>CMD/CTRL + W</code> multiple times, you can expand your selection from the current cursor word to the enclosed string, to current line, depending on how many times your press it. This is depending on where your cursor is, at the time, unfortunately.</p>\n\n<p>This tripped me up when I first started, because I always thought I was closing a tab</p>\n"},{"tags":[],"owner":{"account_id":3588658,"reputation":622,"user_id":2995190,"accept_rate":90,"display_name":"pipedreams2"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440699152,"creation_date":1440699152,"answer_id":32256638,"question_id":32256174,"body_markdown":"You can use a regex search to achieve this fairly easily.\r\n\r\n[![IDEA RegEx Example][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yXMGj.png\r\n\r\nIf you are looking to find and replace you can go select regex searching and search for this Regular Expression:\r\n\r\n    (?&lt;=&quot;).*(?=&quot;)\r\n\r\nThis will select all text between double quotes.","title":"Can you batch select text between quotes in IntelliJ IDEA?","body":"<p>You can use a regex search to achieve this fairly easily.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yXMGj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yXMGj.png\" alt=\"IDEA RegEx Example\"></a></p>\n\n<p>If you are looking to find and replace you can go select regex searching and search for this Regular Expression:</p>\n\n<pre><code>(?&lt;=\").*(?=\")\n</code></pre>\n\n<p>This will select all text between double quotes.</p>\n"},{"tags":[],"owner":{"account_id":202279,"reputation":1,"user_id":4516464,"display_name":"Ivan Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500548680,"creation_date":1500548680,"answer_id":45212873,"question_id":32256174,"body_markdown":"This is the best result I have reached by now.\r\n\r\nYou can divide in two steps:\r\n\r\n 1. Select opening or closing quote:\r\n\r\n  - If line structure is identical before or after your strings you can place multiple cursors before or after your string, very fast with `MIDDLE MOUSE CLICK + DRAG` or `MIDDLE MOUSE CLICK + DRAG`. Then `CTRL + LEFT/RIGHT ARROW` to reach the double quote: [After Example][1]\r\n  - Then you select the quotes with `SHIFT + LEFT/RIGHT ARROW`. **Important** you have to end with cursor [inside quotes][2], otherwise future *shrink selection* will fail.\r\n 2. `CTRL + W` to extend selection to quotes and inner text. \r\n 4. `CMD/CTRL + SHIFT + W` to shrink selection to only the string contained.\r\n\r\n**Note.** Unfortunately by now in Intellij IDEA you can&#39;t *find into selection*, otherwise there would be many tricks to achieve the same result.\r\n  [1]: https://i.stack.imgur.com/tkK3J.png\r\n  [2]: https://i.stack.imgur.com/xL5Zk.png","title":"Can you batch select text between quotes in IntelliJ IDEA?","body":"<p>This is the best result I have reached by now.</p>\n\n<p>You can divide in two steps:</p>\n\n<ol>\n<li><p>Select opening or closing quote:</p>\n\n<ul>\n<li>If line structure is identical before or after your strings you can place multiple cursors before or after your string, very fast with <code>MIDDLE MOUSE CLICK + DRAG</code> or <code>MIDDLE MOUSE CLICK + DRAG</code>. Then <code>CTRL + LEFT/RIGHT ARROW</code> to reach the double quote: <a href=\"https://i.stack.imgur.com/tkK3J.png\" rel=\"nofollow noreferrer\">After Example</a></li>\n<li>Then you select the quotes with <code>SHIFT + LEFT/RIGHT ARROW</code>. <strong>Important</strong> you have to end with cursor <a href=\"https://i.stack.imgur.com/xL5Zk.png\" rel=\"nofollow noreferrer\">inside quotes</a>, otherwise future <em>shrink selection</em> will fail.</li>\n</ul></li>\n<li><code>CTRL + W</code> to extend selection to quotes and inner text. </li>\n<li><code>CMD/CTRL + SHIFT + W</code> to shrink selection to only the string contained.</li>\n</ol>\n\n<p><strong>Note.</strong> Unfortunately by now in Intellij IDEA you can't <em>find into selection</em>, otherwise there would be many tricks to achieve the same result.</p>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519064659,"creation_date":1519064659,"answer_id":48872083,"question_id":32256174,"body_markdown":"### Use column select ###\nYou can cleverly get three cursors on the variable names, &lt;kbd&gt;CTRL&lt;/kbd&gt; arrow over to start of strings, hold &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;END&lt;/kbd&gt;, and then move the cursor back using the arrow keys.\n\nFor getting the column:\n\n**Windows:** &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;CTRL&lt;/kbd&gt;(Hold) + &lt;kbd&gt;↑ / ↓&lt;/kbd&gt;\n\n**Mac:** &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt;(Hold) + &lt;kbd&gt;↑ / ↓&lt;/kbd&gt;.\n\nTo place caret at the end of rows: move caret to top row, clone down to bottom, and click &lt;kbd&gt;END&lt;/kbd&gt;.\n\n\n### Change Multi-caret Hotkey ###\nTo add a custom Keymap, &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;, type `keymap` and click on the one with `Settings` as subtext. Search for `Clone Caret Above` and `Clone Caret Below`.\n\nI mapped mine to &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;↑ / ↓&lt;/kbd&gt; on Windows and &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;↑ / ↓&lt;/kbd&gt; on Mac.\n\n### Bonus ###\nTry holding combinations of &lt;kbd&gt;CTRL&lt;/kbd&gt;, &lt;kbd&gt;SHIFT&lt;/kbd&gt;, and arrows for improved selection power.","title":"Can you batch select text between quotes in IntelliJ IDEA?","body":"<h3>Use column select</h3>\n<p>You can cleverly get three cursors on the variable names, <kbd>CTRL</kbd> arrow over to start of strings, hold <kbd>SHIFT</kbd> + <kbd>END</kbd>, and then move the cursor back using the arrow keys.</p>\n<p>For getting the column:</p>\n<p><strong>Windows:</strong> <kbd>CTRL</kbd> + <kbd>CTRL</kbd>(Hold) + <kbd>↑ / ↓</kbd></p>\n<p><strong>Mac:</strong> <kbd>⌘</kbd> + <kbd>⌘</kbd>(Hold) + <kbd>↑ / ↓</kbd>.</p>\n<p>To place caret at the end of rows: move caret to top row, clone down to bottom, and click <kbd>END</kbd>.</p>\n<h3>Change Multi-caret Hotkey</h3>\n<p>To add a custom Keymap, <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>A</kbd>, type <code>keymap</code> and click on the one with <code>Settings</code> as subtext. Search for <code>Clone Caret Above</code> and <code>Clone Caret Below</code>.</p>\n<p>I mapped mine to <kbd>ALT</kbd>+<kbd>SHIFT</kbd>+<kbd>↑ / ↓</kbd> on Windows and <kbd>⌘</kbd>+<kbd>↑ / ↓</kbd> on Mac.</p>\n<h3>Bonus</h3>\n<p>Try holding combinations of <kbd>CTRL</kbd>, <kbd>SHIFT</kbd>, and arrows for improved selection power.</p>\n"},{"tags":[],"owner":{"account_id":10627210,"reputation":4567,"user_id":7826511,"accept_rate":75,"display_name":"Artur M&#252;ller Romanov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1658580506,"creation_date":1643350504,"answer_id":70889518,"question_id":32256174,"body_markdown":"As of now, &lt;kbd&gt;&amp;#8997;&lt;/kbd&gt; + &lt;kbd&gt;&amp;#8593;&lt;/kbd&gt; expands the current selection on my mac.\r\n\r\nWhat you&#39;re looking for is `extend selection` and `shrink selection` in the keymap.","title":"Can you batch select text between quotes in IntelliJ IDEA?","body":"<p>As of now, <kbd>⌥</kbd> + <kbd>↑</kbd> expands the current selection on my mac.</p>\n<p>What you're looking for is <code>extend selection</code> and <code>shrink selection</code> in the keymap.</p>\n"}],"owner":{"account_id":67925,"reputation":7613,"user_id":198473,"accept_rate":74,"display_name":"TERACytE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14193,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":5,"score":28,"last_activity_date":1658580506,"creation_date":1440697613,"question_id":32256174,"body_markdown":"Given the following Java code\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the MacBook in IntelliJ IDEA, I can hold the option key and mouse click &#39;n drag to select a block of text.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs it possible to batch select just the text between the quotes all at once within a specific block of code, similar to Option+MouseClickAndDrag feature above, like this?\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n----------\r\n\r\n\r\nNotes added based on comments below\r\n\r\nCmd+W doesn&#39;t work since it expands the selection to highlight the full line, and eventually the entire code block.  It does not select just the strings.\r\n\r\nShift+Alt+double-click is a closer solution, but requires you to manually double-click each string.  I&#39;d like a solution that selects them all at once.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zXJEL.png\r\n  [2]: http://i.stack.imgur.com/ZnX4X.png\r\n  [3]: http://i.stack.imgur.com/xVw8K.png","title":"Can you batch select text between quotes in IntelliJ IDEA?","body":"<p>Given the following Java code</p>\n\n<p><a href=\"https://i.stack.imgur.com/zXJEL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zXJEL.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the MacBook in IntelliJ IDEA, I can hold the option key and mouse click 'n drag to select a block of text.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZnX4X.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZnX4X.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is it possible to batch select just the text between the quotes all at once within a specific block of code, similar to Option+MouseClickAndDrag feature above, like this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/xVw8K.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xVw8K.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Notes added based on comments below</p>\n\n<p>Cmd+W doesn't work since it expands the selection to highlight the full line, and eventually the entire code block.  It does not select just the strings.</p>\n\n<p>Shift+Alt+double-click is a closer solution, but requires you to manually double-click each string.  I'd like a solution that selects them all at once.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1658530705,"post_id":73086759,"comment_id":129082741,"body_markdown":"Check the return value of `executeUpdate()`.","body":"Check the return value of <code>executeUpdate()</code>."},{"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"score":0,"creation_date":1658534835,"post_id":73086759,"comment_id":129083308,"body_markdown":"@shmosel Is this what you mean \n\t\t\t\t\t\t    \n\t\t\t\t\t    \tint returnValue = ps7.executeUpdate();\n\t\t\t\t\t    \t\n\t\t\t\t\t    \tif (returnValue == 1) {\n\t\t\t\t\t    \t\ti = 7;\n\t\t\t\t\t    \t}","body":"@shmosel Is this what you mean  \t\t\t\t\t\t     \t\t\t\t\t    \tint returnValue = ps7.executeUpdate(); \t\t\t\t\t    \t \t\t\t\t\t    \tif (returnValue == 1) { \t\t\t\t\t    \t\ti = 7; \t\t\t\t\t    \t}"},{"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"score":0,"creation_date":1658544808,"post_id":73086759,"comment_id":129084298,"body_markdown":"@shmosel Tried your suggestion (please see my edited question). However, it always updates, so returnValue is always &quot;1&quot;.","body":"@shmosel Tried your suggestion (please see my edited question). However, it always updates, so returnValue is always &quot;1&quot;."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658579669,"creation_date":1658577192,"answer_id":73090502,"question_id":73086759,"body_markdown":"There won&#39;t be a way to distinguish the number of inserts from the number updates via the result of an `executeUpdate`.  It returns the number of rows *affected*.   That will be 1 row affected in both the insert and update cases.\r\n\r\nSo if you want to distinguish the insert and update cases, you will need to write the SQL another way.  For example:\r\n\r\n  - You could do the following in Java\r\n\r\n      - start a transaction\r\n      - perform the `INSERT` without the `ON DUPLICATE KEY` part\r\n      - catch a duplicate key exception and perform the `UPDATE`\r\n      - commit the transaction\r\n\r\n    keeping track of which path you took in Java code.\r\n      \r\n  - You could call an SQL stored procedure that does the same thing all on the server side.\r\n\r\nNote that `ON DUPLICATE KEY` appears to be a MySQL-ism.\r\n","title":"How to detect that a MySQL prepared statement has inserted or updated to stop a while loop in Java 8?","body":"<p>There won't be a way to distinguish the number of inserts from the number updates via the result of an <code>executeUpdate</code>.  It returns the number of rows <em>affected</em>.   That will be 1 row affected in both the insert and update cases.</p>\n<p>So if you want to distinguish the insert and update cases, you will need to write the SQL another way.  For example:</p>\n<ul>\n<li><p>You could do the following in Java</p>\n<ul>\n<li>start a transaction</li>\n<li>perform the <code>INSERT</code> without the <code>ON DUPLICATE KEY</code> part</li>\n<li>catch a duplicate key exception and perform the <code>UPDATE</code></li>\n<li>commit the transaction</li>\n</ul>\n<p>keeping track of which path you took in Java code.</p>\n</li>\n<li><p>You could call an SQL stored procedure that does the same thing all on the server side.</p>\n</li>\n</ul>\n<p>Note that <code>ON DUPLICATE KEY</code> appears to be a MySQL-ism.</p>\n"}],"owner":{"account_id":2227135,"reputation":1943,"user_id":1965599,"accept_rate":63,"display_name":"Glyn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73090502,"answer_count":1,"score":0,"last_activity_date":1658579669,"creation_date":1658530345,"question_id":73086759,"body_markdown":"I have a prepared statement that I wish to run until an insert or update replacing a NULL value occurs. The prepared statement is:\r\n\r\n    String insertQryCAD = (&quot;INSERT INTO at_cub_award_date &quot; +\r\n        &quot;(ca_id, ad_id, cad_task_completion_date) &quot; +\r\n        &quot;VALUES (?, ?, ?) &quot; +\r\n        &quot;ON DUPLICATE KEY UPDATE cad_task_completion_date = IF(at_cub_award_date IS NULL, ?, STR_TO_DATE(cad_task_completion_date, &#39;%Y-%m-%d&#39;));&quot;);\r\n\r\nI then want to run something like:\r\n\r\n    ps = c.prepareStatement(insertQryCAD);\r\n    int i = 0;\r\n    while (i &lt; 4) {\r\n      ps.setString(1, caId);\r\n      ps.setString(2, adId);\r\n      ps.setString(3, attendance);\r\n      ps.setString(4, attendance);\r\n      ps.executeUpdate();\r\n      i++;\r\n    }\r\n\r\nHow do I stop the while loop when an (insert) or (update replacing a NULL value) occurs?\r\n\r\nExample 1:\r\n\r\n    |Row|Val 1| Val 2| Val 3|Action|\r\n    ________________________________\r\n    | 1 |  1  |  5   |  A   | skip  \r\n    ________________________________\r\n    | 2 |  1  |  6   |  B   | skip  \r\n    ________________________________\r\n    | 3 |  1  |  7   | null | update and stop  \r\n    ________________________________\r\n    | 4 |  1  |  8   |   C  |  \r\n    ________________________________\r\n\r\nExample 2:\r\n\r\n    |Row|Val 1| Val 2| Val 3|Action|\r\n    ________________________________\r\n    | 1 |  1  |  5   |  A   | skip  \r\n    ________________________________\r\n    | 2 |  1  |  6   |  B   | skip  \r\n    ________________________________\r\n    No row so Insert and stop  \r\n    ________________________________\r\n\r\nI tried:\r\n\r\n    int returnValue = ps.executeUpdate(); \r\n    if (returnValue == 1) { \r\n        i = 7; \r\n    }else{\r\n        i++;\r\n    }\r\n\r\nThe trouble is this always updates in the &quot;ON DUPLICATE KEY UPDATE&quot;.\r\n\r\n","title":"How to detect that a MySQL prepared statement has inserted or updated to stop a while loop in Java 8?","body":"<p>I have a prepared statement that I wish to run until an insert or update replacing a NULL value occurs. The prepared statement is:</p>\n<pre><code>String insertQryCAD = (&quot;INSERT INTO at_cub_award_date &quot; +\n    &quot;(ca_id, ad_id, cad_task_completion_date) &quot; +\n    &quot;VALUES (?, ?, ?) &quot; +\n    &quot;ON DUPLICATE KEY UPDATE cad_task_completion_date = IF(at_cub_award_date IS NULL, ?, STR_TO_DATE(cad_task_completion_date, '%Y-%m-%d'));&quot;);\n</code></pre>\n<p>I then want to run something like:</p>\n<pre><code>ps = c.prepareStatement(insertQryCAD);\nint i = 0;\nwhile (i &lt; 4) {\n  ps.setString(1, caId);\n  ps.setString(2, adId);\n  ps.setString(3, attendance);\n  ps.setString(4, attendance);\n  ps.executeUpdate();\n  i++;\n}\n</code></pre>\n<p>How do I stop the while loop when an (insert) or (update replacing a NULL value) occurs?</p>\n<p>Example 1:</p>\n<pre><code>|Row|Val 1| Val 2| Val 3|Action|\n________________________________\n| 1 |  1  |  5   |  A   | skip  \n________________________________\n| 2 |  1  |  6   |  B   | skip  \n________________________________\n| 3 |  1  |  7   | null | update and stop  \n________________________________\n| 4 |  1  |  8   |   C  |  \n________________________________\n</code></pre>\n<p>Example 2:</p>\n<pre><code>|Row|Val 1| Val 2| Val 3|Action|\n________________________________\n| 1 |  1  |  5   |  A   | skip  \n________________________________\n| 2 |  1  |  6   |  B   | skip  \n________________________________\nNo row so Insert and stop  \n________________________________\n</code></pre>\n<p>I tried:</p>\n<pre><code>int returnValue = ps.executeUpdate(); \nif (returnValue == 1) { \n    i = 7; \n}else{\n    i++;\n}\n</code></pre>\n<p>The trouble is this always updates in the &quot;ON DUPLICATE KEY UPDATE&quot;.</p>\n"},{"tags":["java","command-line-interface"],"comments":[{"owner":{"account_id":5816018,"reputation":554,"user_id":4585628,"display_name":"Michael Borkowski"},"score":0,"creation_date":1424590697,"post_id":28654227,"comment_id":45607680,"body_markdown":"By the way, please consider [formatting your code](http://stackoverflow.com/editing-help#code) as it&#39;s easier to read that way.","body":"By the way, please consider <a href=\"http://stackoverflow.com/editing-help#code\">formatting your code</a> as it&#39;s easier to read that way."}],"answers":[{"tags":[],"owner":{"account_id":5816018,"reputation":554,"user_id":4585628,"display_name":"Michael Borkowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1424590969,"creation_date":1424590648,"answer_id":28655612,"question_id":28654227,"body_markdown":"`Options.addOption(...)` provides some parameter combinations, like `String opt, String longOpt, boolean hasArg, String description`. Using `Options.addOption(...)` is obviously more convenient than using an `OptionBuilder`.\r\n\r\nHowever, `OptionBuilder` provides additional parameters like `hasArgs(int num)`, `isRequired`, `withType`, `withValueSeparator` and so on, which are not available using `Options.addOption(...)`. If you need them, you have to use `OptionBuilder`.\r\n\r\nSo, there is no advantage of using `Options.addOption(...)` except for more concise code (easier in reading and writing). I&#39;d suggest you can use either, but stay consistent: If your code requires `OptionBuilder`, it&#39;s easier for the reader if you always use `OptionBuilder`, even for options which do not require it.\r\n\r\n**Background**: The pattern used here is the **Builder Pattern**, which is used for creating classes with a great variety of properties, possibly often having a lot of unused (default) properties\r\n\r\n[Wikipedia Entry](http://en.wikipedia.org/wiki/Builder_pattern)\r\n\r\n[JavaWorld Link](http://www.javaworld.com/article/2074938/core-java/too-many-parameters-in-java-methods-part-3-builder-pattern.html?null)","title":"Advantages of using addOption with OptionBuilder in Apache Commons CLI","body":"<p><code>Options.addOption(...)</code> provides some parameter combinations, like <code>String opt, String longOpt, boolean hasArg, String description</code>. Using <code>Options.addOption(...)</code> is obviously more convenient than using an <code>OptionBuilder</code>.</p>\n\n<p>However, <code>OptionBuilder</code> provides additional parameters like <code>hasArgs(int num)</code>, <code>isRequired</code>, <code>withType</code>, <code>withValueSeparator</code> and so on, which are not available using <code>Options.addOption(...)</code>. If you need them, you have to use <code>OptionBuilder</code>.</p>\n\n<p>So, there is no advantage of using <code>Options.addOption(...)</code> except for more concise code (easier in reading and writing). I'd suggest you can use either, but stay consistent: If your code requires <code>OptionBuilder</code>, it's easier for the reader if you always use <code>OptionBuilder</code>, even for options which do not require it.</p>\n\n<p><strong>Background</strong>: The pattern used here is the <strong>Builder Pattern</strong>, which is used for creating classes with a great variety of properties, possibly often having a lot of unused (default) properties</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow\">Wikipedia Entry</a></p>\n\n<p><a href=\"http://www.javaworld.com/article/2074938/core-java/too-many-parameters-in-java-methods-part-3-builder-pattern.html?null\" rel=\"nofollow\">JavaWorld Link</a></p>\n"}],"owner":{"account_id":4299853,"reputation":834,"user_id":3513792,"accept_rate":91,"display_name":"danilo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":28655612,"answer_count":1,"score":0,"last_activity_date":1658578916,"creation_date":1424576238,"question_id":28654227,"body_markdown":"I have been learning how to use Apache commons CLI. I want to use the options class to describe the possible options for a command-line, but I have seen in some tutorials that they use two ways to add a new option.\r\n\r\nThe first is this:\r\n\r\n```java\r\noptions.addOption( OptionBuilder.withLongOpt( &quot;block-size&quot; )\r\n                        .withDescription( &quot;use SIZE-byte blocks&quot; )\r\n                        .hasArg()\r\n                        .withArgName(&quot;SIZE&quot;)\r\n                        .create() );\r\n```\r\n\r\nAnd the second way is this:\r\n\r\n```java\r\noptions.addOption( &quot;C&quot;, false, &quot;list entries by columns&quot; );\r\n```\r\n\r\nMy question is: What would be the benefit of using the `OptionBuilder` class like in the  first example instead of using the second one?\r\n","title":"Advantages of using addOption with OptionBuilder in Apache Commons CLI","body":"<p>I have been learning how to use Apache commons CLI. I want to use the options class to describe the possible options for a command-line, but I have seen in some tutorials that they use two ways to add a new option.</p>\n<p>The first is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>options.addOption( OptionBuilder.withLongOpt( &quot;block-size&quot; )\n                        .withDescription( &quot;use SIZE-byte blocks&quot; )\n                        .hasArg()\n                        .withArgName(&quot;SIZE&quot;)\n                        .create() );\n</code></pre>\n<p>And the second way is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>options.addOption( &quot;C&quot;, false, &quot;list entries by columns&quot; );\n</code></pre>\n<p>My question is: What would be the benefit of using the <code>OptionBuilder</code> class like in the  first example instead of using the second one?</p>\n"},{"tags":["java","tree","binary-tree","binary-search-tree","red-black-tree"],"comments":[{"owner":{"display_name":"user1899861"},"score":0,"creation_date":1424853081,"post_id":28705454,"comment_id":45716464,"body_markdown":"Does this help? I assume it&#39;s the equivalent of the STL&#39;s  ordered Map.    http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html","body":"Does this help? I assume it&#39;s the equivalent of the STL&#39;s  ordered Map.    <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html</a>"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1424854725,"post_id":28705454,"comment_id":45717292,"body_markdown":"@RocketRoy but this is a specific implementation though with null nodes, headers, etc...","body":"@RocketRoy but this is a specific implementation though with null nodes, headers, etc..."},{"owner":{"account_id":40,"reputation":10581,"user_id":50,"accept_rate":87,"display_name":"helloandre"},"score":0,"creation_date":1425240309,"post_id":28705454,"comment_id":45871119,"body_markdown":"any chance you can distill this down to a specific problem you&#39;re having (expected output A, but got output B, etc)? What debugging steps have you tried (printing state at certain points, break points, etc)?","body":"any chance you can distill this down to a specific problem you&#39;re having (expected output A, but got output B, etc)? What debugging steps have you tried (printing state at certain points, break points, etc)?"},{"owner":{"account_id":315981,"reputation":755,"user_id":631913,"display_name":"Alberto Segura"},"score":0,"creation_date":1564666303,"post_id":28705454,"comment_id":101112636,"body_markdown":"In Java 8 HashMap there is a red-black tree implementation to manage bins. Maybe you can get some reference there. http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java","body":"In Java 8 HashMap there is a red-black tree implementation to manage bins. Maybe you can get some reference there. <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/shar&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":1541838,"reputation":623,"user_id":1436289,"accept_rate":69,"display_name":"cifer"},"score":0,"creation_date":1593924140,"post_id":28705454,"comment_id":110943616,"body_markdown":"I have written the remove function based on Weiss&#39;s top-down approach, hope it helps to you: https://github.com/xiaodonng/vanilla/blob/master/rbtree.c","body":"I have written the remove function based on Weiss&#39;s top-down approach, hope it helps to you: <a href=\"https://github.com/xiaodonng/vanilla/blob/master/rbtree.c\" rel=\"nofollow noreferrer\">github.com/xiaodonng/vanilla/blob/master/rbtree.c</a>"}],"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658578620,"creation_date":1424808991,"question_id":28705454,"body_markdown":"Here is the implementation of RedBlackTree I am using (from Mark Allen Weiss, Data Structures\r\n\r\n    public class RedBlackTree&lt;AnyKey extends Comparable&lt;? super AnyKey&gt;,\r\n    \t\t\tAnyValue extends Comparable&lt;? super AnyValue&gt;&gt; \r\n             implements MyTreeMap&lt;AnyKey, AnyValue&gt;{\r\n    \tprivate static final int BLACK = 1;\t\r\n    \tprivate static final int RED   = 0;\r\n    \r\n    \t\r\n    \t // The psuedo(bogus) root, has a key value of negative infinity and a right link to the real root.\r\n    \tprivate RedBlackNode&lt;AnyKey, AnyValue&gt; header;\r\n    \t// Used in place of  a null link. Will always be colored black.\r\n    \tprivate RedBlackNode&lt;AnyKey, AnyValue&gt; nullNode; \r\n    \tprivate RedBlackNode&lt;AnyKey, AnyValue&gt; current;\r\n    \tprivate RedBlackNode&lt;AnyKey, AnyValue&gt; parent;     \r\n    \tprivate RedBlackNode&lt;AnyKey, AnyValue&gt; grand;        \r\n    \tprivate RedBlackNode&lt;AnyKey, AnyValue&gt; great;\r\n   \r\n        public RedBlackTree( ){\r\n            nullNode = new RedBlackNode&lt;AnyKey, AnyValue&gt;( null, null );\r\n            nullNode.left = nullNode.right = nullNode;\r\n            header      = new RedBlackNode&lt;AnyKey, AnyValue&gt;( null, null );\r\n            header.left = header.right = nullNode;\r\n        }\r\n    \r\n        private final int compare( AnyKey theKey, RedBlackNode&lt;AnyKey, AnyValue&gt; t ){\r\n            if( t == header )\r\n                return 1;\r\n            else\r\n                return theKey.compareTo( t.key );    \r\n        }\r\n    \r\n        private void insert( AnyKey theKey, AnyValue theValue ){\r\n            current = parent = grand = header;\r\n            nullNode.key = theKey;\r\n            nullNode.value = theValue;\r\n            while( compare( theKey, current ) != 0 ){\r\n                great = grand; grand = parent; parent = current;\r\n                current = compare( theKey, current ) &lt; 0 ?\r\n                        current.left : current.right;\r\n                // Check if two red children; fix if so\r\n                if( current.left.color == RED &amp;&amp; current.right.color == RED )\r\n                    handleReorient( theKey);\r\n            }\r\n            // Insertion fails if already present\r\n            if( current != nullNode )\r\n                throw new IllegalArgumentException( theKey.toString( ) );\r\n            current = new RedBlackNode&lt;AnyKey, AnyValue&gt;( theKey, theValue,\r\n            \t\tnullNode, nullNode );\r\n            // Attach to parent\r\n            if( compare( theKey, parent ) &lt; 0 )\r\n                parent.left = current;\r\n            else\r\n                parent.right = current;\r\n            handleReorient( theKey );\r\n        }\r\n    \r\n        /**\r\n         * Remove from the tree.\r\n         * @param x the item to remove.\r\n         * @throws UnsupportedOperationException if called.\r\n         */\r\n        public void remove( AnyKey x ){\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Internal routine that is called during an insertion\r\n         * if a node has two red children. Performs flip and rotations.\r\n         * @param item the item being inserted.\r\n         */\r\n        private void handleReorient( AnyKey key ){\r\n            // Do the color flip\r\n            current.color = RED;\r\n            current.left.color = BLACK;\r\n            current.right.color = BLACK;\r\n            if( parent.color == RED ){   // Have to rotate\r\n                grand.color = RED;\r\n                if( ( compare( key, grand ) &lt; 0 ) !=\r\n                        ( compare( key, parent ) &lt; 0 ) )\r\n                    parent = rotate( key, grand );  // Start dbl rotate\r\n                current = rotate( key, great );\r\n                current.color = BLACK;\r\n            }\r\n            header.right.color = BLACK; // Make root black\r\n        }\r\n    \r\n        /**\r\n         * Internal routine that performs a single or double rotation.\r\n         * Because the result is attached to the parent, there are four cases.\r\n         * Called by handleReorient.\r\n         * @param item the item in handleReorient.\r\n         * @param parent the parent of the root of the rotated subtree.\r\n         * @return the root of the rotated subtree.\r\n         */\r\n        private RedBlackNode&lt;AnyKey, AnyValue&gt; rotate( AnyKey item, RedBlackNode&lt;AnyKey, AnyValue&gt; parent ){\r\n            if( compare( item, parent ) &lt; 0 )\r\n                return parent.left = compare( item, parent.left ) &lt; 0 ?\r\n                        rotateWithLeftChild( parent.left )  :  // LL\r\n                            rotateWithRightChild( parent.left ) ;  // LR\r\n                        else\r\n                            return parent.right = compare( item, parent.right ) &lt; 0 ?\r\n                                    rotateWithLeftChild( parent.right ) :  // RL\r\n                                        rotateWithRightChild( parent.right );  // RR\r\n        }\r\n    \r\n        /**\r\n         * Rotate binary tree node with left child.\r\n         * @param k2 the node to rotate with.\r\n         */\r\n        private static &lt;AnyKey, AnyValue&gt; RedBlackNode&lt;AnyKey, AnyValue&gt; rotateWithLeftChild( RedBlackNode&lt;AnyKey, AnyValue&gt; k2 ){\r\n            RedBlackNode&lt;AnyKey, AnyValue&gt; k1 = k2.left;\r\n            k2.left = k1.right;\r\n            k1.right = k2;\r\n            return k1;\r\n        }\r\n        @Override\r\n\tpublic void put(AnyKey x, AnyValue y) {\r\n\t\tRedBlackNode&lt;AnyKey, AnyValue&gt; bN = find(x);\r\n\t\tif(bN == null) {\r\n\t\t\tinsert(x, y);\r\n\t\t} else {\r\n\t\t\tbN.value = y;\r\n\t\t}\r\n\t}\r\n        /**\r\n         * Rotate binary tree node with right child.\r\n         * @param k1 the node to rotate with.\r\n         */\r\n        private static &lt;AnyKey, AnyValue&gt; RedBlackNode&lt;AnyKey, AnyValue&gt; rotateWithRightChild( RedBlackNode&lt;AnyKey, AnyValue&gt; k1 ){\r\n            RedBlackNode&lt;AnyKey, AnyValue&gt; k2 = k1.right;\r\n            k1.right = k2.left;\r\n            k2.left = k1;\r\n            return k2;\r\n        }\r\n        \r\n        /**\r\n         * Node in the red black tree.\r\n         * @author Letian Sun\r\n         * @param &lt;AnyKey&gt; can be any object type\r\n         * @param &lt;AnyValue&gt; can be any object type \r\n         */\r\n        private static class RedBlackNode&lt;AnyKey, AnyValue&gt;{\r\n        \t AnyKey key;\r\n        \t AnyValue value;   \r\n             RedBlackNode&lt;AnyKey, AnyValue&gt; left;  \r\n             RedBlackNode&lt;AnyKey, AnyValue&gt; right;     \r\n             \r\n             int color;   \r\n             \r\n            RedBlackNode( AnyKey theKey, AnyValue theValue ){\r\n                this( theKey, theValue,  null, null );\r\n            }        \r\n            RedBlackNode( AnyKey theKey, AnyValue theValue, RedBlackNode&lt;AnyKey, AnyValue&gt; lt\r\n            \t\t, RedBlackNode&lt;AnyKey, AnyValue&gt; rt ) {\r\n                key  = theKey;\r\n                value = theValue;\r\n                left     = lt;\r\n                right    = rt;\r\n                color    = RedBlackTree.BLACK;\r\n            }\r\n           public String toString() {\r\n       \t\t return &quot;element:&quot; + key.toString() \r\n       \t\t\t\t + &quot; times:&quot; + value.toString();\r\n       \t }\r\n      }\r\n    \t\r\nI am trying to write the remove method that the author didn&#39;t write. \r\nHere is what I have so far \r\n\r\n   \r\n    @Override\r\n    public void remove( AnyKey x ){\r\n        header.right = remove( x, header.right );\r\n    }\r\n\r\n    private RedBlackNode&lt;AnyKey, AnyValue&gt; remove( AnyKey x, \r\n    \t\tRedBlackNode&lt;AnyKey, AnyValue&gt; t ){\r\n        if( t == nullNode )\r\n            return t;   // Item not found; do nothing\r\n        int compareResult = x.compareTo( t.key );\r\n        if( compareResult &lt; 0 )\r\n            t.left = remove( x, t.left );\r\n        else if( compareResult &gt; 0 )\r\n            t.right = remove( x, t.right );\r\n        else if( t.left != nullNode &amp;&amp; t.right != nullNode ){ // Two children\r\n            t.key = findMin( t.right ).key;\r\n            t.right = remove( t.key, t.right );\r\n        }\r\n        else\r\n            t = ( t.left != nullNode ) ? t.left : t.right;\r\n        return rotate(t.key, t );\r\n    }\r\n   \r\n    private RedBlackNode&lt;AnyKey, AnyValue&gt; findMin(RedBlackNode&lt;AnyKey, AnyValue&gt; t ){\r\n    \tif(t != null &amp;&amp; t.left != null) {\r\n           \tt = findMin(t.left);\r\n        }\r\n        return t;\r\n    }\r\n    \t\t\r\n\r\nDoes anyone see any issue with my method. All the logic makes sense to me. \r\nWhen I ran my JUnit test cases, \r\n\r\n    RedBlackTree testTree = new RedBlackTree&lt;Integer,Integer&gt;();\r\n    for(int c=0;c&lt;1000;c++) {\r\n\t\ttestTree.put(c, c);\r\n\t}\r\n\tint attempt = 60;\r\n\ttestTree.remove(attempt);\r\n\tassertEquals(attempt - 1,testTree.get(attempt - 1).intValue());\r\n\r\nThe test failed\t\t","title":"How to fix remove in RedBlackTree implementation?","body":"<p>Here is the implementation of RedBlackTree I am using (from Mark Allen Weiss, Data Structures</p>\n<pre><code>public class RedBlackTree&lt;AnyKey extends Comparable&lt;? super AnyKey&gt;,\n            AnyValue extends Comparable&lt;? super AnyValue&gt;&gt; \n         implements MyTreeMap&lt;AnyKey, AnyValue&gt;{\n    private static final int BLACK = 1; \n    private static final int RED   = 0;\n\n    \n     // The psuedo(bogus) root, has a key value of negative infinity and a right link to the real root.\n    private RedBlackNode&lt;AnyKey, AnyValue&gt; header;\n    // Used in place of  a null link. Will always be colored black.\n    private RedBlackNode&lt;AnyKey, AnyValue&gt; nullNode; \n    private RedBlackNode&lt;AnyKey, AnyValue&gt; current;\n    private RedBlackNode&lt;AnyKey, AnyValue&gt; parent;     \n    private RedBlackNode&lt;AnyKey, AnyValue&gt; grand;        \n    private RedBlackNode&lt;AnyKey, AnyValue&gt; great;\n\n    public RedBlackTree( ){\n        nullNode = new RedBlackNode&lt;AnyKey, AnyValue&gt;( null, null );\n        nullNode.left = nullNode.right = nullNode;\n        header      = new RedBlackNode&lt;AnyKey, AnyValue&gt;( null, null );\n        header.left = header.right = nullNode;\n    }\n\n    private final int compare( AnyKey theKey, RedBlackNode&lt;AnyKey, AnyValue&gt; t ){\n        if( t == header )\n            return 1;\n        else\n            return theKey.compareTo( t.key );    \n    }\n\n    private void insert( AnyKey theKey, AnyValue theValue ){\n        current = parent = grand = header;\n        nullNode.key = theKey;\n        nullNode.value = theValue;\n        while( compare( theKey, current ) != 0 ){\n            great = grand; grand = parent; parent = current;\n            current = compare( theKey, current ) &lt; 0 ?\n                    current.left : current.right;\n            // Check if two red children; fix if so\n            if( current.left.color == RED &amp;&amp; current.right.color == RED )\n                handleReorient( theKey);\n        }\n        // Insertion fails if already present\n        if( current != nullNode )\n            throw new IllegalArgumentException( theKey.toString( ) );\n        current = new RedBlackNode&lt;AnyKey, AnyValue&gt;( theKey, theValue,\n                nullNode, nullNode );\n        // Attach to parent\n        if( compare( theKey, parent ) &lt; 0 )\n            parent.left = current;\n        else\n            parent.right = current;\n        handleReorient( theKey );\n    }\n\n    /**\n     * Remove from the tree.\n     * @param x the item to remove.\n     * @throws UnsupportedOperationException if called.\n     */\n    public void remove( AnyKey x ){\n\n    }\n\n    /**\n     * Internal routine that is called during an insertion\n     * if a node has two red children. Performs flip and rotations.\n     * @param item the item being inserted.\n     */\n    private void handleReorient( AnyKey key ){\n        // Do the color flip\n        current.color = RED;\n        current.left.color = BLACK;\n        current.right.color = BLACK;\n        if( parent.color == RED ){   // Have to rotate\n            grand.color = RED;\n            if( ( compare( key, grand ) &lt; 0 ) !=\n                    ( compare( key, parent ) &lt; 0 ) )\n                parent = rotate( key, grand );  // Start dbl rotate\n            current = rotate( key, great );\n            current.color = BLACK;\n        }\n        header.right.color = BLACK; // Make root black\n    }\n\n    /**\n     * Internal routine that performs a single or double rotation.\n     * Because the result is attached to the parent, there are four cases.\n     * Called by handleReorient.\n     * @param item the item in handleReorient.\n     * @param parent the parent of the root of the rotated subtree.\n     * @return the root of the rotated subtree.\n     */\n    private RedBlackNode&lt;AnyKey, AnyValue&gt; rotate( AnyKey item, RedBlackNode&lt;AnyKey, AnyValue&gt; parent ){\n        if( compare( item, parent ) &lt; 0 )\n            return parent.left = compare( item, parent.left ) &lt; 0 ?\n                    rotateWithLeftChild( parent.left )  :  // LL\n                        rotateWithRightChild( parent.left ) ;  // LR\n                    else\n                        return parent.right = compare( item, parent.right ) &lt; 0 ?\n                                rotateWithLeftChild( parent.right ) :  // RL\n                                    rotateWithRightChild( parent.right );  // RR\n    }\n\n    /**\n     * Rotate binary tree node with left child.\n     * @param k2 the node to rotate with.\n     */\n    private static &lt;AnyKey, AnyValue&gt; RedBlackNode&lt;AnyKey, AnyValue&gt; rotateWithLeftChild( RedBlackNode&lt;AnyKey, AnyValue&gt; k2 ){\n        RedBlackNode&lt;AnyKey, AnyValue&gt; k1 = k2.left;\n        k2.left = k1.right;\n        k1.right = k2;\n        return k1;\n    }\n    @Override\npublic void put(AnyKey x, AnyValue y) {\n    RedBlackNode&lt;AnyKey, AnyValue&gt; bN = find(x);\n    if(bN == null) {\n        insert(x, y);\n    } else {\n        bN.value = y;\n    }\n}\n    /**\n     * Rotate binary tree node with right child.\n     * @param k1 the node to rotate with.\n     */\n    private static &lt;AnyKey, AnyValue&gt; RedBlackNode&lt;AnyKey, AnyValue&gt; rotateWithRightChild( RedBlackNode&lt;AnyKey, AnyValue&gt; k1 ){\n        RedBlackNode&lt;AnyKey, AnyValue&gt; k2 = k1.right;\n        k1.right = k2.left;\n        k2.left = k1;\n        return k2;\n    }\n    \n    /**\n     * Node in the red black tree.\n     * @author Letian Sun\n     * @param &lt;AnyKey&gt; can be any object type\n     * @param &lt;AnyValue&gt; can be any object type \n     */\n    private static class RedBlackNode&lt;AnyKey, AnyValue&gt;{\n         AnyKey key;\n         AnyValue value;   \n         RedBlackNode&lt;AnyKey, AnyValue&gt; left;  \n         RedBlackNode&lt;AnyKey, AnyValue&gt; right;     \n         \n         int color;   \n         \n        RedBlackNode( AnyKey theKey, AnyValue theValue ){\n            this( theKey, theValue,  null, null );\n        }        \n        RedBlackNode( AnyKey theKey, AnyValue theValue, RedBlackNode&lt;AnyKey, AnyValue&gt; lt\n                , RedBlackNode&lt;AnyKey, AnyValue&gt; rt ) {\n            key  = theKey;\n            value = theValue;\n            left     = lt;\n            right    = rt;\n            color    = RedBlackTree.BLACK;\n        }\n       public String toString() {\n         return &quot;element:&quot; + key.toString() \n                 + &quot; times:&quot; + value.toString();\n     }\n  }\n    \n</code></pre>\n<p>I am trying to write the remove method that the author didn't write.\nHere is what I have so far</p>\n<pre><code>@Override\npublic void remove( AnyKey x ){\n    header.right = remove( x, header.right );\n}\n\nprivate RedBlackNode&lt;AnyKey, AnyValue&gt; remove( AnyKey x, \n        RedBlackNode&lt;AnyKey, AnyValue&gt; t ){\n    if( t == nullNode )\n        return t;   // Item not found; do nothing\n    int compareResult = x.compareTo( t.key );\n    if( compareResult &lt; 0 )\n        t.left = remove( x, t.left );\n    else if( compareResult &gt; 0 )\n        t.right = remove( x, t.right );\n    else if( t.left != nullNode &amp;&amp; t.right != nullNode ){ // Two children\n        t.key = findMin( t.right ).key;\n        t.right = remove( t.key, t.right );\n    }\n    else\n        t = ( t.left != nullNode ) ? t.left : t.right;\n    return rotate(t.key, t );\n}\n\nprivate RedBlackNode&lt;AnyKey, AnyValue&gt; findMin(RedBlackNode&lt;AnyKey, AnyValue&gt; t ){\n    if(t != null &amp;&amp; t.left != null) {\n        t = findMin(t.left);\n    }\n    return t;\n}\n        \n</code></pre>\n<p>Does anyone see any issue with my method. All the logic makes sense to me.\nWhen I ran my JUnit test cases,</p>\n<pre><code>RedBlackTree testTree = new RedBlackTree&lt;Integer,Integer&gt;();\nfor(int c=0;c&lt;1000;c++) {\n    testTree.put(c, c);\n}\nint attempt = 60;\ntestTree.remove(attempt);\nassertEquals(attempt - 1,testTree.get(attempt - 1).intValue());\n</code></pre>\n<p>The test failed</p>\n"},{"tags":["java","spring","gradle","junit"],"comments":[{"owner":{"account_id":16826591,"reputation":89,"user_id":12165732,"display_name":"Timo"},"score":0,"creation_date":1658567673,"post_id":73088556,"comment_id":129087396,"body_markdown":"Has `Author` an implemented `equals()` method?","body":"Has <code>Author</code> an implemented <code>equals()</code> method?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1658568301,"post_id":73088556,"comment_id":129087500,"body_markdown":"Please [edit] your question to include a [mcve], which shows the problem you have. The code looks fine, so there must be something else in your program. Also add the tools and libraries you are using to your question and adjust the tags list of the question as well.","body":"Please <a href=\"https://stackoverflow.com/posts/73088556/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which shows the problem you have. The code looks fine, so there must be something else in your program. Also add the tools and libraries you are using to your question and adjust the tags list of the question as well."},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1658570815,"post_id":73088556,"comment_id":129087956,"body_markdown":"@Timo yes `Author` class in question","body":"@Timo yes <code>Author</code> class in question"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1658572064,"post_id":73088556,"comment_id":129088140,"body_markdown":"@Pavel I suspect the problem is the `tags` collection as well, but the `equals()` method for `List&lt;&gt;` is already well defined that it returns `true` when the content is the same. The issue might be somewhere else. Please [edit] your question to include the MCVE.","body":"@Pavel I suspect the problem is the <code>tags</code> collection as well, but the <code>equals()</code> method for <code>List&lt;&gt;</code> is already well defined that it returns <code>true</code> when the content is the same. The issue might be somewhere else. Please <a href=\"https://stackoverflow.com/posts/73088556/edit\">edit</a> your question to include the MCVE."},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1658572478,"post_id":73088556,"comment_id":129088208,"body_markdown":"@Progman I didn&#39;t catch what do you miss for completion MCVE.","body":"@Progman I didn&#39;t catch what do you miss for completion MCVE."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1658575005,"post_id":73088556,"comment_id":129088550,"body_markdown":"@Pavel The list of libraries you are using (in which versions), the configurations of the libraries you are using, the full JUnit test suite so we can see any configuration relevant information. You are also using a service `articleRepository` we don&#39;t see the implementation of, but it might not be relevant to the problem you have. Do you get the same problem when you create the `Article` and `Author` objects manually? Again, the `equals()` implementation looks fine, so the issue is somewhere else (like a framework creating proxies on the way that override `equals()`).","body":"@Pavel The list of libraries you are using (in which versions), the configurations of the libraries you are using, the full JUnit test suite so we can see any configuration relevant information. You are also using a service <code>articleRepository</code> we don&#39;t see the implementation of, but it might not be relevant to the problem you have. Do you get the same problem when you create the <code>Article</code> and <code>Author</code> objects manually? Again, the <code>equals()</code> implementation looks fine, so the issue is somewhere else (like a framework creating proxies on the way that override <code>equals()</code>)."},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1658576899,"post_id":73088556,"comment_id":129088892,"body_markdown":"@Progman add build.gradle","body":"@Progman add build.gradle"},{"owner":{"account_id":16826591,"reputation":89,"user_id":12165732,"display_name":"Timo"},"score":0,"creation_date":1658658745,"post_id":73088556,"comment_id":129101404,"body_markdown":"Hi Pavel!\nAs you already found out, the problem is the tag list. I took a deeper look: The tag list is of type `PersistentBag` and uses the `equals()` Method of Object. Instead of using `Objects.equals(tags, article.tags)` you can pick a solution from here: [How to work with Hibernate&#39;s PersistentBag not obeying List equals contract?](https://stackoverflow.com/a/57399383/12165732)","body":"Hi Pavel! As you already found out, the problem is the tag list. I took a deeper look: The tag list is of type <code>PersistentBag</code> and uses the <code>equals()</code> Method of Object. Instead of using <code>Objects.equals(tags, article.tags)</code> you can pick a solution from here: <a href=\"https://stackoverflow.com/a/57399383/12165732\">How to work with Hibernate&#39;s PersistentBag not obeying List equals contract?</a>"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658577549,"creation_date":1658557945,"question_id":73088556,"body_markdown":"I have a test which fails with `Assertions.assertIterableEquals(expected, result)` but object actually is equals:\r\n\r\n    @Test\r\n    public void whenArticleWrittenByAuthorOrWithTitleIsExistThenReturnArticleList() {\r\n        // given\r\n        List&lt;Article&gt; expected = articleRepository.saveAll(List.of(article));\r\n\r\n        // when\r\n        List&lt;Article&gt; result = articleRepository.findByAuthorOrTitle(author, article.getTitle());\r\n\r\n        // then\r\n        Assertions.assertIterableEquals(expected, result);\r\n    }\r\n\r\nWhich fails with the message:\r\n\r\n    iterable contents differ at index [0], expected: com.pravvich.model.Article@47d7e8b5\r\n    &lt;Article(id=1, author=Author(name=name, login=login), title=title, content=content, tags=[tag])&gt; \r\n    but was: com.pravvich.model.Article@4353230\r\n    &lt;Article(id=1, author=Author(name=name, login=login), title=title, content=content, tags=[tag])&gt;\r\n\r\nWhy it can happen and how to fix it?\r\n\r\n\r\nArticle object:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;articles&quot;)\r\n    public class Article {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Embedded\r\n        private Author author;\r\n    \r\n        @Column(unique = true)\r\n        private String title;\r\n    \r\n        private String content;\r\n    \r\n        @ElementCollection(targetClass = String.class,\r\n                fetch = FetchType.EAGER\r\n        )\r\n        @CollectionTable(name = &quot;tags&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;article_id&quot;)\r\n        )\r\n        @Column(name = &quot;tag&quot;)\r\n        private List&lt;String&gt; tags = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Article article = (Article) o;\r\n    \r\n            if (!Objects.equals(id, article.id)) return false;\r\n            if (!Objects.equals(author, article.author)) return false;\r\n            if (!Objects.equals(title, article.title)) return false;\r\n            if (!Objects.equals(content, article.content)) return false;\r\n            return Objects.equals(tags, article.tags);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = id != null ? id.hashCode() : 0;\r\n            result = 31 * result + (author != null ? author.hashCode() : 0);\r\n            result = 31 * result + (title != null ? title.hashCode() : 0);\r\n            result = 31 * result + (content != null ? content.hashCode() : 0);\r\n            result = 31 * result + (tags != null ? tags.hashCode() : 0);\r\n            return result;\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Embeddable\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Author {\r\n    \r\n        private String name;\r\n    \r\n        private String login;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            Author author = (Author) o;\r\n    \r\n            if (!Objects.equals(name, author.name)) return false;\r\n            return Objects.equals(login, author.login);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = name != null ? name.hashCode() : 0;\r\n            result = 31 * result + (login != null ? login.hashCode() : 0);\r\n            return result;\r\n        }\r\n    }\r\n\r\n**UPDATE_1**\r\n\r\nProblem in `tags` collection. `assertIterableEquals` apply collection approach only for `List&lt;Article&gt;` but for `List&lt;String&gt; tags` still use standart `equals` method. Question more about how to apply equals for nested collections?\r\n\r\n**UPDATE_2**\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.pravvich&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.flywaydb:flyway-core&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.h2database:h2&#39;\r\n    \truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nrepository\r\n\r\n    @Repository\r\n    public interface ArticleRepository\r\n            extends JpaRepository&lt;Article, Long&gt;,\r\n            JpaSpecificationExecutor&lt;Article&gt; {\r\n    \r\n        @Query(&quot;SELECT a FROM Article a WHERE a.author = :author&quot;)\r\n        List&lt;Article&gt; findAllWrittenBy(Author author);\r\n    \r\n        @Query(&quot;SELECT t FROM Article a JOIN a.tags t WHERE a.title = :title&quot;)\r\n        List&lt;String&gt; findAllTagsOfArticle(String title);\r\n    \r\n        @Query(&quot;SELECT a FROM Article a WHERE a.author = :author OR a.title = :title&quot;)\r\n        List&lt;Article&gt; findByAuthorOrTitle(Author author, String title);\r\n    \r\n        @Query(&quot;SELECT a.author FROM Article a WHERE a.title = :title&quot;)\r\n        Optional&lt;Author&gt; findAuthorOfArticleByTitle(String title);\r\n    }\r\n\r\n","title":"Assertions.assertIterableEquals not recognize actually equal objects","body":"<p>I have a test which fails with <code>Assertions.assertIterableEquals(expected, result)</code> but object actually is equals:</p>\n<pre><code>@Test\npublic void whenArticleWrittenByAuthorOrWithTitleIsExistThenReturnArticleList() {\n    // given\n    List&lt;Article&gt; expected = articleRepository.saveAll(List.of(article));\n\n    // when\n    List&lt;Article&gt; result = articleRepository.findByAuthorOrTitle(author, article.getTitle());\n\n    // then\n    Assertions.assertIterableEquals(expected, result);\n}\n</code></pre>\n<p>Which fails with the message:</p>\n<pre><code>iterable contents differ at index [0], expected: com.pravvich.model.Article@47d7e8b5\n&lt;Article(id=1, author=Author(name=name, login=login), title=title, content=content, tags=[tag])&gt; \nbut was: com.pravvich.model.Article@4353230\n&lt;Article(id=1, author=Author(name=name, login=login), title=title, content=content, tags=[tag])&gt;\n</code></pre>\n<p>Why it can happen and how to fix it?</p>\n<p>Article object:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;articles&quot;)\npublic class Article {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Embedded\n    private Author author;\n\n    @Column(unique = true)\n    private String title;\n\n    private String content;\n\n    @ElementCollection(targetClass = String.class,\n            fetch = FetchType.EAGER\n    )\n    @CollectionTable(name = &quot;tags&quot;,\n            joinColumns = @JoinColumn(name = &quot;article_id&quot;)\n    )\n    @Column(name = &quot;tag&quot;)\n    private List&lt;String&gt; tags = new ArrayList&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Article article = (Article) o;\n\n        if (!Objects.equals(id, article.id)) return false;\n        if (!Objects.equals(author, article.author)) return false;\n        if (!Objects.equals(title, article.title)) return false;\n        if (!Objects.equals(content, article.content)) return false;\n        return Objects.equals(tags, article.tags);\n    }\n\n    @Override\n    public int hashCode() {\n        int result = id != null ? id.hashCode() : 0;\n        result = 31 * result + (author != null ? author.hashCode() : 0);\n        result = 31 * result + (title != null ? title.hashCode() : 0);\n        result = 31 * result + (content != null ? content.hashCode() : 0);\n        result = 31 * result + (tags != null ? tags.hashCode() : 0);\n        return result;\n    }\n}\n\n@Getter\n@Setter\n@ToString\n@Embeddable\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Author {\n\n    private String name;\n\n    private String login;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Author author = (Author) o;\n\n        if (!Objects.equals(name, author.name)) return false;\n        return Objects.equals(login, author.login);\n    }\n\n    @Override\n    public int hashCode() {\n        int result = name != null ? name.hashCode() : 0;\n        result = 31 * result + (login != null ? login.hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n<p><strong>UPDATE_1</strong></p>\n<p>Problem in <code>tags</code> collection. <code>assertIterableEquals</code> apply collection approach only for <code>List&lt;Article&gt;</code> but for <code>List&lt;String&gt; tags</code> still use standart <code>equals</code> method. Question more about how to apply equals for nested collections?</p>\n<p><strong>UPDATE_2</strong></p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.pravvich'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.flywaydb:flyway-core'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.h2database:h2'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>repository</p>\n<pre><code>@Repository\npublic interface ArticleRepository\n        extends JpaRepository&lt;Article, Long&gt;,\n        JpaSpecificationExecutor&lt;Article&gt; {\n\n    @Query(&quot;SELECT a FROM Article a WHERE a.author = :author&quot;)\n    List&lt;Article&gt; findAllWrittenBy(Author author);\n\n    @Query(&quot;SELECT t FROM Article a JOIN a.tags t WHERE a.title = :title&quot;)\n    List&lt;String&gt; findAllTagsOfArticle(String title);\n\n    @Query(&quot;SELECT a FROM Article a WHERE a.author = :author OR a.title = :title&quot;)\n    List&lt;Article&gt; findByAuthorOrTitle(Author author, String title);\n\n    @Query(&quot;SELECT a.author FROM Article a WHERE a.title = :title&quot;)\n    Optional&lt;Author&gt; findAuthorOfArticleByTitle(String title);\n}\n</code></pre>\n"},{"tags":["java","lambda","java-8","predicate"],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":220,"is_accepted":true,"score":220,"last_activity_date":1498593035,"creation_date":1414173110,"answer_id":26553481,"question_id":26549659,"body_markdown":"There are no built-in always-true and always-false predicates in Java 8. The most concise way to write these is\r\n\r\n    x -&gt; true\r\n\r\nand\r\n\r\n    x -&gt; false\r\n\r\nCompare these to\r\n\r\n    Predicates.alwaysTrue() // Guava\r\n\r\nand finally to an anonymous inner class:\r\n\r\n    new Predicate&lt;Object&gt;() {\r\n        public boolean test(Object x) {\r\n            return true;\r\n        }\r\n    }\r\n\r\nProbably the reason that Guava has these built-in predicates is that there is a huge syntactic advantage of a static method call over an anonymous inner class. In Java 8, the lambda syntax is so concise that there is a syntactic *disadvantage* to writing out a static method call.\r\n\r\nThat&#39;s just a syntactic comparison, though. There is probably a small space advantage if there were a single global always-true predicate, compared to `x -&gt; true` occurrences spread across multiple classes, each of which would create its own predicate instance. Is this what you&#39;re concerned about? The savings didn&#39;t seem compelling, which is probably why they weren&#39;t added in the first place. But it could be reconsidered for a future release.\r\n\r\n**UPDATE 2015-04-24**\r\n\r\nWe&#39;ve considered the addition of a variety of static, named functions such as `Predicate.alwaysTrue`, `Runnable.noop`, etc., and we have decided not to add any more in future versions of Java SE.\r\n\r\nCertainly there is some value in something that has a name vs. a written-out lambda, but this value is quite small. We expect that people will learn how to read and write `x -&gt; true` and `() -&gt; { }` and that their usage will become idiomatic. Even the value of `Function.identity()` over `x -&gt; x` is questionable.\r\n\r\nThere is a tiny performance advantage to reusing an existing function instead of evaluating a written-out lambda, but we expect the usage of these kinds of functions to be so small that such an advantage would be negligible, certainly not worth the API bloat.\r\n\r\nHolger also mentioned in comments the possibility of optimizing composed functions such as `Predicate.or` and such. This was also considered ([JDK-8067971](https://bugs.openjdk.java.net/browse/JDK-8067971)) but was deemed somewhat fragile and error-prone, and occurring infrequently enough that it wasn&#39;t worth the effort to implement.\r\n\r\nSee also this [Lambda FAQ][1] entry.\r\n\r\n\r\n  [1]: http://www.lambdafaq.org/are-there-other-constant-lambdas-like-function-identity/","title":"Built-in Java 8 predicate that always returns true?","body":"<p>There are no built-in always-true and always-false predicates in Java 8. The most concise way to write these is</p>\n\n<pre><code>x -&gt; true\n</code></pre>\n\n<p>and</p>\n\n<pre><code>x -&gt; false\n</code></pre>\n\n<p>Compare these to</p>\n\n<pre><code>Predicates.alwaysTrue() // Guava\n</code></pre>\n\n<p>and finally to an anonymous inner class:</p>\n\n<pre><code>new Predicate&lt;Object&gt;() {\n    public boolean test(Object x) {\n        return true;\n    }\n}\n</code></pre>\n\n<p>Probably the reason that Guava has these built-in predicates is that there is a huge syntactic advantage of a static method call over an anonymous inner class. In Java 8, the lambda syntax is so concise that there is a syntactic <em>disadvantage</em> to writing out a static method call.</p>\n\n<p>That's just a syntactic comparison, though. There is probably a small space advantage if there were a single global always-true predicate, compared to <code>x -&gt; true</code> occurrences spread across multiple classes, each of which would create its own predicate instance. Is this what you're concerned about? The savings didn't seem compelling, which is probably why they weren't added in the first place. But it could be reconsidered for a future release.</p>\n\n<p><strong>UPDATE 2015-04-24</strong></p>\n\n<p>We've considered the addition of a variety of static, named functions such as <code>Predicate.alwaysTrue</code>, <code>Runnable.noop</code>, etc., and we have decided not to add any more in future versions of Java SE.</p>\n\n<p>Certainly there is some value in something that has a name vs. a written-out lambda, but this value is quite small. We expect that people will learn how to read and write <code>x -&gt; true</code> and <code>() -&gt; { }</code> and that their usage will become idiomatic. Even the value of <code>Function.identity()</code> over <code>x -&gt; x</code> is questionable.</p>\n\n<p>There is a tiny performance advantage to reusing an existing function instead of evaluating a written-out lambda, but we expect the usage of these kinds of functions to be so small that such an advantage would be negligible, certainly not worth the API bloat.</p>\n\n<p>Holger also mentioned in comments the possibility of optimizing composed functions such as <code>Predicate.or</code> and such. This was also considered (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8067971\" rel=\"noreferrer\">JDK-8067971</a>) but was deemed somewhat fragile and error-prone, and occurring infrequently enough that it wasn't worth the effort to implement.</p>\n\n<p>See also this <a href=\"http://www.lambdafaq.org/are-there-other-constant-lambdas-like-function-identity/\" rel=\"noreferrer\">Lambda FAQ</a> entry.</p>\n"},{"tags":[],"owner":{"account_id":2933813,"reputation":358,"user_id":2513279,"display_name":"boriselec"},"down_vote_count":29,"up_vote_count":22,"is_accepted":false,"score":-7,"last_activity_date":1523621782,"creation_date":1508496124,"answer_id":46847450,"question_id":26549659,"body_markdown":"Without guava\r\n\r\n    Boolean.TRUE::booleanValue","title":"Built-in Java 8 predicate that always returns true?","body":"<p>Without guava</p>\n\n<pre><code>Boolean.TRUE::booleanValue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658576364,"creation_date":1658576364,"answer_id":73090405,"question_id":26549659,"body_markdown":"In case you are looking for this in Spring framework:\r\n\r\n[`org.springframework.data.util.Predicates`][1] supports this.\r\n\r\n`Predicates.isTrue()`, `Predicates.isFalse()`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/Predicates.html","title":"Built-in Java 8 predicate that always returns true?","body":"<p>In case you are looking for this in Spring framework:</p>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/util/Predicates.html\" rel=\"nofollow noreferrer\"><code>org.springframework.data.util.Predicates</code></a> supports this.</p>\n<p><code>Predicates.isTrue()</code>, <code>Predicates.isFalse()</code></p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82884,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"accepted_answer_id":26553481,"answer_count":3,"score":177,"last_activity_date":1658576364,"creation_date":1414159909,"question_id":26549659,"body_markdown":"Google Guava has a predicate that [always returns `true`][1]. Does Java 8 have something similar for its `Predicate`? I know I could use `(foo)-&gt;{return true;}`, but I want something pre-made, analogous to `Collections.emptySet()`.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Predicates.html#alwaysTrue%28%29","title":"Built-in Java 8 predicate that always returns true?","body":"<p>Google Guava has a predicate that <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Predicates.html#alwaysTrue%28%29\">always returns <code>true</code></a>. Does Java 8 have something similar for its <code>Predicate</code>? I know I could use <code>(foo)-&gt;{return true;}</code>, but I want something pre-made, analogous to <code>Collections.emptySet()</code>.</p>\n"},{"tags":["java","spring","spring-boot","validation","exception"],"comments":[{"owner":{"display_name":"user19601508"},"score":0,"creation_date":1658570540,"post_id":73089056,"comment_id":129087914,"body_markdown":"Does anybody else have ever used custom validation in Spring Boot","body":"Does anybody else have ever used custom validation in Spring Boot"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1658576627,"post_id":73089056,"comment_id":129088836,"body_markdown":"Why dont you set consumes atrribute of requestmapping to text/csv. You can only get csv file. Later you can handle spring exception","body":"Why dont you set consumes atrribute of requestmapping to text/csv. You can only get csv file. Later you can handle spring exception"},{"owner":{"display_name":"user19601508"},"score":0,"creation_date":1658583602,"post_id":73089056,"comment_id":129090135,"body_markdown":"@Gurkanİlleez Why don&#39;t you post an example?","body":"@Gurkanİlleez Why don&#39;t you post an example?"}],"owner":{"display_name":"user19601508"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658575875,"creation_date":1658563540,"question_id":73089056,"body_markdown":"I am trying to throw exception while uploading file if the file format is not csv type. Here is my implementation (some parts are omitted for clarity):\r\n\r\n\r\n***ValidFile:***\r\n\r\n\r\n```\r\n@Documented\r\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\r\n@Retention(RUNTIME)\r\n@Constraint(validatedBy = {FileValidator.class})\r\npublic @interface ValidFile {\r\n    //...\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***FileValidator:***\r\n\r\n```\r\npublic class FileValidator implements ConstraintValidator&lt;ValidFile, MultipartFile&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(MultipartFile multipartFile, \r\n                           ConstraintValidatorContext context) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n\r\n***ValidationErrorResponse:***\r\n\r\n```\r\npublic class ValidationErrorResponse {\r\n\r\n    // have &quot;fieldName&quot; and &quot;response&quot; data\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n***ErrorHandlingControllerAdvice:***\r\n\r\n```\r\n@ControllerAdvice\r\nclass ErrorHandlingControllerAdvice {\r\n\r\n    //I tried to use something like that &gt;&gt;&gt;\r\n\r\n    @ExceptionHandler(NotValidFormatException.class)\r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    @ResponseBody\r\n    ValidationErrorResponse onNotValidFormatException(NotValidFormatException e) {\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nAnd, as there is not a file field in db, I validated uploaded file parameter as shown below (I want to validate on Controller):\r\n\r\n***Controller:***\r\n\r\n```\r\npublic ResponseEntity&lt;ResponseMessage&gt; uploadFile(\r\n                @Valid @ValidFile @RequestParam(&quot;file&quot;) MultipartFile file) \r\n                throws Exception {\r\n            employeeService.create(file);\r\n            return ResponseEntity.ok(new ResponseMessage(&quot;File uploaded.));\r\n    }\r\n```\r\n\r\nI also tried to use `@Validated`, `@RequestPart(&quot;file&quot;)` as parameter, but does not make any sense. \r\n\r\nWhen I try to upload an invalid type (pdf) and trace the exception, I see &quot;*Failed to parse csv file: (line 322) invalid char between encapsulated token and delimiter*&quot; error. So, how can I catch the exception in my `onNotValidFormatException` method?","title":"Spring Boot custom validation problem in Java app","body":"<p>I am trying to throw exception while uploading file if the file format is not csv type. Here is my implementation (some parts are omitted for clarity):</p>\n<p><em><strong>ValidFile:</strong></em></p>\n<pre><code>@Documented\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\n@Retention(RUNTIME)\n@Constraint(validatedBy = {FileValidator.class})\npublic @interface ValidFile {\n    //...\n}\n</code></pre>\n<br/>\n<p><em><strong>FileValidator:</strong></em></p>\n<pre><code>public class FileValidator implements ConstraintValidator&lt;ValidFile, MultipartFile&gt; {\n\n    @Override\n    public boolean isValid(MultipartFile multipartFile, \n                           ConstraintValidatorContext context) {\n        // ...\n    }\n}\n</code></pre>\n<br/>\n<p><em><strong>ValidationErrorResponse:</strong></em></p>\n<pre><code>public class ValidationErrorResponse {\n\n    // have &quot;fieldName&quot; and &quot;response&quot; data\n}\n</code></pre>\n<br/>\n<p><em><strong>ErrorHandlingControllerAdvice:</strong></em></p>\n<pre><code>@ControllerAdvice\nclass ErrorHandlingControllerAdvice {\n\n    //I tried to use something like that &gt;&gt;&gt;\n\n    @ExceptionHandler(NotValidFormatException.class)\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\n    @ResponseBody\n    ValidationErrorResponse onNotValidFormatException(NotValidFormatException e) {\n        //...\n    }\n}\n</code></pre>\n<br/>\n<p>And, as there is not a file field in db, I validated uploaded file parameter as shown below (I want to validate on Controller):</p>\n<p><em><strong>Controller:</strong></em></p>\n<pre><code>public ResponseEntity&lt;ResponseMessage&gt; uploadFile(\n                @Valid @ValidFile @RequestParam(&quot;file&quot;) MultipartFile file) \n                throws Exception {\n            employeeService.create(file);\n            return ResponseEntity.ok(new ResponseMessage(&quot;File uploaded.));\n    }\n</code></pre>\n<p>I also tried to use <code>@Validated</code>, <code>@RequestPart(&quot;file&quot;)</code> as parameter, but does not make any sense.</p>\n<p>When I try to upload an invalid type (pdf) and trace the exception, I see &quot;<em>Failed to parse csv file: (line 322) invalid char between encapsulated token and delimiter</em>&quot; error. So, how can I catch the exception in my <code>onNotValidFormatException</code> method?</p>\n"},{"tags":["java","operators","expression","lvalue"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":5,"creation_date":1384358700,"post_id":19958578,"comment_id":29706233,"body_markdown":"`++i` resolves to a value. You cannot apply the operator `++` to a value.","body":"<code>++i</code> resolves to a value. You cannot apply the operator <code>++</code> to a value."},{"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"score":0,"creation_date":1384358729,"post_id":19958578,"comment_id":29706260,"body_markdown":"There is no type with combination of prefix and postfix ++i++;","body":"There is no type with combination of prefix and postfix ++i++;"},{"owner":{"account_id":3278667,"reputation":3523,"user_id":2759848,"accept_rate":83,"display_name":"Eel Lee"},"score":1,"creation_date":1384359776,"post_id":19958578,"comment_id":29706987,"body_markdown":"I think this is quite interesting question considering the answers. Why downvote?","body":"I think this is quite interesting question considering the answers. Why downvote?"}],"answers":[{"tags":[],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384358704,"creation_date":1384358704,"answer_id":19958603,"question_id":19958578,"body_markdown":"`++i++;` is not valid. You can only do one at a time. `++` in prefix or `++` in postfix.  \r\nI see that you are trying to increment the value by two. You can do this as follows:  \r\n\r\n    i++ // will post-increment the value of i\r\n    ++i // will pre-increment the value of i  \r\n\r\n`i++` is the same as `i = i + 1` or `i += 1`. Hence, you need some variable to which this value can be saved, as pointed out by  Sotirios Delimanolis in the comments. ","title":"java prefix/postfix operators","body":"<p><code>++i++;</code> is not valid. You can only do one at a time. <code>++</code> in prefix or <code>++</code> in postfix.<br>\nI see that you are trying to increment the value by two. You can do this as follows:  </p>\n\n<pre><code>i++ // will post-increment the value of i\n++i // will pre-increment the value of i  \n</code></pre>\n\n<p><code>i++</code> is the same as <code>i = i + 1</code> or <code>i += 1</code>. Hence, you need some variable to which this value can be saved, as pointed out by  Sotirios Delimanolis in the comments. </p>\n"},{"tags":[],"owner":{"account_id":3481005,"reputation":3302,"user_id":2913064,"display_name":"kviiri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384358908,"creation_date":1384358908,"answer_id":19958671,"question_id":19958578,"body_markdown":"Both prefix and suffix versions require the operation to be performed on a variable, not a value. You can increment a variable `i` with `i++` or `++i` but you can&#39;t increment `5` or `3.14`.\r\n\r\n`++i++` means that you&#39;re trying to increment `i` by one and then increment the resulting **value** by one. There&#39;s the error.","title":"java prefix/postfix operators","body":"<p>Both prefix and suffix versions require the operation to be performed on a variable, not a value. You can increment a variable <code>i</code> with <code>i++</code> or <code>++i</code> but you can't increment <code>5</code> or <code>3.14</code>.</p>\n\n<p><code>++i++</code> means that you're trying to increment <code>i</code> by one and then increment the resulting <strong>value</strong> by one. There's the error.</p>\n"},{"tags":[],"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1491599552,"creation_date":1384359058,"answer_id":19958730,"question_id":19958578,"body_markdown":"It is about lvalue (left value). Lvalue is, what on the left side of an &quot;=&quot; stay can. Also, to what you can give a value. For example, you can&#39;t give a value to &quot;4&quot;, but you can to give a value to &quot;i&quot;. The expressions of variables aren&#39;t just so lvalues (with the exception of some very esoteric programming language).\r\n\r\nIf you write &quot;++i++&quot;, it will be interpreted as (++i)++ or ++(i++). &quot;i&quot; is an lvalue, but &quot;i++&quot; or &quot;++i&quot; not, because they are expressions.\r\n\r\nIn C++, with some tricky operator overloading and reference-variable tricks, the C++ compiler could be tricked to handle this correctly.","title":"java prefix/postfix operators","body":"<p>It is about lvalue (left value). Lvalue is, what on the left side of an \"=\" stay can. Also, to what you can give a value. For example, you can't give a value to \"4\", but you can to give a value to \"i\". The expressions of variables aren't just so lvalues (with the exception of some very esoteric programming language).</p>\n\n<p>If you write \"++i++\", it will be interpreted as (++i)++ or ++(i++). \"i\" is an lvalue, but \"i++\" or \"++i\" not, because they are expressions.</p>\n\n<p>In C++, with some tricky operator overloading and reference-variable tricks, the C++ compiler could be tricked to handle this correctly.</p>\n"},{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384359693,"creation_date":1384359068,"answer_id":19958738,"question_id":19958578,"body_markdown":"Since `++` postfix and prefix have the same precedence, we need to resort to *associativity* to figure out what is going on.\r\n\r\nThe associativity of `++` is right to left.\r\n\r\nThat means that, conceptually, `i++` happens first. But this, of course, is a fixed **value** (it&#39;s the value of `i` prior to incrementation). Therefore the prefix `++` is going to fail as it cannot operate on a fixed value.","title":"java prefix/postfix operators","body":"<p>Since <code>++</code> postfix and prefix have the same precedence, we need to resort to <em>associativity</em> to figure out what is going on.</p>\n\n<p>The associativity of <code>++</code> is right to left.</p>\n\n<p>That means that, conceptually, <code>i++</code> happens first. But this, of course, is a fixed <strong>value</strong> (it's the value of <code>i</code> prior to incrementation). Therefore the prefix <code>++</code> is going to fail as it cannot operate on a fixed value.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658575220,"creation_date":1384359289,"answer_id":19958831,"question_id":19958578,"body_markdown":"`++i` or `i++` can be used on variable, but not on value so \r\n\r\n    i++\r\n    ++i\r\nis OK, but \r\n\r\n    2++\r\n    ++2\r\n\r\nis not. \r\n\r\nAlso result of `++i` or `i++` is not variable `i` but its original *value* (like when `i=1`, `i++` would change `i` to `2` but would return `1`). So even doing something like\r\n\r\n    (++i)++\r\n\r\nwould be incorrect because after `++i` you would just try to use `++` on result of `++i` which could be for example `2`. This means you would try to perform `2++`. \r\n\r\nSimilar problem exists in case of `++(i++)`","title":"java prefix/postfix operators","body":"<p><code>++i</code> or <code>i++</code> can be used on variable, but not on value so</p>\n<pre><code>i++\n++i\n</code></pre>\n<p>is OK, but</p>\n<pre><code>2++\n++2\n</code></pre>\n<p>is not.</p>\n<p>Also result of <code>++i</code> or <code>i++</code> is not variable <code>i</code> but its original <em>value</em> (like when <code>i=1</code>, <code>i++</code> would change <code>i</code> to <code>2</code> but would return <code>1</code>). So even doing something like</p>\n<pre><code>(++i)++\n</code></pre>\n<p>would be incorrect because after <code>++i</code> you would just try to use <code>++</code> on result of <code>++i</code> which could be for example <code>2</code>. This means you would try to perform <code>2++</code>.</p>\n<p>Similar problem exists in case of <code>++(i++)</code></p>\n"}],"owner":{"account_id":2014897,"reputation":2751,"user_id":1802439,"accept_rate":76,"display_name":"user1802439"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":4,"up_vote_count":6,"accepted_answer_id":19958730,"answer_count":5,"score":2,"last_activity_date":1658575220,"creation_date":1384358649,"question_id":19958578,"body_markdown":"Why I&#39;m getting an error for:\r\n\r\n    int i=0;\r\n    ++i++;\r\n\r\nWhat does this error mean?\r\n\r\n      unexpected type ++i++;                    \r\n      required: variable  \r\n      found:    value","title":"java prefix/postfix operators","body":"<p>Why I'm getting an error for:</p>\n\n<pre><code>int i=0;\n++i++;\n</code></pre>\n\n<p>What does this error mean?</p>\n\n<pre><code>  unexpected type ++i++;                    \n  required: variable  \n  found:    value\n</code></pre>\n"},{"tags":["java","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658573071,"creation_date":1658573071,"answer_id":73090049,"question_id":73090013,"body_markdown":"After \r\n\r\n    pw.write(&quot;Hey\\n&quot;);\r\n\r\nTry doing a\r\n\r\n    pw.flush(); \r\n\r\n","title":"How to make an input to a started process with ProcessBuilder?","body":"<p>After</p>\n<pre><code>pw.write(&quot;Hey\\n&quot;);\n</code></pre>\n<p>Try doing a</p>\n<pre><code>pw.flush(); \n</code></pre>\n"}],"owner":{"account_id":25876596,"reputation":11,"user_id":19606474,"display_name":"Petrov Crowford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73090049,"answer_count":1,"score":1,"last_activity_date":1658575106,"creation_date":1658572691,"question_id":73090013,"body_markdown":"We have a closed-source archive that does only one thing: reads a string input and outs its value hashed. Not by its command arguments, but once it is started and stays continuously open, getting inputs and giving the value properly hashed.\r\n\r\nSo I want to open it with `ProcessBuilder` and do the inputs. The problem is that i have tried to input in the process and i have failed:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;/path/to/executable&quot;);\r\n    Process p = pb.start();\r\n    OutputStream os = p.getOutputStream();\r\n    PrintWriter pw = new PrintWriter(os);\r\n    pw.write(&quot;Hey\\n&quot;);\r\n    String result = read(p);\r\n    System.out.println(&quot;Out: &quot; + result);\r\n    p.destroy();\r\n\r\nBut looks like i&#39;m not getting any output, first of because the executable is not getting my &quot;Hey&quot;. \r\n\r\nSo the main question is, how do I input into the started program? Any kind of suggestions are welcome.","title":"How to make an input to a started process with ProcessBuilder?","body":"<p>We have a closed-source archive that does only one thing: reads a string input and outs its value hashed. Not by its command arguments, but once it is started and stays continuously open, getting inputs and giving the value properly hashed.</p>\n<p>So I want to open it with <code>ProcessBuilder</code> and do the inputs. The problem is that i have tried to input in the process and i have failed:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;/path/to/executable&quot;);\nProcess p = pb.start();\nOutputStream os = p.getOutputStream();\nPrintWriter pw = new PrintWriter(os);\npw.write(&quot;Hey\\n&quot;);\nString result = read(p);\nSystem.out.println(&quot;Out: &quot; + result);\np.destroy();\n</code></pre>\n<p>But looks like i'm not getting any output, first of because the executable is not getting my &quot;Hey&quot;.</p>\n<p>So the main question is, how do I input into the started program? Any kind of suggestions are welcome.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":9543906,"reputation":1239,"user_id":7090806,"display_name":"Rahul Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658574713,"creation_date":1658574713,"answer_id":73090228,"question_id":73090160,"body_markdown":"You have to create an adapter class and add with your recycler view.\r\nThe basic snippet to set adapter to recycler view is like bellow\r\n\r\n    YourAdater adapter = YourAdater();\r\n    layoutManager = new LinearLayoutManager(this);\r\n    recyclerView.setLayoutManager(layoutManager);\r\n    recyclerView.setAdapter(adapter);\r\n\r\nfor more detail that how to create a RecyclerView AdapterClass you can see [this][1] or [this][2]\r\n\r\n\r\n  [1]: https://www.javatpoint.com/android-recyclerview-list-example\r\n  [2]: https://stackoverflow.com/a/40584425/7090806","title":"Android Studio RecyclerView: Why always ( No adapter attached; skipping layout )","body":"<p>You have to create an adapter class and add with your recycler view.\nThe basic snippet to set adapter to recycler view is like bellow</p>\n<pre><code>YourAdater adapter = YourAdater();\nlayoutManager = new LinearLayoutManager(this);\nrecyclerView.setLayoutManager(layoutManager);\nrecyclerView.setAdapter(adapter);\n</code></pre>\n<p>for more detail that how to create a RecyclerView AdapterClass you can see <a href=\"https://www.javatpoint.com/android-recyclerview-list-example\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://stackoverflow.com/a/40584425/7090806\">this</a></p>\n"}],"owner":{"account_id":23390958,"reputation":11,"user_id":17455613,"display_name":"Coding Rookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658574713,"creation_date":1658574054,"question_id":73090160,"body_markdown":"I am a student who currently taking mobile application development. Although my app can run  but it doesnt show any activity instead of just give me W/RecyclerView: No adapter attached; skipping layout. I dont know how to solve the issue, so I was hoping can get some guidlines from experts.\r\n\r\nHere is my code\r\nMainActivity.java\r\n\r\n    package my.edu.utar.practicalassignment;\r\n    \r\n    import android.app.AlertDialog;\r\n    import android.app.ProgressDialog;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Toolbar tool;\r\n        private TextView textView;\r\n        private RecyclerView recyclerView;\r\n        private Button AddBtn;\r\n        RecyclerView.LayoutManager layoutManager;\r\n    \r\n    \r\n        private FirebaseAuth auth;\r\n        private DatabaseReference ref;\r\n        private String userID  = &quot;&quot;;\r\n        private ProgressDialog progressDialog;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            tool = findViewById(R.id.toolbar);\r\n            setSupportActionBar(tool);\r\n            //getSupportActionBar().setTitle(&quot;Today&#39;s Spending&quot;);\r\n    \r\n            textView=findViewById(R.id.totalCashBack);\r\n            recyclerView =findViewById(R.id.recycle_view);\r\n    //        recyclerView =(RecyclerView)findViewById(R.id.recycleView);\r\n    //        layoutManager = new LinearLayoutManager(this);\r\n    //        recyclerView.setLayoutManager(layoutManager);\r\n    \r\n            AddBtn = findViewById(R.id.add_new);\r\n    \r\n    \r\n            auth = FirebaseAuth.getInstance();\r\n            userID = auth.getCurrentUser().getUid();\r\n            ref = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\r\n    \r\n    \r\n    //        if(userID !=null){\r\n    //            try{\r\n    //                ref = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\r\n    //\r\n    //            }catch (NullPointerException ex){\r\n    //                ex.printStackTrace();\r\n    //            }\r\n    //        }\r\n    \r\n            progressDialog = new ProgressDialog(this);\r\n    \r\n            AddBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    addItem();\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        private void addItem() {\r\n            AlertDialog.Builder alert = new AlertDialog.Builder(this);\r\n            LayoutInflater layout = LayoutInflater.from(this);\r\n    \r\n            View view = layout.inflate(R.layout.input_layout, null);\r\n            alert.setView(view);\r\n    \r\n            final AlertDialog dialog = alert.create();\r\n            dialog.setCancelable(false);\r\n    \r\n            final Spinner spinnerItem = view.findViewById(R.id.spinner);\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.category));\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinnerItem.setAdapter(adapter);\r\n    \r\n            final EditText amount = view.findViewById(R.id.insert_amount);\r\n            final EditText notes = view.findViewById(R.id.insert_note);\r\n            final Button saveButton = view.findViewById(R.id.add_button);\r\n            final Button cancelButton = view.findViewById(R.id.cancel_button);\r\n    \r\n            saveButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String amountGet = amount.getText().toString();\r\n                    String notesGet = notes.getText().toString();\r\n                    String categoryGet = spinnerItem.getSelectedItem().toString();\r\n    \r\n                    Drawable icon = getResources().getDrawable(R.drawable.error);\r\n    \r\n                    if(amountGet.isEmpty()){\r\n                        amount.setError(&quot;Please enter an amount!!!&quot;, icon );\r\n                        return;\r\n                    }\r\n    \r\n                    if(notesGet.isEmpty()){\r\n                        notes.setError(&quot;Please enter a notes!!!&quot;, icon );\r\n                        return;\r\n                    }\r\n    \r\n                    if(categoryGet.equals(&quot;Select a Category&quot;)){\r\n                        Toast.makeText(MainActivity.this, &quot;Please select a valid category&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        progressDialog.setMessage(&quot;Had added the information into database&quot;);\r\n                        progressDialog.setCanceledOnTouchOutside(false);\r\n                        progressDialog.show();\r\n    \r\n                        String id = ref.push().getKey();\r\n    \r\n                        DateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        String date = format.format(calendar.getTime());\r\n    \r\n                        Data inform = new Data(categoryGet, date, id, notesGet, Integer.parseInt(amountGet));\r\n                        ref.child(id).setValue(inform).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                if(task.isSuccessful()){\r\n                                    Toast.makeText(MainActivity.this, &quot;Information added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                }else{\r\n                                    Toast.makeText(MainActivity.this, &quot;Fail to add the information&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                progressDialog.dismiss();\r\n                            }\r\n                        });\r\n                    }\r\n                    dialog.dismiss();\r\n    \r\n                }\r\n            });\r\n    \r\n            cancelButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    dialog.dismiss();\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\nMainActivity.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;#ffff00&quot;\r\n                android:elevation=&quot;4dp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/totalCashBack&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot; Total Cash Back = RM 0&quot;\r\n                android:textColor=&quot;#fff&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recycle_view&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;556dp&quot; /&gt;\r\n    \r\n    \r\n            &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/add_new&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_margin=&quot;16dp&quot;\r\n            android:backgroundTint=&quot;#ffff00&quot;\r\n            android:text=&quot;Add&quot;\r\n            app:fabSize=&quot;normal&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nInputLayout.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:elevation=&quot;10dp&quot;\r\n        app:cardElevation=&quot;10dp&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;#000&quot;\r\n            android:layout_margin=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:gravity=&quot;center&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;What did you had spend on ?&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:textSize=&quot;20sp&quot;/&gt;\r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/spinner&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:background=&quot;#ffff00&quot;\r\n                    android:entries=&quot;@array/category&quot;/&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/insert_amount&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Please enter a amount:&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:textColorHint=&quot;#fff&quot;/&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/insert_note&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Please enter a note:&quot;\r\n                    android:textColor=&quot;#fff&quot;\r\n                    android:textColorHint=&quot;#fff&quot;/&gt;\r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/cancel_button&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Cancel&quot;\r\n                        android:textAllCaps=&quot;false&quot;\r\n                        android:textColor=&quot;#000&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:background=&quot;#fff&quot;\r\n                        android:layout_margin=&quot;2dp&quot;/&gt;\r\n    \r\n                &lt;/RelativeLayout&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/add_button&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Add Transaction&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textColor=&quot;#000&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:background=&quot;#ffff00&quot;\r\n                    android:layout_margin=&quot;2dp&quot;/&gt;\r\n    \r\n            &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\nstrings.xml\r\n\r\n    &lt;resources&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;PracticalAssignment&lt;/string&gt;\r\n        &lt;string-array name=&quot;category&quot;&gt;\r\n            &lt;item&gt;Select a category&lt;/item&gt;\r\n            &lt;item&gt;Petrol Spend&lt;/item&gt;\r\n            &lt;item&gt;Groceries Spend&lt;/item&gt;\r\n            &lt;item&gt;eWallet Transaction&lt;/item&gt;\r\n            &lt;item&gt;Other Eligible Spend&lt;/item&gt;\r\n    \r\n        &lt;/string-array&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\n","title":"Android Studio RecyclerView: Why always ( No adapter attached; skipping layout )","body":"<p>I am a student who currently taking mobile application development. Although my app can run  but it doesnt show any activity instead of just give me W/RecyclerView: No adapter attached; skipping layout. I dont know how to solve the issue, so I was hoping can get some guidlines from experts.</p>\n<p>Here is my code\nMainActivity.java</p>\n<pre><code>package my.edu.utar.practicalassignment;\n\nimport android.app.AlertDialog;\nimport android.app.ProgressDialog;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Toolbar tool;\n    private TextView textView;\n    private RecyclerView recyclerView;\n    private Button AddBtn;\n    RecyclerView.LayoutManager layoutManager;\n\n\n    private FirebaseAuth auth;\n    private DatabaseReference ref;\n    private String userID  = &quot;&quot;;\n    private ProgressDialog progressDialog;\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tool = findViewById(R.id.toolbar);\n        setSupportActionBar(tool);\n        //getSupportActionBar().setTitle(&quot;Today's Spending&quot;);\n\n        textView=findViewById(R.id.totalCashBack);\n        recyclerView =findViewById(R.id.recycle_view);\n//        recyclerView =(RecyclerView)findViewById(R.id.recycleView);\n//        layoutManager = new LinearLayoutManager(this);\n//        recyclerView.setLayoutManager(layoutManager);\n\n        AddBtn = findViewById(R.id.add_new);\n\n\n        auth = FirebaseAuth.getInstance();\n        userID = auth.getCurrentUser().getUid();\n        ref = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\n\n\n//        if(userID !=null){\n//            try{\n//                ref = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\n//\n//            }catch (NullPointerException ex){\n//                ex.printStackTrace();\n//            }\n//        }\n\n        progressDialog = new ProgressDialog(this);\n\n        AddBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                addItem();\n            }\n        });\n\n\n\n    }\n\n\n    private void addItem() {\n        AlertDialog.Builder alert = new AlertDialog.Builder(this);\n        LayoutInflater layout = LayoutInflater.from(this);\n\n        View view = layout.inflate(R.layout.input_layout, null);\n        alert.setView(view);\n\n        final AlertDialog dialog = alert.create();\n        dialog.setCancelable(false);\n\n        final Spinner spinnerItem = view.findViewById(R.id.spinner);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.category));\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerItem.setAdapter(adapter);\n\n        final EditText amount = view.findViewById(R.id.insert_amount);\n        final EditText notes = view.findViewById(R.id.insert_note);\n        final Button saveButton = view.findViewById(R.id.add_button);\n        final Button cancelButton = view.findViewById(R.id.cancel_button);\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String amountGet = amount.getText().toString();\n                String notesGet = notes.getText().toString();\n                String categoryGet = spinnerItem.getSelectedItem().toString();\n\n                Drawable icon = getResources().getDrawable(R.drawable.error);\n\n                if(amountGet.isEmpty()){\n                    amount.setError(&quot;Please enter an amount!!!&quot;, icon );\n                    return;\n                }\n\n                if(notesGet.isEmpty()){\n                    notes.setError(&quot;Please enter a notes!!!&quot;, icon );\n                    return;\n                }\n\n                if(categoryGet.equals(&quot;Select a Category&quot;)){\n                    Toast.makeText(MainActivity.this, &quot;Please select a valid category&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    progressDialog.setMessage(&quot;Had added the information into database&quot;);\n                    progressDialog.setCanceledOnTouchOutside(false);\n                    progressDialog.show();\n\n                    String id = ref.push().getKey();\n\n                    DateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n                    Calendar calendar = Calendar.getInstance();\n                    String date = format.format(calendar.getTime());\n\n                    Data inform = new Data(categoryGet, date, id, notesGet, Integer.parseInt(amountGet));\n                    ref.child(id).setValue(inform).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if(task.isSuccessful()){\n                                Toast.makeText(MainActivity.this, &quot;Information added successfully&quot;, Toast.LENGTH_SHORT).show();\n                            }else{\n                                Toast.makeText(MainActivity.this, &quot;Fail to add the information&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            progressDialog.dismiss();\n                        }\n                    });\n                }\n                dialog.dismiss();\n\n            }\n        });\n\n        cancelButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                dialog.dismiss();\n            }\n        });\n\n\n\n    }\n}\n</code></pre>\n<p>MainActivity.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#000&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;#ffff00&quot;\n            android:elevation=&quot;4dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/totalCashBack&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot; Total Cash Back = RM 0&quot;\n            android:textColor=&quot;#fff&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recycle_view&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;556dp&quot; /&gt;\n\n\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_new&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_margin=&quot;16dp&quot;\n        android:backgroundTint=&quot;#ffff00&quot;\n        android:text=&quot;Add&quot;\n        app:fabSize=&quot;normal&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>InputLayout.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:elevation=&quot;10dp&quot;\n    app:cardElevation=&quot;10dp&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;#000&quot;\n        android:layout_margin=&quot;10dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:gravity=&quot;center&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;What did you had spend on ?&quot;\n                android:gravity=&quot;center&quot;\n                android:textColor=&quot;#fff&quot;\n                android:textStyle=&quot;bold&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:textSize=&quot;20sp&quot;/&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;Spinner\n                android:id=&quot;@+id/spinner&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                android:background=&quot;#ffff00&quot;\n                android:entries=&quot;@array/category&quot;/&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/insert_amount&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Please enter a amount:&quot;\n                android:textColor=&quot;#fff&quot;\n                android:inputType=&quot;number&quot;\n                android:textColorHint=&quot;#fff&quot;/&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/insert_note&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Please enter a note:&quot;\n                android:textColor=&quot;#fff&quot;\n                android:textColorHint=&quot;#fff&quot;/&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/cancel_button&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Cancel&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textColor=&quot;#000&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:background=&quot;#fff&quot;\n                    android:layout_margin=&quot;2dp&quot;/&gt;\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;RelativeLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/add_button&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Add Transaction&quot;\n                android:textAllCaps=&quot;false&quot;\n                android:textColor=&quot;#000&quot;\n                android:textStyle=&quot;bold&quot;\n                android:background=&quot;#ffff00&quot;\n                android:layout_margin=&quot;2dp&quot;/&gt;\n\n        &lt;/RelativeLayout&gt;\n\n\n\n        &lt;/LinearLayout&gt;\n\n\n\n    &lt;/LinearLayout&gt;\n\n\n\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>strings.xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;PracticalAssignment&lt;/string&gt;\n    &lt;string-array name=&quot;category&quot;&gt;\n        &lt;item&gt;Select a category&lt;/item&gt;\n        &lt;item&gt;Petrol Spend&lt;/item&gt;\n        &lt;item&gt;Groceries Spend&lt;/item&gt;\n        &lt;item&gt;eWallet Transaction&lt;/item&gt;\n        &lt;item&gt;Other Eligible Spend&lt;/item&gt;\n\n    &lt;/string-array&gt;\n\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1548929291,"creation_date":1548928861,"answer_id":54457947,"question_id":54457496,"body_markdown":"You send array of bytes and try to receive string.\r\n\r\nChange `process(String message)` to `process(byte[] message)`.\r\n\r\nOther option is to set \r\n\r\n    MessageProperties messageProperties = new MessageProperties();\r\n    messageProperties.setContentType(MessageProperties.CONTENT_TYPE_TEXT_PLAIN);\r\n    messageProperties.setContentEncoding(this.defaultCharset);\r\n\r\nand pass it to \r\n\r\n    channel.basicPublish(&quot;testExchange&quot;, &quot;test&quot;, messageProperties, message.getBytes());\r\n\r\nSee `SimpleMessageConverter.createMessage` for reference.\r\n\r\nOr you can use `RabbitTemplate` it will do it for you.","title":"rabbitmq throws the AmqpException: No method found for class [B","body":"<p>You send array of bytes and try to receive string.</p>\n\n<p>Change <code>process(String message)</code> to <code>process(byte[] message)</code>.</p>\n\n<p>Other option is to set </p>\n\n<pre><code>MessageProperties messageProperties = new MessageProperties();\nmessageProperties.setContentType(MessageProperties.CONTENT_TYPE_TEXT_PLAIN);\nmessageProperties.setContentEncoding(this.defaultCharset);\n</code></pre>\n\n<p>and pass it to </p>\n\n<pre><code>channel.basicPublish(\"testExchange\", \"test\", messageProperties, message.getBytes());\n</code></pre>\n\n<p>See <code>SimpleMessageConverter.createMessage</code> for reference.</p>\n\n<p>Or you can use <code>RabbitTemplate</code> it will do it for you.</p>\n"},{"tags":[],"owner":{"account_id":11054958,"reputation":397,"user_id":8118030,"display_name":"pankaj pundir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655208291,"creation_date":1655208291,"answer_id":72616671,"question_id":54457496,"body_markdown":"In my case, I have passed a different class to the publisher and expected a different class as listener.","title":"rabbitmq throws the AmqpException: No method found for class [B","body":"<p>In my case, I have passed a different class to the publisher and expected a different class as listener.</p>\n"},{"tags":[],"owner":{"account_id":81244,"reputation":742,"user_id":229205,"accept_rate":75,"display_name":"imikay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658574332,"creation_date":1658574332,"answer_id":73090187,"question_id":54457496,"body_markdown":"Odds enough, the code works for days, this problem suddenly appears, I don&#39;t know what&#39;s wrong, solved with just move @RabbitListener from class to method, along with @RabbitHandler. ","title":"rabbitmq throws the AmqpException: No method found for class [B","body":"<p>Odds enough, the code works for days, this problem suddenly appears, I don't know what's wrong, solved with just move @RabbitListener from class to method, along with @RabbitHandler.</p>\n"}],"owner":{"account_id":15214747,"reputation":73,"user_id":10978418,"display_name":"Kenho Lyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7606,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54457947,"answer_count":3,"score":7,"last_activity_date":1658574332,"creation_date":1548927536,"question_id":54457496,"body_markdown":"When I send a message to the RabbitMQ, then it throws a AmqpException for loop:\r\n\r\n \r\n\r\n    org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException\r\n    \r\n        : Listener method &#39;no match&#39; threw exception\r\n        \tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:198) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1521) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1444) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1431) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1410) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:848) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:832) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$700(SimpleMessageListenerContainer.java:78) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1073) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\r\n        Caused by: org.springframework.amqp.AmqpException: No method found for class [B\r\n        \tat org.springframework.amqp.rabbit.listener.adapter.DelegatingInvocableHandler.getHandlerForPayload(DelegatingInvocableHandler.java:149) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.adapter.DelegatingInvocableHandler.invoke(DelegatingInvocableHandler.java:129) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:60) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\r\n        \t... 10 common frames omitted\r\n\r\nI tried to add class-level @RabbitListener but it didn&#39;t work\r\n\r\n    @Component\r\n    @RabbitListener(queues = &quot;test&quot;, containerFactory=&quot;rabbitListenerContainerFactory&quot;)\r\n    public class ReceiverTwo {\r\n    \r\n        @RabbitHandler\r\n        public void process(String message) {\r\n            System.out.println(&quot;Receiver: &quot; + message);\r\n        }\r\n    }\r\n\r\nThe PRODUCER side :\r\n\r\n    @Test\r\n    public void publishTest() throws IOException {\r\n        channel.exchangeDeclare(&quot;testExchange&quot;, &quot;direct&quot;, true);\r\n        channel.queueBind(&quot;many&quot;, &quot;testExchange&quot;, &quot;many&quot;);\r\n        String message = &quot;The test message&quot;;\r\n        channel.basicPublish(&quot;testExchange&quot;, &quot;test&quot;,null, message.getBytes());\r\n    }\r\nThe CONSUMER side :\r\n\r\n    @Component\r\n    @RabbitListener(queues = &quot;test&quot;)\r\n    public class ReceiverTwo {\r\n        @RabbitHandler\r\n        public void process(String message) {\r\n            System.out.println(&quot;Receiver: &quot; + message);\r\n        }\r\n    }\r\n\r\n\r\n","title":"rabbitmq throws the AmqpException: No method found for class [B","body":"<p>When I send a message to the RabbitMQ, then it throws a AmqpException for loop:</p>\n\n<pre><code>org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException\n\n    : Listener method 'no match' threw exception\n        at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:198) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1521) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1444) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1431) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1410) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:848) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:832) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$700(SimpleMessageListenerContainer.java:78) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1073) [spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\n    Caused by: org.springframework.amqp.AmqpException: No method found for class [B\n        at org.springframework.amqp.rabbit.listener.adapter.DelegatingInvocableHandler.getHandlerForPayload(DelegatingInvocableHandler.java:149) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.adapter.DelegatingInvocableHandler.invoke(DelegatingInvocableHandler.java:129) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:60) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190) ~[spring-rabbit-2.1.2.RELEASE.jar:2.1.2.RELEASE]\n        ... 10 common frames omitted\n</code></pre>\n\n<p>I tried to add class-level @RabbitListener but it didn't work</p>\n\n<pre><code>@Component\n@RabbitListener(queues = \"test\", containerFactory=\"rabbitListenerContainerFactory\")\npublic class ReceiverTwo {\n\n    @RabbitHandler\n    public void process(String message) {\n        System.out.println(\"Receiver: \" + message);\n    }\n}\n</code></pre>\n\n<p>The PRODUCER side :</p>\n\n<pre><code>@Test\npublic void publishTest() throws IOException {\n    channel.exchangeDeclare(\"testExchange\", \"direct\", true);\n    channel.queueBind(\"many\", \"testExchange\", \"many\");\n    String message = \"The test message\";\n    channel.basicPublish(\"testExchange\", \"test\",null, message.getBytes());\n}\n</code></pre>\n\n<p>The CONSUMER side :</p>\n\n<pre><code>@Component\n@RabbitListener(queues = \"test\")\npublic class ReceiverTwo {\n    @RabbitHandler\n    public void process(String message) {\n        System.out.println(\"Receiver: \" + message);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1658555439,"post_id":73088301,"comment_id":129085485,"body_markdown":"Is there a reason you aren&#39;t using the [Activity Result APIs](https://developer.android.com/training/basics/intents/result), which provide a [prebuilt intent for selecting images](https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.GetMultipleContents) that handles all of this for you parsing logic for you? Note that none of this MediaStore stuff is required at all - the Uri is enough for everything you want to do with it.","body":"Is there a reason you aren&#39;t using the <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">Activity Result APIs</a>, which provide a <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.GetMultipleContents\" rel=\"nofollow noreferrer\">prebuilt intent for selecting images</a> that handles all of this for you parsing logic for you? Note that none of this MediaStore stuff is required at all - the Uri is enough for everything you want to do with it."},{"owner":{"account_id":10356018,"reputation":336,"user_id":9530982,"display_name":"Fauricio Valencia"},"score":0,"creation_date":1658555869,"post_id":73088301,"comment_id":129085538,"body_markdown":"@ianhanniballake yep, this project where I&#39;m working is legacy, so, I trying to re use the logic that has inside of the project because my concern if I use something different I could broke something for some incompatibility.","body":"@ianhanniballake yep, this project where I&#39;m working is legacy, so, I trying to re use the logic that has inside of the project because my concern if I use something different I could broke something for some incompatibility."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658574123,"creation_date":1658574123,"answer_id":73090167,"question_id":73088301,"body_markdown":"&gt; I&#39;m getting the format of selectedImage as... that is different vs:\r\n\r\nSo? You are going to get `Uri` values with many different structures, based on the apps that handle the request.\r\n\r\nYour problem is not the way the `Uri` looks. Your problem is in assuming that every `Uri` can be queried for a `DATA` column, and that the result of that query is a filesystem path that is usable. Neither of those things is true.\r\n\r\nYour `ACTION_PICK` code is unreliable:\r\n\r\n- There is no requirement that you can use the filesystem path. On many versions of Android, `MediaStore` will have filesystem access to content that your app cannot reach via the filesystem, even if you knew the path.\r\n\r\n- `DATA` can return `null`, due to some poorly-written apps that populate `MediaStore`. I have not heard of this problem in recent years, so perhaps it is less of a concern than it used to be.\r\n\r\nHowever, the query-for-`DATA` script-kiddie hack will *at most* work for a `Uri` that you get from `MediaStore`, such as via `ACTION_PICK`. It will not work for a `Uri` value that you get from anything else, such as `ACTION_GET_CONTENT`.\r\n\r\nSo, as Ian suggests, use the `Uri` correctly. If your objective is to load the image, pass the `Uri` to your favorite image-loading library (Glide, Picasso, etc.). Otherwise, use `ContentResolver` with the `Uri`, such as `openInputStream()` and `getType()`. This will work with any `Uri` pointing to an image, whether from `ACTION_PICK`, `ACTION_GET_CONTENT`, `ACTION_OPEN_DOCUMENT`, or something else.","title":"Why I get different answer when I use data.getData() vs data.getClipData().getItemAt(i).getUri()","body":"<blockquote>\n<p>I'm getting the format of selectedImage as... that is different vs:</p>\n</blockquote>\n<p>So? You are going to get <code>Uri</code> values with many different structures, based on the apps that handle the request.</p>\n<p>Your problem is not the way the <code>Uri</code> looks. Your problem is in assuming that every <code>Uri</code> can be queried for a <code>DATA</code> column, and that the result of that query is a filesystem path that is usable. Neither of those things is true.</p>\n<p>Your <code>ACTION_PICK</code> code is unreliable:</p>\n<ul>\n<li><p>There is no requirement that you can use the filesystem path. On many versions of Android, <code>MediaStore</code> will have filesystem access to content that your app cannot reach via the filesystem, even if you knew the path.</p>\n</li>\n<li><p><code>DATA</code> can return <code>null</code>, due to some poorly-written apps that populate <code>MediaStore</code>. I have not heard of this problem in recent years, so perhaps it is less of a concern than it used to be.</p>\n</li>\n</ul>\n<p>However, the query-for-<code>DATA</code> script-kiddie hack will <em>at most</em> work for a <code>Uri</code> that you get from <code>MediaStore</code>, such as via <code>ACTION_PICK</code>. It will not work for a <code>Uri</code> value that you get from anything else, such as <code>ACTION_GET_CONTENT</code>.</p>\n<p>So, as Ian suggests, use the <code>Uri</code> correctly. If your objective is to load the image, pass the <code>Uri</code> to your favorite image-loading library (Glide, Picasso, etc.). Otherwise, use <code>ContentResolver</code> with the <code>Uri</code>, such as <code>openInputStream()</code> and <code>getType()</code>. This will work with any <code>Uri</code> pointing to an image, whether from <code>ACTION_PICK</code>, <code>ACTION_GET_CONTENT</code>, <code>ACTION_OPEN_DOCUMENT</code>, or something else.</p>\n"}],"owner":{"account_id":10356018,"reputation":336,"user_id":9530982,"display_name":"Fauricio Valencia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658574123,"creation_date":1658554614,"question_id":73088301,"body_markdown":"Right now I&#39;m trying to implement pick a multiple photos from gallery.\r\nI already have the logic when is just to pick one photo from gallery that is works well.\r\n\r\n    Uri selectedImage = data.getData();\r\n\r\n\r\nand when I debug, I&#39;m getting the format of this way: \r\n\r\n    content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F26/ORIGINAL/NONE/image%2Fpng/1642097413\r\n\r\nfor then use:\r\n\r\n \r\n\r\n    Cursor cursor;\r\n     int columnIndex;\r\n     String picturePath = &quot;&quot;;\r\n     String[] filePathColumn = {MediaStore.Images.Media.DATA};\r\n     \r\n     cursor = getContentResolver().query(selectedImage,filePathColumn, null, null, null);\r\n\r\nand everything works well for single photo.\r\n\r\nbut, when I tried to implement the logic for multiple photos where I use:\r\n\r\n    ClipData clipData = data.getClipData();// where I get all the photos I selected\r\n    if (clipData != null) {\r\n                    for (int i = 0; i &lt; clipData.getItemCount(); i++) {\r\n    \r\n                        try {\r\n                            String[] filePathColumn = {MediaStore.Images.Media.DATA};\r\n                            ClipData.Item item = clipData.getItemAt(i);\r\n                            Uri selectedImage = item.getUri();\r\n                            ....\r\n\r\nI&#39;m getting the format of `selectedImage` as:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthat is different vs:\r\n\r\n    content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F26/ORIGINAL/NONE/image%2Fpng/1642097413\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P4uY4.jpg\r\n\r\n\r\n[extra information]:\r\n\r\n**Way to pick just one photo from gallery**\r\n\r\n    private static int RESULT_LOAD_IMAGE = 1;\r\n    Intent i = new Intent(\r\n                        Intent.ACTION_PICK,\r\n                        android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n    \r\n                startActivityForResult(i, RESULT_LOAD_IMAGE);\r\n\r\n**Way to pick multiple photos from gallery**\r\n\r\n    private static final int CODE_MULTIPLE_IMG_GALLERY = 2;\r\n    Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;selecciona varias imagenes&quot;), CODE_MULTIPLE_IMG_GALLERY);\r\n\r\n","title":"Why I get different answer when I use data.getData() vs data.getClipData().getItemAt(i).getUri()","body":"<p>Right now I'm trying to implement pick a multiple photos from gallery.\nI already have the logic when is just to pick one photo from gallery that is works well.</p>\n<pre><code>Uri selectedImage = data.getData();\n</code></pre>\n<p>and when I debug, I'm getting the format of this way:</p>\n<pre><code>content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F26/ORIGINAL/NONE/image%2Fpng/1642097413\n</code></pre>\n<p>for then use:</p>\n<pre><code>Cursor cursor;\n int columnIndex;\n String picturePath = &quot;&quot;;\n String[] filePathColumn = {MediaStore.Images.Media.DATA};\n \n cursor = getContentResolver().query(selectedImage,filePathColumn, null, null, null);\n</code></pre>\n<p>and everything works well for single photo.</p>\n<p>but, when I tried to implement the logic for multiple photos where I use:</p>\n<pre><code>ClipData clipData = data.getClipData();// where I get all the photos I selected\nif (clipData != null) {\n                for (int i = 0; i &lt; clipData.getItemCount(); i++) {\n\n                    try {\n                        String[] filePathColumn = {MediaStore.Images.Media.DATA};\n                        ClipData.Item item = clipData.getItemAt(i);\n                        Uri selectedImage = item.getUri();\n                        ....\n</code></pre>\n<p>I'm getting the format of <code>selectedImage</code> as:</p>\n<p><a href=\"https://i.stack.imgur.com/P4uY4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4uY4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>that is different vs:</p>\n<pre><code>content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F26/ORIGINAL/NONE/image%2Fpng/1642097413\n</code></pre>\n<p>[extra information]:</p>\n<p><strong>Way to pick just one photo from gallery</strong></p>\n<pre><code>private static int RESULT_LOAD_IMAGE = 1;\nIntent i = new Intent(\n                    Intent.ACTION_PICK,\n                    android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n\n            startActivityForResult(i, RESULT_LOAD_IMAGE);\n</code></pre>\n<p><strong>Way to pick multiple photos from gallery</strong></p>\n<pre><code>private static final int CODE_MULTIPLE_IMG_GALLERY = 2;\nIntent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent, &quot;selecciona varias imagenes&quot;), CODE_MULTIPLE_IMG_GALLERY);\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658570099,"creation_date":1658570099,"answer_id":73089727,"question_id":73089690,"body_markdown":" &gt; why my setter wont change the email when its called?\r\n\r\nIt does.  You&#39;re just never observing that change because your program never outputs that value.\r\n\r\nYou&#39;re outputting your *crew* values:\r\n\r\n    System.out.println(&quot;===Second crew ===\\n&quot; + secondCrew);\r\n\r\nThis uses your `.toString()` method to generate that output.  But what does a &quot;crew&quot; object contain?  It *doesn&#39;t* contain the &quot;sailor&quot; objects you provided to it.  It contains *copies* of them:\r\n\r\n    public void addCrewMember(Sailor sailor) {\r\n        sailorList.add(new Sailor(sailor.getName(), sailor.getEmail()));\r\n    }\r\n\r\nSo your order of operations is:\r\n\r\n 1. Create a `Sailor` object.\r\n 2. Create a `Crew` object.\r\n 3. Add *a copy of* the `Sailor` to the `Crew`.\r\n 4. Modify the original `Sailor`.\r\n 5. Print the `Crew`.\r\n\r\nInstead of creating *a copy*, just add the `Sailor` itself to the `Crew`:\r\n\r\n    public void addCrewMember(Sailor sailor) {\r\n        sailorList.add(sailor);\r\n    }\r\n\r\nThen any changes you make to those `Sailor` objects will be visible in that `Crew`.","title":"Javas setter method don&#39;t change email when needed","body":"<blockquote>\n<p>why my setter wont change the email when its called?</p>\n</blockquote>\n<p>It does.  You're just never observing that change because your program never outputs that value.</p>\n<p>You're outputting your <em>crew</em> values:</p>\n<pre><code>System.out.println(&quot;===Second crew ===\\n&quot; + secondCrew);\n</code></pre>\n<p>This uses your <code>.toString()</code> method to generate that output.  But what does a &quot;crew&quot; object contain?  It <em>doesn't</em> contain the &quot;sailor&quot; objects you provided to it.  It contains <em>copies</em> of them:</p>\n<pre><code>public void addCrewMember(Sailor sailor) {\n    sailorList.add(new Sailor(sailor.getName(), sailor.getEmail()));\n}\n</code></pre>\n<p>So your order of operations is:</p>\n<ol>\n<li>Create a <code>Sailor</code> object.</li>\n<li>Create a <code>Crew</code> object.</li>\n<li>Add <em>a copy of</em> the <code>Sailor</code> to the <code>Crew</code>.</li>\n<li>Modify the original <code>Sailor</code>.</li>\n<li>Print the <code>Crew</code>.</li>\n</ol>\n<p>Instead of creating <em>a copy</em>, just add the <code>Sailor</code> itself to the <code>Crew</code>:</p>\n<pre><code>public void addCrewMember(Sailor sailor) {\n    sailorList.add(sailor);\n}\n</code></pre>\n<p>Then any changes you make to those <code>Sailor</code> objects will be visible in that <code>Crew</code>.</p>\n"},{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658570191,"creation_date":1658570191,"answer_id":73089737,"question_id":73089690,"body_markdown":"You are creating new sailors with this call:\r\n\r\n    public void addCrewMember(Sailor sailor) {\r\n        sailorList.add(new Sailor(sailor.getName(), sailor.getEmail()));\r\n    }\r\n\r\nSo you are copying the data and not adding the original sailor. So changing the original sailor has no effect.\r\n","title":"Javas setter method don&#39;t change email when needed","body":"<p>You are creating new sailors with this call:</p>\n<pre><code>public void addCrewMember(Sailor sailor) {\n    sailorList.add(new Sailor(sailor.getName(), sailor.getEmail()));\n}\n</code></pre>\n<p>So you are copying the data and not adding the original sailor. So changing the original sailor has no effect.</p>\n"}],"owner":{"account_id":25510187,"reputation":9,"user_id":19301993,"display_name":"Enerqia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73089727,"answer_count":2,"score":-1,"last_activity_date":1658573261,"creation_date":1658569677,"question_id":73089690,"body_markdown":"i created setter in sailor class and i want to change email in main class but why my setter wont change the email when its called? \r\n\r\ni have tried to change the setter content and implement things to crew class toString method but i cant get it to work, any ideas?\r\n\r\n```java\r\n\r\nimport java.util.ArrayList;\r\n\r\nclass Sailor {\r\n   private String name;\r\n   private String email;\r\n\r\n   public Sailor(String name, String email) {\r\n      this.email = email;\r\n      this.name = name;\r\n   }\r\n\r\n   public String getName() {\r\n      return this.name;\r\n   }\r\n   \r\n   public String getEmail() {\r\n      return this.email;\r\n   }\r\n\r\n   public void setEmail(String email) {\r\n      this.email = email;\r\n   }\r\n}\r\n    \r\nclass Crew {\r\n   ArrayList&lt;Sailor&gt; sailorList = new ArrayList&lt;&gt;();\r\n\r\n   public Crew() {}\r\n\r\n   public void addCrewMember(Sailor sailor) {\r\n      sailorList.add(new Sailor(sailor.getName(), sailor.getEmail()));\r\n   }\r\n\r\n   public String toString() {\r\n      String content = &quot;&quot;;\r\n\r\n      for (int i = 0; i &lt; sailorList.size(); i++) {\r\n         content += sailorList.get(i).getName() + &quot; (&quot;;\r\n    \t content += sailorList.get(i).getEmail() + &quot;) \\n&quot;;\r\n      }\r\n      return content;\r\n   }\r\n}\r\n    \r\nclass ObjectsCrewProgram {\r\n\r\n   public static void main(String[] args) {\r\n      Sailor firstSailor = new Sailor(&quot;Frank&quot;, &quot;frank@mail.com&quot;);\r\n      Sailor secondSailor = new Sailor(&quot;Susan&quot;, &quot;susan@mail.com&quot;);\r\n      Sailor thirdSailor = new Sailor(&quot;John&quot;, &quot;john@sailors.com&quot;);\r\n      Sailor fourthSailor = new Sailor(&quot;Ann&quot;, &quot;ann@sailors.com&quot;);\t\t\r\n      Crew firstCrew = new Crew();\r\n      Crew secondCrew = new Crew();\r\n      firstCrew.addCrewMember(firstSailor);\r\n      firstCrew.addCrewMember(secondSailor);\r\n      firstCrew.addCrewMember(fourthSailor);\r\n      secondCrew.addCrewMember(thirdSailor);\r\n      secondCrew.addCrewMember(secondSailor);\r\n      System.out.println(&quot;=== First crew ===\\n&quot; + firstCrew); \r\n      System.out.println(&quot;=== Second crew ===\\n&quot; + secondCrew);\r\n      secondSailor.setEmail(&quot;Susan@sailors.com&quot;);\r\n      System.out.println(&quot;===Second crew ===\\n&quot; + secondCrew);\r\n   }\r\n}\r\n```","title":"Javas setter method don&#39;t change email when needed","body":"<p>i created setter in sailor class and i want to change email in main class but why my setter wont change the email when its called?</p>\n<p>i have tried to change the setter content and implement things to crew class toString method but i cant get it to work, any ideas?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.ArrayList;\n\nclass Sailor {\n   private String name;\n   private String email;\n\n   public Sailor(String name, String email) {\n      this.email = email;\n      this.name = name;\n   }\n\n   public String getName() {\n      return this.name;\n   }\n   \n   public String getEmail() {\n      return this.email;\n   }\n\n   public void setEmail(String email) {\n      this.email = email;\n   }\n}\n    \nclass Crew {\n   ArrayList&lt;Sailor&gt; sailorList = new ArrayList&lt;&gt;();\n\n   public Crew() {}\n\n   public void addCrewMember(Sailor sailor) {\n      sailorList.add(new Sailor(sailor.getName(), sailor.getEmail()));\n   }\n\n   public String toString() {\n      String content = &quot;&quot;;\n\n      for (int i = 0; i &lt; sailorList.size(); i++) {\n         content += sailorList.get(i).getName() + &quot; (&quot;;\n         content += sailorList.get(i).getEmail() + &quot;) \\n&quot;;\n      }\n      return content;\n   }\n}\n    \nclass ObjectsCrewProgram {\n\n   public static void main(String[] args) {\n      Sailor firstSailor = new Sailor(&quot;Frank&quot;, &quot;frank@mail.com&quot;);\n      Sailor secondSailor = new Sailor(&quot;Susan&quot;, &quot;susan@mail.com&quot;);\n      Sailor thirdSailor = new Sailor(&quot;John&quot;, &quot;john@sailors.com&quot;);\n      Sailor fourthSailor = new Sailor(&quot;Ann&quot;, &quot;ann@sailors.com&quot;);       \n      Crew firstCrew = new Crew();\n      Crew secondCrew = new Crew();\n      firstCrew.addCrewMember(firstSailor);\n      firstCrew.addCrewMember(secondSailor);\n      firstCrew.addCrewMember(fourthSailor);\n      secondCrew.addCrewMember(thirdSailor);\n      secondCrew.addCrewMember(secondSailor);\n      System.out.println(&quot;=== First crew ===\\n&quot; + firstCrew); \n      System.out.println(&quot;=== Second crew ===\\n&quot; + secondCrew);\n      secondSailor.setEmail(&quot;Susan@sailors.com&quot;);\n      System.out.println(&quot;===Second crew ===\\n&quot; + secondCrew);\n   }\n}\n</code></pre>\n"},{"tags":["java","android","file-io"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1587726145,"post_id":61406818,"comment_id":108628907,"body_markdown":"The reason is that you are on Android Q where that path is unavailable.","body":"The reason is that you are on Android Q where that path is unavailable."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1587726213,"post_id":61406818,"comment_id":108628942,"body_markdown":"If you are not on Android Q then you did not implement runtime permission.","body":"If you are not on Android Q then you did not implement runtime permission."},{"owner":{"account_id":207402,"reputation":175,"user_id":457233,"display_name":"Peter"},"score":0,"creation_date":1667590074,"post_id":61406818,"comment_id":131210757,"body_markdown":"I am seeing this error under Android 12.  I can copy an M3U8 playlist file to the public DCIM folder from my APK asset folder in my app. So I can create the file OK. However when I try to append updated MP4 entries to the playlist (which I have created in the DCIM folder) the OS then creates the exception because of the file extension &quot;M3U8&quot; which is not a typical file extension to be found in the DCIM folder. So I believe the OS is policing public folders according to file type/extension.","body":"I am seeing this error under Android 12.  I can copy an M3U8 playlist file to the public DCIM folder from my APK asset folder in my app. So I can create the file OK. However when I try to append updated MP4 entries to the playlist (which I have created in the DCIM folder) the OS then creates the exception because of the file extension &quot;M3U8&quot; which is not a typical file extension to be found in the DCIM folder. So I believe the OS is policing public folders according to file type/extension."}],"answers":[{"tags":[],"owner":{"account_id":13394012,"reputation":157,"user_id":9665560,"display_name":"adriangc"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1587726546,"creation_date":1587726546,"answer_id":61406983,"question_id":61406818,"body_markdown":"The permission system in android is very strict, you must take this into account when writing to internal memory\r\nTry something like this:\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n       Button save;\r\n       Bitmap bitmap;\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n          Drawable drawable = getResources().getDrawable(R.drawable.mario);\r\n          bitmap = ((BitmapDrawable) drawable).getBitmap();\r\n          save = findViewById(R.id.save);\r\n          save.setOnClickListener(new View.OnClickListener() {\r\n             @Override\r\n             public void onClick(View v) {\r\n                ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n                File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n                File file = new File(directory, &quot;UniqueFileName&quot; + &quot;.jpg&quot;);\r\n                if (!file.exists()) {\r\n                   Log.d(&quot;path&quot;, file.toString());\r\n                   FileOutputStream fos = null;\r\n                   try {\r\n                      fos = new FileOutputStream(file);\r\n                      bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n                      fos.flush();\r\n                      fos.close();\r\n                   } catch (java.io.IOException e) {\r\n                      e.printStackTrace();\r\n                   }\r\n                }\r\n             }\r\n          });\r\n       }\r\n    }","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>The permission system in android is very strict, you must take this into account when writing to internal memory\nTry something like this:</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity {\n   Button save;\n   Bitmap bitmap;\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n      Drawable drawable = getResources().getDrawable(R.drawable.mario);\n      bitmap = ((BitmapDrawable) drawable).getBitmap();\n      save = findViewById(R.id.save);\n      save.setOnClickListener(new View.OnClickListener() {\n         @Override\n         public void onClick(View v) {\n            ContextWrapper cw = new ContextWrapper(getApplicationContext());\n            File directory = cw.getDir(\"imageDir\", Context.MODE_PRIVATE);\n            File file = new File(directory, \"UniqueFileName\" + \".jpg\");\n            if (!file.exists()) {\n               Log.d(\"path\", file.toString());\n               FileOutputStream fos = null;\n               try {\n                  fos = new FileOutputStream(file);\n                  bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n                  fos.flush();\n                  fos.close();\n               } catch (java.io.IOException e) {\n                  e.printStackTrace();\n               }\n            }\n         }\n      });\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7980999,"reputation":500,"user_id":6022358,"display_name":"Rogier"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1602755142,"creation_date":1602755142,"answer_id":64368904,"question_id":61406818,"body_markdown":"As a temporary fix you could do: In your `android/app/src/main/AndroidManifest.xml` file, at \r\n\r\n```\r\n&lt;application android:label=&quot;APPNAME&quot; android:icon=&quot;ICONNAME&quot; ...&gt;\r\n```\r\n\r\nadd `android:requestLegacyExternalStorage=&quot;true&quot;`, like so:\r\n\r\n```\r\n&lt;application android:label=&quot;APPNAME&quot; android:icon=&quot;ICONNAME&quot; android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n```\r\n\r\nIt will then use the pre-Android 10 way of requesting access to storage, so you can still save your file as you could earlier. \r\n\r\n_But caution: After you update your app to target Android 11 (API level 30), the system ignores the requestLegacyExternalStorage attribute when your app is running on Android 11 devices, so your app must be ready to support scoped storage and to migrate app data for users on those devices. See https://developer.android.com/training/data-storage/use-cases#opt-out-scoped-storage for more info_","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>As a temporary fix you could do: In your <code>android/app/src/main/AndroidManifest.xml</code> file, at</p>\n<pre><code>&lt;application android:label=&quot;APPNAME&quot; android:icon=&quot;ICONNAME&quot; ...&gt;\n</code></pre>\n<p>add <code>android:requestLegacyExternalStorage=&quot;true&quot;</code>, like so:</p>\n<pre><code>&lt;application android:label=&quot;APPNAME&quot; android:icon=&quot;ICONNAME&quot; android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n</code></pre>\n<p>It will then use the pre-Android 10 way of requesting access to storage, so you can still save your file as you could earlier.</p>\n<p><em>But caution: After you update your app to target Android 11 (API level 30), the system ignores the requestLegacyExternalStorage attribute when your app is running on Android 11 devices, so your app must be ready to support scoped storage and to migrate app data for users on those devices. See <a href=\"https://developer.android.com/training/data-storage/use-cases#opt-out-scoped-storage\" rel=\"noreferrer\">https://developer.android.com/training/data-storage/use-cases#opt-out-scoped-storage</a> for more info</em></p>\n"},{"tags":[],"owner":{"account_id":12367794,"reputation":472,"user_id":9019131,"display_name":"Razz"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1608095048,"creation_date":1608095048,"answer_id":65317625,"question_id":61406818,"body_markdown":"Add the following attribute in your app&#39;s Manifest.xml file inside the application tag:\r\n\r\n    android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\nFinally, it will look like this:\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n    ...\r\n    &lt;/application&gt;","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>Add the following attribute in your app's Manifest.xml file inside the application tag:</p>\n<pre><code>android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>Finally, it will look like this:</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n...\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16163774,"reputation":206,"user_id":11669229,"display_name":"Mehran Sahandi Far"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614597019,"creation_date":1614597019,"answer_id":66421033,"question_id":61406818,"body_markdown":"I would suggest to change it to \r\n\r\n            ContextWrapper cw = new ContextWrapper(mContext);\r\n        String fullPath =cw.getExternalFilesDir(Environment.DIRECTORY_MUSIC).toString();\r\n        File directory = cw.getExternalFilesDir(Environment.DIRECTORY_MUSIC);\r\n\r\n\r\ncheck it here https://www.programmersought.com/article/50766505696/","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>I would suggest to change it to</p>\n<pre><code>        ContextWrapper cw = new ContextWrapper(mContext);\n    String fullPath =cw.getExternalFilesDir(Environment.DIRECTORY_MUSIC).toString();\n    File directory = cw.getExternalFilesDir(Environment.DIRECTORY_MUSIC);\n</code></pre>\n<p>check it here <a href=\"https://www.programmersought.com/article/50766505696/\" rel=\"noreferrer\">https://www.programmersought.com/article/50766505696/</a></p>\n"},{"tags":[],"owner":{"account_id":12171956,"reputation":186,"user_id":8886323,"display_name":"Frankdroid7"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1623685177,"creation_date":1623600605,"answer_id":67960275,"question_id":61406818,"body_markdown":"For me, changing both the `compileSdkVersion` and the `targetSdkVersion` to **30** solved the problem.","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>For me, changing both the <code>compileSdkVersion</code> and the <code>targetSdkVersion</code> to <strong>30</strong> solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":15185175,"reputation":374,"user_id":10957357,"display_name":"Makwana Mehul"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1627973893,"creation_date":1627973893,"answer_id":68631626,"question_id":61406818,"body_markdown":"I got the issue\r\nIn android 11 &quot;:&quot; is not allowed in file name.\r\nAnd when you append date at the end of file name its add &quot;:&quot; at the end.\r\nso just replace all &quot;:&quot; with &quot;.&quot; and its working fine.\r\n\r\n```\r\n        String fileName = \r\n              System.currentTimeMillis().toString().replaceAll(&quot;:&quot;, &quot;.&quot;) + &quot;.jpg&quot;;\r\n\r\n```","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>I got the issue\nIn android 11 &quot;:&quot; is not allowed in file name.\nAnd when you append date at the end of file name its add &quot;:&quot; at the end.\nso just replace all &quot;:&quot; with &quot;.&quot; and its working fine.</p>\n<pre><code>        String fileName = \n              System.currentTimeMillis().toString().replaceAll(&quot;:&quot;, &quot;.&quot;) + &quot;.jpg&quot;;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21886877,"reputation":561,"user_id":16174415,"display_name":"Muhammad Basit Jamil Abbasi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1630744886,"creation_date":1630675495,"answer_id":69045678,"question_id":61406818,"body_markdown":"\r\nIn android 11 you can use this pattern\r\n\r\n```java\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD_MR1) {\r\n    mPath= getActivity().getExternalFilesDir(Environment.DIRECTORY_DCIM) + &quot;/&quot; + now + &quot;.jpeg&quot;;\r\n}\r\nelse\r\n{\r\n    mPath= Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + now + &quot;.jpeg&quot;;\r\n}\r\n```","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>In android 11 you can use this pattern</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD_MR1) {\n    mPath= getActivity().getExternalFilesDir(Environment.DIRECTORY_DCIM) + &quot;/&quot; + now + &quot;.jpeg&quot;;\n}\nelse\n{\n    mPath= Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + now + &quot;.jpeg&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20744323,"reputation":84,"user_id":15233215,"display_name":"Abbasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630752447,"creation_date":1630752447,"answer_id":69054593,"question_id":61406818,"body_markdown":"You can save photos in DCIM or create a directory in it in Android 11, which is a good pattern. I&#39;m having the same problem, however after I do this, everything works fine.\r\n\r\n \r\n\r\n       if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD_MR1) {\r\n        Yourpath= getActivity().getExternalFilesDir\r\n        (Environment.DIRECTORY_DCIM) + &quot;/&quot; + nameoffile + &quot;.jpeg&quot;;\r\n          }\r\n        else\r\n           {\r\n         \r\n           Yourpath=Environment.getExternalStorageDirectory()\r\n          .toString() + &quot;/&quot; + nameoffile + &quot;.jpeg&quot;;\r\n           }\r\n\r\nHappy Coding!\r\n","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>You can save photos in DCIM or create a directory in it in Android 11, which is a good pattern. I'm having the same problem, however after I do this, everything works fine.</p>\n<pre><code>   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD_MR1) {\n    Yourpath= getActivity().getExternalFilesDir\n    (Environment.DIRECTORY_DCIM) + &quot;/&quot; + nameoffile + &quot;.jpeg&quot;;\n      }\n    else\n       {\n     \n       Yourpath=Environment.getExternalStorageDirectory()\n      .toString() + &quot;/&quot; + nameoffile + &quot;.jpeg&quot;;\n       }\n</code></pre>\n<p>Happy Coding!</p>\n"},{"tags":[],"owner":{"account_id":2601556,"reputation":39,"user_id":2253783,"display_name":"Ivan Wibawa"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1631316210,"creation_date":1631316210,"answer_id":69138851,"question_id":61406818,"body_markdown":"you need to grant permission on the Android emulator:\r\n- touch your app in Android Emulator 2 seconds,\r\n- go to app info.\r\n\r\n[![app info on Android Emulator][1]][1]\r\n\r\n- go to permissions.\r\n- select Files and media\r\n- Allow management files.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uUzfE.png","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>you need to grant permission on the Android emulator:</p>\n<ul>\n<li>touch your app in Android Emulator 2 seconds,</li>\n<li>go to app info.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/uUzfE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uUzfE.png\" alt=\"app info on Android Emulator\" /></a></p>\n<ul>\n<li>go to permissions.</li>\n<li>select Files and media</li>\n<li>Allow management files.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3655305,"reputation":1297,"user_id":3046500,"accept_rate":100,"display_name":"Vaidas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638387616,"creation_date":1638387616,"answer_id":70190307,"question_id":61406818,"body_markdown":"Starting with SDK version 30, you can NOT extend `android:requestLegacyExternalStorage=&quot;true&quot;`. Instead modify you ImageLoader library a little. I see you have to modify you file path: `File dir = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Caramel&quot;);` into something like `File dir = new File(context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), &quot;Caramel&quot;);`. This should do a trick.","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>Starting with SDK version 30, you can NOT extend <code>android:requestLegacyExternalStorage=&quot;true&quot;</code>. Instead modify you ImageLoader library a little. I see you have to modify you file path: <code>File dir = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Caramel&quot;);</code> into something like <code>File dir = new File(context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), &quot;Caramel&quot;);</code>. This should do a trick.</p>\n"},{"tags":[],"owner":{"account_id":18587515,"reputation":366,"user_id":13545486,"display_name":"Jairo Rodriguez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647550065,"creation_date":1647550065,"answer_id":71518850,"question_id":61406818,"body_markdown":"This worked for me: **MANAGE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE**\r\n\r\nin file **pubspec.yaml**\r\n\r\n    dependencies:\r\n      flutter:\r\n        sdk: flutter\r\n      http: ^0.13.4\r\n      permission_handler: ^9.0.2\r\n      flutter_downloader: ^1.5.2\r\n      path_provider: ^2.0.9\r\n      external_path: ^1.0.1\r\n\r\nin file **AndroidManifest.xml**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n    &lt;application\r\n            android:label=&quot;ejemplo_test&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n    &lt;provider\r\n               android:name=&quot;vn.hunghd.flutterdownloader.DownloadedFileProvider&quot;\r\n               android:authorities=&quot;${applicationId}.flutter_downloader.provider&quot;\r\n               android:exported=&quot;false&quot;\r\n               android:grantUriPermissions=&quot;true&quot;&gt;\r\n               &lt;meta-data\r\n                   android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                   android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n           &lt;/provider&gt;\r\n\r\n\r\nin file **main.dart**\r\n\r\n        void main() async{\r\n          WidgetsFlutterBinding.ensureInitialized();\r\n          await FlutterDownloader.initialize(\r\n              debug: true\r\n          );\r\n          runApp(const MyApp());\r\n        }\r\n        \r\n        class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n          String localPath = &quot;&quot;;\r\n          int progress = 0;\r\n          ReceivePort _port = ReceivePort();\r\n        \r\n        @override\r\n          void initState(){\r\n            super.initState();\r\n            initPlatformState();\r\n            IsolateNameServer.registerPortWithName(_port.sendPort, &#39;downloader_send_port&#39;);\r\n            _port.listen((dynamic data) {\r\n              String id = data[0];\r\n              DownloadTaskStatus status = data[1];\r\n              int progress = data[2];\r\n              setState((){ });\r\n            });\r\n            FlutterDownloader.registerCallback(downloadCallback);\r\n            _requestPermissions();\r\n          }\r\n    \r\n    @override\r\n      void dispose() {\r\n        IsolateNameServer.removePortNameMapping(&#39;downloader_send_port&#39;);\r\n        super.dispose();\r\n      }\r\n    \r\n      static void downloadCallback(String id, DownloadTaskStatus status, int progress) {\r\n        final SendPort? send = IsolateNameServer.lookupPortByName(&#39;downloader_send_port&#39;);\r\n        send?.send([id, status, progress]);\r\n      }\r\n    \r\n    Future&lt;void&gt; initPlatformState() async {\r\n        final path = await ExternalPath.getExternalStorageDirectories();\r\n        setState(() {\r\n          localPath = path[0].toString()+&quot;/Android/media/NameAPP&quot;;\r\n        });\r\n        log(&quot;path: ${localPath}&quot;);\r\n        final savedDir = Directory(localPath);\r\n        bool hasExisted = await savedDir.exists();\r\n        if (!hasExisted) {\r\n          savedDir.create(recursive: true);\r\n        }\r\n      }\r\n    \r\n    SaveImages(String url,String name) async{\r\n        log(&quot;url: ${url}&quot;);\r\n        log(&quot;name: ${name}&quot;);\r\n        final id = await FlutterDownloader.enqueue(\r\n          url:&quot;${url}&quot;,\r\n          savedDir: localPath,\r\n          fileName: name.toString(),\r\n          showNotification: true,\r\n          openFileFromNotification: true,\r\n        );\r\n      }\r\n\r\n    Future&lt;void&gt; _requestPermissions() async {\r\n        Map&lt;Permission, PermissionStatus&gt; statuses = await [\r\n          Permission.storage,\r\n          Permission.manageExternalStorage\r\n        ].request();\r\n        log(&quot;statuses: ${statuses}&quot;);\r\n        if (statuses == PermissionStatus.granted) {\r\n          //createFolder(&quot;TiendaOnline&quot;);\r\n          MensajeToast(&quot;Permission granted.&quot;,Colors.green);\r\n        } else if (statuses == PermissionStatus.denied) {\r\n          MensajeToast(&quot;Denied. Show a dialog with a reason and again ask for the permission.&quot;,Colors.red);\r\n        } else if (statuses == PermissionStatus.permanentlyDenied) {\r\n          MensajeToast(&quot;Take the user to the settings page.&quot;,Colors.red);\r\n        }\r\n      }\r\n        \r\n        }","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>This worked for me: <strong>MANAGE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE</strong></p>\n<p>in file <strong>pubspec.yaml</strong></p>\n<pre><code>dependencies:\n  flutter:\n    sdk: flutter\n  http: ^0.13.4\n  permission_handler: ^9.0.2\n  flutter_downloader: ^1.5.2\n  path_provider: ^2.0.9\n  external_path: ^1.0.1\n</code></pre>\n<p>in file <strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\n&lt;application\n        android:label=&quot;ejemplo_test&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n&lt;provider\n           android:name=&quot;vn.hunghd.flutterdownloader.DownloadedFileProvider&quot;\n           android:authorities=&quot;${applicationId}.flutter_downloader.provider&quot;\n           android:exported=&quot;false&quot;\n           android:grantUriPermissions=&quot;true&quot;&gt;\n           &lt;meta-data\n               android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n               android:resource=&quot;@xml/provider_paths&quot;/&gt;\n       &lt;/provider&gt;\n</code></pre>\n<p>in file <strong>main.dart</strong></p>\n<pre><code>    void main() async{\n      WidgetsFlutterBinding.ensureInitialized();\n      await FlutterDownloader.initialize(\n          debug: true\n      );\n      runApp(const MyApp());\n    }\n    \n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\n      String localPath = &quot;&quot;;\n      int progress = 0;\n      ReceivePort _port = ReceivePort();\n    \n    @override\n      void initState(){\n        super.initState();\n        initPlatformState();\n        IsolateNameServer.registerPortWithName(_port.sendPort, 'downloader_send_port');\n        _port.listen((dynamic data) {\n          String id = data[0];\n          DownloadTaskStatus status = data[1];\n          int progress = data[2];\n          setState((){ });\n        });\n        FlutterDownloader.registerCallback(downloadCallback);\n        _requestPermissions();\n      }\n\n@override\n  void dispose() {\n    IsolateNameServer.removePortNameMapping('downloader_send_port');\n    super.dispose();\n  }\n\n  static void downloadCallback(String id, DownloadTaskStatus status, int progress) {\n    final SendPort? send = IsolateNameServer.lookupPortByName('downloader_send_port');\n    send?.send([id, status, progress]);\n  }\n\nFuture&lt;void&gt; initPlatformState() async {\n    final path = await ExternalPath.getExternalStorageDirectories();\n    setState(() {\n      localPath = path[0].toString()+&quot;/Android/media/NameAPP&quot;;\n    });\n    log(&quot;path: ${localPath}&quot;);\n    final savedDir = Directory(localPath);\n    bool hasExisted = await savedDir.exists();\n    if (!hasExisted) {\n      savedDir.create(recursive: true);\n    }\n  }\n\nSaveImages(String url,String name) async{\n    log(&quot;url: ${url}&quot;);\n    log(&quot;name: ${name}&quot;);\n    final id = await FlutterDownloader.enqueue(\n      url:&quot;${url}&quot;,\n      savedDir: localPath,\n      fileName: name.toString(),\n      showNotification: true,\n      openFileFromNotification: true,\n    );\n  }\n\nFuture&lt;void&gt; _requestPermissions() async {\n    Map&lt;Permission, PermissionStatus&gt; statuses = await [\n      Permission.storage,\n      Permission.manageExternalStorage\n    ].request();\n    log(&quot;statuses: ${statuses}&quot;);\n    if (statuses == PermissionStatus.granted) {\n      //createFolder(&quot;TiendaOnline&quot;);\n      MensajeToast(&quot;Permission granted.&quot;,Colors.green);\n    } else if (statuses == PermissionStatus.denied) {\n      MensajeToast(&quot;Denied. Show a dialog with a reason and again ask for the permission.&quot;,Colors.red);\n    } else if (statuses == PermissionStatus.permanentlyDenied) {\n      MensajeToast(&quot;Take the user to the settings page.&quot;,Colors.red);\n    }\n  }\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658572910,"creation_date":1658572910,"answer_id":73090034,"question_id":61406818,"body_markdown":"Apparently if you&#39;re trying to save to the internal storage for Android 11, you can NOT save in /storage/emulated/0. Only in public folders like Download, Document, etc. This was the case for me, at least.","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>Apparently if you're trying to save to the internal storage for Android 11, you can NOT save in /storage/emulated/0. Only in public folders like Download, Document, etc. This was the case for me, at least.</p>\n"}],"owner":{"account_id":17908948,"reputation":339,"user_id":13011474,"display_name":"Gongelini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74217,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"answer_count":12,"score":33,"last_activity_date":1658572910,"creation_date":1587726015,"question_id":61406818,"body_markdown":"I faced this problem when I tried to save the image to internal storage on android. \r\n\r\n    public static String setImage(Bitmap image) {\r\n        if (image != null) {\r\n            FileOutputStream outputStream = null;\r\n            File dir = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Caramel&quot;);\r\n            dir.mkdir();\r\n            String fileName = System.currentTimeMillis() + &quot;.jpg&quot;;\r\n            File file = new File(dir, fileName);\r\n            try {\r\n                outputStream = new FileOutputStream(file);\r\n                image.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\r\n                outputStream.flush();\r\n                outputStream.close();\r\n                return fileName;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (outputStream != null) {\r\n                        outputStream.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nAll goes nice and well, and I can see my Bitmap image in debug mode, but all the same, i get the next error:\r\n\r\n    W/System.err: java.io.FileNotFoundException: /storage/emulated/0/Caramel/1587724428205.jpg: open failed: EPERM (Operation not permitted)\r\n        W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:495)\r\n        W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\r\n        W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\n        W/System.err:     at com.example.caramel.Position.setImage(Position.java:176)\r\n        W/System.err:     at com.example.caramel.PositionActivity.onActivityResult(PositionActivity.java:129)\r\n        W/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8300)\r\n        W/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:4905)\r\n        W/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4953)\r\n        W/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:51)\r\n        W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\r\n        W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        W/System.err:     at android.os.Looper.loop(Looper.java:216)\r\n        W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7464)\r\n        W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n        W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\r\n        W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:955)\r\n        W/System.err: Caused by: android.system.ErrnoException: open failed: EPERM (Operation not permitted)\r\n        W/System.err:     at libcore.io.Linux.open(Native Method)\r\n        W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n        W/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n        W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n        W/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7360)\r\n        W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:481)\r\n        W/System.err: \t... 17 more\r\n\r\nIt seems, that reason could be in my Manifest.xml file, but i&#39;ve already set these permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n\r\nThanks for your support, guys.\r\n\r\n","title":"FileNotFoundException open failed: EPERM (Operation not permitted) during saving image file to internal storage on android","body":"<p>I faced this problem when I tried to save the image to internal storage on android.</p>\n<pre><code>public static String setImage(Bitmap image) {\n    if (image != null) {\n        FileOutputStream outputStream = null;\n        File dir = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Caramel&quot;);\n        dir.mkdir();\n        String fileName = System.currentTimeMillis() + &quot;.jpg&quot;;\n        File file = new File(dir, fileName);\n        try {\n            outputStream = new FileOutputStream(file);\n            image.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\n            outputStream.flush();\n            outputStream.close();\n            return fileName;\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (outputStream != null) {\n                    outputStream.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>All goes nice and well, and I can see my Bitmap image in debug mode, but all the same, i get the next error:</p>\n<pre><code>W/System.err: java.io.FileNotFoundException: /storage/emulated/0/Caramel/1587724428205.jpg: open failed: EPERM (Operation not permitted)\n    W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:495)\n    W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\n    W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\n    W/System.err:     at com.example.caramel.Position.setImage(Position.java:176)\n    W/System.err:     at com.example.caramel.PositionActivity.onActivityResult(PositionActivity.java:129)\n    W/System.err:     at android.app.Activity.dispatchActivityResult(Activity.java:8300)\n    W/System.err:     at android.app.ActivityThread.deliverResults(ActivityThread.java:4905)\n    W/System.err:     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4953)\n    W/System.err:     at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:51)\n    W/System.err:     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    W/System.err:     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2043)\n    W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\n    W/System.err:     at android.os.Looper.loop(Looper.java:216)\n    W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7464)\n    W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n    W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\n    W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:955)\n    W/System.err: Caused by: android.system.ErrnoException: open failed: EPERM (Operation not permitted)\n    W/System.err:     at libcore.io.Linux.open(Native Method)\n    W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n    W/System.err:     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\n    W/System.err:     at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n    W/System.err:     at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7360)\n    W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:481)\n    W/System.err:   ... 17 more\n</code></pre>\n<p>It seems, that reason could be in my Manifest.xml file, but i've already set these permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n</code></pre>\n<p>Thanks for your support, guys.</p>\n"},{"tags":["java","arrays","combinations","combinatorics"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":2,"creation_date":1658437712,"post_id":73072625,"comment_id":129058153,"body_markdown":"I suggest you post what you&#39;ve tried so far","body":"I suggest you post what you&#39;ve tried so far"},{"owner":{"account_id":25865537,"reputation":3,"user_id":19597278,"display_name":"thenicknameless"},"score":0,"creation_date":1658438348,"post_id":73072625,"comment_id":129058306,"body_markdown":"I added my terrible code.","body":"I added my terrible code."},{"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"score":0,"creation_date":1658438641,"post_id":73072625,"comment_id":129058381,"body_markdown":"You may need to add some constraints to make it reasonable to solve. For example, are negative numbers allowed? If not, you can optimize out sums greater than your target. If so, there&#39;s not much you can do beyond summing every possible combination of numbers together and see what you get. Other constraints could be the possible lengths of the list, whether numbers in the list can be larger than the target, etc.","body":"You may need to add some constraints to make it reasonable to solve. For example, are negative numbers allowed? If not, you can optimize out sums greater than your target. If so, there&#39;s not much you can do beyond summing every possible combination of numbers together and see what you get. Other constraints could be the possible lengths of the list, whether numbers in the list can be larger than the target, etc."},{"owner":{"account_id":25865537,"reputation":3,"user_id":19597278,"display_name":"thenicknameless"},"score":0,"creation_date":1658438803,"post_id":73072625,"comment_id":129058429,"body_markdown":"Negative numbers are not in the given array, so they won&#39;t occur and numbers in the array aren&#39;t larger than the target. The length of the list is fixed.","body":"Negative numbers are not in the given array, so they won&#39;t occur and numbers in the array aren&#39;t larger than the target. The length of the list is fixed."},{"owner":{"account_id":2395407,"reputation":4656,"user_id":2094298,"accept_rate":93,"display_name":"Ruckus T-Boom"},"score":0,"creation_date":1658439556,"post_id":73072625,"comment_id":129058601,"body_markdown":"Ah, I misread. I thought the list you gave was an example, not the one true list.","body":"Ah, I misread. I thought the list you gave was an example, not the one true list."},{"owner":{"account_id":25865537,"reputation":3,"user_id":19597278,"display_name":"thenicknameless"},"score":0,"creation_date":1658440583,"post_id":73072625,"comment_id":129058817,"body_markdown":"The array I gave was an example, but the one true array will feature the same attributes.","body":"The array I gave was an example, but the one true array will feature the same attributes."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1658441570,"post_id":73072625,"comment_id":129059036,"body_markdown":"Do you just need the combinations to do something else with them or is your task to implement the algorithm to build such combinations?","body":"Do you just need the combinations to do something else with them or is your task to implement the algorithm to build such combinations?"},{"owner":{"account_id":25865537,"reputation":3,"user_id":19597278,"display_name":"thenicknameless"},"score":0,"creation_date":1658441969,"post_id":73072625,"comment_id":129059135,"body_markdown":"I need the combinations to do something else with them. And the subset sum algorithm does not yield the results I need.","body":"I need the combinations to do something else with them. And the subset sum algorithm does not yield the results I need."}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658441974,"creation_date":1658441974,"answer_id":73073248,"question_id":73072625,"body_markdown":"You can solve this using recursion. Below is my approach with some explanation:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            double[] a = {1, 0.5, 0.25};\r\n            double max = 1;\r\n            //pass the array, target value and an empty list to the method\r\n            comb(a, max, new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        public static void comb(double[] a, double max, List&lt;Double&gt; scores) {\r\n            //sum the numbers included in the list\r\n            double scoresSum = scores.stream().reduce(0.0, Double::sum);\r\n            //print the list if the sum of numbers in the list equals target value\r\n            if (scoresSum == max) {\r\n                System.out.println(scores);\r\n            } else if (scoresSum &gt; max) {\r\n            //stop the method if the sum of numbers in the list is larger than the target value\r\n            } else {\r\n            //if the sum of numbers in the list is smaller than the target value, for each value from the array:\r\n            //- create copy of the list\r\n            //- add the value\r\n            //- run the method passing the updated list as an argument\r\n                for (double v : a) {\r\n                    List&lt;Double&gt; scoresPlusOne = new ArrayList&lt;&gt;(scores);\r\n                    scoresPlusOne.add(v);\r\n                    comb(a, max, scoresPlusOne);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Algorithm for all combinations of an array of doubles with sum equal to 2 in Java","body":"<p>You can solve this using recursion. Below is my approach with some explanation:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        double[] a = {1, 0.5, 0.25};\n        double max = 1;\n        //pass the array, target value and an empty list to the method\n        comb(a, max, new ArrayList&lt;&gt;());\n    }\n\n    public static void comb(double[] a, double max, List&lt;Double&gt; scores) {\n        //sum the numbers included in the list\n        double scoresSum = scores.stream().reduce(0.0, Double::sum);\n        //print the list if the sum of numbers in the list equals target value\n        if (scoresSum == max) {\n            System.out.println(scores);\n        } else if (scoresSum &gt; max) {\n        //stop the method if the sum of numbers in the list is larger than the target value\n        } else {\n        //if the sum of numbers in the list is smaller than the target value, for each value from the array:\n        //- create copy of the list\n        //- add the value\n        //- run the method passing the updated list as an argument\n            for (double v : a) {\n                List&lt;Double&gt; scoresPlusOne = new ArrayList&lt;&gt;(scores);\n                scoresPlusOne.add(v);\n                comb(a, max, scoresPlusOne);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25865537,"reputation":3,"user_id":19597278,"display_name":"thenicknameless"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73073248,"answer_count":1,"score":0,"last_activity_date":1658572644,"creation_date":1658437625,"question_id":73072625,"body_markdown":"I am trying to implement an algorithm that for a fixed given array of doubles (i.e. [1.0, 0.5, 0.25] is giving all possible combinations that sum up to for example 1.0. In this case, the output should look like:\r\n\r\n    1.0\r\n    0.5 0.5\r\n    0.5 0.25 0.25\r\n    0.25 0.25 0.25 0.25\r\n    0.25 0.25 0.5\r\n    0.25 0.5 0.25\r\n\r\nI tried to achieve this with two nested for-loops and can&#39;t figure it out. Any help would be highly appreciated.\r\n\r\nThis is my attempt so far:\r\n\r\n    private double[] a = {1, 0.5, 0.25};\r\n    private double max = 1;\r\n    private String as;\r\n    private double help;\r\n    private boolean done;\r\n\r\n    public void comb()\r\n    {\r\n        for (var i = 0; i &lt; a.length; i++)\r\n        {\r\n            for (var j = 0; j &lt; a.length; j++)\r\n            {\r\n                as =&quot;&quot;;\r\n                help = 0;\r\n                while (help &lt; max)\r\n                {\r\n                    if(help + a[i] &lt;= max)\r\n                    {\r\n                        as += a[i] + &quot; &quot;;\r\n                        help += a[i];\r\n                    }\r\n                    /*else if (help + a[j] &lt;= max)\r\n                    {\r\n                        ausdruck += a[j] + &quot; &quot;;\r\n                        help += a[j];\r\n                    }*/\r\n                }\r\n                System.out.println(as);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Algorithm for all combinations of an array of doubles with sum equal to 2 in Java","body":"<p>I am trying to implement an algorithm that for a fixed given array of doubles (i.e. [1.0, 0.5, 0.25] is giving all possible combinations that sum up to for example 1.0. In this case, the output should look like:</p>\n<pre><code>1.0\n0.5 0.5\n0.5 0.25 0.25\n0.25 0.25 0.25 0.25\n0.25 0.25 0.5\n0.25 0.5 0.25\n</code></pre>\n<p>I tried to achieve this with two nested for-loops and can't figure it out. Any help would be highly appreciated.</p>\n<p>This is my attempt so far:</p>\n<pre><code>private double[] a = {1, 0.5, 0.25};\nprivate double max = 1;\nprivate String as;\nprivate double help;\nprivate boolean done;\n\npublic void comb()\n{\n    for (var i = 0; i &lt; a.length; i++)\n    {\n        for (var j = 0; j &lt; a.length; j++)\n        {\n            as =&quot;&quot;;\n            help = 0;\n            while (help &lt; max)\n            {\n                if(help + a[i] &lt;= max)\n                {\n                    as += a[i] + &quot; &quot;;\n                    help += a[i];\n                }\n                /*else if (help + a[j] &lt;= max)\n                {\n                    ausdruck += a[j] + &quot; &quot;;\n                    help += a[j];\n                }*/\n            }\n            System.out.println(as);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658572447,"creation_date":1658476752,"answer_id":73076999,"question_id":73076803,"body_markdown":"Possibilities &amp; resolution !\r\n\r\n1) Check if that method is available under the class under which it is throwing error!  You can check it from under Maven dependencies by expanding that particular library. \r\n\r\n2) Check if your `pom.xml` does not contain same dependency declarations (with same or different versions)\r\n\r\n3) Delete the redundant dependency from classpath to make sure only one exist. Most likely, `NoSuchMethodError` appears when there is more than 1 same dependency on classpath and and older version (or first encountered) is picked up !\r\n\r\n***Check if these articles help*** \r\n\r\nhttps://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror\r\n\r\nhttps://stackoverflow.com/questions/48233192/how-to-resolve-java-lang-nosuchmethoderror \r\n\r\nhttps://stackoverflow.com/questions/6798767/how-to-get-java-lang-nosuchmethoderror\r\n","title":"java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;","body":"<p>Possibilities &amp; resolution !</p>\n<ol>\n<li><p>Check if that method is available under the class under which it is throwing error!  You can check it from under Maven dependencies by expanding that particular library.</p>\n</li>\n<li><p>Check if your <code>pom.xml</code> does not contain same dependency declarations (with same or different versions)</p>\n</li>\n<li><p>Delete the redundant dependency from classpath to make sure only one exist. Most likely, <code>NoSuchMethodError</code> appears when there is more than 1 same dependency on classpath and and older version (or first encountered) is picked up !</p>\n</li>\n</ol>\n<p><em><strong>Check if these articles help</strong></em></p>\n<p><a href=\"https://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror\">How do I fix a NoSuchMethodError?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48233192/how-to-resolve-java-lang-nosuchmethoderror\">How to resolve java.lang.NoSuchMethodError</a></p>\n<p><a href=\"https://stackoverflow.com/questions/6798767/how-to-get-java-lang-nosuchmethoderror\">How to get java.lang.NoSuchMethodError</a></p>\n"}],"owner":{"account_id":16079702,"reputation":39,"user_id":11605967,"display_name":"anil reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4311,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1658572447,"creation_date":1658475749,"question_id":73076803,"body_markdown":"I&#39;m getting the NoSuchmethodError while hitting the endpoints from the postman. I have recently migrated from spring 1.15 to 2.5.8.\r\n\r\nHere are my spring versions.\r\nid &#39;org.springframework.boot&#39; version &#39;2.5.8&#39;\r\nid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\r\nAny thoughts on fixing the issue?","title":"java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;","body":"<p>I'm getting the NoSuchmethodError while hitting the endpoints from the postman. I have recently migrated from spring 1.15 to 2.5.8.</p>\n<p>Here are my spring versions.\nid 'org.springframework.boot' version '2.5.8'\nid 'io.spring.dependency-management' version '1.0.11.RELEASE'</p>\n<p>Any thoughts on fixing the issue?</p>\n"},{"tags":["java","spring","tomcat","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1202195,"reputation":3616,"user_id":1172611,"accept_rate":88,"display_name":"shazinltc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358833262,"creation_date":1358833262,"answer_id":14452250,"question_id":14449772,"body_markdown":"You need to set up two http elements in you config file. And set the url patterns in it.\r\n\r\n[This](https://stackoverflow.com/questions/8306063/multiple-login-forms-different-authentication-managers-latest-spring-security) answer might help. \r\n\r\n","title":"Multiple login pages Spring","body":"<p>You need to set up two http elements in you config file. And set the url patterns in it.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8306063/multiple-login-forms-different-authentication-managers-latest-spring-security\">This</a> answer might help. </p>\n"},{"tags":[],"owner":{"account_id":25876521,"reputation":1,"user_id":19606413,"display_name":"walnutnamu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658572307,"creation_date":1658572307,"answer_id":73089968,"question_id":14449772,"body_markdown":"&lt;security:authentication-manager id=&quot;adminAuthManager&quot;&gt;\t\r\n\r\n&lt;security:authentication-manager id=&quot;memberAuthManager&quot;&gt;","title":"Multiple login pages Spring","body":"<p>&lt;security:authentication-manager id=&quot;adminAuthManager&quot;&gt;</p>\n<p>&lt;security:authentication-manager id=&quot;memberAuthManager&quot;&gt;</p>\n"}],"owner":{"account_id":1751963,"reputation":531,"user_id":1600844,"accept_rate":33,"display_name":"Gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658572307,"creation_date":1358815442,"question_id":14449772,"body_markdown":"I&#39;ve been looking for the best way to do this for a while, but haven&#39;t found an answer yet.\r\n\r\nSo in general terms, what&#39;s the best way to have multiple login pages (not only forms but controller access) using spring mvc + spring security.\r\n\r\nAny ideas would be appreciated. ","title":"Multiple login pages Spring","body":"<p>I've been looking for the best way to do this for a while, but haven't found an answer yet.</p>\n\n<p>So in general terms, what's the best way to have multiple login pages (not only forms but controller access) using spring mvc + spring security.</p>\n\n<p>Any ideas would be appreciated. </p>\n"},{"tags":["java",".net","utf-8","character-encoding","aes"],"comments":[{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1658478558,"post_id":73077299,"comment_id":129065834,"body_markdown":"Those aren&#39;t trash characters, it&#39;s what you get if you try to read ASCII text using the wrong codepage. The very fact you get *any* readable text means decryption succeeded.","body":"Those aren&#39;t trash characters, it&#39;s what you get if you try to read ASCII text using the wrong codepage. The very fact you get <i>any</i> readable text means decryption succeeded."},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1658478978,"post_id":73077299,"comment_id":129066007,"body_markdown":"Post your code as *text*, not images. Images can&#39;t be copied, googled and tested. The Java code is suspicious, as it tries to create a `String` out of the bytes returned by `doFinal` without specifying an encoding. I&#39;m not going to type that line just to highlight it though","body":"Post your code as <i>text</i>, not images. Images can&#39;t be copied, googled and tested. The Java code is suspicious, as it tries to create a <code>String</code> out of the bytes returned by <code>doFinal</code> without specifying an encoding. I&#39;m not going to type that line just to highlight it though"},{"owner":{"account_id":295283,"reputation":665,"user_id":599617,"accept_rate":52,"display_name":"Roman"},"score":0,"creation_date":1658479036,"post_id":73077299,"comment_id":129066036,"body_markdown":"@PanagiotisKanavos This image is all I have from the Developer of the Server","body":"@PanagiotisKanavos This image is all I have from the Developer of the Server"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1658479199,"post_id":73077299,"comment_id":129066091,"body_markdown":"The Java code is using the [String(byte[]) constructor](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,int)). According to the docs: `Constructs a new String by decoding the specified array of bytes using the platform&#39;s default charset.`. That&#39;s obviously not UTF8. Use `public String​(byte[] bytes,Charset charset)` or `String​(byte[] bytes,String charsetName)` instead","body":"The Java code is using the [String(byte[]) constructor](<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java&zwnj;&#8203;.base/java/lang/&hellip;</a>). According to the docs: <code>Constructs a new String by decoding the specified array of bytes using the platform&#39;s default charset.</code>. That&#39;s obviously not UTF8. Use <code>public String​(byte[] bytes,Charset charset)</code> or <code>String​(byte[] bytes,String charsetName)</code> instead"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1658479250,"post_id":73077299,"comment_id":129066110,"body_markdown":"`all I have from the Developer of the Server` the bug is in their code. They have to either change their code to use the correct character set or change the machine&#39;s default character set to UTF8","body":"<code>all I have from the Developer of the Server</code> the bug is in their code. They have to either change their code to use the correct character set or change the machine&#39;s default character set to UTF8"}],"answers":[{"tags":[],"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658479847,"creation_date":1658479847,"answer_id":73077636,"question_id":73077299,"body_markdown":"Those aren&#39;t trash characters, they&#39;re the [Unicode Replacement Character](https://en.wikipedia.org/wiki/Specials_(Unicode_block)) returned when bytes are decoded into text using the wrong character set. \r\n\r\nThe very fact you got readable text means decrypting succeeded. It&#39;s decoding the bytes into text that failed. \r\n\r\nThe bug is in the Java code. It&#39;s using the [String(byte[])](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,int)) which, according to the docs:\r\n\r\n&gt; Constructs a new String by decoding the specified array of bytes using the platform&#39;s default charset.\r\n\r\nThat&#39;s obviously not UTF8. The [String​(byte[] bytes,Charset charset)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.nio.charset.Charset)) or [String​(byte[] bytes,String charsetName)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.lang.String)) constructors should be used instead, passing the correct character set, eg :\r\n\r\n```\r\nbyte[] decryptedBytes = cipher.doFinal(....);\r\nreturn new String(decryptedBytes, StandardCharsets.UTF_8);\r\n```\r\n\r\nThe hacky alternative is to change the remote server&#39;s default character set to UTF8. ","title":".Net AES encrypt mismatch after decrypt on Java","body":"<p>Those aren't trash characters, they're the <a href=\"https://en.wikipedia.org/wiki/Specials_(Unicode_block)\" rel=\"nofollow noreferrer\">Unicode Replacement Character</a> returned when bytes are decoded into text using the wrong character set.</p>\n<p>The very fact you got readable text means decrypting succeeded. It's decoding the bytes into text that failed.</p>\n<p>The bug is in the Java code. It's using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,int)\" rel=\"nofollow noreferrer\">String(byte[])</a> which, according to the docs:</p>\n<blockquote>\n<p>Constructs a new String by decoding the specified array of bytes using the platform's default charset.</p>\n</blockquote>\n<p>That's obviously not UTF8. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">String​(byte[] bytes,Charset charset)</a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.lang.String)\" rel=\"nofollow noreferrer\">String​(byte[] bytes,String charsetName)</a> constructors should be used instead, passing the correct character set, eg :</p>\n<pre><code>byte[] decryptedBytes = cipher.doFinal(....);\nreturn new String(decryptedBytes, StandardCharsets.UTF_8);\n</code></pre>\n<p>The hacky alternative is to change the remote server's default character set to UTF8.</p>\n"}],"owner":{"account_id":295283,"reputation":665,"user_id":599617,"accept_rate":52,"display_name":"Roman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658572137,"creation_date":1658478332,"question_id":73077299,"body_markdown":"I have to send the AES encrypted json as content to web server. But after decryption, the content has extra trash symbols appeared at the beggining of the line.\r\n\r\nMy test method creates the object that is serialized and being send: \r\n\r\n    [TestMethod]\r\n    public void SendModeChangeWorksAsExpected()\r\n    {\r\n        var snpashot2Send = new ModeChangedReport\r\n        {\r\n            \r\n            ControlWorkMode = ModeEnumeration.Stopped,\r\n            //Controls\r\n            ControlDate = DateTime.Now,\r\n            IsSent = false,\r\n            SentTime = null,\r\n            ReportType = ReportType.ModeChanged,\r\n\r\n            Line = new Line\r\n            {\r\n                AgencyId = &quot;a799eb4f-86da-4af1-a221-9ed8b741b5ce&quot;\r\n            }\r\n        };\r\n\r\n        //Создаём шифрованное значение\r\n        var encryptedString = _agencyReportEncriptingTranslator.ConvertModeChange2CypheredString(snpashot2Send);\r\n        //Отправляем в Агентство и получаем результат\r\n        var value = _agencyClient.SendModeChangeReport(encryptedString);\r\n    }\r\n\r\nHere are the serialization and encrypt methods:\r\n\r\n    public string ConvertModeChange2CypheredString(ModeChangedReport report)\r\n    {\r\n        if (report == null) throw new ArgumentNullException(nameof(report));\r\n\r\n        //obj to json\r\n        var json = new ModeChangedReportJson\r\n        {\r\n            LineId = report.Line.AgencyId,\r\n            Mode = CreateModeFromIktToUzbekistan(report.ControlWorkMode),\r\n            ActionDate = ConvertDateToAgencyString(report.ControlDate)\r\n        };\r\n\r\n        //Serialization\r\n        var retString = _agencyJsonSerializer.SerializeReport2Json(json);\r\n\r\n        //Шифруем сериализованный json\r\n        var cypheredValue = _encryptionService.EncryptString(retString);\r\n        return cypheredValue;\r\n    }\r\n\r\nEncrypt method:\r\n\r\n    public string EncryptString(string plaintext)\r\n    {\r\n        var plainTextBytes = Encoding.UTF8.GetBytes(plaintext);\r\n        var cypheredTextBytes = Encrypt(plainTextBytes);\r\n        var converted2Base64Value = Convert.ToBase64String(cypheredTextBytes);\r\n        return converted2Base64Value;\r\n    }\r\n\r\n    private byte[] Encrypt(byte[] bytes)\r\n    {\r\n        #region Args Validation\r\n\r\n        if (bytes == null || bytes.Length &lt; 1)\r\n        {\r\n            throw new ArgumentException(&quot;Invalid bytes to encrypt&quot;);\r\n        }\r\n\r\n        if (_key == null || _key.Length &lt; 1)\r\n        {\r\n            throw new InvalidOperationException(&quot;Invalid encryption key&quot;);\r\n        }\r\n\r\n\r\n        #endregion\r\n\r\n        byte[] encrypted;\r\n\r\n        try\r\n        {\r\n            using (AesManaged aes = new AesManaged())\r\n            {\r\n                aes.Key = _key;\r\n                aes.IV = _iv;\r\n                aes.Padding = PaddingMode.PKCS7;\r\n                aes.Mode = CipherMode.CBC;\r\n\r\n                ICryptoTransform encryptor = aes.CreateEncryptor(aes.Key, _iv);\r\n                using (MemoryStream ms = new MemoryStream())\r\n                {\r\n                    ms.Write(aes.IV, 0, aes.IV.Length);\r\n                    using (CryptoStream cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))\r\n                    {\r\n                        cs.Write(bytes, 0, bytes.Length);\r\n                    }\r\n                    encrypted = ms.ToArray();\r\n                }\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            Console.WriteLine(e);\r\n            throw;\r\n        }\r\n\r\n        return encrypted;\r\n    }\r\n\r\nHttp client send method:\r\n\r\n    public bool SendModeChangeReport(string cypheredValue)\r\n    {\r\n        var token = GetAccessToken();\r\n\r\n        using (var client = new HttpClient())\r\n        {\r\n            client.DefaultRequestHeaders.Clear();\r\n            client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(&quot;application/json&quot;));\r\n            client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(&quot;Bearer&quot;, token.AuthorizationToken);\r\n            client.DefaultRequestHeaders.Add(&quot;DEVICE_ID&quot;, _agencyAppSettings.DeviceId);\r\n\r\n            var content2Post = new StringContent(cypheredValue, Encoding.UTF8, &quot;application/json&quot;);\r\n            using (var response = client.PostAsync(_agencyAppSettings.SendModeChangedReportUrl, content2Post).Result)\r\n            {\r\n                string tokenResponse = null;\r\n                try\r\n                {\r\n                    tokenResponse = response.Content.ReadAsStringAsync().Result;\r\n                    response.EnsureSuccessStatusCode();\r\n                    return true;\r\n                }\r\n                catch (Exception ex)\r\n                {\r\n                    _eventLogManager.LogError(&quot;При попытке отправить отчёт о смене режима, произошла ошибка: &quot;\r\n                        + $&quot;Код: {response.StatusCode}. Контент: {tokenResponse}. Ошибка: {ex.Message}.&quot;);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAfter decryption on receiving server, the string grows with extra trash characters at the beginning, like G���h R��EQ�Z {&quot;lineid&quot;:&quot;a799eb4f-86da-4af1-a221-9ed8b741b5ce&quot;...\r\n\r\nThe decrypt method of the server (Java):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tARQZ.jpg\r\n\r\nI think that the problem is the padding difference: PKCS7 on my side, and PKCS5 on server.\r\n\r\nHow can I solve this problem with the extra chars appear on server side?  ","title":".Net AES encrypt mismatch after decrypt on Java","body":"<p>I have to send the AES encrypted json as content to web server. But after decryption, the content has extra trash symbols appeared at the beggining of the line.</p>\n<p>My test method creates the object that is serialized and being send:</p>\n<pre><code>[TestMethod]\npublic void SendModeChangeWorksAsExpected()\n{\n    var snpashot2Send = new ModeChangedReport\n    {\n        \n        ControlWorkMode = ModeEnumeration.Stopped,\n        //Controls\n        ControlDate = DateTime.Now,\n        IsSent = false,\n        SentTime = null,\n        ReportType = ReportType.ModeChanged,\n\n        Line = new Line\n        {\n            AgencyId = &quot;a799eb4f-86da-4af1-a221-9ed8b741b5ce&quot;\n        }\n    };\n\n    //Создаём шифрованное значение\n    var encryptedString = _agencyReportEncriptingTranslator.ConvertModeChange2CypheredString(snpashot2Send);\n    //Отправляем в Агентство и получаем результат\n    var value = _agencyClient.SendModeChangeReport(encryptedString);\n}\n</code></pre>\n<p>Here are the serialization and encrypt methods:</p>\n<pre><code>public string ConvertModeChange2CypheredString(ModeChangedReport report)\n{\n    if (report == null) throw new ArgumentNullException(nameof(report));\n\n    //obj to json\n    var json = new ModeChangedReportJson\n    {\n        LineId = report.Line.AgencyId,\n        Mode = CreateModeFromIktToUzbekistan(report.ControlWorkMode),\n        ActionDate = ConvertDateToAgencyString(report.ControlDate)\n    };\n\n    //Serialization\n    var retString = _agencyJsonSerializer.SerializeReport2Json(json);\n\n    //Шифруем сериализованный json\n    var cypheredValue = _encryptionService.EncryptString(retString);\n    return cypheredValue;\n}\n</code></pre>\n<p>Encrypt method:</p>\n<pre><code>public string EncryptString(string plaintext)\n{\n    var plainTextBytes = Encoding.UTF8.GetBytes(plaintext);\n    var cypheredTextBytes = Encrypt(plainTextBytes);\n    var converted2Base64Value = Convert.ToBase64String(cypheredTextBytes);\n    return converted2Base64Value;\n}\n\nprivate byte[] Encrypt(byte[] bytes)\n{\n    #region Args Validation\n\n    if (bytes == null || bytes.Length &lt; 1)\n    {\n        throw new ArgumentException(&quot;Invalid bytes to encrypt&quot;);\n    }\n\n    if (_key == null || _key.Length &lt; 1)\n    {\n        throw new InvalidOperationException(&quot;Invalid encryption key&quot;);\n    }\n\n\n    #endregion\n\n    byte[] encrypted;\n\n    try\n    {\n        using (AesManaged aes = new AesManaged())\n        {\n            aes.Key = _key;\n            aes.IV = _iv;\n            aes.Padding = PaddingMode.PKCS7;\n            aes.Mode = CipherMode.CBC;\n\n            ICryptoTransform encryptor = aes.CreateEncryptor(aes.Key, _iv);\n            using (MemoryStream ms = new MemoryStream())\n            {\n                ms.Write(aes.IV, 0, aes.IV.Length);\n                using (CryptoStream cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))\n                {\n                    cs.Write(bytes, 0, bytes.Length);\n                }\n                encrypted = ms.ToArray();\n            }\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(e);\n        throw;\n    }\n\n    return encrypted;\n}\n</code></pre>\n<p>Http client send method:</p>\n<pre><code>public bool SendModeChangeReport(string cypheredValue)\n{\n    var token = GetAccessToken();\n\n    using (var client = new HttpClient())\n    {\n        client.DefaultRequestHeaders.Clear();\n        client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(&quot;application/json&quot;));\n        client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(&quot;Bearer&quot;, token.AuthorizationToken);\n        client.DefaultRequestHeaders.Add(&quot;DEVICE_ID&quot;, _agencyAppSettings.DeviceId);\n\n        var content2Post = new StringContent(cypheredValue, Encoding.UTF8, &quot;application/json&quot;);\n        using (var response = client.PostAsync(_agencyAppSettings.SendModeChangedReportUrl, content2Post).Result)\n        {\n            string tokenResponse = null;\n            try\n            {\n                tokenResponse = response.Content.ReadAsStringAsync().Result;\n                response.EnsureSuccessStatusCode();\n                return true;\n            }\n            catch (Exception ex)\n            {\n                _eventLogManager.LogError(&quot;При попытке отправить отчёт о смене режима, произошла ошибка: &quot;\n                    + $&quot;Код: {response.StatusCode}. Контент: {tokenResponse}. Ошибка: {ex.Message}.&quot;);\n                return false;\n            }\n        }\n    }\n}\n</code></pre>\n<p>After decryption on receiving server, the string grows with extra trash characters at the beginning, like G���h R��EQ�Z {&quot;lineid&quot;:&quot;a799eb4f-86da-4af1-a221-9ed8b741b5ce&quot;...</p>\n<p>The decrypt method of the server (Java):</p>\n<p><a href=\"https://i.stack.imgur.com/tARQZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tARQZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I think that the problem is the padding difference: PKCS7 on my side, and PKCS5 on server.</p>\n<p>How can I solve this problem with the extra chars appear on server side?</p>\n"},{"tags":["java","aop","aspectj","dropwizard","aspect"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1658571620,"post_id":72934480,"comment_id":129088085,"body_markdown":"`execution(* javax.servlet.http.HttpServlet.*(..)) *)` is invalid syntax. Maybe you mean `execution(* javax.servlet.http.HttpServlet.*(..))`. If that is not the only problem, please share an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, not just snippets I cannot compile and run. I need to reproduce the problem. Too much information is missing.","body":"<code>execution(* javax.servlet.http.HttpServlet.*(..)) *)</code> is invalid syntax. Maybe you mean <code>execution(* javax.servlet.http.HttpServlet.*(..))</code>. If that is not the only problem, please share an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, not just snippets I cannot compile and run. I need to reproduce the problem. Too much information is missing."}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658571477,"creation_date":1657520825,"question_id":72934480,"body_markdown":"Trying to write a aspectJ class for my dropwizard project. Below is the class\r\n\r\n```java\r\n@Aspect\r\npublic class LoggingAspect {\r\n\r\n  @Around(&quot;execution(* javax.servlet.http.HttpServlet.*(..)) *)&quot;)\r\n  public Object log(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    Long startTime = System.currentTimeMillis();\r\n    Object retVal = joinPoint.proceed();\r\n    Long timeTaken = System.currentTimeMillis() - startTime;\r\n    HttpServletResponse response = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getResponse();\r\n\r\n    return retVal;\r\n  }\r\n\r\n  @Before(&quot;execution(* com.my.api.resource.*.*(..))&quot;)\r\n  public void logBefore(JoinPoint joinPoint) throws Throwable {\r\n    HttpServletResponse response = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getResponse();\r\n    System.out.println(joinPoint.getSignature().getName());\r\n  }\r\n}\r\n```\r\n\r\nWhat I am trying to do here is to get the api call&#39;s mapping method name. However, it seems the code above was not hit. How should I add this aspectJ class into Dropwizard class? \r\nIf no way to do this, anyway I can get the api call&#39;s mapping method name? For instance, I have resource file with following code, I want to get the &quot;listDepts&quot; in my Filter. \r\n\r\n```java\r\n@GET\r\n@UnitOfWork\r\n@Timed(name = &quot;get-requests&quot;)\r\n@ApiOperation(value = &quot;List all departments&quot;, notes = &quot;List all the departments&quot;, response = DeptDTO.class, responseContainer = &quot;List&quot;, position = 10)\r\npublic Response listDepts(\r\n  @Auth @ApiParam(access = &quot;internal&quot;, required = false)\r\n  PrincipalDTO user\r\n)\r\n{\r\n  // ...\r\n}\r\n```\r\n","title":"Write an aspect class for my Dropwizard project?","body":"<p>Trying to write a aspectJ class for my dropwizard project. Below is the class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class LoggingAspect {\n\n  @Around(&quot;execution(* javax.servlet.http.HttpServlet.*(..)) *)&quot;)\n  public Object log(ProceedingJoinPoint joinPoint) throws Throwable {\n    Long startTime = System.currentTimeMillis();\n    Object retVal = joinPoint.proceed();\n    Long timeTaken = System.currentTimeMillis() - startTime;\n    HttpServletResponse response = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getResponse();\n\n    return retVal;\n  }\n\n  @Before(&quot;execution(* com.my.api.resource.*.*(..))&quot;)\n  public void logBefore(JoinPoint joinPoint) throws Throwable {\n    HttpServletResponse response = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getResponse();\n    System.out.println(joinPoint.getSignature().getName());\n  }\n}\n</code></pre>\n<p>What I am trying to do here is to get the api call's mapping method name. However, it seems the code above was not hit. How should I add this aspectJ class into Dropwizard class?\nIf no way to do this, anyway I can get the api call's mapping method name? For instance, I have resource file with following code, I want to get the &quot;listDepts&quot; in my Filter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@UnitOfWork\n@Timed(name = &quot;get-requests&quot;)\n@ApiOperation(value = &quot;List all departments&quot;, notes = &quot;List all the departments&quot;, response = DeptDTO.class, responseContainer = &quot;List&quot;, position = 10)\npublic Response listDepts(\n  @Auth @ApiParam(access = &quot;internal&quot;, required = false)\n  PrincipalDTO user\n)\n{\n  // ...\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-annotations","configurationproperties"],"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658569961,"post_id":73086354,"comment_id":129087815,"body_markdown":"For those interested how the bean name for @ConfigurationProperties is determined: https://github.com/spring-projects/spring-boot/blob/68fc87bc7fa74f5df34b814ebc157a65e263ca13/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/properties/ConfigurationPropertiesBeanRegistrar.java#L64-L67","body":"For those interested how the bean name for @ConfigurationProperties is determined: <a href=\"https://github.com/spring-projects/spring-boot/blob/68fc87bc7fa74f5df34b814ebc157a65e263ca13/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/properties/ConfigurationPropertiesBeanRegistrar.java#L64-L67\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658571101,"creation_date":1658568953,"answer_id":73089616,"question_id":73086354,"body_markdown":"You can control the name of the bean to which configuration properties are bound if you define it using a `@Bean` method:\r\n\r\n```java\r\n@Configuration\r\nclass ExampleConfiguration {\r\n\r\n    @Bean(&quot;theNameThatYouWantTheBeanToHave&quot;)\r\n    @ConfigurationProperties(&quot;prefix.stuff&quot;)\r\n    ExampleProps exampleProps {\r\n        return new ExampleProps();\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor this to work, you&#39;d have to stop using constructor binding and switch to setter-based binding instead. In outline form, that would leave `ExampleProps` looking like this:\r\n\r\n```java\r\npublic class ExampleProps {\r\n\r\n   // Properties fields\r\n\r\n   // Getters and setters\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nHaving said this, I would think twice about following this approach. Generally speaking, the name that&#39;s assigned to a bean should not matter. You may want to look at why the name is important and see if that can be changed rather than trying to force the bean to have a particular name.\r\n\r\n","title":"Spring naming strategy for @ConfigurationProperties","body":"<p>You can control the name of the bean to which configuration properties are bound if you define it using a <code>@Bean</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass ExampleConfiguration {\n\n    @Bean(&quot;theNameThatYouWantTheBeanToHave&quot;)\n    @ConfigurationProperties(&quot;prefix.stuff&quot;)\n    ExampleProps exampleProps {\n        return new ExampleProps();\n    }\n\n}\n</code></pre>\n<p>For this to work, you'd have to stop using constructor binding and switch to setter-based binding instead. In outline form, that would leave <code>ExampleProps</code> looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleProps {\n\n   // Properties fields\n\n   // Getters and setters\n\n}\n</code></pre>\n<p>Having said this, I would think twice about following this approach. Generally speaking, the name that's assigned to a bean should not matter. You may want to look at why the name is important and see if that can be changed rather than trying to force the bean to have a particular name.</p>\n"}],"owner":{"account_id":24882522,"reputation":1,"user_id":18755546,"display_name":"Kravuar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658571101,"creation_date":1658526258,"question_id":73086354,"body_markdown":"Lets say i have properties class ExampleProps:\r\n\r\n    @ConfigurationProperties(prefix = &quot;prefix.stuff&quot;)\r\n    @ConstructorBinding\r\n    @AllArgsConstructor\r\n    public class ExampleProps {\r\n           ...\r\n    }\r\n\r\nWhich is located in src/main/java/com/example/props/.\r\nWhen spring scans for ConfigurationProperties it gives it following name\r\n\r\n    &quot;prefix.stuff-com.example.props.ExampleProps&quot;\r\nCan i somehow change naming strategy to the regular one (Class name with lowercase first letter)?","title":"Spring naming strategy for @ConfigurationProperties","body":"<p>Lets say i have properties class ExampleProps:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;prefix.stuff&quot;)\n@ConstructorBinding\n@AllArgsConstructor\npublic class ExampleProps {\n       ...\n}\n</code></pre>\n<p>Which is located in src/main/java/com/example/props/.\nWhen spring scans for ConfigurationProperties it gives it following name</p>\n<pre><code>&quot;prefix.stuff-com.example.props.ExampleProps&quot;\n</code></pre>\n<p>Can i somehow change naming strategy to the regular one (Class name with lowercase first letter)?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-resttemplate","spring-thymeleaf"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1658509022,"post_id":73083015,"comment_id":129077274,"body_markdown":"Where did you find an error?","body":"Where did you find an error?"},{"owner":{"account_id":25792643,"reputation":11,"user_id":19536458,"display_name":"autoboss"},"score":0,"creation_date":1658509727,"post_id":73083015,"comment_id":129077542,"body_markdown":"@RomanC on the redirect to register_success.html page.","body":"@RomanC on the redirect to register_success.html page."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1658513310,"post_id":73083015,"comment_id":129078623,"body_markdown":"I didn&#39;t ask you when, read the question above","body":"I didn&#39;t ask you when, read the question above"},{"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"score":0,"creation_date":1658521577,"post_id":73083015,"comment_id":129080869,"body_markdown":"Please share an `appointment` json value","body":"Please share an <code>appointment</code> json value"}],"owner":{"account_id":25792643,"reputation":11,"user_id":19536458,"display_name":"autoboss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658571040,"creation_date":1658505186,"question_id":73083015,"body_markdown":"I am trying to pass an HTML form through a downstream API using Springboot and Thymeleaf but the response I am getting is:\r\n\r\n&gt; org.springframework.web.client.HttpClientErrorException$BadRequest: 400 : &quot;[{&quot;code&quot;:&quot;SERVICE_GATEWAY_ERROR&quot;,&quot;message&quot;:&quot;Received bad request - appointmentDate and appointmentTime can&#39;t be empty&quot;}]&quot;\r\n\r\nThis is from html:\r\n\r\n```html\r\n&lt;label&gt;appointmentDate:&lt;/label&gt;\r\n&lt;input type=&quot;date&quot; th:field=&quot;*{appointmentDate}&quot; /&gt;&lt;br/&gt;\r\n\r\n&lt;label&gt;appointmentStartTime:&lt;/label&gt;\r\n&lt;input type=&quot;time&quot; th:field=&quot;*{appointmentStartTime}&quot;  step=&quot;1&quot; /&gt;&lt;br/&gt;\r\n```\r\n\r\nThis is from my controller\r\n\r\n```java\r\n@PostMapping(&quot;/showform&quot;)\r\n@ResponseBody\r\npublic String submitForm(@ModelAttribute (&quot;appointment&quot;) Appointment appointment) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.valueOf(MediaType.APPLICATION_JSON_VALUE));\r\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    HttpEntity&lt;Appointment&gt; entity = new HttpEntity&lt;Appointment&gt;(appointment,headers);\r\n\r\n    String responds = restTemplate.exchange(\r\n            &quot;downstreamapiurl&quot;, HttpMethod.POST, entity, String.class).getBody();*/\r\n\r\n\r\n    return &quot;registersuccess&quot;;\r\n}\r\n```\r\n","title":"SpringBoot Downstream API Post Request","body":"<p>I am trying to pass an HTML form through a downstream API using Springboot and Thymeleaf but the response I am getting is:</p>\n<blockquote>\n<p>org.springframework.web.client.HttpClientErrorException$BadRequest: 400 : &quot;[{&quot;code&quot;:&quot;SERVICE_GATEWAY_ERROR&quot;,&quot;message&quot;:&quot;Received bad request - appointmentDate and appointmentTime can't be empty&quot;}]&quot;</p>\n</blockquote>\n<p>This is from html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;label&gt;appointmentDate:&lt;/label&gt;\n&lt;input type=&quot;date&quot; th:field=&quot;*{appointmentDate}&quot; /&gt;&lt;br/&gt;\n\n&lt;label&gt;appointmentStartTime:&lt;/label&gt;\n&lt;input type=&quot;time&quot; th:field=&quot;*{appointmentStartTime}&quot;  step=&quot;1&quot; /&gt;&lt;br/&gt;\n</code></pre>\n<p>This is from my controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/showform&quot;)\n@ResponseBody\npublic String submitForm(@ModelAttribute (&quot;appointment&quot;) Appointment appointment) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.valueOf(MediaType.APPLICATION_JSON_VALUE));\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;Appointment&gt; entity = new HttpEntity&lt;Appointment&gt;(appointment,headers);\n\n    String responds = restTemplate.exchange(\n            &quot;downstreamapiurl&quot;, HttpMethod.POST, entity, String.class).getBody();*/\n\n\n    return &quot;registersuccess&quot;;\n}\n</code></pre>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1658571334,"post_id":73083090,"comment_id":129088040,"body_markdown":"The `REASON.fieldsRow()` failure from within the `MULTISET` might be a bug. Would you mind reporting it here? https://github.com/jOOQ/jOOQ/issues/new/choose","body":"The <code>REASON.fieldsRow()</code> failure from within the <code>MULTISET</code> might be a bug. Would you mind reporting it here? <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/new/choose</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658571039,"creation_date":1658571039,"answer_id":73089829,"question_id":73083090,"body_markdown":"### A simpler solution\r\n\r\nAssuming that `ReasonRecord` is the generated `TableRecord` for the `REASON` table, then starting from jOOQ 3.17, you can simply project the table reference itself:\r\n\r\n```java\r\nselect(REASON)\r\n.from(REASON)\r\n.where(REASON.RUN_ID.eq(RUN.ID))\r\n```\r\n\r\nThat way, you don&#39;t have to apply any ad-hoc conversion anymore to get a nested  `Result&lt;ReasonRecord&gt;`. (You might still keep it in order to turn the `Result&lt;ReasonRecord&gt;` into a `List&lt;ReasonRecord&gt;` if your typing makes this necessary...).\r\n\r\nLikewise, you don&#39;t need to use `RUN.fieldsRow()` anymore. Just project `RUN`:\r\n\r\n```java\r\nconf.dsl()\r\n    .select(\r\n       RUN,\r\n       RUN_PROGRESS,\r\n       ...)\r\n```\r\n\r\n\r\n","title":"jOOQ: fetchInto with fieldsRow() returns null for Record object but not for POJOs","body":"<h3>A simpler solution</h3>\n<p>Assuming that <code>ReasonRecord</code> is the generated <code>TableRecord</code> for the <code>REASON</code> table, then starting from jOOQ 3.17, you can simply project the table reference itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>select(REASON)\n.from(REASON)\n.where(REASON.RUN_ID.eq(RUN.ID))\n</code></pre>\n<p>That way, you don't have to apply any ad-hoc conversion anymore to get a nested  <code>Result&lt;ReasonRecord&gt;</code>. (You might still keep it in order to turn the <code>Result&lt;ReasonRecord&gt;</code> into a <code>List&lt;ReasonRecord&gt;</code> if your typing makes this necessary...).</p>\n<p>Likewise, you don't need to use <code>RUN.fieldsRow()</code> anymore. Just project <code>RUN</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>conf.dsl()\n    .select(\n       RUN,\n       RUN_PROGRESS,\n       ...)\n</code></pre>\n"}],"owner":{"account_id":2571657,"reputation":366,"user_id":2230226,"accept_rate":60,"display_name":"Josh P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658571039,"creation_date":1658505567,"question_id":73083090,"body_markdown":"I recently ran into some unexpected jOOQ behaviour. I&#39;d written a query where I was mixing fetching into jOOQ-generated POJOs and jOOQ generated Record classes. A colleague correctly pointed out that I should be consistent and use just Record or just POJO classes, so I updated my query to fetch Record objects instead.\r\n\r\nHowever, I updated the `fetchInto` call to point to a Record class instead of a POJO, and suddenly my previously-working and otherwise unchanged queries were returning Record objects where all fields were null!\r\n\r\nEventually I tried adjusting the select query and selected each relevant field individually, and then the relevant objects were populated correctly.\r\n\r\n**Why does this behaviour happen?** \r\n\r\n\r\n\r\nCode examples for each of the 3 scenarios:\r\n\r\n\r\n`fieldsRow()` and fetching into a generated POJO, everything works as expected:\r\n\r\n```\r\nconf -&gt;\r\n    conf.dsl()\r\n\t.select(\r\n\t    RUN.fieldsRow().as(&quot;run&quot;).convertFrom(r -&gt; r.into(RunRecord.class)),\r\n\t    RUN_PROGRESS\r\n\t\t.fieldsRow()\r\n\t\t.as(&quot;run_progress&quot;)\r\n\t\t.convertFrom(r -&gt; r.into(RunProgressRecord.class)),\r\n\t    multiset(\r\n\t\t    select(REASON.fieldsRow()) &lt;----- \r\n\t\t\t.from(REASON)\r\n\t\t\t.where(REASON.RUN_ID.eq(RUN.ID)))\r\n\t\t.as(&quot;reasons&quot;)\r\n\t\t.convertFrom(r -&gt; r.into(Reason.class)))   &lt;---- \r\n\t.from(RUN)\r\n\t.leftOuterJoin(RUN_PROGRESS)\r\n\t.on(RUN_PROGRESS.RUN_ID.eq(RUN.ID))\r\n\t.where(RUN.ID.eq(runId.getValue()))\r\n    .fetch()\r\n```\r\n\r\n\r\n`fieldsRow()` and fetching into a generated Record class, all fields of the retrieved `ReasonRecord` objects are null!?!\r\n\r\n\r\n```\r\nconf -&gt;\r\n    conf.dsl()\r\n\t.select(\r\n\t    RUN.fieldsRow().as(&quot;run&quot;).convertFrom(r -&gt; r.into(RunRecord.class)),\r\n\t    RUN_PROGRESS\r\n\t\t.fieldsRow()\r\n\t\t.as(&quot;run_progress&quot;)\r\n\t\t.convertFrom(r -&gt; r.into(RunProgressRecord.class)),\r\n\t    multiset(\r\n\t\t    select(REASON.fieldsRow())\r\n\t\t\t.from(REASON)\r\n\t\t\t.where(REASON.RUN_ID.eq(RUN.ID)))\r\n\t\t.as(&quot;reasons&quot;)\r\n\t\t.convertFrom(r -&gt; r.into(ReasonRecord.class)))   &lt;---- \r\n\t.from(RUN)\r\n\t.leftOuterJoin(RUN_PROGRESS)\r\n\t.on(RUN_PROGRESS.RUN_ID.eq(RUN.ID))\r\n\t.where(RUN.ID.eq(runId.getValue()))\r\n    .fetch()\r\n```\r\n\r\nSelecting each `Reason` field individually, everything works as expected again:\r\n\r\n\r\n```\r\nconf -&gt;\r\n    conf.dsl()\r\n\t.select(\r\n\t    RUN.fieldsRow().as(&quot;run&quot;).convertFrom(r -&gt; r.into(RunRecord.class)),\r\n\t    RUN_PROGRESS\r\n\t\t.fieldsRow()\r\n\t\t.as(&quot;run_progress&quot;)\r\n\t\t.convertFrom(r -&gt; r.into(RunProgressRecord.class)),\r\n\t    multiset(\r\n\t\t    select(REASON.RUN_ID, REASON.REASON_)  &lt;------\r\n\t\t\t.from(REASON)\r\n\t\t\t.where(REASON.RUN_ID.eq(RUN.ID)))\r\n\t\t.as(&quot;reasons&quot;)\r\n\t\t.convertFrom(r -&gt; r.into(ReasonRecord.class)))\r\n\t.from(RUN)\r\n\t.leftOuterJoin(RUN_PROGRESS)\r\n\t.on(RUN_PROGRESS.RUN_ID.eq(RUN.ID))\r\n\t.where(RUN.ID.eq(runId.getValue()))\r\n    .fetch()\r\n```","title":"jOOQ: fetchInto with fieldsRow() returns null for Record object but not for POJOs","body":"<p>I recently ran into some unexpected jOOQ behaviour. I'd written a query where I was mixing fetching into jOOQ-generated POJOs and jOOQ generated Record classes. A colleague correctly pointed out that I should be consistent and use just Record or just POJO classes, so I updated my query to fetch Record objects instead.</p>\n<p>However, I updated the <code>fetchInto</code> call to point to a Record class instead of a POJO, and suddenly my previously-working and otherwise unchanged queries were returning Record objects where all fields were null!</p>\n<p>Eventually I tried adjusting the select query and selected each relevant field individually, and then the relevant objects were populated correctly.</p>\n<p><strong>Why does this behaviour happen?</strong></p>\n<p>Code examples for each of the 3 scenarios:</p>\n<p><code>fieldsRow()</code> and fetching into a generated POJO, everything works as expected:</p>\n<pre><code>conf -&gt;\n    conf.dsl()\n    .select(\n        RUN.fieldsRow().as(&quot;run&quot;).convertFrom(r -&gt; r.into(RunRecord.class)),\n        RUN_PROGRESS\n        .fieldsRow()\n        .as(&quot;run_progress&quot;)\n        .convertFrom(r -&gt; r.into(RunProgressRecord.class)),\n        multiset(\n            select(REASON.fieldsRow()) &lt;----- \n            .from(REASON)\n            .where(REASON.RUN_ID.eq(RUN.ID)))\n        .as(&quot;reasons&quot;)\n        .convertFrom(r -&gt; r.into(Reason.class)))   &lt;---- \n    .from(RUN)\n    .leftOuterJoin(RUN_PROGRESS)\n    .on(RUN_PROGRESS.RUN_ID.eq(RUN.ID))\n    .where(RUN.ID.eq(runId.getValue()))\n    .fetch()\n</code></pre>\n<p><code>fieldsRow()</code> and fetching into a generated Record class, all fields of the retrieved <code>ReasonRecord</code> objects are null!?!</p>\n<pre><code>conf -&gt;\n    conf.dsl()\n    .select(\n        RUN.fieldsRow().as(&quot;run&quot;).convertFrom(r -&gt; r.into(RunRecord.class)),\n        RUN_PROGRESS\n        .fieldsRow()\n        .as(&quot;run_progress&quot;)\n        .convertFrom(r -&gt; r.into(RunProgressRecord.class)),\n        multiset(\n            select(REASON.fieldsRow())\n            .from(REASON)\n            .where(REASON.RUN_ID.eq(RUN.ID)))\n        .as(&quot;reasons&quot;)\n        .convertFrom(r -&gt; r.into(ReasonRecord.class)))   &lt;---- \n    .from(RUN)\n    .leftOuterJoin(RUN_PROGRESS)\n    .on(RUN_PROGRESS.RUN_ID.eq(RUN.ID))\n    .where(RUN.ID.eq(runId.getValue()))\n    .fetch()\n</code></pre>\n<p>Selecting each <code>Reason</code> field individually, everything works as expected again:</p>\n<pre><code>conf -&gt;\n    conf.dsl()\n    .select(\n        RUN.fieldsRow().as(&quot;run&quot;).convertFrom(r -&gt; r.into(RunRecord.class)),\n        RUN_PROGRESS\n        .fieldsRow()\n        .as(&quot;run_progress&quot;)\n        .convertFrom(r -&gt; r.into(RunProgressRecord.class)),\n        multiset(\n            select(REASON.RUN_ID, REASON.REASON_)  &lt;------\n            .from(REASON)\n            .where(REASON.RUN_ID.eq(RUN.ID)))\n        .as(&quot;reasons&quot;)\n        .convertFrom(r -&gt; r.into(ReasonRecord.class)))\n    .from(RUN)\n    .leftOuterJoin(RUN_PROGRESS)\n    .on(RUN_PROGRESS.RUN_ID.eq(RUN.ID))\n    .where(RUN.ID.eq(runId.getValue()))\n    .fetch()\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1658568113,"post_id":73089510,"comment_id":129087467,"body_markdown":"`ans=Math.max(ans,i)`  The problem here is that `ans` and `i` are not the integers themselves.  They&#39;re the *indexes* of the integers within `nums`.","body":"<code>ans=Math.max(ans,i)</code>  The problem here is that <code>ans</code> and <code>i</code> are not the integers themselves.  They&#39;re the <i>indexes</i> of the integers within <code>nums</code>."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1658568462,"post_id":73089510,"comment_id":129087538,"body_markdown":"I agree with slothrop. You could do if (nums[i] &gt; 0) ans=i","body":"I agree with slothrop. You could do if (nums[i] &gt; 0) ans=i"}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1658569267,"creation_date":1658569267,"answer_id":73089647,"question_id":73089510,"body_markdown":"Just update the `else if` condition:\r\n\r\n    else if(Math.abs(nums[i])==minDiff)\r\n    {\r\n        ans=Math.max(ans,i);\r\n    }\r\n\r\nlike this:\r\n\r\n         else if(Math.abs(nums[i])==minDiff)\r\n         {\r\n              ans=nums[ans] &gt; nums[i] ? ans : i;\r\n         }\r\n\r\ncompare the value at indexes, rather than comparing indexes.","title":"Find Closest Number to Zero","body":"<p>Just update the <code>else if</code> condition:</p>\n<pre><code>else if(Math.abs(nums[i])==minDiff)\n{\n    ans=Math.max(ans,i);\n}\n</code></pre>\n<p>like this:</p>\n<pre><code>     else if(Math.abs(nums[i])==minDiff)\n     {\n          ans=nums[ans] &gt; nums[i] ? ans : i;\n     }\n</code></pre>\n<p>compare the value at indexes, rather than comparing indexes.</p>\n"}],"owner":{"account_id":21147492,"reputation":35,"user_id":15548500,"display_name":"Pushpendra Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73089647,"answer_count":1,"score":-2,"last_activity_date":1658569267,"creation_date":1658567934,"question_id":73089510,"body_markdown":"I used this approach but it is not working on input like\r\n[1,1,-1].When ever -1 comes after 1 in arrays it is showing wrong answer.\r\n&gt;Problem statement to the question is\r\nGiven an integer array nums of size n, return the number with the value closest to 0 in nums. If there are multiple answers, return the number with the largest value.\r\n```\r\nclass Solution {\r\n    public int findClosestNumber(int[] nums) {\r\n        int minDiff=Integer.MAX_VALUE;\r\n        int ans=0;\r\n        for(int i=0;i&lt;nums.length;i++)\r\n        {\r\n            if(Math.abs(nums[i])&lt;minDiff)\r\n            {\r\n                minDiff=Math.abs(nums[i]);\r\n                ans=i;\r\n            }else if(Math.abs(nums[i])==minDiff)\r\n            {\r\n                ans=Math.max(ans,i);\r\n            }\r\n        }\r\n        return nums[ans];\r\n    }\r\n}\r\n```","title":"Find Closest Number to Zero","body":"<p>I used this approach but it is not working on input like\n[1,1,-1].When ever -1 comes after 1 in arrays it is showing wrong answer.</p>\n<blockquote>\n<p>Problem statement to the question is\nGiven an integer array nums of size n, return the number with the value closest to 0 in nums. If there are multiple answers, return the number with the largest value.</p>\n</blockquote>\n<pre><code>class Solution {\n    public int findClosestNumber(int[] nums) {\n        int minDiff=Integer.MAX_VALUE;\n        int ans=0;\n        for(int i=0;i&lt;nums.length;i++)\n        {\n            if(Math.abs(nums[i])&lt;minDiff)\n            {\n                minDiff=Math.abs(nums[i]);\n                ans=i;\n            }else if(Math.abs(nums[i])==minDiff)\n            {\n                ans=Math.max(ans,i);\n            }\n        }\n        return nums[ans];\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-repositories","mongorepository"],"answers":[{"tags":[],"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658490098,"creation_date":1658490098,"answer_id":73079795,"question_id":73079659,"body_markdown":"The `CrudRepository#deleteAll` returns void by definition, you cannot override a return type. But you can create your own method, e.g., `int deleteAllAndGetCount`.\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html","title":"How to get number of rows deleted using deleteAll()?","body":"<p>The <code>CrudRepository#deleteAll</code> returns void by definition, you cannot override a return type. But you can create your own method, e.g., <code>int deleteAllAndGetCount</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html</a></p>\n"},{"tags":[],"owner":{"account_id":13838023,"reputation":60,"user_id":9989076,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658569208,"creation_date":1658504843,"answer_id":73082954,"question_id":73079659,"body_markdown":"You can achieve this using `org.springframework.data.mongodb.repository.Query` annotation:\r\n\r\n```\r\npublic interface CalculationInfoRepository extends MongoRepository&lt;CalculationInfo, String&gt; {\r\n    @Modifying\r\n    @Query(value = &quot;{id : {$in: :#{#ids}}}&quot;, delete = true)\r\n    int deleteCalculationInfos(@Param(&quot;ids&quot;) Iterable&lt;String&gt; ids);\r\n}\r\n```\r\nIt will delete rows by ids with `String` type and return number of deleted rows.","title":"How to get number of rows deleted using deleteAll()?","body":"<p>You can achieve this using <code>org.springframework.data.mongodb.repository.Query</code> annotation:</p>\n<pre><code>public interface CalculationInfoRepository extends MongoRepository&lt;CalculationInfo, String&gt; {\n    @Modifying\n    @Query(value = &quot;{id : {$in: :#{#ids}}}&quot;, delete = true)\n    int deleteCalculationInfos(@Param(&quot;ids&quot;) Iterable&lt;String&gt; ids);\n}\n</code></pre>\n<p>It will delete rows by ids with <code>String</code> type and return number of deleted rows.</p>\n"}],"owner":{"account_id":15917371,"reputation":91,"user_id":11485546,"display_name":"Wiktor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658569208,"creation_date":1658489446,"question_id":73079659,"body_markdown":"I want to get number of deleted rows with `deleteAll()` using SpringRepository. It is pretty simple to obtain this if I write my own function, just like in this [thread](https://stackoverflow.com/questions/39796849/spring-repository-get-number-of-deleted-rows). However, I want to override `deleteAll()` method. The following code doesn&#39;t work:\r\n\r\n```\r\npublic interface CalculationInfoRepository extends MongoRepository&lt;CalculationInfo, Long&gt; {\r\n  @Override\r\n  @Modifying\r\n  int deleteAll(Iterable&lt;? extends CalculationInfo&gt; entities);\r\n}\r\n```\r\n\r\nbecause I get \r\n\r\n&gt; The return type is incompatible with\r\n&gt; CrudRepository&lt;CalculationInfo,Long&gt;.deleteAll(Iterable&lt;? extends\r\n&gt; CalculationInfo&gt;)\r\n\r\nHow should I do it?","title":"How to get number of rows deleted using deleteAll()?","body":"<p>I want to get number of deleted rows with <code>deleteAll()</code> using SpringRepository. It is pretty simple to obtain this if I write my own function, just like in this <a href=\"https://stackoverflow.com/questions/39796849/spring-repository-get-number-of-deleted-rows\">thread</a>. However, I want to override <code>deleteAll()</code> method. The following code doesn't work:</p>\n<pre><code>public interface CalculationInfoRepository extends MongoRepository&lt;CalculationInfo, Long&gt; {\n  @Override\n  @Modifying\n  int deleteAll(Iterable&lt;? extends CalculationInfo&gt; entities);\n}\n</code></pre>\n<p>because I get</p>\n<blockquote>\n<p>The return type is incompatible with\nCrudRepository&lt;CalculationInfo,Long&gt;.deleteAll(Iterable&lt;? extends\nCalculationInfo&gt;)</p>\n</blockquote>\n<p>How should I do it?</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658583181,"post_id":73088780,"comment_id":129090066,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16536700,"reputation":499,"user_id":11948496,"display_name":"MDK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658568984,"creation_date":1658568984,"answer_id":73089623,"question_id":73088780,"body_markdown":"That Exception means that the given heap (where the file data is stored) is simply not enough to hold all the data your program loads. The only solution is to either supply more heap space or make the program require less of it.\r\n\r\n**Further increasing your heap size**, e.g. by changing the setting to`-Xmx4096m` can possibly solve the issue, depending on how large your files are. You can increase the number until your computer reaches its memory limit, so its a short term solution at best, as soon as your program will have to load more files, it will eventually stop working.\r\n\r\n**Make the program use less heap space**. The only long term solution would be to not try to load all file contents simultaneously. How to go about that completely depends on what you want to do with your data in your program. A simple solution would be to delay the load of the contents by only storing the file handle in the map, so the type of the nested map would be `Map&lt;Integer, File&gt; nestedMap = new HashMap&lt;&gt;();`. You would then directly put the file `nestedMap.put(docName, xFiles);`. The call to `FileUtils.readFileToByteArray(xFiles)` would then only be done much later when the actual contents are needed. After the file contents are processed, you then immediately remove the read data to make space for the next file. If you read your files several times this will have a performance penalty, though, since the data would need to be read every single time the data is needed, not just once. Some sort of caching strategy can help to balance how much memory your program needs vs how long it takes.\r\n\r\n**A quick fix**, however, might actually be to simply not store the data as `Byte[]`, but as `byte[]`. In a primitive byte array, each byte more or less needs one byte of memory. For a boxed Byte, however, the byte is stored indirectly and the array contains the adress of that storage. So you need to store the address to that object, as well as the object overhead, too. According to https://stackoverflow.com/questions/9037468/what-is-the-storage-cost-for-a-boxed-primitive-in-java, boxing your primitive data requires 16-24 times more memory than before. This is also only a short term solution, if the combined file size is larger than your heap, even the most efficient implementation will not be able to store it all, and you will have to go with the solution described above.","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space at org.apache.commons.lang3.ArrayUtils","body":"<p>That Exception means that the given heap (where the file data is stored) is simply not enough to hold all the data your program loads. The only solution is to either supply more heap space or make the program require less of it.</p>\n<p><strong>Further increasing your heap size</strong>, e.g. by changing the setting to<code>-Xmx4096m</code> can possibly solve the issue, depending on how large your files are. You can increase the number until your computer reaches its memory limit, so its a short term solution at best, as soon as your program will have to load more files, it will eventually stop working.</p>\n<p><strong>Make the program use less heap space</strong>. The only long term solution would be to not try to load all file contents simultaneously. How to go about that completely depends on what you want to do with your data in your program. A simple solution would be to delay the load of the contents by only storing the file handle in the map, so the type of the nested map would be <code>Map&lt;Integer, File&gt; nestedMap = new HashMap&lt;&gt;();</code>. You would then directly put the file <code>nestedMap.put(docName, xFiles);</code>. The call to <code>FileUtils.readFileToByteArray(xFiles)</code> would then only be done much later when the actual contents are needed. After the file contents are processed, you then immediately remove the read data to make space for the next file. If you read your files several times this will have a performance penalty, though, since the data would need to be read every single time the data is needed, not just once. Some sort of caching strategy can help to balance how much memory your program needs vs how long it takes.</p>\n<p><strong>A quick fix</strong>, however, might actually be to simply not store the data as <code>Byte[]</code>, but as <code>byte[]</code>. In a primitive byte array, each byte more or less needs one byte of memory. For a boxed Byte, however, the byte is stored indirectly and the array contains the adress of that storage. So you need to store the address to that object, as well as the object overhead, too. According to <a href=\"https://stackoverflow.com/questions/9037468/what-is-the-storage-cost-for-a-boxed-primitive-in-java\">What is the storage cost for a boxed primitive in Java?</a>, boxing your primitive data requires 16-24 times more memory than before. This is also only a short term solution, if the combined file size is larger than your heap, even the most efficient implementation will not be able to store it all, and you will have to go with the solution described above.</p>\n"}],"owner":{"account_id":24514765,"reputation":1,"user_id":18428686,"display_name":"Stormbreaker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658568984,"creation_date":1658560669,"question_id":73088780,"body_markdown":"I&#39;m trying to read files from folders maximum of up to 3200~ files and storing them in the HashMap folder name is key and values are files inside the folder. Im getting **java.lang.OutOfMemoryError: Java heap space** Exception. Can anyone help? My JVM Heap size is _JAVA_OPTIONS: -Xms1024m -Xmx2048m. How to sort this out?\r\n\r\n\r\n``` public class ReadDocuments {\r\n\tprivate static final String FOLDER_PATH = &quot;H:\\\\NPA\\\\74RR\\\\Docs&quot;;\r\n\r\n\tpublic static Map&lt;String, Map&lt;Integer, Byte[]&gt;&gt; readFilesFromSystem() {\r\n\r\n\t\tFile file = new File(FOLDER_PATH);\r\n\r\n\t\t\r\n\t\t// folders name example T74001, T74002, T74003\r\n\t\tString[] list = file.list();\r\n\r\n\t\tSystem.out.println(list.length);\r\n\t\tMap&lt;String, Map&lt;Integer, Byte[]&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\t// looping through single id documents\r\n\t\tfor (String p : list) {\r\n\t\t\tMap&lt;Integer, Byte[]&gt; nestedMap = new HashMap&lt;Integer, Byte[]&gt;();\r\n\t\t\tFile folder = new File(FOLDER_PATH + &quot;\\\\&quot; + p); // gives &quot;H:\\\\NPA\\\\Documents\\\\T74002\r\n\t\t\tFile[] listOfFiles = folder.listFiles();\r\n\t\t\tfor (int i = 0; i &lt; listOfFiles.length; i++) {\r\n\t\t\t\tFile xFiles = listOfFiles[i];\r\n\t\t\t\tif (xFiles.isFile() &amp;&amp; xFiles.getName().toLowerCase().endsWith(&quot;.pdf&quot;)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tbyte[] readFileToByteArray = FileUtils.readFileToByteArray(xFiles);\r\n\t\t\t\t\t\tInteger docName = removeExtension(xFiles.getName());\r\n\t\t\t\t\t\tlong sizeInMb = readFileToByteArray.length / (1024 * 1024);\r\n\t\t\t\t\t\tSystem.out.println(p + &quot;---File &quot; + docName + &quot; &quot; + sizeInMb + &quot;Mb&quot;);\r\n\t\t\t\t\t\tByte[] b = ArrayUtils.toObject(readFileToByteArray);\r\n\t\t\t\t\t\tnestedMap.put(docName, b);\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t} catch (InvalidFileFormatName e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmap.put(p, nestedMap);\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\n\tprivate static Integer removeExtension(String name) throws InvalidFileFormatName {\r\n\t\ttry {\r\n\t\t\tname = name.substring(0, name.lastIndexOf(&quot;.&quot;));\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new InvalidFileFormatName(&quot;Invalid File Format &quot; + name);\r\n\t\t}\r\n\t\treturn Integer.parseInt(name);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\treadFilesFromSystem();\r\n\t}\r\n}\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space at org.apache.commons.lang3.ArrayUtils","body":"<p>I'm trying to read files from folders maximum of up to 3200~ files and storing them in the HashMap folder name is key and values are files inside the folder. Im getting <strong>java.lang.OutOfMemoryError: Java heap space</strong> Exception. Can anyone help? My JVM Heap size is _JAVA_OPTIONS: -Xms1024m -Xmx2048m. How to sort this out?</p>\n<pre><code>    private static final String FOLDER_PATH = &quot;H:\\\\NPA\\\\74RR\\\\Docs&quot;;\n\n    public static Map&lt;String, Map&lt;Integer, Byte[]&gt;&gt; readFilesFromSystem() {\n\n        File file = new File(FOLDER_PATH);\n\n        \n        // folders name example T74001, T74002, T74003\n        String[] list = file.list();\n\n        System.out.println(list.length);\n        Map&lt;String, Map&lt;Integer, Byte[]&gt;&gt; map = new HashMap&lt;&gt;();\n        // looping through single id documents\n        for (String p : list) {\n            Map&lt;Integer, Byte[]&gt; nestedMap = new HashMap&lt;Integer, Byte[]&gt;();\n            File folder = new File(FOLDER_PATH + &quot;\\\\&quot; + p); // gives &quot;H:\\\\NPA\\\\Documents\\\\T74002\n            File[] listOfFiles = folder.listFiles();\n            for (int i = 0; i &lt; listOfFiles.length; i++) {\n                File xFiles = listOfFiles[i];\n                if (xFiles.isFile() &amp;&amp; xFiles.getName().toLowerCase().endsWith(&quot;.pdf&quot;)) {\n                    try {\n                        byte[] readFileToByteArray = FileUtils.readFileToByteArray(xFiles);\n                        Integer docName = removeExtension(xFiles.getName());\n                        long sizeInMb = readFileToByteArray.length / (1024 * 1024);\n                        System.out.println(p + &quot;---File &quot; + docName + &quot; &quot; + sizeInMb + &quot;Mb&quot;);\n                        Byte[] b = ArrayUtils.toObject(readFileToByteArray);\n                        nestedMap.put(docName, b);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    } catch (InvalidFileFormatName e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n            map.put(p, nestedMap);\n        }\n        return map;\n    }\n\n    private static Integer removeExtension(String name) throws InvalidFileFormatName {\n        try {\n            name = name.substring(0, name.lastIndexOf(&quot;.&quot;));\n        } catch (NumberFormatException e) {\n            throw new InvalidFileFormatName(&quot;Invalid File Format &quot; + name);\n        }\n        return Integer.parseInt(name);\n    }\n\n    public static void main(String[] args) {\n        readFilesFromSystem();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658568301,"creation_date":1658568301,"answer_id":73089550,"question_id":73089276,"body_markdown":"If you are using Spring Boot&#39;s embedded Tomcat server, you can listen for the `WebServerInitializedEvent`:\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.context.WebServerInitializedEvent;\r\nimport org.springframework.context.ApplicationListener;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class WebServerReadyExampleApplication {\r\n\r\n\t@Bean\r\n\tApplicationListener&lt;WebServerInitializedEvent&gt; webServerInitializedListener() {\r\n\t\treturn (event) -&gt; {\r\n\t\t\tSystem.out.println(&quot;Web server ready&quot;);\r\n\t\t};\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WebServerReadyExampleApplication.class, args);\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nThe listener will be called after Tomcat has started accepting connections:\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.2)\r\n\r\n2022-07-23 10:22:05.295  INFO 6769 --- [           main] c.e.d.WebServerReadyExampleApplication   : Starting WebServerReadyExampleApplication using Java 17.0.1 on example-host with PID 6769 (/Users/example/web-server-ready-example/bin/main started by example in /Users/example/web-server-ready-example)\r\n2022-07-23 10:22:05.297  INFO 6769 --- [           main] c.e.d.WebServerReadyExampleApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-07-23 10:22:05.935  INFO 6769 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-07-23 10:22:05.943  INFO 6769 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-07-23 10:22:05.943  INFO 6769 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n2022-07-23 10:22:06.009  INFO 6769 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-07-23 10:22:06.009  INFO 6769 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 671 ms\r\n2022-07-23 10:22:06.259  INFO 6769 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\nWeb server ready\r\n2022-07-23 10:22:06.266  INFO 6769 --- [           main] c.e.d.WebServerReadyExampleApplication   : Started WebServerReadyExampleApplication in 1.247 seconds (JVM running for 1.577)\r\n```","title":"Notify SpringBoot application that its web server is up","body":"<p>If you are using Spring Boot's embedded Tomcat server, you can listen for the <code>WebServerInitializedEvent</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.context.WebServerInitializedEvent;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class WebServerReadyExampleApplication {\n\n    @Bean\n    ApplicationListener&lt;WebServerInitializedEvent&gt; webServerInitializedListener() {\n        return (event) -&gt; {\n            System.out.println(&quot;Web server ready&quot;);\n        };\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(WebServerReadyExampleApplication.class, args);\n    }\n    \n\n}\n</code></pre>\n<p>The listener will be called after Tomcat has started accepting connections:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.2)\n\n2022-07-23 10:22:05.295  INFO 6769 --- [           main] c.e.d.WebServerReadyExampleApplication   : Starting WebServerReadyExampleApplication using Java 17.0.1 on example-host with PID 6769 (/Users/example/web-server-ready-example/bin/main started by example in /Users/example/web-server-ready-example)\n2022-07-23 10:22:05.297  INFO 6769 --- [           main] c.e.d.WebServerReadyExampleApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-07-23 10:22:05.935  INFO 6769 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-07-23 10:22:05.943  INFO 6769 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-07-23 10:22:05.943  INFO 6769 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-07-23 10:22:06.009  INFO 6769 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-07-23 10:22:06.009  INFO 6769 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 671 ms\n2022-07-23 10:22:06.259  INFO 6769 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\nWeb server ready\n2022-07-23 10:22:06.266  INFO 6769 --- [           main] c.e.d.WebServerReadyExampleApplication   : Started WebServerReadyExampleApplication in 1.247 seconds (JVM running for 1.577)\n</code></pre>\n"}],"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658568871,"creation_date":1658565811,"question_id":73089276,"body_markdown":"I need that my Springboot application knows when its web server (Tomcat) is up\r\n\r\nI tried something using `@WebListener`, `ServletContextListener` and `@ServletComponentScan`\r\n\r\n\r\n      @WebListener\r\n      public class MyServletContextListener implements ServletContextListener {\r\n          private static final Logger LOG = getLogger(MyServletContextListener.class);\r\n\r\n          @Override\r\n          public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n              LOG.info(&quot;Starting up!&quot;);\r\n          }\r\n\r\n          @Override\r\n          public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n              LOG.info(&quot;Shutting down!&quot;);\r\n          }\r\n      }\r\n\r\nIt seems to work: my listener is correctly notified.\r\n\r\nHowever, I realized that if I try to join my Web server from this listener, the call fails\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n        URI uri = HttpHelper.newAnyUriBuilder(&quot;localhost&quot;, 8181, false).path(&quot;actuator/health&quot;).build();\r\n        new RestAPI().GET(uri); /// Throws\r\n        LOG.info(&quot;Starting up!&quot;);\r\n    }\r\n\r\nmeaning that the web server is **not completely UP AND READY**\r\n\r\n\r\nIf I postpone the call, it succeeds:\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try { Thread.sleep(1000); } catch (InterruptedException e) {} /// dirty but this is just a sample\r\n                URI uri = HttpHelper.newAnyUriBuilder(&quot;localhost&quot;, 8181, false).path(&quot;actuator/health&quot;).build();\r\n                new RestAPI().GET(uri); /// does not throw anymore\r\n\r\n                LOG.info(&quot;Starting up!&quot;);\r\n            }\r\n        }).start();\r\n    }\r\n\r\nAny idea how can I be notified correctly?\r\n\r\nThanks","title":"Notify SpringBoot application that its web server is up","body":"<p>I need that my Springboot application knows when its web server (Tomcat) is up</p>\n<p>I tried something using <code>@WebListener</code>, <code>ServletContextListener</code> and <code>@ServletComponentScan</code></p>\n<pre><code>  @WebListener\n  public class MyServletContextListener implements ServletContextListener {\n      private static final Logger LOG = getLogger(MyServletContextListener.class);\n\n      @Override\n      public void contextInitialized(ServletContextEvent servletContextEvent) {\n          LOG.info(&quot;Starting up!&quot;);\n      }\n\n      @Override\n      public void contextDestroyed(ServletContextEvent servletContextEvent) {\n          LOG.info(&quot;Shutting down!&quot;);\n      }\n  }\n</code></pre>\n<p>It seems to work: my listener is correctly notified.</p>\n<p>However, I realized that if I try to join my Web server from this listener, the call fails</p>\n<pre><code>@Override\npublic void contextInitialized(ServletContextEvent servletContextEvent) {\n    URI uri = HttpHelper.newAnyUriBuilder(&quot;localhost&quot;, 8181, false).path(&quot;actuator/health&quot;).build();\n    new RestAPI().GET(uri); /// Throws\n    LOG.info(&quot;Starting up!&quot;);\n}\n</code></pre>\n<p>meaning that the web server is <strong>not completely UP AND READY</strong></p>\n<p>If I postpone the call, it succeeds:</p>\n<pre><code>@Override\npublic void contextInitialized(ServletContextEvent servletContextEvent) {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try { Thread.sleep(1000); } catch (InterruptedException e) {} /// dirty but this is just a sample\n            URI uri = HttpHelper.newAnyUriBuilder(&quot;localhost&quot;, 8181, false).path(&quot;actuator/health&quot;).build();\n            new RestAPI().GET(uri); /// does not throw anymore\n\n            LOG.info(&quot;Starting up!&quot;);\n        }\n    }).start();\n}\n</code></pre>\n<p>Any idea how can I be notified correctly?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","google-calendar-api","android-contentprovider","icalendar"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1659007206,"post_id":73038956,"comment_id":129195842,"body_markdown":"maybe an issue with permissions? I&#39;m not familiar with this, but if it works on one device but not on another, maybe the app didn&#39;t request the proper permission to access the data there? For CalendarProvider it seems there are only a few permissions: https://developer.android.com/guide/topics/providers/calendar-provider#manifest","body":"maybe an issue with permissions? I&#39;m not familiar with this, but if it works on one device but not on another, maybe the app didn&#39;t request the proper permission to access the data there? For CalendarProvider it seems there are only a few permissions: <a href=\"https://developer.android.com/guide/topics/providers/calendar-provider#manifest\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/providers/&hellip;</a>"},{"owner":{"account_id":14879349,"reputation":525,"user_id":10744522,"display_name":"Shobhith"},"score":0,"creation_date":1659098112,"post_id":73038956,"comment_id":129220860,"body_markdown":"Can you tell the android version of both the devices?","body":"Can you tell the android version of both the devices?"}],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658568431,"creation_date":1658241630,"question_id":73038956,"body_markdown":"I have a calendar application that works well on any device. I can create new events, and these events sync with the server without any problem.&lt;br&gt;I also set &quot;**CUSTOM_APP_PACKAGE**&quot; and &quot;**CUSTOM_APP_URI**&quot; fields that work well on the device. But when I use the same account on another device, I get ***null*** value for these fields. &lt;br&gt;\r\nI have already read the [CalendarContract][1] documentation. These fields are supposed to sync without using a sync adapter. Is there something I can do in code?\r\n\r\n    ContentValues values = new ContentValues();\r\n    values.put(Events.DTSTART, startMillis);\r\n    values.put(Events.DTEND, endMillis);\r\n    values.put(Events.TITLE, title);\r\n    values.put(Events.EVENT_LOCATION, location);\r\n    values.put(Events.CALENDAR_ID, mCalendarTag.mID);\r\n    values.put(Events.EVENT_TIMEZONE, TimeZone.getDefault().getDisplayName());\r\n    values.put(CalendarContract.Events.CUSTOM_APP_PACKAGE, context.getPackageName()); // **\r\n    values.put(CalendarContract.Events.CUSTOM_APP_URI, &quot;myApp://a/b/c&quot;); // **\r\n    mContentResolver.insert(CalendarContract.Events.CONTENT_URI, values);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/CalendarContract.EventsColumns#CUSTOM_APP_PACKAGE","title":"Some event fields won&#39;t sync","body":"<p>I have a calendar application that works well on any device. I can create new events, and these events sync with the server without any problem.<br>I also set &quot;<strong>CUSTOM_APP_PACKAGE</strong>&quot; and &quot;<strong>CUSTOM_APP_URI</strong>&quot; fields that work well on the device. But when I use the same account on another device, I get <em><strong>null</strong></em> value for these fields. <br>\nI have already read the <a href=\"https://developer.android.com/reference/android/provider/CalendarContract.EventsColumns#CUSTOM_APP_PACKAGE\" rel=\"nofollow noreferrer\">CalendarContract</a> documentation. These fields are supposed to sync without using a sync adapter. Is there something I can do in code?</p>\n<pre><code>ContentValues values = new ContentValues();\nvalues.put(Events.DTSTART, startMillis);\nvalues.put(Events.DTEND, endMillis);\nvalues.put(Events.TITLE, title);\nvalues.put(Events.EVENT_LOCATION, location);\nvalues.put(Events.CALENDAR_ID, mCalendarTag.mID);\nvalues.put(Events.EVENT_TIMEZONE, TimeZone.getDefault().getDisplayName());\nvalues.put(CalendarContract.Events.CUSTOM_APP_PACKAGE, context.getPackageName()); // **\nvalues.put(CalendarContract.Events.CUSTOM_APP_URI, &quot;myApp://a/b/c&quot;); // **\nmContentResolver.insert(CalendarContract.Events.CONTENT_URI, values);\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1658563630,"post_id":73089041,"comment_id":129086718,"body_markdown":"Have you tried `@NotNull` from javax.validation.constraints.NotNull?","body":"Have you tried <code>@NotNull</code> from javax.validation.constraints.NotNull?"},{"owner":{"account_id":19959778,"reputation":107,"user_id":14627650,"display_name":"mroma95"},"score":0,"creation_date":1658564649,"post_id":73089041,"comment_id":129086880,"body_markdown":"yes, with the same result like upper :(","body":"yes, with the same result like upper :("},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":1,"creation_date":1658564992,"post_id":73089041,"comment_id":129086953,"body_markdown":"Have you override `MethodArgumentNotValidException` somewhere and not handling it properly?","body":"Have you override <code>MethodArgumentNotValidException</code> somewhere and not handling it properly?"},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":1,"creation_date":1658565355,"post_id":73089041,"comment_id":129087026,"body_markdown":"Which spring boot version are you using? have you added a spring-boot-starter-validation dependency?","body":"Which spring boot version are you using? have you added a spring-boot-starter-validation dependency?"},{"owner":{"account_id":19959778,"reputation":107,"user_id":14627650,"display_name":"mroma95"},"score":0,"creation_date":1658565606,"post_id":73089041,"comment_id":129087058,"body_markdown":"@Enfieldli I didn&#39;t ovverride MethodArgumentNotValidException, I have class with ControllerAdvice annotation but i just handle EntityNotFoundException","body":"@Enfieldli I didn&#39;t ovverride MethodArgumentNotValidException, I have class with ControllerAdvice annotation but i just handle EntityNotFoundException"},{"owner":{"account_id":19959778,"reputation":107,"user_id":14627650,"display_name":"mroma95"},"score":0,"creation_date":1658565696,"post_id":73089041,"comment_id":129087069,"body_markdown":"@criztovyl I&#39;m using spring boot  &lt;version&gt;2.4.2&lt;/version&gt; I didn.t add spring-boot-starter-validation dependency because I have spring-boot-web dependency and web include validation am I right?","body":"@criztovyl I&#39;m using spring boot  &lt;version&gt;2.4.2&lt;/version&gt; I didn.t add spring-boot-starter-validation dependency because I have spring-boot-web dependency and web include validation am I right?"},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":1,"creation_date":1658565837,"post_id":73089041,"comment_id":129087101,"body_markdown":"You need `&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&lt;/dependency&gt;`.","body":"You need <code>&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt;&lt;arti&zwnj;&#8203;factId&gt;spring-boot-s&zwnj;&#8203;tarter-validation&lt;&#47;a&zwnj;&#8203;rtifactId&gt;&lt;&#47;dependen&zwnj;&#8203;cy&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658568018,"creation_date":1658566033,"answer_id":73089297,"question_id":73089041,"body_markdown":"[Since Spring Boot 2.3](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters) you explicitly need to add a dependency on `spring-boot-starter-validation`:\r\n\r\n````\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n````","title":"Problem with @NotNull annotation it&#39;s definitely ignoring","body":"<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\" rel=\"nofollow noreferrer\">Since Spring Boot 2.3</a> you explicitly need to add a dependency on <code>spring-boot-starter-validation</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19959778,"reputation":107,"user_id":14627650,"display_name":"mroma95"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73089297,"answer_count":1,"score":0,"last_activity_date":1658568018,"creation_date":1658563326,"question_id":73089041,"body_markdown":"I have dto class with validation field and when I sending the request I expect Exception with validation error but I got code 201. I added dependency javax.validation and a @Valid annotation before @RequestBody. I exhausted ideas how to solve it\r\nBellow I added my dto class and Contoller class\r\n\r\ndto:\r\n\r\n    import javax.validation.constraints.NotBlank;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class AddressDto {\r\n      \r\n      @NotBlank(message = &quot;The country is required.&quot;)\r\n      private String country;\r\n    \r\n      @NotBlank(message = &quot;The city is required.&quot;)\r\n      private String city;\r\n    \r\n      @NotBlank(message = &quot;The Zip code is required.&quot;)\r\n      private String zipCode;\r\n    \r\n      @NotBlank(message = &quot;The street name is required.&quot;)\r\n      private String street;\r\n    \r\n      private String state;\r\n    }\r\n\r\ncontroller:\r\n\r\n    package com.controller;\r\n    \r\n    import com.model.dto.AddressDto;\r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class AddressController {\r\n    \r\n      @PostMapping(&quot;/test&quot;)\r\n      public ResponseEntity&lt;AddressDto&gt; registerUser(@Valid @RequestBody AddressDto registerUserDto) {\r\n        return new ResponseEntity&lt;&gt;(registerUserDto, HttpStatus.CREATED);\r\n      }\r\n    }\r\n\r\n\r\nrequest and response from postman\r\n[![REQUEST&amp;RESPONSEPOSTMAN][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oj3e0.png","title":"Problem with @NotNull annotation it&#39;s definitely ignoring","body":"<p>I have dto class with validation field and when I sending the request I expect Exception with validation error but I got code 201. I added dependency javax.validation and a @Valid annotation before @RequestBody. I exhausted ideas how to solve it\nBellow I added my dto class and Contoller class</p>\n<p>dto:</p>\n<pre><code>import javax.validation.constraints.NotBlank;\nimport lombok.Data;\n\n@Data\npublic class AddressDto {\n  \n  @NotBlank(message = &quot;The country is required.&quot;)\n  private String country;\n\n  @NotBlank(message = &quot;The city is required.&quot;)\n  private String city;\n\n  @NotBlank(message = &quot;The Zip code is required.&quot;)\n  private String zipCode;\n\n  @NotBlank(message = &quot;The street name is required.&quot;)\n  private String street;\n\n  private String state;\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>package com.controller;\n\nimport com.model.dto.AddressDto;\nimport javax.validation.Valid;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api&quot;)\npublic class AddressController {\n\n  @PostMapping(&quot;/test&quot;)\n  public ResponseEntity&lt;AddressDto&gt; registerUser(@Valid @RequestBody AddressDto registerUserDto) {\n    return new ResponseEntity&lt;&gt;(registerUserDto, HttpStatus.CREATED);\n  }\n}\n</code></pre>\n<p>request and response from postman\n<a href=\"https://i.stack.imgur.com/oj3e0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oj3e0.png\" alt=\"REQUEST&amp;RESPONSEPOSTMAN\" /></a></p>\n"},{"tags":["java","recursion","caching","binomial-coefficients"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1604071920,"post_id":64611022,"comment_id":114244212,"body_markdown":"It might help if you explained a bit how you think this should work, which values you expect to be cached, and which values you actually observe stepping through this. Start with small numbers, e.g. `n= 3`, `k= 1` to get a feeling for how this works.","body":"It might help if you explained a bit how you think this should work, which values you expect to be cached, and which values you actually observe stepping through this. Start with small numbers, e.g. <code>n= 3</code>, <code>k= 1</code> to get a feeling for how this works."},{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1604072024,"post_id":64611022,"comment_id":114244254,"body_markdown":"The problem is that you have a 2-dimensional problem which subsolutions can&#39;t be saved in a simple 1-dimensional array. Your program right now for example saves the solutions for `computeCached(n-1,k,cache)` and `computeCached(n-1,k-1,cache)` in the same position of the array since you only use the value for `n` as index.","body":"The problem is that you have a 2-dimensional problem which subsolutions can&#39;t be saved in a simple 1-dimensional array. Your program right now for example saves the solutions for <code>computeCached(n-1,k,cache)</code> and <code>computeCached(n-1,k-1,cache)</code> in the same position of the array since you only use the value for <code>n</code> as index."},{"owner":{"account_id":16536700,"reputation":499,"user_id":11948496,"display_name":"MDK"},"score":0,"creation_date":1604073752,"post_id":64611022,"comment_id":114245092,"body_markdown":"In order to solve this problem you will have to &quot;flatten&quot; pascal&#39;s triangle, e.g. by mapping `(n, k)` to the index `((n*(n+1))/2)+k` (just enumerating from left to right, top to bottom, using the sum formular)","body":"In order to solve this problem you will have to &quot;flatten&quot; pascal&#39;s triangle, e.g. by mapping <code>(n, k)</code> to the index <code>((n*(n+1))&#47;2)+k</code> (just enumerating from left to right, top to bottom, using the sum formular)"},{"owner":{"account_id":19861527,"reputation":9,"user_id":14549801,"display_name":"bobacrack"},"score":0,"creation_date":1604077871,"post_id":64611022,"comment_id":114246907,"body_markdown":"thank you @MDK mapping over ((n*(n+1))/2)+k index did the trick","body":"thank you @MDK mapping over ((n*(n+1))/2)+k index did the trick"}],"answers":[{"tags":[],"owner":{"account_id":16536700,"reputation":499,"user_id":11948496,"display_name":"MDK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658566706,"creation_date":1658566706,"answer_id":73089375,"question_id":64611022,"body_markdown":"As discussed in the comments, the problem is that your mapping is ambiguous. You store all `(n,k)` pairs with different values for `k` in the same array entry. As a solution you will have to calculate a unique index for each combination of `n` and `k`, e.g. `((n*(n+1))/2)+k`, which would &quot;flatten&quot; the triangle using the sum formula. Simpler mappings like `n*k + k` would also work, but required a larger cache than actually needed, with some arry entries never getting used.","title":"Java Binomial recursion using cache","body":"<p>As discussed in the comments, the problem is that your mapping is ambiguous. You store all <code>(n,k)</code> pairs with different values for <code>k</code> in the same array entry. As a solution you will have to calculate a unique index for each combination of <code>n</code> and <code>k</code>, e.g. <code>((n*(n+1))/2)+k</code>, which would &quot;flatten&quot; the triangle using the sum formula. Simpler mappings like <code>n*k + k</code> would also work, but required a larger cache than actually needed, with some arry entries never getting used.</p>\n"}],"owner":{"account_id":19861527,"reputation":9,"user_id":14549801,"display_name":"bobacrack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658566706,"creation_date":1604070713,"question_id":64611022,"body_markdown":"I ran into a little problem having to solve the binomial coefficient using a 1d Integer array as a cache. this is my code thus far:\r\n```\r\nstatic public int computeCached(int n, int k) throws ArithmeticException, IllegalArgumentException {\r\n        if(n &lt; 0 || k &lt; 0 || n &lt; k)\r\n            throw new IllegalArgumentException(&quot;Illegal&quot;);\r\n\r\n        int cache[] = new int[n + 1];\r\n        return computeCached(n, k, cache);\r\n    }\r\n\r\n    \r\n    static int computeCached(int n, int k, int []cache) throws ArithmeticException {\r\n        if(k == 0 || n == k)\r\n            return 1;\r\n        if(cache[n] != 0)\r\n            return cache[n];\r\n        cache[n] = Math.addExact(computeCached(n-1, k, cache), computeCached(n-1,k-1, cache));\r\n        return cache[n];\r\n    }\r\n```\r\nIt&#39;s supposed to store the calculated value and then add the next value for the next iteration on top.\r\nsomehow it doesnt save the right value in the cache and i cant seem to find the problem.\r\nthanks :)","title":"Java Binomial recursion using cache","body":"<p>I ran into a little problem having to solve the binomial coefficient using a 1d Integer array as a cache. this is my code thus far:</p>\n<pre><code>static public int computeCached(int n, int k) throws ArithmeticException, IllegalArgumentException {\n        if(n &lt; 0 || k &lt; 0 || n &lt; k)\n            throw new IllegalArgumentException(&quot;Illegal&quot;);\n\n        int cache[] = new int[n + 1];\n        return computeCached(n, k, cache);\n    }\n\n    \n    static int computeCached(int n, int k, int []cache) throws ArithmeticException {\n        if(k == 0 || n == k)\n            return 1;\n        if(cache[n] != 0)\n            return cache[n];\n        cache[n] = Math.addExact(computeCached(n-1, k, cache), computeCached(n-1,k-1, cache));\n        return cache[n];\n    }\n</code></pre>\n<p>It's supposed to store the calculated value and then add the next value for the next iteration on top.\nsomehow it doesnt save the right value in the cache and i cant seem to find the problem.\nthanks :)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1083635,"reputation":19728,"user_id":1079901,"accept_rate":87,"display_name":"0xC0DED00D"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1333445045,"creation_date":1333443113,"answer_id":9989998,"question_id":9989945,"body_markdown":"You can nest them up too: \r\n\r\n     output=String.valueOf(profile.get(&quot;text&quot;)).replace(s, w).replace(q, w);","title":"android replace multiple characters from a string","body":"<p>You can nest them up too: </p>\n\n<pre><code> output=String.valueOf(profile.get(\"text\")).replace(s, w).replace(q, w);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1024230,"reputation":120585,"user_id":1033896,"accept_rate":71,"display_name":"hmjd"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1333443201,"creation_date":1333443201,"answer_id":9990018,"question_id":9989945,"body_markdown":"I think this is what you mean:\r\n\r\n    String s = &quot;abc[def]&quot;;\r\n    String w = &quot;hello&quot;;\r\n\r\n    System.out.println(s.replaceAll(&quot;\\\\[|\\\\]&quot;, w));\r\n\r\nOutputs `abchellodefhello`.\r\n\r\n`String.replaceAll()` accepts a regular expression as its first argument, which would provide the flexibility required.","title":"android replace multiple characters from a string","body":"<p>I think this is what you mean:</p>\n\n<pre><code>String s = \"abc[def]\";\nString w = \"hello\";\n\nSystem.out.println(s.replaceAll(\"\\\\[|\\\\]\", w));\n</code></pre>\n\n<p>Outputs <code>abchellodefhello</code>.</p>\n\n<p><code>String.replaceAll()</code> accepts a regular expression as its first argument, which would provide the flexibility required.</p>\n"},{"tags":[],"owner":{"account_id":349822,"reputation":1257,"user_id":1187342,"display_name":"Ravi1187342"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333443567,"creation_date":1333443241,"answer_id":9990025,"question_id":9989945,"body_markdown":"check out this\r\n\r\n    String s =&quot;[&quot;;\r\n        String q =&quot;]&quot;;\r\n        String w = &quot;&quot;;\r\n\r\n        String output=w.replace(&quot;[&quot;, w);\r\n        output=output.replace(&quot;]&quot;, w);","title":"android replace multiple characters from a string","body":"<p>check out this</p>\n\n<pre><code>String s =\"[\";\n    String q =\"]\";\n    String w = \"\";\n\n    String output=w.replace(\"[\", w);\n    output=output.replace(\"]\", w);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265620,"reputation":3919,"user_id":552712,"accept_rate":53,"display_name":"Deva"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1333443269,"creation_date":1333443269,"answer_id":9990033,"question_id":9989945,"body_markdown":"try using [replaceAll][1] method from java.lang.String. \r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29","title":"android replace multiple characters from a string","body":"<p>try using <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">replaceAll</a> method from java.lang.String. </p>\n"},{"tags":[],"owner":{"account_id":1345966,"reputation":34645,"user_id":1286723,"accept_rate":60,"display_name":"Shankar Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333443305,"creation_date":1333443305,"answer_id":9990038,"question_id":9989945,"body_markdown":"    String s = &quot;[&quot;;\r\n    String q = &quot;]&quot;;\r\n    String w = &quot;{&quot;;\r\n    String as = &quot;sdada[sad]sdas&quot;;\r\n    String newstring = as.replace(s, w).replace(q,w);\r\n    Toast.makeText(_activity,newstring,Toast.LENGTH_LONG).show();\r\n\r\nThis is the working code for you...","title":"android replace multiple characters from a string","body":"<pre><code>String s = \"[\";\nString q = \"]\";\nString w = \"{\";\nString as = \"sdada[sad]sdas\";\nString newstring = as.replace(s, w).replace(q,w);\nToast.makeText(_activity,newstring,Toast.LENGTH_LONG).show();\n</code></pre>\n\n<p>This is the working code for you...</p>\n"},{"tags":[],"owner":{"account_id":414108,"reputation":6447,"user_id":788134,"accept_rate":76,"display_name":"bos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333443492,"creation_date":1333443492,"answer_id":9990081,"question_id":9989945,"body_markdown":"If you read on http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29 you will see that it takes two char objects as an argument. The construction &quot;s &amp;&amp; q&quot; and &quot;s || q&quot; are both illegal and gibberish. Think of it: what exactly would the logical operation (&quot;foo&quot; &amp;&amp; &quot;bar&quot;) return?\r\n\r\nDo this:\r\n\r\n    output = String.valueOf(profile.get(&quot;text&quot;)).replace(q, w).replace(s, w);\r\n\r\nThis will yield what you want.","title":"android replace multiple characters from a string","body":"<p>If you read on <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29</a> you will see that it takes two char objects as an argument. The construction \"s &amp;&amp; q\" and \"s || q\" are both illegal and gibberish. Think of it: what exactly would the logical operation (\"foo\" &amp;&amp; \"bar\") return?</p>\n\n<p>Do this:</p>\n\n<pre><code>output = String.valueOf(profile.get(\"text\")).replace(q, w).replace(s, w);\n</code></pre>\n\n<p>This will yield what you want.</p>\n"},{"tags":[],"owner":{"account_id":24534095,"reputation":1,"user_id":18445444,"display_name":"Taimoor Mujahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658566271,"creation_date":1658566271,"answer_id":73089330,"question_id":9989945,"body_markdown":"For anyone looking for a solution in 2022, just do the following.\r\n\r\n\r\n        String s = &quot;[&quot;;\r\n        String q = &quot;]&quot;;\r\n        String w = &quot;&quot;;\r\n        String text = Some[ Text ] here;\r\n        \r\n        text = text.replace(s, w );\r\n        text = text.replace(q, w );\r\n        String output = text;\r\n\r\n","title":"android replace multiple characters from a string","body":"<p>For anyone looking for a solution in 2022, just do the following.</p>\n<pre><code>    String s = &quot;[&quot;;\n    String q = &quot;]&quot;;\n    String w = &quot;&quot;;\n    String text = Some[ Text ] here;\n    \n    text = text.replace(s, w );\n    text = text.replace(q, w );\n    String output = text;\n</code></pre>\n"}],"owner":{"account_id":81429,"reputation":1521,"user_id":229616,"accept_rate":78,"display_name":"Tuffy G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17592,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9989998,"answer_count":7,"score":4,"last_activity_date":1658566271,"creation_date":1333442902,"question_id":9989945,"body_markdown":"I know that this may be an amateur question but for some reason I can&#39;t remember how to do this.\r\nI have 2 strings.\r\n\r\n    String s =&quot;[&quot;;\r\n    String q =&quot;]&quot;;\r\nif my text contains any of these i want to replace it with `w` which is:\r\n\r\n    String w = &quot;&quot;;\r\nI have tried the following:\r\n\t\t\t\t\t\r\n\r\n    output=String.valueOf(profile.get(&quot;text&quot;)).replace(s&amp;&amp;q, w);\r\nfrom what i understand if of S([) and any of Q(]) are in text they will be replaced with w.\r\nmy problem is getting the 2. if i only try and replace one then it will work. otherwise it wont.\r\n\r\nany help would be appreciated\r\n\r\n\r\n\r\n","title":"android replace multiple characters from a string","body":"<p>I know that this may be an amateur question but for some reason I can't remember how to do this.\nI have 2 strings.</p>\n\n<pre><code>String s =\"[\";\nString q =\"]\";\n</code></pre>\n\n<p>if my text contains any of these i want to replace it with <code>w</code> which is:</p>\n\n<pre><code>String w = \"\";\n</code></pre>\n\n<p>I have tried the following:</p>\n\n<pre><code>output=String.valueOf(profile.get(\"text\")).replace(s&amp;&amp;q, w);\n</code></pre>\n\n<p>from what i understand if of S([) and any of Q(]) are in text they will be replaced with w.\nmy problem is getting the 2. if i only try and replace one then it will work. otherwise it wont.</p>\n\n<p>any help would be appreciated</p>\n"},{"tags":["java","selenium","selenium-webdriver","apache-poi","rest-assured"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1658566438,"post_id":73089275,"comment_id":129087201,"body_markdown":"If you get a `NullPointerException`, then something your code tries using is `null`. And the stack-trace tells exactly what it is. So check the stack-trace of your NPE. Or show it here, so we can check it.","body":"If you get a <code>NullPointerException</code>, then something your code tries using is <code>null</code>. And the stack-trace tells exactly what it is. So check the stack-trace of your NPE. Or show it here, so we can check it."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1658567861,"post_id":73089275,"comment_id":129087427,"body_markdown":"Btw.: One possibility: In your `getCellCount`method, `row` will always be `null` because you never set it to something else than `null`. So `row.getLastCellNum()` will throw `NullPointerException`.","body":"Btw.: One possibility: In your <code>getCellCount</code>method, <code>row</code> will always be <code>null</code> because you never set it to something else than <code>null</code>. So <code>row.getLastCellNum()</code> will throw <code>NullPointerException</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1658568955,"post_id":73089275,"comment_id":129087623,"body_markdown":"BTW: you should consider using local variables instead of instance variables...","body":"BTW: you should consider using local variables instead of instance variables..."},{"owner":{"account_id":8847454,"reputation":91,"user_id":6815981,"display_name":"Saurabh"},"score":0,"creation_date":1658574637,"post_id":73089275,"comment_id":129088487,"body_markdown":"@AxelRichter: Thanks. It was the issue with the row since it was not set. Thanks for your help :)","body":"@AxelRichter: Thanks. It was the issue with the row since it was not set. Thanks for your help :)"}],"owner":{"account_id":8847454,"reputation":91,"user_id":6815981,"display_name":"Saurabh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658565806,"creation_date":1658565806,"question_id":73089275,"body_markdown":"I am creating a test script using RestAssured, java &amp; Selenium. I am trying to create multiple users using POST methods by using the data provided in `users.xlsx` file. I am getting the exception in my utils file given below:\r\n```\r\npackage utils;\r\n\r\nimport org.apache.poi.ss.usermodel.DataFormatter;\r\nimport org.apache.poi.xssf.usermodel.XSSFCell;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class ExcelUtils {\r\n    public static FileInputStream fis;\r\n    public static FileOutputStream fos;\r\n    public static XSSFWorkbook wb;\r\n    public static XSSFSheet ws;\r\n    public static XSSFRow row;\r\n    public static XSSFCell cell;\r\n\r\n    public static int getRowCount(String xlFile, String xlSheet) throws IOException {\r\n        fis = new  FileInputStream(xlFile);\r\n        wb = new XSSFWorkbook (fis);\r\n        ws = wb.getSheet(xlSheet);\r\n        int row_count = ws.getLastRowNum();\r\n        wb.close();\r\n        fis.close();\r\n        return row_count;\r\n    }\r\n\r\n    public static int getCellCount(String xlFile, String xlSheet, int row_num) throws IOException {\r\n        fis = new FileInputStream(xlFile);\r\n        wb = new XSSFWorkbook(fis);\r\n        ws = wb.getSheet(xlSheet);\r\n        int cell_count = row.getLastCellNum();\r\n        wb.close();\r\n        fis.close();\r\n        return cell_count;\r\n    }\r\n\r\n    public static String getCellData(String xlFile, String xlSheet, int row_num, int column) throws IOException {\r\n        fis = new FileInputStream(xlFile);\r\n        wb = new XSSFWorkbook(fis);\r\n        ws = wb.getSheet(xlSheet);\r\n        row = ws.getRow(row_num);\r\n        cell= row.getCell(column);\r\n        String data;\r\n        try{\r\n            DataFormatter formatter = new DataFormatter();\r\n            String cellData = formatter.formatCellValue(cell);\r\n            return cellData;\r\n        }catch (Exception e){\r\n            data = &quot;&quot;;\r\n        }\r\n        wb.close();\r\n        fis.close();\r\n        return data;\r\n    }\r\n\r\n    public static void setCellData(String xlFile, String xlSheet, int row_num, int column, String data) throws IOException {\r\n        fis = new FileInputStream(xlFile);\r\n        wb = new XSSFWorkbook(fis);\r\n        ws = wb.getSheet(xlSheet);\r\n        row = ws.getRow(row_num);\r\n        cell= row.getCell(column);\r\n        cell.setCellValue(data);\r\n        fos= new FileOutputStream(xlFile);\r\n        wb.write(fos);\r\n        wb.close();\r\n        fis.close();\r\n        fos.close();\r\n    }\r\n}\r\n```\r\n\r\nThis is my code under `@DataProvider`\r\n\r\n    @DataProvider(name = &quot;createBulkUsers&quot;)\r\n        String[][] getUserData() throws IOException {\r\n            //Read data from excel\r\n            String path = &quot;./src/test/testdata/users.xlsx&quot;;\r\n            int row_count = getRowCount(path, &quot;Sheet1&quot;);\r\n            int col_count = getCellCount(path, &quot;Sheet1&quot;, 1);\r\n    \r\n            String userData[][] = new String[row_count][col_count];\r\n            for (int i = 1; i &lt;= row_count ; i++) {                                       // for rows\r\n                for (int j = 0; j &lt; col_count; j++) {                                     // for columns\r\n                    userData [i-1][j] = getCellData(path, &quot;Sheet1&quot;, i, j);\r\n                }\r\n            }\r\n            return userData ;\r\n        }\r\n\r\nPlease suggest.","title":"Getting java.lang.NullPointerException while file exists on specified location","body":"<p>I am creating a test script using RestAssured, java &amp; Selenium. I am trying to create multiple users using POST methods by using the data provided in <code>users.xlsx</code> file. I am getting the exception in my utils file given below:</p>\n<pre><code>package utils;\n\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class ExcelUtils {\n    public static FileInputStream fis;\n    public static FileOutputStream fos;\n    public static XSSFWorkbook wb;\n    public static XSSFSheet ws;\n    public static XSSFRow row;\n    public static XSSFCell cell;\n\n    public static int getRowCount(String xlFile, String xlSheet) throws IOException {\n        fis = new  FileInputStream(xlFile);\n        wb = new XSSFWorkbook (fis);\n        ws = wb.getSheet(xlSheet);\n        int row_count = ws.getLastRowNum();\n        wb.close();\n        fis.close();\n        return row_count;\n    }\n\n    public static int getCellCount(String xlFile, String xlSheet, int row_num) throws IOException {\n        fis = new FileInputStream(xlFile);\n        wb = new XSSFWorkbook(fis);\n        ws = wb.getSheet(xlSheet);\n        int cell_count = row.getLastCellNum();\n        wb.close();\n        fis.close();\n        return cell_count;\n    }\n\n    public static String getCellData(String xlFile, String xlSheet, int row_num, int column) throws IOException {\n        fis = new FileInputStream(xlFile);\n        wb = new XSSFWorkbook(fis);\n        ws = wb.getSheet(xlSheet);\n        row = ws.getRow(row_num);\n        cell= row.getCell(column);\n        String data;\n        try{\n            DataFormatter formatter = new DataFormatter();\n            String cellData = formatter.formatCellValue(cell);\n            return cellData;\n        }catch (Exception e){\n            data = &quot;&quot;;\n        }\n        wb.close();\n        fis.close();\n        return data;\n    }\n\n    public static void setCellData(String xlFile, String xlSheet, int row_num, int column, String data) throws IOException {\n        fis = new FileInputStream(xlFile);\n        wb = new XSSFWorkbook(fis);\n        ws = wb.getSheet(xlSheet);\n        row = ws.getRow(row_num);\n        cell= row.getCell(column);\n        cell.setCellValue(data);\n        fos= new FileOutputStream(xlFile);\n        wb.write(fos);\n        wb.close();\n        fis.close();\n        fos.close();\n    }\n}\n</code></pre>\n<p>This is my code under <code>@DataProvider</code></p>\n<pre><code>@DataProvider(name = &quot;createBulkUsers&quot;)\n    String[][] getUserData() throws IOException {\n        //Read data from excel\n        String path = &quot;./src/test/testdata/users.xlsx&quot;;\n        int row_count = getRowCount(path, &quot;Sheet1&quot;);\n        int col_count = getCellCount(path, &quot;Sheet1&quot;, 1);\n\n        String userData[][] = new String[row_count][col_count];\n        for (int i = 1; i &lt;= row_count ; i++) {                                       // for rows\n            for (int j = 0; j &lt; col_count; j++) {                                     // for columns\n                userData [i-1][j] = getCellData(path, &quot;Sheet1&quot;, i, j);\n            }\n        }\n        return userData ;\n    }\n</code></pre>\n<p>Please suggest.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":25810904,"reputation":26,"user_id":19551713,"display_name":"Francesco Limosani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658564995,"creation_date":1658564995,"answer_id":73089188,"question_id":73078246,"body_markdown":"You have to do it server-side, not client-side.\r\nSimply change your if condition to `if (!level.isClientSide){`\r\n\r\n&quot;Non-client&quot; side doesn&#39;t mean you&#39;re on a server, any interaction with the world like this has to be done server-side.\r\nWhat happens is that you remove a block only from your view, then your view is updated to the server which doesn&#39;t have the block removed.","title":"Minecraft forge 1.18.1 - Remove blocks","body":"<p>You have to do it server-side, not client-side.\nSimply change your if condition to <code>if (!level.isClientSide){</code></p>\n<p>&quot;Non-client&quot; side doesn't mean you're on a server, any interaction with the world like this has to be done server-side.\nWhat happens is that you remove a block only from your view, then your view is updated to the server which doesn't have the block removed.</p>\n"}],"owner":{"account_id":19505453,"reputation":55,"user_id":16424470,"display_name":"DamnSpaceship"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73089188,"answer_count":1,"score":1,"last_activity_date":1658564995,"creation_date":1658482741,"question_id":73078246,"body_markdown":"I have an item which when useOn-ed should remove the block/change it to AIR.\r\n\r\nI am using the line below: \r\n\r\n    level.removeBlock(positionClicked, false);\r\n\r\nOnce I run the client, the block is briefly removed and then reappears.\r\nI&#39;ve also tried removing the block with:\r\n\r\n    level.destroyBlock(positionClicked, false);\r\n    level.setBlock(positionClicked, Blocks.AIR.defaultBlockState(), 1);\r\n\r\nMy guess is that I am not registering something correctly/the removed blocks are not applied to the client.\r\n\r\nFull code:\r\n```java\r\npublic class TeleportationItem extends Item {\r\n\r\n    public TeleportationItem(Properties pProperties) {\r\n        super(pProperties);\r\n    }\r\n\r\n    @Override\r\n    public InteractionResult useOn(UseOnContext pContext) {\r\n        Level level = pContext.getLevel();\r\n        if (level.isClientSide){\r\n            BlockPos blockpos = pContext.getClickedPos();\r\n            BlockState blockstate = level.getBlockState(blockpos);\r\n            level.removeBlock(positionClicked, false);\r\n            //level.setBlock(positionClicked, Blocks.AIR.defaultBlockState(), 1);\r\n            // level.destroyBlock(positionClicked, false);\r\n            return super.useOn(pContext);\r\n        }\r\n        return super.useOn(pContext);\r\n    }\r\n}\r\n```","title":"Minecraft forge 1.18.1 - Remove blocks","body":"<p>I have an item which when useOn-ed should remove the block/change it to AIR.</p>\n<p>I am using the line below:</p>\n<pre><code>level.removeBlock(positionClicked, false);\n</code></pre>\n<p>Once I run the client, the block is briefly removed and then reappears.\nI've also tried removing the block with:</p>\n<pre><code>level.destroyBlock(positionClicked, false);\nlevel.setBlock(positionClicked, Blocks.AIR.defaultBlockState(), 1);\n</code></pre>\n<p>My guess is that I am not registering something correctly/the removed blocks are not applied to the client.</p>\n<p>Full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TeleportationItem extends Item {\n\n    public TeleportationItem(Properties pProperties) {\n        super(pProperties);\n    }\n\n    @Override\n    public InteractionResult useOn(UseOnContext pContext) {\n        Level level = pContext.getLevel();\n        if (level.isClientSide){\n            BlockPos blockpos = pContext.getClickedPos();\n            BlockState blockstate = level.getBlockState(blockpos);\n            level.removeBlock(positionClicked, false);\n            //level.setBlock(positionClicked, Blocks.AIR.defaultBlockState(), 1);\n            // level.destroyBlock(positionClicked, false);\n            return super.useOn(pContext);\n        }\n        return super.useOn(pContext);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dynamic","field"],"comments":[{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1658561758,"post_id":73088733,"comment_id":129086376,"body_markdown":"I think Classes are immutable in Java. So you cannot modify them dynamically.","body":"I think Classes are immutable in Java. So you cannot modify them dynamically."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1658658654,"post_id":73088733,"comment_id":129101391,"body_markdown":"Can use a List,a growing array like ArrayList. Doing a 1 hour study of a Java book a day or 3 hours a week will help too","body":"Can use a List,a growing array like ArrayList. Doing a 1 hour study of a Java book a day or 3 hours a week will help too"}],"answers":[{"tags":[],"owner":{"account_id":18207542,"reputation":661,"user_id":13250694,"display_name":"Hamed Goharshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658564055,"creation_date":1658564055,"answer_id":73089099,"question_id":73088733,"body_markdown":"Java doesn&#39;t support such a thing as the dynamic property instead, you could use an internal Map to store properties, like this:\r\n\r\n```\r\npublic class ViewHolder {\r\n    private HashMap&lt;String, Object&gt; properties;\r\n\r\n    //Create object with properties\r\n    public ViewHolder(HashMap&lt;String, Object&gt; properties) {\r\n        this.properties = properties;\r\n    }\r\n\r\n    //Set properties\r\n    public Object setProperty(String key, Object value) {\r\n        return this.properties.put(key, value); //Returns old value if existing\r\n    }\r\n\r\n    //Get properties\r\n    public Object getProperty(String key) {\r\n        return this.properties.getOrDefault(key, null);\r\n    }\r\n}\r\n```\r\nbut this way doesn&#39;t look suit. if you wanna build a recyclerView of textFields you&#39;d better put each textField as an item","title":"Dynamically Add Fields to Java Class in Android","body":"<p>Java doesn't support such a thing as the dynamic property instead, you could use an internal Map to store properties, like this:</p>\n<pre><code>public class ViewHolder {\n    private HashMap&lt;String, Object&gt; properties;\n\n    //Create object with properties\n    public ViewHolder(HashMap&lt;String, Object&gt; properties) {\n        this.properties = properties;\n    }\n\n    //Set properties\n    public Object setProperty(String key, Object value) {\n        return this.properties.put(key, value); //Returns old value if existing\n    }\n\n    //Get properties\n    public Object getProperty(String key) {\n        return this.properties.getOrDefault(key, null);\n    }\n}\n</code></pre>\n<p>but this way doesn't look suit. if you wanna build a recyclerView of textFields you'd better put each textField as an item</p>\n"}],"owner":{"account_id":3334297,"reputation":15,"user_id":2802359,"display_name":"Dare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658564055,"creation_date":1658560168,"question_id":73088733,"body_markdown":"Android Java;\r\n\r\nI would like to be able to add fields to a class based on condition.\r\nSuch fields is TextView, it can be one or more. I don&#39;t want to declare redundant ones.\r\n\r\n    class VieHolder{\r\n    TextView textView1;\r\n    // textView2, textView3, ... textViewN based on condition\r\n    \r\n    ...\r\n    }\r\n\r\nSolution should not include additional dependency!\r\n\r\n    ","title":"Dynamically Add Fields to Java Class in Android","body":"<p>Android Java;</p>\n<p>I would like to be able to add fields to a class based on condition.\nSuch fields is TextView, it can be one or more. I don't want to declare redundant ones.</p>\n<pre><code>class VieHolder{\nTextView textView1;\n// textView2, textView3, ... textViewN based on condition\n\n...\n}\n</code></pre>\n<p>Solution should not include additional dependency!</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6906340,"reputation":1061,"user_id":5304075,"display_name":"Arul"},"score":0,"creation_date":1658556278,"post_id":73088312,"comment_id":129085587,"body_markdown":"Share some code that you tried.","body":"Share some code that you tried."},{"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"score":0,"creation_date":1658743903,"post_id":73088312,"comment_id":129118564,"body_markdown":"As per the @Rohit Jakhar shared answer, can you check with these links: https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel#0, https://stackoverflow.com/questions/48531507/best-practice-mvvm-pass-data-from-one-activity-to-another and https://cloud.google.com/bigquery/docs/tables","body":"As per the @Rohit Jakhar shared answer, can you check with these links: <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-shared-viewmodel#0\" rel=\"nofollow noreferrer\">developer.android.com/codelabs/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/48531507/best-practice-mvvm-pass-data-from-one-activity-to-another\" title=\"best practice mvvm pass data from one activity to another\">stackoverflow.com/questions/48531507/&hellip;</a> and <a href=\"https://cloud.google.com/bigquery/docs/tables\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/tables</a>"}],"answers":[{"tags":[],"owner":{"account_id":12891544,"reputation":1283,"user_id":9323369,"display_name":"Rohit Jakhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658560304,"creation_date":1658560304,"answer_id":73088747,"question_id":73088312,"body_markdown":" 1. Use Fragment for showing UI and use SharedViewModel for saving data at one place.\r\n\r\n 2. Using activity, pass data from one activity to another and merge and pass to another until last activtity.\r\n\r\n 3. Create table for complete data and access and update it in every activity and at last, get table data and upload to firestore.\r\n\r\nThese are the few generic approach for sharing data in activities and fragments.","title":"How to add two activties/screens data at one time in same Document IDs in firebase firestore android?","body":"<ol>\n<li><p>Use Fragment for showing UI and use SharedViewModel for saving data at one place.</p>\n</li>\n<li><p>Using activity, pass data from one activity to another and merge and pass to another until last activtity.</p>\n</li>\n<li><p>Create table for complete data and access and update it in every activity and at last, get table data and upload to firestore.</p>\n</li>\n</ol>\n<p>These are the few generic approach for sharing data in activities and fragments.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658563754,"creation_date":1658563754,"answer_id":73089068,"question_id":73088312,"body_markdown":"When you&#39;re calling [CollectionReference#add(Object data)][1] or [DocumentReference#document()][2] without passing any ID, it will always assign a unique document ID automatically. If you do one of these operations in different activities, then you&#39;ll end up always having **different** document IDs.\r\n\r\nIf you need to write data to the same document from different activities, you either save the data under a **fixed** (known) document ID, or you pass the first generated ID from one activity to another, as I also mentioned in one earlier [question][3] of yours.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference#add(java.lang.Object)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference#document()\r\n  [3]: https://stackoverflow.com/questions/73065849/how-to-add-multiple-activities-data-to-firebase-firestore-under-same-document-id","title":"How to add two activties/screens data at one time in same Document IDs in firebase firestore android?","body":"<p>When you're calling <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference#add(java.lang.Object)\" rel=\"nofollow noreferrer\">CollectionReference#add(Object data)</a> or <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference#document()\" rel=\"nofollow noreferrer\">DocumentReference#document()</a> without passing any ID, it will always assign a unique document ID automatically. If you do one of these operations in different activities, then you'll end up always having <strong>different</strong> document IDs.</p>\n<p>If you need to write data to the same document from different activities, you either save the data under a <strong>fixed</strong> (known) document ID, or you pass the first generated ID from one activity to another, as I also mentioned in one earlier <a href=\"https://stackoverflow.com/questions/73065849/how-to-add-multiple-activities-data-to-firebase-firestore-under-same-document-id\">question</a> of yours.</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73088747,"answer_count":2,"score":0,"last_activity_date":1658563792,"creation_date":1658554738,"question_id":73088312,"body_markdown":"I am new to Android and working on a project where I need to get the input from users through multiple activities and then add that data to the Firebase Firestore but the problem I m facing is that the data is saved in different documents IDs but I want it to be in the same document id?? So that I can retrieve the data at once. Please guide me on how can I achieve that? Thank you in advance.","title":"How to add two activties/screens data at one time in same Document IDs in firebase firestore android?","body":"<p>I am new to Android and working on a project where I need to get the input from users through multiple activities and then add that data to the Firebase Firestore but the problem I m facing is that the data is saved in different documents IDs but I want it to be in the same document id?? So that I can retrieve the data at once. Please guide me on how can I achieve that? Thank you in advance.</p>\n"},{"tags":["java","date","private-members","java.util.date"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1658513003,"post_id":73084388,"comment_id":129078527,"body_markdown":"This smells like an [XY Problem](https://xyproblem.info). Why do you think you need the `cdate` field? That is an implementation detail that is intentionally not exposed to the end user. What kind of information do you hope to get from that? Generally speaking, you should try to avoid using `java.util.Data` and `java.util.Calendar` whenever you can and use the modern `java.time` API instead.","body":"This smells like an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>. Why do you think you need the <code>cdate</code> field? That is an implementation detail that is intentionally not exposed to the end user. What kind of information do you hope to get from that? Generally speaking, you should try to avoid using <code>java.util.Data</code> and <code>java.util.Calendar</code> whenever you can and use the modern <code>java.time</code> API instead."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658513309,"post_id":73084388,"comment_id":129078621,"body_markdown":"If you want the string value shown in the debugger, use a SimpleDateFormat (or, as suggested, DateTimeFormatter)","body":"If you want the string value shown in the debugger, use a SimpleDateFormat (or, as suggested, DateTimeFormatter)"},{"owner":{"account_id":19409518,"reputation":1,"user_id":14194185,"display_name":"KennyL123"},"score":0,"creation_date":1658514020,"post_id":73084388,"comment_id":129078836,"body_markdown":"@JoachimSauer oh thanks for the feed back I didn&#39;t know that as I am just playing around with java","body":"@JoachimSauer oh thanks for the feed back I didn&#39;t know that as I am just playing around with java"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1658514298,"post_id":73084388,"comment_id":129078922,"body_markdown":"It looks like what you *actually* want to do (the X of your XY problem) is format a `Date` object in ISO-8601 format.","body":"It looks like what you <i>actually</i> want to do (the X of your XY problem) is format a <code>Date</code> object in ISO-8601 format."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1658563987,"post_id":73084388,"comment_id":129086777,"body_markdown":"I strongly recommend you don’t use `Date` and `Calendar`. Those classes are poorly designed and long outdated. Instead depending on your exact needs use for example `OffsetDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Date</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated. Instead depending on your exact needs use for example <code>OffsetDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658529735,"creation_date":1658529735,"answer_id":73086700,"question_id":73084388,"body_markdown":"As commented, trying to access internally defined fields that were intentionally hidden from outside calling programmers would be unwise.\r\n\r\nAs commented, you seem to have an [XY Problem][1]. I&#39;ll take a stab at what you might need.\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Never use `Calendar`, `Date`, etc.\r\n\r\nYou claim to have a call to a method requiring a `java.util.Date` object that represents the current moment as seen in UTC, that is, with an offset of zero hours-minutes-seconds. To capture the current moment, use [`Instant`][2] class.\r\n\r\n    Instant now = Instant.now() ;  // Current moment as seen with an offset of zero.\r\n\r\nI suggest you educate the author of that called method about how `Date` has been replaced by `Instant`. \r\n\r\nUntil they update their API, you can easily convert between legacy and modern classes by calling conversion methods added to the old classes.\r\n\r\n    java.util.Date d = Date.from( now ) ;\r\n    request.setGatewayEndTime( d );\r\n\r\nAs for the `BaseCalendar.Date` field, if your goal is to get a string in [ISO 8601][3] format similar to the string you show in your screenshot which is nearly in standard format but omits the COLON from between the hours and minutes of the offset, then simply call `Instant#toSting`. The *java.time* classes use ISO 8601 format by default when parsing/generating strings.\r\n\r\n    String output = now.toString() ;  // Generate text in standard ISO 8601 format.\r\n\r\nYour screenshot uses another offset other than zero. If you wish to see a moment with the offset of a particular time zone, apply a [`ZoneID`][4] object to produce a [`ZonedDateTime`][5] object.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/La_Paz&quot; ) ;\r\n    ZonedDateTime zdt = now.atZone( z ) ;\r\n\r\nProduce text in standard ISO 8601 format that has been wisely extended to include the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString() ;\r\n\r\n\r\n  [1]: https://xyproblem.info/\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html","title":"How can I get the cdate field from a Date object?","body":"<p>As commented, trying to access internally defined fields that were intentionally hidden from outside calling programmers would be unwise.</p>\n<p>As commented, you seem to have an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. I'll take a stab at what you might need.</p>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Never use <code>Calendar</code>, <code>Date</code>, etc.</p>\n<p>You claim to have a call to a method requiring a <code>java.util.Date</code> object that represents the current moment as seen in UTC, that is, with an offset of zero hours-minutes-seconds. To capture the current moment, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class.</p>\n<pre><code>Instant now = Instant.now() ;  // Current moment as seen with an offset of zero.\n</code></pre>\n<p>I suggest you educate the author of that called method about how <code>Date</code> has been replaced by <code>Instant</code>.</p>\n<p>Until they update their API, you can easily convert between legacy and modern classes by calling conversion methods added to the old classes.</p>\n<pre><code>java.util.Date d = Date.from( now ) ;\nrequest.setGatewayEndTime( d );\n</code></pre>\n<p>As for the <code>BaseCalendar.Date</code> field, if your goal is to get a string in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format similar to the string you show in your screenshot which is nearly in standard format but omits the COLON from between the hours and minutes of the offset, then simply call <code>Instant#toSting</code>. The <em>java.time</em> classes use ISO 8601 format by default when parsing/generating strings.</p>\n<pre><code>String output = now.toString() ;  // Generate text in standard ISO 8601 format.\n</code></pre>\n<p>Your screenshot uses another offset other than zero. If you wish to see a moment with the offset of a particular time zone, apply a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneID</code></a> object to produce a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> object.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/La_Paz&quot; ) ;\nZonedDateTime zdt = now.atZone( z ) ;\n</code></pre>\n<p>Produce text in standard ISO 8601 format that has been wisely extended to include the name of the time zone in square brackets.</p>\n<pre><code>String output = zdt.toString() ;\n</code></pre>\n"}],"owner":{"account_id":19409518,"reputation":1,"user_id":14194185,"display_name":"KennyL123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1658530033,"answer_count":1,"score":-2,"last_activity_date":1658563681,"creation_date":1658512914,"question_id":73084388,"body_markdown":"Does anyone know how to grab or create the cdate value from Date? I haven&#39;t been able to figure out how to do so and I don&#39;t know how to necessarily get it.  In the Date class it is there as \r\n`    private transient BaseCalendar.Date cdate; ` I don&#39;t see an option to grabt the field from the Date object itself.\r\n\r\n I am setting this date using `request.setGatewayEndTime(Calendar.getInstance().getTime());\r\n` \r\nwhere the calendar is from the java.util.Calendar import\r\n\r\n[debug pic][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VwVdr.png","title":"How can I get the cdate field from a Date object?","body":"<p>Does anyone know how to grab or create the cdate value from Date? I haven't been able to figure out how to do so and I don't know how to necessarily get it.  In the Date class it is there as\n<code>   private transient BaseCalendar.Date cdate;</code> I don't see an option to grabt the field from the Date object itself.</p>\n<p>I am setting this date using <code>request.setGatewayEndTime(Calendar.getInstance().getTime()); </code>\nwhere the calendar is from the java.util.Calendar import</p>\n<p><a href=\"https://i.stack.imgur.com/VwVdr.png\" rel=\"nofollow noreferrer\">debug pic</a></p>\n"},{"tags":["java","android-studio","kotlin","android-edittext","focus"],"answers":[{"tags":[],"owner":{"account_id":25814532,"reputation":11,"user_id":19554686,"display_name":"Adri&#225;n Mon Maroto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658563496,"creation_date":1658347021,"answer_id":73057463,"question_id":72992600,"body_markdown":"We put `requestFocus()` and `requestFocusFromTouch()` and it works:\r\n\r\n    #personGasto is the editText\r\n    override fun afterTextChanged(p0: Editable?) {\r\n                        #...\r\n                        #some code\r\n                        #...\r\n                        personGasto.requestFocus()\r\n                        personGasto.requestFocusFromTouch()\r\n    }","title":"Android-Studio, EditText inside RecyclerView inside CustomDialog focus issue","body":"<p>We put <code>requestFocus()</code> and <code>requestFocusFromTouch()</code> and it works:</p>\n<pre><code>#personGasto is the editText\noverride fun afterTextChanged(p0: Editable?) {\n                    #...\n                    #some code\n                    #...\n                    personGasto.requestFocus()\n                    personGasto.requestFocusFromTouch()\n}\n</code></pre>\n"}],"owner":{"account_id":25814532,"reputation":11,"user_id":19554686,"display_name":"Adri&#225;n Mon Maroto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73057463,"answer_count":1,"score":0,"last_activity_date":1658563496,"creation_date":1657880941,"question_id":72992600,"body_markdown":"I have a problem with the focus. Everytime I click in the EditText I can write 1 character and then it loses the focus.\r\n\r\nI&#180;ve searched and I found some solutions if my EditText is inside a RecyclerView, but those don&#180;t work with my project. I suspect that this is because my EditText is inside a RecyclerView which is inside a CustomDialog.\r\n\r\nIf someone know how to solve this it would be great :D\r\n\r\nEdit:\r\n\r\nThis is the xml code of the CustomDialog that contains the RecyclerView:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:foregroundTint=&quot;#009688&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/nombreGasto&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:hint=&quot;Nombre&quot;\r\n                    android:inputType=&quot;textPersonName&quot;\r\n                    android:minHeight=&quot;48dp&quot; /&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/precioGasto&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:hint=&quot;Precio&quot;\r\n                    android:inputType=&quot;numberDecimal&quot;\r\n                    android:minHeight=&quot;48dp&quot; /&gt;\r\n    \r\n                &lt;androidx.recyclerview.widget.RecyclerView\r\n                    android:id=&quot;@+id/recyclerGasto&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;145dp&quot; /&gt;\r\n    \r\n                &lt;Space\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;10dp&quot; /&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/cancelButton&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:backgroundTint=&quot;#FFFFFF&quot;\r\n                        android:text=&quot;Cancel&quot;\r\n                        android:textColor=&quot;#00BCD4&quot; /&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/addButton&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:backgroundTint=&quot;#FFFFFF&quot;\r\n                        android:text=&quot;OK&quot;\r\n                        android:textColor=&quot;#00BCD4&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAnd this is the xml code of the CardView, which is the View that receives the RecyclerView, that contains the EditText:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearLay&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/personNamePrecio&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;PersonaX&quot;\r\n                    android:textAlignment=&quot;viewStart&quot;\r\n                    android:textSize=&quot;24sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/editTextPrecioPersona&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:hint=&quot;0.00&quot;\r\n                    android:inputType=&quot;numberDecimal&quot;\r\n                    android:minHeight=&quot;48dp&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Android-Studio, EditText inside RecyclerView inside CustomDialog focus issue","body":"<p>I have a problem with the focus. Everytime I click in the EditText I can write 1 character and then it loses the focus.</p>\n<p>I´ve searched and I found some solutions if my EditText is inside a RecyclerView, but those don´t work with my project. I suspect that this is because my EditText is inside a RecyclerView which is inside a CustomDialog.</p>\n<p>If someone know how to solve this it would be great :D</p>\n<p>Edit:</p>\n<p>This is the xml code of the CustomDialog that contains the RecyclerView:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:foregroundTint=&quot;#009688&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/nombreGasto&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Nombre&quot;\n                android:inputType=&quot;textPersonName&quot;\n                android:minHeight=&quot;48dp&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/precioGasto&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;Precio&quot;\n                android:inputType=&quot;numberDecimal&quot;\n                android:minHeight=&quot;48dp&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recyclerGasto&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;145dp&quot; /&gt;\n\n            &lt;Space\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;10dp&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/cancelButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:backgroundTint=&quot;#FFFFFF&quot;\n                    android:text=&quot;Cancel&quot;\n                    android:textColor=&quot;#00BCD4&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/addButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:backgroundTint=&quot;#FFFFFF&quot;\n                    android:text=&quot;OK&quot;\n                    android:textColor=&quot;#00BCD4&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And this is the xml code of the CardView, which is the View that receives the RecyclerView, that contains the EditText:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearLay&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/personNamePrecio&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;PersonaX&quot;\n                android:textAlignment=&quot;viewStart&quot;\n                android:textSize=&quot;24sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editTextPrecioPersona&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:ems=&quot;10&quot;\n                android:hint=&quot;0.00&quot;\n                android:inputType=&quot;numberDecimal&quot;\n                android:minHeight=&quot;48dp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","math","radians"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1658326558,"post_id":73053268,"comment_id":129024593,"body_markdown":"Please provide a [mre]. As an aside, I hope you realise that floating point operations are by definition not exact, so some error is to be expected.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. As an aside, I hope you realise that floating point operations are by definition not exact, so some error is to be expected."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1658326612,"post_id":73053268,"comment_id":129024613,"body_markdown":"The code you&#39;ve shown never calls `Math.toRadians`.","body":"The code you&#39;ve shown never calls <code>Math.toRadians</code>."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":1,"creation_date":1658326715,"post_id":73053268,"comment_id":129024657,"body_markdown":"@SilvioMayolo, that code is in another function, that code is just to show what instructions im using","body":"@SilvioMayolo, that code is in another function, that code is just to show what instructions im using"},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":1,"creation_date":1658327011,"post_id":73053268,"comment_id":129024777,"body_markdown":"@MarkRotteveel, please check the code which I have added.","body":"@MarkRotteveel, please check the code which I have added."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658327216,"post_id":73053268,"comment_id":129024886,"body_markdown":"The requirements for questions are described in the help center, if you don&#39;t want your question to get closed, then make sure that your question contains the required information from the start.","body":"The requirements for questions are described in the help center, if you don&#39;t want your question to get closed, then make sure that your question contains the required information from the start."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1658327338,"post_id":73053268,"comment_id":129024950,"body_markdown":"@MarkRotteveel, So does that mean that this problem will be lost to history and never be solved now???","body":"@MarkRotteveel, So does that mean that this problem will be lost to history and never be solved now???"},{"owner":{"account_id":22091461,"reputation":77,"user_id":17566880,"display_name":"Learner"},"score":0,"creation_date":1658327376,"post_id":73053268,"comment_id":129024969,"body_markdown":"@Ruthvik thats True. I have been asking my professors about this issue just yesterday (even he didnt have a clear cut explanation for this) and luckily I see a post with a similar question. Its so sad to see it getting closed without actually getting answers.","body":"@Ruthvik thats True. I have been asking my professors about this issue just yesterday (even he didnt have a clear cut explanation for this) and luckily I see a post with a similar question. Its so sad to see it getting closed without actually getting answers."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1658327381,"post_id":73053268,"comment_id":129024972,"body_markdown":"I have voted to reopen, and it will go to the reopen review queue.","body":"I have voted to reopen, and it will go to the reopen review queue."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1658327600,"post_id":73053268,"comment_id":129025091,"body_markdown":"Please note that you need a single line of code to call and print the result of `Math.toRadians()`. Then you will see if, as you claim, &quot;Math.toRadians() is not accurate&quot;.","body":"Please note that you need a single line of code to call and print the result of <code>Math.toRadians()</code>. Then you will see if, as you claim, &quot;Math.toRadians() is not accurate&quot;."},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":2,"creation_date":1658340248,"post_id":73053268,"comment_id":129030038,"body_markdown":"Common case for alike artifacts is error accumulation due to using of integer values for calculation. Instead you can store internal position as float values, calculate new position in float, and round it only for graphic output.","body":"Common case for alike artifacts is error accumulation due to using of integer values for calculation. Instead you can store internal position as float values, calculate new position in float, and round it only for graphic output."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1658352111,"post_id":73053268,"comment_id":129033531,"body_markdown":"There is zero chance that Math.toRadians() a base function in one of the most widespread math libraries in existence, is not accurate enough for normal use.  It would have been caught in unit tests years ago.  Your problem is elsewhere.  However you don&#39;t make it easy to help you when you don&#39;t include the actual code you think is broken, and you blame it on the wrong problem in the title.","body":"There is zero chance that Math.toRadians() a base function in one of the most widespread math libraries in existence, is not accurate enough for normal use.  It would have been caught in unit tests years ago.  Your problem is elsewhere.  However you don&#39;t make it easy to help you when you don&#39;t include the actual code you think is broken, and you blame it on the wrong problem in the title."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1658360914,"post_id":73053268,"comment_id":129035382,"body_markdown":"In any case you don&#39;t need degree to rad  conversion. Since 360&#176; = 2 PI  therefore 2PI rad / 6 = 72 &#176;  no need degrees for cos and sin. Check this https://stackoverflow.com/a/72502727/7587451","body":"In any case you don&#39;t need degree to rad  conversion. Since 360&#176; = 2 PI  therefore 2PI rad / 6 = 72 &#176;  no need degrees for cos and sin. Check this <a href=\"https://stackoverflow.com/a/72502727/7587451\">stackoverflow.com/a/72502727/7587451</a>"},{"owner":{"account_id":100551,"reputation":29438,"user_id":270986,"display_name":"Mark Dickinson"},"score":0,"creation_date":1658385232,"post_id":73053268,"comment_id":129039149,"body_markdown":"&quot;Math.toRadians() is not accurate. there is no issue with my code&quot; That&#39;s quite a bold claim. What leads you to think that `Math.toRadians()` specifically is at fault? There&#39;s a lot of code in what you posted, and the calls to `Math.toRadians()` are only a small part of that code.","body":"&quot;Math.toRadians() is not accurate. there is no issue with my code&quot; That&#39;s quite a bold claim. What leads you to think that <code>Math.toRadians()</code> specifically is at fault? There&#39;s a lot of code in what you posted, and the calls to <code>Math.toRadians()</code> are only a small part of that code."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1658419271,"post_id":73053268,"comment_id":129052359,"body_markdown":"@MarkDickinson, There you go, I have made an edit to the post to show you that `Math.toRadians()` itself is the real fishy thing","body":"@MarkDickinson, There you go, I have made an edit to the post to show you that <code>Math.toRadians()</code> itself is the real fishy thing"},{"owner":{"account_id":100551,"reputation":29438,"user_id":270986,"display_name":"Mark Dickinson"},"score":0,"creation_date":1658424990,"post_id":73053268,"comment_id":129054356,"body_markdown":"@Ruthvik: Those are tiny errors. The effect of those errors would amount to differences on the order of trillionths of a pixel. Those errors are not the cause of the effect you&#39;re seeing. The cause of the effect you&#39;re seeing is that already mentioned by @MBo. It really is _your_ code that&#39;s causing the issue, not `Math.toRadians`.","body":"@Ruthvik: Those are tiny errors. The effect of those errors would amount to differences on the order of trillionths of a pixel. Those errors are not the cause of the effect you&#39;re seeing. The cause of the effect you&#39;re seeing is that already mentioned by @MBo. It really is <i>your</i> code that&#39;s causing the issue, not <code>Math.toRadians</code>."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1658450415,"post_id":73053268,"comment_id":129060530,"body_markdown":"@MarkDickinson, when i rounded those values i no more get that error at all, so i can surely conclude that rounding thing itself was the error","body":"@MarkDickinson, when i rounded those values i no more get that error at all, so i can surely conclude that rounding thing itself was the error"}],"answers":[{"tags":[],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658562906,"creation_date":1658421198,"answer_id":73069749,"question_id":73053268,"body_markdown":"Well, I just solved it using `Math.round()`&lt;br&gt;\r\nlike,&lt;br&gt;\r\n```java\r\nMath.round(Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta)))\r\n```\r\nAs mentioned in the question the radians is not exact and has tiny decimal error. which when rounded makes it to the nearest angle","title":"Why Java Math.toRadians() is not accurate and how to solve it?","body":"<p>Well, I just solved it using <code>Math.round()</code><br>\nlike,<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>Math.round(Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta)))\n</code></pre>\n<p>As mentioned in the question the radians is not exact and has tiny decimal error. which when rounded makes it to the nearest angle</p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"accepted_answer_id":73069749,"answer_count":1,"score":-4,"last_activity_date":1658562906,"creation_date":1658326431,"question_id":73053268,"body_markdown":"I&#39;m creating own Turtle app similar to python in Java. The angles taken in the instructions is in degrees. While drawing it, I have to use sin and cos which requires the angle to be in radians. So, I used `Math.toRadians(theta)`.\r\n\r\nMy instructions are like:\r\n```java\r\nmoveTo(250, 250);\r\nfor (int i = 0; i &lt; 60; i++) {\r\n    forward(100);\r\n    right(60);\r\n}\r\n```\r\nI looped it for 60 times to check for errors. Here, I&#39;m just making a hexagon and drawing over it again and again for 10 times, to check if  the angles are working correctly. (If I find only one hexagon it means that the hexagon angles are working correctly, else there is some error)\r\n\r\nHere is the image I got:  \r\n[![enter image description here][1]][1]\r\n\r\nAs you can see in the image, there is surely something fishy going in `Math.toRadians()` because after 6 rounds, it&#39;s not coming back to the same position.\r\n\r\nIs there any way to solve this?\r\n\r\nImage for one loop, here you can clearly see that its not making exactly 360 degrees\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor those who want to see my code. (the question here is about why `Math.toRadians()` is not accurate. there is no issue with my code)\r\n\r\nHere it is.\r\n```java\r\npackage com.example.jturtle;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class JTurtle extends Application {\r\n\r\n    private final ArrayList&lt;String&gt; instructions;\r\n    private final ArrayList&lt;String&gt; previousInstructions;\r\n    GraphicsContext gc;\r\n    int i = 0;\r\n    private boolean penDown;\r\n    private int penX, penY;\r\n    private int penSize;\r\n    private int speed;\r\n    private double theta;\r\n    private Color penColor;\r\n    private Color backgroundColor;\r\n\r\n    public JTurtle() {\r\n        penX = penY = 0;\r\n        speed = 10;\r\n        penSize = 1;\r\n        penDown = true;\r\n        theta = 0;\r\n        penColor = Color.BLACK;\r\n        backgroundColor = Color.WHITE;\r\n        instructions = new ArrayList&lt;&gt;();\r\n        previousInstructions = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;JTurtle&quot;);\r\n        stage.setScene(new Scene(getPane()));\r\n        stage.setResizable(false);\r\n        stage.show();\r\n    }\r\n\r\n    private Parent getPane() {\r\n        var canvas = new Canvas(500, 500);\r\n        canvas.setLayoutX(0);\r\n        canvas.setLayoutY(0);\r\n        gc = canvas.getGraphicsContext2D();\r\n\r\n        penSize(5);\r\n        moveTo(250, 250);\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            forward(100);\r\n            right(60);\r\n        }\r\n\r\n        new AnimationTimer() {\r\n            @Override\r\n            public void handle(long now) {\r\n                update();\r\n            }\r\n        }.start();\r\n\r\n        var pane = new AnchorPane(canvas);\r\n        pane.setPrefSize(500, 500);\r\n        return pane;\r\n    }\r\n\r\n    private void update() {\r\n        try {\r\n            boolean flag = IntStream.range(0, instructions.size()).anyMatch(i -&gt; !instructions.get(i).equals(previousInstructions.get(i)));\r\n            if (!flag) return;\r\n        } catch (Exception ignored) {\r\n        }\r\n\r\n        for (String instruction : instructions) {\r\n            var ins = instruction.split(&quot; &quot;);\r\n            switch (ins[0]) {\r\n                case &quot;FWD&quot; -&gt; {\r\n                    if (penDown)\r\n                        gc.strokeLine(penX,\r\n                                penY,\r\n                                penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta)),\r\n                                penY -= Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta)));\r\n                    else {\r\n                        penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta));\r\n                        penY -= Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta));\r\n                    }\r\n                }\r\n                case &quot;BWD&quot; -&gt; {\r\n                    if (penDown)\r\n                        gc.strokeLine(penX,\r\n                                penY,\r\n                                penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta)),\r\n                                penY += Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta)));\r\n                    else {\r\n                        penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta));\r\n                        penY += Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta));\r\n                    }\r\n                }\r\n                case &quot;RGT&quot; -&gt; theta += Integer.parseInt(ins[1]);\r\n                case &quot;LFT&quot; -&gt; theta -= Integer.parseInt(ins[1]);\r\n                case &quot;PUP&quot; -&gt; penDown = false;\r\n                case &quot;PDN&quot; -&gt; penDown = true;\r\n                case &quot;PSZ&quot; -&gt; penSize = Integer.parseInt(ins[1]);\r\n                case &quot;PC&quot; -&gt; penColor = Color.web(ins[1]);\r\n                case &quot;BC&quot; -&gt; backgroundColor = Color.web(ins[1]);\r\n                case &quot;SPD&quot; -&gt; speed = Integer.parseInt(ins[1]);\r\n                case &quot;CLR&quot; -&gt; {\r\n                    gc.setFill(backgroundColor);\r\n                    gc.fillRect(0, 0, 500, 500);\r\n                }\r\n                case &quot;MOV&quot; -&gt; {\r\n                    penX = Integer.parseInt(ins[1]);\r\n                    penY = Integer.parseInt(ins[2]);\r\n                }\r\n            }\r\n        }\r\n        previousInstructions.clear();\r\n        previousInstructions.addAll(instructions);\r\n    }\r\n\r\n    public void forward(int distance) {\r\n        instructions.add(&quot;FWD &quot; + distance);\r\n    }\r\n\r\n    public void smoothForward(int distance) {\r\n        instructions.add(&quot;SFD &quot; + distance);\r\n    }\r\n\r\n    public void backward(int distance) {\r\n        instructions.add(&quot;BWD &quot; + distance);\r\n    }\r\n\r\n    public void smoothBackward(int distance) {\r\n        instructions.add(&quot;SBW &quot; + distance);\r\n    }\r\n\r\n    public void left(int angle) {\r\n        instructions.add(&quot;LFT &quot; + angle);\r\n    }\r\n\r\n    public void right(int angle) {\r\n        instructions.add(&quot;RGT &quot; + angle);\r\n    }\r\n\r\n    public void moveTo(int x, int y) {\r\n        instructions.add(&quot;MOV &quot; + x + &quot; &quot; + y);\r\n    }\r\n\r\n    public void penUp() {\r\n        instructions.add(&quot;PUP&quot;);\r\n    }\r\n\r\n    public void penDown() {\r\n        instructions.add(&quot;PDN&quot;);\r\n    }\r\n\r\n    public void penSize(int size) {\r\n        instructions.add(&quot;PSZ &quot; + size);\r\n    }\r\n\r\n    public void speed(int s) {\r\n        instructions.add(&quot;SPD &quot; + s);\r\n    }\r\n\r\n    public void penColor(Color c) {\r\n        instructions.add(&quot;PC &quot; + c.getRed() + &quot; &quot; + c.getGreen() + &quot; &quot; + c.getBlue());\r\n    }\r\n\r\n    public void backgroundColor(Color c) {\r\n        instructions.add(&quot;BC &quot; + c.getRed() + &quot; &quot; + c.getGreen() + &quot; &quot; + c.getBlue());\r\n    }\r\n\r\n    public void clear() {\r\n        instructions.add(&quot;CLR&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n&gt; the question here is about why `Math.toRadians()` is not accurate. there is no issue with my code.\r\n\r\nSome people here think this is a bold statement to be said. So I made some test\r\n\r\n```java\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 360; i++) {\r\n            System.out.println(Math.toDegrees(Math.toRadians(i)));\r\n        }\r\n    }\r\n}\r\n```\r\nand the output (a random segment of the printed thing)\r\n```\r\n245.00000000000003\r\n246.00000000000003\r\n247.0\r\n248.0\r\n248.99999999999997\r\n250.00000000000003\r\n251.0\r\n252.0\r\n253.0\r\n254.00000000000003\r\n255.00000000000003\r\n\r\n```\r\nSo this clearly proves that Math.toRadians isnt correctly preserving the actual angle whose slight differences are actually ruining the whole drawing...\r\n\r\n  [1]: https://i.stack.imgur.com/c3zcP.png\r\n  [2]: https://i.stack.imgur.com/j6UCx.png","title":"Why Java Math.toRadians() is not accurate and how to solve it?","body":"<p>I'm creating own Turtle app similar to python in Java. The angles taken in the instructions is in degrees. While drawing it, I have to use sin and cos which requires the angle to be in radians. So, I used <code>Math.toRadians(theta)</code>.</p>\n<p>My instructions are like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>moveTo(250, 250);\nfor (int i = 0; i &lt; 60; i++) {\n    forward(100);\n    right(60);\n}\n</code></pre>\n<p>I looped it for 60 times to check for errors. Here, I'm just making a hexagon and drawing over it again and again for 10 times, to check if  the angles are working correctly. (If I find only one hexagon it means that the hexagon angles are working correctly, else there is some error)</p>\n<p>Here is the image I got:<br />\n<a href=\"https://i.stack.imgur.com/c3zcP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c3zcP.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see in the image, there is surely something fishy going in <code>Math.toRadians()</code> because after 6 rounds, it's not coming back to the same position.</p>\n<p>Is there any way to solve this?</p>\n<p>Image for one loop, here you can clearly see that its not making exactly 360 degrees</p>\n<p><a href=\"https://i.stack.imgur.com/j6UCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j6UCx.png\" alt=\"enter image description here\" /></a></p>\n<p>For those who want to see my code. (the question here is about why <code>Math.toRadians()</code> is not accurate. there is no issue with my code)</p>\n<p>Here it is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.jturtle;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.stream.IntStream;\n\npublic class JTurtle extends Application {\n\n    private final ArrayList&lt;String&gt; instructions;\n    private final ArrayList&lt;String&gt; previousInstructions;\n    GraphicsContext gc;\n    int i = 0;\n    private boolean penDown;\n    private int penX, penY;\n    private int penSize;\n    private int speed;\n    private double theta;\n    private Color penColor;\n    private Color backgroundColor;\n\n    public JTurtle() {\n        penX = penY = 0;\n        speed = 10;\n        penSize = 1;\n        penDown = true;\n        theta = 0;\n        penColor = Color.BLACK;\n        backgroundColor = Color.WHITE;\n        instructions = new ArrayList&lt;&gt;();\n        previousInstructions = new ArrayList&lt;&gt;();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;JTurtle&quot;);\n        stage.setScene(new Scene(getPane()));\n        stage.setResizable(false);\n        stage.show();\n    }\n\n    private Parent getPane() {\n        var canvas = new Canvas(500, 500);\n        canvas.setLayoutX(0);\n        canvas.setLayoutY(0);\n        gc = canvas.getGraphicsContext2D();\n\n        penSize(5);\n        moveTo(250, 250);\n        for (int i = 0; i &lt; 6; i++) {\n            forward(100);\n            right(60);\n        }\n\n        new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                update();\n            }\n        }.start();\n\n        var pane = new AnchorPane(canvas);\n        pane.setPrefSize(500, 500);\n        return pane;\n    }\n\n    private void update() {\n        try {\n            boolean flag = IntStream.range(0, instructions.size()).anyMatch(i -&gt; !instructions.get(i).equals(previousInstructions.get(i)));\n            if (!flag) return;\n        } catch (Exception ignored) {\n        }\n\n        for (String instruction : instructions) {\n            var ins = instruction.split(&quot; &quot;);\n            switch (ins[0]) {\n                case &quot;FWD&quot; -&gt; {\n                    if (penDown)\n                        gc.strokeLine(penX,\n                                penY,\n                                penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta)),\n                                penY -= Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta)));\n                    else {\n                        penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta));\n                        penY -= Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta));\n                    }\n                }\n                case &quot;BWD&quot; -&gt; {\n                    if (penDown)\n                        gc.strokeLine(penX,\n                                penY,\n                                penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta)),\n                                penY += Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta)));\n                    else {\n                        penX += Integer.parseInt(ins[1]) * Math.cos(Math.toRadians(theta));\n                        penY += Integer.parseInt(ins[1]) * Math.sin(Math.toRadians(theta));\n                    }\n                }\n                case &quot;RGT&quot; -&gt; theta += Integer.parseInt(ins[1]);\n                case &quot;LFT&quot; -&gt; theta -= Integer.parseInt(ins[1]);\n                case &quot;PUP&quot; -&gt; penDown = false;\n                case &quot;PDN&quot; -&gt; penDown = true;\n                case &quot;PSZ&quot; -&gt; penSize = Integer.parseInt(ins[1]);\n                case &quot;PC&quot; -&gt; penColor = Color.web(ins[1]);\n                case &quot;BC&quot; -&gt; backgroundColor = Color.web(ins[1]);\n                case &quot;SPD&quot; -&gt; speed = Integer.parseInt(ins[1]);\n                case &quot;CLR&quot; -&gt; {\n                    gc.setFill(backgroundColor);\n                    gc.fillRect(0, 0, 500, 500);\n                }\n                case &quot;MOV&quot; -&gt; {\n                    penX = Integer.parseInt(ins[1]);\n                    penY = Integer.parseInt(ins[2]);\n                }\n            }\n        }\n        previousInstructions.clear();\n        previousInstructions.addAll(instructions);\n    }\n\n    public void forward(int distance) {\n        instructions.add(&quot;FWD &quot; + distance);\n    }\n\n    public void smoothForward(int distance) {\n        instructions.add(&quot;SFD &quot; + distance);\n    }\n\n    public void backward(int distance) {\n        instructions.add(&quot;BWD &quot; + distance);\n    }\n\n    public void smoothBackward(int distance) {\n        instructions.add(&quot;SBW &quot; + distance);\n    }\n\n    public void left(int angle) {\n        instructions.add(&quot;LFT &quot; + angle);\n    }\n\n    public void right(int angle) {\n        instructions.add(&quot;RGT &quot; + angle);\n    }\n\n    public void moveTo(int x, int y) {\n        instructions.add(&quot;MOV &quot; + x + &quot; &quot; + y);\n    }\n\n    public void penUp() {\n        instructions.add(&quot;PUP&quot;);\n    }\n\n    public void penDown() {\n        instructions.add(&quot;PDN&quot;);\n    }\n\n    public void penSize(int size) {\n        instructions.add(&quot;PSZ &quot; + size);\n    }\n\n    public void speed(int s) {\n        instructions.add(&quot;SPD &quot; + s);\n    }\n\n    public void penColor(Color c) {\n        instructions.add(&quot;PC &quot; + c.getRed() + &quot; &quot; + c.getGreen() + &quot; &quot; + c.getBlue());\n    }\n\n    public void backgroundColor(Color c) {\n        instructions.add(&quot;BC &quot; + c.getRed() + &quot; &quot; + c.getGreen() + &quot; &quot; + c.getBlue());\n    }\n\n    public void clear() {\n        instructions.add(&quot;CLR&quot;);\n    }\n}\n\n</code></pre>\n<blockquote>\n<p>the question here is about why <code>Math.toRadians()</code> is not accurate. there is no issue with my code.</p>\n</blockquote>\n<p>Some people here think this is a bold statement to be said. So I made some test</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 360; i++) {\n            System.out.println(Math.toDegrees(Math.toRadians(i)));\n        }\n    }\n}\n</code></pre>\n<p>and the output (a random segment of the printed thing)</p>\n<pre><code>245.00000000000003\n246.00000000000003\n247.0\n248.0\n248.99999999999997\n250.00000000000003\n251.0\n252.0\n253.0\n254.00000000000003\n255.00000000000003\n\n</code></pre>\n<p>So this clearly proves that Math.toRadians isnt correctly preserving the actual angle whose slight differences are actually ruining the whole drawing...</p>\n"},{"tags":["java","jsp","jsp-tags"],"answers":[{"tags":[],"owner":{"account_id":25875926,"reputation":1,"user_id":19605913,"display_name":"Isuru B Gunathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658562556,"creation_date":1658562556,"answer_id":73088961,"question_id":65976802,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n&lt;!DOCTYPE taglib\r\n    PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n    &quot;http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n    \r\n    &lt;taglib&gt; \r\n    //put empty line \r\n        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n        &lt;jsp-version&gt;1.0&lt;/jsp-version&gt;\r\n        &lt;short-name&gt;st&lt;/short-name&gt;\r\n        &lt;uri&gt;&lt;/uri&gt;\r\n        \r\n        &lt;tag&gt;\r\n        &lt;name&gt;MyDate&lt;/name&gt;\r\n        &lt;tag-class&gt;com.isuru.PrintDateTag&lt;/tag-class&gt;\r\n        &lt;body-content&gt;empty&lt;/body-content&gt;\r\n        \r\n        &lt;/tag&gt;\r\n    &lt;/taglib&gt;","title":"&quot;Error while downloading &#39;http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd&#39; &quot;","body":"\n\n<pre><code>&lt;taglib&gt; \n//put empty line \n    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n    &lt;jsp-version&gt;1.0&lt;/jsp-version&gt;\n    &lt;short-name&gt;st&lt;/short-name&gt;\n    &lt;uri&gt;&lt;/uri&gt;\n    \n    &lt;tag&gt;\n    &lt;name&gt;MyDate&lt;/name&gt;\n    &lt;tag-class&gt;com.isuru.PrintDateTag&lt;/tag-class&gt;\n    &lt;body-content&gt;empty&lt;/body-content&gt;\n    \n    &lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n"}],"owner":{"account_id":17965061,"reputation":45,"user_id":13055110,"display_name":"markin jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658562556,"creation_date":1612078945,"question_id":65976802,"body_markdown":"I&#39;m new to java and learning JSP tag libraries. while creating &quot;.tld&quot; file I got this error, I just don&#39;t know what&#39;s gone wrong.\r\n\r\nhere is my code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n    &lt;!DOCTYPE taglib\r\n    \tPUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n    \t&quot;http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n    \t\r\n    \t&lt;taglib&gt; //this tag got the problem\r\n    \t\t&lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n    \t\t&lt;jsp-version&gt;1.0&lt;/jsp-version&gt;\r\n    \t\t&lt;short-name&gt;st&lt;/short-name&gt;\r\n    \t\t\r\n    \t\t&lt;tag&gt;\r\n    \t\t&lt;name&gt;&lt;/name&gt;\r\n    \t\t\r\n    \t\t&lt;/tag&gt;\r\n    \t&lt;/taglib&gt;\r\n\r\nfull Error message\r\n\r\n    Error while downloading &#39;http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd&#39; to C:\\Users\\Dell\\.lemminx\\cache\\http\\java.sun.com\\j2ee\\dtd\\web-jsptaglibrary_1_2.dtd.\r\n\r\nplease help me get this right if you know, thanks.","title":"&quot;Error while downloading &#39;http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd&#39; &quot;","body":"<p>I'm new to java and learning JSP tag libraries. while creating &quot;.tld&quot; file I got this error, I just don't know what's gone wrong.</p>\n<p>here is my code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\n&lt;!DOCTYPE taglib\n    PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\n    &quot;http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\n    \n    &lt;taglib&gt; //this tag got the problem\n        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n        &lt;jsp-version&gt;1.0&lt;/jsp-version&gt;\n        &lt;short-name&gt;st&lt;/short-name&gt;\n        \n        &lt;tag&gt;\n        &lt;name&gt;&lt;/name&gt;\n        \n        &lt;/tag&gt;\n    &lt;/taglib&gt;\n</code></pre>\n<p>full Error message</p>\n<pre><code>Error while downloading 'http://java.sun.com/j2ee/dtd/web-jsptaglibrary_1_2.dtd' to C:\\Users\\Dell\\.lemminx\\cache\\http\\java.sun.com\\j2ee\\dtd\\web-jsptaglibrary_1_2.dtd.\n</code></pre>\n<p>please help me get this right if you know, thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1658492780,"post_id":73080312,"comment_id":129071147,"body_markdown":"It sounds like it s zip-file, so delete it as a file, not as a directory.","body":"It sounds like it s zip-file, so delete it as a file, not as a directory."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":3,"creation_date":1658492784,"post_id":73080312,"comment_id":129071150,"body_markdown":"Typically, a *.zip is a file, not a directory.","body":"Typically, a *.zip is a file, not a directory."},{"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"score":0,"creation_date":1658493224,"post_id":73080312,"comment_id":129071298,"body_markdown":"@MarkRotteveel so i need to remove + &quot;.zip&quot; and delete just 20220722_20-1006500 ?","body":"@MarkRotteveel so i need to remove + &quot;.zip&quot; and delete just 20220722_20-1006500 ?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1658493268,"post_id":73080312,"comment_id":129071312,"body_markdown":"No, currently you&#39;re using a method for deleting directories, while what you&#39;re trying to delete is - likely - not a directory, but a file, so use a method to delete files, not directories. For example, [`File.delete()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#delete()), or [`Files.deleteIfExists(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path))","body":"No, currently you&#39;re using a method for deleting directories, while what you&#39;re trying to delete is - likely - not a directory, but a file, so use a method to delete files, not directories. For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#delete()\" rel=\"nofollow noreferrer\"><code>File.delete()</code></a>, or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.deleteIfExists(Path)</code></a>"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":5,"creation_date":1658493568,"post_id":73080312,"comment_id":129071406,"body_markdown":"You&#39;re probably confused by your &quot;file explorer&quot; showing you the content of a zip file as if it were a directory in the filesystem.","body":"You&#39;re probably confused by your &quot;file explorer&quot; showing you the content of a zip file as if it were a directory in the filesystem."},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1658494819,"post_id":73080312,"comment_id":129071819,"body_markdown":"Your error is self explanatory, 20220722_20-1006500.zip is not a directory is not a directory, it&#39;s a file...provide the directory to the file which is something like C:/.../20220722_20-1006500.zip","body":"Your error is self explanatory, 20220722_20-1006500.zip is not a directory is not a directory, it&#39;s a file...provide the directory to the file which is something like C:/.../20220722_20-1006500.zip"}],"answers":[{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658493454,"creation_date":1658493454,"answer_id":73080489,"question_id":73080312,"body_markdown":"Instead of:\r\n\r\n    FileUtils.deleteDirectory(new File(export.getFilePath() + &quot;.zip&quot;));\r\n\r\nyou can use:\r\n\r\n    FileUtils.deleteQuietly(new File(&quot;C:\\\\PathToYourFile\\\\YourZipFile.zip&quot;));\r\n","title":"How to delete directory with zip extension?","body":"<p>Instead of:</p>\n<pre><code>FileUtils.deleteDirectory(new File(export.getFilePath() + &quot;.zip&quot;));\n</code></pre>\n<p>you can use:</p>\n<pre><code>FileUtils.deleteQuietly(new File(&quot;C:\\\\PathToYourFile\\\\YourZipFile.zip&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658562373,"creation_date":1658493466,"answer_id":73080490,"question_id":73080312,"body_markdown":"ZIP is considered as a file not a directory. You are using a method which is probably created to delete just directories. You can use the `deleteIfExists` method from `Files` class (*which accepts a path not a file so use `toPath()` method to convert your File instance to a Path instance*):\r\n\r\n    Files.deleteIfExists(new File(export.getFilePath() + &quot;.zip&quot;).toPath());\r\n\r\nYou will find [here][1] more details about .zip files :\r\n\r\n&gt; A Zip file is a single file containing one or more compressed files,\r\n&gt; offering an ideal way to make large files smaller and keep related\r\n&gt; files together\r\n\r\n\r\n  [1]: https://www.winzip.com/en/learn/file-formats/zip/#:~:text=A%20Zip%20file%20is%20a%20single%20file%20containing%20one%20or%20more%20compressed%20files%2C%20offering%20an%20ideal%20way%20to%20make%20large%20files%20smaller%20and%20keep%20related%20files%20together","title":"How to delete directory with zip extension?","body":"<p>ZIP is considered as a file not a directory. You are using a method which is probably created to delete just directories. You can use the <code>deleteIfExists</code> method from <code>Files</code> class (<em>which accepts a path not a file so use <code>toPath()</code> method to convert your File instance to a Path instance</em>):</p>\n<pre><code>Files.deleteIfExists(new File(export.getFilePath() + &quot;.zip&quot;).toPath());\n</code></pre>\n<p>You will find <a href=\"https://www.winzip.com/en/learn/file-formats/zip/#:%7E:text=A%20Zip%20file%20is%20a%20single%20file%20containing%20one%20or%20more%20compressed%20files%2C%20offering%20an%20ideal%20way%20to%20make%20large%20files%20smaller%20and%20keep%20related%20files%20together\" rel=\"nofollow noreferrer\">here</a> more details about .zip files :</p>\n<blockquote>\n<p>A Zip file is a single file containing one or more compressed files,\noffering an ideal way to make large files smaller and keep related\nfiles together</p>\n</blockquote>\n"}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658496091,"answer_count":2,"score":0,"last_activity_date":1658562373,"creation_date":1658492610,"question_id":73080312,"body_markdown":"I want to delete .zip directory that has multiple folders where I pass path where zip folder is saved, but I&#39;m getting this error : \r\n\r\n&gt; 20220722_20-1006500.zip is not a directory\r\n\r\nI&#39;m using this line:\r\n\r\n    FileUtils.deleteDirectory(new File(export.getFilePath() + &quot;.zip&quot;));\r\n\r\nBut it&#39;s not working. Any suggestion?","title":"How to delete directory with zip extension?","body":"<p>I want to delete .zip directory that has multiple folders where I pass path where zip folder is saved, but I'm getting this error :</p>\n<blockquote>\n<p>20220722_20-1006500.zip is not a directory</p>\n</blockquote>\n<p>I'm using this line:</p>\n<pre><code>FileUtils.deleteDirectory(new File(export.getFilePath() + &quot;.zip&quot;));\n</code></pre>\n<p>But it's not working. Any suggestion?</p>\n"},{"tags":["java","spring-boot","aop","aspect"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1658402242,"post_id":73056278,"comment_id":129045237,"body_markdown":"An [MCVE](https://stackoverflow.com/help/minimal-reproducible-example) would be helpful to debug the case","body":"An <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> would be helpful to debug the case"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658562371,"creation_date":1658561401,"answer_id":73088853,"question_id":73056278,"body_markdown":"&gt; This causes the Spring Boot application to fail startup.\r\n\r\nYou should always post error messages and relevant stack traces, not just say &quot;fails to start up&quot;. You are lucky that in this case, I remember the situation, so I can answer your question. Normally, I would be unable to do so without further information.\r\n\r\n&gt; I can get it to start if I add `@Aspect` to the `JwtAuthFilter` class.\r\n\r\nThat does not make any sense. Why would you add `@Aspect` to something which is not an aspect? Of course, it makes the start-up error go away, but it also makes your real aspect not fire, because one Spring AOP aspect cannot advise another one, as you already mentioned. Therefore, this approach is - with all due respect - complete nonsense.\r\n\r\nThe reason for the exception is: You cannot advise your filter by Spring AOP, because it is derived from `GenericFilterBean`, which has some final methods. Final methods cannot be overriden, therefore not be proxied either. This has the effect of those methods being called upon the proxy instance directly instead of being delegated to the target object, i.e. if such a method accesses an instance field, it shall find it uninitialised, because the proxy&#39;s fields are not meant to be initialised, only the target object&#39;s ones. See also [my answer here](https://stackoverflow.com/a/73057499/1082681) for more info.\r\n\r\nIn this case, final method `org.springframework.web.filter.GenericFilterBean#init` is trying to access `this.logger`, which leads to the NPE which makes Spring Boot&#39;s Tomcat fail to start up. This has been reported and briefly explained in [this comment in Spring issue #27963](https://github.com/spring-projects/spring-framework/issues/27963#issuecomment-1018370857), which has been closed as invalid.\r\n\r\n&gt; `@Timed` works on my controller method though.\r\n\r\nYes, because your controller does not have a problem with accessing an instance field from a final method.\r\n\r\nIf you absolutely think that you need to measure your filter method&#39;s execution time from an aspect, you can switch from Spring AOP to native AspectJ, either for the whole project via load-time weaving or selectively for some target classes via compile-time weaving. I have tried locally, it works with the right pointcut. Then you can also advise your filter. FYI, the pointcut would be something like:\r\n\r\n```java\r\n// Annotated class\r\n@Around(&quot;execution(* *(..)) &amp;&amp; !within(MyAspect) &amp;&amp; @target(Timed)&quot;)\r\n```\r\n\r\n```java\r\n// Annotated method\r\n@Around(&quot;execution(* *(..)) &amp;&amp; !within(MyAspect) &amp;&amp; @annotation(Timed)&quot;)\r\n```\r\n\r\nAspectJ is more powerful than Spring AOP, so you explicitly need to limit matching to method executions, otherwise other joinpoints such as method calls, constructor calls and others would be affected, too. You also need to make sure that the aspect does not advise itself or other aspects, which is perfectly possible in AspectJ.","title":"SpringBoot application fails startup when I have Aspect defined on a Bean Method","body":"<blockquote>\n<p>This causes the Spring Boot application to fail startup.</p>\n</blockquote>\n<p>You should always post error messages and relevant stack traces, not just say &quot;fails to start up&quot;. You are lucky that in this case, I remember the situation, so I can answer your question. Normally, I would be unable to do so without further information.</p>\n<blockquote>\n<p>I can get it to start if I add <code>@Aspect</code> to the <code>JwtAuthFilter</code> class.</p>\n</blockquote>\n<p>That does not make any sense. Why would you add <code>@Aspect</code> to something which is not an aspect? Of course, it makes the start-up error go away, but it also makes your real aspect not fire, because one Spring AOP aspect cannot advise another one, as you already mentioned. Therefore, this approach is - with all due respect - complete nonsense.</p>\n<p>The reason for the exception is: You cannot advise your filter by Spring AOP, because it is derived from <code>GenericFilterBean</code>, which has some final methods. Final methods cannot be overriden, therefore not be proxied either. This has the effect of those methods being called upon the proxy instance directly instead of being delegated to the target object, i.e. if such a method accesses an instance field, it shall find it uninitialised, because the proxy's fields are not meant to be initialised, only the target object's ones. See also <a href=\"https://stackoverflow.com/a/73057499/1082681\">my answer here</a> for more info.</p>\n<p>In this case, final method <code>org.springframework.web.filter.GenericFilterBean#init</code> is trying to access <code>this.logger</code>, which leads to the NPE which makes Spring Boot's Tomcat fail to start up. This has been reported and briefly explained in <a href=\"https://github.com/spring-projects/spring-framework/issues/27963#issuecomment-1018370857\" rel=\"nofollow noreferrer\">this comment in Spring issue #27963</a>, which has been closed as invalid.</p>\n<blockquote>\n<p><code>@Timed</code> works on my controller method though.</p>\n</blockquote>\n<p>Yes, because your controller does not have a problem with accessing an instance field from a final method.</p>\n<p>If you absolutely think that you need to measure your filter method's execution time from an aspect, you can switch from Spring AOP to native AspectJ, either for the whole project via load-time weaving or selectively for some target classes via compile-time weaving. I have tried locally, it works with the right pointcut. Then you can also advise your filter. FYI, the pointcut would be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Annotated class\n@Around(&quot;execution(* *(..)) &amp;&amp; !within(MyAspect) &amp;&amp; @target(Timed)&quot;)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Annotated method\n@Around(&quot;execution(* *(..)) &amp;&amp; !within(MyAspect) &amp;&amp; @annotation(Timed)&quot;)\n</code></pre>\n<p>AspectJ is more powerful than Spring AOP, so you explicitly need to limit matching to method executions, otherwise other joinpoints such as method calls, constructor calls and others would be affected, too. You also need to make sure that the aspect does not advise itself or other aspects, which is perfectly possible in AspectJ.</p>\n"}],"owner":{"account_id":14789509,"reputation":320,"user_id":10680850,"display_name":"Stubborn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658562371,"creation_date":1658340147,"question_id":73056278,"body_markdown":"Working with Springboot 2.7.0. I had a a working application and I made these changes on top of it\r\n\r\n**Aspect Configuration**\r\n    \r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    @ComponentScan\r\n    public class AspectConfig {}\r\n\r\n**Aspect Interface**\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Timed  { }\r\n\r\n**Aspect Class to Measure method execution time**\r\n\r\n    @Around(&quot;@annotation(Timed)&quot;)\r\n    public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long start = System.currentTimeMillis();\r\n        Object proceed = joinPoint.proceed();\r\n        LOG.info(&quot;Time taken for {} is {} ms, joinPoint.getSignature(), System.currentTimeMillis() - start,);\r\n        return proceed;\r\n    }\r\n\r\n**Added the new @Timed annotation to an existing method in a bean (omitting non relevant code)**\r\n\r\n    @Component\r\n    @ConditionalOnExpression(&quot;${oauth.enabled}&quot;)\r\n    public class JwtAuthFilter extends OncePerRequestFilter {\r\n        @Timed\r\n        public boolean verifySignatureAndExpiry(String bearerToken){\r\n            // method logic\r\n        }\r\n    }\r\n\r\nThis causes the Springboot application to fail startup.\r\n\r\n\r\nI can get it to start if I add @Aspect to the JwtAuthFilter class.\r\n\r\nbut why would I need to do that? It makes the @Timed annotation limited use if I have to annotate every class that needs to use it with @Aspect. Not to mention, though there are no errors, the functionality won&#39;t work because an Aspect cannot work on another Aspect.\r\n\r\n@Timed works on my controller method though.\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/v1&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class HealthController {\r\n\r\n        @GetMapping(&quot;/health&quot;)\r\n        @Timed\r\n        public Map&lt;String, String&gt; health(){\r\n            return Map.of(&quot;status&quot;, &quot;up&quot;);\r\n        }\r\n    }\r\n\r\n","title":"SpringBoot application fails startup when I have Aspect defined on a Bean Method","body":"<p>Working with Springboot 2.7.0. I had a a working application and I made these changes on top of it</p>\n<p><strong>Aspect Configuration</strong></p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\n@ComponentScan\npublic class AspectConfig {}\n</code></pre>\n<p><strong>Aspect Interface</strong></p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Timed  { }\n</code></pre>\n<p><strong>Aspect Class to Measure method execution time</strong></p>\n<pre><code>@Around(&quot;@annotation(Timed)&quot;)\npublic Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n    long start = System.currentTimeMillis();\n    Object proceed = joinPoint.proceed();\n    LOG.info(&quot;Time taken for {} is {} ms, joinPoint.getSignature(), System.currentTimeMillis() - start,);\n    return proceed;\n}\n</code></pre>\n<p><strong>Added the new @Timed annotation to an existing method in a bean (omitting non relevant code)</strong></p>\n<pre><code>@Component\n@ConditionalOnExpression(&quot;${oauth.enabled}&quot;)\npublic class JwtAuthFilter extends OncePerRequestFilter {\n    @Timed\n    public boolean verifySignatureAndExpiry(String bearerToken){\n        // method logic\n    }\n}\n</code></pre>\n<p>This causes the Springboot application to fail startup.</p>\n<p>I can get it to start if I add @Aspect to the JwtAuthFilter class.</p>\n<p>but why would I need to do that? It makes the @Timed annotation limited use if I have to annotate every class that needs to use it with @Aspect. Not to mention, though there are no errors, the functionality won't work because an Aspect cannot work on another Aspect.</p>\n<p>@Timed works on my controller method though.</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class HealthController {\n\n    @GetMapping(&quot;/health&quot;)\n    @Timed\n    public Map&lt;String, String&gt; health(){\n        return Map.of(&quot;status&quot;, &quot;up&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","unit-testing","jackson"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1658564318,"post_id":73088819,"comment_id":129086827,"body_markdown":"Reading json file but they can&#39;t be final? What do you mean by that?","body":"Reading json file but they can&#39;t be final? What do you mean by that?"},{"owner":{"account_id":17856323,"reputation":11,"user_id":12970845,"display_name":"DEEPAK MALIK"},"score":0,"creation_date":1658675810,"post_id":73088819,"comment_id":129104789,"body_markdown":"@Enfieldli- final strings have to declared and initialised together.","body":"@Enfieldli- final strings have to declared and initialised together."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658562334,"creation_date":1658562334,"answer_id":73088940,"question_id":73088819,"body_markdown":"I think you can use `@PropertySource` something like :\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:json.properties&quot;)\r\n    public class JsonConfig {\r\n           \r\n           @Value(&quot;${CONNECTED_CALL}&quot;)\r\n           String jsonVal;\r\n    }\r\n\r\nAnd your json.properties file will have :\r\n\r\n\r\n    CONNECTED_CALL=&quot;{\\&quot;Sid\\&quot;:\\&quot;835494\\&quot;,\\&quot;Info\\&quot;:\\&quot;121345\\&quot;}\r\n\r\nThis can be one of the way.\r\n","title":"Reading json file as string spring boot","body":"<p>I think you can use <code>@PropertySource</code> something like :</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:json.properties&quot;)\npublic class JsonConfig {\n       \n       @Value(&quot;${CONNECTED_CALL}&quot;)\n       String jsonVal;\n}\n</code></pre>\n<p>And your json.properties file will have :</p>\n<pre><code>CONNECTED_CALL=&quot;{\\&quot;Sid\\&quot;:\\&quot;835494\\&quot;,\\&quot;Info\\&quot;:\\&quot;121345\\&quot;}\n</code></pre>\n<p>This can be one of the way.</p>\n"}],"owner":{"account_id":17856323,"reputation":11,"user_id":12970845,"display_name":"DEEPAK MALIK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658562334,"creation_date":1658561067,"question_id":73088819,"body_markdown":"```\r\nServiceApplicationTest{\r\n  public static final String CONNECTED_CALL=&quot;{\\&quot;Sid\\&quot;:\\&quot;835494\\&quot;,\\&quot;Info\\&quot;:\\&quot;121345\\&quot;}\r\n}\r\n```\r\nStrings like &quot;CONNECTED_CALL&quot; can be very long, this is not preety but is working fine.\r\nMy goal is to move all this kind of data to file in resource folder like - connectedCall.json and read it without making any major change.\r\n\r\nI dont want to change already written code, I am fine with adding complexity to populate this values.\r\n\r\nOne way I had is to read these json file as string, calling this function for every value but then they cant be final. \r\n\r\nCan i do it using any annotation? like @Value in spring boot.\r\nI am using jackson.","title":"Reading json file as string spring boot","body":"<pre><code>ServiceApplicationTest{\n  public static final String CONNECTED_CALL=&quot;{\\&quot;Sid\\&quot;:\\&quot;835494\\&quot;,\\&quot;Info\\&quot;:\\&quot;121345\\&quot;}\n}\n</code></pre>\n<p>Strings like &quot;CONNECTED_CALL&quot; can be very long, this is not preety but is working fine.\nMy goal is to move all this kind of data to file in resource folder like - connectedCall.json and read it without making any major change.</p>\n<p>I dont want to change already written code, I am fine with adding complexity to populate this values.</p>\n<p>One way I had is to read these json file as string, calling this function for every value but then they cant be final.</p>\n<p>Can i do it using any annotation? like @Value in spring boot.\nI am using jackson.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658515336,"post_id":73084673,"comment_id":129079258,"body_markdown":"Please don&#39;t post screenshots of textual output, post them as code-formatted text. In any case, the property is `spring.datasource.username`, not `spring.datasource.user` (see [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.configuration))","body":"Please don&#39;t post screenshots of textual output, post them as code-formatted text. In any case, the property is <code>spring.datasource.username</code>, not <code>spring.datasource.user</code> (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.configuration\" rel=\"nofollow noreferrer\">documentation</a>)"}],"answers":[{"tags":[],"owner":{"account_id":17789506,"reputation":369,"user_id":12918869,"display_name":"noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658515304,"creation_date":1658515304,"answer_id":73084790,"question_id":73084673,"body_markdown":"The property to define username is `spring.datasource.username` and not `spring.datasource.user` update the property and rerun your application","title":"Spring app taking my PC&#39;s user name as database username - Access denied for user &#39;Akshay Tembhekar&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>The property to define username is <code>spring.datasource.username</code> and not <code>spring.datasource.user</code> update the property and rerun your application</p>\n"}],"owner":{"account_id":13308397,"reputation":23,"user_id":9607491,"display_name":"Akshay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658562237,"creation_date":1658514682,"question_id":73084673,"body_markdown":"I am trying to create a spring hibernate CRUD app.\r\nFor that I have created a db user. However on execution of app it is giving me the following error.\r\n    \r\n    java.sql.SQLException: Access denied for user &#39;Akshay Tembhekar&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:162) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat com.example.springboot.cruddemo.CruddemoApplication.main(CruddemoApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\n    \r\n    2022-07-22 23:44:15.003  INFO 13416 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-07-22 23:44:15.042  INFO 13416 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\r\n    2022-07-22 23:44:15.178  INFO 13416 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-07-22 23:44:15.253  INFO 13416 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-07-22 23:44:16.278 ERROR 13416 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.sql.SQLException: Access denied for user &#39;Akshay Tembhekar&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat com.example.springboot.cruddemo.CruddemoApplication.main(CruddemoApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\n    \r\n    2022-07-22 23:44:16.279  WARN 13416 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n    \r\n    java.sql.SQLException: Access denied for user &#39;Akshay Tembhekar&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.29.jar:8.0.29]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat com.example.springboot.cruddemo.CruddemoApplication.main(CruddemoApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\n    \r\n    2022-07-22 23:44:16.289  INFO 13416 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    2022-07-22 23:44:16.711  INFO 13416 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-07-22 23:44:16.719  INFO 13416 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    Inside DAOImpl constructor\r\n    2022-07-22 23:44:16.823  WARN 13416 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-07-22 23:44:17.181  INFO 13416 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2022-07-22 23:44:17.212  INFO 13416 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-07-22 23:44:17.222  INFO 13416 --- [  restartedMain] c.e.s.cruddemo.CruddemoApplication       : Started CruddemoApplication in 5.897 seconds (JVM running for 6.477)\r\n\r\nFollowing image has my application&#39;s folder structure and application.properties file.\r\n[![enter image description here][1]][1]\r\n\r\nAlong with application.properties and folder structure, I am also attaching the pom.xml file&#39;s content.\r\n\r\n   [![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xH7GZ.png\r\n  [2]: https://i.stack.imgur.com/ikyfq.png\r\n  [3]: https://i.stack.imgur.com/CaJ46.png\r\n  [4]: https://i.stack.imgur.com/YSA8O.png","title":"Spring app taking my PC&#39;s user name as database username - Access denied for user &#39;Akshay Tembhekar&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I am trying to create a spring hibernate CRUD app.\nFor that I have created a db user. However on execution of app it is giving me the following error.</p>\n<pre><code>java.sql.SQLException: Access denied for user 'Akshay Tembhekar'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:162) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.example.springboot.cruddemo.CruddemoApplication.main(CruddemoApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\n\n2022-07-22 23:44:15.003  INFO 13416 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-07-22 23:44:15.042  INFO 13416 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\n2022-07-22 23:44:15.178  INFO 13416 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-07-22 23:44:15.253  INFO 13416 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-07-22 23:44:16.278 ERROR 13416 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLException: Access denied for user 'Akshay Tembhekar'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.example.springboot.cruddemo.CruddemoApplication.main(CruddemoApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\n\n2022-07-22 23:44:16.279  WARN 13416 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\njava.sql.SQLException: Access denied for user 'Akshay Tembhekar'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.29.jar:8.0.29]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.example.springboot.cruddemo.CruddemoApplication.main(CruddemoApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\n\n2022-07-22 23:44:16.289  INFO 13416 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2022-07-22 23:44:16.711  INFO 13416 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-07-22 23:44:16.719  INFO 13416 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nInside DAOImpl constructor\n2022-07-22 23:44:16.823  WARN 13416 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-07-22 23:44:17.181  INFO 13416 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-07-22 23:44:17.212  INFO 13416 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-07-22 23:44:17.222  INFO 13416 --- [  restartedMain] c.e.s.cruddemo.CruddemoApplication       : Started CruddemoApplication in 5.897 seconds (JVM running for 6.477)\n</code></pre>\n<p>Following image has my application's folder structure and application.properties file.\n<a href=\"https://i.stack.imgur.com/xH7GZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xH7GZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Along with application.properties and folder structure, I am also attaching the pom.xml file's content.</p>\n<p><a href=\"https://i.stack.imgur.com/ikyfq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikyfq.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/CaJ46.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CaJ46.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/YSA8O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YSA8O.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658560883,"creation_date":1658560883,"answer_id":73088800,"question_id":73088021,"body_markdown":"Something similar but prettier than your final approach:\r\n\r\n```java\r\nMono.just(&quot;message&quot;)\r\n   ...\r\n    .transformDeferredContextual((originalMono, context) -&gt; originalMono.doOnNext(e -&gt; {\r\n           log.info(&quot;correlation-id: &quot; + context.get(CORRELATION_ID));\r\n   }))\r\n```\r\n","title":"Retrieving data from context and use it on doOnNext() from Spring Webflux","body":"<p>Something similar but prettier than your final approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(&quot;message&quot;)\n   ...\n    .transformDeferredContextual((originalMono, context) -&gt; originalMono.doOnNext(e -&gt; {\n           log.info(&quot;correlation-id: &quot; + context.get(CORRELATION_ID));\n   }))\n</code></pre>\n"}],"owner":{"account_id":15151336,"reputation":100,"user_id":10933589,"display_name":"Gabriel Magalh&#227;es"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73088800,"answer_count":1,"score":1,"last_activity_date":1658560883,"creation_date":1658550190,"question_id":73088021,"body_markdown":"I have a correlation ID stored in context (by using ***contextWrite***) and I&#39;d like to recover and use it in the ***doOnNext()***, in which I implement some logging from previous data transformations.\r\n\r\nHere&#39;s an example of what I achieved till now:\r\n\r\n    Mono.just(&quot;message&quot;)\r\n       ...\r\n       .doOnNext(it -&gt; Mono.deferContextual(ctx -&gt; Mono.just(ctx)\r\n          .doOnNext(c -&gt; log.info(&quot;correlation-id: &quot;+ c.get(CORRELATION_ID)))))\r\n       .subscribe();\r\n\r\nIs this the only way to achieve what I want? It seems a little odd to me somehow. I&#39;m still learning and I&#39;ve been reading the context section from the Reactor doc, but I couldn&#39;t find anything that approximates what I&#39;m trying to achieve.\r\n\r\n\r\n**UPDATE 1**\r\n\r\nI managed to achieve something like that (and didn&#39;t have to ***Mono.just()*** 2x):\r\n\r\n    Mono.deferContextual(ctx -&gt;\r\n       Mono.just(&quot;message&quot;)\r\n          ...\r\n          .doOnNext(it -&gt; log.info(&quot;correlation-id: &quot; + ctx.get(CORRELATION_ID)))\r\n    );\r\nStill don&#39;t know if that is a best practice, but looks way better than the previous one\r\n\r\n\r\n**UPDATE 2**\r\n\r\nReading and digging a little deeper into the code and documentation, I discovered that ***Mono.deferContextual()*** returns a Mono (my mistake for not noticing that before).As a result, for the first scenario, ***flatMap()*** should be used instead of ***doOnNext()***. To simulate the ***doOnNext()*** function, I&#39;ll have to refactor a little more to return the same received object on ***flatMap()***.\r\n\r\n**UPDATE 3**\r\n\r\nI think that I got to the final code with ***transformDeferredContextual()***. According to the reactor documentation:\r\n&gt; to access the context from the middle of an operator chain, use transformDeferredContextual(BiFunction)\r\n\r\nApplying to my scenario:\r\n\r\n    Mono.just(&quot;message&quot;)\r\n       ...\r\n       .transformDeferredContextual((originalMono, context) -&gt; {\r\n             log.info(&quot;correlation-id: &quot; + context.get(CORRELATION_ID)))\r\n             \r\n             return originalMono;\r\n       })\r\n       .subscribe();\r\n    );\r\n\r\nIt seems a bit odd, but till now, this seems like the best approach.","title":"Retrieving data from context and use it on doOnNext() from Spring Webflux","body":"<p>I have a correlation ID stored in context (by using <em><strong>contextWrite</strong></em>) and I'd like to recover and use it in the <em><strong>doOnNext()</strong></em>, in which I implement some logging from previous data transformations.</p>\n<p>Here's an example of what I achieved till now:</p>\n<pre><code>Mono.just(&quot;message&quot;)\n   ...\n   .doOnNext(it -&gt; Mono.deferContextual(ctx -&gt; Mono.just(ctx)\n      .doOnNext(c -&gt; log.info(&quot;correlation-id: &quot;+ c.get(CORRELATION_ID)))))\n   .subscribe();\n</code></pre>\n<p>Is this the only way to achieve what I want? It seems a little odd to me somehow. I'm still learning and I've been reading the context section from the Reactor doc, but I couldn't find anything that approximates what I'm trying to achieve.</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I managed to achieve something like that (and didn't have to <em><strong>Mono.just()</strong></em> 2x):</p>\n<pre><code>Mono.deferContextual(ctx -&gt;\n   Mono.just(&quot;message&quot;)\n      ...\n      .doOnNext(it -&gt; log.info(&quot;correlation-id: &quot; + ctx.get(CORRELATION_ID)))\n);\n</code></pre>\n<p>Still don't know if that is a best practice, but looks way better than the previous one</p>\n<p><strong>UPDATE 2</strong></p>\n<p>Reading and digging a little deeper into the code and documentation, I discovered that <em><strong>Mono.deferContextual()</strong></em> returns a Mono (my mistake for not noticing that before).As a result, for the first scenario, <em><strong>flatMap()</strong></em> should be used instead of <em><strong>doOnNext()</strong></em>. To simulate the <em><strong>doOnNext()</strong></em> function, I'll have to refactor a little more to return the same received object on <em><strong>flatMap()</strong></em>.</p>\n<p><strong>UPDATE 3</strong></p>\n<p>I think that I got to the final code with <em><strong>transformDeferredContextual()</strong></em>. According to the reactor documentation:</p>\n<blockquote>\n<p>to access the context from the middle of an operator chain, use transformDeferredContextual(BiFunction)</p>\n</blockquote>\n<p>Applying to my scenario:</p>\n<pre><code>Mono.just(&quot;message&quot;)\n   ...\n   .transformDeferredContextual((originalMono, context) -&gt; {\n         log.info(&quot;correlation-id: &quot; + context.get(CORRELATION_ID)))\n         \n         return originalMono;\n   })\n   .subscribe();\n);\n</code></pre>\n<p>It seems a bit odd, but till now, this seems like the best approach.</p>\n"},{"tags":["java","spring-boot","web-services","xml-parsing","wsdl"],"answers":[{"tags":[],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658560787,"creation_date":1658560787,"answer_id":73088792,"question_id":73082680,"body_markdown":"After too much efforts, got the solution to be working:\r\n\r\nprotected Map&lt;String, String&gt; extractUserDefinedHeaders(SoapHeader soapHeader) {\r\n\tMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\r\n\tIterator&lt;?&gt; elementIter = soapHeader.examineAllHeaderElements();\r\n\twhile (elementIter.hasNext()) {\r\n\t\tObject element = elementIter.next();\r\n\t\tif (!(element instanceof SoapHeaderElement)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tResult result = ((SoapHeaderElement) element).getResult();\r\n\t\tif (!(result instanceof DOMResult)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tNodeList nodeList = ((DOMResult) result).getNode().getChildNodes();\r\n\t\tfor (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n\t\t\tNode node = nodeList.item(i);\r\n\t\t\tif (node.hasChildNodes()) {\r\n\t\t\t\tString nodeName = node.getNodeName();\r\n\t\t\t\tString nodeValue = node.getFirstChild().getNodeValue();\r\n\t\t\t\theaders.put(nodeName, nodeValue);\r\n\t\t\t\tSystem.out.println(nodeName + &quot;, &quot; + nodeValue);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn headers;\r\n}\r\n\r\nand the output will be as:\r\n\r\n    clientID, xyz\r\n    wsdlVersion, 1.0\r\n    serviceType, ExampleService_v1","title":"How to get SOAP headers from MessageContext - In Spring Boot WS Application","body":"<p>After too much efforts, got the solution to be working:</p>\n<p>protected Map&lt;String, String&gt; extractUserDefinedHeaders(SoapHeader soapHeader) {\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();</p>\n<pre><code>Iterator&lt;?&gt; elementIter = soapHeader.examineAllHeaderElements();\nwhile (elementIter.hasNext()) {\n    Object element = elementIter.next();\n    if (!(element instanceof SoapHeaderElement)) {\n        continue;\n    }\n\n    Result result = ((SoapHeaderElement) element).getResult();\n    if (!(result instanceof DOMResult)) {\n        continue;\n    }\n\n    NodeList nodeList = ((DOMResult) result).getNode().getChildNodes();\n    for (int i = 0; i &lt; nodeList.getLength(); i++) {\n        Node node = nodeList.item(i);\n        if (node.hasChildNodes()) {\n            String nodeName = node.getNodeName();\n            String nodeValue = node.getFirstChild().getNodeValue();\n            headers.put(nodeName, nodeValue);\n            System.out.println(nodeName + &quot;, &quot; + nodeValue);\n        }\n    }\n}\nreturn headers;\n</code></pre>\n<p>}</p>\n<p>and the output will be as:</p>\n<pre><code>clientID, xyz\nwsdlVersion, 1.0\nserviceType, ExampleService_v1\n</code></pre>\n"}],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73088792,"answer_count":1,"score":0,"last_activity_date":1658560787,"creation_date":1658503409,"question_id":73082680,"body_markdown":"While working on the migration of an old Web Service application, need to convert it into a Spring Boot WS application. And need to get SOAP headers (Key &amp; Value), so tried as:\r\n\r\n\r\n\r\n    import javax.wsdl.Message;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.transform.Result;\r\n    import javax.xml.transform.Source;\r\n    \r\n    import org.apache.cxf.jaxws.context.WrappedMessageContext;\r\n    import org.springframework.ws.context.DefaultMessageContext;\r\n    import org.springframework.ws.context.MessageContext;\r\n    import org.springframework.ws.server.EndpointInterceptor;\r\n    import org.springframework.ws.soap.SoapBody;\r\n    import org.springframework.ws.soap.SoapHeader;\r\n    import org.springframework.ws.soap.SoapHeaderElement;\r\n    import org.springframework.ws.soap.SoapMessage;\r\n    import org.springframework.xml.namespace.QNameUtils;\r\n    \r\n    public class LogHttpHeaderEndpointInterceptor implements EndpointInterceptor {\r\n    \r\n        @Override\r\n        public boolean handleRequest(MessageContext messageContext, Object arg1) throws Exception {\r\n            SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\r\n    \r\n            Iterator&lt;SoapHeaderElement&gt; soapHeaderElementIterator = soapHeader.examineAllHeaderElements();\r\n            while (soapHeaderElementIterator.hasNext()) {\r\n                SoapHeaderElement soapHeaderElement = soapHeaderElementIterator.next();\r\n                Iterator&lt;QName&gt; allAttributes3 = soapHeaderElement.getAllAttributes();\r\n    \r\n                while (allAttributes3.hasNext()) {\r\n                    QName qName = (QName) allAttributes3.next();\r\n                    System.out.println();\r\n                    System.out.println(&quot;    LocalPart: &quot; + qName.getLocalPart());\r\n                    System.out.println(&quot;    NamespaceURI: &quot; + qName.getNamespaceURI());\r\n                    System.out.println(&quot;    Prefix: &quot; + qName.getPrefix());\r\n                    System.out.println(&quot;    ToString(): &quot; + qName.toString());\r\n                    System.out.println();\r\n                }\r\n                System.out.println(&quot;Header Name: &quot; + soapHeaderElement.getName());\r\n                System.out.println(&quot;Text: &quot; + soapHeaderElement.getText());\r\n                String attributeValue = soapHeaderElement.getAttributeValue(soapHeaderElement.getName());\r\n                System.out.println(&quot;Header Value: &quot; + attributeValue);\r\n                Iterator&lt;QName&gt; allAttributes = soapHeaderElement.getAllAttributes();\r\n                while (allAttributes.hasNext()) {\r\n                    QName qName = (QName) allAttributes.next();\r\n                    System.out.println();\r\n                    System.out.println(&quot;    LocalPart: &quot; + qName.getLocalPart());\r\n                    System.out.println(&quot;    NamespaceURI: &quot; + qName.getNamespaceURI());\r\n                    System.out.println(&quot;    Prefix: &quot; + qName.getPrefix());\r\n                    System.out.println(&quot;    ToString(): &quot; + qName.toString());\r\n                    System.out.println();\r\n                }\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nBut it&#39;s not giving the value for the outer node as well as for the inner children of the below SOAP request XML:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:gen=&quot;http://www.baeldung.com/springsoap/gen&quot;&gt;\r\n    &#160; &#160;&lt;soapenv:Header&gt;\r\n    &#160; &#160; &#160; &lt;CustomHeaderElement&gt;\r\n    &#160; &#160; &#160; &#160; &#160;&lt;clientID&gt;xyz&lt;/clientID&gt;\r\n    &#160; &#160; &#160; &#160; &#160;&lt;wsdlVersion&gt;1.0&lt;/wsdlVersion&gt;\r\n    &#160; &#160; &#160; &#160; &#160;&lt;serviceType&gt;ExampleService_v1&lt;/serviceType&gt;\r\n    &#160; &#160; &#160; &lt;/CustomHeaderElement&gt;\r\n    &#160; &#160;&lt;/soapenv:Header&gt;\r\n    &#160; &#160;&lt;soapenv:Body&gt;\r\n    &#160; &#160;&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nHow can I get each header key=value ???\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P8uPY.png","title":"How to get SOAP headers from MessageContext - In Spring Boot WS Application","body":"<p>While working on the migration of an old Web Service application, need to convert it into a Spring Boot WS application. And need to get SOAP headers (Key &amp; Value), so tried as:</p>\n<pre><code>import javax.wsdl.Message;\nimport javax.xml.namespace.QName;\nimport javax.xml.transform.Result;\nimport javax.xml.transform.Source;\n\nimport org.apache.cxf.jaxws.context.WrappedMessageContext;\nimport org.springframework.ws.context.DefaultMessageContext;\nimport org.springframework.ws.context.MessageContext;\nimport org.springframework.ws.server.EndpointInterceptor;\nimport org.springframework.ws.soap.SoapBody;\nimport org.springframework.ws.soap.SoapHeader;\nimport org.springframework.ws.soap.SoapHeaderElement;\nimport org.springframework.ws.soap.SoapMessage;\nimport org.springframework.xml.namespace.QNameUtils;\n\npublic class LogHttpHeaderEndpointInterceptor implements EndpointInterceptor {\n\n    @Override\n    public boolean handleRequest(MessageContext messageContext, Object arg1) throws Exception {\n        SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\n\n        Iterator&lt;SoapHeaderElement&gt; soapHeaderElementIterator = soapHeader.examineAllHeaderElements();\n        while (soapHeaderElementIterator.hasNext()) {\n            SoapHeaderElement soapHeaderElement = soapHeaderElementIterator.next();\n            Iterator&lt;QName&gt; allAttributes3 = soapHeaderElement.getAllAttributes();\n\n            while (allAttributes3.hasNext()) {\n                QName qName = (QName) allAttributes3.next();\n                System.out.println();\n                System.out.println(&quot;    LocalPart: &quot; + qName.getLocalPart());\n                System.out.println(&quot;    NamespaceURI: &quot; + qName.getNamespaceURI());\n                System.out.println(&quot;    Prefix: &quot; + qName.getPrefix());\n                System.out.println(&quot;    ToString(): &quot; + qName.toString());\n                System.out.println();\n            }\n            System.out.println(&quot;Header Name: &quot; + soapHeaderElement.getName());\n            System.out.println(&quot;Text: &quot; + soapHeaderElement.getText());\n            String attributeValue = soapHeaderElement.getAttributeValue(soapHeaderElement.getName());\n            System.out.println(&quot;Header Value: &quot; + attributeValue);\n            Iterator&lt;QName&gt; allAttributes = soapHeaderElement.getAllAttributes();\n            while (allAttributes.hasNext()) {\n                QName qName = (QName) allAttributes.next();\n                System.out.println();\n                System.out.println(&quot;    LocalPart: &quot; + qName.getLocalPart());\n                System.out.println(&quot;    NamespaceURI: &quot; + qName.getNamespaceURI());\n                System.out.println(&quot;    Prefix: &quot; + qName.getPrefix());\n                System.out.println(&quot;    ToString(): &quot; + qName.toString());\n                System.out.println();\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>But it's not giving the value for the outer node as well as for the inner children of the below SOAP request XML:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:gen=&quot;http://www.baeldung.com/springsoap/gen&quot;&gt;\n   &lt;soapenv:Header&gt;\n      &lt;CustomHeaderElement&gt;\n         &lt;clientID&gt;xyz&lt;/clientID&gt;\n         &lt;wsdlVersion&gt;1.0&lt;/wsdlVersion&gt;\n         &lt;serviceType&gt;ExampleService_v1&lt;/serviceType&gt;\n      &lt;/CustomHeaderElement&gt;\n   &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>How can I get each header key=value ???\n<a href=\"https://i.stack.imgur.com/P8uPY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P8uPY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","geckoview"],"comments":[{"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":1,"creation_date":1566405305,"post_id":57595893,"comment_id":101649100,"body_markdown":"Did you add the dependency: `implementation &quot;org.mozilla.components:browser-engine-gecko:{latest-version}&quot;` ?","body":"Did you add the dependency: <code>implementation &quot;org.mozilla.components:browser-engine-gecko:{latest-version&zwnj;&#8203;}&quot;</code> ?"},{"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1566406739,"post_id":57595893,"comment_id":101649682,"body_markdown":"You have to change {latest-version} with the latest version of this library. Check on the doc of the library. It seems 9.0.0","body":"You have to change {latest-version} with the latest version of this library. Check on the doc of the library. It seems 9.0.0"},{"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1566409355,"post_id":57595893,"comment_id":101650686,"body_markdown":"Did my comment solve your issue?","body":"Did my comment solve your issue?"},{"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1566461652,"post_id":57595893,"comment_id":101665823,"body_markdown":"Thanks. Just posted the answer.","body":"Thanks. Just posted the answer."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566461275,"creation_date":1566461275,"answer_id":57604780,"question_id":57595893,"body_markdown":"As described in the component [doc][1] to use it you have to add this dependencies in your `build.gradle`\r\n\r\n    implementation &quot;org.mozilla.components:browser-engine-gecko:{latest-version}&quot;\r\n\r\nCurrently the [latest version][2] is 9.0.0\r\n\r\n    implementation &quot;org.mozilla.components:browser-engine-gecko:9.0.0&quot;\r\n\r\n\r\n  [1]: https://github.com/mozilla-mobile/android-components/tree/master/components/browser/engine-gecko\r\n  [2]: https://github.com/mozilla-mobile/android-components/releases","title":"How to fix &quot;Error inflating class GeckoEngineView&quot; for android","body":"<p>As described in the component <a href=\"https://github.com/mozilla-mobile/android-components/tree/master/components/browser/engine-gecko\" rel=\"nofollow noreferrer\">doc</a> to use it you have to add this dependencies in your <code>build.gradle</code></p>\n\n<pre><code>implementation \"org.mozilla.components:browser-engine-gecko:{latest-version}\"\n</code></pre>\n\n<p>Currently the <a href=\"https://github.com/mozilla-mobile/android-components/releases\" rel=\"nofollow noreferrer\">latest version</a> is 9.0.0</p>\n\n<pre><code>implementation \"org.mozilla.components:browser-engine-gecko:9.0.0\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7254757,"reputation":1882,"user_id":5533820,"accept_rate":0,"display_name":"Arturo Mejia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566481690,"creation_date":1566481690,"answer_id":57610868,"question_id":57595893,"body_markdown":"@SowingFiber I think you have a small error, on the XML code on the example above, possible in the last edition. I think you should update it because, as it&#39;s now, it is not going to compile.\r\n\r\nThe problem is that you have two different types of references, one in the XML and another in the code. To match the reference in the code, you have to use `org.mozilla.geckoview.GeckoView` in the XML.\r\n\r\n    &lt;org.mozilla.geckoview.GeckoView\r\n        android:id=&quot;@+id/geckoview&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot; /&gt;\r\n\r\nAdditionally you could include `geckoview` directly, without using [Mozilla Android Components][1], in case you just want to use `geckoview`.\r\n    \r\n    implementation &quot;org.mozilla.geckoview:geckoview-${geckoviewChannel}:${geckoviewVersion}&quot;   \r\n\r\n\r\n  [1]: https://github.com/mozilla-mobile/android-components","title":"How to fix &quot;Error inflating class GeckoEngineView&quot; for android","body":"<p>@SowingFiber I think you have a small error, on the XML code on the example above, possible in the last edition. I think you should update it because, as it's now, it is not going to compile.</p>\n\n<p>The problem is that you have two different types of references, one in the XML and another in the code. To match the reference in the code, you have to use <code>org.mozilla.geckoview.GeckoView</code> in the XML.</p>\n\n<pre><code>&lt;org.mozilla.geckoview.GeckoView\n    android:id=\"@+id/geckoview\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\" /&gt;\n</code></pre>\n\n<p>Additionally you could include <code>geckoview</code> directly, without using <a href=\"https://github.com/mozilla-mobile/android-components\" rel=\"nofollow noreferrer\">Mozilla Android Components</a>, in case you just want to use <code>geckoview</code>.</p>\n\n<pre><code>implementation \"org.mozilla.geckoview:geckoview-${geckoviewChannel}:${geckoviewVersion}\"   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3096097,"reputation":27,"user_id":2621243,"display_name":"theGuyAtBackDoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658560672,"creation_date":1658560672,"answer_id":73088781,"question_id":57595893,"body_markdown":"You need to override this onCreateView of your actvity \r\n```kotlin\r\noverride fun onCreateView(parent: View?, name: String?, context: Context, attrs: AttributeSet?): View? = when (name) {\r\n       EngineView::class.java.name -&gt; engine.createView(context, attrs).asView()\r\n       else -&gt; super.onCreateView(parent, name, context, attrs)\r\n}\r\n```","title":"How to fix &quot;Error inflating class GeckoEngineView&quot; for android","body":"<p>You need to override this onCreateView of your actvity</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onCreateView(parent: View?, name: String?, context: Context, attrs: AttributeSet?): View? = when (name) {\n       EngineView::class.java.name -&gt; engine.createView(context, attrs).asView()\n       else -&gt; super.onCreateView(parent, name, context, attrs)\n}\n</code></pre>\n"}],"owner":{"account_id":16364048,"reputation":1204,"user_id":11818952,"display_name":"SowingFiber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57604780,"answer_count":3,"score":4,"last_activity_date":1658560672,"creation_date":1566405099,"question_id":57595893,"body_markdown":"The GeckoEngineView fails to be inflated, despite using latest dependencies.\r\n\r\nThe code is from an official documentation on [GeckoView][1]. All the latest dependencies and repos have been successfully resolved in the project.\r\n\r\nThe Error:\r\n\r\n`Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView`\r\n\r\n\r\nUpon scouring the error log: \r\n\r\n\r\n     Caused by: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView\r\n     Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;mozilla.components.browser.engine.gecko.GeckoEngineView&quot; on path: DexPathList[[zip file &quot;/data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/lib/arm64, /data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/base.apk!/lib/arm64-v8a, /system/lib64, /system/vendor/lib64]]\r\n\r\n*Updated XML File, Credit: @ArturoMejia*&lt;br&gt;\r\n`activity_main.xml`:\r\n\r\n```\r\n&lt;org.mozilla.geckoview.GeckoView\r\n    android:id=&quot;@+id/geckoview&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot; /&gt;\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    GeckoView view;\r\n    GeckoSession session;\r\n    GeckoRuntime runtime;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        view = findViewById(R.id.geckoview);\r\n        session = new GeckoSession();\r\n        runtime = GeckoRuntime.create(this);\r\n        session.open(runtime);\r\n        view.setSession(session);\r\n\r\n\r\n        //TODO: add any url\r\n        //TODO: Use intent.putExtraString() to send a url from the main activity to this activity\r\n        session.loadUri(&quot;http://theyouthbuzz.com/&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThe documentation implies that the code should load a webview without any problems. The same is not verifiable.\r\n\r\nNotes:\r\n\r\nAndroid studio version: 3.5 RC 3 [dev channel]\r\n\r\n\r\n  [1]: http://wiki.mozilla.org/Mobile/GeckoView","title":"How to fix &quot;Error inflating class GeckoEngineView&quot; for android","body":"<p>The GeckoEngineView fails to be inflated, despite using latest dependencies.</p>\n\n<p>The code is from an official documentation on <a href=\"http://wiki.mozilla.org/Mobile/GeckoView\" rel=\"nofollow noreferrer\">GeckoView</a>. All the latest dependencies and repos have been successfully resolved in the project.</p>\n\n<p>The Error:</p>\n\n<p><code>Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView</code></p>\n\n<p>Upon scouring the error log: </p>\n\n<pre><code> Caused by: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView\n Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class mozilla.components.browser.engine.gecko.GeckoEngineView\n Caused by: java.lang.ClassNotFoundException: Didn't find class \"mozilla.components.browser.engine.gecko.GeckoEngineView\" on path: DexPathList[[zip file \"/data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/base.apk\"],nativeLibraryDirectories=[/data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/lib/arm64, /data/app/com.geckoengine.example-IQhwqfpsfzKO11EI9ak6kQ==/base.apk!/lib/arm64-v8a, /system/lib64, /system/vendor/lib64]]\n</code></pre>\n\n<p><em>Updated XML File, Credit: @ArturoMejia</em><br>\n<code>activity_main.xml</code>:</p>\n\n<pre><code>&lt;org.mozilla.geckoview.GeckoView\n    android:id=\"@+id/geckoview\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\" /&gt;\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    GeckoView view;\n    GeckoSession session;\n    GeckoRuntime runtime;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        view = findViewById(R.id.geckoview);\n        session = new GeckoSession();\n        runtime = GeckoRuntime.create(this);\n        session.open(runtime);\n        view.setSession(session);\n\n\n        //TODO: add any url\n        //TODO: Use intent.putExtraString() to send a url from the main activity to this activity\n        session.loadUri(\"http://theyouthbuzz.com/\");\n    }\n}\n\n</code></pre>\n\n<p>The documentation implies that the code should load a webview without any problems. The same is not verifiable.</p>\n\n<p>Notes:</p>\n\n<p>Android studio version: 3.5 RC 3 [dev channel]</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632834649,"post_id":69362148,"comment_id":122596422,"body_markdown":"Have you tried removing `@RestController` from `CustomizeResponseEntityExceptionHandler`. It is not needed and might be causing the issue.","body":"Have you tried removing <code>@RestController</code> from <code>CustomizeResponseEntityExceptionHandler</code>. It is not needed and might be causing the issue."},{"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"score":0,"creation_date":1632834997,"post_id":69362148,"comment_id":122596601,"body_markdown":"Yes, it didn&#39;t change anything...","body":"Yes, it didn&#39;t change anything..."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632835268,"post_id":69362148,"comment_id":122596756,"body_markdown":"Then my guess is that the issue is that `@ControllerAdvice`only applies to `@Controller` classes and `@ExceptionHandler` only handles exceptions thrown by the Controllers. Your exception is thrown by a custom `BasicAuthenticationFilter`.","body":"Then my guess is that the issue is that <code>@ControllerAdvice</code>only applies to <code>@Controller</code> classes and <code>@ExceptionHandler</code> only handles exceptions thrown by the Controllers. Your exception is thrown by a custom <code>BasicAuthenticationFilter</code>."},{"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"score":0,"creation_date":1632835432,"post_id":69362148,"comment_id":122596858,"body_markdown":"got it, so how would I handle this exception?","body":"got it, so how would I handle this exception?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632835818,"post_id":69362148,"comment_id":122597070,"body_markdown":"Keep in mind this is just I guess. I will try to find another way to do it.","body":"Keep in mind this is just I guess. I will try to find another way to do it."},{"owner":{"account_id":6254221,"reputation":829,"user_id":4863347,"display_name":"Charlie Reitzel"},"score":0,"creation_date":1659012044,"post_id":69362148,"comment_id":129197643,"body_markdown":"In the past, I have had to use a backstop filter to catch exceptions thrown in other filters: `try {  doFilterChain(req, rsp, chain); } catch ( Throwable ex ) {  logger.error(&quot;Uncaught!&quot;, ex); sendErrorResponse(rsp); }`.   The backstop filter must have the highest precedence (1st in the chain, starts 1st, finishes last).","body":"In the past, I have had to use a backstop filter to catch exceptions thrown in other filters: <code>try {  doFilterChain(req, rsp, chain); } catch ( Throwable ex ) {  logger.error(&quot;Uncaught!&quot;, ex); sendErrorResponse(rsp); }</code>.   The backstop filter must have the highest precedence (1st in the chain, starts 1st, finishes last)."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633044674,"creation_date":1633044674,"answer_id":69399798,"question_id":69362148,"body_markdown":"Try building a custom `AuthenticationFailureHandler` as follows:\r\n```java\r\npublic class CustomAuthenticationFailureHandler \r\n  implements AuthenticationFailureHandler {\r\n \r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Override\r\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\r\n       AuthenticationException exception) throws IOException, ServletException {\r\n\r\n        Throwable cause = exception.getCause();\r\n        ExceptionResponse exceptionResponse = null;\r\n\r\n        if (cause instanceOf InvalidJwtAuthenticationException) {\r\n          response.setStatus(HttpStatus.BAD_REQUEST.value());\r\n          exceptionResponse = new ExceptionResponse(new Date(), \r\n                cause.getMessage(), \r\n                request.getDescription(false));\r\n        } else if (cause instanceOf TokenExpiredException) {\r\n          response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n          exceptionResponse = new ExceptionResponse(new Date(), \r\n                ex.getMessage(), \r\n                request.getDescription(true));\r\n        } else {\r\n          // additional logic here\r\n        }\r\n\r\n        response.getOutputStream().println(objectMapper.writeValueAsString(exceptionResponse));\r\n    }\r\n}\r\n```\r\n\r\nThen you need to register it in a `@Configuration` class:\r\n```java\r\n@Bean\r\npublic AuthenticationFailureHandler authenticationFailureHandler() {\r\n    return new CustomAuthenticationFailureHandler();\r\n}\r\n```","title":"custom exception is not passing through Advice control in spring boot","body":"<p>Try building a custom <code>AuthenticationFailureHandler</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAuthenticationFailureHandler \n  implements AuthenticationFailureHandler {\n \n    private ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\n       AuthenticationException exception) throws IOException, ServletException {\n\n        Throwable cause = exception.getCause();\n        ExceptionResponse exceptionResponse = null;\n\n        if (cause instanceOf InvalidJwtAuthenticationException) {\n          response.setStatus(HttpStatus.BAD_REQUEST.value());\n          exceptionResponse = new ExceptionResponse(new Date(), \n                cause.getMessage(), \n                request.getDescription(false));\n        } else if (cause instanceOf TokenExpiredException) {\n          response.setStatus(HttpStatus.UNAUTHORIZED.value());\n          exceptionResponse = new ExceptionResponse(new Date(), \n                ex.getMessage(), \n                request.getDescription(true));\n        } else {\n          // additional logic here\n        }\n\n        response.getOutputStream().println(objectMapper.writeValueAsString(exceptionResponse));\n    }\n}\n</code></pre>\n<p>Then you need to register it in a <code>@Configuration</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationFailureHandler authenticationFailureHandler() {\n    return new CustomAuthenticationFailureHandler();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633062370,"creation_date":1633061893,"answer_id":69400315,"question_id":69362148,"body_markdown":"You can&#39;t catch authentication exceptions using controller advice (at least not as simple :-). Authentication exceptions happen before the whole Spring exception handler intialized. Here ist similar discussion how to workaround related issues:\r\n\r\nhttps://stackoverflow.com/questions/47679897/spring-mvc-or-spring-boot-custom-json-response-for-security-related-exception","title":"custom exception is not passing through Advice control in spring boot","body":"<p>You can't catch authentication exceptions using controller advice (at least not as simple :-). Authentication exceptions happen before the whole Spring exception handler intialized. Here ist similar discussion how to workaround related issues:</p>\n<p><a href=\"https://stackoverflow.com/questions/47679897/spring-mvc-or-spring-boot-custom-json-response-for-security-related-exception\">Spring MVC (or Spring Boot). Custom JSON response for security related exceptions like 401 Unauthorized or 403 Forbidden)</a></p>\n"},{"tags":[],"owner":{"account_id":2207385,"reputation":1511,"user_id":1950242,"display_name":"azwar_akbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658558570,"creation_date":1658558570,"answer_id":73088603,"question_id":69362148,"body_markdown":"Authentication Exception can not be handled using such **@ExceptionHandler**, because it just happens before the Spring MVC dispatcher servlet were entered and all the MVC handlers were initialized. So you need to create a Class that inherit interface **AuthenticationEntryPoint**, override the **commence()** method and handle the exception there as you need. Here is the example:\r\n\r\n    @Component\r\n    public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(JwtAuthenticationEntryPoint.class);\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e)\r\n                throws IOException, ServletException {\r\n            LOGGER.error(&quot;Responding with unauthorized error. Message - {}&quot;, e.getMessage());\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            UnauthorizedException exception = new UnauthorizedException(&quot;Please provide auth token&quot;);\r\n            String responseMsg = mapper.writeValueAsString(exception);\r\n            httpServletResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            httpServletResponse.getWriter().write(responseMsg);\r\n        }\r\n    }\r\n\r\nAdd add below lines to your Spring Security Config that extends WebSecurityConfigurerAdapter:\r\n\r\n    http.exceptionHandling()\r\n            .authenticationEntryPoint(unauthorizedHandler) \r\n\r\n\r\nand it becomes like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(\r\n            securedEnabled = true,\r\n            jsr250Enabled = true,\r\n            prePostEnabled = true)\r\n    public class SecutiryConfig extends WebSecurityConfigurerAdapter {\r\n        private final CustomUserDetailsServiceImpl customUserDetailsService;\r\n        private final JwtAuthenticationEntryPoint unauthorizedHandler;\r\n        private final JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    \r\n        @Autowired\r\n        public SecutiryConfig(UserRepository userRepository,\r\n                              CustomUserDetailsServiceImpl customUserDetailsService,\r\n                              JwtAuthenticationEntryPoint unauthorizedHandler,\r\n                              JwtAuthenticationFilter jwtAuthenticationFilter)\r\n        {\r\n            this.customUserDetailsService = customUserDetailsService;\r\n            this.unauthorizedHandler = unauthorizedHandler;\r\n            this.jwtAuthenticationFilter = jwtAuthenticationFilter;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler) // this line\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .anyRequest().authenticated();\r\n        }\r\n    }","title":"custom exception is not passing through Advice control in spring boot","body":"<p>Authentication Exception can not be handled using such <strong>@ExceptionHandler</strong>, because it just happens before the Spring MVC dispatcher servlet were entered and all the MVC handlers were initialized. So you need to create a Class that inherit interface <strong>AuthenticationEntryPoint</strong>, override the <strong>commence()</strong> method and handle the exception there as you need. Here is the example:</p>\n<pre><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    private static final Logger LOGGER = LoggerFactory.getLogger(JwtAuthenticationEntryPoint.class);\n\n    @Override\n    public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e)\n            throws IOException, ServletException {\n        LOGGER.error(&quot;Responding with unauthorized error. Message - {}&quot;, e.getMessage());\n        ObjectMapper mapper = new ObjectMapper();\n        UnauthorizedException exception = new UnauthorizedException(&quot;Please provide auth token&quot;);\n        String responseMsg = mapper.writeValueAsString(exception);\n        httpServletResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        httpServletResponse.getWriter().write(responseMsg);\n    }\n}\n</code></pre>\n<p>Add add below lines to your Spring Security Config that extends WebSecurityConfigurerAdapter:</p>\n<pre><code>http.exceptionHandling()\n        .authenticationEntryPoint(unauthorizedHandler) \n</code></pre>\n<p>and it becomes like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        securedEnabled = true,\n        jsr250Enabled = true,\n        prePostEnabled = true)\npublic class SecutiryConfig extends WebSecurityConfigurerAdapter {\n    private final CustomUserDetailsServiceImpl customUserDetailsService;\n    private final JwtAuthenticationEntryPoint unauthorizedHandler;\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    @Autowired\n    public SecutiryConfig(UserRepository userRepository,\n                          CustomUserDetailsServiceImpl customUserDetailsService,\n                          JwtAuthenticationEntryPoint unauthorizedHandler,\n                          JwtAuthenticationFilter jwtAuthenticationFilter)\n    {\n        this.customUserDetailsService = customUserDetailsService;\n        this.unauthorizedHandler = unauthorizedHandler;\n        this.jwtAuthenticationFilter = jwtAuthenticationFilter;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(unauthorizedHandler) // this line\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .anyRequest().authenticated();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1658558570,"creation_date":1632833691,"question_id":69362148,"body_markdown":"I&#39;m trying to customize a thrown exception, but it&#39;s not in the advice control.\r\n\r\nThe TokenExpiredException exception\r\nshould be handled in controller advice, but returns a common, unhandled error.\r\n\r\nJWTValidarFilter:\r\n\r\n    public class JWTValidarFilter extends BasicAuthenticationFilter{\r\n\r\n\tprivate static final String HEADER_ATRIBUTO = &quot;Authorization&quot;;\r\n\t\r\n\tprivate static final String ATRIBUTO_PREFIXO = &quot;Bearer &quot;;\r\n\t\r\n\tpublic JWTValidarFilter(AuthenticationManager authenticationManager) {\r\n\t\tsuper(authenticationManager);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, \r\n\t\t\tHttpServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\t\r\n\t\tString atributo = request.getHeader(HEADER_ATRIBUTO);\r\n\t\t        \r\n\t\tif(atributo == null) {\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif(!atributo.startsWith(ATRIBUTO_PREFIXO)) {\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tString token = atributo.replace(ATRIBUTO_PREFIXO, &quot;&quot;);\r\n\t\t\r\n\t\tUsernamePasswordAuthenticationToken authenticationToken = getAuthenticationToken(token);\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n\t\tchain.doFilter(request, response);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate UsernamePasswordAuthenticationToken getAuthenticationToken(String token) {\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tString usuario = JWT.require(Algorithm.HMAC512(JWTAutenticarFilter.TOKEN_SENHA))\r\n\t\t\t\t\t.build()\r\n\t\t\t\t\t.verify(token)\r\n\t\t\t\t\t.getSubject();\r\n\t\t\tif(usuario == null) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn new UsernamePasswordAuthenticationToken(usuario, null, new ArrayList&lt;&gt;());\r\n\r\n\t\t} catch (TokenExpiredException e) {\r\n\t\t\tthrow new TokenExpiredException(&quot;Token expirado!&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nCustomizeResponseEntityExceptionHandler:\r\n```java\r\n@ControllerAdvice\r\n@RestController\r\npublic class CustomizeResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{\r\n\r\n\t@ExceptionHandler(Exception.class)\r\n\tpublic final ResponseEntity&lt;ExceptionResponse&gt; handleAllExcepetions(Exception ex, WebRequest request){\r\n\t\tExceptionResponse exceptionResponse = \r\n\t\t\t\tnew ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t}\r\n\r\n\t@ExceptionHandler(InvalidJwtAuthenticationException.class)\r\n\tpublic final ResponseEntity&lt;ExceptionResponse&gt; invalidJwtAuthenticationException(Exception ex, WebRequest request){\r\n\t\tExceptionResponse exceptionResponse = \r\n\t\t\t\tnew ExceptionResponse(new Date(), \r\n\t\t\t\t\t\tex.getMessage(), \r\n\t\t\t\t\t\trequest.getDescription(false));\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.BAD_REQUEST);\r\n\t}\r\n\r\n\t@ExceptionHandler(TokenExpiredException.class)\r\n\tpublic final ResponseEntity&lt;ExceptionResponse&gt; TokenExpiredException(TokenExpiredException ex, WebRequest request){\r\n\t\tExceptionResponse exceptionResponse = \r\n\t\t\t\tnew ExceptionResponse(new Date(), \r\n\t\t\t\t\t\tex.getMessage(), \r\n\t\t\t\t\t\trequest.getDescription(true));\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.UNAUTHORIZED);\r\n\t}\r\n\r\n\t\r\n\t@ExceptionHandler(HttpClientErrorException.class)\r\n    public ResponseEntity&lt;String&gt; handleException(HttpClientErrorException ex) throws HttpClientErrorException {\r\n        System.out.println(&quot;*******Exception Occured: *************&quot; + ex);\r\n        return ResponseEntity\r\n                .status(HttpStatus.UNAUTHORIZED)\r\n                .body(&quot; -----DD------ Exception: &quot; + ex.getLocalizedMessage());\r\n    }\r\n}\r\n```\r\n2021-09-28 10:13:38.729 ERROR 25385 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\ncom.auth0.jwt.exceptions.TokenExpiredException: Token expirado!\r\n","title":"custom exception is not passing through Advice control in spring boot","body":"<p>I'm trying to customize a thrown exception, but it's not in the advice control.</p>\n<p>The TokenExpiredException exception\nshould be handled in controller advice, but returns a common, unhandled error.</p>\n<p>JWTValidarFilter:</p>\n<pre><code>public class JWTValidarFilter extends BasicAuthenticationFilter{\n\nprivate static final String HEADER_ATRIBUTO = &quot;Authorization&quot;;\n\nprivate static final String ATRIBUTO_PREFIXO = &quot;Bearer &quot;;\n\npublic JWTValidarFilter(AuthenticationManager authenticationManager) {\n    super(authenticationManager);\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, \n        HttpServletResponse response, FilterChain chain)\n        throws IOException, ServletException {\n    \n    String atributo = request.getHeader(HEADER_ATRIBUTO);\n            \n    if(atributo == null) {\n        chain.doFilter(request, response);\n        return;\n    }\n    \n    if(!atributo.startsWith(ATRIBUTO_PREFIXO)) {\n        chain.doFilter(request, response);\n        return;\n    }\n    \n    String token = atributo.replace(ATRIBUTO_PREFIXO, &quot;&quot;);\n    \n    UsernamePasswordAuthenticationToken authenticationToken = getAuthenticationToken(token);\n    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n    chain.doFilter(request, response);\n    \n    \n}\n\nprivate UsernamePasswordAuthenticationToken getAuthenticationToken(String token) {\n    \n    \n    try {\n        String usuario = JWT.require(Algorithm.HMAC512(JWTAutenticarFilter.TOKEN_SENHA))\n                .build()\n                .verify(token)\n                .getSubject();\n        if(usuario == null) {\n            return null;\n        }\n        \n        return new UsernamePasswordAuthenticationToken(usuario, null, new ArrayList&lt;&gt;());\n\n    } catch (TokenExpiredException e) {\n        throw new TokenExpiredException(&quot;Token expirado!&quot;);\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>CustomizeResponseEntityExceptionHandler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\n@RestController\npublic class CustomizeResponseEntityExceptionHandler extends ResponseEntityExceptionHandler{\n\n    @ExceptionHandler(Exception.class)\n    public final ResponseEntity&lt;ExceptionResponse&gt; handleAllExcepetions(Exception ex, WebRequest request){\n        ExceptionResponse exceptionResponse = \n                new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\n        \n        return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n    @ExceptionHandler(InvalidJwtAuthenticationException.class)\n    public final ResponseEntity&lt;ExceptionResponse&gt; invalidJwtAuthenticationException(Exception ex, WebRequest request){\n        ExceptionResponse exceptionResponse = \n                new ExceptionResponse(new Date(), \n                        ex.getMessage(), \n                        request.getDescription(false));\n        \n        return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.BAD_REQUEST);\n    }\n\n    @ExceptionHandler(TokenExpiredException.class)\n    public final ResponseEntity&lt;ExceptionResponse&gt; TokenExpiredException(TokenExpiredException ex, WebRequest request){\n        ExceptionResponse exceptionResponse = \n                new ExceptionResponse(new Date(), \n                        ex.getMessage(), \n                        request.getDescription(true));\n        \n        return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.UNAUTHORIZED);\n    }\n\n    \n    @ExceptionHandler(HttpClientErrorException.class)\n    public ResponseEntity&lt;String&gt; handleException(HttpClientErrorException ex) throws HttpClientErrorException {\n        System.out.println(&quot;*******Exception Occured: *************&quot; + ex);\n        return ResponseEntity\n                .status(HttpStatus.UNAUTHORIZED)\n                .body(&quot; -----DD------ Exception: &quot; + ex.getLocalizedMessage());\n    }\n}\n</code></pre>\n<p>2021-09-28 10:13:38.729 ERROR 25385 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\ncom.auth0.jwt.exceptions.TokenExpiredException: Token expirado!</p>\n"},{"tags":["java","class","overriding","overloading","abstract"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1658556350,"post_id":73088384,"comment_id":129085600,"body_markdown":"You can&#39;t do that. Every concrete class that extends `A` **must** provide implementations of **both** `abstract` methods. Any class which didn&#39;t, wouldn&#39;t be an `A`. So the compiler won&#39;t let you.","body":"You can&#39;t do that. Every concrete class that extends <code>A</code> <b>must</b> provide implementations of <b>both</b> <code>abstract</code> methods. Any class which didn&#39;t, wouldn&#39;t be an <code>A</code>. So the compiler won&#39;t let you."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1658557819,"post_id":73088384,"comment_id":129085805,"body_markdown":"What are you expecting code which calls `A.search(Animal a)` to do when it is called on an instance of `B`?","body":"What are you expecting code which calls <code>A.search(Animal a)</code> to do when it is called on an instance of <code>B</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9847878,"reputation":171,"user_id":7294811,"display_name":"anantha ramu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658558485,"creation_date":1658558485,"answer_id":73088590,"question_id":73088384,"body_markdown":"Here are the rules for classes extending Abstract class\r\n\r\n 1. First concrete/non-abstract class must implement all methods\r\n 2. If abstract class extends Abstract class, it can but need not implement \r\n    abstract methods.\r\n\r\n\r\nOption 1: Interface Segregation\r\n\r\n    separate search(XXX) into two abstract classes\r\n\r\nOption 2: Generics. Make search a Generic Type\r\n    \r\n\r\n    public abstract class ClassA {\r\n    \r\n        public abstract &lt;T&gt; void search(T t);\r\n    \r\n        public static void main(String ...args){\r\n            ClassA classA = new ClassB();\r\n            classA.search(new Animal());\r\n        }\r\n    }\r\n    \r\n    class Animal{\r\n    \r\n    }\r\n    \r\n    class ClassB extends ClassA {\r\n    \r\n        @Override\r\n        public &lt;Animal&gt; void search(Animal t) {\r\n         System.out.println(&quot;called&quot;);\r\n        }\r\n    }\r\n\r\n\r\nOption 3: Interface\r\n\r\n    public class ClassA {\r\n        public static void main(String... args) {\r\n            Searchable classA = new ClassB();\r\n            classA.search(new Animal());\r\n        }\r\n    }\r\n    \r\n    interface Searchable {\r\n        public &lt;T&gt; void search(T t);\r\n    }\r\n    \r\n    class Animal {\r\n    }\r\n    \r\n    class ClassB implements Searchable {\r\n        @Override\r\n        public &lt;Animal&gt; void search(Animal t) {\r\n            System.out.println(&quot;called&quot;);\r\n        }\r\n    }\r\n\r\nOption 4: Throw UnsupportedOperationException Exception(Not recomended)\r\n\r\n    class ClassB extends ClassA {\r\n    \r\n        @Override\r\n        void search(Position p) {\r\n            throw new UnsupportedOperationException(&quot;Not Supported&quot;);\r\n        }\r\n    \r\n        @Override\r\n        void search(Animal a) {\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Optional overloaded methods when overriding","body":"<p>Here are the rules for classes extending Abstract class</p>\n<ol>\n<li>First concrete/non-abstract class must implement all methods</li>\n<li>If abstract class extends Abstract class, it can but need not implement\nabstract methods.</li>\n</ol>\n<p>Option 1: Interface Segregation</p>\n<pre><code>separate search(XXX) into two abstract classes\n</code></pre>\n<p>Option 2: Generics. Make search a Generic Type</p>\n<pre><code>public abstract class ClassA {\n\n    public abstract &lt;T&gt; void search(T t);\n\n    public static void main(String ...args){\n        ClassA classA = new ClassB();\n        classA.search(new Animal());\n    }\n}\n\nclass Animal{\n\n}\n\nclass ClassB extends ClassA {\n\n    @Override\n    public &lt;Animal&gt; void search(Animal t) {\n     System.out.println(&quot;called&quot;);\n    }\n}\n</code></pre>\n<p>Option 3: Interface</p>\n<pre><code>public class ClassA {\n    public static void main(String... args) {\n        Searchable classA = new ClassB();\n        classA.search(new Animal());\n    }\n}\n\ninterface Searchable {\n    public &lt;T&gt; void search(T t);\n}\n\nclass Animal {\n}\n\nclass ClassB implements Searchable {\n    @Override\n    public &lt;Animal&gt; void search(Animal t) {\n        System.out.println(&quot;called&quot;);\n    }\n}\n</code></pre>\n<p>Option 4: Throw UnsupportedOperationException Exception(Not recomended)</p>\n<pre><code>class ClassB extends ClassA {\n\n    @Override\n    void search(Position p) {\n        throw new UnsupportedOperationException(&quot;Not Supported&quot;);\n    }\n\n    @Override\n    void search(Animal a) {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18477409,"reputation":317,"user_id":13460562,"display_name":"Jelly Qwerty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73088590,"answer_count":1,"score":-1,"last_activity_date":1658558485,"creation_date":1658555795,"question_id":73088384,"body_markdown":"Case : \r\n\r\nI have an abstract class A. It contains two methods \r\n1. `abstract void search(Position p);`\r\n2. `abstract void search(Animal a);`\r\n\r\nClass B and C extends A. I would like class B to implement `search(Position p)` only and class C to implement `search(Animal a)` only. However when I do so it gives an error, telling me to implement both of the method overloads. \r\n\r\nHow could I solve the problem? Any help is greatly appreciated\r\n","title":"Optional overloaded methods when overriding","body":"<p>Case :</p>\n<p>I have an abstract class A. It contains two methods</p>\n<ol>\n<li><code>abstract void search(Position p);</code></li>\n<li><code>abstract void search(Animal a);</code></li>\n</ol>\n<p>Class B and C extends A. I would like class B to implement <code>search(Position p)</code> only and class C to implement <code>search(Animal a)</code> only. However when I do so it gives an error, telling me to implement both of the method overloads.</p>\n<p>How could I solve the problem? Any help is greatly appreciated</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658558440,"creation_date":1658485202,"answer_id":73078742,"question_id":73078276,"body_markdown":"create a custom error page and store it inside the asset folder. use the code below to load it\r\n```\r\nwebView.setWebViewClient(new WebViewClient() {\r\n    public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n        webView.loadUrl(&quot;file:///android_asset/errorpage.html&quot;);\r\n    }\r\n});\r\n```","title":"Android WebView page is note available","body":"<p>create a custom error page and store it inside the asset folder. use the code below to load it</p>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n        webView.loadUrl(&quot;file:///android_asset/errorpage.html&quot;);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":25862748,"reputation":1,"user_id":19600319,"display_name":"Юрий Панов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658558440,"creation_date":1658482879,"question_id":73078276,"body_markdown":"I have an android application. The application uses webview. How to change display : page not available&quot; to my image. I&#39;m a newbie, attaching my code. I need to change the &quot;page not available&quot; webview element to my own. I&#39;m a newbie, don&#39;t scold me too much. Thanks!\r\n\r\n    enter code here\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Bundle;\r\n    import android.view.KeyEvent;\r\n    import android.view.View;\r\n    import android.webkit.WebResourceError;\r\n    import android.webkit.WebResourceRequest;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Toast;\r\n    import android.annotation.TargetApi;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        WebView webView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            ConnectivityManager cm = (ConnectivityManager)  getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo networkInfo = cm.getActiveNetworkInfo();\r\n    \r\n            if (networkInfo.isConnected()) {\r\n                webView = new WebView(this);\r\n                webView.getSettings().setJavaScriptEnabled(true);\r\n    \r\n                final Activity activity = this;\r\n    \r\n                webView.setWebViewClient(new WebViewClient() {\r\n                    @SuppressWarnings(&quot;deprecation&quot;)\r\n                    @Override\r\n                    public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n                        Toast.makeText(activity, description, Toast.LENGTH_SHORT);\r\n                    }\r\n                    @TargetApi(android.os.Build.VERSION_CODES.M)\r\n                    @Override\r\n                    public void onReceivedError(WebView view, WebResourceRequest req, WebResourceError rerr) {\r\n                        // Redirect to deprecated method, so you can use it in all SDK versions\r\n                        onReceivedError(view, rerr.getErrorCode(), rerr.getDescription().toString(), req.getUrl().toString());\r\n                    }\r\n                });\r\n                webView.setOnKeyListener(new View.OnKeyListener()\r\n                {\r\n                    @Override\r\n                    public boolean onKey(View v, int keyCode, KeyEvent event)\r\n                    {\r\n                        if(event.getAction() == KeyEvent.ACTION_DOWN)\r\n                        {\r\n                            WebView webView = (WebView) v;\r\n    \r\n                            switch(keyCode)\r\n                            {\r\n                                case KeyEvent.KEYCODE_BACK:\r\n                                    if(webView.canGoBack())\r\n                                    {\r\n                                        webView.goBack();\r\n                                        return true;\r\n                                    }\r\n                                    break;\r\n                            }\r\n                        }\r\n    \r\n                        return false;\r\n                    }\r\n                });\r\n    \r\n                if (networkInfo.isConnected()) {\r\n                webView.loadUrl(&quot;https://saluut.ru/&quot;);\r\n    \r\n                setContentView(webView);}\r\n                else {\r\n                    // Показываем текст:\r\n                    webView.loadData(&quot;Извините, интернета нет, вот мое сообщение/пожелание&quot;, &quot;text/html&quot;, &quot;utf-8&quot;);\r\n                    //Либо кормим подготовленную страницу:\r\n                    //webView.loadUrl(&quot;file:///android_asset/myPage.html&quot;);\r\n                }\r\n    \r\n            }\r\n            else {\r\n                // Показываем текст:\r\n                webView.loadData(&quot;Извините, интернета нет, вот мое сообщение/пожелание&quot;, &quot;text/html&quot;, &quot;utf-8&quot;);\r\n                //Либо кормим подготовленную страницу:\r\n                //webView.loadUrl(&quot;file:///android_asset/myPage.html&quot;);\r\n            }\r\n    }}\r\n\r\n    enter code here\r\n\r\n\r\nCan you suggest simpler methods to replace a given WebView element","title":"Android WebView page is note available","body":"<p>I have an android application. The application uses webview. How to change display : page not available&quot; to my image. I'm a newbie, attaching my code. I need to change the &quot;page not available&quot; webview element to my own. I'm a newbie, don't scold me too much. Thanks!</p>\n<pre><code>enter code here\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.webkit.WebResourceError;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\nimport android.annotation.TargetApi;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ConnectivityManager cm = (ConnectivityManager)  getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo networkInfo = cm.getActiveNetworkInfo();\n\n        if (networkInfo.isConnected()) {\n            webView = new WebView(this);\n            webView.getSettings().setJavaScriptEnabled(true);\n\n            final Activity activity = this;\n\n            webView.setWebViewClient(new WebViewClient() {\n                @SuppressWarnings(&quot;deprecation&quot;)\n                @Override\n                public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                    Toast.makeText(activity, description, Toast.LENGTH_SHORT);\n                }\n                @TargetApi(android.os.Build.VERSION_CODES.M)\n                @Override\n                public void onReceivedError(WebView view, WebResourceRequest req, WebResourceError rerr) {\n                    // Redirect to deprecated method, so you can use it in all SDK versions\n                    onReceivedError(view, rerr.getErrorCode(), rerr.getDescription().toString(), req.getUrl().toString());\n                }\n            });\n            webView.setOnKeyListener(new View.OnKeyListener()\n            {\n                @Override\n                public boolean onKey(View v, int keyCode, KeyEvent event)\n                {\n                    if(event.getAction() == KeyEvent.ACTION_DOWN)\n                    {\n                        WebView webView = (WebView) v;\n\n                        switch(keyCode)\n                        {\n                            case KeyEvent.KEYCODE_BACK:\n                                if(webView.canGoBack())\n                                {\n                                    webView.goBack();\n                                    return true;\n                                }\n                                break;\n                        }\n                    }\n\n                    return false;\n                }\n            });\n\n            if (networkInfo.isConnected()) {\n            webView.loadUrl(&quot;https://saluut.ru/&quot;);\n\n            setContentView(webView);}\n            else {\n                // Показываем текст:\n                webView.loadData(&quot;Извините, интернета нет, вот мое сообщение/пожелание&quot;, &quot;text/html&quot;, &quot;utf-8&quot;);\n                //Либо кормим подготовленную страницу:\n                //webView.loadUrl(&quot;file:///android_asset/myPage.html&quot;);\n            }\n\n        }\n        else {\n            // Показываем текст:\n            webView.loadData(&quot;Извините, интернета нет, вот мое сообщение/пожелание&quot;, &quot;text/html&quot;, &quot;utf-8&quot;);\n            //Либо кормим подготовленную страницу:\n            //webView.loadUrl(&quot;file:///android_asset/myPage.html&quot;);\n        }\n}}\n\nenter code here\n</code></pre>\n<p>Can you suggest simpler methods to replace a given WebView element</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":5796625,"reputation":4590,"user_id":4800355,"accept_rate":67,"display_name":"Radek Postołowicz"},"score":1,"creation_date":1487584653,"post_id":42340220,"comment_id":71834568,"body_markdown":"md5 in 2017? Are you kidding?","body":"md5 in 2017? Are you kidding?"},{"owner":{"account_id":8639940,"reputation":398,"user_id":6468900,"accept_rate":60,"display_name":"Jackson Baby"},"score":0,"creation_date":1487585689,"post_id":42340220,"comment_id":71835308,"body_markdown":"can you suggest any secure encryption?","body":"can you suggest any secure encryption?"},{"owner":{"account_id":217966,"reputation":12429,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":1,"creation_date":1550432733,"post_id":42340220,"comment_id":96256419,"body_markdown":"BCryptPasswordEncoder","body":"BCryptPasswordEncoder"}],"answers":[{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1487589057,"creation_date":1487581508,"answer_id":42340290,"question_id":42340220,"body_markdown":"    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                    .userDetailsService(customUserDetailsService)\r\n                    .passwordEncoder(passwordEncoder());\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        //implements PasswordEncoder and overide encode method with the MD5 protocol\r\n        return new MD5PasswordEncoder();\r\n    }\r\n","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(customUserDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n}\n\n\n\n@Bean\npublic PasswordEncoder passwordEncoder(){\n    //implements PasswordEncoder and overide encode method with the MD5 protocol\n    return new MD5PasswordEncoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487670602,"creation_date":1487581734,"answer_id":42340363,"question_id":42340220,"body_markdown":"Not sure what your problem is. Md5PasswordEncoder has an emtpy constructor so you can simply\r\n\r\n\r\n    &lt;bean id=&quot;passwordEncoder&quot; class=&quot;org.springframework.security.authentication.encoding.Md5PasswordEncoder &quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd then pass it to your AuthenticationProvider (for example DaoAuthenticationProvider)\r\n\r\n    &lt;bean id=&quot;daoAuthenticationProvider&quot; class=&quot;org.springframework.security.authentication.dao.DaoAuthenticationProvider&quot;&gt;\r\n        &lt;property name=&quot;userDetailsService&quot;&gt;\r\n            &lt;ref bean=&quot;yourUserDetailsService&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;passwordEncoder&quot;&gt;\r\n            &lt;ref bean=&quot;passwordEncoder&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nUPDATE: the op commented, that he is using a salt. \r\nThat depends also on your authentication provider. If your are using the [DaoAuthenticationProvider][1] you can use the [setSaltSource][2] to set your salt source. Just add another property to the config refering to your salt-source-bean. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/dao/DaoAuthenticationProvider.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/dao/DaoAuthenticationProvider.html#setSaltSource-org.springframework.security.authentication.dao.SaltSource-","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<p>Not sure what your problem is. Md5PasswordEncoder has an emtpy constructor so you can simply</p>\n\n<pre><code>&lt;bean id=\"passwordEncoder\" class=\"org.springframework.security.authentication.encoding.Md5PasswordEncoder \"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And then pass it to your AuthenticationProvider (for example DaoAuthenticationProvider)</p>\n\n<pre><code>&lt;bean id=\"daoAuthenticationProvider\" class=\"org.springframework.security.authentication.dao.DaoAuthenticationProvider\"&gt;\n    &lt;property name=\"userDetailsService\"&gt;\n        &lt;ref bean=\"yourUserDetailsService\"/&gt;\n    &lt;/property&gt;\n    &lt;property name=\"passwordEncoder\"&gt;\n        &lt;ref bean=\"passwordEncoder\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>UPDATE: the op commented, that he is using a salt. \nThat depends also on your authentication provider. If your are using the <a href=\"https://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/dao/DaoAuthenticationProvider.html\" rel=\"nofollow noreferrer\">DaoAuthenticationProvider</a> you can use the <a href=\"https://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/authentication/dao/DaoAuthenticationProvider.html#setSaltSource-org.springframework.security.authentication.dao.SaltSource-\" rel=\"nofollow noreferrer\">setSaltSource</a> to set your salt source. Just add another property to the config refering to your salt-source-bean. </p>\n"},{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487586509,"creation_date":1487586509,"answer_id":42342094,"question_id":42340220,"body_markdown":"        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            PasswordEncoder encoder = new Md5PasswordEncoder();\r\n            return encoder;\r\n        }","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<pre><code>    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        PasswordEncoder encoder = new Md5PasswordEncoder();\n        return encoder;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8639940,"reputation":398,"user_id":6468900,"accept_rate":60,"display_name":"Jackson Baby"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1487590015,"creation_date":1487590015,"answer_id":42343324,"question_id":42340220,"body_markdown":"Security Config\r\n ______________________\r\n                    \r\n                    \t@Autowired\r\n                    \tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n                    \t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n                    \t}\r\n                \r\n                \r\n                @Bean\r\n                \tpublic PasswordEncoder passwordEncoder(){\r\n                \t\tPasswordEncoder encoder = new FlasherPasswordEncoder();\r\n                \t\treturn encoder;\r\n                \t}\r\n            \r\n            \r\n PasswordEncoder MyOwn Implementation\r\n ______________________________________\r\n            \r\n            \r\n            package com.flasher.config;\r\n            \r\n            import org.springframework.security.authentication.encoding.Md5PasswordEncoder;\r\n            import org.springframework.security.crypto.password.PasswordEncoder;\r\n            \r\n            public class FlasherPasswordEncoder implements PasswordEncoder {\r\n            \r\n            \t@Override\r\n            \tpublic String encode(CharSequence rawPassword) {\r\n            \t\treturn new Md5PasswordEncoder().encodePassword(rawPassword.toString(), AppConstants.MD5_PASSWORD_ENCODER_SALT);\r\n            \r\n            \t}\r\n            \r\n            \t@Override\r\n            \tpublic boolean matches(CharSequence rawPassword, String encodedPassword) {\r\n            \t\treturn new Md5PasswordEncoder().encodePassword(rawPassword.toString(), AppConstants.MD5_PASSWORD_ENCODER_SALT)\r\n            \t\t\t\t.equals(encodedPassword);\r\n            \t}\r\n            \r\n            }\r\n\r\n\r\n\r\n\r\n","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<p>Security Config</p>\n\n<hr>\n\n<pre><code>                    @Autowired\n                    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n                        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n                    }\n\n\n            @Bean\n                public PasswordEncoder passwordEncoder(){\n                    PasswordEncoder encoder = new FlasherPasswordEncoder();\n                    return encoder;\n                }\n</code></pre>\n\n<p>PasswordEncoder MyOwn Implementation</p>\n\n<hr>\n\n<pre><code>        package com.flasher.config;\n\n        import org.springframework.security.authentication.encoding.Md5PasswordEncoder;\n        import org.springframework.security.crypto.password.PasswordEncoder;\n\n        public class FlasherPasswordEncoder implements PasswordEncoder {\n\n            @Override\n            public String encode(CharSequence rawPassword) {\n                return new Md5PasswordEncoder().encodePassword(rawPassword.toString(), AppConstants.MD5_PASSWORD_ENCODER_SALT);\n\n            }\n\n            @Override\n            public boolean matches(CharSequence rawPassword, String encodedPassword) {\n                return new Md5PasswordEncoder().encodePassword(rawPassword.toString(), AppConstants.MD5_PASSWORD_ENCODER_SALT)\n                        .equals(encodedPassword);\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2924513,"reputation":1113,"user_id":2506126,"accept_rate":16,"display_name":"TungHarry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548053505,"creation_date":1548053505,"answer_id":54284760,"question_id":42340220,"body_markdown":"Spring Security 5 has been removed Md5PasswordEncoder.If you want to use MD5 encode you can customize :\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n    \treturn new PasswordEncoder() {\r\n    \t\t@Override\r\n    \t\tpublic String encode(CharSequence charSequence) {\r\n    \t\t\treturn getMd5(charSequence.toString());\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean matches(CharSequence charSequence, String s) {\r\n    \t\t\treturn getMd5(charSequence.toString()).equals(s);\r\n    \t\t}\r\n    \t};\r\n    }\r\n    \r\n    public static String getMd5(String input) {\r\n    \ttry {\r\n    \t\t// Static getInstance method is called with hashing SHA\r\n    \t\tMessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    \r\n    \t\t// digest() method called\r\n    \t\t// to calculate message digest of an input\r\n    \t\t// and return array of byte\r\n    \t\tbyte[] messageDigest = md.digest(input.getBytes());\r\n    \r\n    \t\t// Convert byte array into signum representation\r\n    \t\tBigInteger no = new BigInteger(1, messageDigest);\r\n    \r\n    \t\t// Convert message digest into hex value\r\n    \t\tString hashtext = no.toString(16);\r\n    \r\n    \t\twhile (hashtext.length() &lt; 32) {\r\n    \t\t\thashtext = &quot;0&quot; + hashtext;\r\n    \t\t}\r\n    \r\n    \t\treturn hashtext;\r\n    \t}\r\n    \r\n    \t// For specifying wrong message digest algorithms\r\n    \tcatch (NoSuchAlgorithmException e) {\r\n    \t\tSystem.out.println(&quot;Exception thrown&quot;\r\n    \t\t\t\t+ &quot; for incorrect algorithm: &quot; + e);\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n  ","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<p>Spring Security 5 has been removed Md5PasswordEncoder.If you want to use MD5 encode you can customize :</p>\n\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new PasswordEncoder() {\n        @Override\n        public String encode(CharSequence charSequence) {\n            return getMd5(charSequence.toString());\n        }\n\n        @Override\n        public boolean matches(CharSequence charSequence, String s) {\n            return getMd5(charSequence.toString()).equals(s);\n        }\n    };\n}\n\npublic static String getMd5(String input) {\n    try {\n        // Static getInstance method is called with hashing SHA\n        MessageDigest md = MessageDigest.getInstance(\"MD5\");\n\n        // digest() method called\n        // to calculate message digest of an input\n        // and return array of byte\n        byte[] messageDigest = md.digest(input.getBytes());\n\n        // Convert byte array into signum representation\n        BigInteger no = new BigInteger(1, messageDigest);\n\n        // Convert message digest into hex value\n        String hashtext = no.toString(16);\n\n        while (hashtext.length() &lt; 32) {\n            hashtext = \"0\" + hashtext;\n        }\n\n        return hashtext;\n    }\n\n    // For specifying wrong message digest algorithms\n    catch (NoSuchAlgorithmException e) {\n        System.out.println(\"Exception thrown\"\n                + \" for incorrect algorithm: \" + e);\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14022501,"reputation":1,"user_id":10128405,"display_name":"yusuf van"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600747618,"creation_date":1600747618,"answer_id":64002943,"question_id":42340220,"body_markdown":"    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n    //MD5 encoder implementation\r\n    return new MD5PasswordEncoder();\r\n    }\r\nPaste the above code below the following code under &lt;b&gt;SecurityConfig Class&lt;/b&gt;:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) \r\n    throws Exception {\r\n    authenticationManagerBuilder.userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<pre><code>@Bean\npublic PasswordEncoder passwordEncoder(){\n//MD5 encoder implementation\nreturn new MD5PasswordEncoder();\n}\n</code></pre>\n<p>Paste the above code below the following code under <b>SecurityConfig Class</b>:</p>\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) \nthrows Exception {\nauthenticationManagerBuilder.userDetailsService(userDetailsService)\n            .passwordEncoder(passwordEncoder());\n}\n</code></pre>\n"}],"owner":{"account_id":8639940,"reputation":398,"user_id":6468900,"accept_rate":60,"display_name":"Jackson Baby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19186,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":42343324,"answer_count":6,"score":0,"last_activity_date":1658558049,"creation_date":1487581293,"question_id":42340220,"body_markdown":"       \r\n### Encryption\r\n    \r\n```    \r\nMd5PasswordEncoder md5PasswordEncoder = new Md5PasswordEncoder();\r\nmd5PasswordEncoder.encodePassword(\r\n    userRegistrationInfo.getPassword(), \r\n    AppConstants.MD5_PASSWORD_ENCODER_SALT);\r\n``` \r\n      \r\n \r\n      \r\n### Spring Security Configuration\r\n```\r\n@Autowired\r\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception { \r\n \r\n   auth\r\n      .userDetailsService(userDetailsService)\r\n      .passwordEncoder(passwordEncoder());\r\n}\r\n    \r\n@Bean\r\npublic PasswordEncoder passwordEncoder() {\r\n    PasswordEncoder encoder = new BCryptPasswordEncoder();\r\n    return encoder;\r\n}\r\n    \r\n```\r\nI need to use `org.springframework.security.authentication.encoding.Md5PasswordEncoder` for my password encryption. But I don&#39;t know how to configure `passwordEncoder()` in Spring security configuration.\r\n      ","title":"How to configure passwordEncoder in spring security config if i use Md5PasswordEncoder for password encryption?","body":"<h3>Encryption</h3>\n<pre><code>Md5PasswordEncoder md5PasswordEncoder = new Md5PasswordEncoder();\nmd5PasswordEncoder.encodePassword(\n    userRegistrationInfo.getPassword(), \n    AppConstants.MD5_PASSWORD_ENCODER_SALT);\n</code></pre>\n<h3>Spring Security Configuration</h3>\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception { \n \n   auth\n      .userDetailsService(userDetailsService)\n      .passwordEncoder(passwordEncoder());\n}\n    \n@Bean\npublic PasswordEncoder passwordEncoder() {\n    PasswordEncoder encoder = new BCryptPasswordEncoder();\n    return encoder;\n}\n    \n</code></pre>\n<p>I need to use <code>org.springframework.security.authentication.encoding.Md5PasswordEncoder</code> for my password encryption. But I don't know how to configure <code>passwordEncoder()</code> in Spring security configuration.</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":2156078,"reputation":124,"user_id":1911288,"accept_rate":0,"display_name":"ondway"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658557149,"creation_date":1658557149,"answer_id":73088491,"question_id":72582688,"body_markdown":"Issue was due to an old schema with which old data was serialized. Early version of avro had a bug where it allowed  &quot;default&quot;: &quot;null&quot; where as &quot;default&quot;: null was correct schema.\r\nNewer versions stopped identifying bug as right behaviour but when we upgraded and fixed schema, we went into mentioned issue.\r\n\r\nWe had to delete old schema and rewrote in this case.","title":"Avro 1.11.0 migration from 1.8.2 causing Invalid default issue for enum union","body":"<p>Issue was due to an old schema with which old data was serialized. Early version of avro had a bug where it allowed  &quot;default&quot;: &quot;null&quot; where as &quot;default&quot;: null was correct schema.\nNewer versions stopped identifying bug as right behaviour but when we upgraded and fixed schema, we went into mentioned issue.</p>\n<p>We had to delete old schema and rewrote in this case.</p>\n"}],"owner":{"account_id":2156078,"reputation":124,"user_id":1911288,"accept_rate":0,"display_name":"ondway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658557149,"creation_date":1654934878,"question_id":72582688,"body_markdown":"For a record, we are having a field like below\r\n```\r\n    {\r\n      &quot;name&quot;: &quot;errorType&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;com.abc.xyz.ErrorEnum&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    }\r\n```\r\nBut we are getting exception for default value\r\n\r\n```\r\nCaused by: org.apache.avro.AvroTypeException: Invalid default for field errorType: &quot;null&quot; not a [&quot;null&quot;,{&quot;type&quot;:&quot;enum&quot;,&quot;name&quot;:&quot;ErrorEnum&quot;,&quot;namespace&quot;:&quot;com.abc.xyz&quot;,&quot;symbols&quot;:[&quot;INFO&quot;,&quot;ERROR&quot;,&quot;UNKNOWN&quot;]}]\r\n```\r\n\r\nThis was working well with Avro 1.8.2 but causing issue with Avro 11","title":"Avro 1.11.0 migration from 1.8.2 causing Invalid default issue for enum union","body":"<p>For a record, we are having a field like below</p>\n<pre><code>    {\n      &quot;name&quot;: &quot;errorType&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;com.abc.xyz.ErrorEnum&quot;\n      ],\n      &quot;default&quot;: null\n    }\n</code></pre>\n<p>But we are getting exception for default value</p>\n<pre><code>Caused by: org.apache.avro.AvroTypeException: Invalid default for field errorType: &quot;null&quot; not a [&quot;null&quot;,{&quot;type&quot;:&quot;enum&quot;,&quot;name&quot;:&quot;ErrorEnum&quot;,&quot;namespace&quot;:&quot;com.abc.xyz&quot;,&quot;symbols&quot;:[&quot;INFO&quot;,&quot;ERROR&quot;,&quot;UNKNOWN&quot;]}]\n</code></pre>\n<p>This was working well with Avro 1.8.2 but causing issue with Avro 11</p>\n"},{"tags":["java","multithreading","fork-join","forkjoinpool"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1448941186,"post_id":34012134,"comment_id":55780055,"body_markdown":"There is a much better performing random for release mode https://docs.oracle.com/javase/tutorial/essential/concurrency/threadlocalrandom.html","body":"There is a much better performing random for release mode <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/threadlocalrandom.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1448944308,"post_id":34012134,"comment_id":55780952,"body_markdown":"@zapl I already use `ThreadLocalRandom` for release mode. This question isn&#39;t about improving performance. It is about improving ease-of-debugging by configuring `ForkJoinPool` to use a single thread.","body":"@zapl I already use <code>ThreadLocalRandom</code> for release mode. This question isn&#39;t about improving performance. It is about improving ease-of-debugging by configuring <code>ForkJoinPool</code> to use a single thread."},{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1448947199,"post_id":34012134,"comment_id":55781865,"body_markdown":"Have you tried setting parallelism to 0?","body":"Have you tried setting parallelism to 0?"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1448947429,"post_id":34012134,"comment_id":55781950,"body_markdown":"@pvg Yes. The Javadoc states that this is illegal and the code throws an exception if you try.","body":"@pvg Yes. The Javadoc states that this is illegal and the code throws an exception if you try."},{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1448947760,"post_id":34012134,"comment_id":55782078,"body_markdown":"@Gili it does? What JDK are you using? The docs/impl notes I&#39;m looking at say things like &quot;It is possible to disable or limit the use of threads in the common pool by setting the parallelism property to zero, and/or using a factory that may return null&quot; for JDK 8.","body":"@Gili it does? What JDK are you using? The docs/impl notes I&#39;m looking at say things like &quot;It is possible to disable or limit the use of threads in the common pool by setting the parallelism property to zero, and/or using a factory that may return null&quot; for JDK 8."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":1,"creation_date":1448948337,"post_id":34012134,"comment_id":55782322,"body_markdown":"@pvg I am running JDK 1.8.0_66. According to http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#ForkJoinPool-int- `parallelism` may not be zero. I see the sentence you are referring to, but (1) I want to configure the number of threads used by a new `ForkJoinPool` instance, not the common instance. (2) If you dig into the JDK source-code you will discover that setting the aforementioned property to zero will result in the aforementioned exception. In short, this won&#39;t work.","body":"@pvg I am running JDK 1.8.0_66. According to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html#ForkJoinPool-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a> <code>parallelism</code> may not be zero. I see the sentence you are referring to, but (1) I want to configure the number of threads used by a new <code>ForkJoinPool</code> instance, not the common instance. (2) If you dig into the JDK source-code you will discover that setting the aforementioned property to zero will result in the aforementioned exception. In short, this won&#39;t work."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1449157057,"post_id":34012134,"comment_id":55893082,"body_markdown":"http://stackoverflow.com/questions/10797568/what-determines-the-number-of-threads-a-java-forkjoinpool-creates","body":"<a href=\"http://stackoverflow.com/questions/10797568/what-determines-the-number-of-threads-a-java-forkjoinpool-creates\" title=\"what determines the number of threads a java forkjoinpool creates\">stackoverflow.com/questions/10797568/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1134699,"reputation":8337,"user_id":1119997,"accept_rate":68,"display_name":"tuxdna"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1448946992,"creation_date":1448946992,"answer_id":34013107,"question_id":34012134,"body_markdown":"Main thread is always the first thread your application will create. So when you create a `ForkJoinPool` with `parallelism` of `1`, you are creating another thread. Effectively there will be two threads in the application now ( because you created a `pool` of threads ).\r\n\r\nIf you need only one thread that is Main, you can execute your code in sequence ( and not in parallel at all ).\r\n\r\n","title":"How to configure a single-threaded ForkJoinPool?","body":"<p>Main thread is always the first thread your application will create. So when you create a <code>ForkJoinPool</code> with <code>parallelism</code> of <code>1</code>, you are creating another thread. Effectively there will be two threads in the application now ( because you created a <code>pool</code> of threads ).</p>\n\n<p>If you need only one thread that is Main, you can execute your code in sequence ( and not in parallel at all ).</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1658555487,"creation_date":1452785531,"answer_id":34793418,"question_id":34012134,"body_markdown":"So, it turns out I was wrong.\r\n\r\nWhen you configure a `ForkJoinPool` with `parallelism` set to 1, only one thread executes the tasks. The `main` thread is blocked on `ForkJoin.get()`. It doesn&#39;t actually execute any tasks.\r\n\r\nThat said, it turns out that it is really tricky providing deterministic behavior. Here are some of the problems I had to correct:\r\n\r\n* `ForkJoinPool` was executing tasks using different worker threads (with different names) if the worker thread became idle long enough. For example, if the main thread got suspended on a debugging breakpoint, the worker thread would become idle and shut down. When I would resume execution, `ForkJoinThread` would spin up a new worker thread with a different name. To solve this, I had to provide a custom `ForkJoinWorkerThreadFactory` implementation that ensures only one thread runs at a time, and that its name is hard-coded. I also had ensure that my code was returning the same `Random` instance even if a worker thread shut down and came back again.\r\n* Collections with non-deterministic iteration order such as `HashMap` or `HashSet` led to elements grabbing random numbers in a different order on every run. I corrected this by using `LinkedHashMap` and `LinkedHashSet`.\r\n* Objects with non-deterministic hashCode() implementations, such as `Enum.hashCode()`. I forget what problems this caused but I corrected it by calculating the hashCode() myself instead of relying on the built-in method.\r\n\r\nHere is a sample implementation of ForkJoinWorkerThreadFactory:\r\n\r\n    class MyForkJoinWorkerThread extends ForkJoinWorkerThread\r\n    {\r\n    \tMyForkJoinWorkerThread(ForkJoinPool pool)\r\n    \t{\r\n    \t\tsuper(pool);\r\n    \t\t// Change thread name after ForkJoinPool.registerWorker() does the same\r\n    \t\tsetName(&quot;DETERMINISTIC_WORKER&quot;);\r\n    \t}\r\n    }\r\n\r\n    ForkJoinWorkerThreadFactory factory = new ForkJoinWorkerThreadFactory()\r\n    {\r\n    \tprivate WeakReference&lt;Thread&gt; currentWorker = new WeakReference&lt;&gt;(null);\r\n    \r\n    \t@Override\r\n    \tpublic synchronized ForkJoinWorkerThread newThread(ForkJoinPool pool)\r\n    \t{\r\n    \t\t// If the pool already has a live thread, wait for it to shut down.\r\n    \t\tThread thread = currentWorker.get();\r\n    \t\tif (thread != null &amp;&amp; thread.isAlive())\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tthread.join();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (InterruptedException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tlog.error(&quot;&quot;, e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n    \t\tForkJoinWorkerThread result = new MyForkJoinWorkerThread(pool);\r\n    \t\tcurrentWorker = new WeakReference&lt;&gt;(result);\r\n    \t\treturn result;\r\n    \t}\r\n    };\r\n","title":"How to configure a single-threaded ForkJoinPool?","body":"<p>So, it turns out I was wrong.</p>\n<p>When you configure a <code>ForkJoinPool</code> with <code>parallelism</code> set to 1, only one thread executes the tasks. The <code>main</code> thread is blocked on <code>ForkJoin.get()</code>. It doesn't actually execute any tasks.</p>\n<p>That said, it turns out that it is really tricky providing deterministic behavior. Here are some of the problems I had to correct:</p>\n<ul>\n<li><code>ForkJoinPool</code> was executing tasks using different worker threads (with different names) if the worker thread became idle long enough. For example, if the main thread got suspended on a debugging breakpoint, the worker thread would become idle and shut down. When I would resume execution, <code>ForkJoinThread</code> would spin up a new worker thread with a different name. To solve this, I had to provide a custom <code>ForkJoinWorkerThreadFactory</code> implementation that ensures only one thread runs at a time, and that its name is hard-coded. I also had ensure that my code was returning the same <code>Random</code> instance even if a worker thread shut down and came back again.</li>\n<li>Collections with non-deterministic iteration order such as <code>HashMap</code> or <code>HashSet</code> led to elements grabbing random numbers in a different order on every run. I corrected this by using <code>LinkedHashMap</code> and <code>LinkedHashSet</code>.</li>\n<li>Objects with non-deterministic hashCode() implementations, such as <code>Enum.hashCode()</code>. I forget what problems this caused but I corrected it by calculating the hashCode() myself instead of relying on the built-in method.</li>\n</ul>\n<p>Here is a sample implementation of ForkJoinWorkerThreadFactory:</p>\n<pre><code>class MyForkJoinWorkerThread extends ForkJoinWorkerThread\n{\n    MyForkJoinWorkerThread(ForkJoinPool pool)\n    {\n        super(pool);\n        // Change thread name after ForkJoinPool.registerWorker() does the same\n        setName(&quot;DETERMINISTIC_WORKER&quot;);\n    }\n}\n\nForkJoinWorkerThreadFactory factory = new ForkJoinWorkerThreadFactory()\n{\n    private WeakReference&lt;Thread&gt; currentWorker = new WeakReference&lt;&gt;(null);\n\n    @Override\n    public synchronized ForkJoinWorkerThread newThread(ForkJoinPool pool)\n    {\n        // If the pool already has a live thread, wait for it to shut down.\n        Thread thread = currentWorker.get();\n        if (thread != null &amp;&amp; thread.isAlive())\n        {\n            try\n            {\n                thread.join();\n            }\n            catch (InterruptedException e)\n            {\n                log.error(&quot;&quot;, e);\n            }\n        }\n        ForkJoinWorkerThread result = new MyForkJoinWorkerThread(pool);\n        currentWorker = new WeakReference&lt;&gt;(result);\n        return result;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2716,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":34793418,"answer_count":2,"score":7,"last_activity_date":1658555487,"creation_date":1448940860,"question_id":34012134,"body_markdown":"**Is it possible to configure `ForkJoinPool` to use 1 execution thread?**\r\n\r\nI am executing code that invokes `Random` inside a `ForkJoinPool`. Every time it runs, I end up with different runtime behavior, making it difficult to investigate regressions.\r\n\r\nI would like the codebase to offer &quot;debug&quot; and &quot;release&quot; modes. &quot;debug&quot; mode would configure `Random` with a fixed seed, and `ForkJoinPool` with a single execution thread. &quot;release&quot; mode would use system-provided `Random` seeds and use the default number of `ForkJoinPool` threads.\r\n\r\nI tried configuring `ForkJoinPool` with a parallelism of 1, but it uses 2 threads (`main` and a second worker thread). Any ideas?","title":"How to configure a single-threaded ForkJoinPool?","body":"<p><strong>Is it possible to configure <code>ForkJoinPool</code> to use 1 execution thread?</strong></p>\n\n<p>I am executing code that invokes <code>Random</code> inside a <code>ForkJoinPool</code>. Every time it runs, I end up with different runtime behavior, making it difficult to investigate regressions.</p>\n\n<p>I would like the codebase to offer \"debug\" and \"release\" modes. \"debug\" mode would configure <code>Random</code> with a fixed seed, and <code>ForkJoinPool</code> with a single execution thread. \"release\" mode would use system-provided <code>Random</code> seeds and use the default number of <code>ForkJoinPool</code> threads.</p>\n\n<p>I tried configuring <code>ForkJoinPool</code> with a parallelism of 1, but it uses 2 threads (<code>main</code> and a second worker thread). Any ideas?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":24169986,"reputation":246,"user_id":18132195,"display_name":"Darshan Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658555043,"creation_date":1658555043,"answer_id":73088334,"question_id":73082652,"body_markdown":"The reason its not able to access popup window is because after clicking on `Add To Bag` button the `popup window` takes some time to display. \r\n\r\nYou can wait for the `popup` to display or `hover` on the bag icon\r\n\r\nAlso on the line `By.xpath(&quot;//*[@id=&#39;MiniCart-items&#39;]/div` we are using the `id property` for `MiniCart-items` but is the classname not the id\r\n\r\nYour solution would look like\r\n\r\n    // Click on Add To Bag\r\n\tdriver.findElement(By.className(&quot;AddToBag&quot;)).click();\r\n\tWebDriverWait wait = new WebDriverWait(driver, 5);;\r\n\t// Using wait to ensure the popup is displayed before searching for details from the popup\r\n\twait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//div[@class=&#39;Popup-content&#39;]&quot;)));\r\n\t// Alternatively can hover on the bag icon to display the popup content\r\n\tActions actions = new Actions(driver);\r\n\tactions.moveToElement(driver.findElement(By.cssSelector(&quot;a[class=&#39;Popup-iconLink has-product&#39;]&quot;))).perform();\r\n\tList&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//div[@class=&#39;CartItem MiniCartPopup is-separate&#39;]&quot;));\r\n\tSystem.out.println(elements.size());\r\n\tSystem.out.println(driver.findElements(By.xpath(&quot;//div[@class=&#39;MiniCart-items&#39;]/div&quot;)).size());\r\n\t// Click on GO To Bag\r\n\tdriver.findElement(By.className(&quot;CartTotal-viewBag&quot;)).click();\r\n\r\n  \r\n\r\n","title":"how to access elements in popup window , cant access popup windows element (selenium Java )","body":"<p>The reason its not able to access popup window is because after clicking on <code>Add To Bag</code> button the <code>popup window</code> takes some time to display.</p>\n<p>You can wait for the <code>popup</code> to display or <code>hover</code> on the bag icon</p>\n<p>Also on the line <code>By.xpath(&quot;//*[@id='MiniCart-items']/div</code> we are using the <code>id property</code> for <code>MiniCart-items</code> but is the classname not the id</p>\n<p>Your solution would look like</p>\n<pre><code>// Click on Add To Bag\ndriver.findElement(By.className(&quot;AddToBag&quot;)).click();\nWebDriverWait wait = new WebDriverWait(driver, 5);;\n// Using wait to ensure the popup is displayed before searching for details from the popup\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//div[@class='Popup-content']&quot;)));\n// Alternatively can hover on the bag icon to display the popup content\nActions actions = new Actions(driver);\nactions.moveToElement(driver.findElement(By.cssSelector(&quot;a[class='Popup-iconLink has-product']&quot;))).perform();\nList&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//div[@class='CartItem MiniCartPopup is-separate']&quot;));\nSystem.out.println(elements.size());\nSystem.out.println(driver.findElements(By.xpath(&quot;//div[@class='MiniCart-items']/div&quot;)).size());\n// Click on GO To Bag\ndriver.findElement(By.className(&quot;CartTotal-viewBag&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":25822668,"reputation":41,"user_id":19561477,"display_name":"Zamir Sultan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73088334,"answer_count":1,"score":0,"last_activity_date":1658555043,"creation_date":1658503284,"question_id":73082652,"body_markdown":"so here is the senario, whenever I click add to bag there is a popup window with a button go-to bag, but somehow i am not able to access any element from this popup window I have tried locators but not able to access any of it , I am sharing my code and console error message, i have tried list elements also but it also didn&#39;t worked.\r\n\r\n    driver.findElement(By.cssSelector(&quot;//a[normalize-space()=&#39;Single Arrow Slim Fit Sweatshirt in Cotton Blend&#39;]&quot;)).click();\r\n    \t  \t\t\r\n    \t  \t\t//  List&lt;WebElement&gt; elements = driver.findElements(By.className(&quot;.CartItem.MiniCartPopup.is-separate&quot;));  \r\n    \t  \t\t//List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//div[@id=&#39;MiniCart-items&#39;]/div&quot;)); \r\n    \t  \t\t// System.out.println(elements.size()); \r\n    \t  \t\t//System.out.println(driver.findElements(By.xpath(&quot;//*[@id=&#39;MiniCart-items&#39;]/div&quot;)).size());\r\n    \t  \t\t\r\n    \t  \t\t\r\n    \t  \t\tString kk = driver.findElement(By.cssSelector(&quot;a[aria-label=&#39;icon-bag&#39;] span&quot;)).getText();\r\n    \t  \t\tSystem.out.println(&quot;the items on products are&quot;+ kk);\r\n    \t\t    String comp=driver.findElement(By.linkText(&quot;Single Arrow Slim Fit Sweatshirt in Cotton Blend&quot;)).getText();\r\n    \t\t   \r\n    \t\t    System.out.println(&quot;the selected items have text&quot; +comp); \r\n\r\n\r\nThis is code of popup window which is not accessible during the normal window, but once it hovered then only its code can be inspected \r\n\r\n\r\n \r\n\r\n   \r\n\r\n     &lt;div class=&quot;CartItem-content&quot;&gt;&lt;div class=&quot;CartItem-thumbAndBadge&quot;&gt;\r\n    &lt;a class=&quot;CartItem-pdpLink&quot; href=&quot;/shop-off-white-single-arrow-slim-fit-sweatshirt-in-cotton-blend-for-men-215022969_22.html&quot;&gt;\r\n    &lt;img src=&quot;//ounass-prod1.atgcdn.ae/small_light(p=thmb,ch=158,cc=fafafa,of=webp)/pub/media/catalog/product/2/1/215022969_orange_in.jpg?1654148030.1771&quot; alt=&quot;Single Arrow Slim Fit Sweatshirt in Cotton Blend&quot;&gt;\r\n    &lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;CartItem-info&quot;&gt;&lt;h3 class=&quot;CartItem-brand&quot;&gt;&lt;a href=&quot;/shop-off-white-single-arrow-slim-fit-sweatshirt-in-cotton-blend-for-men-215022969_22.html&quot;&gt;Off-White&lt;/a&gt;\r\n    &lt;/h3&gt;\r\n    &lt;h4 class=&quot;CartItem-name&quot;&gt;&lt;a href=&quot;/shop-off-white-single-arrow-slim-fit-sweatshirt-in-cotton-blend-for-men-215022969_22.html&quot;&gt;Single Arrow Slim Fit Sweatshirt in Cotton Blend&lt;/a&gt;&lt;/h4&gt;&lt;div class=&quot;CartItem-attribute&quot;&gt;\r\n    &lt;span class=&quot;CartItem-attributeName&quot;&gt;Colour&lt;/span&gt;\r\n    &lt;span class=&quot;CartItem-attributeValue&quot;&gt;Orange&lt;/span&gt;&lt;/div&gt;\r\n    &lt;div class=&quot;CartItem-attribute&quot;&gt;&lt;span class=&quot;CartItem-attributeName&quot;&gt;Size&lt;/span&gt;\r\n    &lt;span class=&quot;CartItem-attributeValue&quot;&gt;S&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;CartItem-attribute&quot;&gt;&lt;span class=&quot;CartItem-attributeName&quot;&gt;Qty&lt;/span&gt;\r\n    &lt;span class=&quot;CartItem-attributeValue&quot;&gt;1&lt;/span&gt;&lt;/div&gt;\r\n    &lt;div class=&quot;CartItem-badge&quot;&gt;&lt;/div&gt;\r\n    &lt;div class=&quot;MessageShort display-flexAIC mt10-md&quot; style=&quot;color: rgb(203, 32, 45);&quot;&gt;\r\n    &lt;svg width=&quot;12&quot; height=&quot;12&quot; viewBox=&quot;0 0 26 26&quot; class=&quot;svg&quot;&gt;&lt;g stroke=&quot;#cb202d&quot; class=&quot;svg-stroke&quot;&gt;&lt;circle cx=&quot;13&quot; cy=&quot;13&quot; r=&quot;12.5&quot;&gt;\r\n    &lt;/circle&gt;\r\n    &lt;path d=&quot;M13 6.5V13l3 3&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;\r\n    &lt;span class=&quot;ml5&quot;&gt;Low in stock: only 1 left.&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;CartItem-actionLinks&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n    &lt;div class=&quot;CartItem-priceAndRemove mlAuto&quot;&gt;\r\n    &lt;div class=&quot;CartItem-oldPrice&quot;&gt;2,500 AED&lt;/div&gt;&lt;div class=&quot;CartItem-currentPrice is-discounted&quot;&gt;1,625 AED&lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n\r\n","title":"how to access elements in popup window , cant access popup windows element (selenium Java )","body":"<p>so here is the senario, whenever I click add to bag there is a popup window with a button go-to bag, but somehow i am not able to access any element from this popup window I have tried locators but not able to access any of it , I am sharing my code and console error message, i have tried list elements also but it also didn't worked.</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;//a[normalize-space()='Single Arrow Slim Fit Sweatshirt in Cotton Blend']&quot;)).click();\n            \n            //  List&lt;WebElement&gt; elements = driver.findElements(By.className(&quot;.CartItem.MiniCartPopup.is-separate&quot;));  \n            //List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//div[@id='MiniCart-items']/div&quot;)); \n            // System.out.println(elements.size()); \n            //System.out.println(driver.findElements(By.xpath(&quot;//*[@id='MiniCart-items']/div&quot;)).size());\n            \n            \n            String kk = driver.findElement(By.cssSelector(&quot;a[aria-label='icon-bag'] span&quot;)).getText();\n            System.out.println(&quot;the items on products are&quot;+ kk);\n            String comp=driver.findElement(By.linkText(&quot;Single Arrow Slim Fit Sweatshirt in Cotton Blend&quot;)).getText();\n           \n            System.out.println(&quot;the selected items have text&quot; +comp); \n</code></pre>\n<p>This is code of popup window which is not accessible during the normal window, but once it hovered then only its code can be inspected</p>\n<pre><code> &lt;div class=&quot;CartItem-content&quot;&gt;&lt;div class=&quot;CartItem-thumbAndBadge&quot;&gt;\n&lt;a class=&quot;CartItem-pdpLink&quot; href=&quot;/shop-off-white-single-arrow-slim-fit-sweatshirt-in-cotton-blend-for-men-215022969_22.html&quot;&gt;\n&lt;img src=&quot;//ounass-prod1.atgcdn.ae/small_light(p=thmb,ch=158,cc=fafafa,of=webp)/pub/media/catalog/product/2/1/215022969_orange_in.jpg?1654148030.1771&quot; alt=&quot;Single Arrow Slim Fit Sweatshirt in Cotton Blend&quot;&gt;\n&lt;/a&gt;\n&lt;/div&gt;\n&lt;div class=&quot;CartItem-info&quot;&gt;&lt;h3 class=&quot;CartItem-brand&quot;&gt;&lt;a href=&quot;/shop-off-white-single-arrow-slim-fit-sweatshirt-in-cotton-blend-for-men-215022969_22.html&quot;&gt;Off-White&lt;/a&gt;\n&lt;/h3&gt;\n&lt;h4 class=&quot;CartItem-name&quot;&gt;&lt;a href=&quot;/shop-off-white-single-arrow-slim-fit-sweatshirt-in-cotton-blend-for-men-215022969_22.html&quot;&gt;Single Arrow Slim Fit Sweatshirt in Cotton Blend&lt;/a&gt;&lt;/h4&gt;&lt;div class=&quot;CartItem-attribute&quot;&gt;\n&lt;span class=&quot;CartItem-attributeName&quot;&gt;Colour&lt;/span&gt;\n&lt;span class=&quot;CartItem-attributeValue&quot;&gt;Orange&lt;/span&gt;&lt;/div&gt;\n&lt;div class=&quot;CartItem-attribute&quot;&gt;&lt;span class=&quot;CartItem-attributeName&quot;&gt;Size&lt;/span&gt;\n&lt;span class=&quot;CartItem-attributeValue&quot;&gt;S&lt;/span&gt;\n&lt;/div&gt;\n&lt;div class=&quot;CartItem-attribute&quot;&gt;&lt;span class=&quot;CartItem-attributeName&quot;&gt;Qty&lt;/span&gt;\n&lt;span class=&quot;CartItem-attributeValue&quot;&gt;1&lt;/span&gt;&lt;/div&gt;\n&lt;div class=&quot;CartItem-badge&quot;&gt;&lt;/div&gt;\n&lt;div class=&quot;MessageShort display-flexAIC mt10-md&quot; style=&quot;color: rgb(203, 32, 45);&quot;&gt;\n&lt;svg width=&quot;12&quot; height=&quot;12&quot; viewBox=&quot;0 0 26 26&quot; class=&quot;svg&quot;&gt;&lt;g stroke=&quot;#cb202d&quot; class=&quot;svg-stroke&quot;&gt;&lt;circle cx=&quot;13&quot; cy=&quot;13&quot; r=&quot;12.5&quot;&gt;\n&lt;/circle&gt;\n&lt;path d=&quot;M13 6.5V13l3 3&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;\n&lt;span class=&quot;ml5&quot;&gt;Low in stock: only 1 left.&lt;/span&gt;\n&lt;/div&gt;\n&lt;div class=&quot;CartItem-actionLinks&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;div class=&quot;CartItem-priceAndRemove mlAuto&quot;&gt;\n&lt;div class=&quot;CartItem-oldPrice&quot;&gt;2,500 AED&lt;/div&gt;&lt;div class=&quot;CartItem-currentPrice is-discounted&quot;&gt;1,625 AED&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1658551375,"post_id":73088052,"comment_id":129085011,"body_markdown":"None of the code you&#39;ve shown interacts with your savedInstanceState at all; some other code must be where you are passing a large amount of data through an Intent or Bundle.","body":"None of the code you&#39;ve shown interacts with your savedInstanceState at all; some other code must be where you are passing a large amount of data through an Intent or Bundle."},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1658553148,"post_id":73088052,"comment_id":129085207,"body_markdown":"Posting the stacktrace will help in solving the problem. I suspect that it has to do with `sendMessageAsImage(bitmatp)`; so it would also help if you can add the code for that method.","body":"Posting the stacktrace will help in solving the problem. I suspect that it has to do with <code>sendMessageAsImage(bitmatp)</code>; so it would also help if you can add the code for that method."},{"owner":{"account_id":22655731,"reputation":21,"user_id":19577876,"display_name":"Danil"},"score":0,"creation_date":1658553848,"post_id":73088052,"comment_id":129085306,"body_markdown":"@free_coupons_for_sale_1023 I added in UPD","body":"@free_coupons_for_sale_1023 I added in UPD"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1658560223,"post_id":73088052,"comment_id":129086134,"body_markdown":"If you would like to try using Jetpack Compose, this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) might help.","body":"If you would like to try using Jetpack Compose, this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> might help."},{"owner":{"account_id":5753102,"reputation":176,"user_id":4542049,"display_name":"Dziki Arbuz"},"score":0,"creation_date":1659089239,"post_id":73088052,"comment_id":129217720,"body_markdown":"@Danil Did you managed to fix the issue? I got almost the same one.","body":"@Danil Did you managed to fix the issue? I got almost the same one."},{"owner":{"account_id":22655731,"reputation":21,"user_id":19577876,"display_name":"Danil"},"score":0,"creation_date":1659419994,"post_id":73088052,"comment_id":129283859,"body_markdown":"@DzikiArbuz nope(","body":"@DzikiArbuz nope("}],"owner":{"account_id":22655731,"reputation":21,"user_id":19577876,"display_name":"Danil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658553786,"creation_date":1658550700,"question_id":73088052,"body_markdown":"    mBinding.attachBtn.setOnClickListener {\r\n            mGetContent.launch(&quot;image/*&quot;)\r\n        }\r\n\r\nThis is the launch code\r\n\r\n    mGetContent = registerForActivityResult(ActivityResultContracts.GetContent(),\r\n            ActivityResultCallback {\r\n                val intent = Intent(APP_ACTIVITY, CropperAcrtivity::class.java)\r\n                intent.putExtra(&quot;DATA&quot;, it.toString())\r\n                startActivityForResult(intent, 101)\r\n            })\r\nInitializing mGetContent\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (resultCode == -1 &amp;&amp; requestCode == 101) {\r\n            var result = data!!.getStringExtra(&quot;RESULT&quot;)\r\n            var resultUri: Uri = Uri.parse(result)\r\n            var bitmap = MediaStore.Images.Media.getBitmap(APP_ACTIVITY.contentResolver, resultUri)\r\n            sendMessageAsImage(bitmap)\r\n        }\r\n    }\r\nGetting the result\r\n\r\nThe essence of the problem\r\n---------------------------\r\nI&#39;m trying to send images to the chat room, but when I did it through sending URI, the message is written once in the database, but in the Recycler View is displayed 3 times, or the error TransactionTooLargeException: data parcel size 896372 bytes, now I do through bitmap and this error has not gone anywhere, it appears immediately after running &quot;image / *&quot; I do not even have time to choose a photo from the memory\r\n\r\nUPD: Sending an image \r\n\r\n    mBinding.uploadBtn.setOnClickListener {\r\n            uploadImageMessage()\r\n        }\r\nuploadImageMessage\r\n\r\n    private fun uploadImageMessage(){\r\n        val message = hashMapOf&lt;String, Any&gt;()\r\n        message.put(KEY_IS_CHECKED, false)\r\n        message.put(SENDER_ID, preferenceManager.getString(KEY_USER_ID)!!)\r\n        message.put(RECEIVER_ID, receiverUser.uid)\r\n        message.put(KEY_MESSAGE, mBinding.textImages.text)\r\n        message.put(KEY_TIMESTAMP, Date())\r\n        message.put(KEY_TYPE_MESSAGE, MESSAGE_TYPE_IMAGE)\r\n        database.collection(KEY_COLLECTION_USERS)\r\n            .whereEqualTo(KEY_UID, preferenceManager.getString(KEY_UID))\r\n            .get().addOnCompleteListener {\r\n                it.getResult().documents.get(0).reference.collection(KEY_COLLECTION_CHAT)\r\n                    .add(message)\r\n            }\r\n        mBinding.frameTypeField.visibility = View.VISIBLE\r\n        mBinding.sendBtn.visibility = View.VISIBLE\r\n        mBinding.frameAttach.visibility = View.VISIBLE\r\n        mBinding.cancelBtn.visibility = View.GONE\r\n        mBinding.uploadBtn.visibility = View.GONE\r\n        mBinding.iconImage.visibility = View.GONE\r\n        mBinding.textImages.visibility = View.GONE\r\n        mBinding.typeMessageField.setText(null)\r\n    }\r\n\r\nsendMessageAsImage\r\n\r\n    private fun sendMessageAsImage(image: Bitmap) {\r\n        mBinding.frameTypeField.visibility = View.GONE\r\n        mBinding.sendBtn.visibility = View.GONE\r\n        mBinding.frameAttach.visibility = View.GONE\r\n        mBinding.cancelBtn.visibility = View.VISIBLE\r\n        mBinding.uploadBtn.visibility = View.VISIBLE\r\n        mBinding.iconImage.visibility = View.VISIBLE\r\n        mBinding.textImages.visibility = View.VISIBLE\r\n        mBinding.textImages.text = encodedImage(image).toString()\r\n    }\r\n\r\nBefore I used to send a picture to the database in the sendMessageAsImage function, but because the messages were for some reason displayed three times on the screen I decided to split the function and now sending is done by clicking on uploadBtn ","title":"TransactionTooLargeException: data parcel size 896372 bytes","body":"<pre><code>mBinding.attachBtn.setOnClickListener {\n        mGetContent.launch(&quot;image/*&quot;)\n    }\n</code></pre>\n<p>This is the launch code</p>\n<pre><code>mGetContent = registerForActivityResult(ActivityResultContracts.GetContent(),\n        ActivityResultCallback {\n            val intent = Intent(APP_ACTIVITY, CropperAcrtivity::class.java)\n            intent.putExtra(&quot;DATA&quot;, it.toString())\n            startActivityForResult(intent, 101)\n        })\n</code></pre>\n<p>Initializing mGetContent</p>\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (resultCode == -1 &amp;&amp; requestCode == 101) {\n        var result = data!!.getStringExtra(&quot;RESULT&quot;)\n        var resultUri: Uri = Uri.parse(result)\n        var bitmap = MediaStore.Images.Media.getBitmap(APP_ACTIVITY.contentResolver, resultUri)\n        sendMessageAsImage(bitmap)\n    }\n}\n</code></pre>\n<p>Getting the result</p>\n<h2>The essence of the problem</h2>\n<p>I'm trying to send images to the chat room, but when I did it through sending URI, the message is written once in the database, but in the Recycler View is displayed 3 times, or the error TransactionTooLargeException: data parcel size 896372 bytes, now I do through bitmap and this error has not gone anywhere, it appears immediately after running &quot;image / *&quot; I do not even have time to choose a photo from the memory</p>\n<p>UPD: Sending an image</p>\n<pre><code>mBinding.uploadBtn.setOnClickListener {\n        uploadImageMessage()\n    }\n</code></pre>\n<p>uploadImageMessage</p>\n<pre><code>private fun uploadImageMessage(){\n    val message = hashMapOf&lt;String, Any&gt;()\n    message.put(KEY_IS_CHECKED, false)\n    message.put(SENDER_ID, preferenceManager.getString(KEY_USER_ID)!!)\n    message.put(RECEIVER_ID, receiverUser.uid)\n    message.put(KEY_MESSAGE, mBinding.textImages.text)\n    message.put(KEY_TIMESTAMP, Date())\n    message.put(KEY_TYPE_MESSAGE, MESSAGE_TYPE_IMAGE)\n    database.collection(KEY_COLLECTION_USERS)\n        .whereEqualTo(KEY_UID, preferenceManager.getString(KEY_UID))\n        .get().addOnCompleteListener {\n            it.getResult().documents.get(0).reference.collection(KEY_COLLECTION_CHAT)\n                .add(message)\n        }\n    mBinding.frameTypeField.visibility = View.VISIBLE\n    mBinding.sendBtn.visibility = View.VISIBLE\n    mBinding.frameAttach.visibility = View.VISIBLE\n    mBinding.cancelBtn.visibility = View.GONE\n    mBinding.uploadBtn.visibility = View.GONE\n    mBinding.iconImage.visibility = View.GONE\n    mBinding.textImages.visibility = View.GONE\n    mBinding.typeMessageField.setText(null)\n}\n</code></pre>\n<p>sendMessageAsImage</p>\n<pre><code>private fun sendMessageAsImage(image: Bitmap) {\n    mBinding.frameTypeField.visibility = View.GONE\n    mBinding.sendBtn.visibility = View.GONE\n    mBinding.frameAttach.visibility = View.GONE\n    mBinding.cancelBtn.visibility = View.VISIBLE\n    mBinding.uploadBtn.visibility = View.VISIBLE\n    mBinding.iconImage.visibility = View.VISIBLE\n    mBinding.textImages.visibility = View.VISIBLE\n    mBinding.textImages.text = encodedImage(image).toString()\n}\n</code></pre>\n<p>Before I used to send a picture to the database in the sendMessageAsImage function, but because the messages were for some reason displayed three times on the screen I decided to split the function and now sending is done by clicking on uploadBtn</p>\n"},{"tags":["java","intellij-idea","editor"],"answers":[{"tags":[],"owner":{"account_id":2870345,"reputation":1115,"user_id":2463842,"accept_rate":50,"display_name":"Michael Jarvis"},"down_vote_count":10,"up_vote_count":60,"is_accepted":false,"score":50,"last_activity_date":1584109073,"creation_date":1370621575,"answer_id":16988600,"question_id":16988504,"body_markdown":"In your project, right-click anywhere on the typing screen, and click &#39;Generate...&#39; and then &#39;Getter and Setter&#39;. Then, hold down &lt;kbd&gt;CTRL&lt;/kbd&gt; and click on the fields you wish to create getters and setters for, then click on &#39;OK&#39;.","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>In your project, right-click anywhere on the typing screen, and click 'Generate...' and then 'Getter and Setter'. Then, hold down <kbd>CTRL</kbd> and click on the fields you wish to create getters and setters for, then click on 'OK'.</p>\n"},{"tags":[],"owner":{"account_id":2567388,"reputation":1842,"user_id":2227064,"accept_rate":50,"display_name":"Vegard"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1370621577,"creation_date":1370621577,"answer_id":16988601,"question_id":16988504,"body_markdown":"I am not sure how to do this in IntelliJ, but I will link you to a framework that makes these kinds of things so much smoother in Java: Project Lombok\r\n\r\ntake your code for example, it will look like this:\r\n\r\n    public class Person {\r\n        @Setter\r\n        @Getter\r\n        String firstName;\r\n        String lastName;\r\n    }\r\n\r\nthere is a pluging for intellij that fixes it so you dont get any annoying warnings as well.\r\n\r\nhttp://projectlombok.org/","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>I am not sure how to do this in IntelliJ, but I will link you to a framework that makes these kinds of things so much smoother in Java: Project Lombok</p>\n\n<p>take your code for example, it will look like this:</p>\n\n<pre><code>public class Person {\n    @Setter\n    @Getter\n    String firstName;\n    String lastName;\n}\n</code></pre>\n\n<p>there is a pluging for intellij that fixes it so you dont get any annoying warnings as well.</p>\n\n<p><a href=\"http://projectlombok.org/\" rel=\"noreferrer\">http://projectlombok.org/</a></p>\n"},{"tags":[],"owner":{"account_id":1931986,"reputation":3714,"user_id":3990012,"accept_rate":64,"display_name":"serup"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1439554244,"creation_date":1439554244,"answer_id":32009778,"question_id":16988504,"body_markdown":"when your curser is inside your newly created class then you can press ALT+Insert -- a dialog should appear and you can then select Getter and Setter\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Dk2qv.gif","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>when your curser is inside your newly created class then you can press ALT+Insert -- a dialog should appear and you can then select Getter and Setter</p>\n\n<p><a href=\"https://i.stack.imgur.com/Dk2qv.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Dk2qv.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3211050,"reputation":684,"user_id":2711062,"display_name":"rodrigobb"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1459505183,"creation_date":1459505183,"answer_id":36353509,"question_id":16988504,"body_markdown":"This is an old question, but maybe it helps someone.\r\n\r\nAlso, it&#39;s not a &quot;single-click&quot; action, but...\r\n\r\nSteps to follow:\r\n\r\n* Go to Class file\r\n* Open Structure view (left panel)\r\n* Select all setters (sort alphabetically if needed) and copy\r\n* Go back to your destination class/method\r\n* Paste copied\r\n* Edit (in column mode) to include `person.` at the beginning of each class and `()` at the end.","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>This is an old question, but maybe it helps someone.</p>\n\n<p>Also, it's not a \"single-click\" action, but...</p>\n\n<p>Steps to follow:</p>\n\n<ul>\n<li>Go to Class file</li>\n<li>Open Structure view (left panel)</li>\n<li>Select all setters (sort alphabetically if needed) and copy</li>\n<li>Go back to your destination class/method</li>\n<li>Paste copied</li>\n<li>Edit (in column mode) to include <code>person.</code> at the beginning of each class and <code>()</code> at the end.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1584108990,"creation_date":1464252213,"answer_id":37455807,"question_id":16988504,"body_markdown":"Shortcut for creating getter setter is &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Insert&lt;/kbd&gt; in Intellij.","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>Shortcut for creating getter setter is <kbd>Alt</kbd> + <kbd>Insert</kbd> in Intellij.</p>\n"},{"tags":[],"owner":{"account_id":8786427,"reputation":51,"user_id":6568158,"display_name":"yoke x"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468053328,"creation_date":1468053328,"answer_id":38279962,"question_id":16988504,"body_markdown":"here is my plugin [genSets](https://github.com/yoke233/genSets)\r\n\r\n`Foo foo = new Foo();`\r\n\r\ncode like this\r\n\r\n`foo.allSet`\r\n\r\nwill generate\r\n\r\n\r\n\r\n    foo.setName();\r\n    foo.setAge();\r\n    foo.setBar();\r\n    foo.setTest();\r\n    foo.setLike();\r\n","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>here is my plugin <a href=\"https://github.com/yoke233/genSets\" rel=\"noreferrer\">genSets</a></p>\n\n<p><code>Foo foo = new Foo();</code></p>\n\n<p>code like this</p>\n\n<p><code>foo.allSet</code></p>\n\n<p>will generate</p>\n\n<pre><code>foo.setName();\nfoo.setAge();\nfoo.setBar();\nfoo.setTest();\nfoo.setLike();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6649080,"reputation":10675,"user_id":5131937,"accept_rate":67,"display_name":"Radouane ROUFID"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584109048,"creation_date":1505913421,"answer_id":46323123,"question_id":16988504,"body_markdown":"This plugin may help [GenerateAllSetter][1]\r\n\r\nPress &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;ENTER&lt;/kbd&gt; where you want to use and it will generate setter calls for you.\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/9360-generateallsetter","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>This plugin may help <a href=\"https://plugins.jetbrains.com/plugin/9360-generateallsetter\" rel=\"nofollow noreferrer\">GenerateAllSetter</a></p>\n\n<p>Press <kbd>CTRL</kbd> + <kbd>ENTER</kbd> where you want to use and it will generate setter calls for you.</p>\n"},{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584109029,"creation_date":1529514047,"answer_id":50953489,"question_id":16988504,"body_markdown":"Continuation to `Michael Jarvis` answer:\r\n\r\nSo I am in IntelliJ IDEA 2018.1.4 (Community Edition)\r\nand I realized it is important to select all the fields first in order for `right-click` or &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Insert&lt;/kbd&gt;` to have the menu Property (getter and setter)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sKjPQ.png","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>Continuation to <code>Michael Jarvis</code> answer:</p>\n\n<p>So I am in IntelliJ IDEA 2018.1.4 (Community Edition)\nand I realized it is important to select all the fields first in order for <code>right-click</code> or <kbd>Alt</kbd> + <kbd>Insert</kbd>` to have the menu Property (getter and setter)</p>\n\n<p><a href=\"https://i.stack.imgur.com/sKjPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sKjPQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":17390552,"reputation":1,"user_id":12601156,"display_name":"Adrninistrator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579243924,"creation_date":1579243924,"answer_id":59782473,"question_id":16988504,"body_markdown":"[This is an example gif][1]\r\n\r\nI wrote a Jar, it can quickly and automatically generate Java dto set method calls, including import and new statements. \r\n\r\nYou can try this: https://github.com/Adrninistrator/GenSetterCalls\r\n\r\nAdd dependeny: &quot;com.github.adrninistrator:GenSetterCalls:0.0.1&quot;\r\n\r\n1. Copy the Java/class file information.\r\n2. Execute the class &quot;com.github.adrninistrator.gensettercalls.gen.GenSetterCallsAuto&quot;.\r\n3. Then you can paste the generated setter code.\r\n\r\n  [1]: https://i.stack.imgur.com/Xg71i.gif","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p><a href=\"https://i.stack.imgur.com/Xg71i.gif\" rel=\"nofollow noreferrer\">This is an example gif</a></p>\n\n<p>I wrote a Jar, it can quickly and automatically generate Java dto set method calls, including import and new statements. </p>\n\n<p>You can try this: <a href=\"https://github.com/Adrninistrator/GenSetterCalls\" rel=\"nofollow noreferrer\">https://github.com/Adrninistrator/GenSetterCalls</a></p>\n\n<p>Add dependeny: \"com.github.adrninistrator:GenSetterCalls:0.0.1\"</p>\n\n<ol>\n<li>Copy the Java/class file information.</li>\n<li>Execute the class \"com.github.adrninistrator.gensettercalls.gen.GenSetterCallsAuto\".</li>\n<li>Then you can paste the generated setter code.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12672823,"reputation":920,"user_id":9209780,"display_name":"user311086"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586450021,"creation_date":1586450021,"answer_id":61125905,"question_id":16988504,"body_markdown":"Shortcut for Windows `Alt + Insert` \r\n\r\nShortcut for Mac `Command + N`\r\n\r\nthen choose `getter and setter` \r\n\r\n","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>Shortcut for Windows <code>Alt + Insert</code> </p>\n\n<p>Shortcut for Mac <code>Command + N</code></p>\n\n<p>then choose <code>getter and setter</code> </p>\n"},{"tags":[],"owner":{"account_id":16569823,"reputation":31,"user_id":11973284,"display_name":"Cliqxe"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1592234415,"creation_date":1592234415,"answer_id":62391467,"question_id":16988504,"body_markdown":"In mac you can insert the getter by pressing ctrl + return -&gt; selecting getters, setters or both -&gt; selecting the variable you want it and press return","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>In mac you can insert the getter by pressing ctrl + return -> selecting getters, setters or both -> selecting the variable you want it and press return</p>\n"},{"tags":[],"owner":{"account_id":6733457,"reputation":179,"user_id":10217900,"display_name":"Sylvester"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1642024992,"creation_date":1642020000,"answer_id":70688108,"question_id":16988504,"body_markdown":"There is a plugin that does this: https://plugins.jetbrains.com/idea/plugin/9360-generateallsetter\r\n\r\nGo to File &gt; Settings &gt; Plugins and search for a plugin GenerateAllSetter (See the link above) and install it\r\n\r\n**NOTE**: It does not need the IDE to restart.\r\n\r\nOnce the plugin is installed, create an instance of your object/dto. Place your cursor on the initialization line of code and IntelliJ IDEA \r\nshow the yellow suggestions light-bulb.\r\nClick the light bulb(or use Alt+ Enter) and suggestions will appear. Here you can choose to generate setter with or without default value.\r\nSee images.\r\n\r\n\r\n[![Setter call suggestions][1]][1]\r\n\r\n\r\nBelow are images of the resulting code genarated (both with and without defaults)\r\n\r\nSetters without default values\r\n\r\n[![Setters without default values][2]][2]\r\n\r\nSetters with deafult values\r\n\r\n[![Setters with deafult values][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rP7sv.png\r\n  [2]: https://i.stack.imgur.com/JEE4b.png\r\n  [3]: https://i.stack.imgur.com/wUMAV.png","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>There is a plugin that does this: <a href=\"https://plugins.jetbrains.com/idea/plugin/9360-generateallsetter\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/idea/plugin/9360-generateallsetter</a></p>\n<p>Go to File &gt; Settings &gt; Plugins and search for a plugin GenerateAllSetter (See the link above) and install it</p>\n<p><strong>NOTE</strong>: It does not need the IDE to restart.</p>\n<p>Once the plugin is installed, create an instance of your object/dto. Place your cursor on the initialization line of code and IntelliJ IDEA\nshow the yellow suggestions light-bulb.\nClick the light bulb(or use Alt+ Enter) and suggestions will appear. Here you can choose to generate setter with or without default value.\nSee images.</p>\n<p><a href=\"https://i.stack.imgur.com/rP7sv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rP7sv.png\" alt=\"Setter call suggestions\" /></a></p>\n<p>Below are images of the resulting code genarated (both with and without defaults)</p>\n<p>Setters without default values</p>\n<p><a href=\"https://i.stack.imgur.com/JEE4b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JEE4b.png\" alt=\"Setters without default values\" /></a></p>\n<p>Setters with deafult values</p>\n<p><a href=\"https://i.stack.imgur.com/wUMAV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUMAV.png\" alt=\"Setters with deafult values\" /></a></p>\n"}],"owner":{"account_id":300293,"reputation":630,"user_id":2464213,"display_name":"abd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92173,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":12,"score":57,"last_activity_date":1658553583,"creation_date":1370621297,"question_id":16988504,"body_markdown":"I did try searching for this, but honestly the terms to actually search are escaping me. A small code snippet followed by the question. \r\n\r\n    Public class Person {\r\n    \r\n       String firstName;\r\n       String lastName;\r\n    \r\n       public void setFirstName(String firstName) {\r\n          this.firstName = firstName;\r\n       }\r\n    \r\n       public String getFirstName() {\r\n          return firstName;\r\n       }\r\n       ...\r\n    }\r\n\r\nIn **another object that uses this person object** I would like to be able to expand all the setters methods in Intellij.   \r\n\r\n    public class PersonAssembler { \r\n        public static Person assemblePerson(SomeOtherObject someOtherObject) {\r\n       \r\n        Person person = new Person;\r\n        \r\n        //intellj would provide this below.\r\n        person.setFirstName();\r\n        person.setLastName();\r\n        //end of what intellj provides.\r\n\r\n        return person;\r\n    }\r\n\r\nIs this even possible?  I have looked through the keyboard short cuts, etc.  I have been using intellij for a while, so just wondered if anyone had some insight on this.  \r\n\r\nI was hoping for column edit mode, then code completion and perhaps a shift+down arrow to select multiple completions, but no luck.  Which is not surprising.  I would hate to have to write that in the GUI.\r\n\r\nEdit:  I added some clarification and honestly forgot about this question.  The answers have nothing to do with the actual question if read carefully.  I am not speaking of the Generate context menu.","title":"Intellij Code Completion for all setter/getter methods of local variable object","body":"<p>I did try searching for this, but honestly the terms to actually search are escaping me. A small code snippet followed by the question. </p>\n\n<pre><code>Public class Person {\n\n   String firstName;\n   String lastName;\n\n   public void setFirstName(String firstName) {\n      this.firstName = firstName;\n   }\n\n   public String getFirstName() {\n      return firstName;\n   }\n   ...\n}\n</code></pre>\n\n<p>In <strong>another object that uses this person object</strong> I would like to be able to expand all the setters methods in Intellij.   </p>\n\n<pre><code>public class PersonAssembler { \n    public static Person assemblePerson(SomeOtherObject someOtherObject) {\n\n    Person person = new Person;\n\n    //intellj would provide this below.\n    person.setFirstName();\n    person.setLastName();\n    //end of what intellj provides.\n\n    return person;\n}\n</code></pre>\n\n<p>Is this even possible?  I have looked through the keyboard short cuts, etc.  I have been using intellij for a while, so just wondered if anyone had some insight on this.  </p>\n\n<p>I was hoping for column edit mode, then code completion and perhaps a shift+down arrow to select multiple completions, but no luck.  Which is not surprising.  I would hate to have to write that in the GUI.</p>\n\n<p>Edit:  I added some clarification and honestly forgot about this question.  The answers have nothing to do with the actual question if read carefully.  I am not speaking of the Generate context menu.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1332665202,"post_id":9858708,"comment_id":12568188,"body_markdown":"I would say a marker interface doesn&#39;t add any methods.  It can add Javadoc for methods in Object such as defining a behaviour for `String toString()`","body":"I would say a marker interface doesn&#39;t add any methods.  It can add Javadoc for methods in Object such as defining a behaviour for <code>String toString()</code>"},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":1,"creation_date":1332690963,"post_id":9858708,"comment_id":12572246,"body_markdown":"Hi , all your entries helped but unfortunately I can mark only one as correct. I have up voted others. Thanks!","body":"Hi , all your entries helped but unfortunately I can mark only one as correct. I have up voted others. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1332663092,"creation_date":1332663092,"answer_id":9858733,"question_id":9858708,"body_markdown":"There is at least one: `Serializable`. I personally do not remember others. \r\nThe technique of defining ta interfaces is old and almost obsolete since java 1.5 when annotations were introduced, so you can use annotation to &quot;tag&quot; class instead of empty interface.","title":"Marker Interfaces in Java","body":"<p>There is at least one: <code>Serializable</code>. I personally do not remember others. \nThe technique of defining ta interfaces is old and almost obsolete since java 1.5 when annotations were introduced, so you can use annotation to \"tag\" class instead of empty interface.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332663491,"creation_date":1332663106,"answer_id":9858734,"question_id":9858708,"body_markdown":"I don&#39;t know that there is a list of marker interfaces in the standard Java api. Whether marker interfaces can specify methods is explained well, I think, in the Wikipedia article [&quot;Marker interface pattern&quot;][1]. Here&#39;s an excerpt that addresses your question directly:\r\n\r\n&gt;Whereas a typical interface specifies functionality (in the form of method declarations) that an implementing class must support, a marker interface need not do so. The mere presence of such an interface indicates specific behavior on the part of the implementing class. Hybrid interfaces, which both act as markers and specify required methods, are possible but may prove confusing if improperly used.\r\n\r\nAside from the Serializable interface mentioned in the article, there are few others. The only one I can remember off the top of my head is [javax.security.auth.callback][2].\r\n\r\nJust thought of another one: [javax.security.auth.login.Configuration.Parameters][3]. I&#39;m pretty sure there are more.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Marker_interface_pattern\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/javax/security/auth/callback/Callback.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/javax/security/auth/login/Configuration.Parameters.html","title":"Marker Interfaces in Java","body":"<p>I don't know that there is a list of marker interfaces in the standard Java api. Whether marker interfaces can specify methods is explained well, I think, in the Wikipedia article <a href=\"http://en.wikipedia.org/wiki/Marker_interface_pattern\" rel=\"nofollow\">\"Marker interface pattern\"</a>. Here's an excerpt that addresses your question directly:</p>\n\n<blockquote>\n  <p>Whereas a typical interface specifies functionality (in the form of method declarations) that an implementing class must support, a marker interface need not do so. The mere presence of such an interface indicates specific behavior on the part of the implementing class. Hybrid interfaces, which both act as markers and specify required methods, are possible but may prove confusing if improperly used.</p>\n</blockquote>\n\n<p>Aside from the Serializable interface mentioned in the article, there are few others. The only one I can remember off the top of my head is <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/security/auth/callback/Callback.html\" rel=\"nofollow\">javax.security.auth.callback</a>.</p>\n\n<p>Just thought of another one: <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/security/auth/login/Configuration.Parameters.html\" rel=\"nofollow\">javax.security.auth.login.Configuration.Parameters</a>. I'm pretty sure there are more.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1362460840,"creation_date":1332663167,"answer_id":9858741,"question_id":9858708,"body_markdown":"There is indeed no technical difference between &quot;standard&quot; and &quot;marker&quot; interfaces. \r\n\r\nNormally you define an interface to define methods that implementing classes should have. If you don&#39;t specify any methods you call the interface a marker interface, since if only marks the class as having some property. \r\n\r\nExamples of that are `Serializable`, `Cloneable` etc. Those interfaces don&#39;t define any methods themselves, but by convention and specification you have to option to implement some special methods related to them, e.g. some serializaton methods related to `Serializable`. The core Java libraries would then use reflection to check whether those methods exist if a marker interface is implemented.","title":"Marker Interfaces in Java","body":"<p>There is indeed no technical difference between \"standard\" and \"marker\" interfaces. </p>\n\n<p>Normally you define an interface to define methods that implementing classes should have. If you don't specify any methods you call the interface a marker interface, since if only marks the class as having some property. </p>\n\n<p>Examples of that are <code>Serializable</code>, <code>Cloneable</code> etc. Those interfaces don't define any methods themselves, but by convention and specification you have to option to implement some special methods related to them, e.g. some serializaton methods related to <code>Serializable</code>. The core Java libraries would then use reflection to check whether those methods exist if a marker interface is implemented.</p>\n"},{"tags":[],"owner":{"account_id":327705,"reputation":1975,"user_id":650237,"display_name":"funcoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658553395,"creation_date":1332663398,"answer_id":9858770,"question_id":9858708,"body_markdown":"Marker interfaces are used as a tag to inform a message to the java compiler so that it can add special behaviour to the class implementing it and they do not have any method declarations.\r\n\r\nThe need for marker interface no longer exists since the introduction of the java annotation feature.\r\nBetter use the more powerful java annotations than the marker interface. \r\n\r\nSome examples of marker interfaces:\r\n\r\n- java.lang.Cloneable\r\n- java.io.Serializable\r\n- java.rmi.Remote\r\n- java.util.EventListener\r\n","title":"Marker Interfaces in Java","body":"<p>Marker interfaces are used as a tag to inform a message to the java compiler so that it can add special behaviour to the class implementing it and they do not have any method declarations.</p>\n<p>The need for marker interface no longer exists since the introduction of the java annotation feature.\nBetter use the more powerful java annotations than the marker interface.</p>\n<p>Some examples of marker interfaces:</p>\n<ul>\n<li>java.lang.Cloneable</li>\n<li>java.io.Serializable</li>\n<li>java.rmi.Remote</li>\n<li>java.util.EventListener</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2604748,"reputation":21,"user_id":2256136,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365395308,"creation_date":1365395308,"answer_id":15871258,"question_id":9858708,"body_markdown":"\r\nSigleThreadModel is also marker interface - ( I know it&#39;s deprecated now, but just for example I&#39;m putting it&#39;s name here) \r\n\r\nSee more about it [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/SingleThreadModel.html","title":"Marker Interfaces in Java","body":"<p>SigleThreadModel is also marker interface - ( I know it's deprecated now, but just for example I'm putting it's name here) </p>\n\n<p>See more about it <a href=\"http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/SingleThreadModel.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6609706,"reputation":21,"user_id":5105299,"display_name":"Kangulla Kamala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437034640,"creation_date":1437034640,"answer_id":31448859,"question_id":9858708,"body_markdown":"An interface is called a marker interface when it is provided as a handle by Java interpreter to mark a class so that it can provide special behaviour to it at runtime and they do not have any method declarations\r\n\r\n\r\n\r\nJava Marker Interface Examples\r\n\r\n    java.lang.Cloneable\r\n    java.io.Serializable\r\n    java.util.EventListener\r\n","title":"Marker Interfaces in Java","body":"<p>An interface is called a marker interface when it is provided as a handle by Java interpreter to mark a class so that it can provide special behaviour to it at runtime and they do not have any method declarations</p>\n\n<p>Java Marker Interface Examples</p>\n\n<pre><code>java.lang.Cloneable\njava.io.Serializable\njava.util.EventListener\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5883828,"reputation":671,"user_id":4632437,"accept_rate":80,"display_name":"Igor Soudakevitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487177903,"creation_date":1487177177,"answer_id":42255323,"question_id":9858708,"body_markdown":"**Marker interfaces in Java SE 8:**\r\n\r\nMost widely used:&lt;br&gt;\r\n\r\n    java.lang.Cloneable\r\n    java.io.Serializable\r\n    java.util.RandomAccess\r\n    java.util.EventListener\r\n&lt;i&gt;Remark&lt;/i&gt;: EventListener is officially known as &#39;tagging interface&#39;.&lt;br&gt;&lt;br&gt;\r\nOthers:\r\n\r\n    java.util.concurrent.CompletableFuture.AsynchronousCompletionTask\r\n    java.sql.ParameterMetaData\r\n    javax.xml.stream.events.EndDocument\r\n    javax.management.loading.PrivateClassLoader\r\n    java.security.KeyStore.Entry\r\n    java.security.KeyStore.LoadStoreParameter\t\r\n    java.security.KeyStore.ProtectionParameter\r\n    java.security.Policy.Parameters\r\n    javax.security.auth.callback.Callback\r\n    javax.security.auth.login.Configuration.Parameters\r\n\r\n","title":"Marker Interfaces in Java","body":"<p><strong>Marker interfaces in Java SE 8:</strong></p>\n\n<p>Most widely used:<br></p>\n\n<pre><code>java.lang.Cloneable\njava.io.Serializable\njava.util.RandomAccess\njava.util.EventListener\n</code></pre>\n\n<p><i>Remark</i>: EventListener is officially known as 'tagging interface'.<br><br>\nOthers:</p>\n\n<pre><code>java.util.concurrent.CompletableFuture.AsynchronousCompletionTask\njava.sql.ParameterMetaData\njavax.xml.stream.events.EndDocument\njavax.management.loading.PrivateClassLoader\njava.security.KeyStore.Entry\njava.security.KeyStore.LoadStoreParameter   \njava.security.KeyStore.ProtectionParameter\njava.security.Policy.Parameters\njavax.security.auth.callback.Callback\njavax.security.auth.login.Configuration.Parameters\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9088,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":9858741,"answer_count":7,"score":4,"last_activity_date":1658553395,"creation_date":1332662645,"question_id":9858708,"body_markdown":"Is there a list of standard marker interfaces in Java? I&#39;ve read (in some Java book) that marker interfaces do not have any methods to implement , however when I did a google search - there are certain answers which specify that marker interfaces can indeed have methods. If that is the case then I think there is no difference between a regular interface and marker interface - would it be possible to clear my confusion :)","title":"Marker Interfaces in Java","body":"<p>Is there a list of standard marker interfaces in Java? I've read (in some Java book) that marker interfaces do not have any methods to implement , however when I did a google search - there are certain answers which specify that marker interfaces can indeed have methods. If that is the case then I think there is no difference between a regular interface and marker interface - would it be possible to clear my confusion :)</p>\n"},{"tags":["java","angular"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658553382,"creation_date":1658553382,"answer_id":73088206,"question_id":73088037,"body_markdown":"See the section &#39;unicode strings&#39; in the [MDN docs on btoa](https://developer.mozilla.org/en-US/docs/Web/API/btoa) which clearly states: __No__, that does not work. `atob` and `btoa` are essentially broken as designed and should never be used except for utterly unlikely exotic scenarios (such as: You&#39;ve BASE64ed some _ASCII_ which is rather rare).\r\n\r\nYou probably want `b64_to_utf8` and `utf8_to_b64` instead.\r\n\r\nSeparately, java&#39;s own properties file format is not neccessarily entirely clear on encoding either. It&#39;s quite the chain - any error anywhere in it causes problems!\r\n\r\n1. You create that `.properties` file with something, perhaps a text editor. Text editors edit text, files are bytes - so _somebody_ is doing some charset conversion. __Ensure editor is using UTF-8__.\r\n2. In java, you usually read properties file using the rather broken `java.util.Properties` class. It&#39;s 30 years old and has all sorts of warts. In particular, if you use the `Properties.load(InputStream)` variant, which is the commonly used one, e.g:\r\n\r\n```java\r\ntry (var in = new FileInputStream(&quot;my.properties&quot;)) {\r\n  properties.load(in);\r\n}\r\n```\r\n\r\n__you broke it__ - that will read as ISO8859. You must _first_ convert your InputStream to a reader:\r\n\r\n```java\r\ntry (var in = new FileInputStream(&quot;my.properties&quot;)) {\r\n  properties.load(new InputStreamReader(in, StandardCharsets.UTF_8));\r\n}\r\n```\r\n\r\n3. You then fetch the bytes and Base64 encode them. You have to use `.getBytes(UTF_8)` or you break it unless the platform default encoding is UTF-8. Fortunately, you&#39;re already doing that.\r\n\r\n4. You then send the Base64 bytes across the pipe. Nobody is applying any encodings here (or, rather, it&#39;ll convert back and forth loads of times, but given that base64 is all &#39;safe ascii&#39;, this is highly unlikely to cause any issues).\r\n\r\n5. The base64 arrives in your javascript code. If you use btoa, you break it. You have to use b64_to_utf8. Finally you&#39;ve &quot;arrived&quot; - a string with the right characters in your javascript environment.\r\n","title":"Encoded using Base 64 using UTF-8 for German umlauts( &#228;, &#246;, &#252;) in java, will atob() work or need any special handling","body":"<p>See the section 'unicode strings' in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/btoa\" rel=\"nofollow noreferrer\">MDN docs on btoa</a> which clearly states: <strong>No</strong>, that does not work. <code>atob</code> and <code>btoa</code> are essentially broken as designed and should never be used except for utterly unlikely exotic scenarios (such as: You've BASE64ed some <em>ASCII</em> which is rather rare).</p>\n<p>You probably want <code>b64_to_utf8</code> and <code>utf8_to_b64</code> instead.</p>\n<p>Separately, java's own properties file format is not neccessarily entirely clear on encoding either. It's quite the chain - any error anywhere in it causes problems!</p>\n<ol>\n<li>You create that <code>.properties</code> file with something, perhaps a text editor. Text editors edit text, files are bytes - so <em>somebody</em> is doing some charset conversion. <strong>Ensure editor is using UTF-8</strong>.</li>\n<li>In java, you usually read properties file using the rather broken <code>java.util.Properties</code> class. It's 30 years old and has all sorts of warts. In particular, if you use the <code>Properties.load(InputStream)</code> variant, which is the commonly used one, e.g:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try (var in = new FileInputStream(&quot;my.properties&quot;)) {\n  properties.load(in);\n}\n</code></pre>\n<p><strong>you broke it</strong> - that will read as ISO8859. You must <em>first</em> convert your InputStream to a reader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var in = new FileInputStream(&quot;my.properties&quot;)) {\n  properties.load(new InputStreamReader(in, StandardCharsets.UTF_8));\n}\n</code></pre>\n<ol start=\"3\">\n<li><p>You then fetch the bytes and Base64 encode them. You have to use <code>.getBytes(UTF_8)</code> or you break it unless the platform default encoding is UTF-8. Fortunately, you're already doing that.</p>\n</li>\n<li><p>You then send the Base64 bytes across the pipe. Nobody is applying any encodings here (or, rather, it'll convert back and forth loads of times, but given that base64 is all 'safe ascii', this is highly unlikely to cause any issues).</p>\n</li>\n<li><p>The base64 arrives in your javascript code. If you use btoa, you break it. You have to use b64_to_utf8. Finally you've &quot;arrived&quot; - a string with the right characters in your javascript environment.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25874682,"reputation":13,"user_id":19604925,"display_name":"user19604925"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73088206,"answer_count":1,"score":1,"last_activity_date":1658553382,"creation_date":1658550455,"question_id":73088037,"body_markdown":"Reading the  &#228;, &#246;, &#252; characters from message*.properties file\r\nand using below code to send to client\r\n```java\r\nString encodedString = Base64.getEncoder().encodeToString(str.getBytes(StandardCharsets.UTF_8));\r\n```\r\nClient is reading the data using `atob` method. (Angular application)\r\n```js\r\nconst decodedString = atob(encodedString)\r\n```\r\nWill this work or need to do any special handling at client side, i.e. `atob` method?\r\n\r\nAlso does atob() mehtod use any default characterset?\r\n\r\nplease advise.","title":"Encoded using Base 64 using UTF-8 for German umlauts( &#228;, &#246;, &#252;) in java, will atob() work or need any special handling","body":"<p>Reading the  ä, ö, ü characters from message*.properties file\nand using below code to send to client</p>\n<pre class=\"lang-java prettyprint-override\"><code>String encodedString = Base64.getEncoder().encodeToString(str.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>Client is reading the data using <code>atob</code> method. (Angular application)</p>\n<pre class=\"lang-js prettyprint-override\"><code>const decodedString = atob(encodedString)\n</code></pre>\n<p>Will this work or need to do any special handling at client side, i.e. <code>atob</code> method?</p>\n<p>Also does atob() mehtod use any default characterset?</p>\n<p>please advise.</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1658522917,"post_id":73085820,"comment_id":129081204,"body_markdown":"There is so much potential problems here that you need to hire someone who will refactor the app and solve the isseus.","body":"There is so much potential problems here that you need to hire someone who will refactor the app and solve the isseus."},{"owner":{"account_id":25652863,"reputation":23,"user_id":19419851,"display_name":"Costantino Tessera"},"score":0,"creation_date":1658523505,"post_id":73085820,"comment_id":129081372,"body_markdown":"very useful thank you (it is actually not)","body":"very useful thank you (it is actually not)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1658524998,"post_id":73085820,"comment_id":129081766,"body_markdown":"*i&#39;m setting up a custom cell renderer for a JTable* - a custom renderer is NOT needed. The Icon should be stored in the model. Just override the `getColumnClass(...)` method and the Icon renderer will be used. Never do I/O in a rendering method. The rendering logic of components like JTable or JList is called repeatedly and the rendering logic so be as efficient as possible.","body":"<i>i&#39;m setting up a custom cell renderer for a JTable</i> - a custom renderer is NOT needed. The Icon should be stored in the model. Just override the <code>getColumnClass(...)</code> method and the Icon renderer will be used. Never do I/O in a rendering method. The rendering logic of components like JTable or JList is called repeatedly and the rendering logic so be as efficient as possible."},{"owner":{"account_id":25652863,"reputation":23,"user_id":19419851,"display_name":"Costantino Tessera"},"score":0,"creation_date":1658525176,"post_id":73085820,"comment_id":129081803,"body_markdown":"how? I tried to do that but it still only displays text","body":"how? I tried to do that but it still only displays text"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1658526117,"post_id":73085820,"comment_id":129081992,"body_markdown":"See: https://stackoverflow.com/questions/5614875/how-to-set-icon-in-a-column-of-jtable/5615516#5615516. You can also check out: https://stackoverflow.com/questions/67341415/jlist-repaint-single-element/67348202#67348202 which demonstrates a ImageViewer. The code will read all the images in a directory and create a thumbnail version of each image to be displayed in a JLIst.","body":"See: <a href=\"https://stackoverflow.com/questions/5614875/how-to-set-icon-in-a-column-of-jtable/5615516#5615516\" title=\"how to set icon in a column of jtable\">stackoverflow.com/questions/5614875/&hellip;</a>. You can also check out: <a href=\"https://stackoverflow.com/questions/67341415/jlist-repaint-single-element/67348202#67348202\" title=\"jlist repaint single element\">stackoverflow.com/questions/67341415/&hellip;</a> which demonstrates a ImageViewer. The code will read all the images in a directory and create a thumbnail version of each image to be displayed in a JLIst."},{"owner":{"account_id":25652863,"reputation":23,"user_id":19419851,"display_name":"Costantino Tessera"},"score":0,"creation_date":1658526841,"post_id":73085820,"comment_id":129082113,"body_markdown":"@Krzysztof Cichocki yeah now that i solved it i see how dumb my code was, just would&#39;ve been nice to know exactly what i did wrong beforehand, and &quot;hire someone to refactor&quot;? A little dramatic.","body":"@Krzysztof Cichocki yeah now that i solved it i see how dumb my code was, just would&#39;ve been nice to know exactly what i did wrong beforehand, and &quot;hire someone to refactor&quot;? A little dramatic."}],"answers":[{"tags":[],"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658523566,"creation_date":1658523566,"answer_id":73086008,"question_id":73085820,"body_markdown":"On a first glimpse, I deem it unnecessary instantiating a `ImageIcon` object to get a scaled image of the BufferedImage, since that can be done directly from the BufferedImage itself:\r\n\r\n    Image image = bImage.getScaledInstance(50, 50, Image.SCALE_SMOOTH);\r\n\r\nA second smell lies in this line:\r\n\r\n    ImageIcon icon = new ImageIcon(getClass().getResource(&quot;/images/defaultimage.png&quot;));\r\n    Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\r\n\r\nSince the image is being read from a constant static resource, you should avoid repeating performing the same operation again and again: Better read the resource and build the image **just once**, and store it in a static variable:\r\n\r\n    private static final Image MY_STATIC_ICON=readStaticIcon();\r\n\r\n    private static Image readStaticIcon()\r\n    throws IOException\r\n    {\r\n        ImageIcon icon = new ImageIcon(MyClass.class.getResource(&quot;/images/defaultimage.png&quot;));\r\n        Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\r\n        return image;\r\n    }\r\n\r\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n        Image image = MY_STATIC_ICON;\r\n        Image[] albumArt;\r\n        try {\r\n            albumArt = getAlbumart();\r\n            ...\r\n\r\n\r\n","title":"loading great amount of buffered images slows down the program a lot java","body":"<p>On a first glimpse, I deem it unnecessary instantiating a <code>ImageIcon</code> object to get a scaled image of the BufferedImage, since that can be done directly from the BufferedImage itself:</p>\n<pre><code>Image image = bImage.getScaledInstance(50, 50, Image.SCALE_SMOOTH);\n</code></pre>\n<p>A second smell lies in this line:</p>\n<pre><code>ImageIcon icon = new ImageIcon(getClass().getResource(&quot;/images/defaultimage.png&quot;));\nImage image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\n</code></pre>\n<p>Since the image is being read from a constant static resource, you should avoid repeating performing the same operation again and again: Better read the resource and build the image <strong>just once</strong>, and store it in a static variable:</p>\n<pre><code>private static final Image MY_STATIC_ICON=readStaticIcon();\n\nprivate static Image readStaticIcon()\nthrows IOException\n{\n    ImageIcon icon = new ImageIcon(MyClass.class.getResource(&quot;/images/defaultimage.png&quot;));\n    Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\n    return image;\n}\n\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n    Image image = MY_STATIC_ICON;\n    Image[] albumArt;\n    try {\n        albumArt = getAlbumart();\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658524008,"creation_date":1658524008,"answer_id":73086068,"question_id":73085820,"body_markdown":"1. why you always instantiate a new ImageIcon like this, can&#39;t you use one instance:\r\n\r\n&gt;     @Override\r\n&gt;      public Component getTableCellRendererComponent(JTable table, Object value, \r\n&gt;      boolean isSelected,\r\n&gt;      boolean hasFocus, int row, int column) {\r\n&gt;      \r\n&gt;      ImageIcon icon = new \r\n&gt;      ImageIcon(getClass().getResource(&quot;/images/defaultimage.png&quot;));\r\n&gt;      Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMO\r\n\r\n2.This is very processor expensive , can you create thubnails and load ready images instead of generating it on the fly like this:\r\n\r\n    Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\r\n\r\n\r\n3. Do you really need to load everything in single method &quot;public Image[] getAlbumart()&quot;,\r\ncan&#39;t you make it so it loads the images when they are needed to be displayed? Probable you could use a SwingWorker https://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\r\n\r\n4. There is great book that will help you to desing and use Swing GUI in java: **Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java&#191; Applications**","title":"loading great amount of buffered images slows down the program a lot java","body":"<ol>\n<li>why you always instantiate a new ImageIcon like this, can't you use one instance:</li>\n</ol>\n<blockquote>\n<pre><code>@Override\n public Component getTableCellRendererComponent(JTable table, Object value, \n boolean isSelected,\n boolean hasFocus, int row, int column) {\n \n ImageIcon icon = new \n ImageIcon(getClass().getResource(&quot;/images/defaultimage.png&quot;));\n Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMO\n</code></pre>\n</blockquote>\n<p>2.This is very processor expensive , can you create thubnails and load ready images instead of generating it on the fly like this:</p>\n<pre><code>Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\n</code></pre>\n<ol start=\"3\">\n<li><p>Do you really need to load everything in single method &quot;public Image[] getAlbumart()&quot;,\ncan't you make it so it loads the images when they are needed to be displayed? Probable you could use a SwingWorker <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html</a></p>\n</li>\n<li><p>There is great book that will help you to desing and use Swing GUI in java: <strong>Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java¿ Applications</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25652863,"reputation":23,"user_id":19419851,"display_name":"Costantino Tessera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1658528162,"creation_date":1658528162,"answer_id":73086559,"question_id":73085820,"body_markdown":"    Your_JTable.getColumnModel().getColumn(0).setCellRenderer((JTable jtable, Object value, boolean bln, boolean bln1, int i1, int i2) -&gt; {\r\n                    JLabel label = new JLabel();\r\n                    label.setIcon((ImageIcon) value);\r\n                    return label;\r\n                });\r\nWith this the trick should be done. It just sets the selected column to Have a JLabel inside of it with an imageIcon. Thank you @camickr for suggesting the solution.","title":"loading great amount of buffered images slows down the program a lot java","body":"<pre><code>Your_JTable.getColumnModel().getColumn(0).setCellRenderer((JTable jtable, Object value, boolean bln, boolean bln1, int i1, int i2) -&gt; {\n                JLabel label = new JLabel();\n                label.setIcon((ImageIcon) value);\n                return label;\n            });\n</code></pre>\n<p>With this the trick should be done. It just sets the selected column to Have a JLabel inside of it with an imageIcon. Thank you @camickr for suggesting the solution.</p>\n"}],"owner":{"account_id":25652863,"reputation":23,"user_id":19419851,"display_name":"Costantino Tessera"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1658582760,"accepted_answer_id":73086559,"answer_count":3,"score":0,"last_activity_date":1658548991,"creation_date":1658522190,"question_id":73085820,"body_markdown":"i&#39;m setting up a custom cell renderer for a JTable, that has to contain an album cover image, that is from a byte[] taken with another library, the problem is that converting to a BufferedImage is so slow that in earlier version of the code the program wouldn&#39;t even start.\r\nNow the situation is better, but the lag is very noticeable nonetheless. Here is the code:\r\n\r\n```java\r\npublic class ImageCellRenderer extends DefaultTableCellRenderer {\r\n   \r\n   JLabel lbl = new JLabel();\r\n   \r\n   public Image[] getAlbumart() throws IOException {\r\n\r\n      Image[] albumArt = new Image[allmymusic.size()];\r\n          \r\n      for (int i = 0; i &lt; allmymusic.size(); i++) {\r\n         byte[] data = allmymusic.get(i).albumImageData;\r\n         ImageIO.setUseCache(false);\r\n             \r\n         if(allmymusic.get(i).albumImageData != null){\r\n\r\n            BufferedImage bImage;                \r\n            try(ByteArrayInputStream bis = new ByteArrayInputStream(data)) {\r\n               bImage = ImageIO.read(bis);\r\n            }            \r\n            ImageIcon icon = new ImageIcon(bImage);\r\n            Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\r\n            // ImageIcon iconscaled = new ImageIcon(image);\r\n            albumArt[i] = image;\r\n\r\n         } else {\r\n            albumArt[i] = null;\r\n         }\r\n      }\r\n      return albumArt ;\r\n   }\r\n\r\n   @Override\r\n   public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n      ImageIcon icon = new \r\n      ImageIcon(getClass().getResource(&quot;/images/defaultimage.png&quot;));\r\n      Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\r\n      Image[] albumArt;\r\n        \r\n       try {\r\n          albumArt = getAlbumart(); \r\n          if(albumArt[row] == null){\r\n             lbl.setIcon(new ImageIcon(image));\r\n          } else {\r\n             lbl.setIcon(new ImageIcon(albumArt[row]));\r\n          }\r\n       } catch (IOException ex) {      \r\n          Logger.getLogger(ImageCellRenderer.class.getName())\r\n                .log(Level.SEVERE, null, ex);\r\n       }\r\n       return lbl;\r\n    }\r\n}   \r\n```\r\nI accept alternative solutions.","title":"loading great amount of buffered images slows down the program a lot java","body":"<p>i'm setting up a custom cell renderer for a JTable, that has to contain an album cover image, that is from a byte[] taken with another library, the problem is that converting to a BufferedImage is so slow that in earlier version of the code the program wouldn't even start.\nNow the situation is better, but the lag is very noticeable nonetheless. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ImageCellRenderer extends DefaultTableCellRenderer {\n   \n   JLabel lbl = new JLabel();\n   \n   public Image[] getAlbumart() throws IOException {\n\n      Image[] albumArt = new Image[allmymusic.size()];\n          \n      for (int i = 0; i &lt; allmymusic.size(); i++) {\n         byte[] data = allmymusic.get(i).albumImageData;\n         ImageIO.setUseCache(false);\n             \n         if(allmymusic.get(i).albumImageData != null){\n\n            BufferedImage bImage;                \n            try(ByteArrayInputStream bis = new ByteArrayInputStream(data)) {\n               bImage = ImageIO.read(bis);\n            }            \n            ImageIcon icon = new ImageIcon(bImage);\n            Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\n            // ImageIcon iconscaled = new ImageIcon(image);\n            albumArt[i] = image;\n\n         } else {\n            albumArt[i] = null;\n         }\n      }\n      return albumArt ;\n   }\n\n   @Override\n   public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n      ImageIcon icon = new \n      ImageIcon(getClass().getResource(&quot;/images/defaultimage.png&quot;));\n      Image image = icon.getImage().getScaledInstance(50, 50, Image.SCALE_SMOOTH);\n      Image[] albumArt;\n        \n       try {\n          albumArt = getAlbumart(); \n          if(albumArt[row] == null){\n             lbl.setIcon(new ImageIcon(image));\n          } else {\n             lbl.setIcon(new ImageIcon(albumArt[row]));\n          }\n       } catch (IOException ex) {      \n          Logger.getLogger(ImageCellRenderer.class.getName())\n                .log(Level.SEVERE, null, ex);\n       }\n       return lbl;\n    }\n}   \n</code></pre>\n<p>I accept alternative solutions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":0,"creation_date":1612640189,"post_id":66081074,"comment_id":116832176,"body_markdown":"Have you added the jar to your classpath?","body":"Have you added the jar to your classpath?"},{"owner":{"account_id":15781998,"reputation":198,"user_id":11388067,"display_name":"sabayke bremso"},"score":0,"creation_date":1612640276,"post_id":66081074,"comment_id":116832199,"body_markdown":"yes sir i did that","body":"yes sir i did that"},{"owner":{"account_id":15781998,"reputation":198,"user_id":11388067,"display_name":"sabayke bremso"},"score":0,"creation_date":1613079278,"post_id":66081074,"comment_id":116973504,"body_markdown":"help me to resolve this issue","body":"help me to resolve this issue"}],"answers":[{"tags":[],"owner":{"display_name":"user14971157"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1613081271,"creation_date":1613080298,"answer_id":66163461,"question_id":66081074,"body_markdown":"That is the content of the `lib` folder of the package I downloaded (`apache-xmlrpc-3.1.2-bin`) from [here](https://ws.apache.org/xmlrpc/download.html):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n`DOMSerializer` is part of the second JAR file that is probably missing on your classpath.\r\n\r\nNote: `javac` is not for running the program, it just compiles the source code. \r\n\r\n  [1]: https://i.stack.imgur.com/VBgBv.png","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/ws/commons/serialize/DOMSerializer","body":"<p>That is the content of the <code>lib</code> folder of the package I downloaded (<code>apache-xmlrpc-3.1.2-bin</code>) from <a href=\"https://ws.apache.org/xmlrpc/download.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/VBgBv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VBgBv.png\" alt=\"enter image description here\" /></a></p>\n<p><code>DOMSerializer</code> is part of the second JAR file that is probably missing on your classpath.</p>\n<p>Note: <code>javac</code> is not for running the program, it just compiles the source code.</p>\n"},{"tags":[],"owner":{"account_id":7274883,"reputation":1746,"user_id":5546673,"display_name":"Marco Tizzano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613080975,"creation_date":1613080975,"answer_id":66163620,"question_id":66081074,"body_markdown":"You&#39;ve been missing `ws-commons-util.jar`. You can download it from the web. Try [here](https://jar-download.com/artifacts/org.apache.ws.commons.util/ws-commons-util/1.0.2/source-code).\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/ws/commons/serialize/DOMSerializer","body":"<p>You've been missing <code>ws-commons-util.jar</code>. You can download it from the web. Try <a href=\"https://jar-download.com/artifacts/org.apache.ws.commons.util/ws-commons-util/1.0.2/source-code\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":15781998,"reputation":198,"user_id":11388067,"display_name":"sabayke bremso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66163461,"answer_count":2,"score":2,"last_activity_date":1658548220,"creation_date":1612640077,"question_id":66081074,"body_markdown":"I want to use `xmlRpc` in the simple project I have downloaded `org-apache-xmlrpc.jar`\r\n\r\nThis is part of my code \r\n\r\n```java\r\nimport java.util.*;\r\n\r\nimport org.apache.xmlrpc.webserver.WebServer;\r\nimport org.apache.xmlrpc.server.*;\r\npublic class Serveur {\r\n\t\r\n\tprivate static Vector&lt;String&gt; user = new Vector&lt;String&gt;();\r\n\tString msg_courant = null;\r\n\t\r\n\tpublic static void main (String [] args) {\r\n\t    try { \r\n\t\t\tSystem.out.println(&quot;Attempting to start XML-RPC Server...&quot;);\r\n\t\t\t\r\n\t\t\tWebServer server = new WebServer(9980);\r\n\t\t\tPropertyHandlerMapping handlerMapping = new PropertyHandlerMapping();\r\n\t\t\thandlerMapping.addHandler(&quot;sample&quot;, Serveur.class);\r\n\t\t\tXmlRpcServer xmlRpcServer = server.getXmlRpcServer();\r\n\t\t\txmlRpcServer.setHandlerMapping(handlerMapping);\r\n\r\n\t\t\tXmlRpcServerConfigImpl serverConfig = (XmlRpcServerConfigImpl) xmlRpcServer.getConfig();\r\n\t\t\tserverConfig.setEnabledForExtensions(true);\r\n\t\t\tserverConfig.setContentLengthOptional(false);\r\n\r\n\t\t\tserver.start();\r\n\t    } catch (Exception exception) { System.err.println(&quot;JavaServer: &quot; + exception); \r\n        }\r\n\t}\r\n\r\n\tpublic boolean subscribe(String pseudo) {\r\n\t...\r\n\t}\r\n\t\r\n\tpublic String postMessage(String pseudo, String message) {\r\n       ...\r\n    }\r\n\t\r\n\tpublic String getMessage() {\r\n\t\t...\r\n\t}\r\n\t\r\n\tpublic boolean unsubscribe(String pseudo) {\r\n\t\t...\r\n\t}\r\n}\r\n```\r\nThis is how I run my program and it works without any problem \r\n[![javacexemple][1]][1]\r\n\r\nbut when I try to execute the program \r\n[![javaexemple][2]][2]\r\n\r\nI have this error\r\n \r\n[![eroor][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1mZyq.png\r\n  [2]: https://i.stack.imgur.com/e7LDc.png\r\n  [3]: https://i.stack.imgur.com/AQtDj.png","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/ws/commons/serialize/DOMSerializer","body":"<p>I want to use <code>xmlRpc</code> in the simple project I have downloaded <code>org-apache-xmlrpc.jar</code></p>\n<p>This is part of my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nimport org.apache.xmlrpc.webserver.WebServer;\nimport org.apache.xmlrpc.server.*;\npublic class Serveur {\n    \n    private static Vector&lt;String&gt; user = new Vector&lt;String&gt;();\n    String msg_courant = null;\n    \n    public static void main (String [] args) {\n        try { \n            System.out.println(&quot;Attempting to start XML-RPC Server...&quot;);\n            \n            WebServer server = new WebServer(9980);\n            PropertyHandlerMapping handlerMapping = new PropertyHandlerMapping();\n            handlerMapping.addHandler(&quot;sample&quot;, Serveur.class);\n            XmlRpcServer xmlRpcServer = server.getXmlRpcServer();\n            xmlRpcServer.setHandlerMapping(handlerMapping);\n\n            XmlRpcServerConfigImpl serverConfig = (XmlRpcServerConfigImpl) xmlRpcServer.getConfig();\n            serverConfig.setEnabledForExtensions(true);\n            serverConfig.setContentLengthOptional(false);\n\n            server.start();\n        } catch (Exception exception) { System.err.println(&quot;JavaServer: &quot; + exception); \n        }\n    }\n\n    public boolean subscribe(String pseudo) {\n    ...\n    }\n    \n    public String postMessage(String pseudo, String message) {\n       ...\n    }\n    \n    public String getMessage() {\n        ...\n    }\n    \n    public boolean unsubscribe(String pseudo) {\n        ...\n    }\n}\n</code></pre>\n<p>This is how I run my program and it works without any problem\n<a href=\"https://i.stack.imgur.com/1mZyq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1mZyq.png\" alt=\"javacexemple\" /></a></p>\n<p>but when I try to execute the program\n<a href=\"https://i.stack.imgur.com/e7LDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e7LDc.png\" alt=\"javaexemple\" /></a></p>\n<p>I have this error</p>\n<p><a href=\"https://i.stack.imgur.com/AQtDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQtDj.png\" alt=\"eroor\" /></a></p>\n"},{"tags":["java","multithreading","concurrency","wait"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1658543808,"post_id":73087640,"comment_id":129084220,"body_markdown":"Other threads can see what has been done before `wait` once `wait` is executed.","body":"Other threads can see what has been done before <code>wait</code> once <code>wait</code> is executed."},{"owner":{"account_id":19088549,"reputation":75,"user_id":13939277,"display_name":"Adarsh Verma"},"score":0,"creation_date":1658544636,"post_id":73087640,"comment_id":129084282,"body_markdown":"If we are running our code inside the synchronized block then our code is gonna be executing in a mutually exclusive way which means one thread will execute it at a time means the shared resource will only be accessible by one thread at a time and as a thread is being executed by the processor cores and cores cache these values into their cache and processors updates only these values back to the main memory when the execution of the synchronized block gets completed to resolve the visibility issue. Does the thread or processor updates the value to the main memory when we call wait() method","body":"If we are running our code inside the synchronized block then our code is gonna be executing in a mutually exclusive way which means one thread will execute it at a time means the shared resource will only be accessible by one thread at a time and as a thread is being executed by the processor cores and cores cache these values into their cache and processors updates only these values back to the main memory when the execution of the synchronized block gets completed to resolve the visibility issue. Does the thread or processor updates the value to the main memory when we call wait() method"},{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1658544848,"post_id":73087640,"comment_id":129084302,"body_markdown":"Yes, it does. `wait` includes a memory barrier.","body":"Yes, it does. <code>wait</code> includes a memory barrier."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658545701,"creation_date":1658545701,"answer_id":73087750,"question_id":73087640,"body_markdown":"In the JLS 17.4.5 it says \r\n\r\n&gt; The wait methods of class Object (&#167;17.2.1) have lock and unlock actions associated with them; their happens-before relationships are defined by these associated actions.\r\n\r\nAlso, from JLS 17.4.4:\r\n\r\n&gt; An unlock action on monitor m synchronizes-with all subsequent lock actions on m (where &quot;subsequent&quot; is defined according to the synchronization order).\r\n\r\nIf a thread waits it gives up the lock so that other threads can act. It only makes sense that any changes the thread made before waiting (which triggers an unlock action) should be visible to other threads acquiring the lock.  \r\n\r\n","title":"Impact of wait() method on a thread in synchronization block in java","body":"<p>In the JLS 17.4.5 it says</p>\n<blockquote>\n<p>The wait methods of class Object (§17.2.1) have lock and unlock actions associated with them; their happens-before relationships are defined by these associated actions.</p>\n</blockquote>\n<p>Also, from JLS 17.4.4:</p>\n<blockquote>\n<p>An unlock action on monitor m synchronizes-with all subsequent lock actions on m (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n<p>If a thread waits it gives up the lock so that other threads can act. It only makes sense that any changes the thread made before waiting (which triggers an unlock action) should be visible to other threads acquiring the lock.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658545786,"creation_date":1658545786,"answer_id":73087754,"question_id":73087640,"body_markdown":"It is a fallacy to think that due to synchronization (e.g. synchronized or volatile) data needs to be written to main memory. CPU caches on modern CPUs are always coherent due to the cache coherence protocol. \r\n\r\nAn object.wait causes the thread to release the lock. And as soon as another thread sends a notify, the lock is reacquired. The object.wait has no semantics in the Java memory model; only acquire and release of the lock are relevant.\r\n\r\nSo in your particular case, if a thread does a wait, it triggers a lock release. If another thread would read that state after acquiring the same lock, then there is a happens-before edge between the thread that did the release of the lock (due to wait) and the thread that acquired the lock. And therefore the second thread is guaranteed to see the changes of the first.","title":"Impact of wait() method on a thread in synchronization block in java","body":"<p>It is a fallacy to think that due to synchronization (e.g. synchronized or volatile) data needs to be written to main memory. CPU caches on modern CPUs are always coherent due to the cache coherence protocol.</p>\n<p>An object.wait causes the thread to release the lock. And as soon as another thread sends a notify, the lock is reacquired. The object.wait has no semantics in the Java memory model; only acquire and release of the lock are relevant.</p>\n<p>So in your particular case, if a thread does a wait, it triggers a lock release. If another thread would read that state after acquiring the same lock, then there is a happens-before edge between the thread that did the release of the lock (due to wait) and the thread that acquired the lock. And therefore the second thread is guaranteed to see the changes of the first.</p>\n"}],"owner":{"account_id":19088549,"reputation":75,"user_id":13939277,"display_name":"Adarsh Verma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1658545955,"creation_date":1658543473,"question_id":73087640,"body_markdown":"```\r\nsynchronized (lockObject) {\r\n  // update some value of the common shared resource\r\n  lockObject.wait();\r\n}\r\n```\r\nAs on call of the wait() method, the thread will release the lock, I want to know after releasing the lock does it also update the value in the main memory of the shared resource object or it only updates the value after the execution of the synchronized block.","title":"Impact of wait() method on a thread in synchronization block in java","body":"<pre><code>synchronized (lockObject) {\n  // update some value of the common shared resource\n  lockObject.wait();\n}\n</code></pre>\n<p>As on call of the wait() method, the thread will release the lock, I want to know after releasing the lock does it also update the value in the main memory of the shared resource object or it only updates the value after the execution of the synchronized block.</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1562782133,"post_id":56976311,"comment_id":100488908,"body_markdown":"Why does `A` need to know what error happened on `C`? One pro of microservices is decoupling. If `A` communicates with `B` only, `A` should not need to know about errors on `C`. It would be `B`&#39;s responsibility to re-map the error message from `C` to something semantically meaningful for `A` (best without  mentioning service `C`).","body":"Why does <code>A</code> need to know what error happened on <code>C</code>? One pro of microservices is decoupling. If <code>A</code> communicates with <code>B</code> only, <code>A</code> should not need to know about errors on <code>C</code>. It would be <code>B</code>&#39;s responsibility to re-map the error message from <code>C</code> to something semantically meaningful for <code>A</code> (best without  mentioning service <code>C</code>)."},{"owner":{"account_id":16293441,"reputation":21,"user_id":11766361,"display_name":"Someone00"},"score":1,"creation_date":1562783088,"post_id":56976311,"comment_id":100489373,"body_markdown":"Lets say that frontend uses ```A``` and ```C``` is gateway to external system owned by someone else. In frontend I would like to show two messages &#39;External system failed, contact external system owners&#39; in case of failure in ```C``` and &#39;Our system failed, contact us&#39; in case of failure in ```B```","body":"Lets say that frontend uses <code>A</code> and <code>C</code> is gateway to external system owned by someone else. In frontend I would like to show two messages &#39;External system failed, contact external system owners&#39; in case of failure in <code>C</code> and &#39;Our system failed, contact us&#39; in case of failure in <code>B</code>"}],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1562782504,"creation_date":1562782504,"answer_id":56976468,"question_id":56976311,"body_markdown":"For this kind of typical problem, you have to use **Circuit Breaker Pattern**. I would suggest you to learn Hysterix a circuit breaker framework developped by Netflix team. Follow these links.\r\n\r\nhttps://github.com/Netflix/Hystrix/wiki/How-it-Works\r\n\r\nhttps://spring.io/guides/gs/circuit-breaker/\r\n\r\nAs commented by Turing85, Service A should not be impacted while calling service b and service c.","title":"Error propagation in microservices architecture","body":"<p>For this kind of typical problem, you have to use <strong>Circuit Breaker Pattern</strong>. I would suggest you to learn Hysterix a circuit breaker framework developped by Netflix team. Follow these links.</p>\n\n<p><a href=\"https://github.com/Netflix/Hystrix/wiki/How-it-Works\" rel=\"nofollow noreferrer\">https://github.com/Netflix/Hystrix/wiki/How-it-Works</a></p>\n\n<p><a href=\"https://spring.io/guides/gs/circuit-breaker/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/circuit-breaker/</a></p>\n\n<p>As commented by Turing85, Service A should not be impacted while calling service b and service c.</p>\n"},{"tags":[],"owner":{"account_id":186811,"reputation":327,"user_id":424426,"display_name":"mshamma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658544087,"creation_date":1658544087,"answer_id":73087668,"question_id":56976311,"body_markdown":"I and others at Google developed a solution for this based on Google&#39;s proprietary Java serving framework.\r\n\r\nThe best I can describe it in HTTP terms is as follows:\r\n1. The solution makes available upstream (in Service A) the source of the error in the form of a `Service Error Trace`.\r\n2. A `Service Error Trace` is similar to a Java stack trace, with the difference that the service error trace contains a list of Service/Endpoint tuples that represents the error propagation chain rather than Java classes and line numbers.\r\n3. Each service is instrumented with an error handler that is responsible for building this error trace. Either creating it from scratch, or appending a new service error element to the trace. The handler then pushes this error upstream using the response side channel (In HTTP, response side channels are akin to HTTP response headers).\r\n4. The first item in the `Service Error Trace` would be the source of error. The source of error is what I believe you are seeking after.\r\n\r\nHope that gives you some ideas for a project that fits your use case!\r\n\r\nM.","title":"Error propagation in microservices architecture","body":"<p>I and others at Google developed a solution for this based on Google's proprietary Java serving framework.</p>\n<p>The best I can describe it in HTTP terms is as follows:</p>\n<ol>\n<li>The solution makes available upstream (in Service A) the source of the error in the form of a <code>Service Error Trace</code>.</li>\n<li>A <code>Service Error Trace</code> is similar to a Java stack trace, with the difference that the service error trace contains a list of Service/Endpoint tuples that represents the error propagation chain rather than Java classes and line numbers.</li>\n<li>Each service is instrumented with an error handler that is responsible for building this error trace. Either creating it from scratch, or appending a new service error element to the trace. The handler then pushes this error upstream using the response side channel (In HTTP, response side channels are akin to HTTP response headers).</li>\n<li>The first item in the <code>Service Error Trace</code> would be the source of error. The source of error is what I believe you are seeking after.</li>\n</ol>\n<p>Hope that gives you some ideas for a project that fits your use case!</p>\n<p>M.</p>\n"}],"owner":{"account_id":16293441,"reputation":21,"user_id":11766361,"display_name":"Someone00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1658544087,"creation_date":1562781839,"question_id":56976311,"body_markdown":"Let&#39;s say that I have 3 microservices - A,B and C.\r\n\r\nCommunication pattern through these services looks like \r\nthis:\r\n```A -&gt; B -&gt; C```.\r\n\r\nServices ```B``` and ```C``` can throw exception and return 500 to caller. In service ```A``` I need to recognize whether service ```B``` or ```C``` thrown exception (returned 500). What are some common patterns for such problem ? I was thinking about:\r\n\r\n* Adding to responses of ```B``` and ```C``` additional field which would represent service which caused issue and propagating it through services e.g. if service ```C``` would return 500 this field would be copied to response of service ```B``` and propagated to service ```A```. On the other hand if service ```B``` would cause issue it would add this field to its 500 response with value representing service ```B```.\r\n\r\n*  Recognizing which service caused exception by exception class or error message\r\n\r\nBoth approaches have cons - in first approach I would have to handle appending this field to responses and propagation of it from service ```C``` through service ```B``` to service ```A``` and if it would like to add this behaviour to more service it involves a lot of code duplication through services. On the other hand in case of second approach just feels wrong.\r\n\r\nDo you know any patterns or maybe libraries/frameworks for such issue ?","title":"Error propagation in microservices architecture","body":"<p>Let's say that I have 3 microservices - A,B and C.</p>\n\n<p>Communication pattern through these services looks like \nthis:\n<code>A -&gt; B -&gt; C</code>.</p>\n\n<p>Services <code>B</code> and <code>C</code> can throw exception and return 500 to caller. In service <code>A</code> I need to recognize whether service <code>B</code> or <code>C</code> thrown exception (returned 500). What are some common patterns for such problem ? I was thinking about:</p>\n\n<ul>\n<li><p>Adding to responses of <code>B</code> and <code>C</code> additional field which would represent service which caused issue and propagating it through services e.g. if service <code>C</code> would return 500 this field would be copied to response of service <code>B</code> and propagated to service <code>A</code>. On the other hand if service <code>B</code> would cause issue it would add this field to its 500 response with value representing service <code>B</code>.</p></li>\n<li><p>Recognizing which service caused exception by exception class or error message</p></li>\n</ul>\n\n<p>Both approaches have cons - in first approach I would have to handle appending this field to responses and propagation of it from service <code>C</code> through service <code>B</code> to service <code>A</code> and if it would like to add this behaviour to more service it involves a lot of code duplication through services. On the other hand in case of second approach just feels wrong.</p>\n\n<p>Do you know any patterns or maybe libraries/frameworks for such issue ?</p>\n"},{"tags":["java","algorithm","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658542300,"creation_date":1658542300,"answer_id":73087577,"question_id":73087551,"body_markdown":"You need to keep track of the `prev` in the `temp` variable because you are modifying the `prev` inside the while loop and lost the first state when temp and prev were pointing to.\r\n\r\nAs you noticed the `temp` is declared with a dummy node so when return just call `temp.next`\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DiLyl.png","title":"LeetCode - 203. Remove Linked list element. could you explain why my solution is not working please?","body":"<p>You need to keep track of the <code>prev</code> in the <code>temp</code> variable because you are modifying the <code>prev</code> inside the while loop and lost the first state when temp and prev were pointing to.</p>\n<p>As you noticed the <code>temp</code> is declared with a dummy node so when return just call <code>temp.next</code></p>\n<p><a href=\"https://i.stack.imgur.com/DiLyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DiLyl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24260049,"reputation":17,"user_id":18209752,"display_name":"sejo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73087577,"answer_count":1,"score":0,"last_activity_date":1658543018,"creation_date":1658541909,"question_id":73087551,"body_markdown":"I found the answer which uses the similar approach I am using. \r\nThis is the correct answer.\r\n\r\n        public static ListNode removeElements(ListNode head, int val) {\r\n        ListNode temp = new ListNode(0);\r\n        temp.next = head;\r\n        ListNode prev = temp;\r\n        while(head != null) {\r\n            if(head.val == val) {\r\n                prev.next = head.next;\r\n            }\r\n            else {\r\n                prev = head;\r\n            }\r\n            head = head.next;\r\n        }\r\n        return temp.next;  \r\n    }\r\n\r\nAnd I&#39;ll show you my answer first.\r\n\r\n        public static ListNode removeElements_wrong(ListNode head, int val) {\r\n        ListNode prev = new ListNode(0);\r\n        prev.next = head;\r\n        while(head != null) {\r\n            if(head.val == val) {\r\n                prev.next = head.next;\r\n            }\r\n            else {\r\n                prev = head;\r\n            }\r\n            head = head.next;\r\n        }\r\n        return prev;  \r\n    }\r\n\r\nWhen the inputs are  [1,2,6,3,4,5,6], 6. output is [5]\r\nI see the differences is above the while loop and return statement. I directly set \r\n\r\n    ListNode prev = new ListNode(0);\r\n    prev.next = head;\r\n\r\nBut the correct solution has\r\n\r\n    ListNode temp = new ListNode(0);\r\n    temp.next = head;\r\n    ListNode prev = temp;\r\n\r\nI don&#39;t understand why I need to use temp, how is it working and why can&#39;t I just set ListNode pre = 0 and pre.next=head. Then return prev?\r\n\r\nThank you","title":"LeetCode - 203. Remove Linked list element. could you explain why my solution is not working please?","body":"<p>I found the answer which uses the similar approach I am using.\nThis is the correct answer.</p>\n<pre><code>    public static ListNode removeElements(ListNode head, int val) {\n    ListNode temp = new ListNode(0);\n    temp.next = head;\n    ListNode prev = temp;\n    while(head != null) {\n        if(head.val == val) {\n            prev.next = head.next;\n        }\n        else {\n            prev = head;\n        }\n        head = head.next;\n    }\n    return temp.next;  \n}\n</code></pre>\n<p>And I'll show you my answer first.</p>\n<pre><code>    public static ListNode removeElements_wrong(ListNode head, int val) {\n    ListNode prev = new ListNode(0);\n    prev.next = head;\n    while(head != null) {\n        if(head.val == val) {\n            prev.next = head.next;\n        }\n        else {\n            prev = head;\n        }\n        head = head.next;\n    }\n    return prev;  \n}\n</code></pre>\n<p>When the inputs are  [1,2,6,3,4,5,6], 6. output is [5]\nI see the differences is above the while loop and return statement. I directly set</p>\n<pre><code>ListNode prev = new ListNode(0);\nprev.next = head;\n</code></pre>\n<p>But the correct solution has</p>\n<pre><code>ListNode temp = new ListNode(0);\ntemp.next = head;\nListNode prev = temp;\n</code></pre>\n<p>I don't understand why I need to use temp, how is it working and why can't I just set ListNode pre = 0 and pre.next=head. Then return prev?</p>\n<p>Thank you</p>\n"},{"tags":["java","mongodb","mongodb-query","mongodb-update"],"answers":[{"tags":[],"owner":{"account_id":10907337,"reputation":38824,"user_id":8017690,"display_name":"Yong Shun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642929609,"creation_date":1642929609,"answer_id":70820667,"question_id":70820467,"body_markdown":"To update the document in multi-level nested array, you need `$[&lt;identifier&gt;]` filtered positional operator and `arrayFilters`.\r\n\r\nAnd the `processes` and `processes.steps.stepId` filter in the match operator can be removed as the filter is performed in `arrayFilters`. \r\n\r\n```bson\r\ndb.collection.update({\r\n  &quot;name&quot;: &quot;flow1&quot;\r\n},\r\n{\r\n  $set: {\r\n    &quot;processes.$[process].steps.$[step].status&quot;: &quot;RUNNING&quot;\r\n  }\r\n},\r\n{\r\n  arrayFilters: [\r\n    {\r\n      &quot;process.processId&quot;: &quot;firstProcessId&quot;\r\n    },\r\n    {\r\n      &quot;step.stepId&quot;: &quot;foo&quot;\r\n    }\r\n  ]\r\n})\r\n```\r\n\r\n[Sample Mongo Playground](https://mongoplayground.net/p/TsImYrN2TZk)\r\n\r\n\r\n----------\r\n\r\n\r\nReference\r\n---------\r\n\r\n[Update Nested Arrays in Conjunction with `$[]`][1]\r\n\r\n[1]: https://docs.mongodb.com/manual/reference/operator/update/positional-filtered/#update-nested-arrays-in-conjunction-with----","title":"MongoDB - Update parts of object","body":"<p>To update the document in multi-level nested array, you need <code>$[&lt;identifier&gt;]</code> filtered positional operator and <code>arrayFilters</code>.</p>\n<p>And the <code>processes</code> and <code>processes.steps.stepId</code> filter in the match operator can be removed as the filter is performed in <code>arrayFilters</code>.</p>\n<pre><code>db.collection.update({\n  &quot;name&quot;: &quot;flow1&quot;\n},\n{\n  $set: {\n    &quot;processes.$[process].steps.$[step].status&quot;: &quot;RUNNING&quot;\n  }\n},\n{\n  arrayFilters: [\n    {\n      &quot;process.processId&quot;: &quot;firstProcessId&quot;\n    },\n    {\n      &quot;step.stepId&quot;: &quot;foo&quot;\n    }\n  ]\n})\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/TsImYrN2TZk\" rel=\"nofollow noreferrer\">Sample Mongo Playground</a></p>\n<hr />\n<h2>Reference</h2>\n<p><a href=\"https://docs.mongodb.com/manual/reference/operator/update/positional-filtered/#update-nested-arrays-in-conjunction-with----\" rel=\"nofollow noreferrer\">Update Nested Arrays in Conjunction with <code>$[]</code></a></p>\n"},{"tags":[],"owner":{"account_id":14916818,"reputation":21534,"user_id":10770370,"display_name":"Tom Slabbaert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642929724,"creation_date":1642929724,"answer_id":70820680,"question_id":70820467,"body_markdown":"As you mentioned it does not work with multiple arrays, straight from the [docs][1]:\r\n&gt;The positional $ operator cannot be used for queries which traverse more than one array, such as queries that traverse arrays nested within other arrays, because the replacement for the $ placeholder is a single value\r\n\r\nI recommend you use [arrayFilters][2] instead, it&#39;s behavior is much clearer especially when working with nested structures:\r\n\r\n```\r\ndb.collection.updateMany(\r\n{\r\n  &quot;name&quot;: &quot;flow1&quot;,\r\n  &quot;processes.processId&quot;: &quot;firstProcessId&quot;,\r\n  &quot;processes.steps.stepId&quot;: &quot;foo&quot;\r\n},\r\n{\r\n  $set: {\r\n    &quot;processes.$[process].steps.$[step].status&quot;: &quot;RUNNING&quot;\r\n  }\r\n},\r\n{\r\n  arrayFilters: [\r\n    {\r\n      &quot;process.processId&quot;: &quot;firstProcessId&quot;\r\n    },\r\n    {\r\n      &quot;step.stepId&quot;: &quot;foo&quot;\r\n    }\r\n  ]\r\n})\r\n```\r\n[Mongo Playground][3]\r\n\r\n\r\n[3]:https://mongoplayground.net/p/qWjiZe4N-v6\r\n[1]:https://docs.mongodb.com/manual/reference/operator/update/positional/#nested-arrays\r\n[2]:https://docs.mongodb.com/manual/release-notes/3.6/#std-label-3.6-arrayFilters","title":"MongoDB - Update parts of object","body":"<p>As you mentioned it does not work with multiple arrays, straight from the <a href=\"https://docs.mongodb.com/manual/reference/operator/update/positional/#nested-arrays\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>The positional $ operator cannot be used for queries which traverse more than one array, such as queries that traverse arrays nested within other arrays, because the replacement for the $ placeholder is a single value</p>\n</blockquote>\n<p>I recommend you use <a href=\"https://docs.mongodb.com/manual/release-notes/3.6/#std-label-3.6-arrayFilters\" rel=\"nofollow noreferrer\">arrayFilters</a> instead, it's behavior is much clearer especially when working with nested structures:</p>\n<pre><code>db.collection.updateMany(\n{\n  &quot;name&quot;: &quot;flow1&quot;,\n  &quot;processes.processId&quot;: &quot;firstProcessId&quot;,\n  &quot;processes.steps.stepId&quot;: &quot;foo&quot;\n},\n{\n  $set: {\n    &quot;processes.$[process].steps.$[step].status&quot;: &quot;RUNNING&quot;\n  }\n},\n{\n  arrayFilters: [\n    {\n      &quot;process.processId&quot;: &quot;firstProcessId&quot;\n    },\n    {\n      &quot;step.stepId&quot;: &quot;foo&quot;\n    }\n  ]\n})\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/qWjiZe4N-v6\" rel=\"nofollow noreferrer\">Mongo Playground</a></p>\n"}],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70820667,"answer_count":2,"score":0,"last_activity_date":1658541544,"creation_date":1642927870,"question_id":70820467,"body_markdown":"I have the collection that stores documents per some execution Flow. \r\nEvery Process includes &quot;processes&quot; and each process includes steps.\r\nSo I end up with a &#39;flows&#39; collection that has documents that look like this:\r\n\r\n~~~\r\n{\r\n   &quot;name&quot; : &quot;flow1&quot;,\r\n   &quot;description&quot; : &quot;flow 1 description&quot;,\r\n   &quot;processes&quot; : [\r\n    {\r\n      &quot;processId&quot; : &quot;firstProcessId&quot;,\r\n      &quot;name&quot; : &quot;firstProcessName&quot;,\r\n      &quot;startedAt&quot; : null,\r\n      &quot;finishedAt&quot; : null,\r\n      &quot;status&quot; : &quot;PENDING&quot;, \r\n       &quot;steps&quot; : [\r\n        {\r\n         &quot;stepId&quot; : &quot;foo&quot;,               ​\r\n         ​&quot;status&quot; : &quot;PENDING&quot;,\r\n         ​&quot;startedAt&quot; : null, \r\n         ​&quot;finishedAt&quot; : null \r\n        },\r\n        {\r\n         &quot;stepId&quot; : &quot;bar&quot;,​\r\n         ​&quot;status&quot; : &quot;PENDING&quot;,\r\n         ​&quot;startedAt&quot; : null, \r\n         ​&quot;finishedAt&quot; : null \r\n        }\r\n        ...\r\n      ​]\r\n    },\r\n    {\r\n      &quot;processId&quot; : &quot;secondProcessId&quot;,\r\n      &quot;name&quot; : &quot;secondProcessName&quot;,\r\n      &quot;startedAt&quot; : null,\r\n      &quot;finishedAt&quot; : null,\r\n      &quot;status&quot; : &quot;PENDING&quot;, \r\n       &quot;steps&quot; : [\r\n        {\r\n         &quot;stepId&quot; : &quot;foo&quot;,               ​\r\n         ​&quot;status&quot; : &quot;PENDING&quot;,\r\n         ​&quot;startedAt&quot; : null, \r\n         ​&quot;finishedAt&quot; : null \r\n        },\r\n        {\r\n         &quot;stepId&quot; : &quot;xyz&quot;,​\r\n         ​&quot;status&quot; : &quot;PENDING&quot;,\r\n         ​&quot;startedAt&quot; : null, \r\n         ​&quot;finishedAt&quot; : null \r\n        }\r\n        ...\r\n      ​]\r\n    }\r\n}\r\n~~~\r\n\r\nA couple of notes here:\r\nEach flow contains many processes\r\nEach process contains at least one step, it is possible that in different processes the steps with the same id might appear (id is something that the programmer specifies),\r\n \r\nIt can be something like &quot;step of bringing me something from the DB&quot;, so this is a kind of reusable component in my system.\r\n\r\nNow, when the application runs I would like to call DAO&#39;s method like \r\n&quot;startProcess&quot;, &quot;startStep&quot;.\r\n\r\nSo I would like to know what is the correct query for starting step given processId and steps.\r\n\r\nI can successfully update the process description to &quot;running&quot; given the flow Id and the process Id:\r\n\r\n~~~\r\ndb.getCollection(&#39;flows&#39;).updateOne({&quot;name&quot; : &quot;flow1&quot;, &quot;processes&quot; : {$elemMatch : {&quot;processId&quot; : &quot;firstProcessId&quot;}}}, {$set: {&quot;processes.$.status&quot; : &quot;RUNNING&quot;}})\r\n~~~\r\n\r\nHowever I don&#39;t know how to update the step status given the flowId, process Id and step Id, it looks like it doesn&#39;t allow multiple &quot;$&quot; signs in the path:\r\n\r\nSo, this doesn&#39;t work:\r\n\r\n~~~\r\ndb.getCollection(&#39;flows&#39;).updateOne({&quot;name&quot; : &quot;flow1&quot;, &quot;processes&quot; : {$elemMatch : {&quot;processId&quot; : &quot;firstProcessId&quot;}}, &quot;processes.steps.stepId&quot; : {$elemMatch : {&quot;stepId&quot; : &quot;foo&quot;}}}, {$set: {&quot;processes.$.steps.$.status&quot; : &quot;RUNNING&quot;}})\r\n~~~\r\n\r\nWhat is the best way to implement such an update?","title":"MongoDB - Update parts of object","body":"<p>I have the collection that stores documents per some execution Flow.\nEvery Process includes &quot;processes&quot; and each process includes steps.\nSo I end up with a 'flows' collection that has documents that look like this:</p>\n<pre><code>{\n   &quot;name&quot; : &quot;flow1&quot;,\n   &quot;description&quot; : &quot;flow 1 description&quot;,\n   &quot;processes&quot; : [\n    {\n      &quot;processId&quot; : &quot;firstProcessId&quot;,\n      &quot;name&quot; : &quot;firstProcessName&quot;,\n      &quot;startedAt&quot; : null,\n      &quot;finishedAt&quot; : null,\n      &quot;status&quot; : &quot;PENDING&quot;, \n       &quot;steps&quot; : [\n        {\n         &quot;stepId&quot; : &quot;foo&quot;,               ​\n         ​&quot;status&quot; : &quot;PENDING&quot;,\n         ​&quot;startedAt&quot; : null, \n         ​&quot;finishedAt&quot; : null \n        },\n        {\n         &quot;stepId&quot; : &quot;bar&quot;,​\n         ​&quot;status&quot; : &quot;PENDING&quot;,\n         ​&quot;startedAt&quot; : null, \n         ​&quot;finishedAt&quot; : null \n        }\n        ...\n      ​]\n    },\n    {\n      &quot;processId&quot; : &quot;secondProcessId&quot;,\n      &quot;name&quot; : &quot;secondProcessName&quot;,\n      &quot;startedAt&quot; : null,\n      &quot;finishedAt&quot; : null,\n      &quot;status&quot; : &quot;PENDING&quot;, \n       &quot;steps&quot; : [\n        {\n         &quot;stepId&quot; : &quot;foo&quot;,               ​\n         ​&quot;status&quot; : &quot;PENDING&quot;,\n         ​&quot;startedAt&quot; : null, \n         ​&quot;finishedAt&quot; : null \n        },\n        {\n         &quot;stepId&quot; : &quot;xyz&quot;,​\n         ​&quot;status&quot; : &quot;PENDING&quot;,\n         ​&quot;startedAt&quot; : null, \n         ​&quot;finishedAt&quot; : null \n        }\n        ...\n      ​]\n    }\n}\n</code></pre>\n<p>A couple of notes here:\nEach flow contains many processes\nEach process contains at least one step, it is possible that in different processes the steps with the same id might appear (id is something that the programmer specifies),</p>\n<p>It can be something like &quot;step of bringing me something from the DB&quot;, so this is a kind of reusable component in my system.</p>\n<p>Now, when the application runs I would like to call DAO's method like\n&quot;startProcess&quot;, &quot;startStep&quot;.</p>\n<p>So I would like to know what is the correct query for starting step given processId and steps.</p>\n<p>I can successfully update the process description to &quot;running&quot; given the flow Id and the process Id:</p>\n<pre><code>db.getCollection('flows').updateOne({&quot;name&quot; : &quot;flow1&quot;, &quot;processes&quot; : {$elemMatch : {&quot;processId&quot; : &quot;firstProcessId&quot;}}}, {$set: {&quot;processes.$.status&quot; : &quot;RUNNING&quot;}})\n</code></pre>\n<p>However I don't know how to update the step status given the flowId, process Id and step Id, it looks like it doesn't allow multiple &quot;$&quot; signs in the path:</p>\n<p>So, this doesn't work:</p>\n<pre><code>db.getCollection('flows').updateOne({&quot;name&quot; : &quot;flow1&quot;, &quot;processes&quot; : {$elemMatch : {&quot;processId&quot; : &quot;firstProcessId&quot;}}, &quot;processes.steps.stepId&quot; : {$elemMatch : {&quot;stepId&quot; : &quot;foo&quot;}}}, {$set: {&quot;processes.$.steps.$.status&quot; : &quot;RUNNING&quot;}})\n</code></pre>\n<p>What is the best way to implement such an update?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1613731309,"post_id":66274818,"comment_id":117172431,"body_markdown":"You completely ignore that a XObject can be more than merely a macro-like set of instructions for re-use: XObjects can also define **transparency groups** which makes a difference for how transparency is interpreted. Your **Fm0** is such a transparency group. If you simply move the XObject instructions into the page content stream, you can count on the results looking different where non-trivial transparency effects are used.","body":"You completely ignore that a XObject can be more than merely a macro-like set of instructions for re-use: XObjects can also define <b>transparency groups</b> which makes a difference for how transparency is interpreted. Your <b>Fm0</b> is such a transparency group. If you simply move the XObject instructions into the page content stream, you can count on the results looking different where non-trivial transparency effects are used."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1613732592,"post_id":66274818,"comment_id":117172872,"body_markdown":"Furthermore, I don&#39;t see you enclosing the inserted instructions in a save-graphics-state/restore-graphics-state envelope. Also you appear to assume that an XObject is used exactly once; this need not be the case.","body":"Furthermore, I don&#39;t see you enclosing the inserted instructions in a save-graphics-state/restore-graphics-state envelope. Also you appear to assume that an XObject is used exactly once; this need not be the case."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1613734427,"post_id":66274818,"comment_id":117173620,"body_markdown":"can you please help me to get insert save-graphics-state/restore-graphics-state envelope properly. I have less knowledge on that.","body":"can you please help me to get insert save-graphics-state/restore-graphics-state envelope properly. I have less knowledge on that."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613984367,"creation_date":1613750230,"answer_id":66280851,"question_id":66274818,"body_markdown":"There are multiple issues, some in details, some in the concept.\r\n\r\n### Wrapping in a save-graphics-state/restore-graphics-state envelope\r\n\r\nWhen you draw an XObject, graphics state changes in that XObject don&#39;t change your current graphics state. To make sure this still is true after you copied the XObject instructions into your page content stream, you have to wrap that block into a save-graphics-state/restore-graphics-state envelope (**q** ... **Q**). You can do that by adding these two lines\r\n\r\n```lang-java\r\ntokens1.add(ind++, Operator.getOperator(&quot;q&quot;));\r\ntokens1.add(ind, Operator.getOperator(&quot;Q&quot;));\r\n```\r\n\r\nright before your instruction copying loop\r\n\r\n```lang-java\r\nfor (int k=0; k&lt; tokens3.size(); k++) {\r\n    ...\r\n}\r\n```\r\n\r\n### Coordinate system\r\n\r\nYou assume the coordinate system in the XObject equals that of the page. It doesn&#39;t necessarily. XObjects may have a **Matrix** entry denoting the transformation to apply.\r\n\r\n### Boundary box\r\n\r\nYou don&#39;t limit the area of what is drawn by the XObject instructions. But XObjects have a **BBox** entry denoting the box to clip the outputs to.\r\n\r\n### Optional content\r\n\r\nXObjects may also have an **OC** entry denoting their optional content membership. Such a membership needs to be transformed into an equivalent optional content tagging.\r\n\r\n### Marked content, structure tree\r\n\r\nXObjects can also refer to the structural parent tree via their **StructParent** or **StructParents** entry. To keep structural integrity of the document, you may have to considerably update the structure tree.\r\n\r\n### Grouping\r\n\r\nXObjects may contain a **Group** entry indicating that its content shall be treated as a group. In particular in case of Transparency Groups this results in a different behavior of transparency related features than for the same instructions copied into the page content.\r\n\r\nUnless you completely analyze the effects of each bit of content drawn with some transparency and from case to case rewrite the instructions drawing it, copying the instructions from the XObject to the page content stream will result in substantial differences in the displayed content.\r\n\r\n### Usage\r\n\r\nYour code assumes that a XObject is used exactly once in the page content streams. This need not be the case, it can also be used more often or not at all.\r\n\r\n---\r\n\r\n### References\r\n\r\nIn a comment you asked for references. Actually it&#39;s all in the PDF specification ISO 32000, already in the publicly available ISO 32000-1:\r\n\r\n&gt;## 8.10 Form XObjects\r\n&gt;\r\n&gt; A _form XObject_ is a PDF content stream that is a self-contained description of any sequence of graphics objects (including path objects, text objects, and sampled images). A form XObject may be painted multiple times—either on several pages or at several locations on the same page—and produces the same results each time, subject only to the graphics state at the time it is invoked.\r\n\r\nThus, any number of usages on a given page is possible\r\n\r\n&gt; When the **Do** operator is applied to a form XObject, a conforming reader shall perform the following tasks:\r\n&gt;\r\n&gt;a) Saves the current graphics state, as if by invoking the **q** operator (see 8.4.4, &quot;Graphics State Operators&quot;)\r\n&gt;\r\n&gt;b) Concatenates the matrix from the form dictionary’s **Matrix** entry with the current transformation matrix (CTM)\r\n&gt;\r\n&gt;c) Clips according to the form dictionary’s **BBox** entry\r\n&gt;\r\n&gt;d) Paints the graphics objects specified in the form’s content stream\r\n&gt;\r\n&gt;e) Restores the saved graphics state, as if by invoking the **Q** operator (see 8.4.4, &quot;Graphics State Operators&quot;)\r\n\r\nWhen copying into the page content stream, therefore, you should equivalently use a **q**/**Q** envelope and respect the **Matrix** and **BBox** entries.\r\n\r\n&gt;## 8.11.3.3 Optional Content in XObjects and Annotations\r\n&gt;\r\n&gt;In addition to marked content within content streams, form XObjects and image XObjects (see 8.8, &quot;External Objects&quot;) and annotations (see 12.5, &quot;Annotations&quot;) may contain an **OC** entry, which shall be an optional content group or an optional content membership dictionary.\r\n&gt;\r\n&gt;A form or image XObject&#39;s visibility shall be determined by the state of the group or those of the groups referenced by the membership dictionary in conjunction with its **P** (or **VE**) entry, along with the current visibility state in the context in which the XObject is invoked (that is, whether objects are visible in the contents stream at the place where the **Do** operation occurred).\r\n\r\nThus, respect this optional content information when copying to the page content.\r\n\r\n&gt;## 11.6.6 Transparency Group XObjects\r\n&gt;\r\n&gt;A transparency group is represented in PDF as a special type of group XObject (see “Group XObjects”) called a *transparency group XObject*. A group XObject is in turn a type of form XObject, distinguished by the presence of a **Group** entry in its form dictionary (see “Form Dictionaries”). The value of this entry is a subsidiary *group attributes dictionary* defining the properties of the group. The format and meaning of the dictionary’s contents shall be determined by its *group subtype*, which is specified by the dictionary’s **S** entry. The entries for a transparency group (subtype **Transparency**) are shown in Table 147.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;## Annex L\r\n&gt;\r\n&gt; [![figures L.16 and L.17][1]][1]\r\n\r\nSo copying from transparency groups may change the appearance substantially.\r\n\r\n&gt;## 14.7.4.3 PDF Objects as Content Items\r\n&gt;\r\n&gt;When a structure element’s content includes an entire PDF object, such as an XObject or an annotation, that is associated with a page but not directly included in the page’s content stream, the object shall be identified in the structure element’s **K** entry by an *object reference dictionary* (see Table 325).\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;## 14.7.4.4 Finding Structure Elements from Content Items\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;To locate the relevant parent tree entry, each object or content stream that is represented in the tree shall contain a special dictionary entry, **StructParent** or **StructParents** (see Table 326). Depending on the type of content item, this entry may appear in the page object of a page containing marked-content sequences, in the stream dictionary of a form or image XObject, in an annotation dictionary, or in any other type of object dictionary that is included as a content item in a structure element.\r\n\r\nThis and more information from the same chapter should indicate clearly that structure information after copying from XObject to page content must be overhauled.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vj8DT.png","title":"Add FormXobject content from resources to content stream using PDFBox?","body":"<p>There are multiple issues, some in details, some in the concept.</p>\n<h3>Wrapping in a save-graphics-state/restore-graphics-state envelope</h3>\n<p>When you draw an XObject, graphics state changes in that XObject don't change your current graphics state. To make sure this still is true after you copied the XObject instructions into your page content stream, you have to wrap that block into a save-graphics-state/restore-graphics-state envelope (<strong>q</strong> ... <strong>Q</strong>). You can do that by adding these two lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>tokens1.add(ind++, Operator.getOperator(&quot;q&quot;));\ntokens1.add(ind, Operator.getOperator(&quot;Q&quot;));\n</code></pre>\n<p>right before your instruction copying loop</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int k=0; k&lt; tokens3.size(); k++) {\n    ...\n}\n</code></pre>\n<h3>Coordinate system</h3>\n<p>You assume the coordinate system in the XObject equals that of the page. It doesn't necessarily. XObjects may have a <strong>Matrix</strong> entry denoting the transformation to apply.</p>\n<h3>Boundary box</h3>\n<p>You don't limit the area of what is drawn by the XObject instructions. But XObjects have a <strong>BBox</strong> entry denoting the box to clip the outputs to.</p>\n<h3>Optional content</h3>\n<p>XObjects may also have an <strong>OC</strong> entry denoting their optional content membership. Such a membership needs to be transformed into an equivalent optional content tagging.</p>\n<h3>Marked content, structure tree</h3>\n<p>XObjects can also refer to the structural parent tree via their <strong>StructParent</strong> or <strong>StructParents</strong> entry. To keep structural integrity of the document, you may have to considerably update the structure tree.</p>\n<h3>Grouping</h3>\n<p>XObjects may contain a <strong>Group</strong> entry indicating that its content shall be treated as a group. In particular in case of Transparency Groups this results in a different behavior of transparency related features than for the same instructions copied into the page content.</p>\n<p>Unless you completely analyze the effects of each bit of content drawn with some transparency and from case to case rewrite the instructions drawing it, copying the instructions from the XObject to the page content stream will result in substantial differences in the displayed content.</p>\n<h3>Usage</h3>\n<p>Your code assumes that a XObject is used exactly once in the page content streams. This need not be the case, it can also be used more often or not at all.</p>\n<hr />\n<h3>References</h3>\n<p>In a comment you asked for references. Actually it's all in the PDF specification ISO 32000, already in the publicly available ISO 32000-1:</p>\n<blockquote>\n<h2>8.10 Form XObjects</h2>\n<p>A <em>form XObject</em> is a PDF content stream that is a self-contained description of any sequence of graphics objects (including path objects, text objects, and sampled images). A form XObject may be painted multiple times—either on several pages or at several locations on the same page—and produces the same results each time, subject only to the graphics state at the time it is invoked.</p>\n</blockquote>\n<p>Thus, any number of usages on a given page is possible</p>\n<blockquote>\n<p>When the <strong>Do</strong> operator is applied to a form XObject, a conforming reader shall perform the following tasks:</p>\n<p>a) Saves the current graphics state, as if by invoking the <strong>q</strong> operator (see 8.4.4, &quot;Graphics State Operators&quot;)</p>\n<p>b) Concatenates the matrix from the form dictionary’s <strong>Matrix</strong> entry with the current transformation matrix (CTM)</p>\n<p>c) Clips according to the form dictionary’s <strong>BBox</strong> entry</p>\n<p>d) Paints the graphics objects specified in the form’s content stream</p>\n<p>e) Restores the saved graphics state, as if by invoking the <strong>Q</strong> operator (see 8.4.4, &quot;Graphics State Operators&quot;)</p>\n</blockquote>\n<p>When copying into the page content stream, therefore, you should equivalently use a <strong>q</strong>/<strong>Q</strong> envelope and respect the <strong>Matrix</strong> and <strong>BBox</strong> entries.</p>\n<blockquote>\n<h2>8.11.3.3 Optional Content in XObjects and Annotations</h2>\n<p>In addition to marked content within content streams, form XObjects and image XObjects (see 8.8, &quot;External Objects&quot;) and annotations (see 12.5, &quot;Annotations&quot;) may contain an <strong>OC</strong> entry, which shall be an optional content group or an optional content membership dictionary.</p>\n<p>A form or image XObject's visibility shall be determined by the state of the group or those of the groups referenced by the membership dictionary in conjunction with its <strong>P</strong> (or <strong>VE</strong>) entry, along with the current visibility state in the context in which the XObject is invoked (that is, whether objects are visible in the contents stream at the place where the <strong>Do</strong> operation occurred).</p>\n</blockquote>\n<p>Thus, respect this optional content information when copying to the page content.</p>\n<blockquote>\n<h2>11.6.6 Transparency Group XObjects</h2>\n<p>A transparency group is represented in PDF as a special type of group XObject (see “Group XObjects”) called a <em>transparency group XObject</em>. A group XObject is in turn a type of form XObject, distinguished by the presence of a <strong>Group</strong> entry in its form dictionary (see “Form Dictionaries”). The value of this entry is a subsidiary <em>group attributes dictionary</em> defining the properties of the group. The format and meaning of the dictionary’s contents shall be determined by its <em>group subtype</em>, which is specified by the dictionary’s <strong>S</strong> entry. The entries for a transparency group (subtype <strong>Transparency</strong>) are shown in Table 147.</p>\n<p>...</p>\n<h2>Annex L</h2>\n<p><a href=\"https://i.stack.imgur.com/vj8DT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vj8DT.png\" alt=\"figures L.16 and L.17\" /></a></p>\n</blockquote>\n<p>So copying from transparency groups may change the appearance substantially.</p>\n<blockquote>\n<h2>14.7.4.3 PDF Objects as Content Items</h2>\n<p>When a structure element’s content includes an entire PDF object, such as an XObject or an annotation, that is associated with a page but not directly included in the page’s content stream, the object shall be identified in the structure element’s <strong>K</strong> entry by an <em>object reference dictionary</em> (see Table 325).</p>\n<p>...</p>\n<h2>14.7.4.4 Finding Structure Elements from Content Items</h2>\n<p>...</p>\n<p>To locate the relevant parent tree entry, each object or content stream that is represented in the tree shall contain a special dictionary entry, <strong>StructParent</strong> or <strong>StructParents</strong> (see Table 326). Depending on the type of content item, this entry may appear in the page object of a page containing marked-content sequences, in the stream dictionary of a form or image XObject, in an annotation dictionary, or in any other type of object dictionary that is included as a content item in a structure element.</p>\n</blockquote>\n<p>This and more information from the same chapter should indicate clearly that structure information after copying from XObject to page content must be overhauled.</p>\n"},{"tags":[],"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658541485,"creation_date":1658458433,"answer_id":73074625,"question_id":66274818,"body_markdown":"**This is just snippet code for above MKL Answer. I am trying to give snippet  code for that**\r\n\r\n**Wrapping in a save-graphics-state/restore-graphics-state envelope**\r\n\r\nWhen you draw an XObject, graphics state changes in that XObject don&#39;t change your current graphics state. To make sure this still is true after you copied the XObject instructions into your page content stream, you have to wrap that block into a save-graphics-state/restore-graphics-state envelope (q ... Q). You can do that by adding these two lines\r\n\r\n    tokens1.add(ind++, Operator.getOperator(&quot;q&quot;));\r\n    tokens1.add(ind, Operator.getOperator(&quot;Q&quot;));\r\nright before your instruction copying loop\r\n\r\n    for (int k=0; k&lt; tokens3.size(); k++) {\r\n        ...\r\n    }\r\n\r\n**Coordinate system:**\r\n\r\nYou assume the coordinate system in the XObject equals that of the page. It doesn&#39;t necessarily. XObjects may have a **Matrix** entry denoting the transformation to apply.\r\n\r\n    tokens1.add(k-1, Operator.getOperator(&quot;q&quot;));\r\n    if(((PDFormXObject) xObject).getMatrix() != null) {\r\n        tokens1.add(k, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleX()));\r\n        tokens1.add(k + 1, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearY()));\r\n        tokens1.add(k + 2, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearX()));\r\n        tokens1.add(k + 3, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleY()));\r\n        tokens1.add(k + 4, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateX()));\r\n        tokens1.add(k + 5, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateY()));\r\n        tokens1.add(k + 6, Operator.getOperator(&quot;cm&quot;));\r\n        tokens1.add(k+7, Operator.getOperator(&quot;Q&quot;));\r\n        ind =k+7;\r\n    }\r\n\r\n**Boundary box:**\r\n\r\nYou don&#39;t limit the area of what is drawn by the XObject instructions. But XObjects have a **BBox** entry denoting the box to clip the outputs to.\r\n\r\n    if ((PDFormXObject) xObject).getBBox()!= null){\r\n        //How can I add this bbox property? is it &#39;re&#39;?\r\n        tokens1.add(k, new COSFloat(((PDFormXObject) xObject).getBBox().getLowerLeftX()));\r\n        tokens1.add(k+1, new COSFloat(((PDFormXObject) xObject).getBBox().getLowerLeftY()));\r\n        tokens1.add(k+2, new COSFloat(((PDFormXObject) xObject).getBBox().getWidth()));\r\n        tokens1.add(k+3, new COSFloat(((PDFormXObject) xObject).getBBox().getHeight()));\r\n        tokens1.add(k+4, Operator.getOperator(&quot;re&quot;));\r\n        tokens1.add(k+5, Operator.getOperator(&quot;W&quot;));\r\n        tokens1.add(k+6, Operator.getOperator(&quot;n&quot;));\r\n    }\r\n\r\n**Optional content**\r\n\r\nXObjects may also have an **OC** entry denoting their optional content membership. Such a membership needs to be transformed into an equivalent optional content tagging.\r\n\r\n    //How can I get this oc property from xobject and how can I use it?\r\n\r\n**Marked content, structure tree**\r\n\r\n    //For now there is no any marked content. Assume every pdf is not Tagged. \r\n\r\n**Grouping**\r\n\r\nXObjects may contain a **Group** entry indicating that its content shall be treated as a group. In particular in case of Transparency Groups this results in a different behavior of transparency related features than for the same instructions copied into the page content.\r\n\r\nUnless you completely analyze the effects of each bit of content drawn with some transparency and from case to case rewrite the instructions drawing it, copying the instructions from the XObject to the page content stream will result in substantial differences in the displayed content.\r\n\r\n    if ((PDFormXObject) xObject).getGroup() != null\r\n        //if this is not null how to use this?\r\n\r\n**Usage**\r\n\r\nYour code assumes that a XObject is used exactly once in the page content streams. This need not be the case, it can also be used **more often** or not at all.\r\n\r\n    //For this I will iterate my main content stream and replace all formxobject&#39;s.\r\n\r\n**References**\r\n\r\nI am adding snippet to copy all references.\r\n\r\nReading references\r\n\r\n    for (COSName colorname :((PDFormXObject) xObject).getResources().getColorSpaceNames())\r\n    {\r\n        COSName new_name = COSName.getPDFName(colorname.getName());\r\n        PDColorSpace pdcolor = ((PDFormXObject) xObject).getResources().getColorSpace(colorname);\r\n        colordict.setItem(new_name,pdcolor);\r\n    }\r\n    for (COSName propertyName :((PDFormXObject) xObject).getResources().getPropertiesNames())\r\n    {\r\n        COSName new_name = COSName.getPDFName(propertyName.getName()+&quot;_Fm&quot;+img_count);\r\n        PDPropertyList property =((PDFormXObject) xObject).getResources().getProperties(propertyName);\r\n        property.getCOSObject().setItem(COSName.NAME, new_name);\r\n        propertiesdict.setItem(new_name,property);\r\n    }\r\n    for (COSName shadeName :((PDFormXObject) xObject).getResources().getShadingNames() )\r\n    {\r\n        COSName new_name = COSName.getPDFName(shadeName.getName()+&quot;_Fm&quot;+img_count);\r\n        PDShading shade =((PDFormXObject) xObject).getResources().getShading(shadeName);\r\n        shade.getCOSObject().setItem(COSName.NAME, new_name);\r\n        fntdict.setItem(new_name,shade);\r\n    }\r\n    for (COSName fontName :((PDFormXObject) xObject).getResources().getFontNames() )\r\n    {\r\n        COSName new_name = COSName.getPDFName(fontName.getName());\r\n        PDFont font =((PDFormXObject) xObject).getResources().getFont(fontName);\r\n        font.getCOSObject().setItem(COSName.NAME, new_name);\r\n        fntdict.setItem(new_name,font);\r\n    }\r\n    for (COSName ExtGSName :((PDFormXObject) xObject).getResources().getExtGStateNames() )\r\n    {\r\n        COSName new_name = COSName.getPDFName(ExtGSName.getName());\r\n        PDExtendedGraphicsState ExtGState =((PDFormXObject) xObject).getResources().getExtGState(ExtGSName);\r\n        ExtGState.getCOSObject().setItem(COSName.NAME, new_name);\r\n        extgsdict.setItem(new_name,ExtGState);\r\n    }\r\n    imgdict.setItem(xObjectName, xObject);\r\n    for (COSName Imgname :((PDFormXObject) xObject).getResources().getXObjectNames() )\r\n    {\r\n        COSName new_name = COSName.getPDFName(Imgname.getName());\r\n        xObject.getCOSObject().setItem(COSName.NAME, new_name);\r\n        PDXObject img =((PDFormXObject) xObject).getResources().getXObject(Imgname);\r\n        imgdict.setItem(new_name, img);\r\n    }\r\n    for (COSName paternname :((PDFormXObject) xObject).getResources().getPatternNames() )\r\n    {\r\n        COSName new_name = COSName.getPDFName(paternname.getName());\r\n        PDAbstractPattern pat = ((PDFormXObject) xObject).getResources().getPattern(paternname);\r\n        pat.getCOSObject().setItem(COSName.NAME, new_name);\r\n        pattern.setItem(new_name,pat);\r\n    }\r\n    //Later I am placing in place\r\n    \r\n    for (COSName fontName :new_resources.getFontNames() )\r\n    {\r\n        PDFont font =new_resources.getFont(fontName);\r\n        fntdict.setItem(fontName,font);\r\n    }\r\n    for (COSName ExtGSName :new_resources.getExtGStateNames() )\r\n    {\r\n        PDExtendedGraphicsState extg =new_resources.getExtGState(ExtGSName);\r\n        extgsdict.setItem(ExtGSName,extg);\r\n    }\r\n    for (COSName colorname :new_resources.getColorSpaceNames() )\r\n    {\r\n        PDColorSpace color =new_resources.getColorSpace(colorname);\r\n        colordict.setItem(colorname,color);\r\n    }\r\n    for (COSName patern :new_resources.getPatternNames() )\r\n    {\r\n        PDAbstractPattern pat =new_resources.getPattern(patern);\r\n        pattern.setItem(patern,pat);\r\n    }\r\n    \r\n    resources.getCOSObject().setItem(COSName.EXT_G_STATE,extgsdict);\r\n    resources.getCOSObject().setItem(COSName.FONT,fntdict);\r\n    resources.getCOSObject().setItem(COSName.XOBJECT,imgdict);\r\n    resources.getCOSObject().setItem(COSName.COLORSPACE, colordict);\r\n    resources.getCOSObject().setItem(COSName.PATTERN, pattern);\r\n    resources.getCOSObject().setItem(COSName.PROPERTIES, propertiesdict);\r\n    //what about shading How can I add here\r\n    \r\n    writer.writeTokens(tokens1);\r\n    out.close();\r\n    document.getPage(pg_ind).setContents(newContents);\r\n    document.getPage(pg_ind).setResources(resources);\r\n\r\n@mkl please correct me here to give complete solution. I will try hard to make this work Thanks in advance. \r\n\r\n","title":"Add FormXobject content from resources to content stream using PDFBox?","body":"<p><strong>This is just snippet code for above MKL Answer. I am trying to give snippet  code for that</strong></p>\n<p><strong>Wrapping in a save-graphics-state/restore-graphics-state envelope</strong></p>\n<p>When you draw an XObject, graphics state changes in that XObject don't change your current graphics state. To make sure this still is true after you copied the XObject instructions into your page content stream, you have to wrap that block into a save-graphics-state/restore-graphics-state envelope (q ... Q). You can do that by adding these two lines</p>\n<pre><code>tokens1.add(ind++, Operator.getOperator(&quot;q&quot;));\ntokens1.add(ind, Operator.getOperator(&quot;Q&quot;));\n</code></pre>\n<p>right before your instruction copying loop</p>\n<pre><code>for (int k=0; k&lt; tokens3.size(); k++) {\n    ...\n}\n</code></pre>\n<p><strong>Coordinate system:</strong></p>\n<p>You assume the coordinate system in the XObject equals that of the page. It doesn't necessarily. XObjects may have a <strong>Matrix</strong> entry denoting the transformation to apply.</p>\n<pre><code>tokens1.add(k-1, Operator.getOperator(&quot;q&quot;));\nif(((PDFormXObject) xObject).getMatrix() != null) {\n    tokens1.add(k, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleX()));\n    tokens1.add(k + 1, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearY()));\n    tokens1.add(k + 2, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearX()));\n    tokens1.add(k + 3, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleY()));\n    tokens1.add(k + 4, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateX()));\n    tokens1.add(k + 5, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateY()));\n    tokens1.add(k + 6, Operator.getOperator(&quot;cm&quot;));\n    tokens1.add(k+7, Operator.getOperator(&quot;Q&quot;));\n    ind =k+7;\n}\n</code></pre>\n<p><strong>Boundary box:</strong></p>\n<p>You don't limit the area of what is drawn by the XObject instructions. But XObjects have a <strong>BBox</strong> entry denoting the box to clip the outputs to.</p>\n<pre><code>if ((PDFormXObject) xObject).getBBox()!= null){\n    //How can I add this bbox property? is it 're'?\n    tokens1.add(k, new COSFloat(((PDFormXObject) xObject).getBBox().getLowerLeftX()));\n    tokens1.add(k+1, new COSFloat(((PDFormXObject) xObject).getBBox().getLowerLeftY()));\n    tokens1.add(k+2, new COSFloat(((PDFormXObject) xObject).getBBox().getWidth()));\n    tokens1.add(k+3, new COSFloat(((PDFormXObject) xObject).getBBox().getHeight()));\n    tokens1.add(k+4, Operator.getOperator(&quot;re&quot;));\n    tokens1.add(k+5, Operator.getOperator(&quot;W&quot;));\n    tokens1.add(k+6, Operator.getOperator(&quot;n&quot;));\n}\n</code></pre>\n<p><strong>Optional content</strong></p>\n<p>XObjects may also have an <strong>OC</strong> entry denoting their optional content membership. Such a membership needs to be transformed into an equivalent optional content tagging.</p>\n<pre><code>//How can I get this oc property from xobject and how can I use it?\n</code></pre>\n<p><strong>Marked content, structure tree</strong></p>\n<pre><code>//For now there is no any marked content. Assume every pdf is not Tagged. \n</code></pre>\n<p><strong>Grouping</strong></p>\n<p>XObjects may contain a <strong>Group</strong> entry indicating that its content shall be treated as a group. In particular in case of Transparency Groups this results in a different behavior of transparency related features than for the same instructions copied into the page content.</p>\n<p>Unless you completely analyze the effects of each bit of content drawn with some transparency and from case to case rewrite the instructions drawing it, copying the instructions from the XObject to the page content stream will result in substantial differences in the displayed content.</p>\n<pre><code>if ((PDFormXObject) xObject).getGroup() != null\n    //if this is not null how to use this?\n</code></pre>\n<p><strong>Usage</strong></p>\n<p>Your code assumes that a XObject is used exactly once in the page content streams. This need not be the case, it can also be used <strong>more often</strong> or not at all.</p>\n<pre><code>//For this I will iterate my main content stream and replace all formxobject's.\n</code></pre>\n<p><strong>References</strong></p>\n<p>I am adding snippet to copy all references.</p>\n<p>Reading references</p>\n<pre><code>for (COSName colorname :((PDFormXObject) xObject).getResources().getColorSpaceNames())\n{\n    COSName new_name = COSName.getPDFName(colorname.getName());\n    PDColorSpace pdcolor = ((PDFormXObject) xObject).getResources().getColorSpace(colorname);\n    colordict.setItem(new_name,pdcolor);\n}\nfor (COSName propertyName :((PDFormXObject) xObject).getResources().getPropertiesNames())\n{\n    COSName new_name = COSName.getPDFName(propertyName.getName()+&quot;_Fm&quot;+img_count);\n    PDPropertyList property =((PDFormXObject) xObject).getResources().getProperties(propertyName);\n    property.getCOSObject().setItem(COSName.NAME, new_name);\n    propertiesdict.setItem(new_name,property);\n}\nfor (COSName shadeName :((PDFormXObject) xObject).getResources().getShadingNames() )\n{\n    COSName new_name = COSName.getPDFName(shadeName.getName()+&quot;_Fm&quot;+img_count);\n    PDShading shade =((PDFormXObject) xObject).getResources().getShading(shadeName);\n    shade.getCOSObject().setItem(COSName.NAME, new_name);\n    fntdict.setItem(new_name,shade);\n}\nfor (COSName fontName :((PDFormXObject) xObject).getResources().getFontNames() )\n{\n    COSName new_name = COSName.getPDFName(fontName.getName());\n    PDFont font =((PDFormXObject) xObject).getResources().getFont(fontName);\n    font.getCOSObject().setItem(COSName.NAME, new_name);\n    fntdict.setItem(new_name,font);\n}\nfor (COSName ExtGSName :((PDFormXObject) xObject).getResources().getExtGStateNames() )\n{\n    COSName new_name = COSName.getPDFName(ExtGSName.getName());\n    PDExtendedGraphicsState ExtGState =((PDFormXObject) xObject).getResources().getExtGState(ExtGSName);\n    ExtGState.getCOSObject().setItem(COSName.NAME, new_name);\n    extgsdict.setItem(new_name,ExtGState);\n}\nimgdict.setItem(xObjectName, xObject);\nfor (COSName Imgname :((PDFormXObject) xObject).getResources().getXObjectNames() )\n{\n    COSName new_name = COSName.getPDFName(Imgname.getName());\n    xObject.getCOSObject().setItem(COSName.NAME, new_name);\n    PDXObject img =((PDFormXObject) xObject).getResources().getXObject(Imgname);\n    imgdict.setItem(new_name, img);\n}\nfor (COSName paternname :((PDFormXObject) xObject).getResources().getPatternNames() )\n{\n    COSName new_name = COSName.getPDFName(paternname.getName());\n    PDAbstractPattern pat = ((PDFormXObject) xObject).getResources().getPattern(paternname);\n    pat.getCOSObject().setItem(COSName.NAME, new_name);\n    pattern.setItem(new_name,pat);\n}\n//Later I am placing in place\n\nfor (COSName fontName :new_resources.getFontNames() )\n{\n    PDFont font =new_resources.getFont(fontName);\n    fntdict.setItem(fontName,font);\n}\nfor (COSName ExtGSName :new_resources.getExtGStateNames() )\n{\n    PDExtendedGraphicsState extg =new_resources.getExtGState(ExtGSName);\n    extgsdict.setItem(ExtGSName,extg);\n}\nfor (COSName colorname :new_resources.getColorSpaceNames() )\n{\n    PDColorSpace color =new_resources.getColorSpace(colorname);\n    colordict.setItem(colorname,color);\n}\nfor (COSName patern :new_resources.getPatternNames() )\n{\n    PDAbstractPattern pat =new_resources.getPattern(patern);\n    pattern.setItem(patern,pat);\n}\n\nresources.getCOSObject().setItem(COSName.EXT_G_STATE,extgsdict);\nresources.getCOSObject().setItem(COSName.FONT,fntdict);\nresources.getCOSObject().setItem(COSName.XOBJECT,imgdict);\nresources.getCOSObject().setItem(COSName.COLORSPACE, colordict);\nresources.getCOSObject().setItem(COSName.PATTERN, pattern);\nresources.getCOSObject().setItem(COSName.PROPERTIES, propertiesdict);\n//what about shading How can I add here\n\nwriter.writeTokens(tokens1);\nout.close();\ndocument.getPage(pg_ind).setContents(newContents);\ndocument.getPage(pg_ind).setResources(resources);\n</code></pre>\n<p>@mkl please correct me here to give complete solution. I will try hard to make this work Thanks in advance.</p>\n"}],"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66280851,"answer_count":2,"score":0,"last_activity_date":1658541485,"creation_date":1613726495,"question_id":66274818,"body_markdown":"I have FormXobject under my page1-&gt;Resource -&gt; Xobjects-&gt; Fm0, Fm1, Fm2..\r\n\r\nSo it is not direct content stream which is not available under contents-&gt;contentstream.  So I want to move the content stream of from Fm0-&gt;Contentstream to page1-&gt; contents-&gt; contentstream.\r\n\r\nWhen we moved content stream like this we parallelly we have to transfer or copy Fm0 related Resources to page level resource.\r\n\r\n [![As shown here.][1]][1]\r\n\r\n1.Content stream need to copy under page level contents. \r\n\r\n2.Color space objects need to copy under page1-&gt;Resource-&gt;Colorspace.\r\n\r\n3.ExtGState objects need to copy under page1-&gt;Resource-&gt;ExtGState.\r\n\r\n4.properties need to copy under page1-&gt;Resource (here need to create that entirely)\r\n\r\nI tried some code \r\n\r\n    private static PDDocument parseFormXobject(PDDocument document, Integer pg_ind) throws IOException {\r\n    List&lt;Object&gt; tokens1 = (List&lt;Object&gt;) (getTokens(document, pg_ind)).get(pg_ind);\r\n    PDStream newContents = new PDStream(document);\r\n    OutputStream out = newContents.createOutputStream(COSName.FLATE_DECODE);\r\n    ContentStreamWriter writer = new ContentStreamWriter(out);\r\n\r\n    PDPage pageinner = document.getPage(pg_ind);\r\n    PDResources resources = pageinner.getResources();\r\n    PDResources new_resources = new PDResources();\r\n    new_resources = resources;\r\n\r\n    COSDictionary fntdict = new COSDictionary();\r\n    COSDictionary imgdict = new COSDictionary();\r\n    COSDictionary extgsdict = new COSDictionary();\r\n    COSDictionary colordict = new COSDictionary();\r\n    COSDictionary pattern = new COSDictionary();\r\n    int img_count = 0;\r\n    for (COSName xObjectName : resources.getXObjectNames()) {\r\n        PDXObject xObject = resources.getXObject(xObjectName);\r\n        if (xObject instanceof PDFormXObject\r\n            &amp;&amp; tokens1.toString().contains(xObjectName.toString()) ) {\r\n            PDFStreamParser parser = new PDFStreamParser(((PDFormXObject) xObject).getContentStream());\r\n            parser.parse();\r\n            List&lt;Object&gt;  tokens3 = parser.getTokens();\r\n            int ind =0;\r\n            //isTextContains will check is there any Tj operators or there or not\r\n            if (isTextContains(tokens3)){\r\n                for (COSName colorname :((PDFormXObject) xObject).getResources().getColorSpaceNames())\r\n                {\r\n                    COSName new_name = COSName.getPDFName(colorname.getName());\r\n                    PDColorSpace pdcolor = ((PDFormXObject) xObject).getResources().getColorSpace(colorname);\r\n                    colordict.setItem(new_name,pdcolor);\r\n                }\r\n                for (COSName fontName :((PDFormXObject) xObject).getResources().getFontNames() )\r\n                {\r\n                    COSName new_name = COSName.getPDFName(fontName.getName());\r\n                    PDFont font =((PDFormXObject) xObject).getResources().getFont(fontName);\r\n                    font.getCOSObject().setItem(COSName.NAME, new_name);\r\n                    fntdict.setItem(new_name,font);\r\n                }\r\n                for (COSName ExtGSName :((PDFormXObject) xObject).getResources().getExtGStateNames() )\r\n                {\r\n                    COSName new_name = COSName.getPDFName(ExtGSName.getName());\r\n                    PDExtendedGraphicsState ExtGState =((PDFormXObject) xObject).getResources().getExtGState(ExtGSName);\r\n                    ExtGState.getCOSObject().setItem(COSName.NAME, new_name);\r\n                    extgsdict.setItem(new_name,ExtGState);\r\n                }\r\n                imgdict.setItem(xObjectName, xObject);\r\n                for (COSName Imgname :((PDFormXObject) xObject).getResources().getXObjectNames() )\r\n                {\r\n                    COSName new_name = COSName.getPDFName(Imgname.getName());\r\n                    xObject.getCOSObject().setItem(COSName.NAME, new_name);\r\n                    PDXObject img =((PDFormXObject) xObject).getResources().getXObject(Imgname);\r\n                    imgdict.setItem(new_name, img);\r\n                }\r\n                for (COSName paternname :((PDFormXObject) xObject).getResources().getPatternNames() )\r\n                {\r\n                    COSName new_name = COSName.getPDFName(paternname.getName());\r\n                    PDAbstractPattern pat = ((PDFormXObject) xObject).getResources().getPattern(paternname);\r\n                    pat.getCOSObject().setItem(COSName.NAME, new_name);\r\n                    pattern.setItem(new_name,pat);\r\n                }\r\n                for (int k=0; k&lt; tokens1.size(); k++) {\r\n                    if ( ((tokens1.get(k) instanceof Operator) &amp;&amp; ((Operator)tokens1.get(k)).getName().toString().equals(&quot;Do&quot;))\r\n                            &amp;&amp; ((COSName)tokens1.get(k-1)).getName().toString().equals(xObjectName.getName().toString()) ) {\r\n                        tokens1.remove(k-1);\r\n                        tokens1.remove(k-1);\r\n                        tokens1.add(k-1, Operator.getOperator(&quot;q&quot;));\r\n                        if(((PDFormXObject) xObject).getMatrix() != null) {\r\n                            tokens1.add(k, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleX()));\r\n                            tokens1.add(k + 1, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearY()));\r\n                            tokens1.add(k + 2, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearX()));\r\n                            tokens1.add(k + 3, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleY()));\r\n                            tokens1.add(k + 4, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateX()));\r\n                            tokens1.add(k + 5, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateY()));\r\n                            tokens1.add(k + 6, Operator.getOperator(&quot;cm&quot;));\r\n                            tokens1.add(k+7, Operator.getOperator(&quot;Q&quot;));\r\n                            ind =k+7;\r\n                        }else{\r\n                            tokens1.add(k, Operator.getOperator(&quot;Q&quot;));\r\n                            ind =k;\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                for (int k=0; k&lt; tokens3.size(); k++) {\r\n                    if ( (tokens3.size() &gt; k+1) &amp;&amp; (tokens3.get(k+1) instanceof Operator) &amp;&amp; (((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;Do&quot;)\r\n                            || ((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;gs&quot;)\r\n                            || ((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;cs&quot;)\r\n                            || ((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;CS&quot;)) ) {\r\n                        COSName new_name = COSName.getPDFName( ((COSName) tokens3.get(k)).getName() );\r\n                        tokens1.add(ind+k, new_name );\r\n                    }else if ( (tokens3.size() &gt; k+2) &amp;&amp; (tokens3.get(k+2) instanceof Operator)\r\n                            &amp;&amp; ((Operator)tokens3.get(k+2)).getName().toString().equals(&quot;Tf&quot;) ) {\r\n                        COSName new_name = COSName.getPDFName( ((COSName) tokens3.get(k)).getName() );\r\n                        tokens1.add(ind+k, new_name );\r\n                    }\r\n                    else\r\n                        tokens1.add(ind+k,tokens3.get(k));\r\n                }\r\n\r\n\r\n                img_count +=1;\r\n            }else {\r\n                imgdict.setItem(xObjectName, xObject);\r\n                img_count +=1;\r\n            }\r\n        }else\r\n            imgdict.setItem(xObjectName, xObject);\r\n    }\r\n    for (COSName fontName :new_resources.getFontNames() )\r\n    {\r\n        PDFont font =new_resources.getFont(fontName);\r\n        fntdict.setItem(fontName,font);\r\n    }\r\n    for (COSName ExtGSName :new_resources.getExtGStateNames() )\r\n    {\r\n        PDExtendedGraphicsState extg =new_resources.getExtGState(ExtGSName);\r\n        extgsdict.setItem(ExtGSName,extg);\r\n    }\r\n    for (COSName colorname :new_resources.getColorSpaceNames() )\r\n    {\r\n        PDColorSpace color =new_resources.getColorSpace(colorname);\r\n        colordict.setItem(colorname,color);\r\n    }\r\n    for (COSName patern :new_resources.getPatternNames() )\r\n    {\r\n        PDAbstractPattern pat =new_resources.getPattern(patern);\r\n        pattern.setItem(patern,pat);\r\n    }\r\n\r\n    resources.getCOSObject().setItem(COSName.EXT_G_STATE,extgsdict);\r\n    resources.getCOSObject().setItem(COSName.FONT,fntdict);\r\n    resources.getCOSObject().setItem(COSName.XOBJECT,imgdict);\r\n    resources.getCOSObject().setItem(COSName.COLORSPACE, colordict);\r\n    resources.getCOSObject().setItem(COSName.PATTERN, pattern);\r\n\r\n    writer.writeTokens(tokens1);\r\n    out.close();\r\n    document.getPage(pg_ind).setContents(newContents);\r\n    document.getPage(pg_ind).setResources(resources);\r\n    return document;\r\n    }\r\n    \r\n    private static JSONObject getTokens(PDDocument oldDocument, Integer pageIndex) throws IOException {\r\n        // TODO Auto- it will return the tokens of pdf\r\n        JSONObject oldDocumentTokens = new JSONObject();\r\n        PDPage pg = oldDocument.getPage(pageIndex);\r\n        PDFStreamParser parser = new PDFStreamParser(pg);\r\n        parser.parse();\r\n        List&lt;Object&gt; tokens = PDFUtils.removeTokens(parser.getTokens());\r\n        oldDocumentTokens.put(pageIndex, tokens);\r\n        return oldDocumentTokens;\r\n    }\r\n\r\n    private static boolean isTextContains(List&lt;Object&gt; tokens3) {\r\n        for (int k=0; k&lt; tokens3.size(); k++) {\r\n            if (tokens3.get(k) instanceof Operator) {\r\n                Operator op = (Operator) tokens3.get(k);\r\n                if(op.getName().equals(&quot;BT&quot;))\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nBut I am unable to get Exact Page graphics. I am losing something.\r\n\r\n[input pdf][2]\r\n\r\n[output pdf][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WbApo.png\r\n  [2]: https://drive.google.com/file/d/1lT4pwGAk4I6vaekTHhWnx_hngcKCm0DK/view?usp=sharing\r\n  [3]: https://drive.google.com/file/d/1RikX4E5WRN6fq_0Cv4PBYaMabJuHONq9/view?usp=sharing","title":"Add FormXobject content from resources to content stream using PDFBox?","body":"<p>I have FormXobject under my page1-&gt;Resource -&gt; Xobjects-&gt; Fm0, Fm1, Fm2..</p>\n<p>So it is not direct content stream which is not available under contents-&gt;contentstream.  So I want to move the content stream of from Fm0-&gt;Contentstream to page1-&gt; contents-&gt; contentstream.</p>\n<p>When we moved content stream like this we parallelly we have to transfer or copy Fm0 related Resources to page level resource.</p>\n<p><a href=\"https://i.stack.imgur.com/WbApo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WbApo.png\" alt=\"As shown here.\" /></a></p>\n<p>1.Content stream need to copy under page level contents.</p>\n<p>2.Color space objects need to copy under page1-&gt;Resource-&gt;Colorspace.</p>\n<p>3.ExtGState objects need to copy under page1-&gt;Resource-&gt;ExtGState.</p>\n<p>4.properties need to copy under page1-&gt;Resource (here need to create that entirely)</p>\n<p>I tried some code</p>\n<pre><code>private static PDDocument parseFormXobject(PDDocument document, Integer pg_ind) throws IOException {\nList&lt;Object&gt; tokens1 = (List&lt;Object&gt;) (getTokens(document, pg_ind)).get(pg_ind);\nPDStream newContents = new PDStream(document);\nOutputStream out = newContents.createOutputStream(COSName.FLATE_DECODE);\nContentStreamWriter writer = new ContentStreamWriter(out);\n\nPDPage pageinner = document.getPage(pg_ind);\nPDResources resources = pageinner.getResources();\nPDResources new_resources = new PDResources();\nnew_resources = resources;\n\nCOSDictionary fntdict = new COSDictionary();\nCOSDictionary imgdict = new COSDictionary();\nCOSDictionary extgsdict = new COSDictionary();\nCOSDictionary colordict = new COSDictionary();\nCOSDictionary pattern = new COSDictionary();\nint img_count = 0;\nfor (COSName xObjectName : resources.getXObjectNames()) {\n    PDXObject xObject = resources.getXObject(xObjectName);\n    if (xObject instanceof PDFormXObject\n        &amp;&amp; tokens1.toString().contains(xObjectName.toString()) ) {\n        PDFStreamParser parser = new PDFStreamParser(((PDFormXObject) xObject).getContentStream());\n        parser.parse();\n        List&lt;Object&gt;  tokens3 = parser.getTokens();\n        int ind =0;\n        //isTextContains will check is there any Tj operators or there or not\n        if (isTextContains(tokens3)){\n            for (COSName colorname :((PDFormXObject) xObject).getResources().getColorSpaceNames())\n            {\n                COSName new_name = COSName.getPDFName(colorname.getName());\n                PDColorSpace pdcolor = ((PDFormXObject) xObject).getResources().getColorSpace(colorname);\n                colordict.setItem(new_name,pdcolor);\n            }\n            for (COSName fontName :((PDFormXObject) xObject).getResources().getFontNames() )\n            {\n                COSName new_name = COSName.getPDFName(fontName.getName());\n                PDFont font =((PDFormXObject) xObject).getResources().getFont(fontName);\n                font.getCOSObject().setItem(COSName.NAME, new_name);\n                fntdict.setItem(new_name,font);\n            }\n            for (COSName ExtGSName :((PDFormXObject) xObject).getResources().getExtGStateNames() )\n            {\n                COSName new_name = COSName.getPDFName(ExtGSName.getName());\n                PDExtendedGraphicsState ExtGState =((PDFormXObject) xObject).getResources().getExtGState(ExtGSName);\n                ExtGState.getCOSObject().setItem(COSName.NAME, new_name);\n                extgsdict.setItem(new_name,ExtGState);\n            }\n            imgdict.setItem(xObjectName, xObject);\n            for (COSName Imgname :((PDFormXObject) xObject).getResources().getXObjectNames() )\n            {\n                COSName new_name = COSName.getPDFName(Imgname.getName());\n                xObject.getCOSObject().setItem(COSName.NAME, new_name);\n                PDXObject img =((PDFormXObject) xObject).getResources().getXObject(Imgname);\n                imgdict.setItem(new_name, img);\n            }\n            for (COSName paternname :((PDFormXObject) xObject).getResources().getPatternNames() )\n            {\n                COSName new_name = COSName.getPDFName(paternname.getName());\n                PDAbstractPattern pat = ((PDFormXObject) xObject).getResources().getPattern(paternname);\n                pat.getCOSObject().setItem(COSName.NAME, new_name);\n                pattern.setItem(new_name,pat);\n            }\n            for (int k=0; k&lt; tokens1.size(); k++) {\n                if ( ((tokens1.get(k) instanceof Operator) &amp;&amp; ((Operator)tokens1.get(k)).getName().toString().equals(&quot;Do&quot;))\n                        &amp;&amp; ((COSName)tokens1.get(k-1)).getName().toString().equals(xObjectName.getName().toString()) ) {\n                    tokens1.remove(k-1);\n                    tokens1.remove(k-1);\n                    tokens1.add(k-1, Operator.getOperator(&quot;q&quot;));\n                    if(((PDFormXObject) xObject).getMatrix() != null) {\n                        tokens1.add(k, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleX()));\n                        tokens1.add(k + 1, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearY()));\n                        tokens1.add(k + 2, new COSFloat(((PDFormXObject) xObject).getMatrix().getShearX()));\n                        tokens1.add(k + 3, new COSFloat(((PDFormXObject) xObject).getMatrix().getScaleY()));\n                        tokens1.add(k + 4, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateX()));\n                        tokens1.add(k + 5, new COSFloat(((PDFormXObject) xObject).getMatrix().getTranslateY()));\n                        tokens1.add(k + 6, Operator.getOperator(&quot;cm&quot;));\n                        tokens1.add(k+7, Operator.getOperator(&quot;Q&quot;));\n                        ind =k+7;\n                    }else{\n                        tokens1.add(k, Operator.getOperator(&quot;Q&quot;));\n                        ind =k;\n                    }\n                    break;\n                }\n            }\n\n            for (int k=0; k&lt; tokens3.size(); k++) {\n                if ( (tokens3.size() &gt; k+1) &amp;&amp; (tokens3.get(k+1) instanceof Operator) &amp;&amp; (((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;Do&quot;)\n                        || ((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;gs&quot;)\n                        || ((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;cs&quot;)\n                        || ((Operator)tokens3.get(k+1)).getName().toString().equals(&quot;CS&quot;)) ) {\n                    COSName new_name = COSName.getPDFName( ((COSName) tokens3.get(k)).getName() );\n                    tokens1.add(ind+k, new_name );\n                }else if ( (tokens3.size() &gt; k+2) &amp;&amp; (tokens3.get(k+2) instanceof Operator)\n                        &amp;&amp; ((Operator)tokens3.get(k+2)).getName().toString().equals(&quot;Tf&quot;) ) {\n                    COSName new_name = COSName.getPDFName( ((COSName) tokens3.get(k)).getName() );\n                    tokens1.add(ind+k, new_name );\n                }\n                else\n                    tokens1.add(ind+k,tokens3.get(k));\n            }\n\n\n            img_count +=1;\n        }else {\n            imgdict.setItem(xObjectName, xObject);\n            img_count +=1;\n        }\n    }else\n        imgdict.setItem(xObjectName, xObject);\n}\nfor (COSName fontName :new_resources.getFontNames() )\n{\n    PDFont font =new_resources.getFont(fontName);\n    fntdict.setItem(fontName,font);\n}\nfor (COSName ExtGSName :new_resources.getExtGStateNames() )\n{\n    PDExtendedGraphicsState extg =new_resources.getExtGState(ExtGSName);\n    extgsdict.setItem(ExtGSName,extg);\n}\nfor (COSName colorname :new_resources.getColorSpaceNames() )\n{\n    PDColorSpace color =new_resources.getColorSpace(colorname);\n    colordict.setItem(colorname,color);\n}\nfor (COSName patern :new_resources.getPatternNames() )\n{\n    PDAbstractPattern pat =new_resources.getPattern(patern);\n    pattern.setItem(patern,pat);\n}\n\nresources.getCOSObject().setItem(COSName.EXT_G_STATE,extgsdict);\nresources.getCOSObject().setItem(COSName.FONT,fntdict);\nresources.getCOSObject().setItem(COSName.XOBJECT,imgdict);\nresources.getCOSObject().setItem(COSName.COLORSPACE, colordict);\nresources.getCOSObject().setItem(COSName.PATTERN, pattern);\n\nwriter.writeTokens(tokens1);\nout.close();\ndocument.getPage(pg_ind).setContents(newContents);\ndocument.getPage(pg_ind).setResources(resources);\nreturn document;\n}\n\nprivate static JSONObject getTokens(PDDocument oldDocument, Integer pageIndex) throws IOException {\n    // TODO Auto- it will return the tokens of pdf\n    JSONObject oldDocumentTokens = new JSONObject();\n    PDPage pg = oldDocument.getPage(pageIndex);\n    PDFStreamParser parser = new PDFStreamParser(pg);\n    parser.parse();\n    List&lt;Object&gt; tokens = PDFUtils.removeTokens(parser.getTokens());\n    oldDocumentTokens.put(pageIndex, tokens);\n    return oldDocumentTokens;\n}\n\nprivate static boolean isTextContains(List&lt;Object&gt; tokens3) {\n    for (int k=0; k&lt; tokens3.size(); k++) {\n        if (tokens3.get(k) instanceof Operator) {\n            Operator op = (Operator) tokens3.get(k);\n            if(op.getName().equals(&quot;BT&quot;))\n                return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>But I am unable to get Exact Page graphics. I am losing something.</p>\n<p><a href=\"https://drive.google.com/file/d/1lT4pwGAk4I6vaekTHhWnx_hngcKCm0DK/view?usp=sharing\" rel=\"nofollow noreferrer\">input pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1RikX4E5WRN6fq_0Cv4PBYaMabJuHONq9/view?usp=sharing\" rel=\"nofollow noreferrer\">output pdf</a></p>\n"},{"tags":["java","arrays"],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1658547589,"answer_count":0,"score":2,"last_activity_date":1658540343,"creation_date":1658540343,"question_id":73087464,"body_markdown":"What is the fast method for converting `List&lt;Integer&gt;` to `int[]` array, rather than using `mapToInt()`\r\n\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\nlist.stream().mapToInt(i-&gt;i.intValue()).toArray();\r\n```","title":"Fast method to convert List of Integers to int Array in Java","body":"<p>What is the fast method for converting <code>List&lt;Integer&gt;</code> to <code>int[]</code> array, rather than using <code>mapToInt()</code></p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\nlist.stream().mapToInt(i-&gt;i.intValue()).toArray();\n</code></pre>\n"},{"tags":["java","android","android-studio","android-alertdialog","multichoiceitems"],"answers":[{"tags":[],"owner":{"account_id":6959314,"reputation":1675,"user_id":8835675,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591358022,"creation_date":1591358022,"answer_id":62214760,"question_id":62214150,"body_markdown":"Check [this][1] SO answer.\r\n\r\nUse `loadArray` to retrieve the data initially in `final boolean[] checkedgps`\r\nAnd `storeArray` to save the data when pressed in `public void onClick(...)`\r\n\r\n  [1]: https://stackoverflow.com/a/27160086/8835675","title":"how can i save the multichoice state in an alertdialog?","body":"<p>Check <a href=\"https://stackoverflow.com/a/27160086/8835675\">this</a> SO answer.</p>\n\n<p>Use <code>loadArray</code> to retrieve the data initially in <code>final boolean[] checkedgps</code>\nAnd <code>storeArray</code> to save the data when pressed in <code>public void onClick(...)</code></p>\n"},{"tags":[],"owner":{"account_id":13606200,"reputation":637,"user_id":9815277,"display_name":"devio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658539537,"creation_date":1658539537,"answer_id":73087419,"question_id":62214150,"body_markdown":"save the multichoice state in an alertdialog using sharedpreferences\r\ncheck [SharedPreferences][1] on Android docs.\r\nand it&#39;s better to use `MaterialAlertDialogBuilder` \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/SharedPreferences","title":"how can i save the multichoice state in an alertdialog?","body":"<p>save the multichoice state in an alertdialog using sharedpreferences\ncheck <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">SharedPreferences</a> on Android docs.\nand it's better to use <code>MaterialAlertDialogBuilder</code></p>\n"}],"owner":{"account_id":18647127,"reputation":71,"user_id":13591497,"display_name":"Paulo Roberto Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658539537,"creation_date":1591356026,"question_id":62214150,"body_markdown":"I have a code where I created a method to display a dialog box with the option of multi-choice but when checking and clicking the OK button the status is not saved how can I do this? I saw something with sharedpreferences but I&#39;m not able to implement it in my code could someone help me?\r\n\r\n\r\n     public View onCreateView(final LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n\r\n        final View view =   inflater.inflate(R.layout.fragment_inseticida, container, false);\r\n\r\n\r\n        gps = view.findViewById(R.id.imageButton);\r\n            gps.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    showAlertDialog();\r\n                }\r\n            });\r\n\r\n \r\n\r\n    private void showAlertDialog (){\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            builder.setTitle(&quot;Habilitar GPS&quot;);\r\n\r\n            String[] Gps = new String[]{\r\n                &quot;Habilitar GPS&quot;,\r\n\r\n            };\r\n\r\n            // Boolean array for initial selected items\r\n            final boolean[] checkedgps = new boolean[]{\r\n                true, // GPS\r\n\r\n            };\r\n\r\n            // Convert the color array to list\r\n            final List&lt;String&gt; gpsList = Arrays.asList(Gps);\r\n\r\n            builder.setMultiChoiceItems(Gps, checkedgps, new DialogInterface.OnMultiChoiceClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i, boolean b) {\r\n\r\n\r\n                    checkedgps[i] = b;\r\n\r\n                    String CurrentItem  = gpsList.get(i);\r\n\r\n                    Toast.makeText(getActivity(),CurrentItem +  &quot; &quot; + b,Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n                }\r\n            });\r\n            builder.setCancelable(false);\r\n\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                }\r\n            });\r\n\r\n            AlertDialog dialog = builder.create();\r\n            // Display the alert dialog on interface\r\n            dialog.show();\r\n}","title":"how can i save the multichoice state in an alertdialog?","body":"<p>I have a code where I created a method to display a dialog box with the option of multi-choice but when checking and clicking the OK button the status is not saved how can I do this? I saw something with sharedpreferences but I'm not able to implement it in my code could someone help me?</p>\n\n<pre><code> public View onCreateView(final LayoutInflater inflater, @Nullable ViewGroup container,\n                         @Nullable Bundle savedInstanceState) {\n\n    final View view =   inflater.inflate(R.layout.fragment_inseticida, container, false);\n\n\n    gps = view.findViewById(R.id.imageButton);\n        gps.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showAlertDialog();\n            }\n        });\n\n\n\nprivate void showAlertDialog (){\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setTitle(\"Habilitar GPS\");\n\n        String[] Gps = new String[]{\n            \"Habilitar GPS\",\n\n        };\n\n        // Boolean array for initial selected items\n        final boolean[] checkedgps = new boolean[]{\n            true, // GPS\n\n        };\n\n        // Convert the color array to list\n        final List&lt;String&gt; gpsList = Arrays.asList(Gps);\n\n        builder.setMultiChoiceItems(Gps, checkedgps, new DialogInterface.OnMultiChoiceClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i, boolean b) {\n\n\n                checkedgps[i] = b;\n\n                String CurrentItem  = gpsList.get(i);\n\n                Toast.makeText(getActivity(),CurrentItem +  \" \" + b,Toast.LENGTH_SHORT).show();\n\n\n\n            }\n        });\n        builder.setCancelable(false);\n\n        builder.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialogInterface, int i) {\n\n            }\n        });\n\n        AlertDialog dialog = builder.create();\n        // Display the alert dialog on interface\n        dialog.show();\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","intellij-idea","javafx"],"answers":[{"tags":[],"owner":{"account_id":6698505,"reputation":723,"user_id":5165833,"display_name":"arxakoulini"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1532107221,"creation_date":1516700528,"answer_id":48398496,"question_id":48398218,"body_markdown":"You have not set a resources folder in your project structure in order the `getResourse` method to work.\r\n\r\nSince you don&#39;t have the common Java structure, try providing the full path instead:\r\n\r\n    FXMLLoader loader = new FXMLLoader(new File(&quot;fullpath&quot;).toURI().toURL());\r\n    Parent root = loader.load();\r\n\r\nAnd if you want your code to work, you should be having a structure like the following, where `main.fxml` is inside resources directory: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O90T4.png\r\n\r\nYou can set a folder as &quot;Resources folder&quot; here: **Project Structure-&gt;Modules-&gt;Sources**","title":"JavaFX InvocationTargetException","body":"<p>You have not set a resources folder in your project structure in order the <code>getResourse</code> method to work.</p>\n\n<p>Since you don't have the common Java structure, try providing the full path instead:</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader(new File(\"fullpath\").toURI().toURL());\nParent root = loader.load();\n</code></pre>\n\n<p>And if you want your code to work, you should be having a structure like the following, where <code>main.fxml</code> is inside resources directory: </p>\n\n<p><a href=\"https://i.stack.imgur.com/O90T4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O90T4.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can set a folder as \"Resources folder\" here: <strong>Project Structure->Modules->Sources</strong></p>\n"},{"tags":[],"owner":{"account_id":25824681,"reputation":9,"user_id":19563094,"display_name":"Szef"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658538496,"creation_date":1657994502,"answer_id":73006543,"question_id":48398218,"body_markdown":"As @user2037559 said in comment you can load it like: \r\n\r\n    FXMLLoader.load(getClass().getResource(&quot;/your-fxml-file.fxml&quot;));\r\n\r\nor loaded directly\r\n\r\n    Scene scene = new Scene(FXMLLoader.load(getClass().getResource(&quot;/your-fxml-file.fxml&quot;)), 320, 240);","title":"JavaFX InvocationTargetException","body":"<p>As @user2037559 said in comment you can load it like:</p>\n<pre><code>FXMLLoader.load(getClass().getResource(&quot;/your-fxml-file.fxml&quot;));\n</code></pre>\n<p>or loaded directly</p>\n<pre><code>Scene scene = new Scene(FXMLLoader.load(getClass().getResource(&quot;/your-fxml-file.fxml&quot;)), 320, 240);\n</code></pre>\n"}],"owner":{"account_id":2322115,"reputation":79,"user_id":2037559,"accept_rate":57,"display_name":"user2037559"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61579,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1658006921,"accepted_answer_id":48398496,"answer_count":2,"score":3,"last_activity_date":1658538496,"creation_date":1516699686,"question_id":48398218,"body_markdown":"I have the code:\r\n\r\n    package core;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class Main extends Application {\r\n\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;main.fxml&quot;));\r\n            primaryStage.setTitle(&quot;Hello World&quot;);\r\n            primaryStage.setScene(new Scene(root, 300, 275));\r\n            primaryStage.show();\r\n        }\r\n\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nThis is my project structure: https://i.stack.imgur.com/g8zzb.jpg\r\n\r\nAnd here is my error message:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-9\\bin\\java&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2017.2.5\\lib\\idea_rt.jar=54416:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2017.2.5\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\nikoe\\OneDrive\\Arbeit\\MysteryShopper\\Java\\out\\production\\classes;C:\\Users\\nikoe\\.gradle\\caches\\modules-2\\files-2.1\\org.xerial\\sqlite-jdbc\\3.21.0.1\\81a0bcda2f100dc91dc402554f60ed2f696cded5\\sqlite-jdbc-3.21.0.1.jar core.Main\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\t    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:473)\r\n\t    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:372)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\t    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:945)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n\t    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:973)\r\n\t    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\r\n\t    at java.base/java.lang.Thread.run(Thread.java:844)\r\n    Caused by: java.lang.NullPointerException: Location is required.\r\n\t    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3246)\r\n\t    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3210)\r\n\t    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3179)\r\n\t    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3152)\r\n\t    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3129)\r\n\t    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3122)\r\n\t    at core.Main.start(Main.java:14)\r\n\t    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\r\n\t    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\r\n\t    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\r\n\t    at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\t    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\r\n\t    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\t    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\t    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:189)\r\n\t... 1 more\r\n    Exception running application core.Main\r\n\r\n    Process finished with exit code 1\r\n\r\nIt is weird, because it worked before I added Gradle to the project. After adding Gradle I had to remark &quot;src&quot; as &quot;Sources Root&quot;.\r\n\r\nThis structure is the basic structure that IntelliJ generates for JavaFX projects.\r\n\r\nAny ideas? ","title":"JavaFX InvocationTargetException","body":"<p>I have the code:</p>\n\n<pre><code>package core;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(\"main.fxml\"));\n        primaryStage.setTitle(\"Hello World\");\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>This is my project structure: <a href=\"https://i.stack.imgur.com/g8zzb.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/g8zzb.jpg</a></p>\n\n<p>And here is my error message:</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-9\\bin\\java\" \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2017.2.5\\lib\\idea_rt.jar=54416:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2017.2.5\\bin\" -Dfile.encoding=UTF-8 -classpath C:\\Users\\nikoe\\OneDrive\\Arbeit\\MysteryShopper\\Java\\out\\production\\classes;C:\\Users\\nikoe\\.gradle\\caches\\modules-2\\files-2.1\\org.xerial\\sqlite-jdbc\\3.21.0.1\\81a0bcda2f100dc91dc402554f60ed2f696cded5\\sqlite-jdbc-3.21.0.1.jar core.Main\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:473)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:372)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:945)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:973)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\n    at java.base/java.lang.Thread.run(Thread.java:844)\nCaused by: java.lang.NullPointerException: Location is required.\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3246)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3210)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3179)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3152)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3129)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3122)\n    at core.Main.start(Main.java:14)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:189)\n... 1 more\nException running application core.Main\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>It is weird, because it worked before I added Gradle to the project. After adding Gradle I had to remark \"src\" as \"Sources Root\".</p>\n\n<p>This structure is the basic structure that IntelliJ generates for JavaFX projects.</p>\n\n<p>Any ideas? </p>\n"},{"tags":["java","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658540314,"post_id":73087084,"comment_id":129083850,"body_markdown":"There&#39;s too many questions here. I understand they&#39;re all related, but there&#39;s a handful of distinct questions which means your question is liable to be closed. You need to focus on an individual issue.","body":"There&#39;s too many questions here. I understand they&#39;re all related, but there&#39;s a handful of distinct questions which means your question is liable to be closed. You need to focus on an individual issue."}],"owner":{"account_id":25187720,"reputation":23,"user_id":19028351,"display_name":"GND"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658538181,"creation_date":1658534039,"question_id":73087084,"body_markdown":"I&#39;m using ActiveMQ Artemis version 2.19.1. I went through the documentation of persistence in Artemis - \r\nWith respect to that :\r\n1. When (at what stage) data is stored in journal files?\r\n2. Size of storage used depends on what? the number of records OR something else?\r\n\r\nI have an Artemis implementation with shared storage of 500 GB. With an average message \r\n size of 2-5 KB, my 500 GB storage is getting full with only 60K messages stuck in the queue. Is this expected behavior?\r\n\r\nContradictory to this my installation worked fine when there were 200K messages in the Queue. The only difference was 60K messages mentioned in the previous scenario were completely stuck (i.e. 0 dequeue rate) whereas with the 2nd scenario of 200k messages dequeue rate was slow (i.e. 6 TPS).\r\n\r\nWhen, only with 60K messages my storage of 500 GB was full, Artemis completely stopped accepting new messages I could see below log -\r\n\r\n```\r\n17:25:22,436 WARN  [org.apache.activemq.artemis.core.server] AMQ222210: Free storage space is at 53.5GB of 536.9GB total. Usage rate is 90.0% which is beyond the configured &lt;max-disk-usage&gt;. System will start blocking producers.\r\n\r\n17:25:22,514 WARN  [org.apache.activemq.artemis.core.server] AMQ222038: Starting paging on address &#39;&lt;-----&gt;&#39;; size is currently: 1,857 bytes; max-size-bytes: -1; global-size-bytes: 73,239,446```\r\n   ","title":"When message will be stored in journal storage in Artemis","body":"<p>I'm using ActiveMQ Artemis version 2.19.1. I went through the documentation of persistence in Artemis -\nWith respect to that :</p>\n<ol>\n<li>When (at what stage) data is stored in journal files?</li>\n<li>Size of storage used depends on what? the number of records OR something else?</li>\n</ol>\n<p>I have an Artemis implementation with shared storage of 500 GB. With an average message\nsize of 2-5 KB, my 500 GB storage is getting full with only 60K messages stuck in the queue. Is this expected behavior?</p>\n<p>Contradictory to this my installation worked fine when there were 200K messages in the Queue. The only difference was 60K messages mentioned in the previous scenario were completely stuck (i.e. 0 dequeue rate) whereas with the 2nd scenario of 200k messages dequeue rate was slow (i.e. 6 TPS).</p>\n<p>When, only with 60K messages my storage of 500 GB was full, Artemis completely stopped accepting new messages I could see below log -</p>\n<pre><code>17:25:22,436 WARN  [org.apache.activemq.artemis.core.server] AMQ222210: Free storage space is at 53.5GB of 536.9GB total. Usage rate is 90.0% which is beyond the configured &lt;max-disk-usage&gt;. System will start blocking producers.\n\n17:25:22,514 WARN  [org.apache.activemq.artemis.core.server] AMQ222038: Starting paging on address '&lt;-----&gt;'; size is currently: 1,857 bytes; max-size-bytes: -1; global-size-bytes: 73,239,446```\n   \n</code></pre>\n"},{"tags":["java","android","proguard","scale"],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1598421885,"creation_date":1598421885,"answer_id":63591398,"question_id":63591250,"body_markdown":"As seen in [the `ScaleGestureDetector` source code](https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/view/ScaleGestureDetector.java;l=147):\r\n\r\n```\r\n@UnsupportedAppUsage(maxTargetSdk = Build.VERSION_CODES.P, trackingBug = 123768938)\r\nprivate int mMinSpan;\r\n```\r\n\r\nThe `UnsupportedAppUsage` means that if you have a `targetSdkVersion` greater than 28 (the `Build.VERSION_CODES.P`, you cannot access `mMinSpan` at all, even via reflection as explained by the [Restrictions on non-SDK interfaces][1]. As that page mentions, a `NoSuchFieldException` is expected when trying to access these non-SDK fields.\r\n\r\nOf course, looking again [at the source code][2]:\r\n\r\n```\r\nmMinSpan = viewConfiguration.getScaledMinimumScalingSpan();\r\n```\r\n\r\nAnd [`getScaledMinimumScalingSpan()`][3] **is** part of the public API in API 29 (exactly when you cannot access the field via reflection). Therefore you can run your reflection based code on API 28 or lower and use the public API on API 29 and higher:\r\n\r\n    ViewConfiguration viewConfiguration = ViewConfiguration.get(context);\r\n    in minSpan = viewConfiguration.getScaledMinimumScalingSpan();\r\n\r\n\r\n  [1]: https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces\r\n  [2]: https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/view/ScaleGestureDetector.java;l=204\r\n  [3]: https://developer.android.com/reference/android/view/ViewConfiguration#getScaledMinimumScalingSpan()","title":"NoSuchFieldException in Android ProGuard","body":"<p>As seen in <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/view/ScaleGestureDetector.java;l=147\" rel=\"nofollow noreferrer\">the <code>ScaleGestureDetector</code> source code</a>:</p>\n<pre><code>@UnsupportedAppUsage(maxTargetSdk = Build.VERSION_CODES.P, trackingBug = 123768938)\nprivate int mMinSpan;\n</code></pre>\n<p>The <code>UnsupportedAppUsage</code> means that if you have a <code>targetSdkVersion</code> greater than 28 (the <code>Build.VERSION_CODES.P</code>, you cannot access <code>mMinSpan</code> at all, even via reflection as explained by the <a href=\"https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces\" rel=\"nofollow noreferrer\">Restrictions on non-SDK interfaces</a>. As that page mentions, a <code>NoSuchFieldException</code> is expected when trying to access these non-SDK fields.</p>\n<p>Of course, looking again <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/view/ScaleGestureDetector.java;l=204\" rel=\"nofollow noreferrer\">at the source code</a>:</p>\n<pre><code>mMinSpan = viewConfiguration.getScaledMinimumScalingSpan();\n</code></pre>\n<p>And <a href=\"https://developer.android.com/reference/android/view/ViewConfiguration#getScaledMinimumScalingSpan()\" rel=\"nofollow noreferrer\"><code>getScaledMinimumScalingSpan()</code></a> <strong>is</strong> part of the public API in API 29 (exactly when you cannot access the field via reflection). Therefore you can run your reflection based code on API 28 or lower and use the public API on API 29 and higher:</p>\n<pre><code>ViewConfiguration viewConfiguration = ViewConfiguration.get(context);\nin minSpan = viewConfiguration.getScaledMinimumScalingSpan();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16603394,"reputation":1,"user_id":11998466,"display_name":"Kwok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658536871,"creation_date":1658306623,"answer_id":73048476,"question_id":63591250,"body_markdown":"I copied the `ScaleGestureDetector` class into my project from `compileSdkVersion` 30.\r\n\r\nAt the same time, changed `mMinSpan`:\r\n\r\nFrom:\r\n\r\n    mMinSpan = viewConfiguration.getScaledMinimumScalingSpan();\r\n\r\nTo: \r\n\r\n    mMinSpan = 0;\r\n\r\n\r\n","title":"NoSuchFieldException in Android ProGuard","body":"<p>I copied the <code>ScaleGestureDetector</code> class into my project from <code>compileSdkVersion</code> 30.</p>\n<p>At the same time, changed <code>mMinSpan</code>:</p>\n<p>From:</p>\n<pre><code>mMinSpan = viewConfiguration.getScaledMinimumScalingSpan();\n</code></pre>\n<p>To:</p>\n<pre><code>mMinSpan = 0;\n</code></pre>\n"}],"owner":{"account_id":16513093,"reputation":69,"user_id":11931300,"display_name":"leomessi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63591398,"answer_count":2,"score":0,"last_activity_date":1658536871,"creation_date":1598421133,"question_id":63591250,"body_markdown":"I try to use reflection to get field mMinSapn in android.view.ScaleGestureDetector\r\n\r\n    \r\n        ScaleGestureDetector  sgd = new ScaleGestureDetector(view.getContext(), sl);\r\n        try {\r\n            Field field = sgd.getClass().getDeclaredField(&quot;mMinSpan&quot;);\r\n            field.setAccessible(true);\r\n            field.set(sgd,1);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\nbut it always has NoSuchFieldException, I find that it may be caused by ProGuard.\r\nSo I edit my proguard-rules.pro,add some code:\r\n\r\n    -keepclassmembers class android.view.ScaleGestureDetector {\r\n    private  &lt;fields&gt;;\r\n    }\r\n\r\nor\r\n\r\n    -keepclassmembers class android.view.ScaleGestureDetector {\r\n     private *;\r\n    }\r\nit still has NoSuchFieldException.Something here is not right? Thank you!","title":"NoSuchFieldException in Android ProGuard","body":"<p>I try to use reflection to get field mMinSapn in android.view.ScaleGestureDetector</p>\n<pre><code>    ScaleGestureDetector  sgd = new ScaleGestureDetector(view.getContext(), sl);\n    try {\n        Field field = sgd.getClass().getDeclaredField(&quot;mMinSpan&quot;);\n        field.setAccessible(true);\n        field.set(sgd,1);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>but it always has NoSuchFieldException, I find that it may be caused by ProGuard.\nSo I edit my proguard-rules.pro,add some code:</p>\n<pre><code>-keepclassmembers class android.view.ScaleGestureDetector {\nprivate  &lt;fields&gt;;\n}\n</code></pre>\n<p>or</p>\n<pre><code>-keepclassmembers class android.view.ScaleGestureDetector {\n private *;\n}\n</code></pre>\n<p>it still has NoSuchFieldException.Something here is not right? Thank you!</p>\n"},{"tags":["java","serialization","transient"],"answers":[{"tags":[],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658536661,"creation_date":1658536661,"answer_id":73087257,"question_id":73086649,"body_markdown":"I found a solution: Deep clone in-memory using serialize and deserialize. *(ByteArrayOutputStream -&gt; ObjectOutputStream, then ByteArrayInputStream -&gt; ObjectInputStream)*\r\n\r\nI already use a special class called SavedState to store pointers to only the classes that can be safely serialized and deserialized. *(Thanks stackoverflow for that answer!)*\r\n\r\n 1. Utilize SavedState normally. That is to say populate the fields to be saved with no extra clean-up tasks.\r\n 2. Deep clone the SavedState class using in-memory serialization/deserialization.\r\n 3. null the variables in the deep clone that I don&#39;t need/want.\r\n 4. Write the cloned object to the save file.\r\n\r\nEasy peasy! Since this is a user-invoked and not commonly used function of the app, performance is not an issue at all.","title":"Java serialization - temporarily mark variables as transient","body":"<p>I found a solution: Deep clone in-memory using serialize and deserialize. <em>(ByteArrayOutputStream -&gt; ObjectOutputStream, then ByteArrayInputStream -&gt; ObjectInputStream)</em></p>\n<p>I already use a special class called SavedState to store pointers to only the classes that can be safely serialized and deserialized. <em>(Thanks stackoverflow for that answer!)</em></p>\n<ol>\n<li>Utilize SavedState normally. That is to say populate the fields to be saved with no extra clean-up tasks.</li>\n<li>Deep clone the SavedState class using in-memory serialization/deserialization.</li>\n<li>null the variables in the deep clone that I don't need/want.</li>\n<li>Write the cloned object to the save file.</li>\n</ol>\n<p>Easy peasy! Since this is a user-invoked and not commonly used function of the app, performance is not an issue at all.</p>\n"}],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658536661,"creation_date":1658529108,"question_id":73086649,"body_markdown":"I have serialization working fine for the entire application state for loading/saving. I&#39;ve properly marked fields as transient that can&#39;t or shouldn&#39;t be written to disk.\r\n\r\nNow I want to save a template or schematic of ONE specific class in the application that can be read back later to replace just that ONE class in the app.\r\n\r\nHere&#39;s the annoyance - the smaller template/schematic includes fields that are NOT marked as transient, because they are needed for the entire saved application state. They are not needed for the template/schematic, as their values will be replaced upon loading that specific template/schematic anyway. Due to these extra fields, the saved serialized data balloons from 10K to almost 300k.\r\n\r\nYes, in this day and age of 20TB drives, this doesn&#39;t sound like much of a problem. However, these schematics will be shared with random other people on the internet. They need to be trimmed and cleaned up as much as possible.\r\n\r\nThe number of variables I do want far exceeds the number I don&#39;t want, making it a nightmare to write a custom serialization method.\r\n\r\nWith my limited knowledge, I see only two options here:\r\n\r\n **1.** Write a custom serialization readObject and writeObject.\r\n\r\nI don&#39;t really want to do this because of the sheer number of fields I would be dealing with here.\r\n\r\n **2.** null the fields I don&#39;t want and then restore them after saving.\r\n\r\nI already have to restore these when loading the schematic, since the running application will have updated pointers to classes that were not needed or saved in the schematic.\r\n\r\nI&#39;m hoping someone has dealt with this and has a clever way to do what I&#39;m trying to do.","title":"Java serialization - temporarily mark variables as transient","body":"<p>I have serialization working fine for the entire application state for loading/saving. I've properly marked fields as transient that can't or shouldn't be written to disk.</p>\n<p>Now I want to save a template or schematic of ONE specific class in the application that can be read back later to replace just that ONE class in the app.</p>\n<p>Here's the annoyance - the smaller template/schematic includes fields that are NOT marked as transient, because they are needed for the entire saved application state. They are not needed for the template/schematic, as their values will be replaced upon loading that specific template/schematic anyway. Due to these extra fields, the saved serialized data balloons from 10K to almost 300k.</p>\n<p>Yes, in this day and age of 20TB drives, this doesn't sound like much of a problem. However, these schematics will be shared with random other people on the internet. They need to be trimmed and cleaned up as much as possible.</p>\n<p>The number of variables I do want far exceeds the number I don't want, making it a nightmare to write a custom serialization method.</p>\n<p>With my limited knowledge, I see only two options here:</p>\n<p><strong>1.</strong> Write a custom serialization readObject and writeObject.</p>\n<p>I don't really want to do this because of the sheer number of fields I would be dealing with here.</p>\n<p><strong>2.</strong> null the fields I don't want and then restore them after saving.</p>\n<p>I already have to restore these when loading the schematic, since the running application will have updated pointers to classes that were not needed or saved in the schematic.</p>\n<p>I'm hoping someone has dealt with this and has a clever way to do what I'm trying to do.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":1116602,"reputation":1845,"user_id":1105793,"accept_rate":84,"display_name":"Milan"},"score":1,"creation_date":1446083678,"post_id":33404552,"comment_id":54600801,"body_markdown":"Go to Run -&gt; Edit Configuration -&gt; Gradle -&gt; + Gradle -&gt; Tasks:build, Script parameters: --info --debug -&gt; Apply -&gt; Run with new configurations -&gt; Now you will be able to the details. Paste that logs in here.","body":"Go to Run -&gt; Edit Configuration -&gt; Gradle -&gt; + Gradle -&gt; Tasks:build, Script parameters: --info --debug -&gt; Apply -&gt; Run with new configurations -&gt; Now you will be able to the details. Paste that logs in here."},{"owner":{"account_id":2352429,"reputation":937,"user_id":2060951,"accept_rate":43,"display_name":"MrTimotheos"},"score":0,"creation_date":1446084141,"post_id":33404552,"comment_id":54600897,"body_markdown":"Is this under default?","body":"Is this under default?"},{"owner":{"account_id":13210072,"reputation":522,"user_id":9540608,"display_name":"Leslie"},"score":0,"creation_date":1522138467,"post_id":33404552,"comment_id":87389064,"body_markdown":"Go to File &gt; Project Structure. Select builds tools version from unrecognised value.","body":"Go to File &gt; Project Structure. Select builds tools version from unrecognised value."},{"owner":{"account_id":342351,"reputation":1344,"user_id":3187366,"accept_rate":54,"display_name":"issamux"},"score":0,"creation_date":1522317753,"post_id":33404552,"comment_id":86113516,"body_markdown":"I solved this error due a bad import in project ... in Terminal type /gradlew assemble{Your Buile Type} --scan ... and it will output error in console.","body":"I solved this error due a bad import in project ... in Terminal type /gradlew assemble{Your Buile Type} --scan ... and it will output error in console."},{"owner":{"account_id":3446365,"reputation":493,"user_id":2887103,"accept_rate":60,"display_name":"bharv14"},"score":0,"creation_date":1525309187,"post_id":33404552,"comment_id":87389057,"body_markdown":"I accidentally typed `&#171;` somewhere in my codebase and it caused this issue.","body":"I accidentally typed <code>&#171;</code> somewhere in my codebase and it caused this issue."},{"owner":{"account_id":4688590,"reputation":43,"user_id":3795355,"display_name":"pmat"},"score":0,"creation_date":1525445095,"post_id":33404552,"comment_id":87389062,"body_markdown":"This is very late but in hope it will help someone in the future. The way I solved this issue was removing duplicate react packages in app/build.gradle It seems like every time I run react-native link, packages are copied again.","body":"This is very late but in hope it will help someone in the future. The way I solved this issue was removing duplicate react packages in app/build.gradle It seems like every time I run react-native link, packages are copied again."}],"answers":[{"tags":[],"owner":{"account_id":7008034,"reputation":8266,"user_id":5371821,"accept_rate":79,"display_name":"starkshang"},"down_vote_count":4,"up_vote_count":85,"is_accepted":true,"score":81,"last_activity_date":1543828479,"creation_date":1446083709,"answer_id":33404698,"question_id":33404552,"body_markdown":"Try to upgrade your `buildToolsVersion` to &quot;23.0.1&quot;, like this:\r\n\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.1&quot;\r\nIf you didn&#39;t install the buildTools for this version, please download it with SDKManager as hint.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Try to upgrade your <code>buildToolsVersion</code> to \"23.0.1\", like this:</p>\n\n<pre><code>compileSdkVersion 23\nbuildToolsVersion \"23.0.1\"\n</code></pre>\n\n<p>If you didn't install the buildTools for this version, please download it with SDKManager as hint.</p>\n"},{"tags":[],"owner":{"account_id":4848222,"reputation":1062,"user_id":3911274,"display_name":"Yuchao Zhou"},"down_vote_count":4,"up_vote_count":50,"is_accepted":false,"score":46,"last_activity_date":1515306623,"creation_date":1453313867,"answer_id":34907545,"question_id":33404552,"body_markdown":"This is because your $JAVA_HOME is not set. If you are using a Mac:\r\n\r\n`export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home&quot;`\r\nin .bash_profile","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>This is because your $JAVA_HOME is not set. If you are using a Mac:</p>\n\n<p><code>export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home\"</code>\nin .bash_profile</p>\n"},{"tags":[],"owner":{"account_id":7657379,"reputation":561,"user_id":5803730,"display_name":"S.M.Fazle Rabbi"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1658536265,"creation_date":1464861541,"answer_id":37588570,"question_id":33404552,"body_markdown":"I&#39;ve tried both of the provided answers. But none of them worked.\r\n\r\n*I think the solution is the following:*\r\n\r\nIn your project, *go to* `Gradle Scripts` &gt;&gt; `build.gradle (Module:app)` then remove the lines below (if they present)   \r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_7\r\n        targetCompatibility JavaVersion.VERSION_1_6\r\n    }\r\n\r\nAfter removing it `clean` the project, then `run` it again.\r\n\r\nNo need to set `JAVA_HOME`, nor change the version.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I've tried both of the provided answers. But none of them worked.</p>\n<p><em>I think the solution is the following:</em></p>\n<p>In your project, <em>go to</em> <code>Gradle Scripts</code> &gt;&gt; <code>build.gradle (Module:app)</code> then remove the lines below (if they present)</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_7\n    targetCompatibility JavaVersion.VERSION_1_6\n}\n</code></pre>\n<p>After removing it <code>clean</code> the project, then <code>run</code> it again.</p>\n<p>No need to set <code>JAVA_HOME</code>, nor change the version.</p>\n"},{"tags":[],"owner":{"account_id":300068,"reputation":2069,"user_id":1211920,"accept_rate":56,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1466247297,"creation_date":1466247297,"answer_id":37896157,"question_id":33404552,"body_markdown":"Set JDK location in project settings\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dAbCd.png","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Set JDK location in project settings\n<a href=\"https://i.stack.imgur.com/dAbCd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dAbCd.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8285692,"reputation":21,"user_id":6228860,"display_name":"carryoner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467609625,"creation_date":1467609625,"answer_id":38177410,"question_id":33404552,"body_markdown":"Please check your app&#39;s build.gradle.\r\nI had the same problem, finally I found the problem was in my build.gradle file dependencies{}, it add extra .jar file which actually didn&#39;t exist in my project as dependency. So I delete this dependency, and the problem has gone.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Please check your app's build.gradle.\nI had the same problem, finally I found the problem was in my build.gradle file dependencies{}, it add extra .jar file which actually didn't exist in my project as dependency. So I delete this dependency, and the problem has gone.</p>\n"},{"tags":[],"owner":{"account_id":5976943,"reputation":514,"user_id":6588772,"display_name":"Charan Reddy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1543828796,"creation_date":1468489862,"answer_id":38370978,"question_id":33404552,"body_markdown":"In Android Studio open:\r\n`File &gt; Project Structure` and check if JDK location points to your JDK 1.8 directory.\r\n\r\nNote: you can use `compileSdkVersion 24`.\r\nIt works trust me. For this to work first download latest JDK from Oracle.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>In Android Studio open:\n<code>File &gt; Project Structure</code> and check if JDK location points to your JDK 1.8 directory.</p>\n\n<p>Note: you can use <code>compileSdkVersion 24</code>.\nIt works trust me. For this to work first download latest JDK from Oracle.</p>\n"},{"tags":[],"owner":{"account_id":3600876,"reputation":390,"user_id":3004209,"accept_rate":25,"display_name":"AMIT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470804605,"creation_date":1470804605,"answer_id":38864485,"question_id":33404552,"body_markdown":"in build file change **compile files(&#39;AF-Android-SDK.jar&#39;)** to **compile files(&#39;libs/AF-Android-SDK.jar&#39;)** it will work","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>in build file change <strong>compile files('AF-Android-SDK.jar')</strong> to <strong>compile files('libs/AF-Android-SDK.jar')</strong> it will work</p>\n"},{"tags":[],"owner":{"account_id":3306574,"reputation":337,"user_id":2781204,"accept_rate":57,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472814986,"creation_date":1472814986,"answer_id":39291047,"question_id":33404552,"body_markdown":"I got this issue **solved**. \r\n\r\nI was trying to compile this project  &quot;Waveform Android&quot; - https://github.com/Semantive/waveform-android\r\n\r\nand got I this error.\r\n\r\nI am using Android studio on Ubuntu 14.04LTS.\r\n\r\nI have JAVA 8 Installed. \r\n\r\nin my gradle build script file there was some statements as below.\r\n\r\n    retrolambda {\r\n        jdk System.getenv(&quot;JAVA8_HOME&quot;)\r\n        oldJdk System.getenv(&quot;JAVA7_HOME&quot;)\r\n        javaVersion JavaVersion.VERSION_1_7\r\n    }\r\n\r\nI changed the **&quot;JAVA8_HOME&quot; to &quot;JAVA_HOME&quot;** because in my environment variables the java home directory is set as JAVA_HOME not as JAVA8_HOME and then It built succesfully.\r\n\r\nafter changing the build script.\r\n\r\n\r\n    retrolambda {\r\n        jdk System.getenv(&quot;JAVA_HOME&quot;)\r\n        oldJdk System.getenv(&quot;JAVA7_HOME&quot;)\r\n        javaVersion JavaVersion.VERSION_1_7\r\n    }\r\n\r\nOr the other way you can create a new environment variable named **JAVA8_HOME** pointing to the right JDK location, but I have not tried that though because I dont want environment variables for each JDK version.\r\n\r\n","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I got this issue <strong>solved</strong>. </p>\n\n<p>I was trying to compile this project  \"Waveform Android\" - <a href=\"https://github.com/Semantive/waveform-android\" rel=\"nofollow\">https://github.com/Semantive/waveform-android</a></p>\n\n<p>and got I this error.</p>\n\n<p>I am using Android studio on Ubuntu 14.04LTS.</p>\n\n<p>I have JAVA 8 Installed. </p>\n\n<p>in my gradle build script file there was some statements as below.</p>\n\n<pre><code>retrolambda {\n    jdk System.getenv(\"JAVA8_HOME\")\n    oldJdk System.getenv(\"JAVA7_HOME\")\n    javaVersion JavaVersion.VERSION_1_7\n}\n</code></pre>\n\n<p>I changed the <strong>\"JAVA8_HOME\" to \"JAVA_HOME\"</strong> because in my environment variables the java home directory is set as JAVA_HOME not as JAVA8_HOME and then It built succesfully.</p>\n\n<p>after changing the build script.</p>\n\n<pre><code>retrolambda {\n    jdk System.getenv(\"JAVA_HOME\")\n    oldJdk System.getenv(\"JAVA7_HOME\")\n    javaVersion JavaVersion.VERSION_1_7\n}\n</code></pre>\n\n<p>Or the other way you can create a new environment variable named <strong>JAVA8_HOME</strong> pointing to the right JDK location, but I have not tried that though because I dont want environment variables for each JDK version.</p>\n"},{"tags":[],"owner":{"account_id":9163047,"reputation":1,"user_id":6813755,"display_name":"user6813755"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473427603,"creation_date":1473427603,"answer_id":39412663,"question_id":33404552,"body_markdown":"I had this same issue. I was working with a team of developers using a Mac and everybody else on the team was running Windows. However we were using the Anroid Studio 2.2-beta with jdk 1.8. If you are on a mac and come across this issue, here is how to solve it. DONT USE Android Studio 2.2-beta. I spent hours trying to debug this error in 2.2-beta. ***I solved it by simply changing to Android Studio 2.1.3***. Our app ran instantly after changing the Android Studio version. Also on Android Studio&#39;s website before you download it warns mac users about running jdk 1.8 on 2.2 beta. Guess I should have read the fine print haha","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I had this same issue. I was working with a team of developers using a Mac and everybody else on the team was running Windows. However we were using the Anroid Studio 2.2-beta with jdk 1.8. If you are on a mac and come across this issue, here is how to solve it. DONT USE Android Studio 2.2-beta. I spent hours trying to debug this error in 2.2-beta. <strong><em>I solved it by simply changing to Android Studio 2.1.3</em></strong>. Our app ran instantly after changing the Android Studio version. Also on Android Studio's website before you download it warns mac users about running jdk 1.8 on 2.2 beta. Guess I should have read the fine print haha</p>\n"},{"tags":[],"owner":{"account_id":460090,"reputation":11569,"user_id":860967,"accept_rate":74,"display_name":"Zhang"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1494075489,"creation_date":1474982661,"answer_id":39725858,"question_id":33404552,"body_markdown":"Update (06/05/2017)\r\n----------------------\r\n\r\nI wanted to use **Realm** for Android and that required **Retrolambda**. Problem is Retrolambda conflicts with Jack.\r\n\r\nSo I removed my Jack options config from my gradle shown in original answer below and made the following changes:\r\n\r\n    // ---------------------------------------------\r\n    // Project build.gradle file\r\n    // ---------------------------------------------\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.3.1&#39;\r\n            classpath &#39;me.tatarka:gradle-retrolambda:3.6.1&#39;\r\n            classpath &quot;io.realm:realm-gradle-plugin:3.1.4&quot;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    // ---------------------------------------------\r\n    // Module build.gradle file\r\n    // ---------------------------------------------\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;me.tatarka.retrolambda&#39;\r\n    apply plugin: &#39;realm-android&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.2&quot;\r\n        ...\r\n\r\n    \r\nTools.jar\r\n--------------\r\n\r\nIf you made those changes above and you still get the following error:\r\n\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    com.sun.tools.javac.util.Context.put(Ljava/lang/Class;Ljava/lang/Object;)V\r\n\r\nTry removing the following file:\r\n\r\n    /Library/Java/Extensions/tools.jar \r\n\r\nThen:\r\n\r\n1. Quit emulator\r\n2. Quit Android Studio\r\n3. Reopen Android Studio\r\n4. Build &gt; Clean Project\r\n5. Run/debug your app onto your device/emulator again\r\n\r\nAll the changes fixed it for me.\r\n\r\nNote: \r\n\r\nI am not sure what tools.jar does or whether it&#39;s important. Like other uses in this Stackoverflow question:\r\n\r\nhttps://stackoverflow.com/questions/31676045/cant-build-java-project-on-osx-yosemite\r\n\r\nWe were unfortunate enough to have to use AUSKey (some ancient dinosaur Java authentication key system used by Australian Government to authenticate our computer before we can log into Australian business portal website).\r\n\r\nMy speculation is `tools.jar` might have been a JAR file for/by AUSKey.\r\n\r\nIf you&#39;re worried, instead of deleting this file, you can make a backup of the whole folder and save it somewhere just in case you can&#39;t login to Australian Business Portal again.\r\n\r\nHope that helps :D\r\n\r\n\r\nOriginal Answer\r\n----------------------\r\n\r\nI came across this problem today (27/06/2016).\r\n\r\nI downloaded Android Studio 2.2 and updated JDK to 1.8.\r\n\r\nIn addition to the above answers of pointing to the correct JDK path, I had to additionally specify the JDK version in my `build.gradle(Module: app)` file:\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\nThe resulting file looks like this:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.mycompany.appname&quot;\r\n            minSdkVersion 17\r\n            targetSdkVersion 24\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n\r\n            jackOptions {\r\n                enabled true\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\nPlease also notice if you came across an error about `Java 8 language features requires Jack enabled`, you need to add the following to your gradle file (as shown above):\r\n\r\n    jackOptions {\r\n        enabled true\r\n    }\r\n\r\nAfter doing that, I finally got my new project app running on my phone.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<h2>Update (06/05/2017)</h2>\n\n<p>I wanted to use <strong>Realm</strong> for Android and that required <strong>Retrolambda</strong>. Problem is Retrolambda conflicts with Jack.</p>\n\n<p>So I removed my Jack options config from my gradle shown in original answer below and made the following changes:</p>\n\n<pre><code>// ---------------------------------------------\n// Project build.gradle file\n// ---------------------------------------------\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.1'\n        classpath 'me.tatarka:gradle-retrolambda:3.6.1'\n        classpath \"io.realm:realm-gradle-plugin:3.1.4\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>// ---------------------------------------------\n// Module build.gradle file\n// ---------------------------------------------\napply plugin: 'com.android.application'\napply plugin: 'me.tatarka.retrolambda'\napply plugin: 'realm-android'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    ...\n</code></pre>\n\n<h2>Tools.jar</h2>\n\n<p>If you made those changes above and you still get the following error:</p>\n\n<pre><code>Execution failed for task ':app:compileDebugJavaWithJavac'.\ncom.sun.tools.javac.util.Context.put(Ljava/lang/Class;Ljava/lang/Object;)V\n</code></pre>\n\n<p>Try removing the following file:</p>\n\n<pre><code>/Library/Java/Extensions/tools.jar \n</code></pre>\n\n<p>Then:</p>\n\n<ol>\n<li>Quit emulator</li>\n<li>Quit Android Studio</li>\n<li>Reopen Android Studio</li>\n<li>Build > Clean Project</li>\n<li>Run/debug your app onto your device/emulator again</li>\n</ol>\n\n<p>All the changes fixed it for me.</p>\n\n<p>Note: </p>\n\n<p>I am not sure what tools.jar does or whether it's important. Like other uses in this Stackoverflow question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31676045/cant-build-java-project-on-osx-yosemite\">Can&#39;t build Java project on OSX yosemite</a></p>\n\n<p>We were unfortunate enough to have to use AUSKey (some ancient dinosaur Java authentication key system used by Australian Government to authenticate our computer before we can log into Australian business portal website).</p>\n\n<p>My speculation is <code>tools.jar</code> might have been a JAR file for/by AUSKey.</p>\n\n<p>If you're worried, instead of deleting this file, you can make a backup of the whole folder and save it somewhere just in case you can't login to Australian Business Portal again.</p>\n\n<p>Hope that helps :D</p>\n\n<h2>Original Answer</h2>\n\n<p>I came across this problem today (27/06/2016).</p>\n\n<p>I downloaded Android Studio 2.2 and updated JDK to 1.8.</p>\n\n<p>In addition to the above answers of pointing to the correct JDK path, I had to additionally specify the JDK version in my <code>build.gradle(Module: app)</code> file:</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>The resulting file looks like this:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.2\"\n    defaultConfig {\n        applicationId \"com.mycompany.appname\"\n        minSdkVersion 17\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        jackOptions {\n            enabled true\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Please also notice if you came across an error about <code>Java 8 language features requires Jack enabled</code>, you need to add the following to your gradle file (as shown above):</p>\n\n<pre><code>jackOptions {\n    enabled true\n}\n</code></pre>\n\n<p>After doing that, I finally got my new project app running on my phone.</p>\n"},{"tags":[],"owner":{"account_id":9305020,"reputation":21,"user_id":6909086,"display_name":"Yayat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475337072,"creation_date":1475336626,"answer_id":39808500,"question_id":33404552,"body_markdown":"The problem is just in naming folder, if your folder to save your project contains special characters then remove them. If the error persists try to save the folder with no space.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>The problem is just in naming folder, if your folder to save your project contains special characters then remove them. If the error persists try to save the folder with no space.</p>\n"},{"tags":[],"owner":{"account_id":53912,"reputation":6568,"user_id":161222,"accept_rate":72,"display_name":"Radi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1478117005,"creation_date":1478117005,"answer_id":40388779,"question_id":33404552,"body_markdown":"I faced this issue after upgrading the Android studio to version 2.2.2, I solved it by using embedded JDK as recommended :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iVYTZ.jpg","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I faced this issue after upgrading the Android studio to version 2.2.2, I solved it by using embedded JDK as recommended :\n<a href=\"https://i.stack.imgur.com/iVYTZ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iVYTZ.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1609735,"reputation":690,"user_id":1489088,"accept_rate":75,"display_name":"Karim Mortabit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483451003,"creation_date":1478373761,"answer_id":40442256,"question_id":33404552,"body_markdown":"I had this issue on Mac OS Sierra on my way to running a **React Native Android App** for the first time:\r\n\r\n`Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.`\r\n\r\n`&gt; Could not find tools.jar`\r\n\r\nI changed my JAVA HOME environment variable for Java Development Kit (JDK) from:\r\n\r\n`export JAVA_HOME=&#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home&#39;`\r\n\r\nto :\r\n\r\n`export JAVA_HOME=&#39;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home&#39;`\r\n\r\nI figured out where the correct version was after creating a project in Android Studio and looking for the JDK location in the project settings.\r\n\r\n ","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I had this issue on Mac OS Sierra on my way to running a <strong>React Native Android App</strong> for the first time:</p>\n\n<p><code>Execution failed for task ':app:compileDebugJavaWithJavac'.</code></p>\n\n<p><code>&gt; Could not find tools.jar</code></p>\n\n<p>I changed my JAVA HOME environment variable for Java Development Kit (JDK) from:</p>\n\n<p><code>export JAVA_HOME='/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home'</code></p>\n\n<p>to :</p>\n\n<p><code>export JAVA_HOME='/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home'</code></p>\n\n<p>I figured out where the correct version was after creating a project in Android Studio and looking for the JDK location in the project settings.</p>\n"},{"tags":[],"owner":{"account_id":6418332,"reputation":53,"user_id":4975783,"display_name":"Helo&#225;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483669592,"creation_date":1483669592,"answer_id":41497988,"question_id":33404552,"body_markdown":"Just complementing @yuchaozh [answer above](https://stackoverflow.com/a/34907545/4975783) that helped me solve it.\r\n(I don&#39;t have rep to comment)\r\n\r\nRun this to know which java version you have\r\n\r\n    ls /Library/Java/JavaVirtualMachines/\r\n\r\nYou&#39;ll get an output like:\r\n\r\n    jdk1.8.0_111.jdk\r\n\r\nReplace with your Java version and run this command to export the correct path.\r\n\r\n    export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/&lt;YOUR_JAVA_VERSION&gt;/Contents/Home&quot;","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Just complementing @yuchaozh <a href=\"https://stackoverflow.com/a/34907545/4975783\">answer above</a> that helped me solve it.\n(I don't have rep to comment)</p>\n\n<p>Run this to know which java version you have</p>\n\n<pre><code>ls /Library/Java/JavaVirtualMachines/\n</code></pre>\n\n<p>You'll get an output like:</p>\n\n<pre><code>jdk1.8.0_111.jdk\n</code></pre>\n\n<p>Replace with your Java version and run this command to export the correct path.</p>\n\n<pre><code>export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/&lt;YOUR_JAVA_VERSION&gt;/Contents/Home\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2605331,"reputation":101,"user_id":2256597,"display_name":"RK1414"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486630803,"creation_date":1486630803,"answer_id":42132163,"question_id":33404552,"body_markdown":"I encountered the same error.\r\nJAVA_HOME pointing to the correct version of JDK.\r\nAll support libraries and build tools updated.\r\nWas still facing the same issue.\r\n\r\nI am using Android annotations in my project.\r\nI added a new View..and there was already an existing view with the same name in the Java file.\r\nWhen I run the project, instead of indicating the view already exists, I was receiving the above error.\r\n\r\nCheck your java files errors if other solutions does not work.\r\n\r\n","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I encountered the same error.\nJAVA_HOME pointing to the correct version of JDK.\nAll support libraries and build tools updated.\nWas still facing the same issue.</p>\n\n<p>I am using Android annotations in my project.\nI added a new View..and there was already an existing view with the same name in the Java file.\nWhen I run the project, instead of indicating the view already exists, I was receiving the above error.</p>\n\n<p>Check your java files errors if other solutions does not work.</p>\n"},{"tags":[],"owner":{"account_id":4330948,"reputation":1110,"user_id":3536522,"display_name":"YYamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486746936,"creation_date":1486746936,"answer_id":42165078,"question_id":33404552,"body_markdown":"This may happen if you are using Android+Lambdas. Sometimes I can use Lambdas without any issues but in other situations the project won&#39;t compile and gives the exception in the compiler (When I try to pass a Lambda or a method reference to ScheduledExecutorService.scheduleAtFixedRate). \r\n\r\nThere is a discussion in this link (https://bugs.openjdk.java.net/browse/JDK-8169759) where they explain why this happen. In the mean time I&#39;m just using lambdas in my Android project when the compiler allows me.\r\n\r\n","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>This may happen if you are using Android+Lambdas. Sometimes I can use Lambdas without any issues but in other situations the project won't compile and gives the exception in the compiler (When I try to pass a Lambda or a method reference to ScheduledExecutorService.scheduleAtFixedRate). </p>\n\n<p>There is a discussion in this link (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8169759\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8169759</a>) where they explain why this happen. In the mean time I'm just using lambdas in my Android project when the compiler allows me.</p>\n"},{"tags":[],"owner":{"account_id":10326042,"reputation":11,"user_id":7617478,"display_name":"peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487946102,"creation_date":1487946102,"answer_id":42441009,"question_id":33404552,"body_markdown":"Your gradle files might be corrupted. Try running\r\n\r\n`./gradlew --refresh-dependencies`\r\n\r\nin the terminal inside android studio.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Your gradle files might be corrupted. Try running</p>\n\n<p><code>./gradlew --refresh-dependencies</code></p>\n\n<p>in the terminal inside android studio.</p>\n"},{"tags":[],"owner":{"account_id":8941423,"reputation":1,"user_id":6670309,"display_name":"Rainwalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489571379,"creation_date":1489571379,"answer_id":42806165,"question_id":33404552,"body_markdown":"this works for me\r\n\r\n    compileSdkVersion 25\r\n    buildToolsVersion &#39;25.0.0&#39;","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>this works for me</p>\n\n<pre><code>compileSdkVersion 25\nbuildToolsVersion '25.0.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4345650,"reputation":46,"user_id":3547636,"display_name":"Aldo Infanzon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491095592,"creation_date":1491095592,"answer_id":43163647,"question_id":33404552,"body_markdown":"I faced a similar problem, but I had to set manually the jdk folder on program files, so I recommend to everybody specially the ones that are upgrading to java 8, to point directly in the project settings of the android studio, either using the embed option or choosing the folder\r\n","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I faced a similar problem, but I had to set manually the jdk folder on program files, so I recommend to everybody specially the ones that are upgrading to java 8, to point directly in the project settings of the android studio, either using the embed option or choosing the folder</p>\n"},{"tags":[],"owner":{"account_id":9872058,"reputation":21,"user_id":7311303,"display_name":"Virgil Wylie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494515289,"creation_date":1494515289,"answer_id":43919276,"question_id":33404552,"body_markdown":"Changing anything in build.gradle file will re-sync everything again and the error will be gone.For me i changed the minSdkVersion and it worked. Don&#39;t worry this could happen if the system crashed or Android Studio was not shut properly.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Changing anything in build.gradle file will re-sync everything again and the error will be gone.For me i changed the minSdkVersion and it worked. Don't worry this could happen if the system crashed or Android Studio was not shut properly.</p>\n"},{"tags":[],"owner":{"account_id":899779,"reputation":2274,"user_id":955321,"accept_rate":0,"display_name":"Michael Katkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501527584,"creation_date":1501527584,"answer_id":45423416,"question_id":33404552,"body_markdown":"I had this error when I tried to use retrolambda inside my unit tests. I didn&#39;t find a solution how to make retrolambda work with unit tests. So, I use old fashioned anonymous classes instead of lambdas with my unit tests, and it works for me. ","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I had this error when I tried to use retrolambda inside my unit tests. I didn't find a solution how to make retrolambda work with unit tests. So, I use old fashioned anonymous classes instead of lambdas with my unit tests, and it works for me. </p>\n"},{"tags":[],"owner":{"account_id":1617353,"reputation":534,"user_id":1494680,"accept_rate":100,"display_name":"Omer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1520736646,"creation_date":1512199298,"answer_id":47605607,"question_id":33404552,"body_markdown":"Use these settings and it will work fine.\r\n\r\n    android {\r\n         compileSdkVersion 26\r\n         buildToolsVersion &#39;26.0.2&#39;\r\n\r\n      defaultConfig {\r\n        applicationId &quot;com.pm.motivator&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 26\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n     }\r\n    }","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>Use these settings and it will work fine.</p>\n\n<pre><code>android {\n     compileSdkVersion 26\n     buildToolsVersion '26.0.2'\n\n  defaultConfig {\n    applicationId \"com.pm.motivator\"\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8530935,"reputation":4025,"user_id":6394644,"display_name":"Amr Labib"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1518984005,"creation_date":1518981011,"answer_id":48855529,"question_id":33404552,"body_markdown":"If all the above didn&#39;t work for you try removing cache from `.gradle` global folder\r\n\r\n## Try the following\r\n\r\n`rm -rf ~/.gradle/caches`\r\n\r\n`react-native run-android`\r\n\r\n## If didn&#39;t work, the below worked perfectly for me \r\n\r\n`rm -rf ~/.gradle`\r\n\r\n`react-native run-android`","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>If all the above didn't work for you try removing cache from <code>.gradle</code> global folder</p>\n\n<h2>Try the following</h2>\n\n<p><code>rm -rf ~/.gradle/caches</code></p>\n\n<p><code>react-native run-android</code></p>\n\n<h2>If didn't work, the below worked perfectly for me</h2>\n\n<p><code>rm -rf ~/.gradle</code></p>\n\n<p><code>react-native run-android</code></p>\n"},{"tags":[],"owner":{"account_id":10897739,"reputation":63,"user_id":8011086,"display_name":"idiotme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521362327,"creation_date":1521362327,"answer_id":49345976,"question_id":33404552,"body_markdown":"I had the same issue and already tried all of solutions but to no avail.\r\n\r\nIt turned out that using **Java 9 was the problem**. Installing a lower version Java (**jdk 1.8.0_162**) worked for me.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I had the same issue and already tried all of solutions but to no avail.</p>\n\n<p>It turned out that using <strong>Java 9 was the problem</strong>. Installing a lower version Java (<strong>jdk 1.8.0_162</strong>) worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7145763,"reputation":379,"user_id":5461523,"display_name":"Vodyanikov Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522996822,"creation_date":1522994739,"answer_id":49686399,"question_id":33404552,"body_markdown":"In my case, the issue was not resolved by updating butterknife\r\n\r\nfrom: &quot;com.jakewharton:butterknife:8.4.0&quot;\r\nto:  &quot;com.jakewharton:butterknife:8.8.1&quot; \r\n\r\nI&#39;ve tried to @BindView inside Adapter class and no success. As soon I used .findViewById(R.id.message_time), compilation had been completed successfully.\r\n","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>In my case, the issue was not resolved by updating butterknife</p>\n\n<p>from: \"com.jakewharton:butterknife:8.4.0\"\nto:  \"com.jakewharton:butterknife:8.8.1\" </p>\n\n<p>I've tried to @BindView inside Adapter class and no success. As soon I used .findViewById(R.id.message_time), compilation had been completed successfully.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":1,"up_vote_count":133,"is_accepted":false,"score":132,"last_activity_date":1535548128,"creation_date":1524411815,"answer_id":49967761,"question_id":33404552,"body_markdown":"In Android Studio 3.1, you can see the errors details in the Build window.\r\n\r\nOpen up Build tab. They are somewhat hidden, you have to expand the Java compiler node. You will see the errors there.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut there is a better way to see the errors. You can click on the Toggle View button to get a better view of the error. That way you don&#39;t have to expand each node.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p3B5E.png\r\n  [2]: https://i.stack.imgur.com/yPYdK.png","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>In Android Studio 3.1, you can see the errors details in the Build window.</p>\n\n<p>Open up Build tab. They are somewhat hidden, you have to expand the Java compiler node. You will see the errors there.</p>\n\n<p><a href=\"https://i.stack.imgur.com/p3B5E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p3B5E.png\" alt=\"enter image description here\"></a></p>\n\n<p>But there is a better way to see the errors. You can click on the Toggle View button to get a better view of the error. That way you don't have to expand each node.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yPYdK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yPYdK.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2982136,"reputation":7074,"user_id":2531888,"accept_rate":50,"display_name":"ifeegoo"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1558515652,"creation_date":1524801243,"answer_id":50054971,"question_id":33404552,"body_markdown":"This kind of problem really make us anxious because of that no more useful information will be provided.\r\n\r\nI don&#39;t know we are really the same,but I can provide two ways to help us try to solve the problem.\r\n\r\n1.Firstly you can try to clean or restart your Android Studio &amp; your computer.In China,we have a saying between developers.\r\n\r\n***Little problems,just restart.Big problems,should reinstall.***\r\n\r\nThe above saying will help you to solve this kind of problem many times.\r\n\r\n2.Secondly we need to use some gradle command to help you to find more useful details.\r\n\r\nI have met the similar situation as below:\r\n\r\n    org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:139)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:109)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n    \tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.gradle.internal.exceptions.LocationAwareException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    \tat org.gradle.initialization.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:74)\r\n    \tat org.gradle.initialization.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:47)\r\n    \tat org.gradle.initialization.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:137)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:109)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n    \tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n    \tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n    \t... 3 more\r\n    Caused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\r\n    \tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\r\n    \tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\r\n    \tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\r\n    \tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n    \tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n    \tat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\r\n    \tat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\r\n    \tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\r\n    \tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\r\n    \tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\r\n    \tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\r\n    \tat com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n    \tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n    \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n    \t... 29 more\r\n\r\nYou know that the above log is not useful for us to solve this kind of problem.We need to do some gradle command to find more useful information.\r\n\r\nNote:I use macOS(10.13) and Android Studio(3.1)\r\n\r\nGo to your Android project directory to execute the gradle command below:\r\n\r\n&gt; `./gradlew assembleDebug --info`\r\n\r\nNote:If you have permission problems while executing the above command,you can use this to deal with it:\r\n\r\n    chmod +x gradlew\r\n\r\nAnd then I got this(Some unimportant parts are omitted):\r\n\r\n    &gt; Task :app:compileDebugJavaWithJavac FAILED\r\n    Putting task artifact state for task &#39;:app:compileDebugJavaWithJavac&#39; into context took 0.0 secs.\r\n    file or directory &#39;/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/debug/java&#39;, not found\r\n    Up-to-date check for task &#39;:app:compileDebugJavaWithJavac&#39; took 0.009 secs. It is not up-to-date because:\r\n      Task has failed previously.\r\n    All input files are considered out-of-date for incremental task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    Compiling with source level 1.7 and target level 1.7.\r\n    Creating new cache for classAnalysis, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/classAnalysis.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\r\n    Creating new cache for jarAnalysis, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/jarAnalysis.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\r\n    Creating new cache for taskJars, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/taskJars.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\r\n    Creating new cache for taskHistory, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/taskHistory.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\r\n    :app:compileDebugJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\r\n    file or directory &#39;/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/debug/java&#39;, not found\r\n    Compiling with JDK Java compiler API.\r\n    /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/main/java/com/chipsguide/app/colorbluetoothlamp/v2/karmalighting/frags/banner/VideoActivity.java:10: error: package com.android.tedcoder.wkvideoplayer.model does not exist\r\n    import com.android.tedcoder.wkvideoplayer.model.Video;\r\n                                                   ^\r\n    /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/main/java/com/chipsguide/app/colorbluetoothlamp/v2/karmalighting/frags/banner/VideoActivity.java:11: error: package com.android.tedcoder.wkvideoplayer.model does not exist\r\n    import com.android.tedcoder.wkvideoplayer.model.VideoUrl;\r\n                                                   ^\r\n    /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/main/java/com/chipsguide/app/colorbluetoothlamp/v2/karmalighting/frags/banner/VideoActivity.java:12: error: package com.android.tedcoder.wkvideoplayer.view does not exist\r\n    import com.android.tedcoder.wkvideoplayer.view.MediaController;\r\n                                                  ^\r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: Some input files use unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    35 errors\r\n    \r\n    :app:compileDebugJavaWithJavac (Thread[Task worker for &#39;:&#39;,5,main]) completed. Took 0.84 secs.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 2s\r\n    15 actionable tasks: 1 executed, 14 up-to-date \r\n\r\nI have got the most important details information,because of one module imported not properly which makes the class not found.So, I got it and solve the problem.\r\n\r\nSome other gradle command:\r\n\r\n    *clean project\r\n    ./gradlew clean  \r\n    \r\n    *build project\r\n    ./gradlew build\r\n    \r\n    *build for debug package\r\n    ./gradlew assembleDebug or ./gradlew aD\r\n    \r\n    *build for release package\r\n    ./gradlew assembleRelease or ./gradlew aR\r\n    \r\n    *build for release package and install\r\n    ./gradlew installRelease or ./gradlew iR Release\r\n    \r\n    *build for debug package and install\r\n    ./gradlew installDebug or ./gradlew iD Debug\r\n    \r\n    *uninstall release package\r\n    ./gradlew uninstallRelease or ./gradlew uR\r\n    \r\n    *uninstall debug package\r\n    ./gradlew uninstallDebug or ./gradlew uD \r\n    \r\n    *all the above command + &quot;--info&quot; or &quot;--debug&quot; or &quot;--scan&quot; or &quot;--stacktrace&quot; can get more detail information.\r\n\r\n**If you cannot get enough information by --info,please use --debug/--scan/--stacktrace instead.**\r\n\r\n***Remember that the more details will help you to solve the problem the more.***\r\n\r\n&gt;Note:Gradle commands are really powerful,if you want to do more complicated operation,especially about how to deal with debug/release or multi-channels or modules,go to Android Studio to check the Gradle Window,then you will know how to do it!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zfn9l.png\r\n  [2]: https://i.stack.imgur.com/YBez8.png","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>This kind of problem really make us anxious because of that no more useful information will be provided.</p>\n\n<p>I don't know we are really the same,but I can provide two ways to help us try to solve the problem.</p>\n\n<p>1.Firstly you can try to clean or restart your Android Studio &amp; your computer.In China,we have a saying between developers.</p>\n\n<p><strong><em>Little problems,just restart.Big problems,should reinstall.</em></strong></p>\n\n<p>The above saying will help you to solve this kind of problem many times.</p>\n\n<p>2.Secondly we need to use some gradle command to help you to find more useful details.</p>\n\n<p>I have met the similar situation as below:</p>\n\n<pre><code>org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:139)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:109)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.internal.exceptions.LocationAwareException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.initialization.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:74)\n    at org.gradle.initialization.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:47)\n    at org.gradle.initialization.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:137)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:109)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    ... 3 more\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\n    at com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 29 more\n</code></pre>\n\n<p>You know that the above log is not useful for us to solve this kind of problem.We need to do some gradle command to find more useful information.</p>\n\n<p>Note:I use macOS(10.13) and Android Studio(3.1)</p>\n\n<p>Go to your Android project directory to execute the gradle command below:</p>\n\n<blockquote>\n  <p><code>./gradlew assembleDebug --info</code></p>\n</blockquote>\n\n<p>Note:If you have permission problems while executing the above command,you can use this to deal with it:</p>\n\n<pre><code>chmod +x gradlew\n</code></pre>\n\n<p>And then I got this(Some unimportant parts are omitted):</p>\n\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac FAILED\nPutting task artifact state for task ':app:compileDebugJavaWithJavac' into context took 0.0 secs.\nfile or directory '/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/debug/java', not found\nUp-to-date check for task ':app:compileDebugJavaWithJavac' took 0.009 secs. It is not up-to-date because:\n  Task has failed previously.\nAll input files are considered out-of-date for incremental task ':app:compileDebugJavaWithJavac'.\nCompiling with source level 1.7 and target level 1.7.\nCreating new cache for classAnalysis, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/classAnalysis.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\nCreating new cache for jarAnalysis, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/jarAnalysis.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\nCreating new cache for taskJars, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/taskJars.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\nCreating new cache for taskHistory, path /Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/.gradle/4.4.1/javaCompile/taskHistory.bin, access org.gradle.cache.internal.DefaultCacheAccess@156d7504\n:app:compileDebugJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\nfile or directory '/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/debug/java', not found\nCompiling with JDK Java compiler API.\n/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/main/java/com/chipsguide/app/colorbluetoothlamp/v2/karmalighting/frags/banner/VideoActivity.java:10: error: package com.android.tedcoder.wkvideoplayer.model does not exist\nimport com.android.tedcoder.wkvideoplayer.model.Video;\n                                               ^\n/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/main/java/com/chipsguide/app/colorbluetoothlamp/v2/karmalighting/frags/banner/VideoActivity.java:11: error: package com.android.tedcoder.wkvideoplayer.model does not exist\nimport com.android.tedcoder.wkvideoplayer.model.VideoUrl;\n                                               ^\n/Users/ifeegoo/workspace/android/android-bluetooth-color-lamp-karma-lighting/app/src/main/java/com/chipsguide/app/colorbluetoothlamp/v2/karmalighting/frags/banner/VideoActivity.java:12: error: package com.android.tedcoder.wkvideoplayer.view does not exist\nimport com.android.tedcoder.wkvideoplayer.view.MediaController;\n                                              ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n35 errors\n\n:app:compileDebugJavaWithJavac (Thread[Task worker for ':',5,main]) completed. Took 0.84 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n15 actionable tasks: 1 executed, 14 up-to-date \n</code></pre>\n\n<p>I have got the most important details information,because of one module imported not properly which makes the class not found.So, I got it and solve the problem.</p>\n\n<p>Some other gradle command:</p>\n\n<pre><code>*clean project\n./gradlew clean  \n\n*build project\n./gradlew build\n\n*build for debug package\n./gradlew assembleDebug or ./gradlew aD\n\n*build for release package\n./gradlew assembleRelease or ./gradlew aR\n\n*build for release package and install\n./gradlew installRelease or ./gradlew iR Release\n\n*build for debug package and install\n./gradlew installDebug or ./gradlew iD Debug\n\n*uninstall release package\n./gradlew uninstallRelease or ./gradlew uR\n\n*uninstall debug package\n./gradlew uninstallDebug or ./gradlew uD \n\n*all the above command + \"--info\" or \"--debug\" or \"--scan\" or \"--stacktrace\" can get more detail information.\n</code></pre>\n\n<p><strong>If you cannot get enough information by --info,please use --debug/--scan/--stacktrace instead.</strong></p>\n\n<p><strong><em>Remember that the more details will help you to solve the problem the more.</em></strong></p>\n\n<blockquote>\n  <p>Note:Gradle commands are really powerful,if you want to do more complicated operation,especially about how to deal with debug/release or multi-channels or modules,go to Android Studio to check the Gradle Window,then you will know how to do it!</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/zfn9l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zfn9l.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/YBez8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YBez8.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":2352429,"reputation":937,"user_id":2060951,"accept_rate":43,"display_name":"MrTimotheos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863627,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":33404698,"answer_count":27,"score":71,"last_activity_date":1658536265,"creation_date":1446082715,"question_id":33404552,"body_markdown":"I am developing an Android App in Android Studio. Not quite sure what went wrong. I was successfully building a few days ago. Any help would be great.\r\n\r\nHere is the error:\r\n\r\n    Error:Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n\r\nHere is my build.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;21.1.2&quot;\r\n\r\n    defaultConfig {\r\n        multiDexEnabled true\r\n        applicationId &quot;com.tubbs.citychurchob&quot;\r\n        minSdkVersion 14\r\n        targetSdkVersion 23\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n          proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),        &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    compile fileTree(dir: &#39;libs&#39;, include: &#39;Parse-*.jar&#39;)\r\n    compile &#39;com.android.support:appcompat-v7:23.1.0&#39;\r\n    compile &#39;com.android.support:cardview-v7:23.1.0&#39;\r\n    compile &#39;com.parse.bolts:bolts-android:1+&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.1.0&#39;\r\n    }\r\n","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio","body":"<p>I am developing an Android App in Android Studio. Not quite sure what went wrong. I was successfully building a few days ago. Any help would be great.</p>\n\n<p>Here is the error:</p>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n\n<p>Here is my build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 23\nbuildToolsVersion \"21.1.2\"\n\ndefaultConfig {\n    multiDexEnabled true\n    applicationId \"com.tubbs.citychurchob\"\n    minSdkVersion 14\n    targetSdkVersion 23\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n      proguardFiles getDefaultProguardFile('proguard-android.txt'),        'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ncompile fileTree(dir: 'libs', include: 'Parse-*.jar')\ncompile 'com.android.support:appcompat-v7:23.1.0'\ncompile 'com.android.support:cardview-v7:23.1.0'\ncompile 'com.parse.bolts:bolts-android:1+'\ncompile 'com.android.support:recyclerview-v7:23.1.0'\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1658534665,"post_id":73087020,"comment_id":129083283,"body_markdown":"Show us your attempt with two queries. Tell us the error. We can&#39;t tell you what you did wrong when you don&#39;t show us anything.","body":"Show us your attempt with two queries. Tell us the error. We can&#39;t tell you what you did wrong when you don&#39;t show us anything."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658534874,"post_id":73087020,"comment_id":129083312,"body_markdown":"Ditto. I copied your code locally and the compiler is fine with it (it compiles without errors). What errors do you see? Are they compilation errors, or runtime errors?","body":"Ditto. I copied your code locally and the compiler is fine with it (it compiles without errors). What errors do you see? Are they compilation errors, or runtime errors?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658534971,"post_id":73087020,"comment_id":129083325,"body_markdown":"Also, I don&#39;t follow that you &quot;tried to execute two queries&quot; but the code you posted shows only one query (?) – `select * from pc`","body":"Also, I don&#39;t follow that you &quot;tried to execute two queries&quot; but the code you posted shows only one query (?) – <code>select * from pc</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1658535744,"post_id":73087020,"comment_id":129083424,"body_markdown":"Which RDBMS are you using (MySQL, Postgres, Oracle, SQL Server, something else)? Please add the tag of your database to your question. See [this](https://meta.stackoverflow.com/questions/388759/why-should-i-tag-my-rdbms) to know why tagging is important.","body":"Which RDBMS are you using (MySQL, Postgres, Oracle, SQL Server, something else)? Please add the tag of your database to your question. See <a href=\"https://meta.stackoverflow.com/questions/388759/why-should-i-tag-my-rdbms\">this</a> to know why tagging is important."},{"owner":{"account_id":23545261,"reputation":11,"user_id":17588826,"display_name":"Lycan"},"score":0,"creation_date":1658535771,"post_id":73087020,"comment_id":129083428,"body_markdown":"@ElliottFrisch I&#39;ve update my problem to be more specific","body":"@ElliottFrisch I&#39;ve update my problem to be more specific"},{"owner":{"account_id":23545261,"reputation":11,"user_id":17588826,"display_name":"Lycan"},"score":0,"creation_date":1658535799,"post_id":73087020,"comment_id":129083436,"body_markdown":"@Bohemian I&#39;m using Mysql","body":"@Bohemian I&#39;m using Mysql"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1658535955,"post_id":73087020,"comment_id":129083453,"body_markdown":"Maybe you deliberately want to do things this way: 1st SQL selects everything; you scan it all for the one record; you perform an insert if needed. You could, instead, probably do all of that in one SQL statement (e.g. `insert ... where not exists ...`). At the very least, instead of `select *` you could use a prepared statement to select the record for the specific input value, or `select count...` of the matching record(s) to know if it exists or not (no need to scan the whole table).","body":"Maybe you deliberately want to do things this way: 1st SQL selects everything; you scan it all for the one record; you perform an insert if needed. You could, instead, probably do all of that in one SQL statement (e.g. <code>insert ... where not exists ...</code>). At the very least, instead of <code>select *</code> you could use a prepared statement to select the record for the specific input value, or <code>select count...</code> of the matching record(s) to know if it exists or not (no need to scan the whole table)."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":2,"creation_date":1658536088,"post_id":73087020,"comment_id":129083468,"body_markdown":"ps.executeUpdate(); should be  ps2.executeUpdate();","body":"ps.executeUpdate(); should be  ps2.executeUpdate();"},{"owner":{"account_id":23545261,"reputation":11,"user_id":17588826,"display_name":"Lycan"},"score":0,"creation_date":1658536183,"post_id":73087020,"comment_id":129083472,"body_markdown":"@ChengThao Big thanks. I didn&#39;t see it. lol","body":"@ChengThao Big thanks. I didn&#39;t see it. lol"},{"owner":{"account_id":23545261,"reputation":11,"user_id":17588826,"display_name":"Lycan"},"score":0,"creation_date":1658536229,"post_id":73087020,"comment_id":129083478,"body_markdown":"Thank you all for sparing your time helping me out.","body":"Thank you all for sparing your time helping me out."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658536107,"creation_date":1658536107,"answer_id":73087219,"question_id":73087020,"body_markdown":"You can do it in one statement:\r\n\r\n    INSERT into pc (model,speed,ram,hd,price)\r\n    SELECT ?,?,?,?,?\r\n    WHERE EXISTS (SELECT * FROM model WHERE mode_id = ?)\r\n\r\n","title":"How to execute two queries one after another in JDBC","body":"<p>You can do it in one statement:</p>\n<pre><code>INSERT into pc (model,speed,ram,hd,price)\nSELECT ?,?,?,?,?\nWHERE EXISTS (SELECT * FROM model WHERE mode_id = ?)\n</code></pre>\n"}],"owner":{"account_id":23545261,"reputation":11,"user_id":17588826,"display_name":"Lycan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658571761,"answer_count":1,"score":0,"last_activity_date":1658536107,"creation_date":1658533197,"question_id":73087020,"body_markdown":"I&#39;m new to JDBC.\r\nI want to add new record to the table if the condition(the model in my example is not present) is not true. But the compiler show me ***&quot; Can not issue executeUpdate() or executeLargeUpdate() for SELECTs &quot;*** when I tried to execute two queries. What else can I do to insert a new record if the condition is not true?\r\n\r\n\r\n```java\r\npublic class AskUser5 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Manufacturer:&quot;);\r\n\t\tString Manufacturer = sc.nextLine();\r\n\t\tSystem.out.print(&quot;Model:&quot;);\r\n\t\tString model = sc.nextLine();\r\n\t\tSystem.out.print(&quot;Speed:&quot;);\r\n\t\tint speed = sc.nextInt();\r\n\t\tSystem.out.print(&quot;Ram:&quot;);\r\n\t\tint ram = sc.nextInt();\r\n\t\tSystem.out.print(&quot;HD Size:&quot;);\r\n\t\tint hd_size = sc.nextInt();\r\n\t\tSystem.out.print(&quot;Price:&quot;);\r\n\t\tint price = sc.nextInt();\r\n\t\tConnection con = Getconnection.getconnection();\r\n\t\tString query  = &quot;select * from pc&quot;;\r\n\t\tboolean flag = false;\r\n\t\ttry {\r\n\t\t\tPreparedStatement ps = con.prepareStatement(query);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tif(model.equals(rs.getString(&quot;model&quot;))) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Model Aviable&quot;);\r\n\t\t\t\t\tflag=true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(flag == false) {\r\n\t\t\t\tSystem.out.println(&quot;There&#39;s no such model here&quot;);\r\n\t\t\t\tPreparedStatement ps2 = con.prepareStatement(&quot;INSERT into pc (model,speed,ram,hd,price) VALUES (?,?,?,?,?)&quot;);\r\n\t\t\t\t ps2.setString(1, model);\r\n\t\t\t\t ps2.setInt(2, speed);\r\n\t\t\t\t ps2.setInt(3, ram);\r\n\t\t\t\t ps2.setInt(4, hd_size);\r\n\t\t\t\t ps2.setInt(5, price);\r\n\t\t\t\t ps.executeUpdate();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\tSystem.out.println(&quot;Error due to &quot; + e.getMessage());\r\n\t\t}\r\n\t\r\n\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to execute two queries one after another in JDBC","body":"<p>I'm new to JDBC.\nI want to add new record to the table if the condition(the model in my example is not present) is not true. But the compiler show me <em><strong>&quot; Can not issue executeUpdate() or executeLargeUpdate() for SELECTs &quot;</strong></em> when I tried to execute two queries. What else can I do to insert a new record if the condition is not true?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AskUser5 {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Manufacturer:&quot;);\n        String Manufacturer = sc.nextLine();\n        System.out.print(&quot;Model:&quot;);\n        String model = sc.nextLine();\n        System.out.print(&quot;Speed:&quot;);\n        int speed = sc.nextInt();\n        System.out.print(&quot;Ram:&quot;);\n        int ram = sc.nextInt();\n        System.out.print(&quot;HD Size:&quot;);\n        int hd_size = sc.nextInt();\n        System.out.print(&quot;Price:&quot;);\n        int price = sc.nextInt();\n        Connection con = Getconnection.getconnection();\n        String query  = &quot;select * from pc&quot;;\n        boolean flag = false;\n        try {\n            PreparedStatement ps = con.prepareStatement(query);\n            ResultSet rs = ps.executeQuery();\n            while(rs.next()) {\n                if(model.equals(rs.getString(&quot;model&quot;))) {\n                    \n                    System.out.println(&quot;Model Aviable&quot;);\n                    flag=true;\n                }\n                \n            }\n            \n            if(flag == false) {\n                System.out.println(&quot;There's no such model here&quot;);\n                PreparedStatement ps2 = con.prepareStatement(&quot;INSERT into pc (model,speed,ram,hd,price) VALUES (?,?,?,?,?)&quot;);\n                 ps2.setString(1, model);\n                 ps2.setInt(2, speed);\n                 ps2.setInt(3, ram);\n                 ps2.setInt(4, hd_size);\n                 ps2.setInt(5, price);\n                 ps.executeUpdate();\n            }\n            \n        } catch (SQLException e) {\n            System.out.println(&quot;Error due to &quot; + e.getMessage());\n        }\n    \n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658485510,"post_id":73074437,"comment_id":129068584,"body_markdown":"Can you please run the maven goal with command line argument `-X` enabled for debug logging? If the executed process is returning exit code `-1`, that means that it did run, but did not normally exit (that would be exit code 0). Please also include the full `pom.xml` configuration, so we can see your project and the executable you&#39;re trying to run. And please also the java + maven version you&#39;re using, and the .java source files you&#39;ve created. Currently the `exec plugin` is telling you that it can not find or load your `Sandbox` main class, for that we need more context.","body":"Can you please run the maven goal with command line argument <code>-X</code> enabled for debug logging? If the executed process is returning exit code <code>-1</code>, that means that it did run, but did not normally exit (that would be exit code 0). Please also include the full <code>pom.xml</code> configuration, so we can see your project and the executable you&#39;re trying to run. And please also the java + maven version you&#39;re using, and the .java source files you&#39;ve created. Currently the <code>exec plugin</code> is telling you that it can not find or load your <code>Sandbox</code> main class, for that we need more context."},{"owner":{"account_id":25866735,"reputation":1,"user_id":19598278,"display_name":"jbrydeWWP"},"score":0,"creation_date":1658581192,"post_id":73074437,"comment_id":129089725,"body_markdown":"I would really love to, but I don&#39;t even know what you are talking about. Total newbie here. I don&#39;t want to take too much of your time, so if it&#39;s too long to explain in more detail, I understand.","body":"I would really love to, but I don&#39;t even know what you are talking about. Total newbie here. I don&#39;t want to take too much of your time, so if it&#39;s too long to explain in more detail, I understand."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658588035,"post_id":73074437,"comment_id":129091055,"body_markdown":"Not a problem, but currently it&#39;s very difficult to help. The courses on `mooc.fi` are not fully visible without creating an account. And even if we could see them, we don&#39;t know if you applied them exactly 1:1 on your local environment.\nThe `Sandbox` seems to be the initial setup to get your `Netbeans` IDE working, and that part is failing? Try checking out the [following](https://stackoverflow.com/questions/20034377/netbeans-error-could-not-find-or-load-main-class) similar [questions](https://stackoverflow.com/questions/18814602/error-could-not-find-or-load-main-class-netbeans-and-java).","body":"Not a problem, but currently it&#39;s very difficult to help. The courses on <code>mooc.fi</code> are not fully visible without creating an account. And even if we could see them, we don&#39;t know if you applied them exactly 1:1 on your local environment. The <code>Sandbox</code> seems to be the initial setup to get your <code>Netbeans</code> IDE working, and that part is failing? Try checking out the <a href=\"https://stackoverflow.com/questions/20034377/netbeans-error-could-not-find-or-load-main-class\">following</a> similar <a href=\"https://stackoverflow.com/questions/18814602/error-could-not-find-or-load-main-class-netbeans-and-java\">questions</a>."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1658588560,"post_id":73074437,"comment_id":129091189,"body_markdown":"You can start by adding the contents of your `Sandbox.java` file to the question as text, using the `code` formatting option.","body":"You can start by adding the contents of your <code>Sandbox.java</code> file to the question as text, using the <code>code</code> formatting option."},{"owner":{"account_id":25866735,"reputation":1,"user_id":19598278,"display_name":"jbrydeWWP"},"score":0,"creation_date":1658675417,"post_id":73074437,"comment_id":129104701,"body_markdown":"Thank you for all your help. I have worked around this issue without truly fixing it. But it&#39;s ok, because I don&#39;t really need it to work in the manner specified. I have decided to use VS code and made some modifications and it works fine.","body":"Thank you for all your help. I have worked around this issue without truly fixing it. But it&#39;s ok, because I don&#39;t really need it to work in the manner specified. I have decided to use VS code and made some modifications and it works fine."},{"owner":{"account_id":25866735,"reputation":1,"user_id":19598278,"display_name":"jbrydeWWP"},"score":0,"creation_date":1658675470,"post_id":73074437,"comment_id":129104710,"body_markdown":"How can I close this comment so that others don&#39;t waster their time on it. Trying to be respectful of other&#39;s time. Thanks.","body":"How can I close this comment so that others don&#39;t waster their time on it. Trying to be respectful of other&#39;s time. Thanks."}],"owner":{"account_id":25866735,"reputation":1,"user_id":19598278,"display_name":"jbrydeWWP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658534138,"creation_date":1658456365,"question_id":73074437,"body_markdown":"I am running into configuration (? I think) problems when doing the very first problem on MOOC.Fi exercise. It&#39;s a simple Hello World program. \r\n\r\nHere&#39;s the error I keep getting:\r\n\r\n```\r\nError: Could not find or load main class Sandbox\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n\tat org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\n\tat org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n\tat org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)\r\n\tat org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)\r\n\tat org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n\tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:185)\r\n\tat org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:181)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Part01_01.Sandbox: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n```\r\n\r\nI have read the help link, and tried the suggestions, but haven&#39;t had success. ","title":"MOOC.fi problems - Maven","body":"<p>I am running into configuration (? I think) problems when doing the very first problem on MOOC.Fi exercise. It's a simple Hello World program.</p>\n<p>Here's the error I keep getting:</p>\n<pre><code>Error: Could not find or load main class Sandbox\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)\n    at org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:185)\n    at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call(MultiThreadedBuilder.java:181)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Part01_01.Sandbox: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n</code></pre>\n<p>I have read the help link, and tried the suggestions, but haven't had success.</p>\n"},{"tags":["java","spring-boot","maven","tomcat","war"],"answers":[{"tags":[],"owner":{"account_id":239994,"reputation":24567,"user_id":509967,"accept_rate":74,"display_name":"Bobbake4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658521268,"creation_date":1658519332,"answer_id":73085429,"question_id":73085349,"body_markdown":"The file is placed inside the Java resources directory `src/main/resource` and should be loaded from there in all cases. The reason it&#39;s not loading properly when deployed is that file is not in that location once packaged. Use the class to locate the resource file from the packaged Java app. This should work both locally and when deployed. Make sure to replace `ClassFileWhereCodeLives` with the class the static code block is inside of.\r\n\r\n```java\r\nurl = ClassFileWhereCodeLives.class.getResource(&quot;/wsdl/outbound.wsdl&quot;)\r\n```","title":"How to give url path in spring boot refer to local file","body":"<p>The file is placed inside the Java resources directory <code>src/main/resource</code> and should be loaded from there in all cases. The reason it's not loading properly when deployed is that file is not in that location once packaged. Use the class to locate the resource file from the packaged Java app. This should work both locally and when deployed. Make sure to replace <code>ClassFileWhereCodeLives</code> with the class the static code block is inside of.</p>\n<pre class=\"lang-java prettyprint-override\"><code>url = ClassFileWhereCodeLives.class.getResource(&quot;/wsdl/outbound.wsdl&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658522043,"creation_date":1658522043,"answer_id":73085804,"question_id":73085349,"body_markdown":"Try this \r\n\r\n    URL url = Thread.currentThread().getContextClassLoader().getResource(&quot;wsdl/outbound.wsdl&quot;);\r\n\r\nThis should work","title":"How to give url path in spring boot refer to local file","body":"<p>Try this</p>\n<pre><code>URL url = Thread.currentThread().getContextClassLoader().getResource(&quot;wsdl/outbound.wsdl&quot;);\n</code></pre>\n<p>This should work</p>\n"}],"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73085804,"answer_count":2,"score":1,"last_activity_date":1658534041,"creation_date":1658518771,"question_id":73085349,"body_markdown":"I am trying to consume the WSDL file in the spring boot application, WSDL file is placed into the `src/main/resource/wsdl/file.wsdl`.\r\n\r\n*Project structure:*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*Code:*\r\n\r\n```java\r\nstatic {\r\n   URL url = null;\r\n   try {\t\t\t\r\n      url = new URL(&quot;file:///&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/wsdl/outbound.wsdl&quot;);\r\n   } catch(IOException e) { \r\n      java.util.logging.Logger\r\n            .getLogger(OutboundService.class.getName())\r\n\t\t\t.log(java.util.logging.Level.INFO,\r\n\t\t\t     &quot;Can not initialize the default wsdl from {0}&quot;, \r\n                 &quot;file:/D:/ERPLOGIC/ERPProjects/JAVA/mavenproject/eclipse-workspace/topconpoc/src/main/resources/wsdl/outbound.wsdl&quot;);\r\n   }\r\n   WSDL_LOCATION = url;\r\n}\r\n```\r\n\r\nIt works fine in locally, but when deployed in the AWS server as a war file, it does not work.\r\n\r\nWhat is the proper to refer to the path in the Spring Boot application?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h0q1m.png","title":"How to give url path in spring boot refer to local file","body":"<p>I am trying to consume the WSDL file in the spring boot application, WSDL file is placed into the <code>src/main/resource/wsdl/file.wsdl</code>.</p>\n<p><em>Project structure:</em></p>\n<p><a href=\"https://i.stack.imgur.com/h0q1m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h0q1m.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>static {\n   URL url = null;\n   try {            \n      url = new URL(&quot;file:///&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/wsdl/outbound.wsdl&quot;);\n   } catch(IOException e) { \n      java.util.logging.Logger\n            .getLogger(OutboundService.class.getName())\n            .log(java.util.logging.Level.INFO,\n                 &quot;Can not initialize the default wsdl from {0}&quot;, \n                 &quot;file:/D:/ERPLOGIC/ERPProjects/JAVA/mavenproject/eclipse-workspace/topconpoc/src/main/resources/wsdl/outbound.wsdl&quot;);\n   }\n   WSDL_LOCATION = url;\n}\n</code></pre>\n<p>It works fine in locally, but when deployed in the AWS server as a war file, it does not work.</p>\n<p>What is the proper to refer to the path in the Spring Boot application?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658531990,"creation_date":1658531990,"answer_id":73086917,"question_id":73086604,"body_markdown":"I assume your problem is here: `@Value(&quot;mail.retry.count&quot;)`. You **almost** got it right. You should&#39;ve written this `@Value(&quot;${mail.retry.count}&quot;)`. And you don&#39;t need those attempt#1 and attempt#2.  ","title":"how to populate the environment before component scanning takes place","body":"<p>I assume your problem is here: <code>@Value(&quot;mail.retry.count&quot;)</code>. You <strong>almost</strong> got it right. You should've written this <code>@Value(&quot;${mail.retry.count}&quot;)</code>. And you don't need those attempt#1 and attempt#2.</p>\n"}],"owner":{"account_id":1697612,"reputation":98,"user_id":1558648,"display_name":"sweetjonnie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73086917,"answer_count":1,"score":0,"last_activity_date":1658531990,"creation_date":1658528709,"question_id":73086604,"body_markdown":"I am desperately attempting to populate the Environment with properties necessary to resolve bean properties in one of the scanned in components. What follows is a simple demonstration of two failed attempts to populate the environment.\r\n\r\nThis is the class whose bean property fails to get resolved during construction of the application context.\r\n```\r\npackage com.enterprise.samples.email;\r\n\r\nimport ...\r\n\r\n@Component\r\npublic class EmailBean {\r\n\r\n    @Value(&quot;mail.retry.count&quot;)\r\n    private int retryCount;\r\n\r\n    public int getRetryCount() {\r\n        return retryCount;\r\n    }\r\n}\r\n```\r\nThis is the java configuration class.\r\n```\r\npackage com.enterprise.samples.configuration;\r\n\r\nimport ...\r\n\r\n@Configuration\r\n@PropertySource(value=&quot;classpath:aux.properties&quot;)\r\n@ComponentScan(basePackages={ &quot;com.enterprise.samples.email&quot; })\r\npublic class Conf {\r\n\r\n    @Autowired\r\n    private ConfigurableEnvironment env;\r\n\r\n    // failed attempt #1\r\n    @PostConstruct\r\n    public void after() {\r\n        final MutablePropertySources mutablePropertySources = env.getPropertySources();\r\n        final HashMap&lt;String, Object&gt; emailProperties = new HashMap&lt;&gt;();\r\n        emailProperties.put(&quot;mail.retry.count&quot;, 3);\r\n\r\n        final MapPropertySource emailPropertiesSource =\r\n                new MapPropertySource(&quot;emailProperties&quot;, emailProperties);\r\n\r\n        mutablePropertySources.addFirst(emailPropertiesSource);\r\n    }\r\n\r\n    // failed attempt #2\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n\r\n        final HashMap&lt;String, Object&gt; emailProperties = new HashMap&lt;&gt;();\r\n        emailProperties.put(&quot;mail.retry.count&quot;, 3);\r\n\r\n        final MapPropertySource emailPropertiesSource =\r\n                new MapPropertySource(&quot;emailProperties&quot;, emailProperties);\r\n        final MutablePropertySources mutablePropertySources = new MutablePropertySources();\r\n        mutablePropertySources.addFirst(emailPropertiesSource);\r\n\r\n        final PropertySourcesPlaceholderConfigurer result = new PropertySourcesPlaceholderConfigurer();\r\n        result.setPropertySources(mutablePropertySources);\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\nFinally, this is the test class.\r\n```\r\npackage com.enterprise.samples.tests;\r\n\r\nimport ...\r\n\r\npublic class BeanPropertyResolutionTest {\r\n\r\n    @Test\r\n    public void test() {\r\n\r\n        final AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);\r\n\r\n        try {\r\n            final EmailBean emailBean = applicationContext.getBean(EmailBean.class, &quot;emailBean&quot;);\r\n            Assert.assertEquals(3, emailBean.getRetryCount());\r\n        } finally {\r\n            applicationContext.close();\r\n        }\r\n    }\r\n}\r\n```\r\nThe following exception results:\r\n```\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailBean&#39;: Unsatisfied dependency expressed through field &#39;retryCount&#39;; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;mail.retry.count&quot;\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailBean&#39;: Unsatisfied dependency expressed through field &#39;retryCount&#39;; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;mail.retry.count&quot;\r\n```\r\nCan anyone tell me what I am doing incorrectly?","title":"how to populate the environment before component scanning takes place","body":"<p>I am desperately attempting to populate the Environment with properties necessary to resolve bean properties in one of the scanned in components. What follows is a simple demonstration of two failed attempts to populate the environment.</p>\n<p>This is the class whose bean property fails to get resolved during construction of the application context.</p>\n<pre><code>package com.enterprise.samples.email;\n\nimport ...\n\n@Component\npublic class EmailBean {\n\n    @Value(&quot;mail.retry.count&quot;)\n    private int retryCount;\n\n    public int getRetryCount() {\n        return retryCount;\n    }\n}\n</code></pre>\n<p>This is the java configuration class.</p>\n<pre><code>package com.enterprise.samples.configuration;\n\nimport ...\n\n@Configuration\n@PropertySource(value=&quot;classpath:aux.properties&quot;)\n@ComponentScan(basePackages={ &quot;com.enterprise.samples.email&quot; })\npublic class Conf {\n\n    @Autowired\n    private ConfigurableEnvironment env;\n\n    // failed attempt #1\n    @PostConstruct\n    public void after() {\n        final MutablePropertySources mutablePropertySources = env.getPropertySources();\n        final HashMap&lt;String, Object&gt; emailProperties = new HashMap&lt;&gt;();\n        emailProperties.put(&quot;mail.retry.count&quot;, 3);\n\n        final MapPropertySource emailPropertiesSource =\n                new MapPropertySource(&quot;emailProperties&quot;, emailProperties);\n\n        mutablePropertySources.addFirst(emailPropertiesSource);\n    }\n\n    // failed attempt #2\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n\n        final HashMap&lt;String, Object&gt; emailProperties = new HashMap&lt;&gt;();\n        emailProperties.put(&quot;mail.retry.count&quot;, 3);\n\n        final MapPropertySource emailPropertiesSource =\n                new MapPropertySource(&quot;emailProperties&quot;, emailProperties);\n        final MutablePropertySources mutablePropertySources = new MutablePropertySources();\n        mutablePropertySources.addFirst(emailPropertiesSource);\n\n        final PropertySourcesPlaceholderConfigurer result = new PropertySourcesPlaceholderConfigurer();\n        result.setPropertySources(mutablePropertySources);\n\n        return result;\n    }\n}\n</code></pre>\n<p>Finally, this is the test class.</p>\n<pre><code>package com.enterprise.samples.tests;\n\nimport ...\n\npublic class BeanPropertyResolutionTest {\n\n    @Test\n    public void test() {\n\n        final AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Conf.class);\n\n        try {\n            final EmailBean emailBean = applicationContext.getBean(EmailBean.class, &quot;emailBean&quot;);\n            Assert.assertEquals(3, emailBean.getRetryCount());\n        } finally {\n            applicationContext.close();\n        }\n    }\n}\n</code></pre>\n<p>The following exception results:</p>\n<pre><code>WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailBean': Unsatisfied dependency expressed through field 'retryCount'; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: &quot;mail.retry.count&quot;\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailBean': Unsatisfied dependency expressed through field 'retryCount'; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: &quot;mail.retry.count&quot;\n</code></pre>\n<p>Can anyone tell me what I am doing incorrectly?</p>\n"},{"tags":["java","spring","spring-boot","azure-ad-b2c","azure-ad-b2c-custom-policy"],"comments":[{"owner":{"account_id":505691,"reputation":2259,"user_id":1152127,"display_name":"cmaluenda"},"score":0,"creation_date":1658530583,"post_id":73077953,"comment_id":129082725,"body_markdown":"Did you create a new application for your Java service? Did you include your URL in the redirect addresses?","body":"Did you create a new application for your Java service? Did you include your URL in the redirect addresses?"}],"answers":[{"tags":[],"owner":{"account_id":11010053,"reputation":221,"user_id":8087760,"display_name":"Chad Hasbrook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658531460,"creation_date":1658531460,"answer_id":73086868,"question_id":73077953,"body_markdown":"Each policy has a PolicyID. Review your PolicyID in the URL in which making the request and confirm it is pointing to the correct policy. \r\n\r\nUse the [Java web application with Azure AD B2C sample][1] as an end-to-end guide to set this up.\r\n\r\nIn the sample, it outlines to update the **application.properties** file which is where you define the policyID. \r\n\r\nSee [this section in configuration file][2] (policy.sign-up-sign-in is the policyID for Sign-up/Sign-up i.e. SUSI):\r\n\r\n    b2c.tenant=fabrikamb2c.onmicrosoft.com\r\n    b2c.host=fabrikamb2c.b2clogin.com\r\n    \r\n    b2c.authority.base=https://${b2c.host}/tfp/${b2c.tenant}/\r\n    b2c.clientId=\r\n    b2c.secret=\r\n    b2c.redirectUri=https://localhost:8443/msal4jsample/secure/aad\r\n    \r\n    b2c.api=https://fabrikamb2chello.azurewebsites.net/hello\r\n    b2c.api-scope=https://fabrikamb2c.onmicrosoft.com/helloapi/demo.read\r\n    \r\n    policy.sign-up-sign-in=b2c_1_susi\r\n    policy.edit-profile=b2c_1_edit_profile\r\n    policy.reset-password=b2c_1_reset\r\n    \r\n    b2c.sign-up-sign-in-authority=${b2c.authority.base}${policy.sign-up-sign-in}/\r\n    b2c.edit-profile-authority=${b2c.authority.base}${policy.edit-profile}/\r\n    b2c.reset-password-authority=${b2c.authority.base}${policy.reset-password}/\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/samples/azure-samples/ms-identity-java-webapp/ms-identity-java-webapp/\r\n  [2]: https://github.com/Azure-Samples/ms-identity-java-webapp/blob/master/msal-b2c-web-sample/src/main/resources/application.properties","title":"Azure AD B2C Custom Policies - Java Spring Boot","body":"<p>Each policy has a PolicyID. Review your PolicyID in the URL in which making the request and confirm it is pointing to the correct policy.</p>\n<p>Use the <a href=\"https://learn.microsoft.com/en-us/samples/azure-samples/ms-identity-java-webapp/ms-identity-java-webapp/\" rel=\"nofollow noreferrer\">Java web application with Azure AD B2C sample</a> as an end-to-end guide to set this up.</p>\n<p>In the sample, it outlines to update the <strong>application.properties</strong> file which is where you define the policyID.</p>\n<p>See <a href=\"https://github.com/Azure-Samples/ms-identity-java-webapp/blob/master/msal-b2c-web-sample/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">this section in configuration file</a> (policy.sign-up-sign-in is the policyID for Sign-up/Sign-up i.e. SUSI):</p>\n<pre><code>b2c.tenant=fabrikamb2c.onmicrosoft.com\nb2c.host=fabrikamb2c.b2clogin.com\n\nb2c.authority.base=https://${b2c.host}/tfp/${b2c.tenant}/\nb2c.clientId=\nb2c.secret=\nb2c.redirectUri=https://localhost:8443/msal4jsample/secure/aad\n\nb2c.api=https://fabrikamb2chello.azurewebsites.net/hello\nb2c.api-scope=https://fabrikamb2c.onmicrosoft.com/helloapi/demo.read\n\npolicy.sign-up-sign-in=b2c_1_susi\npolicy.edit-profile=b2c_1_edit_profile\npolicy.reset-password=b2c_1_reset\n\nb2c.sign-up-sign-in-authority=${b2c.authority.base}${policy.sign-up-sign-in}/\nb2c.edit-profile-authority=${b2c.authority.base}${policy.edit-profile}/\nb2c.reset-password-authority=${b2c.authority.base}${policy.reset-password}/\n</code></pre>\n"}],"owner":{"account_id":25869081,"reputation":1,"user_id":19600218,"display_name":"Gianfranco Coppola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658531460,"creation_date":1658481413,"question_id":73077953,"body_markdown":"I have created and tested custom policies in Azure AD B2C. How can I use them in my Spring Boot Java Application? Is there a way to connect these policies in my Spring Boot Application (for example using the application.yml file)?\r\nWhen I execute the application and I try to sign-in, it runs the sign-in-sign-up user flow and not the steps that I&#39;ve defined in my custom policy. \r\n\r\nThank you","title":"Azure AD B2C Custom Policies - Java Spring Boot","body":"<p>I have created and tested custom policies in Azure AD B2C. How can I use them in my Spring Boot Java Application? Is there a way to connect these policies in my Spring Boot Application (for example using the application.yml file)?\nWhen I execute the application and I try to sign-in, it runs the sign-in-sign-up user flow and not the steps that I've defined in my custom policy.</p>\n<p>Thank you</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":60361,"reputation":3819,"user_id":180335,"accept_rate":88,"display_name":"Trick"},"score":0,"creation_date":1259866192,"post_id":1842024,"comment_id":1735127,"body_markdown":"Good question, is this autoboxing? I know that Integer foo = 1 is slower than Integer foo = Integer.valueOf(1);","body":"Good question, is this autoboxing? I know that Integer foo = 1 is slower than Integer foo = Integer.valueOf(1);"},{"owner":{"account_id":12661,"reputation":43443,"user_id":25066,"accept_rate":91,"display_name":"Eric Wendelin"},"score":7,"creation_date":1259866407,"post_id":1842024,"comment_id":1735165,"body_markdown":"Being a student, it would be great if you can think of a way to test his theory. Can you write a Java class that would construct 100000 strings/stringbuffers etc. and time it?","body":"Being a student, it would be great if you can think of a way to test his theory. Can you write a Java class that would construct 100000 strings/stringbuffers etc. and time it?"},{"owner":{"account_id":139650,"reputation":752,"user_id":345380,"accept_rate":83,"display_name":"Amber Shah"},"score":13,"creation_date":1259866440,"post_id":1842024,"comment_id":1735170,"body_markdown":"I would tell your professor that in the real world the very very very small possible performance advantage is far outweighed by readability.  Furthermore, code should always be written to work first, as simple and easily as possible, and then optimized IF there&#39;s a need (which usually there isn&#39;t).","body":"I would tell your professor that in the real world the very very very small possible performance advantage is far outweighed by readability.  Furthermore, code should always be written to work first, as simple and easily as possible, and then optimized IF there&#39;s a need (which usually there isn&#39;t)."},{"owner":{"account_id":41183,"reputation":7098,"user_id":119636,"display_name":"Buhb"},"score":5,"creation_date":1259866858,"post_id":1842024,"comment_id":1735255,"body_markdown":"Consistently obscuring code to have the quickest String creation isn&#39;t worth it in my oppinion. Also, what way of, at least concatenating,  Strings are the quickest have changed from java version to java version, so your careful optimizations might blow up in your face when upgrading. I&#39;m sure a lot of very efficiently running code have their Strings initialized like your first example, so I suggest you continue initializing them that way.","body":"Consistently obscuring code to have the quickest String creation isn&#39;t worth it in my oppinion. Also, what way of, at least concatenating,  Strings are the quickest have changed from java version to java version, so your careful optimizations might blow up in your face when upgrading. I&#39;m sure a lot of very efficiently running code have their Strings initialized like your first example, so I suggest you continue initializing them that way."},{"owner":{"account_id":84980,"reputation":1626,"user_id":237229,"accept_rate":80,"display_name":"Michael"},"score":0,"creation_date":1259867128,"post_id":1842024,"comment_id":1735293,"body_markdown":"Did you say your Professor? that&#39;s right, you mean the guy whose never written a line of production code? you mean him? yeah? the one how couldn&#39;t get a job so he decided to teach? do I have the right guy?","body":"Did you say your Professor? that&#39;s right, you mean the guy whose never written a line of production code? you mean him? yeah? the one how couldn&#39;t get a job so he decided to teach? do I have the right guy?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1259867368,"post_id":1842024,"comment_id":1735328,"body_markdown":"I agree 100% with favoring developer performance (readability) over software performance (micro-optimization). However, your teacher is wrong anyway. How could creating a new String from a String via several method calls possibly be faster than just referencing a String instance already in the constant pool?","body":"I agree 100% with favoring developer performance (readability) over software performance (micro-optimization). However, your teacher is wrong anyway. How could creating a new String from a String via several method calls possibly be faster than just referencing a String instance already in the constant pool?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1259868525,"post_id":1842024,"comment_id":1735488,"body_markdown":"2 lines of code: 3 objects being created (if I counted correctly), 4 methods being called, one autoboxing (+1 object, +1 method) and STILL using another constant String `&quot;%s&quot;` is MUCH faster than just using a constant String?","body":"2 lines of code: 3 objects being created (if I counted correctly), 4 methods being called, one autoboxing (+1 object, +1 method) and STILL using another constant String <code>&quot;%s&quot;</code> is MUCH faster than just using a constant String?"},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1259876702,"post_id":1842024,"comment_id":1736444,"body_markdown":"@Trick, `Integer foo = 1` is actually just syntactic sugar for `Integer foo = Integer.valueOf(1)`. The compiled class files will look the same.","body":"@Trick, <code>Integer foo = 1</code> is actually just syntactic sugar for <code>Integer foo = Integer.valueOf(1)</code>. The compiled class files will look the same."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1259883313,"post_id":1842024,"comment_id":1737240,"body_markdown":"What is it about instructors teaching bad software practices? I&#39;ve seem this in other posts.","body":"What is it about instructors teaching bad software practices? I&#39;ve seem this in other posts."},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1259891711,"post_id":1842024,"comment_id":1737938,"body_markdown":"Was he talking about building Strings in a loop, or *every* String instance?","body":"Was he talking about building Strings in a loop, or <i>every</i> String instance?"}],"answers":[{"tags":[],"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1259866231,"creation_date":1259866231,"answer_id":1842046,"question_id":1842024,"body_markdown":"    String foo = &quot;some string literal&quot;;\r\n\r\nIs certainly the fastest way to make a String. It&#39;s embedded in the .class file and is a simple memory look-up to retrieve.\r\n\r\nUsing `String.format` when you have nothing to really format just looks ugly and might cause junior developers to cry.\r\n\r\nIf the String is going to be modified, then `StringBuilder` is the best since `Strings` are [immutable][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Immutable_object","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<pre><code>String foo = \"some string literal\";\n</code></pre>\n\n<p>Is certainly the fastest way to make a String. It's embedded in the .class file and is a simple memory look-up to retrieve.</p>\n\n<p>Using <code>String.format</code> when you have nothing to really format just looks ugly and might cause junior developers to cry.</p>\n\n<p>If the String is going to be modified, then <code>StringBuilder</code> is the best since <code>Strings</code> are <a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"noreferrer\">immutable</a>.</p>\n"},{"tags":[],"owner":{"account_id":40135,"reputation":29517,"user_id":116176,"accept_rate":90,"display_name":"jasonh"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1259866247,"creation_date":1259866247,"answer_id":1842049,"question_id":1842024,"body_markdown":"If there is only one string then:\r\n\r\n    String foo = &quot;123456&quot;;\r\n\r\nIs fastest. You&#39;ll notice that the `String.format` line has `&quot;%s%&quot;` declared in it, so I don&#39;t see how the lecturer could possibly think that was faster. Plus you&#39;ve got a method call on top of it.\r\n\r\nHowever, if you&#39;re building a string over time, such as in a for-loop, then you&#39;ll want to use a StringBuilder. If you were to just use `+=` then you&#39;re building a brand new string *every time* the `+=` line is called. StringBuilder is much faster since it holds a buffer and appends to that every time you call `append`.","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>If there is only one string then:</p>\n\n<pre><code>String foo = \"123456\";\n</code></pre>\n\n<p>Is fastest. You'll notice that the <code>String.format</code> line has <code>\"%s%\"</code> declared in it, so I don't see how the lecturer could possibly think that was faster. Plus you've got a method call on top of it.</p>\n\n<p>However, if you're building a string over time, such as in a for-loop, then you'll want to use a StringBuilder. If you were to just use <code>+=</code> then you're building a brand new string <em>every time</em> the <code>+=</code> line is called. StringBuilder is much faster since it holds a buffer and appends to that every time you call <code>append</code>.</p>\n"},{"tags":[],"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259866315,"creation_date":1259866315,"answer_id":1842060,"question_id":1842024,"body_markdown":"If your string is known at compile-time, then using a literal is best: `String foo = &quot;123456&quot;;`.\r\n\r\nIf your string is not known at compile-time and is composed of an aggregation of smaller strings, `StringBuilder` is usually the way to go (but beware thread-safety!).\r\n\r\nUsing `String foo = String.format(&quot;%s&quot;, 123456);` **could** reduce your .class&#39; size and make class-loading it a tiny bit faster, but that would be extremely aggressive (extreme) memory tuning there ^^.","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>If your string is known at compile-time, then using a literal is best: <code>String foo = \"123456\";</code>.</p>\n\n<p>If your string is not known at compile-time and is composed of an aggregation of smaller strings, <code>StringBuilder</code> is usually the way to go (but beware thread-safety!).</p>\n\n<p>Using <code>String foo = String.format(\"%s\", 123456);</code> <strong>could</strong> reduce your .class' size and make class-loading it a tiny bit faster, but that would be extremely aggressive (extreme) memory tuning there ^^.</p>\n"},{"tags":[],"owner":{"account_id":23656,"reputation":4942,"user_id":59438,"accept_rate":80,"display_name":"mpobrien"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259866326,"creation_date":1259866326,"answer_id":1842065,"question_id":1842024,"body_markdown":"In your second example, using:\r\n\r\n    String foo = String.format(&quot;%s&quot;, 123456);\r\n\r\ndoesn&#39;t buy you anything; 123456 is already a constant value, so why not just assign foo = &quot;123456&quot;? For constant strings, there&#39;s no better way.\r\n\r\nIf you&#39;re creating a string from multiple parts being appended together at runtime, use StringBuffer or StringBuilder (the former being thread-safe). ","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>In your second example, using:</p>\n\n<pre><code>String foo = String.format(\"%s\", 123456);\n</code></pre>\n\n<p>doesn't buy you anything; 123456 is already a constant value, so why not just assign foo = \"123456\"? For constant strings, there's no better way.</p>\n\n<p>If you're creating a string from multiple parts being appended together at runtime, use StringBuffer or StringBuilder (the former being thread-safe). </p>\n"},{"tags":[],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1259866667,"creation_date":1259866667,"answer_id":1842115,"question_id":1842024,"body_markdown":"As has been pointed out, if you&#39;re just building a single string with no concatenation, just use String.\r\n\r\nFor concatenating multiple bits into one big string, StringBuffer is slower than StringBuilder, but StringBuffer is synchronized.  If you don&#39;t need synchronization, StringBuilder.","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>As has been pointed out, if you're just building a single string with no concatenation, just use String.</p>\n\n<p>For concatenating multiple bits into one big string, StringBuffer is slower than StringBuilder, but StringBuffer is synchronized.  If you don't need synchronization, StringBuilder.</p>\n"},{"tags":[],"owner":{"account_id":84980,"reputation":1626,"user_id":237229,"accept_rate":80,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1259867640,"creation_date":1259866990,"answer_id":1842151,"question_id":1842024,"body_markdown":"This whole discussion is moot. Please read this article by Jeff, i.e., the guy who created Stack Overflow.\r\n\r\n[The Sad Tragedy of Micro-Optimization Theater][1]\r\n\r\n\r\n  [1]: http://www.codinghorror.com/blog/archives/001218.html\r\n\r\nPlease refer your instructor to this post and ask him to stop ruining his/her student&#39;s brains with useless information.  Algorithmic optimizations are where your code will live or die, not with what method you use to construct strings.  In any case, StringBuilder, and String formatter have to execute ACTUAL CODE with REAL MEMORY, if you just construct a string it gets set aside during compile time and is ready to be used when you need it, in essence, it has 0 run-time cost, while the other options have real cost, since code actually needs to be executed.  ","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>This whole discussion is moot. Please read this article by Jeff, i.e., the guy who created Stack Overflow.</p>\n\n<p><a href=\"http://www.codinghorror.com/blog/archives/001218.html\" rel=\"noreferrer\">The Sad Tragedy of Micro-Optimization Theater</a></p>\n\n<p>Please refer your instructor to this post and ask him to stop ruining his/her student's brains with useless information.  Algorithmic optimizations are where your code will live or die, not with what method you use to construct strings.  In any case, StringBuilder, and String formatter have to execute ACTUAL CODE with REAL MEMORY, if you just construct a string it gets set aside during compile time and is ready to be used when you need it, in essence, it has 0 run-time cost, while the other options have real cost, since code actually needs to be executed.  </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259881189,"creation_date":1259881189,"answer_id":1843658,"question_id":1842024,"body_markdown":"The first example you gave is the fastest and the simplest.  Use that.\r\n\r\nEach piece of code you added in those examples makes it significantly slower and more difficult to read.\r\n\r\nI would suggest example 2 is at least 10-100x slower than example 1 and example 3 is about 2x slower than example 2.\r\n\r\nDid your processor provide any justification for this assertion?\r\n\r\nBTW: Your first example doesn&#39;t construct a String at all (which is why it is fastest), it just hands you a String sitting in the String constant pool.","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>The first example you gave is the fastest and the simplest.  Use that.</p>\n\n<p>Each piece of code you added in those examples makes it significantly slower and more difficult to read.</p>\n\n<p>I would suggest example 2 is at least 10-100x slower than example 1 and example 3 is about 2x slower than example 2.</p>\n\n<p>Did your processor provide any justification for this assertion?</p>\n\n<p>BTW: Your first example doesn't construct a String at all (which is why it is fastest), it just hands you a String sitting in the String constant pool.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259891120,"creation_date":1259891120,"answer_id":1844384,"question_id":1842024,"body_markdown":"Are you 100% certain that the instructor was not talking about something like:\r\n\r\n    String foo = &quot;&quot; + 123456;\r\n\r\nI see my students do that type of thing &quot;all the time&quot; (a handful will do that each term).  The reason that they do it is that some book showed them how to do it that way.  Shakes head and fist at lazy book writers!","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>Are you 100% certain that the instructor was not talking about something like:</p>\n\n<pre><code>String foo = \"\" + 123456;\n</code></pre>\n\n<p>I see my students do that type of thing \"all the time\" (a handful will do that each term).  The reason that they do it is that some book showed them how to do it that way.  Shakes head and fist at lazy book writers!</p>\n"},{"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1260373455,"creation_date":1260373455,"answer_id":1874756,"question_id":1842024,"body_markdown":"Slightly off-topic, but I wish that the whole &quot;must-not-use-plus-to-concatenate-strings-in-Java&quot; myth would go away. While it might have been true in early versions of Java that StringBuffer was faster and &quot;+ was evil&quot;, it is certainly not true in modern JVMs that are taking care of a lot of optimisations.\r\n\r\nFor example, which is faster?\r\n\r\n    String s = &quot;abc&quot; + &quot;def&quot;;\r\n\r\nor\r\n\r\n    \tStringBuffer buf = new StringBuffer();\r\n\t\tbuf.append(&quot;abc&quot;);\r\n\t\tbuf.append(&quot;def&quot;);\r\n\t\tString s = buf.toString();\r\n\r\nThe answer is the former. The JVM recognises that this is a string constant and will actually put &quot;abcdef&quot; in the string pool, whereas the &quot;optimised stringbuffer&quot; version will cause an extra StringBuffer object to be built.\r\n\r\nAnother JVM optimisation is\r\n\r\n    String s = onestring + &quot; concat &quot; + anotherstring;\r\n\r\nWhere the JVM will work out what the best way of concatenating will be. In JDK 5, this means a StringBuilder will be internally used and it will be faster than using a string buffer.\r\n\r\nBut as other answers have said, the &quot;123456&quot; constant in your question is certainly the fastest way and your lecturer should go back to being a student :-)\r\n\r\nAnd yes, I&#39;ve been sad enough to verify this by looking at the Java bytecode...","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>Slightly off-topic, but I wish that the whole \"must-not-use-plus-to-concatenate-strings-in-Java\" myth would go away. While it might have been true in early versions of Java that StringBuffer was faster and \"+ was evil\", it is certainly not true in modern JVMs that are taking care of a lot of optimisations.</p>\n\n<p>For example, which is faster?</p>\n\n<pre><code>String s = \"abc\" + \"def\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    StringBuffer buf = new StringBuffer();\n    buf.append(\"abc\");\n    buf.append(\"def\");\n    String s = buf.toString();\n</code></pre>\n\n<p>The answer is the former. The JVM recognises that this is a string constant and will actually put \"abcdef\" in the string pool, whereas the \"optimised stringbuffer\" version will cause an extra StringBuffer object to be built.</p>\n\n<p>Another JVM optimisation is</p>\n\n<pre><code>String s = onestring + \" concat \" + anotherstring;\n</code></pre>\n\n<p>Where the JVM will work out what the best way of concatenating will be. In JDK 5, this means a StringBuilder will be internally used and it will be faster than using a string buffer.</p>\n\n<p>But as other answers have said, the \"123456\" constant in your question is certainly the fastest way and your lecturer should go back to being a student :-)</p>\n\n<p>And yes, I've been sad enough to verify this by looking at the Java bytecode...</p>\n"},{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658530564,"creation_date":1658530564,"answer_id":73086779,"question_id":1842024,"body_markdown":"How about measuring dynamic strings so that VM cannot optimise it:\r\n\r\n   \r\n\r\n    public static void measureConcats(long lim){\r\n    double sum = 0;\r\n    long start = System.currentTimeMillis();\r\n    for(long a = 0;a&lt;lim;++a){\r\n        sum+=Math.random();\r\n    }\r\n    long end = System.currentTimeMillis();\r\n    System.out.println(&quot;Sum:&quot; +sum);\r\n    System.out.println(&quot;Double creations time:&quot; + (end - start));\r\n\r\n    String res = &quot;&quot;;\r\n    Double sad = 0.0;\r\n    start = System.currentTimeMillis();\r\n    for(long b = 0;b&lt;lim;++b){\r\n        sad = Math.random();\r\n        String sa = sad.toString();\r\n        res+=sa;\r\n    }\r\n    end = System.currentTimeMillis();\r\n    System.out.println(&quot;Pure string concat time:&quot; + (end - start));\r\n    System.out.println(&quot;len:&quot;+res.length());\r\n\r\n    StringBuffer sbf = new StringBuffer();\r\n    start = System.currentTimeMillis();\r\n    for(long c = 0;c&lt;lim;++c){\r\n        sad = Math.random();\r\n        String sa = sad.toString();\r\n        sbf.append(sa);\r\n    }\r\n    end = System.currentTimeMillis();\r\n    System.out.println(&quot;StringBuffer concat time:&quot; + (end - start));\r\n    System.out.println(&quot;len:&quot;+sbf.length());}\r\n\r\nMy result for 10000 concats is 364ms for String+=String and 14ms for StringBuffer append.\r\nI was very surprised about this result.","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>How about measuring dynamic strings so that VM cannot optimise it:</p>\n<pre><code>public static void measureConcats(long lim){\ndouble sum = 0;\nlong start = System.currentTimeMillis();\nfor(long a = 0;a&lt;lim;++a){\n    sum+=Math.random();\n}\nlong end = System.currentTimeMillis();\nSystem.out.println(&quot;Sum:&quot; +sum);\nSystem.out.println(&quot;Double creations time:&quot; + (end - start));\n\nString res = &quot;&quot;;\nDouble sad = 0.0;\nstart = System.currentTimeMillis();\nfor(long b = 0;b&lt;lim;++b){\n    sad = Math.random();\n    String sa = sad.toString();\n    res+=sa;\n}\nend = System.currentTimeMillis();\nSystem.out.println(&quot;Pure string concat time:&quot; + (end - start));\nSystem.out.println(&quot;len:&quot;+res.length());\n\nStringBuffer sbf = new StringBuffer();\nstart = System.currentTimeMillis();\nfor(long c = 0;c&lt;lim;++c){\n    sad = Math.random();\n    String sa = sad.toString();\n    sbf.append(sa);\n}\nend = System.currentTimeMillis();\nSystem.out.println(&quot;StringBuffer concat time:&quot; + (end - start));\nSystem.out.println(&quot;len:&quot;+sbf.length());}\n</code></pre>\n<p>My result for 10000 concats is 364ms for String+=String and 14ms for StringBuffer append.\nI was very surprised about this result.</p>\n"}],"owner":{"account_id":75320,"reputation":2529,"user_id":216104,"accept_rate":91,"display_name":"Redandwhite"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11967,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":1842049,"answer_count":10,"score":17,"last_activity_date":1658530564,"creation_date":1259866026,"question_id":1842024,"body_markdown":"I normally create a String in Java the following way:\r\n\r\n&lt;pre&gt;String foo = &quot;123456&quot;;&lt;/pre&gt;\r\n\r\nHowever, My lecturer has insisted to me that forming a String using the &lt;code&gt;format&lt;/code&gt; method, as so:\r\n\r\n&lt;pre&gt;String foo = String.format(&quot;%s&quot;, 123456);&lt;/pre&gt;\r\n\r\n\r\nIs much faster.  \r\n\r\nAlso, he says that using the StringBuilder class is even faster.\r\n\r\n&lt;pre&gt;\r\nStringBuilder sb = new StringBuilder();\r\nString foo = sb.append(String.format(&quot;%s&quot;, 123456)).toString();\r\n&lt;/pre&gt;\r\n\r\n&lt;BR&gt;&lt;BR&gt;Which is the fastest method to create a String, **if there even is one**?\r\n\r\n*They could not be 100% accurate as I might not remember them fully.*","title":"Is there a &quot;fastest way&quot; to construct Strings in Java?","body":"<p>I normally create a String in Java the following way:</p>\n\n<pre>String foo = \"123456\";</pre>\n\n<p>However, My lecturer has insisted to me that forming a String using the <code>format</code> method, as so:</p>\n\n<pre>String foo = String.format(\"%s\", 123456);</pre>\n\n<p>Is much faster.  </p>\n\n<p>Also, he says that using the StringBuilder class is even faster.</p>\n\n<pre>\nStringBuilder sb = new StringBuilder();\nString foo = sb.append(String.format(\"%s\", 123456)).toString();\n</pre>\n\n<p><BR><BR>Which is the fastest method to create a String, <strong>if there even is one</strong>?</p>\n\n<p><em>They could not be 100% accurate as I might not remember them fully.</em></p>\n"},{"tags":["java","fonts","jvm","apache-poi","jvm-crash"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1658471604,"post_id":73074235,"comment_id":129063699,"body_markdown":"Seems the crash is only indirect triggered by Apache POI. The `org.apache.poi.xssf.streaming.AutoSizeColumnTracker` needs to know the default character width. The `org.apache.ss.util.SheetUtil.getDefaultCharWidth` tries to get that from `java.awt.font.TextLayout` and that crashes while trying to get `sun.font.FontConfigManager.getFontConfig`. I don&#39;t know k8s. But question is, is k8s even able to get a font config? Has it access to the font configuration files?","body":"Seems the crash is only indirect triggered by Apache POI. The <code>org.apache.poi.xssf.streaming.AutoSizeColumnTracker</code> needs to know the default character width. The <code>org.apache.ss.util.SheetUtil.getDefaultCharWidth</code> tries to get that from <code>java.awt.font.TextLayout</code> and that crashes while trying to get <code>sun.font.FontConfigManager.getFontConfig</code>. I don&#39;t know k8s. But question is, is k8s even able to get a font config? Has it access to the font configuration files?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1658477967,"post_id":73074235,"comment_id":129065632,"body_markdown":"We use Apache POI quite happily on k8s, including `Sheet.autoSizeColumn`. Make sure your Docker base image includes some fonts, ubuntu based ones normally do, stripped down alpine ones may not. No fonts -&gt; can&#39;t render text -&gt; can&#39;t auto-calculate column sizes","body":"We use Apache POI quite happily on k8s, including <code>Sheet.autoSizeColumn</code>. Make sure your Docker base image includes some fonts, ubuntu based ones normally do, stripped down alpine ones may not. No fonts -&gt; can&#39;t render text -&gt; can&#39;t auto-calculate column sizes"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1658485694,"post_id":73074235,"comment_id":129068654,"body_markdown":"upgrade your java runtime - even to the latest 8.0.x version - the SIGSEGV issue in the java runtime could be fixed in a newer version","body":"upgrade your java runtime - even to the latest 8.0.x version - the SIGSEGV issue in the java runtime could be fixed in a newer version"}],"owner":{"account_id":25866552,"reputation":11,"user_id":19598127,"display_name":"ayumi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658530386,"creation_date":1658454010,"question_id":73074235,"body_markdown":"I am writing a web app, which has a feature that writes data to an Excel file (using Apache POI tools) and gets downloaded by customers. The app runs pretty well on my Linux VM, but crashes on k8s each time a download request gets called.\r\n\r\nBelow is part of the JVM crash log:\r\n\r\n``` \r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f808e739294, pid=1, tid=0x00007f7fe52a4700\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (8.0_241-b07) (build 1.8.0_241-b07)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.241-b07 mixed mode linux-amd64 compressed oops)\r\n# Problematic frame:\r\n# C  [libc.so.6+0x10b294]  __clock_gettime+0x24\r\n#\r\n# Core dump written. Default location: /apply/integrator/core or core.1\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007f8088aa4800):  JavaThread &quot;http-nio-8080-exec-6&quot; daemon [_thread_in_native, id=74, stack(0x00007f7fe51a4000,0x00007f7fe52a5000)]\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 128 (SI_KERNEL), si_addr: 0x0000000000000000\r\n.......\r\n.......\r\nStack: [0x00007f7fe51a4000,0x00007f7fe52a5000],  sp=0x00007f7fe529dc20,  free space=999k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libc.so.6+0x10b294]  __clock_gettime+0x24\r\nC  [libc.so.6+0x86a63]\r\n[error occurred during error reporting (printing native stack), id 0xb]\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  sun.font.FontConfigManager.getFontConfig(Ljava/lang/String;Lsun/font/FontConfigManager$FontConfigInfo;[Lsun/font/FontConfigManager$FcCompFont;Z)V+0\r\nj  sun.font.FontConfigManager.initFontConfigFonts(Z)V+178\r\nj  sun.font.FontConfigManager.loadFontConfig()[Lsun/font/FontConfigManager$FcCompFont;+2\r\nj  sun.font.FcFontConfiguration.init()Z+39\r\nj  sun.font.FcFontConfiguration.&lt;init&gt;(Lsun/font/SunFontManager;)V+16\r\nj  sun.awt.X11FontManager.createFontConfiguration()Lsun/awt/FontConfiguration;+53\r\nj  sun.font.SunFontManager$2.run()Ljava/lang/Object;+205\r\nv  ~StubRoutines::call_stub\r\nJ 1599  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object; (0 bytes) @ 0x00007f80794d50cf [0x00007f80794d5080+0x4f]\r\nj  sun.font.SunFontManager.&lt;init&gt;()V+222\r\nj  sun.awt.FcFontManager.&lt;init&gt;()V+1\r\nj  sun.awt.X11FontManager.&lt;init&gt;()V+1\r\nv  ~StubRoutines::call_stub\r\nJ 1975  sun.reflect.NativeConstructorAccessorImpl.newInstance0(Ljava/lang/reflect/Constructor;[Ljava/lang/Object;)Ljava/lang/Object; (0 bytes) @ 0x00007f8079603fa3 [0x00007f8079603f40+0x63]\r\nJ 1974 C1 sun.reflect.NativeConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object; (89 bytes) @ 0x00007f807960af7c [0x00007f8079609f40+0x103c]\r\nJ 2102 C1 sun.reflect.DelegatingConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object; (9 bytes) @ 0x00007f8079671ac4 [0x00007f80796719c0+0x104]\r\nj  java.lang.reflect.Constructor.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+79\r\nJ 4231 C1 java.lang.Class.newInstance()Ljava/lang/Object; (155 bytes) @ 0x00007f80791bf8ec [0x00007f80791befe0+0x90c]\r\nj  sun.font.FontManagerFactory$1.run()Ljava/lang/Object;+21\r\nv  ~StubRoutines::call_stub\r\nJ 1599  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object; (0 bytes) @ 0x00007f80794d50cf [0x00007f80794d5080+0x4f]\r\nj  sun.font.FontManagerFactory.getInstance()Lsun/font/FontManager;+17\r\nj  java.awt.Font.getFont2D()Lsun/font/Font2D;+0\r\nj  java.awt.Font.canDisplayUpTo([CII)I+1\r\nj  java.awt.font.TextLayout.singleFont([CIILjava/util/Map;)Ljava/awt/Font;+64\r\nj  java.awt.font.TextLayout.&lt;init&gt;(Ljava/text/AttributedCharacterIterator;Ljava/awt/font/FontRenderContext;)V+170\r\nj  org.apache.\r\n.ss.util.SheetUtil.getDefaultCharWidth(Lorg/apache/poi/ss/usermodel/Workbook;)I+39\r\nj  org.apache.poi.xssf.streaming.AutoSizeColumnTracker.&lt;init&gt;(Lorg/apache/poi/ss/usermodel/Sheet;)V+49\r\nj  org.apache.poi.xssf.streaming.SXSSFSheet.&lt;init&gt;(Lorg/apache/poi/xssf/streaming/SXSSFWorkbook;Lorg/apache/poi/xssf/usermodel/XSSFSheet;)V+71\r\nj  org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(Lorg/apache/poi/xssf/usermodel/XSSFSheet;)Lorg/apache/poi/xssf/streaming/SXSSFSheet;+6\r\nj  org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(Ljava/lang/String;)Lorg/apache/poi/xssf/streaming/SXSSFSheet;+9\r\nj  org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(Ljava/lang/String;)Lorg/apache/poi/ss/usermodel/Sheet;+2\r\n.......\r\n.......\r\n---------------  S Y S T E M  ---------------\r\n\r\nOS:NAME=&quot;Alpine Linux&quot;\r\nID=alpine\r\nVERSION_ID=3.13.5\r\nPRETTY_NAME=&quot;Alpine Linux v3.13&quot;\r\nHOME_URL=&quot;https://alpinelinux.org/&quot;\r\nBUG_REPORT_URL=&quot;https://bugs.alpinelinux.org/&quot;\r\n\r\nuname:Linux 5.10.113-1.el7.x86_64 #1 SMP Thu Apr 28 00:44:36 UTC 2022 x86_64\r\nlibc:glibc 2.30 NPTL 2.30 \r\nrlimit: STACK 8192k, CORE infinity, NPROC infinity, NOFILE 1048576, AS infinity\r\nload average:2.42 2.39 2.38\r\n\r\n/proc/meminfo:\r\nMemTotal:       65960156 kB\r\nMemFree:        50173428 kB\r\nMemAvailable:   56264880 kB\r\nBuffers:          199864 kB\r\nCached:          6194120 kB\r\nSwapCached:            0 kB\r\nActive:          1624812 kB\r\nInactive:       12835352 kB\r\nActive(anon):     136984 kB\r\nInactive(anon):  8153056 kB\r\nActive(file):    1487828 kB\r\nInactive(file):  4682296 kB\r\nUnevictable:           0 kB\r\nMlocked:               0 kB\r\nSwapTotal:             0 kB\r\nSwapFree:              0 kB\r\nDirty:               484 kB\r\nWriteback:             0 kB\r\nAnonPages:       7918388 kB\r\nMapped:           454332 kB\r\nShmem:            315468 kB\r\nKReclaimable:     658012 kB\r\nSlab:             928020 kB\r\nSReclaimable:     658012 kB\r\nSUnreclaim:       270008 kB\r\nKernelStack:       39840 kB\r\nPageTables:        36932 kB\r\nNFS_Unstable:          0 kB\r\nBounce:                0 kB\r\nWritebackTmp:          0 kB\r\nCommitLimit:    32980076 kB\r\nCommitted_AS:   12516988 kB\r\nVmallocTotal:   34359738367 kB\r\nVmallocUsed:      162160 kB\r\nVmallocChunk:          0 kB\r\nPercpu:            71936 kB\r\nHardwareCorrupted:     0 kB\r\nAnonHugePages:   6258688 kB\r\nShmemHugePages:        0 kB\r\nShmemPmdMapped:        0 kB\r\nFileHugePages:         0 kB\r\nFilePmdMapped:         0 kB\r\nHugePages_Total:       0\r\nHugePages_Free:        0\r\nHugePages_Rsvd:        0\r\nHugePages_Surp:        0\r\nHugepagesize:       2048 kB\r\nHugetlb:               0 kB\r\nDirectMap4k:      431996 kB\r\nDirectMap2M:    66676736 kB\r\n```\r\n\r\nThe key point appears to be:\r\n\r\n```\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# Problematic frame:\r\n# C  [libc.so.6+0x10b294]  __clock_gettime+0x24\r\n``` \r\n\r\n...which is beyond my abilities to fix. How would I resolve this issue?","title":"JVM crashed with a fatal error. Problematic frame is C [libc.so.6+0x10b294] __clock_gettime+0x24","body":"<p>I am writing a web app, which has a feature that writes data to an Excel file (using Apache POI tools) and gets downloaded by customers. The app runs pretty well on my Linux VM, but crashes on k8s each time a download request gets called.</p>\n<p>Below is part of the JVM crash log:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f808e739294, pid=1, tid=0x00007f7fe52a4700\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_241-b07) (build 1.8.0_241-b07)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.241-b07 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# C  [libc.so.6+0x10b294]  __clock_gettime+0x24\n#\n# Core dump written. Default location: /apply/integrator/core or core.1\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007f8088aa4800):  JavaThread &quot;http-nio-8080-exec-6&quot; daemon [_thread_in_native, id=74, stack(0x00007f7fe51a4000,0x00007f7fe52a5000)]\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 128 (SI_KERNEL), si_addr: 0x0000000000000000\n.......\n.......\nStack: [0x00007f7fe51a4000,0x00007f7fe52a5000],  sp=0x00007f7fe529dc20,  free space=999k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libc.so.6+0x10b294]  __clock_gettime+0x24\nC  [libc.so.6+0x86a63]\n[error occurred during error reporting (printing native stack), id 0xb]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sun.font.FontConfigManager.getFontConfig(Ljava/lang/String;Lsun/font/FontConfigManager$FontConfigInfo;[Lsun/font/FontConfigManager$FcCompFont;Z)V+0\nj  sun.font.FontConfigManager.initFontConfigFonts(Z)V+178\nj  sun.font.FontConfigManager.loadFontConfig()[Lsun/font/FontConfigManager$FcCompFont;+2\nj  sun.font.FcFontConfiguration.init()Z+39\nj  sun.font.FcFontConfiguration.&lt;init&gt;(Lsun/font/SunFontManager;)V+16\nj  sun.awt.X11FontManager.createFontConfiguration()Lsun/awt/FontConfiguration;+53\nj  sun.font.SunFontManager$2.run()Ljava/lang/Object;+205\nv  ~StubRoutines::call_stub\nJ 1599  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object; (0 bytes) @ 0x00007f80794d50cf [0x00007f80794d5080+0x4f]\nj  sun.font.SunFontManager.&lt;init&gt;()V+222\nj  sun.awt.FcFontManager.&lt;init&gt;()V+1\nj  sun.awt.X11FontManager.&lt;init&gt;()V+1\nv  ~StubRoutines::call_stub\nJ 1975  sun.reflect.NativeConstructorAccessorImpl.newInstance0(Ljava/lang/reflect/Constructor;[Ljava/lang/Object;)Ljava/lang/Object; (0 bytes) @ 0x00007f8079603fa3 [0x00007f8079603f40+0x63]\nJ 1974 C1 sun.reflect.NativeConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object; (89 bytes) @ 0x00007f807960af7c [0x00007f8079609f40+0x103c]\nJ 2102 C1 sun.reflect.DelegatingConstructorAccessorImpl.newInstance([Ljava/lang/Object;)Ljava/lang/Object; (9 bytes) @ 0x00007f8079671ac4 [0x00007f80796719c0+0x104]\nj  java.lang.reflect.Constructor.newInstance([Ljava/lang/Object;)Ljava/lang/Object;+79\nJ 4231 C1 java.lang.Class.newInstance()Ljava/lang/Object; (155 bytes) @ 0x00007f80791bf8ec [0x00007f80791befe0+0x90c]\nj  sun.font.FontManagerFactory$1.run()Ljava/lang/Object;+21\nv  ~StubRoutines::call_stub\nJ 1599  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;)Ljava/lang/Object; (0 bytes) @ 0x00007f80794d50cf [0x00007f80794d5080+0x4f]\nj  sun.font.FontManagerFactory.getInstance()Lsun/font/FontManager;+17\nj  java.awt.Font.getFont2D()Lsun/font/Font2D;+0\nj  java.awt.Font.canDisplayUpTo([CII)I+1\nj  java.awt.font.TextLayout.singleFont([CIILjava/util/Map;)Ljava/awt/Font;+64\nj  java.awt.font.TextLayout.&lt;init&gt;(Ljava/text/AttributedCharacterIterator;Ljava/awt/font/FontRenderContext;)V+170\nj  org.apache.\n.ss.util.SheetUtil.getDefaultCharWidth(Lorg/apache/poi/ss/usermodel/Workbook;)I+39\nj  org.apache.poi.xssf.streaming.AutoSizeColumnTracker.&lt;init&gt;(Lorg/apache/poi/ss/usermodel/Sheet;)V+49\nj  org.apache.poi.xssf.streaming.SXSSFSheet.&lt;init&gt;(Lorg/apache/poi/xssf/streaming/SXSSFWorkbook;Lorg/apache/poi/xssf/usermodel/XSSFSheet;)V+71\nj  org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(Lorg/apache/poi/xssf/usermodel/XSSFSheet;)Lorg/apache/poi/xssf/streaming/SXSSFSheet;+6\nj  org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(Ljava/lang/String;)Lorg/apache/poi/xssf/streaming/SXSSFSheet;+9\nj  org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(Ljava/lang/String;)Lorg/apache/poi/ss/usermodel/Sheet;+2\n.......\n.......\n---------------  S Y S T E M  ---------------\n\nOS:NAME=&quot;Alpine Linux&quot;\nID=alpine\nVERSION_ID=3.13.5\nPRETTY_NAME=&quot;Alpine Linux v3.13&quot;\nHOME_URL=&quot;https://alpinelinux.org/&quot;\nBUG_REPORT_URL=&quot;https://bugs.alpinelinux.org/&quot;\n\nuname:Linux 5.10.113-1.el7.x86_64 #1 SMP Thu Apr 28 00:44:36 UTC 2022 x86_64\nlibc:glibc 2.30 NPTL 2.30 \nrlimit: STACK 8192k, CORE infinity, NPROC infinity, NOFILE 1048576, AS infinity\nload average:2.42 2.39 2.38\n\n/proc/meminfo:\nMemTotal:       65960156 kB\nMemFree:        50173428 kB\nMemAvailable:   56264880 kB\nBuffers:          199864 kB\nCached:          6194120 kB\nSwapCached:            0 kB\nActive:          1624812 kB\nInactive:       12835352 kB\nActive(anon):     136984 kB\nInactive(anon):  8153056 kB\nActive(file):    1487828 kB\nInactive(file):  4682296 kB\nUnevictable:           0 kB\nMlocked:               0 kB\nSwapTotal:             0 kB\nSwapFree:              0 kB\nDirty:               484 kB\nWriteback:             0 kB\nAnonPages:       7918388 kB\nMapped:           454332 kB\nShmem:            315468 kB\nKReclaimable:     658012 kB\nSlab:             928020 kB\nSReclaimable:     658012 kB\nSUnreclaim:       270008 kB\nKernelStack:       39840 kB\nPageTables:        36932 kB\nNFS_Unstable:          0 kB\nBounce:                0 kB\nWritebackTmp:          0 kB\nCommitLimit:    32980076 kB\nCommitted_AS:   12516988 kB\nVmallocTotal:   34359738367 kB\nVmallocUsed:      162160 kB\nVmallocChunk:          0 kB\nPercpu:            71936 kB\nHardwareCorrupted:     0 kB\nAnonHugePages:   6258688 kB\nShmemHugePages:        0 kB\nShmemPmdMapped:        0 kB\nFileHugePages:         0 kB\nFilePmdMapped:         0 kB\nHugePages_Total:       0\nHugePages_Free:        0\nHugePages_Rsvd:        0\nHugePages_Surp:        0\nHugepagesize:       2048 kB\nHugetlb:               0 kB\nDirectMap4k:      431996 kB\nDirectMap2M:    66676736 kB\n</code></pre>\n<p>The key point appears to be:</p>\n<pre><code># The crash happened outside the Java Virtual Machine in native code.\n# Problematic frame:\n# C  [libc.so.6+0x10b294]  __clock_gettime+0x24\n</code></pre>\n<p>...which is beyond my abilities to fix. How would I resolve this issue?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8828,"page":1164,"page_size":100}
