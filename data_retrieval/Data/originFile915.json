{"items":[{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1667418181,"post_id":74294836,"comment_id":131165183,"body_markdown":"`while (inputFile.hasNext());` That is a loop on its own. The semi-colon means you have an empty loop body... and seeing as you don&#39;t *consume* anything from `inputFile`, if it starts off with `hasNext` returning true, it&#39;ll keep returning true. You should remove the semi-colon if you want the brace after it to indicate &quot;this is the start of the loop body&quot;.","body":"<code>while (inputFile.hasNext());</code> That is a loop on its own. The semi-colon means you have an empty loop body... and seeing as you don&#39;t <i>consume</i> anything from <code>inputFile</code>, if it starts off with <code>hasNext</code> returning true, it&#39;ll keep returning true. You should remove the semi-colon if you want the brace after it to indicate &quot;this is the start of the loop body&quot;."},{"owner":{"account_id":26810425,"reputation":1,"user_id":20401135,"display_name":"David"},"score":0,"creation_date":1667418764,"post_id":74294836,"comment_id":131165350,"body_markdown":"Thanks Jon! So that allowed the program to advance on and read the first employees data and prints out as expected, but now its producing a inputmismatchexception error when it reaches the next employee&#39;s Level. It reads the ID and Name just fine from the text file. For reference the file is something like this\n\nHV2323\nJohn Smith\nB\n100000.0\nHV12333\nJane Smith\nB\n10000.0","body":"Thanks Jon! So that allowed the program to advance on and read the first employees data and prints out as expected, but now its producing a inputmismatchexception error when it reaches the next employee&#39;s Level. It reads the ID and Name just fine from the text file. For reference the file is something like this  HV2323 John Smith B 100000.0 HV12333 Jane Smith B 10000.0"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1667418842,"post_id":74294836,"comment_id":131165381,"body_markdown":"Stack Overflow isn&#39;t an interacting debugging service. I&#39;ve explained the problem you presented in this question. I&#39;d suggest deleting the question as it&#39;s basically just a typo (or not understanding the syntax of while loops). Now take a while to try to research/diagnose your *next* issue, and ask a new question with all the relevant information if you can&#39;t solve it yourself.","body":"Stack Overflow isn&#39;t an interacting debugging service. I&#39;ve explained the problem you presented in this question. I&#39;d suggest deleting the question as it&#39;s basically just a typo (or not understanding the syntax of while loops). Now take a while to try to research/diagnose your <i>next</i> issue, and ask a new question with all the relevant information if you can&#39;t solve it yourself."}],"owner":{"account_id":26810425,"reputation":1,"user_id":20401135,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667418115,"creation_date":1667418115,"question_id":74294836,"body_markdown":"The program I am writing needs to read 4 lines of data from a text file containing an ID, Name, Level, and Salary for an employee. It then needs to create a formatted email address and print all of this to standard output. The text file can contain an unknown number of employees, so a while loop must be used with the hasNext() method to confirm there is more data to read. \r\n\r\nMy program freezes (using Dr. Java) as soon as the while loop begins, and I cant figure out why. \r\n\r\nHere is my code so far\r\n\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    \r\n    File file = new File(&quot;employeeInput.txt&quot;);\r\n    \r\n    if (file.exists()) {  //check if file exists\r\n      \r\n      Scanner inputFile = new Scanner(file);  //opens file\r\n      \r\n      String companyName = inputFile.nextLine();\r\n      \r\n      System.out.println(companyName);\r\n      System.out.println();\r\n      System.out.println(&quot;----------------------------&quot;);\r\n      \r\n      while (inputFile.hasNext()); {\r\n      \r\n      String studentID = inputFile.nextLine();\r\n      System.out.println(studentID);\r\n      \r\n      String studentName = inputFile.nextLine();\r\n      System.out.println(studentName);\r\n      \r\n      String employeeLevel = inputFile.nextLine();\r\n      System.out.println(employeeLevel);\r\n      \r\n      double salary = inputFile.nextDouble();\r\n      System.out.println(salary);\r\n      \r\n      }\r\n      \r\n      inputFile.close();\r\n      \r\n      \r\n    }\r\n      \r\n      else {\r\n        \r\n        System.out.println(&quot;The file employeeInput.txt does not exist&quot;);\r\n        \r\n      }\r\n    }\r\n\r\n  }\r\n\r\nI understand this code is not complete and does everything the program needs to, but I do not get why it&#39;s freezing at the while loop..\r\n\r\nAny help or advice would be appreciated. This is my first class ever in programming language, so go easy on me :)","title":"Program freezes during run at While loop","body":"<p>The program I am writing needs to read 4 lines of data from a text file containing an ID, Name, Level, and Salary for an employee. It then needs to create a formatted email address and print all of this to standard output. The text file can contain an unknown number of employees, so a while loop must be used with the hasNext() method to confirm there is more data to read.</p>\n<p>My program freezes (using Dr. Java) as soon as the while loop begins, and I cant figure out why.</p>\n<p>Here is my code so far</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>File file = new File(&quot;employeeInput.txt&quot;);\n\nif (file.exists()) {  //check if file exists\n  \n  Scanner inputFile = new Scanner(file);  //opens file\n  \n  String companyName = inputFile.nextLine();\n  \n  System.out.println(companyName);\n  System.out.println();\n  System.out.println(&quot;----------------------------&quot;);\n  \n  while (inputFile.hasNext()); {\n  \n  String studentID = inputFile.nextLine();\n  System.out.println(studentID);\n  \n  String studentName = inputFile.nextLine();\n  System.out.println(studentName);\n  \n  String employeeLevel = inputFile.nextLine();\n  System.out.println(employeeLevel);\n  \n  double salary = inputFile.nextDouble();\n  System.out.println(salary);\n  \n  }\n  \n  inputFile.close();\n  \n  \n}\n  \n  else {\n    \n    System.out.println(&quot;The file employeeInput.txt does not exist&quot;);\n    \n  }\n}\n</code></pre>\n<p>}</p>\n<p>I understand this code is not complete and does everything the program needs to, but I do not get why it's freezing at the while loop..</p>\n<p>Any help or advice would be appreciated. This is my first class ever in programming language, so go easy on me :)</p>\n"},{"tags":["java","jackson","jackson-dataformat-xml"],"answers":[{"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1597009434,"post_id":63292525,"comment_id":111987676,"body_markdown":"Thank you very much @Michael. I am very glad that the answer was helpful.","body":"Thank you very much @Michael. I am very glad that the answer was helpful."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596787231,"creation_date":1596752321,"answer_id":63292525,"question_id":63220292,"body_markdown":"I must recognize that I usually only use Jackson for JSON handling, but it seems that it is a [known limitation](https://github.com/FasterXML/jackson-dataformat-xml#known-limitations) of the ```jackson-dataformat-xml``` library:\r\n\r\n&gt; Prior to 2.12 (not yet released as of May 2020), handling of repeated XML elements was problematic (it could only retain the last element read), but [#403](https://github.com/FasterXML/jackson-dataformat-xml/issues/403) improves handling\r\n\r\nMaybe this issue could be related with your problem.\r\n\r\nAs a workaround, if possible, you can apply some kind of XSLT transformation to the XML documents before processing them, so that all nodes with the same name are grouped together, and see if the result is as expected.\r\n\r\nYou can also try another deserialization alternatives, mainly, JAXB, or direct XML processing.\r\n\r\n","title":"Jackson XML deserialization skips field when using multiple useWrapping = false","body":"<p>I must recognize that I usually only use Jackson for JSON handling, but it seems that it is a <a href=\"https://github.com/FasterXML/jackson-dataformat-xml#known-limitations\" rel=\"nofollow noreferrer\">known limitation</a> of the <code>jackson-dataformat-xml</code> library:</p>\n<blockquote>\n<p>Prior to 2.12 (not yet released as of May 2020), handling of repeated XML elements was problematic (it could only retain the last element read), but <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/403\" rel=\"nofollow noreferrer\">#403</a> improves handling</p>\n</blockquote>\n<p>Maybe this issue could be related with your problem.</p>\n<p>As a workaround, if possible, you can apply some kind of XSLT transformation to the XML documents before processing them, so that all nodes with the same name are grouped together, and see if the result is as expected.</p>\n<p>You can also try another deserialization alternatives, mainly, JAXB, or direct XML processing.</p>\n"},{"tags":[],"owner":{"account_id":19051245,"reputation":616,"user_id":13909378,"display_name":"jnorman"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1597451877,"creation_date":1597088993,"answer_id":63347057,"question_id":63220292,"body_markdown":"For any property, you can specify a method to use as the setter or getter using Jackson annotations ([JsonSetter][1] and [JsonGetter][2]). When you just a need a little modification to what Jackson is doing, then this seems easier that writing a custom `deserializer` / `serializer` for the whole class. Jackson also has a [JsonAnySetter][3] annotation that is a fallback to use for something not specified in your class (I&#39;ve found that to be handy sometimes; I&#39;ve used that to put all XML attributes of a type of element into a single Map rather than having to have properties for every possible attribute).\r\n\r\nYou could add custom XML deserialization methods to your Root class.  Something like this:\r\n````\r\n@JsonSetter(value =  &quot;foo&quot;)\r\npublic void setFooFromXml(Foo foo) {\r\n\tif (this.foos == null) {\r\n\t\tthis.foos = new ArrayList&lt;Foo&gt;();\r\n\t} \r\n\tthis.foos.add(foo);\r\n}\r\n\r\n@JsonSetter(value =  &quot;bar&quot;)\r\npublic void setBarFromXml(Bar bar) {\r\n\tif (this.bars == null) {\r\n\t\tthis.bars = new ArrayList&lt;Bar&gt;();\r\n\t} \r\n\tthis.bars.add(bar);\r\n}\r\n````\r\n\r\nUsing Jackson to deserialize the XML like this:\r\n````\r\ntry {\r\n\tString input = &quot;&lt;root&gt;&lt;foo name=\\&quot;AAA\\&quot; /&gt;&lt;bar name=\\&quot;BBB\\&quot; /&gt;&lt;foo name=\\&quot;CCC\\&quot; /&gt;&lt;/root&gt;&quot;;\r\n\tXmlMapper mapper = new XmlMapper();\r\n\tRoot root = mapper.readValue(input, Root.class);\r\n\tSystem.out.println(root.getBars());\r\n\tSystem.out.println(root.getFoos());\r\n\t\r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\n````\r\n\r\nGives an output of this (after adding some simple toString() and getter methods):\r\n````\r\n[Bar [name=BBB]]\r\n[Foo [name=AAA], Foo [name=CCC]]\r\n````\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.11.1/com/fasterxml/jackson/annotation/JsonSetter.html\r\n  [2]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.11.1/com/fasterxml/jackson/annotation/JsonGetter.html\r\n  [3]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.11.1/com/fasterxml/jackson/annotation/JsonAnySetter.html","title":"Jackson XML deserialization skips field when using multiple useWrapping = false","body":"<p>For any property, you can specify a method to use as the setter or getter using Jackson annotations (<a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.11.1/com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"nofollow noreferrer\">JsonSetter</a> and <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.11.1/com/fasterxml/jackson/annotation/JsonGetter.html\" rel=\"nofollow noreferrer\">JsonGetter</a>). When you just a need a little modification to what Jackson is doing, then this seems easier that writing a custom <code>deserializer</code> / <code>serializer</code> for the whole class. Jackson also has a <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-annotations/2.11.1/com/fasterxml/jackson/annotation/JsonAnySetter.html\" rel=\"nofollow noreferrer\">JsonAnySetter</a> annotation that is a fallback to use for something not specified in your class (I've found that to be handy sometimes; I've used that to put all XML attributes of a type of element into a single Map rather than having to have properties for every possible attribute).</p>\n<p>You could add custom XML deserialization methods to your Root class.  Something like this:</p>\n<pre><code>@JsonSetter(value =  &quot;foo&quot;)\npublic void setFooFromXml(Foo foo) {\n    if (this.foos == null) {\n        this.foos = new ArrayList&lt;Foo&gt;();\n    } \n    this.foos.add(foo);\n}\n\n@JsonSetter(value =  &quot;bar&quot;)\npublic void setBarFromXml(Bar bar) {\n    if (this.bars == null) {\n        this.bars = new ArrayList&lt;Bar&gt;();\n    } \n    this.bars.add(bar);\n}\n</code></pre>\n<p>Using Jackson to deserialize the XML like this:</p>\n<pre><code>try {\n    String input = &quot;&lt;root&gt;&lt;foo name=\\&quot;AAA\\&quot; /&gt;&lt;bar name=\\&quot;BBB\\&quot; /&gt;&lt;foo name=\\&quot;CCC\\&quot; /&gt;&lt;/root&gt;&quot;;\n    XmlMapper mapper = new XmlMapper();\n    Root root = mapper.readValue(input, Root.class);\n    System.out.println(root.getBars());\n    System.out.println(root.getFoos());\n    \n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Gives an output of this (after adding some simple toString() and getter methods):</p>\n<pre><code>[Bar [name=BBB]]\n[Foo [name=AAA], Foo [name=CCC]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26810480,"reputation":1,"user_id":20401182,"display_name":"son0fether"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667418018,"creation_date":1667418018,"answer_id":74294821,"question_id":63220292,"body_markdown":"I&#39;ve found a solution for grouping repeated, non-consecutive XML fields into one list using Jackson, but it also uses Lombok.\r\n\r\n1. Create a Lombok for the class with &#39;@Builder&#39;: https://projectlombok.org/features/Builder\r\n2. Add the &#39;@Jacksonized&#39; annotation to the class, which makes Jackson use that builder to deserialize: https://projectlombok.org/features/experimental/Jacksonized\r\n3. Add the &#39;@Singular&#39; annotation to the List field, which makes Lombok create a method for adding a single element instead: https://projectlombok.org/features/Builder#singular\r\n4. Put the field name in the @Singular annotation, e.g. &#39;@Singular(&quot;item&quot;)&#39;, which makes that method that takes one element have the field name\r\n\r\nTogether, these make Jackson pass each field as it is reached to the Lombok Builder, which has a single-item builder method that accumulates a list. Interleaving is fine.\r\n","title":"Jackson XML deserialization skips field when using multiple useWrapping = false","body":"<p>I've found a solution for grouping repeated, non-consecutive XML fields into one list using Jackson, but it also uses Lombok.</p>\n<ol>\n<li>Create a Lombok for the class with '@Builder': <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Builder</a></li>\n<li>Add the '@Jacksonized' annotation to the class, which makes Jackson use that builder to deserialize: <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Jacksonized</a></li>\n<li>Add the '@Singular' annotation to the List field, which makes Lombok create a method for adding a single element instead: <a href=\"https://projectlombok.org/features/Builder#singular\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Builder#singular</a></li>\n<li>Put the field name in the @Singular annotation, e.g. '@Singular(&quot;item&quot;)', which makes that method that takes one element have the field name</li>\n</ol>\n<p>Together, these make Jackson pass each field as it is reached to the Lombok Builder, which has a single-item builder method that accumulates a list. Interleaving is fine.</p>\n"}],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3787,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":63347057,"answer_count":3,"score":8,"last_activity_date":1667418018,"creation_date":1596397141,"question_id":63220292,"body_markdown":"I am trying to deserialize the following XML:\r\n```xml\r\n&lt;root&gt;\r\n    &lt;foo name=&quot;AAA&quot; /&gt;\r\n    &lt;bar name=&quot;BBB&quot; /&gt;\r\n    &lt;foo name=&quot;CCC&quot; /&gt;\r\n&lt;/root&gt;\r\n```\r\nMy Jackson classes are:\r\n```java\r\n@Data\r\npublic class Foo {\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String name;\r\n}\r\n```\r\nBar is identical, just a different class name. (In the real code they are different, this is just an example).\r\n\r\nAnd the root class is \r\n```java\r\n@Data\r\npublic class Root {\r\n    @JacksonXmlProperty(localName = &quot;foo&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Foo&gt; foos;\r\n    @JacksonXmlProperty(localName = &quot;bar&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n```\r\nWhen I try to deserialize the XML, using this code\r\n```java\r\nSystem.out.println(new XmlMapper().readValue(theXml, Root.class));\r\n```\r\nThe result is this (note the lack of &quot;AAA&quot;):\r\n```none\r\nRoot(foos=[Foo(name=CCC)], bars=[Bar(name=BBB)])\r\n```\r\nHowever, if I move the fields in the XML so that both `foo` tags are next to each other, it prints\r\n```none\r\nRoot(foos=[Foo(name=AAA), Foo(name=CCC)], bars=[Bar(name=BBB)])\r\n```\r\nI&#39;m using [jackson-dataformat-xml][1] 2.11.1 which is the latest.\r\n\r\nWhat is going on here, and how can I fix it?\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.11/overview-summary.html","title":"Jackson XML deserialization skips field when using multiple useWrapping = false","body":"<p>I am trying to deserialize the following XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n    &lt;foo name=&quot;AAA&quot; /&gt;\n    &lt;bar name=&quot;BBB&quot; /&gt;\n    &lt;foo name=&quot;CCC&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>My Jackson classes are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Foo {\n    @JacksonXmlProperty(isAttribute = true)\n    private String name;\n}\n</code></pre>\n<p>Bar is identical, just a different class name. (In the real code they are different, this is just an example).</p>\n<p>And the root class is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Root {\n    @JacksonXmlProperty(localName = &quot;foo&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Foo&gt; foos;\n    @JacksonXmlProperty(localName = &quot;bar&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Bar&gt; bars;\n}\n</code></pre>\n<p>When I try to deserialize the XML, using this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(new XmlMapper().readValue(theXml, Root.class));\n</code></pre>\n<p>The result is this (note the lack of &quot;AAA&quot;):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Root(foos=[Foo(name=CCC)], bars=[Bar(name=BBB)])\n</code></pre>\n<p>However, if I move the fields in the XML so that both <code>foo</code> tags are next to each other, it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>Root(foos=[Foo(name=AAA), Foo(name=CCC)], bars=[Bar(name=BBB)])\n</code></pre>\n<p>I'm using <a href=\"https://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.11/overview-summary.html\" rel=\"nofollow noreferrer\">jackson-dataformat-xml</a> 2.11.1 which is the latest.</p>\n<p>What is going on here, and how can I fix it?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":542404,"reputation":1735,"user_id":911228,"display_name":"kmera"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1390151634,"creation_date":1390151634,"answer_id":21219912,"question_id":21219884,"body_markdown":"Hit `CTRL+F` and check the `regex` checkbox. Then search for `,` and replace it with `,\\n`.","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>Hit <code>CTRL+F</code> and check the <code>regex</code> checkbox. Then search for <code>,</code> and replace it with <code>,\\n</code>.</p>\n"},{"comments":[{"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"score":0,"creation_date":1505931744,"post_id":21219921,"comment_id":79619330,"body_markdown":"And how can you remove an empty line using same regex. :)","body":"And how can you remove an empty line using same regex. :)"},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1702189252,"post_id":21219921,"comment_id":136864990,"body_markdown":"@muasif80 in notepad++ editor I can search for \\n\\n and replace with \\n or search for YXYZ\\n and replace with XYZ or  \\nABC and replace with just ABC ... depends on document, but in genereal can search for \\n and in replace part leave that out","body":"@muasif80 in notepad++ editor I can search for \\n\\n and replace with \\n or search for YXYZ\\n and replace with XYZ or  \\nABC and replace with just ABC ... depends on document, but in genereal can search for \\n and in replace part leave that out"}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":2,"down_vote_count":0,"up_vote_count":215,"is_accepted":true,"score":215,"last_activity_date":1390151677,"creation_date":1390151677,"answer_id":21219921,"question_id":21219884,"body_markdown":"You need to check the Regex box and use &quot;\\n&quot; for the new line character:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2Nkl4.png","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>You need to check the Regex box and use \"\\n\" for the new line character:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2Nkl4.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1390151770,"post_id":21219925,"comment_id":31959331,"body_markdown":"Ha-ha, looks like everyone knows this.","body":"Ha-ha, looks like everyone knows this."},{"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"score":0,"creation_date":1390151969,"post_id":21219925,"comment_id":31959405,"body_markdown":"It does, and it seems like you&#39;re faster with Paint :). PS: If you have not tried it, then I strongly suggest the Darcula! It is so much easier on my eyes.","body":"It does, and it seems like you&#39;re faster with Paint :). PS: If you have not tried it, then I strongly suggest the Darcula! It is so much easier on my eyes."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":1,"creation_date":1390158782,"post_id":21219925,"comment_id":31961987,"body_markdown":"It&#39;s PicPick I&#39;m using. I tried Idea Darcula Theme, but I guess I&#39;m too much used to the default colors.","body":"It&#39;s PicPick I&#39;m using. I tried Idea Darcula Theme, but I guess I&#39;m too much used to the default colors."}],"tags":[],"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1390151706,"creation_date":1390151706,"answer_id":21219925,"question_id":21219884,"body_markdown":"The easiest way that I have done it is to use the regular expression form of replace.\r\n\r\n![enter image description here][1]\r\n\r\nChances are that you don&#39;t want to replace the `{`, but just keep in my escaping them if you do want to do so.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hQYRm.png","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>The easiest way that I have done it is to use the regular expression form of replace.</p>\n\n<p><img src=\"https://i.stack.imgur.com/hQYRm.png\" alt=\"enter image description here\"></p>\n\n<p>Chances are that you don't want to replace the <code>{</code>, but just keep in my escaping them if you do want to do so.</p>\n"},{"comments":[{"owner":{"account_id":1086850,"reputation":4124,"user_id":1082367,"accept_rate":47,"display_name":"Matthew Cornell"},"score":6,"creation_date":1452788947,"post_id":21221346,"comment_id":57332742,"body_markdown":"I&#39;m using 15, and it looks like the multiline feature is no more. Why would they remove such a useful feature?","body":"I&#39;m using 15, and it looks like the multiline feature is no more. Why would they remove such a useful feature?"},{"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"score":4,"creation_date":1463900961,"post_id":21221346,"comment_id":62254928,"body_markdown":"This still exists, select multiple lines, then click `CTRL+F`, *then* click `CTRL+R`, it seems to be a hidden feature, but still works in that case as previous versions","body":"This still exists, select multiple lines, then click <code>CTRL+F</code>, <i>then</i> click <code>CTRL+R</code>, it seems to be a hidden feature, but still works in that case as previous versions"},{"owner":{"account_id":43917,"reputation":4095,"user_id":128579,"display_name":"Louis St-Amour"},"score":11,"creation_date":1510761757,"post_id":21221346,"comment_id":81574753,"body_markdown":"It&#39;s even easier now -- a visible return carriage arrow appears within the find or replace boxes -- clicking it will insert a newline.","body":"It&#39;s even easier now -- a visible return carriage arrow appears within the find or replace boxes -- clicking it will insert a newline."},{"owner":{"account_id":5558191,"reputation":2845,"user_id":4408782,"accept_rate":93,"display_name":"Tom M"},"score":0,"creation_date":1636390523,"post_id":21221346,"comment_id":123538232,"body_markdown":"is there any way to make it keep indentation? If I replace a string `apples` that starts at col 16 with `apples\\nbananas`, bananas will be at column 0","body":"is there any way to make it keep indentation? If I replace a string <code>apples</code> that starts at col 16 with <code>apples\\nbananas</code>, bananas will be at column 0"},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1647197809,"post_id":21221346,"comment_id":126305418,"body_markdown":"@TomM there is no way afaik, unless you write a plugin.","body":"@TomM there is no way afaik, unless you write a plugin."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1654702510,"post_id":21221346,"comment_id":128155860,"body_markdown":"works flawlessly!","body":"works flawlessly!"},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1702189104,"post_id":21221346,"comment_id":136864986,"body_markdown":"I pasted text with a new line in the replace part, preserved that and replaced it.","body":"I pasted text with a new line in the replace part, preserved that and replaced it."}],"tags":[],"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"comment_count":7,"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1490929916,"creation_date":1390158872,"answer_id":21221346,"question_id":21219884,"body_markdown":"Use Multiline button, no Regex is needed.\r\n![][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/czzzU.png\r\n\r\nedit: the multiline button is missing since IntelliJ 15, but you can enable it by clicking into the textfield and pressing `Alt+Enter` or `Ctrl+Shift+Enter` ","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>Use Multiline button, no Regex is needed.\n<img src=\"https://i.stack.imgur.com/czzzU.png\" alt=\"\"></p>\n\n<p>edit: the multiline button is missing since IntelliJ 15, but you can enable it by clicking into the textfield and pressing <code>Alt+Enter</code> or <code>Ctrl+Shift+Enter</code> </p>\n"},{"comments":[{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":3,"creation_date":1463901421,"post_id":37371568,"comment_id":62255008,"body_markdown":"you just press ALT+Enter, with the focus in the textfield","body":"you just press ALT+Enter, with the focus in the textfield"},{"owner":{"account_id":3311320,"reputation":1714,"user_id":2784766,"display_name":"Daniele Torino"},"score":0,"creation_date":1466594199,"post_id":37371568,"comment_id":63378798,"body_markdown":"Even with this trick it is not possible to enter multiple lines in the replace field.","body":"Even with this trick it is not possible to enter multiple lines in the replace field."},{"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"score":0,"creation_date":1466634827,"post_id":37371568,"comment_id":63404479,"body_markdown":"Its working for me fine within `IntelliJ 2016.1.3` on MAC, ⌘ + F &gt; ⌘ + R","body":"Its working for me fine within <code>IntelliJ 2016.1.3</code> on MAC, ⌘ + F &gt; ⌘ + R"}],"tags":[],"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1466634869,"creation_date":1463901138,"answer_id":37371568,"question_id":21219884,"body_markdown":"For those looking for the old multiline replace in inteliJ with version &gt; 15.x. It seems somewhat hidden, but if you select multiple lines &gt; click `CTRL+F`, then immediately click `CTRL+R` you are presented with the original multiline replace.\r\n\r\nThis is working on Mac `IntelliJ 2016.1.3` with ⌘+F &gt; ⌘+R\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QgiEF.png","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>For those looking for the old multiline replace in inteliJ with version > 15.x. It seems somewhat hidden, but if you select multiple lines > click <code>CTRL+F</code>, then immediately click <code>CTRL+R</code> you are presented with the original multiline replace.</p>\n\n<p>This is working on Mac <code>IntelliJ 2016.1.3</code> with ⌘+F > ⌘+R</p>\n\n<p><a href=\"https://i.stack.imgur.com/QgiEF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgiEF.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2085257,"reputation":2179,"user_id":1856400,"display_name":"spheenik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472130552,"creation_date":1472130552,"answer_id":39146260,"question_id":21219884,"body_markdown":"A clean approach would be to add `(?m)` in front of the regular expression, which turns on the multi line mode. This has the advantage that you can also use it in the global file search (Ctrl-Shift-F).\r\n\r\nExample: `(?m)\\{(.|\\n)*?\\}` searches for multi-line blocks surrounded by curly braces.","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>A clean approach would be to add <code>(?m)</code> in front of the regular expression, which turns on the multi line mode. This has the advantage that you can also use it in the global file search (Ctrl-Shift-F).</p>\n\n<p>Example: <code>(?m)\\{(.|\\n)*?\\}</code> searches for multi-line blocks surrounded by curly braces.</p>\n"},{"comments":[{"owner":{"account_id":8131,"reputation":17334,"user_id":14455,"accept_rate":58,"display_name":"akauppi"},"score":0,"creation_date":1646995756,"post_id":44584528,"comment_id":126266848,"body_markdown":"Command-Shift + Enter on Mac","body":"Command-Shift + Enter on Mac"}],"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1497601960,"creation_date":1497601960,"answer_id":44584528,"question_id":21219884,"body_markdown":"On intellij Ultimate 2017.1:\r\n\r\nI didn&#39;t need regex. But I could make the multiline replace appear.\r\n\r\n- I entered \\n in the field I wanted to replace\r\n- I placed my cursor in the field where I wanted to enter the replacement text, and clicked Ctrl-Shift + Enter. Here I just hit return\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ynaL.png","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>On intellij Ultimate 2017.1:</p>\n\n<p>I didn't need regex. But I could make the multiline replace appear.</p>\n\n<ul>\n<li>I entered \\n in the field I wanted to replace</li>\n<li>I placed my cursor in the field where I wanted to enter the replacement text, and clicked Ctrl-Shift + Enter. Here I just hit return</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/1ynaL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1ynaL.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":5118533,"reputation":601,"user_id":4102907,"display_name":"Bartekus"},"score":1,"creation_date":1522710070,"post_id":49325107,"comment_id":86246840,"body_markdown":"This answer is legitimate and work for search and replace in IntelliJ IDEA, PHPStorm and WebStorm where the user wants to replace an instance of `\\n` with actual new line.\nPlease do not downvote useful answers.","body":"This answer is legitimate and work for search and replace in IntelliJ IDEA, PHPStorm and WebStorm where the user wants to replace an instance of <code>\\n</code> with actual new line. Please do not downvote useful answers."}],"tags":[],"owner":{"account_id":13157444,"reputation":181,"user_id":9504147,"display_name":"wiena wu"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1521216437,"creation_date":1521216437,"answer_id":49325107,"question_id":21219884,"body_markdown":"For Intellij Ultimate 2017.3 on Mac, `command-shift-enter` works","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>For Intellij Ultimate 2017.3 on Mac, <code>command-shift-enter</code> works</p>\n"},{"comments":[{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":1,"creation_date":1538338817,"post_id":52581541,"comment_id":92098714,"body_markdown":"If your answer is helpful, but not actually answering this question, it&#39;s better to ask a new question and add your answer there. We always welcome useful new questions and answers, and it&#39;s encouraged to answer your own question if you can :)","body":"If your answer is helpful, but not actually answering this question, it&#39;s better to ask a new question and add your answer there. We always welcome useful new questions and answers, and it&#39;s encouraged to answer your own question if you can :)"}],"tags":[],"owner":{"account_id":2828235,"reputation":36,"user_id":2430385,"display_name":"Dr Code Monkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538336827,"creation_date":1538336827,"answer_id":52581541,"question_id":21219884,"body_markdown":"The is related but not exactly what you asked.  But I needed it and I can imagine others do to. \r\nSo I had the problem in Node.js where I wanted to split a reject into call into a log and reject for clarity\r\n\r\n`reject(error)`\r\n\r\ninto \r\n\r\n```appLogger.log(error, &#39;error&#39;)\r\n reject(error)\r\n```\r\n\r\nIn normal mode, I did find and replace \r\n\r\n&gt;Find: `reject(error)`\r\n\r\n&gt;Replace: `appLogger.log(error, &#39;error&#39;)\\n reject(error)`\r\n\r\nThen in regex mode I did a second find and replace:\r\n\r\n&gt;Find: `\\\\n`\r\n\r\n&gt;Replace `\\n`\r\n","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>The is related but not exactly what you asked.  But I needed it and I can imagine others do to. \nSo I had the problem in Node.js where I wanted to split a reject into call into a log and reject for clarity</p>\n\n<p><code>reject(error)</code></p>\n\n<p>into </p>\n\n<p><code>appLogger.log(error, 'error')\n reject(error)\n</code></p>\n\n<p>In normal mode, I did find and replace </p>\n\n<blockquote>\n  <p>Find: <code>reject(error)</code></p>\n  \n  <p>Replace: <code>appLogger.log(error, 'error')\\n reject(error)</code></p>\n</blockquote>\n\n<p>Then in regex mode I did a second find and replace:</p>\n\n<blockquote>\n  <p>Find: <code>\\\\n</code></p>\n  \n  <p>Replace <code>\\n</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5577550,"reputation":4169,"user_id":4420532,"accept_rate":90,"display_name":"Felix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538733750,"creation_date":1538733750,"answer_id":52663096,"question_id":21219884,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;R&lt;/kbd&gt; **while the replaced text is selected**:\r\n\r\nThis works for *Replace in Path* (WebStorm 2018.2.3):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nsee [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmjqL.png\r\n  [2]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/207696505-Multi-line-search-and-replace?flash_digest=5eb7905eda771e5ef2e27856821bc57ae2267327","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd> <strong>while the replaced text is selected</strong>:</p>\n\n<p>This works for <em>Replace in Path</em> (WebStorm 2018.2.3):</p>\n\n<p><a href=\"https://i.stack.imgur.com/OmjqL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmjqL.png\" alt=\"enter image description here\"></a></p>\n\n<p>see <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/207696505-Multi-line-search-and-replace?flash_digest=5eb7905eda771e5ef2e27856821bc57ae2267327\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25754,"reputation":69853,"user_id":66475,"accept_rate":99,"display_name":"Bjorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68625,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"accepted_answer_id":21219921,"answer_count":10,"score":166,"last_activity_date":1667417990,"creation_date":1390151483,"question_id":21219884,"body_markdown":"I wanted to replace all commas with commas and a newline using IntelliJ IDEA&#39;s replace function. What do I put in the search box? In vim I&#39;d use `&amp;\\r`.","title":"In IntelliJ IDEA how do I replace text with a new line?","body":"<p>I wanted to replace all commas with commas and a newline using IntelliJ IDEA's replace function. What do I put in the search box? In vim I'd use <code>&amp;\\r</code>.</p>\n"},{"tags":["java","cmake","java-native-interface","eclipse-temurin"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667374964,"post_id":74283117,"comment_id":131149425,"body_markdown":"Can you show the `find_package` invocation for JNI?","body":"Can you show the <code>find_package</code> invocation for JNI?"},{"owner":{"account_id":15530138,"reputation":835,"user_id":12928292,"display_name":"Alberto Casas Ortiz"},"score":0,"creation_date":1667417912,"post_id":74283117,"comment_id":131165096,"body_markdown":"Hi @Botje, I was finally able to compile this. It does not actually &quot;solve&quot; the problem, since I had to set the variables manually, but this worked for me.  I posted an answer with it.\n\nRegarding the `find_package` invocation, I just added it to my question. It indicates the minimum version as 1.7. I am using 1.8, so it should not be a problem.","body":"Hi @Botje, I was finally able to compile this. It does not actually &quot;solve&quot; the problem, since I had to set the variables manually, but this worked for me.  I posted an answer with it.  Regarding the <code>find_package</code> invocation, I just added it to my question. It indicates the minimum version as 1.7. I am using 1.8, so it should not be a problem."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667469834,"post_id":74283117,"comment_id":131175922,"body_markdown":"Thanks. I tried to reproduce your issue but could not. All the mentioned variables are just present and correct for me.","body":"Thanks. I tried to reproduce your issue but could not. All the mentioned variables are just present and correct for me."}],"answers":[{"tags":[],"owner":{"account_id":15530138,"reputation":835,"user_id":12928292,"display_name":"Alberto Casas Ortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667417637,"creation_date":1667417637,"answer_id":74294750,"question_id":74283117,"body_markdown":"I was finally able to solve this by setting the requested variables as flags for cmake. I just appended the following to my cmake call:\r\n\r\n    cmake ... -DJAVA_HOME=$(/usr/libexec/java_home -v 1.8) -DJAVA_INCLUDE_PATH=$(/usr/libexec/java_home -v 1.8)/include -DJAVA_INCLUDE_PATH2=$(/usr/libexec/java_home -v 1.8)/include/darwin -DJAVA_AWT_INCLUDE_PATH=$(/usr/libexec/java_home -v 1.8)/include","title":"CMake not detecting JNI properly with Temuring jdk 8 in MacOS","body":"<p>I was finally able to solve this by setting the requested variables as flags for cmake. I just appended the following to my cmake call:</p>\n<pre><code>cmake ... -DJAVA_HOME=$(/usr/libexec/java_home -v 1.8) -DJAVA_INCLUDE_PATH=$(/usr/libexec/java_home -v 1.8)/include -DJAVA_INCLUDE_PATH2=$(/usr/libexec/java_home -v 1.8)/include/darwin -DJAVA_AWT_INCLUDE_PATH=$(/usr/libexec/java_home -v 1.8)/include\n</code></pre>\n"}],"owner":{"account_id":15530138,"reputation":835,"user_id":12928292,"display_name":"Alberto Casas Ortiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74294750,"answer_count":1,"score":3,"last_activity_date":1667417967,"creation_date":1667348405,"question_id":74283117,"body_markdown":"I am building a library on Mac Big Sur using Java 8 from Adoptium (Eclipse Temurin).\r\n\r\nTo install Java, I am using the following commands:\r\n\r\n    brew tap homebrew/cask-versions\r\n    brew install --cask temurin8\r\n\r\nThen, I export JAVA_HOME like this:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\r\n\r\nAnd it properly exports it. When I execute `echo $JAVA_HOME`, it returns:\r\n\r\n    /Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home\r\n\r\nHowever, while building the library, it tries to find JNI, and it is returning the following lines:\r\n\r\n    CMake Error at /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 (message):\r\n      Could NOT find JNI (missing: JAVA_INCLUDED_PATH JAVA_INCLUDED_PATH2 AWT)\r\n\r\nIs there anything else necessary to make this work on MacOS?\r\n\r\nNotes:\r\n\r\n- I installed cmake using brew (`brew install cmake`).\r\n- I have already searched in Google and StackOverflow, and none of the proposed solutions worked (I have also checked the recommended similar questions while creating this one). \r\n- I checked the variable values in the `FindJNI.cmake` file and everything seems correct (it should find it).\r\n  - In `FindJNI.cmake`, the value of `JAVA_AWT_INCLUDE_DIRECTORIES` is correct (`/Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home/include`), and `jni.h` is inside that directory. However, `find_path(JAVA_INCLUDE_PATH &#39;jni.h&#39; $(JAVA_AWT_INCLUDE_DIRECTORIES))` is not setting `JAVA_INCLUDE_PATH` properly.\r\n  - I created a dummy project using `find_path(TEST &#39;jni.h&#39; &#39;/Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home/include&#39;)`, looking for `jni.h` and it works. `TEST` contains the correct value.\r\n\r\nThank you.\r\n\r\nEdit:\r\n\r\n - This is the call to `find_package`:\r\n\r\n        find_package(JNI 1.7 REQUIRED)","title":"CMake not detecting JNI properly with Temuring jdk 8 in MacOS","body":"<p>I am building a library on Mac Big Sur using Java 8 from Adoptium (Eclipse Temurin).</p>\n<p>To install Java, I am using the following commands:</p>\n<pre><code>brew tap homebrew/cask-versions\nbrew install --cask temurin8\n</code></pre>\n<p>Then, I export JAVA_HOME like this:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)\n</code></pre>\n<p>And it properly exports it. When I execute <code>echo $JAVA_HOME</code>, it returns:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home\n</code></pre>\n<p>However, while building the library, it tries to find JNI, and it is returning the following lines:</p>\n<pre><code>CMake Error at /usr/local/Cellar/cmake/3.24.2/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 (message):\n  Could NOT find JNI (missing: JAVA_INCLUDED_PATH JAVA_INCLUDED_PATH2 AWT)\n</code></pre>\n<p>Is there anything else necessary to make this work on MacOS?</p>\n<p>Notes:</p>\n<ul>\n<li>I installed cmake using brew (<code>brew install cmake</code>).</li>\n<li>I have already searched in Google and StackOverflow, and none of the proposed solutions worked (I have also checked the recommended similar questions while creating this one).</li>\n<li>I checked the variable values in the <code>FindJNI.cmake</code> file and everything seems correct (it should find it).\n<ul>\n<li>In <code>FindJNI.cmake</code>, the value of <code>JAVA_AWT_INCLUDE_DIRECTORIES</code> is correct (<code>/Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home/include</code>), and <code>jni.h</code> is inside that directory. However, <code>find_path(JAVA_INCLUDE_PATH 'jni.h' $(JAVA_AWT_INCLUDE_DIRECTORIES))</code> is not setting <code>JAVA_INCLUDE_PATH</code> properly.</li>\n<li>I created a dummy project using <code>find_path(TEST 'jni.h' '/Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home/include')</code>, looking for <code>jni.h</code> and it works. <code>TEST</code> contains the correct value.</li>\n</ul>\n</li>\n</ul>\n<p>Thank you.</p>\n<p>Edit:</p>\n<ul>\n<li><p>This is the call to <code>find_package</code>:</p>\n<pre><code> find_package(JNI 1.7 REQUIRED)\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1667417144,"post_id":74294621,"comment_id":131164842,"body_markdown":"&quot; does the remaining iterations of the for loop continue, or is it completely aborted?&quot;  Yes it is immediately aborted.  If you do not want the loop aborted you need to `catch` _inside_ of the loop body.","body":"&quot; does the remaining iterations of the for loop continue, or is it completely aborted?&quot;  Yes it is immediately aborted.  If you do not want the loop aborted you need to <code>catch</code> <i>inside</i> of the loop body."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1667417294,"post_id":74294621,"comment_id":131164891,"body_markdown":"If you want the loop to complete, you&#39;ll have to put the try/catch block inside the loop.  You&#39;ll need a collection or some data structure outside the loop scope so you can hang onto the error data and act on it after the loop is completed.","body":"If you want the loop to complete, you&#39;ll have to put the try/catch block inside the loop.  You&#39;ll need a collection or some data structure outside the loop scope so you can hang onto the error data and act on it after the loop is completed."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667419522,"post_id":74294621,"comment_id":131165598,"body_markdown":"Java exceptions have [&#39;termination semantics&#39;](https://en.wikipedia.org/wiki/Exception_handling#Termination_and_resumption_semantics).  There&#39;s no mechanism to carry on either &#39;exactly where you left off&#39; or &#39;some place else such as the next execution of the loop&#39;.  All that context is **gone** by the time the exception handler gets control. Think about the case where the try-catch is not even in the same method as the for-loop.","body":"Java exceptions have <a href=\"https://en.wikipedia.org/wiki/Exception_handling#Termination_and_resumption_semantics\" rel=\"nofollow noreferrer\">&#39;termination semantics&#39;</a>.  There&#39;s no mechanism to carry on either &#39;exactly where you left off&#39; or &#39;some place else such as the next execution of the loop&#39;.  All that context is <b>gone</b> by the time the exception handler gets control. Think about the case where the try-catch is not even in the same method as the for-loop."}],"answers":[{"tags":[],"owner":{"account_id":13618821,"reputation":11,"user_id":9824002,"display_name":"Pavel Bařtip&#225;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667417868,"creation_date":1667417868,"answer_id":74294792,"question_id":74294621,"body_markdown":"Problem with your code is that you have try/catch outside of for loop, so when an exception is thrown, your application won&#39;t crash, but the for loop would not iterate over another iteration.\r\n\r\nIn this particular code, you want to put the try/catch inside of the for loop, so whenever there is an exception thrown during your iteration, it will catch it and continue with another iteration.\r\n\r\nSo, your code should look like this:\r\n\r\n```\r\nfor (...){\r\n     try{\r\n         //throws exception during one of the iteration\r\n     } catch(Exception e) {\r\n     ....\r\n     }\r\n}\r\n```","title":"for loop within a try block","body":"<p>Problem with your code is that you have try/catch outside of for loop, so when an exception is thrown, your application won't crash, but the for loop would not iterate over another iteration.</p>\n<p>In this particular code, you want to put the try/catch inside of the for loop, so whenever there is an exception thrown during your iteration, it will catch it and continue with another iteration.</p>\n<p>So, your code should look like this:</p>\n<pre><code>for (...){\n     try{\n         //throws exception during one of the iteration\n     } catch(Exception e) {\n     ....\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":12950478,"reputation":57,"user_id":9363137,"display_name":"Abhijit Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667417868,"creation_date":1667416836,"question_id":74294621,"body_markdown":"If a `for` loop exists within a `try` block, and during one of the iteration of the `for` loop, an exception is thrown, does the remaining iterations of the `for` loop continue, or is it completely aborted?\r\n\r\n\r\n```\r\ntry{\r\n  for(...){\r\n   //throws exception during one of the iteration\r\n  }\r\n}catch(Exception e){\r\n ....\r\n}\r\n```\r\n\r\nThe doubt is in reference to a programming question I have been trying to solve where we model a car rental service.\r\nIn the fixed uneditable  code given in the question (see below), we run a `for` loop to iterate over car rental requests recieved (and create an object `obj` for each request). \r\nThe function call `obj.carBooker()` has one task of printing how much each passenger pays (totat fare for the destination/head count). It should throw appropriate checked exception - `ImproperHeadCountException`: if no. of passengers provided is less than 1, `WrongDestinationException`: if the destination provided is not in our database which has been stored in a hash map.\r\n\r\n        int num = s.nextInt(); //input the number of car rental requests\r\n        try {\r\n            for(int i=1;i&lt;=num;i++) {\r\n                int heads = s.nextInt(); //enter head count of passengers\r\n                s.nextLine();  //enter destination\r\n                String dest = s.nextLine();     \r\n                CarRental obj = new CarRental(heads,dest);\r\n                obj.carBooker();\r\n            }\r\n        }catch(Exception e) {\r\n            System.out.println(e.getCause());\r\n        }\r\nA sample input for the problem is:\r\n```\r\n3\r\n0\r\nMarina Beach\r\n4\r\nElliot&#39;s Beach\r\n5\r\nTaj Mahal\r\n```\r\nMy problem is that in my solution code, where I have to implement the carBooker() method, the `for` loop aborts the moment it catches the first exception for a given car rental request and doesn&#39;t proceeds to other requests. Due to this,  my actual output comes as,\r\n`ImproperHeadCountException: Head count should be positive non zero value\\n`\r\n\r\nwhereas the expected output is\r\n\r\n```\r\nImproperHeadCountException: Head count should be positive non zero value \r\nDestination: Elliot&#39;s Beach, Head cost: 1250.0 \r\nWrongDestinationException: Invalid destination\r\n```\r\nIt doesn&#39;t iterate through the other two car rental requests.\r\n\r\nMy code is as below\r\n\r\n    public void carBooker() throws ArithmeticException, NullPointerException{\r\n        //define this method according to the problem description\r\n        try{\r\n            if (this.passenger_count &lt; 1){\r\n                throw new ArithmeticException();\r\n            }\r\n            double fare_per_head = available_destinations.get(this.chosen_destination)/this.passenger_count;\r\n            System.out.println(&quot;Destination: &quot; + this.chosen_destination + &quot;, &quot; + &quot;Head cost:&quot; + fare_per_head);\r\n        }catch(NullPointerException e){\r\n                WrongDestinationException newe = new WrongDestinationException();\r\n                e.initCause(newe);\r\n                throw e;\r\n        }catch(ArithmeticException e_){\r\n                ImproperHeadCountException newe_ = new ImproperHeadCountException();\r\n                e_.initCause(newe_);\r\n                throw e_;            \r\n        } \r\n    }\r\n\r\nWhat am I missing here?","title":"for loop within a try block","body":"<p>If a <code>for</code> loop exists within a <code>try</code> block, and during one of the iteration of the <code>for</code> loop, an exception is thrown, does the remaining iterations of the <code>for</code> loop continue, or is it completely aborted?</p>\n<pre><code>try{\n  for(...){\n   //throws exception during one of the iteration\n  }\n}catch(Exception e){\n ....\n}\n</code></pre>\n<p>The doubt is in reference to a programming question I have been trying to solve where we model a car rental service.\nIn the fixed uneditable  code given in the question (see below), we run a <code>for</code> loop to iterate over car rental requests recieved (and create an object <code>obj</code> for each request).\nThe function call <code>obj.carBooker()</code> has one task of printing how much each passenger pays (totat fare for the destination/head count). It should throw appropriate checked exception - <code>ImproperHeadCountException</code>: if no. of passengers provided is less than 1, <code>WrongDestinationException</code>: if the destination provided is not in our database which has been stored in a hash map.</p>\n<pre><code>    int num = s.nextInt(); //input the number of car rental requests\n    try {\n        for(int i=1;i&lt;=num;i++) {\n            int heads = s.nextInt(); //enter head count of passengers\n            s.nextLine();  //enter destination\n            String dest = s.nextLine();     \n            CarRental obj = new CarRental(heads,dest);\n            obj.carBooker();\n        }\n    }catch(Exception e) {\n        System.out.println(e.getCause());\n    }\n</code></pre>\n<p>A sample input for the problem is:</p>\n<pre><code>3\n0\nMarina Beach\n4\nElliot's Beach\n5\nTaj Mahal\n</code></pre>\n<p>My problem is that in my solution code, where I have to implement the carBooker() method, the <code>for</code> loop aborts the moment it catches the first exception for a given car rental request and doesn't proceeds to other requests. Due to this,  my actual output comes as,\n<code>ImproperHeadCountException: Head count should be positive non zero value\\n</code></p>\n<p>whereas the expected output is</p>\n<pre><code>ImproperHeadCountException: Head count should be positive non zero value \nDestination: Elliot's Beach, Head cost: 1250.0 \nWrongDestinationException: Invalid destination\n</code></pre>\n<p>It doesn't iterate through the other two car rental requests.</p>\n<p>My code is as below</p>\n<pre><code>public void carBooker() throws ArithmeticException, NullPointerException{\n    //define this method according to the problem description\n    try{\n        if (this.passenger_count &lt; 1){\n            throw new ArithmeticException();\n        }\n        double fare_per_head = available_destinations.get(this.chosen_destination)/this.passenger_count;\n        System.out.println(&quot;Destination: &quot; + this.chosen_destination + &quot;, &quot; + &quot;Head cost:&quot; + fare_per_head);\n    }catch(NullPointerException e){\n            WrongDestinationException newe = new WrongDestinationException();\n            e.initCause(newe);\n            throw e;\n    }catch(ArithmeticException e_){\n            ImproperHeadCountException newe_ = new ImproperHeadCountException();\n            e_.initCause(newe_);\n            throw e_;            \n    } \n}\n</code></pre>\n<p>What am I missing here?</p>\n"},{"tags":["java","android","progress-bar"],"answers":[{"tags":[],"owner":{"account_id":23949109,"reputation":11,"user_id":17941005,"display_name":"Ritik Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667417853,"creation_date":1667417853,"answer_id":74294789,"question_id":74294131,"body_markdown":"I suggest, define max progress a progress bar can gain, using XML or programmatically.\r\n\r\nIn XML,\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_bar&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:max=&quot;100&quot;\r\n        android:progress=&quot;0&quot;/&gt;\r\nAssuming, You will be using CountDownTimer, to track the progress, when the progress will hit the max [May use If condition inside the onTick() or onFinish() can do the job],and then you may enable the button.\r\n\r\n\r\n    \r\n    progress_bar.setProgress(100); //setMax()\r\n    myButton.setEnabled(true);\r\n\r\n","title":"Enable a Button when Progress bar has Loaded Completely. In android studio","body":"<p>I suggest, define max progress a progress bar can gain, using XML or programmatically.</p>\n<p>In XML,</p>\n<pre><code>&lt;ProgressBar\n    android:id=&quot;@+id/progress_bar&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:max=&quot;100&quot;\n    android:progress=&quot;0&quot;/&gt;\n</code></pre>\n<p>Assuming, You will be using CountDownTimer, to track the progress, when the progress will hit the max [May use If condition inside the onTick() or onFinish() can do the job],and then you may enable the button.</p>\n<pre><code>progress_bar.setProgress(100); //setMax()\nmyButton.setEnabled(true);\n</code></pre>\n"}],"owner":{"account_id":26599018,"reputation":9,"user_id":20400658,"display_name":"govind d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667417853,"creation_date":1667413859,"question_id":74294131,"body_markdown":"When progress bar is loading enable button click in android studio using java .\r\n\r\nWhen progress bar is loading button click enable .","title":"Enable a Button when Progress bar has Loaded Completely. In android studio","body":"<p>When progress bar is loading enable button click in android studio using java .</p>\n<p>When progress bar is loading button click enable .</p>\n"},{"tags":["java","do-while"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1667417028,"post_id":74294631,"comment_id":131164798,"body_markdown":"You should move `impresosAlto = 0;` up one line.  If it&#39;s before the loop begins, it won&#39;t reset to zero every time the loop runs.  That way, the loop will eventually exit.","body":"You should move <code>impresosAlto = 0;</code> up one line.  If it&#39;s before the loop begins, it won&#39;t reset to zero every time the loop runs.  That way, the loop will eventually exit."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1667417130,"post_id":74294631,"comment_id":131164837,"body_markdown":"What @DawoodibnKareem said. Better yet, combine the assignment with the declaration above it, and move the declaration of `impresosAncho` into the loop.","body":"What @DawoodibnKareem said. Better yet, combine the assignment with the declaration above it, and move the declaration of <code>impresosAncho</code> into the loop."}],"answers":[{"tags":[],"owner":{"account_id":26810195,"reputation":305,"user_id":20400930,"display_name":"Snehil Agrahari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667417502,"creation_date":1667417209,"answer_id":74294683,"question_id":74294631,"body_markdown":"It is happening because your second condition of Alto is never reached, after every iteration impresosalto becomes zero. Put impresosalto=0 outside the loop and it will work fine &#128077;\r\n\r\n    ImpresosAlto=0 move up two lines","title":"do while loop to draw a square","body":"<p>It is happening because your second condition of Alto is never reached, after every iteration impresosalto becomes zero. Put impresosalto=0 outside the loop and it will work fine 👍</p>\n<pre><code>ImpresosAlto=0 move up two lines\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667417679,"creation_date":1667417679,"answer_id":74294759,"question_id":74294631,"body_markdown":"```java\r\npublic static void main(String... args) throws IOException {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;height: &quot;);\r\n    final int height = scan.nextInt();\r\n\r\n    System.out.print(&quot;width: &quot;);\r\n    final int width = scan.nextInt();\r\n\r\n    int row = 1;\r\n\r\n    do {\r\n        int col = 1;\r\n\r\n        do {\r\n            boolean star = row == 1 || row == height || col == 1 || col == width;\r\n            System.out.println(star ? &#39;*&#39; : &#39; &#39;);\r\n        } while (++col &lt;= width);\r\n\r\n        System.out.println();\r\n    } while (++row &lt;= height);\r\n}\r\n```\r\n\r\n**Demo**\r\n```\r\nheight: 4\r\nwidth: 6\r\n******\r\n*    *\r\n*    *\r\n******\r\n```","title":"do while loop to draw a square","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(&quot;height: &quot;);\n    final int height = scan.nextInt();\n\n    System.out.print(&quot;width: &quot;);\n    final int width = scan.nextInt();\n\n    int row = 1;\n\n    do {\n        int col = 1;\n\n        do {\n            boolean star = row == 1 || row == height || col == 1 || col == width;\n            System.out.println(star ? '*' : ' ');\n        } while (++col &lt;= width);\n\n        System.out.println();\n    } while (++row &lt;= height);\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre><code>height: 4\nwidth: 6\n******\n*    *\n*    *\n******\n</code></pre>\n"}],"owner":{"account_id":26810283,"reputation":1,"user_id":20401009,"display_name":"Luca Prestipino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667417679,"creation_date":1667416879,"question_id":74294631,"body_markdown":"\r\nint alto;\r\n\t\tint ancho;\r\n\r\n\t\tSystem.out.println(&quot;Dame el alto: &quot;);\r\n\t\talto = scanner.nextInt();\r\n\t\tSystem.out.println(&quot;dame el ancho: &quot;);\r\n\t\tancho = scanner.nextInt();\r\n\r\n\t\tint impresosAlto;\r\n\t\tint impresosAncho;\r\n\r\n\t\tdo {\r\n\t\t\timpresosAlto = 0;\r\n\t\t\timpresosAncho = 0;\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\r\n\t\t\t\timpresosAncho++;\r\n\r\n\t\t\t} while (impresosAncho != ancho);\r\n\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\timpresosAlto++;\r\n\r\n\t\t} while (impresosAlto != alto);\r\n\r\n\t\t//\r\n\r\n\t}\r\n\r\n}\r\n\r\ndo while loop issue \r\nHi I&#180;d like to sort this out but when i debug it , I have issues that the &quot;impresosalto&quot; stand whit int 1 instead of to , and the loop keep running in an infinite loop don&#180;t know why , any help- advice ? \r\nthanks\r\ntried to change variables here and there but nothing worked out ","title":"do while loop to draw a square","body":"<p>int alto;\nint ancho;</p>\n<pre><code>    System.out.println(&quot;Dame el alto: &quot;);\n    alto = scanner.nextInt();\n    System.out.println(&quot;dame el ancho: &quot;);\n    ancho = scanner.nextInt();\n\n    int impresosAlto;\n    int impresosAncho;\n\n    do {\n        impresosAlto = 0;\n        impresosAncho = 0;\n\n        do {\n\n            System.out.print(&quot;*&quot;);\n\n            impresosAncho++;\n\n        } while (impresosAncho != ancho);\n\n        System.out.println();\n\n        impresosAlto++;\n\n    } while (impresosAlto != alto);\n\n    //\n\n}\n</code></pre>\n<p>}</p>\n<p>do while loop issue\nHi I´d like to sort this out but when i debug it , I have issues that the &quot;impresosalto&quot; stand whit int 1 instead of to , and the loop keep running in an infinite loop don´t know why , any help- advice ?\nthanks\ntried to change variables here and there but nothing worked out</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1667416754,"post_id":74294569,"comment_id":131164702,"body_markdown":"change public void run() to public static void main(String[] args)","body":"change public void run() to public static void main(String[] args)"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667416812,"post_id":74294569,"comment_id":131164718,"body_markdown":"Where is your main program and from what library is `ConsoleProgram` that your class extens?","body":"Where is your main program and from what library is <code>ConsoleProgram</code> that your class extens?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":3,"creation_date":1667416974,"post_id":74294569,"comment_id":131164775,"body_markdown":"Forget about the loops. Just do this: `sentence = sentence.replace(&quot; &quot;, &quot; like &quot;);`.","body":"Forget about the loops. Just do this: <code>sentence = sentence.replace(&quot; &quot;, &quot; like &quot;);</code>."}],"answers":[{"tags":[],"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667416781,"creation_date":1667416781,"answer_id":74294616,"question_id":74294569,"body_markdown":"    for(int i = 0; i &lt; sentence.length(); i++)\r\n    {\r\n        while(sentence.charAt(i) != &#39; &#39;) // This code will loop forever\r\n        {\r\n            result += sentence.charAt(i);\r\n        }\r\n        result += &quot;like &quot;;\r\n    }\r\n\r\nThe while statement above will loop forever because the first character it hits will be a &#39;T&#39; which is not a space. This while statement never increments `i` so it never moves from checking if the &#39;T&#39; is a space.\r\n\r\nInstead of using while, try using a simple if\r\n\r\n    for(int i = 0; i &lt; sentence.length(); i++)\r\n    {\r\n        if(sentence.charAt(i) != &#39; &#39;)\r\n        {\r\n            result += sentence.charAt(i);\r\n        }\r\n        result += &quot;like &quot;;\r\n    }","title":"Why is my program &quot;Teen talk&quot; not working?","body":"<pre><code>for(int i = 0; i &lt; sentence.length(); i++)\n{\n    while(sentence.charAt(i) != ' ') // This code will loop forever\n    {\n        result += sentence.charAt(i);\n    }\n    result += &quot;like &quot;;\n}\n</code></pre>\n<p>The while statement above will loop forever because the first character it hits will be a 'T' which is not a space. This while statement never increments <code>i</code> so it never moves from checking if the 'T' is a space.</p>\n<p>Instead of using while, try using a simple if</p>\n<pre><code>for(int i = 0; i &lt; sentence.length(); i++)\n{\n    if(sentence.charAt(i) != ' ')\n    {\n        result += sentence.charAt(i);\n    }\n    result += &quot;like &quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":26810110,"reputation":11,"user_id":20400862,"display_name":"Bananapocalypse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667416781,"creation_date":1667416542,"question_id":74294569,"body_markdown":"I&#39;m a highschooler who is taking computer science this year, and I can&#39;t figure out why my program &quot;teen talk&quot; isn&#39;t working. I am writing a simple method, where when a string parameter is put in, it adds &quot;like&quot; after every space to make it sound like a teenager. But when I try to run the program, it just sits there and loads.\r\n\r\nThis is my code:\r\n\r\n```\r\n\r\n```\r\n    public class Scratchpad extends ConsoleProgram\r\n    {\r\n    public void run()\r\n    {\r\n        //Tests\r\n        teenTalk(&quot;This is so cool&quot;);\r\n    }\r\n\r\n    public String teenTalk(String sentence)\r\n    {\r\n        //Code here\r\n        String result = &quot;&quot;;\r\n        \r\n        //Goes through each character in the string, looking for a\r\n        //space to add &quot;like&quot; after and adds it to the string result.\r\n        \r\n        for(int i = 0; i &lt; sentence.length(); i++)\r\n        {\r\n            while(sentence.charAt(i) != &#39; &#39;)\r\n            {\r\n                result += sentence.charAt(i);\r\n            }\r\n            result += &quot;like &quot;;\r\n        }\r\n        return result;\r\n        }\r\n    }\r\n\r\n```\r\n\r\n```\r\n\r\nNote: I am not using a regular java ouputer, I am using a website called CodeHS. So perhaps it may be a little different than normal java code.\r\n\r\nI am trying to run the program and it just sits there and loads.","title":"Why is my program &quot;Teen talk&quot; not working?","body":"<p>I'm a highschooler who is taking computer science this year, and I can't figure out why my program &quot;teen talk&quot; isn't working. I am writing a simple method, where when a string parameter is put in, it adds &quot;like&quot; after every space to make it sound like a teenager. But when I try to run the program, it just sits there and loads.</p>\n<p>This is my code:</p>\n<pre><code>\n</code></pre>\n<pre><code>public class Scratchpad extends ConsoleProgram\n{\npublic void run()\n{\n    //Tests\n    teenTalk(&quot;This is so cool&quot;);\n}\n\npublic String teenTalk(String sentence)\n{\n    //Code here\n    String result = &quot;&quot;;\n    \n    //Goes through each character in the string, looking for a\n    //space to add &quot;like&quot; after and adds it to the string result.\n    \n    for(int i = 0; i &lt; sentence.length(); i++)\n    {\n        while(sentence.charAt(i) != ' ')\n        {\n            result += sentence.charAt(i);\n        }\n        result += &quot;like &quot;;\n    }\n    return result;\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>Note: I am not using a regular java ouputer, I am using a website called CodeHS. So perhaps it may be a little different than normal java code.</p>\n<p>I am trying to run the program and it just sits there and loads.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667410719,"post_id":74293409,"comment_id":131162706,"body_markdown":"This is so confusing. What are you trying to do? Are you trying to merge the contents of `Object1` and `Object2` into a single type (i.e. `Object1`)? If this is the case, I think you can create an adapter to do this.","body":"This is so confusing. What are you trying to do? Are you trying to merge the contents of <code>Object1</code> and <code>Object2</code> into a single type (i.e. <code>Object1</code>)? If this is the case, I think you can create an adapter to do this."},{"owner":{"account_id":26577367,"reputation":13,"user_id":20202513,"display_name":"Leo El"},"score":0,"creation_date":1667410999,"post_id":74293409,"comment_id":131162810,"body_markdown":"Object 1 and 2 shares one attribut in common that is a name. I want to merge in a list of object 2 all the object 2 that has the same name. I updated with &quot;better&quot; attributes names for less confusion","body":"Object 1 and 2 shares one attribut in common that is a name. I want to merge in a list of object 2 all the object 2 that has the same name. I updated with &quot;better&quot; attributes names for less confusion"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1667413164,"post_id":74293409,"comment_id":131163560,"body_markdown":"You cannot replace a flow control structure for a data structure. You still have to look up matching value in two lists. What you can do is reduce the lists so that you don&#39;t keep looking up values that you already found. Since this implies deleting from lists, use an iterator so you could safely remove matched instances. Or better yet, use lambda expressions to do the same.","body":"You cannot replace a flow control structure for a data structure. You still have to look up matching value in two lists. What you can do is reduce the lists so that you don&#39;t keep looking up values that you already found. Since this implies deleting from lists, use an iterator so you could safely remove matched instances. Or better yet, use lambda expressions to do the same."}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667416749,"creation_date":1667416749,"answer_id":74294606,"question_id":74293409,"body_markdown":"First the Object2 stream is reduced to a map of the list of items with the same name.\r\n\r\nThen retrieve the object 1 items from collect. \r\n\r\n```\r\n      Map&lt;String, List&lt;Object2&gt;&gt; reduced2 = Collections.unmodifiableMap(\r\n              stream2.reduce(new HashMap&lt;&gt;(), (a, b) -&gt; {\r\n                         if (!a.containsKey(b.getName())) {\r\n                            a.put(b.getName(), new ArrayList&lt;&gt;());\r\n                         }\r\n                         a.get(b.getName()).add(b);\r\n                         return a;\r\n                      }, (a, b) -&gt; b));\r\n      stream1.peek(object1 -&gt; object1.setListObject2(reduced2.get(object1.getName())))\r\n              .collect(Collectors.toList());\r\n```","title":"convert arrays of java objects in nested for loops to hashmap","body":"<p>First the Object2 stream is reduced to a map of the list of items with the same name.</p>\n<p>Then retrieve the object 1 items from collect.</p>\n<pre><code>      Map&lt;String, List&lt;Object2&gt;&gt; reduced2 = Collections.unmodifiableMap(\n              stream2.reduce(new HashMap&lt;&gt;(), (a, b) -&gt; {\n                         if (!a.containsKey(b.getName())) {\n                            a.put(b.getName(), new ArrayList&lt;&gt;());\n                         }\n                         a.get(b.getName()).add(b);\n                         return a;\n                      }, (a, b) -&gt; b));\n      stream1.peek(object1 -&gt; object1.setListObject2(reduced2.get(object1.getName())))\n              .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":26577367,"reputation":13,"user_id":20202513,"display_name":"Leo El"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667416749,"creation_date":1667410209,"question_id":74293409,"body_markdown":"I am working with two java objets. One of these object just have string attributes and the other one have strings and list of the first object.\r\nThe goal for me is to replace the double loops for a hasmap to reduce the time complexity. In this loop I do a equality check to see if some strings matches. \r\n\r\n``\r\n```\r\npublic class Object1 {\r\n\r\nString name;\r\n\r\nString xyz;\r\n\r\nList&lt;Object2&gt; listObject2;\r\n\r\n}\r\n\r\npublic class Object2 {\r\n\r\nString name;\r\n\r\nString abc;\r\n\r\nString def;\r\n}\r\n\r\n\r\n```\r\nNow in my main file I have the following function:\r\n```\r\npublic fillNestedObject() {\r\n\r\nList&lt;Object1&gt; listObject1 = new ArrayList();\r\nlistObject1 = fetchObjects1FromApi();\r\n\r\nList&lt;Object2&gt; listObject2 = new ArrayList();\r\nlistObject2 = fetchObjectsFromApi2();\r\n\r\nfor(Object1 object1 : listObject1){\r\n   List&lt;Object2&gt; tmpList = new ArrayList();\r\n   for(Object2 object2 : listObject2) {\r\n    if(object1.getName().equals(object2.getName())){\r\n         tmpList.add(object2)\r\n       }\r\n   }\r\n   object1.setListObject2(tmpList)\r\n}\r\n}\r\n```\r\n\r\n\r\nI&#39;m pretty sure that to reduce the time complexity I can replace my double for loops by a hasmap (or 2?) but I am not sure how to do this because I want the equality to be true.\r\nI read that I should use stream to convert into hasmaps on other questions but I am not sure how streams are gonna be used to achieve what I want.","title":"convert arrays of java objects in nested for loops to hashmap","body":"<p>I am working with two java objets. One of these object just have string attributes and the other one have strings and list of the first object.\nThe goal for me is to replace the double loops for a hasmap to reduce the time complexity. In this loop I do a equality check to see if some strings matches.</p>\n<p>``</p>\n<pre><code>public class Object1 {\n\nString name;\n\nString xyz;\n\nList&lt;Object2&gt; listObject2;\n\n}\n\npublic class Object2 {\n\nString name;\n\nString abc;\n\nString def;\n}\n\n\n</code></pre>\n<p>Now in my main file I have the following function:</p>\n<pre><code>public fillNestedObject() {\n\nList&lt;Object1&gt; listObject1 = new ArrayList();\nlistObject1 = fetchObjects1FromApi();\n\nList&lt;Object2&gt; listObject2 = new ArrayList();\nlistObject2 = fetchObjectsFromApi2();\n\nfor(Object1 object1 : listObject1){\n   List&lt;Object2&gt; tmpList = new ArrayList();\n   for(Object2 object2 : listObject2) {\n    if(object1.getName().equals(object2.getName())){\n         tmpList.add(object2)\n       }\n   }\n   object1.setListObject2(tmpList)\n}\n}\n</code></pre>\n<p>I'm pretty sure that to reduce the time complexity I can replace my double for loops by a hasmap (or 2?) but I am not sure how to do this because I want the equality to be true.\nI read that I should use stream to convert into hasmaps on other questions but I am not sure how streams are gonna be used to achieve what I want.</p>\n"},{"tags":["java","google-maps"],"comments":[{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":1,"creation_date":1667413628,"post_id":74294051,"comment_id":131163722,"body_markdown":"you probably can just look at Google Maps URLs and see how they specify places in the URL, and construct one yourself, then open that.","body":"you probably can just look at Google Maps URLs and see how they specify places in the URL, and construct one yourself, then open that."}],"answers":[{"tags":[],"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1667416472,"creation_date":1667414067,"answer_id":74294154,"question_id":74294051,"body_markdown":"A basic way of doing this would be to construct a Google Maps URL yourself, and then open that. The basic format for Google Maps directions is: \r\n```\r\nhttps://www.google.com/maps/dir/starting+address+separated+by+plus+signs/ending+location/\r\n```\r\nYou can replace the starting and ending addresses with whatever you want. So for example, if you want to show directions from Albany, NY to Los Angeles, CA, you would use the following: \r\n```\r\nhttps://www.google.com/maps/dir/Albany,+New+York/Los+Angeles,+California/\r\n```\r\nTry opening that in your browser and you will see it shows directions from Albany to Los Angeles!","title":"How To Make Java Set A GPS On Google Maps With A Location &#39;A&#39; And Location &#39;B&#39;","body":"<p>A basic way of doing this would be to construct a Google Maps URL yourself, and then open that. The basic format for Google Maps directions is:</p>\n<pre><code>https://www.google.com/maps/dir/starting+address+separated+by+plus+signs/ending+location/\n</code></pre>\n<p>You can replace the starting and ending addresses with whatever you want. So for example, if you want to show directions from Albany, NY to Los Angeles, CA, you would use the following:</p>\n<pre><code>https://www.google.com/maps/dir/Albany,+New+York/Los+Angeles,+California/\n</code></pre>\n<p>Try opening that in your browser and you will see it shows directions from Albany to Los Angeles!</p>\n"}],"owner":{"account_id":26029922,"reputation":1,"user_id":19736317,"display_name":"Insert Name Here"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74294154,"answer_count":1,"score":-3,"last_activity_date":1667416472,"creation_date":1667413490,"question_id":74294051,"body_markdown":"I Want To Make Java Open Up Google Maps And Type In To Set A GPS Between Location A (Start) And Location B (Destination). I Also Want To Make An Option Where Location A Can Use Your Location As The Start.\r\n**Location A And B Will Be A Name Of A City Anywhere In The World ( In English )**\r\n\r\nI Tried Searching On The Internet About This But The Furthest I Got Was &quot;How To Open A Website Using Java&quot; And When That Worked I Had To Overide The Mouse And Keyboard And Then Type In To The Search..... And Much More Tedious Lines Of Code","title":"How To Make Java Set A GPS On Google Maps With A Location &#39;A&#39; And Location &#39;B&#39;","body":"<p>I Want To Make Java Open Up Google Maps And Type In To Set A GPS Between Location A (Start) And Location B (Destination). I Also Want To Make An Option Where Location A Can Use Your Location As The Start.\n<strong>Location A And B Will Be A Name Of A City Anywhere In The World ( In English )</strong></p>\n<p>I Tried Searching On The Internet About This But The Furthest I Got Was &quot;How To Open A Website Using Java&quot; And When That Worked I Had To Overide The Mouse And Keyboard And Then Type In To The Search..... And Much More Tedious Lines Of Code</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":4,"creation_date":1630969757,"post_id":69080915,"comment_id":122092886,"body_markdown":"ResponseEntity allows you to get status and whatever else ResponseEntity gives you. Actually though, you should use ServerResponse from the functional endpoints since ResponseEntity is from the servlet mvc lib (if I remember right). https://spring.getdocs.org/en-US/spring-framework-docs/docs/spring-web-reactive/webflux/webflux-fn.html","body":"ResponseEntity allows you to get status and whatever else ResponseEntity gives you. Actually though, you should use ServerResponse from the functional endpoints since ResponseEntity is from the servlet mvc lib (if I remember right). <a href=\"https://spring.getdocs.org/en-US/spring-framework-docs/docs/spring-web-reactive/webflux/webflux-fn.html\" rel=\"nofollow noreferrer\">spring.getdocs.org/en-US/spring-framework-docs/docs/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"score":0,"creation_date":1661697566,"post_id":69086400,"comment_id":129828582,"body_markdown":"Lazy is good!!!","body":"Lazy is good!!!"}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1631009978,"creation_date":1631009978,"answer_id":69086400,"question_id":69080915,"body_markdown":"Lets clear some things up\r\n\r\nA `ResponseEntity&lt;T&gt;` is from the `org.springframework.http`package while a `ServerResponse` is from the `org.springframework.web.reactive.function.server` package.\r\n\r\nThis should as a start should give you a hint of when to use what, and where.\r\n\r\nBut in short, you can use webflux in 2 ways, either by using old fashioned `@RestController` annotations, with annotated functions for each path. This a sort of &quot;backwards compatibility mode&quot; between regular servlet spring web, and webflux async event driven programming.\r\n\r\n`ResponseEntities` are returned from old `spring-web` while if you instead opt in to use functional enpoints that exist in webflux, you need to return `ServerResponses`.\r\n\r\nIf you look in the code for the classes you will se that they work some parts the same, but other parts differently, especially how they store the body and serialize the bodies.\r\n\r\n`Handler functions` and `Filter functions` in webflux only work with `ServerResponses`.\r\n\r\nNow to your question, returning `Mono&lt;ResponseEntity&lt;T&gt;` or `Mono&lt;T&gt;`.\r\n\r\n**Well it all comes down to how lazy you are.**\r\n\r\nIf you return a `Mono&lt;T&gt;` the framework will try to figure out what type of content you have in the `Mono`, and then create a `ResponseEntity` accordingly. So if you are serializing it into json, it will set the `content-type` for you, and set the status usually to `200 OK`\r\n\r\nWhile if you wish, you can build your `ResponseEntity` completely custom, and return any status code, with any body, and any headers etc. etc.\r\n\r\nSo what it all comes down to is how lazy are you, how much do you want the framework to do for you, and how much to do you want to be explicit, and and type out everything by yourself, or customize.\r\n\r\nMe, im lazy, i just return something that works.","title":"Spring Webflux: Controller return Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt; vs Mono&lt;MyPojo&gt;","body":"<p>Lets clear some things up</p>\n<p>A <code>ResponseEntity&lt;T&gt;</code> is from the <code>org.springframework.http</code>package while a <code>ServerResponse</code> is from the <code>org.springframework.web.reactive.function.server</code> package.</p>\n<p>This should as a start should give you a hint of when to use what, and where.</p>\n<p>But in short, you can use webflux in 2 ways, either by using old fashioned <code>@RestController</code> annotations, with annotated functions for each path. This a sort of &quot;backwards compatibility mode&quot; between regular servlet spring web, and webflux async event driven programming.</p>\n<p><code>ResponseEntities</code> are returned from old <code>spring-web</code> while if you instead opt in to use functional enpoints that exist in webflux, you need to return <code>ServerResponses</code>.</p>\n<p>If you look in the code for the classes you will se that they work some parts the same, but other parts differently, especially how they store the body and serialize the bodies.</p>\n<p><code>Handler functions</code> and <code>Filter functions</code> in webflux only work with <code>ServerResponses</code>.</p>\n<p>Now to your question, returning <code>Mono&lt;ResponseEntity&lt;T&gt;</code> or <code>Mono&lt;T&gt;</code>.</p>\n<p><strong>Well it all comes down to how lazy you are.</strong></p>\n<p>If you return a <code>Mono&lt;T&gt;</code> the framework will try to figure out what type of content you have in the <code>Mono</code>, and then create a <code>ResponseEntity</code> accordingly. So if you are serializing it into json, it will set the <code>content-type</code> for you, and set the status usually to <code>200 OK</code></p>\n<p>While if you wish, you can build your <code>ResponseEntity</code> completely custom, and return any status code, with any body, and any headers etc. etc.</p>\n<p>So what it all comes down to is how lazy are you, how much do you want the framework to do for you, and how much to do you want to be explicit, and and type out everything by yourself, or customize.</p>\n<p>Me, im lazy, i just return something that works.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5502,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":69086400,"answer_count":1,"score":8,"last_activity_date":1667415661,"creation_date":1630968949,"question_id":69080915,"body_markdown":"Question regarding return types I have seen with Spring Webflux.\r\n\r\nIn many examples, like online tutorials, the rest web controller of a Spring Webflux project will return a `Mono&lt;MyPojo&gt;`:\r\n\r\n```java\r\n    public Mono&lt;MyPojo&gt; monoPojo(String parameter) {\r\n        return WebClient.create(&quot;http://...&quot;).get().retrieve().bodyToMono(MyPojo.class)\r\n                .map(oneMyPojo -&gt; unregisterRepository.insert(oneMyPojo));\r\n    }\r\n```\r\n\r\nBut I am also bumping into projects where it returns `Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt;`:\r\n\r\n```java\r\n    public Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt; monoResponseEntityPojo(String parameter) {\r\n        return WebClient.create(&quot;http://...&quot;).get().retrieve().bodyToMono(MyPojo.class)\r\n                .map(oneMyPojo -&gt; unregisterRepository.insert(oneMyPojo))\r\n                .map(ResponseEntity::ok);\r\n    }\r\n```\r\n\r\nWhat are the benefits of `Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt;` over `Mono&lt;MyPojo&gt;`?","title":"Spring Webflux: Controller return Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt; vs Mono&lt;MyPojo&gt;","body":"<p>Question regarding return types I have seen with Spring Webflux.</p>\n<p>In many examples, like online tutorials, the rest web controller of a Spring Webflux project will return a <code>Mono&lt;MyPojo&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;MyPojo&gt; monoPojo(String parameter) {\n        return WebClient.create(&quot;http://...&quot;).get().retrieve().bodyToMono(MyPojo.class)\n                .map(oneMyPojo -&gt; unregisterRepository.insert(oneMyPojo));\n    }\n</code></pre>\n<p>But I am also bumping into projects where it returns <code>Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt; monoResponseEntityPojo(String parameter) {\n        return WebClient.create(&quot;http://...&quot;).get().retrieve().bodyToMono(MyPojo.class)\n                .map(oneMyPojo -&gt; unregisterRepository.insert(oneMyPojo))\n                .map(ResponseEntity::ok);\n    }\n</code></pre>\n<p>What are the benefits of <code>Mono&lt;ResponseEntity&lt;MyPojo&gt;&gt;</code> over <code>Mono&lt;MyPojo&gt;</code>?</p>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1666719327,"post_id":74198021,"comment_id":131001620,"body_markdown":"Can you run `RUN ls -lart /usr/lib/jvm/java-8-openjdk-amd64` before running `RUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --update`","body":"Can you run <code>RUN ls -lart &#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code> before running <code>RUN &#47;opt&#47;Android&#47;cmdline-tools&#47;latest&#47;bin&#47;sdkmanager --update</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1666719364,"post_id":74198021,"comment_id":131001628,"body_markdown":"*ENV PATH=$PATH:$JAVA_HOME/bin* I don&#39;t like that. It should be `ENV PATH=$JAVA_HOME/bin:$PATH` You can remove some doubt by running `sudo find / -type f -executable -name java` to find out where each java is","body":"<i>ENV PATH=$PATH:$JAVA_HOME/bin</i> I don&#39;t like that. It should be <code>ENV PATH=$JAVA_HOME&#47;bin:$PATH</code> You can remove some doubt by running <code>sudo find &#47; -type f -executable -name java</code> to find out where each java is"},{"owner":{"account_id":10015763,"reputation":1189,"user_id":7407119,"accept_rate":95,"display_name":"anonymoose"},"score":0,"creation_date":1666720250,"post_id":74198021,"comment_id":131001917,"body_markdown":"@harshavmb, when I run that, I get `cannot access &#39;/usr/lib/jvm/java-8-openjdk-amd64&#39;: No such file or directory`, `executor failed running [/bin/sh -c ls -lart /usr/lib/jvm/java-8-openjdk-amd64]: exit code: 2`","body":"@harshavmb, when I run that, I get <code>cannot access &#39;&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64&#39;: No such file or directory</code>, <code>executor failed running [&#47;bin&#47;sh -c ls -lart &#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64]: exit code: 2</code>"},{"owner":{"account_id":10015763,"reputation":1189,"user_id":7407119,"accept_rate":95,"display_name":"anonymoose"},"score":0,"creation_date":1666720718,"post_id":74198021,"comment_id":131002045,"body_markdown":"@g00se Thanks; where would I type that, though?","body":"@g00se Thanks; where would I type that, though?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666722755,"post_id":74198021,"comment_id":131002611,"body_markdown":"Sorry I don&#39;t do Docker but presumably after a RUN command","body":"Sorry I don&#39;t do Docker but presumably after a RUN command"},{"owner":{"account_id":7152403,"reputation":12017,"user_id":5465973,"accept_rate":57,"display_name":"Pierre B."},"score":2,"creation_date":1666975094,"post_id":74198021,"comment_id":131069132,"body_markdown":"I just built a Docker image using your Dockerfile and it went fine. What version of Docker are you using? Can you try to build with `docker build --no-cache .` ?","body":"I just built a Docker image using your Dockerfile and it went fine. What version of Docker are you using? Can you try to build with <code>docker build --no-cache .</code> ?"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666998555,"post_id":74198021,"comment_id":131074897,"body_markdown":"Dont you just have to set the windows or whatever os you are using environment variable to the correct location? Or is this just with docker? Maybe, just missing a `/bin/` on the end of the path you have in the title. You have to point at where the executables are not the root installation folder itself.","body":"Dont you just have to set the windows or whatever os you are using environment variable to the correct location? Or is this just with docker? Maybe, just missing a <code>&#47;bin&#47;</code> on the end of the path you have in the title. You have to point at where the executables are not the root installation folder itself."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1667193206,"post_id":74198021,"comment_id":131104425,"body_markdown":"*&quot;Maybe, just missing a `/bin/` on the end of the path&quot;* - Wrong!  There should NOT be a `/bin/` or `/bin` on the end of `JAVA_HOME`.  The convention is that it points to the directory *above* the &quot;bin&quot; directory for the Java install.   (And as you can see, the OP does this: `ENV PATH=$PATH:$JAVA_HOME/bin` ...)","body":"<i>&quot;Maybe, just missing a <code>&#47;bin&#47;</code> on the end of the path&quot;</i> - Wrong!  There should NOT be a <code>&#47;bin&#47;</code> or <code>&#47;bin</code> on the end of <code>JAVA_HOME</code>.  The convention is that it points to the directory <i>above</i> the &quot;bin&quot; directory for the Java install.   (And as you can see, the OP does this: <code>ENV PATH=$PATH:$JAVA_HOME&#47;bin</code> ...)"}],"answers":[{"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1667188873,"post_id":74258544,"comment_id":131103823,"body_markdown":"If this were the case, it would be another error message. Likely already bugging out at the first line.","body":"If this were the case, it would be another error message. Likely already bugging out at the first line."},{"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"score":0,"creation_date":1667188930,"post_id":74258544,"comment_id":131103829,"body_markdown":"No, the error message is accurate when the directory specified doesn&#39;t contain a Java installation, and that&#39;s usually caused when there is a character in the file garbling the end of the line. As I said, a verbatim copy of the Dockerfile works. Not all lines will necessary fail.","body":"No, the error message is accurate when the directory specified doesn&#39;t contain a Java installation, and that&#39;s usually caused when there is a character in the file garbling the end of the line. As I said, a verbatim copy of the Dockerfile works. Not all lines will necessary fail."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1667189194,"post_id":74258544,"comment_id":131103861,"body_markdown":"`/usr/lib/jvm/java-8-openjdk-amd64` doesn&#39;t have any `java` and Java 8 is the wrong SDK anyway. I&#39;d agree as far as, that different lines may have different line endings.","body":"<code>&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code> doesn&#39;t have any <code>java</code> and Java 8 is the wrong SDK anyway. I&#39;d agree as far as, that different lines may have different line endings."},{"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"score":0,"creation_date":1667189236,"post_id":74258544,"comment_id":131103866,"body_markdown":"Well. that&#39;s your opinion. It&#39;s amusing you keep denying the fact that I copied and pasted the Dockerfile to work.","body":"Well. that&#39;s your opinion. It&#39;s amusing you keep denying the fact that I copied and pasted the Dockerfile to work."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1667189446,"post_id":74258544,"comment_id":131103894,"body_markdown":"Well, it&#39;s rather you who ignored that this is based on a NodeJS image, and NodeJS isn&#39;t being used. For whatever Java tasks common sense might suggest to start off with a JDK image. When running it cloud-based, the least processing is also cheaper.","body":"Well, it&#39;s rather you who ignored that this is based on a NodeJS image, and NodeJS isn&#39;t being used. For whatever Java tasks common sense might suggest to start off with a JDK image. When running it cloud-based, the least processing is also cheaper."},{"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"score":0,"creation_date":1667189876,"post_id":74258544,"comment_id":131103948,"body_markdown":"That&#39;s fair enough, but not related to the question --and don&#39;t get me wrong, I am not saying using a Node as the starting point is fine. \n\n\nWhen it comes to the directory that is typed in their Dockerfile, that&#39;s the right one as it does work. In terms of setting the JAVA_HOME in their Dockerfile, that is the right line, although it can be improved with the export I put in my answer (your `which java` is not enough).\n\n\nI guess once they figure out the mistake they can get to a better base image.","body":"That&#39;s fair enough, but not related to the question --and don&#39;t get me wrong, I am not saying using a Node as the starting point is fine.    When it comes to the directory that is typed in their Dockerfile, that&#39;s the right one as it does work. In terms of setting the JAVA_HOME in their Dockerfile, that is the right line, although it can be improved with the export I put in my answer (your <code>which java</code> is not enough).   I guess once they figure out the mistake they can get to a better base image."}],"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"comment_count":6,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1667187956,"creation_date":1667187956,"answer_id":74258544,"question_id":74198021,"body_markdown":"I think your problem is in the line termination characters of your Dockerfile.\r\n\r\n**Your Dockerfile works in my computer**, and when it comes to weird errors, I have been there.\r\n\r\nMy experience with Dockerfiles is that sometimes they are very picky in the Windows/Unix/Mac line terminators, so please make sure you save the Dockerfile with line terminators adequate for Unix machines. \r\n\r\nI have used the method in [this other answer][1] to successfully replace Windows line terminators for Unix&#39;s on Windows using Powershell. I hope this helps!\r\n\r\n**The exact location of $JAVA_HOME can be scripted**. If you don&#39;t feel like hardcoding that directory is a safe bet, replace your `ENV` line with this `RUN`: `RUN export JAVA_HOME=$(readlink -f $(which java) | sed &quot;s:/bin/java::&quot;)`. This is how I set up my environment in all my Linux machines, and what it does is the following:\r\n- `which java` searches for `java` and will output `/usr/bin/java`, or something like that, which is a symbolic link.\r\n- `readlink -f` over the above will get you to the destination of the symbolic link.\r\n- piping such destination over to `| sed &quot;s:/bin/java::&quot;` will strip the trailing `bin/java` and get you the right value, no matter the version.\r\n\r\nI also tried your Dockerfile with this change, and it does work too. \r\n\r\n  [1]: https://stackoverflow.com/questions/19127741/replace-crlf-using-powershell/19132572#19132572","title":"ERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/java-8-openjdk-amd64","body":"<p>I think your problem is in the line termination characters of your Dockerfile.</p>\n<p><strong>Your Dockerfile works in my computer</strong>, and when it comes to weird errors, I have been there.</p>\n<p>My experience with Dockerfiles is that sometimes they are very picky in the Windows/Unix/Mac line terminators, so please make sure you save the Dockerfile with line terminators adequate for Unix machines.</p>\n<p>I have used the method in <a href=\"https://stackoverflow.com/questions/19127741/replace-crlf-using-powershell/19132572#19132572\">this other answer</a> to successfully replace Windows line terminators for Unix's on Windows using Powershell. I hope this helps!</p>\n<p><strong>The exact location of $JAVA_HOME can be scripted</strong>. If you don't feel like hardcoding that directory is a safe bet, replace your <code>ENV</code> line with this <code>RUN</code>: <code>RUN export JAVA_HOME=$(readlink -f $(which java) | sed &quot;s:/bin/java::&quot;)</code>. This is how I set up my environment in all my Linux machines, and what it does is the following:</p>\n<ul>\n<li><code>which java</code> searches for <code>java</code> and will output <code>/usr/bin/java</code>, or something like that, which is a symbolic link.</li>\n<li><code>readlink -f</code> over the above will get you to the destination of the symbolic link.</li>\n<li>piping such destination over to <code>| sed &quot;s:/bin/java::&quot;</code> will strip the trailing <code>bin/java</code> and get you the right value, no matter the version.</li>\n</ul>\n<p>I also tried your Dockerfile with this change, and it does work too.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1667201240,"post_id":74258599,"comment_id":131105852,"body_markdown":"Actually `which java` seldom helps, owing to symlinks. What you want is `readlink -f &quot;$(which java)&quot;`","body":"Actually <code>which java</code> seldom helps, owing to symlinks. What you want is <code>readlink -f &quot;$(which java)&quot;</code>"}],"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667188510,"creation_date":1667188510,"answer_id":74258599,"question_id":74198021,"body_markdown":"I&#39;d suggest to use another base image. Java 11 is required to build for newer API levels:\r\n\r\n    FROM openjdk:11-jdk as builder\r\n    ...\r\n\r\nAnd then install Python3 and AWS CLI.\r\n\r\nWorking example: [`cloudbuild-android`](https://github.com/syslogic/cloudbuild-android).\r\n\r\n ---\r\n\r\nOr if you want to continue with your&#39;s, `RUN which java` would tell you where it&#39;s actually installed.\r\n","title":"ERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/java-8-openjdk-amd64","body":"<p>I'd suggest to use another base image. Java 11 is required to build for newer API levels:</p>\n<pre><code>FROM openjdk:11-jdk as builder\n...\n</code></pre>\n<p>And then install Python3 and AWS CLI.</p>\n<p>Working example: <a href=\"https://github.com/syslogic/cloudbuild-android\" rel=\"nofollow noreferrer\"><code>cloudbuild-android</code></a>.</p>\n<hr />\n<p>Or if you want to continue with your's, <code>RUN which java</code> would tell you where it's actually installed.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667394103,"post_id":74289553,"comment_id":131155886,"body_markdown":"To remove any doubt about non-printing characters, you could post a link to a copy of the actual Docker file","body":"To remove any doubt about non-printing characters, you could post a link to a copy of the actual Docker file"},{"owner":{"account_id":10015763,"reputation":1189,"user_id":7407119,"accept_rate":95,"display_name":"anonymoose"},"score":0,"creation_date":1667590465,"post_id":74289553,"comment_id":131210880,"body_markdown":"This seems to have gotten me closer than all of the other suggestions. I appreciate everyone that took a wack at this. I’m still digging into it, but will update the above soon with more info &amp; a link to any follow up questions. Thanks","body":"This seems to have gotten me closer than all of the other suggestions. I appreciate everyone that took a wack at this. I’m still digging into it, but will update the above soon with more info &amp; a link to any follow up questions. Thanks"}],"tags":[],"owner":{"account_id":352393,"reputation":7153,"user_id":6404321,"display_name":"walen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667393881,"creation_date":1667393881,"answer_id":74289553,"question_id":74198021,"body_markdown":"In a comment, you mentioned:\r\n\r\n&gt; *when I run [`RUN ls -lart /usr/lib/jvm/java-8-openjdk-amd64`], I get `cannot access &#39;/usr/lib/jvm/java-8-openjdk-amd64&#39;: No such file or directory`*\r\n\r\nMaybe I&#39;m missing something, but... doesn&#39;t that mean that the directory does not exist?\r\n\r\nEither you got the path wrong, or (as another answer suggested) there&#39;s something in your Dockerfile, probably line endings, that&#39;s mangling your lines.  \r\n\r\nTo discard the bit about line endings, try the same command but switching the parameters, i.e.:  \r\n\r\n```\r\nRUN ls /usr/lib/jvm/java-8-openjdk-amd64 -lart\r\n```  \r\n\r\nIf now it whines about unrecognized options, then it&#39;s probably a line ending issue (which now affects the `t` option instead of the directory path).  \r\nHowever, if it _still_ says `No such file or directory`, then you definitely should check your Java installation path.\r\n\r\n","title":"ERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/java-8-openjdk-amd64","body":"<p>In a comment, you mentioned:</p>\n<blockquote>\n<p><em>when I run [<code>RUN ls -lart /usr/lib/jvm/java-8-openjdk-amd64</code>], I get <code>cannot access '/usr/lib/jvm/java-8-openjdk-amd64': No such file or directory</code></em></p>\n</blockquote>\n<p>Maybe I'm missing something, but... doesn't that mean that the directory does not exist?</p>\n<p>Either you got the path wrong, or (as another answer suggested) there's something in your Dockerfile, probably line endings, that's mangling your lines.</p>\n<p>To discard the bit about line endings, try the same command but switching the parameters, i.e.:</p>\n<pre><code>RUN ls /usr/lib/jvm/java-8-openjdk-amd64 -lart\n</code></pre>\n<p>If now it whines about unrecognized options, then it's probably a line ending issue (which now affects the <code>t</code> option instead of the directory path).<br />\nHowever, if it <em>still</em> says <code>No such file or directory</code>, then you definitely should check your Java installation path.</p>\n"},{"tags":[],"owner":{"account_id":4598721,"reputation":2757,"user_id":3730077,"display_name":"Slava Kuravsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667415487,"creation_date":1667415487,"answer_id":74294383,"question_id":74198021,"body_markdown":"It looks like you had some network issues during your first docker build run. It failed to install java, but cached the layer with the attempt. I recommend you to run your build again without caching: `docker build -t name --no-cache .` and check logging of network operations.","title":"ERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/java-8-openjdk-amd64","body":"<p>It looks like you had some network issues during your first docker build run. It failed to install java, but cached the layer with the attempt. I recommend you to run your build again without caching: <code>docker build -t name --no-cache .</code> and check logging of network operations.</p>\n"}],"owner":{"account_id":10015763,"reputation":1189,"user_id":7407119,"accept_rate":95,"display_name":"anonymoose"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74289553,"answer_count":4,"score":2,"last_activity_date":1667415487,"creation_date":1666718946,"question_id":74198021,"body_markdown":"I&#39;m fairly new to Docker and am struggling with `JAVA_HOME` not being seen in a Dockerfile. I get the titular error; which includes `Please set the JAVA_HOME variable in your environment to match the location of your Java installation.` &amp; `executor failed running [/bin/sh -c /opt/Android/cmdline-tools/latest/bin/sdkmanager --update]: exit code: 1` when it runs `RUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --update`.\r\n\r\nI feel like I&#39;m at a loss but I think my issue is not knowing where the JDK is being installed to or knowing how to find it from a Dockerfile; I&#39;ve tried echoing `JAVA_HOME` thinking I could see it while the image built but, again, no luck. Any help with this would be greatly appreciated. I&#39;ve been pulling my hair out Googling &amp; trying things. Thank you.\r\n\r\n    FROM node:12.12.0\r\n    \r\n    ARG CMDLINE_TOOLS_VERSION=7583922\r\n    ARG ANDROID_BUILD_TOOLS=30.0.3\r\n    \r\n    RUN apt-get -qqy update \\\r\n        &amp;&amp; apt-get -qqy install \\\r\n        python-dev \\\r\n        --no-install-recommends\r\n    \r\n    RUN apt-get install -y software-properties-common gcc\r\n    RUN apt-get update &amp;&amp; apt-get install -y  python3-pip\r\n    RUN pip3 install awscli\r\n    RUN apt-get install -y jq\r\n    RUN mkdir -p /usr/share/man/man1 /usr/share/man/man2\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends openjdk-8-jdk &amp;&amp; apt-get clean;\r\n    \r\n    ENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    ENV PATH=$PATH:$JAVA_HOME/bin\r\n    \r\n    RUN wget -q https://services.gradle.org/distributions/gradle-4.5.1-bin.zip &amp;&amp; unzip gradle-4.5.1-bin.zip -d /opt &amp;&amp; rm gradle-4.5.1-bin.zip\r\n    \r\n    ENV GRADLE_HOME=/opt/gradle-4.5.1\r\n    ENV PATH=$PATH:/opt/gradle-4.5.1/bin\r\n    \r\n    RUN wget https://dl.google.com/android/repository/commandlinetools-linux-${CMDLINE_TOOLS_VERSION}_latest.zip\r\n    RUN mkdir -p /opt/Android/cmdline-tools\r\n    RUN  unzip commandlinetools-linux-7583922_latest.zip -d /opt/Android/cmdline-tools\r\n    RUN mv /opt/Android/cmdline-tools/cmdline-tools /opt/Android/cmdline-tools/latest\r\n    \r\n    ENV ANDROID_HOME=/opt/Android\r\n    ENV PATH=&quot;$ANDROID_HOME/emulator:$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin \\\r\n    :$ANDROID_HOME/cmdline-tools/latest:$ANDROID_HOME/cmdline-tools/latest/bin:$ANDROID_HOME/platform-tools:$PATH&quot;\r\n    \r\n    RUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --update\r\n    RUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --list\r\n    RUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --list | grep build-tools\r\n    RUN echo y | /opt/Android/cmdline-tools/latest/bin/sdkmanager &quot;build-tools;${ANDROID_BUILD_TOOLS}&quot; &quot;platform-tools&quot; &quot;platforms;android-30&quot; &quot;tools&quot; &gt;/dev/null\r\n    RUN yes | /opt/Android/cmdline-tools/latest/bin/sdkmanager --licenses\r\n    \r\n    CMD [&quot;yarn&quot;, &quot;start&quot;]","title":"ERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/java-8-openjdk-amd64","body":"<p>I'm fairly new to Docker and am struggling with <code>JAVA_HOME</code> not being seen in a Dockerfile. I get the titular error; which includes <code>Please set the JAVA_HOME variable in your environment to match the location of your Java installation.</code> &amp; <code>executor failed running [/bin/sh -c /opt/Android/cmdline-tools/latest/bin/sdkmanager --update]: exit code: 1</code> when it runs <code>RUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --update</code>.</p>\n<p>I feel like I'm at a loss but I think my issue is not knowing where the JDK is being installed to or knowing how to find it from a Dockerfile; I've tried echoing <code>JAVA_HOME</code> thinking I could see it while the image built but, again, no luck. Any help with this would be greatly appreciated. I've been pulling my hair out Googling &amp; trying things. Thank you.</p>\n<pre><code>FROM node:12.12.0\n\nARG CMDLINE_TOOLS_VERSION=7583922\nARG ANDROID_BUILD_TOOLS=30.0.3\n\nRUN apt-get -qqy update \\\n    &amp;&amp; apt-get -qqy install \\\n    python-dev \\\n    --no-install-recommends\n\nRUN apt-get install -y software-properties-common gcc\nRUN apt-get update &amp;&amp; apt-get install -y  python3-pip\nRUN pip3 install awscli\nRUN apt-get install -y jq\nRUN mkdir -p /usr/share/man/man1 /usr/share/man/man2\nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends openjdk-8-jdk &amp;&amp; apt-get clean;\n\nENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nENV PATH=$PATH:$JAVA_HOME/bin\n\nRUN wget -q https://services.gradle.org/distributions/gradle-4.5.1-bin.zip &amp;&amp; unzip gradle-4.5.1-bin.zip -d /opt &amp;&amp; rm gradle-4.5.1-bin.zip\n\nENV GRADLE_HOME=/opt/gradle-4.5.1\nENV PATH=$PATH:/opt/gradle-4.5.1/bin\n\nRUN wget https://dl.google.com/android/repository/commandlinetools-linux-${CMDLINE_TOOLS_VERSION}_latest.zip\nRUN mkdir -p /opt/Android/cmdline-tools\nRUN  unzip commandlinetools-linux-7583922_latest.zip -d /opt/Android/cmdline-tools\nRUN mv /opt/Android/cmdline-tools/cmdline-tools /opt/Android/cmdline-tools/latest\n\nENV ANDROID_HOME=/opt/Android\nENV PATH=&quot;$ANDROID_HOME/emulator:$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin \\\n:$ANDROID_HOME/cmdline-tools/latest:$ANDROID_HOME/cmdline-tools/latest/bin:$ANDROID_HOME/platform-tools:$PATH&quot;\n\nRUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --update\nRUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --list\nRUN /opt/Android/cmdline-tools/latest/bin/sdkmanager --list | grep build-tools\nRUN echo y | /opt/Android/cmdline-tools/latest/bin/sdkmanager &quot;build-tools;${ANDROID_BUILD_TOOLS}&quot; &quot;platform-tools&quot; &quot;platforms;android-30&quot; &quot;tools&quot; &gt;/dev/null\nRUN yes | /opt/Android/cmdline-tools/latest/bin/sdkmanager --licenses\n\nCMD [&quot;yarn&quot;, &quot;start&quot;]\n</code></pre>\n"},{"tags":["java","sql-server","database","jsp","webserver"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667585910,"post_id":74294259,"comment_id":131209662,"body_markdown":"There&#39;no any problem defined by your code rather than unnecessary refreshing a page. Define your problem or error that you getting and add a code to reproduce it.","body":"There&#39;no any problem defined by your code rather than unnecessary refreshing a page. Define your problem or error that you getting and add a code to reproduce it."},{"owner":{"account_id":26809713,"reputation":1,"user_id":20400503,"display_name":"rohit kumar maurya"},"score":0,"creation_date":1667915438,"post_id":74294259,"comment_id":131277911,"body_markdown":"I am refreshing the page to show real time data.","body":"I am refreshing the page to show real time data."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1667933486,"post_id":74294259,"comment_id":131285025,"body_markdown":"Real time data cannot be shown from inputs.","body":"Real time data cannot be shown from inputs."}],"owner":{"account_id":26809713,"reputation":1,"user_id":20400503,"display_name":"rohit kumar maurya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667414733,"creation_date":1667414733,"question_id":74294259,"body_markdown":"I have a web application whoses task is to show image and id no of employee based on events getting registered in MS SQL Data base. I&#39;m selecting last(latest) event occurred for two inputs (readers) and showing image and id no of employees. I am refresing the web page every 500ms to update any new event with respect to the inputs(reader). When I am using only one client application works properly however with multiple clients (running parellel browsers with diffrent input (reader) selected) I am getting Image of other clients mixed.( i.e. Consider opening the url at two location and selecting input1 and 2 for one browser(1) and input 3 and 4 for other browser(2). Ideally browser(1) should show image only from input 1 &amp; 2 and browser 2 should show images from input 3 &amp; 4 But browser(1) is showing images of browser(2) and browser(2) shows images of browser(1) also.) Below is my web page code please suggest the solution.\r\n\r\n```\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\r\n   &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n\r\n    &lt;%@ page import=&quot;java.util.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;javax.sql.*;&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;style&gt;\r\n            table, th, td {\r\n              border:1px solid black;\r\n              border-collapse: collapse;\r\n              text-align: center;\r\n             }\r\n            &lt;/style&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;PoP UP DISPLAY&lt;/title&gt;\r\n        &lt;script &gt;\r\n        window.setInterval(&#39;refresh()&#39;, 800);\r\n        // Call a function every 800 milliseconds\r\n        // Refresh or reload page.\r\n        function refresh() {\r\n            window .location.reload();\r\n        }\r\n         &lt;/script&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body style=&quot;background-color: black;&quot;&gt;\r\n     &lt;jsp:declaration&gt;\r\n        String reader1 =&quot;&quot;;\r\n        String reader2 =&quot;&quot;;\r\n        String image1 =&quot;&quot;;\r\n        String image2 =&quot;&quot;;\r\n        String empCode1 =&quot;&quot;;\r\n        String empCode2 =&quot;&quot;;\r\n        String empName1 =&quot;&quot;;\r\n        String empName2 =&quot;&quot;;\r\n    &lt;/jsp:declaration&gt;\r\n    &lt;jsp:scriptlet&gt;\r\n        reader1 = request.getParameter(&quot;reader1&quot;);\r\n        reader2 = request.getParameter(&quot;reader2&quot;);\r\n    &lt;/jsp:scriptlet&gt;\r\n    \r\n    &lt;%\r\n\r\n    java.sql.Connection con1;\r\n    java.sql.Statement s;\r\n    java.sql.ResultSet rs1, rs2;\r\n    java.sql.PreparedStatement pst;\r\n\r\n    con1=null;\r\n    s=null;\r\n    pst=null;\r\n    rs1=null;\r\n    rs2=null;\r\n\r\n    // Remember to change the next line with your own environment\r\n    String url=\r\n   &quot;jdbc:jtds:sqlserver://IP_Address_Of_DB/ DB_Name;instance= INSTANCEB&quot;;\r\n    String id= &quot;user_id&quot;;\r\n    String pass = &quot;user_pass&quot;;\r\n    try{\r\n\r\n    Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n    con1 = java.sql.DriverManager.getConnection(url, id, pass);\r\n\r\n    }catch(ClassNotFoundException cnfex){\r\n    cnfex.printStackTrace();\r\n\r\n    }\r\n    String sql1 = &quot;select top 1 * from ecbacs.EventLog where ReaderId= &#39;&quot;+reader1+&quot;&#39; order by EventNo desc&quot;;\r\n    String sql2 = &quot;select top 1 * from ecbacs.EventLog where ReaderId= &#39;&quot;+reader2+&quot;&#39; order by EventNo desc&quot;;\r\n    %&gt;\r\n    &lt;%\r\n    try{\r\n        s = con1.createStatement();\r\n        rs1 = s.executeQuery(sql1);\r\n            while( rs1.next() ){\r\n            empCode1= rs1.getString(&quot;EmpCode&quot;);\r\n            empName1= rs1.getString(&quot;CardHolderName&quot;);\r\n            }\r\n        s = con1.createStatement();\r\n        rs2 = s.executeQuery(sql2);\r\n          while( rs2.next() ){\r\n            empCode2= rs2.getString(&quot;EmpCode&quot;);\r\n            empName2= rs2.getString(&quot;CardHolderName&quot;);\r\n            }\r\n        image1 = empCode1+&quot;.png&quot;;\r\n        image2 = empCode2+&quot;.png&quot;;\r\n    %&gt;\r\n\r\n    &lt;table style=&quot;height:100%;width:100%; position: absolute; top: 0; bottom: 0; left: 0; right: 0;border:1px solid&quot;&gt;\r\n     &lt;tr style=&quot;height: 95%;&quot;&gt;\r\n         &lt;td&gt;&lt;img alt=&quot;Employee1 Photo&quot;  style=&quot;height: 100%&quot; src=&quot;images/&lt;%=image1%&gt;&quot;&lt;/td&gt;\r\n         &lt;td&gt;&lt;img alt=&quot;Employee2 Photo&quot;  style=&quot;height: 100%&quot; src=&quot;images/&lt;%=image2%&gt;&quot;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr &gt;\r\n        &lt;td style=&quot;color:#ffffff; font-size: 2em&quot;&gt;&lt;%= empName1 %&gt;&lt;/td&gt;\r\n\t&lt;td style=&quot;color:#ffffff; font-size: 2em&quot;&gt;&lt;%= empName2 %&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\n    &lt;%\r\n\r\n        }\r\n        catch(Exception e){e.printStackTrace();}\r\n        finally{\r\n        if(rs1!=null) rs1.close();\r\n        if(rs2!=null) rs2.close();\r\n        if(s!=null) s.close();\r\n        if(con1!=null) con1.close();\r\n        }\r\n\r\n        %&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n```\r\n\r\n\r\nI am running the above applcation on Apache tomcat version 6. Please see the above code and help me with the solution. also is there any other way to achieve the above funtionality please suggest. I am a beginner with web programming also not from computer science background.","title":"Responses of MS sql queries to different request are getting mixed on apache tomcat server","body":"<p>I have a web application whoses task is to show image and id no of employee based on events getting registered in MS SQL Data base. I'm selecting last(latest) event occurred for two inputs (readers) and showing image and id no of employees. I am refresing the web page every 500ms to update any new event with respect to the inputs(reader). When I am using only one client application works properly however with multiple clients (running parellel browsers with diffrent input (reader) selected) I am getting Image of other clients mixed.( i.e. Consider opening the url at two location and selecting input1 and 2 for one browser(1) and input 3 and 4 for other browser(2). Ideally browser(1) should show image only from input 1 &amp; 2 and browser 2 should show images from input 3 &amp; 4 But browser(1) is showing images of browser(2) and browser(2) shows images of browser(1) also.) Below is my web page code please suggest the solution.</p>\n<pre><code>    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;\n   &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n\n    &lt;%@ page import=&quot;java.util.*&quot; %&gt;\n    &lt;%@ page import=&quot;javax.sql.*;&quot; %&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;style&gt;\n            table, th, td {\n              border:1px solid black;\n              border-collapse: collapse;\n              text-align: center;\n             }\n            &lt;/style&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;PoP UP DISPLAY&lt;/title&gt;\n        &lt;script &gt;\n        window.setInterval('refresh()', 800);\n        // Call a function every 800 milliseconds\n        // Refresh or reload page.\n        function refresh() {\n            window .location.reload();\n        }\n         &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body style=&quot;background-color: black;&quot;&gt;\n     &lt;jsp:declaration&gt;\n        String reader1 =&quot;&quot;;\n        String reader2 =&quot;&quot;;\n        String image1 =&quot;&quot;;\n        String image2 =&quot;&quot;;\n        String empCode1 =&quot;&quot;;\n        String empCode2 =&quot;&quot;;\n        String empName1 =&quot;&quot;;\n        String empName2 =&quot;&quot;;\n    &lt;/jsp:declaration&gt;\n    &lt;jsp:scriptlet&gt;\n        reader1 = request.getParameter(&quot;reader1&quot;);\n        reader2 = request.getParameter(&quot;reader2&quot;);\n    &lt;/jsp:scriptlet&gt;\n    \n    &lt;%\n\n    java.sql.Connection con1;\n    java.sql.Statement s;\n    java.sql.ResultSet rs1, rs2;\n    java.sql.PreparedStatement pst;\n\n    con1=null;\n    s=null;\n    pst=null;\n    rs1=null;\n    rs2=null;\n\n    // Remember to change the next line with your own environment\n    String url=\n   &quot;jdbc:jtds:sqlserver://IP_Address_Of_DB/ DB_Name;instance= INSTANCEB&quot;;\n    String id= &quot;user_id&quot;;\n    String pass = &quot;user_pass&quot;;\n    try{\n\n    Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n    con1 = java.sql.DriverManager.getConnection(url, id, pass);\n\n    }catch(ClassNotFoundException cnfex){\n    cnfex.printStackTrace();\n\n    }\n    String sql1 = &quot;select top 1 * from ecbacs.EventLog where ReaderId= '&quot;+reader1+&quot;' order by EventNo desc&quot;;\n    String sql2 = &quot;select top 1 * from ecbacs.EventLog where ReaderId= '&quot;+reader2+&quot;' order by EventNo desc&quot;;\n    %&gt;\n    &lt;%\n    try{\n        s = con1.createStatement();\n        rs1 = s.executeQuery(sql1);\n            while( rs1.next() ){\n            empCode1= rs1.getString(&quot;EmpCode&quot;);\n            empName1= rs1.getString(&quot;CardHolderName&quot;);\n            }\n        s = con1.createStatement();\n        rs2 = s.executeQuery(sql2);\n          while( rs2.next() ){\n            empCode2= rs2.getString(&quot;EmpCode&quot;);\n            empName2= rs2.getString(&quot;CardHolderName&quot;);\n            }\n        image1 = empCode1+&quot;.png&quot;;\n        image2 = empCode2+&quot;.png&quot;;\n    %&gt;\n\n    &lt;table style=&quot;height:100%;width:100%; position: absolute; top: 0; bottom: 0; left: 0; right: 0;border:1px solid&quot;&gt;\n     &lt;tr style=&quot;height: 95%;&quot;&gt;\n         &lt;td&gt;&lt;img alt=&quot;Employee1 Photo&quot;  style=&quot;height: 100%&quot; src=&quot;images/&lt;%=image1%&gt;&quot;&lt;/td&gt;\n         &lt;td&gt;&lt;img alt=&quot;Employee2 Photo&quot;  style=&quot;height: 100%&quot; src=&quot;images/&lt;%=image2%&gt;&quot;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr &gt;\n        &lt;td style=&quot;color:#ffffff; font-size: 2em&quot;&gt;&lt;%= empName1 %&gt;&lt;/td&gt;\n    &lt;td style=&quot;color:#ffffff; font-size: 2em&quot;&gt;&lt;%= empName2 %&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt;\n\n\n    &lt;%\n\n        }\n        catch(Exception e){e.printStackTrace();}\n        finally{\n        if(rs1!=null) rs1.close();\n        if(rs2!=null) rs2.close();\n        if(s!=null) s.close();\n        if(con1!=null) con1.close();\n        }\n\n        %&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n</code></pre>\n<p>I am running the above applcation on Apache tomcat version 6. Please see the above code and help me with the solution. also is there any other way to achieve the above funtionality please suggest. I am a beginner with web programming also not from computer science background.</p>\n"},{"tags":["java","sql","jdbi"],"comments":[{"owner":{"account_id":5575982,"reputation":3003,"user_id":4960774,"accept_rate":67,"display_name":"Ali"},"score":0,"creation_date":1458201705,"post_id":19424573,"comment_id":59756521,"body_markdown":"Did any of the answers solve this issue? im trying the @BindIn but no luck :(","body":"Did any of the answers solve this issue? im trying the @BindIn but no luck :("}],"answers":[{"comments":[{"owner":{"account_id":228524,"reputation":1077,"user_id":490888,"display_name":"Tristan"},"score":1,"creation_date":1438369609,"post_id":19425222,"comment_id":51440502,"body_markdown":"I assume that you had to add `@UseStringTemplate3StatementLocator` to the class to support `@Define`, but how did you get it to still do argument binding (`@Bind`) in addition to `@Define`?","body":"I assume that you had to add <code>@UseStringTemplate3StatementLocator</code> to the class to support <code>@Define</code>, but how did you get it to still do argument binding (<code>@Bind</code>) in addition to <code>@Define</code>?"}],"tags":[],"owner":{"account_id":466047,"reputation":149,"user_id":870564,"display_name":"Raven"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1382008583,"creation_date":1382008583,"answer_id":19425222,"question_id":19424573,"body_markdown":"Use @Define annotation to build dynamic queries in jDBI.\r\nExample:\r\n\r\n    @SqlUpdate(&quot;insert into &lt;table&gt; (id, name) values (:id, :name)&quot;)\r\n    public void insert(@Define(&quot;table&quot;) String table, @BindBean Something s);\r\n    \r\n    @SqlQuery(&quot;select id, name from &lt;table&gt; where id = :id&quot;)\r\n    public Something findById(@Define(&quot;table&quot;) String table, @Bind(&quot;id&quot;) Long id);\r\n\r\n","title":"How to do in-query in jDBI?","body":"<p>Use @Define annotation to build dynamic queries in jDBI.\nExample:</p>\n\n<pre><code>@SqlUpdate(\"insert into &lt;table&gt; (id, name) values (:id, :name)\")\npublic void insert(@Define(\"table\") String table, @BindBean Something s);\n\n@SqlQuery(\"select id, name from &lt;table&gt; where id = :id\")\npublic Something findById(@Define(\"table\") String table, @Bind(\"id\") Long id);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":111565,"reputation":11238,"user_id":294661,"accept_rate":81,"display_name":"Peter Warbo"},"score":3,"creation_date":1399545287,"post_id":19535301,"comment_id":36112094,"body_markdown":"How do I escape `&lt;` inside the query?","body":"How do I escape <code>&lt;</code> inside the query?"},{"owner":{"account_id":111565,"reputation":11238,"user_id":294661,"accept_rate":81,"display_name":"Peter Warbo"},"score":14,"creation_date":1399546217,"post_id":19535301,"comment_id":36112631,"body_markdown":"Figured it out. You should do `\\\\&lt;`","body":"Figured it out. You should do <code>\\\\&lt;</code>"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":1,"creation_date":1503040253,"post_id":19535301,"comment_id":78458357,"body_markdown":"Need to add dependency as mention in https://stackoverflow.com/a/33249078/2987755","body":"Need to add dependency as mention in <a href=\"https://stackoverflow.com/a/33249078/2987755\">stackoverflow.com/a/33249078/2987755</a>"},{"owner":{"account_id":1985735,"reputation":3193,"user_id":1781024,"accept_rate":84,"display_name":"Vikas Prasad"},"score":0,"creation_date":1548358396,"post_id":19535301,"comment_id":95523267,"body_markdown":"This works cool. But what if I want to apply `lower` function to each item in the list before doing the comparison. I tried `lower(name) in (lower(&lt;nameList&gt;))`. This of course doesn&#39;t work. Any idea?","body":"This works cool. But what if I want to apply <code>lower</code> function to each item in the list before doing the comparison. I tried <code>lower(name) in (lower(&lt;nameList&gt;))</code>. This of course doesn&#39;t work. Any idea?"},{"owner":{"account_id":1618099,"reputation":1033,"user_id":1495230,"accept_rate":100,"display_name":"Deinlandel"},"score":0,"creation_date":1548652856,"post_id":19535301,"comment_id":95603066,"body_markdown":"@VikasPrasad Why not pre-process arguments in the code before executing the query?","body":"@VikasPrasad Why not pre-process arguments in the code before executing the query?"}],"tags":[],"owner":{"account_id":1618099,"reputation":1033,"user_id":1495230,"accept_rate":100,"display_name":"Deinlandel"},"comment_count":5,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1470747786,"creation_date":1382512839,"answer_id":19535301,"question_id":19424573,"body_markdown":"This should work:\r\n\r\n    @SqlQuery(&quot;select id from foo where name in (&lt;nameList&gt;)&quot;)\r\n    List&lt;Integer&gt; getIds(@BindIn(&quot;nameList&quot;) List&lt;String&gt; nameList);\r\n\r\nDon&#39;t forget to annotate class containing this method with:\r\n\r\n    @UseStringTemplate3StatementLocator\r\n\r\nannotation (beacuse under the hood JDBI uses Apache StringTemplate to do such substitutions). Also note that with this annotation, you cannot use &#39;&lt;&#39; character in your SQL queries without escaping (beacause it is a special symbol used by StringTemplate).","title":"How to do in-query in jDBI?","body":"<p>This should work:</p>\n\n<pre><code>@SqlQuery(\"select id from foo where name in (&lt;nameList&gt;)\")\nList&lt;Integer&gt; getIds(@BindIn(\"nameList\") List&lt;String&gt; nameList);\n</code></pre>\n\n<p>Don't forget to annotate class containing this method with:</p>\n\n<pre><code>@UseStringTemplate3StatementLocator\n</code></pre>\n\n<p>annotation (beacuse under the hood JDBI uses Apache StringTemplate to do such substitutions). Also note that with this annotation, you cannot use '&lt;' character in your SQL queries without escaping (beacause it is a special symbol used by StringTemplate).</p>\n"},{"tags":[],"owner":{"account_id":6117927,"reputation":91,"user_id":4772341,"display_name":"Thomas Van Doren"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469834481,"creation_date":1469834481,"answer_id":38668779,"question_id":19424573,"body_markdown":"With PostgreSQL, I was able to use the ANY comparison and bind the collection to an array to achieve this.\r\n\r\n    public interface Foo {\r\n        @SqlQuery(&quot;SELECT id FROM foo WHERE name = ANY (:nameList)&quot;)\r\n        List&lt;Integer&gt; getIds(@BindStringList(&quot;nameList&quot;) List&lt;String&gt; nameList);\r\n    }\r\n\r\n    @BindingAnnotation(BindStringList.BindFactory.class)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.PARAMETER})\r\n    public @interface BindStringList {\r\n        String value() default &quot;it&quot;;\r\n\r\n        class BindFactory implements BinderFactory {\r\n            @Override\r\n            public Binder build(Annotation annotation) {\r\n                return new Binder&lt;BindStringList, Collection&lt;String&gt;&gt;() {\r\n                    @Override\r\n                    public void bind(SQLStatement&lt;?&gt; q, BindStringList bind, Collection&lt;String&gt; arg) {\r\n                        try {\r\n                            Array array = q.getContext().getConnection().createArrayOf(&quot;varchar&quot;, arg.toArray());\r\n                            q.bindBySqlType(bind.value(), array, Types.ARRAY);\r\n                        } catch (SQLException e) {\r\n                            // handle error\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\nNB: ANY is not part of the ANSI SQL standard, so this creates a hard dependency on PostgreSQL.","title":"How to do in-query in jDBI?","body":"<p>With PostgreSQL, I was able to use the ANY comparison and bind the collection to an array to achieve this.</p>\n\n<pre><code>public interface Foo {\n    @SqlQuery(\"SELECT id FROM foo WHERE name = ANY (:nameList)\")\n    List&lt;Integer&gt; getIds(@BindStringList(\"nameList\") List&lt;String&gt; nameList);\n}\n\n@BindingAnnotation(BindStringList.BindFactory.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER})\npublic @interface BindStringList {\n    String value() default \"it\";\n\n    class BindFactory implements BinderFactory {\n        @Override\n        public Binder build(Annotation annotation) {\n            return new Binder&lt;BindStringList, Collection&lt;String&gt;&gt;() {\n                @Override\n                public void bind(SQLStatement&lt;?&gt; q, BindStringList bind, Collection&lt;String&gt; arg) {\n                    try {\n                        Array array = q.getContext().getConnection().createArrayOf(\"varchar\", arg.toArray());\n                        q.bindBySqlType(bind.value(), array, Types.ARRAY);\n                    } catch (SQLException e) {\n                        // handle error\n                    }\n                }\n            };\n        }\n    }\n}\n</code></pre>\n\n<p>NB: ANY is not part of the ANSI SQL standard, so this creates a hard dependency on PostgreSQL.</p>\n"},{"tags":[],"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1556628835,"creation_date":1556628835,"answer_id":55921388,"question_id":19424573,"body_markdown":"If you are using the JDBI 3 Fluent API, you can use `bindList()` with an attribute:\r\n\r\n    List&lt;String&gt; keys = new ArrayList&lt;String&gt;()\r\n    keys.add(&quot;user_name&quot;);\r\n    keys.add(&quot;street&quot;);\r\n    \r\n    handle.createQuery(&quot;SELECT value FROM items WHERE kind in (&lt;listOfKinds&gt;)&quot;)\r\n          .bindList(&quot;listOfKinds&quot;, keys)\r\n          .mapTo(String.class)\r\n          .list();\r\n    \r\n    // Or, using the &#39;vararg&#39; definition\r\n    handle.createQuery(&quot;SELECT value FROM items WHERE kind in (&lt;varargListOfKinds&gt;)&quot;)\r\n          .bindList(&quot;varargListOfKinds&quot;, &quot;user_name&quot;, &quot;docs&quot;, &quot;street&quot;, &quot;library&quot;)\r\n          .mapTo(String.class)\r\n          .list();\r\n\r\nNote how the query string uses `&lt;listOfKinds&gt;` instead of the usual `:listOfKinds`.\r\n\r\nDocumentation is here: http://jdbi.org/#_binding_arguments","title":"How to do in-query in jDBI?","body":"<p>If you are using the JDBI 3 Fluent API, you can use <code>bindList()</code> with an attribute:</p>\n\n<pre><code>List&lt;String&gt; keys = new ArrayList&lt;String&gt;()\nkeys.add(\"user_name\");\nkeys.add(\"street\");\n\nhandle.createQuery(\"SELECT value FROM items WHERE kind in (&lt;listOfKinds&gt;)\")\n      .bindList(\"listOfKinds\", keys)\n      .mapTo(String.class)\n      .list();\n\n// Or, using the 'vararg' definition\nhandle.createQuery(\"SELECT value FROM items WHERE kind in (&lt;varargListOfKinds&gt;)\")\n      .bindList(\"varargListOfKinds\", \"user_name\", \"docs\", \"street\", \"library\")\n      .mapTo(String.class)\n      .list();\n</code></pre>\n\n<p>Note how the query string uses <code>&lt;listOfKinds&gt;</code> instead of the usual <code>:listOfKinds</code>.</p>\n\n<p>Documentation is here: <a href=\"http://jdbi.org/#_binding_arguments\" rel=\"noreferrer\">http://jdbi.org/#_binding_arguments</a></p>\n"},{"tags":[],"owner":{"account_id":3374135,"reputation":622,"user_id":2832655,"display_name":"Vijayant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667414679,"creation_date":1667414679,"answer_id":74294254,"question_id":19424573,"body_markdown":"Use `@BindList` annotation.\r\n\r\nExample:\r\n\r\n    @SqlQuery(&quot;SELECT name FROM table WHERE id IN (&lt;ids&gt;)&quot;)\r\n    List&lt;String&gt; getNames(@BindList(&quot;ids&quot;) List&lt;int&gt; ids);","title":"How to do in-query in jDBI?","body":"<p>Use <code>@BindList</code> annotation.</p>\n<p>Example:</p>\n<pre><code>@SqlQuery(&quot;SELECT name FROM table WHERE id IN (&lt;ids&gt;)&quot;)\nList&lt;String&gt; getNames(@BindList(&quot;ids&quot;) List&lt;int&gt; ids);\n</code></pre>\n"}],"owner":{"account_id":481010,"reputation":2039,"user_id":894570,"accept_rate":36,"display_name":"Mohit Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20174,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":5,"score":35,"last_activity_date":1667414679,"creation_date":1382006742,"question_id":19424573,"body_markdown":"How can I execute somethings like this in jDBI ?\r\n\r\n    @SqlQuery(&quot;select id from foo where name in &lt;list of names here&gt;&quot;)\r\n    List&lt;Integer&gt; getIds(@Bind(&quot;nameList&quot;) List&lt;String&gt; nameList);\r\n\r\n\r\n\r\nTable: `foo(id int,name varchar)`\r\n\r\nSimilar to @SelectProvider from myBatis.\r\n\r\nSimilar questions has been asked https://stackoverflow.com/questions/18642862/how-do-i-create-a-dynamic-sql-query-at-runtime-using-jdbis-sql-object-api, but somehow answer is not clear to me.\r\n","title":"How to do in-query in jDBI?","body":"<p>How can I execute somethings like this in jDBI ?</p>\n\n<pre><code>@SqlQuery(\"select id from foo where name in &lt;list of names here&gt;\")\nList&lt;Integer&gt; getIds(@Bind(\"nameList\") List&lt;String&gt; nameList);\n</code></pre>\n\n<p>Table: <code>foo(id int,name varchar)</code></p>\n\n<p>Similar to @SelectProvider from myBatis.</p>\n\n<p>Similar questions has been asked <a href=\"https://stackoverflow.com/questions/18642862/how-do-i-create-a-dynamic-sql-query-at-runtime-using-jdbis-sql-object-api\">How do I create a Dynamic Sql Query at runtime using JDBI&#39;s Sql Object API?</a>, but somehow answer is not clear to me.</p>\n"},{"tags":["java","bazel","bazel-java"],"answers":[{"tags":[],"owner":{"account_id":15806,"reputation":19577,"user_id":33795,"display_name":"Benjamin Peterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667414071,"creation_date":1667414071,"answer_id":74294155,"question_id":74292272,"body_markdown":"As you say, the `--java_language_version` flag only selects what JDK used to compile Java. The JRE used to execute Java may be configured with the `--java_runtime_version` flag. See https://bazel.build/docs/bazel-and-java#config-jvm.","title":"Why I am getting java.lang.UnsupportedClassVersionError while trying to run bazel java target?","body":"<p>As you say, the <code>--java_language_version</code> flag only selects what JDK used to compile Java. The JRE used to execute Java may be configured with the <code>--java_runtime_version</code> flag. See <a href=\"https://bazel.build/docs/bazel-and-java#config-jvm\" rel=\"nofollow noreferrer\">https://bazel.build/docs/bazel-and-java#config-jvm</a>.</p>\n"}],"owner":{"account_id":19450462,"reputation":47,"user_id":14226995,"display_name":"rumbleD5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74294155,"answer_count":1,"score":1,"last_activity_date":1667414071,"creation_date":1667405118,"question_id":74292272,"body_markdown":"I am trying to compile and run the [example java project](https://bazel.build/start/java). Instead of using the default JDK I have chosen JDK 15 by providing the setting `--java_language_version=&quot;15&quot;`. The complete command looks like this:\r\n\r\n```\r\nbazel run --java_language_version=&quot;15&quot; //:ProjectRunner\r\n```\r\n\r\nI can see that it downloads Zulu JDK 15. But running the executable throws the following error:\r\n\r\n```\r\njava.lang.UnsupportedClassVersionError: com/example/ProjectRunner has been compiled by a more recent version of the Java Runtime (class file version 59.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n```\r\n\r\nWhat I already figured out is that it tries to run under JDK/JRE 11 (class file versions up to 55.0) but has been compiled with JDK 15 (class file version 59.0).\r\n\r\nWhat I don&#39;t understand is why bazel runs the java application with the default JDK (11).","title":"Why I am getting java.lang.UnsupportedClassVersionError while trying to run bazel java target?","body":"<p>I am trying to compile and run the <a href=\"https://bazel.build/start/java\" rel=\"nofollow noreferrer\">example java project</a>. Instead of using the default JDK I have chosen JDK 15 by providing the setting <code>--java_language_version=&quot;15&quot;</code>. The complete command looks like this:</p>\n<pre><code>bazel run --java_language_version=&quot;15&quot; //:ProjectRunner\n</code></pre>\n<p>I can see that it downloads Zulu JDK 15. But running the executable throws the following error:</p>\n<pre><code>java.lang.UnsupportedClassVersionError: com/example/ProjectRunner has been compiled by a more recent version of the Java Runtime (class file version 59.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n</code></pre>\n<p>What I already figured out is that it tries to run under JDK/JRE 11 (class file versions up to 55.0) but has been compiled with JDK 15 (class file version 59.0).</p>\n<p>What I don't understand is why bazel runs the java application with the default JDK (11).</p>\n"},{"tags":["java","c#","object","oop","reference"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1667414382,"post_id":74294104,"comment_id":131163981,"body_markdown":"Read on &quot;sentinel values&quot;... The head is only used to make code uniform and only `head.next` used/returned.","body":"Read on &quot;sentinel values&quot;... The head is only used to make code uniform and only <code>head.next</code> used/returned."},{"owner":{"account_id":26809472,"reputation":1,"user_id":20400292,"display_name":"petronius"},"score":0,"creation_date":1667419636,"post_id":74294104,"comment_id":131165636,"body_markdown":"@AlexeiLevenkov Thanks for the answer, I didn&#39;t know these &quot;sentinel values&quot;. \nNow I understand his goal, but I would like to confirm if I understand the update part between the two objects. \nIt is only updating the value of the &#39;next&#39; property of the sentinel node &#39;head&#39; since the first assignment with &#39;0&#39; because the only assignment performed in the properties of the &#39;handler&#39; is in the &#39;next&#39; property and not in the &#39;val&#39; property. Is that correct?","body":"@AlexeiLevenkov Thanks for the answer, I didn&#39;t know these &quot;sentinel values&quot;.  Now I understand his goal, but I would like to confirm if I understand the update part between the two objects.  It is only updating the value of the &#39;next&#39; property of the sentinel node &#39;head&#39; since the first assignment with &#39;0&#39; because the only assignment performed in the properties of the &#39;handler&#39; is in the &#39;next&#39; property and not in the &#39;val&#39; property. Is that correct?"}],"owner":{"account_id":26809472,"reputation":1,"user_id":20400292,"display_name":"petronius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667413748,"creation_date":1667413748,"question_id":74294104,"body_markdown":"I&#39;m trying to understand how **copy/reference** works in the algorithm below to solve LeetCode&#39;s &#39;*Merge Two Sorted Lists*&#39; problem.\r\n\r\nThis algorithm uses the **iteration** approach to merge the **linked lists**, initially using a &#39;*head*&#39; node and initializing it with the value *0*. After that, the object from the *head* node is **copied** to another *handler* node. After that, the value of the handler node&#39;s next is changed at each iteration of the loop to *traverse the linked list*, but the *head* node remains with the current value as *0*, but the next nodes are *updated* and the *head.next* is returned to the end of iteration. \r\n\r\nI did not understand how the *head* node had all the values of the *next* property updated and the current property &#39;val&#39; did not, instead the *handler* had the property *val* and the *next* updated and at no time had it had a new assignment for *head*.\r\n\r\n\r\n\r\n```\r\n\r\npublic static ListNode MergeTwoLists(ListNode list1, ListNode list2)\r\n        {\r\n            ListNode head = new ListNode(0);\r\n            ListNode handler = head;\r\n\r\n            while (list1 != null &amp;&amp; list2 != null)\r\n            {\r\n                if (list1.val &lt;= list2.val)\r\n                {\r\n                    handler.next = list1;\r\n                    list1 = list1.next;\r\n                }\r\n                else\r\n                {\r\n                    handler.next = list2;\r\n                    list2 = list2.next;\r\n                }\r\n                handler = handler.next;\r\n            }\r\n\r\n            if (list1 != null)\r\n                handler.next = list1;\r\n            else if (list2 != null)\r\n                handler.next = list2;\r\n\r\n            return head.next;\r\n        }\r\n\r\n\r\n```\r\n```\r\n    public class ListNode\r\n    {\r\n        public int val;\r\n        public ListNode next;\r\n        public ListNode(int val = 0, ListNode next = null)\r\n        {\r\n            this.val = val;\r\n            this.next = next;\r\n        }\r\n    }\r\n```\r\n\r\n**LeetCode**: https://leetcode.com/problems/merge-two-sorted-lists/\r\n\r\n**Solution** I&#39;m referring to (it&#39;s in java but I&#39;m testing in c#): https://leetcode.com/problems/merge-two-sorted-lists/discuss/9772/Java-solution-with-real-world-concerns-real-world-concerns\r\n\r\n","title":"How to copy/reference an object and updating values in a Linked List","body":"<p>I'm trying to understand how <strong>copy/reference</strong> works in the algorithm below to solve LeetCode's '<em>Merge Two Sorted Lists</em>' problem.</p>\n<p>This algorithm uses the <strong>iteration</strong> approach to merge the <strong>linked lists</strong>, initially using a '<em>head</em>' node and initializing it with the value <em>0</em>. After that, the object from the <em>head</em> node is <strong>copied</strong> to another <em>handler</em> node. After that, the value of the handler node's next is changed at each iteration of the loop to <em>traverse the linked list</em>, but the <em>head</em> node remains with the current value as <em>0</em>, but the next nodes are <em>updated</em> and the <em>head.next</em> is returned to the end of iteration.</p>\n<p>I did not understand how the <em>head</em> node had all the values of the <em>next</em> property updated and the current property 'val' did not, instead the <em>handler</em> had the property <em>val</em> and the <em>next</em> updated and at no time had it had a new assignment for <em>head</em>.</p>\n<pre><code>\npublic static ListNode MergeTwoLists(ListNode list1, ListNode list2)\n        {\n            ListNode head = new ListNode(0);\n            ListNode handler = head;\n\n            while (list1 != null &amp;&amp; list2 != null)\n            {\n                if (list1.val &lt;= list2.val)\n                {\n                    handler.next = list1;\n                    list1 = list1.next;\n                }\n                else\n                {\n                    handler.next = list2;\n                    list2 = list2.next;\n                }\n                handler = handler.next;\n            }\n\n            if (list1 != null)\n                handler.next = list1;\n            else if (list2 != null)\n                handler.next = list2;\n\n            return head.next;\n        }\n\n\n</code></pre>\n<pre><code>    public class ListNode\n    {\n        public int val;\n        public ListNode next;\n        public ListNode(int val = 0, ListNode next = null)\n        {\n            this.val = val;\n            this.next = next;\n        }\n    }\n</code></pre>\n<p><strong>LeetCode</strong>: <a href=\"https://leetcode.com/problems/merge-two-sorted-lists/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/merge-two-sorted-lists/</a></p>\n<p><strong>Solution</strong> I'm referring to (it's in java but I'm testing in c#): <a href=\"https://leetcode.com/problems/merge-two-sorted-lists/discuss/9772/Java-solution-with-real-world-concerns-real-world-concerns\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/merge-two-sorted-lists/discuss/9772/Java-solution-with-real-world-concerns-real-world-concerns</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1667413485,"post_id":74293593,"comment_id":131163664,"body_markdown":"I don&#39;t see any reason this wouldn&#39;t work in the code you&#39;ve posted so far. Maybe you can also show where you observe the live data.","body":"I don&#39;t see any reason this wouldn&#39;t work in the code you&#39;ve posted so far. Maybe you can also show where you observe the live data."},{"owner":{"account_id":13111239,"reputation":338,"user_id":9472193,"display_name":"Abolfazl Abbasi"},"score":0,"creation_date":1667417576,"post_id":74293593,"comment_id":131164998,"body_markdown":"have you tested with LiveData.postValue() method?","body":"have you tested with LiveData.postValue() method?"}],"answers":[{"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1667416257,"post_id":74294103,"comment_id":131164555,"body_markdown":"I don&#39;t see why this is relevant, since you are setting the value from the main thread, the IapPurchasesUpdatedListener.","body":"I don&#39;t see why this is relevant, since you are setting the value from the main thread, the IapPurchasesUpdatedListener."}],"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667413738,"creation_date":1667413738,"answer_id":74294103,"question_id":74293593,"body_markdown":"Actually I found a solution, the problem is here, to be honest I totaly forgot about these methods diff.\r\n\r\n[Link to the orig SO post][1] :\r\n\r\nBased on the documentation:\r\n\r\n[setValue()][2]:\r\n\r\n&gt; Sets the value. If there are active observers, the value will be\r\n&gt; dispatched to them. This method must be called from the main thread.\r\n\r\n[postValue()][3]:\r\n\r\n&gt; Posts a task to a main thread to set the given value. If you called this method multiple times before a main thread executed a posted task, only the last value would be dispatched.\r\n\r\nTo summarize, the key difference would be:\r\n\r\n`setValue()` method must be called from the main thread. But if you need set a value from a background thread, `postValue()` should be used.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51299672/5709159\r\n  [2]: https://developer.android.com/reference/androidx/lifecycle/LiveData#setValue(T)\r\n  [3]: https://developer.android.com/reference/androidx/lifecycle/LiveData#postValue(T)","title":"Why LiveData doesn&#39;t pass event if called from the callback?","body":"<p>Actually I found a solution, the problem is here, to be honest I totaly forgot about these methods diff.</p>\n<p><a href=\"https://stackoverflow.com/a/51299672/5709159\">Link to the orig SO post</a> :</p>\n<p>Based on the documentation:</p>\n<p><a href=\"https://developer.android.com/reference/androidx/lifecycle/LiveData#setValue(T)\" rel=\"nofollow noreferrer\">setValue()</a>:</p>\n<blockquote>\n<p>Sets the value. If there are active observers, the value will be\ndispatched to them. This method must be called from the main thread.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/androidx/lifecycle/LiveData#postValue(T)\" rel=\"nofollow noreferrer\">postValue()</a>:</p>\n<blockquote>\n<p>Posts a task to a main thread to set the given value. If you called this method multiple times before a main thread executed a posted task, only the last value would be dispatched.</p>\n</blockquote>\n<p>To summarize, the key difference would be:</p>\n<p><code>setValue()</code> method must be called from the main thread. But if you need set a value from a background thread, <code>postValue()</code> should be used.</p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74294103,"answer_count":1,"score":0,"last_activity_date":1667413738,"creation_date":1667411179,"question_id":74293593,"body_markdown":"In my ViewModel I have such a code:\r\n\r\n```\r\n    ...\r\n    private val billingClientLifecycle: BillingClientLifecycle\r\n    private val _isBillingConnectionReady = MutableLiveData&lt;Boolean&gt;()\r\n    val isBillingConnectionReady: LiveData&lt;Boolean&gt; = _isBillingConnectionReady\r\n    ...\r\n    \r\n    init {\r\n    \t...\r\n        billingClientLifecycle.setPurchaseUpdateListener(\r\n            object : IapPurchasesUpdatedListener {\r\n                ...\r\n\r\n                override fun isBillingConnected(state: Boolean) {\r\n                    Log.i(TAG, &quot;Billing connection state is: $state&quot;)\r\n                    _isBillingConnectionReady.value = state\r\n                }\r\n            }\r\n        )\r\n\r\n        billingClientLifecycle.createBillingConnection(getApplication())\r\n        ...\r\n    }\r\n    \r\n    ...\r\n```\r\n\r\nSo here I have a `billingClientLifecycle` object and in `init()` I invoke `createBillingConnection` method I see that I get a response in the callback `isBillingConnected` and I see that `_isBillingConnectionReady` livedata is being called, however, I don&#39;t get this event in my fragment where I subscribed on this event.\r\n\r\nWhat am I missing here? Why live data doesn&#39;t pass the event? Could it be somehow because the callback captures the values?","title":"Why LiveData doesn&#39;t pass event if called from the callback?","body":"<p>In my ViewModel I have such a code:</p>\n<pre><code>    ...\n    private val billingClientLifecycle: BillingClientLifecycle\n    private val _isBillingConnectionReady = MutableLiveData&lt;Boolean&gt;()\n    val isBillingConnectionReady: LiveData&lt;Boolean&gt; = _isBillingConnectionReady\n    ...\n    \n    init {\n        ...\n        billingClientLifecycle.setPurchaseUpdateListener(\n            object : IapPurchasesUpdatedListener {\n                ...\n\n                override fun isBillingConnected(state: Boolean) {\n                    Log.i(TAG, &quot;Billing connection state is: $state&quot;)\n                    _isBillingConnectionReady.value = state\n                }\n            }\n        )\n\n        billingClientLifecycle.createBillingConnection(getApplication())\n        ...\n    }\n    \n    ...\n</code></pre>\n<p>So here I have a <code>billingClientLifecycle</code> object and in <code>init()</code> I invoke <code>createBillingConnection</code> method I see that I get a response in the callback <code>isBillingConnected</code> and I see that <code>_isBillingConnectionReady</code> livedata is being called, however, I don't get this event in my fragment where I subscribed on this event.</p>\n<p>What am I missing here? Why live data doesn't pass the event? Could it be somehow because the callback captures the values?</p>\n"},{"tags":["java","gradle","gradlew"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1667389216,"post_id":74287770,"comment_id":131154310,"body_markdown":"most likely to do with plugins section ; ensure that java or war is defined.","body":"most likely to do with plugins section ; ensure that java or war is defined."},{"owner":{"account_id":2922058,"reputation":213,"user_id":2504082,"accept_rate":50,"display_name":"Vinda"},"score":0,"creation_date":1667397601,"post_id":74287770,"comment_id":131157376,"body_markdown":"I already added both the plugins \napply plugin: &#39;java&#39;\napply plugin: &#39;war&#39;","body":"I already added both the plugins  apply plugin: &#39;java&#39; apply plugin: &#39;war&#39;"}],"answers":[{"comments":[{"owner":{"account_id":151340,"reputation":1145,"user_id":1743693,"accept_rate":60,"display_name":"orberkov"},"score":0,"creation_date":1691314046,"post_id":74294023,"comment_id":135472597,"body_markdown":"Thank you! the relevant update was from &quot;compile&quot; to &quot;compileClasspath&quot;\n&quot;Class-Path&quot;: configurations.compileClasspath.collect { it.absolutePath }.join(&quot; &quot;)","body":"Thank you! the relevant update was from &quot;compile&quot; to &quot;compileClasspath&quot; &quot;Class-Path&quot;: configurations.compileClasspath.collect { it.absolutePath }.join(&quot; &quot;)"}],"tags":[],"owner":{"account_id":2922058,"reputation":213,"user_id":2504082,"accept_rate":50,"display_name":"Vinda"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667413335,"creation_date":1667413335,"answer_id":74294023,"question_id":74287770,"body_markdown":"Below change worked for me\r\n\r\n```\r\nwar{\r\n\r\n    archiveName &#39;xyz-svc-clt.war&#39;\r\n    \r\n    manifest{\r\n        attributes &quot;Weblogic-Application-Version&quot;:  getBuildVersion(),\r\n                   &quot;Built-By&quot;: &quot;${env.USERNAME}&quot;,\r\n                   &quot;Built-On&quot;: new Date().format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;), \r\n                   &quot;Class-Path&quot;: configurations.compileClasspath.collect { it.getName() }.join(&#39; &#39;)\r\n        \r\n    }\r\n    \r\n    if (isDev() == false){\r\n        rootSpec.exclude(&quot;**/*_log4j.xml&quot;)\r\n        rootSpec.exclude(&quot;**/*.properties&quot;)\r\n    }   \r\n    \r\n    from(&#39;src/main/resources/&#39;){\r\n        include &#39;handler-chain.xml&#39;\r\n        into &#39;WEB-INF/classes/com/abc/xyz/service/xyzService/&#39;      \r\n    }\r\n    \r\n    from(&#39;src/main/resources/&#39;){\r\n        include &#39;handler-chain.xml&#39;\r\n        into &#39;WEB-INF/classes/com/abc/xyz/service/xyzService/notification/&#39;\r\n    }   \r\n}\r\n```","title":"Could not get unknown property &#39;compile&#39; for configuration container","body":"<p>Below change worked for me</p>\n<pre><code>war{\n\n    archiveName 'xyz-svc-clt.war'\n    \n    manifest{\n        attributes &quot;Weblogic-Application-Version&quot;:  getBuildVersion(),\n                   &quot;Built-By&quot;: &quot;${env.USERNAME}&quot;,\n                   &quot;Built-On&quot;: new Date().format(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;), \n                   &quot;Class-Path&quot;: configurations.compileClasspath.collect { it.getName() }.join(' ')\n        \n    }\n    \n    if (isDev() == false){\n        rootSpec.exclude(&quot;**/*_log4j.xml&quot;)\n        rootSpec.exclude(&quot;**/*.properties&quot;)\n    }   \n    \n    from('src/main/resources/'){\n        include 'handler-chain.xml'\n        into 'WEB-INF/classes/com/abc/xyz/service/xyzService/'      \n    }\n    \n    from('src/main/resources/'){\n        include 'handler-chain.xml'\n        into 'WEB-INF/classes/com/abc/xyz/service/xyzService/notification/'\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":2922058,"reputation":213,"user_id":2504082,"accept_rate":50,"display_name":"Vinda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667413335,"creation_date":1667385123,"question_id":74287770,"body_markdown":"Need Help: I&#39;m trying to upgrade the gradle version to 7.4.2 but seeing the following error\r\n\r\n&gt;* What went wrong:\r\nA problem occurred evaluating root project &#39;service&#39;.\r\n&gt; Could not get unknown property &#39;compile&#39; for configuration container of type org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.\r\n\r\nIt is coming from the below lines of code\r\n```\r\nwar{\r\n\r\n\tarchiveName &#39;xyz-svc-clt.war&#39;\r\n\t\r\n\tmanifest{\r\n\t\tattributes &quot;Weblogic-Application-Version&quot;:  getBuildVersion(),\r\n\t\t           &quot;Built-By&quot;: &quot;${env.USERNAME}&quot;,\r\n\t\t           &quot;Built-On&quot;: new Date().format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;), \r\n\t\t           &quot;Class-Path&quot;: configurations.compile.collect { it.getName() }.join(&#39; &#39;)\r\n\t\t\r\n\t}\r\n\t\r\n\tif (isDev() == false){\r\n\t\trootSpec.exclude(&quot;**/*_log4j.xml&quot;)\r\n\t\trootSpec.exclude(&quot;**/*.properties&quot;)\r\n\t}\t\r\n\t\r\n\tfrom(&#39;src/main/resources/&#39;){\r\n\t \tinclude &#39;handler-chain.xml&#39;\r\n\t \tinto &#39;WEB-INF/classes/com/abc/xyz/service/xyzService/&#39; \t \t\r\n\t}\r\n\t\r\n\tfrom(&#39;src/main/resources/&#39;){\r\n\t\tinclude &#39;handler-chain.xml&#39;\r\n\t\tinto &#39;WEB-INF/classes/com/abc/xyz/service/xyzService/notification/&#39;\r\n\t}\t\r\n}\r\n```\r\nI looked at similar kind of questions and tried different solutions but nothing worked for me. Modified configurations.compile to configurations.implementation after adding the below line but it didn&#39;t work. \r\n\r\n```\r\nproject.configurations.implementation.setCanBeResolved(true)\r\n```\r\nAlso I have the below plugins in my code\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;war&#39;\r\n```","title":"Could not get unknown property &#39;compile&#39; for configuration container","body":"<p>Need Help: I'm trying to upgrade the gradle version to 7.4.2 but seeing the following error</p>\n<blockquote>\n<ul>\n<li>What went wrong:\nA problem occurred evaluating root project 'service'.\nCould not get unknown property 'compile' for configuration container of type org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer.</li>\n</ul>\n</blockquote>\n<p>It is coming from the below lines of code</p>\n<pre><code>war{\n\n    archiveName 'xyz-svc-clt.war'\n    \n    manifest{\n        attributes &quot;Weblogic-Application-Version&quot;:  getBuildVersion(),\n                   &quot;Built-By&quot;: &quot;${env.USERNAME}&quot;,\n                   &quot;Built-On&quot;: new Date().format(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;), \n                   &quot;Class-Path&quot;: configurations.compile.collect { it.getName() }.join(' ')\n        \n    }\n    \n    if (isDev() == false){\n        rootSpec.exclude(&quot;**/*_log4j.xml&quot;)\n        rootSpec.exclude(&quot;**/*.properties&quot;)\n    }   \n    \n    from('src/main/resources/'){\n        include 'handler-chain.xml'\n        into 'WEB-INF/classes/com/abc/xyz/service/xyzService/'      \n    }\n    \n    from('src/main/resources/'){\n        include 'handler-chain.xml'\n        into 'WEB-INF/classes/com/abc/xyz/service/xyzService/notification/'\n    }   \n}\n</code></pre>\n<p>I looked at similar kind of questions and tried different solutions but nothing worked for me. Modified configurations.compile to configurations.implementation after adding the below line but it didn't work.</p>\n<pre><code>project.configurations.implementation.setCanBeResolved(true)\n</code></pre>\n<p>Also I have the below plugins in my code</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'war'\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud","partitioning","spring-cloud-stream"],"answers":[{"comments":[{"owner":{"account_id":4688053,"reputation":2010,"user_id":3794944,"accept_rate":79,"display_name":"Funsaized"},"score":0,"creation_date":1667415035,"post_id":74293953,"comment_id":131164179,"body_markdown":"gotcha - ty! also found it under the heading &quot;Some caveats to keep in mind&quot; in this article https://spring.io/blog/2021/02/03/demystifying-spring-cloud-stream-producers-with-apache-kafka-partitions","body":"gotcha - ty! also found it under the heading &quot;Some caveats to keep in mind&quot; in this article <a href=\"https://spring.io/blog/2021/02/03/demystifying-spring-cloud-stream-producers-with-apache-kafka-partitions\" rel=\"nofollow noreferrer\">spring.io/blog/2021/02/03/&hellip;</a>"},{"owner":{"account_id":4688053,"reputation":2010,"user_id":3794944,"accept_rate":79,"display_name":"Funsaized"},"score":0,"creation_date":1667415426,"post_id":74293953,"comment_id":131164304,"body_markdown":"missed it on that first read through","body":"missed it on that first read through"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667412935,"creation_date":1667412935,"answer_id":74293953,"question_id":74293146,"body_markdown":"Binder level partitioning is really not needed with the Kafka binder; it is intended for binders where the underlying technology does not have native partitioning.\r\n\r\nThere is no need to set the `partitioned=true` property.\r\n\r\nKafka&#39;s default strategy is used\r\n\r\nhttps://kafka.apache.org/documentation/#producerconfigs_partitioner.class\r\n\r\nIf there is no `partitioner.class` specified...\r\n\r\n&gt;If not set, the default partitioning logic is used. This strategy will try sticking to a partition until batch.size bytes is produced to the partition. \r\n\r\n&gt;It works with the strategy:\r\n\r\n&gt;If no partition is specified but a key is present, choose a partition based on a hash of the key\r\n\r\n&gt;If no partition or key is present, choose the sticky partition that changes when batch.size bytes are produced to the partition.\r\n","title":"Spring Cloud Stream + Kafka Binder: What is the default partition key extractor strategy or partition key?","body":"<p>Binder level partitioning is really not needed with the Kafka binder; it is intended for binders where the underlying technology does not have native partitioning.</p>\n<p>There is no need to set the <code>partitioned=true</code> property.</p>\n<p>Kafka's default strategy is used</p>\n<p><a href=\"https://kafka.apache.org/documentation/#producerconfigs_partitioner.class\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#producerconfigs_partitioner.class</a></p>\n<p>If there is no <code>partitioner.class</code> specified...</p>\n<blockquote>\n<p>If not set, the default partitioning logic is used. This strategy will try sticking to a partition until batch.size bytes is produced to the partition.</p>\n</blockquote>\n<blockquote>\n<p>It works with the strategy:</p>\n</blockquote>\n<blockquote>\n<p>If no partition is specified but a key is present, choose a partition based on a hash of the key</p>\n</blockquote>\n<blockquote>\n<p>If no partition or key is present, choose the sticky partition that changes when batch.size bytes are produced to the partition.</p>\n</blockquote>\n"}],"owner":{"account_id":4688053,"reputation":2010,"user_id":3794944,"accept_rate":79,"display_name":"Funsaized"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74293953,"answer_count":1,"score":0,"last_activity_date":1667412935,"creation_date":1667408915,"question_id":74293146,"body_markdown":"I&#39;m looking to implement a scenario where consumer order does not matter, and want to publish to multiple partitions. \r\n\r\nIn this scenario, what would the strategy be used to select a partition if partition-key-expression is not specified in the producer definition? i.e with this config I see the messages being published to all 4 topics, but it is not clear what mechanism is being used:\r\n\r\n   \r\n    spring:\r\n      cloud:\r\n        stream:\r\n          bindings:\r\n            outbound:\r\n              destination: mytopic\r\n              group: app\r\n              producer:\r\n                partitioned: true\r\n                partition-count: 4","title":"Spring Cloud Stream + Kafka Binder: What is the default partition key extractor strategy or partition key?","body":"<p>I'm looking to implement a scenario where consumer order does not matter, and want to publish to multiple partitions.</p>\n<p>In this scenario, what would the strategy be used to select a partition if partition-key-expression is not specified in the producer definition? i.e with this config I see the messages being published to all 4 topics, but it is not clear what mechanism is being used:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      bindings:\n        outbound:\n          destination: mytopic\n          group: app\n          producer:\n            partitioned: true\n            partition-count: 4\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667410462,"post_id":74293440,"comment_id":131162609,"body_markdown":"Don&#39;t post code as screenshots. Post it as text.","body":"Don&#39;t post code as screenshots. Post it as text."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667410502,"post_id":74293440,"comment_id":131162622,"body_markdown":"If you want to repeatedly read input, the &quot;read input&quot; part should go into the loop, right?","body":"If you want to repeatedly read input, the &quot;read input&quot; part should go into the loop, right?"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667411716,"creation_date":1667411716,"answer_id":74293700,"question_id":74293440,"body_markdown":"Move `input.nextInt()` into the `while` loop and don&#39;t close `input` until after the loop\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        int count1 = 0;\r\n        \r\n        while (count1 &gt; 70 || count1 &lt; 30){\r\n\r\n            System.out.print(&quot;Enter a value between 30 and 70: &quot;);\r\n\r\n            count1 = input.nextInt();\r\n        \r\n        }\r\n\r\n        input.close();\r\n            \r\n    }","title":"How can I change the code so that it outputs my prompt?","body":"<p>Move <code>input.nextInt()</code> into the <code>while</code> loop and don't close <code>input</code> until after the loop</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n\n    int count1 = 0;\n    \n    while (count1 &gt; 70 || count1 &lt; 30){\n\n        System.out.print(&quot;Enter a value between 30 and 70: &quot;);\n\n        count1 = input.nextInt();\n    \n    }\n\n    input.close();\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667412479,"creation_date":1667412479,"answer_id":74293858,"question_id":74293440,"body_markdown":"```java\r\n// no need to close Scanner for System.in\r\nScanner scan = new Scanner(System.in);\r\n\r\n// create an loop\r\nwhile (true) {\r\n    System.out.print(&quot;Enter a value between 30 and 70: &quot;);\r\n\tint num = scan.nextInt();\r\n\t\r\n    // exit the loop if number is correct\r\n\tif (num &gt; 30 &amp;&amp; num &lt; 70)\r\n\t\tbreak;\r\n}\r\n```","title":"How can I change the code so that it outputs my prompt?","body":"<pre class=\"lang-java prettyprint-override\"><code>// no need to close Scanner for System.in\nScanner scan = new Scanner(System.in);\n\n// create an loop\nwhile (true) {\n    System.out.print(&quot;Enter a value between 30 and 70: &quot;);\n    int num = scan.nextInt();\n    \n    // exit the loop if number is correct\n    if (num &gt; 30 &amp;&amp; num &lt; 70)\n        break;\n}\n</code></pre>\n"}],"owner":{"account_id":22468492,"reputation":1,"user_id":16669280,"display_name":"Dantes Nava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1667412479,"creation_date":1667410407,"question_id":74293440,"body_markdown":"Trying to write a program where it outputs the user entered number if it is between 30 and 70.If not, it should prompt the user to reenter. This is what I have so far, but the code is not running at all. \r\n\r\nWhat should I change?  \r\n\r\nI tried debugging but it seems like it just gives me random quick fixes that jumble up my original code.\r\n\r\nhere is the code: \r\n\r\n\r\n    package chpt5_project;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class chpt5_project {\r\n    \r\n    \t//variables\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tint count1 = input.nextInt();\r\n    \t\t\r\n    \t\t while (count1 &gt; 70 || count1 &lt; 30){\r\n    \t\tSystem.out.println(&quot;Enter a value between 30 and 70: &quot;);\r\n    \t\t\t\r\n    \t\tinput.close();\r\n    \t}\r\n    \t\t\t\r\n    \t}\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/4xMXa.png\r\n","title":"How can I change the code so that it outputs my prompt?","body":"<p>Trying to write a program where it outputs the user entered number if it is between 30 and 70.If not, it should prompt the user to reenter. This is what I have so far, but the code is not running at all.</p>\n<p>What should I change?</p>\n<p>I tried debugging but it seems like it just gives me random quick fixes that jumble up my original code.</p>\n<p>here is the code:</p>\n<pre><code>package chpt5_project;\n\nimport java.util.Scanner;\n\npublic class chpt5_project {\n\n    //variables\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int count1 = input.nextInt();\n        \n         while (count1 &gt; 70 || count1 &lt; 30){\n        System.out.println(&quot;Enter a value between 30 and 70: &quot;);\n            \n        input.close();\n    }\n            \n    }\n}\n</code></pre>\n"},{"tags":["java","google-analytics","google-analytics-api","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1667411872,"post_id":74293192,"comment_id":131163112,"body_markdown":"check this [pagination](https://developers.google.com/analytics/devguides/reporting/data/v1/basics#pagination) if you cant figure it out let me know and i will see if i cant come up with a example","body":"check this <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/basics#pagination\" rel=\"nofollow noreferrer\">pagination</a> if you cant figure it out let me know and i will see if i cant come up with a example"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1667463063,"post_id":74293192,"comment_id":131173607,"body_markdown":"Thank you @DalmTo, it sounds strange to me to repeat the request 2 times using once 0 to 100000 offset and once again from 100k to 100k more. and what if there are more than 200k reports? how many times should I repeat it?","body":"Thank you @DalmTo, it sounds strange to me to repeat the request 2 times using once 0 to 100000 offset and once again from 100k to 100k more. and what if there are more than 200k reports? how many times should I repeat it?"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1667463551,"post_id":74293192,"comment_id":131173748,"body_markdown":"yup.  just keep looping until you are done if you really need all those rows.   Look on the bright side with the reporting api its 10k rows.  This will be much faster with Ga4 &#128521;","body":"yup.  just keep looping until you are done if you really need all those rows.   Look on the bright side with the reporting api its 10k rows.  This will be much faster with Ga4 😉"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1667463643,"post_id":74293192,"comment_id":131173774,"body_markdown":"btw if you get it working can you remember to answer your own question.   to help others in the future.","body":"btw if you get it working can you remember to answer your own question.   to help others in the future."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":1,"creation_date":1667463730,"post_id":74293192,"comment_id":131173813,"body_markdown":"since I cannot see all the custom events, I see in debug view, I am not sure if my java code has problem or the department that has managed the GTM is missing something. Before asking I wanted to make sure about my code :D","body":"since I cannot see all the custom events, I see in debug view, I am not sure if my java code has problem or the department that has managed the GTM is missing something. Before asking I wanted to make sure about my code :D"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1667464981,"post_id":74293192,"comment_id":131174233,"body_markdown":"remember the name has to be correct customEvent:test_event   If you have access to the account test it here https://ga-dev-tools.web.app/ga4/query-explorer/","body":"remember the name has to be correct customEvent:test_event   If you have access to the account test it here <a href=\"https://ga-dev-tools.web.app/ga4/query-explorer/\" rel=\"nofollow noreferrer\">ga-dev-tools.web.app/ga4/query-explorer</a>"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667411911,"creation_date":1667409144,"question_id":74293192,"body_markdown":"I am reading the `GA4` info according to the code sample provided here in [Google Developers Documentation][1]. \r\nI do not know how to check if there are more pages? looking at the result&#39;s size I guess I am missing something. Supposing &quot;credentialsJsonPath&quot; contains info for credentials, my code is something like this:\r\n\r\n    \r\n\t\t\t\tFiles.createDirectories(Paths.get(credentialsJsonPath).getParent());\r\n\r\n\t\t\t\tGoogleCredentials credentials =\r\n\t\t\t\t\t\tGoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\r\n\r\n\t\t\t\tBetaAnalyticsDataSettings betaAnalyticsDataSettings =\r\n\t\t\t\t\t\tBetaAnalyticsDataSettings.newBuilder()\r\n\t\t\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n\t\t\t\t\t\t.build();    \r\n\r\n\t\t\t\ttry (BetaAnalyticsDataClient analyticsData =\r\n\t\t\t\t\t\tBetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\r\n\r\n\t\t\t\t\tRunReportRequest request =\r\n\t\t\t\t\t\t\tRunReportRequest.newBuilder()\r\n\t\t\t\t\t\t\t.setProperty(&quot;properties/&quot; + &quot;my propertyId&quot;)\r\n\t\t\t\t\t\t\t.addDateRanges(DateRange.newBuilder().setStartDate(&quot;2022-10-02&quot;).setEndDate(&quot;2022-11-02&quot;))\r\n \r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;fullPageUrl&quot;)) \r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;pagePath&quot;))  \r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))  \r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;customEvent:dim1&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;customEvent:dim2&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;customEvent:dim3&quot;))\r\n\t\t\t\t\t\t\t \r\n\r\n \t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;activeUsers&quot;))  \r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;engagementRate&quot;))\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;sessions&quot;))\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))  \r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;userEngagementDuration&quot;))\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;averageSessionDuration&quot;))\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;screenPageViews&quot;))  \r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;totalUsers&quot;))\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventCountPerUser&quot;))\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;bounceRate&quot;))\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t.build();\r\n\t\t\t\t\tRunReportResponse response = analyticsData.runReport(request);\r\n \r\n \t\t\t\t\tif(response.getRowsList().size()&gt;0) {\r\n\t\t\t\t\t\tfor (Row row : response.getRowsList()) {\r\n                          // Here I read the desired info \r\n \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\nIs there any method that can check something like response.getNextPageToken() or something similar?\r\n\r\n  [1]: https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries","title":"How to check if we have more pages in GA4 using JAVA","body":"<p>I am reading the <code>GA4</code> info according to the code sample provided here in <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries\" rel=\"nofollow noreferrer\">Google Developers Documentation</a>.\nI do not know how to check if there are more pages? looking at the result's size I guess I am missing something. Supposing &quot;credentialsJsonPath&quot; contains info for credentials, my code is something like this:</p>\n<pre><code>            Files.createDirectories(Paths.get(credentialsJsonPath).getParent());\n\n            GoogleCredentials credentials =\n                    GoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\n\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings =\n                    BetaAnalyticsDataSettings.newBuilder()\n                    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n                    .build();    \n\n            try (BetaAnalyticsDataClient analyticsData =\n                    BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\n\n                RunReportRequest request =\n                        RunReportRequest.newBuilder()\n                        .setProperty(&quot;properties/&quot; + &quot;my propertyId&quot;)\n                        .addDateRanges(DateRange.newBuilder().setStartDate(&quot;2022-10-02&quot;).setEndDate(&quot;2022-11-02&quot;))\n\n                        .addDimensions(Dimension.newBuilder().setName(&quot;fullPageUrl&quot;)) \n                        .addDimensions(Dimension.newBuilder().setName(&quot;pagePath&quot;))  \n                        .addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))  \n                        .addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \n                        .addDimensions(Dimension.newBuilder().setName(&quot;customEvent:dim1&quot;))\n                        .addDimensions(Dimension.newBuilder().setName(&quot;customEvent:dim2&quot;))\n                        .addDimensions(Dimension.newBuilder().setName(&quot;customEvent:dim3&quot;))\n                         \n\n                        .addMetrics(Metric.newBuilder().setName(&quot;activeUsers&quot;))  \n                        .addMetrics(Metric.newBuilder().setName(&quot;engagementRate&quot;))\n                        .addMetrics(Metric.newBuilder().setName(&quot;sessions&quot;))\n                        .addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))  \n                        .addMetrics(Metric.newBuilder().setName(&quot;userEngagementDuration&quot;))\n                        .addMetrics(Metric.newBuilder().setName(&quot;averageSessionDuration&quot;))\n                        .addMetrics(Metric.newBuilder().setName(&quot;screenPageViews&quot;))  \n                        .addMetrics(Metric.newBuilder().setName(&quot;totalUsers&quot;))\n                        .addMetrics(Metric.newBuilder().setName(&quot;eventCountPerUser&quot;))\n                        .addMetrics(Metric.newBuilder().setName(&quot;bounceRate&quot;))                          \n                        \n\n                        .build();\n                RunReportResponse response = analyticsData.runReport(request);\n\n                if(response.getRowsList().size()&gt;0) {\n                    for (Row row : response.getRowsList()) {\n                      // Here I read the desired info \n\n                    }\n                }\n</code></pre>\n<p>Is there any method that can check something like response.getNextPageToken() or something similar?</p>\n"},{"tags":["java","garbage-collection","java-native-interface"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1667260878,"post_id":74270156,"comment_id":131123457,"body_markdown":"Not really a problem of GC not being smart, it has no desire to clean up if there&#39;s a lot of JVM space. Would it be possible to reuse the native memory / memory handles rather than relying on GC to clean them? I.e. manual object pool where you can return handles to once no longer in use","body":"Not really a problem of GC not being smart, it has no desire to clean up if there&#39;s a lot of JVM space. Would it be possible to reuse the native memory / memory handles rather than relying on GC to clean them? I.e. manual object pool where you can return handles to once no longer in use"},{"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"score":0,"creation_date":1667261155,"post_id":74270156,"comment_id":131123491,"body_markdown":"Well, if I had a nice spot where I could declare a memory handle as no longer in use, pooling wouldn&#39;t even be necessary because then I could just call .free()\n\nThe problem is that I rely on the garbage collector to determine whether they are still in use or not quite literally by the nature of the API that I am exposing.\n\nThere is a place in the code where I can be 60% sure that the tensor is no longer in use. The GraphRecorder drops the history of how tensors of previous training iterations came to be, but that only replaces operation nodes with constant variables inside the graph.","body":"Well, if I had a nice spot where I could declare a memory handle as no longer in use, pooling wouldn&#39;t even be necessary because then I could just call .free()  The problem is that I rely on the garbage collector to determine whether they are still in use or not quite literally by the nature of the API that I am exposing.  There is a place in the code where I can be 60% sure that the tensor is no longer in use. The GraphRecorder drops the history of how tensors of previous training iterations came to be, but that only replaces operation nodes with constant variables inside the graph."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667261845,"post_id":74270156,"comment_id":131123609,"body_markdown":"Can you wrap your MemoryHandles and add a reference count?","body":"Can you wrap your MemoryHandles and add a reference count?"},{"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"score":0,"creation_date":1667262265,"post_id":74270156,"comment_id":131123666,"body_markdown":"MemoryHandles basically always have an immediate reference count of 1, as they are parent to the tensor object. Adding a reference count to the tensor is not really possible. If you look at the API surface of eg. PyTorch or Tensorflow, the tensor objects are created by the user, and handled in what ever way they please. If the user decides to keep a random tensor from iteration 13 alive in a list and shoots it back into my face at iteration 3475, you have to be ready for that.","body":"MemoryHandles basically always have an immediate reference count of 1, as they are parent to the tensor object. Adding a reference count to the tensor is not really possible. If you look at the API surface of eg. PyTorch or Tensorflow, the tensor objects are created by the user, and handled in what ever way they please. If the user decides to keep a random tensor from iteration 13 alive in a list and shoots it back into my face at iteration 3475, you have to be ready for that."},{"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"score":0,"creation_date":1667262898,"post_id":74270156,"comment_id":131123764,"body_markdown":"That&#39;s not to say that this is the norm, but in the default case, when references &quot;flow&quot; cleanly, where basically 95% of tensors die at the end of the iteration, it&#39;s got to be possible to SOMEHOW not blow your RAM xD","body":"That&#39;s not to say that this is the norm, but in the default case, when references &quot;flow&quot; cleanly, where basically 95% of tensors die at the end of the iteration, it&#39;s got to be possible to SOMEHOW not blow your RAM xD"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1667264144,"post_id":74270156,"comment_id":131123949,"body_markdown":"a) with soft references you can tune `XX:SoftRefLRUPolicyMSPerMB` to cleanup softly references objects faster b) using the native memory allocated by `ByteBuffer.allocateDirect()` might allow you to tune the GC for native space via `XX:MaxDirectMemorySize` c) wouldn&#39;t but manually calling `System.gc()` d) require the user of your library to free / pool / .. handles, if you make the api you also make the rules. Libraries that can&#39;t rely on GC do that (e.g. https://netty.io/4.0/api/io/netty/util/ReferenceCounted.html or https://developer.android.com/reference/android/graphics/Bitmap#recycle() )","body":"a) with soft references you can tune <code>XX:SoftRefLRUPolicyMSPerMB</code> to cleanup softly references objects faster b) using the native memory allocated by <code>ByteBuffer.allocateDirect()</code> might allow you to tune the GC for native space via <code>XX:MaxDirectMemorySize</code> c) wouldn&#39;t but manually calling <code>System.gc()</code> d) require the user of your library to free / pool / .. handles, if you make the api you also make the rules. Libraries that can&#39;t rely on GC do that (e.g. <a href=\"https://netty.io/4.0/api/io/netty/util/ReferenceCounted.html\" rel=\"nofollow noreferrer\">netty.io/4.0/api/io/netty/util/ReferenceCounted.html</a> or <a href=\"https://developer.android.com/reference/android/graphics/Bitmap#recycle()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/graphics/&hellip;</a> )"},{"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"score":0,"creation_date":1667265692,"post_id":74270156,"comment_id":131124180,"body_markdown":"a) Unfortunately the MemoryHandle must be strongly referenced by the Tensor, otherwise the contents of a tensor that might still be in use could just dissapear.\nb) Even if ByteBuffer.allocateDirect() could get the garbage collector to respond to native memory growth, this really doesn&#39;t help much in the GPU backend, where memory is allocated on the GPU via cuMemAlloc.","body":"a) Unfortunately the MemoryHandle must be strongly referenced by the Tensor, otherwise the contents of a tensor that might still be in use could just dissapear. b) Even if ByteBuffer.allocateDirect() could get the garbage collector to respond to native memory growth, this really doesn&#39;t help much in the GPU backend, where memory is allocated on the GPU via cuMemAlloc."},{"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"score":0,"creation_date":1667265739,"post_id":74270156,"comment_id":131124191,"body_markdown":"c) Currently experimenting with an interval where every x mb System.gc() is invoked on an aysnc thread, and every x * 10 mb System.gc() is invoked in the same thread.\nSame thread gc block execution for about 10 ms, but perform better.\nSurprisingly this actually works pretty well. If I don&#39;t find a better solution, this might just be the hack I&#39;m going to stick with...","body":"c) Currently experimenting with an interval where every x mb System.gc() is invoked on an aysnc thread, and every x * 10 mb System.gc() is invoked in the same thread. Same thread gc block execution for about 10 ms, but perform better. Surprisingly this actually works pretty well. If I don&#39;t find a better solution, this might just be the hack I&#39;m going to stick with..."},{"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"score":0,"creation_date":1667268261,"post_id":74270156,"comment_id":131124516,"body_markdown":"In addition, I might just create a system where you have to detach tensors from the graph, before you can just do whatever you want with them. If you find yourself holding on to a tensor attached to a graph that has been deleted, you will get a giant exception if you try to do anything with it.\nThat detached tensor will be a copy of the original node. Now... This is not even close to what detaching from the graph means in PyTorch, but... I&#39;m afraid I have to redefine this terminology... I&#39;m starting to understand why Python is so ideal for machine learning. A reference count sure is handy","body":"In addition, I might just create a system where you have to detach tensors from the graph, before you can just do whatever you want with them. If you find yourself holding on to a tensor attached to a graph that has been deleted, you will get a giant exception if you try to do anything with it. That detached tensor will be a copy of the original node. Now... This is not even close to what detaching from the graph means in PyTorch, but... I&#39;m afraid I have to redefine this terminology... I&#39;m starting to understand why Python is so ideal for machine learning. A reference count sure is handy"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667299998,"post_id":74270156,"comment_id":131130681,"body_markdown":"Assuming HotSpot/OpenJDK, even the internal handling of `ByteBuffer.allocateDirect()` is not better than calling `System.gc()` when suspecting that the native memory is low due to reclaimable direct buffers. This suggests that there is no better solution, as otherwise, direct buffers would use it. Note that dealing with soft references wouldn’t solve anything, as those policies apply *after* the GC detected reclaimable soft references. They don’t affect when the GC will run.","body":"Assuming HotSpot/OpenJDK, even the internal handling of <code>ByteBuffer.allocateDirect()</code> is not better than calling <code>System.gc()</code> when suspecting that the native memory is low due to reclaimable direct buffers. This suggests that there is no better solution, as otherwise, direct buffers would use it. Note that dealing with soft references wouldn’t solve anything, as those policies apply <i>after</i> the GC detected reclaimable soft references. They don’t affect when the GC will run."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1667375080,"post_id":74270156,"comment_id":131149465,"body_markdown":"I think you are stumbling across the exact reason `finalize` was a bad idea and is being removed from the language: you have no guarantee when the finalizer will be run. Not that that helps you any further of course..","body":"I think you are stumbling across the exact reason <code>finalize</code> was a bad idea and is being removed from the language: you have no guarantee when the finalizer will be run. Not that that helps you any further of course.."}],"answers":[{"tags":[],"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667411856,"creation_date":1667411856,"answer_id":74293734,"question_id":74270156,"body_markdown":"I think that I have now figured out a solution that works as good as it can.\r\n\r\n# The problem\r\n\r\nIf you face a similar issue you probably have code that fits some of these criterias:\r\n\r\n 1. A high allocation rate of small objects, which hold large native resources\r\n 2. Objects referencing each other in complicated ways that is hard for the GC to untangle\r\n 3. No place in the code where you can safely determine that the resources are no longer in use\r\n\r\n# Requirements for a potential solution\r\n\r\nYour requirements probably are:\r\n\r\n 1. Don&#39;t bottleneck the loop that allocates the native handles\r\n 2. Nearly instantanious cleanup after the native handle becomes unreferenced\r\n\r\n## The tradeoff\r\n\r\nIt turns out you cannot accomplish both these requirements at once.\r\nYou unfortunately have to choose between one or the other.\r\nIf you don&#39;t want to bottleneck the loop that allocates these native handles at a high rate, you need to trade RAM to do that.\r\nIf you want instantatious cleanup after the native handle becomes unreferenced,\r\nyou have to sacrifice the execution speed of the code that allocates the native handles.\r\n\r\n# The (hacky) solution\r\n\r\nCreate a mechanism such that you can asynchronously request a full GC to be performed.\r\n\r\n```java\r\n    private final AtomicBoolean shouldRunGC = new AtomicBoolean(false);\r\n\r\n    private final Thread gcThread = new Thread(() -&gt; {\r\n        while (true) {\r\n            try {\r\n                Thread.sleep(10);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (shouldRunGC.getAndSet(false)) {\r\n                System.gc();\r\n            }\r\n        }\r\n    }, &quot;GC-Invoker-Thread&quot;);\r\n\r\n    {\r\n        gcThread.setDaemon(true);\r\n        gcThread.start();\r\n    }\r\n```\r\n\r\nIdeally, you have a region of code that is loosely associated with cleanup of these handle objects. It doesn&#39;t have to mean that these objects can be safely disposed at this point in time, it just has to mean that the object is &gt;probably&lt; safe to delete. This callsite merely serves a statistical metric to determine the best intervall in which to trigger the Garbage Collection.\r\nYou should also know the size of your native resource, or alternatively an estimate of how bad it would be to keep a given object arround.\r\n\r\nAlternatively you could also place this at the point of the allocation of your native handles, but note that the effectiveness of the statistical metric that you collect is less effective.\r\n\r\nThis is an example of such a method in my tensor processing library Sci-Core:\r\n```java\r\n    /**\r\n     * Drops the history of how this tensor was computed.\r\n     * This is useful e.g. when the tensor was changed by the optimizer\r\n     * and thus backpropagation back into the last training step (wtf) would be brain-dead.\r\n     * Thus, we no longer need to keep a record of how the tensor was computed.\r\n     * Executes all operations to compute the value of the specified tensor contained in the graph, if it is not already computed.\r\n     * @param tensor the tensor to drop the computation history for\r\n     */\r\n    public void dropHistory(ITensor tensor) {\r\n      // for all nodes now dropped from the graph\r\n      ...\r\n          nBytesDeletedSinceLastAsyncGC += value.getNumBytes();\r\n          nBytesDeletedSinceLastOnSameThreadGC += value.getNumBytes();\r\n      ...\r\n\r\n       if (nBytesDeletedSinceLastAsyncGC &gt; 100_000_000) { // 100 Mb\r\n           shouldRunGC.set(true);\r\n           nBytesDeletedSinceLastAsyncGC = 0;\r\n       }\r\n       if (nBytesDeletedSinceLastOnSameThreadGC &gt; 2_000_000_000) { // 2 GB\r\n           System.gc();\r\n           nBytesDeletedSinceLastOnSameThreadGC = 0;\r\n       }\r\n    }\r\n\r\n```\r\n\r\nTo fight against bottlenecking your allocation loop, you can use the following JVM arguments:\r\n\r\n```\r\n-XX:+UseZGC -XX:+ExplicitGCInvokesConcurrent -XX:MaxGCPauseMillis=1\r\n```\r\n\r\n# Why would this work?\r\n\r\nTriggering regular garbage collection seems to make the garbage collector interested in cleaning the very small handle objects (among basically every other object that you create in your application. You still don&#39;t have &quot;prioritization&quot; for your handles, they just happen to also be garbage collected. If your application in addition to the native handle objects also allocates a significant amount of other small objects, the effectiveness of this technique will be significantly reduced.\r\n\r\nNote however, that triggering the Garbage collector is expensive and thus the maximum value for `nBytesDeletedSinceLastAsyncGC` and `nBytesDeletedSinceLastOnSameThreadGC` must be carefully chosen. \r\nRunning the garbage collector asynchronously is less expensive, as it will not bottleneck your allocation loop very much but also less effective than calling the garbage collector on the same thread the objects are allocated. So, doing both in carefully chosen intervals can probably get you a good compromise between execution speed of your allocation loop and memory footprint.","title":"Efficient GC-assisted cleanup of LARGE native resources","body":"<p>I think that I have now figured out a solution that works as good as it can.</p>\n<h1>The problem</h1>\n<p>If you face a similar issue you probably have code that fits some of these criterias:</p>\n<ol>\n<li>A high allocation rate of small objects, which hold large native resources</li>\n<li>Objects referencing each other in complicated ways that is hard for the GC to untangle</li>\n<li>No place in the code where you can safely determine that the resources are no longer in use</li>\n</ol>\n<h1>Requirements for a potential solution</h1>\n<p>Your requirements probably are:</p>\n<ol>\n<li>Don't bottleneck the loop that allocates the native handles</li>\n<li>Nearly instantanious cleanup after the native handle becomes unreferenced</li>\n</ol>\n<h2>The tradeoff</h2>\n<p>It turns out you cannot accomplish both these requirements at once.\nYou unfortunately have to choose between one or the other.\nIf you don't want to bottleneck the loop that allocates these native handles at a high rate, you need to trade RAM to do that.\nIf you want instantatious cleanup after the native handle becomes unreferenced,\nyou have to sacrifice the execution speed of the code that allocates the native handles.</p>\n<h1>The (hacky) solution</h1>\n<p>Create a mechanism such that you can asynchronously request a full GC to be performed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final AtomicBoolean shouldRunGC = new AtomicBoolean(false);\n\n    private final Thread gcThread = new Thread(() -&gt; {\n        while (true) {\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (shouldRunGC.getAndSet(false)) {\n                System.gc();\n            }\n        }\n    }, &quot;GC-Invoker-Thread&quot;);\n\n    {\n        gcThread.setDaemon(true);\n        gcThread.start();\n    }\n</code></pre>\n<p>Ideally, you have a region of code that is loosely associated with cleanup of these handle objects. It doesn't have to mean that these objects can be safely disposed at this point in time, it just has to mean that the object is &gt;probably&lt; safe to delete. This callsite merely serves a statistical metric to determine the best intervall in which to trigger the Garbage Collection.\nYou should also know the size of your native resource, or alternatively an estimate of how bad it would be to keep a given object arround.</p>\n<p>Alternatively you could also place this at the point of the allocation of your native handles, but note that the effectiveness of the statistical metric that you collect is less effective.</p>\n<p>This is an example of such a method in my tensor processing library Sci-Core:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Drops the history of how this tensor was computed.\n     * This is useful e.g. when the tensor was changed by the optimizer\n     * and thus backpropagation back into the last training step (wtf) would be brain-dead.\n     * Thus, we no longer need to keep a record of how the tensor was computed.\n     * Executes all operations to compute the value of the specified tensor contained in the graph, if it is not already computed.\n     * @param tensor the tensor to drop the computation history for\n     */\n    public void dropHistory(ITensor tensor) {\n      // for all nodes now dropped from the graph\n      ...\n          nBytesDeletedSinceLastAsyncGC += value.getNumBytes();\n          nBytesDeletedSinceLastOnSameThreadGC += value.getNumBytes();\n      ...\n\n       if (nBytesDeletedSinceLastAsyncGC &gt; 100_000_000) { // 100 Mb\n           shouldRunGC.set(true);\n           nBytesDeletedSinceLastAsyncGC = 0;\n       }\n       if (nBytesDeletedSinceLastOnSameThreadGC &gt; 2_000_000_000) { // 2 GB\n           System.gc();\n           nBytesDeletedSinceLastOnSameThreadGC = 0;\n       }\n    }\n\n</code></pre>\n<p>To fight against bottlenecking your allocation loop, you can use the following JVM arguments:</p>\n<pre><code>-XX:+UseZGC -XX:+ExplicitGCInvokesConcurrent -XX:MaxGCPauseMillis=1\n</code></pre>\n<h1>Why would this work?</h1>\n<p>Triggering regular garbage collection seems to make the garbage collector interested in cleaning the very small handle objects (among basically every other object that you create in your application. You still don't have &quot;prioritization&quot; for your handles, they just happen to also be garbage collected. If your application in addition to the native handle objects also allocates a significant amount of other small objects, the effectiveness of this technique will be significantly reduced.</p>\n<p>Note however, that triggering the Garbage collector is expensive and thus the maximum value for <code>nBytesDeletedSinceLastAsyncGC</code> and <code>nBytesDeletedSinceLastOnSameThreadGC</code> must be carefully chosen.\nRunning the garbage collector asynchronously is less expensive, as it will not bottleneck your allocation loop very much but also less effective than calling the garbage collector on the same thread the objects are allocated. So, doing both in carefully chosen intervals can probably get you a good compromise between execution speed of your allocation loop and memory footprint.</p>\n"}],"owner":{"account_id":13753909,"reputation":11,"user_id":9925332,"display_name":"mikex86"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74293734,"answer_count":1,"score":0,"last_activity_date":1667411856,"creation_date":1667260084,"question_id":74270156,"body_markdown":"I&#39;m currently attempting to write a tensor-processing/deep learning library in Java similar to PyTorch or Tensorflow.\r\n\r\nTensors reference MemoryHandles, which hold the native memory needed for the tensor data.\r\nDuring training, tensor instances are created rapidly, but never the less, the JVM heap itself stays about 100Mb-200Mb and thus the garbage collector is never prompted to garbage collect.\r\nThis results in the memory footprint of the application exploding and consuming upwards of 16GB of RAM, due to how much native memory is needed to store the tensor data.\r\n\r\nThe memory handles themselves are allocated via a cental MemoryManager, which creates PhantomReferences to the handed out handles, and after the object is garbage collected, the associated native memory is correctly freed.\r\n\r\n# What makes this problem hard\r\n\r\n## Why is the GC not smart enough to instantly clean these tensors?\r\n\r\nOperations such as `.matmul()`, `.plus()` etc. are not immediately executed, but rather recorded into a `Graph`, where nodes represent either variables or operations. This graph is necessary for backpropagation and thus creating it is not optional.\r\nThis creates a rather complicated reference structure that is hard to unravel for a GC.\r\n\r\n# Attempted solutions\r\n\r\nI have attempted various less then ideal ways to fix this problem:\r\n\r\n## Insanely small JVM heap size\r\n\r\n`-Xmx100M`\r\n\r\nBy forcing the Garbage collector to work with insanely low heap sizes, the garbage collector keeps the native memory footprint bearable.\r\nThis introduces very little slow down to the training loop in the cases I have evaluated and would be bearable, if finding out that ideal MB to make the GC do what you want wasn&#39;t so painful. Also, if the memory usage of your application isn&#39;t more or less constant, this approach also bursts into flames.\r\n\r\n## Periodic full gc\r\n\r\nRunning a full gc for every X Mb of natively allocated memory.\r\nThis introduces abysmal slow down to the training loop in the cases I have evaluated.\r\nThis is the only &quot;in-application&quot; fix that I can think of, meaning, that the user is not forced to use weird jvm args when running their program.\r\nWhile `-XX:+UseZGC` and `-XX:+ExplicitGCInvokesConcurrent` show some improvement, the situation remains rather bad.\r\n\r\nBoth these solutions do in fact keep the memory footprint of the application at bay, which goes to show that IF the GC catches all the un-referenced MemoryHandles, everything is freed correctly.\r\n\r\n# Thus my question:\r\n\r\nWhen Jvm applications experience high allocation rates, the GC usually kicks in hard.\r\nNow the problem here is that we have *effectively* high allocation rates, but that is not at all reflected in the JVM heap. If you put yourself into the shoes of the Garbage Collector, the least that you suspect is that freeing a java object solely consisting of an 8 byte long is where you should place your efforts.\r\nIf however it was possible to hint the GC to try harder to free objects of the `MemoryHandle` type, I suspect these problems would largely disappear. So my question would be: Is this possible?\r\nI wouldn&#39;t mind writing hacky native code, if necessary.\r\n\r\nAnother idea would be to use some jvm argument to make the full GC less aggressive, more in line with the slight slowdown that I experienced with `-Xmx100m` .\r\n\r\nIf this is in fact not possible, are there alternative solutions to sovling this problem?\r\nSurely I can&#39;t be the first person to attempt to write a Java library with large native resources.","title":"Efficient GC-assisted cleanup of LARGE native resources","body":"<p>I'm currently attempting to write a tensor-processing/deep learning library in Java similar to PyTorch or Tensorflow.</p>\n<p>Tensors reference MemoryHandles, which hold the native memory needed for the tensor data.\nDuring training, tensor instances are created rapidly, but never the less, the JVM heap itself stays about 100Mb-200Mb and thus the garbage collector is never prompted to garbage collect.\nThis results in the memory footprint of the application exploding and consuming upwards of 16GB of RAM, due to how much native memory is needed to store the tensor data.</p>\n<p>The memory handles themselves are allocated via a cental MemoryManager, which creates PhantomReferences to the handed out handles, and after the object is garbage collected, the associated native memory is correctly freed.</p>\n<h1>What makes this problem hard</h1>\n<h2>Why is the GC not smart enough to instantly clean these tensors?</h2>\n<p>Operations such as <code>.matmul()</code>, <code>.plus()</code> etc. are not immediately executed, but rather recorded into a <code>Graph</code>, where nodes represent either variables or operations. This graph is necessary for backpropagation and thus creating it is not optional.\nThis creates a rather complicated reference structure that is hard to unravel for a GC.</p>\n<h1>Attempted solutions</h1>\n<p>I have attempted various less then ideal ways to fix this problem:</p>\n<h2>Insanely small JVM heap size</h2>\n<p><code>-Xmx100M</code></p>\n<p>By forcing the Garbage collector to work with insanely low heap sizes, the garbage collector keeps the native memory footprint bearable.\nThis introduces very little slow down to the training loop in the cases I have evaluated and would be bearable, if finding out that ideal MB to make the GC do what you want wasn't so painful. Also, if the memory usage of your application isn't more or less constant, this approach also bursts into flames.</p>\n<h2>Periodic full gc</h2>\n<p>Running a full gc for every X Mb of natively allocated memory.\nThis introduces abysmal slow down to the training loop in the cases I have evaluated.\nThis is the only &quot;in-application&quot; fix that I can think of, meaning, that the user is not forced to use weird jvm args when running their program.\nWhile <code>-XX:+UseZGC</code> and <code>-XX:+ExplicitGCInvokesConcurrent</code> show some improvement, the situation remains rather bad.</p>\n<p>Both these solutions do in fact keep the memory footprint of the application at bay, which goes to show that IF the GC catches all the un-referenced MemoryHandles, everything is freed correctly.</p>\n<h1>Thus my question:</h1>\n<p>When Jvm applications experience high allocation rates, the GC usually kicks in hard.\nNow the problem here is that we have <em>effectively</em> high allocation rates, but that is not at all reflected in the JVM heap. If you put yourself into the shoes of the Garbage Collector, the least that you suspect is that freeing a java object solely consisting of an 8 byte long is where you should place your efforts.\nIf however it was possible to hint the GC to try harder to free objects of the <code>MemoryHandle</code> type, I suspect these problems would largely disappear. So my question would be: Is this possible?\nI wouldn't mind writing hacky native code, if necessary.</p>\n<p>Another idea would be to use some jvm argument to make the full GC less aggressive, more in line with the slight slowdown that I experienced with <code>-Xmx100m</code> .</p>\n<p>If this is in fact not possible, are there alternative solutions to sovling this problem?\nSurely I can't be the first person to attempt to write a Java library with large native resources.</p>\n"},{"tags":["java","spring-boot","gradle","bootrun"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1667401236,"post_id":74291277,"comment_id":131158949,"body_markdown":"On Linux, you can check with `lsof`: `lsof -i | grep :8080`, on MacOS use `lsof -i -P | grep :8080`. No idea how to do this on Windows. Maybe your previous run didn&#39;t terminate. Check if something is still running. Maybe restarting VS Code helps.","body":"On Linux, you can check with <code>lsof</code>: <code>lsof -i | grep :8080</code>, on MacOS use <code>lsof -i -P | grep :8080</code>. No idea how to do this on Windows. Maybe your previous run didn&#39;t terminate. Check if something is still running. Maybe restarting VS Code helps."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667401353,"creation_date":1667401353,"answer_id":74291370,"question_id":74291277,"body_markdown":"### Windows\r\n\r\n`netstat -aon | findstr 8080`\r\n\r\n### Unix/Linux/Mac\r\n\r\n`lsof -i :8080`\r\n\r\n\r\nThen you can proceed/kill with (process explorer/)`tasklist/ps`... Thx to:\r\n\r\n- https://dzone.com/articles/how-to-check-which-process-is-using-port-8080-or-a\r\n- https://mkyong.com/linux/linux-which-application-is-using-port-8080/\r\n- https://mkyong.com/mac/mac-osx-what-program-is-using-port-8080/\r\n","title":"Execution failed for task &#39;:bootRun&#39;. SpringBoot Gradle","body":"<h3>Windows</h3>\n<p><code>netstat -aon | findstr 8080</code></p>\n<h3>Unix/Linux/Mac</h3>\n<p><code>lsof -i :8080</code></p>\n<p>Then you can proceed/kill with (process explorer/)<code>tasklist/ps</code>... Thx to:</p>\n<ul>\n<li><a href=\"https://dzone.com/articles/how-to-check-which-process-is-using-port-8080-or-a\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-to-check-which-process-is-using-port-8080-or-a</a></li>\n<li><a href=\"https://mkyong.com/linux/linux-which-application-is-using-port-8080/\" rel=\"nofollow noreferrer\">https://mkyong.com/linux/linux-which-application-is-using-port-8080/</a></li>\n<li><a href=\"https://mkyong.com/mac/mac-osx-what-program-is-using-port-8080/\" rel=\"nofollow noreferrer\">https://mkyong.com/mac/mac-osx-what-program-is-using-port-8080/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667401470,"creation_date":1667401470,"answer_id":74291390,"question_id":74291277,"body_markdown":"It has never happened to me before, But some other application can be using port `8080`\r\n\r\nYou can check with CMD as Administrator by using `netstat` command like this \r\n\r\n```\r\nnetstat -a -b | findstr &quot;8080&quot;\r\n```\r\n\r\nThis will show who is using this port.\r\n\r\nTo overcome this issue, You can easily go to `application.properties` and add \r\n\r\n```\r\nserver.port = 8081\r\n```\r\n\r\nThis will make the application to be run over port `8081` all the time.\r\n\r\nAnd you can do it with one time setup by adding args to `gradle bootrun` like this\r\n\r\n```\r\ngradle bootrun --args=&#39;--server.port=8081&#39;\r\n```\r\n\r\nThis will result of running the server over port `8081` for one time only.","title":"Execution failed for task &#39;:bootRun&#39;. SpringBoot Gradle","body":"<p>It has never happened to me before, But some other application can be using port <code>8080</code></p>\n<p>You can check with CMD as Administrator by using <code>netstat</code> command like this</p>\n<pre><code>netstat -a -b | findstr &quot;8080&quot;\n</code></pre>\n<p>This will show who is using this port.</p>\n<p>To overcome this issue, You can easily go to <code>application.properties</code> and add</p>\n<pre><code>server.port = 8081\n</code></pre>\n<p>This will make the application to be run over port <code>8081</code> all the time.</p>\n<p>And you can do it with one time setup by adding args to <code>gradle bootrun</code> like this</p>\n<pre><code>gradle bootrun --args='--server.port=8081'\n</code></pre>\n<p>This will result of running the server over port <code>8081</code> for one time only.</p>\n"}],"owner":{"account_id":26661018,"reputation":11,"user_id":20273846,"display_name":"Joy Boy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1879,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667411123,"creation_date":1667400985,"question_id":74291277,"body_markdown":"I thank you in advance for your help\r\n\r\nI am currently starting a Spring Boot project (Gradle) and when I run the `./gradlew bootRun` command on my VScode terminal, I get the following message:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nWeb server failed to start. Port 8080 was already in use.\r\n\r\nAction:\r\n\r\nIdentify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n\r\n\r\n&gt; Task :bootRun FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:bootRun&#39;.\r\n&gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n\r\n\r\nThe problem is that I wasn&#39;t using my port 8080 at all (unless I&#39;m mistaken, and if I am I don&#39;t know how to check it). \r\n\r\nI feel more like I have a problem with my JAVA.\r\n\r\nI will be very grateful to you for helping me find a solution to this problem. Thanking you in advance :)","title":"Execution failed for task &#39;:bootRun&#39;. SpringBoot Gradle","body":"<p>I thank you in advance for your help</p>\n<p>I am currently starting a Spring Boot project (Gradle) and when I run the <code>./gradlew bootRun</code> command on my VScode terminal, I get the following message:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Web server failed to start. Port 8080 was already in use.</p>\n<p>Action:</p>\n<p>Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.</p>\n<blockquote>\n<p>Task :bootRun FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':bootRun'.</li>\n</ul>\n<blockquote>\n<p>Process 'command '/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<p>The problem is that I wasn't using my port 8080 at all (unless I'm mistaken, and if I am I don't know how to check it).</p>\n<p>I feel more like I have a problem with my JAVA.</p>\n<p>I will be very grateful to you for helping me find a solution to this problem. Thanking you in advance :)</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":24234668,"reputation":111,"user_id":18187974,"display_name":"Lazaros Chatzimichalakis"},"score":0,"creation_date":1667383465,"post_id":74281752,"comment_id":131152267,"body_markdown":"Can you provide the SQL query that is actually executed, in order to see where this column is used?\n\nAlso why don&#39;t you use `@JoinColumn` to give the name of the column by yourself on `@ManyToOne` relationship?","body":"Can you provide the SQL query that is actually executed, in order to see where this column is used?  Also why don&#39;t you use <code>@JoinColumn</code> to give the name of the column by yourself on <code>@ManyToOne</code> relationship?"},{"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"score":0,"creation_date":1667410509,"post_id":74281752,"comment_id":131162628,"body_markdown":"@LazarosChatzimichalakis Added the mySQL script I run before each JUnit test. Also, I wasn&#39;t aware of that annotation, so I looked into it and added it to my code and I also learned that I had some typos in my mySQL query, which I also fixed, but now I&#39;m getting a nullPointerException. I added the changes I made in my code to the post.","body":"@LazarosChatzimichalakis Added the mySQL script I run before each JUnit test. Also, I wasn&#39;t aware of that annotation, so I looked into it and added it to my code and I also learned that I had some typos in my mySQL query, which I also fixed, but now I&#39;m getting a nullPointerException. I added the changes I made in my code to the post."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1669783462,"post_id":74281752,"comment_id":131719122,"body_markdown":"Try updating to at least the latest Hibernate 5.6","body":"Try updating to at least the latest Hibernate 5.6"}],"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667410806,"creation_date":1667336510,"question_id":74281752,"body_markdown":"I&#39;ve been fighting with this program for weeks and it&#39;s just all chasing errors around and around in circles. I&#39;m getting a &quot;org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot; error and in the stack trace, it says that there&#39;s no such thing as a column called &quot;pcbuild0_.user_userId&quot; in &quot;field list&quot;. I have no idea what &quot;field list&quot; is and I have entered no such column &quot;pcbuild0_.user_userId&quot; anywhere in anything. This happens when I try to test the getById method in the PcBuildDao.\r\n\r\nPlease let me know if I need to post any more info\r\n\r\nhibernate.cfg.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\r\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;(url I can&#39;t post here)&quot;\r\n      xsi:schemaLocation=&quot;(same here)&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\r\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\r\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\r\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\r\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\r\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\r\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\r\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\r\n\r\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\r\n\r\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\r\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPcBuildDao\r\n\r\n\r\n```\r\npackage persistence;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.PcBuild;\r\n\r\npublic class PcBuildDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public PcBuild getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        PcBuild pcBuild = session.get(PcBuild.class, id);\r\n        session.close();\r\n        return pcBuild;\r\n    }\r\n\r\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(PcBuild pcBuild) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int) session.save(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nPcBuild POJO\r\n\r\n\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;PcBuild&quot;)\r\n@Table(name = &quot;computer_builds&quot;)\r\npublic class PcBuild {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int buildId;\r\n\r\n    @Column(name = &quot;cpu_model&quot;)\r\n    private String cpuModel;\r\n\r\n    @Column(name = &quot;gpu_model&quot;)\r\n    private String gpuModel;\r\n\r\n    @Column(name = &quot;cpu_cooler_model&quot;)\r\n    private String cpuCoolerModel;\r\n\r\n    @Column(name = &quot;Motherboard_model&quot;)\r\n    private String motherboardModel;\r\n\r\n    @Column(name = &quot;psu_model&quot;)\r\n    private String psuModel;\r\n\r\n    @Column(name = &quot;case_model&quot;)\r\n    private String caseModel;\r\n\r\n    @Column(name = &quot;data_storage_model&quot;)\r\n    private String dataStorageModel;\r\n\r\n    @Column(name = &quot;ram_model&quot;)\r\n    private String ramModel;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    public PcBuild() {\r\n    }\r\n\r\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\r\n            String cpuCoolerModel, String motherboardModel, String psuModel,\r\n            String caseModel, String dataStorageModel, String ramModel,\r\n            User user) {\r\n        this.buildId = buildId;\r\n        this.cpuModel = cpuModel;\r\n        this.gpuModel = gpuModel;\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n        this.motherboardModel = motherboardModel;\r\n        this.psuModel = psuModel;\r\n        this.caseModel = caseModel;\r\n        this.dataStorageModel = dataStorageModel;\r\n        this.ramModel = ramModel;\r\n        this.user = user;\r\n    }\r\n\r\n    public int getBuildId() {\r\n        return buildId;\r\n    }\r\n\r\n    public void setBuildId(int buildId) {\r\n        this.buildId = buildId;\r\n    }\r\n\r\n    public String getCpuModel() {\r\n        return cpuModel;\r\n    }\r\n\r\n    public void setCpuModel(String cpuModel) {\r\n        this.cpuModel = cpuModel;\r\n    }\r\n\r\n    public String getGpuModel() {\r\n        return gpuModel;\r\n    }\r\n\r\n    public void setGpuModel(String gpuModel) {\r\n        this.gpuModel = gpuModel;\r\n    }\r\n\r\n    public String getCpuCoolerModel() {\r\n        return cpuCoolerModel;\r\n    }\r\n\r\n    public void setCpuCoolerModel(String cpuCoolerModel) {\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n    }\r\n\r\n    public String getMotherboardModel() {\r\n        return motherboardModel;\r\n    }\r\n\r\n    public void setMotherboardModel(String motherboardModel) {\r\n        this.motherboardModel = motherboardModel;\r\n    }\r\n\r\n    public String getPsuModel() {\r\n        return psuModel;\r\n    }\r\n\r\n    public void setPsuModel(String psuModel) {\r\n        this.psuModel = psuModel;\r\n    }\r\n\r\n    public String getCase_Model() {\r\n        return caseModel;\r\n    }\r\n\r\n    public void setCase_Model(String caseModel) {\r\n        this.caseModel = caseModel;\r\n    }\r\n\r\n    public String getDataStorageModel() {\r\n        return dataStorageModel;\r\n    }\r\n\r\n    public void setDataStorageModel(String dataStorageModel) {\r\n        this.dataStorageModel = dataStorageModel;\r\n    }\r\n\r\n    public String getRamModel() {\r\n        return ramModel;\r\n    }\r\n\r\n    public void setRamModel(String ramModel) {\r\n        this.ramModel = ramModel;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUserId(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PcBuild{&quot; +\r\n                &quot;buildId=&quot; + buildId +\r\n                &quot;, cpuModel=&#39;&quot; + cpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, gpuModel=&#39;&quot; + gpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, cpuCoolerModel=&#39;&quot; + cpuCoolerModel + &#39;\\&#39;&#39; +\r\n                &quot;, motherboardModel=&#39;&quot; + motherboardModel + &#39;\\&#39;&#39; +\r\n                &quot;, psuModel=&#39;&quot; + psuModel + &#39;\\&#39;&#39; +\r\n                &quot;, caseModel=&#39;&quot; + caseModel + &#39;\\&#39;&#39; +\r\n                &quot;, dataStorageModel=&#39;&quot; + dataStorageModel + &#39;\\&#39;&#39; +\r\n                &quot;, ramModel=&#39;&quot; + ramModel + &#39;\\&#39;&#39; +\r\n                &quot;, user=&quot; + user +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nUser POJO\r\n\r\n\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int userId;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n    private Set&lt;PcBuild&gt; pcBuilds = new HashSet&lt;&gt;();\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(int userId, String username, String password, Set&lt;PcBuild&gt; pcBuilds) {\r\n        this.userId = userId;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.pcBuilds = pcBuilds;\r\n    }\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Set&lt;PcBuild&gt; getPcBuilds() {\r\n        return pcBuilds;\r\n    }\r\n\r\n    public void setPcBuilds(Set&lt;PcBuild&gt; pcBuilds) {\r\n        this.pcBuilds = pcBuilds;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nmySQL script I run at the start of each JUnit test\r\n\r\n```\r\ndelete from computer_builds;\r\n\r\ndelete from users;\r\n\r\ninsert into users (userId, username, password) VALUES (1, &#39;fchristian&#39;, &#39;student&#39;);\r\n\r\ninsert into users (userId, username, password) VALUES (2, &#39;achristian&#39;, &#39;lollipop&#39;);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 7 5800X3D&#39;, &#39;PowerColor Red Devil OC Radeon RX 6950 XT&#39;, &#39;Deepcool AK620&#39;, &#39;MSI MAG B550 Tomahawk&#39;,\r\n        &#39;Thermaltake Toughpower GF1 PE 850 W&#39;, &#39;Corsair 4000D Airflow ATX Mid Tower&#39;, &#39;Samsung 970 Evo Plus 2 TB NVMe SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18&#39;, 1);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 3 3200G&#39;, &#39;Gigabyte GAMING OC Radeon RX 5700 XT&#39;, &#39;Stock&#39;, &#39;Gigabyte B450M DS3H Wifi&#39;,\r\n        &#39;Fractal Design Ion SFX 650 W&#39;, &#39;Thermaltake Core G3 ATX Mid Tower&#39;, &#39;Teamgroup GX2 512 GB SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16&#39;, 2);\r\n```","title":"SqlExceptionHelper - Unknown column &#39;pcbuild0_.user_userId&#39; in &#39;field list&#39;","body":"<p>I've been fighting with this program for weeks and it's just all chasing errors around and around in circles. I'm getting a &quot;org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot; error and in the stack trace, it says that there's no such thing as a column called &quot;pcbuild0_.user_userId&quot; in &quot;field list&quot;. I have no idea what &quot;field list&quot; is and I have entered no such column &quot;pcbuild0_.user_userId&quot; anywhere in anything. This happens when I try to test the getById method in the PcBuildDao.</p>\n<p>Please let me know if I need to post any more info</p>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;(url I can't post here)&quot;\n      xsi:schemaLocation=&quot;(same here)&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\n\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\n\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;webResources&gt;\n              &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n              &lt;/resource&gt;\n            &lt;/webResources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PcBuildDao</p>\n<pre><code>package persistence;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.PcBuild;\n\npublic class PcBuildDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public PcBuild getById(int id) {\n        Session session = sessionFactory.openSession();\n        PcBuild pcBuild = session.get(PcBuild.class, id);\n        session.close();\n        return pcBuild;\n    }\n\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(PcBuild pcBuild) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int) session.save(pcBuild);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n}\n\n</code></pre>\n<p>PcBuild POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\n\n@Entity(name = &quot;PcBuild&quot;)\n@Table(name = &quot;computer_builds&quot;)\npublic class PcBuild {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int buildId;\n\n    @Column(name = &quot;cpu_model&quot;)\n    private String cpuModel;\n\n    @Column(name = &quot;gpu_model&quot;)\n    private String gpuModel;\n\n    @Column(name = &quot;cpu_cooler_model&quot;)\n    private String cpuCoolerModel;\n\n    @Column(name = &quot;Motherboard_model&quot;)\n    private String motherboardModel;\n\n    @Column(name = &quot;psu_model&quot;)\n    private String psuModel;\n\n    @Column(name = &quot;case_model&quot;)\n    private String caseModel;\n\n    @Column(name = &quot;data_storage_model&quot;)\n    private String dataStorageModel;\n\n    @Column(name = &quot;ram_model&quot;)\n    private String ramModel;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n    public PcBuild() {\n    }\n\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\n            String cpuCoolerModel, String motherboardModel, String psuModel,\n            String caseModel, String dataStorageModel, String ramModel,\n            User user) {\n        this.buildId = buildId;\n        this.cpuModel = cpuModel;\n        this.gpuModel = gpuModel;\n        this.cpuCoolerModel = cpuCoolerModel;\n        this.motherboardModel = motherboardModel;\n        this.psuModel = psuModel;\n        this.caseModel = caseModel;\n        this.dataStorageModel = dataStorageModel;\n        this.ramModel = ramModel;\n        this.user = user;\n    }\n\n    public int getBuildId() {\n        return buildId;\n    }\n\n    public void setBuildId(int buildId) {\n        this.buildId = buildId;\n    }\n\n    public String getCpuModel() {\n        return cpuModel;\n    }\n\n    public void setCpuModel(String cpuModel) {\n        this.cpuModel = cpuModel;\n    }\n\n    public String getGpuModel() {\n        return gpuModel;\n    }\n\n    public void setGpuModel(String gpuModel) {\n        this.gpuModel = gpuModel;\n    }\n\n    public String getCpuCoolerModel() {\n        return cpuCoolerModel;\n    }\n\n    public void setCpuCoolerModel(String cpuCoolerModel) {\n        this.cpuCoolerModel = cpuCoolerModel;\n    }\n\n    public String getMotherboardModel() {\n        return motherboardModel;\n    }\n\n    public void setMotherboardModel(String motherboardModel) {\n        this.motherboardModel = motherboardModel;\n    }\n\n    public String getPsuModel() {\n        return psuModel;\n    }\n\n    public void setPsuModel(String psuModel) {\n        this.psuModel = psuModel;\n    }\n\n    public String getCase_Model() {\n        return caseModel;\n    }\n\n    public void setCase_Model(String caseModel) {\n        this.caseModel = caseModel;\n    }\n\n    public String getDataStorageModel() {\n        return dataStorageModel;\n    }\n\n    public void setDataStorageModel(String dataStorageModel) {\n        this.dataStorageModel = dataStorageModel;\n    }\n\n    public String getRamModel() {\n        return ramModel;\n    }\n\n    public void setRamModel(String ramModel) {\n        this.ramModel = ramModel;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUserId(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PcBuild{&quot; +\n                &quot;buildId=&quot; + buildId +\n                &quot;, cpuModel='&quot; + cpuModel + '\\'' +\n                &quot;, gpuModel='&quot; + gpuModel + '\\'' +\n                &quot;, cpuCoolerModel='&quot; + cpuCoolerModel + '\\'' +\n                &quot;, motherboardModel='&quot; + motherboardModel + '\\'' +\n                &quot;, psuModel='&quot; + psuModel + '\\'' +\n                &quot;, caseModel='&quot; + caseModel + '\\'' +\n                &quot;, dataStorageModel='&quot; + dataStorageModel + '\\'' +\n                &quot;, ramModel='&quot; + ramModel + '\\'' +\n                &quot;, user=&quot; + user +\n                '}';\n    }\n}\n</code></pre>\n<p>User POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity(name = &quot;User&quot;)\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int userId;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    private Set&lt;PcBuild&gt; pcBuilds = new HashSet&lt;&gt;();\n\n    public User() {\n    }\n\n    public User(int userId, String username, String password, Set&lt;PcBuild&gt; pcBuilds) {\n        this.userId = userId;\n        this.username = username;\n        this.password = password;\n        this.pcBuilds = pcBuilds;\n    }\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Set&lt;PcBuild&gt; getPcBuilds() {\n        return pcBuilds;\n    }\n\n    public void setPcBuilds(Set&lt;PcBuild&gt; pcBuilds) {\n        this.pcBuilds = pcBuilds;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;userId=&quot; + userId +\n                &quot;, username='&quot; + username + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>mySQL script I run at the start of each JUnit test</p>\n<pre><code>delete from computer_builds;\n\ndelete from users;\n\ninsert into users (userId, username, password) VALUES (1, 'fchristian', 'student');\n\ninsert into users (userId, username, password) VALUES (2, 'achristian', 'lollipop');\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 7 5800X3D', 'PowerColor Red Devil OC Radeon RX 6950 XT', 'Deepcool AK620', 'MSI MAG B550 Tomahawk',\n        'Thermaltake Toughpower GF1 PE 850 W', 'Corsair 4000D Airflow ATX Mid Tower', 'Samsung 970 Evo Plus 2 TB NVMe SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18', 1);\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 3 3200G', 'Gigabyte GAMING OC Radeon RX 5700 XT', 'Stock', 'Gigabyte B450M DS3H Wifi',\n        'Fractal Design Ion SFX 650 W', 'Thermaltake Core G3 ATX Mid Tower', 'Teamgroup GX2 512 GB SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16', 2);\n</code></pre>\n"},{"tags":["java","google-calendar-api","service-accounts","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1667372642,"post_id":74283188,"comment_id":131148823,"body_markdown":"please edit your question and include [example] i would like to see the code you are using to authorize your applicaiton.","body":"please edit your question and include <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> i would like to see the code you are using to authorize your applicaiton."},{"owner":{"account_id":263931,"reputation":21,"user_id":549839,"display_name":"Nisarg"},"score":0,"creation_date":1667407847,"post_id":74283188,"comment_id":131161605,"body_markdown":"Thanks, I have now added requested sample code.","body":"Thanks, I have now added requested sample code."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1667410152,"post_id":74283188,"comment_id":131162506,"body_markdown":"I thought you said you were using a service account thats not service account authorization code, Have you configured domain wide delegation to the service account though google workspace?","body":"I thought you said you were using a service account thats not service account authorization code, Have you configured domain wide delegation to the service account though google workspace?"},{"owner":{"account_id":263931,"reputation":21,"user_id":549839,"display_name":"Nisarg"},"score":0,"creation_date":1668155436,"post_id":74283188,"comment_id":131341657,"body_markdown":"Domain wide delegation allows apps to access users&#39; data across your organization&#39;s Google Workspace environment. I am developing an app for a non profit organization where team members have their own personal gmail accounts. Is there a way for the app to update users&#39; meetings via service account authorization?","body":"Domain wide delegation allows apps to access users&#39; data across your organization&#39;s Google Workspace environment. I am developing an app for a non profit organization where team members have their own personal gmail accounts. Is there a way for the app to update users&#39; meetings via service account authorization?"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1668155562,"post_id":74283188,"comment_id":131341690,"body_markdown":"The only way to use google calendar with a service account is to use Google workspace domain accounts and configure delegation.  For normal Gmail user accounts, you will need to use Oauth2 and authorize the user once store the refresh token for later use.   In my answer see point number 3","body":"The only way to use google calendar with a service account is to use Google workspace domain accounts and configure delegation.  For normal Gmail user accounts, you will need to use Oauth2 and authorize the user once store the refresh token for later use.   In my answer see point number 3"},{"owner":{"account_id":263931,"reputation":21,"user_id":549839,"display_name":"Nisarg"},"score":0,"creation_date":1668188145,"post_id":74283188,"comment_id":131353065,"body_markdown":"Thanks, got it.\n\nTo summarize:\ni) UserA is scheduling meeting with UserB and UserC\nii) Users A and B&#39;s calendars have manually provided permissions with access level &#39;Make changes to events&#39; to my app&#39;s admin owner alias, so webapp have no issues creating events in their calendars\niii) User C has not yet given any such permission manually and hence gets 403 forbidden with message &#39;You need to have writer access to this calendar&#39;.\nI feel that providing permission to a gmail account vs an account that cannot login (such as service account) could be a concerning factor for users.","body":"Thanks, got it.  To summarize: i) UserA is scheduling meeting with UserB and UserC ii) Users A and B&#39;s calendars have manually provided permissions with access level &#39;Make changes to events&#39; to my app&#39;s admin owner alias, so webapp have no issues creating events in their calendars iii) User C has not yet given any such permission manually and hence gets 403 forbidden with message &#39;You need to have writer access to this calendar&#39;. I feel that providing permission to a gmail account vs an account that cannot login (such as service account) could be a concerning factor for users."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1668188903,"post_id":74283188,"comment_id":131353325,"body_markdown":"UserA schedules a meeting.   UserA creates an event and invites  user B and C to the event. User B and C will get a notification from google calendar to accept the invite.   You dont need B and C&#39;s permission to add them to an event.  Service accounts are only intended for user with calendars you the developer control.     Say a meeting room calendar.   Its not meant for you to use to get access to a standard gmail users account.","body":"UserA schedules a meeting.   UserA creates an event and invites  user B and C to the event. User B and C will get a notification from google calendar to accept the invite.   You dont need B and C&#39;s permission to add them to an event.  Service accounts are only intended for user with calendars you the developer control.     Say a meeting room calendar.   Its not meant for you to use to get access to a standard gmail users account."},{"owner":{"account_id":263931,"reputation":21,"user_id":549839,"display_name":"Nisarg"},"score":0,"creation_date":1668268131,"post_id":74283188,"comment_id":131366355,"body_markdown":"I should have mentioned in my comment that User A receives 403 (writer access error) only when scheduling meeting with B and C via the app. It all works after B and C gives write permission to the app owner. It’s not correct that recipients have to give permission to app owner manually for the app to be able to create meeting with them.","body":"I should have mentioned in my comment that User A receives 403 (writer access error) only when scheduling meeting with B and C via the app. It all works after B and C gives write permission to the app owner. It’s not correct that recipients have to give permission to app owner manually for the app to be able to create meeting with them."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1668268201,"post_id":74283188,"comment_id":131366362,"body_markdown":"What scope did you request of User A? You only need write access to A to be able to create an event and invite other people.   You shouldn&#39;t be creating an even on B and C. You should be creating an event on A and inviting people to that.","body":"What scope did you request of User A? You only need write access to A to be able to create an event and invite other people.   You shouldn&#39;t be creating an even on B and C. You should be creating an event on A and inviting people to that."},{"owner":{"account_id":263931,"reputation":21,"user_id":549839,"display_name":"Nisarg"},"score":0,"creation_date":1668454211,"post_id":74283188,"comment_id":131404136,"body_markdown":"Correct, I am creating credentials with scope &#39;CalendarScopes.CALENDAR&#39; only for the User A in above scenario. But this needs to be done for any user attempting to create a meeting. So if User B wants to create a meeting, the app will create credentials with scope &#39;CalendarScopes.CALENDAR&#39; for User B, which requires B to provide manual write/update access to the app owner so app can create event in B&#39;s calendar. Thus, any user that creates meeting via app needs to provide write access to the app owner. And not all users would be comfortable.","body":"Correct, I am creating credentials with scope &#39;CalendarScopes.CALENDAR&#39; only for the User A in above scenario. But this needs to be done for any user attempting to create a meeting. So if User B wants to create a meeting, the app will create credentials with scope &#39;CalendarScopes.CALENDAR&#39; for User B, which requires B to provide manual write/update access to the app owner so app can create event in B&#39;s calendar. Thus, any user that creates meeting via app needs to provide write access to the app owner. And not all users would be comfortable."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667372622,"creation_date":1667372622,"answer_id":74285462,"question_id":74283188,"body_markdown":"403 Forbidden means that the user you are authencation with does not have access to the data you are trying to request.\r\n\r\nThis is normally caused by one of three things.\r\n\r\n1. You have not properly configured [domain wide deligation](https://developers.google.com/cloud-search/docs/guides/delegation) \r\n2. You have continued it but have not added the subject domain user in your code.\r\n3. Your trying to use it with a standard gmail google account, which does not support service accounts.","title":"Updating meeting recipient calendar through service account","body":"<p>403 Forbidden means that the user you are authencation with does not have access to the data you are trying to request.</p>\n<p>This is normally caused by one of three things.</p>\n<ol>\n<li>You have not properly configured <a href=\"https://developers.google.com/cloud-search/docs/guides/delegation\" rel=\"nofollow noreferrer\">domain wide deligation</a></li>\n<li>You have continued it but have not added the subject domain user in your code.</li>\n<li>Your trying to use it with a standard gmail google account, which does not support service accounts.</li>\n</ol>\n"}],"owner":{"account_id":263931,"reputation":21,"user_id":549839,"display_name":"Nisarg"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667410084,"creation_date":1667349194,"question_id":74283188,"body_markdown":"Can my app update google calendar recipient meeting, if the recipient has given access to the service account of the App? When I try to do that, I get this message:\r\n\r\n```\r\nException thrown: 403 Forbidden\r\nPOST https://www.googleapis.com/calendar/v3/calendars/&lt;email_account&gt;/events\r\n{\r\n  &quot;code&quot;: 403,\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;domain&quot;: &quot;calendar&quot;,\r\n      &quot;message&quot;: &quot;You need to have writer access to this calendar.&quot;,\r\n      &quot;reason&quot;: &quot;requiredAccessLevel&quot;\r\n    }\r\n  ],\r\n  &quot;message&quot;: &quot;You need to have writer access to this calendar.&quot;\r\n}\r\n```\r\nI need to have the recipient&#39;s calendar provide &#39;Make changes to events&#39; rights to my google cloud console&#39;s email under which the web app is registered and only then my app is able to create meeting with that recipient.\r\n\r\nThere is an issue with this approach - which is, if recipient provides such an access to the username under which the app is registered, that username can now see all events of recipient&#39;s calendar. This may not what recipient wants.\r\n\r\nThis makes me wonder, why not let the owner of the web app&#39;s service account schedule meetings with recipients, with such access to that service account and since service account cannot login, there is no such drawback - like described above?\r\n\r\n[Edit: Adding minimal reproducible example, as requested]\r\n\r\nI am authorizing my API call as described in [this example][1].\r\n\r\n    //Define scope, credentials path and token path\r\n            private static final List&lt;String&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR);\r\n            private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n    private static final String TOKENS_DIRECTORY_PATH = &quot;/Users/&lt;username&gt;/&lt;workspace_name&gt;/&lt;project_name&gt;&quot;;\r\n\r\n    //credentials.json file\r\n    {\r\n       &quot;web&quot;:{\r\n          &quot;client_id&quot;:&quot;&lt;client_id&gt;&quot;,\r\n          &quot;project_id&quot;:&quot;&lt;project_id&gt;&quot;,\r\n          &quot;auth_uri&quot;:&quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n          &quot;token_uri&quot;:&quot;https://oauth2.googleapis.com/token&quot;,\r\n          &quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n          &quot;client_secret&quot;:&quot;&lt;secret&gt;&quot;,\r\n          &quot;redirect_uris&quot;:[\r\n          &quot;https://developers.google.com/oauthplayground&amp;prompt=consent&amp;response_type=code&amp;client_id=407408718192.apps.googleusercontent.com&amp;scope=https://www.googleapis.com/auth/calendar+https://www.googleapis.com/auth/calendar.events+https://www.googleapis.com/auth/calendar.events.readonly+https://www.googleapis.com/auth/calendar.readonly+https://www.googleapis.com/auth/calendar.settings.readonly&amp;access_type=offline&quot;,\r\n             &quot;https://developers.google.com/oauthplayground&quot;,\r\n             &quot;http://localhost:8888/Callback&quot;\r\n          ]\r\n       }\r\n    }\r\n     \r\n    // getCredentials function that returns authorized credentials object    \r\n        private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n                // Load client secrets.\r\n                InputStream in = CalendarQuickStart.class.getResourceAsStream(&quot;/credentials.json&quot;);\r\n                if (in == null) {\r\n                    throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n                }\r\n                GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n        \r\n                // Build flow and trigger user authorization request.\r\n                GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                        .setAccessType(&quot;offline&quot;)\r\n                        .build();\r\n                LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n                Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n                //returns an authorized Credential object.\r\n                return credential;\r\n            }\r\n    \r\n        //Gets credentials object from getCredentials and uses that to create calendar event\r\n    \r\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            \tCalendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                        .setApplicationName(APPLICATION_NAME)\r\n                        .build();\r\n            \t\r\n            \tevent = service.events().insert(calendarId, event).execute();\r\n\r\nThanks. \r\n\r\n\r\n  [1]: https://developers.google.com/calendar/api/quickstart/java\r\n\r\n\r\n\r\n","title":"Updating meeting recipient calendar through service account","body":"<p>Can my app update google calendar recipient meeting, if the recipient has given access to the service account of the App? When I try to do that, I get this message:</p>\n<pre><code>Exception thrown: 403 Forbidden\nPOST https://www.googleapis.com/calendar/v3/calendars/&lt;email_account&gt;/events\n{\n  &quot;code&quot;: 403,\n  &quot;errors&quot;: [\n    {\n      &quot;domain&quot;: &quot;calendar&quot;,\n      &quot;message&quot;: &quot;You need to have writer access to this calendar.&quot;,\n      &quot;reason&quot;: &quot;requiredAccessLevel&quot;\n    }\n  ],\n  &quot;message&quot;: &quot;You need to have writer access to this calendar.&quot;\n}\n</code></pre>\n<p>I need to have the recipient's calendar provide 'Make changes to events' rights to my google cloud console's email under which the web app is registered and only then my app is able to create meeting with that recipient.</p>\n<p>There is an issue with this approach - which is, if recipient provides such an access to the username under which the app is registered, that username can now see all events of recipient's calendar. This may not what recipient wants.</p>\n<p>This makes me wonder, why not let the owner of the web app's service account schedule meetings with recipients, with such access to that service account and since service account cannot login, there is no such drawback - like described above?</p>\n<p>[Edit: Adding minimal reproducible example, as requested]</p>\n<p>I am authorizing my API call as described in <a href=\"https://developers.google.com/calendar/api/quickstart/java\" rel=\"nofollow noreferrer\">this example</a>.</p>\n<pre><code>//Define scope, credentials path and token path\n        private static final List&lt;String&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR);\n        private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\nprivate static final String TOKENS_DIRECTORY_PATH = &quot;/Users/&lt;username&gt;/&lt;workspace_name&gt;/&lt;project_name&gt;&quot;;\n\n//credentials.json file\n{\n   &quot;web&quot;:{\n      &quot;client_id&quot;:&quot;&lt;client_id&gt;&quot;,\n      &quot;project_id&quot;:&quot;&lt;project_id&gt;&quot;,\n      &quot;auth_uri&quot;:&quot;https://accounts.google.com/o/oauth2/auth&quot;,\n      &quot;token_uri&quot;:&quot;https://oauth2.googleapis.com/token&quot;,\n      &quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n      &quot;client_secret&quot;:&quot;&lt;secret&gt;&quot;,\n      &quot;redirect_uris&quot;:[\n      &quot;https://developers.google.com/oauthplayground&amp;prompt=consent&amp;response_type=code&amp;client_id=407408718192.apps.googleusercontent.com&amp;scope=https://www.googleapis.com/auth/calendar+https://www.googleapis.com/auth/calendar.events+https://www.googleapis.com/auth/calendar.events.readonly+https://www.googleapis.com/auth/calendar.readonly+https://www.googleapis.com/auth/calendar.settings.readonly&amp;access_type=offline&quot;,\n         &quot;https://developers.google.com/oauthplayground&quot;,\n         &quot;http://localhost:8888/Callback&quot;\n      ]\n   }\n}\n \n// getCredentials function that returns authorized credentials object    \n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n            // Load client secrets.\n            InputStream in = CalendarQuickStart.class.getResourceAsStream(&quot;/credentials.json&quot;);\n            if (in == null) {\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n            }\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n    \n            // Build flow and trigger user authorization request.\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                    .setAccessType(&quot;offline&quot;)\n                    .build();\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n            Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n            //returns an authorized Credential object.\n            return credential;\n        }\n\n    //Gets credentials object from getCredentials and uses that to create calendar event\n\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            Calendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                    .setApplicationName(APPLICATION_NAME)\n                    .build();\n            \n            event = service.events().insert(calendarId, event).execute();\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["javascript","java","reactjs","microservices"],"comments":[{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1601311359,"post_id":64106168,"comment_id":113361706,"body_markdown":"Is there a specific reason you convert the byte stream in React instead of fetching the PDF directly from the back-end (send out application/pdf)?","body":"Is there a specific reason you convert the byte stream in React instead of fetching the PDF directly from the back-end (send out application/pdf)?"},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1601313280,"post_id":64106168,"comment_id":113362546,"body_markdown":"@Fullslack.dev, as per my knowledge, yes the PDF is sending application/pdf from the backend only in my example. The response type is byte[]. I tried with the Resource as response type from the API endpoint, it is still the same issue","body":"@Fullslack.dev, as per my knowledge, yes the PDF is sending application/pdf from the backend only in my example. The response type is byte[]. I tried with the Resource as response type from the API endpoint, it is still the same issue"},{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1601313973,"post_id":64106168,"comment_id":113362809,"body_markdown":"https://www.technicalkeeda.com/spring-tutorials/download-pdf-file-using-spring-mvc-rest-controller","body":"<a href=\"https://www.technicalkeeda.com/spring-tutorials/download-pdf-file-using-spring-mvc-rest-controller\" rel=\"nofollow noreferrer\">technicalkeeda.com/spring-tutorials/&hellip;</a>"},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1601316049,"post_id":64106168,"comment_id":113363639,"body_markdown":"@Fullslack.dev, I checked the response headers, I got the same values what you have referenced in the link. Updated post with the response received in postman from API","body":"@Fullslack.dev, I checked the response headers, I got the same values what you have referenced in the link. Updated post with the response received in postman from API"},{"owner":{"account_id":18159434,"reputation":300,"user_id":13211030,"display_name":"Fullslack"},"score":0,"creation_date":1601321084,"post_id":64106168,"comment_id":113365590,"body_markdown":"Again: why is the return type of your ResponseEntity in Java a byte[] and not a InputStream? Then you also convert the byte[] to a blob and pass it around to finally trying to make a PDF out of it. Multiple conversions is bound to cause a error and a corrupted file in the end. Btw I don&#39;t consider React a back-end, for me that ends when you leave the Java code in this example.","body":"Again: why is the return type of your ResponseEntity in Java a byte[] and not a InputStream? Then you also convert the byte[] to a blob and pass it around to finally trying to make a PDF out of it. Multiple conversions is bound to cause a error and a corrupted file in the end. Btw I don&#39;t consider React a back-end, for me that ends when you leave the Java code in this example."},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1601321214,"post_id":64106168,"comment_id":113365643,"body_markdown":"As I mentioned in my post, First I tried InputStream only, the issue is the same. Sorry I did not get your last point &#39;React is backend&#39; , React is not my backend , it is java","body":"As I mentioned in my post, First I tried InputStream only, the issue is the same. Sorry I did not get your last point &#39;React is backend&#39; , React is not my backend , it is java"},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1601321583,"post_id":64106168,"comment_id":113365770,"body_markdown":"Do you know how to read the input stream in the front code using javascript code/react? technicalkeeda.com is only an example of an endpoint from the backend","body":"Do you know how to read the input stream in the front code using javascript code/react? technicalkeeda.com is only an example of an endpoint from the backend"},{"owner":{"account_id":63007,"reputation":2116,"user_id":186787,"accept_rate":85,"display_name":"MiKo"},"score":0,"creation_date":1602607012,"post_id":64106168,"comment_id":113771513,"body_markdown":"Try appending the link to your page before you trigger a click, e.g: `document.body.appendChild(link);`.","body":"Try appending the link to your page before you trigger a click, e.g: <code>document.body.appendChild(link);</code>."}],"answers":[{"comments":[{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1602600429,"post_id":64333486,"comment_id":113768054,"body_markdown":"Thanks for your answer. I tried these already, the issue still the same. can you please share how your api-end-point returns the response? I think it depends on it as well. Is it stream or byte[]? have you done any encoding?","body":"Thanks for your answer. I tried these already, the issue still the same. can you please share how your api-end-point returns the response? I think it depends on it as well. Is it stream or byte[]? have you done any encoding?"},{"owner":{"account_id":18677639,"reputation":41,"user_id":13614955,"display_name":"Claudio Gaitan Garmendia"},"score":0,"creation_date":1602604273,"post_id":64333486,"comment_id":113770156,"body_markdown":"Hi Mark, in my case I return the pdf file as a stream, not a byte[].","body":"Hi Mark, in my case I return the pdf file as a stream, not a byte[]."},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1602605867,"post_id":64333486,"comment_id":113770983,"body_markdown":"ok. thanks. how about the content-disposition. using an attachment or inline?","body":"ok. thanks. how about the content-disposition. using an attachment or inline?"},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1602614751,"post_id":64333486,"comment_id":113774889,"body_markdown":"ok, thanks for the API code. so it&#39;s returning byteArray[] or stream. I am using java, so I can use it accordingly","body":"ok, thanks for the API code. so it&#39;s returning byteArray[] or stream. I am using java, so I can use it accordingly"},{"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"score":0,"creation_date":1602700068,"post_id":64333486,"comment_id":113806471,"body_markdown":"I have used the same axios code to render pdf but got the error &quot;TypeError: Failed to execute &#39;createObjectURL&#39; on &#39;URL&#39;: Overload resolution failed.\n&quot;","body":"I have used the same axios code to render pdf but got the error &quot;TypeError: Failed to execute &#39;createObjectURL&#39; on &#39;URL&#39;: Overload resolution failed. &quot;"},{"owner":{"account_id":3613933,"reputation":438,"user_id":3014311,"accept_rate":25,"display_name":"user3014311"},"score":0,"creation_date":1661322510,"post_id":64333486,"comment_id":129740918,"body_markdown":"I was missing the responseType: &#39;blob&#39; in the request. Thank you. Worked!","body":"I was missing the responseType: &#39;blob&#39; in the request. Thank you. Worked!"}],"tags":[],"owner":{"account_id":18677639,"reputation":41,"user_id":13614955,"display_name":"Claudio Gaitan Garmendia"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602607548,"creation_date":1602585053,"answer_id":64333486,"question_id":64106168,"body_markdown":"I had a similar problem and I fixed it with this:\r\n\r\n - spa\r\n\r\n                axios.post(\r\n                 &#39;api-url&#39;,\r\n                 formData,\r\n                 {\r\n                   responseType: &#39;blob&#39;,\r\n                   headers: {\r\n                       &#39;Accept&#39;: &#39;application/pdf&#39;\r\n                 }\r\n                })\r\n                .then( response =&gt; {\r\n                     const url = URL.createObjectURL(response.data);\r\n                     this.setState({\r\n                         filePath: url,\r\n                         fileType: &#39;pdf&#39;,\r\n                     })\r\n                 })\r\n                .catch(function (error) {\r\n                     console.log(error);\r\n                });\r\n\r\n - api\r\n\r\n        [HttpPost]\r\n        public async Task&lt;IActionResult&gt; Post()\r\n        {\r\n            var request = HttpContext.Request;\r\n\r\n            var pdfByteArray = await convertToPdfService.ConvertWordStreamToPdfByteArray(request.Form.Files[0], &quot;application/msword&quot;);\r\n\r\n            return File(pdfByteArray, &quot;application/pdf&quot;);\r\n        }\r\n\r\nWhen the response type is a blob and accepted &#39;application / pdf&#39; in the header, with that config the job is done ;) ...","title":"PDF is blank and damaged when downloading it from API using JavaScript and React JS","body":"<p>I had a similar problem and I fixed it with this:</p>\n<ul>\n<li><p>spa</p>\n<pre><code>         axios.post(\n          'api-url',\n          formData,\n          {\n            responseType: 'blob',\n            headers: {\n                'Accept': 'application/pdf'\n          }\n         })\n         .then( response =&gt; {\n              const url = URL.createObjectURL(response.data);\n              this.setState({\n                  filePath: url,\n                  fileType: 'pdf',\n              })\n          })\n         .catch(function (error) {\n              console.log(error);\n         });\n</code></pre>\n</li>\n<li><p>api</p>\n<pre><code> [HttpPost]\n public async Task&lt;IActionResult&gt; Post()\n {\n     var request = HttpContext.Request;\n\n     var pdfByteArray = await convertToPdfService.ConvertWordStreamToPdfByteArray(request.Form.Files[0], &quot;application/msword&quot;);\n\n     return File(pdfByteArray, &quot;application/pdf&quot;);\n }\n</code></pre>\n</li>\n</ul>\n<p>When the response type is a blob and accepted 'application / pdf' in the header, with that config the job is done ;) ...</p>\n"},{"tags":[],"owner":{"account_id":6780427,"reputation":775,"user_id":5220895,"display_name":"bcngr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667410030,"creation_date":1667410030,"answer_id":74293374,"question_id":64106168,"body_markdown":"Something that worked for me was to **send the bytes as base64** from the controller.\r\n\r\nAPI:\r\n\r\n```csharp\r\npublic async Task&lt;ActionResult&gt; GetAsync() {\r\n    var documentBytes = await GetDocumentAsync().ConfigureAwait(false);\r\n    return Ok(Convert.ToBase64String(documentBytes))\r\n}\r\n```\r\n\r\nFront End:\r\n```typescript\r\nclient.get(url, {\r\n    headers: {\r\n        &#39;Accept&#39;: &#39;application/json&#39;,\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;\r\n    }\r\n})\r\n    .then(response =&gt; {\r\n        const link = document.createElement(&#39;a&#39;);\r\n        link.href = &quot;data:application/octet-stream;base64,&quot; + response.data;\r\n        link.download = &#39;file.pdf&#39;;\r\n        link.click();\r\n    })\r\n    .catch(error =&gt; {\r\n        console.log(error);\r\n    })\r\n```\r\n\r\nI hope this solves your problem.","title":"PDF is blank and damaged when downloading it from API using JavaScript and React JS","body":"<p>Something that worked for me was to <strong>send the bytes as base64</strong> from the controller.</p>\n<p>API:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task&lt;ActionResult&gt; GetAsync() {\n    var documentBytes = await GetDocumentAsync().ConfigureAwait(false);\n    return Ok(Convert.ToBase64String(documentBytes))\n}\n</code></pre>\n<p>Front End:</p>\n<pre class=\"lang-js prettyprint-override\"><code>client.get(url, {\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n    }\n})\n    .then(response =&gt; {\n        const link = document.createElement('a');\n        link.href = &quot;data:application/octet-stream;base64,&quot; + response.data;\n        link.download = 'file.pdf';\n        link.click();\n    })\n    .catch(error =&gt; {\n        console.log(error);\n    })\n</code></pre>\n<p>I hope this solves your problem.</p>\n"}],"owner":{"account_id":4471477,"reputation":407,"user_id":3637689,"display_name":"mark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667410030,"creation_date":1601310875,"question_id":64106168,"body_markdown":"\r\nI am downloading a pdf file from API, but I am getting a blank PDF. I have tested the API endpoint and able to get the byte stream on the console and when I save it to File, it got saved and the file looks good. Getting the same response back to the front end using React and I could see the PDF byte stream in the response. \r\nHowever, I could not see the content. It says the file is `damaged or corrupted` when I opened the downloaded PDF from my local.\r\nI have looked at many examples and are following the same pattern, but I think I am missing something here. \r\n\r\nMy API Java endpoint definition looks like below\r\n\r\n    @GetMapping(value = &quot;/fetchFile&quot;)\t\r\n    \tpublic ResponseEntity&lt;byte[]&gt; fetchFile(@RequestParam final String key) {\r\n    \t\tFileResponse response = myService.readFile(key);\r\n    \t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n    \t\thttpHeaders.add(HttpHeaders.CONTENT_DISPOSITION,\r\n    \t\t\t\t&quot;attachment; filename=\\&quot;&quot; + key.substring(key.lastIndexOf(&#39;/&#39;) + 1) + &quot;\\&quot;&quot;);\r\n    \t\treturn Mono.just(ResponseEntity.ok().headers(httpHeaders).contentLength(response.getContentLength())\r\n    \t\t\t\t.contentType(MediaType.parseMediaType(response.getContentType()))\r\n    \t\t\t\t.body(response.getResponseBytes()));\r\n    \t}\r\n\r\n\r\nFrontend:\r\n\r\n    rounterFetchFile.js\r\n\r\n    router.get(&#39;/&#39;, (request, resp) =&gt; {\r\n      axios({\r\n        method: &#39;get&#39;,\r\n        baseURL: &#39;http://mybackend.apibase.url&#39;,\r\n        responseType: &#39;blob&#39;,\r\n        url: &#39;/fetchFile&#39;,\r\n        params: {\r\n          fileKey: &#39;myfile.pdf&#39;\r\n        }    \r\n      })\r\n        .then(response =&gt; {      \r\n          return resp.send(response.data)\r\n        })\r\n        .catch(error =&gt; {\r\n          console.error(error)\r\n          return resp.status(error.response.status).end()\r\n        })\r\n    })\r\n\r\nin `myFileComoponent.js`\t\r\n//a function that reads the response from rounterFetchFile.js\r\n\r\n    const getDocumentOnClick = async () =&gt; {\r\n          \r\n            try {\r\n                var {data} = await pullMyPDF()\r\n                var blob = new Blob([data], { type: &quot;application/pdf&quot; });\r\n                var link = document.createElement(&#39;a&#39;);\r\n                link.href = window.URL.createObjectURL(blob);\r\n                link.download = &quot;myFileName.pdf&quot;;\r\n                link.click();                     \r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n\r\nHere\r\n\r\n    var {data} = await pullMyPDF()\r\nis returning the following content. I compared it with the result returned by the Postman, and it is the same. The generated file size is not empty from the react too. I am not able to find out where is it wrong\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBelow is the response from API endpoint for the fetchFile\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AlrG0.png\r\n  [2]: https://i.stack.imgur.com/QPDgY.png","title":"PDF is blank and damaged when downloading it from API using JavaScript and React JS","body":"<p>I am downloading a pdf file from API, but I am getting a blank PDF. I have tested the API endpoint and able to get the byte stream on the console and when I save it to File, it got saved and the file looks good. Getting the same response back to the front end using React and I could see the PDF byte stream in the response.\nHowever, I could not see the content. It says the file is <code>damaged or corrupted</code> when I opened the downloaded PDF from my local.\nI have looked at many examples and are following the same pattern, but I think I am missing something here.</p>\n<p>My API Java endpoint definition looks like below</p>\n<pre><code>@GetMapping(value = &quot;/fetchFile&quot;)   \n    public ResponseEntity&lt;byte[]&gt; fetchFile(@RequestParam final String key) {\n        FileResponse response = myService.readFile(key);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.add(HttpHeaders.CONTENT_DISPOSITION,\n                &quot;attachment; filename=\\&quot;&quot; + key.substring(key.lastIndexOf('/') + 1) + &quot;\\&quot;&quot;);\n        return Mono.just(ResponseEntity.ok().headers(httpHeaders).contentLength(response.getContentLength())\n                .contentType(MediaType.parseMediaType(response.getContentType()))\n                .body(response.getResponseBytes()));\n    }\n</code></pre>\n<p>Frontend:</p>\n<pre><code>rounterFetchFile.js\n\nrouter.get('/', (request, resp) =&gt; {\n  axios({\n    method: 'get',\n    baseURL: 'http://mybackend.apibase.url',\n    responseType: 'blob',\n    url: '/fetchFile',\n    params: {\n      fileKey: 'myfile.pdf'\n    }    \n  })\n    .then(response =&gt; {      \n      return resp.send(response.data)\n    })\n    .catch(error =&gt; {\n      console.error(error)\n      return resp.status(error.response.status).end()\n    })\n})\n</code></pre>\n<p>in <code>myFileComoponent.js</code><br />\n//a function that reads the response from rounterFetchFile.js</p>\n<pre><code>const getDocumentOnClick = async () =&gt; {\n      \n        try {\n            var {data} = await pullMyPDF()\n            var blob = new Blob([data], { type: &quot;application/pdf&quot; });\n            var link = document.createElement('a');\n            link.href = window.URL.createObjectURL(blob);\n            link.download = &quot;myFileName.pdf&quot;;\n            link.click();                     \n        } catch (e) {\n            console.log(e)\n        }\n    }\n</code></pre>\n<p>Here</p>\n<pre><code>var {data} = await pullMyPDF()\n</code></pre>\n<p>is returning the following content. I compared it with the result returned by the Postman, and it is the same. The generated file size is not empty from the react too. I am not able to find out where is it wrong\n<a href=\"https://i.stack.imgur.com/AlrG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AlrG0.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the response from API endpoint for the fetchFile\n<a href=\"https://i.stack.imgur.com/QPDgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPDgY.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QPDgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPDgY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","elasticsearch","resthighlevelclient"],"answers":[{"tags":[],"owner":{"account_id":12584362,"reputation":86,"user_id":9153903,"display_name":"Zak Bainazarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667409854,"creation_date":1667409544,"answer_id":74293266,"question_id":74292470,"body_markdown":"Mock client.indices() to return a mocked instance of IndicesClient. Then mock that IndicesClient updateAliases method to return response. \r\n\r\n    var mockedIndicesClient = Mockito.mock(IndicesClient.class);\r\n    when(client.indices()).thenReturn(mockedIndicesClient);\r\n    when(mockedIndicesClient.updateAliases(Mockito.mock(IndicesAliasesRequest.class), RequestOptions.DEFAULT)).thenReturn(response);\r\n\r\nAlso I believe you want to use matchers in the last line. any(IndicesAliasesRequest.class) instead of Mockito.mock:\r\n\r\n    when(mockedIndicesClient.updateAliases(any(IndicesAliasesRequest.class), RequestOptions.DEFAULT)).thenReturn(response);\r\n\r\n","title":"How to use mockito for elasticSearchClient while updating?","body":"<p>Mock client.indices() to return a mocked instance of IndicesClient. Then mock that IndicesClient updateAliases method to return response.</p>\n<pre><code>var mockedIndicesClient = Mockito.mock(IndicesClient.class);\nwhen(client.indices()).thenReturn(mockedIndicesClient);\nwhen(mockedIndicesClient.updateAliases(Mockito.mock(IndicesAliasesRequest.class), RequestOptions.DEFAULT)).thenReturn(response);\n</code></pre>\n<p>Also I believe you want to use matchers in the last line. any(IndicesAliasesRequest.class) instead of Mockito.mock:</p>\n<pre><code>when(mockedIndicesClient.updateAliases(any(IndicesAliasesRequest.class), RequestOptions.DEFAULT)).thenReturn(response);\n</code></pre>\n"}],"owner":{"account_id":25887644,"reputation":21,"user_id":19615480,"display_name":"Rajesh Basnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667409854,"creation_date":1667405854,"question_id":74292470,"body_markdown":"Note client is RestHightLevelClient,\r\n```\r\n@Override\r\npublic void createAlias(final String aliasName, final String indexName, final boolean writable)\r\n        throws IOException {\r\n    IndicesAliasesRequest request = new IndicesAliasesRequest(); \r\n    AliasActions aliasAction = new AliasActions(AliasActions.Type.ADD).index(indexName)\r\n          .alias(aliasName);\r\n    if (writable) {\r\n       aliasAction.writeIndex(true);\r\n    }\r\n    request.addAliasAction(aliasAction); \r\n    AcknowledgedResponse response = client.indices().updateAliases(request, RequestOptions.DEFAULT);\r\n}\r\n```\r\nI tried writing test case for this : \r\n\r\n```\r\n@Test\r\nvoid testCreateAlias() throws IOException {\r\n    AcknowledgedResponse response = AcknowledgedResponse.of(true);\r\n    when(client.indices().updateAliases(Mockito.mock(IndicesAliasesRequest.class), RequestOptions.DEFAULT))\r\n            .thenReturn(response);\r\n    searchManagerService.createAlias(&quot;test&quot;, &quot;test_idx&quot;, true);\r\n}\r\n```\r\nERROR : client.indices() is null,\r\n\r\nHow to resolve this ?\r\n","title":"How to use mockito for elasticSearchClient while updating?","body":"<p>Note client is RestHightLevelClient,</p>\n<pre><code>@Override\npublic void createAlias(final String aliasName, final String indexName, final boolean writable)\n        throws IOException {\n    IndicesAliasesRequest request = new IndicesAliasesRequest(); \n    AliasActions aliasAction = new AliasActions(AliasActions.Type.ADD).index(indexName)\n          .alias(aliasName);\n    if (writable) {\n       aliasAction.writeIndex(true);\n    }\n    request.addAliasAction(aliasAction); \n    AcknowledgedResponse response = client.indices().updateAliases(request, RequestOptions.DEFAULT);\n}\n</code></pre>\n<p>I tried writing test case for this :</p>\n<pre><code>@Test\nvoid testCreateAlias() throws IOException {\n    AcknowledgedResponse response = AcknowledgedResponse.of(true);\n    when(client.indices().updateAliases(Mockito.mock(IndicesAliasesRequest.class), RequestOptions.DEFAULT))\n            .thenReturn(response);\n    searchManagerService.createAlias(&quot;test&quot;, &quot;test_idx&quot;, true);\n}\n</code></pre>\n<p>ERROR : client.indices() is null,</p>\n<p>How to resolve this ?</p>\n"},{"tags":["java","parsing","constructor"],"comments":[{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":1,"creation_date":1331887586,"post_id":9734151,"comment_id":12378171,"body_markdown":"Constructors are not methods, they only look so.","body":"Constructors are not methods, they only look so."}],"answers":[{"tags":[],"owner":{"account_id":1183049,"reputation":5081,"user_id":1157544,"accept_rate":100,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1331888052,"creation_date":1331888052,"answer_id":9734272,"question_id":9734151,"body_markdown":"check for a symbol that&#39;s the same as the class name. All constructors are of the type public classname(args) or private classname(args). No return, and no class declaration.","title":"How to be able to identify a constructor using JavaParser?","body":"<p>check for a symbol that's the same as the class name. All constructors are of the type public classname(args) or private classname(args). No return, and no class declaration.</p>\n"},{"tags":[],"owner":{"account_id":38529,"reputation":931,"user_id":110642,"display_name":"Jeff Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667409836,"creation_date":1667409836,"answer_id":74293328,"question_id":9734151,"body_markdown":"Use ConstructorDeclaration instead of MethodDeclaration","title":"How to be able to identify a constructor using JavaParser?","body":"<p>Use ConstructorDeclaration instead of MethodDeclaration</p>\n"}],"owner":{"account_id":1026917,"reputation":2060,"user_id":1036032,"accept_rate":51,"display_name":"ict1991"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9734272,"answer_count":2,"score":2,"last_activity_date":1667409836,"creation_date":1331887332,"question_id":9734151,"body_markdown":"I am using Java Parser to get information about the method in a source file. I based my implementation as described in [this answer][1] . However the details of constructors are not being given. I think it has to do with how the Java parser works as the normal methods have a return type and the constructor doesn&#39;t. \r\n\r\nDoes anyone know how to be able to also get information of constructors using the Java parser?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7360311/how-to-get-surrounding-method-in-java-source-file-for-a-given-line-number","title":"How to be able to identify a constructor using JavaParser?","body":"<p>I am using Java Parser to get information about the method in a source file. I based my implementation as described in <a href=\"https://stackoverflow.com/questions/7360311/how-to-get-surrounding-method-in-java-source-file-for-a-given-line-number\">this answer</a> . However the details of constructors are not being given. I think it has to do with how the Java parser works as the normal methods have a return type and the constructor doesn't. </p>\n\n<p>Does anyone know how to be able to also get information of constructors using the Java parser?</p>\n"},{"tags":["java","generics","compiler-errors"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666292210,"post_id":74144542,"comment_id":130908542,"body_markdown":"In very rough terms, suppose you had another class `J` which also extended  `SubComponent&lt;T&gt;`, but is neither a subclass nor a superclass of `I`.  You&#39;d expect to be able to use an object of type `J` with `state`, because `state` is of type `ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;`.  So the compiler won&#39;t let you use `state` to an object that you can only use with an `I`, but not a `J`.","body":"In very rough terms, suppose you had another class <code>J</code> which also extended  <code>SubComponent&lt;T&gt;</code>, but is neither a subclass nor a superclass of <code>I</code>.  You&#39;d expect to be able to use an object of type <code>J</code> with <code>state</code>, because <code>state</code> is of type <code>ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;</code>.  So the compiler won&#39;t let you use <code>state</code> to an object that you can only use with an <code>I</code>, but not a <code>J</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666292801,"post_id":74144542,"comment_id":130908726,"body_markdown":"I think it&#39;s more complicated than that, actually.  In context, we _have_ a type `I` known to be of type `Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;`.  Let&#39;s call that `?` `X`.  The OP is trying to create a `ComponentState&lt;T, X&gt;`.  There isn&#39;t a separate `J` being introduced anywhere; `J` is supposed to be inferred by the compiler to be equal to `I`, and it isn&#39;t.  (It&#39;s not determined by the caller at any point.)","body":"I think it&#39;s more complicated than that, actually.  In context, we <i>have</i> a type <code>I</code> known to be of type <code>Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;</code>.  Let&#39;s call that <code>?</code> <code>X</code>.  The OP is trying to create a <code>ComponentState&lt;T, X&gt;</code>.  There isn&#39;t a separate <code>J</code> being introduced anywhere; <code>J</code> is supposed to be inferred by the compiler to be equal to <code>I</code>, and it isn&#39;t.  (It&#39;s not determined by the caller at any point.)"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666292914,"post_id":74144542,"comment_id":130908771,"body_markdown":"In my debugging, I&#39;ve narrowed this down to: `\n  private static &lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt; implicitC(Control&lt;T, I&gt; control, int index) {\n    return explicitC(control, index);\n  }\n\n  private static &lt;T, C extends SubComponent&lt;T&gt;, I extends Component&lt;T, C&gt;&gt; ComponentState&lt;T, C&gt; explicitC(Control&lt;T, I&gt; control, int index) {\n    return new ComponentState&lt;&gt;(control, index);\n  }`.  That&#39;s long, and I don&#39;t have a shorter repro, but (continued next comment)","body":"In my debugging, I&#39;ve narrowed this down to: `   private static &lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt; implicitC(Control&lt;T, I&gt; control, int index) {     return explicitC(control, index);   }    private static &lt;T, C extends SubComponent&lt;T&gt;, I extends Component&lt;T, C&gt;&gt; ComponentState&lt;T, C&gt; explicitC(Control&lt;T, I&gt; control, int index) {     return new ComponentState&lt;&gt;(control, index);   }`.  That&#39;s long, and I don&#39;t have a shorter repro, but (continued next comment)"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666292988,"post_id":74144542,"comment_id":130908792,"body_markdown":"A `C` that fulfills the constraints of `explicitC` exists; it&#39;s uniquely determined by `I`; it ought to be inferrable by `implicitC` -- but that block of code does not compile; it fails to infer C.","body":"A <code>C</code> that fulfills the constraints of <code>explicitC</code> exists; it&#39;s uniquely determined by <code>I</code>; it ought to be inferrable by <code>implicitC</code> -- but that block of code does not compile; it fails to infer C."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666300530,"post_id":74144542,"comment_id":130910988,"body_markdown":"I&#39;ve been nerd-sniped by this for way too long, but here&#39;s a much smaller repro of the same phenomenon: `static &lt;L extends List&lt;?&gt;&gt; void foo(L list) { bar(list); }  static &lt;L extends List&lt;T&gt;, T&gt; void bar(L list) {}`","body":"I&#39;ve been nerd-sniped by this for way too long, but here&#39;s a much smaller repro of the same phenomenon: <code>static &lt;L extends List&lt;?&gt;&gt; void foo(L list) { bar(list); }  static &lt;L extends List&lt;T&gt;, T&gt; void bar(L list) {}</code>"},{"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"score":0,"creation_date":1666947591,"post_id":74144542,"comment_id":131059818,"body_markdown":"I hope this is an academic discussion here. Combining a three-layer inheritance with multi-parameter generics will result in an unreadable and unmaintainable code.","body":"I hope this is an academic discussion here. Combining a three-layer inheritance with multi-parameter generics will result in an unreadable and unmaintainable code."}],"answers":[{"tags":[],"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666517318,"creation_date":1666466380,"answer_id":74166465,"question_id":74144542,"body_markdown":"As a workaround, I decided to simplify the model by removing the ```I``` information from the ```Control``` class.  \r\n  \r\nAs a result, the structure looks like this:  \r\n```java\r\npublic interface SubComponent&lt;T&gt; {...}\r\n\r\npublic interface Component&lt;T, C extends SubComponent&lt;T&gt;&gt; {...}\r\n\r\npublic class Control&lt;T&gt; {\r\n    private final List&lt;? extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; components;\r\n}\r\n\r\npublic class ControlState&lt;T&gt; {\r\n    private final Control&lt;T&gt; control;\r\n    private final Map&lt;Integer, ComponentState&lt;T&gt;&gt; components = new TreeMap&lt;&gt;();\r\n\r\n    public void addComponent(int index) {\r\n        ComponentState&lt;T&gt; state = new ComponentState&lt;&gt;(control, index);\r\n        ...\r\n    }\r\n}\r\n\r\npublic class ComponentState&lt;T&gt; {\r\n    private final Control&lt;T&gt; control;\r\n\tprivate Component&lt;T, ? extends SubComponent&lt;T&gt;&gt; component;\r\n\tprivate int index;\r\n\tprivate final Map&lt;Integer, ? extends SubComponent&lt;T&gt;&gt; subComponents = new TreeMap&lt;&gt;();\r\n\r\n    public ComponentState(Control&lt;T&gt; control, int index) {\r\n        this.control = control;\r\n        this.index = index;\r\n    }\r\n}\r\n```\r\n  \r\n  \r\nThat said, I would have preferred to keep that information, but I think I&#39;m in a lucky position, meaning that as long as I tell the user that the components I need must be implementations of these two interfaces, internally I have all the APIs I need (exposed by the interfaces) to make the system work as intended","title":"Java Error: no instance(s) of type variable(s) C, T exist so that ? extends SubComponent&lt;T&gt; can be converted to C","body":"<p>As a workaround, I decided to simplify the model by removing the <code>I</code> information from the <code>Control</code> class.</p>\n<p>As a result, the structure looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface SubComponent&lt;T&gt; {...}\n\npublic interface Component&lt;T, C extends SubComponent&lt;T&gt;&gt; {...}\n\npublic class Control&lt;T&gt; {\n    private final List&lt;? extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; components;\n}\n\npublic class ControlState&lt;T&gt; {\n    private final Control&lt;T&gt; control;\n    private final Map&lt;Integer, ComponentState&lt;T&gt;&gt; components = new TreeMap&lt;&gt;();\n\n    public void addComponent(int index) {\n        ComponentState&lt;T&gt; state = new ComponentState&lt;&gt;(control, index);\n        ...\n    }\n}\n\npublic class ComponentState&lt;T&gt; {\n    private final Control&lt;T&gt; control;\n    private Component&lt;T, ? extends SubComponent&lt;T&gt;&gt; component;\n    private int index;\n    private final Map&lt;Integer, ? extends SubComponent&lt;T&gt;&gt; subComponents = new TreeMap&lt;&gt;();\n\n    public ComponentState(Control&lt;T&gt; control, int index) {\n        this.control = control;\n        this.index = index;\n    }\n}\n</code></pre>\n<p>That said, I would have preferred to keep that information, but I think I'm in a lucky position, meaning that as long as I tell the user that the components I need must be implementations of these two interfaces, internally I have all the APIs I need (exposed by the interfaces) to make the system work as intended</p>\n"},{"tags":[],"owner":{"account_id":5100770,"reputation":1381,"user_id":4090458,"accept_rate":38,"display_name":"Varun Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667223146,"creation_date":1667223146,"answer_id":74264057,"question_id":74144542,"body_markdown":"I believe this should resolve your objective either properly or improperly. Thus, here is my idea.\r\n\r\nIn the `addComponent()` method of the `ControlState` class, you are trying to instantiate the `ComponentState` class. Now, while doing so, you can omit the **Type Argument**. \r\nHere, the memory allocation will happen like an object of the `ComponentState` class without a type argument, i.e. non-generic type, however, the actual object will still be referred to as generic typed.\r\n\r\nMoreover, your control object was also not instantiated (either to null or properly)\r\n\r\n    public class ControlState&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {\r\n        // The state keeps a reference to the Control,\r\n        // and a map that holds all the states for each component\r\n        private final Control&lt;T, I&gt; control = null;\r\n        private final Map&lt;Integer, ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; components = new TreeMap&lt;Integer, ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt;();\r\n    \r\n        // Has a method to add new components\r\n        public void addComponent(int index) {\r\n            // Here I have error on the control parameter\r\n            ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt; state = new ComponentState(control, index);\r\n        }\r\n    }\r\n\r\n","title":"Java Error: no instance(s) of type variable(s) C, T exist so that ? extends SubComponent&lt;T&gt; can be converted to C","body":"<p>I believe this should resolve your objective either properly or improperly. Thus, here is my idea.</p>\n<p>In the <code>addComponent()</code> method of the <code>ControlState</code> class, you are trying to instantiate the <code>ComponentState</code> class. Now, while doing so, you can omit the <strong>Type Argument</strong>.\nHere, the memory allocation will happen like an object of the <code>ComponentState</code> class without a type argument, i.e. non-generic type, however, the actual object will still be referred to as generic typed.</p>\n<p>Moreover, your control object was also not instantiated (either to null or properly)</p>\n<pre><code>public class ControlState&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {\n    // The state keeps a reference to the Control,\n    // and a map that holds all the states for each component\n    private final Control&lt;T, I&gt; control = null;\n    private final Map&lt;Integer, ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; components = new TreeMap&lt;Integer, ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt;();\n\n    // Has a method to add new components\n    public void addComponent(int index) {\n        // Here I have error on the control parameter\n        ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt; state = new ComponentState(control, index);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667298457,"creation_date":1667298457,"answer_id":74274517,"question_id":74144542,"body_markdown":"The compiler cannot unify the wildcards of the `ComponentState.control` field and the `ComponentState` constructor, thus the type error.\r\n\r\nYou can fix this by materializing the type the wildcard stands for to match what `I` stands for in the `ControlState.state` field: \r\n\r\n    public class ComponentState&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {\r\n        private final Control&lt;T, I&gt; control;\r\n        private final int index;\r\n\r\n        public ComponentState(Control&lt;T, I&gt; control, int index) {\r\n            this.control = control;\r\n            this.index = index;\r\n        }\r\n    }\r\n\r\n\r\nYou have to adjust the type of the `components` map accordingly\r\n\r\n    private Map&lt;Integer, ComponentState&lt;T, I&gt;&gt; components = new TreeMap&lt;&gt;();\r\n\r\nand now you can implement `ControlState.addComponent` as\r\n\r\n    public void addComponent(int index) {\r\n        ComponentState&lt;T, I&gt; state = new ComponentState&lt;&gt;(control, index);\r\n        components.put(index, state);\r\n    }\r\n","title":"Java Error: no instance(s) of type variable(s) C, T exist so that ? extends SubComponent&lt;T&gt; can be converted to C","body":"<p>The compiler cannot unify the wildcards of the <code>ComponentState.control</code> field and the <code>ComponentState</code> constructor, thus the type error.</p>\n<p>You can fix this by materializing the type the wildcard stands for to match what <code>I</code> stands for in the <code>ControlState.state</code> field:</p>\n<pre><code>public class ComponentState&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {\n    private final Control&lt;T, I&gt; control;\n    private final int index;\n\n    public ComponentState(Control&lt;T, I&gt; control, int index) {\n        this.control = control;\n        this.index = index;\n    }\n}\n</code></pre>\n<p>You have to adjust the type of the <code>components</code> map accordingly</p>\n<pre><code>private Map&lt;Integer, ComponentState&lt;T, I&gt;&gt; components = new TreeMap&lt;&gt;();\n</code></pre>\n<p>and now you can implement <code>ControlState.addComponent</code> as</p>\n<pre><code>public void addComponent(int index) {\n    ComponentState&lt;T, I&gt; state = new ComponentState&lt;&gt;(control, index);\n    components.put(index, state);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667409780,"creation_date":1667408769,"answer_id":74293110,"question_id":74144542,"body_markdown":"Mention, that `C extends SubComponent&lt;T&gt;` is not the same as `? extends SubComponent&lt;T&gt;`. You have to use one of them.\r\n\r\n```java\r\npublic class ControlState&lt;T, C extends SubComponent&lt;T&gt;, I extends Component&lt;T, C&gt;&gt; {\r\n\r\n    private final Control&lt;T, C, I&gt; control;\r\n    private final Map&lt;Integer, ComponentState&lt;T, C&gt;&gt; components = new TreeMap&lt;&gt;();\r\n\r\n    public void addComponent(int index) {\r\n        ComponentState&lt;T, C&gt; state = new ComponentState&lt;&gt;(control, index);\r\n    }\r\n}\r\n\r\npublic class ComponentState&lt;T, C extends SubComponent&lt;T&gt;&gt; {\r\n\r\n    private final Control&lt;T, C, ?&gt; control;\r\n    private final int index;\r\n\r\n    public ComponentState(Control&lt;T, C, ?&gt; control, int index) {\r\n        this.control = control;\r\n        this.index = index;\r\n    }\r\n}\r\n\r\npublic interface SubComponent&lt;T&gt; {}\r\npublic interface Component&lt;T, C extends SubComponent&lt;T&gt;&gt; {}\r\npublic class Control&lt;T, C extends SubComponent&lt;T&gt;, I extends Component&lt;T, C&gt;&gt; {}\r\n```","title":"Java Error: no instance(s) of type variable(s) C, T exist so that ? extends SubComponent&lt;T&gt; can be converted to C","body":"<p>Mention, that <code>C extends SubComponent&lt;T&gt;</code> is not the same as <code>? extends SubComponent&lt;T&gt;</code>. You have to use one of them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ControlState&lt;T, C extends SubComponent&lt;T&gt;, I extends Component&lt;T, C&gt;&gt; {\n\n    private final Control&lt;T, C, I&gt; control;\n    private final Map&lt;Integer, ComponentState&lt;T, C&gt;&gt; components = new TreeMap&lt;&gt;();\n\n    public void addComponent(int index) {\n        ComponentState&lt;T, C&gt; state = new ComponentState&lt;&gt;(control, index);\n    }\n}\n\npublic class ComponentState&lt;T, C extends SubComponent&lt;T&gt;&gt; {\n\n    private final Control&lt;T, C, ?&gt; control;\n    private final int index;\n\n    public ComponentState(Control&lt;T, C, ?&gt; control, int index) {\n        this.control = control;\n        this.index = index;\n    }\n}\n\npublic interface SubComponent&lt;T&gt; {}\npublic interface Component&lt;T, C extends SubComponent&lt;T&gt;&gt; {}\npublic class Control&lt;T, C extends SubComponent&lt;T&gt;, I extends Component&lt;T, C&gt;&gt; {}\n</code></pre>\n"}],"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1667409780,"creation_date":1666289780,"question_id":74144542,"body_markdown":"I have this quite complex class structure:\r\n```java\r\npublic interface SubComponent&lt;T&gt; {...}\r\n\r\npublic interface Component&lt;T, C extends SubComponent&lt;T&gt;&gt; {...}\r\n\r\npublic class Control&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {...}\r\n```\r\n\r\nThen I have two classes that will hold the current state of the Control and of each Component, like this:\r\n```java\r\npublic class ControlState&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {\r\n    // The state keeps a reference to the Control,\r\n    // and a map that holds all the states for each component\r\n    private final Control&lt;T, I&gt; control;\r\n    private final Map&lt;Integer, ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; components = new TreeMap&lt;&gt;();\r\n\r\n    // Has a method to add new components\r\n    public void addComponent(int index) {\r\n        // Here I have error on the control parameter\r\n        ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt; state = new ComponentState&lt;&gt;(control, index);\r\n        ...\r\n    }\r\n}\r\n\r\npublic class ComponentState&lt;T, C extends SubComponent&lt;T&gt;&gt; {\r\n    // The component state also has a reference to the Control\r\n    // and the index to retrieve the Component from a List in the Control\r\n    private final Control&lt;T, ? extends Component&lt;T, C&gt;&gt; control;\r\n    private final int index;\r\n\r\n    public ComponentState(Control&lt;T, ? extends Component&lt;T, C&gt;&gt; control, int index) {\r\n        this.control = control;\r\n        this.index = index;\r\n    }\r\n}\r\n```\r\n\r\nIn the ```addComponent(int index)``` method the IDE says:  \r\nRequired type: ```Control&lt;T, ? extends Component&lt;T, C&gt;&gt;```  \r\nProvided: ```Control&lt;T, I&gt;```  \r\nBut, since I is: ```I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;``` I don&#39;t understand where the issue is, types should be compatible, what am I doing wrong?","title":"Java Error: no instance(s) of type variable(s) C, T exist so that ? extends SubComponent&lt;T&gt; can be converted to C","body":"<p>I have this quite complex class structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface SubComponent&lt;T&gt; {...}\n\npublic interface Component&lt;T, C extends SubComponent&lt;T&gt;&gt; {...}\n\npublic class Control&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {...}\n</code></pre>\n<p>Then I have two classes that will hold the current state of the Control and of each Component, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ControlState&lt;T, I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; {\n    // The state keeps a reference to the Control,\n    // and a map that holds all the states for each component\n    private final Control&lt;T, I&gt; control;\n    private final Map&lt;Integer, ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt;&gt; components = new TreeMap&lt;&gt;();\n\n    // Has a method to add new components\n    public void addComponent(int index) {\n        // Here I have error on the control parameter\n        ComponentState&lt;T, ? extends SubComponent&lt;T&gt;&gt; state = new ComponentState&lt;&gt;(control, index);\n        ...\n    }\n}\n\npublic class ComponentState&lt;T, C extends SubComponent&lt;T&gt;&gt; {\n    // The component state also has a reference to the Control\n    // and the index to retrieve the Component from a List in the Control\n    private final Control&lt;T, ? extends Component&lt;T, C&gt;&gt; control;\n    private final int index;\n\n    public ComponentState(Control&lt;T, ? extends Component&lt;T, C&gt;&gt; control, int index) {\n        this.control = control;\n        this.index = index;\n    }\n}\n</code></pre>\n<p>In the <code>addComponent(int index)</code> method the IDE says:<br />\nRequired type: <code>Control&lt;T, ? extends Component&lt;T, C&gt;&gt;</code><br />\nProvided: <code>Control&lt;T, I&gt;</code><br />\nBut, since I is: <code>I extends Component&lt;T, ? extends SubComponent&lt;T&gt;&gt;</code> I don't understand where the issue is, types should be compatible, what am I doing wrong?</p>\n"},{"tags":["java","docker","tomcat","yaml"],"comments":[{"owner":{"account_id":456207,"reputation":557,"user_id":854874,"accept_rate":89,"display_name":"firefly2442"},"score":0,"creation_date":1667438638,"post_id":74293239,"comment_id":131169653,"body_markdown":"I&#39;ve used [bind mounts](https://docs.docker.com/storage/bind-mounts/) before in Docker to have one Docker container read and write to a directory on the local OS.  Another container can then have read-only permissions and another bind mount to read those files.  Thus the ability to &quot;share&quot; data between two containers.  Not sure if it&#39;s the ideal method but...","body":"I&#39;ve used <a href=\"https://docs.docker.com/storage/bind-mounts/\" rel=\"nofollow noreferrer\">bind mounts</a> before in Docker to have one Docker container read and write to a directory on the local OS.  Another container can then have read-only permissions and another bind mount to read those files.  Thus the ability to &quot;share&quot; data between two containers.  Not sure if it&#39;s the ideal method but..."},{"owner":{"account_id":8212893,"reputation":299,"user_id":6180321,"display_name":"Muamer Bektić"},"score":0,"creation_date":1667923833,"post_id":74293239,"comment_id":131281500,"body_markdown":"@firefly2442 I&#39;ve been playing with that, but It&#39;s not the most elegant solution, at least not the way I&#39;ve ended up doing it. I&#39;m really hoping to find an alternative, but we if not, this will not be pretty lol.","body":"@firefly2442 I&#39;ve been playing with that, but It&#39;s not the most elegant solution, at least not the way I&#39;ve ended up doing it. I&#39;m really hoping to find an alternative, but we if not, this will not be pretty lol."}],"owner":{"account_id":8212893,"reputation":299,"user_id":6180321,"display_name":"Muamer Bektić"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667409408,"creation_date":1667409408,"question_id":74293239,"body_markdown":"I am not a docker expert at all, but I am trying to solve a problem I have been dealing with for a long time. For the record,  I want to spin up a container using tomcat, and then add another image&#39;s contents into that container.\r\n\r\nWhen using \r\n\r\n    FROM tomcat:10.0-jdk8-openjdk-slim\r\n\r\nIt has become cumbersome to go back and build a new release image for every application every time there is a new vulnerability with tomcat. Having to manually go generate new releases, update all of the YMLs and pull them down on multiple systems and redeploy is a huge time sink.\r\n\r\nSo I tried doing it this way, where there are multiple services, and one depends on the other. This would allow me to just do an update when there is a new tomcat version, but not change the application running in that tomcat. However this doesn&#39;t seem to work the way I was hoping, or maybe I am not understanding something. \r\n\r\n    services:\r\n      soa:\r\n        image: repo/appname:X.X.X\r\n      tomcat:\r\n        image: tomcat:10.0-jdk8-openjdk-slim\r\n        depends_on:\r\n          - soa\r\n        ... rest of yml ...\r\n\r\nThe soa image is just an image that contains \r\n\r\n - some libraries to be put in /usr/local/tomcat/lib/\r\n - tomcat config files such as catalina.properties, context.xml, and server.xml to be put in /usr/local/tomcat/conf/\r\n - the application war file to be dropped in /usr/local/tomcat/webapps-javaee/\r\n - and an entrypoint.sh file\r\n\r\nI was hoping to find a way to basically just shove this into the tomcat base image, and proceed. \r\n\r\nIf you have any suggestions on how to go about this, or let me know if I am using the depends_on feature wrong. \r\n\r\nThanks!\r\n\r\nNote: I took a look at [Share Compose configurations between files and projects][1] but couldn&#39;t find quite what I was looking for\r\n\r\n\r\n  [1]: https://docs.docker.com/compose/extends/","title":"Add second Docker Image into Main image in YML","body":"<p>I am not a docker expert at all, but I am trying to solve a problem I have been dealing with for a long time. For the record,  I want to spin up a container using tomcat, and then add another image's contents into that container.</p>\n<p>When using</p>\n<pre><code>FROM tomcat:10.0-jdk8-openjdk-slim\n</code></pre>\n<p>It has become cumbersome to go back and build a new release image for every application every time there is a new vulnerability with tomcat. Having to manually go generate new releases, update all of the YMLs and pull them down on multiple systems and redeploy is a huge time sink.</p>\n<p>So I tried doing it this way, where there are multiple services, and one depends on the other. This would allow me to just do an update when there is a new tomcat version, but not change the application running in that tomcat. However this doesn't seem to work the way I was hoping, or maybe I am not understanding something.</p>\n<pre><code>services:\n  soa:\n    image: repo/appname:X.X.X\n  tomcat:\n    image: tomcat:10.0-jdk8-openjdk-slim\n    depends_on:\n      - soa\n    ... rest of yml ...\n</code></pre>\n<p>The soa image is just an image that contains</p>\n<ul>\n<li>some libraries to be put in /usr/local/tomcat/lib/</li>\n<li>tomcat config files such as catalina.properties, context.xml, and server.xml to be put in /usr/local/tomcat/conf/</li>\n<li>the application war file to be dropped in /usr/local/tomcat/webapps-javaee/</li>\n<li>and an entrypoint.sh file</li>\n</ul>\n<p>I was hoping to find a way to basically just shove this into the tomcat base image, and proceed.</p>\n<p>If you have any suggestions on how to go about this, or let me know if I am using the depends_on feature wrong.</p>\n<p>Thanks!</p>\n<p>Note: I took a look at <a href=\"https://docs.docker.com/compose/extends/\" rel=\"nofollow noreferrer\">Share Compose configurations between files and projects</a> but couldn't find quite what I was looking for</p>\n"},{"tags":["java","intellij-idea","google-kubernetes-engine","remote-debugging"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667338790,"post_id":74282053,"comment_id":131143396,"body_markdown":"What does &quot;breaks on step 1&quot; mean?","body":"What does &quot;breaks on step 1&quot; mean?"},{"owner":{"account_id":6321654,"reputation":63,"user_id":4909499,"display_name":"Fluffy Cow"},"score":0,"creation_date":1667339069,"post_id":74282053,"comment_id":131143461,"body_markdown":"@tgdavies the pod enters a crashLoopBackOff state","body":"@tgdavies the pod enters a crashLoopBackOff state"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667342395,"post_id":74282053,"comment_id":131144120,"body_markdown":"What do the container logs say?","body":"What do the container logs say?"},{"owner":{"account_id":6321654,"reputation":63,"user_id":4909499,"display_name":"Fluffy Cow"},"score":0,"creation_date":1667343083,"post_id":74282053,"comment_id":131144240,"body_markdown":"@tgdavies container logs have been added to the post","body":"@tgdavies container logs have been added to the post"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667347133,"post_id":74282053,"comment_id":131145060,"body_markdown":"You are using Java 9 or later? See https://stackoverflow.com/questions/50344957/java-jdb-error-transport-error-202-gethostbyname-unknown-host","body":"You are using Java 9 or later? See <a href=\"https://stackoverflow.com/questions/50344957/java-jdb-error-transport-error-202-gethostbyname-unknown-host\" title=\"java jdb error transport error 202 gethostbyname unknown host\">stackoverflow.com/questions/50344957/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6321654,"reputation":63,"user_id":4909499,"display_name":"Fluffy Cow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667409176,"creation_date":1667409176,"answer_id":74293195,"question_id":74282053,"body_markdown":"The solution was rather simple. ```-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8765```\r\n\r\nshould be changed to\r\n```-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:8765```","title":"Remote debugging a gke pod running a java app in IntelliJ","body":"<p>The solution was rather simple. <code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8765</code></p>\n<p>should be changed to\n<code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:8765</code></p>\n"}],"owner":{"account_id":6321654,"reputation":63,"user_id":4909499,"display_name":"Fluffy Cow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667409176,"creation_date":1667338521,"question_id":74282053,"body_markdown":"I know this question has been asked a lot, however none of the answers are resolving my issue(s).\r\n\r\nSteps I take:\r\n1. I add ```-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8765``` to the JAVA_TOOL_OPTIONS so it looks like this\r\n```\r\n- name: JAVA_TOOL_OPTIONS\r\n          value: -XX:+ExitOnOutOfMemoryError -Xms512m -Xmx1g -Xss256k -Dhttp.maxConnections=1000\r\n            -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8765 -Dlogging.config=classpath:logback-kube.xml\r\n```\r\n2. I run ```kubectl port-forward [pod name] 8765:8765```\r\n3. I make a debug configuration in IntelliJ that looks like the following screenshot\r\n[![debug configuration][1]][1]\r\n\r\n4. run the debug configuration I just made.\r\n\r\nThis breaks on step 1. By breaks I mean the pod enters the CrashLoopBackOff state.\r\n\r\nWhat am I missing? If I need to upload more info please let me know and I&#39;ll add it as soon as I can.\r\n\r\n  [1]: https://i.stack.imgur.com/TN34u.png\r\n\r\nContainer logs (retrieved using kubectl logs [pod name]):\r\nPicked up JAVA_TOOL_OPTIONS: -XX:+ExitOnOutOfMemoryError -Xms512m -Xmx1g -Xss256k -Dhttp.maxConnections=1000 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5010 -Dlogging.config=classpath:logback-kube.xml\r\nERROR: transport error 202: gethostbyname: unknown host\r\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]","title":"Remote debugging a gke pod running a java app in IntelliJ","body":"<p>I know this question has been asked a lot, however none of the answers are resolving my issue(s).</p>\n<p>Steps I take:</p>\n<ol>\n<li>I add <code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8765</code> to the JAVA_TOOL_OPTIONS so it looks like this</li>\n</ol>\n<pre><code>- name: JAVA_TOOL_OPTIONS\n          value: -XX:+ExitOnOutOfMemoryError -Xms512m -Xmx1g -Xss256k -Dhttp.maxConnections=1000\n            -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:8765 -Dlogging.config=classpath:logback-kube.xml\n</code></pre>\n<ol start=\"2\">\n<li><p>I run <code>kubectl port-forward [pod name] 8765:8765</code></p>\n</li>\n<li><p>I make a debug configuration in IntelliJ that looks like the following screenshot\n<a href=\"https://i.stack.imgur.com/TN34u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TN34u.png\" alt=\"debug configuration\" /></a></p>\n</li>\n<li><p>run the debug configuration I just made.</p>\n</li>\n</ol>\n<p>This breaks on step 1. By breaks I mean the pod enters the CrashLoopBackOff state.</p>\n<p>What am I missing? If I need to upload more info please let me know and I'll add it as soon as I can.</p>\n<p>Container logs (retrieved using kubectl logs [pod name]):\nPicked up JAVA_TOOL_OPTIONS: -XX:+ExitOnOutOfMemoryError -Xms512m -Xmx1g -Xss256k -Dhttp.maxConnections=1000 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5010 -Dlogging.config=classpath:logback-kube.xml\nERROR: transport error 202: gethostbyname: unknown host\nERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\nJDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [debugInit.c:750]</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":3,"creation_date":1667406657,"post_id":74292608,"comment_id":131161094,"body_markdown":"why are you using byte and not char and String ?","body":"why are you using byte and not char and String ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1667406980,"post_id":74292608,"comment_id":131161243,"body_markdown":"&quot;generate random 5 combinations&quot; ... &quot;I cannot use other techniques like random&quot;. Do you mean you need to implement your own random number generator? Right now there&#39;s nothing random in your code.","body":"&quot;generate random 5 combinations&quot; ... &quot;I cannot use other techniques like random&quot;. Do you mean you need to implement your own random number generator? Right now there&#39;s nothing random in your code."},{"owner":{"account_id":169767,"reputation":2742,"user_id":396033,"accept_rate":89,"display_name":"Kamil"},"score":2,"creation_date":1667407173,"post_id":74292608,"comment_id":131161347,"body_markdown":"Your for-loop does not generate any random value, just goes through 26 leters of latin alphabet and adds them to the `symbolRow` variable. The `mb` variable after the whole loop goes through all possible values contans the `z` letter and that&#39;s all you do in your code. There is no randomization, no getting upper case values and no concatenation. \nIt would be good if you will list all of the requirements (or restrictions) you have to apply to your code.","body":"Your for-loop does not generate any random value, just goes through 26 leters of latin alphabet and adds them to the <code>symbolRow</code> variable. The <code>mb</code> variable after the whole loop goes through all possible values contans the <code>z</code> letter and that&#39;s all you do in your code. There is no randomization, no getting upper case values and no concatenation.  It would be good if you will list all of the requirements (or restrictions) you have to apply to your code."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667413203,"post_id":74293174,"comment_id":131163575,"body_markdown":"That only need be `char char1 = (char) (&#39;A&#39; + rnd1);` The generation of `rnd2` can and should be exactly the same","body":"That only need be <code>char char1 = (char) (&#39;A&#39; + rnd1);</code> The generation of <code>rnd2</code> can and should be exactly the same"},{"owner":{"account_id":23658051,"reputation":3,"user_id":17686019,"display_name":"PilsetnieksLv"},"score":0,"creation_date":1667415913,"post_id":74293174,"comment_id":131164445,"body_markdown":"Thanks, but is there an option that will generate only 2 letter combinations? In your code sometimes it generates 1 letter combination and for some reason, it sometimes adds &quot;}, ~,{, |&quot; as letters. Any clue how to remove it?","body":"Thanks, but is there an option that will generate only 2 letter combinations? In your code sometimes it generates 1 letter combination and for some reason, it sometimes adds &quot;}, ~,{, |&quot; as letters. Any clue how to remove it?"}],"tags":[],"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667409079,"creation_date":1667409079,"answer_id":74293174,"question_id":74292608,"body_markdown":"you can use **Math.random()**\r\n\r\n    public static void genrateRandomNum(int count) {\r\n    \t\tfor (int i = 0; i &lt; count; i++) {\r\n    \t\t\tint rnd1 = (int) (Math.random() * 26);\r\n    \t\t\tint rnd2 = (int) (Math.random() * 52);\r\n    \r\n    \t\t\tchar char1 = (char) (&#39;A&#39; + rnd1 % 26);\r\n    \t\t\tchar char2 = (char) (&#39;a&#39; + rnd2);\r\n    \r\n    \t\t\tSystem.out.println(char1 + &quot;&quot; + char2);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tgenrateRandomNum(5);\r\n    \t}","title":"Java random letter generator","body":"<p>you can use <strong>Math.random()</strong></p>\n<pre><code>public static void genrateRandomNum(int count) {\n        for (int i = 0; i &lt; count; i++) {\n            int rnd1 = (int) (Math.random() * 26);\n            int rnd2 = (int) (Math.random() * 52);\n\n            char char1 = (char) ('A' + rnd1 % 26);\n            char char2 = (char) ('a' + rnd2);\n\n            System.out.println(char1 + &quot;&quot; + char2);\n        }\n    }\n\n    public static void main(String[] args) {\n        genrateRandomNum(5);\n    }\n</code></pre>\n"}],"owner":{"account_id":23658051,"reputation":3,"user_id":17686019,"display_name":"PilsetnieksLv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74293174,"answer_count":1,"score":-1,"last_activity_date":1667409079,"creation_date":1667406533,"question_id":74292608,"body_markdown":"I have a task to create a small program in Java that will generate random 5 combinations of small and capital Latin letters each time it runs. \r\nLike aA, Ac, Ml, Bc, Ii;  should be the result.\r\n\r\nAfter running to code every time, it generates only 1 small letter, &quot;z&quot;. \r\nI have written the code using the requirements and I cannot use other techniques like random. and other operators. Any clues on how to fix this?\r\n\r\n```\r\nimport java.lang.String.*;\r\n\r\nclass CopyOfP3_3_1 {\r\n    \r\n    public static void main(String args[]) {\r\n        char mb; mb = 0;\r\n        String symbolRow; symbolRow = &quot; &quot;;\r\n        byte msi = 0X60;\r\n        byte bs = 26;\r\n        System.out.println();\r\n        for (byte i = 1; i &lt;= bs; i++) {\r\n            msi = (byte)(msi + 1);\r\n            mb = (char)msi;\r\n            symbolRow = symbolRow + mb + &#39; &#39;;\r\n        }\r\n    \r\n        System.out.println(&quot;Latin alphabet letter: &quot;);\r\n        System.out.print(mb + &quot;\\n&quot;);\r\n    } \r\n}  \r\n```\r\n\r\nBest regards,\r\nSandis","title":"Java random letter generator","body":"<p>I have a task to create a small program in Java that will generate random 5 combinations of small and capital Latin letters each time it runs.\nLike aA, Ac, Ml, Bc, Ii;  should be the result.</p>\n<p>After running to code every time, it generates only 1 small letter, &quot;z&quot;.\nI have written the code using the requirements and I cannot use other techniques like random. and other operators. Any clues on how to fix this?</p>\n<pre><code>import java.lang.String.*;\n\nclass CopyOfP3_3_1 {\n    \n    public static void main(String args[]) {\n        char mb; mb = 0;\n        String symbolRow; symbolRow = &quot; &quot;;\n        byte msi = 0X60;\n        byte bs = 26;\n        System.out.println();\n        for (byte i = 1; i &lt;= bs; i++) {\n            msi = (byte)(msi + 1);\n            mb = (char)msi;\n            symbolRow = symbolRow + mb + ' ';\n        }\n    \n        System.out.println(&quot;Latin alphabet letter: &quot;);\n        System.out.print(mb + &quot;\\n&quot;);\n    } \n}  \n</code></pre>\n<p>Best regards,\nSandis</p>\n"},{"tags":["java","optimization","jit","jvm-hotspot"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666193885,"post_id":74121366,"comment_id":130879321,"body_markdown":"What are you trying to achieve by doing this?","body":"What are you trying to achieve by doing this?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1666194334,"post_id":74121366,"comment_id":130879493,"body_markdown":"What do you mean by optimization passes here? Do you want to print compilation levels (e.g. Tier 1-2-3-4) or are you interested in tracing particular compilation phases (e.g. loop optimizations)? Please give an example or clarify the original problem.","body":"What do you mean by optimization passes here? Do you want to print compilation levels (e.g. Tier 1-2-3-4) or are you interested in tracing particular compilation phases (e.g. loop optimizations)? Please give an example or clarify the original problem."},{"owner":{"account_id":22931464,"reputation":459,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1671532485,"post_id":74121366,"comment_id":132114599,"body_markdown":"There are a lot of flags for diagnosing the Hotspot C2 compiler which include [machine independent](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/opto/c2_globals.hpp) and [machine dependent](https://github.com/openjdk/jdk/blob/master/src/hotspot/cpu/x86/c2_globals_x86.hpp) ones.","body":"There are a lot of flags for diagnosing the Hotspot C2 compiler which include <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/opto/c2_globals.hpp\" rel=\"nofollow noreferrer\">machine independent</a> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/cpu/x86/c2_globals_x86.hpp\" rel=\"nofollow noreferrer\">machine dependent</a> ones."}],"answers":[{"tags":[],"owner":{"account_id":24429166,"reputation":15,"user_id":18354334,"display_name":"Rashmin Dave"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1666198712,"creation_date":1666198712,"answer_id":74129201,"question_id":74121366,"body_markdown":"@Qingwei Li I did not understand clearly what passses you talking about. But if you talking about GC options for JVM tuning and seeing. \r\nFor Azul ``` -Xloggc:gclogfile_%t_%p.log ``` help you look into option you using. You can use https://docs.azul.com/prime/diagnosing-java-performance-problems-with-gc-log-analyzer.html to analyze the log file option.\r\nOR you can use this ``` -Xlog:gc,safepoint:gc.log::filecount=0 ```\r\nif you want log in one file.\r\n\r\nIn Oracle JVM, ``` -Xlog:gc,safepoint:gc.log::filecount=0 ``` \r\n\r\nLet me know if I understood right. Hope this can help you.","title":"Java JIT compiler: is it possible to dump decision about what optimization to run on hotspot code","body":"<p>@Qingwei Li I did not understand clearly what passses you talking about. But if you talking about GC options for JVM tuning and seeing.\nFor Azul <code>-Xloggc:gclogfile_%t_%p.log</code> help you look into option you using. You can use <a href=\"https://docs.azul.com/prime/diagnosing-java-performance-problems-with-gc-log-analyzer.html\" rel=\"nofollow noreferrer\">https://docs.azul.com/prime/diagnosing-java-performance-problems-with-gc-log-analyzer.html</a> to analyze the log file option.\nOR you can use this <code>-Xlog:gc,safepoint:gc.log::filecount=0</code>\nif you want log in one file.</p>\n<p>In Oracle JVM, <code>-Xlog:gc,safepoint:gc.log::filecount=0</code></p>\n<p>Let me know if I understood right. Hope this can help you.</p>\n"}],"owner":{"account_id":18904968,"reputation":11,"user_id":13792279,"display_name":"Qingwei Li"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667409042,"creation_date":1666164275,"question_id":74121366,"body_markdown":"A green-hand in Java.\r\n\r\nI&#39;m using Azul System&#39;s Falcon JIT compiler. Is it possible to dump decision of choosing what optimization passes to run on the hotspot code?\r\n\r\nMoreover, in Oracle&#39;s JVM, is it possible to add option to `java` to show what optimizaiton passes are chosen to optimize the hotspot code?\r\n\r\nI&#39;m not familiar with java&#39;s toolchain and infrastructure literally.\r\n\r\nedit:\r\n\r\nHere optimization passes I mean are Transforming passes like function inlining, dead code elimination, constant propogation and some Analysis passes like callgraph analysis for interprocedure optimization and escape analysis for allocating objects in stack and eliminating synchronization operation.\r\n\r\nMy purpose is to learn some transformations Falcon compiler does in the LLVM IR. By using `java -XX:FalconIRDumpRoot=./falcon-ir/ -XX:FalconDumpIRToDiskOf=* myClassName`, Falcon compiler can dump `.ll` and `.opt.ll` if hotspots are observed. The former LLVM IR is not optimized while the latter IR is optimized using some intrinsics introduced by Azul&#39;s LLVM fork which is called &quot;Orca&quot; to replace the `init` call for object initilization. Since I can use `-debug-pass-manager`(for new pass manager) or `--debug-pass=Structure`(for legacy pass manager) in LLVM to print what optimization passes are used during the compilation, I wonder whether Falcon compiler or Azul JVM also provide such options to show what optimization Falcon decide to use for hotspot code.\r\n\r\n[the documentation of Falcon compiler](https://docs.azul.com/prime/Falcon-Compiler#performance-analysis) only provide some option to dump IR for **Azul Support** to assist in analyzing performance issues. It&#39;s a blackbox. And I have just find some **technique reports** for some passes, like [Escape Analysis](https://llvm.org/devmtg/2020-09/slides/Pilipenko-Falcon-EA-LLVM-Dev-Mtg.pdf) and [VM callbacks](https://www.jfokus.se/jfokus18/preso/Falcon--a-new-JIT-compiler-in-Zing-JVM.pdf) to acquire information from VM. Is there any other JIT compiler like Falcon whose backend is also based on LLVM and using GC to manage memory and most importantly able to print optimization decision when running? Language is not limited to Java. \r\n\r\nPrinting compilation levels and tracing particular compilation phases are both wanted, since I&#39;m now using Falcon as a blackbox.","title":"Java JIT compiler: is it possible to dump decision about what optimization to run on hotspot code","body":"<p>A green-hand in Java.</p>\n<p>I'm using Azul System's Falcon JIT compiler. Is it possible to dump decision of choosing what optimization passes to run on the hotspot code?</p>\n<p>Moreover, in Oracle's JVM, is it possible to add option to <code>java</code> to show what optimizaiton passes are chosen to optimize the hotspot code?</p>\n<p>I'm not familiar with java's toolchain and infrastructure literally.</p>\n<p>edit:</p>\n<p>Here optimization passes I mean are Transforming passes like function inlining, dead code elimination, constant propogation and some Analysis passes like callgraph analysis for interprocedure optimization and escape analysis for allocating objects in stack and eliminating synchronization operation.</p>\n<p>My purpose is to learn some transformations Falcon compiler does in the LLVM IR. By using <code>java -XX:FalconIRDumpRoot=./falcon-ir/ -XX:FalconDumpIRToDiskOf=* myClassName</code>, Falcon compiler can dump <code>.ll</code> and <code>.opt.ll</code> if hotspots are observed. The former LLVM IR is not optimized while the latter IR is optimized using some intrinsics introduced by Azul's LLVM fork which is called &quot;Orca&quot; to replace the <code>init</code> call for object initilization. Since I can use <code>-debug-pass-manager</code>(for new pass manager) or <code>--debug-pass=Structure</code>(for legacy pass manager) in LLVM to print what optimization passes are used during the compilation, I wonder whether Falcon compiler or Azul JVM also provide such options to show what optimization Falcon decide to use for hotspot code.</p>\n<p><a href=\"https://docs.azul.com/prime/Falcon-Compiler#performance-analysis\" rel=\"nofollow noreferrer\">the documentation of Falcon compiler</a> only provide some option to dump IR for <strong>Azul Support</strong> to assist in analyzing performance issues. It's a blackbox. And I have just find some <strong>technique reports</strong> for some passes, like <a href=\"https://llvm.org/devmtg/2020-09/slides/Pilipenko-Falcon-EA-LLVM-Dev-Mtg.pdf\" rel=\"nofollow noreferrer\">Escape Analysis</a> and <a href=\"https://www.jfokus.se/jfokus18/preso/Falcon--a-new-JIT-compiler-in-Zing-JVM.pdf\" rel=\"nofollow noreferrer\">VM callbacks</a> to acquire information from VM. Is there any other JIT compiler like Falcon whose backend is also based on LLVM and using GC to manage memory and most importantly able to print optimization decision when running? Language is not limited to Java.</p>\n<p>Printing compilation levels and tracing particular compilation phases are both wanted, since I'm now using Falcon as a blackbox.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667405714,"creation_date":1667403996,"answer_id":74291976,"question_id":74291562,"body_markdown":"&gt; However if I do not specify the JsonGetter annotation with isbn, i get an error that:\r\n\r\nYou&#39;ve mixed everything together, there&#39;s a lot of redundancy.\r\n\r\nFirst of all since you&#39;ve defined a creator by annotating the constructor with `@JsonCreator` Jackson would no longer be interested in setters (they are needed only a no-args constructor is used). Hence, you can get read of `@JsonSetter`.\r\n\r\nBecause you need to specify multiple aliases of `isbn` property, [`@JsonAlias`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html) is the right way to go. These names would be considered only during **deserialization** from JSON and would have no impact on serialization.\r\n\r\n```\r\n@JsonAlias({&quot;isbn&quot;, &quot;isbn-10&quot;})\r\n```\r\n\r\nAnd since you&#39;re happy with the field name `isbn` in your POJO, which Jackson would infer from the getter-name `getIsbn()`, using `@JsonGetter(&quot;isbn&quot;)` is redundant. It would be useful if you would need to change it, e.g. `@JsonGetter(&quot;ISBN&quot;)`*, or `@JsonGetter(&quot;isbn-10&quot;)` (method name `getIsbn-10()` would be illegal in Java).\r\n\r\n\r\nThat said, your class might look like this:\r\n\r\n    public class Book implements Comparable&lt;Book&gt; {\r\n        private String title;\r\n        private String author;\r\n\r\n        @JsonAlias({&quot;isbn&quot;, &quot;isbn-10&quot;})\r\n        private String isbn;\r\n        \r\n        @JsonCreator\r\n        public Book(@JsonProperty(&quot;title&quot;) String title,\r\n                    @JsonProperty(&quot;author&quot;) String author,\r\n                    @JsonProperty(&quot;isbn-10&quot;) String isbn) {\r\n            this.title = title;\r\n            this.author = author;\r\n            this.isbn = isbn;\r\n        }\r\n        \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n        \r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n        \r\n        public String getIsbn() {\r\n            return isbn;\r\n        }\r\n        \r\n        public int compareTo(Book book) {\r\n            return this.getTitle().compareTo(book.getTitle());\r\n        }\r\n    }","title":"Confused about how Jackson JSON property names gets Serialized","body":"<blockquote>\n<p>However if I do not specify the JsonGetter annotation with isbn, i get an error that:</p>\n</blockquote>\n<p>You've mixed everything together, there's a lot of redundancy.</p>\n<p>First of all since you've defined a creator by annotating the constructor with <code>@JsonCreator</code> Jackson would no longer be interested in setters (they are needed only a no-args constructor is used). Hence, you can get read of <code>@JsonSetter</code>.</p>\n<p>Because you need to specify multiple aliases of <code>isbn</code> property, <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html\" rel=\"nofollow noreferrer\"><code>@JsonAlias</code></a> is the right way to go. These names would be considered only during <strong>deserialization</strong> from JSON and would have no impact on serialization.</p>\n<pre><code>@JsonAlias({&quot;isbn&quot;, &quot;isbn-10&quot;})\n</code></pre>\n<p>And since you're happy with the field name <code>isbn</code> in your POJO, which Jackson would infer from the getter-name <code>getIsbn()</code>, using <code>@JsonGetter(&quot;isbn&quot;)</code> is redundant. It would be useful if you would need to change it, e.g. <code>@JsonGetter(&quot;ISBN&quot;)</code>*, or <code>@JsonGetter(&quot;isbn-10&quot;)</code> (method name <code>getIsbn-10()</code> would be illegal in Java).</p>\n<p>That said, your class might look like this:</p>\n<pre><code>public class Book implements Comparable&lt;Book&gt; {\n    private String title;\n    private String author;\n\n    @JsonAlias({&quot;isbn&quot;, &quot;isbn-10&quot;})\n    private String isbn;\n    \n    @JsonCreator\n    public Book(@JsonProperty(&quot;title&quot;) String title,\n                @JsonProperty(&quot;author&quot;) String author,\n                @JsonProperty(&quot;isbn-10&quot;) String isbn) {\n        this.title = title;\n        this.author = author;\n        this.isbn = isbn;\n    }\n    \n    public String getTitle() {\n        return title;\n    }\n    \n    public String getAuthor() {\n        return author;\n    }\n    \n    public String getIsbn() {\n        return isbn;\n    }\n    \n    public int compareTo(Book book) {\n        return this.getTitle().compareTo(book.getTitle());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74291976,"answer_count":1,"score":1,"last_activity_date":1667408627,"creation_date":1667402236,"question_id":74291562,"body_markdown":"I read about how Jackson assumes that Java Objects follow JavaBeans convention, and that JSON property names will be based on getter/setter methods (ie if theres a getName, it would look for a name property in JSON string, setName would write the name class field into a JSON string). Why does it not get decided by class variable name? \r\n\r\nI looked at the Baeldung tutorials and tried looking for documentation on why or how Jackson works, but none of them explains why. It only shows how to use the annotations or how to resolve specific cases where you might want to read List, HashMap, ignore fields etc.\r\n\r\nThe tutorial did explain how to make fields serializable/deserializable using getter and setter methods, but when working with Java objects that do not follow JavaBeans convention, how do I determine what gets written into the JSON string? I used the following annotations to read a .json file containing an array of books:\r\n\r\n     import com.fasterxml.jackson.annotation.JsonAlias;\r\n        import com.fasterxml.jackson.annotation.JsonCreator;\r\n        import com.fasterxml.jackson.annotation.JsonGetter;\r\n        import com.fasterxml.jackson.annotation.JsonProperty;\r\n        import com.fasterxml.jackson.annotation.JsonSetter;\r\n        \r\n        public class Book implements Comparable&lt;Book&gt;{\r\n        \tprivate String title;\r\n        \tprivate String author;\r\n        \t//match a field in json string to pojo when names dont match\r\n        \t@JsonSetter(&quot;isbn-10&quot;) \r\n        //\t@JsonProperty(&quot;isbn&quot;)\r\n        //\t@JsonAlias(&quot;isbn-10&quot;)\r\n        \tprivate String isbn;\r\n        \t\r\n        \t@JsonCreator\r\n        \tpublic Book(@JsonProperty(&quot;title&quot;) String title,@JsonProperty(&quot;author&quot;) \r\n        \t\t\t\t\t\t\tString author,@JsonProperty(&quot;isbn&quot;) String isbn) {\r\n        \t\tthis.title = title;\r\n        \t\tthis.author = author;\r\n        \t\tthis.isbn = isbn;\r\n        \t}\r\n        \r\n        \tpublic String getTitle() {\r\n        \t\treturn title;\r\n        \t}\r\n        \r\n        \tpublic String getAuthor() {\r\n        \t\treturn author;\r\n        \t}\r\n        \r\n        \t@JsonGetter(&quot;isbn&quot;)\r\n        \tpublic String getIsbn() {\r\n        \t\treturn isbn;\r\n        \t}\r\n        \t\r\n        \tpublic int compareTo(Book book) {\r\n        \t\treturn this.getTitle().compareTo(book.getTitle());\r\n        \t}\r\n        }\r\n\r\nsample json file contents:\r\n\r\n    [\r\n    {\r\n    \t\t&quot;title&quot;:&quot;Day Knight&quot;,\r\n    \t\t&quot;author&quot;:&quot;Pun R. Good&quot;,\r\n    \t\t&quot;isbn-10&quot;:&quot;830456394-2&quot;\r\n    \t}\r\n    ]\r\n\r\nHowever if I do not specify the JsonGetter annotation with isbn, i get an error that:\r\n&gt;java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name &#39;isbn&#39;): found multiple explicit names: [isbn-10, isbn], but also implicit accessor: [method com.fdmgroup.jacksonexercise.Book#getIsbn()][visible=true,ignore=false,explicitName=false]\r\n\r\nBut if I used the commented out `JsonAlias` and `JsonProperties` instead of getter and setter annotations, this issue does not happen at all. Why is it forcing me to specify the annotation of getter when the getter is a regular getter that follows convention and not a weird getter name like `getTheIsbn()`.\r\n\r\nWhy does it not read `isbn-10` into the class field `isbn` using the `JsonSetter`, and write out the property based on the variable name along with the value (using `JsonGetter` or `JsonProperties` if there is a need to further adjust the name)?","title":"Confused about how Jackson JSON property names gets Serialized","body":"<p>I read about how Jackson assumes that Java Objects follow JavaBeans convention, and that JSON property names will be based on getter/setter methods (ie if theres a getName, it would look for a name property in JSON string, setName would write the name class field into a JSON string). Why does it not get decided by class variable name?</p>\n<p>I looked at the Baeldung tutorials and tried looking for documentation on why or how Jackson works, but none of them explains why. It only shows how to use the annotations or how to resolve specific cases where you might want to read List, HashMap, ignore fields etc.</p>\n<p>The tutorial did explain how to make fields serializable/deserializable using getter and setter methods, but when working with Java objects that do not follow JavaBeans convention, how do I determine what gets written into the JSON string? I used the following annotations to read a .json file containing an array of books:</p>\n<pre><code> import com.fasterxml.jackson.annotation.JsonAlias;\n    import com.fasterxml.jackson.annotation.JsonCreator;\n    import com.fasterxml.jackson.annotation.JsonGetter;\n    import com.fasterxml.jackson.annotation.JsonProperty;\n    import com.fasterxml.jackson.annotation.JsonSetter;\n    \n    public class Book implements Comparable&lt;Book&gt;{\n        private String title;\n        private String author;\n        //match a field in json string to pojo when names dont match\n        @JsonSetter(&quot;isbn-10&quot;) \n    //  @JsonProperty(&quot;isbn&quot;)\n    //  @JsonAlias(&quot;isbn-10&quot;)\n        private String isbn;\n        \n        @JsonCreator\n        public Book(@JsonProperty(&quot;title&quot;) String title,@JsonProperty(&quot;author&quot;) \n                                String author,@JsonProperty(&quot;isbn&quot;) String isbn) {\n            this.title = title;\n            this.author = author;\n            this.isbn = isbn;\n        }\n    \n        public String getTitle() {\n            return title;\n        }\n    \n        public String getAuthor() {\n            return author;\n        }\n    \n        @JsonGetter(&quot;isbn&quot;)\n        public String getIsbn() {\n            return isbn;\n        }\n        \n        public int compareTo(Book book) {\n            return this.getTitle().compareTo(book.getTitle());\n        }\n    }\n</code></pre>\n<p>sample json file contents:</p>\n<pre><code>[\n{\n        &quot;title&quot;:&quot;Day Knight&quot;,\n        &quot;author&quot;:&quot;Pun R. Good&quot;,\n        &quot;isbn-10&quot;:&quot;830456394-2&quot;\n    }\n]\n</code></pre>\n<p>However if I do not specify the JsonGetter annotation with isbn, i get an error that:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name 'isbn'): found multiple explicit names: [isbn-10, isbn], but also implicit accessor: [method com.fdmgroup.jacksonexercise.Book#getIsbn()][visible=true,ignore=false,explicitName=false]</p>\n</blockquote>\n<p>But if I used the commented out <code>JsonAlias</code> and <code>JsonProperties</code> instead of getter and setter annotations, this issue does not happen at all. Why is it forcing me to specify the annotation of getter when the getter is a regular getter that follows convention and not a weird getter name like <code>getTheIsbn()</code>.</p>\n<p>Why does it not read <code>isbn-10</code> into the class field <code>isbn</code> using the <code>JsonSetter</code>, and write out the property based on the variable name along with the value (using <code>JsonGetter</code> or <code>JsonProperties</code> if there is a need to further adjust the name)?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","merge"],"comments":[{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1667407148,"post_id":74292636,"comment_id":131161329,"body_markdown":"I may not be correct here, however I believe those annotations are hibernate based, and while Spring may support them (as it does many hibernate annotations) it may not be working exactly as expected. Spring does however have its own implementation: https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#auditing. In short, try `@CreatedDate`, and `@LastModifiedDate`. Want to add, if you&#39;d like more control you can alternatively use `@PrePersist` and `@PreUpdate` as can be seen here https://www.baeldung.com/jpa-entity-lifecycle-events good luck!","body":"I may not be correct here, however I believe those annotations are hibernate based, and while Spring may support them (as it does many hibernate annotations) it may not be working exactly as expected. Spring does however have its own implementation: <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#auditing\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/data-jpa/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a>. In short, try <code>@CreatedDate</code>, and <code>@LastModifiedDate</code>. Want to add, if you&#39;d like more control you can alternatively use <code>@PrePersist</code> and <code>@PreUpdate</code> as can be seen here <a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">baeldung.com/jpa-entity-lifecycle-events</a> good luck!"},{"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"score":0,"creation_date":1667407406,"post_id":74292636,"comment_id":131161441,"body_markdown":"@TedEllis I tried your solution, but now, both &quot;create_date&quot; and &quot;last_updated_date&quot; are null :(","body":"@TedEllis I tried your solution, but now, both &quot;create_date&quot; and &quot;last_updated_date&quot; are null :("},{"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"score":0,"creation_date":1667407728,"post_id":74292636,"comment_id":131161575,"body_markdown":"private Timestamp createdDate; - use the java sql timestamp","body":"private Timestamp createdDate; - use the java sql timestamp"},{"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"score":0,"creation_date":1667407899,"post_id":74292636,"comment_id":131161636,"body_markdown":"@VasimHayat I tried your solution, &quot;create_date&quot; still null :(","body":"@VasimHayat I tried your solution, &quot;create_date&quot; still null :("},{"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"score":0,"creation_date":1667408013,"post_id":74292636,"comment_id":131161692,"body_markdown":"I think the reason is passing a new object to method merge(). But I&#39;m not sure...","body":"I think the reason is passing a new object to method merge(). But I&#39;m not sure..."}],"answers":[{"comments":[{"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"score":0,"creation_date":1667408473,"post_id":74292920,"comment_id":131161867,"body_markdown":"I can understand your solution with Spring Data JPA. But now, I &#39;m trying with Hibernate only.  em.merge is telling the entity manager that a field should be updated, not created new. So, create _date must have value and must not changed to null","body":"I can understand your solution with Spring Data JPA. But now, I &#39;m trying with Hibernate only.  em.merge is telling the entity manager that a field should be updated, not created new. So, create _date must have value and must not changed to null"},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1667408589,"post_id":74292920,"comment_id":131161903,"body_markdown":"Yes, so the original issue of the created timestamp not being set is because the entity is being merged, not persisted. Unless I am misunderstanding.\n\nThe first codeblock I have displayed should show a solution for hibernate only, where when the entity is created new the persist method is called and your annotation for creationtimestamp should complete.","body":"Yes, so the original issue of the created timestamp not being set is because the entity is being merged, not persisted. Unless I am misunderstanding.  The first codeblock I have displayed should show a solution for hibernate only, where when the entity is created new the persist method is called and your annotation for creationtimestamp should complete."},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1667408750,"post_id":74292920,"comment_id":131161966,"body_markdown":"Ah! I have to apologize I just noticed you are initially creating that data via sql insertion... and then the created timestamp is being stripped off after you try to merge... I am sorry I missed that! Hopefully someone with a bit more knowledge on direct hibernate can pop by, but I believe by creating a new course instead of selecting the course you want to update first, and then modifying the entity that is returned from your db, is the source of your problem. when you pass a new course into merge, the new course has a null createdtimestamp, and updated timestamp but updated is reset onmerge","body":"Ah! I have to apologize I just noticed you are initially creating that data via sql insertion... and then the created timestamp is being stripped off after you try to merge... I am sorry I missed that! Hopefully someone with a bit more knowledge on direct hibernate can pop by, but I believe by creating a new course instead of selecting the course you want to update first, and then modifying the entity that is returned from your db, is the source of your problem. when you pass a new course into merge, the new course has a null createdtimestamp, and updated timestamp but updated is reset onmerge"},{"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"score":1,"creation_date":1667409055,"post_id":74292920,"comment_id":131162093,"body_markdown":"Yes, so I shoud call find() method to get an object from database, then modify this object and call merge() to update to database?","body":"Yes, so I shoud call find() method to get an object from database, then modify this object and call merge() to update to database?"},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1667409707,"post_id":74292920,"comment_id":131162356,"body_markdown":"I believe that is the correct approach. There may be some tricks to only merge certain fields, or set a trigger in the db to not update the created date field if the incoming data is null, but this would not be a usual approach.","body":"I believe that is the correct approach. There may be some tricks to only merge certain fields, or set a trigger in the db to not update the created date field if the incoming data is null, but this would not be a usual approach."}],"tags":[],"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667408410,"creation_date":1667407942,"answer_id":74292920,"question_id":74292636,"body_markdown":"Your em.merge is telling the entity manager that a field should be updated, not created new. We can gain some insight into how your save method may look by looking at Spring Boots JPARepository.save implementation.\r\n\r\nSince you are using Spring Boot, you may also want to look at how their repositories work so you do not have to recreate the wheel so to speak. However, the below code on implementing a function to both create a new, and merge an entity should sufficiently solve your issue.\r\n\r\n    @Transactional\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n    \r\n        if (entityInformation.isNew(entity)) {\r\n            em.persist(entity);\r\n            return entity;\r\n        } else {\r\n            return em.merge(entity);\r\n        }\r\n    }\r\n\r\nFor further reading here is an article on Spring Boots JPARepository if you would like to migrate to it, the article is more in depth that just a JPARepository, but is good regardless.\r\n\r\nhttps://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\r\n\r\nTo migrate to JPARepository your code for the repository would look like\r\n\r\n    @Repository\r\n    public interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n    \r\n    }\r\n\r\nYou can then @Autowire CourseRepository in and call the built in .save method without writing any code.\r\n\r\nNote: the above relies on having a spring-data-jpa dependency, similar to the below for maven\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n","title":"Method merge() change &quot;createDate&quot; field in database to &quot;null&quot; in Hibernate + Spring boot project","body":"<p>Your em.merge is telling the entity manager that a field should be updated, not created new. We can gain some insight into how your save method may look by looking at Spring Boots JPARepository.save implementation.</p>\n<p>Since you are using Spring Boot, you may also want to look at how their repositories work so you do not have to recreate the wheel so to speak. However, the below code on implementing a function to both create a new, and merge an entity should sufficiently solve your issue.</p>\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n<p>For further reading here is an article on Spring Boots JPARepository if you would like to migrate to it, the article is more in depth that just a JPARepository, but is good regardless.</p>\n<p><a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa</a></p>\n<p>To migrate to JPARepository your code for the repository would look like</p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n\n}\n</code></pre>\n<p>You can then @Autowire CourseRepository in and call the built in .save method without writing any code.</p>\n<p>Note: the above relies on having a spring-data-jpa dependency, similar to the below for maven</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667408410,"creation_date":1667406689,"question_id":74292636,"body_markdown":"I have a SpringBoot + Hibernate web project.\r\n\r\nThis is my &quot;Course&quot; entity \r\n```\r\n@Entity\r\npublic class Course {\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t@UpdateTimestamp\r\n\tprivate LocalDateTime lastUpdatedDate;\r\n\t\r\n\t@CreationTimestamp\r\n\tprivate LocalDateTime createdDate;\r\n    ...\r\n}\r\n```\r\n\r\nThis is my &quot;CourseRepository&quot;\r\n```\r\n@Repository\r\n@Transactional\r\npublic class CourseRepository {\r\n\t\r\n\t@Autowired\r\n\tEntityManager em;\r\n\t\r\n\tpublic Course save(Course course) {\r\n\t\t\tem.merge(course);\r\n\t}\r\n\t...\t\r\n}\r\n```\r\nThis is my data.sql (insert data for database)\r\n```\r\ninsert into course(id, name, created_date, last_updated_date) values (10001, &#39;abc&#39;, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());\r\ninsert into course(id, name, created_date, last_updated_date) values (10002, &#39;abc&#39;, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());\r\ninsert into course(id, name, created_date, last_updated_date) values (10003, &#39;abc&#39;, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());\r\n```\r\nThis is my &quot;DemoApplication&quot;\r\n```\r\npublic class DemoApplication implements CommandLineRunner{\r\n\r\n\t@Autowired\r\n\tprivate CourseRepository repository;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\trepository.save(new Course(10002L, &quot;abcdefghfi&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nWhen I run the application and check in H2 database, this is table &quot;Course&quot; \r\n\r\n|ID   |CREATED_DATE  \t         |LAST_UPDATED_DATE  \t    |NAME                      |\r\n|-----|--------------------------|--------------------------|--------------------------| \r\n|10001|2022-11-02 23:13:51.926762|2022-11-02 23:13:51.926762|abc                       |\r\n|10002|null\t                     |2022-11-02 23:13:52.325534|abcdefghfi                |\r\n|10003|2022-11-02 23:13:51.930761|2022-11-02 23:13:51.930761|abc                       |\r\n\r\nI don&#39;t know why create date of course 10002 is null. Can anyone help me, please?\r\n\r\n#More info: When I change 10002L in DemoApplication to 1L(an Id not exist in database) an rerun. A new record was inserted in database with create_date not null","title":"Method merge() change &quot;createDate&quot; field in database to &quot;null&quot; in Hibernate + Spring boot project","body":"<p>I have a SpringBoot + Hibernate web project.</p>\n<p>This is my &quot;Course&quot; entity</p>\n<pre><code>@Entity\npublic class Course {\n    @Id\n    @GeneratedValue\n    private Long id;\n    \n    private String name;\n    \n    @UpdateTimestamp\n    private LocalDateTime lastUpdatedDate;\n    \n    @CreationTimestamp\n    private LocalDateTime createdDate;\n    ...\n}\n</code></pre>\n<p>This is my &quot;CourseRepository&quot;</p>\n<pre><code>@Repository\n@Transactional\npublic class CourseRepository {\n    \n    @Autowired\n    EntityManager em;\n    \n    public Course save(Course course) {\n            em.merge(course);\n    }\n    ... \n}\n</code></pre>\n<p>This is my data.sql (insert data for database)</p>\n<pre><code>insert into course(id, name, created_date, last_updated_date) values (10001, 'abc', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());\ninsert into course(id, name, created_date, last_updated_date) values (10002, 'abc', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());\ninsert into course(id, name, created_date, last_updated_date) values (10003, 'abc', CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP());\n</code></pre>\n<p>This is my &quot;DemoApplication&quot;</p>\n<pre><code>public class DemoApplication implements CommandLineRunner{\n\n    @Autowired\n    private CourseRepository repository;\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        repository.save(new Course(10002L, &quot;abcdefghfi&quot;));\n    }\n}\n</code></pre>\n<p>When I run the application and check in H2 database, this is table &quot;Course&quot;</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>CREATED_DATE</th>\n<th>LAST_UPDATED_DATE</th>\n<th>NAME</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>10001</td>\n<td>2022-11-02 23:13:51.926762</td>\n<td>2022-11-02 23:13:51.926762</td>\n<td>abc</td>\n</tr>\n<tr>\n<td>10002</td>\n<td>null</td>\n<td>2022-11-02 23:13:52.325534</td>\n<td>abcdefghfi</td>\n</tr>\n<tr>\n<td>10003</td>\n<td>2022-11-02 23:13:51.930761</td>\n<td>2022-11-02 23:13:51.930761</td>\n<td>abc</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I don't know why create date of course 10002 is null. Can anyone help me, please?</p>\n<p>#More info: When I change 10002L in DemoApplication to 1L(an Id not exist in database) an rerun. A new record was inserted in database with create_date not null</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1667406223,"post_id":74292474,"comment_id":131160919,"body_markdown":"Why do you want to filter a Map using a stream? How about collecting the stream into a set/list first?","body":"Why do you want to filter a Map using a stream? How about collecting the stream into a set/list first?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667406303,"post_id":74292474,"comment_id":131160952,"body_markdown":"You&#39;ll consume the second stream every time you call `#anyMatch` on the it. You very much likely want a `Set` for a quick/hashed `O(1)` `#contains` check, not a `Stream` that would require an `O(n)` traversal","body":"You&#39;ll consume the second stream every time you call <code>#anyMatch</code> on the it. You very much likely want a <code>Set</code> for a quick/hashed <code>O(1)</code> <code>#contains</code> check, not a <code>Stream</code> that would require an <code>O(n)</code> traversal"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1667406385,"post_id":74292474,"comment_id":131160990,"body_markdown":"Stream isn&#39;t the tool for the job in the filter, IMO. Use a `Set`. It contains the method... `contains`, which does by itself what you do in the lambda within the lambda in your `filter` operation.","body":"Stream isn&#39;t the tool for the job in the filter, IMO. Use a <code>Set</code>. It contains the method... <code>contains</code>, which does by itself what you do in the lambda within the lambda in your <code>filter</code> operation."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667406680,"post_id":74292474,"comment_id":131161108,"body_markdown":"If I understood the task correctly, then your solution is simply `return id.map(table::get);` in your `getDoublefromInt()`","body":"If I understood the task correctly, then your solution is simply <code>return id.map(table::get);</code> in your <code>getDoublefromInt()</code>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667406861,"creation_date":1667406861,"answer_id":74292671,"question_id":74292474,"body_markdown":"You can use a stream `Supplier`.\r\n\r\n**Demo**:\r\n\r\n    import java.util.Map;\r\n    import java.util.function.Supplier;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Map&lt;Integer, Double&gt; table = Map.of(\r\n            10, 8.0,\r\n            15, 10.0,\r\n            20, 28.0,\r\n            40, 40.0);\r\n    \r\n        Stream&lt;Double&gt; streamDbl = getDoublefromInt(table, () -&gt; Stream.of(20, 40));\r\n    \r\n        streamDbl.forEach(System.out::println);\r\n      }\r\n    \r\n      public static Stream&lt;Double&gt; getDoublefromInt(Map&lt;Integer, Double&gt; table, Supplier&lt;Stream&lt;Integer&gt;&gt; ids) {\r\n        return table.entrySet().stream()\r\n            .filter(map -&gt; ids.get().anyMatch(id -&gt; id.equals(map.getKey())))\r\n            .map(map -&gt; map.getValue());\r\n      }\r\n    }\r\n\r\n**Output**:\r\n\r\n    28.0\r\n    40.0","title":"Stream Filter from another Stream","body":"<p>You can use a stream <code>Supplier</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.Map;\nimport java.util.function.Supplier;\nimport java.util.stream.Stream;\n\npublic class Main {\n  public static void main(String[] args) {\n    Map&lt;Integer, Double&gt; table = Map.of(\n        10, 8.0,\n        15, 10.0,\n        20, 28.0,\n        40, 40.0);\n\n    Stream&lt;Double&gt; streamDbl = getDoublefromInt(table, () -&gt; Stream.of(20, 40));\n\n    streamDbl.forEach(System.out::println);\n  }\n\n  public static Stream&lt;Double&gt; getDoublefromInt(Map&lt;Integer, Double&gt; table, Supplier&lt;Stream&lt;Integer&gt;&gt; ids) {\n    return table.entrySet().stream()\n        .filter(map -&gt; ids.get().anyMatch(id -&gt; id.equals(map.getKey())))\n        .map(map -&gt; map.getValue());\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>28.0\n40.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667406874,"creation_date":1667406874,"answer_id":74292674,"question_id":74292474,"body_markdown":"Stream is a basically an iterator over the source of data, it&#39;s **not** a container of data (like Collections). Once it&#39;s consumed, it can&#39;t be used anymore. For that reason, you&#39;re getting an `IllegalStateException` by trying to fire the same stream multiple times.\r\n\r\nYou don&#39;t need Stream IPA for what you&#39;re trying to achieve, functionality offered by the Collections framework would be sufficient for that.\r\n\r\nAll the heavy lifting can be done using [`Collection.retainAll()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#retainAll(java.util.Collection)).\r\n\r\n    public static Stream&lt;Double&gt; getDoubleFromInt(Map&lt;Integer, Double&gt; table, Stream&lt;Integer&gt; id) {\r\n        \r\n        Set&lt;Integer&gt; idSet = id.collect(Collectors.toSet());\r\n        Map&lt;Integer, Double&gt; copy = new HashMap&lt;&gt;(table);\r\n        \r\n        copy.keySet().retainAll(idSet);\r\n        \r\n        return copy.values().stream();\r\n    }","title":"Stream Filter from another Stream","body":"<p>Stream is a basically an iterator over the source of data, it's <strong>not</strong> a container of data (like Collections). Once it's consumed, it can't be used anymore. For that reason, you're getting an <code>IllegalStateException</code> by trying to fire the same stream multiple times.</p>\n<p>You don't need Stream IPA for what you're trying to achieve, functionality offered by the Collections framework would be sufficient for that.</p>\n<p>All the heavy lifting can be done using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#retainAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collection.retainAll()</code></a>.</p>\n<pre><code>public static Stream&lt;Double&gt; getDoubleFromInt(Map&lt;Integer, Double&gt; table, Stream&lt;Integer&gt; id) {\n    \n    Set&lt;Integer&gt; idSet = id.collect(Collectors.toSet());\n    Map&lt;Integer, Double&gt; copy = new HashMap&lt;&gt;(table);\n    \n    copy.keySet().retainAll(idSet);\n    \n    return copy.values().stream();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667408091,"creation_date":1667407187,"answer_id":74292745,"question_id":74292474,"body_markdown":"**BE SIMPLE!!!**\r\n\r\nWhy do not you use incomming `Stream`?\r\n\r\n```java\r\npublic static Stream&lt;Double&gt; getDoubleFromInt(Map&lt;Integer, Double&gt; table,\r\n                                              Stream&lt;Integer&gt; id) {\r\n    return id.map(table::get)\r\n             .filter(Objects::nonNull);\r\n}\r\n```\r\n\r\nLooks like the result `Stream` will be the same.","title":"Stream Filter from another Stream","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<p>Why do not you use incomming <code>Stream</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stream&lt;Double&gt; getDoubleFromInt(Map&lt;Integer, Double&gt; table,\n                                              Stream&lt;Integer&gt; id) {\n    return id.map(table::get)\n             .filter(Objects::nonNull);\n}\n</code></pre>\n<p>Looks like the result <code>Stream</code> will be the same.</p>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667407289,"creation_date":1667407289,"answer_id":74292779,"question_id":74292474,"body_markdown":"I don&#39;t fully understand what it means to filter the map? If you want to get stream of values from the map that corresponds to the keys that are specified in the other stream, then the solution is simple:\r\n```\r\npublic class Main {\r\n    static Map&lt;Integer, Double&gt; table = Map.of(10, 8.0,\r\n            15, 10.0,\r\n            20, 28.0,\r\n            40, 40.0);\r\n\r\n    public static Stream&lt;Double&gt; getDoubleFromInt(Map&lt;Integer, Double&gt; table, Stream&lt;Integer&gt; id) {\r\n        return id.map(table::get);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        getDoubleFromInt(table, Stream.of(20, 40))\r\n                .forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nprints\r\n```\r\n28.0\r\n40.0\r\n```\r\nPerhaps you need to decide what to do if there is no value for the some keys, in this case there will be Null in the stream. Or you may filter out this Null values.","title":"Stream Filter from another Stream","body":"<p>I don't fully understand what it means to filter the map? If you want to get stream of values from the map that corresponds to the keys that are specified in the other stream, then the solution is simple:</p>\n<pre><code>public class Main {\n    static Map&lt;Integer, Double&gt; table = Map.of(10, 8.0,\n            15, 10.0,\n            20, 28.0,\n            40, 40.0);\n\n    public static Stream&lt;Double&gt; getDoubleFromInt(Map&lt;Integer, Double&gt; table, Stream&lt;Integer&gt; id) {\n        return id.map(table::get);\n    }\n\n    public static void main(String[] args) {\n        getDoubleFromInt(table, Stream.of(20, 40))\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>28.0\n40.0\n</code></pre>\n<p>Perhaps you need to decide what to do if there is no value for the some keys, in this case there will be Null in the stream. Or you may filter out this Null values.</p>\n"}],"owner":{"account_id":12662726,"reputation":379,"user_id":9203056,"display_name":"zzdhxu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1667408091,"creation_date":1667405856,"question_id":74292474,"body_markdown":"I&#39;m attempting to filter a Map using a stream. The predicate/condition I&#39;m filtering by is another stream. I&#39;m currently encountering the issue of IllegalStateException, probably because I&#39;m accessing a stream which has already been accessed.\r\n\r\n    Map&lt;Integer, Double&gt; table = Map.of(10, 8.0,\r\n                                        15, 10.0,\r\n                                        20, 28.0,\r\n                                        40, 40.0);\r\n\r\n    Stream&lt;Double&gt; streamDbl = getDoublefromInt(table, Stream.of(20, 40));\r\n\r\nReferencing [this][1] website, I came up with something like the code segment below but it does not work.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-streams-find-list-items\r\n\r\n    public static Stream&lt;Double&gt; getDoublefromInt(Map&lt;Integer, Double&gt; table, Stream&lt;Integer&gt; id) {\r\n     return table.entrySet().stream\r\n            .filter(map -&gt; id.anyMatch(id -&gt; id.equals(map.getKey())))\r\n            .map(map -&gt; map.getValue());\r\n    }","title":"Stream Filter from another Stream","body":"<p>I'm attempting to filter a Map using a stream. The predicate/condition I'm filtering by is another stream. I'm currently encountering the issue of IllegalStateException, probably because I'm accessing a stream which has already been accessed.</p>\n<pre><code>Map&lt;Integer, Double&gt; table = Map.of(10, 8.0,\n                                    15, 10.0,\n                                    20, 28.0,\n                                    40, 40.0);\n\nStream&lt;Double&gt; streamDbl = getDoublefromInt(table, Stream.of(20, 40));\n</code></pre>\n<p>Referencing <a href=\"https://www.baeldung.com/java-streams-find-list-items\" rel=\"nofollow noreferrer\">this</a> website, I came up with something like the code segment below but it does not work.</p>\n<pre><code>public static Stream&lt;Double&gt; getDoublefromInt(Map&lt;Integer, Double&gt; table, Stream&lt;Integer&gt; id) {\n return table.entrySet().stream\n        .filter(map -&gt; id.anyMatch(id -&gt; id.equals(map.getKey())))\n        .map(map -&gt; map.getValue());\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667400985,"post_id":74291250,"comment_id":131158837,"body_markdown":"It sure looks like either `getBenefitsLimit` is returning null.","body":"It sure looks like either <code>getBenefitsLimit</code> is returning null."},{"owner":{"account_id":26348738,"reputation":13,"user_id":20006696,"display_name":"Dev"},"score":0,"creation_date":1667401124,"post_id":74291250,"comment_id":131158897,"body_markdown":"Yas but how can I check BigDecimal value ?","body":"Yas but how can I check BigDecimal value ?"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667407702,"creation_date":1667401604,"answer_id":74291424,"question_id":74291250,"body_markdown":"Right now the `nullsFirst` is applied to the `ProductBenefitResponse` objects, not the `BigDecimal` values.\r\n\r\nTry this:\r\n```\r\nComparator&lt;BigDecimal&gt; bigDecimalComparator = Comparator.nullsFirst(Comparator.naturalOrder());\r\nlist.sort(\r\n    Comparator\r\n        .comparing(ProductBenefitResponse::getDescription)\r\n        .thenComparing(ProductBenefitResponse::getBenefitLimit, bigDecimalComparator)\r\n);\r\n\r\n```\r\nBy specifying the null-safe comparator for the mapping, it applies to the result of the mapping.","title":"Null safe Comparator for BigDecimal","body":"<p>Right now the <code>nullsFirst</code> is applied to the <code>ProductBenefitResponse</code> objects, not the <code>BigDecimal</code> values.</p>\n<p>Try this:</p>\n<pre><code>Comparator&lt;BigDecimal&gt; bigDecimalComparator = Comparator.nullsFirst(Comparator.naturalOrder());\nlist.sort(\n    Comparator\n        .comparing(ProductBenefitResponse::getDescription)\n        .thenComparing(ProductBenefitResponse::getBenefitLimit, bigDecimalComparator)\n);\n\n</code></pre>\n<p>By specifying the null-safe comparator for the mapping, it applies to the result of the mapping.</p>\n"},{"tags":[],"owner":{"account_id":26348738,"reputation":13,"user_id":20006696,"display_name":"Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667402622,"creation_date":1667402603,"answer_id":74291637,"question_id":74291250,"body_markdown":"I Found Easy way to Do that Is this correct ?\r\nIt return the value I want anyway. \r\n\r\n\r\n    List&lt;ProductBenefitResponse&gt; list = new ArrayList&lt;&gt;\r\n    (benefitMap.values());list.sort(Comparator.comparing(ProductBenefitResponse::getDescription,Comparator.nullsLast(Comparator.naturalOrder()))\r\n                        .thenComparing(ProductBenefitResponse::getBenefitLimit,Comparator.nullsLast(Comparator.naturalOrder())));\r\n\r\n","title":"Null safe Comparator for BigDecimal","body":"<p>I Found Easy way to Do that Is this correct ?\nIt return the value I want anyway.</p>\n<pre><code>List&lt;ProductBenefitResponse&gt; list = new ArrayList&lt;&gt;\n(benefitMap.values());list.sort(Comparator.comparing(ProductBenefitResponse::getDescription,Comparator.nullsLast(Comparator.naturalOrder()))\n                    .thenComparing(ProductBenefitResponse::getBenefitLimit,Comparator.nullsLast(Comparator.naturalOrder())));\n</code></pre>\n"}],"owner":{"account_id":26348738,"reputation":13,"user_id":20006696,"display_name":"Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":74291424,"answer_count":2,"score":-3,"last_activity_date":1667407702,"creation_date":1667400872,"question_id":74291250,"body_markdown":"I want to have an null safe Comparator. But I tried many ways ii doesn&#39;t work.\r\n**getBenefitLimit **is an **BigDecimal **value there no comparing BigDecimal values in Comparator.\r\nIn that case how can figure this...\r\n\r\nMy code and error Using with out null (**Comparator.nullsFirst**)\r\n\r\n```\r\nList&lt;ProductBenefitResponse&gt; list = new ArrayList&lt;&gt;(benefitMap.values());\r\nlist.sort(Comparator.comparing(ProductBenefitResponse::getDescription).thenComparing(ProductBenefitResponse::getBenefitLimit));\r\n```\r\n\r\n\r\nError must be :-\r\n \r\n```\r\njava.lang.NullPointerException: null\r\n\tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\n\tat java.base/java.util.Comparator.lambda$thenComparing$36697e65$1(Comparator.java:217)\r\n\tat java.base/java.util.TimSort.binarySort(TimSort.java:296)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:239)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\r\n```\r\n\r\nMy code and error Using with null (**Comparator.nullsFirst**)\r\n\r\n\r\n```\r\nList&lt;ProductBenefitResponse&gt; list = new ArrayList&lt;&gt;(benefitMap.values());\r\nlist.sort(Comparator.nullsFirst(\r\n        Comparator.comparing(ProductBenefitResponse::getBenefitLimit)\r\n                .thenComparing(ProductBenefitResponse::getDescription)\r\n));\r\n```\r\n\r\nError must be :-\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat java.base/java.math.BigDecimal.compareTo(BigDecimal.java:3065)\r\n\tat java.base/java.math.BigDecimal.compareTo(BigDecimal.java:228)\r\n\tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\n\tat java.base/java.util.Comparator.lambda$thenComparing$36697e65$1(Comparator.java:216)\r\n\tat java.base/java.util.Comparators$NullComparator.compare(Comparators.java:83)\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:234)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1515)\r\n\tat java.base/java.util.ArrayList.sort(ArrayList.java:1750)\r\n\r\n```\r\n\r\nWhat is wrong in this code and please give me and answer...\r\n\r\n","title":"Null safe Comparator for BigDecimal","body":"<p>I want to have an null safe Comparator. But I tried many ways ii doesn't work.\n**getBenefitLimit **is an **BigDecimal **value there no comparing BigDecimal values in Comparator.\nIn that case how can figure this...</p>\n<p>My code and error Using with out null (<strong>Comparator.nullsFirst</strong>)</p>\n<pre><code>List&lt;ProductBenefitResponse&gt; list = new ArrayList&lt;&gt;(benefitMap.values());\nlist.sort(Comparator.comparing(ProductBenefitResponse::getDescription).thenComparing(ProductBenefitResponse::getBenefitLimit));\n</code></pre>\n<p>Error must be :-</p>\n<pre><code>java.lang.NullPointerException: null\n    at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\n    at java.base/java.util.Comparator.lambda$thenComparing$36697e65$1(Comparator.java:217)\n    at java.base/java.util.TimSort.binarySort(TimSort.java:296)\n    at java.base/java.util.TimSort.sort(TimSort.java:239)\n    at java.base/java.util.Arrays.sort(Arrays.java:1515)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1750)\n</code></pre>\n<p>My code and error Using with null (<strong>Comparator.nullsFirst</strong>)</p>\n<pre><code>List&lt;ProductBenefitResponse&gt; list = new ArrayList&lt;&gt;(benefitMap.values());\nlist.sort(Comparator.nullsFirst(\n        Comparator.comparing(ProductBenefitResponse::getBenefitLimit)\n                .thenComparing(ProductBenefitResponse::getDescription)\n));\n</code></pre>\n<p>Error must be :-</p>\n<pre><code>java.lang.NullPointerException: null\n    at java.base/java.math.BigDecimal.compareTo(BigDecimal.java:3065)\n    at java.base/java.math.BigDecimal.compareTo(BigDecimal.java:228)\n    at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\n    at java.base/java.util.Comparator.lambda$thenComparing$36697e65$1(Comparator.java:216)\n    at java.base/java.util.Comparators$NullComparator.compare(Comparators.java:83)\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n    at java.base/java.util.TimSort.sort(TimSort.java:234)\n    at java.base/java.util.Arrays.sort(Arrays.java:1515)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1750)\n\n</code></pre>\n<p>What is wrong in this code and please give me and answer...</p>\n"},{"tags":["java","audio","signal-processing","fft","cross-correlation"],"comments":[{"owner":{"account_id":92315,"reputation":209782,"user_id":253056,"accept_rate":88,"display_name":"Paul R"},"score":0,"creation_date":1667322552,"post_id":74279111,"comment_id":131138607,"body_markdown":"You need to zero pad the two inputs to size M+N-1 (where M and N are the lengths of the two inputs in samples). The resulting cross correlation vector will also be of size M+N-1.","body":"You need to zero pad the two inputs to size M+N-1 (where M and N are the lengths of the two inputs in samples). The resulting cross correlation vector will also be of size M+N-1."},{"owner":{"account_id":92315,"reputation":209782,"user_id":253056,"accept_rate":88,"display_name":"Paul R"},"score":0,"creation_date":1667322870,"post_id":74279111,"comment_id":131138724,"body_markdown":"If your FFT only works with power of 2 sizes then zero pad to at least M+N-1 and round up to next power of 2 if needed.","body":"If your FFT only works with power of 2 sizes then zero pad to at least M+N-1 and round up to next power of 2 if needed."},{"owner":{"account_id":18088285,"reputation":31,"user_id":13148631,"display_name":"Mislav Babic"},"score":0,"creation_date":1667408207,"post_id":74279111,"comment_id":131161767,"body_markdown":"I do not understand, can You please provide an example?","body":"I do not understand, can You please provide an example?"},{"owner":{"account_id":92315,"reputation":209782,"user_id":253056,"accept_rate":88,"display_name":"Paul R"},"score":0,"creation_date":1667463798,"post_id":74279111,"comment_id":131173834,"body_markdown":"Suppose you want to use the FFT method to cross correlate two vectors A = [ 1, 2, 3 ] (size M = 3) and B = [ 2, 3, 4, 5, 6 ] (size N = 5) then they need to be zero padded to size M+N-1 = 7, so A = [ 1, 2, 3, 0, 0, 0, 0  ] and B = [ 2, 3, 4, 5, 6, 0, 0 ].","body":"Suppose you want to use the FFT method to cross correlate two vectors A = [ 1, 2, 3 ] (size M = 3) and B = [ 2, 3, 4, 5, 6 ] (size N = 5) then they need to be zero padded to size M+N-1 = 7, so A = [ 1, 2, 3, 0, 0, 0, 0  ] and B = [ 2, 3, 4, 5, 6, 0, 0 ]."},{"owner":{"account_id":92315,"reputation":209782,"user_id":253056,"accept_rate":88,"display_name":"Paul R"},"score":0,"creation_date":1667463907,"post_id":74279111,"comment_id":131173884,"body_markdown":"And if your FTT library only works with sizes which are a power of 2 then you would need to pad them to the next power of 2, which would be 8 in the above example, so A = [ 1, 2, 3, 0, 0, 0, 0, 0 ] and B = [ 2, 3, 4, 5, 6, 0, 0, 0 ].","body":"And if your FTT library only works with sizes which are a power of 2 then you would need to pad them to the next power of 2, which would be 8 in the above example, so A = [ 1, 2, 3, 0, 0, 0, 0, 0 ] and B = [ 2, 3, 4, 5, 6, 0, 0, 0 ]."}],"owner":{"account_id":18088285,"reputation":31,"user_id":13148631,"display_name":"Mislav Babic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667407686,"creation_date":1667320943,"question_id":74279111,"body_markdown":"\r\nI need cross-correlation to compare two sound files(speech) and find similarities.\r\nWhat I have done so far is created a voice recorder that removes parts where I do not say anything, and also I have implemented fft, so I know the magnitude and the peak frequency.\r\nI managed to create my own Cross-Correlation matrix by using the formula(and the knowledge of using it from [this](https://www.youtube.com/watch?v=MQm6ZP1F6ms&amp;t=767s) youtube video. My implementation:\r\n`\r\n```\r\n\tprivate int intersection(File file1, File file2) {\r\n\t\tint intersections = 0;\r\n\t\ttry {\r\n\t\t\tComplex[] Sfft = getFFT(file1);\r\n\t\t\tComplex[] Tfft = getFFT(file2);\r\n\t\t\tfor (int i = 0; i &lt; Tfft.length; i++) {\r\n\t\t\t\tTfft[i] = Tfft[i].conjugate();\r\n\t\t\t}\r\n\t\t\tComplex[] correlation = new Complex[Sfft.length];\r\n\t\t\tfor (int i = 0; i &lt; correlation.length; i++) {\r\n\t\t\t\tcorrelation[i] = Sfft[i].times(Tfft[i]);\r\n\t\t\t}\r\n\t\t\tFFT.ifft(correlation);\r\n\t\t\tintersections = CrossCorrelation.argmax(correlation);\r\n\t\t\tSystem.out.println(correlation.length);\r\n\t\t} catch (UnsupportedAudioFileException | IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn intersections;\r\n\t}\r\n```\r\nI used fft from [here](https://introcs.cs.princeton.edu/java/97data/FFT.java.html)\r\nand the corresponding Complex class [Complex](https://introcs.cs.princeton.edu/java/97data/Complex.java.html)\t\r\nand My argmax method :\r\n\r\n```\r\n    public static int argmax(Complex[] a)\r\n        {\r\n            double y = Double.MIN_VALUE;\r\n            int idx = -1;\r\n\r\n            for(int x = 0; x &lt; a.length; x++)\r\n            {\r\n                if(a[x].abs() &gt; y)\r\n                {\r\n                    y = a[x].abs();\r\n                    idx = x;\r\n                }\r\n            }\r\n\r\n            return idx;\r\n        }\r\n```\r\n\r\nBut when I run My cross-correlation program, it is not even close to being true.\r\n","title":"How to do Cross-Correlation","body":"<p>I need cross-correlation to compare two sound files(speech) and find similarities.\nWhat I have done so far is created a voice recorder that removes parts where I do not say anything, and also I have implemented fft, so I know the magnitude and the peak frequency.\nI managed to create my own Cross-Correlation matrix by using the formula(and the knowledge of using it from <a href=\"https://www.youtube.com/watch?v=MQm6ZP1F6ms&amp;t=767s\" rel=\"nofollow noreferrer\">this</a> youtube video. My implementation:\n`</p>\n<pre><code>    private int intersection(File file1, File file2) {\n        int intersections = 0;\n        try {\n            Complex[] Sfft = getFFT(file1);\n            Complex[] Tfft = getFFT(file2);\n            for (int i = 0; i &lt; Tfft.length; i++) {\n                Tfft[i] = Tfft[i].conjugate();\n            }\n            Complex[] correlation = new Complex[Sfft.length];\n            for (int i = 0; i &lt; correlation.length; i++) {\n                correlation[i] = Sfft[i].times(Tfft[i]);\n            }\n            FFT.ifft(correlation);\n            intersections = CrossCorrelation.argmax(correlation);\n            System.out.println(correlation.length);\n        } catch (UnsupportedAudioFileException | IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return intersections;\n    }\n</code></pre>\n<p>I used fft from <a href=\"https://introcs.cs.princeton.edu/java/97data/FFT.java.html\" rel=\"nofollow noreferrer\">here</a>\nand the corresponding Complex class <a href=\"https://introcs.cs.princeton.edu/java/97data/Complex.java.html\" rel=\"nofollow noreferrer\">Complex</a><br />\nand My argmax method :</p>\n<pre><code>    public static int argmax(Complex[] a)\n        {\n            double y = Double.MIN_VALUE;\n            int idx = -1;\n\n            for(int x = 0; x &lt; a.length; x++)\n            {\n                if(a[x].abs() &gt; y)\n                {\n                    y = a[x].abs();\n                    idx = x;\n                }\n            }\n\n            return idx;\n        }\n</code></pre>\n<p>But when I run My cross-correlation program, it is not even close to being true.</p>\n"},{"tags":["java","arrays","import"],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667406902,"creation_date":1667406902,"answer_id":74292684,"question_id":74292560,"body_markdown":"After your `for` loop finds `max`, just sum all `Math.pow(arr[i],2)` where `arr[i] != max`\r\n    \r\n    double sum = 0;\r\n\r\n    for (int i = 0 ; i &lt; arr.length ; i++){\r\n\r\n        if (arr[i] != max){\r\n\r\n            sum += Math.pow(arr[i],2);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (sum == Math.pow(max, 2));\r\n\r\nThis solution assumes that all side lengths are &gt; 0\r\n\r\n","title":"In java how can I extract a number in the array and store it in a var and remove it from the original arr","body":"<p>After your <code>for</code> loop finds <code>max</code>, just sum all <code>Math.pow(arr[i],2)</code> where <code>arr[i] != max</code></p>\n<pre><code>double sum = 0;\n\nfor (int i = 0 ; i &lt; arr.length ; i++){\n\n    if (arr[i] != max){\n\n        sum += Math.pow(arr[i],2);\n\n    }\n\n}\n\nreturn (sum == Math.pow(max, 2));\n</code></pre>\n<p>This solution assumes that all side lengths are &gt; 0</p>\n"}],"owner":{"account_id":24663784,"reputation":1,"user_id":18559731,"display_name":"Anirudh S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667406902,"creation_date":1667406284,"question_id":74292560,"body_markdown":"I have a triangle class where I have to find out the if the triangle is a right angle or not so I have the sides in an array and made a for loop that gets the max val and I want to remove it from the array so that i can use the Pythagorean theorem to see if it is equal to max val pow 2  but I can&#39;t figure out how to remove the max val so i can find the other values and pow 2 and add them together.  \r\n\r\n```\r\npublic boolean checkIfRight(){\t\r\n\t\tboolean isRight = false;\r\n\t\tfinal double arr[] =  {getAC(), getAB(), getBC()};\r\n\t\tdouble max = arr[0];\r\n\t\tfor (int i = 1; i &lt; arr.length; i++) {\r\n\r\n      // compare all elements with max\r\n      // assign maximum value to max\r\n      max = Math.max(max, arr[i]);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t// System.out.println(max);\r\n\t\t// if (Math.pow(max,2)\r\n\t\tdouble index = 0;\r\n\t\tarr =  ArrayUtils.remove(arr, index);\r\n\t\treturn isRight ;\r\n\t\t}\r\n```\r\nI tried this but I can&#39;t use the ArrayUtils.remove because I can&#39;t figure out how to import apache commons on replit which my teacher is making me use","title":"In java how can I extract a number in the array and store it in a var and remove it from the original arr","body":"<p>I have a triangle class where I have to find out the if the triangle is a right angle or not so I have the sides in an array and made a for loop that gets the max val and I want to remove it from the array so that i can use the Pythagorean theorem to see if it is equal to max val pow 2  but I can't figure out how to remove the max val so i can find the other values and pow 2 and add them together.</p>\n<pre><code>public boolean checkIfRight(){  \n        boolean isRight = false;\n        final double arr[] =  {getAC(), getAB(), getBC()};\n        double max = arr[0];\n        for (int i = 1; i &lt; arr.length; i++) {\n\n      // compare all elements with max\n      // assign maximum value to max\n      max = Math.max(max, arr[i]);\n            \n            }\n        // System.out.println(max);\n        // if (Math.pow(max,2)\n        double index = 0;\n        arr =  ArrayUtils.remove(arr, index);\n        return isRight ;\n        }\n</code></pre>\n<p>I tried this but I can't use the ArrayUtils.remove because I can't figure out how to import apache commons on replit which my teacher is making me use</p>\n"},{"tags":["java","gradle","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":5072657,"reputation":3288,"user_id":4071001,"display_name":"lcnicolau"},"score":0,"creation_date":1599705204,"post_id":27274526,"comment_id":112858007,"body_markdown":"Does this answer your question? [Recompile with -Xlint in Android studio](https://stackoverflow.com/questions/47740812/recompile-with-xlint-in-android-studio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47740812/recompile-with-xlint-in-android-studio\">Recompile with -Xlint in Android studio</a>"}],"answers":[{"comments":[{"owner":{"account_id":2550045,"reputation":1067,"user_id":2214006,"accept_rate":75,"display_name":"Andrew"},"score":0,"creation_date":1422786335,"post_id":27274527,"comment_id":44880416,"body_markdown":"In which build.gradle file and in which section of that file?","body":"In which build.gradle file and in which section of that file?"},{"owner":{"account_id":962482,"reputation":3304,"user_id":986533,"accept_rate":93,"display_name":"Konrad Jamrozik"},"score":0,"creation_date":1422798694,"post_id":27274527,"comment_id":44883636,"body_markdown":"@Andrew threre are two gradle files: &quot;project-level&quot; and &quot;app-level&quot;. Only the &quot;app-level&quot; should apply `com.android.application` plugin, and that&#39;s the file I mean. You have to add it directly to the file, not into any section (the indentation depth of `preBuild {` is 0)","body":"@Andrew threre are two gradle files: &quot;project-level&quot; and &quot;app-level&quot;. Only the &quot;app-level&quot; should apply <code>com.android.application</code> plugin, and that&#39;s the file I mean. You have to add it directly to the file, not into any section (the indentation depth of <code>preBuild {</code> is 0)"},{"owner":{"account_id":2550045,"reputation":1067,"user_id":2214006,"accept_rate":75,"display_name":"Andrew"},"score":1,"creation_date":1422823432,"post_id":27274527,"comment_id":44891363,"body_markdown":"that doesn&#39;t seem to work.  the top of my modules build.gradle file looks like:\n\n    apply plugin: &#39;com.android.application&#39;&lt;br/&gt;\n\n    preBuild {\n        doFirst {\n            JavaCompile jc = android.applicationVariants.find { it.name == &#39;debug&#39; }.javaCompile\n            jc.options.compilerArgs = [&quot;-Xlint:deprecated&quot;]\n        }\n    }\n\n    android {\n\nAnd it dies with:\n\n    Execution failed for task &#39;:climbingguide:preBuild&#39;.\n    &gt; Cannot get property &#39;javaCompile&#39; on null object","body":"that doesn&#39;t seem to work.  the top of my modules build.gradle file looks like:      apply plugin: &#39;com.android.application&#39;&lt;br/&gt;      preBuild {         doFirst {             JavaCompile jc = android.applicationVariants.find { it.name == &#39;debug&#39; }.javaCompile             jc.options.compilerArgs = [&quot;-Xlint:deprecated&quot;]         }     }      android {  And it dies with:      Execution failed for task &#39;:climbingguide:preBuild&#39;.     &gt; Cannot get property &#39;javaCompile&#39; on null object"},{"owner":{"account_id":2550045,"reputation":1067,"user_id":2214006,"accept_rate":75,"display_name":"Andrew"},"score":0,"creation_date":1422823812,"post_id":27274527,"comment_id":44891496,"body_markdown":"Well, the &lt;br/&gt; isn&#39;t in the file, but StackExchange won&#39;t let me insert line breaks and now won&#39;t let me remove my attempt to put them in.","body":"Well, the &lt;br/&gt; isn&#39;t in the file, but StackExchange won&#39;t let me insert line breaks and now won&#39;t let me remove my attempt to put them in."},{"owner":{"account_id":962482,"reputation":3304,"user_id":986533,"accept_rate":93,"display_name":"Konrad Jamrozik"},"score":0,"creation_date":1422826907,"post_id":27274527,"comment_id":44892590,"body_markdown":"Hmm, I cannot replicate the failre. Does the project build with `assembleDebug` without the `preBuild` task? Have you tried printing out the names of existing `android.ApplicationVariants` ? Does it have one named `debug`? I have two: `debug` and `release`.","body":"Hmm, I cannot replicate the failre. Does the project build with <code>assembleDebug</code> without the <code>preBuild</code> task? Have you tried printing out the names of existing <code>android.ApplicationVariants</code> ? Does it have one named <code>debug</code>? I have two: <code>debug</code> and <code>release</code>."},{"owner":{"account_id":2550045,"reputation":1067,"user_id":2214006,"accept_rate":75,"display_name":"Andrew"},"score":1,"creation_date":1422843414,"post_id":27274527,"comment_id":44896259,"body_markdown":"Yes, I can assemble stuff fine but I have a few flavours so I&#39;m building assemble[Flavour]Debug rather than assembleDebug.  Will a little fiddling I&#39;ve come up with something that&#39;s working for me.  Rather than matching a specific Flavour, I&#39;m enabling the flag on all variants.  See my answer.\n\nNow just to figure out how to get it to ignore the deprecation where I&#39;ve         @SuppressWarnings(&quot;deprecation&quot;).","body":"Yes, I can assemble stuff fine but I have a few flavours so I&#39;m building assemble[Flavour]Debug rather than assembleDebug.  Will a little fiddling I&#39;ve come up with something that&#39;s working for me.  Rather than matching a specific Flavour, I&#39;m enabling the flag on all variants.  See my answer.  Now just to figure out how to get it to ignore the deprecation where I&#39;ve         @SuppressWarnings(&quot;deprecation&quot;)."}],"tags":[],"owner":{"account_id":962482,"reputation":3304,"user_id":986533,"accept_rate":93,"display_name":"Konrad Jamrozik"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1417617881,"creation_date":1417617881,"answer_id":27274527,"question_id":27274526,"body_markdown":"I found the following solution based on [Gradle Plugin User Guide on Manipulating Tasks](http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Manipulating-tasks) and [Gradle DSL doc about JavaCompile](http://www.gradle.org/docs/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html):\r\n\r\nAdd to `build.gradle`:\r\n\r\n    preBuild {\r\n        doFirst {\r\n            JavaCompile jc = android.applicationVariants.find { it.name == &#39;debug&#39; }.javaCompile\r\n            jc.options.compilerArgs = [&quot;-Xlint:unchecked&quot;]\r\n        }\r\n    }\r\n\r\nThe application variants are `null` during Gradle&#39;s configuration phase and the required `JavaCompile` task also doesn&#39;t exist, thus I do the modification in the execution phase instead.","title":"How to add java compiler options when compiling with Android Gradle Plugin?","body":"<p>I found the following solution based on <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Manipulating-tasks\" rel=\"noreferrer\">Gradle Plugin User Guide on Manipulating Tasks</a> and <a href=\"http://www.gradle.org/docs/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html\" rel=\"noreferrer\">Gradle DSL doc about JavaCompile</a>:</p>\n\n<p>Add to <code>build.gradle</code>:</p>\n\n<pre><code>preBuild {\n    doFirst {\n        JavaCompile jc = android.applicationVariants.find { it.name == 'debug' }.javaCompile\n        jc.options.compilerArgs = [\"-Xlint:unchecked\"]\n    }\n}\n</code></pre>\n\n<p>The application variants are <code>null</code> during Gradle's configuration phase and the required <code>JavaCompile</code> task also doesn't exist, thus I do the modification in the execution phase instead.</p>\n"},{"tags":[],"owner":{"account_id":2550045,"reputation":1067,"user_id":2214006,"accept_rate":75,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1465960634,"creation_date":1422843914,"answer_id":28270322,"question_id":27274526,"body_markdown":"I tried the solution posed by @Konrad Jamrozik but it didn&#39;t work with my project due to flavours in my project.\r\n\r\nGiven that we&#39;re just turning on additional warnings, not something that&#39;s significantly changing how the compiler operates, I don&#39;t see it being an issue that it will be added to both release and debug builds.  As such, this answer has a cleaner method that works with flavours: https://stackoverflow.com/questions/18689365/how-to-add-xlintunchecked-to-my-android-gradle-based-project\r\n\r\nIn my case, adding this to the build.gradle file of the affected module:\r\n\r\n    gradle.projectsEvaluated {\r\n       tasks.withType(JavaCompile) {\r\n            options.compilerArgs &lt;&lt; &quot;-Xlint:unchecked&quot; &lt;&lt; &quot;-Xlint:deprecation&quot;\r\n        }\r\n    }","title":"How to add java compiler options when compiling with Android Gradle Plugin?","body":"<p>I tried the solution posed by @Konrad Jamrozik but it didn't work with my project due to flavours in my project.</p>\n\n<p>Given that we're just turning on additional warnings, not something that's significantly changing how the compiler operates, I don't see it being an issue that it will be added to both release and debug builds.  As such, this answer has a cleaner method that works with flavours: <a href=\"https://stackoverflow.com/questions/18689365/how-to-add-xlintunchecked-to-my-android-gradle-based-project\">How to add -Xlint:unchecked to my Android Gradle based project?</a></p>\n\n<p>In my case, adding this to the build.gradle file of the affected module:</p>\n\n<pre><code>gradle.projectsEvaluated {\n   tasks.withType(JavaCompile) {\n        options.compilerArgs &lt;&lt; \"-Xlint:unchecked\" &lt;&lt; \"-Xlint:deprecation\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667406593,"creation_date":1547589117,"answer_id":54207395,"question_id":27274526,"body_markdown":"Add this to **build.gradle** file:\r\n\r\n    android { // &lt;---\r\n       tasks.withType(JavaCompile) {\r\n          configure(options) {\r\n             options.encoding = &#39;UTF-8&#39;\r\n             options.debug = true\r\n             options.failOnError = true\r\n             options.warnings = true\r\n             options.compilerArgs &lt;&lt; &#39;-Xlint:deprecation&#39; &lt;&lt; &#39;-Xlint:unchecked&#39;\r\n          }\r\n       }\r\n    }","title":"How to add java compiler options when compiling with Android Gradle Plugin?","body":"<p>Add this to <strong>build.gradle</strong> file:</p>\n<pre><code>android { // &lt;---\n   tasks.withType(JavaCompile) {\n      configure(options) {\n         options.encoding = 'UTF-8'\n         options.debug = true\n         options.failOnError = true\n         options.warnings = true\n         options.compilerArgs &lt;&lt; '-Xlint:deprecation' &lt;&lt; '-Xlint:unchecked'\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":962482,"reputation":3304,"user_id":986533,"accept_rate":93,"display_name":"Konrad Jamrozik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17296,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":27274527,"answer_count":3,"score":23,"last_activity_date":1667406593,"creation_date":1417617881,"question_id":27274526,"body_markdown":"I have a `build.gradle` file with `dependencies { classpath &#39;com.android.tools.build:gradle:0.13.3&#39;}` and `apply plugin: &#39;com.android.application&#39;`.\r\n\r\nWhen I do a debug build I get:\r\n\r\n    gradle clean assembleDebug\r\n\t:myapp:preBuild\r\n    (...)\r\n\t:myapp:compileDebugJava\r\n\tNote: C:\\path\\to\\MyClass.java uses unchecked or unsafe operations.\r\n\tNote: Recompile with -Xlint:unchecked for details.\r\n\r\n\t:myapp:preDexDebug\r\n    (...)\r\n\t:myapp:assembleDebug\r\n\r\n\tBUILD SUCCESSFUL\r\n\r\nHow can I add the `-Xlint:unchecked` to the underlying task? [Gradle Plugin User Guide on Java compilation options](http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Java-Compilation-options) is unhelpful. \r\n","title":"How to add java compiler options when compiling with Android Gradle Plugin?","body":"<p>I have a <code>build.gradle</code> file with <code>dependencies { classpath 'com.android.tools.build:gradle:0.13.3'}</code> and <code>apply plugin: 'com.android.application'</code>.</p>\n\n<p>When I do a debug build I get:</p>\n\n<pre><code>gradle clean assembleDebug\n:myapp:preBuild\n(...)\n:myapp:compileDebugJava\nNote: C:\\path\\to\\MyClass.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n:myapp:preDexDebug\n(...)\n:myapp:assembleDebug\n\nBUILD SUCCESSFUL\n</code></pre>\n\n<p>How can I add the <code>-Xlint:unchecked</code> to the underlying task? <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Java-Compilation-options\">Gradle Plugin User Guide on Java compilation options</a> is unhelpful. </p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1667440648,"post_id":74292594,"comment_id":131169944,"body_markdown":"If you want to invoke a Lambda function from Java, try using the AWS Java V2 software.amazon.awssdk.services.lambda.LambdaClient object. Ref here -- https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/lambda/LambdaClient.html","body":"If you want to invoke a Lambda function from Java, try using the AWS Java V2 software.amazon.awssdk.services.lambda.LambdaClient object. Ref here -- <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/lambda/LambdaClient.html\" rel=\"nofollow noreferrer\">sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/&hellip;</a>"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1667441067,"post_id":74292594,"comment_id":131169990,"body_markdown":"You code is using V1 version of the AWS SDK, V1 packages start with com.amazonaws.... V2 uses software.amazon...","body":"You code is using V1 version of the AWS SDK, V1 packages start with com.amazonaws.... V2 uses software.amazon..."}],"owner":{"account_id":155787,"reputation":577,"user_id":372668,"accept_rate":23,"display_name":"benino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667406474,"creation_date":1667406474,"question_id":74292594,"body_markdown":"I am trying to invoke an AWS Lambda function with a Function URL from within a Java application.  I&#39;ve been trying to sign my request using the java aws sdk with no success for longer than I&#39;d like to admit.  I have no idea what I&#39;m doing wrong.  I&#39;m using java aws sdk 2.18.7.  I have the access key and secret key of the user with access to execute the lambda function url.  \r\n\r\nHere is my code. It is crashing on the last line (150) &quot;Response&lt;Void&gt; awsResponse = reb.execute();&quot;\r\n\r\n\tRequest&lt;Void&gt; request = new DefaultRequest&lt;Void&gt;(&quot;lambda&quot;);\r\n\trequest.setHttpMethod(HttpMethodName.POST);\r\n\trequest.setEndpoint(URI.create(this.LAMBDA_URL));\r\n\trequest.setContent(new ByteArrayInputStream(postJsonString.getBytes(StandardCharsets.UTF_8)));\r\n\tMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\theaders.put(&quot;Content-Length&quot;, Integer.toString(postJsonString.length()));\r\n\trequest.setHeaders(headers);\r\n\t// Sign AWS Request\r\n\tAWS4Signer signer = new AWS4Signer();\r\n\tsigner.setRegionName(MY_REGION);\r\n\tsigner.setServiceName(request.getServiceName());\r\n\tBasicAWSCredentials awsCreds = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\r\n\tsigner.sign(request, awsCreds);\r\n\t// Execute and get response\r\n\tClientConfiguration config = new ClientConfiguration();\r\n\tAmazonHttpClient client = new AmazonHttpClient(config);\r\n\tRequestExecutionBuilder reb = client.requestExecutionBuilder();\r\n\treb = reb.request(request);\r\n\treb = reb.executionContext(new ExecutionContext());\r\n\tResponse&lt;Void&gt; awsResponse = reb.execute();\r\n\r\nHere is the output in the console:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1879)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1418)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1387)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:702)\r\n    \tat aws_auth_awssdk2_18_7.Main.aws_sdk_attemp(Main.java:150)\r\n    \tat aws_auth_awssdk2_18_7.Main.main(Main.java:67)\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NullPointerException when making signed request to AWS Lambda Function URL using AWS SDK","body":"<p>I am trying to invoke an AWS Lambda function with a Function URL from within a Java application.  I've been trying to sign my request using the java aws sdk with no success for longer than I'd like to admit.  I have no idea what I'm doing wrong.  I'm using java aws sdk 2.18.7.  I have the access key and secret key of the user with access to execute the lambda function url.</p>\n<p>Here is my code. It is crashing on the last line (150) &quot;Response awsResponse = reb.execute();&quot;</p>\n<pre><code>Request&lt;Void&gt; request = new DefaultRequest&lt;Void&gt;(&quot;lambda&quot;);\nrequest.setHttpMethod(HttpMethodName.POST);\nrequest.setEndpoint(URI.create(this.LAMBDA_URL));\nrequest.setContent(new ByteArrayInputStream(postJsonString.getBytes(StandardCharsets.UTF_8)));\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\nheaders.put(&quot;Content-Length&quot;, Integer.toString(postJsonString.length()));\nrequest.setHeaders(headers);\n// Sign AWS Request\nAWS4Signer signer = new AWS4Signer();\nsigner.setRegionName(MY_REGION);\nsigner.setServiceName(request.getServiceName());\nBasicAWSCredentials awsCreds = new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY);\nsigner.sign(request, awsCreds);\n// Execute and get response\nClientConfiguration config = new ClientConfiguration();\nAmazonHttpClient client = new AmazonHttpClient(config);\nRequestExecutionBuilder reb = client.requestExecutionBuilder();\nreb = reb.request(request);\nreb = reb.executionContext(new ExecutionContext());\nResponse&lt;Void&gt; awsResponse = reb.execute();\n</code></pre>\n<p>Here is the output in the console:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1879)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1418)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1387)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:702)\n    at aws_auth_awssdk2_18_7.Main.aws_sdk_attemp(Main.java:150)\n    at aws_auth_awssdk2_18_7.Main.main(Main.java:67)\n</code></pre>\n"},{"tags":["java","datetime","java-8","datetime-format","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1666892195,"post_id":74226040,"comment_id":131048316,"body_markdown":"Specify a `Locale`.","body":"Specify a <code>Locale</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666892199,"post_id":74226040,"comment_id":131048320,"body_markdown":"works fine for me - maybe the default `Locale`? (it probably does not *recognize* the weekday as &quot;Wed&quot;)","body":"works fine for me - maybe the default <code>Locale</code>? (it probably does not <i>recognize</i> the weekday as &quot;Wed&quot;)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1666924218,"post_id":74226040,"comment_id":131055179,"body_markdown":"Your string is in RFC 1123 format. Just set `DateTimeFormatter formatter = DateTimeFormatter.RFC_1123_DATE_TIME;` and parsing will succeed regardless of locale and Java version.","body":"Your string is in RFC 1123 format. Just set <code>DateTimeFormatter formatter = DateTimeFormatter.RFC_1123_DATE_TIME;</code> and parsing will succeed regardless of locale and Java version."}],"answers":[{"comments":[{"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"score":0,"creation_date":1666974671,"post_id":74226205,"comment_id":131068995,"body_markdown":"How does this code work fine without a Locale with JDK8?","body":"How does this code work fine without a Locale with JDK8?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1666976819,"post_id":74226205,"comment_id":131069697,"body_markdown":"@RaghuKNair There is always a `Locale`. If you do not specify a `Locale`, the JVM’s current default is applied implicitly. I suggest you always be explicit so the reader of your code knows your intentions.","body":"@RaghuKNair There is always a <code>Locale</code>. If you do not specify a <code>Locale</code>, the JVM’s current default is applied implicitly. I suggest you always be explicit so the reader of your code knows your intentions."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667406296,"creation_date":1666892497,"answer_id":74226205,"question_id":74226040,"body_markdown":"# tl;dr\r\n\r\n```java\r\nOffsetDateTime\r\n.parse( \r\n    &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot; , \r\n    DateTimeFormatter.RFC_1123_DATE_TIME \r\n)\r\n.toString()\r\n```\r\n\r\n&gt;2019-02-20T07:14:06+01:00\r\n\r\n# Details\r\n\r\nYour problem has nothing to do with Java 8 versus Java 17. \r\n\r\nTip: Before blaming software that is formally specified, is thoroughly tested by enormous test suites, and is used by millions of programmers daily, suspect your own code first.\r\n\r\n# `Locale`\r\n\r\nSpecify a [`Locale`][1]. The locale determines the human language and cultural norms used in translating month names, etc.\r\n\r\nIf you do not specify a Locale, the **JVM’s current default is applied implicitly**. I would bet that when you ran your app at different times or on different machines, the JVM’s current default `Locale` varied.\r\n\r\n```java\r\nLocale locale = Locale.US ;\r\nDateTimeFormatter formatter = \r\n    DateTimeFormatter\r\n    .ofPattern( &quot;EEE, d MMM yyyy HH:mm:ss Z&quot; )\r\n    .withLocale( locale );\r\n    \r\nString input = &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot; ;\r\nZonedDateTime zdt = ZonedDateTime.parse( input , formatter ) ;\r\nString output = zdt.toString() ;\r\nSystem.out.println( output );\r\n```\r\n\r\nSee this [code run at Ideone.com.][2]\r\n\r\n&gt;2019-02-20T07:14:06+01:00\r\n\r\n\r\n# RFC 1123\r\n\r\nAs [commented by Ole V.V.][3], your format happens to comply with the [legacy][4] standards [RFC 1123][5], [RFC 822][6], and [RFC 2822][7]. \r\n\r\nThe `DateTimeFormatter` class carries a pre-defined formatter object for that format. See the constant [`DateTimeFormatter.RFC_1123_DATE_TIME`][8]. \r\n\r\nThat pre-defined formatter already has the appropriate English-based locale required by the RFCs’ specifications. So **no need to specify a `Locale`** object here.\r\n\r\n```java\r\nString input = &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot; ;\r\nDateTimeFormatter f = DateTimeFormatter.RFC_1123_DATE_TIME ;\r\nOffsetDateTime odt = OffsetDateTime.parse( input , f ) ;\r\n```\r\n\r\nSee this [code run at Ideone.com][9].\r\n\r\n&gt;2019-02-20T07:14:06+01:00\r\n\r\n# ISO 8601\r\n\r\nModern protocols use [ISO 8601][10] rather than this outdated format. The *java.time* classes use ISO 8601 formats by default when parsing text or formatting a date-time instance.\r\n\r\n\r\nI suggest you educate the publisher of your data about the virtues in using only [ISO 8601][10] standard formats for communicating date-time values textually.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\r\n  [2]: https://ideone.com/mLMItg\r\n  [3]: https://stackoverflow.com/questions/74226040/datetimeformatter-fails-to-parse-a-date-in-jdk-17-where-as-passes-in-jdk8/74226205?noredirect=1#comment131055179_74226040\r\n  [4]: https://en.wikipedia.org/wiki/Legacy_system\r\n  [5]: https://datatracker.ietf.org/doc/html/rfc1123\r\n  [6]: https://datatracker.ietf.org/doc/rfc822/\r\n  [7]: https://datatracker.ietf.org/doc/rfc2822/\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\r\n  [9]: https://ideone.com/cDCuWr\r\n  [10]: https://en.wikipedia.org/wiki/ISO_8601","title":"DateTimeFormatter fails to parse a date in JDK 17 where as passes in JDK8","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime\n.parse( \n    &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot; , \n    DateTimeFormatter.RFC_1123_DATE_TIME \n)\n.toString()\n</code></pre>\n<blockquote>\n<p>2019-02-20T07:14:06+01:00</p>\n</blockquote>\n<h1>Details</h1>\n<p>Your problem has nothing to do with Java 8 versus Java 17.</p>\n<p>Tip: Before blaming software that is formally specified, is thoroughly tested by enormous test suites, and is used by millions of programmers daily, suspect your own code first.</p>\n<h1><code>Locale</code></h1>\n<p>Specify a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a>. The locale determines the human language and cultural norms used in translating month names, etc.</p>\n<p>If you do not specify a Locale, the <strong>JVM’s current default is applied implicitly</strong>. I would bet that when you ran your app at different times or on different machines, the JVM’s current default <code>Locale</code> varied.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.US ;\nDateTimeFormatter formatter = \n    DateTimeFormatter\n    .ofPattern( &quot;EEE, d MMM yyyy HH:mm:ss Z&quot; )\n    .withLocale( locale );\n    \nString input = &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot; ;\nZonedDateTime zdt = ZonedDateTime.parse( input , formatter ) ;\nString output = zdt.toString() ;\nSystem.out.println( output );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/mLMItg\" rel=\"nofollow noreferrer\">code run at Ideone.com.</a></p>\n<blockquote>\n<p>2019-02-20T07:14:06+01:00</p>\n</blockquote>\n<h1>RFC 1123</h1>\n<p>As <a href=\"https://stackoverflow.com/questions/74226040/datetimeformatter-fails-to-parse-a-date-in-jdk-17-where-as-passes-in-jdk8/74226205?noredirect=1#comment131055179_74226040\">commented by Ole V.V.</a>, your format happens to comply with the <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> standards <a href=\"https://datatracker.ietf.org/doc/html/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a>, <a href=\"https://datatracker.ietf.org/doc/rfc822/\" rel=\"nofollow noreferrer\">RFC 822</a>, and <a href=\"https://datatracker.ietf.org/doc/rfc2822/\" rel=\"nofollow noreferrer\">RFC 2822</a>.</p>\n<p>The <code>DateTimeFormatter</code> class carries a pre-defined formatter object for that format. See the constant <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.RFC_1123_DATE_TIME</code></a>.</p>\n<p>That pre-defined formatter already has the appropriate English-based locale required by the RFCs’ specifications. So <strong>no need to specify a <code>Locale</code></strong> object here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot; ;\nDateTimeFormatter f = DateTimeFormatter.RFC_1123_DATE_TIME ;\nOffsetDateTime odt = OffsetDateTime.parse( input , f ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/cDCuWr\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>2019-02-20T07:14:06+01:00</p>\n</blockquote>\n<h1>ISO 8601</h1>\n<p>Modern protocols use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> rather than this outdated format. The <em>java.time</em> classes use ISO 8601 formats by default when parsing text or formatting a date-time instance.</p>\n<p>I suggest you educate the publisher of your data about the virtues in using only <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats for communicating date-time values textually.</p>\n"}],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1666892526,"accepted_answer_id":74226205,"answer_count":1,"score":-4,"last_activity_date":1667406296,"creation_date":1666891678,"question_id":74226040,"body_markdown":"Here is the code snippet \r\n\r\n    String date = &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z&quot;);\r\n    System.out.println(ZonedDateTime.parse(date, formatter).toString());\r\n\r\nThis code works fine with JDK8 where as fails in JDK17 with the following exception \r\n\r\n    Text &#39;Wed, 20 Feb 2019 07:14:06 +0100&#39; could not be parsed at index 0\r\n    java.time.format.DateTimeParseException: Text &#39;Wed, 20 Feb 2019 07:14:06 +0100&#39; could not be parsed at index 0\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\r\n    \tat java.base/java.time.ZonedDateTime.parse(ZonedDateTime.java:600)","title":"DateTimeFormatter fails to parse a date in JDK 17 where as passes in JDK8","body":"<p>Here is the code snippet</p>\n<pre><code>String date = &quot;Wed, 20 Feb 2019 07:14:06 +0100&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z&quot;);\nSystem.out.println(ZonedDateTime.parse(date, formatter).toString());\n</code></pre>\n<p>This code works fine with JDK8 where as fails in JDK17 with the following exception</p>\n<pre><code>Text 'Wed, 20 Feb 2019 07:14:06 +0100' could not be parsed at index 0\njava.time.format.DateTimeParseException: Text 'Wed, 20 Feb 2019 07:14:06 +0100' could not be parsed at index 0\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\n    at java.base/java.time.ZonedDateTime.parse(ZonedDateTime.java:600)\n</code></pre>\n"},{"tags":["java","annotations","marker-interfaces"],"comments":[{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":6,"creation_date":1262531019,"post_id":1995198,"comment_id":1913178,"body_markdown":"http://en.wikipedia.org/wiki/Marker_interface_pattern","body":"<a href=\"http://en.wikipedia.org/wiki/Marker_interface_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Marker_interface_pattern</a>"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1262531292,"creation_date":1262530903,"answer_id":1995204,"question_id":1995198,"body_markdown":"It indicates that the class (and consequently all the fields which aren&#39;t transient) are candidates for serialisation. And if you&#39;re building a framework reliant on serialisation, you can of course write a method thus:\r\n\r\n    public void registerObject(Serializable obj);\r\n\r\nto limit the classes you&#39;re prepared to accept.\r\n\r\nBecause a serialized object needs to retain compatibility across systems, serialisation is an *explicit design decision* and hence requires the use of the marker interface, to identify such candidates. \r\n\r\nThere&#39;s also a security aspect. You don&#39;t want to make everything serialisable - otherwise you can accidentally expose (say) passwords or other sensitive data via serialisation.","title":"What is the use of marker interfaces in Java?","body":"<p>It indicates that the class (and consequently all the fields which aren't transient) are candidates for serialisation. And if you're building a framework reliant on serialisation, you can of course write a method thus:</p>\n\n<pre><code>public void registerObject(Serializable obj);\n</code></pre>\n\n<p>to limit the classes you're prepared to accept.</p>\n\n<p>Because a serialized object needs to retain compatibility across systems, serialisation is an <em>explicit design decision</em> and hence requires the use of the marker interface, to identify such candidates. </p>\n\n<p>There's also a security aspect. You don't want to make everything serialisable - otherwise you can accidentally expose (say) passwords or other sensitive data via serialisation.</p>\n"},{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1262531160,"post_id":1995205,"comment_id":1913184,"body_markdown":"Serializable, not ISerializable :)","body":"Serializable, not ISerializable :)"},{"owner":{"account_id":75307,"reputation":69281,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"score":1,"creation_date":1262531288,"post_id":1995205,"comment_id":1913191,"body_markdown":"yeah I messed it up, I&#39;m always prefixing my interface names with &quot;I&quot; :)","body":"yeah I messed it up, I&#39;m always prefixing my interface names with &quot;I&quot; :)"},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":3,"creation_date":1262539144,"post_id":1995205,"comment_id":1913649,"body_markdown":"@Gregory Heresy, this is Java! And even in the .NET world, this COM (bad) convention should be forgotten!","body":"@Gregory Heresy, this is Java! And even in the .NET world, this COM (bad) convention should be forgotten!"},{"owner":{"account_id":75307,"reputation":69281,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"score":0,"creation_date":1262539800,"post_id":1995205,"comment_id":1913692,"body_markdown":"it&#39;s just personal taste, and Eclipse is Java and uses the &quot;I&quot; prefix if I recall correctly","body":"it&#39;s just personal taste, and Eclipse is Java and uses the &quot;I&quot; prefix if I recall correctly"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1262543577,"post_id":1995205,"comment_id":1914023,"body_markdown":"Eclipse is NOT a good example of Java code.  It is probably one of the worst.","body":"Eclipse is NOT a good example of Java code.  It is probably one of the worst."},{"owner":{"account_id":75307,"reputation":69281,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"score":2,"creation_date":1262543975,"post_id":1995205,"comment_id":1914050,"body_markdown":"subjective and argumentative :p","body":"subjective and argumentative :p"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1262545783,"post_id":1995205,"comment_id":1914185,"body_markdown":"grep for instanceof in the eclipse code base :-P (also not subjective or argumentative - informed opinion based on almost 16 years of Java programming) :-P","body":"grep for instanceof in the eclipse code base :-P (also not subjective or argumentative - informed opinion based on almost 16 years of Java programming) :-P"}],"tags":[],"owner":{"account_id":75307,"reputation":69281,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"comment_count":7,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1262531898,"creation_date":1262530937,"answer_id":1995205,"question_id":1995198,"body_markdown":"Such marker interfaces are useful in the case other code takes decisions depending on whether an object implements some marker interface.\r\n\r\nIn the case of `Serializable`, reflection will be used to serialize the fields of the objects.\r\n\r\nNow annotations are preferred as they don&#39;t propagate to sub-classes.\r\n\r\nSee [Marker interface pattern][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Marker_interface_pattern","title":"What is the use of marker interfaces in Java?","body":"<p>Such marker interfaces are useful in the case other code takes decisions depending on whether an object implements some marker interface.</p>\n\n<p>In the case of <code>Serializable</code>, reflection will be used to serialize the fields of the objects.</p>\n\n<p>Now annotations are preferred as they don't propagate to sub-classes.</p>\n\n<p>See <a href=\"http://en.wikipedia.org/wiki/Marker_interface_pattern\" rel=\"nofollow noreferrer\">Marker interface pattern</a>.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1262532127,"creation_date":1262530937,"answer_id":1995206,"question_id":1995198,"body_markdown":"They are called _marker_ interfaces. And as the name implies, they _mark_ that some object is available for certain sort of operations.\r\n\r\n`Serializable` means that the object is eligible for java serialization, for example.\r\n\r\nIt has been discussed whether they shouldn&#39;t be replaced by annotations, since their functions are quite similar.","title":"What is the use of marker interfaces in Java?","body":"<p>They are called <em>marker</em> interfaces. And as the name implies, they <em>mark</em> that some object is available for certain sort of operations.</p>\n\n<p><code>Serializable</code> means that the object is eligible for java serialization, for example.</p>\n\n<p>It has been discussed whether they shouldn't be replaced by annotations, since their functions are quite similar.</p>\n"},{"comments":[{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":20,"creation_date":1262614802,"post_id":1995218,"comment_id":1918457,"body_markdown":"I really like annotations but in this case they have the drawback of being a bit more complicated to check for (compared to using instanceof). They are also not as well integrated in javadoc (where a quick way to see what implements &lt;marker interface&gt; or not is to just look it up and see the list of implementing classes). So I would say they still have a place, just not an equally important one.","body":"I really like annotations but in this case they have the drawback of being a bit more complicated to check for (compared to using instanceof). They are also not as well integrated in javadoc (where a quick way to see what implements &lt;marker interface&gt; or not is to just look it up and see the list of implementing classes). So I would say they still have a place, just not an equally important one."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":12,"creation_date":1331137621,"post_id":1995218,"comment_id":12185158,"body_markdown":"@Chris so are you right or is Josh Bloch right here? http://stackoverflow.com/a/5080547/632951","body":"@Chris so are you right or is Josh Bloch right here? <a href=\"http://stackoverflow.com/a/5080547/632951\">stackoverflow.com/a/5080547/632951</a>"},{"owner":{"account_id":74246,"reputation":13037,"user_id":213421,"accept_rate":100,"display_name":"Chris Pitman"},"score":1,"creation_date":1339709592,"post_id":1995218,"comment_id":14441524,"body_markdown":"@Pacerier I would argue that since marker interfaces define no behavior, they are essentially meaningless for type safety. Just because a class is marked serializable does not mean it can be correctly serialized, and missing the marker interface doesn&#39;t imply serialization would not work. It can just mean that the developer messed up marking it! If the interface actually had methods (and was no longer a marker), then it would enforce a behavior contract. It is also much more work to include additional metadata with a marker interface, while with annotations it is part of the point.","body":"@Pacerier I would argue that since marker interfaces define no behavior, they are essentially meaningless for type safety. Just because a class is marked serializable does not mean it can be correctly serialized, and missing the marker interface doesn&#39;t imply serialization would not work. It can just mean that the developer messed up marking it! If the interface actually had methods (and was no longer a marker), then it would enforce a behavior contract. It is also much more work to include additional metadata with a marker interface, while with annotations it is part of the point."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":9,"creation_date":1340818508,"post_id":1995218,"comment_id":14754665,"body_markdown":"Think of hibernate which has a method:   Session.get(Serializable id).  With a marker interface, you can specify that the identifier has to be Serializable.  If we were to use an annotation instead, you could no longer be able to get a compile time error if you did something like this:  session.get(new Object()).  Instead we&#39;d have to check for the annotation at runtime and issue an exception.","body":"Think of hibernate which has a method:   Session.get(Serializable id).  With a marker interface, you can specify that the identifier has to be Serializable.  If we were to use an annotation instead, you could no longer be able to get a compile time error if you did something like this:  session.get(new Object()).  Instead we&#39;d have to check for the annotation at runtime and issue an exception."},{"owner":{"account_id":74246,"reputation":13037,"user_id":213421,"accept_rate":100,"display_name":"Chris Pitman"},"score":1,"creation_date":1340855500,"post_id":1995218,"comment_id":14765083,"body_markdown":"@Matt Sure, I understand the use case. But unline a true interface, simply implementing Serializable doesn&#39;t actually enforce any compile time contract. For example, a type could have been serializable at one point, marked as such, and then modified to no longer be truly serializable without the interface being removed. &quot;Type Safety&quot; isn&#39;t buying much of anything in this case.","body":"@Matt Sure, I understand the use case. But unline a true interface, simply implementing Serializable doesn&#39;t actually enforce any compile time contract. For example, a type could have been serializable at one point, marked as such, and then modified to no longer be truly serializable without the interface being removed. &quot;Type Safety&quot; isn&#39;t buying much of anything in this case."},{"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"score":1,"creation_date":1386281376,"post_id":1995218,"comment_id":30484439,"body_markdown":"@ChrisPitman `You may hear it said that marker annotations (Item 35) make marker interfaces obsolete.` **This assertion is incorrect.** `Marker interfaces have two advantages over marker annotations. First and foremost, marker interfaces define a type that is implemented by instances of the marked class; marker annotations do not.` -Bloch Effective Java 2nd Edition","body":"@ChrisPitman <code>You may hear it said that marker annotations (Item 35) make marker interfaces obsolete.</code> <b>This assertion is incorrect.</b> <code>Marker interfaces have two advantages over marker annotations. First and foremost, marker interfaces define a type that is implemented by instances of the marked class; marker annotations do not.</code> -Bloch Effective Java 2nd Edition"},{"owner":{"account_id":74246,"reputation":13037,"user_id":213421,"accept_rate":100,"display_name":"Chris Pitman"},"score":0,"creation_date":1386283483,"post_id":1995218,"comment_id":30485417,"body_markdown":"@KevinMeredith If you look below you&#39;ll see that this exact same quote has already been posted. I am not unaware of Joshua Bloch&#39;s assertion. However, as I said above, an interface with no behavior (ie a marker interface) provides nearly no type safety. Saying that a type &quot;implements&quot; a marker interface is nearly an empty assertion. A type that implements `Serializable` can easily *not be serializable*, which goes against the entire point of an interface.","body":"@KevinMeredith If you look below you&#39;ll see that this exact same quote has already been posted. I am not unaware of Joshua Bloch&#39;s assertion. However, as I said above, an interface with no behavior (ie a marker interface) provides nearly no type safety. Saying that a type &quot;implements&quot; a marker interface is nearly an empty assertion. A type that implements <code>Serializable</code> can easily <i>not be serializable</i>, which goes against the entire point of an interface."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1399466080,"post_id":1995218,"comment_id":36071872,"body_markdown":"BTW Marker interfaces cannot be completely replaced by annotations as you can ensure an arguments has a marker interface, but not an annotation e.g. `writeObject(Serializable s)` This check for the marker interface cannot be replaced with an annotation.","body":"BTW Marker interfaces cannot be completely replaced by annotations as you can ensure an arguments has a marker interface, but not an annotation e.g. <code>writeObject(Serializable s)</code> This check for the marker interface cannot be replaced with an annotation."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":2,"creation_date":1410802046,"post_id":1995218,"comment_id":40452711,"body_markdown":"According to this logic (&quot;an interface with no behavior provides nearly no type safety&quot;), the `Set` interface shouldn&#39;t exist as well. It doesn&#39;t provide any additional methods over `Collection`, only specifies the contract.","body":"According to this logic (&quot;an interface with no behavior provides nearly no type safety&quot;), the <code>Set</code> interface shouldn&#39;t exist as well. It doesn&#39;t provide any additional methods over <code>Collection</code>, only specifies the contract."},{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1427699172,"post_id":1995218,"comment_id":46867757,"body_markdown":"if it&#39;s for metadata. why not  to use comment // over Marker interface or annotation? I&#39;ll simply put a comment on a top of class that class is Serialized or a method is overridden?","body":"if it&#39;s for metadata. why not  to use comment // over Marker interface or annotation? I&#39;ll simply put a comment on a top of class that class is Serialized or a method is overridden?"},{"owner":{"account_id":74246,"reputation":13037,"user_id":213421,"accept_rate":100,"display_name":"Chris Pitman"},"score":1,"creation_date":1427735979,"post_id":1995218,"comment_id":46889904,"body_markdown":"@govi Because the point is to have metadata that can be accessed at runtime by your application. You cannot get comments from a type via reflection, so they really are not relevant.","body":"@govi Because the point is to have metadata that can be accessed at runtime by your application. You cannot get comments from a type via reflection, so they really are not relevant."},{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1427777325,"post_id":1995218,"comment_id":46905422,"body_markdown":"so you mean metadata is for JVM , not for programmer .right?","body":"so you mean metadata is for JVM , not for programmer .right?"},{"owner":{"account_id":1035546,"reputation":5169,"user_id":1042926,"accept_rate":37,"display_name":"RATHI"},"score":0,"creation_date":1525815674,"post_id":1995218,"comment_id":87502927,"body_markdown":"It&#39;s very misleading. Just check Joshua answer below www.stackoverflow.com/a/5080547/632951","body":"It&#39;s very misleading. Just check Joshua answer below www.stackoverflow.com/a/5080547/632951"},{"owner":{"account_id":1583045,"reputation":173,"user_id":3154746,"accept_rate":20,"display_name":"MichaelCook"},"score":0,"creation_date":1636420733,"post_id":1995218,"comment_id":123547099,"body_markdown":"@Malcolm That statement does not assert that. If you have an implementation of the `Set` interface and you remove the public facing implementation of any member defined in the `Collection` interface and inherited by the `Set` interface, you will get a compile time warning because your implementation now no longer implements the `Set` interface.\n\nDo you have a guarantee that an implementation of the `Set` interface properly implements a set? No, but implementing an interface has no guarantee of correctness.","body":"@Malcolm That statement does not assert that. If you have an implementation of the <code>Set</code> interface and you remove the public facing implementation of any member defined in the <code>Collection</code> interface and inherited by the <code>Set</code> interface, you will get a compile time warning because your implementation now no longer implements the <code>Set</code> interface.  Do you have a guarantee that an implementation of the <code>Set</code> interface properly implements a set? No, but implementing an interface has no guarantee of correctness."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":0,"creation_date":1636447630,"post_id":1995218,"comment_id":123552757,"body_markdown":"@MichaelCook I don&#39;t really see your point. Are you saying that `Set` isn&#39;t the same as a marker interface or that it shouldn&#39;t exist indeed?","body":"@MichaelCook I don&#39;t really see your point. Are you saying that <code>Set</code> isn&#39;t the same as a marker interface or that it shouldn&#39;t exist indeed?"},{"owner":{"account_id":1583045,"reputation":173,"user_id":3154746,"accept_rate":20,"display_name":"MichaelCook"},"score":0,"creation_date":1636496198,"post_id":1995218,"comment_id":123572220,"body_markdown":"@Malcolm I suppose what I&#39;m getting at is that `Set` is not a marker interface, nor is it an empty interface. It defines behavior; however, it just so happens that all of the behavior that it defines is inherited from the `Collection` interface. If I say a class implements `Set` there are method I *need* to implement for that to be true. That is not the case with `Serializable`. I can take a class that is not serializable, say it implements the `Serializable` interface and there is nothing I need to implement to ensure that is true.","body":"@Malcolm I suppose what I&#39;m getting at is that <code>Set</code> is not a marker interface, nor is it an empty interface. It defines behavior; however, it just so happens that all of the behavior that it defines is inherited from the <code>Collection</code> interface. If I say a class implements <code>Set</code> there are method I <i>need</i> to implement for that to be true. That is not the case with <code>Serializable</code>. I can take a class that is not serializable, say it implements the <code>Serializable</code> interface and there is nothing I need to implement to ensure that is true."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":0,"creation_date":1636534960,"post_id":1995218,"comment_id":123580065,"body_markdown":"@MichaelCook The main principle is the same: a marker interface doesn&#39;t introduce any new methods over nothing just as `Set` doesn&#39;t over `Collection`. Instead both introduce a new type and specify a certain contract it is supposed to adhere. Just implementing methods defined in `Set` doesn&#39;t make it a `Set` yet even if it&#39;s a proper `Collection`. It just satisfies the compiler, but doesn&#39;t make it a correct program.","body":"@MichaelCook The main principle is the same: a marker interface doesn&#39;t introduce any new methods over nothing just as <code>Set</code> doesn&#39;t over <code>Collection</code>. Instead both introduce a new type and specify a certain contract it is supposed to adhere. Just implementing methods defined in <code>Set</code> doesn&#39;t make it a <code>Set</code> yet even if it&#39;s a proper <code>Collection</code>. It just satisfies the compiler, but doesn&#39;t make it a correct program."},{"owner":{"account_id":1583045,"reputation":173,"user_id":3154746,"accept_rate":20,"display_name":"MichaelCook"},"score":0,"creation_date":1636574736,"post_id":1995218,"comment_id":123596741,"body_markdown":"@Malcolm Correctness of implementation is a moot point. The java compiler, nor any compiler for that matter, can verify correctness of implementation. Interfaces enforce that behavior exists; however, it does not, and can&#39;t, enforce correctness. There&#39;s nothing on the `Collection` interface that forces me to implement the `Add` method such that it persists the given item in some data structure as you would expect an implementation of the `Collection` interface to do.","body":"@Malcolm Correctness of implementation is a moot point. The java compiler, nor any compiler for that matter, can verify correctness of implementation. Interfaces enforce that behavior exists; however, it does not, and can&#39;t, enforce correctness. There&#39;s nothing on the <code>Collection</code> interface that forces me to implement the <code>Add</code> method such that it persists the given item in some data structure as you would expect an implementation of the <code>Collection</code> interface to do."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":0,"creation_date":1636621407,"post_id":1995218,"comment_id":123607689,"body_markdown":"@MichaelCook Yes, exactly, the compiler doesn&#39;t verify the correctness of the program. So why does `Set` exist if it&#39;s the same as `Collection`? Why not just use `Collection`?","body":"@MichaelCook Yes, exactly, the compiler doesn&#39;t verify the correctness of the program. So why does <code>Set</code> exist if it&#39;s the same as <code>Collection</code>? Why not just use <code>Collection</code>?"}],"tags":[],"owner":{"account_id":74246,"reputation":13037,"user_id":213421,"accept_rate":100,"display_name":"Chris Pitman"},"comment_count":19,"down_vote_count":6,"up_vote_count":73,"is_accepted":true,"score":67,"last_activity_date":1389263373,"creation_date":1262531118,"answer_id":1995218,"question_id":1995198,"body_markdown":"In earlier versions of Java, [Marker Interfaces][1] were the only way to declare metadata about a class.  For example, the Serializable Marker Interface lets the author of a class say that their class will behave correctly when serialized and deserialized.\r\n\r\nIn modern Java, marker interfaces have no place.  They can be completely replaced by [Annotations][2], which allow for a very flexible metadata capability.  If you have information about a class, and that information never changes, then annotations are a very useful way to represent it.\r\n\r\n[1]: http://en.wikipedia.org/wiki/Marker_interface_pattern\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/guide/language/annotations.html","title":"What is the use of marker interfaces in Java?","body":"<p>In earlier versions of Java, <a href=\"http://en.wikipedia.org/wiki/Marker_interface_pattern\" rel=\"noreferrer\">Marker Interfaces</a> were the only way to declare metadata about a class.  For example, the Serializable Marker Interface lets the author of a class say that their class will behave correctly when serialized and deserialized.</p>\n\n<p>In modern Java, marker interfaces have no place.  They can be completely replaced by <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/annotations.html\" rel=\"noreferrer\">Annotations</a>, which allow for a very flexible metadata capability.  If you have information about a class, and that information never changes, then annotations are a very useful way to represent it.</p>\n"},{"tags":[],"owner":{"account_id":81712,"reputation":5648,"user_id":230267,"accept_rate":50,"display_name":"cyborg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1262531163,"creation_date":1262531163,"answer_id":1995220,"question_id":1995198,"body_markdown":"If you implement an interface then `instanceof` will be true. If you interface has nothing to implement then you can use this to mark a class with meta-data like annotations do for Java 1.5 and up without having to force the implementor to do anything special.","title":"What is the use of marker interfaces in Java?","body":"<p>If you implement an interface then <code>instanceof</code> will be true. If you interface has nothing to implement then you can use this to mark a class with meta-data like annotations do for Java 1.5 and up without having to force the implementor to do anything special.</p>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262531226,"creation_date":1262531226,"answer_id":1995221,"question_id":1995198,"body_markdown":"You are right in reasoning that an empty interface does not affect the &quot;standard&quot; execution of the program which is based on inspection/mutation of fields and dispatching of methods.\r\n\r\nHowever, marker interface are useful when used in conjunction with reflection: A library/method inspects (via reflection) an object and works differently if its class impplements the marker interface. As of Java5 there&#39;s very little need for marker interfaces - the same &quot;marking&quot; facility can be achieved via Java annotations - which (again) most of their effect will be achieved via reflection-based code.\r\n\r\n","title":"What is the use of marker interfaces in Java?","body":"<p>You are right in reasoning that an empty interface does not affect the \"standard\" execution of the program which is based on inspection/mutation of fields and dispatching of methods.</p>\n\n<p>However, marker interface are useful when used in conjunction with reflection: A library/method inspects (via reflection) an object and works differently if its class impplements the marker interface. As of Java5 there's very little need for marker interfaces - the same \"marking\" facility can be achieved via Java annotations - which (again) most of their effect will be achieved via reflection-based code.</p>\n"},{"comments":[{"owner":{"account_id":216162,"reputation":2783,"user_id":471227,"accept_rate":63,"display_name":"Tom B"},"score":1,"creation_date":1425218677,"post_id":5080547,"comment_id":45863371,"body_markdown":"The problem is, this often contradicts Item 19: Use interfaces only to define types. &quot;Serializable&quot; is not a type, it&#39;s a property/behaviour.","body":"The problem is, this often contradicts Item 19: Use interfaces only to define types. &quot;Serializable&quot; is not a type, it&#39;s a property/behaviour."},{"owner":{"account_id":227034,"reputation":2058,"user_id":488454,"accept_rate":60,"display_name":"Mirko Klemm"},"score":6,"creation_date":1431333747,"post_id":5080547,"comment_id":48432823,"body_markdown":"Actually, even &quot;Serializable&quot; can be seen as a type. Consider the following method signature:\npublic void serialize(Serializable objectToSerialize);\nIn this case, it is clear at compile time that only serializable objects can be passed to &quot;serialize&quot;, this isn&#39;t possible with annotations.","body":"Actually, even &quot;Serializable&quot; can be seen as a type. Consider the following method signature: public void serialize(Serializable objectToSerialize); In this case, it is clear at compile time that only serializable objects can be passed to &quot;serialize&quot;, this isn&#39;t possible with annotations."}],"tags":[],"owner":{"account_id":715091,"reputation":1101,"user_id":3618422,"display_name":"T C"},"comment_count":2,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1298390837,"creation_date":1298390431,"answer_id":5080547,"question_id":1995198,"body_markdown":"Joshua Bloch: Effective Java 2nd Edition, p 179\r\n\r\n&gt;**Item 37: Use marker interfaces to define types**\r\n&gt;\r\n&gt; ...\r\n&gt; You may hear it said that marker\r\n&gt; annotations (Item 35) make marker\r\n&gt; interfaces obsolete. This assertion is\r\n&gt; incorrect. Marker interfaces have two\r\n&gt; advantages over marker annotations.\r\n&gt; First and foremost, marker interfaces\r\n&gt; define a type that is implemented by\r\n&gt; instances of the marked class; marker\r\n&gt; annotations do not. The existence of\r\n&gt; this type allows you to catch errors\r\n&gt; at compile time that you couldn’t\r\n&gt; catch until runtime if you used a\r\n&gt; marker annotation....\r\n\r\nPersonally I think I&#39;ll bow to Joshua&#39;s superior knowledge on this subject.","title":"What is the use of marker interfaces in Java?","body":"<p>Joshua Bloch: Effective Java 2nd Edition, p 179</p>\n\n<blockquote>\n  <p><strong>Item 37: Use marker interfaces to define types</strong></p>\n  \n  <p>...\n  You may hear it said that marker\n  annotations (Item 35) make marker\n  interfaces obsolete. This assertion is\n  incorrect. Marker interfaces have two\n  advantages over marker annotations.\n  First and foremost, marker interfaces\n  define a type that is implemented by\n  instances of the marked class; marker\n  annotations do not. The existence of\n  this type allows you to catch errors\n  at compile time that you couldn’t\n  catch until runtime if you used a\n  marker annotation....</p>\n</blockquote>\n\n<p>Personally I think I'll bow to Joshua's superior knowledge on this subject.</p>\n"},{"comments":[{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":2,"creation_date":1421483714,"post_id":11230308,"comment_id":44385071,"body_markdown":"This is plain wrong. The Java compiler or JVM does nothing special for Serializable and other marker interfaces, but the java library classes consuming it need to recognize Serializable objects and they may consider it and process such objects differently, but not the compiler or JVM. This is a common misconception about the Marker interfaces.","body":"This is plain wrong. The Java compiler or JVM does nothing special for Serializable and other marker interfaces, but the java library classes consuming it need to recognize Serializable objects and they may consider it and process such objects differently, but not the compiler or JVM. This is a common misconception about the Marker interfaces."}],"tags":[],"owner":{"account_id":1313662,"reputation":1419,"user_id":1261101,"accept_rate":69,"display_name":"Chanikag"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1340812382,"creation_date":1340812382,"answer_id":11230308,"question_id":1995198,"body_markdown":"The main purpose is to tell the compiler that treat differently for the object of the class which implemented marker interface.","title":"What is the use of marker interfaces in Java?","body":"<p>The main purpose is to tell the compiler that treat differently for the object of the class which implemented marker interface.</p>\n"},{"comments":[{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":2,"creation_date":1421482132,"post_id":22203532,"comment_id":44384778,"body_markdown":"This is plain wrong. The Java compiler or JVM does nothing special for Serializable and other marker interfaces, but the java library classes consuming it need to recognize Serializable objects and they may consider it and process such objects differently, but not the compiler or JVM. This is a common misconception about the Marker interfaces.","body":"This is plain wrong. The Java compiler or JVM does nothing special for Serializable and other marker interfaces, but the java library classes consuming it need to recognize Serializable objects and they may consider it and process such objects differently, but not the compiler or JVM. This is a common misconception about the Marker interfaces."}],"tags":[],"owner":{"account_id":3995960,"reputation":1,"user_id":3293519,"display_name":"user3293519"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1394037032,"creation_date":1394037032,"answer_id":22203532,"question_id":1995198,"body_markdown":"Looking carefully on marker interface in Java e.g. Serializable, Clonnable and Remote it looks they are used to indicate something to compiler or JVM. So if JVM sees a Class is Serializable it done some special operation on it, similar way if JVM sees one Class is implement Clonnable it performs some operation to support cloning. Same is true for RMI and Remote interface. So in short Marker interface indicate, signal or a command to Compiler or JVM.\r\n\r\nRead more: http://javarevisited.blogspot.com/2012/01/what-is-marker-interfaces-in-java-and.html#ixzz2v6fIh1rw","title":"What is the use of marker interfaces in Java?","body":"<p>Looking carefully on marker interface in Java e.g. Serializable, Clonnable and Remote it looks they are used to indicate something to compiler or JVM. So if JVM sees a Class is Serializable it done some special operation on it, similar way if JVM sees one Class is implement Clonnable it performs some operation to support cloning. Same is true for RMI and Remote interface. So in short Marker interface indicate, signal or a command to Compiler or JVM.</p>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2012/01/what-is-marker-interfaces-in-java-and.html#ixzz2v6fIh1rw\" rel=\"nofollow\">http://javarevisited.blogspot.com/2012/01/what-is-marker-interfaces-in-java-and.html#ixzz2v6fIh1rw</a></p>\n"},{"tags":[],"owner":{"account_id":12901780,"reputation":117,"user_id":9330353,"display_name":"sai surya madhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667405953,"creation_date":1667405953,"answer_id":74292501,"question_id":1995198,"body_markdown":"Mostly we see use of marker interfaces in scenarios where we want to check if an object of a class has a permission. We check for the permission using the `instanceOf`.\r\n\r\n    public interface Herbivorous {\r\n    }\r\n    public interface Carnivorous {\r\n    }\r\n    public class Cow implements Herbivorous {\r\n        String howMuchGrassConsumed() {\r\n            return &quot;2&quot;;\r\n        };\r\n    }\r\n    public class Lion implements Carnivorous {\r\n        String howManyCowsConsumed() {\r\n            return &quot;2&quot;;\r\n        }\r\n    }\r\n    public class Jungle{\r\n        public static void main(String[] args) {\r\n            Cow cow = new Cow();\r\n            Lion lion = new Lion();\r\n            if(cow instanceof Herbivorous){\r\n                System.out.println(&quot;Cow ate so much gress:&quot;+cow.howMuchGrassConsumed());\r\n            }else if(lion instanceof Carnivorous){\r\n                System.out.println(&quot;Lion ate so many cows:&quot;+lion.howManyCowsConsumed(););\r\n            }else{\r\n                System.out.println(&quot;That&#39;s an alien&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"What is the use of marker interfaces in Java?","body":"<p>Mostly we see use of marker interfaces in scenarios where we want to check if an object of a class has a permission. We check for the permission using the <code>instanceOf</code>.</p>\n<pre><code>public interface Herbivorous {\n}\npublic interface Carnivorous {\n}\npublic class Cow implements Herbivorous {\n    String howMuchGrassConsumed() {\n        return &quot;2&quot;;\n    };\n}\npublic class Lion implements Carnivorous {\n    String howManyCowsConsumed() {\n        return &quot;2&quot;;\n    }\n}\npublic class Jungle{\n    public static void main(String[] args) {\n        Cow cow = new Cow();\n        Lion lion = new Lion();\n        if(cow instanceof Herbivorous){\n            System.out.println(&quot;Cow ate so much gress:&quot;+cow.howMuchGrassConsumed());\n        }else if(lion instanceof Carnivorous){\n            System.out.println(&quot;Lion ate so many cows:&quot;+lion.howManyCowsConsumed(););\n        }else{\n            System.out.println(&quot;That's an alien&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60098,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":1995218,"answer_count":10,"score":62,"last_activity_date":1667405953,"creation_date":1262530808,"question_id":1995198,"body_markdown":"When there is nothing to implement in the marker interfaces like `Serializable` What is the use of implementing it?","title":"What is the use of marker interfaces in Java?","body":"<p>When there is nothing to implement in the marker interfaces like <code>Serializable</code> What is the use of implementing it?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667393339,"post_id":74289371,"comment_id":131155650,"body_markdown":"Make sure `java.library.path` is set to the same value as when running the jar","body":"Make sure <code>java.library.path</code> is set to the same value as when running the jar"}],"answers":[{"comments":[{"owner":{"account_id":20170029,"reputation":123,"user_id":14793061,"display_name":"Paul"},"score":0,"creation_date":1667461502,"post_id":74292375,"comment_id":131173169,"body_markdown":"Please bare with me, I don&#39;t understand what to do with DLLs. I have set the path ( C:\\openJDK\\jdk-19.0.1\\bin\\, where I have the gdalalljni.dll) in the Eclipse; &quot;Java Build Path&quot; -&gt; &quot;Source tab&quot; -&gt;&quot;Native library location&quot; and also in &quot;Java Build Path&quot; -&gt; &quot;Libraries tab&quot; -&gt; ClassPath-&gt; gdal.jar-&gt;&quot;Native library location&quot;. But getting the same error code.","body":"Please bare with me, I don&#39;t understand what to do with DLLs. I have set the path ( C:\\openJDK\\jdk-19.0.1\\bin\\, where I have the gdalalljni.dll) in the Eclipse; &quot;Java Build Path&quot; -&gt; &quot;Source tab&quot; -&gt;&quot;Native library location&quot; and also in &quot;Java Build Path&quot; -&gt; &quot;Libraries tab&quot; -&gt; ClassPath-&gt; gdal.jar-&gt;&quot;Native library location&quot;. But getting the same error code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667724407,"post_id":74292375,"comment_id":131231111,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74292375/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26808022,"reputation":11,"user_id":20399058,"display_name":"kazeematics"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667405495,"creation_date":1667405495,"answer_id":74292375,"question_id":74289371,"body_markdown":"When you move to Eclipse, the native library is no more in the classpath of your project, that is why you are getting &quot;java.lang.UnsatisfiedLinkError&quot; error. You need to add the native library to the classpath of your eclipse project.","title":"what to do with java.lang.UnsatisfiedLinkError in Eclipse","body":"<p>When you move to Eclipse, the native library is no more in the classpath of your project, that is why you are getting &quot;java.lang.UnsatisfiedLinkError&quot; error. You need to add the native library to the classpath of your eclipse project.</p>\n"}],"owner":{"account_id":20170029,"reputation":123,"user_id":14793061,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667405495,"creation_date":1667393127,"question_id":74289371,"body_markdown":"The program works fine when I export an executable jar to my Windows 10 system, but not in Eclipse.\r\nWhat have I missed?\r\n\r\nNative library load failed.\r\njava.lang.UnsatisfiedLinkError: C:\\openJDK\\jdk-19.0.1\\bin\\gdalalljni.dll: The specified procedure could not be found\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsatisfiedLinkError: &#39;int org.gdal.gdal.gdalJNI.HasThreadSupport()&#39;\r\n\tat org.gdal.gdal.gdalJNI.HasThreadSupport(Native Method)\r\n\tat org.geotools.jdbcconnection.MainDialog.&lt;init&gt;(MainDialog.java:371)","title":"what to do with java.lang.UnsatisfiedLinkError in Eclipse","body":"<p>The program works fine when I export an executable jar to my Windows 10 system, but not in Eclipse.\nWhat have I missed?</p>\n<p>Native library load failed.\njava.lang.UnsatisfiedLinkError: C:\\openJDK\\jdk-19.0.1\\bin\\gdalalljni.dll: The specified procedure could not be found\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsatisfiedLinkError: 'int org.gdal.gdal.gdalJNI.HasThreadSupport()'\nat org.gdal.gdal.gdalJNI.HasThreadSupport(Native Method)\nat org.geotools.jdbcconnection.MainDialog.(MainDialog.java:371)</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1667404681,"post_id":74292063,"comment_id":131160291,"body_markdown":"You don&#39;t need to modify the `modifiers` field. Just remove the three lines: `Field modifiers = field.getClass().getDeclaredField(&quot;modifiers&quot;);`, `modifiers.setAccessible(true);` and `modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);`.","body":"You don&#39;t need to modify the <code>modifiers</code> field. Just remove the three lines: <code>Field modifiers = field.getClass().getDeclaredField(&quot;modifiers&quot;);</code>, <code>modifiers.setAccessible(true);</code> and <code>modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);</code>."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1685705725,"post_id":74292063,"comment_id":134702052,"body_markdown":"@JohannesKuhn how else do you clear the &quot;final&quot; flag from the &quot;bar&quot; field?","body":"@JohannesKuhn how else do you clear the &quot;final&quot; flag from the &quot;bar&quot; field?"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1685711046,"post_id":74292063,"comment_id":134703189,"body_markdown":"Dear future reflection adventurer, you might want to look at this question: https://stackoverflow.com/q/56039341/253468","body":"Dear future reflection adventurer, you might want to look at this question: <a href=\"https://stackoverflow.com/q/56039341/253468\">stackoverflow.com/q/56039341/253468</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1685713065,"post_id":74292063,"comment_id":134703664,"body_markdown":"@TWiStErRob You don&#39;t need to clear the `final` modifier - `final` instance variables can be set using `Field.set` if you called `setAccessible(true)` on it before.","body":"@TWiStErRob You don&#39;t need to clear the <code>final</code> modifier - <code>final</code> instance variables can be set using <code>Field.set</code> if you called <code>setAccessible(true)</code> on it before."}],"answers":[{"comments":[{"owner":{"account_id":122175,"reputation":1587,"user_id":315820,"accept_rate":73,"display_name":"jprusakova"},"score":0,"creation_date":1684453057,"post_id":74292344,"comment_id":134523713,"body_markdown":"no, this doesn&#39;t work","body":"no, this doesn&#39;t work"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1685713591,"post_id":74292344,"comment_id":134703806,"body_markdown":"@jprusakova No, works fine: https://www.ideone.com/1RvmS9","body":"@jprusakova No, works fine: <a href=\"https://www.ideone.com/1RvmS9\" rel=\"nofollow noreferrer\">ideone.com/1RvmS9</a>"},{"owner":{"account_id":266600,"reputation":1006,"user_id":554518,"accept_rate":90,"display_name":"Will Hains"},"score":0,"creation_date":1686053711,"post_id":74292344,"comment_id":134743762,"body_markdown":"@JohannesKuhn That sample seems to be Java 12? The OP was asking about Java 17, where I can confirm the above code doesn&#39;t work.","body":"@JohannesKuhn That sample seems to be Java 12? The OP was asking about Java 17, where I can confirm the above code doesn&#39;t work."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686056291,"post_id":74292344,"comment_id":134744346,"body_markdown":"@WillHains Is the field `static`? Then it does not work - [you can&#39;t change static final fields](https://gist.github.com/DasBrain/ca16053f8e073c8a883bee66302c2fee). You never could do that reliably. Otherwise, you can change non-static final fields (except final fields of records/hidden classes) this way. Works in Java 8 - Java 20.","body":"@WillHains Is the field <code>static</code>? Then it does not work - <a href=\"https://gist.github.com/DasBrain/ca16053f8e073c8a883bee66302c2fee\" rel=\"nofollow noreferrer\">you can&#39;t change static final fields</a>. You never could do that reliably. Otherwise, you can change non-static final fields (except final fields of records/hidden classes) this way. Works in Java 8 - Java 20."}],"tags":[],"owner":{"account_id":24405661,"reputation":61,"user_id":18333889,"display_name":"SchneiderKr"},"comment_count":4,"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1667405368,"creation_date":1667405368,"answer_id":74292344,"question_id":74292063,"body_markdown":"This should work:\r\n\r\n     Field field = foo.getClass().getDeclaredField(&quot;bar&quot;);\r\n     field.setAccessible(true);\r\n     field.set(foo, &quot;changedBar&quot;);\r\n\r\n","title":"Overwriting final fields in Java 17","body":"<p>This should work:</p>\n<pre><code> Field field = foo.getClass().getDeclaredField(&quot;bar&quot;);\n field.setAccessible(true);\n field.set(foo, &quot;changedBar&quot;);\n</code></pre>\n"}],"owner":{"account_id":25484609,"reputation":11,"user_id":19280351,"display_name":"godfather"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667405368,"creation_date":1667404310,"question_id":74292063,"body_markdown":"I&#39;m trying to overwrite the value of a non-static final field through Reflection in Java 17.\r\n\r\nAs far as I know, you can no longer do the following trick starting with Java 12 and above:\r\n\r\n```\r\nimport java.lang.reflect.*;\r\n\r\nclass Foo {\r\nprivate final String bar;\r\n\r\n    public Foo(String bar) {\r\n    \tthis.bar = bar;\r\n    }\r\n    \r\n    public String getBar() {\r\n    \treturn this.bar;\r\n    }\r\n\r\n}\r\n\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n    \tFoo foo = new Foo(&quot;foobar&quot;);\r\n    \tSystem.out.println(foo.getBar());\r\n    \r\n    \ttry {\r\n        \tField field = foo.getClass().getDeclaredField(&quot;bar&quot;);\r\n    \t\tfield.setAccessible(true);\r\n    \t\tField modifiers = field.getClass().getDeclaredField(&quot;modifiers&quot;);\r\n    \t\tmodifiers.setAccessible(true);\r\n    \t\tmodifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\t\r\n    \t}\r\n    \r\n    \tSystem.out.println(foo.getBar());\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I run this in Java 17, the following exception is thrown:\r\n\r\n```\r\nfoobar java.lang.NoSuchFieldException: modifiers \tat java.base/java.lang.Class.getDeclaredField(Class.java:2610) \tat Example.main(Example.java:24) foobar\r\n```\r\n\r\nAnd the value of &#39;bar&#39; remains unchanged.\r\n\r\nIs there an equivalent method of overwriting a final field for the newer versions of Java? A quick search in Google didn&#39;t yield anything different from the above solution. The only thing I learned was that it is impossible to overwrite a static final field, while it&#39;s still possible to overwrite a non-static final field through Reflection, but I couldn&#39;t find out how.","title":"Overwriting final fields in Java 17","body":"<p>I'm trying to overwrite the value of a non-static final field through Reflection in Java 17.</p>\n<p>As far as I know, you can no longer do the following trick starting with Java 12 and above:</p>\n<pre><code>import java.lang.reflect.*;\n\nclass Foo {\nprivate final String bar;\n\n    public Foo(String bar) {\n        this.bar = bar;\n    }\n    \n    public String getBar() {\n        return this.bar;\n    }\n\n}\n\npublic class Example {\n\n    public static void main(String[] args) {\n        Foo foo = new Foo(&quot;foobar&quot;);\n        System.out.println(foo.getBar());\n    \n        try {\n            Field field = foo.getClass().getDeclaredField(&quot;bar&quot;);\n            field.setAccessible(true);\n            Field modifiers = field.getClass().getDeclaredField(&quot;modifiers&quot;);\n            modifiers.setAccessible(true);\n            modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n        } catch (Exception e) {\n            e.printStackTrace();    \n        }\n    \n        System.out.println(foo.getBar());\n    }\n\n}\n</code></pre>\n<p>When I run this in Java 17, the following exception is thrown:</p>\n<pre><code>foobar java.lang.NoSuchFieldException: modifiers    at java.base/java.lang.Class.getDeclaredField(Class.java:2610)  at Example.main(Example.java:24) foobar\n</code></pre>\n<p>And the value of 'bar' remains unchanged.</p>\n<p>Is there an equivalent method of overwriting a final field for the newer versions of Java? A quick search in Google didn't yield anything different from the above solution. The only thing I learned was that it is impossible to overwrite a static final field, while it's still possible to overwrite a non-static final field through Reflection, but I couldn't find out how.</p>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":5,"creation_date":1667376087,"post_id":74285954,"comment_id":131149758,"body_markdown":"You could use `flatMap` instead of `map` but I&#39;d rather use a simple `map.getOrDefault(name, Collections.emptyList()).stream()`. Streaming the entire map and filtering for a single entry kind of defeats the purpose of using a map.","body":"You could use <code>flatMap</code> instead of <code>map</code> but I&#39;d rather use a simple <code>map.getOrDefault(name, Collections.emptyList()).stream()</code>. Streaming the entire map and filtering for a single entry kind of defeats the purpose of using a map."},{"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"score":0,"creation_date":1667382818,"post_id":74285954,"comment_id":131152035,"body_markdown":"simple use the getOrDefault  , ex.  map.getOrDefault(name, Collections.emptyList()).stream()","body":"simple use the getOrDefault  , ex.  map.getOrDefault(name, Collections.emptyList()).stream()"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667379175,"creation_date":1667379175,"answer_id":74286555,"question_id":74285954,"body_markdown":"As *@Thomas* has pointed out in the comments, iterating over the whole Map would be wasteful. And [solution he proposed](https://stackoverflow.com/questions/74285954/java-streams-map-get-value-listinteger-from-key-with-filtering#comment131149758_74285954) probably is the cleanest one:\r\n```\r\nmap.getOrDefault(name, Collections.emptyList()).stream()\r\n```\r\n\r\nAlternatively, you can make use of [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) without performing redundant iteration through the whole map like that:\r\n\r\n    public static &lt;K, V&gt; Stream&lt;V&gt; getStreamByKey(Map&lt;K, Collection&lt;V&gt;&gt; map,\r\n                                                  K key) {\r\n\r\n        return Stream.ofNullable(map.get(key))\r\n            .flatMap(Collection::stream);\r\n    }\r\n\r\nThe same result can be achieved with Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html):\r\n\r\n    public static &lt;K, V&gt; Stream&lt;V&gt; getStreamByKey(Map&lt;K, Collection&lt;V&gt;&gt; map,\r\n                                                  K key) {\r\n        \r\n        return Stream.ofNullable(map.get(key))\r\n            .mapMulti(Iterable::forEach);\r\n    }","title":"Java Streams Map, Get Value - List&lt;Integer&gt; from Key (With filtering)","body":"<p>As <em>@Thomas</em> has pointed out in the comments, iterating over the whole Map would be wasteful. And <a href=\"https://stackoverflow.com/questions/74285954/java-streams-map-get-value-listinteger-from-key-with-filtering#comment131149758_74285954\">solution he proposed</a> probably is the cleanest one:</p>\n<pre><code>map.getOrDefault(name, Collections.emptyList()).stream()\n</code></pre>\n<p>Alternatively, you can make use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> without performing redundant iteration through the whole map like that:</p>\n<pre><code>public static &lt;K, V&gt; Stream&lt;V&gt; getStreamByKey(Map&lt;K, Collection&lt;V&gt;&gt; map,\n                                              K key) {\n\n    return Stream.ofNullable(map.get(key))\n        .flatMap(Collection::stream);\n}\n</code></pre>\n<p>The same result can be achieved with Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a>:</p>\n<pre><code>public static &lt;K, V&gt; Stream&lt;V&gt; getStreamByKey(Map&lt;K, Collection&lt;V&gt;&gt; map,\n                                              K key) {\n    \n    return Stream.ofNullable(map.get(key))\n        .mapMulti(Iterable::forEach);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667382213,"creation_date":1667382213,"answer_id":74287157,"question_id":74285954,"body_markdown":"As others pointed out in comments, use `flatMap` instead of `map` in the last step to reduce the double nesting:\r\n\r\n    return table.entrySet().stream()\r\n        .filter(map -&gt; map.getKey().equals(name))\r\n        .flatMap(entry -&gt; entry.getValue().stream());\r\n","title":"Java Streams Map, Get Value - List&lt;Integer&gt; from Key (With filtering)","body":"<p>As others pointed out in comments, use <code>flatMap</code> instead of <code>map</code> in the last step to reduce the double nesting:</p>\n<pre><code>return table.entrySet().stream()\n    .filter(map -&gt; map.getKey().equals(name))\n    .flatMap(entry -&gt; entry.getValue().stream());\n</code></pre>\n"}],"owner":{"account_id":12662726,"reputation":379,"user_id":9203056,"display_name":"zzdhxu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74286555,"answer_count":2,"score":2,"last_activity_date":1667405169,"creation_date":1667375891,"question_id":74285954,"body_markdown":"Assuming I&#39;m writing a method that takes in `Map&lt;String, List&lt;Integer&gt;&gt;` as shown below, and a String `name` to filter. My return type is `Stream&lt;Integer&gt;` how do I convert from a `Stream&lt;List&lt;Integer&gt;&gt;` to `Stream&lt;Integer&gt;`?\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; person = Map.of(\r\n    &quot;John&quot;, List.of(54, 18),\r\n    &quot;Alex&quot;, List.of(28), &quot;Tom&quot;,\r\n    List.of(78, 42)\r\n);\r\n```\r\nMy current implementation returns a `Stream&lt;List&lt;Integer&gt;&gt;`. Realistically, I would iterate through the list to retrieve all Integers in the list.\r\n\r\nCode implementation:\r\n```\r\nreturn table.entrySet().stream()\r\n    .filter(map -&gt; map.getKey().equals(name))\r\n    .map(map -&gt; map.getValue());\r\n```","title":"Java Streams Map, Get Value - List&lt;Integer&gt; from Key (With filtering)","body":"<p>Assuming I'm writing a method that takes in <code>Map&lt;String, List&lt;Integer&gt;&gt;</code> as shown below, and a String <code>name</code> to filter. My return type is <code>Stream&lt;Integer&gt;</code> how do I convert from a <code>Stream&lt;List&lt;Integer&gt;&gt;</code> to <code>Stream&lt;Integer&gt;</code>?</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; person = Map.of(\n    &quot;John&quot;, List.of(54, 18),\n    &quot;Alex&quot;, List.of(28), &quot;Tom&quot;,\n    List.of(78, 42)\n);\n</code></pre>\n<p>My current implementation returns a <code>Stream&lt;List&lt;Integer&gt;&gt;</code>. Realistically, I would iterate through the list to retrieve all Integers in the list.</p>\n<p>Code implementation:</p>\n<pre><code>return table.entrySet().stream()\n    .filter(map -&gt; map.getKey().equals(name))\n    .map(map -&gt; map.getValue());\n</code></pre>\n"},{"tags":["java","spring","spring-cloud","api-gateway","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1667308606,"post_id":74275134,"comment_id":131133503,"body_markdown":"Global filters only are run if a gateway route is matched. Otherwise you need to use a webflux WebFilter.","body":"Global filters only are run if a gateway route is matched. Otherwise you need to use a webflux WebFilter."}],"answers":[{"tags":[],"owner":{"account_id":26794000,"reputation":11,"user_id":20387001,"display_name":"vikiJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667404788,"creation_date":1667404788,"answer_id":74292182,"question_id":74275134,"body_markdown":"spencergibb in a comment is right! \r\n\r\n(Global filters only are run if a gateway route is matched. Otherwise you need to use a webflux WebFilter.)\r\n\r\nI have changed GlobalFilter to WebFilter, so now my CustomFilter implements WebFilter and it&#39;s working.\r\n\r\nThank you, [spencergibb](https://stackoverflow.com/users/2730527/spencergibb)","title":"How to filter request to api-gateway&#39;s controller in api-gateway","body":"<p>spencergibb in a comment is right!</p>\n<p>(Global filters only are run if a gateway route is matched. Otherwise you need to use a webflux WebFilter.)</p>\n<p>I have changed GlobalFilter to WebFilter, so now my CustomFilter implements WebFilter and it's working.</p>\n<p>Thank you, <a href=\"https://stackoverflow.com/users/2730527/spencergibb\">spencergibb</a></p>\n"}],"owner":{"account_id":26794000,"reputation":11,"user_id":20387001,"display_name":"vikiJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667404788,"creation_date":1667301661,"question_id":74275134,"body_markdown":"I use a custom api-gateway for services and my gateway has a controller (for handling rest request making a grpc request to another service). \r\nAlso I have a CustomGlobalFilter for filtering rest requests. It works good for routes, but doesn&#39;t work for requests to api-gateway controller. I need to handle and filter requests from front to *all services including api-gateway* in **one** CustomGlobalFilter.\r\nWe have tried to change @Order and endpoint-api. \r\nRoutes configuration includes Api-gateway&#39;s apis. \r\n\r\nAny suggestions? Did anyone face such kind of problem, if so how did solve it?\r\n","title":"How to filter request to api-gateway&#39;s controller in api-gateway","body":"<p>I use a custom api-gateway for services and my gateway has a controller (for handling rest request making a grpc request to another service).\nAlso I have a CustomGlobalFilter for filtering rest requests. It works good for routes, but doesn't work for requests to api-gateway controller. I need to handle and filter requests from front to <em>all services including api-gateway</em> in <strong>one</strong> CustomGlobalFilter.\nWe have tried to change @Order and endpoint-api.\nRoutes configuration includes Api-gateway's apis.</p>\n<p>Any suggestions? Did anyone face such kind of problem, if so how did solve it?</p>\n"},{"tags":["java","jtextfield"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1667398426,"post_id":74290570,"comment_id":131157731,"body_markdown":"You declare 3 class fields, but you never do anything with them, so they remain `null`. I guess what you want to do: in your `drawWindow` method, replace `JTextField t1 = new JTextField(&quot;Enter country...&quot;);` with `textfield = new JTextField(&quot;Enter country...&quot;);`.","body":"You declare 3 class fields, but you never do anything with them, so they remain <code>null</code>. I guess what you want to do: in your <code>drawWindow</code> method, replace <code>JTextField t1 = new JTextField(&quot;Enter country...&quot;);</code> with <code>textfield = new JTextField(&quot;Enter country...&quot;);</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667399924,"post_id":74290570,"comment_id":131158366,"body_markdown":"[Avoid null layouts in Swing](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">Avoid null layouts in Swing</a>"}],"answers":[{"tags":[],"owner":{"account_id":26808022,"reputation":11,"user_id":20399058,"display_name":"kazeematics"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667404084,"creation_date":1667404084,"answer_id":74291995,"question_id":74290570,"body_markdown":"Your textfield variable is only declared but never used.\r\n\r\nReplace the below \r\n\r\n    JTextField t1 = new JTextField(&quot;Enter country...&quot;);\r\n    t1.setBounds(50, 100, 200, 30);\r\n    window.add(t1);\r\n\r\nWith\r\n\r\n    textfield = new JTextField(&quot;Enter country...&quot;);\r\n    textfield.setBounds(50, 100, 200, 30);\r\n    window.add(textfield);\r\n","title":"Storing JTextField input in a String variable","body":"<p>Your textfield variable is only declared but never used.</p>\n<p>Replace the below</p>\n<pre><code>JTextField t1 = new JTextField(&quot;Enter country...&quot;);\nt1.setBounds(50, 100, 200, 30);\nwindow.add(t1);\n</code></pre>\n<p>With</p>\n<pre><code>textfield = new JTextField(&quot;Enter country...&quot;);\ntextfield.setBounds(50, 100, 200, 30);\nwindow.add(textfield);\n</code></pre>\n"}],"owner":{"account_id":26674484,"reputation":1,"user_id":20285451,"display_name":"Mr. Star"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667404084,"creation_date":1667398262,"question_id":74290570,"body_markdown":"\r\nSo I want to store a string value in a variable, the value is given through a JTextField and after a confirm button is clicked, I want it to store what&#39;s written in the text field in a string variable.\r\n\r\n\r\n\r\nThis is the relevant part of the code:\r\n\r\n\r\n\r\n\r\n```\r\npublic class Window {\r\n\r\n    private JButton confirm;\r\n    private JTextField textfield;\r\n    private JLabel label;\r\n\r\n\r\npublic void drawWindow() {\r\n    JFrame window = new JFrame(&quot;CountryQuiz&quot;);\r\n    ClickChecker click = new ClickChecker();\r\n\r\n\r\n    JPanel panel = new JPanel();\r\n    panel.setBounds(40, 80, 200, 200);\r\n    panel.setBackground(Color.green);\r\n\r\n\r\n    JTextField t1 = new JTextField(&quot;Enter country...&quot;);\r\n    t1.setBounds(50, 100, 200, 30);\r\n    window.add(t1);\r\n\r\n\r\n    JButton confirm = new JButton(&quot;Confirm&quot;);\r\n    confirm.setBounds(50, 50, 95, 30);\r\n    confirm.addActionListener(click);\r\n    window.add(confirm);\r\n\r\n    window.setSize(400, 400);\r\n    window.setLayout(null);\r\n    window.setVisible(true);\r\n    window.add(panel);\r\n\r\n}\r\nprivate class ClickChecker implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n            String answer = textfield.getText();\r\n\r\n\r\n            System.out.println(answer);\r\n\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n \r\nResults in the following error:\r\n\r\nCannot invoke &quot;javax.swing.JTextField.getText()&quot; because &quot;this.this$0.textfield&quot; is null","title":"Storing JTextField input in a String variable","body":"<p>So I want to store a string value in a variable, the value is given through a JTextField and after a confirm button is clicked, I want it to store what's written in the text field in a string variable.</p>\n<p>This is the relevant part of the code:</p>\n<pre><code>public class Window {\n\n    private JButton confirm;\n    private JTextField textfield;\n    private JLabel label;\n\n\npublic void drawWindow() {\n    JFrame window = new JFrame(&quot;CountryQuiz&quot;);\n    ClickChecker click = new ClickChecker();\n\n\n    JPanel panel = new JPanel();\n    panel.setBounds(40, 80, 200, 200);\n    panel.setBackground(Color.green);\n\n\n    JTextField t1 = new JTextField(&quot;Enter country...&quot;);\n    t1.setBounds(50, 100, 200, 30);\n    window.add(t1);\n\n\n    JButton confirm = new JButton(&quot;Confirm&quot;);\n    confirm.setBounds(50, 50, 95, 30);\n    confirm.addActionListener(click);\n    window.add(confirm);\n\n    window.setSize(400, 400);\n    window.setLayout(null);\n    window.setVisible(true);\n    window.add(panel);\n\n}\nprivate class ClickChecker implements ActionListener {\n        public void actionPerformed(ActionEvent e) {\n\n            String answer = textfield.getText();\n\n\n            System.out.println(answer);\n\n\n\n            }\n        }\n    }\n</code></pre>\n<p>Results in the following error:</p>\n<p>Cannot invoke &quot;javax.swing.JTextField.getText()&quot; because &quot;this.this$0.textfield&quot; is null</p>\n"},{"tags":["java","loops","if-statement","vector","iterator"],"answers":[{"comments":[{"owner":{"account_id":25089177,"reputation":3,"user_id":18941018,"display_name":"Kozna"},"score":0,"creation_date":1667405839,"post_id":74291723,"comment_id":131160756,"body_markdown":"I think understand now, the reason why I ask the user for an input before entering the loop is so I can fullfill a condition in which, if the user enters nothing from the start the program just ends witouth showing anything, thank you very much.","body":"I think understand now, the reason why I ask the user for an input before entering the loop is so I can fullfill a condition in which, if the user enters nothing from the start the program just ends witouth showing anything, thank you very much."}],"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667402911,"creation_date":1667402911,"answer_id":74291723,"question_id":74290320,"body_markdown":"Start of 1st Iteration:\r\nnameQuantity = 1\r\nnumQuantity = 0\r\n\r\nStart of 2nd Iteration:\r\nnameQuantity = 2\r\nnumQuantity = 1\r\n\r\n...\r\n\r\nStart of 10th Iteration:\r\nnameQuantity = 10\r\nnumQuantity = 9\r\n\r\nCalling `vectorName[nameQuantity]` will cause the `IndexOutOfBoundsException` at this point, since `vectorName` has a size of `10`, meaning the last index is `9`.\r\n\r\nI&#39;m not sure why you&#39;re asking for the user to enter a name, then starting a loop where you ask for a number and then ask for a name.\r\n\r\nYour logic:\r\n\r\n    Receive name from user\r\n\r\n    If name is empty\r\n\r\n        Stop\r\n\r\n    Else\r\n\r\n        Loop 10 times:\r\n\r\n            Receive number from user\r\n\r\n            If name is empty or received 10 numbers\r\n\r\n                Stop\r\n\r\nWhy not just have everything in a loop where you ask for a name first, and if a name was provided, ask for a number?\r\n\r\n    Loop 10 times\r\n\r\n        Receive name from user\r\n\r\n        If name is empty\r\n    \r\n            Stop\r\n\r\n        Else\r\n        \r\n            Receive number from user","title":"iterate over two vectors with some conditions up to ten times","body":"<p>Start of 1st Iteration:\nnameQuantity = 1\nnumQuantity = 0</p>\n<p>Start of 2nd Iteration:\nnameQuantity = 2\nnumQuantity = 1</p>\n<p>...</p>\n<p>Start of 10th Iteration:\nnameQuantity = 10\nnumQuantity = 9</p>\n<p>Calling <code>vectorName[nameQuantity]</code> will cause the <code>IndexOutOfBoundsException</code> at this point, since <code>vectorName</code> has a size of <code>10</code>, meaning the last index is <code>9</code>.</p>\n<p>I'm not sure why you're asking for the user to enter a name, then starting a loop where you ask for a number and then ask for a name.</p>\n<p>Your logic:</p>\n<pre><code>Receive name from user\n\nIf name is empty\n\n    Stop\n\nElse\n\n    Loop 10 times:\n\n        Receive number from user\n\n        If name is empty or received 10 numbers\n\n            Stop\n</code></pre>\n<p>Why not just have everything in a loop where you ask for a name first, and if a name was provided, ask for a number?</p>\n<pre><code>Loop 10 times\n\n    Receive name from user\n\n    If name is empty\n\n        Stop\n\n    Else\n    \n        Receive number from user\n</code></pre>\n"}],"owner":{"account_id":25089177,"reputation":3,"user_id":18941018,"display_name":"Kozna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74291723,"answer_count":1,"score":0,"last_activity_date":1667402911,"creation_date":1667397108,"question_id":74290320,"body_markdown":"I have two vectors, vectorName and vectorNum, I need to iterate over them asking for input up to ten times or until nothing is entered, the problem is that when I reach the 10th loop it asks for vectorName an 11th time and then throws IndexOutOfBoundsException\r\n\r\nthis is my code:\r\n```java\r\npublic static void main(String[] args) {\r\n\tScanner read = new Scanner(System.in);\r\n\tint nameQuantity = 0;\r\n\tint numQuantity = 0;\r\n\tString vectorName[] = new String[10];\r\n\tint vectorNum[] = new int[10];\r\n\tSystem.out.println(&quot;enter name or enter nothing to end&quot;);\r\n\tvectorName[nameQuantity] = read.nextLine();\r\n\r\n\tif (vectorName[nameQuantity].length()==0) {\r\n\t\tSystem.out.println(&quot;end&quot;);\r\n\t}else { \r\n\t\tnameQuantity++;\r\n\t\twhile(nameQuantity&lt;11) {\r\n\t\t\tSystem.out.println(&quot;enter a number from 1 to 12&quot;);\r\n\t\t\tint num = read.nextInt();\r\n\t\t\tif (num&lt;=12 &amp;&amp; num&gt;=1) {\r\n\t\t\t\t\r\n\t\t\t\tvectorNum[numQuantity] = num;\r\n\t\t\t\tnumQuantity++;\r\n\t\t\t\tSystem.out.println(&quot;enter name or enter nothing to end&quot;);\r\n\t\t\t\tread.nextLine();\r\n\t\t\t\tvectorName[nameQuantity] = read.nextLine();\r\n\t\t\t\t\r\n\t\t\t\tif(vectorName[nameQuantity].length() == 0  || numQuantity == 10) {\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tfor (int n = 0; n&lt;=numQuantity-1; n++) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;\\n &quot; + vectorName[n] + &quot; &quot;+ vectorNum[n]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnameQuantity = 11;\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tnameQuantity++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;number must be from 1 to 12&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI tried changing the vector size to 11 which worked but as a result it saves an 11th name which I don&#39;t need since I expect it to ask only up to ten times the names and numbers.\r\nI also tried changing the do while to a while, the same thing happens.","title":"iterate over two vectors with some conditions up to ten times","body":"<p>I have two vectors, vectorName and vectorNum, I need to iterate over them asking for input up to ten times or until nothing is entered, the problem is that when I reach the 10th loop it asks for vectorName an 11th time and then throws IndexOutOfBoundsException</p>\n<p>this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner read = new Scanner(System.in);\n    int nameQuantity = 0;\n    int numQuantity = 0;\n    String vectorName[] = new String[10];\n    int vectorNum[] = new int[10];\n    System.out.println(&quot;enter name or enter nothing to end&quot;);\n    vectorName[nameQuantity] = read.nextLine();\n\n    if (vectorName[nameQuantity].length()==0) {\n        System.out.println(&quot;end&quot;);\n    }else { \n        nameQuantity++;\n        while(nameQuantity&lt;11) {\n            System.out.println(&quot;enter a number from 1 to 12&quot;);\n            int num = read.nextInt();\n            if (num&lt;=12 &amp;&amp; num&gt;=1) {\n                \n                vectorNum[numQuantity] = num;\n                numQuantity++;\n                System.out.println(&quot;enter name or enter nothing to end&quot;);\n                read.nextLine();\n                vectorName[nameQuantity] = read.nextLine();\n                \n                if(vectorName[nameQuantity].length() == 0  || numQuantity == 10) {  \n                                \n                    for (int n = 0; n&lt;=numQuantity-1; n++) {\n                        System.out.print(&quot;\\n &quot; + vectorName[n] + &quot; &quot;+ vectorNum[n]);\n                    }\n                    nameQuantity = 11;\n                            }else {\n                                nameQuantity++;\n                        }\n                    }else {\n                System.out.println(&quot;number must be from 1 to 12&quot;);\n            }\n            \n            }\n        }\n    }\n}\n</code></pre>\n<p>I tried changing the vector size to 11 which worked but as a result it saves an 11th name which I don't need since I expect it to ask only up to ten times the names and numbers.\nI also tried changing the do while to a while, the same thing happens.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667399698,"post_id":74290917,"comment_id":131158245,"body_markdown":"4 bytes is an `int`, which you could simply pack in a loop via `myInt = (myInt &lt;&lt; 8) | nextByte`.","body":"4 bytes is an <code>int</code>, which you could simply pack in a loop via <code>myInt = (myInt &lt;&lt; 8) | nextByte</code>."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1667400111,"post_id":74290917,"comment_id":131158455,"body_markdown":"&quot;1 byte of the source file = 4 bytes of the encrypted one. For example, the encoded byte is 3125890409&quot; That does not make sense in a number of ways. First, how is &quot;3125890409&quot; a single byte? And second, are you *encoding* or *encrypting*? Those are very different things.","body":"&quot;1 byte of the source file = 4 bytes of the encrypted one. For example, the encoded byte is 3125890409&quot; That does not make sense in a number of ways. First, how is &quot;3125890409&quot; a single byte? And second, are you <i>encoding</i> or <i>encrypting</i>? Those are very different things."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667400252,"post_id":74290917,"comment_id":131158508,"body_markdown":"I agree encoding and encryption are two different things - the OP has a function that converts 8 bits-&gt;32bits, wants to write a reverse function and is wondering how to deal with the bytes obtained.","body":"I agree encoding and encryption are two different things - the OP has a function that converts 8 bits-&gt;32bits, wants to write a reverse function and is wondering how to deal with the bytes obtained."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667401764,"creation_date":1667401764,"answer_id":74291466,"question_id":74290917,"body_markdown":"Do not bother with BigInteger or BigDecimals. Instead think of your original byte as one byte (or 8 bits), and the encoded/encrypted values as 4 bytes (32 bits). If you just shove them into a byte[] you can choose an arbitrary size - be it 4, 8, or 13. Lots of flexibility there.\r\n\r\nThis approach makes it also easier to read/write the data, as you might simply serialize the bytes into a stream//read the data from a stream, as it feels quite natural to read and write the low indexes of the array first.\r\n\r\nOnce done with that, all you have to focus on is your function to turn 8 bits into 32 bits and vice versa.","title":"How to make one BigInteger from a 4 byte number","body":"<p>Do not bother with BigInteger or BigDecimals. Instead think of your original byte as one byte (or 8 bits), and the encoded/encrypted values as 4 bytes (32 bits). If you just shove them into a byte[] you can choose an arbitrary size - be it 4, 8, or 13. Lots of flexibility there.</p>\n<p>This approach makes it also easier to read/write the data, as you might simply serialize the bytes into a stream//read the data from a stream, as it feels quite natural to read and write the low indexes of the array first.</p>\n<p>Once done with that, all you have to focus on is your function to turn 8 bits into 32 bits and vice versa.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667402836,"creation_date":1667402836,"answer_id":74291700,"question_id":74290917,"body_markdown":"4 bytes fit in an `int`. Though a negative one here. Use a long otherwise. The byte order seems to be _big endian_, most significant byte first - it is an odd number as is the last byte.\r\n\r\n    byte[] fileData = {(byte)186, 81, 77, 105};\r\n    int n = new BigInteger(fileData).intValue();\r\n    int n = ByteBuffer.wrap(fileData).byteOrder(ByteOrder.BIG_ENDIAN).getInt();\r\n    long nn = n &amp; 0xFF_FF_FF_FFL;\r\n\r\nBIG_ENDIAN is the default, so the byteOrder is not needed here.","title":"How to make one BigInteger from a 4 byte number","body":"<p>4 bytes fit in an <code>int</code>. Though a negative one here. Use a long otherwise. The byte order seems to be <em>big endian</em>, most significant byte first - it is an odd number as is the last byte.</p>\n<pre><code>byte[] fileData = {(byte)186, 81, 77, 105};\nint n = new BigInteger(fileData).intValue();\nint n = ByteBuffer.wrap(fileData).byteOrder(ByteOrder.BIG_ENDIAN).getInt();\nlong nn = n &amp; 0xFF_FF_FF_FFL;\n</code></pre>\n<p>BIG_ENDIAN is the default, so the byteOrder is not needed here.</p>\n"}],"owner":{"account_id":26502929,"reputation":17,"user_id":20139569,"display_name":"Alica Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1667402836,"creation_date":1667399550,"question_id":74290917,"body_markdown":"The essence of the task is this, I encode the bytes of the file, 1 byte of the source file = 4 bytes of the encrypted one. For example, the encoded byte is 3125890409. In byte representation, this is [186, 81, 77, 105]. For decryption, I must present this array as a single number. How can I first convert these 4 numbers to binary, and then to decimal and assign BigIntger? I thought to do it like this:\r\n\r\n    for(int i = 0; i &lt; fileData2.length; i+=4) {\r\n        BigInteger message = BigInteger.valueOf(fileData2[i]);\r\n        BigInteger message2 = BigInteger.valueOf(fileData2[i + 1]);\r\n        BigInteger message3 = BigInteger.valueOf(fileData2[i + 2]);\r\n        BigInteger message4 = BigInteger.valueOf(fileData2[i + 3]);\r\n    }\r\n\r\nAnd then translate each into binary, but it looks too complicated, and what if you need to do not 4 bytes, but 8 bytes and higher. How can it be implemented faster?","title":"How to make one BigInteger from a 4 byte number","body":"<p>The essence of the task is this, I encode the bytes of the file, 1 byte of the source file = 4 bytes of the encrypted one. For example, the encoded byte is 3125890409. In byte representation, this is [186, 81, 77, 105]. For decryption, I must present this array as a single number. How can I first convert these 4 numbers to binary, and then to decimal and assign BigIntger? I thought to do it like this:</p>\n<pre><code>for(int i = 0; i &lt; fileData2.length; i+=4) {\n    BigInteger message = BigInteger.valueOf(fileData2[i]);\n    BigInteger message2 = BigInteger.valueOf(fileData2[i + 1]);\n    BigInteger message3 = BigInteger.valueOf(fileData2[i + 2]);\n    BigInteger message4 = BigInteger.valueOf(fileData2[i + 3]);\n}\n</code></pre>\n<p>And then translate each into binary, but it looks too complicated, and what if you need to do not 4 bytes, but 8 bytes and higher. How can it be implemented faster?</p>\n"},{"tags":["java","anylogic"],"answers":[{"comments":[{"owner":{"account_id":24658392,"reputation":11,"user_id":18554861,"display_name":"Deputy"},"score":0,"creation_date":1651338233,"post_id":72055597,"comment_id":127343406,"body_markdown":"Thank you. I am finding it difficult to use a state chart... Like I need to remove the current shop of the truck so that it can assess another nearest shop. This is because it is staying in the same shop. I have also checked examples but most are not about Nearest Agent. I will appreciate it if you can assist me with a code or statechart diagram. Thank you @Benjamin","body":"Thank you. I am finding it difficult to use a state chart... Like I need to remove the current shop of the truck so that it can assess another nearest shop. This is because it is staying in the same shop. I have also checked examples but most are not about Nearest Agent. I will appreciate it if you can assist me with a code or statechart diagram. Thank you @Benjamin"}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651223714,"creation_date":1651223714,"answer_id":72055597,"question_id":72054033,"body_markdown":"You should use a state chart because you can only start the next route after arriving at the first Shop. This can only be done with the statechart transition set to &quot;Agent arrival&quot;.\r\n\r\nYou can create a statechart &quot;mimicking&quot; a for-loop this way. Best check the example models that use state charts for agent movement to get some inspiration. Do it for 1 shop manually, then for 2 shops, then think how you can combine it into a generic state chart that just keeps on travelling to the next shop until some condition is met (run out of fuel...)","title":"Moving Agent A to Nearest Agent B and from their to another nearest Agent B on GIS","body":"<p>You should use a state chart because you can only start the next route after arriving at the first Shop. This can only be done with the statechart transition set to &quot;Agent arrival&quot;.</p>\n<p>You can create a statechart &quot;mimicking&quot; a for-loop this way. Best check the example models that use state charts for agent movement to get some inspiration. Do it for 1 shop manually, then for 2 shops, then think how you can combine it into a generic state chart that just keeps on travelling to the next shop until some condition is met (run out of fuel...)</p>\n"}],"owner":{"account_id":24658392,"reputation":11,"user_id":18554861,"display_name":"Deputy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667402813,"creation_date":1651216079,"question_id":72054033,"body_markdown":"So I have an agent vehicle and another agent shop of about 10 on GIS. I have another agent warehouse. So I have placed the vehicle at the warehouse and want it to move to the nearest shop and drop goods and from there move to another nearest shop and return to the warehouse after it has reached all shops each only once.\r\n\r\nI am new to anylogic and I have run this code\r\n**Agent nearestShop = this.getNearestAgent(main.shops);\r\nmoveTo(nearestShop)**\r\n\r\nI am stuck and don&#39;t know how to move from there using loop","title":"Moving Agent A to Nearest Agent B and from their to another nearest Agent B on GIS","body":"<p>So I have an agent vehicle and another agent shop of about 10 on GIS. I have another agent warehouse. So I have placed the vehicle at the warehouse and want it to move to the nearest shop and drop goods and from there move to another nearest shop and return to the warehouse after it has reached all shops each only once.</p>\n<p>I am new to anylogic and I have run this code\n<strong>Agent nearestShop = this.getNearestAgent(main.shops);\nmoveTo(nearestShop)</strong></p>\n<p>I am stuck and don't know how to move from there using loop</p>\n"},{"tags":["java","logging","message","systemd"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667390176,"post_id":74288222,"comment_id":131154607,"body_markdown":"*But i dont want to use Log4j or a other Library :)* But you shouldn&#39;t *not* want to, as that&#39;s how logging should be done. It can even interact with system logging if need be if you use the right library","body":"<i>But i dont want to use Log4j or a other Library :)</i> But you shouldn&#39;t <i>not</i> want to, as that&#39;s how logging should be done. It can even interact with system logging if need be if you use the right library"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667391100,"creation_date":1667390669,"answer_id":74288858,"question_id":74288222,"body_markdown":"# System.err\r\n\r\nI suspect you want something very simple, so you can try the error output stream accessible via [`System.err`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#err). It can be used pretty match like a standard output stream `System.out` with which you&#39;re already familiar.\r\n\r\nYou can create your own message patterns and apply them using `printf()` *(refer to the [official tutorial](https://docs.oracle.com/javase/tutorial/essential/io/formatting.html) provided by Oracle for more information on string formatting*).\r\n\r\n```\r\nSystem.err.println(&quot;message&quot;);\r\n        \r\nSystem.err.printf(LocalDate.now() + &quot; : %s&quot;, &quot;message&quot;);\r\n```\r\n\r\nThe message would be printed on the Console, highlighted in red. That&#39;s it.\r\n\r\n# Java logging API\r\n\r\nIf you want something more elaborate, Java has a built-in logging API (*no external dependencies required*). It resides in the `java.util.logging` (*that&#39;s why it&#39;s called JUL for short*) and offers lots of functionality and many tools including Loggers, Handler, Filters, Formatters, etc. You can learn more about it [here](https://docs.oracle.com/en/java/javase/15/core/java-logging-overview.html#GUID-B83B652C-17EA-48D9-93D2-563AE1FF8EDA).\r\n\r\nHere&#39;s a very dummy example:\r\n\r\n```\r\nLogger logger = Logger.getLogger(&quot;myLogger&quot;);\r\nlogger.log(Level.WARNING, &quot;something is wrong&quot;);\r\n```\r\n\r\nThat said, if you would decide to use JUL, you at least need to be aware what are the downsides of it and why other logging tool exist. \r\n\r\nFor instance, you can read this question:\r\n\r\nhttps://stackoverflow.com/questions/11359187/why-not-use-java-util-logging","title":"Filter System.out.println messages in journalctl by Error, Warn, Info","body":"<h1>System.err</h1>\n<p>I suspect you want something very simple, so you can try the error output stream accessible via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#err\" rel=\"nofollow noreferrer\"><code>System.err</code></a>. It can be used pretty match like a standard output stream <code>System.out</code> with which you're already familiar.</p>\n<p>You can create your own message patterns and apply them using <code>printf()</code> <em>(refer to the <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/formatting.html\" rel=\"nofollow noreferrer\">official tutorial</a> provided by Oracle for more information on string formatting</em>).</p>\n<pre><code>System.err.println(&quot;message&quot;);\n        \nSystem.err.printf(LocalDate.now() + &quot; : %s&quot;, &quot;message&quot;);\n</code></pre>\n<p>The message would be printed on the Console, highlighted in red. That's it.</p>\n<h1>Java logging API</h1>\n<p>If you want something more elaborate, Java has a built-in logging API (<em>no external dependencies required</em>). It resides in the <code>java.util.logging</code> (<em>that's why it's called JUL for short</em>) and offers lots of functionality and many tools including Loggers, Handler, Filters, Formatters, etc. You can learn more about it <a href=\"https://docs.oracle.com/en/java/javase/15/core/java-logging-overview.html#GUID-B83B652C-17EA-48D9-93D2-563AE1FF8EDA\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here's a very dummy example:</p>\n<pre><code>Logger logger = Logger.getLogger(&quot;myLogger&quot;);\nlogger.log(Level.WARNING, &quot;something is wrong&quot;);\n</code></pre>\n<p>That said, if you would decide to use JUL, you at least need to be aware what are the downsides of it and why other logging tool exist.</p>\n<p>For instance, you can read this question:</p>\n<p><a href=\"https://stackoverflow.com/questions/11359187/why-not-use-java-util-logging\">Why not use java.util.logging?</a></p>\n"}],"owner":{"account_id":16857411,"reputation":93,"user_id":12189042,"display_name":"Morty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74288858,"answer_count":1,"score":0,"last_activity_date":1667402231,"creation_date":1667387345,"question_id":74288222,"body_markdown":"How can I Filter Messages in Java, that is controlled by Systemd?\r\n\r\nAt the moment, I&#39;m writing logs using `System.out.println` like this:\r\n\r\n    System.out.println(&quot;Hello this is a Error&quot;);\r\n\r\nand the Journalctl -b -u test.service gives me this:\r\n\r\n    Nov 02 11:58:41 test java[10]: Hello this is a Error\r\n\r\n**I would like to do something like this**\r\n\r\nConsider a pseudocode:\r\n\r\n```\r\nSystem.out.println(&quot;Hello this is a Error&quot;, &quot;Warn&quot;);\r\n```\r\nand obtain the following:\r\n\r\n    Nov 02 11:58:41 test java[10] [Error]: Hello this is a Error\r\n\r\nBut I **don&#39;t** want to use Log4j or any other Library. Maybe I just don&#39;t know what to search for, can&#39;t find a solution. Hope somebody has an idea.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Filter System.out.println messages in journalctl by Error, Warn, Info","body":"<p>How can I Filter Messages in Java, that is controlled by Systemd?</p>\n<p>At the moment, I'm writing logs using <code>System.out.println</code> like this:</p>\n<pre><code>System.out.println(&quot;Hello this is a Error&quot;);\n</code></pre>\n<p>and the Journalctl -b -u test.service gives me this:</p>\n<pre><code>Nov 02 11:58:41 test java[10]: Hello this is a Error\n</code></pre>\n<p><strong>I would like to do something like this</strong></p>\n<p>Consider a pseudocode:</p>\n<pre><code>System.out.println(&quot;Hello this is a Error&quot;, &quot;Warn&quot;);\n</code></pre>\n<p>and obtain the following:</p>\n<pre><code>Nov 02 11:58:41 test java[10] [Error]: Hello this is a Error\n</code></pre>\n<p>But I <strong>don't</strong> want to use Log4j or any other Library. Maybe I just don't know what to search for, can't find a solution. Hope somebody has an idea.</p>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667402156,"post_id":74291524,"comment_id":131159316,"body_markdown":"Don&#39;t reinvent the wheel, checkstyle can do this https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/imports/IllegalImportCheck.html","body":"Don&#39;t reinvent the wheel, checkstyle can do this <a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/imports/IllegalImportCheck.html\" rel=\"nofollow noreferrer\">checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/&hellip;</a>"},{"owner":{"account_id":17696,"reputation":753,"user_id":39893,"accept_rate":100,"display_name":"Kai Mechel"},"score":0,"creation_date":1667404356,"post_id":74291524,"comment_id":131160162,"body_markdown":"@AbhijitSarkar the only problem is, that Checkstyle does not find code within a method like &quot;org.assertj.core.util.Lists.newArrayList()&quot; because there is no import if you fully qualify the &#39;unwanted class&#39;.\n\nBut apart from that, it helps for a lot of occurrences, thank you!","body":"@AbhijitSarkar the only problem is, that Checkstyle does not find code within a method like &quot;org.assertj.core.util.Lists.newArrayList()&quot; because there is no import if you fully qualify the &#39;unwanted class&#39;.  But apart from that, it helps for a lot of occurrences, thank you!"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667449565,"post_id":74291524,"comment_id":131171142,"body_markdown":"You may want to report the FQN issue to [Checkstyle](https://github.com/checkstyle/checkstyle).","body":"You may want to report the FQN issue to <a href=\"https://github.com/checkstyle/checkstyle\" rel=\"nofollow noreferrer\">Checkstyle</a>."}],"owner":{"account_id":17696,"reputation":753,"user_id":39893,"accept_rate":100,"display_name":"Kai Mechel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667402073,"creation_date":1667402073,"question_id":74291524,"body_markdown":"How can I find unwanted imports in a java class with a SpotBugs Detector?\r\n\r\nRight now I&#39;m trying to extends BytecodeScanningDetector and overrite visit(...) methods.\r\nBut I can&#39;t seem to find the information (originating package of variables) that I want.","title":"Spotbugs - write Detector, that finds unwanted imports in a java class","body":"<p>How can I find unwanted imports in a java class with a SpotBugs Detector?</p>\n<p>Right now I'm trying to extends BytecodeScanningDetector and overrite visit(...) methods.\nBut I can't seem to find the information (originating package of variables) that I want.</p>\n"},{"tags":["java","spring-boot","kubernetes-pod"],"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658090876,"post_id":73013237,"comment_id":128959032,"body_markdown":"Your question is formulated too broad, it will be hard to formulate an answer. Providing a [minimal-reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) might help!","body":"Your question is formulated too broad, it will be hard to formulate an answer. Providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible example</a> might help!"},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658137324,"post_id":73013237,"comment_id":128967516,"body_markdown":"how exactly do you fetch your records?","body":"how exactly do you fetch your records?"},{"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"score":0,"creation_date":1658211327,"post_id":73013237,"comment_id":128988243,"body_markdown":"I fetch records from database","body":"I fetch records from database"},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658211934,"post_id":73013237,"comment_id":128988406,"body_markdown":"I mean, do use plain JDBC, standard JPA or Spring Data? Can you share a small snippet how you retrieve the records? Most likely you&#39;ll need to use database locks and a additional column to set processing status to prevent double processing.","body":"I mean, do use plain JDBC, standard JPA or Spring Data? Can you share a small snippet how you retrieve the records? Most likely you&#39;ll need to use database locks and a additional column to set processing status to prevent double processing."},{"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"score":0,"creation_date":1658235051,"post_id":73013237,"comment_id":128996886,"body_markdown":"I am using JPA but I am caching the records(whose datetime field is of within 5 hrs) at service side, taking the records from cache and picking up for the matched time with current time.","body":"I am using JPA but I am caching the records(whose datetime field is of within 5 hrs) at service side, taking the records from cache and picking up for the matched time with current time."},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658245644,"post_id":73013237,"comment_id":129001588,"body_markdown":"how do you cache them? and, independent of that, can you add a field to support marking an entry as processed?","body":"how do you cache them? and, independent of that, can you add a field to support marking an entry as processed?"},{"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"score":0,"creation_date":1658299956,"post_id":73013237,"comment_id":129014000,"body_markdown":"I am maintaining a TreeSet of records. I can add processed field in collection but how other pod will get to know. I am maintaining processed field in DB after it picked up and sent the email, but between that only other pod is also picking this up. As it is scheduled for the same time.","body":"I am maintaining a TreeSet of records. I can add processed field in collection but how other pod will get to know. I am maintaining processed field in DB after it picked up and sent the email, but between that only other pod is also picking this up. As it is scheduled for the same time."}],"answers":[{"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658089995,"post_id":73015037,"comment_id":128958875,"body_markdown":"Your statement about StatefulSets is not true, they still spawn multiple pods when scaled above 1, same as Deployments.","body":"Your statement about StatefulSets is not true, they still spawn multiple pods when scaled above 1, same as Deployments."},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658090151,"post_id":73015037,"comment_id":128958904,"body_markdown":"A singleton also does not help -- that only addresses parallel processing in *one* JVM on one pod.","body":"A singleton also does not help -- that only addresses parallel processing in <i>one</i> JVM on one pod."},{"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"score":0,"creation_date":1658668905,"post_id":73015037,"comment_id":129103318,"body_markdown":"Criztovyl, please read kubernetes docs about StatefuleSets : https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/ . As you can read &quot;provides guarantees about the ordering and uniqueness of these Pods&quot;. As for the solution I agree that this is not the best solution for reliability and other reasons. As stated the best solution is to modify the application so as to get a lock on the single record. The same thing you suggested on your comments.","body":"Criztovyl, please read kubernetes docs about StatefuleSets : <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/\" rel=\"nofollow noreferrer\">kubernetes.io/docs/concepts/workloads/controllers/statefulse&zwnj;&#8203;t</a> . As you can read &quot;provides guarantees about the ordering and uniqueness of these Pods&quot;. As for the solution I agree that this is not the best solution for reliability and other reasons. As stated the best solution is to modify the application so as to get a lock on the single record. The same thing you suggested on your comments."},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658677080,"post_id":73015037,"comment_id":129105042,"body_markdown":"I am intrigued how we&#39;re misunderstanding each other. What I mean is that it is not relevant to OPs problem whether you use a normal Deployment or a StatefulSet to run two pods -- the code will still be running concurrently at those two pods. StatefulSets &quot;only&quot; guarantee ordering at startup and unique names of the pods.","body":"I am intrigued how we&#39;re misunderstanding each other. What I mean is that it is not relevant to OPs problem whether you use a normal Deployment or a StatefulSet to run two pods -- the code will still be running concurrently at those two pods. StatefulSets &quot;only&quot; guarantee ordering at startup and unique names of the pods."},{"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"score":0,"creation_date":1658694757,"post_id":73015037,"comment_id":129109031,"body_markdown":"You should read answers better before posting comments please.","body":"You should read answers better before posting comments please."}],"tags":[],"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658088551,"creation_date":1658088551,"answer_id":73015037,"question_id":73013237,"body_markdown":"The best solution is to get the singleton pattern modifying the application so as to have the single record processed once. You can use a locking mechanism so as to prevent double processing. The other solution is to use a StatefulSets controller on kubernetes, but that way you have only one pod working at a time.","title":"How to avoid same event trigger from two pods","body":"<p>The best solution is to get the singleton pattern modifying the application so as to have the single record processed once. You can use a locking mechanism so as to prevent double processing. The other solution is to use a StatefulSets controller on kubernetes, but that way you have only one pod working at a time.</p>\n"},{"tags":[],"owner":{"account_id":4763497,"reputation":11,"user_id":3850289,"display_name":"ulf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667400958,"creation_date":1667400958,"answer_id":74291269,"question_id":73013237,"body_markdown":"An easy way would be to allow the process to be triggered from outside of the application, e.g. using a RestController.\r\nThen, you could move the scheduler outside of your application as well and trigger the endpoint using the URL of the Service. The request will be processed by one of the pods only.\r\nIn Kubernetes, you could use a [CronJob][1] to do that.\r\n\r\n\r\n  [1]: https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/","title":"How to avoid same event trigger from two pods","body":"<p>An easy way would be to allow the process to be triggered from outside of the application, e.g. using a RestController.\nThen, you could move the scheduler outside of your application as well and trigger the endpoint using the URL of the Service. The request will be processed by one of the pods only.\nIn Kubernetes, you could use a <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/\" rel=\"nofollow noreferrer\">CronJob</a> to do that.</p>\n"}],"owner":{"account_id":4787256,"reputation":19,"user_id":3867362,"display_name":"Asha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667400958,"creation_date":1658073198,"question_id":73013237,"body_markdown":"I am creating a Java spring boot service, I am caching a few records from DB. I am matching current time with records time(a DB column) on every 2 minutes. If matched, I am sending email  with @Scheduled(cron = expression). \r\nI am running this service on two pods. Hence for a single record event is triggering on both pods and sending same email.\r\n\r\nIn short I want to trigger email at a some scheduled time and I have two pods. Both pods are triggering email at same scheduled time\r\n\r\nHow can I avoid this?\r\n ","title":"How to avoid same event trigger from two pods","body":"<p>I am creating a Java spring boot service, I am caching a few records from DB. I am matching current time with records time(a DB column) on every 2 minutes. If matched, I am sending email  with @Scheduled(cron = expression).\nI am running this service on two pods. Hence for a single record event is triggering on both pods and sending same email.</p>\n<p>In short I want to trigger email at a some scheduled time and I have two pods. Both pods are triggering email at same scheduled time</p>\n<p>How can I avoid this?</p>\n"},{"tags":["java","nlp","stanford-nlp","pos-tagger"],"answers":[{"comments":[{"owner":{"account_id":10250846,"reputation":55,"user_id":7565149,"display_name":"David Kriz"},"score":0,"creation_date":1490563430,"post_id":43033034,"comment_id":73154745,"body_markdown":"Thanks for the answer. Yeah, that&#39;s what I figured might be the case. I am aware that it uses PTB (and from your answer, now I understand why the training mechanics don&#39;t conform to a specific treebank model). It still would be nice for my current project if I could access the values somehow—even programmatically—rather than having to trust my own abilities to copy the values for comparison into my own enum by hand. Us programmers generally hate to do things like this rather than automating somehow, so you could understand where this is coming from. Oh, well. Thanks again for the help. :)","body":"Thanks for the answer. Yeah, that&#39;s what I figured might be the case. I am aware that it uses PTB (and from your answer, now I understand why the training mechanics don&#39;t conform to a specific treebank model). It still would be nice for my current project if I could access the values somehow—even programmatically—rather than having to trust my own abilities to copy the values for comparison into my own enum by hand. Us programmers generally hate to do things like this rather than automating somehow, so you could understand where this is coming from. Oh, well. Thanks again for the help. :)"},{"owner":{"account_id":1589853,"reputation":5729,"user_id":1473431,"display_name":"Gabor Angeli"},"score":1,"creation_date":1490565923,"post_id":43033034,"comment_id":73155546,"body_markdown":"So, you can try to take a look at `AbstractSequenceClassifier#labels()`, which will give you the sequence model&#39;s view of the label space. But, (1) this doesn&#39;t necessarily have to be correct (e.g., it could in theory have more labels than are in the training set), and (2) it&#39;s a pain to get at from the actual pipeline. I&#39;d recommend just hard-coding the tags yourself into an enum. A lot of things change over time in CoreNLP, but the POS tag set is not likely to be one of them","body":"So, you can try to take a look at <code>AbstractSequenceClassifier#labels()</code>, which will give you the sequence model&#39;s view of the label space. But, (1) this doesn&#39;t necessarily have to be correct (e.g., it could in theory have more labels than are in the training set), and (2) it&#39;s a pain to get at from the actual pipeline. I&#39;d recommend just hard-coding the tags yourself into an enum. A lot of things change over time in CoreNLP, but the POS tag set is not likely to be one of them"}],"tags":[],"owner":{"account_id":1589853,"reputation":5729,"user_id":1473431,"display_name":"Gabor Angeli"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1490553931,"creation_date":1490553931,"answer_id":43033034,"question_id":43022047,"body_markdown":"I&#39;m not actually sure they&#39;re represented explicitly anywhere in the code. The tagger simply outputs them as Strings rather than any sort of fixed enum, and the output space is inferred directly from the training data. The advantage of this being that you can train the exact same model on arbitrary tag sets. And of course the disadvantage you&#39;ve just run into. :)\r\n\r\nHowever, for English, the tag set should be the Penn Treebank tag set: https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html","title":"Where in the CoreNLP code are the Penn Treebank part-of-speech symbols themselves actually represented?","body":"<p>I'm not actually sure they're represented explicitly anywhere in the code. The tagger simply outputs them as Strings rather than any sort of fixed enum, and the output space is inferred directly from the training data. The advantage of this being that you can train the exact same model on arbitrary tag sets. And of course the disadvantage you've just run into. :)</p>\n\n<p>However, for English, the tag set should be the Penn Treebank tag set: <a href=\"https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html\" rel=\"nofollow noreferrer\">https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html</a></p>\n"},{"comments":[{"owner":{"account_id":29327,"reputation":1826,"user_id":79201,"accept_rate":100,"display_name":"Ryan Schumacher"},"score":0,"creation_date":1667763614,"post_id":74291257,"comment_id":131239472,"body_markdown":"http://surdeanu.cs.arizona.edu/mihai/teaching/ista555-fall13/readings/PennTreebankConstituents.html","body":"<a href=\"http://surdeanu.cs.arizona.edu/mihai/teaching/ista555-fall13/readings/PennTreebankConstituents.html\" rel=\"nofollow noreferrer\">surdeanu.cs.arizona.edu/mihai/teaching/ista555-fall13/readin&zwnj;&#8203;gs/&hellip;</a>"}],"tags":[],"owner":{"account_id":29327,"reputation":1826,"user_id":79201,"accept_rate":100,"display_name":"Ryan Schumacher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667400911,"creation_date":1667400911,"answer_id":74291257,"question_id":43022047,"body_markdown":"I&#39;ve found that this seems to give the most description to the tags:\r\n\r\nhttps://github.com/stanfordnlp/CoreNLP/blob/main/data/edu/stanford/nlp/upos/ENUniversalPOS.tsurgeon\r\n\r\nHowever, many of the `HeadFinder` files contain POS tags as well:\r\n\r\nhttps://github.com/stanfordnlp/CoreNLP/blob/main/src/edu/stanford/nlp/trees/CollinsHeadFinder.java","title":"Where in the CoreNLP code are the Penn Treebank part-of-speech symbols themselves actually represented?","body":"<p>I've found that this seems to give the most description to the tags:</p>\n<p><a href=\"https://github.com/stanfordnlp/CoreNLP/blob/main/data/edu/stanford/nlp/upos/ENUniversalPOS.tsurgeon\" rel=\"nofollow noreferrer\">https://github.com/stanfordnlp/CoreNLP/blob/main/data/edu/stanford/nlp/upos/ENUniversalPOS.tsurgeon</a></p>\n<p>However, many of the <code>HeadFinder</code> files contain POS tags as well:</p>\n<p><a href=\"https://github.com/stanfordnlp/CoreNLP/blob/main/src/edu/stanford/nlp/trees/CollinsHeadFinder.java\" rel=\"nofollow noreferrer\">https://github.com/stanfordnlp/CoreNLP/blob/main/src/edu/stanford/nlp/trees/CollinsHeadFinder.java</a></p>\n"}],"owner":{"account_id":10250846,"reputation":55,"user_id":7565149,"display_name":"David Kriz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43033034,"answer_count":2,"score":3,"last_activity_date":1667400911,"creation_date":1490476563,"question_id":43022047,"body_markdown":"I&#39;m looking specifically for some data structure, enum, or generative process through which the different parts-of-speech are represented internally. I&#39;ve spent a long time scanning the Javadoc and the source code for a while and can&#39;t find what I&#39;m looking for. I would like to access a collection of the tags directly, if possible, if they&#39;re stored in some central location. Please forgive me if the question I&#39;m posing constitutes a naive assumption regarding the way CoreNLP pos-tagging operates, but if what I&#39;m describing does exist in some form, this would be very helpful. Thanks!","title":"Where in the CoreNLP code are the Penn Treebank part-of-speech symbols themselves actually represented?","body":"<p>I'm looking specifically for some data structure, enum, or generative process through which the different parts-of-speech are represented internally. I've spent a long time scanning the Javadoc and the source code for a while and can't find what I'm looking for. I would like to access a collection of the tags directly, if possible, if they're stored in some central location. Please forgive me if the question I'm posing constitutes a naive assumption regarding the way CoreNLP pos-tagging operates, but if what I'm describing does exist in some form, this would be very helpful. Thanks!</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":22824623,"reputation":33,"user_id":16974060,"display_name":"Robin J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667400856,"creation_date":1667400856,"answer_id":74291244,"question_id":71751046,"body_markdown":"this just a small idea, why not use transiant object and set your list by hand using a listener whith the PostLoad annotation. I don&#39;t know where it could lead. You must remove what causes your select to return multiple lines. ","title":"JPA map multiple rows into List","body":"<p>this just a small idea, why not use transiant object and set your list by hand using a listener whith the PostLoad annotation. I don't know where it could lead. You must remove what causes your select to return multiple lines.</p>\n"}],"owner":{"account_id":19870341,"reputation":1,"user_id":14556650,"display_name":"bruno grznar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667400856,"creation_date":1649158506,"question_id":71751046,"body_markdown":"Hello is there way so java can map multiple rows of joined tables with reference OneToMany into list?\r\n\r\nI need to use view, because there are some conditions I need to have, but I get multiple rows from this join because one entity is referenced more times, like this:\r\nWe can have foo and bar, where bar references foo:\r\n\r\n    \r\nView:\r\n\r\n    SELECT\r\n         foo.id fooID,\r\n         foo.name fooName,\r\n         b.id barID\r\n    FROM foo\r\n              LEFT JOIN bar b on b.foo_id = foo.id\r\n              LEFT JOIN bar_properties bp ON b.property_id = bp.id\r\n              LEFT JOIN bar_states bs ON b.state_id = bs.id\r\n        WHERE\r\n              bs.name = &#39;active&#39;\r\n              bp.name = &#39;NEW&#39;\r\n\r\nRESULTS\r\n\r\n    fooID   fooName   barId\r\n    22,     test2,    1\r\n    22,     test2,    2\r\n    23,     test3,    3\r\n\r\nIn Java after I call ViewRepository.findAll() I need to get only 2 records (not 3), but I need to have multiple records in my @OneToMany list like this:\r\n\r\n    fooID   fooName   bars\r\n    22,     test2,    [1,2]\r\n    23,     test2,    [3]\r\n\r\nI tried using annotation like this in my view model:\r\n\r\n        @OneToMany(mappedBy = &quot;foo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @Where(clause = &quot;&quot;)\r\n        private final List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();\r\n\r\nBut I could not get right the way how to use multiple other entities in this where condition.\r\nFor example states or properties of bar, which are in other tables.\r\n","title":"JPA map multiple rows into List","body":"<p>Hello is there way so java can map multiple rows of joined tables with reference OneToMany into list?</p>\n<p>I need to use view, because there are some conditions I need to have, but I get multiple rows from this join because one entity is referenced more times, like this:\nWe can have foo and bar, where bar references foo:</p>\n<p>View:</p>\n<pre><code>SELECT\n     foo.id fooID,\n     foo.name fooName,\n     b.id barID\nFROM foo\n          LEFT JOIN bar b on b.foo_id = foo.id\n          LEFT JOIN bar_properties bp ON b.property_id = bp.id\n          LEFT JOIN bar_states bs ON b.state_id = bs.id\n    WHERE\n          bs.name = 'active'\n          bp.name = 'NEW'\n</code></pre>\n<p>RESULTS</p>\n<pre><code>fooID   fooName   barId\n22,     test2,    1\n22,     test2,    2\n23,     test3,    3\n</code></pre>\n<p>In Java after I call ViewRepository.findAll() I need to get only 2 records (not 3), but I need to have multiple records in my @OneToMany list like this:</p>\n<pre><code>fooID   fooName   bars\n22,     test2,    [1,2]\n23,     test2,    [3]\n</code></pre>\n<p>I tried using annotation like this in my view model:</p>\n<pre><code>    @OneToMany(mappedBy = &quot;foo&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @Where(clause = &quot;&quot;)\n    private final List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();\n</code></pre>\n<p>But I could not get right the way how to use multiple other entities in this where condition.\nFor example states or properties of bar, which are in other tables.</p>\n"},{"tags":["java","c#","matcher"],"answers":[{"comments":[{"owner":{"account_id":8286569,"reputation":64,"user_id":6229521,"accept_rate":75,"display_name":"Terahertz"},"score":0,"creation_date":1462878148,"post_id":37136578,"comment_id":61811916,"body_markdown":"Mmm, Ok, I think I missunderstood the meaning of Regex.Matches at first!  But then, if Regex.Matches is null, how could I handle it?","body":"Mmm, Ok, I think I missunderstood the meaning of Regex.Matches at first!  But then, if Regex.Matches is null, how could I handle it?"},{"owner":{"account_id":54382,"reputation":14965,"user_id":162699,"accept_rate":76,"display_name":"Gusman"},"score":0,"creation_date":1462878188,"post_id":37136578,"comment_id":61811946,"body_markdown":"That usually means there&#39;s no match at all. Let me post an example.","body":"That usually means there&#39;s no match at all. Let me post an example."},{"owner":{"account_id":54382,"reputation":14965,"user_id":162699,"accept_rate":76,"display_name":"Gusman"},"score":0,"creation_date":1462878469,"post_id":37136578,"comment_id":61812154,"body_markdown":"Also, if you expect just one result you can use .Match, it will return just a match and you can chec .Success property of it to check if it was matched.","body":"Also, if you expect just one result you can use .Match, it will return just a match and you can chec .Success property of it to check if it was matched."}],"tags":[],"owner":{"account_id":54382,"reputation":14965,"user_id":162699,"accept_rate":76,"display_name":"Gusman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1462878364,"creation_date":1462877999,"answer_id":37136578,"question_id":37136376,"body_markdown":"On C# you will use Regex. Regex class has a function named &quot;Matches&quot; which will return all coincident matches for the pattern.\r\n\r\nAnd each Match has a property called Groups where are stored captured groups.\r\n\r\nSo, find -&gt; Regex.Matches, group -&gt; Match.Groups.\r\n\r\nThey&#39;re not direct equivalents, but they will give you the same functionality.\r\n\r\nHere is a simple example:\r\n\r\n    var reg = new Regex(&quot;(\\\\d+)$&quot;);\r\n\r\n    var matches = reg.Matches(&quot;some string 0123&quot;);\r\n\r\n    List&lt;string&gt; found = new List&lt;string&gt;();\r\n\r\n    if(matches != null)\r\n    {\r\n        foreach(Match m in matches)\r\n            found.Add(m.Groups[1].Value);\r\n    }\r\n\r\n    //do whatever you want with found\r\n\r\nRemember that m.Groups[0] will contain the full capture and any subsequent Group will be captured groups.\r\n\r\nAlso, if you expect just one result then you can use .Match:\r\n\r\n\r\n    var match = reg.Match(&quot;some string 0123&quot;);\r\n\r\n    if(match != null &amp;&amp; match.Success)\r\n        //Process the Groups as you wish.","title":"C# / .NET equivalent for Java Matcher.find and Matcher.group","body":"<p>On C# you will use Regex. Regex class has a function named \"Matches\" which will return all coincident matches for the pattern.</p>\n\n<p>And each Match has a property called Groups where are stored captured groups.</p>\n\n<p>So, find -> Regex.Matches, group -> Match.Groups.</p>\n\n<p>They're not direct equivalents, but they will give you the same functionality.</p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>var reg = new Regex(\"(\\\\d+)$\");\n\nvar matches = reg.Matches(\"some string 0123\");\n\nList&lt;string&gt; found = new List&lt;string&gt;();\n\nif(matches != null)\n{\n    foreach(Match m in matches)\n        found.Add(m.Groups[1].Value);\n}\n\n//do whatever you want with found\n</code></pre>\n\n<p>Remember that m.Groups[0] will contain the full capture and any subsequent Group will be captured groups.</p>\n\n<p>Also, if you expect just one result then you can use .Match:</p>\n\n<pre><code>var match = reg.Match(\"some string 0123\");\n\nif(match != null &amp;&amp; match.Success)\n    //Process the Groups as you wish.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25473493,"reputation":111,"user_id":19271220,"display_name":"PhideasAmbrosianus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667400792,"creation_date":1667399700,"answer_id":74290970,"question_id":37136376,"body_markdown":"More complete example from @Gusman, I only made it  easier cut/paste/understanding and including the required using statement.\r\n(I cannot edit, queue is full so doing this for future users...)\r\n\r\n```\r\nusing System.Text.RegularExpressions;\r\n\r\npublic static void SampleRegexMatchesAndMatch()\r\n{\r\n  var reg = new Regex(&quot;(\\\\d+)$&quot;);\r\n\r\n  //Example with Matches\r\n  var matches = reg.Matches(&quot;some string 0123&quot;);\r\n\r\n  List&lt;string&gt; found = new List&lt;string&gt;();\r\n\r\n  foreach(Match m in matches)\r\n    found.Add(m.Groups[1].Value);\r\n\r\n  //Do whatever you want with found object results or work direct with matches\r\n  //--------------------------------------------------------------------------\r\n\r\n  //Example with Match\r\n  var match = reg.Match(&quot;some string 0123&quot;);\r\n\r\n  if(match != null &amp;&amp; match.Success)\r\n  {\r\n    //Process the Groups as you wish.\r\n  }\r\n}\r\n```","title":"C# / .NET equivalent for Java Matcher.find and Matcher.group","body":"<p>More complete example from @Gusman, I only made it  easier cut/paste/understanding and including the required using statement.\n(I cannot edit, queue is full so doing this for future users...)</p>\n<pre><code>using System.Text.RegularExpressions;\n\npublic static void SampleRegexMatchesAndMatch()\n{\n  var reg = new Regex(&quot;(\\\\d+)$&quot;);\n\n  //Example with Matches\n  var matches = reg.Matches(&quot;some string 0123&quot;);\n\n  List&lt;string&gt; found = new List&lt;string&gt;();\n\n  foreach(Match m in matches)\n    found.Add(m.Groups[1].Value);\n\n  //Do whatever you want with found object results or work direct with matches\n  //--------------------------------------------------------------------------\n\n  //Example with Match\n  var match = reg.Match(&quot;some string 0123&quot;);\n\n  if(match != null &amp;&amp; match.Success)\n  {\n    //Process the Groups as you wish.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8286569,"reputation":64,"user_id":6229521,"accept_rate":75,"display_name":"Terahertz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37136578,"answer_count":2,"score":1,"last_activity_date":1667400792,"creation_date":1462877482,"question_id":37136376,"body_markdown":"I have seen that there are some posts regarding the Java Matcher class, but I was not able to find one regarding the specific methods `find()` and `group()`.\r\n\r\nI have this piece of code, where Lane and IllegalLaneException have already been defined:\r\n\r\n    private int getIdFromLane(Lane lane) throws IllegalLaneException {\r\n    \tMatcher m = pattern.matcher(lane.getID());\r\n    \tif (m.find()) {\r\n    \t\treturn Integer.parseInt(m.group());\r\n    \t} else {\r\n    \t\tthrow new IllegalLaneException();\r\n    \t}\r\n    }\r\n\r\nLooking at the Java Documentation, we have the following:\r\n\r\n`find()` - Attempts to find the next subsequence of the input sequence that matches the pattern.\r\n\r\n`group()` - Returns the input subsequence matched by the previous match.\r\n\r\nMy question is, which is the equivalent to the methods `find()` and `group()` in C#?\r\n\r\nEDIT: I forgot to say that I am using the MatchCollection class together with Regex\r\n\r\nC# code:\r\n\r\n    private static Regex pattern = new Regex(&quot;\\\\d+$&quot;); // variable outside the method\r\n    \r\n    private int getIdFromLane(Lane lane) //throws IllegalLaneException\r\n    {\r\n        MatchCollection m = pattern.Matches(lane.getID());\r\n    ...\r\n    }","title":"C# / .NET equivalent for Java Matcher.find and Matcher.group","body":"<p>I have seen that there are some posts regarding the Java Matcher class, but I was not able to find one regarding the specific methods <code>find()</code> and <code>group()</code>.</p>\n\n<p>I have this piece of code, where Lane and IllegalLaneException have already been defined:</p>\n\n<pre><code>private int getIdFromLane(Lane lane) throws IllegalLaneException {\n    Matcher m = pattern.matcher(lane.getID());\n    if (m.find()) {\n        return Integer.parseInt(m.group());\n    } else {\n        throw new IllegalLaneException();\n    }\n}\n</code></pre>\n\n<p>Looking at the Java Documentation, we have the following:</p>\n\n<p><code>find()</code> - Attempts to find the next subsequence of the input sequence that matches the pattern.</p>\n\n<p><code>group()</code> - Returns the input subsequence matched by the previous match.</p>\n\n<p>My question is, which is the equivalent to the methods <code>find()</code> and <code>group()</code> in C#?</p>\n\n<p>EDIT: I forgot to say that I am using the MatchCollection class together with Regex</p>\n\n<p>C# code:</p>\n\n<pre><code>private static Regex pattern = new Regex(\"\\\\d+$\"); // variable outside the method\n\nprivate int getIdFromLane(Lane lane) //throws IllegalLaneException\n{\n    MatchCollection m = pattern.Matches(lane.getID());\n...\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":26807492,"reputation":11,"user_id":20398586,"display_name":"Wave Miami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667399910,"creation_date":1667399910,"question_id":74291013,"body_markdown":"I&#39;m trying to make a schedule program, in the first spinner I select the specialty, in the second group, I need that when the group is selected in the TextView the schedule of this group is displayed. I can not find information how to do it.\r\n\r\n```\r\n/dd menu\r\n        sp_parent=findViewById(R.id.spinner);\r\n        sp_child =findViewById(R.id.spinner3);\r\n        // ============= Array List proffesions ============\r\n        arrayList_parent=new ArrayList&lt;&gt;();\r\n        arrayList_parent.add(&quot;Облік і оподаткування&quot;); arrayList_parent.add(&quot;Харчові технології&quot;); arrayList_parent.add(&quot;Готельно-ресторанна справа&quot;);\r\n        arrayList_parent.add(&quot;Право&quot;); arrayList_parent.add(&quot;Комп&#39;ютерна інженерія&quot;);  arrayList_parent.add(&quot;Підприємництво, торгівля та біржова діяльність&quot;);\r\n        arrayList_parent.add(&quot;Туризм&quot;); arrayList_parent.add(&quot;Фінанси, банківська справа і страхування&quot;);\r\n\r\n        arrayAdapter_parent=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_parent);\r\n        sp_parent.setAdapter(arrayAdapter_parent);\r\n\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/VT5uo.png)](https://i.stack.imgur.com/VT5uo.png)\r\n  \r\n\r\n```\r\nsp_parent.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n\r\n                if(position==0){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_oblic );\r\n                    String selected = (String) sp_child.getItemAtPosition(position);\r\n                    schedule_text.setText(selected);\r\n\r\n                }\r\n                if(position==1){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_food_technology );\r\n                    String selected = sp_child.getSelectedItem().toString();\r\n                    schedule_text.setText(selected);\r\n                }\r\n                if(position==2){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_hotel );\r\n                }\r\n                if(position==3){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_law );\r\n                }\r\n                if(position==4){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_comp_genius );\r\n                }\r\n                if(position==5){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_businessman );\r\n                }\r\n                if(position==6){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_tourism );\r\n                }\r\n                if(position==7){\r\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_economy );\r\n                }\r\n                        sp_child.setAdapter(arrayAdapter_child);\r\n\r\n            }\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\n}\r\n\r\n```\r\nThis is my code\r\n```","title":"Set text if spinner selected","body":"<p>I'm trying to make a schedule program, in the first spinner I select the specialty, in the second group, I need that when the group is selected in the TextView the schedule of this group is displayed. I can not find information how to do it.</p>\n<pre><code>/dd menu\n        sp_parent=findViewById(R.id.spinner);\n        sp_child =findViewById(R.id.spinner3);\n        // ============= Array List proffesions ============\n        arrayList_parent=new ArrayList&lt;&gt;();\n        arrayList_parent.add(&quot;Облік і оподаткування&quot;); arrayList_parent.add(&quot;Харчові технології&quot;); arrayList_parent.add(&quot;Готельно-ресторанна справа&quot;);\n        arrayList_parent.add(&quot;Право&quot;); arrayList_parent.add(&quot;Комп'ютерна інженерія&quot;);  arrayList_parent.add(&quot;Підприємництво, торгівля та біржова діяльність&quot;);\n        arrayList_parent.add(&quot;Туризм&quot;); arrayList_parent.add(&quot;Фінанси, банківська справа і страхування&quot;);\n\n        arrayAdapter_parent=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_parent);\n        sp_parent.setAdapter(arrayAdapter_parent);\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VT5uo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VT5uo.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>sp_parent.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n\n                if(position==0){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_oblic );\n                    String selected = (String) sp_child.getItemAtPosition(position);\n                    schedule_text.setText(selected);\n\n                }\n                if(position==1){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_food_technology );\n                    String selected = sp_child.getSelectedItem().toString();\n                    schedule_text.setText(selected);\n                }\n                if(position==2){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_hotel );\n                }\n                if(position==3){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_law );\n                }\n                if(position==4){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_comp_genius );\n                }\n                if(position==5){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_businessman );\n                }\n                if(position==6){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_tourism );\n                }\n                if(position==7){\n                    arrayAdapter_child=new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, arrayList_economy );\n                }\n                        sp_child.setAdapter(arrayAdapter_child);\n\n            }\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n</code></pre>\n<p>}</p>\n<pre><code>This is my code\n</code></pre>\n"},{"tags":["java","json","rest","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1414916742,"creation_date":1414916742,"answer_id":26697415,"question_id":26697102,"body_markdown":"JAX-RS has a bunch of built-in handlers that can marshal to and from a few different\r\nspecific Java types.\r\n\r\nOnce we start dealing with custom data-binding (marshalling/unmarshalling to Java objects), we are in a different ball game. We now require some other [`MessageBodyWriters`](http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyWriter.html) and [`MesageBodyReaders`](http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyReader.html).\r\n\r\nFortunately, there are already readers and writers available for XML and JSON data-binding. JAX-RS comes with a standard XML marshalling/unmarshalling, with one caveat.. we must use [JAXB](http://docs.oracle.com/javase/tutorial/jaxb/intro/) annotations. So for your `Test` class, assuming it&#39;s like this\r\n\r\n    public class Test {\r\n        private String name;\r\n        private int age;\r\n    \r\n        public String getName() { return name; }\r\n        public void setName(String name) { this.name = name;}\r\n        public int getAge() { return age; }\r\n        public void setAge(int age) { this.age = age; }  \r\n    }\r\n\r\nto make allow the JAXB _provider_ to unmarshall/marshall, we should provide, at minimum, an `@XmlRootElement`\r\n\r\n    @XmlRootElement\r\n    public class Test {\r\n       ....\r\n    }\r\n\r\nDoing this should allow the XML to work.\r\n\r\nAs far as the JSON, JSON binding is not a standard par of the specification, but we can simply add a dependency to the project, that will automatically register the  needed provider to handle JSON binding. You can look at the pom.xml for the [json-moxy](https://github.com/jersey/jersey/tree/master/examples/json-moxy) example. You will see this needed dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat the dependency allows application to do, is marshal/unmarshal jSON to/from our Java objects, using the JAXB annotations. So just by adding this dependency to the `pom.xml`. The application should work. Just tested.","title":"MediaType.APPLICATION_XML and MediaType.APPLICATION_JSON in a Jersey demo application","body":"<p>JAX-RS has a bunch of built-in handlers that can marshal to and from a few different\nspecific Java types.</p>\n\n<p>Once we start dealing with custom data-binding (marshalling/unmarshalling to Java objects), we are in a different ball game. We now require some other <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyWriter.html\" rel=\"noreferrer\"><code>MessageBodyWriters</code></a> and <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyReader.html\" rel=\"noreferrer\"><code>MesageBodyReaders</code></a>.</p>\n\n<p>Fortunately, there are already readers and writers available for XML and JSON data-binding. JAX-RS comes with a standard XML marshalling/unmarshalling, with one caveat.. we must use <a href=\"http://docs.oracle.com/javase/tutorial/jaxb/intro/\" rel=\"noreferrer\">JAXB</a> annotations. So for your <code>Test</code> class, assuming it's like this</p>\n\n<pre><code>public class Test {\n    private String name;\n    private int age;\n\n    public String getName() { return name; }\n    public void setName(String name) { this.name = name;}\n    public int getAge() { return age; }\n    public void setAge(int age) { this.age = age; }  \n}\n</code></pre>\n\n<p>to make allow the JAXB <em>provider</em> to unmarshall/marshall, we should provide, at minimum, an <code>@XmlRootElement</code></p>\n\n<pre><code>@XmlRootElement\npublic class Test {\n   ....\n}\n</code></pre>\n\n<p>Doing this should allow the XML to work.</p>\n\n<p>As far as the JSON, JSON binding is not a standard par of the specification, but we can simply add a dependency to the project, that will automatically register the  needed provider to handle JSON binding. You can look at the pom.xml for the <a href=\"https://github.com/jersey/jersey/tree/master/examples/json-moxy\" rel=\"noreferrer\">json-moxy</a> example. You will see this needed dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>What the dependency allows application to do, is marshal/unmarshal jSON to/from our Java objects, using the JAXB annotations. So just by adding this dependency to the <code>pom.xml</code>. The application should work. Just tested.</p>\n"}],"owner":{"account_id":3246551,"reputation":207,"user_id":2737950,"accept_rate":75,"display_name":"user2737950"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32853,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26697415,"answer_count":1,"score":7,"last_activity_date":1667399821,"creation_date":1414914193,"question_id":26697102,"body_markdown":"Once I got this Question Latest Jersey example does not work answered, I run into another curious problem:\r\n\r\nThe server, GET methods work fine. I tested and added some test code for [helloworld-pure-jax-rs](https://github.com/jersey/jersey/tree/master/examples/helloworld-pure-jax-rs) example, and esp. added a POST request for JSON:\r\n\r\n    package org.glassfish.jersey.examples.helloworld.jaxrs;\r\n    \r\n    import javax.ws.rs.Consumes;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    \r\n    \r\n    @Path(&quot;helloworld&quot;)\r\n    public class HelloWorldResource\r\n    {\r\n    \tpublic static final String\tCLICHED_MESSAGE\t= &quot;Hello World!&quot;;\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \tpublic String getHello()\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic String getHelloJson()\r\n    \t{\r\n    \t\treturn &quot;{ \\&quot;message\\&quot;:&quot; + CLICHED_MESSAGE + &quot;}&quot;;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_HTML)\r\n    \tpublic String getHelloHtml()\r\n    \t{\r\n    \t\treturn &quot;&lt;html&gt; &quot; + &quot;&lt;title&gt;&quot; + &quot;Hello Jersey&quot; + &quot;&lt;/title&gt;&quot; + &quot;&lt;body&gt;&lt;h1&gt;&quot; + CLICHED_MESSAGE\r\n    \t\t\t\t+ &quot;&lt;/body&gt;&lt;/h1&gt;&quot; + &quot;&lt;/html&gt; &quot;;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/v2&quot;)\r\n    \tpublic String getHello2()\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE + &quot; v2&quot;;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/{id}&quot;)\r\n    \tpublic String getHelloId(@PathParam(&quot;id&quot;) String id)\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;/id/{id : [a-zA-Z][a-zA-Z_0-9]}&quot;)\r\n    \tpublic String getHelloIdId(@PathParam(&quot;id&quot;) String id)\r\n    \t{\r\n    \t\treturn CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\r\n    \t}\r\n    \r\n    \t@POST\r\n    \t@Consumes(MediaType.TEXT_PLAIN)\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \tpublic Response test(String test)\r\n    \t{\r\n    \t\tif (test.equals(&quot;test&quot;))\r\n    \t\t\treturn Response.status(400).entity(&quot;Error: &quot; + test).build();\r\n    \t\treturn Response.status(200).entity(test).build();\r\n    \t}\r\n    \t\r\n    \t@POST\r\n    \t@Path(&quot;/test&quot;)\r\n    \t@Consumes(MediaType.APPLICATION_JSON)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic Response testJSON(Test test)\r\n    \t{\r\n    \t\tString result = &quot;Test JSON created : &quot; + test.getName() + &quot;&quot; + test.getAge();\r\n    \t\t// return result;\r\n    \t\treturn Response.status(200).entity(result).build();\r\n    \t}\r\n    \t\r\n    \t@POST\r\n    \t@Path(&quot;/test&quot;)\r\n    \t@Consumes(MediaType.APPLICATION_XML)\r\n    \t@Produces(MediaType.APPLICATION_XML)\r\n    \tpublic Response testXML(Test test)\r\n    \t{\r\n    \t\tString result = &quot;Test XML created : &quot; + test.getName() + &quot;&quot; + test.getAge();\r\n    \t\t// return result;\r\n    \t\treturn Response.status(200).entity(result).build();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere ist the rest of the classes:\r\n\r\n    package org.glassfish.jersey.examples.helloworld.jaxrs;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.URI;\r\n    \r\n    import javax.ws.rs.core.UriBuilder;\r\n    import javax.ws.rs.ext.RuntimeDelegate;\r\n    \r\n    import com.sun.net.httpserver.HttpHandler;\r\n    import com.sun.net.httpserver.HttpServer;\r\n    \r\n    /**\r\n     * Hello world application using only the standard JAX-RS API and lightweight\r\n     * HTTP server bundled in JDK.\r\n     *\r\n     * @author Martin Matula (martin.matula at oracle.com)\r\n     */\r\n    @SuppressWarnings(&quot;restriction&quot;)\r\n    public class App\r\n    {\r\n    \r\n    \t/**\r\n    \t * Starts the lightweight HTTP server serving the JAX-RS application.\r\n    \t *\r\n    \t * @return new instance of the lightweight HTTP server\r\n    \t * @throws IOException\r\n    \t */\r\n    \tstatic HttpServer startServer() throws IOException\r\n    \t{\r\n    \t\t// create a new server listening at port 8080\r\n    \t\tHttpServer server = HttpServer.create(new InetSocketAddress(getBaseURI().getPort()), 0);\r\n    \r\n    \t\t// create a handler wrapping the JAX-RS application\r\n    \t\tHttpHandler handler = RuntimeDelegate.getInstance().createEndpoint(new JaxRsApplication(),\r\n    \t\t\t\tHttpHandler.class);\r\n    \r\n    \t\t// map JAX-RS handler to the server root\r\n    \t\tserver.createContext(getBaseURI().getPath(), handler);\r\n    \r\n    \t\t// start the server\r\n    \t\tserver.start();\r\n    \r\n    \t\treturn server;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException\r\n    \t{\r\n    \t\tSystem.out.println(&quot;\\&quot;Hello World\\&quot; Jersey Example Application&quot;);\r\n    \r\n    \t\tHttpServer server = startServer();\r\n    \r\n    \t\tSystem.out.println(&quot;Application started.\\n&quot; + &quot;Try accessing &quot; + getBaseURI()\r\n    \t\t\t\t+ &quot;helloworld in the browser.\\n&quot; + &quot;Hit enter to stop the application...&quot;);\r\n    \t\tSystem.in.read();\r\n    \t\tserver.stop(0);\r\n    \t}\r\n    \r\n    \tprivate static int getPort(int defaultPort)\r\n    \t{\r\n    \t\tfinal String port = System.getProperty(&quot;jersey.config.test.container.port&quot;);\r\n    \t\tif (null != port)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\treturn Integer.parseInt(port);\r\n    \t\t\t}\r\n    \t\t\tcatch (NumberFormatException e)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Value of jersey.config.test.container.port property&quot;\r\n    \t\t\t\t\t\t+ &quot; is not a valid positive integer [&quot; + port + &quot;].&quot;\r\n    \t\t\t\t\t\t+ &quot; Reverting to default [&quot; + defaultPort + &quot;].&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn defaultPort;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Gets base {@link URI}.\r\n    \t *\r\n    \t * @return base {@link URI}.\r\n    \t */\r\n    \tpublic static URI getBaseURI()\r\n    \t{\r\n    \t\treturn UriBuilder.fromUri(&quot;http://localhost/&quot;).port(getPort(8080)).build();\r\n    \t}\r\n    }\r\n\r\n\r\n    public class Test\r\n    {\r\n    \tpublic int\t\tage\t\t= 0;\r\n    \tpublic String\tname\t= &quot;&quot;;\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tpublic Test()\r\n    \t{\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param age\r\n    \t */\r\n    \tpublic Test(int age)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param name\r\n    \t */\r\n    \tpublic Test(String name)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param name\r\n    \t * @param age\r\n    \t */\r\n    \tpublic Test(String name, int age)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic int getAge()\r\n    \t{\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic String getName()\r\n    \t{\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setAge(int age)\r\n    \t{\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name)\r\n    \t{\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n    package org.glassfish.jersey.examples.helloworld.jaxrs;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    public class JaxRsApplication extends Application\r\n    {\r\n    \tprivate final Set&lt;Class&lt;?&gt;&gt;\tclasses;\r\n    \r\n    \tpublic JaxRsApplication()\r\n    \t{\r\n    \t\tHashSet&lt;Class&lt;?&gt;&gt; c = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    \t\tc.add(HelloWorldResource.class);\r\n    \t\tclasses = Collections.unmodifiableSet(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses()\r\n    \t{\r\n    \t\treturn classes;\r\n    \t}\r\n    }\r\n\r\n\r\nThis works fine for the plain text post message, but for the json (MediaType.APPLICATION_JSON) and xml part (MediaType.APPLICATION_XML) it fails stating not a supported media type. Any idea what could be wrong?\r\n","title":"MediaType.APPLICATION_XML and MediaType.APPLICATION_JSON in a Jersey demo application","body":"<p>Once I got this Question Latest Jersey example does not work answered, I run into another curious problem:</p>\n<p>The server, GET methods work fine. I tested and added some test code for <a href=\"https://github.com/jersey/jersey/tree/master/examples/helloworld-pure-jax-rs\" rel=\"nofollow noreferrer\">helloworld-pure-jax-rs</a> example, and esp. added a POST request for JSON:</p>\n<pre><code>package org.glassfish.jersey.examples.helloworld.jaxrs;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\n\n\n@Path(&quot;helloworld&quot;)\npublic class HelloWorldResource\n{\n    public static final String  CLICHED_MESSAGE = &quot;Hello World!&quot;;\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String getHello()\n    {\n        return CLICHED_MESSAGE;\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public String getHelloJson()\n    {\n        return &quot;{ \\&quot;message\\&quot;:&quot; + CLICHED_MESSAGE + &quot;}&quot;;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String getHelloHtml()\n    {\n        return &quot;&lt;html&gt; &quot; + &quot;&lt;title&gt;&quot; + &quot;Hello Jersey&quot; + &quot;&lt;/title&gt;&quot; + &quot;&lt;body&gt;&lt;h1&gt;&quot; + CLICHED_MESSAGE\n                + &quot;&lt;/body&gt;&lt;/h1&gt;&quot; + &quot;&lt;/html&gt; &quot;;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/v2&quot;)\n    public String getHello2()\n    {\n        return CLICHED_MESSAGE + &quot; v2&quot;;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/{id}&quot;)\n    public String getHelloId(@PathParam(&quot;id&quot;) String id)\n    {\n        return CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;/id/{id : [a-zA-Z][a-zA-Z_0-9]}&quot;)\n    public String getHelloIdId(@PathParam(&quot;id&quot;) String id)\n    {\n        return CLICHED_MESSAGE + &quot; Parameter: &quot; + id;\n    }\n\n    @POST\n    @Consumes(MediaType.TEXT_PLAIN)\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response test(String test)\n    {\n        if (test.equals(&quot;test&quot;))\n            return Response.status(400).entity(&quot;Error: &quot; + test).build();\n        return Response.status(200).entity(test).build();\n    }\n    \n    @POST\n    @Path(&quot;/test&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response testJSON(Test test)\n    {\n        String result = &quot;Test JSON created : &quot; + test.getName() + &quot;&quot; + test.getAge();\n        // return result;\n        return Response.status(200).entity(result).build();\n    }\n    \n    @POST\n    @Path(&quot;/test&quot;)\n    @Consumes(MediaType.APPLICATION_XML)\n    @Produces(MediaType.APPLICATION_XML)\n    public Response testXML(Test test)\n    {\n        String result = &quot;Test XML created : &quot; + test.getName() + &quot;&quot; + test.getAge();\n        // return result;\n        return Response.status(200).entity(result).build();\n    }\n    \n}\n</code></pre>\n<p>Here ist the rest of the classes:</p>\n<pre><code>package org.glassfish.jersey.examples.helloworld.jaxrs;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\n\nimport javax.ws.rs.core.UriBuilder;\nimport javax.ws.rs.ext.RuntimeDelegate;\n\nimport com.sun.net.httpserver.HttpHandler;\nimport com.sun.net.httpserver.HttpServer;\n\n/**\n * Hello world application using only the standard JAX-RS API and lightweight\n * HTTP server bundled in JDK.\n *\n * @author Martin Matula (martin.matula at oracle.com)\n */\n@SuppressWarnings(&quot;restriction&quot;)\npublic class App\n{\n\n    /**\n     * Starts the lightweight HTTP server serving the JAX-RS application.\n     *\n     * @return new instance of the lightweight HTTP server\n     * @throws IOException\n     */\n    static HttpServer startServer() throws IOException\n    {\n        // create a new server listening at port 8080\n        HttpServer server = HttpServer.create(new InetSocketAddress(getBaseURI().getPort()), 0);\n\n        // create a handler wrapping the JAX-RS application\n        HttpHandler handler = RuntimeDelegate.getInstance().createEndpoint(new JaxRsApplication(),\n                HttpHandler.class);\n\n        // map JAX-RS handler to the server root\n        server.createContext(getBaseURI().getPath(), handler);\n\n        // start the server\n        server.start();\n\n        return server;\n    }\n\n    public static void main(String[] args) throws IOException\n    {\n        System.out.println(&quot;\\&quot;Hello World\\&quot; Jersey Example Application&quot;);\n\n        HttpServer server = startServer();\n\n        System.out.println(&quot;Application started.\\n&quot; + &quot;Try accessing &quot; + getBaseURI()\n                + &quot;helloworld in the browser.\\n&quot; + &quot;Hit enter to stop the application...&quot;);\n        System.in.read();\n        server.stop(0);\n    }\n\n    private static int getPort(int defaultPort)\n    {\n        final String port = System.getProperty(&quot;jersey.config.test.container.port&quot;);\n        if (null != port)\n        {\n            try\n            {\n                return Integer.parseInt(port);\n            }\n            catch (NumberFormatException e)\n            {\n                System.out.println(&quot;Value of jersey.config.test.container.port property&quot;\n                        + &quot; is not a valid positive integer [&quot; + port + &quot;].&quot;\n                        + &quot; Reverting to default [&quot; + defaultPort + &quot;].&quot;);\n            }\n        }\n        return defaultPort;\n    }\n\n    /**\n     * Gets base {@link URI}.\n     *\n     * @return base {@link URI}.\n     */\n    public static URI getBaseURI()\n    {\n        return UriBuilder.fromUri(&quot;http://localhost/&quot;).port(getPort(8080)).build();\n    }\n}\n\n\npublic class Test\n{\n    public int      age     = 0;\n    public String   name    = &quot;&quot;;\n\n    /**\n     * \n     */\n    public Test()\n    {\n        super();\n    }\n\n    /**\n     * @param age\n     */\n    public Test(int age)\n    {\n        super();\n        this.age = age;\n    }\n\n    /**\n     * @param name\n     */\n    public Test(String name)\n    {\n        super();\n        this.name = name;\n    }\n\n    /**\n     * @param name\n     * @param age\n     */\n    public Test(String name, int age)\n    {\n        super();\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getAge()\n    {\n        return age;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public void setAge(int age)\n    {\n        this.age = age;\n    }\n\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n}\n\npackage org.glassfish.jersey.examples.helloworld.jaxrs;\n\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.ws.rs.core.Application;\n\npublic class JaxRsApplication extends Application\n{\n    private final Set&lt;Class&lt;?&gt;&gt; classes;\n\n    public JaxRsApplication()\n    {\n        HashSet&lt;Class&lt;?&gt;&gt; c = new HashSet&lt;Class&lt;?&gt;&gt;();\n        c.add(HelloWorldResource.class);\n        classes = Collections.unmodifiableSet(c);\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses()\n    {\n        return classes;\n    }\n}\n</code></pre>\n<p>This works fine for the plain text post message, but for the json (MediaType.APPLICATION_JSON) and xml part (MediaType.APPLICATION_XML) it fails stating not a supported media type. Any idea what could be wrong?</p>\n"},{"tags":["javascript","java","json","rest"],"comments":[{"owner":{"account_id":9060492,"reputation":91,"user_id":6747165,"display_name":"Akash"},"score":0,"creation_date":1667368198,"post_id":74284773,"comment_id":131147939,"body_markdown":"UI and Service should be separate. Rather use roles to give access to UI components.","body":"UI and Service should be separate. Rather use roles to give access to UI components."},{"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"score":0,"creation_date":1667369746,"post_id":74284773,"comment_id":131148196,"body_markdown":"Roles are there in place...It is just the exchange of info between UI and service...specifically for the field attributes","body":"Roles are there in place...It is just the exchange of info between UI and service...specifically for the field attributes"},{"owner":{"account_id":9060492,"reputation":91,"user_id":6747165,"display_name":"Akash"},"score":0,"creation_date":1667371846,"post_id":74284773,"comment_id":131148630,"body_markdown":"I&#39;d say service should not have any idea about UI . For eg. Service should not return whether a field should be shown or not. We should be handling this using Roles and GrantedAuthorities (Authorization in more granular level) . For eg. user is Admin and has authorities VIEW_PHONE , EDIT_PHONE. User is DEV and only has VIEW_PHONE.","body":"I&#39;d say service should not have any idea about UI . For eg. Service should not return whether a field should be shown or not. We should be handling this using Roles and GrantedAuthorities (Authorization in more granular level) . For eg. user is Admin and has authorities VIEW_PHONE , EDIT_PHONE. User is DEV and only has VIEW_PHONE."}],"answers":[{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667399307,"creation_date":1667399307,"answer_id":74290856,"question_id":74284773,"body_markdown":"Hyperlinks can be transformed into forms and their parameters into input fields or sub-forms. Very complex GUIs can be generated this way, though there will be still logic which does not have anything to do with the service, e.g. on which panel to display which representation, or how are the displayed representations interrelated, etc. This information can be added to the GUI only by the client developers.\r\n\r\nThe input field flags you mention describe hyperlink parameters, so they are related to hyperlinks rather than the returned data. If there is a form involved think of it as it was auto-filled with the data, instead of thinking on it as a resource representation.\r\n\r\nAfaik. the only REST framework which partially implements this is Hydra, but I already sent such a feature request for better support years ago, which was rejected. Still they appear to go to this direction. https://github.com/hypermedia-app/Alcaeus I am writing a similar framework based on RDF technologies, but it won&#39;t be open source. So if you need this for a current work, then probably better to do it manually, because developing a framework for it takes a lot of time.","title":"Returning UI field attributes in server JSON response","body":"<p>Hyperlinks can be transformed into forms and their parameters into input fields or sub-forms. Very complex GUIs can be generated this way, though there will be still logic which does not have anything to do with the service, e.g. on which panel to display which representation, or how are the displayed representations interrelated, etc. This information can be added to the GUI only by the client developers.</p>\n<p>The input field flags you mention describe hyperlink parameters, so they are related to hyperlinks rather than the returned data. If there is a form involved think of it as it was auto-filled with the data, instead of thinking on it as a resource representation.</p>\n<p>Afaik. the only REST framework which partially implements this is Hydra, but I already sent such a feature request for better support years ago, which was rejected. Still they appear to go to this direction. <a href=\"https://github.com/hypermedia-app/Alcaeus\" rel=\"nofollow noreferrer\">https://github.com/hypermedia-app/Alcaeus</a> I am writing a similar framework based on RDF technologies, but it won't be open source. So if you need this for a current work, then probably better to do it manually, because developing a framework for it takes a lot of time.</p>\n"}],"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667399307,"creation_date":1667367541,"question_id":74284773,"body_markdown":"Let&#39;s say I have multiple form fields to be rendered on the UI. Also, as a standard Modify flow, assume that the fields rendered would have some attributes like value, mandatory, editable, disabled, label, regex (to validate against), etc\r\n\r\nWhile &quot;value&quot; would have to be returned from the service (since it is persisted db value), is it a good practice to also return the other attributes/flags like mandatory, editable, etc from the service which might have some business logic (e.g. the field editable state being true or false is based on some specific workflow status value)\r\nIs it better to avoid anything related to business logic to maintain on the UI V/s the argument that since mandatory, editable, etc are UI specific, they should be maintained on the UI.\r\nAny reference would be helpful.","title":"Returning UI field attributes in server JSON response","body":"<p>Let's say I have multiple form fields to be rendered on the UI. Also, as a standard Modify flow, assume that the fields rendered would have some attributes like value, mandatory, editable, disabled, label, regex (to validate against), etc</p>\n<p>While &quot;value&quot; would have to be returned from the service (since it is persisted db value), is it a good practice to also return the other attributes/flags like mandatory, editable, etc from the service which might have some business logic (e.g. the field editable state being true or false is based on some specific workflow status value)\nIs it better to avoid anything related to business logic to maintain on the UI V/s the argument that since mandatory, editable, etc are UI specific, they should be maintained on the UI.\nAny reference would be helpful.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":3,"creation_date":1403254322,"post_id":24323383,"comment_id":37596635,"body_markdown":"What if I have 10K files do you still think this way is simple?","body":"What if I have 10K files do you still think this way is simple?"},{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":2,"creation_date":1403254342,"post_id":24323383,"comment_id":37596646,"body_markdown":"@shekharsuman: really? :)","body":"@shekharsuman: really? :)"},{"owner":{"account_id":1670487,"reputation":990,"user_id":1537029,"accept_rate":40,"display_name":"Kim"},"score":0,"creation_date":1403254384,"post_id":24323383,"comment_id":37596674,"body_markdown":"https://forums.bukkit.org/threads/how-to-make-eclipse-clean-up-format-your-code-for-you.78574/\n\nis this help u?","body":"<a href=\"https://forums.bukkit.org/threads/how-to-make-eclipse-clean-up-format-your-code-for-you.78574/\" rel=\"nofollow noreferrer\">forums.bukkit.org/threads/&hellip;</a>  is this help u?"},{"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"score":0,"creation_date":1403254561,"post_id":24323383,"comment_id":37596797,"body_markdown":"What if some of your code was commented?Than do you want to Skip or delete that code as well.","body":"What if some of your code was commented?Than do you want to Skip or delete that code as well."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1403254606,"post_id":24323383,"comment_id":37596821,"body_markdown":"http://stackoverflow.com/questions/24320607/regular-expression-for-single-line-java-comments","body":"<a href=\"http://stackoverflow.com/questions/24320607/regular-expression-for-single-line-java-comments\" title=\"regular expression for single line java comments\">stackoverflow.com/questions/24320607/&hellip;</a>"},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1403263743,"post_id":24323383,"comment_id":37601985,"body_markdown":"as you can see that second type of comment consists of multiples lines so regular expression \\/*.**\\/ does not find second one but first type","body":"as you can see that second type of comment consists of multiples lines so regular expression \\/*.**\\/ does not find second one but first type"},{"owner":{"account_id":4262453,"reputation":5497,"user_id":3486462,"display_name":"Jamil"},"score":0,"creation_date":1443778903,"post_id":24323383,"comment_id":53637258,"body_markdown":"See my answer here to remove all comments Using Notepad++      http://stackoverflow.com/questions/8748313/is-there-a-way-to-delete-all-comments-in-a-file-using-notepad/32904204#32904204","body":"See my answer here to remove all comments Using Notepad++      <a href=\"http://stackoverflow.com/questions/8748313/is-there-a-way-to-delete-all-comments-in-a-file-using-notepad/32904204#32904204\" title=\"is there a way to delete all comments in a file using notepad\">stackoverflow.com/questions/8748313/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1403263265,"post_id":24323537,"comment_id":37601706,"body_markdown":"\\/\\*.*\\*\\/   reqular expressşon finds all  /* */ like comments. But It does not find comment with newline between  /**/","body":"\\/*.**\\/   reqular expressşon finds all  /* */ like comments. But It does not find comment with newline between  /**/"},{"owner":{"account_id":1005727,"reputation":1276,"user_id":1019562,"accept_rate":64,"display_name":"TheWhiteLlama"},"score":0,"creation_date":1403349165,"post_id":24323537,"comment_id":37629840,"body_markdown":"I edited my answer. Not absolutely sure if this will work since I switched from eclipse to intellJ some time ago.","body":"I edited my answer. Not absolutely sure if this will work since I switched from eclipse to intellJ some time ago."}],"tags":[],"owner":{"account_id":1005727,"reputation":1276,"user_id":1019562,"accept_rate":64,"display_name":"TheWhiteLlama"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1403314139,"creation_date":1403254769,"answer_id":24323537,"question_id":24323383,"body_markdown":"I think eclipse supports regex search and replace.\r\nI&#39;d try something like:\r\n\r\n    search: (?s)(?&gt;\\/\\*(?&gt;(?:(?&gt;[^*]+)|\\*(?!\\/))*)\\*\\/)\r\n    replace all with no-space-character or nothing literally\r\n\r\n\r\nalso related to the topic:\r\nhttps://stackoverflow.com/questions/1372748/eclipse-regular-expression-search-and-replace\r\n\r\nI edited the regex and tested it:\r\nhttp://regex101.com/r/sU4vI2\r\nNot sure if it works in your case.","title":"Remove All Comments in Java Files","body":"<p>I think eclipse supports regex search and replace.\nI'd try something like:</p>\n\n<pre><code>search: (?s)(?&gt;\\/\\*(?&gt;(?:(?&gt;[^*]+)|\\*(?!\\/))*)\\*\\/)\nreplace all with no-space-character or nothing literally\n</code></pre>\n\n<p>also related to the topic:\n<a href=\"https://stackoverflow.com/questions/1372748/eclipse-regular-expression-search-and-replace\">Eclipse, regular expression search and replace</a></p>\n\n<p>I edited the regex and tested it:\n<a href=\"http://regex101.com/r/sU4vI2\" rel=\"nofollow noreferrer\">http://regex101.com/r/sU4vI2</a>\nNot sure if it works in your case.</p>\n"},{"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":3,"creation_date":1403261407,"post_id":24325328,"comment_id":37600730,"body_markdown":"If all you&#39;re going to do is refer OP elsewhere, it&#39;s better to post your links in a comment. Answers should be able to stand on their own, regardless of whether a link is present or not.","body":"If all you&#39;re going to do is refer OP elsewhere, it&#39;s better to post your links in a comment. Answers should be able to stand on their own, regardless of whether a link is present or not."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1545145384,"post_id":24325328,"comment_id":94519577,"body_markdown":"404 , 404 , ehm","body":"404 , 404 , ehm"}],"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403260609,"creation_date":1403260609,"answer_id":24325328,"question_id":24323383,"body_markdown":"There is a plugin which doest this in a single click. This will Comment / Remove out all System.Out&#39;s.\r\n\r\nRefer [this](http://eclipseo.blogspot.com/2013/05/updatesite-available-for-eclipse-utils.html), [this](http://www.ancitconsulting.com/tiki-index.php?page=eclipse-util%20toolkits&amp;pagenum=3) and [this](http://eclipseo.blogspot.in/2013/05/commenting-systemoutprintln-from.html).","title":"Remove All Comments in Java Files","body":"<p>There is a plugin which doest this in a single click. This will Comment / Remove out all System.Out's.</p>\n\n<p>Refer <a href=\"http://eclipseo.blogspot.com/2013/05/updatesite-available-for-eclipse-utils.html\" rel=\"nofollow\">this</a>, <a href=\"http://www.ancitconsulting.com/tiki-index.php?page=eclipse-util%20toolkits&amp;pagenum=3\" rel=\"nofollow\">this</a> and <a href=\"http://eclipseo.blogspot.in/2013/05/commenting-systemoutprintln-from.html\" rel=\"nofollow\">this</a>.</p>\n"},{"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1403262251,"post_id":24325629,"comment_id":37601168,"body_markdown":"so how I can replace all comments between /**/ and after //","body":"so how I can replace all comments between /**/ and after //"},{"owner":{"account_id":4346060,"reputation":1917,"user_id":3619962,"accept_rate":87,"display_name":"Yasin"},"score":1,"creation_date":1403268693,"post_id":24325629,"comment_id":37604835,"body_markdown":"For single line comments just take the cursor to that line (or if there are multiple lines having comments starting with // then select all the lines) and press Ctrl + \\ (Backslash), if this does not work try Ctrl + / (Forwardslash). It depends on your version. Same is the case with multiline comments. Select all the lines and press Ctrl + Shift + \\ (Backslash) (or  / (Forwards Slash)).","body":"For single line comments just take the cursor to that line (or if there are multiple lines having comments starting with // then select all the lines) and press Ctrl + \\ (Backslash), if this does not work try Ctrl + / (Forwardslash). It depends on your version. Same is the case with multiline comments. Select all the lines and press Ctrl + Shift + \\ (Backslash) (or  / (Forwards Slash))."},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1403268819,"post_id":24325629,"comment_id":37604908,"body_markdown":"I think you are missing something important. I have 10K files, Do not you want to make them all manually ? :)","body":"I think you are missing something important. I have 10K files, Do not you want to make them all manually ? :)"},{"owner":{"account_id":4346060,"reputation":1917,"user_id":3619962,"accept_rate":87,"display_name":"Yasin"},"score":0,"creation_date":1403520754,"post_id":24325629,"comment_id":37674529,"body_markdown":"Then you will have to write a small program that does the job.","body":"Then you will have to write a small program that does the job."},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1403521492,"post_id":24325629,"comment_id":37674894,"body_markdown":"you are gettın far away from the question. Anyway I have found the solution. Thanks","body":"you are gettın far away from the question. Anyway I have found the solution. Thanks"}],"tags":[],"owner":{"account_id":4346060,"reputation":1917,"user_id":3619962,"accept_rate":87,"display_name":"Yasin"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448530792,"creation_date":1403261597,"answer_id":24325629,"question_id":24323383,"body_markdown":"Eclipse has several shortcuts for commenting/uncommenting code.\r\n\r\nFor single line java code comment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; (Forwards Slash) and\r\n\r\nSingle line uncomment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;\\&lt;/kbd&gt; (Backslash)\r\n\r\nFor multiple line java code comment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; (Forwards Slash) and\r\n\r\nMultiline uncomment : &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;\\&lt;/kbd&gt; (Backslash)\r\n\r\nNote: For multiline comments, select all the lines that you wish to comment/uncomment first.\r\n\r\nAlso &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; will open a list of all major shortcuts for Eclipse.","title":"Remove All Comments in Java Files","body":"<p>Eclipse has several shortcuts for commenting/uncommenting code.</p>\n\n<p>For single line java code comment : <kbd>Ctrl</kbd> + <kbd>/</kbd> (Forwards Slash) and</p>\n\n<p>Single line uncomment : <kbd>Ctrl</kbd> + <kbd>\\</kbd> (Backslash)</p>\n\n<p>For multiple line java code comment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>/</kbd> (Forwards Slash) and</p>\n\n<p>Multiline uncomment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>\\</kbd> (Backslash)</p>\n\n<p>Note: For multiline comments, select all the lines that you wish to comment/uncomment first.</p>\n\n<p>Also <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd> will open a list of all major shortcuts for Eclipse.</p>\n"},{"comments":[{"owner":{"account_id":3361884,"reputation":5549,"user_id":2823516,"accept_rate":86,"display_name":"Joaquin Iurchuk"},"score":0,"creation_date":1434122471,"post_id":24326900,"comment_id":49661337,"body_markdown":"Works fine! Just had to tick the Regular Expression box","body":"Works fine! Just had to tick the Regular Expression box"},{"owner":{"account_id":309064,"reputation":12440,"user_id":621316,"accept_rate":95,"display_name":"Dave Cousineau"},"score":0,"creation_date":1492209033,"post_id":24326900,"comment_id":73899187,"body_markdown":"thanks a million, I have hundreds of files with 4 line long empty javadoc comments on everything in every file.","body":"thanks a million, I have hundreds of files with 4 line long empty javadoc comments on everything in every file."},{"owner":{"account_id":2927797,"reputation":137,"user_id":2508778,"display_name":"user2508778"},"score":0,"creation_date":1542026829,"post_id":24326900,"comment_id":93409197,"body_markdown":"open java file in notepad++ and then used regular expression \\/\\*([\\S\\s]+?)\\*\\/ as given above. It worked for me. thanks a lot.","body":"open java file in notepad++ and then used regular expression \\/*([\\S\\s]+?)*\\/ as given above. It worked for me. thanks a lot."},{"owner":{"account_id":17340051,"reputation":157,"user_id":12560952,"display_name":"Raii"},"score":0,"creation_date":1667406335,"post_id":24326900,"comment_id":131160967,"body_markdown":"just curious why need to remove the comment. is it because decompile can show something ? or   ANR from google developer line does not much the line number of .java document sometimes?","body":"just curious why need to remove the comment. is it because decompile can show something ? or   ANR from google developer line does not much the line number of .java document sometimes?"},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":1,"creation_date":1667417305,"post_id":24326900,"comment_id":131164897,"body_markdown":"yes it is because of decompile @raii","body":"yes it is because of decompile @raii"}],"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":5,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1456918927,"creation_date":1403266044,"answer_id":24326900,"question_id":24323383,"body_markdown":"I have found the solution https://stackoverflow.com/questions/24326361/regular-expression-with-multiple-lines-search.\r\n\r\nHere are the regular expression used to find two types of comments \r\n\r\n`\\/\\*([\\S\\s]+?)\\*\\/`   and `(?s)/\\*.*?\\*/`\r\n\r\nOpen the `.java` file with comments and open the Search dialog.(`Search -&gt; File Search`) and paste one of the above reg-ex and check the `Regular expression` tick box on the right side. Now you can search and select &quot;Replace All&quot; to replace it with nothing typed in the second box.\r\n\r\nUsing replace-with option I have cleaned all comments from java files.","title":"Remove All Comments in Java Files","body":"<p>I have found the solution <a href=\"https://stackoverflow.com/questions/24326361/regular-expression-with-multiple-lines-search\">Regular Expression with multiple lines search</a>.</p>\n\n<p>Here are the regular expression used to find two types of comments </p>\n\n<p><code>\\/\\*([\\S\\s]+?)\\*\\/</code>   and <code>(?s)/\\*.*?\\*/</code></p>\n\n<p>Open the <code>.java</code> file with comments and open the Search dialog.(<code>Search -&gt; File Search</code>) and paste one of the above reg-ex and check the <code>Regular expression</code> tick box on the right side. Now you can search and select \"Replace All\" to replace it with nothing typed in the second box.</p>\n\n<p>Using replace-with option I have cleaned all comments from java files.</p>\n"},{"comments":[{"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"score":0,"creation_date":1568904672,"post_id":30622447,"comment_id":102431562,"body_markdown":"is there any thing that we can preserver javadoc comment?","body":"is there any thing that we can preserver javadoc comment?"},{"owner":{"account_id":2538282,"reputation":5161,"user_id":2204772,"accept_rate":84,"display_name":"Ertuğrul &#199;etin"},"score":0,"creation_date":1568931016,"post_id":30622447,"comment_id":102442363,"body_markdown":"you can use: .preserveJavaClassHeaders(true).preserveCopyRightHeaders(true)","body":"you can use: .preserveJavaClassHeaders(true).preserveCopyRightHeaders(tru&zwnj;&#8203;e)"}],"tags":[],"owner":{"account_id":2538282,"reputation":5161,"user_id":2204772,"accept_rate":84,"display_name":"Ertuğrul &#199;etin"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433340301,"creation_date":1433340301,"answer_id":30622447,"question_id":24323383,"body_markdown":"I made a open source [library][1] for this purpose, you can remove Java Comments.\r\n\r\nIt supports remove or NOT remove TODO&#39;s.&lt;br&gt;&lt;br&gt;\r\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.\r\n\r\n\r\nLittle code snippet how to use it:\r\n\r\n     public static void main(String[] args) throws CommentRemoverException {\r\n    \r\n     // root dir is: /Users/user/Projects/MyProject\r\n     // example for startInternalPath\r\n    \r\n     CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\r\n            .removeJava(true) // Remove Java file Comments....\r\n            .removeJavaScript(true) // Remove JavaScript file Comments....\r\n            .removeJSP(true) // etc.. goes like that\r\n            .removeTodos(false) //  Do Not Touch Todos (leave them alone)\r\n            .removeSingleLines(true) // Remove single line type comments\r\n            .removeMultiLines(true) // Remove multiple type comments\r\n            .startInternalPath(&quot;src.main.app&quot;) // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\r\n            .setExcludePackages(new String[]{&quot;src.main.java.app.pattern&quot;}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\r\n            .build();\r\n    \r\n     CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\r\n                      commentProcessor.start();        \r\n      }\r\n\r\n\r\n  [1]: https://github.com/ertugrulcetin/CommentRemover","title":"Remove All Comments in Java Files","body":"<p>I made a open source <a href=\"https://github.com/ertugrulcetin/CommentRemover\" rel=\"noreferrer\">library</a> for this purpose, you can remove Java Comments.</p>\n\n<p>It supports remove or NOT remove TODO's.<br><br>\nAlso it supports JavaScript , HTML , CSS , Properties , JSP and XML Comments too.</p>\n\n<p>Little code snippet how to use it:</p>\n\n<pre><code> public static void main(String[] args) throws CommentRemoverException {\n\n // root dir is: /Users/user/Projects/MyProject\n // example for startInternalPath\n\n CommentRemover commentRemover = new CommentRemover.CommentRemoverBuilder()\n        .removeJava(true) // Remove Java file Comments....\n        .removeJavaScript(true) // Remove JavaScript file Comments....\n        .removeJSP(true) // etc.. goes like that\n        .removeTodos(false) //  Do Not Touch Todos (leave them alone)\n        .removeSingleLines(true) // Remove single line type comments\n        .removeMultiLines(true) // Remove multiple type comments\n        .startInternalPath(\"src.main.app\") // Starts from {rootDir}/src/main/app , leave it empty string when you want to start from root dir\n        .setExcludePackages(new String[]{\"src.main.java.app.pattern\"}) // Refers to {rootDir}/src/main/java/app/pattern and skips this directory\n        .build();\n\n CommentProcessor commentProcessor = new CommentProcessor(commentRemover);\n                  commentProcessor.start();        \n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"score":1,"creation_date":1459951769,"post_id":30623840,"comment_id":60519903,"body_markdown":"The question specifically states how to do it in Eclipse, but if someone reaches this Q&amp;A looking for **any** way of removing comments, your answer will be useful, so disregarding applicability in answering the Q above, +1","body":"The question specifically states how to do it in Eclipse, but if someone reaches this Q&amp;A looking for <b>any</b> way of removing comments, your answer will be useful, so disregarding applicability in answering the Q above, +1"},{"owner":{"account_id":901873,"reputation":851,"user_id":937808,"accept_rate":33,"display_name":"Michael Ressler"},"score":2,"creation_date":1530827499,"post_id":30623840,"comment_id":89382373,"body_markdown":"I get `sed: 1: &quot;/\\/\\*/{:loop;/\\/\\*.*\\*\\ ...&quot;: unexpected EOF (pending }&#39;s)` when I run it.","body":"I get <code>sed: 1: &quot;&#47;\\&#47;\\*&#47;{:loop;&#47;\\&#47;\\*.*\\*\\ ...&quot;: unexpected EOF (pending }&#39;s)</code> when I run it."}],"tags":[],"owner":{"account_id":5438128,"reputation":11717,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1433343725,"creation_date":1433343725,"answer_id":30623840,"question_id":24323383,"body_markdown":"Since nobody mentioned text processing tools `grep`, `sed`, `awk`, etc. in *NIX, I post my solution here.\r\n\r\nIf your os is *NIX, you can use the text processing tool `sed` to remove the comments.\r\n\r\n    sed &#39;/\\/\\*/{:loop;/\\/\\*.*\\*\\//{d;b out};N;b loop};:out&#39; yourfile.java","title":"Remove All Comments in Java Files","body":"<p>Since nobody mentioned text processing tools <code>grep</code>, <code>sed</code>, <code>awk</code>, etc. in *NIX, I post my solution here.</p>\n\n<p>If your os is *NIX, you can use the text processing tool <code>sed</code> to remove the comments.</p>\n\n<pre><code>sed '/\\/\\*/{:loop;/\\/\\*.*\\*\\//{d;b out};N;b loop};:out' yourfile.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82743,"reputation":3807,"user_id":232416,"accept_rate":100,"display_name":"Shaun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433343998,"creation_date":1433343998,"answer_id":30623955,"question_id":24323383,"body_markdown":"You might try using `uncrustify` (http://uncrustify.sourceforge.net/) to reformat your `/* block comments */` to `// double-slash comments`\r\n\r\nThat would make your regex a bit &quot;safer&quot; -- just look for `\\*s//` lines and delete them (easy `sed` operation)\r\n","title":"Remove All Comments in Java Files","body":"<p>You might try using <code>uncrustify</code> (<a href=\"http://uncrustify.sourceforge.net/\" rel=\"nofollow\">http://uncrustify.sourceforge.net/</a>) to reformat your <code>/* block comments */</code> to <code>// double-slash comments</code></p>\n\n<p>That would make your regex a bit \"safer\" -- just look for <code>\\*s//</code> lines and delete them (easy <code>sed</code> operation)</p>\n"},{"comments":[{"owner":{"account_id":1903290,"reputation":7155,"user_id":1718678,"accept_rate":80,"display_name":"IvanRF"},"score":0,"creation_date":1487689367,"post_id":34972852,"comment_id":71891133,"body_markdown":"The only drawback is that if you have a line with a string like `..&quot;http://www.domain.com&quot;..` this will grab it too","body":"The only drawback is that if you have a line with a string like <code>..&quot;http:&#47;&#47;www.domain.com&quot;..</code> this will grab it too"},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":0,"creation_date":1487689610,"post_id":34972852,"comment_id":71891308,"body_markdown":"Ya... its not perfect... I didnt test a lot of use cases... I use it case-by-case.","body":"Ya... its not perfect... I didnt test a lot of use cases... I use it case-by-case."},{"owner":{"account_id":1903290,"reputation":7155,"user_id":1718678,"accept_rate":80,"display_name":"IvanRF"},"score":0,"creation_date":1487689727,"post_id":34972852,"comment_id":71891402,"body_markdown":"Something like `([^:]//).*?(?&lt;=$)` could avoid those cases","body":"Something like <code>([^:]&#47;&#47;).*?(?&lt;=$)</code> could avoid those cases"}],"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453616398,"creation_date":1453616398,"answer_id":34972852,"question_id":24323383,"body_markdown":"This one is working well for me... I added it as an IntelliJ IDEA search template for JavaDoc and/or single line comments.. \r\n\r\n    (?sm)(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))\r\n\r\n---\r\n**Definition**\r\n\r\n---\r\n\r\n    \tOptions: ^ and $ match at line breaks\r\n    \t\r\n    \tMatch the remainder of the regex with the options: dot matches newline (s); ^ and $ match at line breaks (m) &#171;(?sm)&#187;\r\n    \tMatch the regular expression below and capture its match into backreference number 1 &#171;(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))&#187;\r\n    \t   Match either the regular expression below (attempting the next alternative only if this one fails) &#171;^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))&#187;\r\n    \t      Assert position at the beginning of a line (at beginning of the string or after a line break character) &#171;^&#187;\r\n    \t      Match the regular expression below &#171;(?:\\s*)?&#187;\r\n    \t         Between zero and one times, as many times as possible, giving back as needed (greedy) &#171;?&#187;\r\n    \t         Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) &#171;\\s*&#187;\r\n    \t            Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    \t      Match the regular expression below and capture its match into backreference number 2 &#171;((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))&#187;\r\n    \t         Match the regular expression below &#171;(?:/\\*(?:\\*)?)&#187;\r\n    \t            Match the character “/” literally &#171;/&#187;\r\n    \t            Match the character “*” literally &#171;\\*&#187;\r\n    \t            Match the regular expression below &#171;(?:\\*)?&#187;\r\n    \t               Between zero and one times, as many times as possible, giving back as needed (greedy) &#171;?&#187;\r\n    \t               Match the character “*” literally &#171;\\*&#187;\r\n    \t         Match any single character &#171;.*?&#187;\r\n    \t            Between zero and unlimited times, as few times as possible, expanding as needed (lazy) &#171;*?&#187;\r\n    \t         Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) &#171;(?&lt;=\\*/)&#187;\r\n    \t            Match the character “*” literally &#171;\\*&#187;\r\n    \t            Match the character “/” literally &#171;/&#187;\r\n    \t   Or match regular expression number 2 below (the entire group fails if this one fails to match) &#171;(?://).*?(?&lt;=$)&#187;\r\n    \t      Match the regular expression below &#171;(?://)&#187;\r\n    \t         Match the characters “//” literally &#171;//&#187;\r\n    \t      Match any single character &#171;.*?&#187;\r\n    \t         Between zero and unlimited times, as few times as possible, expanding as needed (lazy) &#171;*?&#187;\r\n    \t      Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) &#171;(?&lt;=$)&#187;\r\n    \t         Assert position at the end of a line (at the end of the string or before a line break character) &#171;$&#187;\r\n\r\n\r\n\r\n","title":"Remove All Comments in Java Files","body":"<p>This one is working well for me... I added it as an IntelliJ IDEA search template for JavaDoc and/or single line comments.. </p>\n\n<pre><code>(?sm)(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))\n</code></pre>\n\n<hr>\n\n<p><strong>Definition</strong></p>\n\n<hr>\n\n<pre><code>    Options: ^ and $ match at line breaks\n\n    Match the remainder of the regex with the options: dot matches newline (s); ^ and $ match at line breaks (m) «(?sm)»\n    Match the regular expression below and capture its match into backreference number 1 «(^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))|(?://).*?(?&lt;=$))»\n       Match either the regular expression below (attempting the next alternative only if this one fails) «^(?:\\s*)?((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))»\n          Assert position at the beginning of a line (at beginning of the string or after a line break character) «^»\n          Match the regular expression below «(?:\\s*)?»\n             Between zero and one times, as many times as possible, giving back as needed (greedy) «?»\n             Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) «\\s*»\n                Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\n          Match the regular expression below and capture its match into backreference number 2 «((?:/\\*(?:\\*)?).*?(?&lt;=\\*/))»\n             Match the regular expression below «(?:/\\*(?:\\*)?)»\n                Match the character “/” literally «/»\n                Match the character “*” literally «\\*»\n                Match the regular expression below «(?:\\*)?»\n                   Between zero and one times, as many times as possible, giving back as needed (greedy) «?»\n                   Match the character “*” literally «\\*»\n             Match any single character «.*?»\n                Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»\n             Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) «(?&lt;=\\*/)»\n                Match the character “*” literally «\\*»\n                Match the character “/” literally «/»\n       Or match regular expression number 2 below (the entire group fails if this one fails to match) «(?://).*?(?&lt;=$)»\n          Match the regular expression below «(?://)»\n             Match the characters “//” literally «//»\n          Match any single character «.*?»\n             Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»\n          Assert that the regex below can be matched, with the match ending at this position (positive lookbehind) «(?&lt;=$)»\n             Assert position at the end of a line (at the end of the string or before a line break character) «$»\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7605211,"reputation":1533,"user_id":5768269,"accept_rate":79,"display_name":"Wesos de Queso"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501350739,"creation_date":1501350739,"answer_id":45392306,"question_id":24323383,"body_markdown":"I&#39;ve done this with the `Ctrl+F` command and this regex. \r\n\r\nThis only replace `//comments`\r\n\r\n    //(.?+)+\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nkuw1.png","title":"Remove All Comments in Java Files","body":"<p>I've done this with the <code>Ctrl+F</code> command and this regex. </p>\n\n<p>This only replace <code>//comments</code></p>\n\n<pre><code>//(.?+)+\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Nkuw1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Nkuw1.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618398625,"creation_date":1618398625,"answer_id":67090578,"question_id":24323383,"body_markdown":"\r\n&gt;I have many comments like following. Is there simple way to remove all comments?\r\n\r\nFor me I used Notepad++ and it was able to replace all files in my project all in one go.\r\n\r\n1) Open Notepad++, press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt; \r\n2) Click `Find in files` tab.\r\n3) Paste the project directory root path into Directory\r\n4) To remove all **block-comments** (Credits to user Ahmet Karakaya)\r\n    - Find what:`\\/\\*([\\S\\s]+?)\\*\\/`\r\n    - Replace with: `&lt;leave it empty, no empty space&gt;`\r\n    - Filters: `*.java`  (can be `*.*`) if want to search in all files\r\n    - Click &lt;kbd&gt;Find All&lt;/kbd&gt; to ensure the search results is what you intended to replace.\r\n    - Click &lt;kbd&gt;Replace in Files&lt;/kbd&gt;\r\n5) To remove all **single line-comments**\r\n\r\n    - Find what:`\\/\\/([\\S\\s]+?)\\n`\r\n    - Replace with: `&lt;leave it empty, no empty space&gt;`\r\n    - Filters: `*.java`  (can be `*.*`) if want to search in all files\r\n    - Click &lt;kbd&gt;Find All&lt;/kbd&gt; to ensure the search results is what you intended to replace.\r\n    - Click &lt;kbd&gt;Replace in Files&lt;/kbd&gt;\r\n---\r\n\r\n**Take Note**: Step 5 will remove all lines which begin with `//` till the next newline character. If you have URLs in your code, it will remove it as well. If you do not want to write another REGEX, you can always replace `https://` to something like `https:ZZ` first and then replace it back to the original state after you removed all single line comments.","title":"Remove All Comments in Java Files","body":"<blockquote>\n<p>I have many comments like following. Is there simple way to remove all comments?</p>\n</blockquote>\n<p>For me I used Notepad++ and it was able to replace all files in my project all in one go.</p>\n<ol>\n<li><p>Open Notepad++, press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd></p>\n</li>\n<li><p>Click <code>Find in files</code> tab.</p>\n</li>\n<li><p>Paste the project directory root path into Directory</p>\n</li>\n<li><p>To remove all <strong>block-comments</strong> (Credits to user Ahmet Karakaya)</p>\n<ul>\n<li>Find what:<code>\\/\\*([\\S\\s]+?)\\*\\/</code></li>\n<li>Replace with: <code>&lt;leave it empty, no empty space&gt;</code></li>\n<li>Filters: <code>*.java</code>  (can be <code>*.*</code>) if want to search in all files</li>\n<li>Click <kbd>Find All</kbd> to ensure the search results is what you intended to replace.</li>\n<li>Click <kbd>Replace in Files</kbd></li>\n</ul>\n</li>\n<li><p>To remove all <strong>single line-comments</strong></p>\n<ul>\n<li>Find what:<code>\\/\\/([\\S\\s]+?)\\n</code></li>\n<li>Replace with: <code>&lt;leave it empty, no empty space&gt;</code></li>\n<li>Filters: <code>*.java</code>  (can be <code>*.*</code>) if want to search in all files</li>\n<li>Click <kbd>Find All</kbd> to ensure the search results is what you intended to replace.</li>\n<li>Click <kbd>Replace in Files</kbd></li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>Take Note</strong>: Step 5 will remove all lines which begin with <code>//</code> till the next newline character. If you have URLs in your code, it will remove it as well. If you do not want to write another REGEX, you can always replace <code>https://</code> to something like <code>https:ZZ</code> first and then replace it back to the original state after you removed all single line comments.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1662191819,"post_id":73539627,"comment_id":129952982,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73539627/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26094741,"reputation":1,"user_id":19791011,"display_name":"徐同鹏"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661849518,"creation_date":1661849518,"answer_id":73539627,"question_id":24323383,"body_markdown":"here&#39;s my solution:\r\n````\r\nnew FileGenerator().start(new File(&quot;C:\\\\yourFolder&quot;), e-&gt;{\r\n            String str = ReadFileToString.read(e);\r\n            Comments co = null;\r\n            try {\r\n                co = new Comments(str);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            e.delete();\r\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\r\n            stream.println(co.analysis());\r\n            stream.close();\r\n        });\r\n````\r\n````\r\npublic class FileGenerator {\r\n\r\n    /*\r\n    *  new FileGenerator().start(new File(&quot;C:\\\\folders&quot;), e-&gt;{\r\n            String str = ReadFileToString.read(e);\r\n            e.delete();\r\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\r\n            stream.println(CommentRemover.init(str));\r\n            stream.close();\r\n        });\r\n    * */\r\n\r\n    public interface callback{\r\n        void cb(File f) throws IOException;\r\n    }\r\n\r\n    public void start(File f, callback cb) throws IOException {\r\n        if (f.isDirectory()) {\r\n            File[] arr = f.listFiles();\r\n            for (File tmp : arr) {\r\n                if (tmp.isDirectory())\r\n                    start(tmp,cb);\r\n                else\r\n                    cb.cb(tmp);\r\n            }\r\n        }\r\n    }\r\n}\r\n````\r\n````\r\npackage xyz.laremehpe.comment;\r\n\r\npublic class Comments {\r\n    StringBuilder template;\r\n    final String holder1 = &quot;←&quot;;\r\n    final String holder2 = &quot;↓&quot;;\r\n    final String holder3 = &quot;↖&quot;;\r\n    int quota = 1024;\r\n\r\n    public Comments(String template) throws Exception {\r\n        this.template = new StringBuilder(template);\r\n        //for safety\r\n        if (template.indexOf(holder1) &gt; -1)\r\n            throw new Exception(&quot;this file already have the placeholder1, please check your file before compile!!&quot;);\r\n        if (template.indexOf(holder2) &gt; -1)\r\n            throw new Exception(&quot;this file already have the placeholder2, please check your file before compile!!&quot;);\r\n        if (template.indexOf(holder3) &gt; -1)\r\n            throw new Exception(&quot;this file already have the placeholder3, please check your file before compile!!&quot;);\r\n        //for safety\r\n    }\r\n\r\n    public StringBuilder analysis() {\r\n        int index3,index2,index1;\r\n        String[] str1 = new String[quota];\r\n        index1 = escape(template,&quot;\\\\&quot;,holder1,str1);\r\n//----------------------------------------------------------------------------\r\n        String[] str2 = new String[quota];\r\n        index2 = replace(template,&quot;\\&quot;&quot;,holder2,str2);\r\n//----------------------------------------------------------------------------\r\n        String[] str3 = new String[quota];\r\n        index3 = replace(template,&quot;\\&#39;&quot;,holder3,str3);\r\n//----------------------------------------------------------------------------\r\n        replaceA(template,&quot;//&quot;,&quot;\\n&quot;);\r\n        replaceB(template,&quot;/*&quot;,&quot;*/&quot;);\r\n//----------------------------------------------------------------------------\r\n        restore(template,str3,index3,holder3);\r\n        restore(template,str2,index2,holder2);\r\n        restore(template,str1,index1,holder1);\r\n\r\n        return template;\r\n    }\r\n\r\n    private void restore(StringBuilder sb,String[] from,int i,String holder){\r\n        for (;i &gt; -1; i--) {\r\n            String ch = holder+i;\r\n            int po = sb.indexOf(ch);\r\n            if(po &gt; -1)\r\n            sb.replace(po,po+ch.length(),from[i]);\r\n        }\r\n    }\r\n\r\n    private int escape(StringBuilder sb,String ch,String holder,String[] restore){\r\n        int po1 = sb.indexOf(ch);\r\n        int po2 = po1+2;\r\n\r\n        int index = 0;\r\n        while(po1 != -1){\r\n            restore[index] = sb.substring(po1, po2);\r\n            sb.replace(po1,po2,holder+index);\r\n            index++;\r\n            po1 = sb.indexOf(ch);\r\n            po2 = po1+2;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    private int replace(StringBuilder sb,String ch,String holder,String[] restore){\r\n        int po1 = sb.indexOf(ch);\r\n        int po2 = sb.indexOf(ch,po1+1)+1;\r\n\r\n        int index = 0;\r\n        while(po1 != -1 &amp;&amp; po2 != -1){\r\n            restore[index] = sb.substring(po1, po2);\r\n            sb.replace(po1,po2,holder+index);\r\n            index++;\r\n            po1 = sb.indexOf(ch);\r\n            po2 = sb.indexOf(ch,po1+1)+1;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    private void replaceA(StringBuilder sb,String from,String to){\r\n        int po1 = sb.indexOf(from);\r\n        int po2 = sb.indexOf(to,po1+1);\r\n\r\n        while(po1 != -1 &amp;&amp; po2 != -1){\r\n            sb.replace(po1,po2,&quot;&quot;);\r\n            po1 = sb.indexOf(from);\r\n            po2 = sb.indexOf(to,po1+1);\r\n        }\r\n    }\r\n\r\n    private void replaceB(StringBuilder sb,String from,String to){\r\n        int po1 = sb.indexOf(from);\r\n        int po2 = sb.indexOf(to,po1+1)+2;\r\n\r\n        while(po1 != -1 &amp;&amp; po2 != -1){\r\n            sb.replace(po1,po2,&quot;&quot;);\r\n            po1 = sb.indexOf(from);\r\n            po2 = sb.indexOf(to,po1+1)+2;\r\n        }\r\n    }\r\n}\r\n````\r\n","title":"Remove All Comments in Java Files","body":"<p>here's my solution:</p>\n<pre><code>new FileGenerator().start(new File(&quot;C:\\\\yourFolder&quot;), e-&gt;{\n            String str = ReadFileToString.read(e);\n            Comments co = null;\n            try {\n                co = new Comments(str);\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n            e.delete();\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\n            stream.println(co.analysis());\n            stream.close();\n        });\n</code></pre>\n<pre><code>public class FileGenerator {\n\n    /*\n    *  new FileGenerator().start(new File(&quot;C:\\\\folders&quot;), e-&gt;{\n            String str = ReadFileToString.read(e);\n            e.delete();\n            PrintStream stream = new PrintStream(e.getAbsolutePath());\n            stream.println(CommentRemover.init(str));\n            stream.close();\n        });\n    * */\n\n    public interface callback{\n        void cb(File f) throws IOException;\n    }\n\n    public void start(File f, callback cb) throws IOException {\n        if (f.isDirectory()) {\n            File[] arr = f.listFiles();\n            for (File tmp : arr) {\n                if (tmp.isDirectory())\n                    start(tmp,cb);\n                else\n                    cb.cb(tmp);\n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>package xyz.laremehpe.comment;\n\npublic class Comments {\n    StringBuilder template;\n    final String holder1 = &quot;←&quot;;\n    final String holder2 = &quot;↓&quot;;\n    final String holder3 = &quot;↖&quot;;\n    int quota = 1024;\n\n    public Comments(String template) throws Exception {\n        this.template = new StringBuilder(template);\n        //for safety\n        if (template.indexOf(holder1) &gt; -1)\n            throw new Exception(&quot;this file already have the placeholder1, please check your file before compile!!&quot;);\n        if (template.indexOf(holder2) &gt; -1)\n            throw new Exception(&quot;this file already have the placeholder2, please check your file before compile!!&quot;);\n        if (template.indexOf(holder3) &gt; -1)\n            throw new Exception(&quot;this file already have the placeholder3, please check your file before compile!!&quot;);\n        //for safety\n    }\n\n    public StringBuilder analysis() {\n        int index3,index2,index1;\n        String[] str1 = new String[quota];\n        index1 = escape(template,&quot;\\\\&quot;,holder1,str1);\n//----------------------------------------------------------------------------\n        String[] str2 = new String[quota];\n        index2 = replace(template,&quot;\\&quot;&quot;,holder2,str2);\n//----------------------------------------------------------------------------\n        String[] str3 = new String[quota];\n        index3 = replace(template,&quot;\\'&quot;,holder3,str3);\n//----------------------------------------------------------------------------\n        replaceA(template,&quot;//&quot;,&quot;\\n&quot;);\n        replaceB(template,&quot;/*&quot;,&quot;*/&quot;);\n//----------------------------------------------------------------------------\n        restore(template,str3,index3,holder3);\n        restore(template,str2,index2,holder2);\n        restore(template,str1,index1,holder1);\n\n        return template;\n    }\n\n    private void restore(StringBuilder sb,String[] from,int i,String holder){\n        for (;i &gt; -1; i--) {\n            String ch = holder+i;\n            int po = sb.indexOf(ch);\n            if(po &gt; -1)\n            sb.replace(po,po+ch.length(),from[i]);\n        }\n    }\n\n    private int escape(StringBuilder sb,String ch,String holder,String[] restore){\n        int po1 = sb.indexOf(ch);\n        int po2 = po1+2;\n\n        int index = 0;\n        while(po1 != -1){\n            restore[index] = sb.substring(po1, po2);\n            sb.replace(po1,po2,holder+index);\n            index++;\n            po1 = sb.indexOf(ch);\n            po2 = po1+2;\n        }\n        return index;\n    }\n\n    private int replace(StringBuilder sb,String ch,String holder,String[] restore){\n        int po1 = sb.indexOf(ch);\n        int po2 = sb.indexOf(ch,po1+1)+1;\n\n        int index = 0;\n        while(po1 != -1 &amp;&amp; po2 != -1){\n            restore[index] = sb.substring(po1, po2);\n            sb.replace(po1,po2,holder+index);\n            index++;\n            po1 = sb.indexOf(ch);\n            po2 = sb.indexOf(ch,po1+1)+1;\n        }\n        return index;\n    }\n\n    private void replaceA(StringBuilder sb,String from,String to){\n        int po1 = sb.indexOf(from);\n        int po2 = sb.indexOf(to,po1+1);\n\n        while(po1 != -1 &amp;&amp; po2 != -1){\n            sb.replace(po1,po2,&quot;&quot;);\n            po1 = sb.indexOf(from);\n            po2 = sb.indexOf(to,po1+1);\n        }\n    }\n\n    private void replaceB(StringBuilder sb,String from,String to){\n        int po1 = sb.indexOf(from);\n        int po2 = sb.indexOf(to,po1+1)+2;\n\n        while(po1 != -1 &amp;&amp; po2 != -1){\n            sb.replace(po1,po2,&quot;&quot;);\n            po1 = sb.indexOf(from);\n            po2 = sb.indexOf(to,po1+1)+2;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26778268,"reputation":1,"user_id":20373544,"display_name":"Tanvir Anjum Rifat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398914,"creation_date":1667152937,"answer_id":74255504,"question_id":24323383,"body_markdown":"I write this code to delete comment from my java file.\r\n\r\nTake a look, if it&#39;s helpful.\r\n\r\n \r\n\r\n        public static void main(String[] args) throws IOException {\r\n        final var lines = Files.readAllLines(Path.of(&quot;myfile.txt&quot;));\r\n\r\n        var result = new ArrayList&lt;String&gt;();\r\n        boolean blockComment = false;\r\n\r\n        for (final String line : lines) {\r\n            if (line.contains(&quot;//&quot;)) {\r\n                var index = line.indexOf(&quot;//&quot;);\r\n                if (index == 0) {\r\n                    // do nothing.\r\n                } else {\r\n                    final var newline = line.substring(0, index);\r\n                    result.add(newline);\r\n                }\r\n            } else {\r\n                if (line.contains(&quot;/*&quot;)) {\r\n                    blockComment = true;\r\n                    var firstIndex = line.indexOf(&quot;/*&quot;);\r\n                    if (line.contains(&quot;*/&quot;)) {\r\n                        var lastIndex = line.indexOf(&quot;*/&quot;);\r\n                        var newline = line.substring(0, firstIndex) + line.substring(lastIndex + 2);\r\n                        result.add(newline);\r\n                        blockComment = false;\r\n                    }\r\n                } else if (!line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\r\n                    //do nothing .\r\n                } else if (line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\r\n                        var lastIndex = line.indexOf(&quot;*/&quot;);\r\n                        var newline = line.substring(lastIndex + 2);\r\n                        result.add(newline);\r\n                        blockComment = false;\r\n                } else {\r\n                    result.add(line);\r\n                }\r\n            }\r\n        }\r\n        final var outputContents = String.join(&quot;\\n&quot;, result);\r\n        Files.writeString(Path.of(&quot;output.txt&quot;), outputContents);\r\n\r\n        \r\n    }","title":"Remove All Comments in Java Files","body":"<p>I write this code to delete comment from my java file.</p>\n<p>Take a look, if it's helpful.</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n    final var lines = Files.readAllLines(Path.of(&quot;myfile.txt&quot;));\n\n    var result = new ArrayList&lt;String&gt;();\n    boolean blockComment = false;\n\n    for (final String line : lines) {\n        if (line.contains(&quot;//&quot;)) {\n            var index = line.indexOf(&quot;//&quot;);\n            if (index == 0) {\n                // do nothing.\n            } else {\n                final var newline = line.substring(0, index);\n                result.add(newline);\n            }\n        } else {\n            if (line.contains(&quot;/*&quot;)) {\n                blockComment = true;\n                var firstIndex = line.indexOf(&quot;/*&quot;);\n                if (line.contains(&quot;*/&quot;)) {\n                    var lastIndex = line.indexOf(&quot;*/&quot;);\n                    var newline = line.substring(0, firstIndex) + line.substring(lastIndex + 2);\n                    result.add(newline);\n                    blockComment = false;\n                }\n            } else if (!line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\n                //do nothing .\n            } else if (line.contains(&quot;*/&quot;) &amp;&amp; blockComment) {\n                    var lastIndex = line.indexOf(&quot;*/&quot;);\n                    var newline = line.substring(lastIndex + 2);\n                    result.add(newline);\n                    blockComment = false;\n            } else {\n                result.add(line);\n            }\n        }\n    }\n    final var outputContents = String.join(&quot;\\n&quot;, result);\n    Files.writeString(Path.of(&quot;output.txt&quot;), outputContents);\n\n    \n}\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62310,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":24326900,"answer_count":12,"score":31,"last_activity_date":1667398914,"creation_date":1403254210,"question_id":24323383,"body_markdown":"I have many comments like following. Is there simple way to remove all comments?\r\n\r\nIDE Eclipse Kepler\r\n\r\n    /* 34:   */\r\n    \r\n    /*\r\n    \r\n     * JD-Core Version:    0.7.0.1\r\n    \r\n     */","title":"Remove All Comments in Java Files","body":"<p>I have many comments like following. Is there simple way to remove all comments?</p>\n\n<p>IDE Eclipse Kepler</p>\n\n<pre><code>/* 34:   */\n\n/*\n\n * JD-Core Version:    0.7.0.1\n\n */\n</code></pre>\n"},{"tags":["java","wildcard","converters","subnet","cidr"],"comments":[{"owner":{"account_id":1706307,"reputation":3047,"user_id":1565284,"accept_rate":74,"display_name":"coredump"},"score":1,"creation_date":1348149216,"post_id":12514050,"comment_id":16843756,"body_markdown":"Your input is a string or a number data type ?","body":"Your input is a string or a number data type ?"},{"owner":{"account_id":1706307,"reputation":3047,"user_id":1565284,"accept_rate":74,"display_name":"coredump"},"score":0,"creation_date":1348149276,"post_id":12514050,"comment_id":16843797,"body_markdown":"The mask 252.0.128.0 is not valid. The number represented in the dot decimal format must consist of consecutive bits of one in order to be a valid network mask.","body":"The mask 252.0.128.0 is not valid. The number represented in the dot decimal format must consist of consecutive bits of one in order to be a valid network mask."},{"owner":{"account_id":433739,"reputation":934,"user_id":819262,"accept_rate":100,"display_name":"denizeren"},"score":0,"creation_date":1348149418,"post_id":12514050,"comment_id":16843868,"body_markdown":"but it could be used in iptables so it is possible, example rule:\niptables -A INPUT -s 10.0.0.0/252.0.128.0 -j ACCEPT\nI need this conversion in order to use these subnets in ipset. So it is valid actually.","body":"but it could be used in iptables so it is possible, example rule: iptables -A INPUT -s 10.0.0.0/252.0.128.0 -j ACCEPT I need this conversion in order to use these subnets in ipset. So it is valid actually."},{"owner":{"account_id":433739,"reputation":934,"user_id":819262,"accept_rate":100,"display_name":"denizeren"},"score":0,"creation_date":1348149472,"post_id":12514050,"comment_id":16843896,"body_markdown":"My input is string data type.","body":"My input is string data type."}],"answers":[{"tags":[],"owner":{"account_id":1706307,"reputation":3047,"user_id":1565284,"accept_rate":74,"display_name":"coredump"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1609964348,"creation_date":1348149468,"answer_id":12514243,"question_id":12514050,"body_markdown":"You can use `SubnetUtils` from [**Apache**][1]\r\n\r\n\r\nIt has a constructor `SubnetUtils(String address, String mask)`\r\n that takes as arguments 2 string, the destination IP and the network mask.\r\n\r\nThen you can use the nested class `SubnetUtilsInfo` and it&#39;s methods to get what you want .\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.docjar.com/docs/api/org/apache/commons/net/util/SubnetUtils.html","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>You can use <code>SubnetUtils</code> from <a href=\"http://www.docjar.com/docs/api/org/apache/commons/net/util/SubnetUtils.html\" rel=\"nofollow noreferrer\"><strong>Apache</strong></a></p>\n<p>It has a constructor <code>SubnetUtils(String address, String mask)</code>\nthat takes as arguments 2 string, the destination IP and the network mask.</p>\n<p>Then you can use the nested class <code>SubnetUtilsInfo</code> and it's methods to get what you want .</p>\n"},{"tags":[],"owner":{"account_id":18970109,"reputation":476,"user_id":13843769,"display_name":"Steve Dugan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609964220,"creation_date":1609963864,"answer_id":65602777,"question_id":12514050,"body_markdown":"There are 3 types of masks used in TCP/IP.  Subnet masks, simple bit masks, and wildcard masks.  Subnet masks must be contiguous. Meaning a series of 1s followed by are series of 0s.  It has been this way since 1991 (RFC 1219).  The use of this mask is so that devices understand what the network number, broadcast number, and valid host for the subnet in question.   Simple bit masks are used in access-control and allowed to be discontiguous.  Cisco ASA firewalls, iptables and other systems use these types of masks to test for certian parts of an IP address.  For example 10.1.0.254 255.255.0.255 is testing that the first octet is 10, the second is 1, the fourth is 254, but value of the thrid octet can be 0-255.    A wildcard mask is an inverted simple bit mask and is commonlly used on Cisco routers and switches.  These are also allowed to be discontiguous.  Using the same example as before, we would invert the mask to get a test of 10.1.0.254 0.0.255.0.  This test is identical to the previous example in that we care about octet 1,2, and 4 matching the exact value, but octet 3 can vary.\r\nThe KEY point in all of this is that you are trying to convert 2 different things.  Subnet masks are not used to same as simple bit masks/wildcard masks.  Converting from one to the other isn&#39;t possible.  Even if the simple/wild card mask is contiguous, the mask may not be represntitive of the actual subnet mask in use.\r\n ","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>There are 3 types of masks used in TCP/IP.  Subnet masks, simple bit masks, and wildcard masks.  Subnet masks must be contiguous. Meaning a series of 1s followed by are series of 0s.  It has been this way since 1991 (RFC 1219).  The use of this mask is so that devices understand what the network number, broadcast number, and valid host for the subnet in question.   Simple bit masks are used in access-control and allowed to be discontiguous.  Cisco ASA firewalls, iptables and other systems use these types of masks to test for certian parts of an IP address.  For example 10.1.0.254 255.255.0.255 is testing that the first octet is 10, the second is 1, the fourth is 254, but value of the thrid octet can be 0-255.    A wildcard mask is an inverted simple bit mask and is commonlly used on Cisco routers and switches.  These are also allowed to be discontiguous.  Using the same example as before, we would invert the mask to get a test of 10.1.0.254 0.0.255.0.  This test is identical to the previous example in that we care about octet 1,2, and 4 matching the exact value, but octet 3 can vary.\nThe KEY point in all of this is that you are trying to convert 2 different things.  Subnet masks are not used to same as simple bit masks/wildcard masks.  Converting from one to the other isn't possible.  Even if the simple/wild card mask is contiguous, the mask may not be represntitive of the actual subnet mask in use.</p>\n"},{"tags":[],"owner":{"account_id":20729960,"reputation":479,"user_id":15222211,"display_name":"pyjedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398568,"creation_date":1667398568,"answer_id":74290649,"question_id":12514050,"body_markdown":"convert wildcard to prefixes in python\r\n```\r\naddress = Address(&quot;1.2.3.4 255.0.255.0&quot;)\r\nprefixes = address.prefixes()\r\nprint(prefixes)  \r\n# [&#39;0.2.0.4/32&#39;, \r\n#  &#39;0.2.1.4/32&#39;, \r\n#  &#39;0.2.2.4/32&#39;, \r\n#  ...\r\n```","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>convert wildcard to prefixes in python</p>\n<pre><code>address = Address(&quot;1.2.3.4 255.0.255.0&quot;)\nprefixes = address.prefixes()\nprint(prefixes)  \n# ['0.2.0.4/32', \n#  '0.2.1.4/32', \n#  '0.2.2.4/32', \n#  ...\n</code></pre>\n"}],"owner":{"account_id":433739,"reputation":934,"user_id":819262,"accept_rate":100,"display_name":"denizeren"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12514243,"answer_count":3,"score":3,"last_activity_date":1667398568,"creation_date":1348148858,"question_id":12514050,"body_markdown":"I need to convert wildcard subnets to smallest cidr subnet list.\r\nFor example:\r\n\r\n    1.2.3.4/255.0.255.0\r\n    converted to\r\n    1.0.3.0/24\r\n    1.1.3.0/24\r\n    1.2.3.0/24\r\n    1.3.3.0/24\r\n    ...\r\n    1.254.3.0/24\r\n    1.255.3.0/24\r\n\r\nAbove example is easy but for the wildcard subnet like this 1.2.3.4/252.0.128.0 its more complicated.\r\n\r\nIs there a library for that in Java.\r\n\r\nThanks in advance.","title":"Convert wildcard subnet to smallest cidr subnet list","body":"<p>I need to convert wildcard subnets to smallest cidr subnet list.\nFor example:</p>\n\n<pre><code>1.2.3.4/255.0.255.0\nconverted to\n1.0.3.0/24\n1.1.3.0/24\n1.2.3.0/24\n1.3.3.0/24\n...\n1.254.3.0/24\n1.255.3.0/24\n</code></pre>\n\n<p>Above example is easy but for the wildcard subnet like this 1.2.3.4/252.0.128.0 its more complicated.</p>\n\n<p>Is there a library for that in Java.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1477995049,"post_id":40187753,"comment_id":67969131,"body_markdown":"This is not valid Java (unreachable statements).","body":"This is not valid Java (unreachable statements)."}],"answers":[{"tags":[],"owner":{"account_id":9490609,"reputation":67,"user_id":7055576,"display_name":"Ishaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477105402,"creation_date":1477104574,"answer_id":40187843,"question_id":40187753,"body_markdown":"Try this instead :\r\n\r\n* Convert the 16 digit number into a String using    Long.toString(number). \r\n\r\n* Iterate  through the String character by    character and keep track of even and odd indexes. \r\n\r\n* Convert each char to an Integer using Integer.valueOf() thereby adding them    incrementally. \r\n\r\n* Voila, you got your evenSum and oddSum. Next steps    should be trivial.\r\n\r\n        public static boolean validateCreditCard(long number){\r\n        String x = Long.toString(number);\r\n        int evenSum = 0;\r\n        int oddSum = 0;\r\n        for(int i=0; i&lt;x.length; i=i+2) {\r\n           oddSum += Integer.valueOf(s[i]);\r\n           evenSum += Integer.valueOf(s[i+1]);\r\n        }\r\n        //Do the next steps with odd and even sums. \r\n\r\nAlso, do handle IndexOutOfBoundsException as appropriate.\r\n\r\n\r\n\r\n","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>Try this instead :</p>\n\n<ul>\n<li><p>Convert the 16 digit number into a String using    Long.toString(number). </p></li>\n<li><p>Iterate  through the String character by    character and keep track of even and odd indexes. </p></li>\n<li><p>Convert each char to an Integer using Integer.valueOf() thereby adding them    incrementally. </p></li>\n<li><p>Voila, you got your evenSum and oddSum. Next steps    should be trivial.</p>\n\n<pre><code>public static boolean validateCreditCard(long number){\nString x = Long.toString(number);\nint evenSum = 0;\nint oddSum = 0;\nfor(int i=0; i&lt;x.length; i=i+2) {\n   oddSum += Integer.valueOf(s[i]);\n   evenSum += Integer.valueOf(s[i+1]);\n}\n//Do the next steps with odd and even sums. \n</code></pre></li>\n</ul>\n\n<p>Also, do handle IndexOutOfBoundsException as appropriate.</p>\n"},{"tags":[],"owner":{"account_id":8214182,"reputation":327,"user_id":6181189,"display_name":"Anagh Hegde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477987537,"creation_date":1477117813,"answer_id":40189056,"question_id":40187753,"body_markdown":"You can do it in a single while loop as digits are fixed, like this:  \r\n     \r\n    int digit,evensum,oddsum;\r\n    int i=16;\r\n    while(i &gt; 0){\r\n        digit=number%10;\r\n        if(i%2 == 0)\r\n             evensum+=digit;\r\n        else\r\n             oddsum+=digit;  \r\n        i--;\r\n        digit/=10;\r\n    } ","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>You can do it in a single while loop as digits are fixed, like this:  </p>\n\n<pre><code>int digit,evensum,oddsum;\nint i=16;\nwhile(i &gt; 0){\n    digit=number%10;\n    if(i%2 == 0)\n         evensum+=digit;\n    else\n         oddsum+=digit;  \n    i--;\n    digit/=10;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23589099,"reputation":1,"user_id":17627158,"display_name":"Yogesh Baghel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398550,"creation_date":1667398550,"answer_id":74290645,"question_id":40187753,"body_markdown":"Try this instead \r\n**using Recusion** find sum of even placed of digit and sum of odd placed of digit.\r\n\r\n```java\r\nclass Recursion {\r\n  static int count = 0;\r\n  static int even =0;\r\n  static int odd =0;\r\n  public static int Digits(int num) {\r\n    if (num &gt; 0) {\r\n      count++;\r\n      if(count%2 == 0){\r\n          even += num%10;\r\n      }\r\n      else{\r\n          odd += num%10;\r\n      }\r\n      Digits(num / 10);\r\n    }\r\n    return even;\r\n    // for odd \r\n    // return odd;\r\n  }\r\n  public static void main(String[] args) {\r\n    int num = 31593;\r\n    int res = Digits(num);\r\n    System.out.println(&quot;Total digits are: &quot; + res);\r\n  }\r\n}\r\n```\r\n**Help me** How to print both even and odd sum together? ","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>Try this instead\n<strong>using Recusion</strong> find sum of even placed of digit and sum of odd placed of digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Recursion {\n  static int count = 0;\n  static int even =0;\n  static int odd =0;\n  public static int Digits(int num) {\n    if (num &gt; 0) {\n      count++;\n      if(count%2 == 0){\n          even += num%10;\n      }\n      else{\n          odd += num%10;\n      }\n      Digits(num / 10);\n    }\n    return even;\n    // for odd \n    // return odd;\n  }\n  public static void main(String[] args) {\n    int num = 31593;\n    int res = Digits(num);\n    System.out.println(&quot;Total digits are: &quot; + res);\n  }\n}\n</code></pre>\n<p><strong>Help me</strong> How to print both even and odd sum together?</p>\n"}],"owner":{"account_id":9490987,"reputation":1,"user_id":7055807,"display_name":"Marie Leech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667398550,"creation_date":1477103551,"question_id":40187753,"body_markdown":"In our directions, we have to get a 16 digit number, then sum all the digits in the odd place from right to left. After that, we have to sum all the even place digits from right to left, double the sum, then take module 9. When I try to run my code, I keep getting &quot;Invalid&quot;, even if it is with a valid credit card number.\r\n\r\n    public static boolean validateCreditCard(long number) {\r\n        double cardSum = 0;\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            long cardnumber = (long) Math.pow(10, i);\r\n            double oddPlaceSum = 0;\r\n            double evenPlaceSum = 0;\r\n            if (i % 2 != 0) {\r\n                oddPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i))));\r\n            } else { // so if i%2 ==0\r\n                evenPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i)) * 2 % 9));\r\n            }\r\n            cardSum += evenPlaceSum + oddPlaceSum;\r\n        }\r\n        if (cardSum % 10 == 0) {\r\n            return true;\r\n            System.out.println(&quot;Valid&quot;);\r\n        } else {\r\n            return false;\r\n            System.out.println(&quot;Invalid&quot;);\r\n        }\r\n    }","title":"Error in calculating sum of even place digits and odd place digits in java","body":"<p>In our directions, we have to get a 16 digit number, then sum all the digits in the odd place from right to left. After that, we have to sum all the even place digits from right to left, double the sum, then take module 9. When I try to run my code, I keep getting \"Invalid\", even if it is with a valid credit card number.</p>\n\n<pre><code>public static boolean validateCreditCard(long number) {\n    double cardSum = 0;\n    for (int i = 0; i &lt; 16; i++) {\n        long cardnumber = (long) Math.pow(10, i);\n        double oddPlaceSum = 0;\n        double evenPlaceSum = 0;\n        if (i % 2 != 0) {\n            oddPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i))));\n        } else { // so if i%2 ==0\n            evenPlaceSum += ((int)(number % cardnumber / (Math.pow(10, i)) * 2 % 9));\n        }\n        cardSum += evenPlaceSum + oddPlaceSum;\n    }\n    if (cardSum % 10 == 0) {\n        return true;\n        System.out.println(\"Valid\");\n    } else {\n        return false;\n        System.out.println(\"Invalid\");\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667397327,"creation_date":1667397327,"answer_id":74290364,"question_id":74290223,"body_markdown":"The whole point of the singleton bean is to be a single instance per application context. When spring application starts, these beans are created and put into the context.\r\n\r\nThey&#39;ll reside in the context as long as the application context is available (usually it means as long as the application process is up and running).\r\n\r\nNow If beans are stateless, I doubt they&#39;ll significantly impact the memory footprint. JVM can allocate millions of objects, and usually, the memory is consumed by the internal state of the allocated object...\r\n\r\n\r\nIf you do have a state - you can define a cache with an expiration so that it will be cleaned and eventually garbage collected...\r\nSpring has caching support or alternatively you can use the in-memory cache implementations directly (like caffeine or guava cache) - no need to roll your own cache implementation from scratch.\r\n","title":"Release unused spring beans","body":"<p>The whole point of the singleton bean is to be a single instance per application context. When spring application starts, these beans are created and put into the context.</p>\n<p>They'll reside in the context as long as the application context is available (usually it means as long as the application process is up and running).</p>\n<p>Now If beans are stateless, I doubt they'll significantly impact the memory footprint. JVM can allocate millions of objects, and usually, the memory is consumed by the internal state of the allocated object...</p>\n<p>If you do have a state - you can define a cache with an expiration so that it will be cleaned and eventually garbage collected...\nSpring has caching support or alternatively you can use the in-memory cache implementations directly (like caffeine or guava cache) - no need to roll your own cache implementation from scratch.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398461,"creation_date":1667398461,"answer_id":74290623,"question_id":74290223,"body_markdown":"&gt; Do the bean instances add to the application&#39;s total memory?\r\n\r\nSure, they will contribute to the application memory footprint. Your Singleton-Beans are there would be there from the application start up, fully initialized and ready to serve requests without any delay, that&#39;s the whole point of keeping them alive in the Spring&#39;s Context.\r\n\r\n&gt; If the beans are unused for a long time, is it possible to release them to be garbage collected?\r\n\r\nIt feels like you want to address the problem backwards, by trying to mitigate the symptoms without touching the root.\r\n\r\nIf you have too many Beans that are unused for a significant amount of time (*and presumably the application is constantly busy*) the problem might be rooted on the Architectural level. The solution (not the easy one) might be to split it into multiple services shipped with more granular subsets of functionalities (which are now you have in a single application) deployed and managed separately.","title":"Release unused spring beans","body":"<blockquote>\n<p>Do the bean instances add to the application's total memory?</p>\n</blockquote>\n<p>Sure, they will contribute to the application memory footprint. Your Singleton-Beans are there would be there from the application start up, fully initialized and ready to serve requests without any delay, that's the whole point of keeping them alive in the Spring's Context.</p>\n<blockquote>\n<p>If the beans are unused for a long time, is it possible to release them to be garbage collected?</p>\n</blockquote>\n<p>It feels like you want to address the problem backwards, by trying to mitigate the symptoms without touching the root.</p>\n<p>If you have too many Beans that are unused for a significant amount of time (<em>and presumably the application is constantly busy</em>) the problem might be rooted on the Architectural level. The solution (not the easy one) might be to split it into multiple services shipped with more granular subsets of functionalities (which are now you have in a single application) deployed and managed separately.</p>\n"}],"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667398461,"creation_date":1667396742,"question_id":74290223,"body_markdown":"My application has lot of Spring beans (singleton and effectively stateless).  \r\nDo the bean instances add to the application&#39;s total memory?  \r\n\r\nIf the beans are unused for a long time, is it possible to release them to be garbage collected? \r\n\r\n(I know that the prototype scope is available, but I want only a single instance of the bean to exist at any given time.)","title":"Release unused spring beans","body":"<p>My application has lot of Spring beans (singleton and effectively stateless).<br />\nDo the bean instances add to the application's total memory?</p>\n<p>If the beans are unused for a long time, is it possible to release them to be garbage collected?</p>\n<p>(I know that the prototype scope is available, but I want only a single instance of the bean to exist at any given time.)</p>\n"},{"tags":["java","c#","web-services","parameters","wsdl"],"comments":[{"owner":{"account_id":58224,"reputation":51600,"user_id":174375,"accept_rate":80,"display_name":"NibblyPig"},"score":0,"creation_date":1519137335,"post_id":48111466,"comment_id":84780122,"body_markdown":"I&#39;ve found the same issue trying to integrate with a massive company&#39;s WSDL. Using an online SOAP web client, it displays the parameter/return type correctly.","body":"I&#39;ve found the same issue trying to integrate with a massive company&#39;s WSDL. Using an online SOAP web client, it displays the parameter/return type correctly."}],"answers":[{"tags":[],"owner":{"account_id":20686712,"reputation":21,"user_id":15188949,"display_name":"BNB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667398252,"creation_date":1667398252,"answer_id":74290567,"question_id":48111466,"body_markdown":"I had a problem, when importing a C# service reference from a wsdl that includes a &quot;part&quot; with the name &quot;parameters&quot; just like it is shown in your example.\r\n\r\nWhen I renamed it to e.g. &quot;parameters1&quot;, it worked as expected. Maybe your problem is similar here?","title":"Visual Studio can&#39;t read WSDL parameters","body":"<p>I had a problem, when importing a C# service reference from a wsdl that includes a &quot;part&quot; with the name &quot;parameters&quot; just like it is shown in your example.</p>\n<p>When I renamed it to e.g. &quot;parameters1&quot;, it worked as expected. Maybe your problem is similar here?</p>\n"}],"owner":{"account_id":2671274,"reputation":349,"user_id":2308641,"display_name":"Vlastislav Nov&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667398252,"creation_date":1515147494,"question_id":48111466,"body_markdown":"I have created webservice in Java, that automatically build WSDL using JAX-WS. My colleague is trying to access method with parameters in Visual Studio, but IDE offers only void method without parameters. I don&#39;t have any clue, what can be wrong, do you? Here is the complete wsdl with types schema and VS preview. Thanks for any advice.\r\n\r\n    &lt;definitions xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns:tns=&quot;http://foo/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; targetNamespace=&quot;http://foo/&quot; name=&quot;GRCWSHLService&quot;&gt;\r\n        &lt;types&gt;\r\n            &lt;xsd:schema&gt;\r\n                &lt;xsd:import namespace=&quot;http://foo/&quot; schemaLocation=&quot;http://foo/grcwshl/GRCWSHLPort?xsd=1&quot;/&gt;\r\n            &lt;/xsd:schema&gt;\r\n        &lt;/types&gt;\r\n        &lt;message name=&quot;querycastxml&quot;&gt;\r\n            &lt;part name=&quot;parameters&quot; element=&quot;tns:setExtraDataElement&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;message name=&quot;querycastxmlResponse&quot;&gt;\r\n            &lt;part name=&quot;parameters&quot; element=&quot;tns:setExtraDataResponseElement&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;portType name=&quot;GRCWSHL&quot;&gt;\r\n            &lt;operation name=&quot;querycastxml&quot;&gt;\r\n                &lt;input message=&quot;tns:querycastxml&quot;/&gt;\r\n                &lt;output message=&quot;tns:querycastxmlResponse&quot;/&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/portType&gt;\r\n        &lt;binding name=&quot;GRCWSHLPortBinding&quot; type=&quot;tns:GRCWSHL&quot;&gt;\r\n            &lt;soap:binding transport=&quot;http://schemas.xmlsoap.org/soap/http&quot; style=&quot;document&quot;/&gt;\r\n            &lt;operation name=&quot;querycastxml&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;&quot;/&gt;\r\n                &lt;input&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/input&gt;\r\n                &lt;output&gt;\r\n                    &lt;soap:body use=&quot;literal&quot;/&gt;\r\n                &lt;/output&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/binding&gt;\r\n        &lt;service name=&quot;GRCWSHLService&quot;&gt;\r\n            &lt;port name=&quot;GRCWSHLPort&quot; binding=&quot;tns:GRCWSHLPortBinding&quot;&gt;\r\n                &lt;soap:address location=&quot;http://foo/grcwshl/GRCWSHLPort&quot;/&gt;\r\n            &lt;/port&gt;\r\n        &lt;/service&gt;\r\n    &lt;/definitions&gt;\r\n\r\n**Types schema:**\r\n\r\n    &lt;xs:schema xmlns:tns=&quot;http://foo/&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://foo/&quot;&gt;\r\n        &lt;xs:element name=&quot;Error&quot; type=&quot;tns:lineError&quot;/&gt;\r\n        &lt;xs:element name=&quot;setExtraDataElement&quot; type=&quot;tns:request&quot;/&gt;\r\n        &lt;xs:element name=&quot;setExtraDataResponseElement&quot; type=&quot;tns:response&quot;/&gt;\r\n        &lt;xs:complexType name=&quot;request&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:generalObject&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;jmsoub1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;xs:element name=&quot;data1&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;generalObject&quot;&gt;\r\n            &lt;xs:sequence/&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;response&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:generalObject&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;Message&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;xs:element name=&quot;ReceiveDate&quot; type=&quot;xs:dateTime&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;xs:element name=&quot;LinesTotal&quot; type=&quot;xs:int&quot;/&gt;\r\n                        &lt;xs:element name=&quot;ErrorsTotal&quot; type=&quot;xs:int&quot;/&gt;\r\n                        &lt;xs:element name=&quot;Errors&quot; type=&quot;tns:lineError&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;lineError&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:generalObject&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;LineNumber&quot; type=&quot;xs:int&quot;/&gt;\r\n                        &lt;xs:element name=&quot;ErrorText&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n**Visual Studio preview**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y00JA.png","title":"Visual Studio can&#39;t read WSDL parameters","body":"<p>I have created webservice in Java, that automatically build WSDL using JAX-WS. My colleague is trying to access method with parameters in Visual Studio, but IDE offers only void method without parameters. I don't have any clue, what can be wrong, do you? Here is the complete wsdl with types schema and VS preview. Thanks for any advice.</p>\n\n<pre><code>&lt;definitions xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:tns=\"http://foo/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"http://schemas.xmlsoap.org/wsdl/\" targetNamespace=\"http://foo/\" name=\"GRCWSHLService\"&gt;\n    &lt;types&gt;\n        &lt;xsd:schema&gt;\n            &lt;xsd:import namespace=\"http://foo/\" schemaLocation=\"http://foo/grcwshl/GRCWSHLPort?xsd=1\"/&gt;\n        &lt;/xsd:schema&gt;\n    &lt;/types&gt;\n    &lt;message name=\"querycastxml\"&gt;\n        &lt;part name=\"parameters\" element=\"tns:setExtraDataElement\"/&gt;\n    &lt;/message&gt;\n    &lt;message name=\"querycastxmlResponse\"&gt;\n        &lt;part name=\"parameters\" element=\"tns:setExtraDataResponseElement\"/&gt;\n    &lt;/message&gt;\n    &lt;portType name=\"GRCWSHL\"&gt;\n        &lt;operation name=\"querycastxml\"&gt;\n            &lt;input message=\"tns:querycastxml\"/&gt;\n            &lt;output message=\"tns:querycastxmlResponse\"/&gt;\n        &lt;/operation&gt;\n    &lt;/portType&gt;\n    &lt;binding name=\"GRCWSHLPortBinding\" type=\"tns:GRCWSHL\"&gt;\n        &lt;soap:binding transport=\"http://schemas.xmlsoap.org/soap/http\" style=\"document\"/&gt;\n        &lt;operation name=\"querycastxml\"&gt;\n            &lt;soap:operation soapAction=\"\"/&gt;\n            &lt;input&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/input&gt;\n            &lt;output&gt;\n                &lt;soap:body use=\"literal\"/&gt;\n            &lt;/output&gt;\n        &lt;/operation&gt;\n    &lt;/binding&gt;\n    &lt;service name=\"GRCWSHLService\"&gt;\n        &lt;port name=\"GRCWSHLPort\" binding=\"tns:GRCWSHLPortBinding\"&gt;\n            &lt;soap:address location=\"http://foo/grcwshl/GRCWSHLPort\"/&gt;\n        &lt;/port&gt;\n    &lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p><strong>Types schema:</strong></p>\n\n<pre><code>&lt;xs:schema xmlns:tns=\"http://foo/\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" version=\"1.0\" targetNamespace=\"http://foo/\"&gt;\n    &lt;xs:element name=\"Error\" type=\"tns:lineError\"/&gt;\n    &lt;xs:element name=\"setExtraDataElement\" type=\"tns:request\"/&gt;\n    &lt;xs:element name=\"setExtraDataResponseElement\" type=\"tns:response\"/&gt;\n    &lt;xs:complexType name=\"request\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"tns:generalObject\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"jmsoub1\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                    &lt;xs:element name=\"data1\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"generalObject\"&gt;\n        &lt;xs:sequence/&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"response\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"tns:generalObject\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"Message\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                    &lt;xs:element name=\"ReceiveDate\" type=\"xs:dateTime\" minOccurs=\"0\"/&gt;\n                    &lt;xs:element name=\"LinesTotal\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"ErrorsTotal\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"Errors\" type=\"tns:lineError\" minOccurs=\"0\" maxOccurs=\"unbounded\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"lineError\"&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=\"tns:generalObject\"&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=\"LineNumber\" type=\"xs:int\"/&gt;\n                    &lt;xs:element name=\"ErrorText\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p><strong>Visual Studio preview</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Y00JA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y00JA.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1667403170,"post_id":74288749,"comment_id":131159686,"body_markdown":"Just want to point out that setting those environment variables in IntelliJ should be unnecessary. You&#39;re using Gradle, and so IntelliJ should be able to infer everything from Gradle. You should also be delegating to Gradle to run your program (you&#39;ve applied the `application` plugin; create a Gradle run configuration that simply executes the `run` task).","body":"Just want to point out that setting those environment variables in IntelliJ should be unnecessary. You&#39;re using Gradle, and so IntelliJ should be able to infer everything from Gradle. You should also be delegating to Gradle to run your program (you&#39;ve applied the <code>application</code> plugin; create a Gradle run configuration that simply executes the <code>run</code> task)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667417625,"post_id":74288749,"comment_id":131165013,"body_markdown":"Please paste exceptions as text formatted as code and not screenshots.","body":"Please paste exceptions as text formatted as code and not screenshots."}],"answers":[{"comments":[{"owner":{"account_id":26794310,"reputation":23,"user_id":20387272,"display_name":"slowrabbit12"},"score":1,"creation_date":1667401670,"post_id":74290477,"comment_id":131159129,"body_markdown":"Thank you! That seemed to work. I did not know that javax.mail was deprecated.","body":"Thank you! That seemed to work. I did not know that javax.mail was deprecated."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667418061,"post_id":74290477,"comment_id":131165143,"body_markdown":"@slowrabbit12 FYI, [many of the javax libraries used in jee had their package names changed to Jakarta](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee)","body":"@slowrabbit12 FYI, <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\">many of the javax libraries used in jee had their package names changed to Jakarta</a>"}],"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667397869,"creation_date":1667397869,"answer_id":74290477,"question_id":74288749,"body_markdown":"The mail API jar from [your dependency][1] doesn&#39;t define a `module-info.class`.\r\n\r\nThe [new Jakarta mail][2] API does define the file. Migrate your usage of `javax.mail` to `jakarta.mail` packages and use the updated artifact, should work then.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.mail/javax.mail-api/1.6.2\r\n  [2]: https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api/2.1.0","title":"Java required module can&#39;t be found","body":"<p>The mail API jar from <a href=\"https://mvnrepository.com/artifact/javax.mail/javax.mail-api/1.6.2\" rel=\"nofollow noreferrer\">your dependency</a> doesn't define a <code>module-info.class</code>.</p>\n<p>The <a href=\"https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api/2.1.0\" rel=\"nofollow noreferrer\">new Jakarta mail</a> API does define the file. Migrate your usage of <code>javax.mail</code> to <code>jakarta.mail</code> packages and use the updated artifact, should work then.</p>\n"}],"owner":{"account_id":26794310,"reputation":23,"user_id":20387272,"display_name":"slowrabbit12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74290477,"answer_count":1,"score":2,"last_activity_date":1667397869,"creation_date":1667390113,"question_id":74288749,"body_markdown":"I have a basic JavaFX project set up in IntelliJ:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tDKZw.png)](https://i.stack.imgur.com/tDKZw.png)\r\n\r\nThe project uses Gradle for dependency management. The dependency that was added by my is javax.mail.api as you can see in the build.gradle file here:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n}\r\n\r\ngroup &#39;com.contoso&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.9.0&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;18&#39;\r\ntargetCompatibility = &#39;18&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.contoso.portwatcher&#39;\r\n    mainClass = &#39;com.contoso.portwatcher.Application&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;18.0.1&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    implementation group: &#39;javax.mail&#39;, name: &#39;javax.mail-api&#39;, version: &#39;1.6.2&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\n\r\nThe iissue I have now is that when trying to execute to programm with the following run configuration:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2pkoG.png)](https://i.stack.imgur.com/2pkoG.png)\r\n\r\nI get the following exception:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/gEcwY.png)](https://i.stack.imgur.com/gEcwY.png)\r\n\r\nThe module-info.java file specifies the added dependency module:\r\n\r\n```\r\nmodule com.contoso.portwatcher {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javax.mail.api;\r\n\r\n\r\n    opens com.contoso.portwatcher to javafx.fxml;\r\n    exports com.contoso.portwatcher;\r\n}\r\n```\r\n\r\nMy question is why the module cannot be found?\r\n\r\nThank you for your patience and help.","title":"Java required module can&#39;t be found","body":"<p>I have a basic JavaFX project set up in IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/tDKZw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDKZw.png\" alt=\"enter image description here\" /></a></p>\n<p>The project uses Gradle for dependency management. The dependency that was added by my is javax.mail.api as you can see in the build.gradle file here:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com.contoso'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.0'\n}\n\nsourceCompatibility = '18'\ntargetCompatibility = '18'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.contoso.portwatcher'\n    mainClass = 'com.contoso.portwatcher.Application'\n}\n\njavafx {\n    version = '18.0.1'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n    implementation group: 'javax.mail', name: 'javax.mail-api', version: '1.6.2'\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<p>The iissue I have now is that when trying to execute to programm with the following run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/2pkoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2pkoG.png\" alt=\"enter image description here\" /></a></p>\n<p>I get the following exception:</p>\n<p><a href=\"https://i.stack.imgur.com/gEcwY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gEcwY.png\" alt=\"enter image description here\" /></a></p>\n<p>The module-info.java file specifies the added dependency module:</p>\n<pre><code>module com.contoso.portwatcher {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javax.mail.api;\n\n\n    opens com.contoso.portwatcher to javafx.fxml;\n    exports com.contoso.portwatcher;\n}\n</code></pre>\n<p>My question is why the module cannot be found?</p>\n<p>Thank you for your patience and help.</p>\n"},{"tags":["java","apache-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"score":0,"creation_date":1667412690,"post_id":74289234,"comment_id":131163390,"body_markdown":"`Flux.groupBy` will hang if there are more groups open (not terminated) than the prefetch value (by default 256). Can you monitor how many `partitionFlux` instances are open when it hangs?","body":"<code>Flux.groupBy</code> will hang if there are more groups open (not terminated) than the prefetch value (by default 256). Can you monitor how many <code>partitionFlux</code> instances are open when it hangs?"},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1667453270,"post_id":74289234,"comment_id":131171577,"body_markdown":"@PatrickHooijer Thank you for the prompt reply, Since the incident happened on production, we couldn&#39;t collect the number of groups. \nThe default `max.poll.records` (500) is used with client configuration and only one partition was assigned to the instance during the incident time. so, it could be more than 256.","body":"@PatrickHooijer Thank you for the prompt reply, Since the incident happened on production, we couldn&#39;t collect the number of groups.  The default <code>max.poll.records</code> (500) is used with client configuration and only one partition was assigned to the instance during the incident time. so, it could be more than 256."},{"owner":{"account_id":14492583,"reputation":701,"user_id":10468291,"display_name":"Patrick Hooijer"},"score":0,"creation_date":1667468106,"post_id":74289234,"comment_id":131175261,"body_markdown":"Then my best guess is that this is the problem. You can add the prefetch value as a second argument to groupBy: `.groupBy(m -&gt; m.receiverOffset().topicPartition(), 1024)`. Or if you want to modify it for all prefetch operators in your project (not only groupBy), you can add the `reactor.bufferSize.small=1024` property.","body":"Then my best guess is that this is the problem. You can add the prefetch value as a second argument to groupBy: <code>.groupBy(m -&gt; m.receiverOffset().topicPartition(), 1024)</code>. Or if you want to modify it for all prefetch operators in your project (not only groupBy), you can add the <code>reactor.bufferSize.small=1024</code> property."},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1667495972,"post_id":74289234,"comment_id":131186004,"body_markdown":"Thank you, Let me try and update here","body":"Thank you, Let me try and update here"},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1667570900,"post_id":74289234,"comment_id":131204242,"body_markdown":"I found below two statements during the last pause `[reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Emitting 1 records, requested now 1\n[reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Paused - back pressure`","body":"I found below two statements during the last pause <code>[reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Emitting 1 records, requested now 1 [reactor.kafka.receiver.internals.ConsumerEventLoop] DEBUG - Paused - back pressure</code>"}],"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667397651,"creation_date":1667392445,"question_id":74289234,"body_markdown":"We are using the Kafka reactor for consuming and producing the Kafka message. We have noticed the consumer pause and resume during the message processing due to back pressure.\r\nBut unfortunately, the consumer is paused indefinitely after 3 or 4 resumes. The lag started to build up on the topics afterward. No exception logged.\r\nThe consumer code is below \r\n\r\n**reactor-kafka (1.3.9)**\r\n```\r\n KafkaReceiver&lt;K,V&gt; receiver = KafkaReceiver.create(consumerOptions);\r\n        return Flux.defer(receiver::receive)\r\n                .publishOn(defaultScheduler())\r\n                .groupBy(m -&gt; m.receiverOffset().topicPartition())\r\n                .flatMap(\r\n                        partitionFlux -&gt;\r\n                                partitionFlux.publishOn(defaultScheduler())\r\n                                        .doOnNext(kvReceiverRecord -&gt; kvReceiverRecord.receiverOffset().acknowledge())\r\n                                        .delayUntil(this::dispatch)\r\n                                        .checkpoint(&quot;Dispatching the message to handler&quot;)\r\n                )\r\n                .retry()\r\n                .repeat()\r\n                .subscribe();\r\n```\r\n\r\nCan someone help me, \r\n1. how to avoid the consumer going into a pause state indefinitely\r\n2. In the Kafka reactor, on which condition the consumer would be paused and resumed\r\n\r\n\r\n","title":"Kafka Consumer Paused Indefinitely","body":"<p>We are using the Kafka reactor for consuming and producing the Kafka message. We have noticed the consumer pause and resume during the message processing due to back pressure.\nBut unfortunately, the consumer is paused indefinitely after 3 or 4 resumes. The lag started to build up on the topics afterward. No exception logged.\nThe consumer code is below</p>\n<p><strong>reactor-kafka (1.3.9)</strong></p>\n<pre><code> KafkaReceiver&lt;K,V&gt; receiver = KafkaReceiver.create(consumerOptions);\n        return Flux.defer(receiver::receive)\n                .publishOn(defaultScheduler())\n                .groupBy(m -&gt; m.receiverOffset().topicPartition())\n                .flatMap(\n                        partitionFlux -&gt;\n                                partitionFlux.publishOn(defaultScheduler())\n                                        .doOnNext(kvReceiverRecord -&gt; kvReceiverRecord.receiverOffset().acknowledge())\n                                        .delayUntil(this::dispatch)\n                                        .checkpoint(&quot;Dispatching the message to handler&quot;)\n                )\n                .retry()\n                .repeat()\n                .subscribe();\n</code></pre>\n<p>Can someone help me,</p>\n<ol>\n<li>how to avoid the consumer going into a pause state indefinitely</li>\n<li>In the Kafka reactor, on which condition the consumer would be paused and resumed</li>\n</ol>\n"},{"tags":["java","spring-boot","internationalization"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667397668,"post_id":74290338,"comment_id":131157402,"body_markdown":"I don&#39;t understand, in thymleaf you pass lang, and in the controller, you wait for projectId!!","body":"I don&#39;t understand, in thymleaf you pass lang, and in the controller, you wait for projectId!!"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667397891,"post_id":74290338,"comment_id":131157488,"body_markdown":"how can i pass language and project id in controlller ?!","body":"how can i pass language and project id in controlller ?!"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667397955,"post_id":74290338,"comment_id":131157505,"body_markdown":"You mean `@RequestParam(&quot;lang&quot;) String lang, @RequestParam(&quot;projectId&quot;) int theId`","body":"You mean <code>@RequestParam(&quot;lang&quot;) String lang, @RequestParam(&quot;projectId&quot;) int theId</code>"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667398128,"post_id":74290338,"comment_id":131157591,"body_markdown":"why  i can change the language in the homepage that doesnt need a reuquestparam !","body":"why  i can change the language in the homepage that doesnt need a reuquestparam !"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667398178,"post_id":74290338,"comment_id":131157627,"body_markdown":"the problem is just that i got error when there is requestparam !","body":"the problem is just that i got error when there is requestparam !"},{"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"score":0,"creation_date":1667398327,"post_id":74290338,"comment_id":131157694,"body_markdown":"I think maybe the problem with thymleaf ! how can i make it to accept control:ers with multiparam  @you","body":"I think maybe the problem with thymleaf ! how can i make it to accept control:ers with multiparam  @you"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667399319,"post_id":74290338,"comment_id":131158118,"body_markdown":"Check this https://www.baeldung.com/spring-thymeleaf-request-parameters","body":"Check this <a href=\"https://www.baeldung.com/spring-thymeleaf-request-parameters\" rel=\"nofollow noreferrer\">baeldung.com/spring-thymeleaf-request-parameters</a>"}],"owner":{"account_id":20619383,"reputation":1,"user_id":15136741,"display_name":"Mohammad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667397251,"creation_date":1667397227,"question_id":74290338,"body_markdown":"I&#39;m developing SpringBoot application. I have several locale languages and when I change them on thymleaf pages which require their own request params, I get an exception like:\r\n\r\n\r\n```\r\nRequired request parameter &#39;projectId&#39; for method parameter type int is not present]\r\n```\r\n\r\nThe link I used to change locale is:\r\n\r\n```\r\n&lt;a  th:href=&quot;@{?lang=fr}&quot; &gt; &lt;button type=&quot;button&quot; class=&quot;btn h-lang &quot; &gt;fr&lt;/button&gt;&lt;/a&gt;\r\n&lt;a  th:href=&quot;@{?lang=du}&quot; &gt;&lt;button type=&quot;button&quot; class=&quot;btn h-lang&quot;&gt;nl&lt;/button&gt;&lt;/a&gt;\r\n```\r\n\r\nWhen I click the link, it overrides request parameters in current URL with it&#39;s own.\r\n\r\n```\r\nhttp://localhost:8080/projects/project_details?lang=fr\r\n```\r\n\r\nInstead of:\r\n\r\n```\r\nhttp://localhost:8080/projects/project_details?projectId=12\r\n```\r\n\r\nthe method :\r\n\r\n\r\n```\r\npublic String project_details(@RequestParam(&quot;projectId&quot;) int theId, Model theModel){\r\n\r\n```\r\n\r\n\r\n\r\nI searched a lot on internet but I did not find anything can help me , I changed RequestParam to pathvariable and pathparam but it didnt work !","title":"Multiple request params with Locale &#39;lang&#39; param","body":"<p>I'm developing SpringBoot application. I have several locale languages and when I change them on thymleaf pages which require their own request params, I get an exception like:</p>\n<pre><code>Required request parameter 'projectId' for method parameter type int is not present]\n</code></pre>\n<p>The link I used to change locale is:</p>\n<pre><code>&lt;a  th:href=&quot;@{?lang=fr}&quot; &gt; &lt;button type=&quot;button&quot; class=&quot;btn h-lang &quot; &gt;fr&lt;/button&gt;&lt;/a&gt;\n&lt;a  th:href=&quot;@{?lang=du}&quot; &gt;&lt;button type=&quot;button&quot; class=&quot;btn h-lang&quot;&gt;nl&lt;/button&gt;&lt;/a&gt;\n</code></pre>\n<p>When I click the link, it overrides request parameters in current URL with it's own.</p>\n<pre><code>http://localhost:8080/projects/project_details?lang=fr\n</code></pre>\n<p>Instead of:</p>\n<pre><code>http://localhost:8080/projects/project_details?projectId=12\n</code></pre>\n<p>the method :</p>\n<pre><code>public String project_details(@RequestParam(&quot;projectId&quot;) int theId, Model theModel){\n\n</code></pre>\n<p>I searched a lot on internet but I did not find anything can help me , I changed RequestParam to pathvariable and pathparam but it didnt work !</p>\n"},{"tags":["javascript","python","java","c++","algorithm"],"comments":[{"owner":{"account_id":19646638,"reputation":3778,"user_id":14627505,"display_name":"Vladimir Fokow"},"score":0,"creation_date":1662057314,"post_id":73574035,"comment_id":129924504,"body_markdown":"What have you tried and what exactly are you having a problem with?","body":"What have you tried and what exactly are you having a problem with?"},{"owner":{"account_id":1463349,"reputation":62353,"user_id":1377002,"display_name":"Andy"},"score":1,"creation_date":1662057375,"post_id":73574035,"comment_id":129924525,"body_markdown":"You should try to decide what language you&#39;re using.","body":"You should try to decide what language you&#39;re using."},{"owner":{"account_id":18062094,"reputation":227,"user_id":13265113,"display_name":"Shilpe Saxena"},"score":0,"creation_date":1662057405,"post_id":73574035,"comment_id":129924531,"body_markdown":"Did not understand what you are trying to resolve.","body":"Did not understand what you are trying to resolve."}],"answers":[{"comments":[{"owner":{"account_id":2119809,"reputation":50994,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1662057767,"post_id":73574077,"comment_id":129924628,"body_markdown":"The issue is not N==3,  The issue is N being odd.  If N is even, then the answer is 4.  If N is odd, the number is larger.","body":"The issue is not N==3,  The issue is N being odd.  If N is even, then the answer is 4.  If N is odd, the number is larger."}],"tags":[],"owner":{"account_id":26157902,"reputation":37,"user_id":19844909,"display_name":"Sven Asmussen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662057488,"creation_date":1662057488,"answer_id":73574077,"question_id":73574035,"body_markdown":"The smallest amount of squares that you can divide a square into should be 4 right? So if N is larger than 4 the answer should always be 4, if N is snaller than 4, there is no way to build a square from 3 squares","title":"Use minimum number of N-1 squares pieces in total to build a n x n square","body":"<p>The smallest amount of squares that you can divide a square into should be 4 right? So if N is larger than 4 the answer should always be 4, if N is snaller than 4, there is no way to build a square from 3 squares</p>\n"},{"comments":[{"owner":{"account_id":2119809,"reputation":50994,"user_id":1883316,"display_name":"Tim Roberts"},"score":3,"creation_date":1662057558,"post_id":73574082,"comment_id":129924584,"body_markdown":"What is this supposed to be doing?  What are `l`, `b`, and `a`?  Why do you think this works?  You need to have an explanation.  Code-only answers rarely get love.","body":"What is this supposed to be doing?  What are <code>l</code>, <code>b</code>, and <code>a</code>?  Why do you think this works?  You need to have an explanation.  Code-only answers rarely get love."}],"tags":[],"owner":{"account_id":25954120,"reputation":1,"user_id":19671705,"display_name":"Garishma"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1662057501,"creation_date":1662057501,"answer_id":73574082,"question_id":73574035,"body_markdown":"    &lt;script&gt;\r\n    function squares(l , b , a)\r\n       {\r\n\t        return parseInt(Math.ceil(l / a) * Math.ceil(b / a));\r\n       }\r\n        var l = 11, b = 23, a = 14;\r\n        document.write(squares(l, b, a));\r\n    &lt;/script&gt;","title":"Use minimum number of N-1 squares pieces in total to build a n x n square","body":"<pre><code>&lt;script&gt;\nfunction squares(l , b , a)\n   {\n        return parseInt(Math.ceil(l / a) * Math.ceil(b / a));\n   }\n    var l = 11, b = 23, a = 14;\n    document.write(squares(l, b, a));\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":15412888,"reputation":1,"user_id":11119176,"display_name":"Mat Pat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1662057724,"answer_count":2,"score":-4,"last_activity_date":1667397061,"creation_date":1662057199,"question_id":73574035,"body_markdown":"**You are given an integer n, where 2 &lt; n &lt; 50. You have unlimited square pieces of sizes 1 to n-1. Devise a function that will calculate the minimum number of square pieces in order to build a square of size n x n. No empty space in the square, no extra space outside the square, and the squares should not overlap.**\r\n\r\nFor Example \r\n**n = 7\r\nsquare pieces = [1,2,3,4,5,6]**\r\n\r\n**def buildingSquare(7):\r\n\t// should return 9**\r\n\r\nCheck this image for more clarity\r\n[1]: https://i.stack.imgur.com/O520u.png","title":"Use minimum number of N-1 squares pieces in total to build a n x n square","body":"<p><strong>You are given an integer n, where 2 &lt; n &lt; 50. You have unlimited square pieces of sizes 1 to n-1. Devise a function that will calculate the minimum number of square pieces in order to build a square of size n x n. No empty space in the square, no extra space outside the square, and the squares should not overlap.</strong></p>\n<p>For Example\n<strong>n = 7\nsquare pieces = [1,2,3,4,5,6]</strong></p>\n<p><strong>def buildingSquare(7):\n// should return 9</strong></p>\n<p>Check this image for more clarity\n[1]: <a href=\"https://i.stack.imgur.com/O520u.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/O520u.png</a></p>\n"},{"tags":["java","android","android-camerax"],"answers":[{"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1580519293,"post_id":59998845,"comment_id":106136235,"body_markdown":"One would probably expect that - but it&#39;s currently not the case. Down-voting me without a reason doesn&#39;t make this religious statement a quality answer, _which one could reproduce_. Have you ever tried that?","body":"One would probably expect that - but it&#39;s currently not the case. Down-voting me without a reason doesn&#39;t make this religious statement a quality answer, <i>which one could reproduce</i>. Have you ever tried that?"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1661840777,"post_id":59998845,"comment_id":129860218,"body_markdown":"For me the Preview of CameraX is coming in half screen only, what could be the issue? However same code in another sample App is working correctly","body":"For me the Preview of CameraX is coming in half screen only, what could be the issue? However same code in another sample App is working correctly"}],"tags":[],"owner":{"account_id":6006515,"reputation":4320,"user_id":4718283,"accept_rate":74,"display_name":"Husayn Hakeem"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580451675,"creation_date":1580451675,"answer_id":59998845,"question_id":59850963,"body_markdown":"It seems like your `updateTransform()` method is only correcting the preview by rotating it so that it matches the UI orientation. Preview distortion usually occurs when the size of the camera preview output is different that the size of the preview surface, to get past this issue the TextureView must be scaled appropriately to fit the preview within its bounds, or you can update the TextureView&#39;s SurfaceTexture by applying a transformation on it using a Matrix (like what you&#39;re doing with the rotation).\r\n\r\nGiven the different camera hardware levels, the numerous Android manufacturers and the various ways things can go wrong, getting the preview right isn&#39;t easy. The camerax library comes with a view artifact (androidx.camera.view) which contains a PreviewView class, it&#39;s advised to use it instead of a TextureView, as it tries to solve these issues under the hood. Using it looks like this.\r\n\r\nIn your layout file, include a PreviewView.\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;androidx.camera.view.PreviewView \r\n            android:id=&quot;@+id/previewView&quot;\r\n            ... /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThen after you create a Preview use case, hook it up with PreviewView&#39;s PreviewSurfaceProvider.\r\n\r\n    final Preview preview = new Preview.Builder().build();\r\n    preview.setPreviewSurfaceProvider(previewView.getPreviewSurfaceProvider());\r\n\r\nKeep in mind that the view artifact is still in alpha and still under development, so it may still have a couple of issues. But in general it addresses many preview issues developers face (including preview distortions).","title":"Android CameraX (Java) Wrong preview orientation","body":"<p>It seems like your <code>updateTransform()</code> method is only correcting the preview by rotating it so that it matches the UI orientation. Preview distortion usually occurs when the size of the camera preview output is different that the size of the preview surface, to get past this issue the TextureView must be scaled appropriately to fit the preview within its bounds, or you can update the TextureView's SurfaceTexture by applying a transformation on it using a Matrix (like what you're doing with the rotation).</p>\n\n<p>Given the different camera hardware levels, the numerous Android manufacturers and the various ways things can go wrong, getting the preview right isn't easy. The camerax library comes with a view artifact (androidx.camera.view) which contains a PreviewView class, it's advised to use it instead of a TextureView, as it tries to solve these issues under the hood. Using it looks like this.</p>\n\n<p>In your layout file, include a PreviewView.</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;androidx.camera.view.PreviewView \n        android:id=\"@+id/previewView\"\n        ... /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Then after you create a Preview use case, hook it up with PreviewView's PreviewSurfaceProvider.</p>\n\n<pre><code>final Preview preview = new Preview.Builder().build();\npreview.setPreviewSurfaceProvider(previewView.getPreviewSurfaceProvider());\n</code></pre>\n\n<p>Keep in mind that the view artifact is still in alpha and still under development, so it may still have a couple of issues. But in general it addresses many preview issues developers face (including preview distortions).</p>\n"},{"tags":[],"owner":{"account_id":23571951,"reputation":31,"user_id":17612002,"display_name":"MariiaN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667397057,"creation_date":1667397057,"answer_id":74290308,"question_id":59850963,"body_markdown":"I had the same problem a year ago with CameraX (Kotlin) and I had to refactor whole app because of this bug.\r\nAnd after all I found (with Git) that once someone added to `manifest` this string:\r\n\r\n&gt; android:hardwareAccelerated=&quot;false&quot;\r\n\r\nBy default it&#39;s `hardwareAccelerated=&quot;true&quot;`, and after deleting this field, my Camera had worked properly.\r\n\r\nHope it&#39;ll help someone.","title":"Android CameraX (Java) Wrong preview orientation","body":"<p>I had the same problem a year ago with CameraX (Kotlin) and I had to refactor whole app because of this bug.\nAnd after all I found (with Git) that once someone added to <code>manifest</code> this string:</p>\n<blockquote>\n<p>android:hardwareAccelerated=&quot;false&quot;</p>\n</blockquote>\n<p>By default it's <code>hardwareAccelerated=&quot;true&quot;</code>, and after deleting this field, my Camera had worked properly.</p>\n<p>Hope it'll help someone.</p>\n"}],"owner":{"account_id":5899957,"reputation":554,"user_id":4651768,"accept_rate":69,"display_name":"WizardingStudios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667397057,"creation_date":1579651777,"question_id":59850963,"body_markdown":"I ported CameraX from Kotlin to Java but my preview (TextureView) is correct only once opened as landscape. When I try to rotate (to portrait) the preview is distorted (maybe 90 degrees).\r\nI removed the android:screenOrientation=&quot;sensorPortrait&quot; from manifest else also first preview appears wrong.\r\nAny other call to updateTransform() does not work, also changing rotation valkues make my TextureView smaller and do not solve the distortion.\r\nI&#39;m asking because most code is in Kotlin and I&#39;m not finding a working solution in Java.\r\nHere the code:\r\n\r\n```\r\npackage com.sweetieapps.librarianpro;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.camera.core.CameraX;\r\nimport androidx.camera.core.ImageCapture;\r\nimport androidx.camera.core.ImageCaptureConfig;\r\nimport androidx.camera.core.ImageProxy;\r\nimport androidx.camera.core.Preview;\r\nimport androidx.camera.core.PreviewConfig;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.content.res.Configuration;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Matrix;\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.util.Rational;\r\nimport android.util.Size;\r\nimport android.view.Surface;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.nio.ByteBuffer;\r\n\r\n\r\npublic class CameraXActivity extends AppCompatActivity {\r\n\r\n    private final int REQUEST_CODE_PERMISSIONS = 10; //arbitrary number, can be changed accordingly\r\n    private final String[] REQUIRED_PERMISSIONS = new String[]{&quot;android.permission.CAMERA&quot;,&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;};//array w/ permissions from manifest\r\n    private TextureView txView;\r\n    ImageView imgRotation, imgCapture;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.camerax);\r\n\r\n        txView = findViewById(R.id.txvCameraXViewFinder);\r\n        imgRotation = findViewById(R.id.imgCameraXRotation);\r\n        imgCapture = findViewById(R.id.imgCameraXCapture);\r\n\r\n        ImageView imgMask = findViewById(R.id.imgCameraXMask);\r\n\r\n        if(Variables.PictureMode == Variables.PictureModes.User){\r\n            imgMask.setVisibility(View.VISIBLE);\r\n        }\r\n        else{\r\n            imgMask.setVisibility(View.INVISIBLE);\r\n        }\r\n\r\n        if(allPermissionsGranted()){\r\n            startCamera(); //start camera if permission has been granted by user\r\n        } else{\r\n            ActivityCompat.requestPermissions(this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS);\r\n        }\r\n\r\n        imgRotation.setOnClickListener(v -&gt;\r\n                updateTransform());\r\n    }\r\n\r\n    private void startCamera(){\r\n        //make sure there isn&#39;t another camera instance running before starting\r\n        CameraX.unbindAll();\r\n\r\n        /* start preview */\r\n        int aspRatioW = txView.getWidth(); //get width of screen\r\n        int aspRatioH = txView.getHeight(); //get height\r\n        Rational asp = new Rational(aspRatioW,aspRatioH); //aspect ratio\r\n        Size screen = new Size(aspRatioW,aspRatioH); //size of the screen\r\n\r\n        //config obj for preview/viewfinder thingy.\r\n        PreviewConfig pConfig = new PreviewConfig.Builder().setTargetAspectRatio(asp).setTargetResolution(screen).build();\r\n        Preview preview = new Preview(pConfig); //lets build it\r\n\r\n        //to update the surface texture we have to destroy it first, then re-add it\r\n        preview.setOnPreviewOutputUpdateListener(\r\n                output -&gt; {\r\n                    ViewGroup parent=(ViewGroup)txView.getParent();\r\n                    parent.removeView(txView);\r\n                    parent.addView(txView,0);\r\n                    txView.setSurfaceTexture(output.getSurfaceTexture());\r\n                    updateTransform();\r\n                });\r\n\r\n        /* image capture */\r\n        //config obj, selected capture mode\r\n        ImageCaptureConfig imgCapConfig = new ImageCaptureConfig.Builder().setCaptureMode(ImageCapture.CaptureMode.MAX_QUALITY)\r\n                .setTargetRotation(getWindowManager().getDefaultDisplay().getRotation()).build();\r\n\r\n\r\n        final ImageCapture imgCap = new ImageCapture(imgCapConfig);\r\n\r\n        imgCapture.setOnClickListener(v -&gt; {\r\n            imgCap.takePicture(new ImageCapture.OnImageCapturedListener() {\r\n                @Override\r\n                public void onCaptureSuccess(ImageProxy image, int rotationDegrees) {\r\n                    //ByteBuffer bb = image.getPlanes()[0].getBuffer();\r\n                    //byte[] buf = new byte[bb.remaining()];\r\n                    //bb.get(buf);\r\n                    Intent returnIntent = new Intent();\r\n                    if(image.getImage() != null){\r\n                        //img.setImageBitmap(imageToBitmap(image.getImage()));\r\n                        Variables.bitmap = bitmapRotate(imageToBitmap(image.getImage()));\r\n                        image.close();\r\n                        setResult(Activity.RESULT_OK,returnIntent);\r\n                        finish();\r\n                    }\r\n                    else{\r\n                        setResult(Activity.RESULT_CANCELED, returnIntent);\r\n                        finish();\r\n                    }\r\n                }\r\n                /*\r\n                @Override\r\n                public void onError(\r\n                        ImageCapture.UseCaseError error, String message, @Nullable Throwable cause) {\r\n\r\n                    // silently ingore error\r\n                }\r\n\r\n                 */\r\n            });\r\n            /*\r\n            //img.setImageBitmap(txView.getBitmap());\r\n\r\n             */\r\n            /*\r\n            File file = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n            imgCap.takePicture(file, new ImageCapture.OnImageSavedListener() {\r\n                @Override\r\n                public void onImageSaved(@NonNull File file) {\r\n                    String msg = &quot;Photo capture succeeded: &quot; + file.getAbsolutePath();\r\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull ImageCapture.UseCaseError useCaseError, @NonNull String message, @Nullable Throwable cause) {\r\n                    String msg = &quot;Photo capture failed: &quot; + message;\r\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\r\n                    if(cause != null){\r\n                        cause.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            */\r\n        });\r\n        /* image analyser\r\n\r\n        ImageAnalysisConfig imgAConfig = new ImageAnalysisConfig.Builder().setImageReaderMode(ImageAnalysis.ImageReaderMode.ACQUIRE_LATEST_IMAGE).build();\r\n        ImageAnalysis analysis = new ImageAnalysis(imgAConfig);\r\n\r\n        analysis.setAnalyzer(\r\n            new ImageAnalysis.Analyzer(){\r\n                @Override\r\n                public void analyze(ImageProxy image, int rotationDegrees){\r\n                    //y&#39;all can add code to analyse stuff here idek go wild.\r\n                }\r\n            });\r\n\r\n        //bind to lifecycle:\r\n        CameraX.bindToLifecycle(this, analysis, imgCap, preview);\r\n        */\r\n        CameraX.bindToLifecycle(this, imgCap, preview);\r\n    }\r\n\r\n\r\n    private void updateTransform(){\r\n         //compensates the changes in orientation for the viewfinder, bc the rest of the layout stays in portrait mode.\r\n         //methinks :thonk:\r\n         //imgCap does this already, this class can be commented out or be used to optimise the preview\r\n        Matrix mx = new Matrix();\r\n        float w = txView.getMeasuredWidth();\r\n        float h = txView.getMeasuredHeight();\r\n\r\n        float centreX = w / 2f; //calc centre of the viewfinder\r\n        float centreY = h / 2f;\r\n\r\n        int rotationDgr;\r\n        int rotation = (int)txView.getRotation(); //cast to int bc switches don&#39;t like floats\r\n\r\n        switch(rotation){ //correct output to account for display rotation\r\n            case Surface.ROTATION_0:\r\n                rotationDgr = 0;\r\n                break;\r\n            case Surface.ROTATION_90:\r\n                rotationDgr = 90;\r\n                break;\r\n            case Surface.ROTATION_180:\r\n                rotationDgr = 180;\r\n                break;\r\n            case Surface.ROTATION_270:\r\n                rotationDgr = 270;\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        mx.postRotate((float)rotationDgr, centreX, centreY);\r\n        txView.setTransform(mx); //apply transformations to textureview\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        //start camera when permissions have been granted otherwise exit app\r\n        if(requestCode == REQUEST_CODE_PERMISSIONS){\r\n            if(allPermissionsGranted()){\r\n                startCamera();\r\n            } else{\r\n                Toast.makeText(this, &quot;Permissions not granted by the user.&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean allPermissionsGranted(){\r\n        //check if req permissions have been granted\r\n        for(String permission : REQUIRED_PERMISSIONS){\r\n            if(ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private Bitmap imageToBitmap(Image image){\r\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n        byte[] bytes = new byte[buffer.capacity()];\r\n        buffer.get(bytes);\r\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length, null);\r\n    }\r\n\r\n    private Bitmap bitmapCrop(Bitmap bitmap){\r\n        return bitmapCompress(Bitmap.createBitmap(bitmap, 0,0,bitmap.getWidth(), bitmap.getWidth()));\r\n    }\r\n\r\n    private Bitmap bitmapRotate(Bitmap bitmap){\r\n        Matrix matrix = new Matrix();\r\n        matrix.postRotate(90);\r\n        if(bitmap.getHeight() &lt; bitmap.getWidth()){\r\n            if(Variables.PictureMode == Variables.PictureModes.User){\r\n                return bitmapCrop(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\r\n            }\r\n            else{\r\n                return bitmapCompress(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\r\n            }\r\n\r\n        }\r\n        else{\r\n            if(Variables.PictureMode == Variables.PictureModes.User){\r\n                return bitmapCrop(bitmap);\r\n            }\r\n            else{\r\n                return bitmapCompress(bitmap);\r\n            }\r\n        }\r\n    }\r\n\r\n    private Bitmap bitmapCompress(Bitmap bitmap){\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 90, stream);\r\n        Bitmap compressedBitmap = BitmapFactory.decodeStream(new ByteArrayInputStream(stream.toByteArray()));\r\n        int width, height;\r\n        width = compressedBitmap.getWidth() / 5;\r\n        height = width * 8;\r\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), height, true);\r\n        return bitmapScale(scaledBitmap);\r\n    }\r\n\r\n    private Bitmap bitmapScale(Bitmap bitmap){\r\n        //Matrix\r\n        int maxHeight = 500;\r\n        int maxWidth = 500;\r\n        float scale = Math.min(((float)maxHeight / bitmap.getWidth()), ((float)maxWidth / bitmap.getHeight()));\r\n        Matrix matrix = new Matrix();\r\n        matrix.postScale(scale, scale);\r\n        return Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(@NonNull Configuration newConfig)\r\n    {\r\n        Log.d(&quot;tag&quot;, &quot;config changed&quot;);\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        updateTransform();\r\n        int orientation = newConfig.orientation;\r\n        if (orientation == Configuration.ORIENTATION_PORTRAIT)\r\n            //Log.d(&quot;tag&quot;, &quot;Portrait&quot;);\r\n            imgCapture.setVisibility(View.VISIBLE);\r\n        else if (orientation == Configuration.ORIENTATION_LANDSCAPE)\r\n            imgCapture.setVisibility(View.INVISIBLE);\r\n            //Log.d(&quot;tag&quot;, &quot;Landscape&quot;);\r\n        //else\r\n           // Log.w(&quot;tag&quot;, &quot;other: &quot; + orientation);\r\n    }\r\n}\r\n```\r\n\r\nAnd here the Xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextureView\r\n        android:id=&quot;@+id/txvCameraXViewFinder&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgCameraXMask&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guidelineCameraX&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:srcCompat=&quot;@android:color/black&quot;\r\n        tools:visibility=&quot;invisible&quot; /&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/imgCameraXCapture&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_margin=&quot;24dp&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:scaleType=&quot;fitCenter&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/guidelineCameraXCapture&quot;\r\n        app:srcCompat=&quot;@drawable/shutter&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guidelineCameraX&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guidelineCameraXPortraitMode&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.8&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgCameraXRotation&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/imgCameraXMask&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/guidelineCameraXPortraitMode&quot;\r\n        app:srcCompat=&quot;@drawable/take_in_portrait_mode&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guidelineCameraXCapture&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.85&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"Android CameraX (Java) Wrong preview orientation","body":"<p>I ported CameraX from Kotlin to Java but my preview (TextureView) is correct only once opened as landscape. When I try to rotate (to portrait) the preview is distorted (maybe 90 degrees).\nI removed the android:screenOrientation=\"sensorPortrait\" from manifest else also first preview appears wrong.\nAny other call to updateTransform() does not work, also changing rotation valkues make my TextureView smaller and do not solve the distortion.\nI'm asking because most code is in Kotlin and I'm not finding a working solution in Java.\nHere the code:</p>\n\n<pre><code>package com.sweetieapps.librarianpro;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.camera.core.CameraX;\nimport androidx.camera.core.ImageCapture;\nimport androidx.camera.core.ImageCaptureConfig;\nimport androidx.camera.core.ImageProxy;\nimport androidx.camera.core.Preview;\nimport androidx.camera.core.PreviewConfig;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.content.res.Configuration;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Matrix;\nimport android.media.Image;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.util.Rational;\nimport android.util.Size;\nimport android.view.Surface;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.Toast;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.nio.ByteBuffer;\n\n\npublic class CameraXActivity extends AppCompatActivity {\n\n    private final int REQUEST_CODE_PERMISSIONS = 10; //arbitrary number, can be changed accordingly\n    private final String[] REQUIRED_PERMISSIONS = new String[]{\"android.permission.CAMERA\",\"android.permission.WRITE_EXTERNAL_STORAGE\"};//array w/ permissions from manifest\n    private TextureView txView;\n    ImageView imgRotation, imgCapture;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.camerax);\n\n        txView = findViewById(R.id.txvCameraXViewFinder);\n        imgRotation = findViewById(R.id.imgCameraXRotation);\n        imgCapture = findViewById(R.id.imgCameraXCapture);\n\n        ImageView imgMask = findViewById(R.id.imgCameraXMask);\n\n        if(Variables.PictureMode == Variables.PictureModes.User){\n            imgMask.setVisibility(View.VISIBLE);\n        }\n        else{\n            imgMask.setVisibility(View.INVISIBLE);\n        }\n\n        if(allPermissionsGranted()){\n            startCamera(); //start camera if permission has been granted by user\n        } else{\n            ActivityCompat.requestPermissions(this, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS);\n        }\n\n        imgRotation.setOnClickListener(v -&gt;\n                updateTransform());\n    }\n\n    private void startCamera(){\n        //make sure there isn't another camera instance running before starting\n        CameraX.unbindAll();\n\n        /* start preview */\n        int aspRatioW = txView.getWidth(); //get width of screen\n        int aspRatioH = txView.getHeight(); //get height\n        Rational asp = new Rational(aspRatioW,aspRatioH); //aspect ratio\n        Size screen = new Size(aspRatioW,aspRatioH); //size of the screen\n\n        //config obj for preview/viewfinder thingy.\n        PreviewConfig pConfig = new PreviewConfig.Builder().setTargetAspectRatio(asp).setTargetResolution(screen).build();\n        Preview preview = new Preview(pConfig); //lets build it\n\n        //to update the surface texture we have to destroy it first, then re-add it\n        preview.setOnPreviewOutputUpdateListener(\n                output -&gt; {\n                    ViewGroup parent=(ViewGroup)txView.getParent();\n                    parent.removeView(txView);\n                    parent.addView(txView,0);\n                    txView.setSurfaceTexture(output.getSurfaceTexture());\n                    updateTransform();\n                });\n\n        /* image capture */\n        //config obj, selected capture mode\n        ImageCaptureConfig imgCapConfig = new ImageCaptureConfig.Builder().setCaptureMode(ImageCapture.CaptureMode.MAX_QUALITY)\n                .setTargetRotation(getWindowManager().getDefaultDisplay().getRotation()).build();\n\n\n        final ImageCapture imgCap = new ImageCapture(imgCapConfig);\n\n        imgCapture.setOnClickListener(v -&gt; {\n            imgCap.takePicture(new ImageCapture.OnImageCapturedListener() {\n                @Override\n                public void onCaptureSuccess(ImageProxy image, int rotationDegrees) {\n                    //ByteBuffer bb = image.getPlanes()[0].getBuffer();\n                    //byte[] buf = new byte[bb.remaining()];\n                    //bb.get(buf);\n                    Intent returnIntent = new Intent();\n                    if(image.getImage() != null){\n                        //img.setImageBitmap(imageToBitmap(image.getImage()));\n                        Variables.bitmap = bitmapRotate(imageToBitmap(image.getImage()));\n                        image.close();\n                        setResult(Activity.RESULT_OK,returnIntent);\n                        finish();\n                    }\n                    else{\n                        setResult(Activity.RESULT_CANCELED, returnIntent);\n                        finish();\n                    }\n                }\n                /*\n                @Override\n                public void onError(\n                        ImageCapture.UseCaseError error, String message, @Nullable Throwable cause) {\n\n                    // silently ingore error\n                }\n\n                 */\n            });\n            /*\n            //img.setImageBitmap(txView.getBitmap());\n\n             */\n            /*\n            File file = new File(Environment.getExternalStorageDirectory() + \"/\" + System.currentTimeMillis() + \".jpg\");\n            imgCap.takePicture(file, new ImageCapture.OnImageSavedListener() {\n                @Override\n                public void onImageSaved(@NonNull File file) {\n                    String msg = \"Photo capture succeeded: \" + file.getAbsolutePath();\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\n                }\n\n                @Override\n                public void onError(@NonNull ImageCapture.UseCaseError useCaseError, @NonNull String message, @Nullable Throwable cause) {\n                    String msg = \"Photo capture failed: \" + message;\n                    Toast.makeText(getBaseContext(), msg,Toast.LENGTH_LONG).show();\n                    if(cause != null){\n                        cause.printStackTrace();\n                    }\n                }\n            });\n            */\n        });\n        /* image analyser\n\n        ImageAnalysisConfig imgAConfig = new ImageAnalysisConfig.Builder().setImageReaderMode(ImageAnalysis.ImageReaderMode.ACQUIRE_LATEST_IMAGE).build();\n        ImageAnalysis analysis = new ImageAnalysis(imgAConfig);\n\n        analysis.setAnalyzer(\n            new ImageAnalysis.Analyzer(){\n                @Override\n                public void analyze(ImageProxy image, int rotationDegrees){\n                    //y'all can add code to analyse stuff here idek go wild.\n                }\n            });\n\n        //bind to lifecycle:\n        CameraX.bindToLifecycle(this, analysis, imgCap, preview);\n        */\n        CameraX.bindToLifecycle(this, imgCap, preview);\n    }\n\n\n    private void updateTransform(){\n         //compensates the changes in orientation for the viewfinder, bc the rest of the layout stays in portrait mode.\n         //methinks :thonk:\n         //imgCap does this already, this class can be commented out or be used to optimise the preview\n        Matrix mx = new Matrix();\n        float w = txView.getMeasuredWidth();\n        float h = txView.getMeasuredHeight();\n\n        float centreX = w / 2f; //calc centre of the viewfinder\n        float centreY = h / 2f;\n\n        int rotationDgr;\n        int rotation = (int)txView.getRotation(); //cast to int bc switches don't like floats\n\n        switch(rotation){ //correct output to account for display rotation\n            case Surface.ROTATION_0:\n                rotationDgr = 0;\n                break;\n            case Surface.ROTATION_90:\n                rotationDgr = 90;\n                break;\n            case Surface.ROTATION_180:\n                rotationDgr = 180;\n                break;\n            case Surface.ROTATION_270:\n                rotationDgr = 270;\n                break;\n            default:\n                return;\n        }\n        mx.postRotate((float)rotationDgr, centreX, centreY);\n        txView.setTransform(mx); //apply transformations to textureview\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        //start camera when permissions have been granted otherwise exit app\n        if(requestCode == REQUEST_CODE_PERMISSIONS){\n            if(allPermissionsGranted()){\n                startCamera();\n            } else{\n                Toast.makeText(this, \"Permissions not granted by the user.\", Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    }\n\n    private boolean allPermissionsGranted(){\n        //check if req permissions have been granted\n        for(String permission : REQUIRED_PERMISSIONS){\n            if(ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED){\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private Bitmap imageToBitmap(Image image){\n        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n        byte[] bytes = new byte[buffer.capacity()];\n        buffer.get(bytes);\n        return BitmapFactory.decodeByteArray(bytes, 0, bytes.length, null);\n    }\n\n    private Bitmap bitmapCrop(Bitmap bitmap){\n        return bitmapCompress(Bitmap.createBitmap(bitmap, 0,0,bitmap.getWidth(), bitmap.getWidth()));\n    }\n\n    private Bitmap bitmapRotate(Bitmap bitmap){\n        Matrix matrix = new Matrix();\n        matrix.postRotate(90);\n        if(bitmap.getHeight() &lt; bitmap.getWidth()){\n            if(Variables.PictureMode == Variables.PictureModes.User){\n                return bitmapCrop(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\n            }\n            else{\n                return bitmapCompress(Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true));\n            }\n\n        }\n        else{\n            if(Variables.PictureMode == Variables.PictureModes.User){\n                return bitmapCrop(bitmap);\n            }\n            else{\n                return bitmapCompress(bitmap);\n            }\n        }\n    }\n\n    private Bitmap bitmapCompress(Bitmap bitmap){\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 90, stream);\n        Bitmap compressedBitmap = BitmapFactory.decodeStream(new ByteArrayInputStream(stream.toByteArray()));\n        int width, height;\n        width = compressedBitmap.getWidth() / 5;\n        height = width * 8;\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, bitmap.getWidth(), height, true);\n        return bitmapScale(scaledBitmap);\n    }\n\n    private Bitmap bitmapScale(Bitmap bitmap){\n        //Matrix\n        int maxHeight = 500;\n        int maxWidth = 500;\n        float scale = Math.min(((float)maxHeight / bitmap.getWidth()), ((float)maxWidth / bitmap.getHeight()));\n        Matrix matrix = new Matrix();\n        matrix.postScale(scale, scale);\n        return Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\n    }\n\n    @Override\n    public void onConfigurationChanged(@NonNull Configuration newConfig)\n    {\n        Log.d(\"tag\", \"config changed\");\n        super.onConfigurationChanged(newConfig);\n\n        updateTransform();\n        int orientation = newConfig.orientation;\n        if (orientation == Configuration.ORIENTATION_PORTRAIT)\n            //Log.d(\"tag\", \"Portrait\");\n            imgCapture.setVisibility(View.VISIBLE);\n        else if (orientation == Configuration.ORIENTATION_LANDSCAPE)\n            imgCapture.setVisibility(View.INVISIBLE);\n            //Log.d(\"tag\", \"Landscape\");\n        //else\n           // Log.w(\"tag\", \"other: \" + orientation);\n    }\n}\n</code></pre>\n\n<p>And here the Xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextureView\n        android:id=\"@+id/txvCameraXViewFinder\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgCameraXMask\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:visibility=\"invisible\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guidelineCameraX\"\n        app:layout_constraintVertical_bias=\"0.0\"\n        app:srcCompat=\"@android:color/black\"\n        tools:visibility=\"invisible\" /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/imgCameraXCapture\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_margin=\"24dp\"\n        android:background=\"@android:color/transparent\"\n        android:scaleType=\"fitCenter\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guidelineCameraXCapture\"\n        app:srcCompat=\"@drawable/shutter\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCameraX\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintGuide_percent=\"0.6\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCameraXPortraitMode\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_percent=\"0.8\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imgCameraXRotation\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_marginBottom=\"16dp\"\n        android:adjustViewBounds=\"true\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"@+id/imgCameraXMask\"\n        app:layout_constraintStart_toStartOf=\"@+id/guidelineCameraXPortraitMode\"\n        app:srcCompat=\"@drawable/take_in_portrait_mode\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCameraXCapture\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintGuide_percent=\"0.85\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"score":0,"creation_date":1510233735,"post_id":47202334,"comment_id":81354208,"body_markdown":"in PlacePicker cannot be applied to","body":"in PlacePicker cannot be applied to"},{"owner":{"account_id":1385349,"reputation":928,"user_id":1317522,"accept_rate":79,"display_name":"Tirolel"},"score":0,"creation_date":1510235260,"post_id":47202334,"comment_id":81355432,"body_markdown":"Ok, try to give the context is being called on, this, getContext()","body":"Ok, try to give the context is being called on, this, getContext()"},{"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"score":0,"creation_date":1510235455,"post_id":47202334,"comment_id":81355573,"body_markdown":"I just added some more lines in the description, maybe it helps. because it has been working, it just stop working when I try to put it in a new activity","body":"I just added some more lines in the description, maybe it helps. because it has been working, it just stop working when I try to put it in a new activity"},{"owner":{"account_id":1385349,"reputation":928,"user_id":1317522,"accept_rate":79,"display_name":"Tirolel"},"score":0,"creation_date":1510235661,"post_id":47202334,"comment_id":81355710,"body_markdown":"Can you post the code, where you creating the intent?","body":"Can you post the code, where you creating the intent?"},{"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"score":0,"creation_date":1510235878,"post_id":47202334,"comment_id":81355840,"body_markdown":"its added to description :)","body":"its added to description :)"},{"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"score":0,"creation_date":1510236266,"post_id":47202334,"comment_id":81356100,"body_markdown":"No, all I know is that it gives a wrong result code, it shouldn&#39;t be 2. But it makes no sence, if I make this code on the intent before it works, but when try making a new intent with the exactly same code it wont work","body":"No, all I know is that it gives a wrong result code, it shouldn&#39;t be 2. But it makes no sence, if I make this code on the intent before it works, but when try making a new intent with the exactly same code it wont work"},{"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"score":0,"creation_date":1510236702,"post_id":47202334,"comment_id":81356468,"body_markdown":"The user and pass is just made in a singleton\nUser: admin\nPass: 1234","body":"The user and pass is just made in a singleton User: admin Pass: 1234"},{"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"score":0,"creation_date":1510237419,"post_id":47202334,"comment_id":81357035,"body_markdown":"Ohhh, it seems to be working now. I was after a friend have working with the project the package name i manifest was changed and therefore it didn&#39;t work.\nThank you so much for the help, the link in update 3 helped alot :)","body":"Ohhh, it seems to be working now. I was after a friend have working with the project the package name i manifest was changed and therefore it didn&#39;t work. Thank you so much for the help, the link in update 3 helped alot :)"},{"owner":{"account_id":1385349,"reputation":928,"user_id":1317522,"accept_rate":79,"display_name":"Tirolel"},"score":0,"creation_date":1510237758,"post_id":47202334,"comment_id":81357292,"body_markdown":"sounds great! glad that it got fixed!","body":"sounds great! glad that it got fixed!"}],"tags":[],"owner":{"account_id":1385349,"reputation":928,"user_id":1317522,"accept_rate":79,"display_name":"Tirolel"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667396902,"creation_date":1510231955,"answer_id":47202334,"question_id":47202160,"body_markdown":"I think its happening because of you are using old method of getPlace\r\n\r\ntry to swap the arguments, by changing it from:\r\n\r\n    Place place = PlacePicker.getPlace(data, this);\r\n\r\nto \r\n\r\n    Place place = PlacePicker.getPlace(getContext(), data);\r\n\r\n-----------------\r\n**Update #2**\r\n\r\nEnable Google places API in the developer console and add these lines to AndroidManifest\r\n\r\n    &lt;meta-data\r\n      android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n      android:value=&quot;ADD_YOUR_API_KEY_HERE&quot; /&gt;\r\n\r\n\r\n\r\n----------\r\n\r\n**Update #3**\r\n\r\nafter some search, it looks like there is others having same issue. Look at these links:\r\n\r\nhttps://github.com/zhangtaii/react-native-google-place-picker/issues/21\r\n\r\nhttps://stackoverflow.com/a/32751164/\r\n\r\nhttps://github.com/googlesamples/android-play-places/issues/13\r\n","title":"android - Google places opens the map on closes after 1 sec","body":"<p>I think its happening because of you are using old method of getPlace</p>\n<p>try to swap the arguments, by changing it from:</p>\n<pre><code>Place place = PlacePicker.getPlace(data, this);\n</code></pre>\n<p>to</p>\n<pre><code>Place place = PlacePicker.getPlace(getContext(), data);\n</code></pre>\n<hr />\n<p><strong>Update #2</strong></p>\n<p>Enable Google places API in the developer console and add these lines to AndroidManifest</p>\n<pre><code>&lt;meta-data\n  android:name=&quot;com.google.android.geo.API_KEY&quot;\n  android:value=&quot;ADD_YOUR_API_KEY_HERE&quot; /&gt;\n</code></pre>\n<hr />\n<p><strong>Update #3</strong></p>\n<p>after some search, it looks like there is others having same issue. Look at these links:</p>\n<p><a href=\"https://github.com/zhangtaii/react-native-google-place-picker/issues/21\" rel=\"nofollow noreferrer\">https://github.com/zhangtaii/react-native-google-place-picker/issues/21</a></p>\n<p><a href=\"https://stackoverflow.com/a/32751164/\">https://stackoverflow.com/a/32751164/</a></p>\n<p><a href=\"https://github.com/googlesamples/android-play-places/issues/13\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-play-places/issues/13</a></p>\n"}],"owner":{"account_id":8271213,"reputation":71,"user_id":6218824,"accept_rate":100,"display_name":"Kuno Heltborg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47202334,"answer_count":1,"score":2,"last_activity_date":1667396902,"creation_date":1510231353,"question_id":47202160,"body_markdown":"Im creating an intent to an activity by clicking on a button which should open google places, but it closes again really fast and says no location selected, and returns to the main activity, and then nothing happens if i click again.\r\n\r\nMy api should be fine, I have checked that it&#39;s the correct SHA1-fingerprint thats connected to the api key.\r\n\r\nThe result code is 2\r\n\r\nIt worked earlier in the activity before this one, but I needed it to open when i click on a button instead, and now when I try to open this new activity as an intent it wont work.\r\n\r\n\r\n    public class MapActivity extends AppCompatActivity {\r\n\r\n    int PLACE_PICKER_REQUEST = 1;\r\n    int status;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_events);\r\n\r\n        status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\r\n        if (status != ConnectionResult.SUCCESS) {\r\n            if (GooglePlayServicesUtil.isUserRecoverableError(status)) {\r\n                GooglePlayServicesUtil.getErrorDialog(status, this,\r\n                        100).show();\r\n            }\r\n        }\r\n        if (status == ConnectionResult.SUCCESS) {\r\n            int PLACE_PICKER_REQUEST = 199;\r\n            PlacePicker.IntentBuilder builder = new PlacePicker.IntentBuilder();\r\n            Context context = this;\r\n            try {\r\n                startActivityForResult(builder.build(context), PLACE_PICKER_REQUEST);\r\n            } catch (GooglePlayServicesRepairableException e) {\r\n                e.printStackTrace();\r\n            } catch (GooglePlayServicesNotAvailableException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        System.out.println(&quot;Result code: &quot; + resultCode);\r\n        System.out.println(&quot;Request code: &quot; + requestCode);\r\n        if (requestCode == 100) {\r\n            status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\r\n        }\r\n        if (requestCode == 199) {\r\n\r\n            //process Intent......\r\n            if (data != null) {\r\n                Place place = PlacePicker.getPlace(data, this);\r\n                String toastMsg = String.format(&quot;Place: %s&quot;, place.getName());\r\n                Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\r\n            } else {\r\n                String toastMsg = (&quot;No location selected.&quot;);\r\n                Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\nThis is from the intent which create the new intent to maps\r\n\r\n       public void onClick(View view) {\r\n            Intent i = new Intent(this, MapActivity.class);\r\n           startActivity(i);\r\n       }\r\n\r\n","title":"android - Google places opens the map on closes after 1 sec","body":"<p>Im creating an intent to an activity by clicking on a button which should open google places, but it closes again really fast and says no location selected, and returns to the main activity, and then nothing happens if i click again.</p>\n\n<p>My api should be fine, I have checked that it's the correct SHA1-fingerprint thats connected to the api key.</p>\n\n<p>The result code is 2</p>\n\n<p>It worked earlier in the activity before this one, but I needed it to open when i click on a button instead, and now when I try to open this new activity as an intent it wont work.</p>\n\n<pre><code>public class MapActivity extends AppCompatActivity {\n\nint PLACE_PICKER_REQUEST = 1;\nint status;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_events);\n\n    status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\n    if (status != ConnectionResult.SUCCESS) {\n        if (GooglePlayServicesUtil.isUserRecoverableError(status)) {\n            GooglePlayServicesUtil.getErrorDialog(status, this,\n                    100).show();\n        }\n    }\n    if (status == ConnectionResult.SUCCESS) {\n        int PLACE_PICKER_REQUEST = 199;\n        PlacePicker.IntentBuilder builder = new PlacePicker.IntentBuilder();\n        Context context = this;\n        try {\n            startActivityForResult(builder.build(context), PLACE_PICKER_REQUEST);\n        } catch (GooglePlayServicesRepairableException e) {\n            e.printStackTrace();\n        } catch (GooglePlayServicesNotAvailableException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    System.out.println(\"Result code: \" + resultCode);\n    System.out.println(\"Request code: \" + requestCode);\n    if (requestCode == 100) {\n        status = GooglePlayServicesUtil.isGooglePlayServicesAvailable(this);\n    }\n    if (requestCode == 199) {\n\n        //process Intent......\n        if (data != null) {\n            Place place = PlacePicker.getPlace(data, this);\n            String toastMsg = String.format(\"Place: %s\", place.getName());\n            Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\n        } else {\n            String toastMsg = (\"No location selected.\");\n            Toast.makeText(this, toastMsg, Toast.LENGTH_LONG).show();\n        }\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is from the intent which create the new intent to maps</p>\n\n<pre><code>   public void onClick(View view) {\n        Intent i = new Intent(this, MapActivity.class);\n       startActivity(i);\n   }\n</code></pre>\n"},{"tags":["java","class","compilation"],"comments":[{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":1,"creation_date":1665399229,"post_id":74013743,"comment_id":130683467,"body_markdown":"IMO, the validation should be done before it is stored into the database...","body":"IMO, the validation should be done before it is stored into the database..."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1665399651,"post_id":74013743,"comment_id":130683596,"body_markdown":"You can use the [Java compiler API](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/module-summary.html) for this. But this is not something that&#39;s super easy to use.","body":"You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/module-summary.html\" rel=\"nofollow noreferrer\">Java compiler API</a> for this. But this is not something that&#39;s super easy to use."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665399698,"post_id":74013743,"comment_id":130683614,"body_markdown":"Not an *exact* duplicate, but [check this out](https://stackoverflow.com/questions/4463440/compile-java-source-code-from-a-string)","body":"Not an <i>exact</i> duplicate, but <a href=\"https://stackoverflow.com/questions/4463440/compile-java-source-code-from-a-string\">check this out</a>"}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665399353,"post_id":74013794,"comment_id":130683499,"body_markdown":"How would that prove it can compile successfully?","body":"How would that prove it can compile successfully?"},{"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"score":0,"creation_date":1665416239,"post_id":74013794,"comment_id":130689630,"body_markdown":"Well this obviously requires lots of debugging, but at first you can take string and run a process in cmd from your appn itself. If it runs obviously it compiles, you can google the code for running the process.","body":"Well this obviously requires lots of debugging, but at first you can take string and run a process in cmd from your appn itself. If it runs obviously it compiles, you can google the code for running the process."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665422219,"post_id":74013794,"comment_id":130691667,"body_markdown":"I&#39;ll be honest, I still don&#39;t understand your answer. They&#39;re asking how to check whether a string represent compilable code and you tell them to do string comparisons on the source code. So again, how do those comparison prove anything about the fact that the code in the string itself compiles?","body":"I&#39;ll be honest, I still don&#39;t understand your answer. They&#39;re asking how to check whether a string represent compilable code and you tell them to do string comparisons on the source code. So again, how do those comparison prove anything about the fact that the code in the string itself compiles?"},{"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"score":0,"creation_date":1665493200,"post_id":74013794,"comment_id":130709367,"body_markdown":"Okay I misunderstood, but how about you write this string to a text file and compile that file in terminal or cmd.","body":"Okay I misunderstood, but how about you write this string to a text file and compile that file in terminal or cmd."}],"tags":[],"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"comment_count":4,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1667396202,"creation_date":1665399291,"answer_id":74013794,"question_id":74013743,"body_markdown":"Create a text file and write the code to the file using Java:   \r\n```\r\nFileWriter myWriter = new FileWriter(&quot;filename.txt&quot;);\r\nmyWriter.write(&quot;public class HelloWorld {\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Hello, World!&quot;); \r\n}&quot;);\r\nmyWriter.close();\r\n```\r\n\r\nNow run the file via\r\n```\r\nString[] args = new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;your_command&quot;, &quot;with&quot;, &quot;args&quot;};\r\nProcess proc = new ProcessBuilder(args).start(); \r\n```\r\nYou&#39;ll get to know if it compiles from its return value. ","title":"Checking if a string is a compilable Java class","body":"<p>Create a text file and write the code to the file using Java:</p>\n<pre><code>FileWriter myWriter = new FileWriter(&quot;filename.txt&quot;);\nmyWriter.write(&quot;public class HelloWorld {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello, World!&quot;); \n}&quot;);\nmyWriter.close();\n</code></pre>\n<p>Now run the file via</p>\n<pre><code>String[] args = new String[] {&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;your_command&quot;, &quot;with&quot;, &quot;args&quot;};\nProcess proc = new ProcessBuilder(args).start(); \n</code></pre>\n<p>You'll get to know if it compiles from its return value.</p>\n"}],"owner":{"account_id":16559729,"reputation":19,"user_id":11965930,"display_name":"Peter Lo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667396202,"creation_date":1665399016,"question_id":74013743,"body_markdown":"I have an application that has stored various classes in string form.\r\nFor example, I might have this class:\r\n\r\n    public class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;); \r\n    }\r\n\r\nthat is stored as a string in a database. \r\nI would like to know whether this string contains a class that can compile successfully.\r\nHow would I go about doing that? Is there a package for this?\r\n\r\n","title":"Checking if a string is a compilable Java class","body":"<p>I have an application that has stored various classes in string form.\nFor example, I might have this class:</p>\n<pre><code>public class HelloWorld {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello, World!&quot;); \n}\n</code></pre>\n<p>that is stored as a string in a database.\nI would like to know whether this string contains a class that can compile successfully.\nHow would I go about doing that? Is there a package for this?</p>\n"},{"tags":["java","generics","arraylist","methods"],"comments":[{"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1652825613,"post_id":72281129,"comment_id":127699294,"body_markdown":"@Eritrean What is T?","body":"@Eritrean What is T?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1652826698,"post_id":72281129,"comment_id":127699490,"body_markdown":"“…we need to use it in a class extending ArrayList.”  No, you don’t.  `list.subList(startIndex, endIndex).clear()` will do the same thing.  No subclass needed.","body":"“…we need to use it in a class extending ArrayList.”  No, you don’t.  <code>list.subList(startIndex, endIndex).clear()</code> will do the same thing.  No subclass needed."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667396065,"creation_date":1652825745,"answer_id":72281235,"question_id":72281129,"body_markdown":"Your premise: \r\n\r\n&gt; Since the method - removeRange(int startIndex, int ) is protected, we need to use it in a class extending ArrayList. \r\n\r\n… is incorrect.\r\n\r\n&#128073; `removeRange` is not meant to be called from outside the class. So no need to create your subclass.\r\n\r\nInstead, call [`List#subList`][1] and [`List#clear`][2]. \r\n\r\n    list.subList( start , end ).clear() ;\r\n\r\nSee the Javadoc for [`AbstractList#removeRange`][3]:\r\n\r\n&gt; This method is called by the `clear` operation on this list and its subLists.\r\n\r\nSee Item 40 of [*Effective Java*][4] 2nd ed.\r\n\r\nSee discussion in [this post][5]. \r\n\r\nExample code:\r\n\r\n    List&lt; String &gt; original = List.of( &quot;Zebra&quot; , &quot;Giraffe&quot;, &quot;Bison&quot;, &quot;Hippo&quot;, &quot;Elephant&quot; ) ;\r\n    \r\n    ArrayList&lt; String &gt; a1 = new ArrayList &lt;&gt; ( original ) ;\r\n    ArrayList&lt; String &gt; a2 = new ArrayList &lt;&gt; ( original ) ;\r\n    ArrayList&lt; String &gt; a3 = new ArrayList &lt;&gt; ( original ) ;\r\n\r\n    a1.subList( 0, 3 ).clear() ;\r\n    a2.subList( 3, 5 ).clear() ;\r\n    a3.subList( 2, 4 ).clear() ;\r\n\r\n    System.out.println( a1 );\r\n    System.out.println( a2 );\r\n    System.out.println( a3 );\r\n\r\nSee this [code run live at IdeOne.com][6].\r\n\r\n```none\r\n[Hippo, Elephant]\r\n[Zebra, Giraffe, Bison]\r\n[Zebra, Giraffe, Elephant]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#clear()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractList.html#removeRange(int,int)\r\n  [4]: https://www.goodreads.com/book/show/34927404\r\n  [5]: https://stackoverflow.com/q/2289183/\r\n  [6]: https://ideone.com/iHGUMX","title":"How to use generics for type safety while using `removeRange` method of ArrayList","body":"<p>Your premise:</p>\n<blockquote>\n<p>Since the method - removeRange(int startIndex, int ) is protected, we need to use it in a class extending ArrayList.</p>\n</blockquote>\n<p>… is incorrect.</p>\n<p>👉 <code>removeRange</code> is not meant to be called from outside the class. So no need to create your subclass.</p>\n<p>Instead, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\"><code>List#subList</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#clear()\" rel=\"nofollow noreferrer\"><code>List#clear</code></a>.</p>\n<pre><code>list.subList( start , end ).clear() ;\n</code></pre>\n<p>See the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractList.html#removeRange(int,int)\" rel=\"nofollow noreferrer\"><code>AbstractList#removeRange</code></a>:</p>\n<blockquote>\n<p>This method is called by the <code>clear</code> operation on this list and its subLists.</p>\n</blockquote>\n<p>See Item 40 of <a href=\"https://www.goodreads.com/book/show/34927404\" rel=\"nofollow noreferrer\"><em>Effective Java</em></a> 2nd ed.</p>\n<p>See discussion in <a href=\"https://stackoverflow.com/q/2289183/\">this post</a>.</p>\n<p>Example code:</p>\n<pre><code>List&lt; String &gt; original = List.of( &quot;Zebra&quot; , &quot;Giraffe&quot;, &quot;Bison&quot;, &quot;Hippo&quot;, &quot;Elephant&quot; ) ;\n\nArrayList&lt; String &gt; a1 = new ArrayList &lt;&gt; ( original ) ;\nArrayList&lt; String &gt; a2 = new ArrayList &lt;&gt; ( original ) ;\nArrayList&lt; String &gt; a3 = new ArrayList &lt;&gt; ( original ) ;\n\na1.subList( 0, 3 ).clear() ;\na2.subList( 3, 5 ).clear() ;\na3.subList( 2, 4 ).clear() ;\n\nSystem.out.println( a1 );\nSystem.out.println( a2 );\nSystem.out.println( a3 );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/iHGUMX\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Hippo, Elephant]\n[Zebra, Giraffe, Bison]\n[Zebra, Giraffe, Elephant]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652825833,"creation_date":1652825833,"answer_id":72281249,"question_id":72281129,"body_markdown":"The way to make `MyClass` able to store objects of any type, not just `String` is to introduce a _type parameter_ `T` which fills in for the type.  The declaration will then be\r\n\r\n    public class MyClass&lt;T&gt; extends ArrayList&lt;T&gt;\r\n\r\nBut then, you have to specify what `T` is when you declare a `MyClass` variable.  This means you&#39;ll need to change your variable declarations and initialisations to things like \r\n\r\n    MyClass&lt;String&gt; arrayList1 = new MyClass&lt;&gt;();\r\n\r\nwhich tells the compiler what type to use in place of `T`.","title":"How to use generics for type safety while using `removeRange` method of ArrayList","body":"<p>The way to make <code>MyClass</code> able to store objects of any type, not just <code>String</code> is to introduce a <em>type parameter</em> <code>T</code> which fills in for the type.  The declaration will then be</p>\n<pre><code>public class MyClass&lt;T&gt; extends ArrayList&lt;T&gt;\n</code></pre>\n<p>But then, you have to specify what <code>T</code> is when you declare a <code>MyClass</code> variable.  This means you'll need to change your variable declarations and initialisations to things like</p>\n<pre><code>MyClass&lt;String&gt; arrayList1 = new MyClass&lt;&gt;();\n</code></pre>\n<p>which tells the compiler what type to use in place of <code>T</code>.</p>\n"}],"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72281249,"answer_count":2,"score":0,"last_activity_date":1667396065,"creation_date":1652824950,"question_id":72281129,"body_markdown":"Since the method - `removeRange(int startIndex, int )` is protected, we need to use it in a class extending ArrayList. Below is my code - \r\n\r\n```\r\npublic class MyClass extends ArrayList&lt;String&gt; {\r\n\r\n    public static void main(String[] args) {\r\n        MyClass arrayList1 = new MyClass();\r\n        arrayList1.add(&quot;Zebra&quot;);\r\n        arrayList1.add(&quot;Giraffe&quot;);\r\n        arrayList1.add(&quot;Bison&quot;);\r\n        arrayList1.add(&quot;Hippo&quot;);\r\n        arrayList1.add(&quot;Elephant&quot;);\r\n\r\n        MyClass arrayList2 = (MyClass) arrayList1.clone();\r\n        MyClass arrayList3 = (MyClass) arrayList1.clone();\r\n\r\n        System.out.println(arrayList1);\r\n        System.out.println(arrayList2);\r\n        System.out.println(arrayList3);\r\n\r\n        arrayList1.removeRange(0, 3);\r\n        arrayList2.removeRange(3, 5);\r\n        arrayList3.removeRange(2, 4);\r\n\r\n        System.out.println(arrayList1);\r\n        System.out.println(arrayList2);\r\n        System.out.println(arrayList3);\r\n    }\r\n}\r\n```\r\n\r\nOutput - \r\n\r\n```\r\n[Zebra, Giraffe, Bison, Hippo, Elephant]\r\n[Zebra, Giraffe, Bison, Hippo, Elephant]\r\n[Zebra, Giraffe, Bison, Hippo, Elephant]\r\n[Hippo, Elephant]\r\n[Zebra, Giraffe, Bison]\r\n[Zebra, Giraffe, Elephant]\r\n```\r\n\r\n\r\nNow to use type safety I need to write - `MyClass&lt;String&gt; extends ArrayList&lt;String&gt;` but doing so gives error in main method of `String[]` - \r\n\r\n`MyClass.This cannot be referenced from a static context` \r\n\r\nSo how is it possible to use `generics` in `removeRange` method of ArrayList? \r\n","title":"How to use generics for type safety while using `removeRange` method of ArrayList","body":"<p>Since the method - <code>removeRange(int startIndex, int )</code> is protected, we need to use it in a class extending ArrayList. Below is my code -</p>\n<pre><code>public class MyClass extends ArrayList&lt;String&gt; {\n\n    public static void main(String[] args) {\n        MyClass arrayList1 = new MyClass();\n        arrayList1.add(&quot;Zebra&quot;);\n        arrayList1.add(&quot;Giraffe&quot;);\n        arrayList1.add(&quot;Bison&quot;);\n        arrayList1.add(&quot;Hippo&quot;);\n        arrayList1.add(&quot;Elephant&quot;);\n\n        MyClass arrayList2 = (MyClass) arrayList1.clone();\n        MyClass arrayList3 = (MyClass) arrayList1.clone();\n\n        System.out.println(arrayList1);\n        System.out.println(arrayList2);\n        System.out.println(arrayList3);\n\n        arrayList1.removeRange(0, 3);\n        arrayList2.removeRange(3, 5);\n        arrayList3.removeRange(2, 4);\n\n        System.out.println(arrayList1);\n        System.out.println(arrayList2);\n        System.out.println(arrayList3);\n    }\n}\n</code></pre>\n<p>Output -</p>\n<pre><code>[Zebra, Giraffe, Bison, Hippo, Elephant]\n[Zebra, Giraffe, Bison, Hippo, Elephant]\n[Zebra, Giraffe, Bison, Hippo, Elephant]\n[Hippo, Elephant]\n[Zebra, Giraffe, Bison]\n[Zebra, Giraffe, Elephant]\n</code></pre>\n<p>Now to use type safety I need to write - <code>MyClass&lt;String&gt; extends ArrayList&lt;String&gt;</code> but doing so gives error in main method of <code>String[]</code> -</p>\n<p><code>MyClass.This cannot be referenced from a static context</code></p>\n<p>So how is it possible to use <code>generics</code> in <code>removeRange</code> method of ArrayList?</p>\n"},{"tags":["java","gitlab","sonarqube","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":5384585,"reputation":1366,"user_id":4341322,"accept_rate":22,"display_name":"Katrin Leinweber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667395815,"creation_date":1665991163,"answer_id":74093728,"question_id":74092074,"body_markdown":"The core problem seems to be\r\n\r\n&gt; Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob]\r\n\r\nMaybe [one of these solutions](https://stackoverflow.com/q/53714699/) can be adapted?","title":"Error in sonarqube integrating gitlab cicd","body":"<p>The core problem seems to be</p>\n<blockquote>\n<p>Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob]</p>\n</blockquote>\n<p>Maybe <a href=\"https://stackoverflow.com/q/53714699/\">one of these solutions</a> can be adapted?</p>\n"},{"tags":[],"owner":{"account_id":7170612,"reputation":1,"user_id":5478197,"display_name":"Adam Yang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666058033,"creation_date":1666058033,"answer_id":74104862,"question_id":74092074,"body_markdown":"already solved, need to uninstall the sonar-gitlab plugin which is not supported on recent versions of SnarQube since v8.0","title":"Error in sonarqube integrating gitlab cicd","body":"<p>already solved, need to uninstall the sonar-gitlab plugin which is not supported on recent versions of SnarQube since v8.0</p>\n"}],"owner":{"account_id":7170612,"reputation":1,"user_id":5478197,"display_name":"Adam Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667395815,"creation_date":1665973879,"question_id":74092074,"body_markdown":"gitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline\r\n\r\n**version:SonarQube 9.6.1 Scanner4.6.2 Plugin 4.0**\r\n\r\n**gitlab-ci.yml**\r\n\r\n```stages: \r\n  - sonarqube-check \r\nsonarqube-check: \r\n  stage: sonarqube-check \r\n\r\n  variables: \r\n\r\n    SONAR_USER_HOME: &quot;${CI_PROJECT_DIR}/.sonar&quot;  # Defines the location of the analysis task cache \r\n\r\n    SCANNER_HOME: &quot;/opt/tool/sonar-scanner&quot; \r\n\r\n    GIT_DEPTH: &quot;0&quot;  # Tells git to fetch all the branches of the project, required by the analysis task \r\n\r\n  cache: \r\n\r\n    key: &quot;${CI_JOB_NAME}&quot; \r\n\r\n    paths: \r\n\r\n      - .sonar/cache \r\n\r\n  script: \r\n\r\n    - /opt/tool/sonar-scanner/bin/sonar-scanner \r\n\r\n  allow_failure: true \r\n\r\n  tags: \r\n\r\n    - dev \r\n\r\n  only: \r\n\r\n    - main # or the name of your main branch\r\n```\r\n\r\nERROR:\r\n\r\n\r\n```\r\nINFO: EXECUTION FAILURE\r\n\r\n[139](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L139)INFO: ------------------------------------------------------------------------\r\n\r\n[140](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L140)INFO: Total time: 23.600s\r\n\r\n[141](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L141)INFO: Final Memory: 25M/90M\r\n\r\n[142](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L142)INFO: ------------------------------------------------------------------------\r\n\r\n[143](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L143)ERROR: Error during SonarScanner execution\r\n\r\n[144](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L144)java.lang.IllegalStateException: Unable to load components interface org.sonar.api.batch.postjob.PostJob\r\n\r\n[145](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L145) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:156)\r\n\r\n[146](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L146) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.completeScannerExtensions(AbstractExtensionDictionary.java:82)\r\n\r\n[147](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L147) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getExtensions(AbstractExtensionDictionary.java:77)\r\n\r\n[148](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L148) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getFilteredExtensions(AbstractExtensionDictionary.java:67)\r\n\r\n[149](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L149) at org.sonar.scanner.bootstrap.PostJobExtensionDictionary.selectPostJobs(PostJobExtensionDictionary.java:42)\r\n\r\n[150](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L150) at org.sonar.scanner.postjob.PostJobsExecutor.execute(PostJobsExecutor.java:38)\r\n\r\n[151](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L151) at org.sonar.scanner.scan.SpringProjectScanContainer.doAfterStart(SpringProjectScanContainer.java:376)\r\n\r\n[152](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L152) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\r\n\r\n[153](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L153) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n[154](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L154) at org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\r\n\r\n[155](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L155) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\r\n\r\n[156](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L156) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n[157](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L157) at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n\r\n[158](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L158) at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n\r\n[159](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L159) at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n\r\n[160](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L160) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native) Method)\r\n\r\n[161](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L161) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown) Source)\r\n\r\n[162](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L162) at [java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown) Source)\r\n\r\n[163](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L163) at [java.base/java.lang.reflect.Method.invoke(Unknown](http://java.base/java.lang.reflect.Method.invoke(Unknown) Source)\r\n\r\n[164](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L164) at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n\r\n[165](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L165) at com.sun.proxy.$Proxy0.execute(Unknown Source)\r\n\r\n[166](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L166) at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n\r\n[167](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L167) at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n\r\n[168](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L168) at org.sonarsource.scanner.cli.Main.execute(Main.java:112)\r\n\r\n[169](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L169) at org.sonarsource.scanner.cli.Main.execute(Main.java:75)\r\n\r\n[170](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L170) at org.sonarsource.scanner.cli.Main.main(Main.java:61)\r\n\r\n[171](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L171)Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ClassRealm{gitlab}-com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\r\n\r\n[172](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L172) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n\r\n[173](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L173) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n\r\n[174](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L174) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n\r\n[175](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L175) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n[176](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L176) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n[177](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L177) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n[178](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L178) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n[179](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L179) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n[180](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L180) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n[181](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L181) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671)\r\n\r\n[182](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L182) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659)\r\n\r\n[183](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L183) at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300)\r\n\r\n[184](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L184) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:154)\r\n\r\n[185](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L185) ... 25 more\r\n\r\n[186](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L186)Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\r\n\r\n[187](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L187) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n\r\n[188](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L188) at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n\r\n[189](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L189) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\r\n[190](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L190) ... 37 more\r\n\r\n[191](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L191)Caused by: java.lang.NoClassDefFoundError: org/sonar/api/batch/postjob/issue/PostJobIssue\r\n\r\n[192](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L192) at [java.base/java.lang.Class.getDeclaredMethods0(Native](http://java.base/java.lang.Class.getDeclaredMethods0(Native) Method)\r\n\r\n[193](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L193) at [java.base/java.lang.Class.privateGetDeclaredMethods(Unknown](http://java.base/java.lang.Class.privateGetDeclaredMethods(Unknown) Source)\r\n\r\n[194](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L194) at [java.base/java.lang.Class.getDeclaredMethods(Unknown](http://java.base/java.lang.Class.getDeclaredMethods(Unknown) Source)\r\n\r\n[195](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L195) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n\r\n[196](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L196) ... 39 more\r\n\r\n[197](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L197)Caused by: java.lang.ClassNotFoundException: org.sonar.api.batch.postjob.issue.PostJobIssue\r\n\r\n[198](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L198) at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\r\n\r\n[199](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L199) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\r\n\r\n[200](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L200) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\r\n\r\n[201](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L201) ... 43 more\r\n\r\n[202](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L202)ERROR:\r\n\r\n[203](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L203)ERROR: Re-run SonarScanner using the -X switch to enable full debug logging.\r\n\r\n[205](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L205)ERROR: Job failed: exit status 1\r\n\r\n\r\n```\r\n\r\n\r\ngitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline, thank you\r\n","title":"Error in sonarqube integrating gitlab cicd","body":"<p>gitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline</p>\n<p><strong>version:SonarQube 9.6.1 Scanner4.6.2 Plugin 4.0</strong></p>\n<p><strong>gitlab-ci.yml</strong></p>\n<pre><code>  - sonarqube-check \nsonarqube-check: \n  stage: sonarqube-check \n\n  variables: \n\n    SONAR_USER_HOME: &quot;${CI_PROJECT_DIR}/.sonar&quot;  # Defines the location of the analysis task cache \n\n    SCANNER_HOME: &quot;/opt/tool/sonar-scanner&quot; \n\n    GIT_DEPTH: &quot;0&quot;  # Tells git to fetch all the branches of the project, required by the analysis task \n\n  cache: \n\n    key: &quot;${CI_JOB_NAME}&quot; \n\n    paths: \n\n      - .sonar/cache \n\n  script: \n\n    - /opt/tool/sonar-scanner/bin/sonar-scanner \n\n  allow_failure: true \n\n  tags: \n\n    - dev \n\n  only: \n\n    - main # or the name of your main branch\n</code></pre>\n<p>ERROR:</p>\n<pre><code>INFO: EXECUTION FAILURE\n\n[139](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L139)INFO: ------------------------------------------------------------------------\n\n[140](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L140)INFO: Total time: 23.600s\n\n[141](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L141)INFO: Final Memory: 25M/90M\n\n[142](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L142)INFO: ------------------------------------------------------------------------\n\n[143](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L143)ERROR: Error during SonarScanner execution\n\n[144](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L144)java.lang.IllegalStateException: Unable to load components interface org.sonar.api.batch.postjob.PostJob\n\n[145](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L145) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:156)\n\n[146](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L146) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.completeScannerExtensions(AbstractExtensionDictionary.java:82)\n\n[147](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L147) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getExtensions(AbstractExtensionDictionary.java:77)\n\n[148](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L148) at org.sonar.scanner.bootstrap.AbstractExtensionDictionary.getFilteredExtensions(AbstractExtensionDictionary.java:67)\n\n[149](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L149) at org.sonar.scanner.bootstrap.PostJobExtensionDictionary.selectPostJobs(PostJobExtensionDictionary.java:42)\n\n[150](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L150) at org.sonar.scanner.postjob.PostJobsExecutor.execute(PostJobsExecutor.java:38)\n\n[151](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L151) at org.sonar.scanner.scan.SpringProjectScanContainer.doAfterStart(SpringProjectScanContainer.java:376)\n\n[152](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L152) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\n\n[153](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L153) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n[154](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L154) at org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\n\n[155](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L155) at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\n\n[156](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L156) at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n[157](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L157) at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n\n[158](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L158) at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n\n[159](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L159) at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n\n[160](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L160) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native) Method)\n\n[161](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L161) at [java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown) Source)\n\n[162](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L162) at [java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown](http://java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown) Source)\n\n[163](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L163) at [java.base/java.lang.reflect.Method.invoke(Unknown](http://java.base/java.lang.reflect.Method.invoke(Unknown) Source)\n\n[164](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L164) at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n\n[165](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L165) at com.sun.proxy.$Proxy0.execute(Unknown Source)\n\n[166](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L166) at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n\n[167](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L167) at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n\n[168](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L168) at org.sonarsource.scanner.cli.Main.execute(Main.java:112)\n\n[169](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L169) at org.sonarsource.scanner.cli.Main.execute(Main.java:75)\n\n[170](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L170) at org.sonarsource.scanner.cli.Main.main(Main.java:61)\n\n[171](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L171)Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ClassRealm{gitlab}-com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\n\n[172](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L172) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n\n[173](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L173) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n\n[174](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L174) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n\n[175](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L175) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n[176](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L176) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n[177](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L177) at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n[178](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L178) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n[179](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L179) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n[180](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L180) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n[181](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L181) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671)\n\n[182](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L182) at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659)\n\n[183](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L183) at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300)\n\n[184](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L184) at org.sonar.core.platform.SpringComponentContainer.getComponentsByType(SpringComponentContainer.java:154)\n\n[185](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L185) ... 25 more\n\n[186](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L186)Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.talanlabs.sonar.plugins.gitlab.CommitPublishPostJob] from ClassLoader [ClassRealm{gitlab}]\n\n[187](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L187) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n\n[188](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L188) at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n\n[189](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L189) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n\n[190](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L190) ... 37 more\n\n[191](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L191)Caused by: java.lang.NoClassDefFoundError: org/sonar/api/batch/postjob/issue/PostJobIssue\n\n[192](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L192) at [java.base/java.lang.Class.getDeclaredMethods0(Native](http://java.base/java.lang.Class.getDeclaredMethods0(Native) Method)\n\n[193](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L193) at [java.base/java.lang.Class.privateGetDeclaredMethods(Unknown](http://java.base/java.lang.Class.privateGetDeclaredMethods(Unknown) Source)\n\n[194](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L194) at [java.base/java.lang.Class.getDeclaredMethods(Unknown](http://java.base/java.lang.Class.getDeclaredMethods(Unknown) Source)\n\n[195](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L195) at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n\n[196](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L196) ... 39 more\n\n[197](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L197)Caused by: java.lang.ClassNotFoundException: org.sonar.api.batch.postjob.issue.PostJobIssue\n\n[198](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L198) at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\n\n[199](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L199) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\n\n[200](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L200) at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\n\n[201](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L201) ... 43 more\n\n[202](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L202)ERROR:\n\n[203](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L203)ERROR: Re-run SonarScanner using the -X switch to enable full debug logging.\n\n[205](http://10.16.88.68:10001/gitlab-instance-08045261/example/-/jobs/25#L205)ERROR: Job failed: exit status 1\n\n\n</code></pre>\n<p>gitlab cicd can trigger sonar-scanner ,but it will be appear some error lead to pipeline cannot run to the last。i want to know how to fix it to complete this pipeline, thank you</p>\n"},{"tags":["java","intellij-idea","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1667350725,"post_id":74283247,"comment_id":131145653,"body_markdown":"Maybe a [`GridPane`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/GridPane.html) would be better suited to your purpose than a TableView.","body":"Maybe a <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\"><code>GridPane</code></a> would be better suited to your purpose than a TableView."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1667350743,"post_id":74283247,"comment_id":131145655,"body_markdown":"For a TableView, you don&#39;t update cells in the tableview directly, instead, you modify records in the list which backs the tableview, and those records need to be composed of listenable properties if you want to have updates on those properties trigger updates to the view.  Study up on [cell factories](https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx) if you want to go this route.  You might also want to look at [extractors](https://stackoverflow.com/questions/31687642/callback-and-extractors-for-javafx-observablelist).","body":"For a TableView, you don&#39;t update cells in the tableview directly, instead, you modify records in the list which backs the tableview, and those records need to be composed of listenable properties if you want to have updates on those properties trigger updates to the view.  Study up on <a href=\"https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx\">cell factories</a> if you want to go this route.  You might also want to look at <a href=\"https://stackoverflow.com/questions/31687642/callback-and-extractors-for-javafx-observablelist\">extractors</a>."},{"owner":{"account_id":12450504,"reputation":55,"user_id":9065315,"display_name":"Beno&#238;t Mignault"},"score":0,"creation_date":1667352890,"post_id":74283247,"comment_id":131145984,"body_markdown":"Thx @jewelsea :) I will read about GridPane","body":"Thx @jewelsea :) I will read about GridPane"}],"answers":[{"tags":[],"owner":{"account_id":12450504,"reputation":55,"user_id":9065315,"display_name":"Beno&#238;t Mignault"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667395690,"creation_date":1667395690,"answer_id":74289962,"question_id":74283247,"body_markdown":"With GridPane, i found what i probably need :)\r\n```JAVA\r\n@FXML\r\n    protected void shootOnGrid(ActionEvent actionEvent) {\r\n        if (column.getText().isEmpty() || line.getText().isEmpty() ){\r\n            resultShoot.setText(&quot;There is some information missing&quot;);\r\n        } else {\r\n            resultShoot.setText(column.getText()+line.getText());\r\n            grid.add(new Text(line.getText()), 0,0);\r\n\r\n        }\r\n    }\r\n```\r\nNow, i need to work with thoses property :)\r\nIf i can name the Colomn and row...etc\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dCgqF.png","title":"How to write in a specific spot in TableView with JavaFX","body":"<p>With GridPane, i found what i probably need :)</p>\n<pre><code>@FXML\n    protected void shootOnGrid(ActionEvent actionEvent) {\n        if (column.getText().isEmpty() || line.getText().isEmpty() ){\n            resultShoot.setText(&quot;There is some information missing&quot;);\n        } else {\n            resultShoot.setText(column.getText()+line.getText());\n            grid.add(new Text(line.getText()), 0,0);\n\n        }\n    }\n</code></pre>\n<p>Now, i need to work with thoses property :)\nIf i can name the Colomn and row...etc</p>\n<p><a href=\"https://i.stack.imgur.com/dCgqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dCgqF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12450504,"reputation":55,"user_id":9065315,"display_name":"Beno&#238;t Mignault"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667395690,"creation_date":1667349876,"question_id":74283247,"body_markdown":"I am in the process of self-training on the subject of graphic JavaFX\r\n\r\nMy goal is to be able to place an X in the corresponding box\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A9fNU.png\r\n\r\nI found several tutorials that explain how to write a partial or full row but only one field and depending on the column / row value ... I can&#39;t do it, I need help from the community to m &#39;open my eyes, so run my hoop lol\r\n\r\nThx in advance\r\n\r\nHave a nice day/evening/night/morning","title":"How to write in a specific spot in TableView with JavaFX","body":"<p>I am in the process of self-training on the subject of graphic JavaFX</p>\n<p>My goal is to be able to place an X in the corresponding box</p>\n<p><a href=\"https://i.stack.imgur.com/A9fNU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9fNU.png\" alt=\"enter image description here\" /></a></p>\n<p>I found several tutorials that explain how to write a partial or full row but only one field and depending on the column / row value ... I can't do it, I need help from the community to m 'open my eyes, so run my hoop lol</p>\n<p>Thx in advance</p>\n<p>Have a nice day/evening/night/morning</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6552102,"reputation":2093,"user_id":5750389,"display_name":"Elias Fazel"},"score":0,"creation_date":1602705438,"post_id":64360590,"comment_id":113808556,"body_markdown":"add sha-1 for release and add new json to your project","body":"add sha-1 for release and add new json to your project"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602705623,"post_id":64360590,"comment_id":113808614,"body_markdown":"@Elias Fazel how can I do it?","body":"@Elias Fazel how can I do it?"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602706067,"post_id":64360590,"comment_id":113808764,"body_markdown":"@Elias Fazel ok but should I then create a new app within my firebase project with the new sha1 and should I overwrite the new json file the old one ?\nIs this tutorial okay? https://fabcoding.com/how-to-obtain-sha1-keys-for-debug-and-release-android-studio-mac/","body":"@Elias Fazel ok but should I then create a new app within my firebase project with the new sha1 and should I overwrite the new json file the old one ? Is this tutorial okay? <a href=\"https://fabcoding.com/how-to-obtain-sha1-keys-for-debug-and-release-android-studio-mac/\" rel=\"nofollow noreferrer\">fabcoding.com/&hellip;</a>"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":1,"creation_date":1602707185,"post_id":64360590,"comment_id":113809134,"body_markdown":"@Elias Fazel I tried but it doesn&#39;t work, the unknown error toast keeps appearing. I tried adding a sha1 (without deleting the old debug one) and downloading the new json overwriting the old one","body":"@Elias Fazel I tried but it doesn&#39;t work, the unknown error toast keeps appearing. I tried adding a sha1 (without deleting the old debug one) and downloading the new json overwriting the old one"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602707800,"post_id":64360590,"comment_id":113809349,"body_markdown":"Please help me.","body":"Please help me."},{"owner":{"display_name":"user14141430"},"score":0,"creation_date":1602743143,"post_id":64360590,"comment_id":113817541,"body_markdown":"Add the SHA-256 release key","body":"Add the SHA-256 release key"},{"owner":{"account_id":6552102,"reputation":2093,"user_id":5750389,"display_name":"Elias Fazel"},"score":0,"creation_date":1602761324,"post_id":64360590,"comment_id":113825416,"body_markdown":"check this https://developers.google.com/android/guides/client-auth","body":"check this <a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"nofollow noreferrer\">developers.google.com/android/guides/client-auth</a>"},{"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"score":0,"creation_date":1602781430,"post_id":64360590,"comment_id":113835796,"body_markdown":"@EliasFazel i added a sha1 key (the one of the release version that I found written in the signature section of the app on play console) and now the authentication works but as soon as the crusha app is authenticated, I don&#39;t know why https: // play. google.com/store/apps/details?id=com.conta.ftof","body":"@EliasFazel i added a sha1 key (the one of the release version that I found written in the signature section of the app on play console) and now the authentication works but as soon as the crusha app is authenticated, I don&#39;t know why https: // play. google.com/store/apps/details?id=com.conta.ftof"}],"answers":[{"tags":[],"owner":{"account_id":269668,"reputation":44162,"user_id":559144,"accept_rate":85,"display_name":"Davide Piras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667395271,"creation_date":1664197587,"answer_id":73854604,"question_id":64360590,"body_markdown":"in my case, having similar problem, the solution proposed here solved my issue:\r\n\r\nhttps://stackoverflow.com/a/50868434/559144\r\n\r\nI was trying to grab the SHA1 signature from the keytool command against my app bundle compiled in release mode, but that did not work, what fixed the issue was to grab that signature from the google play console, under app signing settings, then paste it into Firebase console, without removing the debug signature, then grab latest google json file, put it in Android Studio, rebuild signed bundle, upload, release, and now all works great.\r\n ","title":"Firebase authentication works only on debug version","body":"<p>in my case, having similar problem, the solution proposed here solved my issue:</p>\n<p><a href=\"https://stackoverflow.com/a/50868434/559144\">https://stackoverflow.com/a/50868434/559144</a></p>\n<p>I was trying to grab the SHA1 signature from the keytool command against my app bundle compiled in release mode, but that did not work, what fixed the issue was to grab that signature from the google play console, under app signing settings, then paste it into Firebase console, without removing the debug signature, then grab latest google json file, put it in Android Studio, rebuild signed bundle, upload, release, and now all works great.</p>\n"}],"owner":{"account_id":19680234,"reputation":37,"user_id":14407515,"display_name":"Pietro Contadini"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73854604,"answer_count":1,"score":0,"last_activity_date":1667395271,"creation_date":1602705088,"question_id":64360590,"body_markdown":"I have an app on google play: https://play.google.com/store/apps/details?id=com.conta.ftof\r\nand I have a big problem. I can&#39;t get firebase authentication with phone number to work on the signed version. in fact, it works only with the debug version (when in the release version I insert the number and click the send button, the toast is returned: unknown error) ... Precisely for this reason I can&#39;t show the logcats, just because the error alone in the relase version ... Can you help me please? I leave you the code:\r\n\r\n**Important lines of registrationactivity**\r\n\r\n    @Override\r\n                public void onVerificationFailed(FirebaseException e) {\r\n    \r\n                    if (e instanceof FirebaseAuthInvalidCredentialsException) {\r\n                        Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else if (e instanceof FirebaseTooManyRequestsException) {\r\n                        Toast.makeText(RegistrationActivity.this, &quot;Troppe richieste per questo numero di telefono, riprova tra 24h&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    else if (e instanceof FirebaseNetworkException){\r\n                        Toast.makeText(RegistrationActivity.this, &quot;Errore di rete...&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    else {\r\n    \r\n                        Toast.makeText(RegistrationActivity.this, &quot;Errore sconosciuto&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    Log.e(TAG,  &quot;err : &quot; + e);\r\n                    loadingBar.dismiss();\r\n    \r\n    \r\n                   // Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\r\n                    relativeLayout.setVisibility(View.VISIBLE);\r\n    \r\n    \r\n                    continueAndNextBtn.setText(&quot;Continue&quot;); //Continue\r\n                    codeText.setVisibility(View.GONE);\r\n    \r\n    \r\n                }\r\n\r\n\r\n**RegistrationActivity:**https://codeshare.io/5wBAzp\r\n\r\n**Build Gradle :app**\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            // Or, if you prefer, you can continue to check for errors in release builds,\r\n            // but continue the build even when errors are found:\r\n            abortOnError false\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.conta.ftof&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:19.3.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:19.3.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:17.4.3&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-database:3.2.2&#39;\r\n        implementation &#39;com.hbb20:ccp:2.1.9&#39;\r\n        implementation &#39;pub.devrel:easypermissions:0.4.0&#39;\r\n        implementation &#39;com.android.support:percent:29.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:19.4.0&#39;\r\n    \r\n    \r\n        implementation &#39;com.google.firebase:firebase-storage:19.1.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.2.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.2.2&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        implementation &#39;com.opentok.android:opentok-android-sdk:2.15.3&#39;\r\n        implementation &#39;pub.devrel:easypermissions:0.4.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics:17.4.3&#39;\r\n    \r\n    }\r\n\r\n**Build Gradle** \r\n\r\n        // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.0.0&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n    \r\n            maven { url &#39;https://maven.google.com&#39;}\r\n            maven { url &#39;https://tokbox.bintray.com/maven&#39;}\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n**errori nei logcat nel DEBUG**\r\n\r\n\r\n            2020-10-14 21:46:16.629 12564-12564/com.conta.ftof E/RegistrationActivity: err : com.google.firebase.FirebaseException: An internal error has occurred. [ Error code:39 ]\r\n            \r\n            2020-10-14 21:46:16.697 2026-4029/? E/Auth: [GoogleAccountDataServiceImpl] getToken() -&gt; BAD_AUTHENTICATION. Account: &lt;ELLIDED:718006122&gt;, App: com.google.android.gms, Service: oauth2:https://www.googleapis.com/auth/emeraldsea.mobileapps.doritos.cookie\r\n            rlv: Long live credential not available.\r\n                at gbq.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\r\n                at gac.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):118)\r\n                at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):235)\r\n                at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):108)\r\n                at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):240)\r\n                at cox.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):5)\r\n                at android.os.Binder.transact(Binder.java:675)\r\n                at csu.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):2)\r\n                at android.os.Binder.transact(Binder.java:675)\r\n                at zyq.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\r\n                at android.os.Binder.execTransact(Binder.java:739)\r\n            \r\n                2020-10-14 21:46:16.718 612-832/? E/BufferQueueProducer: [] mConsumerName == NULL!!!!!!\r\n        2020-10-14 21:46:16.577 688-1286/? E/dubaid: [DubaiUtils.h] parseMessage# Failed to find second tag: uid=\r\n        2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] parsePartialWakelockAcquiredMessage# Failed to parse count: lock=220525660 tag=*gms_scheduler*:internal count=0\r\n        2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] onPartialWakelockAcquireMessage# Failed to parse message\r\n        2020-10-14 21:46:16.580 2664-7832/? E/Volley: [420] BasicNetwork.performRequest: Unexpected response code 503 for https://www.googleapis.com/identitytoolkit/v3/relyingparty/sendVerificationCode?alt=proto&amp;key=AIzaSyA3J5SF6W94IhtZ_dQ6UOVqUhIN133zrhU\r\n    \r\n    2020-10-14 21:46:15.834 1272-3654/? E/WifiService: enforceCanAccessScanResults: hiding ssid and bssidLocation mode is disabled for the device\r\n\r\n","title":"Firebase authentication works only on debug version","body":"<p>I have an app on google play: <a href=\"https://play.google.com/store/apps/details?id=com.conta.ftof\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.conta.ftof</a>\nand I have a big problem. I can't get firebase authentication with phone number to work on the signed version. in fact, it works only with the debug version (when in the release version I insert the number and click the send button, the toast is returned: unknown error) ... Precisely for this reason I can't show the logcats, just because the error alone in the relase version ... Can you help me please? I leave you the code:</p>\n<p><strong>Important lines of registrationactivity</strong></p>\n<pre><code>@Override\n            public void onVerificationFailed(FirebaseException e) {\n\n                if (e instanceof FirebaseAuthInvalidCredentialsException) {\n                    Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else if (e instanceof FirebaseTooManyRequestsException) {\n                    Toast.makeText(RegistrationActivity.this, &quot;Troppe richieste per questo numero di telefono, riprova tra 24h&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                else if (e instanceof FirebaseNetworkException){\n                    Toast.makeText(RegistrationActivity.this, &quot;Errore di rete...&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                else {\n\n                    Toast.makeText(RegistrationActivity.this, &quot;Errore sconosciuto&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                Log.e(TAG,  &quot;err : &quot; + e);\n                loadingBar.dismiss();\n\n\n               // Toast.makeText(RegistrationActivity.this, &quot;Numero inserito non valido...&quot;, Toast.LENGTH_SHORT).show();\n                relativeLayout.setVisibility(View.VISIBLE);\n\n\n                continueAndNextBtn.setText(&quot;Continue&quot;); //Continue\n                codeText.setVisibility(View.GONE);\n\n\n            }\n</code></pre>\n<p>**RegistrationActivity:**<a href=\"https://codeshare.io/5wBAzp\" rel=\"nofollow noreferrer\">https://codeshare.io/5wBAzp</a></p>\n<p><strong>Build Gradle :app</strong></p>\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n\n    defaultConfig {\n        applicationId &quot;com.conta.ftof&quot;\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-auth:19.3.1'\n    implementation 'com.google.firebase:firebase-database:19.3.0'\n    implementation 'com.google.firebase:firebase-core:17.4.3'\n    implementation 'com.firebaseui:firebase-ui-database:3.2.2'\n    implementation 'com.hbb20:ccp:2.1.9'\n    implementation 'pub.devrel:easypermissions:0.4.0'\n    implementation 'com.android.support:percent:29.0.0'\n    implementation 'com.google.android.gms:play-services-ads:19.4.0'\n\n\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\n    implementation 'com.google.android.material:material:1.1.0'\n    implementation 'androidx.navigation:navigation-fragment:2.2.2'\n    implementation 'androidx.navigation:navigation-ui:2.2.2'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'com.opentok.android:opentok-android-sdk:2.15.3'\n    implementation 'pub.devrel:easypermissions:0.4.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'com.google.firebase:firebase-analytics:17.4.3'\n\n}\n</code></pre>\n<p><strong>Build Gradle</strong></p>\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.0.0&quot;\n        classpath 'com.google.gms:google-services:4.3.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n        maven { url 'https://maven.google.com'}\n        maven { url 'https://tokbox.bintray.com/maven'}\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>errori nei logcat nel DEBUG</strong></p>\n<pre><code>        2020-10-14 21:46:16.629 12564-12564/com.conta.ftof E/RegistrationActivity: err : com.google.firebase.FirebaseException: An internal error has occurred. [ Error code:39 ]\n        \n        2020-10-14 21:46:16.697 2026-4029/? E/Auth: [GoogleAccountDataServiceImpl] getToken() -&gt; BAD_AUTHENTICATION. Account: &lt;ELLIDED:718006122&gt;, App: com.google.android.gms, Service: oauth2:https://www.googleapis.com/auth/emeraldsea.mobileapps.doritos.cookie\n        rlv: Long live credential not available.\n            at gbq.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\n            at gac.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):118)\n            at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):235)\n            at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):108)\n            at cqx.a(:com.google.android.gms@202614030@20.26.14 (100408-320008519):240)\n            at cox.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):5)\n            at android.os.Binder.transact(Binder.java:675)\n            at csu.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):2)\n            at android.os.Binder.transact(Binder.java:675)\n            at zyq.onTransact(:com.google.android.gms@202614030@20.26.14 (100408-320008519):17)\n            at android.os.Binder.execTransact(Binder.java:739)\n        \n            2020-10-14 21:46:16.718 612-832/? E/BufferQueueProducer: [] mConsumerName == NULL!!!!!!\n    2020-10-14 21:46:16.577 688-1286/? E/dubaid: [DubaiUtils.h] parseMessage# Failed to find second tag: uid=\n    2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] parsePartialWakelockAcquiredMessage# Failed to parse count: lock=220525660 tag=*gms_scheduler*:internal count=0\n    2020-10-14 21:46:16.577 688-1286/? E/dubaid: [SystemHandler.cpp] onPartialWakelockAcquireMessage# Failed to parse message\n    2020-10-14 21:46:16.580 2664-7832/? E/Volley: [420] BasicNetwork.performRequest: Unexpected response code 503 for https://www.googleapis.com/identitytoolkit/v3/relyingparty/sendVerificationCode?alt=proto&amp;key=AIzaSyA3J5SF6W94IhtZ_dQ6UOVqUhIN133zrhU\n\n2020-10-14 21:46:15.834 1272-3654/? E/WifiService: enforceCanAccessScanResults: hiding ssid and bssidLocation mode is disabled for the device\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667395492,"post_id":74289806,"comment_id":131156474,"body_markdown":"Just for clarification: `Position.stopLossOrder` has `@OneToOne` so does that mean that there is only one &quot;special&quot; position per order as well? Also do your orders really just have 1 position that can be shared between orders? That looks a little odd to me.","body":"Just for clarification: <code>Position.stopLossOrder</code> has <code>@OneToOne</code> so does that mean that there is only one &quot;special&quot; position per order as well? Also do your orders really just have 1 position that can be shared between orders? That looks a little odd to me."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667395704,"post_id":74289806,"comment_id":131156565,"body_markdown":"&quot;sometimes when persisting an order as stopLossOrder it&#39;s not saved to position&quot; - one question you need to ask yourself in those cases is: which side of the relation &quot;owns&quot; it? In the case of one-to-many / many-to-one it&#39;s the &quot;many&quot; side as this is where the foreign key will be persisted. With bidirectional &quot;one-to-one&quot; you need to pay more attitention not to confuse the system - only if you persist the &quot;owning side&quot; of a relation will it make it&#39;s way to the database which means for &quot;stopLossOrder&quot; it would be `Position` and `stopLossOrder` would have to be set.","body":"&quot;sometimes when persisting an order as stopLossOrder it&#39;s not saved to position&quot; - one question you need to ask yourself in those cases is: which side of the relation &quot;owns&quot; it? In the case of one-to-many / many-to-one it&#39;s the &quot;many&quot; side as this is where the foreign key will be persisted. With bidirectional &quot;one-to-one&quot; you need to pay more attitention not to confuse the system - only if you persist the &quot;owning side&quot; of a relation will it make it&#39;s way to the database which means for &quot;stopLossOrder&quot; it would be <code>Position</code> and <code>stopLossOrder</code> would have to be set."},{"owner":{"account_id":20973198,"reputation":1,"user_id":15409873,"display_name":"oneMoreTime"},"score":0,"creation_date":1667396329,"post_id":74289806,"comment_id":131156835,"body_markdown":"@Thomas There are multiple different positions that can be shared or not between orders. For example: order can have a symbol (that can be the same with others orders) and position(symbol is unique per position) using this symbol I can incorporate orders under the specific position","body":"@Thomas There are multiple different positions that can be shared or not between orders. For example: order can have a symbol (that can be the same with others orders) and position(symbol is unique per position) using this symbol I can incorporate orders under the specific position"}],"owner":{"account_id":20973198,"reputation":1,"user_id":15409873,"display_name":"oneMoreTime"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667394988,"creation_date":1667394988,"question_id":74289806,"body_markdown":" I have two enteties and I want to be able access one of them from another and vise versa (bidirectional). But sometimes when persisting an order as stopLossOrder it&#39;s not saved to position. If you have any ideas of how it can be implemented (if it&#39;s possible this way or similar) I would be glad to hear.\r\n\r\nLater on I want to add more orders to position entity similarly to &#39;stopLossOrder&#39;\r\n```\r\n@Entity(name = &quot;Position&quot;)\r\n@Table(name = &quot;positions&quot;)\r\n@Getter @Setter\r\npublic class PositionEntity implements Serializable {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n@OneToOne(fetch = FetchType.LAZY,\r\n        cascade = CascadeType.ALL,\r\n        orphanRemoval = true)\r\n@JoinColumn(name = &quot;stop_loss_order_id&quot;, referencedColumnName = &quot;id&quot;)\r\nprivate OrderEntity stopLossOrder;\r\n\r\n@OneToMany(mappedBy = &quot;position&quot;,\r\n        cascade = CascadeType.ALL,\r\n        fetch = FetchType.LAZY,\r\n        orphanRemoval = true)\r\nprivate Set&lt;OrderEntity&gt; orders = new HashSet&lt;&gt;();\r\n\r\npublic void setStopLossOrder(OrderEntity stopLossOrder) {\r\n    this.stopLossOrder = stopLossOrder;\r\n    stopLossOrder.setPosition(this);\r\n}\r\n\r\npublic boolean addOrder(OrderEntity orderEntity) {\r\n    orderEntity.setPosition(this);\r\n    return orders.add(orderEntity);\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity(name = &quot;Order&quot;)\r\n@Table(name = &quot;orders&quot;)\r\n@Getter\r\n@Setter\r\npublic class OrderEntity implements Serializable {\r\n    @Getter(AccessLevel.NONE)\r\n    @Setter(AccessLevel.NONE)\r\n    private static final long serialVersionUID = -1462587657644552577L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n   @ManyToOne(optional = false)\r\n   private PositionEntity position;\r\n}\r\n```\r\nPersisting:\r\n```\r\nif (orderEntity.getType() == OrderType.STOP_MARKET) {\r\n    positionEntity.setStopLossOrder(orderEntity);\r\n} else {\r\n    boolean isAdded = positionEntity.addOrder(orderEntity);\r\n    if (!isAdded)\r\n        throw new TradeServiceException(&quot;Order with id: &quot; + order.getOrderId() + &quot; already added to position.&quot;);\r\n}\r\n\r\norderEntity = orderRepository.save(orderEntity);\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to map bidirectional @OneToMany and @OneToOne on the same entity","body":"<p>I have two enteties and I want to be able access one of them from another and vise versa (bidirectional). But sometimes when persisting an order as stopLossOrder it's not saved to position. If you have any ideas of how it can be implemented (if it's possible this way or similar) I would be glad to hear.</p>\n<p>Later on I want to add more orders to position entity similarly to 'stopLossOrder'</p>\n<pre><code>@Entity(name = &quot;Position&quot;)\n@Table(name = &quot;positions&quot;)\n@Getter @Setter\npublic class PositionEntity implements Serializable {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n@OneToOne(fetch = FetchType.LAZY,\n        cascade = CascadeType.ALL,\n        orphanRemoval = true)\n@JoinColumn(name = &quot;stop_loss_order_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate OrderEntity stopLossOrder;\n\n@OneToMany(mappedBy = &quot;position&quot;,\n        cascade = CascadeType.ALL,\n        fetch = FetchType.LAZY,\n        orphanRemoval = true)\nprivate Set&lt;OrderEntity&gt; orders = new HashSet&lt;&gt;();\n\npublic void setStopLossOrder(OrderEntity stopLossOrder) {\n    this.stopLossOrder = stopLossOrder;\n    stopLossOrder.setPosition(this);\n}\n\npublic boolean addOrder(OrderEntity orderEntity) {\n    orderEntity.setPosition(this);\n    return orders.add(orderEntity);\n}\n\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;Order&quot;)\n@Table(name = &quot;orders&quot;)\n@Getter\n@Setter\npublic class OrderEntity implements Serializable {\n    @Getter(AccessLevel.NONE)\n    @Setter(AccessLevel.NONE)\n    private static final long serialVersionUID = -1462587657644552577L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n   @ManyToOne(optional = false)\n   private PositionEntity position;\n}\n</code></pre>\n<p>Persisting:</p>\n<pre><code>if (orderEntity.getType() == OrderType.STOP_MARKET) {\n    positionEntity.setStopLossOrder(orderEntity);\n} else {\n    boolean isAdded = positionEntity.addOrder(orderEntity);\n    if (!isAdded)\n        throw new TradeServiceException(&quot;Order with id: &quot; + order.getOrderId() + &quot; already added to position.&quot;);\n}\n\norderEntity = orderRepository.save(orderEntity);\n\n</code></pre>\n"},{"tags":["java","spring-boot","sendgrid"],"comments":[{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545037319,"post_id":53810894,"comment_id":94471913,"body_markdown":"What you have posted in question doesn&#39;t match with the problem in hand. The given url is nowhere mentioned in code. Please post what you have tried with the relevant code.","body":"What you have posted in question doesn&#39;t match with the problem in hand. The given url is nowhere mentioned in code. Please post what you have tried with the relevant code."},{"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"score":0,"creation_date":1545037827,"post_id":53810894,"comment_id":94472184,"body_markdown":"Thanks Sangam for your reply.I need code snippet for send grid parser API in Spring boot.like whenever sending any mail to specific domain ex. abc.com.","body":"Thanks Sangam for your reply.I need code snippet for send grid parser API in Spring boot.like whenever sending any mail to specific domain ex. abc.com."},{"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"score":0,"creation_date":1545038014,"post_id":53810894,"comment_id":94472283,"body_markdown":"Sendgrid not sending parsed data to above API.This is the URl I configured in send grid( https://d3a26271.ngrok.io/api/sendGridParse). Is there any thing wrong in my API code?","body":"Sendgrid not sending parsed data to above API.This is the URl I configured in send grid( <a href=\"https://d3a26271.ngrok.io/api/sendGridParse\" rel=\"nofollow noreferrer\">d3a26271.ngrok.io/api/sendGridParse</a>). Is there any thing wrong in my API code?"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545040987,"post_id":53810894,"comment_id":94473963,"body_markdown":"You need to add your relevant key and other details provided by sendgrid in your application.properties. Then it  should send the request to sendGrid server. Also what response you get when the request is sent.?","body":"You need to add your relevant key and other details provided by sendgrid in your application.properties. Then it  should send the request to sendGrid server. Also what response you get when the request is sent.?"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545041036,"post_id":53810894,"comment_id":94473979,"body_markdown":"Take a look at https://dzone.com/articles/integrate-sendgrid-with-a-spring-boot-and-java-app","body":"Take a look at <a href=\"https://dzone.com/articles/integrate-sendgrid-with-a-spring-boot-and-java-app\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"score":0,"creation_date":1545042382,"post_id":53810894,"comment_id":94474713,"body_markdown":"I am asking about  inbound parse API implementation in Spring boot. http://www.altifysoftware.com/receiving-emails-using-sendgrid-inbound-parse-c-webapi2/ like in Spring boot.","body":"I am asking about  inbound parse API implementation in Spring boot. <a href=\"http://www.altifysoftware.com/receiving-emails-using-sendgrid-inbound-parse-c-webapi2/\" rel=\"nofollow noreferrer\">altifysoftware.com/&hellip;</a> like in Spring boot."},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545043632,"post_id":53810894,"comment_id":94475407,"body_markdown":"Please put these facts in question. So anyone else reading question will have clear idea on what exactly you are trying to achieve.","body":"Please put these facts in question. So anyone else reading question will have clear idea on what exactly you are trying to achieve."},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1545043880,"post_id":53810894,"comment_id":94475552,"body_markdown":"Post similar request to the your server url from your local machine and check if you are getting the same in your sysout logs...If yes then may be sendgrid is not passing those details in request. One way to check this is to dump entire request in your controller. You will get an idea on what you are getting in request","body":"Post similar request to the your server url from your local machine and check if you are getting the same in your sysout logs...If yes then may be sendgrid is not passing those details in request. One way to check this is to dump entire request in your controller. You will get an idea on what you are getting in request"}],"answers":[{"tags":[],"owner":{"account_id":12660186,"reputation":60,"user_id":9203256,"display_name":"Dumitru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640211594,"creation_date":1640160243,"answer_id":70445916,"question_id":53810894,"body_markdown":"According to this article: https://varunsastrydevulapalli.medium.com/the-sendgrid-inbound-webhook-with-spring-dc7b5bae4e0c,\r\nwe can receive the Inbound Message using this spring controller: \r\n```java\r\n@Controller\r\n@RequestMapping(value = &quot;/messaging&quot;)\r\npublic class InboundMessageController {\r\n@Bean(name = &quot;multipartResolver&quot;)\r\n public CommonsMultipartResolver commonsMultipartResolver() {\r\n CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n commonsMultipartResolver.setDefaultEncoding(&quot;UTF-8&quot;);\r\n commonsMultipartResolver.setMaxUploadSize(5000);\r\n return commonsMultipartResolver;\r\n }\r\n \r\n @RequestMapping(value = &quot;/inbound&quot;, method = {RequestMethod.POST, RequestMethod.HEAD}, consumes = MediaType.MULTIPART_FORM_DATA)\r\n public @ResponseBody\r\n void processInboundSendGridEmails(HttpServletRequest request,\r\n HttpServletResponse response,\r\n @RequestParam(required = false) MultipartFile file,\r\n SendGridInbound sendGridInbound) {\r\n  System.out.println(sendGridInbound);\r\n }\r\n}\r\n\r\npublic class SendGridInbound {\r\n    String headers;\r\n    String dkim;\r\n    String to;\r\n    String html;\r\n    String from;\r\n    String text;\r\n    String sender_ip;\r\n    String spam_report;\r\n    String envelope;\r\n    String attachments;\r\n    String subject;\r\n    String spam_score;\r\n    String attchmentInfo;\r\n    String charsets;\r\n    String spf;\r\n\r\n    //getter setters toString\r\n}\r\n```\r\n\r\nHope it could help.","title":"Sendgrid parse api in spring boot","body":"<p>According to this article: <a href=\"https://varunsastrydevulapalli.medium.com/the-sendgrid-inbound-webhook-with-spring-dc7b5bae4e0c\" rel=\"nofollow noreferrer\">https://varunsastrydevulapalli.medium.com/the-sendgrid-inbound-webhook-with-spring-dc7b5bae4e0c</a>,\nwe can receive the Inbound Message using this spring controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(value = &quot;/messaging&quot;)\npublic class InboundMessageController {\n@Bean(name = &quot;multipartResolver&quot;)\n public CommonsMultipartResolver commonsMultipartResolver() {\n CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n commonsMultipartResolver.setDefaultEncoding(&quot;UTF-8&quot;);\n commonsMultipartResolver.setMaxUploadSize(5000);\n return commonsMultipartResolver;\n }\n \n @RequestMapping(value = &quot;/inbound&quot;, method = {RequestMethod.POST, RequestMethod.HEAD}, consumes = MediaType.MULTIPART_FORM_DATA)\n public @ResponseBody\n void processInboundSendGridEmails(HttpServletRequest request,\n HttpServletResponse response,\n @RequestParam(required = false) MultipartFile file,\n SendGridInbound sendGridInbound) {\n  System.out.println(sendGridInbound);\n }\n}\n\npublic class SendGridInbound {\n    String headers;\n    String dkim;\n    String to;\n    String html;\n    String from;\n    String text;\n    String sender_ip;\n    String spam_report;\n    String envelope;\n    String attachments;\n    String subject;\n    String spam_score;\n    String attchmentInfo;\n    String charsets;\n    String spf;\n\n    //getter setters toString\n}\n</code></pre>\n<p>Hope it could help.</p>\n"}],"owner":{"account_id":14960104,"reputation":1,"user_id":10800084,"display_name":"Raghuveer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667394988,"creation_date":1545033120,"question_id":53810894,"body_markdown":"How to implement sendgrid parse API in Spring boot.\r\n\r\n**Code :**\r\n\r\n    @RequestMapping(value = &quot;/api/sendGridParse&quot;,method = RequestMethod.POST)\r\n    \tpublic ResponseEntity&lt;APIResponseDTO&gt; sendGridParseDoamin(@ModelAttribute EmailParseDTO emailParseDTO )\t\t\r\n    \t{\t\t\r\n    \t\tAPIResponseDTO _response = new APIResponseDTO();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;emailParseDTO:&quot;+emailParseDTO.toString());\r\n    \t\ttry{\t\t\t\r\n    \t\t\t_response.setMessage(&quot;Success&quot;);\r\n    \t\t\t_response.setStatus(100);\r\n    \t\t}catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t_response.setMessage(&quot;Failed&quot;);\r\n    \t\t\t_response.setStatus(101);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn new ResponseEntity&lt;APIResponseDTO&gt;(_response, HttpStatus.OK);\r\n    \t}\r\n\r\n**EmailParseDTO  :**\r\n\r\n    public class EmailParseDTO {\r\n    \t\r\n    \tint attachments;\r\n    \tString charsets; \r\n    \tString from; \r\n    \tString headers; \r\n    \tString html; \r\n    \tString subject; \r\n    \tString envelope; \r\n    \tString text; \r\n    \tString to; \r\n    \tString cc;\r\n    //setter and getter\r\n\r\nbut it&#39;s not send parsed data to above url.\r\n\r\n&gt; ex: https://d3a26271.ngrok.io/api/sendGridParse","title":"Sendgrid parse api in spring boot","body":"<p>How to implement sendgrid parse API in Spring boot.</p>\n\n<p><strong>Code :</strong></p>\n\n<pre><code>@RequestMapping(value = \"/api/sendGridParse\",method = RequestMethod.POST)\n    public ResponseEntity&lt;APIResponseDTO&gt; sendGridParseDoamin(@ModelAttribute EmailParseDTO emailParseDTO )     \n    {       \n        APIResponseDTO _response = new APIResponseDTO();\n\n        System.out.println(\"emailParseDTO:\"+emailParseDTO.toString());\n        try{            \n            _response.setMessage(\"Success\");\n            _response.setStatus(100);\n        }catch (Exception e) {\n            e.printStackTrace();\n            _response.setMessage(\"Failed\");\n            _response.setStatus(101);\n\n        }\n        return new ResponseEntity&lt;APIResponseDTO&gt;(_response, HttpStatus.OK);\n    }\n</code></pre>\n\n<p><strong>EmailParseDTO  :</strong></p>\n\n<pre><code>public class EmailParseDTO {\n\n    int attachments;\n    String charsets; \n    String from; \n    String headers; \n    String html; \n    String subject; \n    String envelope; \n    String text; \n    String to; \n    String cc;\n//setter and getter\n</code></pre>\n\n<p>but it's not send parsed data to above url.</p>\n\n<blockquote>\n  <p>ex: <a href=\"https://d3a26271.ngrok.io/api/sendGridParse\" rel=\"nofollow noreferrer\">https://d3a26271.ngrok.io/api/sendGridParse</a></p>\n</blockquote>\n"},{"tags":["java","eclipse","dependency-management","classnotfoundexception"],"comments":[{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":0,"creation_date":1667333858,"post_id":74281255,"comment_id":131142095,"body_markdown":"The missing class `LoggerFactory` is in `slf4j-api-2.0.3.jar` so you aren&#39;t missing any dependency.  The issue seems to be that your dependencies aren&#39;t on your build path.\nDid you refresh your project after adding these dependencies?  If not, that could be your solution","body":"The missing class <code>LoggerFactory</code> is in <code>slf4j-api-2.0.3.jar</code> so you aren&#39;t missing any dependency.  The issue seems to be that your dependencies aren&#39;t on your build path. Did you refresh your project after adding these dependencies?  If not, that could be your solution"},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667334540,"post_id":74281255,"comment_id":131142271,"body_markdown":"Now I changed  the dependencies in my build path, did refresh but I&#39;m still getting the same error","body":"Now I changed  the dependencies in my build path, did refresh but I&#39;m still getting the same error"},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667334807,"post_id":74281255,"comment_id":131142338,"body_markdown":"Something I would like to notice. When I hover my mouse on the imports, I&#39;m getting the following message &quot;Note: This element neither has attached source nor attached Javadoc and hence no Javadoc could be found&quot;","body":"Something I would like to notice. When I hover my mouse on the imports, I&#39;m getting the following message &quot;Note: This element neither has attached source nor attached Javadoc and hence no Javadoc could be found&quot;"},{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":1,"creation_date":1667335522,"post_id":74281255,"comment_id":131142523,"body_markdown":"Can you import the class `LoggerFactory` directly in your code without getting compilation errors?  If so, then your issue is only at runtime - how are you running your code and what is the CLASSPATH variable?\nIf you do get compilation errors, then the problem is likely the jar file itself.  I would redownload it and import it into eclipse again","body":"Can you import the class <code>LoggerFactory</code> directly in your code without getting compilation errors?  If so, then your issue is only at runtime - how are you running your code and what is the CLASSPATH variable? If you do get compilation errors, then the problem is likely the jar file itself.  I would redownload it and import it into eclipse again"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":2,"creation_date":1667336774,"post_id":74281255,"comment_id":131142867,"body_markdown":"You may have added them to your &quot;Build Path&quot; in eclipse (which is why you can compile) but they must be on your &quot;Class Path&quot; at run time.  Look for the `.classPath` file in your project root.  Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there.   To save yourself trouble in the future, use a dependency manager like Maven or Gradle that does this stuff for you automagically!","body":"You may have added them to your &quot;Build Path&quot; in eclipse (which is why you can compile) but they must be on your &quot;Class Path&quot; at run time.  Look for the <code>.classPath</code> file in your project root.  Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there.   To save yourself trouble in the future, use a dependency manager like Maven or Gradle that does this stuff for you automagically!"},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667340271,"post_id":74281255,"comment_id":131143734,"body_markdown":"You were both right! The problem was in the classpath, it was completely empty! Now I added the dependencies in the classpath and now it seems that is working","body":"You were both right! The problem was in the classpath, it was completely empty! Now I added the dependencies in the classpath and now it seems that is working"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1667343657,"post_id":74281255,"comment_id":131144348,"body_markdown":"@HansRicardoDavilaAcu&#241;a Eclipse can sometimes be picky that way.  Do yourself a favor and set up your project using Maven.  (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff.  (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over.","body":"@HansRicardoDavilaAcu&#241;a Eclipse can sometimes be picky that way.  Do yourself a favor and set up your project using Maven.  (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff.  (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over."},{"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"score":0,"creation_date":1667365860,"post_id":74281255,"comment_id":131147580,"body_markdown":"@DanielWiddis I did a test in gradle with Intellij IDEA and it was very easy to get Oshi dependencies running. Anyway I&#39;ll also try maven because it seems like the way to go.","body":"@DanielWiddis I did a test in gradle with Intellij IDEA and it was very easy to get Oshi dependencies running. Anyway I&#39;ll also try maven because it seems like the way to go."}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667394922,"creation_date":1667394922,"answer_id":74289791,"question_id":74281255,"body_markdown":"The issue here is the classpath.  The dependencies are added to your build path which allows your code to compile but not to your classpath which is where you need them for your code to run.\r\n\r\nAs Daniel said\r\n\r\n&gt; Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there\r\n\r\nAlso Daniel&#39;s suggestion\r\n\r\n&gt;  Do yourself a favor and set up your project using Maven. (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff. (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over\r\n\r\nis very apt","title":"ClassNotFoundException for dependencies on java project in Eclipse","body":"<p>The issue here is the classpath.  The dependencies are added to your build path which allows your code to compile but not to your classpath which is where you need them for your code to run.</p>\n<p>As Daniel said</p>\n<blockquote>\n<p>Go to the &quot;Run Configurations&quot; dialog (Run -&gt; Run Configurations) for the class you are executing and click on &quot;Dependencies&quot; there</p>\n</blockquote>\n<p>Also Daniel's suggestion</p>\n<blockquote>\n<p>Do yourself a favor and set up your project using Maven. (Configure --&gt; add Maven nature.). You can add dependencies in your pom.xml file and Eclipse/Maven takes care of all the classpath stuff. (You would only need to add the oshi dependency, and its own pom tells Maven what other dependencies to get.). Your future self will thank you a million times over</p>\n</blockquote>\n<p>is very apt</p>\n"}],"owner":{"account_id":26782713,"reputation":11,"user_id":20377855,"display_name":"Hans Ricardo Davila Acu&#241;a"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667394922,"creation_date":1667333177,"question_id":74281255,"body_markdown":"I want to get my PC specs with a java program. I&#39;m trying to make use of Oshi library to get this done but I am having problems implementing the dependencies on my project\r\n\r\nI want to simply run this\r\n\r\n\r\n```java\r\nSystemInfo systemInfo = new SystemInfo();\r\nHardwareAbstractionLayer hardware = systemInfo.getHardware();\r\nCentralProcessor processor = hardware.getProcessor();\r\n\r\nSystem.out.println(processor.toString());\r\n```\r\n\r\nbut I&#39;m getting this error:\r\n[![enter image description here](https://i.stack.imgur.com/N4Bkl.png)](https://i.stack.imgur.com/N4Bkl.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have added these dependencies from this link: https://search.maven.org/artifact/com.github.oshi/oshi-core/6.3.1/jar\r\n\r\n\r\nHere is a picture of the Project Explorer\r\n[Project Explorer][1]\r\n\r\nI&#39;m pretty sure that I&#39;m doing something wrong with the dependencies, maybe I am not getting the proper dependencies but I want to know what is happening or exactly which jars I need to add to get Oshi running on my java project\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lm7gS.png\r\n  [2]: https://i.stack.imgur.com/VOHBK.png","title":"ClassNotFoundException for dependencies on java project in Eclipse","body":"<p>I want to get my PC specs with a java program. I'm trying to make use of Oshi library to get this done but I am having problems implementing the dependencies on my project</p>\n<p>I want to simply run this</p>\n<pre class=\"lang-java prettyprint-override\"><code>SystemInfo systemInfo = new SystemInfo();\nHardwareAbstractionLayer hardware = systemInfo.getHardware();\nCentralProcessor processor = hardware.getProcessor();\n\nSystem.out.println(processor.toString());\n</code></pre>\n<p>but I'm getting this error:\n<a href=\"https://i.stack.imgur.com/N4Bkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N4Bkl.png\" alt=\"enter image description here\" /></a></p>\n<p>I have added these dependencies from this link: <a href=\"https://search.maven.org/artifact/com.github.oshi/oshi-core/6.3.1/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.github.oshi/oshi-core/6.3.1/jar</a></p>\n<p>Here is a picture of the Project Explorer\n<a href=\"https://i.stack.imgur.com/lm7gS.png\" rel=\"nofollow noreferrer\">Project Explorer</a></p>\n<p>I'm pretty sure that I'm doing something wrong with the dependencies, maybe I am not getting the proper dependencies but I want to know what is happening or exactly which jars I need to add to get Oshi running on my java project</p>\n"},{"tags":["java","git","eclipse","ssh","egit"],"comments":[{"owner":{"account_id":2837108,"reputation":27359,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":2,"creation_date":1667321042,"post_id":74278792,"comment_id":131138072,"body_markdown":"Do you have git installed in the server?... and if it is, is it properly configured so that it is reachable through the `$PATH`?","body":"Do you have git installed in the server?... and if it is, is it properly configured so that it is reachable through the <code>$PATH</code>?"},{"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"score":0,"creation_date":1667335693,"post_id":74278792,"comment_id":131142565,"body_markdown":"Yes, I installed git on the server and used the Git CLI to initiate the bare repository.\n\nBy &quot;reachable through the $Path&quot; I am assuming you are asking if the environment variable is set? I have both &quot;C:\\Program Files\\Git\\cmd&quot; and &quot;C:\\Program Files\\Git\\bin\\&quot; in the server&#39;s Path environment variable.","body":"Yes, I installed git on the server and used the Git CLI to initiate the bare repository.  By &quot;reachable through the $Path&quot; I am assuming you are asking if the environment variable is set? I have both &quot;C:\\Program Files\\Git\\cmd&quot; and &quot;C:\\Program Files\\Git\\bin\\&quot; in the server&#39;s Path environment variable."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667382600,"post_id":74278792,"comment_id":131151964,"body_markdown":"The error message (`&#39;git-upload-pack&#39; is not recognized...`) indicates a faulty installation, such that the command interpreter on the destination system can&#39;t find the installed Git. Whether that means that Git is installed in the *wrong place*, or whether it means that the ssh *server* is misconfigured, depends on how you want the server to work. I don&#39;t set up Windows servers (ever: I avoid Windows as much as I can) so I can&#39;t go past this sort of general comment, though.","body":"The error message (<code>&#39;git-upload-pack&#39; is not recognized...</code>) indicates a faulty installation, such that the command interpreter on the destination system can&#39;t find the installed Git. Whether that means that Git is installed in the <i>wrong place</i>, or whether it means that the ssh <i>server</i> is misconfigured, depends on how you want the server to work. I don&#39;t set up Windows servers (ever: I avoid Windows as much as I can) so I can&#39;t go past this sort of general comment, though."},{"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"score":0,"creation_date":1667391772,"post_id":74278792,"comment_id":131155113,"body_markdown":"@torek If I ssh to the server from my PC&#39;s command line and then type in &quot;git&quot; I receive the list of available commands. Doing the same directly on my PC&#39;s command line and on the server&#39;s command line produces the same result.","body":"@torek If I ssh to the server from my PC&#39;s command line and then type in &quot;git&quot; I receive the list of available commands. Doing the same directly on my PC&#39;s command line and on the server&#39;s command line produces the same result."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667391942,"post_id":74278792,"comment_id":131155172,"body_markdown":"But if you ssh in *as Git*, what happens? If you ssh in as yourself, presumably you get your own path setup. (This smells like a Windows registry issue to me, but again, I don&#39;t &quot;do&quot; Windows.)","body":"But if you ssh in <i>as Git</i>, what happens? If you ssh in as yourself, presumably you get your own path setup. (This smells like a Windows registry issue to me, but again, I don&#39;t &quot;do&quot; Windows.)"},{"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"score":0,"creation_date":1667393692,"post_id":74278792,"comment_id":131155756,"body_markdown":"@torek Was I supposed to setup a Git user? Sorry, I&#39;m completely new to this. In my example URI in eclipse, the user I used was my domain user, so I figured it would be doing things as my account.","body":"@torek Was I supposed to setup a Git user? Sorry, I&#39;m completely new to this. In my example URI in eclipse, the user I used was my domain user, so I figured it would be doing things as my account."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667395748,"post_id":74278792,"comment_id":131156584,"body_markdown":"Depends on the desired setup. But: if you&#39;re planning to log in as yourself, and `git-upload-pack` isn&#39;t being found but `git` is, this just means that your personal setup doesn&#39;t have the `git-upload-pack` program in its path. There was some confusion, briefly, at one point as to whether this was supposed to be `git upload-pack` or `git-upload-pack` but it should be installed under `git-upload-pack` in the same place as the `git` binary.","body":"Depends on the desired setup. But: if you&#39;re planning to log in as yourself, and <code>git-upload-pack</code> isn&#39;t being found but <code>git</code> is, this just means that your personal setup doesn&#39;t have the <code>git-upload-pack</code> program in its path. There was some confusion, briefly, at one point as to whether this was supposed to be <code>git upload-pack</code> or <code>git-upload-pack</code> but it should be installed under <code>git-upload-pack</code> in the same place as the <code>git</code> binary."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667395885,"post_id":74278792,"comment_id":131156647,"body_markdown":"Note that `git foo` actually invokes `git-foo` &quot;under the covers&quot;, as it were, so in general there&#39;s a hyphen variety of each command installed *somewhere*. But most of them are in the (separate) `git --exec-path` location. The confusion over the hyphenated `git-upload-pack` was whether all shell users would be able to find the command if it were spelled without the hyphen (and the answer is &quot;no&quot;, so `git-upload-pack` has to continue to exist in the same place as `git`).","body":"Note that <code>git foo</code> actually invokes <code>git-foo</code> &quot;under the covers&quot;, as it were, so in general there&#39;s a hyphen variety of each command installed <i>somewhere</i>. But most of them are in the (separate) <code>git --exec-path</code> location. The confusion over the hyphenated <code>git-upload-pack</code> was whether all shell users would be able to find the command if it were spelled without the hyphen (and the answer is &quot;no&quot;, so <code>git-upload-pack</code> has to continue to exist in the same place as <code>git</code>)."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1667396016,"post_id":74278792,"comment_id":131156694,"body_markdown":"Windows might be different here, but note that on a Unix-ish system, `ssh host` to get an interactive shell, followed by running `program`, can often be different from `ssh host program`: the former invokes a *non-interactive* shell on the given host and that non-interactive shell may (e.g.) read `.profile` but not `.bashrc`, while the interactive one might read both. The details depend on the user&#39;s shell, and potentially more.","body":"Windows might be different here, but note that on a Unix-ish system, <code>ssh host</code> to get an interactive shell, followed by running <code>program</code>, can often be different from <code>ssh host program</code>: the former invokes a <i>non-interactive</i> shell on the given host and that non-interactive shell may (e.g.) read <code>.profile</code> but not <code>.bashrc</code>, while the interactive one might read both. The details depend on the user&#39;s shell, and potentially more."}],"owner":{"account_id":26797260,"reputation":1,"user_id":20389806,"display_name":"mckdev"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667394598,"creation_date":1667319389,"question_id":74278792,"body_markdown":"I am new to git, and version control in general, and am trying to implement it for my team of three developers. We are the only developers for our agency.\r\n\r\nI am trying to make the setup as simple as possible to just get the ball rolling. My plan is that we will use EGIT in Eclipse (Spring Tool Suite), with each person running off a local repository for developing and then pushing to a remote repository on a Windows share. I was planning to use SSH to facilitate push/pull between our work PCs and the Server so that I do not have to do any site setup and it seemed easiest while still having authentication.\r\n\r\nI have added EGit to Eclipse on my work PC and followed the process to getting a project shared and having the initial commit on my local repository.\r\n\r\nI installed OpenSSH on my Windows 2012R2 server, installed Git on it, and initiated a bare repository inside a folder in the share I wish to use as the remote repository.\r\n\r\nHere is my remote repository setup in Eclipse:\r\n```\r\nURI: ssh://domain\\user@server:22/share/git/repositories\r\nHost: server\r\nRepository path: share/git/repositories\r\nProtocol: ssh\r\nPort: 22\r\nAuthentication: currently using username and password, will eventually switch to SSH key once I get things working\r\n```\r\n\r\n\r\nWhen I try to run the preview I get the following error:\r\n\r\n```\r\n&quot;Transport Error: Cannot get remote repository refs. &#39;ssh://domain\\user@server:22/share/git/repositories&quot;: &#39;git-upload-pack&#39; is not recognized as an internal or external command, operable program or batch file.&quot;\r\n```\r\n\r\nI&#39;d appreciate help and recommendations to getting things going in a basic setup.\r\n\r\nThanks","title":"Setup Eclipse EGit to Push to Windows Share Over SSH","body":"<p>I am new to git, and version control in general, and am trying to implement it for my team of three developers. We are the only developers for our agency.</p>\n<p>I am trying to make the setup as simple as possible to just get the ball rolling. My plan is that we will use EGIT in Eclipse (Spring Tool Suite), with each person running off a local repository for developing and then pushing to a remote repository on a Windows share. I was planning to use SSH to facilitate push/pull between our work PCs and the Server so that I do not have to do any site setup and it seemed easiest while still having authentication.</p>\n<p>I have added EGit to Eclipse on my work PC and followed the process to getting a project shared and having the initial commit on my local repository.</p>\n<p>I installed OpenSSH on my Windows 2012R2 server, installed Git on it, and initiated a bare repository inside a folder in the share I wish to use as the remote repository.</p>\n<p>Here is my remote repository setup in Eclipse:</p>\n<pre><code>URI: ssh://domain\\user@server:22/share/git/repositories\nHost: server\nRepository path: share/git/repositories\nProtocol: ssh\nPort: 22\nAuthentication: currently using username and password, will eventually switch to SSH key once I get things working\n</code></pre>\n<p>When I try to run the preview I get the following error:</p>\n<pre><code>&quot;Transport Error: Cannot get remote repository refs. 'ssh://domain\\user@server:22/share/git/repositories&quot;: 'git-upload-pack' is not recognized as an internal or external command, operable program or batch file.&quot;\n</code></pre>\n<p>I'd appreciate help and recommendations to getting things going in a basic setup.</p>\n<p>Thanks</p>\n"},{"tags":["java","checksum"],"comments":[{"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"score":0,"creation_date":1667385841,"post_id":74284957,"comment_id":131153183,"body_markdown":"now check the question","body":"now check the question"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1667392507,"post_id":74284957,"comment_id":131155368,"body_markdown":"OK now it makes more sense. Do you have any hints about what kind of checksum it could be? Whatever it is, it shouldn&#39;t be a crc32, since those are not 8bit and using 8 bits from a crc32 makes very little sense. I expected it to be either a simple sums of the bytes, or the XOR (these are common for 8 bit checksums), but they didn&#39;t give me 5B. It&#39;s not clear which subset of the bytes is supposed to checksummed either, maybe all of it? Or skip header? Only payload?","body":"OK now it makes more sense. Do you have any hints about what kind of checksum it could be? Whatever it is, it shouldn&#39;t be a crc32, since those are not 8bit and using 8 bits from a crc32 makes very little sense. I expected it to be either a simple sums of the bytes, or the XOR (these are common for 8 bit checksums), but they didn&#39;t give me 5B. It&#39;s not clear which subset of the bytes is supposed to checksummed either, maybe all of it? Or skip header? Only payload?"},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1667396992,"post_id":74284957,"comment_id":131157128,"body_markdown":"Without knowing which protocol is involved, it is probably not possible to calculate the checksum. How to convert a hex-decimal string into a byte array with Java looks like a secondary problem. (Which there are several SO questions and answers)","body":"Without knowing which protocol is involved, it is probably not possible to calculate the checksum. How to convert a hex-decimal string into a byte array with Java looks like a secondary problem. (Which there are several SO questions and answers)"}],"answers":[{"comments":[{"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"score":0,"creation_date":1667387159,"post_id":74288063,"comment_id":131153634,"body_markdown":"But I&#39;m getting long value in return how to get 5B .The returned value is 2323826891","body":"But I&#39;m getting long value in return how to get 5B .The returned value is 2323826891"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667387780,"post_id":74288063,"comment_id":131153853,"body_markdown":"CRC32 should return a 32 bits value, an `int` (2323826891 is). It might be that the bytes actually are a `short[]` with the wrong endianness (least and most significant bytes reversed). As the original string is 116 bytes (= 2 * 58) long.","body":"CRC32 should return a 32 bits value, an <code>int</code> (2323826891 is). It might be that the bytes actually are a <code>short[]</code> with the wrong endianness (least and most significant bytes reversed). As the original string is 116 bytes (= 2 * 58) long."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667387999,"post_id":74288063,"comment_id":131153922,"body_markdown":"The reason for my &quot;short&quot; guess stems from values like &quot;0023&quot;. You could swap pairs of bytes. But then a bit of more intelligent research would be better.","body":"The reason for my &quot;short&quot; guess stems from values like &quot;0023&quot;. You could swap pairs of bytes. But then a bit of more intelligent research would be better."},{"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"score":0,"creation_date":1667388074,"post_id":74288063,"comment_id":131153943,"body_markdown":"can yo send the actual working code please how to get 5B  as a checksum for the mentioned hexadecimal","body":"can yo send the actual working code please how to get 5B  as a checksum for the mentioned hexadecimal"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667394533,"creation_date":1667386551,"answer_id":74288063,"question_id":74284957,"body_markdown":"The problem is that the `value` seems to be a hexadecimal representation of bytes, 2 characters forming one byte value in base 16; &quot;5A&quot; = (byte) 170. To get those bytes:\r\n\r\n    byte[] bytes = new BigInteger(value, 16).toByteArray();\r\n\r\nNote that this hacky conversion requires that the value does not start with &quot;00&quot;.\r\n\r\nAs I believe that checksums of two arrays where one has preceeding zeroes are different:\r\n\r\n    int zeroes = 58 - bytes.length;\r\n    if (zeroes &gt; 0) {\r\n        byte[] bytes2 = new byte[58];\r\n        System.arraycopy(bytes, 0, bytes2, zeroes, bytes.length);\r\n        bytes = bytes2;\r\n    }\r\n\r\n----------------------------------\r\n***After comment, some further research:***\r\n\r\nHex conversion best done with:\r\n\r\n        final int N = value.length() / 2;\r\n        byte[] bytes = new byte[N];\r\n        for (int i = 0; i &lt; N; ++i) {\r\n            bytes[i] = (byte)Integer.parseInt(value.substring(i*2, i*2 + 2), 16);\r\n        }\r\n\r\nI tried CRC8 as that would give an 8 bit result. Did not work.\r\nShort endianness (endian byte order) also did not work.\r\n\r\nThe CRC32 gives 0x8a82c8cb which cannot easily be converted to 0x5b\r\n\r\nThat the checksum is a single byte value is hard to believe. Hence my conjecture for CRC8.\r\n\r\nSometimes precalculated CRC32 tables are used, and those may vary.\r\n\r\n**No solution here!**","title":"How to find 58 bytes of hexa checksum in java","body":"<p>The problem is that the <code>value</code> seems to be a hexadecimal representation of bytes, 2 characters forming one byte value in base 16; &quot;5A&quot; = (byte) 170. To get those bytes:</p>\n<pre><code>byte[] bytes = new BigInteger(value, 16).toByteArray();\n</code></pre>\n<p>Note that this hacky conversion requires that the value does not start with &quot;00&quot;.</p>\n<p>As I believe that checksums of two arrays where one has preceeding zeroes are different:</p>\n<pre><code>int zeroes = 58 - bytes.length;\nif (zeroes &gt; 0) {\n    byte[] bytes2 = new byte[58];\n    System.arraycopy(bytes, 0, bytes2, zeroes, bytes.length);\n    bytes = bytes2;\n}\n</code></pre>\n<hr />\n<p><em><strong>After comment, some further research:</strong></em></p>\n<p>Hex conversion best done with:</p>\n<pre><code>    final int N = value.length() / 2;\n    byte[] bytes = new byte[N];\n    for (int i = 0; i &lt; N; ++i) {\n        bytes[i] = (byte)Integer.parseInt(value.substring(i*2, i*2 + 2), 16);\n    }\n</code></pre>\n<p>I tried CRC8 as that would give an 8 bit result. Did not work.\nShort endianness (endian byte order) also did not work.</p>\n<p>The CRC32 gives 0x8a82c8cb which cannot easily be converted to 0x5b</p>\n<p>That the checksum is a single byte value is hard to believe. Hence my conjecture for CRC8.</p>\n<p>Sometimes precalculated CRC32 tables are used, and those may vary.</p>\n<p><strong>No solution here!</strong></p>\n"}],"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667394533,"creation_date":1667369017,"question_id":74284957,"body_markdown":"I want to know how to find  Hexa checksum using java code\r\n\r\n`5AA50000000100000001000100020003000400050006000700080009001000110012001300140015001600170018001900200021002200230024`\r\n\r\n​\r\n\r\n\r\nI tried using checksum interface it returns a long value\r\n\r\n\r\n```\r\nbyte[] bytes=value.getBytes();\r\nChecksum cs = new CRC32();\r\n       \r\n   cs.update(bytes, 0, bytes.length);\r\n  System.out.println(cs.getValue()+&quot;check sum&quot;);\r\n```\r\n\r\n​\r\nHeader(10)\tStart Byte(2)\tSource Addr(4)\tDestination Addr(4)\r\nPayload (48)\tData1 - Data24\r\nChecksum(1)\tLeast 8bit of 58Byte Sum Value\r\nEndByte(1)\t0x20\r\n\r\n\r\nhow to achieve 5B as a checksum","title":"How to find 58 bytes of hexa checksum in java","body":"<p>I want to know how to find  Hexa checksum using java code</p>\n<p><code>5AA50000000100000001000100020003000400050006000700080009001000110012001300140015001600170018001900200021002200230024</code></p>\n<p>​</p>\n<p>I tried using checksum interface it returns a long value</p>\n<pre><code>byte[] bytes=value.getBytes();\nChecksum cs = new CRC32();\n       \n   cs.update(bytes, 0, bytes.length);\n  System.out.println(cs.getValue()+&quot;check sum&quot;);\n</code></pre>\n<p>​\nHeader(10)  Start Byte(2)   Source Addr(4)  Destination Addr(4)\nPayload (48)    Data1 - Data24\nChecksum(1) Least 8bit of 58Byte Sum Value\nEndByte(1)  0x20</p>\n<p>how to achieve 5B as a checksum</p>\n"},{"tags":["java","rest","http","device"],"comments":[{"owner":{"account_id":5156185,"reputation":401,"user_id":4129371,"display_name":"Fawkes"},"score":0,"creation_date":1667286812,"post_id":74272477,"comment_id":131127175,"body_markdown":"Taking an optional parameter is the better option.","body":"Taking an optional parameter is the better option."},{"owner":{"account_id":3273747,"reputation":20853,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1667316898,"post_id":74272477,"comment_id":131136562,"body_markdown":"I&#39;m voting to close this question since it is asking multiple questions and both are matters of opinion and thus off-topic.","body":"I&#39;m voting to close this question since it is asking multiple questions and both are matters of opinion and thus off-topic."},{"owner":{"account_id":14210239,"reputation":83,"user_id":10265682,"display_name":"Heisenberg"},"score":0,"creation_date":1667392383,"post_id":74272477,"comment_id":131155320,"body_markdown":"Aren&#39;t software design patterns based on opinion? Aren&#39;t many of the best practices of REST?\n\nI know the policy here at stack overflow, but I don&#39;t get why asking for best practices from others from the industry is not allowed.\n\nThanks for all who replied.","body":"Aren&#39;t software design patterns based on opinion? Aren&#39;t many of the best practices of REST?  I know the policy here at stack overflow, but I don&#39;t get why asking for best practices from others from the industry is not allowed.  Thanks for all who replied."}],"answers":[{"comments":[{"owner":{"account_id":14210239,"reputation":83,"user_id":10265682,"display_name":"Heisenberg"},"score":0,"creation_date":1667392576,"post_id":74276937,"comment_id":131155398,"body_markdown":"Thanks for the suggestion!\nI am well aware of the consequences of badly written client that doesn&#39;t ignore the additional fields.\nI will seek the feedback from our clients before implementing this.","body":"Thanks for the suggestion! I am well aware of the consequences of badly written client that doesn&#39;t ignore the additional fields. I will seek the feedback from our clients before implementing this."}],"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667394468,"creation_date":1667310500,"answer_id":74276937,"question_id":74272477,"body_markdown":"Normally I would just return the following JSON:\r\n\r\n    {\r\n      &quot;device_type&quot;: &quot;ABC&quot;,\r\n      &quot;device_name&quot;: &quot;XYZ&quot;,\r\n      ...\r\n      &quot;status&quot;: &quot;operational&quot;\r\n    }\r\n\r\nIf the clients are badly written, then this might break them. If this is a problem, then add a new endpoint:\r\n\r\n    GET /device/{device_name}?verbose=true\r\n    GET /device/{device_name}/status\r\n    GET /device/{device_name}/with-status\r\n    GET /device/{device_name}?with-status=true\r\n\r\nAnother option is versioning the API and do\r\n\r\n\r\n    GET api/v1/device/{device_name}\r\n    GET api/v2/device/{device_name}\r\n\r\nI would not use header for this.","title":"Need suggestion in deciding the type of the parameter(query/header) in an existing REST API","body":"<p>Normally I would just return the following JSON:</p>\n<pre><code>{\n  &quot;device_type&quot;: &quot;ABC&quot;,\n  &quot;device_name&quot;: &quot;XYZ&quot;,\n  ...\n  &quot;status&quot;: &quot;operational&quot;\n}\n</code></pre>\n<p>If the clients are badly written, then this might break them. If this is a problem, then add a new endpoint:</p>\n<pre><code>GET /device/{device_name}?verbose=true\nGET /device/{device_name}/status\nGET /device/{device_name}/with-status\nGET /device/{device_name}?with-status=true\n</code></pre>\n<p>Another option is versioning the API and do</p>\n<pre><code>GET api/v1/device/{device_name}\nGET api/v2/device/{device_name}\n</code></pre>\n<p>I would not use header for this.</p>\n"}],"owner":{"account_id":14210239,"reputation":83,"user_id":10265682,"display_name":"Heisenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667331761,"accepted_answer_id":74276937,"answer_count":1,"score":-2,"last_activity_date":1667394468,"creation_date":1667285758,"question_id":74272477,"body_markdown":"We have a REST GET endpoint that returns device details. Something like this.\r\n\r\n    GET /device/{device_name}\r\n\r\n**Response:**\r\n\r\n    {\r\n      &quot;device_type&quot;: &quot;ABC&quot;,\r\n      &quot;device_name&quot;: &quot;XYZ&quot;,\r\n      ...\r\n    }\r\n\r\n**Requirement**\r\n\r\nThere is a requirement to send back the device status as well. We need to do that without breaking existing contract.\r\n\r\n**My Solution**\r\n\r\nWe will take an additional optional parameter to initiate the device status check and the status will be returned in the response. This will be completely optional field so won&#39;t break the existing contract.\r\n\r\n**My Dilemma**\r\n\r\nSince query parameter is generally used to filter the response, I am inclined to take this parameter in the request header.\r\n\r\n**I need your inputs in** \r\n\r\nSuggesting whether this should be a query or header parameter.\r\n\r\n**Thanks in advance!**\r\n\r\n**Update**\r\n\r\nI have decided to use query parameter, because my need resembles to sort of filtering the attributes of the resource based on optional parameter.\r\n\r\nSomething like this:\r\n\r\n    GET /device/{device_name}?status=true\r\n\r\n","title":"Need suggestion in deciding the type of the parameter(query/header) in an existing REST API","body":"<p>We have a REST GET endpoint that returns device details. Something like this.</p>\n<pre><code>GET /device/{device_name}\n</code></pre>\n<p><strong>Response:</strong></p>\n<pre><code>{\n  &quot;device_type&quot;: &quot;ABC&quot;,\n  &quot;device_name&quot;: &quot;XYZ&quot;,\n  ...\n}\n</code></pre>\n<p><strong>Requirement</strong></p>\n<p>There is a requirement to send back the device status as well. We need to do that without breaking existing contract.</p>\n<p><strong>My Solution</strong></p>\n<p>We will take an additional optional parameter to initiate the device status check and the status will be returned in the response. This will be completely optional field so won't break the existing contract.</p>\n<p><strong>My Dilemma</strong></p>\n<p>Since query parameter is generally used to filter the response, I am inclined to take this parameter in the request header.</p>\n<p><strong>I need your inputs in</strong></p>\n<p>Suggesting whether this should be a query or header parameter.</p>\n<p><strong>Thanks in advance!</strong></p>\n<p><strong>Update</strong></p>\n<p>I have decided to use query parameter, because my need resembles to sort of filtering the attributes of the resource based on optional parameter.</p>\n<p>Something like this:</p>\n<pre><code>GET /device/{device_name}?status=true\n</code></pre>\n"},{"tags":["java","spring","multithreading","redis"],"answers":[{"tags":[],"owner":{"account_id":11147855,"reputation":121,"user_id":8182038,"display_name":"Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1499835735,"creation_date":1499835735,"answer_id":45048793,"question_id":44626474,"body_markdown":"We have been able to reproduce the issue and the cause is &quot;timeout=30&quot; setting in Redis.\r\nScenario\r\n-\r\n 1. Connection is idle for 30seconds and Redis kills the same. \r\n 2. Before &quot;Redis connection factory&quot; in application detects the broken\r\n    connection, it gets allocation for read or write request \r\n 3. Code\r\n    tries to use this connection but as it is broken, it is unable to\r\n    send command for read/write. Thus we get &quot;JedisConnectionException:\r\n    Unexpected end of stream&quot; exception\r\n\r\nSolution\r\n-\r\n 1. set Redis timeout to Zero \r\n 2. Using custom JedisPoolConfig set\r\n    the minEvictableIdleTimeMillis to desired value. This will ensure\r\n    idle connections are released from Jedis connection pool\r\n\r\n","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>We have been able to reproduce the issue and the cause is \"timeout=30\" setting in Redis.</p>\n\n<h2>Scenario</h2>\n\n<ol>\n<li>Connection is idle for 30seconds and Redis kills the same. </li>\n<li>Before \"Redis connection factory\" in application detects the broken\nconnection, it gets allocation for read or write request </li>\n<li>Code\ntries to use this connection but as it is broken, it is unable to\nsend command for read/write. Thus we get \"JedisConnectionException:\nUnexpected end of stream\" exception</li>\n</ol>\n\n<h2>Solution</h2>\n\n<ol>\n<li>set Redis timeout to Zero </li>\n<li>Using custom JedisPoolConfig set\nthe minEvictableIdleTimeMillis to desired value. This will ensure\nidle connections are released from Jedis connection pool</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2803,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620318354,"creation_date":1620318354,"answer_id":67422252,"question_id":44626474,"body_markdown":"For those guys, who runs redis in docker: do not forget to bind it to `0.0.0.0` instead of `127.0.0.1`","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>For those guys, who runs redis in docker: do not forget to bind it to <code>0.0.0.0</code> instead of <code>127.0.0.1</code></p>\n"},{"tags":[],"owner":{"account_id":6529983,"reputation":108,"user_id":5051422,"display_name":"Murali Krishnamraju"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667394292,"creation_date":1667394292,"answer_id":74289646,"question_id":44626474,"body_markdown":"I&#39;m posting this answer just for the purpose of knowledge as this is one of the possible scenario\r\n\r\nSince you are using Pub Sub mechanism, one of the possible reason for this error is that input/output buffer of the application is more than the configured limit of the redis application\r\n\r\n\r\nRedis has the hard limit of the 32mb and soft limit of 8mb for 60 seconds as per the redis [documentation][1]. So by changing the configuration we can get large throughput of data in redis pub sub mechanism.\r\n\r\nYou just have to update the configuraiton value of the below key\r\n\r\n&gt; client-output-buffer-limit pubsub\r\n\r\nto a larger value. \r\n\r\n\r\n  [1]: https://redis.io/docs/reference/clients/#:~:text=Pub%2FSub%20clients%20have%20a,64%20megabyte%20per%2060%20seconds.","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>I'm posting this answer just for the purpose of knowledge as this is one of the possible scenario</p>\n<p>Since you are using Pub Sub mechanism, one of the possible reason for this error is that input/output buffer of the application is more than the configured limit of the redis application</p>\n<p>Redis has the hard limit of the 32mb and soft limit of 8mb for 60 seconds as per the redis <a href=\"https://redis.io/docs/reference/clients/#:%7E:text=Pub%2FSub%20clients%20have%20a,64%20megabyte%20per%2060%20seconds.\" rel=\"nofollow noreferrer\">documentation</a>. So by changing the configuration we can get large throughput of data in redis pub sub mechanism.</p>\n<p>You just have to update the configuraiton value of the below key</p>\n<blockquote>\n<p>client-output-buffer-limit pubsub</p>\n</blockquote>\n<p>to a larger value.</p>\n"}],"owner":{"account_id":11147855,"reputation":121,"user_id":8182038,"display_name":"Mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10862,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45048793,"answer_count":3,"score":5,"last_activity_date":1667394292,"creation_date":1497863508,"question_id":44626474,"body_markdown":"Redis 3.0.5  \r\nSpring Data Redis 1.3.6  \r\njedis 2.6.3  \r\n- Our is web application which receives data from redis over pub/sub.  \r\n- Also performs read/write of data on redis as key/value pairs.  \r\n- read/write happens on listener thread, independent monitoring thread and http request threads.  \r\n- We have used a same connection factory for Listener and redis template  \r\n- Our redis server has &quot;timeout=30&quot; configured\r\n\r\n    &lt;bean id=&quot;jedisConnectionFactory&quot;\r\n    \tclass=&quot;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&quot;&gt;\r\n    \t&lt;property name=&quot;hostName&quot; value=&quot;nnnn&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;port&quot; value=&quot;nnnn&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;****&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisTemplate&quot; class=&quot;org.springframework.data.redis.core.StringRedisTemplate&quot;&gt;\r\n    \t&lt;property name=&quot;connectionFactory&quot; ref=&quot;jedisConnectionFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisContainer&quot;\r\n    \tclass=&quot;org.springframework.data.redis.listener.RedisMessageListenerContainer&quot;&gt;\r\n    \t&lt;property name=&quot;connectionFactory&quot; ref=&quot;jedisConnectionFactory&quot; /&gt;\r\n    \t&lt;property name=&quot;messageListeners&quot;&gt;\r\n    \t\t&lt;map&gt;\r\n    \t\t\t&lt;entry key-ref=&quot;messageListener&quot;&gt;\r\n    \t\t\t\t&lt;bean class=&quot;org.springframework.data.redis.listener.ChannelTopic&quot;&gt;\r\n    \t\t\t\t\t&lt;constructor-arg value=&quot;topic_name&quot; /&gt;\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/entry&gt;\r\n    \t\t&lt;/map&gt;\r\n    \t&lt;/property&gt;\r\n    \t&lt;property name=&quot;taskExecutor&quot; ref=&quot;redisTaskExecutor&quot; /&gt;\r\n    \t&lt;property name=&quot;subscriptionExecutor&quot; ref=&quot;redisSubTaskExecutor&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisTaskExecutor&quot;\r\n    \tclass=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\r\n    \t&lt;property name=&quot;threadNamePrefix&quot; value=&quot;RedisListenerThread&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;corePoolSize&quot; value=&quot;1&quot; /&gt;\r\n    \t&lt;property name=&quot;maxPoolSize&quot; value=&quot;1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;redisSubTaskExecutor&quot;\r\n    \tclass=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt;\r\n    \t&lt;property name=&quot;threadNamePrefix&quot; value=&quot;RedisSubscribeThread&quot;&gt;&lt;/property&gt;\r\n    \t&lt;property name=&quot;corePoolSize&quot; value=&quot;1&quot; /&gt;\r\n    \t&lt;property name=&quot;maxPoolSize&quot; value=&quot;1&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;messageListener&quot;\r\n    \tclass=&quot;org.springframework.data.redis.listener.adapter.MessageListenerAdapter&quot;&gt;\r\n    \t&lt;constructor-arg index=&quot;0&quot;&gt;\r\n    \t\t&lt;bean class=&quot;my.data.Receiver&quot; /&gt;\r\n    \t&lt;/constructor-arg&gt;\r\n    \t&lt;constructor-arg index=&quot;1&quot;&gt;&lt;value&gt;receive&lt;/value&gt;&lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\noccasionally we face below problem on production during data read.\r\n\r\n&gt; org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:47)\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:36)\r\n\tat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:37)\r\n\tat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:37)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:182)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.get(JedisConnection.java:1087)\r\n\tat org.springframework.data.redis.connection.DefaultStringRedisConnection.get(DefaultStringRedisConnection.java:276)\r\n\tat org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:46)\r\n\tat org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:50)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:190)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:152)\r\n\tat org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:84)\r\n\tat org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:43)\r\n\r\nI have read other threads talking of using single thread for read/write. But in our case it is difficult to use single thread. Also as per RedisTemplate documentation, it is thread safe.\r\nThe problem is occasional and we are unable to reproduce in any of dev/testing/uat environment. Thus unable to find exact cause of the same.\r\nWhat have we done wrong?\r\n","title":"Spring Data Redis JedisConnectionException: Unexpected end of stream","body":"<p>Redis 3.0.5<br>\nSpring Data Redis 1.3.6<br>\njedis 2.6.3<br>\n- Our is web application which receives data from redis over pub/sub.<br>\n- Also performs read/write of data on redis as key/value pairs.<br>\n- read/write happens on listener thread, independent monitoring thread and http request threads.<br>\n- We have used a same connection factory for Listener and redis template<br>\n- Our redis server has \"timeout=30\" configured</p>\n\n<pre><code>&lt;bean id=\"jedisConnectionFactory\"\n    class=\"org.springframework.data.redis.connection.jedis.JedisConnectionFactory\"&gt;\n    &lt;property name=\"hostName\" value=\"nnnn\"&gt;&lt;/property&gt;\n    &lt;property name=\"port\" value=\"nnnn\"&gt;&lt;/property&gt;\n    &lt;property name=\"password\" value=\"****\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisTemplate\" class=\"org.springframework.data.redis.core.StringRedisTemplate\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"jedisConnectionFactory\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisContainer\"\n    class=\"org.springframework.data.redis.listener.RedisMessageListenerContainer\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"jedisConnectionFactory\" /&gt;\n    &lt;property name=\"messageListeners\"&gt;\n        &lt;map&gt;\n            &lt;entry key-ref=\"messageListener\"&gt;\n                &lt;bean class=\"org.springframework.data.redis.listener.ChannelTopic\"&gt;\n                    &lt;constructor-arg value=\"topic_name\" /&gt;\n                &lt;/bean&gt;\n            &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n    &lt;property name=\"taskExecutor\" ref=\"redisTaskExecutor\" /&gt;\n    &lt;property name=\"subscriptionExecutor\" ref=\"redisSubTaskExecutor\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisTaskExecutor\"\n    class=\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\"&gt;\n    &lt;property name=\"threadNamePrefix\" value=\"RedisListenerThread\"&gt;&lt;/property&gt;\n    &lt;property name=\"corePoolSize\" value=\"1\" /&gt;\n    &lt;property name=\"maxPoolSize\" value=\"1\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"redisSubTaskExecutor\"\n    class=\"org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor\"&gt;\n    &lt;property name=\"threadNamePrefix\" value=\"RedisSubscribeThread\"&gt;&lt;/property&gt;\n    &lt;property name=\"corePoolSize\" value=\"1\" /&gt;\n    &lt;property name=\"maxPoolSize\" value=\"1\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"messageListener\"\n    class=\"org.springframework.data.redis.listener.adapter.MessageListenerAdapter\"&gt;\n    &lt;constructor-arg index=\"0\"&gt;\n        &lt;bean class=\"my.data.Receiver\" /&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg index=\"1\"&gt;&lt;value&gt;receive&lt;/value&gt;&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>occasionally we face below problem on production during data read.</p>\n\n<blockquote>\n  <p>org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\n      at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:47)\n      at org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:36)\n      at org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:37)\n      at org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:37)\n      at org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:182)\n      at org.springframework.data.redis.connection.jedis.JedisConnection.get(JedisConnection.java:1087)\n      at org.springframework.data.redis.connection.DefaultStringRedisConnection.get(DefaultStringRedisConnection.java:276)\n      at org.springframework.data.redis.core.DefaultValueOperations$1.inRedis(DefaultValueOperations.java:46)\n      at org.springframework.data.redis.core.AbstractOperations$ValueDeserializingRedisCallback.doInRedis(AbstractOperations.java:50)\n      at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:190)\n      at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:152)\n      at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:84)\n      at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:43)</p>\n</blockquote>\n\n<p>I have read other threads talking of using single thread for read/write. But in our case it is difficult to use single thread. Also as per RedisTemplate documentation, it is thread safe.\nThe problem is occasional and we are unable to reproduce in any of dev/testing/uat environment. Thus unable to find exact cause of the same.\nWhat have we done wrong?</p>\n"},{"tags":["java","sql","jdbi"],"answers":[{"comments":[{"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"score":0,"creation_date":1618942921,"post_id":48757814,"comment_id":118754260,"body_markdown":"I assumed all the queries in jndi are prepared statements and in which case how does using define cause sql injection if values not sanitized.","body":"I assumed all the queries in jndi are prepared statements and in which case how does using define cause sql injection if values not sanitized."}],"tags":[],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1519112806,"creation_date":1518482447,"answer_id":48757814,"question_id":41620956,"body_markdown":"I came across the same question and found the answer surprisingly difficult to find. A colleague tells me it was sort of just common knowledge a programming-generation ago, so maybe its documentation was forgotten as software evolved.\r\n\r\nIn fact, Oracle&#39;s [Binding and Defining](https://docs.oracle.com/cd/B10501_01/appdev.920/a96584/oci05bnd.htm) at first seems promising, but is completely misleading, as its &quot;Defining&quot; refers to setting up references to retrieve results, which is not at all what it means in JDBI.\r\n\r\nHere is what they actually mean, if my colleague is correct:\r\n\r\n - `@Define` is for constants, and interpolates the format `&lt;field&gt;`.\r\n - `@Bind` is for variables, and interpolates the format `:field` (a &quot;named parameter&quot;). You are correct: a side-effect of binding is that sanitization occurs.\r\n - `@BindIn` is for lists, and interpolates the format `(element IN (&lt;field&gt;))`. The elements are also sanitized.\r\n\r\nMy mistake was using the `&lt;field&gt;` format for a `@Bind` parameter, which resulted in the interpolation always being an empty string.","title":"JDBI - What&#39;s the difference between @define and @bind in JDBI?","body":"<p>I came across the same question and found the answer surprisingly difficult to find. A colleague tells me it was sort of just common knowledge a programming-generation ago, so maybe its documentation was forgotten as software evolved.</p>\n\n<p>In fact, Oracle's <a href=\"https://docs.oracle.com/cd/B10501_01/appdev.920/a96584/oci05bnd.htm\" rel=\"noreferrer\">Binding and Defining</a> at first seems promising, but is completely misleading, as its \"Defining\" refers to setting up references to retrieve results, which is not at all what it means in JDBI.</p>\n\n<p>Here is what they actually mean, if my colleague is correct:</p>\n\n<ul>\n<li><code>@Define</code> is for constants, and interpolates the format <code>&lt;field&gt;</code>.</li>\n<li><code>@Bind</code> is for variables, and interpolates the format <code>:field</code> (a \"named parameter\"). You are correct: a side-effect of binding is that sanitization occurs.</li>\n<li><code>@BindIn</code> is for lists, and interpolates the format <code>(element IN (&lt;field&gt;))</code>. The elements are also sanitized.</li>\n</ul>\n\n<p>My mistake was using the <code>&lt;field&gt;</code> format for a <code>@Bind</code> parameter, which resulted in the interpolation always being an empty string.</p>\n"},{"tags":[],"owner":{"account_id":12969102,"reputation":43,"user_id":9375488,"display_name":"pedagogyfirst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667394257,"creation_date":1667394257,"answer_id":74289634,"question_id":41620956,"body_markdown":"On top of the most upvoted answer. I just want to add that, according to my tests and interpretations:\r\n - @Bind is mostly used for places where you query and update/create data. Per example after the `WHERE` and `VALUES(...)`\r\n - @Define is mostly used in other parts of a SQL statement, like in places with conditions or in ORDER BY per example:\r\n\r\n```kotlin\r\n@SqlQuery(&quot;SELECT * FROM $table ORDER BY &lt;orderByWinsOrPlays&gt;&quot;) \r\nfun getPlayerRankings(@Define orderByWinsOrPlays: String)\r\n```\r\n\r\nReplacing `&lt;orderByWinsOrPlays&gt;` with `:orderByWinsOrPlays` and replacing `@Define` with `@Bind(&quot;orderByWinsOrPlays&quot;)` will not work, but it will not throw an error. Testing these 2 options back in forth lead me to this conclusion. And the type parameter annotated with @Define should be a primitive object, preferably, or it won&#39;t work. For complex objects, use @BindBean","title":"JDBI - What&#39;s the difference between @define and @bind in JDBI?","body":"<p>On top of the most upvoted answer. I just want to add that, according to my tests and interpretations:</p>\n<ul>\n<li>@Bind is mostly used for places where you query and update/create data. Per example after the <code>WHERE</code> and <code>VALUES(...)</code></li>\n<li>@Define is mostly used in other parts of a SQL statement, like in places with conditions or in ORDER BY per example:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SqlQuery(&quot;SELECT * FROM $table ORDER BY &lt;orderByWinsOrPlays&gt;&quot;) \nfun getPlayerRankings(@Define orderByWinsOrPlays: String)\n</code></pre>\n<p>Replacing <code>&lt;orderByWinsOrPlays&gt;</code> with <code>:orderByWinsOrPlays</code> and replacing <code>@Define</code> with <code>@Bind(&quot;orderByWinsOrPlays&quot;)</code> will not work, but it will not throw an error. Testing these 2 options back in forth lead me to this conclusion. And the type parameter annotated with @Define should be a primitive object, preferably, or it won't work. For complex objects, use @BindBean</p>\n"}],"owner":{"account_id":1676615,"reputation":321,"user_id":1542017,"accept_rate":75,"display_name":"lingz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3459,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48757814,"answer_count":2,"score":7,"last_activity_date":1667394257,"creation_date":1484247776,"question_id":41620956,"body_markdown":"Are both functions sanitized / safe against SQL injection? For example, consider the following:\r\n\r\n    @SqlUpdate(&quot;INSERT INTO &lt;tableName&gt; (&lt;columns&gt;) VALUES (&lt;values&gt;)&quot;)\r\n        public abstract void addRowToDataset(@Define(&quot;tableName&quot;) String tableName, @Define(&quot;columns&quot;) String columns, @BindIn(&quot;values&quot;) Collection&lt;Object&gt; values);\r\n\r\nMy current understanding is that `@define` literally inserts the string as is into the query, but `@bind` does sanitization. So if we control the `columns` and tableName `parameters` and only the `values` parameter is user input, then we should be fine. ","title":"JDBI - What&#39;s the difference between @define and @bind in JDBI?","body":"<p>Are both functions sanitized / safe against SQL injection? For example, consider the following:</p>\n\n<pre><code>@SqlUpdate(\"INSERT INTO &lt;tableName&gt; (&lt;columns&gt;) VALUES (&lt;values&gt;)\")\n    public abstract void addRowToDataset(@Define(\"tableName\") String tableName, @Define(\"columns\") String columns, @BindIn(\"values\") Collection&lt;Object&gt; values);\n</code></pre>\n\n<p>My current understanding is that <code>@define</code> literally inserts the string as is into the query, but <code>@bind</code> does sanitization. So if we control the <code>columns</code> and tableName <code>parameters</code> and only the <code>values</code> parameter is user input, then we should be fine. </p>\n"},{"tags":["java","class","oop"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667394651,"post_id":74289620,"comment_id":131156122,"body_markdown":"There&#39;s no special name for those at least not from a pure tech point of view. There may be specific names based on their meaning/usage but that&#39;s it. Just to be _very_ specific though: `DoublyCircularLL pointer` is a _reference_ to an object of type `DoublyCircularLL` (or a subtype/implementation of it) that is called `pointer`. The variable name may be misleading as Java doesn&#39;t have real pointers :)","body":"There&#39;s no special name for those at least not from a pure tech point of view. There may be specific names based on their meaning/usage but that&#39;s it. Just to be <i>very</i> specific though: <code>DoublyCircularLL pointer</code> is a <i>reference</i> to an object of type <code>DoublyCircularLL</code> (or a subtype/implementation of it) that is called <code>pointer</code>. The variable name may be misleading as Java doesn&#39;t have real pointers :)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667394889,"post_id":74289620,"comment_id":131156215,"body_markdown":"There are some other names for &quot;class variables&quot; though: &quot;field&quot; is normally used for non-static variables, &quot;class variable&quot; is often used for static variables sometimes also referred to as &quot;static field&quot;. Then there are &quot;properties&quot; which often are determined according to the Java Beans specification and which are identified by the getter and setter names (e.g. `getName()` -&gt; property &quot;name&quot;, `setMyName()` -&gt; property &quot;myName&quot;) - the values of those properties may or may not be stored in &quot;fields&quot;.","body":"There are some other names for &quot;class variables&quot; though: &quot;field&quot; is normally used for non-static variables, &quot;class variable&quot; is often used for static variables sometimes also referred to as &quot;static field&quot;. Then there are &quot;properties&quot; which often are determined according to the Java Beans specification and which are identified by the getter and setter names (e.g. <code>getName()</code> -&gt; property &quot;name&quot;, <code>setMyName()</code> -&gt; property &quot;myName&quot;) - the values of those properties may or may not be stored in &quot;fields&quot;."}],"owner":{"account_id":26806606,"reputation":11,"user_id":20397827,"display_name":"John Patrick Delos Reyes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667394175,"creation_date":1667394175,"question_id":74289620,"body_markdown":"```\r\nclass DoublyCircularLL{\r\n\r\n    DoublyCircularLL head;\r\n    DoublyCircularLL next;\r\n    DoublyCircularLL prev;\r\n    DoublyCircularLL pointer; &lt;----- This Things\r\n}\r\n```\r\n\r\n\r\nMy understanding is they are variables with the data type of the class. Is that right or they are something else?","title":"What does class fields with the same data type as the class called?","body":"<pre><code>class DoublyCircularLL{\n\n    DoublyCircularLL head;\n    DoublyCircularLL next;\n    DoublyCircularLL prev;\n    DoublyCircularLL pointer; &lt;----- This Things\n}\n</code></pre>\n<p>My understanding is they are variables with the data type of the class. Is that right or they are something else?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":0,"creation_date":1667341224,"post_id":74281773,"comment_id":131143906,"body_markdown":"Why don&#39;t you create your database during connect with initSQL option?","body":"Why don&#39;t you create your database during connect with initSQL option?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667394186,"post_id":74281773,"comment_id":131155919,"body_markdown":"The MySQL Connector/J explicitly says not to use statements like `USE &lt;name&gt;`, you should use `Connection.setCatalog(String)` for that. Exactly for reasons like this.","body":"The MySQL Connector/J explicitly says not to use statements like <code>USE &lt;name&gt;</code>, you should use <code>Connection.setCatalog(String)</code> for that. Exactly for reasons like this."}],"answers":[{"comments":[{"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"score":0,"creation_date":1667336994,"post_id":74281809,"comment_id":131142942,"body_markdown":"I can&#39;t include the database name in the URL when it&#39;s not guaranteed to exist, otherwise the connection will fail with an exception: `com.mysql.cj.exceptions.CJException: Unknown database &#39;&lt;name&gt;&#39;`.","body":"I can&#39;t include the database name in the URL when it&#39;s not guaranteed to exist, otherwise the connection will fail with an exception: <code>com.mysql.cj.exceptions.CJException: Unknown database &#39;&lt;name&gt;&#39;</code>."},{"owner":{"account_id":26799836,"reputation":23,"user_id":20391966,"display_name":"marjia"},"score":1,"creation_date":1667337194,"post_id":74281809,"comment_id":131143007,"body_markdown":"The USE statement tells MySQL to use the named database as the default (current) database for subsequent statements. The named database remains the default until the end of the session or another USE statement is issued.","body":"The USE statement tells MySQL to use the named database as the default (current) database for subsequent statements. The named database remains the default until the end of the session or another USE statement is issued."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667394242,"post_id":74281809,"comment_id":131155945,"body_markdown":"The MySQL Connector/J documentation explicitly says not to use statements like `USE database`, instead `Connection.setCatalog(String)` should be used.","body":"The MySQL Connector/J documentation explicitly says not to use statements like <code>USE database</code>, instead <code>Connection.setCatalog(String)</code> should be used."}],"tags":[],"owner":{"account_id":26799836,"reputation":23,"user_id":20391966,"display_name":"marjia"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337599,"creation_date":1667336875,"answer_id":74281809,"question_id":74281773,"body_markdown":"`String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();` \r\n\r\nYou should include your database name. Your URL followed by a &quot;/DBNAME&quot;.\r\n\r\n`USE database` is for subsequent statements. The named database remains the default until the end of the session. Your session expires.\r\n\r\nIf you create the database on the fly, you can connect again using the complete URL with the database name at the end, not with `USE database`\r\n\r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p><code>String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();</code></p>\n<p>You should include your database name. Your URL followed by a &quot;/DBNAME&quot;.</p>\n<p><code>USE database</code> is for subsequent statements. The named database remains the default until the end of the session. Your session expires.</p>\n<p>If you create the database on the fly, you can connect again using the complete URL with the database name at the end, not with <code>USE database</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337373,"creation_date":1667337373,"answer_id":74281882,"question_id":74281773,"body_markdown":"Yup, hence, don&#39;t connect without a database name.\r\n\r\nTry to connect with the name. In the catch block, check if this is the problem (SQLException has a `.getState()` method that returns a specific error code, check it against mysql&#39;s table, or just run the code passing a DB URL with a non-existent dbname and just print it out, now you know) - and if so, run a method that will create a new connection (without a dbname), creates the database, closes that connection, and returns. Then you retry _with_ the database name. Remember, exceptions can be caught.\r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p>Yup, hence, don't connect without a database name.</p>\n<p>Try to connect with the name. In the catch block, check if this is the problem (SQLException has a <code>.getState()</code> method that returns a specific error code, check it against mysql's table, or just run the code passing a DB URL with a non-existent dbname and just print it out, now you know) - and if so, run a method that will create a new connection (without a dbname), creates the database, closes that connection, and returns. Then you retry <em>with</em> the database name. Remember, exceptions can be caught.</p>\n"},{"tags":[],"owner":{"account_id":1735202,"reputation":1191,"user_id":1587934,"display_name":"Diego Dupin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667383027,"creation_date":1667383027,"answer_id":74287340,"question_id":74281773,"body_markdown":"There is an option `createDatabaseIfNotExist` exactly to do that. \r\nConnector will then connect to server without database, create database is not existing and connect to that database. \r\ndatabase must then be explicitly set in connection string, like  \r\n&quot;jdbc:mysql://myHost:3306/myDB?createDatabaseIfNotExist=true&quot;\r\n\r\nThe advantage is that if connection fails, autoreconnect will connect to the  database directly. \r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p>There is an option <code>createDatabaseIfNotExist</code> exactly to do that.\nConnector will then connect to server without database, create database is not existing and connect to that database.\ndatabase must then be explicitly set in connection string, like<br />\n&quot;jdbc:mysql://myHost:3306/myDB?createDatabaseIfNotExist=true&quot;</p>\n<p>The advantage is that if connection fails, autoreconnect will connect to the  database directly.</p>\n"}],"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667394136,"creation_date":1667336619,"question_id":74281773,"body_markdown":"I have some code that connects to a database using JDBC using a basic URL:\r\n\r\n    String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();\r\n\r\nI am using the following arguments:\r\n\r\n    setProperty(&quot;connectTimeout&quot;, &quot;2000&quot;);\r\n    setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\r\n\r\nI don&#39;t include the database name, since it might not exist yet. I check whether one exist upon connection, and create it as needed. Then I select the database.\r\n\r\nI use two queries:\r\n\r\n    CREATE DATABASE IF NOT EXISTS &lt;name&gt;\r\n\r\nthen\r\n\r\n    USE &lt;name&gt;\r\n\r\nSo the database is selected here upon connection.\r\n\r\nThe issue I&#39;m having is that I saw an error in the log:\r\n\r\n    ...\r\n    Caused by: java.sql.SQLException: No database selected\r\n\r\nThis doesn&#39;t make sense, because the database is *always* selected upon connection, otherwise an exception would have been thrown. However, this exception about a missing selection occurs hours later.\r\n\r\nMy guess is that, upon reconnecting, it uses the URL, which doesn&#39;t include the database name. So it reconnects, but now the database isn&#39;t selected.\r\n\r\nCan someone confirm whether this is the cause of the behavior I am experiencing?\r\n","title":"Is the reason my database loses its selection over time a result of this URL with the autoReconnect property?","body":"<p>I have some code that connects to a database using JDBC using a basic URL:</p>\n<pre><code>String url = &quot;jdbc:mysql://&quot; + getHostname() + &quot;:&quot; + getPort();\n</code></pre>\n<p>I am using the following arguments:</p>\n<pre><code>setProperty(&quot;connectTimeout&quot;, &quot;2000&quot;);\nsetProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\n</code></pre>\n<p>I don't include the database name, since it might not exist yet. I check whether one exist upon connection, and create it as needed. Then I select the database.</p>\n<p>I use two queries:</p>\n<pre><code>CREATE DATABASE IF NOT EXISTS &lt;name&gt;\n</code></pre>\n<p>then</p>\n<pre><code>USE &lt;name&gt;\n</code></pre>\n<p>So the database is selected here upon connection.</p>\n<p>The issue I'm having is that I saw an error in the log:</p>\n<pre><code>...\nCaused by: java.sql.SQLException: No database selected\n</code></pre>\n<p>This doesn't make sense, because the database is <em>always</em> selected upon connection, otherwise an exception would have been thrown. However, this exception about a missing selection occurs hours later.</p>\n<p>My guess is that, upon reconnecting, it uses the URL, which doesn't include the database name. So it reconnects, but now the database isn't selected.</p>\n<p>Can someone confirm whether this is the cause of the behavior I am experiencing?</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":6529983,"reputation":108,"user_id":5051422,"display_name":"Murali Krishnamraju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667393913,"creation_date":1667393913,"answer_id":74289560,"question_id":74287850,"body_markdown":"I tried exploring the internet for possible reasons for this issue, I figured out that one of the reason for this is maximum output that redis allows is the reason for this failure. \r\n\r\nIn redis configuration there is something called client-output-buffer-limit which limit what is the maximum data output that redis alows for different cases as \r\n\r\nRedis Output buffer has following limits\r\n\r\n 1. For normal operations set, get etc there is no limit\r\n 2. For Pub Sub Mechanism there is default hard limit of 32Mb and soft limit of 8mb for 60 seconds\r\n 3. For replication mechanism it has default hard limit of 256Mb and soft limit of 64mb for 60 seconds\r\n\r\nHowever these can be configured to bigger values which allows high volumes of data output, you can change the values by identifying the path of redis config file and updating the value of the output buffer limit of the Pub Sub mechanism by changing the value configured for attribute \r\n\r\n&gt; client-output-buffer-limit pubsub\r\n\r\n By updating this redis allows larger output buffer.\r\n","title":"Redis Key Space Notifications Unexpected end of stream Error for High Volume of Events","body":"<p>I tried exploring the internet for possible reasons for this issue, I figured out that one of the reason for this is maximum output that redis allows is the reason for this failure.</p>\n<p>In redis configuration there is something called client-output-buffer-limit which limit what is the maximum data output that redis alows for different cases as</p>\n<p>Redis Output buffer has following limits</p>\n<ol>\n<li>For normal operations set, get etc there is no limit</li>\n<li>For Pub Sub Mechanism there is default hard limit of 32Mb and soft limit of 8mb for 60 seconds</li>\n<li>For replication mechanism it has default hard limit of 256Mb and soft limit of 64mb for 60 seconds</li>\n</ol>\n<p>However these can be configured to bigger values which allows high volumes of data output, you can change the values by identifying the path of redis config file and updating the value of the output buffer limit of the Pub Sub mechanism by changing the value configured for attribute</p>\n<blockquote>\n<p>client-output-buffer-limit pubsub</p>\n</blockquote>\n<p>By updating this redis allows larger output buffer.</p>\n"}],"owner":{"account_id":6529983,"reputation":108,"user_id":5051422,"display_name":"Murali Krishnamraju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667393913,"creation_date":1667385581,"question_id":74287850,"body_markdown":"I am trying to explore redis keyspace notifications and its implementation in springboot for using the redis keyspace notifications for ttl use case. I am trying to test the scale at which this can work, when I used smaller volume like 10k-100k keys its working fine with out any issue. But when I increase the keys that expire at a particular time to 500k I am getting the below error.\r\n\r\n    org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:65) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:192) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:836) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.pSubscribe(JedisConnection.java:741) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doSubscribe(RedisMessageListenerContainer.java:1231) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer$BlockingSubscriber.lambda$eventuallyPerformSubscription$2(RedisMessageListenerContainer.java:1433) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\r\n\tat redis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:202) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.util.RedisInputStream.readLongCrLf(RedisInputStream.java:154) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.util.RedisInputStream.readIntCrLf(RedisInputStream.java:148) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.processBulkReply(Protocol.java:188) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:170) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.processMultiBulkReply(Protocol.java:221) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:172) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Protocol.read(Protocol.java:230) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:352) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:314) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:101) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.BinaryJedisPubSub.proceedWithPatterns(BinaryJedisPubSub.java:89) ~[jedis-3.8.0.jar:na]\r\n\tat redis.clients.jedis.BinaryJedis.psubscribe(BinaryJedis.java:3900) ~[jedis-3.8.0.jar:na]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.lambda$pSubscribe$7(JedisConnection.java:746) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:834) ~[spring-data-redis-2.7.5.jar:2.7.5]\r\n\t... 4 common frames omitted\r\n\r\n\r\nI have implemented a simple Redis event listner to capture the expired keys, code like below.\r\n\r\n    package com.example.rediseventlistnertest.listner;\r\n\r\n    import lombok.extern.apachecommons.CommonsLog;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.data.redis.connection.Message;\r\n    import org.springframework.data.redis.connection.MessageListener;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class EventTimeOutListner implements MessageListener {\r\n\r\n    public List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n        String key = new String(message.getBody());\r\n        Date date = new Date();\r\n        Long sec = date.getTime();\r\n        String d = date.toString();\r\n        keys.add(key);\r\n        log.info(&quot;expired key: {}, expired at {} {} {}&quot;, key, sec, date, keys.size());\r\n    }\r\n    }\r\n\r\n\r\nAbove class is for capturing the key and the below one for listening to redis keyspace notifications\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class RedisConfiguration {\r\n\r\n\r\n    @Bean\r\n    public RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory redisConnectionFactory, EventTimeOutListner taskTimeoutListener, TimeOutListner tol) {\r\n\r\n        RedisMessageListenerContainer listenerContainer = new RedisMessageListenerContainer();\r\n        listenerContainer.setMaxSubscriptionRegistrationWaitingTime(10000);\r\n        try {\r\n            listenerContainer.setConnectionFactory(redisConnectionFactory);\r\n            listenerContainer.addMessageListener(taskTimeoutListener,\r\n                    new PatternTopic(&quot;__keyevent@*__:expired&quot;));\r\n            log.info(&quot;size of  keys : {}&quot;,  taskTimeoutListener.keys.size());\r\n            //listenerContainer.addMessageListener(tol,\r\n            //        new PatternTopic(&quot;__keyevent@*__:expired&quot;));\r\n            listenerContainer.setErrorHandler(\r\n                    e -&gt; log.error(&quot;Error in redisMessageListenerContainer&quot;, e));\r\n        }catch (Exception e){\r\n            log.info(&quot;Something went worng exception is : {}&quot;,e.getMessage());\r\n            e.printStackTrace();\r\n        }finally {\r\n            return listenerContainer;\r\n        }\r\n    }\r\n\r\n    }\r\n\r\n\r\nI tried adding pooling and increasing the no of connections etc but no luck the error still persists and I am not able to figure what could be the exact reason for the issue, did any one face the simlar issue, what could be the possible issue and what can be done to avoid this failure and scale redis for larger volumes of key space notificaitons.\r\n","title":"Redis Key Space Notifications Unexpected end of stream Error for High Volume of Events","body":"<p>I am trying to explore redis keyspace notifications and its implementation in springboot for using the redis keyspace notifications for ttl use case. I am trying to test the scale at which this can work, when I used smaller volume like 10k-100k keys its working fine with out any issue. But when I increase the keys that expire at a particular time to 500k I am getting the below error.</p>\n<pre><code>org.springframework.data.redis.RedisConnectionFailureException: Unexpected end of stream.; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\nat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:65) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisExceptionConverter.convert(JedisExceptionConverter.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.PassThroughExceptionTranslationStrategy.translate(PassThroughExceptionTranslationStrategy.java:44) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.FallbackExceptionTranslationStrategy.translate(FallbackExceptionTranslationStrategy.java:42) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.convertJedisAccessException(JedisConnection.java:192) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:836) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.pSubscribe(JedisConnection.java:741) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.listener.RedisMessageListenerContainer$Subscriber.doSubscribe(RedisMessageListenerContainer.java:1231) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.listener.RedisMessageListenerContainer$BlockingSubscriber.lambda$eventuallyPerformSubscription$2(RedisMessageListenerContainer.java:1433) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: redis.clients.jedis.exceptions.JedisConnectionException: Unexpected end of stream.\nat redis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:202) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.util.RedisInputStream.readLongCrLf(RedisInputStream.java:154) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.util.RedisInputStream.readIntCrLf(RedisInputStream.java:148) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.processBulkReply(Protocol.java:188) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.process(Protocol.java:170) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.processMultiBulkReply(Protocol.java:221) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.process(Protocol.java:172) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Protocol.read(Protocol.java:230) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:352) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:314) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.BinaryJedisPubSub.process(BinaryJedisPubSub.java:101) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.BinaryJedisPubSub.proceedWithPatterns(BinaryJedisPubSub.java:89) ~[jedis-3.8.0.jar:na]\nat redis.clients.jedis.BinaryJedis.psubscribe(BinaryJedis.java:3900) ~[jedis-3.8.0.jar:na]\nat org.springframework.data.redis.connection.jedis.JedisConnection.lambda$pSubscribe$7(JedisConnection.java:746) ~[spring-data-redis-2.7.5.jar:2.7.5]\nat org.springframework.data.redis.connection.jedis.JedisConnection.doWithJedis(JedisConnection.java:834) ~[spring-data-redis-2.7.5.jar:2.7.5]\n... 4 common frames omitted\n</code></pre>\n<p>I have implemented a simple Redis event listner to capture the expired keys, code like below.</p>\n<pre><code>package com.example.rediseventlistnertest.listner;\n\nimport lombok.extern.apachecommons.CommonsLog;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.data.redis.connection.Message;\nimport org.springframework.data.redis.connection.MessageListener;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\n@Slf4j\n@Component\npublic class EventTimeOutListner implements MessageListener {\n\npublic List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n\n@Override\npublic void onMessage(Message message, byte[] pattern) {\n    String key = new String(message.getBody());\n    Date date = new Date();\n    Long sec = date.getTime();\n    String d = date.toString();\n    keys.add(key);\n    log.info(&quot;expired key: {}, expired at {} {} {}&quot;, key, sec, date, keys.size());\n}\n}\n</code></pre>\n<p>Above class is for capturing the key and the below one for listening to redis keyspace notifications</p>\n<pre><code>@Slf4j\n@Configuration\npublic class RedisConfiguration {\n\n\n@Bean\npublic RedisMessageListenerContainer redisMessageListenerContainer(RedisConnectionFactory redisConnectionFactory, EventTimeOutListner taskTimeoutListener, TimeOutListner tol) {\n\n    RedisMessageListenerContainer listenerContainer = new RedisMessageListenerContainer();\n    listenerContainer.setMaxSubscriptionRegistrationWaitingTime(10000);\n    try {\n        listenerContainer.setConnectionFactory(redisConnectionFactory);\n        listenerContainer.addMessageListener(taskTimeoutListener,\n                new PatternTopic(&quot;__keyevent@*__:expired&quot;));\n        log.info(&quot;size of  keys : {}&quot;,  taskTimeoutListener.keys.size());\n        //listenerContainer.addMessageListener(tol,\n        //        new PatternTopic(&quot;__keyevent@*__:expired&quot;));\n        listenerContainer.setErrorHandler(\n                e -&gt; log.error(&quot;Error in redisMessageListenerContainer&quot;, e));\n    }catch (Exception e){\n        log.info(&quot;Something went worng exception is : {}&quot;,e.getMessage());\n        e.printStackTrace();\n    }finally {\n        return listenerContainer;\n    }\n}\n\n}\n</code></pre>\n<p>I tried adding pooling and increasing the no of connections etc but no luck the error still persists and I am not able to figure what could be the exact reason for the issue, did any one face the simlar issue, what could be the possible issue and what can be done to avoid this failure and scale redis for larger volumes of key space notificaitons.</p>\n"},{"tags":["java","microservices","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":1,"creation_date":1667397490,"post_id":74289537,"comment_id":131157343,"body_markdown":"So if your exception is not caught, what happens to it? Do you see a stack trace in the output?","body":"So if your exception is not caught, what happens to it? Do you see a stack trace in the output?"},{"owner":{"account_id":237910,"reputation":33130,"user_id":506441,"accept_rate":67,"display_name":"Daniel T."},"score":0,"creation_date":1667401814,"post_id":74289537,"comment_id":131159187,"body_markdown":"Your custom exception should get emitted as an error event in your observable stream. It&#39;s not catchable in the traditional way. Instead it will show up inside your subscribe call as an error.","body":"Your custom exception should get emitted as an error event in your observable stream. It&#39;s not catchable in the traditional way. Instead it will show up inside your subscribe call as an error."},{"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"score":0,"creation_date":1667406201,"post_id":74289537,"comment_id":131160911,"body_markdown":"It is just logging and I saw stack trace aswell","body":"It is just logging and I saw stack trace aswell"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1667538194,"post_id":74289537,"comment_id":131194628,"body_markdown":"check [Error Handling Operators](https://projectreactor.io/docs/core/release/reference/#_error_handling_operators) in the Reactor Reference Guide","body":"check <a href=\"https://projectreactor.io/docs/core/release/reference/#_error_handling_operators\" rel=\"nofollow noreferrer\">Error Handling Operators</a> in the Reactor Reference Guide"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667393818,"creation_date":1667393818,"question_id":74289537,"body_markdown":"I am trying to throw error in service layer and excepting that error will be captured in controller layer in reactive way of implementation. But it is not happening now. The error occurring in controller is not  coming to controller catch block itself. Below are my code sample.\r\n\r\n```\r\npublic class MyClass{\r\n     \r\n     public void getData(){\r\n       try{\r\n\t\t\tMono&lt;String&gt; result = myService.getResponseData(1);\r\n       }catch(CustomException e){\r\n\t\t// I need to add diff logic when this type of exception occurs\r\n\t   }catch(Exception e){\r\n\t   // Here I need to add diff logic when this type of exception occurs\r\n\t   }\r\n     }\r\n}\r\n\r\npublic classs MyService{\r\n\tpublic Mono&lt;String&gt;  getResponseData(int number){\r\n\t\ttry{\r\n\t\t\tmyDbDTO1.table1(number).map(\r\n                    result -&gt; {\r\n                        if (validatingSomeCondition) {\r\n                            throw new CustomException(&quot;Invalid data!&quot;);\r\n                        }\r\n                        return result;\r\n                    })\r\n                .zipWhen(result -&gt; myDbDTO2\r\n                        .table2(number).collectList())\r\n                .map(m1 -&gt; mapResults(m1.getT1(), m1.getT2()))\r\n\t\t}catch(CustomException){\r\n\t\t\tthrow new CustomException(&quot;Invalid data!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic Result mapResults(Result1 res1, Result2 res1){\r\n\r\n\ttry{\r\n\t\t// I am combining both object and returing result\r\n\t}catch(Exception e){\r\n\t\tthrow new CustomException(&quot;Invalid data!&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nCan anyone suggest any issue / anything i missed. \r\n\r\nThanks :)","title":"How to throw error in java reactive programming","body":"<p>I am trying to throw error in service layer and excepting that error will be captured in controller layer in reactive way of implementation. But it is not happening now. The error occurring in controller is not  coming to controller catch block itself. Below are my code sample.</p>\n<pre><code>public class MyClass{\n     \n     public void getData(){\n       try{\n            Mono&lt;String&gt; result = myService.getResponseData(1);\n       }catch(CustomException e){\n        // I need to add diff logic when this type of exception occurs\n       }catch(Exception e){\n       // Here I need to add diff logic when this type of exception occurs\n       }\n     }\n}\n\npublic classs MyService{\n    public Mono&lt;String&gt;  getResponseData(int number){\n        try{\n            myDbDTO1.table1(number).map(\n                    result -&gt; {\n                        if (validatingSomeCondition) {\n                            throw new CustomException(&quot;Invalid data!&quot;);\n                        }\n                        return result;\n                    })\n                .zipWhen(result -&gt; myDbDTO2\n                        .table2(number).collectList())\n                .map(m1 -&gt; mapResults(m1.getT1(), m1.getT2()))\n        }catch(CustomException){\n            throw new CustomException(&quot;Invalid data!&quot;);\n        }\n    }\n}\n\npublic Result mapResults(Result1 res1, Result2 res1){\n\n    try{\n        // I am combining both object and returing result\n    }catch(Exception e){\n        throw new CustomException(&quot;Invalid data!&quot;);\n    }\n}\n</code></pre>\n<p>Can anyone suggest any issue / anything i missed.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","android","slice","smali","software-packaging"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1667915902,"post_id":74289478,"comment_id":131278102,"body_markdown":"`apktool` is an Java based open source tool so that would be a good starting point. But repackaging does not work on all apps. IMHO you should better use [Frida](https://frida.re). On a rooted phone you can execute, inject and modify code at run-time without the need to modify the APK.","body":"<code>apktool</code> is an Java based open source tool so that would be a good starting point. But repackaging does not work on all apps. IMHO you should better use <a href=\"https://frida.re\" rel=\"nofollow noreferrer\">Frida</a>. On a rooted phone you can execute, inject and modify code at run-time without the need to modify the APK."}],"owner":{"account_id":26806037,"reputation":11,"user_id":20397338,"display_name":"kgg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667393740,"creation_date":1667393620,"question_id":74289478,"body_markdown":"I&#39;m trying to make a tool in java code that automatically triggers all events in android market app.\r\n\r\nTo do this, after decompiling the apk file, I try to slice all the events and add them to one main method.\r\n\r\n\r\nBut I don&#39;t know how to repackage the sliced ​​code back into an apk.\r\n\r\nIs it possible to repackage smali code in java?\r\n\r\nThe smali code slice will be stored as a string type, and the slice set will be stored as a list type.\r\n\r\nHowever, this storage type can be changed.","title":"What is the java code to repackage by modifying the apk&#39;s smali code?","body":"<p>I'm trying to make a tool in java code that automatically triggers all events in android market app.</p>\n<p>To do this, after decompiling the apk file, I try to slice all the events and add them to one main method.</p>\n<p>But I don't know how to repackage the sliced ​​code back into an apk.</p>\n<p>Is it possible to repackage smali code in java?</p>\n<p>The smali code slice will be stored as a string type, and the slice set will be stored as a list type.</p>\n<p>However, this storage type can be changed.</p>\n"},{"tags":["java","scala","collections","treeset"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":1,"creation_date":1667379401,"post_id":74285379,"comment_id":131150898,"body_markdown":"`head` and `firstKey` both return an element in the collection and with using `println` you are seeing the string representation of the item. However, even if you were to print the collection itself, you would still see `TreeSet(2, 1, 4)` as the output. That&#39;s because the main purpose of a `TreeSet` is that of being a `Set`, more specifically a `SortedSet`. The fact that it&#39;s implemented as a tree is an implementation detail. You can read more about it here (referring to 2.8-2.12): https://docs.scala-lang.org/overviews/collections/concrete-immutable-collection-classes.html#red-black-trees","body":"<code>head</code> and <code>firstKey</code> both return an element in the collection and with using <code>println</code> you are seeing the string representation of the item. However, even if you were to print the collection itself, you would still see <code>TreeSet(2, 1, 4)</code> as the output. That&#39;s because the main purpose of a <code>TreeSet</code> is that of being a <code>Set</code>, more specifically a <code>SortedSet</code>. The fact that it&#39;s implemented as a tree is an implementation detail. You can read more about it here (referring to 2.8-2.12): <a href=\"https://docs.scala-lang.org/overviews/collections/concrete-immutable-collection-classes.html#red-black-trees\" rel=\"nofollow noreferrer\">docs.scala-lang.org/overviews/collections/&hellip;</a>"},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1667392275,"post_id":74285379,"comment_id":131155280,"body_markdown":"Of course it is, if I wasn&#39;t clear, I wanted to print everything from top to bottom in the way it was initialized in the memory, not in ascending order.","body":"Of course it is, if I wasn&#39;t clear, I wanted to print everything from top to bottom in the way it was initialized in the memory, not in ascending order."},{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":0,"creation_date":1667393913,"post_id":74285379,"comment_id":131155825,"body_markdown":"If you ask for the first item, you should expect the first item according to the sorting criteria you provided (which is natural sorting for most built-in types). I don&#39;t think that `TreeSet` supports tree traversal operations, since it&#39;s there mostly as an implementation of a `SortedSet`. If it&#39;s not possible via the API you might want to get in touch with the Scala team and see if that could be a viable contribution. Can you clarify for me what is it that you ultimately want to achieve? Printing a tree following BFS doesn&#39;t seem an end goal, unless yours is pure exploration for learning.","body":"If you ask for the first item, you should expect the first item according to the sorting criteria you provided (which is natural sorting for most built-in types). I don&#39;t think that <code>TreeSet</code> supports tree traversal operations, since it&#39;s there mostly as an implementation of a <code>SortedSet</code>. If it&#39;s not possible via the API you might want to get in touch with the Scala team and see if that could be a viable contribution. Can you clarify for me what is it that you ultimately want to achieve? Printing a tree following BFS doesn&#39;t seem an end goal, unless yours is pure exploration for learning."},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1667415859,"post_id":74285379,"comment_id":131164425,"body_markdown":"You&#39;re right, that&#39;s only for practice and playing. Nevertheless, it still sounds weird that there is no option to verify the hierarchy of the tree in the memory.","body":"You&#39;re right, that&#39;s only for practice and playing. Nevertheless, it still sounds weird that there is no option to verify the hierarchy of the tree in the memory."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1667416476,"post_id":74285379,"comment_id":131164620,"body_markdown":"`TreeSet` is actually smarter than you think. The tree is _self-balancing_, both trees in your example will actually look _the same_.  So, if you want to &quot;go from top to bottom&quot;, find the middle, place it on top, then go down a level, and repeat for left and right.","body":"<code>TreeSet</code> is actually smarter than you think. The tree is <i>self-balancing</i>, both trees in your example will actually look <i>the same</i>.  So, if you want to &quot;go from top to bottom&quot;, find the middle, place it on top, then go down a level, and repeat for left and right."},{"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"score":0,"creation_date":1667468673,"post_id":74285379,"comment_id":131175495,"body_markdown":"Dima, is there an option in Scala for a simple Tree which doesn&#39;t move the elements and just store them ordered by FIFO?","body":"Dima, is there an option in Scala for a simple Tree which doesn&#39;t move the elements and just store them ordered by FIFO?"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1667481472,"post_id":74285379,"comment_id":131180057,"body_markdown":"@MaorAharon I don&#39;t think there is a library class like that (it wouldn&#39;t be very useful), but you can implement it yourself, it&#39;s fairly straight-forward. Though, I am not sure what you mean by &quot;FIFO&quot; in this context. There _is_ a FIFO Queue implementation in scala, but it is not a tree ...","body":"@MaorAharon I don&#39;t think there is a library class like that (it wouldn&#39;t be very useful), but you can implement it yourself, it&#39;s fairly straight-forward. Though, I am not sure what you mean by &quot;FIFO&quot; in this context. There <i>is</i> a FIFO Queue implementation in scala, but it is not a tree ..."}],"owner":{"account_id":3935382,"reputation":322,"user_id":3251951,"display_name":"Maor Aharon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667393683,"creation_date":1667372126,"question_id":74285379,"body_markdown":"Is there a way, in Scala, to print a TreeSet in a way it stored in the memory?\r\nFor example, in case I initialize a tree\r\n\r\n    val tree_1: TreeSet[Int] = TreeSet(4, 2, 1)\r\nI would expect to see something like -\r\n\r\n        4\r\n       /\r\n      2\r\n     /\r\n    1\r\nBut when I try to approach to root, all I can see is -\r\n\r\n    println(tree_1.head) //&gt;&gt; 1\r\n    println(tree_1.firstKey) //&gt;&gt; 1\r\n\r\nSame happens for \r\n\r\n    val tree_2: TreeSet[Int] = TreeSet(2, 1, 4)\r\n\r\nI would expect to see -\r\n \r\n\r\n        2\r\n       / \\\r\n      1   4\r\n\r\nBut I get the same result - \r\n\r\n    println(tree_2.head) //&gt;&gt; 1\r\n    println(tree_2.firstKey) //&gt;&gt; 1\r\n\r\nEdit - \r\nIf I wasn&#39;t clear, I want to print everything from top to bottom in the way it was initialized in the memory, not in ascending order. I know that `.head` or `.firstKey` are supposed to return only a value and not a Tree, I would like it to return the root value, then go to the right/left branch, print the value and keep going.\r\n","title":"Show TreeSet in Scala / Java","body":"<p>Is there a way, in Scala, to print a TreeSet in a way it stored in the memory?\nFor example, in case I initialize a tree</p>\n<pre><code>val tree_1: TreeSet[Int] = TreeSet(4, 2, 1)\n</code></pre>\n<p>I would expect to see something like -</p>\n<pre><code>    4\n   /\n  2\n /\n1\n</code></pre>\n<p>But when I try to approach to root, all I can see is -</p>\n<pre><code>println(tree_1.head) //&gt;&gt; 1\nprintln(tree_1.firstKey) //&gt;&gt; 1\n</code></pre>\n<p>Same happens for</p>\n<pre><code>val tree_2: TreeSet[Int] = TreeSet(2, 1, 4)\n</code></pre>\n<p>I would expect to see -</p>\n<pre><code>    2\n   / \\\n  1   4\n</code></pre>\n<p>But I get the same result -</p>\n<pre><code>println(tree_2.head) //&gt;&gt; 1\nprintln(tree_2.firstKey) //&gt;&gt; 1\n</code></pre>\n<p>Edit -\nIf I wasn't clear, I want to print everything from top to bottom in the way it was initialized in the memory, not in ascending order. I know that <code>.head</code> or <code>.firstKey</code> are supposed to return only a value and not a Tree, I would like it to return the root value, then go to the right/left branch, print the value and keep going.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"score":0,"creation_date":1667465437,"post_id":74289441,"comment_id":131174374,"body_markdown":"Note that your installed Java runtime environment is irrelevant (unless you have exported the model as standalone Java) since AnyLogic includes it&#39;s own Java environment.","body":"Note that your installed Java runtime environment is irrelevant (unless you have exported the model as standalone Java) since AnyLogic includes it&#39;s own Java environment."}],"answers":[{"comments":[{"owner":{"account_id":24443649,"reputation":358,"user_id":18366972,"display_name":"Yossi Benagou"},"score":0,"creation_date":1667403096,"post_id":74289491,"comment_id":131159664,"body_markdown":"Thank you very much for your answer!\nUnfortunately, the function cannot be created only at the beginning, each agent has to create his own function (and they are different from each other) before he enters his station","body":"Thank you very much for your answer! Unfortunately, the function cannot be created only at the beginning, each agent has to create his own function (and they are different from each other) before he enters his station"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1667457162,"post_id":74289491,"comment_id":131172161,"body_markdown":"Well, you can always change that. Do all those calls at the start and store them for later when the agent is created...","body":"Well, you can always change that. Do all those calls at the start and store them for later when the agent is created..."}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667393668,"creation_date":1667393668,"answer_id":74289491,"question_id":74289441,"body_markdown":"this has nothing to do with 8.8.1. Had same problem in 8.7.9.\r\n\r\nThis can be safely ignored but unfortunately not switched off. AnyLogic devs are aware and will turn the warning off in a future update. Until then, don&#39;t worry about it.\r\n\r\nIdeally, you change your logic to call this function only once at the model start so you do not see the error all the time at runtime. ","title":"Compliant JVM Error using executeExpression() in Anylogic","body":"<p>this has nothing to do with 8.8.1. Had same problem in 8.7.9.</p>\n<p>This can be safely ignored but unfortunately not switched off. AnyLogic devs are aware and will turn the warning off in a future update. Until then, don't worry about it.</p>\n<p>Ideally, you change your logic to call this function only once at the model start so you do not see the error all the time at runtime.</p>\n"}],"owner":{"account_id":24443649,"reputation":358,"user_id":18366972,"display_name":"Yossi Benagou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74289491,"answer_count":1,"score":0,"last_activity_date":1667393668,"creation_date":1667393460,"question_id":74289441,"body_markdown":"I am using AnyLogic 8 Professional 8.8.1.\r\n\r\nWhen I try to use the function ```executeExpression()``` to run code that I have as a String, I get an error that I haven&#39;t encountered so far.\r\n\r\n```\r\nAnnotation processing got disabled, since it requires a 1.6 compliant JVM\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/s1cnY.png)](https://i.stack.imgur.com/s1cnY.png)\r\n\r\nThis error does not stop the simulation, And the function works.\r\n\r\n\r\n\r\n\r\nI checked my JAVA version in the CMD window using ```java -version``` I get the following output:\r\n\r\n```\r\njava version &quot;19.0.1&quot; 2022-10-18\r\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n```\r\n\r\nIf anyone has an idea for a solution I would love to hear it.\r\n\r\nThanks in advance!","title":"Compliant JVM Error using executeExpression() in Anylogic","body":"<p>I am using AnyLogic 8 Professional 8.8.1.</p>\n<p>When I try to use the function <code>executeExpression()</code> to run code that I have as a String, I get an error that I haven't encountered so far.</p>\n<pre><code>Annotation processing got disabled, since it requires a 1.6 compliant JVM\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/s1cnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1cnY.png\" alt=\"enter image description here\" /></a></p>\n<p>This error does not stop the simulation, And the function works.</p>\n<p>I checked my JAVA version in the CMD window using <code>java -version</code> I get the following output:</p>\n<pre><code>java version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n</code></pre>\n<p>If anyone has an idea for a solution I would love to hear it.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","java-time","localdatetime","java.time.instant"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1666796841,"post_id":74210000,"comment_id":131021661,"body_markdown":"You seem to have involved a DST change by accident. What&#39;s the default time zone of your system? It may change at the end of october and add an hour! Take `ZoneId.of(&quot;UTC&quot;)` instead of `ZoneId.systemDefault()`…","body":"You seem to have involved a DST change by accident. What&#39;s the default time zone of your system? It may change at the end of october and add an hour! Take <code>ZoneId.of(&quot;UTC&quot;)</code> instead of <code>ZoneId.systemDefault()</code>…"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666797018,"post_id":74210000,"comment_id":131021725,"body_markdown":"wouldn&#39;t the 2nd one also be an hour plus 16 if they add an hour after October @deHaar","body":"wouldn&#39;t the 2nd one also be an hour plus 16 if they add an hour after October @deHaar"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1666797086,"post_id":74210000,"comment_id":131021756,"body_markdown":"That&#39;s what OP has to find out… I&#39;m not sure it&#39;s the case, but it&#39;s possible… That means try and see.","body":"That&#39;s what OP has to find out… I&#39;m not sure it&#39;s the case, but it&#39;s possible… That means try and see."},{"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"score":1,"creation_date":1666797714,"post_id":74210000,"comment_id":131022018,"body_markdown":"My system default is _Europe/Prague_. I didn&#39;t think of that it could be time change at the end of October. You are right! When using `ZoneId.of(&quot;UTC&quot;)` it gives equal results.","body":"My system default is <i>Europe/Prague</i>. I didn&#39;t think of that it could be time change at the end of October. You are right! When using <code>ZoneId.of(&quot;UTC&quot;)</code> it gives equal results."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666798114,"post_id":74210000,"comment_id":131022180,"body_markdown":"@devin NO, `LocalDateTime` has no concept of time zone (also the reason to need  `atZone()` to convert it)","body":"@devin NO, <code>LocalDateTime</code> has no concept of time zone (also the reason to need  <code>atZone()</code> to convert it)"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666887565,"post_id":74211312,"comment_id":131046812,"body_markdown":"More precisely, Central Europe TIme is used in several European and North African time zones *most*, not all, of which use summer time (DST). A few stay on UTC+1 all year. Otherwise a correct answer.","body":"More precisely, Central Europe TIme is used in several European and North African time zones <i>most</i>, not all, of which use summer time (DST). A few stay on UTC+1 all year. Otherwise a correct answer."}],"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666802255,"creation_date":1666802255,"answer_id":74211312,"question_id":74210000,"body_markdown":"The method `atZone()` returns ZonedDatetime and then you experience the daylight saving effect.\r\nDifferent zones around the globe have daylight saving at different dates.\r\n\r\nSo your prints are:\r\n```bash\r\n 1. 2022-10-26T16:53:59.691891  // LocalDateTime\r\n 2. 2022-11-26T16:53:59.691891  // LocalDateTime\r\n\r\n 3. 2022-10-26T14:53:59.691891Z // ZonedDateTime\r\n 4. 2022-11-26T15:53:59.691891Z // ZonedDateTime\r\n\r\n 5. 2022-10-26T14:53:59.691891Z // ZonedDateTime\r\n 6. 2022-11-26T15:53:59.691891Z // ZonedDateTime  \r\n```\r\n\r\n`UTC` time zone is like a reference point for any other timezone. For example `CET, central european time` timezone have the zone offsets of `UTC+2` and `UTC+1` depending on the period of the year. \r\n\r\nYou can see this effect by executing the following snippet:\r\n```java\r\nZonedDateTime zdt1 = ldtNow.atZone(ZoneOffset.systemDefault());\r\nZonedDateTime zdt2 = ldtNextMonth.atZone(ZoneOffset.systemDefault());\r\n\r\nSystem.out.println(ZoneOffset.from(zdt1));   // prints +02:00\r\nSystem.out.println(ZoneOffset.from(zdt2));   // prints +01:00\r\n```\r\n\r\n","title":"Why is conversion from LocalDateTime to Instant not working?","body":"<p>The method <code>atZone()</code> returns ZonedDatetime and then you experience the daylight saving effect.\nDifferent zones around the globe have daylight saving at different dates.</p>\n<p>So your prints are:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> 1. 2022-10-26T16:53:59.691891  // LocalDateTime\n 2. 2022-11-26T16:53:59.691891  // LocalDateTime\n\n 3. 2022-10-26T14:53:59.691891Z // ZonedDateTime\n 4. 2022-11-26T15:53:59.691891Z // ZonedDateTime\n\n 5. 2022-10-26T14:53:59.691891Z // ZonedDateTime\n 6. 2022-11-26T15:53:59.691891Z // ZonedDateTime  \n</code></pre>\n<p><code>UTC</code> time zone is like a reference point for any other timezone. For example <code>CET, central european time</code> timezone have the zone offsets of <code>UTC+2</code> and <code>UTC+1</code> depending on the period of the year.</p>\n<p>You can see this effect by executing the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt1 = ldtNow.atZone(ZoneOffset.systemDefault());\nZonedDateTime zdt2 = ldtNextMonth.atZone(ZoneOffset.systemDefault());\n\nSystem.out.println(ZoneOffset.from(zdt1));   // prints +02:00\nSystem.out.println(ZoneOffset.from(zdt2));   // prints +01:00\n</code></pre>\n"}],"owner":{"account_id":13888376,"reputation":383,"user_id":10026970,"display_name":"APTower"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74211312,"answer_count":1,"score":0,"last_activity_date":1667393600,"creation_date":1666796685,"question_id":74210000,"body_markdown":"Do you know why 4. and 6. prints have wrong hours in following code? \r\n\r\n```java\r\nLocalDateTime ldtNow = LocalDateTime.now();\r\nLocalDateTime ldtNextMonth = ldtNow.plusMonths(1);\r\n\r\nSystem.out.println(&quot;1. &quot; + ldtNow);\r\nSystem.out.println(&quot;2. &quot; + ldtNextMonth);\r\n\r\nSystem.out.println(&quot;3. &quot; + ldtNow.atZone(ZoneId.systemDefault()).toInstant().toString());\r\nSystem.out.println(&quot;4. &quot; + ldtNextMonth.atZone(ZoneId.systemDefault()).toInstant().toString());\r\n\r\nSystem.out.println(&quot;5. &quot; + ldtNow.atZone(ZoneOffset.systemDefault()).toInstant().toString());\r\nSystem.out.println(&quot;6. &quot; + ldtNextMonth.atZone(ZoneOffset.systemDefault()).toInstant().toString());\r\n```\r\nThis is what it prints:\r\n```none\r\n 1. 2022-10-26T16:53:59.691891\r\n 2. 2022-11-26T16:53:59.691891\r\n\r\n 3. 2022-10-26T14:53:59.691891Z\r\n 4. 2022-11-26T15:53:59.691891Z //WRONG?\r\n\r\n 5. 2022-10-26T14:53:59.691891Z\r\n 6. 2022-11-26T15:53:59.691891Z //WRONG?\r\n```\r\nPrints 3. &amp; 4. test it with ZoneId and prints 5. &amp; 6. with ZoneOffset.\r\n\r\nThe only difference between 3. &amp; 4. (and 5. &amp; 6.) is the usage of  _LocalDateTime#plusMonths_ method. What should I do to get right result for zero time (_2022-11-26T**14**:53:59.691891Z_)?","title":"Why is conversion from LocalDateTime to Instant not working?","body":"<p>Do you know why 4. and 6. prints have wrong hours in following code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime ldtNow = LocalDateTime.now();\nLocalDateTime ldtNextMonth = ldtNow.plusMonths(1);\n\nSystem.out.println(&quot;1. &quot; + ldtNow);\nSystem.out.println(&quot;2. &quot; + ldtNextMonth);\n\nSystem.out.println(&quot;3. &quot; + ldtNow.atZone(ZoneId.systemDefault()).toInstant().toString());\nSystem.out.println(&quot;4. &quot; + ldtNextMonth.atZone(ZoneId.systemDefault()).toInstant().toString());\n\nSystem.out.println(&quot;5. &quot; + ldtNow.atZone(ZoneOffset.systemDefault()).toInstant().toString());\nSystem.out.println(&quot;6. &quot; + ldtNextMonth.atZone(ZoneOffset.systemDefault()).toInstant().toString());\n</code></pre>\n<p>This is what it prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1. 2022-10-26T16:53:59.691891\n 2. 2022-11-26T16:53:59.691891\n\n 3. 2022-10-26T14:53:59.691891Z\n 4. 2022-11-26T15:53:59.691891Z //WRONG?\n\n 5. 2022-10-26T14:53:59.691891Z\n 6. 2022-11-26T15:53:59.691891Z //WRONG?\n</code></pre>\n<p>Prints 3. &amp; 4. test it with ZoneId and prints 5. &amp; 6. with ZoneOffset.</p>\n<p>The only difference between 3. &amp; 4. (and 5. &amp; 6.) is the usage of  <em>LocalDateTime#plusMonths</em> method. What should I do to get right result for zero time (<em>2022-11-26T<strong>14</strong>:53:59.691891Z</em>)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1667388912,"post_id":74288482,"comment_id":131154215,"body_markdown":"What is your question? Where are you stuck? What is the output you&#39;re getting?","body":"What is your question? Where are you stuck? What is the output you&#39;re getting?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1667389392,"post_id":74288482,"comment_id":131154349,"body_markdown":"Your String literals contain spaces that do not appear in the sample images.","body":"Your String literals contain spaces that do not appear in the sample images."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667394517,"post_id":74288482,"comment_id":131156066,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667393326,"post_id":74289136,"comment_id":131155641,"body_markdown":"From requirement: &quot;_N is an odd natural number between 5 to 101, and_ ***M is 3 times N***&quot; Because of that, you should calculate _M_ instead of passing it as an input. Declare _M_ as local to the method and just pass _N_ to the _createPattern()_ method. For example, _createPattern(7)_.","body":"From requirement: &quot;<i>N is an odd natural number between 5 to 101, and</i> <b><i>M is 3 times N</i></b>&quot; Because of that, you should calculate <i>M</i> instead of passing it as an input. Declare <i>M</i> as local to the method and just pass <i>N</i> to the <i>createPattern()</i> method. For example, <i>createPattern(7)</i>."}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667393454,"creation_date":1667391940,"answer_id":74289136,"question_id":74288482,"body_markdown":"Try this.\r\n\r\n    static void createPattern(int n){\r\n        String word = &quot;WELCOME&quot;;\r\n        int m = n * 3, n2 = n / 2, w = (m - word.length()) / 2;\r\n        for (int i = 0, h = n2 * 3, v = 1; i &lt; n2; ++i, h -= 3, v += 2)\r\n            System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\r\n        System.out.println(&quot;-&quot;.repeat(w) + word + &quot;-&quot;.repeat(w));\r\n        for (int i = 0, h = 3, v = n2 * 2 - 1; i &lt; n2; ++i, h += 3, v -= 2) \r\n            System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        createPattern(5);\r\n        System.out.println();\r\n        createPattern(7);\r\n        System.out.println();\r\n        createPattern(11);\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    ------.|.------\r\n    ---.|..|..|.---\r\n    ----WELCOME----\r\n    ---.|..|..|.---\r\n    ------.|.------\r\n    \r\n    ---------.|.---------\r\n    ------.|..|..|.------\r\n    ---.|..|..|..|..|.---\r\n    -------WELCOME-------\r\n    ---.|..|..|..|..|.---\r\n    ------.|..|..|.------\r\n    ---------.|.---------\r\n    \r\n    ---------------.|.---------------\r\n    ------------.|..|..|.------------\r\n    ---------.|..|..|..|..|.---------\r\n    ------.|..|..|..|..|..|..|.------\r\n    ---.|..|..|..|..|..|..|..|..|.---\r\n    -------------WELCOME-------------\r\n    ---.|..|..|..|..|..|..|..|..|.---\r\n    ------.|..|..|..|..|..|..|.------\r\n    ---------.|..|..|..|..|.---------\r\n    ------------.|..|..|.------------\r\n    ---------------.|.---------------\r\n\r\n","title":"Pattern printing using java","body":"<p>Try this.</p>\n<pre><code>static void createPattern(int n){\n    String word = &quot;WELCOME&quot;;\n    int m = n * 3, n2 = n / 2, w = (m - word.length()) / 2;\n    for (int i = 0, h = n2 * 3, v = 1; i &lt; n2; ++i, h -= 3, v += 2)\n        System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\n    System.out.println(&quot;-&quot;.repeat(w) + word + &quot;-&quot;.repeat(w));\n    for (int i = 0, h = 3, v = n2 * 2 - 1; i &lt; n2; ++i, h += 3, v -= 2) \n        System.out.println(&quot;-&quot;.repeat(h) + &quot;.|.&quot;.repeat(v) + &quot;-&quot;.repeat(h));\n}\n\npublic static void main(String[] args) {\n    createPattern(5);\n    System.out.println();\n    createPattern(7);\n    System.out.println();\n    createPattern(11);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>------.|.------\n---.|..|..|.---\n----WELCOME----\n---.|..|..|.---\n------.|.------\n\n---------.|.---------\n------.|..|..|.------\n---.|..|..|..|..|.---\n-------WELCOME-------\n---.|..|..|..|..|.---\n------.|..|..|.------\n---------.|.---------\n\n---------------.|.---------------\n------------.|..|..|.------------\n---------.|..|..|..|..|.---------\n------.|..|..|..|..|..|..|.------\n---.|..|..|..|..|..|..|..|..|.---\n-------------WELCOME-------------\n---.|..|..|..|..|..|..|..|..|.---\n------.|..|..|..|..|..|..|.------\n---------.|..|..|..|..|.---------\n------------.|..|..|.------------\n---------------.|.---------------\n</code></pre>\n"}],"owner":{"account_id":26013810,"reputation":7,"user_id":19722401,"display_name":"Arun KB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74289136,"answer_count":1,"score":-3,"last_activity_date":1667393454,"creation_date":1667388610,"question_id":74288482,"body_markdown":"can you guys help me with this pattern \r\n\r\n\r\nsize must be N X M. ( N is an odd natural number between 5 to 101, and M is 3 times N.)\r\nThe design should have &#39;WELCOME&#39; written in the center.\r\nThe design pattern should only use  | , .  and - characters.\r\n\r\nExample patterns are shown in image \r\n\r\n\r\n[![example patterns](https://i.stack.imgur.com/SSdDq.jpg)](https://i.stack.imgur.com/SSdDq.jpg)Can\r\n\r\n\r\n\r\n\r\n\r\n```\r\nclass DimondText{\r\n \r\n \r\n\r\n   \r\n  static void createPattern(int n, int m){\r\n         int c=m/2;\r\n          for(int i=1;i&lt;n;i++){\r\n            if(i%2!=0 || i==1){\r\n              for(int j=i;j&lt;=c;j++){\r\n                  System.out.print(&quot;- &quot;);\r\n \r\n             }\r\n             for(int j=1;j&lt;=i;j++){\r\n                 System.out.print(&quot;. | .&quot;);\r\n                 j+=1;\r\n             }\r\n             for(int j=1;j&lt;i;j++){\r\n                 System.out.print(&quot;. | .&quot;);                                                                                                            \r\n                 j+=1;\r\n             }\r\n             for(int j=i;j&lt;=c;j++){\r\n                 System.out.print(&quot;- &quot;);\r\n             }\r\n              System.out.print(&quot;\\n&quot;);\r\n         }\r\n       }\r\n     for(int i=0;i&lt;n;i++){                    \r\n      System.out.print(&quot;- &quot;);\r\n         }\r\n     System.out.print(&quot;\\n&quot;);\r\n\r\n     for(int i=1;i&lt;=n;i++){\r\n       if(i%2!=0){\r\n        for(int j=1;j&lt;=n-i;j++){\r\n            System.out.print(&quot;- &quot;);\r\n         }\r\n         for(int j=i;j&lt;c-i;j++){\r\n            System.out.print(&quot;. | .&quot;);\r\n            j+=1;\r\n         }\r\n        for(int j=i;j&lt;c-i;j++){\r\n            System.out.print(&quot;. | .&quot;);\r\n            j+=1;\r\n        }\r\n         for(int j=1;j&lt;=n-i;j++){\r\n             System.out.print(&quot;- &quot;);\r\n         }\r\n         System.out.print(&quot;\\n&quot;);       }\r\n    }\r\n\r\n   }\r\n\r\n     public static void main(String[]arg){\r\n\r\n         createPattern(7,21);\r\n     }\r\n }\r\n```\r\n","title":"Pattern printing using java","body":"<p>can you guys help me with this pattern</p>\n<p>size must be N X M. ( N is an odd natural number between 5 to 101, and M is 3 times N.)\nThe design should have 'WELCOME' written in the center.\nThe design pattern should only use  | , .  and - characters.</p>\n<p>Example patterns are shown in image</p>\n<p><a href=\"https://i.stack.imgur.com/SSdDq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSdDq.jpg\" alt=\"example patterns\" /></a>Can</p>\n<pre><code>class DimondText{\n \n \n\n   \n  static void createPattern(int n, int m){\n         int c=m/2;\n          for(int i=1;i&lt;n;i++){\n            if(i%2!=0 || i==1){\n              for(int j=i;j&lt;=c;j++){\n                  System.out.print(&quot;- &quot;);\n \n             }\n             for(int j=1;j&lt;=i;j++){\n                 System.out.print(&quot;. | .&quot;);\n                 j+=1;\n             }\n             for(int j=1;j&lt;i;j++){\n                 System.out.print(&quot;. | .&quot;);                                                                                                            \n                 j+=1;\n             }\n             for(int j=i;j&lt;=c;j++){\n                 System.out.print(&quot;- &quot;);\n             }\n              System.out.print(&quot;\\n&quot;);\n         }\n       }\n     for(int i=0;i&lt;n;i++){                    \n      System.out.print(&quot;- &quot;);\n         }\n     System.out.print(&quot;\\n&quot;);\n\n     for(int i=1;i&lt;=n;i++){\n       if(i%2!=0){\n        for(int j=1;j&lt;=n-i;j++){\n            System.out.print(&quot;- &quot;);\n         }\n         for(int j=i;j&lt;c-i;j++){\n            System.out.print(&quot;. | .&quot;);\n            j+=1;\n         }\n        for(int j=i;j&lt;c-i;j++){\n            System.out.print(&quot;. | .&quot;);\n            j+=1;\n        }\n         for(int j=1;j&lt;=n-i;j++){\n             System.out.print(&quot;- &quot;);\n         }\n         System.out.print(&quot;\\n&quot;);       }\n    }\n\n   }\n\n     public static void main(String[]arg){\n\n         createPattern(7,21);\n     }\n }\n</code></pre>\n"},{"tags":["java","json","gson","json-deserialization","json-serialization"],"comments":[{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":1,"creation_date":1592060394,"post_id":62358189,"comment_id":110291735,"body_markdown":"Please provide an [MCVE](http://idownvotedbecau.se/nomcve/)","body":"Please provide an <a href=\"http://idownvotedbecau.se/nomcve/\" rel=\"nofollow noreferrer\">MCVE</a>"},{"owner":{"account_id":18836471,"reputation":39,"user_id":13739016,"display_name":"coolitos"},"score":0,"creation_date":1592208110,"post_id":62358189,"comment_id":110331388,"body_markdown":"I think I added all the missing pieces. If something&#39;s still missing, please tell me.","body":"I think I added all the missing pieces. If something&#39;s still missing, please tell me."}],"answers":[{"tags":[],"owner":{"account_id":2959906,"reputation":475,"user_id":3146077,"accept_rate":100,"display_name":"Werner Thumann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603729857,"creation_date":1603729857,"answer_id":64541214,"question_id":62358189,"body_markdown":"Much too late for the poster, but maybe for anyone who also stumbles into this pitfall (like me). This solution is also proposed on some blogs on the internet. However, they use **registerTypeAdapter** instead of **registerTypeHierarchyAdapter**.\r\n\r\nInteresting note: There are also vice-versa cases where *registerTypeAdapter* causes stack overflow and *registerTypeHierarchyAdapter* works, see [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36964995/how-to-serialize-java-nio-file-path-with-gson","title":"Gson: StackOverflowError during serialization","body":"<p>Much too late for the poster, but maybe for anyone who also stumbles into this pitfall (like me). This solution is also proposed on some blogs on the internet. However, they use <strong>registerTypeAdapter</strong> instead of <strong>registerTypeHierarchyAdapter</strong>.</p>\n<p>Interesting note: There are also vice-versa cases where <em>registerTypeAdapter</em> causes stack overflow and <em>registerTypeHierarchyAdapter</em> works, see <a href=\"https://stackoverflow.com/questions/36964995/how-to-serialize-java-nio-file-path-with-gson\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2151963,"reputation":620,"user_id":1908087,"display_name":"phil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667393318,"creation_date":1667393318,"answer_id":74289416,"question_id":62358189,"body_markdown":"use another gson ( new Gson() )\r\n\r\n    @Override\r\n    public JsonElement serialize(T object, Type interfaceType, JsonSerializationContext context) {\r\n        final JsonObject wrapper = new JsonObject();\r\n        wrapper.addProperty(&quot;type&quot;, object.getClass().getName());\r\n        wrapper.add(&quot;data&quot;, new Gson().toJsonTree(object));\r\n        return wrapper;\r\n    }","title":"Gson: StackOverflowError during serialization","body":"<p>use another gson ( new Gson() )</p>\n<pre><code>@Override\npublic JsonElement serialize(T object, Type interfaceType, JsonSerializationContext context) {\n    final JsonObject wrapper = new JsonObject();\n    wrapper.addProperty(&quot;type&quot;, object.getClass().getName());\n    wrapper.add(&quot;data&quot;, new Gson().toJsonTree(object));\n    return wrapper;\n}\n</code></pre>\n"}],"owner":{"account_id":18836471,"reputation":39,"user_id":13739016,"display_name":"coolitos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1088,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1667393318,"creation_date":1592042507,"question_id":62358189,"body_markdown":"I wrote this class and i need to serialize the field gameTimer, whose type is the interface TimerP.\r\n\r\n    public class PlayerImpl implements Player {\r\n\r\n    @Expose\r\n    private final String nickname;\r\n    @Expose\r\n    private final TimerP gameTimer;\r\n    @Expose\r\n    private final int finalScore;\r\nTo solve this problem I wrote an interfaceAdapter:\r\n\r\n    public class InterfaceAdapter&lt;T&gt; implements JsonSerializer&lt;T&gt;, JsonDeserializer&lt;T&gt; {\r\n\r\n    private static final String CLASSNAME = &quot;CLASSNAME&quot;;\r\n    private static final String DATA = &quot;DATA&quot;;\r\n\r\n    @Override\r\n    public T deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context) throws JsonParseException {\r\n        JsonObject jsonObject = json.getAsJsonObject();\r\n        JsonPrimitive prim = (JsonPrimitive) jsonObject.get(CLASSNAME);\r\n        String className = prim.getAsString();\r\n        Class&lt;?&gt; c = this.getObjectClass(className);\r\n            return context.deserialize(jsonObject.get(DATA), c);\r\n    }\r\n\r\n    @Override\r\n    public JsonElement serialize(final T src, final Type typeOfSrc, final JsonSerializationContext context) {\r\n        JsonObject jsonObject = new JsonObject();\r\n        jsonObject.addProperty(CLASSNAME, src.getClass().getName());\r\n        jsonObject.add(DATA, context.serialize(src));\r\n        return jsonObject;\r\n    }\r\n\r\n    /****** Helper method to get the className of the object to be deserialized. *****/\r\n    private Class&lt;?&gt; getObjectClass(final String className) {\r\n        try {\r\n            return Class.forName(className);\r\n            } catch (ClassNotFoundException e) {\r\n                //e.printStackTrace();\r\n                throw new JsonParseException(e.getMessage());\r\n            }\r\n    }\r\n\r\nbut it gives this exception when trying to serialize the object:\r\n\r\n    Caused by: java.lang.StackOverflowError\r\n\tat com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:104)\r\n\tat com.google.gson.reflect.TypeToken.&lt;init&gt;(TypeToken.java:72)\r\n\tat com.google.gson.reflect.TypeToken.get(TypeToken.java:296)\r\n\tat com.google.gson.Gson.toJson(Gson.java:696)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:597)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:576)\r\n\tat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\r\n\tat common.InterfaceAdapter.serialize(InterfaceAdapter.java:33)\r\n\tat common.InterfaceAdapter.serialize(InterfaceAdapter.java:15)\r\n\tat com.google.gson.internal.bind.TreeTypeAdapter.write(TreeTypeAdapter.java:81)\r\n\tat com.google.gson.Gson.toJson(Gson.java:704)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:597)\r\n\tat com.google.gson.Gson.toJsonTree(Gson.java:576)\r\n\tat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\r\nThis is the class where I read and write on the file:\r\n\r\n    public class LeaderboardImpl implements Leaderboard {\r\n\r\n    private final File directory = new File(System.getProperty(&quot;user.home&quot;), &quot;.unitype&quot;);\r\n    private final File file = new File(directory, FILE_NAME);\r\n    private static final String FILE_NAME = &quot;unitype.json&quot;;\r\n\r\n    /**\r\n     * Returns the instance of this class.\r\n     * \r\n     * @return the instance of this class\r\n     */\r\n    public static LeaderboardImpl getLeaderboard() {\r\n        return LazyHolderLeaderboard.SINGLETON;\r\n    }\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public void addPlayer(final Player p) {\r\n        final Gson gson = new GsonBuilder()\r\n                            .excludeFieldsWithoutExposeAnnotation()\r\n                            .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\r\n                            .create();\r\n        final List&lt;Player&gt; playersList = this.getPlayersList();\r\n        playersList.add(p);\r\n        final String json = gson.toJson(playersList);\r\n        this.checkFile();\r\n        try (FileWriter writer = new FileWriter(file)) {\r\n            writer.write(json);\r\n            writer.flush();\r\n        } catch (JsonIOException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    public List&lt;Player&gt; getPlayersList() {\r\n        final Gson gson = new GsonBuilder()\r\n                .excludeFieldsWithoutExposeAnnotation()\r\n                .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\r\n                .create();\r\n        List&lt;Player&gt; playersList = new ArrayList&lt;&gt;();\r\n        this.checkFile();\r\n        try (JsonReader jsonReader = new JsonReader(new FileReader(file))) {\r\n            final JsonElement js = JsonParser.parseReader(jsonReader);\r\n            if (js.isJsonObject()) {\r\n                final JsonObject jsonObject = js.getAsJsonObject();\r\n                playersList.add(gson.fromJson(jsonObject, PlayerImpl.class));\r\n            } else if (js.isJsonArray()) {\r\n                playersList = gson.fromJson(js,\r\n                        new TypeToken&lt;List&lt;PlayerImpl&gt;&gt;() { }.getType());\r\n            }\r\n        } catch (JsonSyntaxException | JsonIOException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return playersList;\r\n    }\r\n\r\nI tried everything but I could&#39;t find any solution and I don&#39;t understand why it doesn&#39;t work","title":"Gson: StackOverflowError during serialization","body":"<p>I wrote this class and i need to serialize the field gameTimer, whose type is the interface TimerP.</p>\n\n<pre><code>public class PlayerImpl implements Player {\n\n@Expose\nprivate final String nickname;\n@Expose\nprivate final TimerP gameTimer;\n@Expose\nprivate final int finalScore;\n</code></pre>\n\n<p>To solve this problem I wrote an interfaceAdapter:</p>\n\n<pre><code>public class InterfaceAdapter&lt;T&gt; implements JsonSerializer&lt;T&gt;, JsonDeserializer&lt;T&gt; {\n\nprivate static final String CLASSNAME = \"CLASSNAME\";\nprivate static final String DATA = \"DATA\";\n\n@Override\npublic T deserialize(final JsonElement json, final Type typeOfT, final JsonDeserializationContext context) throws JsonParseException {\n    JsonObject jsonObject = json.getAsJsonObject();\n    JsonPrimitive prim = (JsonPrimitive) jsonObject.get(CLASSNAME);\n    String className = prim.getAsString();\n    Class&lt;?&gt; c = this.getObjectClass(className);\n        return context.deserialize(jsonObject.get(DATA), c);\n}\n\n@Override\npublic JsonElement serialize(final T src, final Type typeOfSrc, final JsonSerializationContext context) {\n    JsonObject jsonObject = new JsonObject();\n    jsonObject.addProperty(CLASSNAME, src.getClass().getName());\n    jsonObject.add(DATA, context.serialize(src));\n    return jsonObject;\n}\n\n/****** Helper method to get the className of the object to be deserialized. *****/\nprivate Class&lt;?&gt; getObjectClass(final String className) {\n    try {\n        return Class.forName(className);\n        } catch (ClassNotFoundException e) {\n            //e.printStackTrace();\n            throw new JsonParseException(e.getMessage());\n        }\n}\n</code></pre>\n\n<p>but it gives this exception when trying to serialize the object:</p>\n\n<pre><code>Caused by: java.lang.StackOverflowError\nat com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:104)\nat com.google.gson.reflect.TypeToken.&lt;init&gt;(TypeToken.java:72)\nat com.google.gson.reflect.TypeToken.get(TypeToken.java:296)\nat com.google.gson.Gson.toJson(Gson.java:696)\nat com.google.gson.Gson.toJsonTree(Gson.java:597)\nat com.google.gson.Gson.toJsonTree(Gson.java:576)\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\nat common.InterfaceAdapter.serialize(InterfaceAdapter.java:33)\nat common.InterfaceAdapter.serialize(InterfaceAdapter.java:15)\nat com.google.gson.internal.bind.TreeTypeAdapter.write(TreeTypeAdapter.java:81)\nat com.google.gson.Gson.toJson(Gson.java:704)\nat com.google.gson.Gson.toJsonTree(Gson.java:597)\nat com.google.gson.Gson.toJsonTree(Gson.java:576)\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.serialize(TreeTypeAdapter.java:155)\n</code></pre>\n\n<p>This is the class where I read and write on the file:</p>\n\n<pre><code>public class LeaderboardImpl implements Leaderboard {\n\nprivate final File directory = new File(System.getProperty(\"user.home\"), \".unitype\");\nprivate final File file = new File(directory, FILE_NAME);\nprivate static final String FILE_NAME = \"unitype.json\";\n\n/**\n * Returns the instance of this class.\n * \n * @return the instance of this class\n */\npublic static LeaderboardImpl getLeaderboard() {\n    return LazyHolderLeaderboard.SINGLETON;\n}\n\n/**\n * {@inheritDoc}\n */\n@Override\npublic void addPlayer(final Player p) {\n    final Gson gson = new GsonBuilder()\n                        .excludeFieldsWithoutExposeAnnotation()\n                        .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\n                        .create();\n    final List&lt;Player&gt; playersList = this.getPlayersList();\n    playersList.add(p);\n    final String json = gson.toJson(playersList);\n    this.checkFile();\n    try (FileWriter writer = new FileWriter(file)) {\n        writer.write(json);\n        writer.flush();\n    } catch (JsonIOException | IOException e) {\n        e.printStackTrace();\n    }\n}\n\n/**\n * {@inheritDoc}\n */\n@Override\npublic List&lt;Player&gt; getPlayersList() {\n    final Gson gson = new GsonBuilder()\n            .excludeFieldsWithoutExposeAnnotation()\n            .registerTypeHierarchyAdapter(TimerP.class, new InterfaceAdapter&lt;TimerP&gt;())\n            .create();\n    List&lt;Player&gt; playersList = new ArrayList&lt;&gt;();\n    this.checkFile();\n    try (JsonReader jsonReader = new JsonReader(new FileReader(file))) {\n        final JsonElement js = JsonParser.parseReader(jsonReader);\n        if (js.isJsonObject()) {\n            final JsonObject jsonObject = js.getAsJsonObject();\n            playersList.add(gson.fromJson(jsonObject, PlayerImpl.class));\n        } else if (js.isJsonArray()) {\n            playersList = gson.fromJson(js,\n                    new TypeToken&lt;List&lt;PlayerImpl&gt;&gt;() { }.getType());\n        }\n    } catch (JsonSyntaxException | JsonIOException | IOException e) {\n        e.printStackTrace();\n    }\n    return playersList;\n}\n</code></pre>\n\n<p>I tried everything but I could't find any solution and I don't understand why it doesn't work</p>\n"},{"tags":["java","sql","sqlite","google-chrome"],"comments":[{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1588681225,"post_id":61253276,"comment_id":108986055,"body_markdown":"I’m voting to close this question because you&#39;re asking for something that is not feasible. My answer shows how to get a visit duration for a website. More than that, you want to keep track of each tab&#39;s time (the timer would pause when the tab is not selected) and this is something is not supported by Chrome.","body":"I’m voting to close this question because you&#39;re asking for something that is not feasible. My answer shows how to get a visit duration for a website. More than that, you want to keep track of each tab&#39;s time (the timer would pause when the tab is not selected) and this is something is not supported by Chrome."}],"answers":[{"comments":[{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":1,"creation_date":1587216786,"post_id":61261060,"comment_id":108425471,"body_markdown":"The visit_duration is giving me wrong data. For example if I have 5 tab open and I am working on just 5th tab, visit_duration is being calculate for the other tabs too. i.e. I open 1st tab for 10 seconds, 2nd tab for 10sec 3rd tab for 10sec, 4th tab for 10 sec, 5th tab for 1 minute.. then for 1st tab I am getting visit_duration as 1min 40 seconds instead of 10seconds","body":"The visit_duration is giving me wrong data. For example if I have 5 tab open and I am working on just 5th tab, visit_duration is being calculate for the other tabs too. i.e. I open 1st tab for 10 seconds, 2nd tab for 10sec 3rd tab for 10sec, 4th tab for 10 sec, 5th tab for 1 minute.. then for 1st tab I am getting visit_duration as 1min 40 seconds instead of 10seconds"},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1587224042,"post_id":61261060,"comment_id":108428590,"body_markdown":"`visit_duration` is the visit duration. It doesn&#39;t keep track of which tab is selected. If that&#39;s what you want, then I think you misunderstood the purpose of that column.","body":"<code>visit_duration</code> is the visit duration. It doesn&#39;t keep track of which tab is selected. If that&#39;s what you want, then I think you misunderstood the purpose of that column."},{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":0,"creation_date":1587225039,"post_id":61261060,"comment_id":108429099,"body_markdown":"So I want duration for which I have opened a particular  website, how can i achieve this ?","body":"So I want duration for which I have opened a particular  website, how can i achieve this ?"},{"owner":{"account_id":5533119,"reputation":7118,"user_id":5771750,"accept_rate":85,"display_name":"Chris Happy"},"score":0,"creation_date":1666978779,"post_id":61261060,"comment_id":131070363,"body_markdown":"@MissChanandlerBong Do you have a source?","body":"@MissChanandlerBong Do you have a source?"},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1667300363,"post_id":61261060,"comment_id":131130799,"body_markdown":"@ChrisHappy Sorry, source for what?","body":"@ChrisHappy Sorry, source for what?"},{"owner":{"account_id":5533119,"reputation":7118,"user_id":5771750,"accept_rate":85,"display_name":"Chris Happy"},"score":0,"creation_date":1667350050,"post_id":61261060,"comment_id":131145559,"body_markdown":"@MissChanandlerBong, Whoops, I mean, do you have a source re: how the `visit_duration` field is calculated? Just trying to find out more information for a project.","body":"@MissChanandlerBong, Whoops, I mean, do you have a source re: how the <code>visit_duration</code> field is calculated? Just trying to find out more information for a project."},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":1,"creation_date":1667392976,"post_id":61261060,"comment_id":131155525,"body_markdown":"@ChrisHappy you can check the source code from [here](https://chromium.googlesource.com/chromium/chromium/+/1fc707b3d4426007dac9d63dbe79eaafb4d41f4a/chrome/browser/history/visit_database.cc)","body":"@ChrisHappy you can check the source code from <a href=\"https://chromium.googlesource.com/chromium/chromium/+/1fc707b3d4426007dac9d63dbe79eaafb4d41f4a/chrome/browser/history/visit_database.cc\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667393134,"creation_date":1587075817,"answer_id":61261060,"question_id":61253276,"body_markdown":"`visit_duration` Stores duration in microseconds, you need to convert and format that number. Here is one way to show a human-readable visit duration:\r\n```sql\r\nSELECT urls.url AS URL, (visits.visit_duration / 3600 / 1000000) || &#39; hours &#39; || strftime(&#39;%M minutes %S seconds&#39;, visits.visit_duration / 1000000 / 86400.0) AS Duration\r\nFROM urls LEFT JOIN visits ON urls.id = visits.url\r\n```\r\nHere is a sample output:\r\n\r\nURL                             | Duration\r\n--------------------------------|------------------------------\r\nhttp://www.stackoverflow.com/\t| 3 hours 14 minutes 15 seconds\r\n\r\nYou can also use [`strftime`][1] if you want more format options \r\n\r\n\r\n  [1]: https://www.sqlite.org/lang_datefunc.html","title":"Time spent on each chrome tab/website from data stored in History sqlite","body":"<p><code>visit_duration</code> Stores duration in microseconds, you need to convert and format that number. Here is one way to show a human-readable visit duration:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT urls.url AS URL, (visits.visit_duration / 3600 / 1000000) || ' hours ' || strftime('%M minutes %S seconds', visits.visit_duration / 1000000 / 86400.0) AS Duration\nFROM urls LEFT JOIN visits ON urls.id = visits.url\n</code></pre>\n<p>Here is a sample output:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>URL</th>\n<th>Duration</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"http://www.stackoverflow.com/\">http://www.stackoverflow.com/</a></td>\n<td>3 hours 14 minutes 15 seconds</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can also use <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\"><code>strftime</code></a> if you want more format options</p>\n"}],"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61261060,"answer_count":1,"score":0,"last_activity_date":1667393134,"creation_date":1587048725,"question_id":61253276,"body_markdown":"I am trying to find out the time spent on each tab/website by the user. \r\nFor example if I visited youtube and watched it for 10 minutes then I should be able to see something like this\r\nwww.youtube.com    ---&gt; 10 minutes\r\n\r\nI already made a connection with sqlite database i.e. History file present in chrome directory and was able to run the following sql command to fetch the data:\r\n\r\n```\r\nSELECT urls.id, urls.url, urls.title, urls.visit_count, urls.typed_count, urls.last_visit_time, urls.hidden, urls.favicon_id, visits.visit_time, visits.from_visit, visits.visit_duration, visits.transition, visit_source.source FROM urls JOIN visits ON urls.id = visits.url LEFT JOIN visit_source ON visits.id = visit_source.id\r\n```\r\n\r\nSo can anyone tell me which combination of column can i use to get the time spent on each website.\r\n\r\nPlease note that: visit_duration is not giving me appropriate data.\r\n","title":"Time spent on each chrome tab/website from data stored in History sqlite","body":"<p>I am trying to find out the time spent on each tab/website by the user. \nFor example if I visited youtube and watched it for 10 minutes then I should be able to see something like this\nwww.youtube.com    ---> 10 minutes</p>\n\n<p>I already made a connection with sqlite database i.e. History file present in chrome directory and was able to run the following sql command to fetch the data:</p>\n\n<pre><code>SELECT urls.id, urls.url, urls.title, urls.visit_count, urls.typed_count, urls.last_visit_time, urls.hidden, urls.favicon_id, visits.visit_time, visits.from_visit, visits.visit_duration, visits.transition, visit_source.source FROM urls JOIN visits ON urls.id = visits.url LEFT JOIN visit_source ON visits.id = visit_source.id\n</code></pre>\n\n<p>So can anyone tell me which combination of column can i use to get the time spent on each website.</p>\n\n<p>Please note that: visit_duration is not giving me appropriate data.</p>\n"},{"tags":["java","maven","jar","pom.xml"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1667393039,"post_id":74289297,"comment_id":131155543,"body_markdown":"A file embedded in a jar should be accessed as a resource, not as a file.","body":"A file embedded in a jar should be accessed as a resource, not as a file."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667393040,"post_id":74289297,"comment_id":131155545,"body_markdown":"Note that `src/main/resources` contains _ressource_ files as per the name of the directory. By default Maven puts those resources into the root of the target jar&#39;s classpath so `String rootPath = &quot;src/main/resources/&quot;` would only ever work if the application is run from within the IDE. What does `suffixing.jar` contain? Why is that a resource?","body":"Note that <code>src&#47;main&#47;resources</code> contains <i>ressource</i> files as per the name of the directory. By default Maven puts those resources into the root of the target jar&#39;s classpath so <code>String rootPath = &quot;src&#47;main&#47;resources&#47;&quot;</code> would only ever work if the application is run from within the IDE. What does <code>suffixing.jar</code> contain? Why is that a resource?"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1667393681,"post_id":74289297,"comment_id":131155749,"body_markdown":"There is test `JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src/main/resources/suffixing.jar&quot;));` inside `AppTest.java`. Therefore, I expected that I shall just copy suffixing.jar file at least at the beginning. So, how can I accomplish it, I assume, I need to update my pom.xml file","body":"There is test <code>JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src&#47;main&#47;resources&#47;suffixing.jar&quot;));</code> inside <code>AppTest.java</code>. Therefore, I expected that I shall just copy suffixing.jar file at least at the beginning. So, how can I accomplish it, I assume, I need to update my pom.xml file"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1667395759,"post_id":74289297,"comment_id":131156592,"body_markdown":"What is the underlying problem you try to solve with this?","body":"What is the underlying problem you try to solve with this?"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1667396628,"post_id":74289297,"comment_id":131156974,"body_markdown":"I solving the assignment given in course. It requires me &quot;[Once you have designed it, place the jar into src/main/resources directory.](https://gitlab.com/khalimovsarvar/suffixing-app#comsarvarsuffixingapp-app:~:text=Once%20you%20have%20designed%20it%2C%20place%20the%20jar%20into%20src/main/resources%20directory.)&quot;","body":"I solving the assignment given in course. It requires me &quot;<a href=\"https://gitlab.com/khalimovsarvar/suffixing-app#comsarvarsuffixingapp-app:~:text=Once%20you%20have%20designed%20it%2C%20place%20the%20jar%20into%20src/main/resources%20directory.\" rel=\"nofollow noreferrer\">Once you have designed it, place the jar into src/main/resources directory.</a>&quot;"}],"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667392773,"creation_date":1667392773,"question_id":74289297,"body_markdown":"I want to place the jar into [`src/main/resources`](src/main/resources) directory and name this archive as `suffixingApp.jar`.\r\n\r\nI went through many documentation and StackOverflow, but it seems, I may have messed up my source code (pom.xml) and Suffixing class.\r\n\r\nWhen I run `AppTest.java`, it is returning:\r\n```\r\njava.io.FileNotFoundException: src/main/resources/suffixing.jar (No such file or directory)\r\n\r\nat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat com.epam.rd.autotasks.suffixing.AppTest.setup(AppTest.java:41)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n```\r\n\r\n## Here is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.epam.rd.autotasks&lt;/groupId&gt;\r\n    &lt;artifactId&gt;suffixingApp-app-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;junit5.version&gt;5.6.2&lt;/junit5.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-installed&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\r\n                                    &lt;type&gt;${project.packaging}&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                            &lt;outputDirectory&gt;src/main/resources&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## Here is incomplete `SuffixingApp.java`:\r\n```\r\npackage com.sarvar;\r\n\r\nimport java.io.*;\r\nimport java.util.Properties;\r\nimport java.util.logging.Logger;\r\n\r\npublic class SuffixingApp {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String rootPath = &quot;src/main/resources/&quot;;\r\n        String appConfigPath = rootPath + &quot;app.properties&quot;;\r\n\r\n        Properties appProps = new Properties();\r\n        appProps.load(new FileInputStream(appConfigPath));\r\n        String inputMode = appProps.getProperty(&quot;mode&quot;);\r\n        String inputSuffix = appProps.getProperty(&quot;suffix&quot;);\r\n        String inputFiles = appProps.getProperty(&quot;files&quot;);\r\n\r\n        if (!inputMode.equalsIgnoreCase(&quot;copy&quot;) ||\r\n                !inputMode.equalsIgnoreCase(&quot;move&quot;)) {\r\n            Logger.getLogger(&quot;Mode is not recognized: &quot; + inputMode);\r\n\r\n            return;\r\n        }\r\n\r\n        if (inputSuffix.isEmpty()) {\r\n            Logger.getLogger(&quot;No suffix is configured&quot;);\r\n\r\n            return;\r\n        }\r\n\r\n        if (inputFiles.isEmpty()) {\r\n            Logger.getLogger(&quot;No files are configured to be copied/moved&quot;);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//        Suffixing suffixing = new Suffixing();\r\n//\r\n//        try {\r\n//            System.out.println(&quot;Enter the name of file to rename&quot;);\r\n//            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n//            String fileName = bufferedReader.readLine();\r\n//            suffixing.setOldFileName(fileName);\r\n//\r\n//            System.out.println(&quot;Enter the suffix to rename the file&#39;s name&quot;);\r\n//            BufferedReader bufferedReader2 = new BufferedReader(new InputStreamReader(System.in));\r\n//            String suffix = bufferedReader2.readLine();\r\n//            suffixing.setSuffix(suffix);\r\n//\r\n//            String newFileName = suffixing.getOldFileName() + suffixing.getSuffix();\r\n//            suffixing.setNewFileName(newFileName);\r\n//\r\n//        } catch (IOException e) {\r\n//            throw new IOException();\r\n//        }\r\n//\r\n//        try {\r\n//            suffixing.walkDirectory(suffixing.getPath());\r\n//        } catch (FileNotFoundException e) {\r\n//            e.printStackTrace();\r\n//        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n## Lastly, here is `AppTest.java` if required:\r\n```\r\npackage com.epam.rd.autotasks.suffixing;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.jar.JarInputStream;\r\nimport java.util.jar.Manifest;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.LogManager;\r\nimport java.util.logging.Logger;\r\nimport java.util.logging.SimpleFormatter;\r\nimport java.util.logging.StreamHandler;\r\n\r\nimport static org.hamcrest.CoreMatchers.containsString;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertFalse;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\nclass AppTest {\r\n\r\n    private static Method mainMethod;\r\n    private static Logger appLogger;\r\n\r\n    private ByteArrayOutputStream logSink;\r\n    private StreamHandler appLogHandler;\r\n\r\n    @BeforeAll\r\n    static void setup() throws IOException, ClassNotFoundException, NoSuchMethodException {\r\n        JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src/main/resources/suffixing.jar&quot;));\r\n        Manifest mf = jarStream.getManifest();\r\n        String mainClassName = mf.getMainAttributes().getValue(&quot;Main-Class&quot;);\r\n        Class&lt;?&gt; mainClass = Class.forName(mainClassName);\r\n        mainMethod = mainClass.getMethod(&quot;main&quot;, String[].class);\r\n\r\n        appLogger = LogManager.getLogManager().getLogger(&quot;&quot;);\r\n        appLogger.setLevel(Level.ALL);\r\n\r\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/config&quot;));\r\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/cases&quot;));\r\n\r\n        FileUtils.copyDirectory(\r\n                new File(&quot;src/test/resources/reference/config&quot;),\r\n                new File(&quot;src/test/resources/sandbox/config&quot;));\r\n        FileUtils.copyDirectory(\r\n                new File(&quot;src/test/resources/reference/cases&quot;),\r\n                new File(&quot;src/test/resources/sandbox/cases&quot;));\r\n\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupLoggerHandler() {\r\n        logSink = new ByteArrayOutputStream();\r\n        appLogHandler = new StreamHandler(logSink, new SimpleFormatter());\r\n        appLogger.addHandler(appLogHandler);\r\n    }\r\n\r\n    @Test\r\n    void testAbsentFile() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/absent-file-config.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/no-such-file.txt&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testBadMode1() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-1.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: CPY&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testBadMode2() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-2.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: DELETE&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testCopy() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/copy-config.properties&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/copy/copy.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/copy/copy.copy.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testLowercaseMode() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/lowercase-mode-config.properties&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower-old.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testMixcaseMode() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/mixcase-mode-config.properties&quot;);\r\n        assertFileIsMoved(output,\r\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.mv.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testMove() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/move-config.properties&quot;);\r\n        assertFileIsMoved(output,\r\n                &quot;src/test/resources/sandbox/cases/move/origin.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/move/origin.moved.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testNoSuffixMove() throws InvocationTargetException, IllegalAccessException {\r\n        final String output = runApp(&quot;src/test/resources/sandbox/config/no-suffix-config.properties&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: No suffix is configured&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testEmptyFiles() throws InvocationTargetException, IllegalAccessException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/empty-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testThreeFiles() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files/1.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files/1.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files/2.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files/2.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files/3.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files/3.old.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testThreeFilesMiddleAbsent() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-middle-absent-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.old.txt&quot;);\r\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/three-files-middle-absent/2.txt&quot;));\r\n    }\r\n\r\n    @Test\r\n    void testTwoFiles() throws InvocationTargetException, IllegalAccessException, IOException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/two-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/two-files/1.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/two-files/1.old.txt&quot;);\r\n        assertFileIsCopied(output,\r\n                &quot;src/test/resources/sandbox/cases/two-files/2.txt&quot;,\r\n                &quot;src/test/resources/sandbox/cases/two-files/2.old.txt&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testNoFiles() throws InvocationTargetException, IllegalAccessException {\r\n        final String configFile = &quot;src/test/resources/sandbox/config/no-files-config.properties&quot;;\r\n        final String output = runApp(configFile);\r\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\r\n    }\r\n\r\n    private void assertFileIsCopied(final String output, final String sourceFile, final String copiedFile) throws IOException {\r\n        final Path sourcePath = Paths.get(sourceFile);\r\n        final Path copiedPath = Paths.get(copiedFile);\r\n\r\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; -&gt; &quot; + copiedFile));\r\n        assertTrue(Files.exists(sourcePath), &quot;File &quot; + sourceFile + &quot;must exist&quot;);\r\n        assertTrue(Files.exists(copiedPath), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\r\n\r\n        assertEquals(Files.readString(sourcePath), Files.readString(copiedPath));\r\n    }\r\n\r\n    private void assertFileIsMoved(final String output, final String sourceFile, final String copiedFile) {\r\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; =&gt; &quot; + copiedFile));\r\n        assertFalse(Files.exists(Paths.get(sourceFile)), &quot;File &quot; + sourceFile + &quot;must not exist&quot;);\r\n        assertTrue(Files.exists(Paths.get(copiedFile)), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\r\n    }\r\n\r\n    private String runApp(final String configFilePath) throws IllegalAccessException, InvocationTargetException {\r\n        mainMethod.invoke(null, (Object) new String[]{configFilePath});\r\n        appLogHandler.flush();\r\n        return logSink.toString();\r\n    }\r\n}\r\n\r\n```","title":"Copying jar file into custom directory from target directory in maven","body":"<p>I want to place the jar into <code>src/main/resources</code> directory and name this archive as <code>suffixingApp.jar</code>.</p>\n<p>I went through many documentation and StackOverflow, but it seems, I may have messed up my source code (pom.xml) and Suffixing class.</p>\n<p>When I run <code>AppTest.java</code>, it is returning:</p>\n<pre><code>java.io.FileNotFoundException: src/main/resources/suffixing.jar (No such file or directory)\n\nat java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at com.epam.rd.autotasks.suffixing.AppTest.setup(AppTest.java:41)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<h2>Here is my pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.epam.rd.autotasks&lt;/groupId&gt;\n    &lt;artifactId&gt;suffixingApp-app-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;junit5.version&gt;5.6.2&lt;/junit5.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit5.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${basedir}/src/main/resources&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-installed&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\n                                    &lt;type&gt;${project.packaging}&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;outputDirectory&gt;src/main/resources&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>Here is incomplete <code>SuffixingApp.java</code>:</h2>\n<pre><code>package com.sarvar;\n\nimport java.io.*;\nimport java.util.Properties;\nimport java.util.logging.Logger;\n\npublic class SuffixingApp {\n\n    public static void main(String[] args) throws IOException {\n        String rootPath = &quot;src/main/resources/&quot;;\n        String appConfigPath = rootPath + &quot;app.properties&quot;;\n\n        Properties appProps = new Properties();\n        appProps.load(new FileInputStream(appConfigPath));\n        String inputMode = appProps.getProperty(&quot;mode&quot;);\n        String inputSuffix = appProps.getProperty(&quot;suffix&quot;);\n        String inputFiles = appProps.getProperty(&quot;files&quot;);\n\n        if (!inputMode.equalsIgnoreCase(&quot;copy&quot;) ||\n                !inputMode.equalsIgnoreCase(&quot;move&quot;)) {\n            Logger.getLogger(&quot;Mode is not recognized: &quot; + inputMode);\n\n            return;\n        }\n\n        if (inputSuffix.isEmpty()) {\n            Logger.getLogger(&quot;No suffix is configured&quot;);\n\n            return;\n        }\n\n        if (inputFiles.isEmpty()) {\n            Logger.getLogger(&quot;No files are configured to be copied/moved&quot;);\n        }\n\n\n\n\n\n\n\n\n//        Suffixing suffixing = new Suffixing();\n//\n//        try {\n//            System.out.println(&quot;Enter the name of file to rename&quot;);\n//            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n//            String fileName = bufferedReader.readLine();\n//            suffixing.setOldFileName(fileName);\n//\n//            System.out.println(&quot;Enter the suffix to rename the file's name&quot;);\n//            BufferedReader bufferedReader2 = new BufferedReader(new InputStreamReader(System.in));\n//            String suffix = bufferedReader2.readLine();\n//            suffixing.setSuffix(suffix);\n//\n//            String newFileName = suffixing.getOldFileName() + suffixing.getSuffix();\n//            suffixing.setNewFileName(newFileName);\n//\n//        } catch (IOException e) {\n//            throw new IOException();\n//        }\n//\n//        try {\n//            suffixing.walkDirectory(suffixing.getPath());\n//        } catch (FileNotFoundException e) {\n//            e.printStackTrace();\n//        }\n    }\n\n}\n\n</code></pre>\n<h2>Lastly, here is <code>AppTest.java</code> if required:</h2>\n<pre><code>package com.epam.rd.autotasks.suffixing;\n\nimport org.apache.commons.io.FileUtils;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.jar.JarInputStream;\nimport java.util.jar.Manifest;\nimport java.util.logging.Level;\nimport java.util.logging.LogManager;\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\nimport java.util.logging.StreamHandler;\n\nimport static org.hamcrest.CoreMatchers.containsString;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertFalse;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nclass AppTest {\n\n    private static Method mainMethod;\n    private static Logger appLogger;\n\n    private ByteArrayOutputStream logSink;\n    private StreamHandler appLogHandler;\n\n    @BeforeAll\n    static void setup() throws IOException, ClassNotFoundException, NoSuchMethodException {\n        JarInputStream jarStream = new JarInputStream(new FileInputStream(&quot;src/main/resources/suffixing.jar&quot;));\n        Manifest mf = jarStream.getManifest();\n        String mainClassName = mf.getMainAttributes().getValue(&quot;Main-Class&quot;);\n        Class&lt;?&gt; mainClass = Class.forName(mainClassName);\n        mainMethod = mainClass.getMethod(&quot;main&quot;, String[].class);\n\n        appLogger = LogManager.getLogManager().getLogger(&quot;&quot;);\n        appLogger.setLevel(Level.ALL);\n\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/config&quot;));\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/sandbox/cases&quot;));\n\n        FileUtils.copyDirectory(\n                new File(&quot;src/test/resources/reference/config&quot;),\n                new File(&quot;src/test/resources/sandbox/config&quot;));\n        FileUtils.copyDirectory(\n                new File(&quot;src/test/resources/reference/cases&quot;),\n                new File(&quot;src/test/resources/sandbox/cases&quot;));\n\n    }\n\n    @BeforeEach\n    void setupLoggerHandler() {\n        logSink = new ByteArrayOutputStream();\n        appLogHandler = new StreamHandler(logSink, new SimpleFormatter());\n        appLogger.addHandler(appLogHandler);\n    }\n\n    @Test\n    void testAbsentFile() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/absent-file-config.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/no-such-file.txt&quot;));\n    }\n\n    @Test\n    void testBadMode1() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-1.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: CPY&quot;));\n    }\n\n    @Test\n    void testBadMode2() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/bad-mode-config-2.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: Mode is not recognized: DELETE&quot;));\n    }\n\n    @Test\n    void testCopy() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/copy-config.properties&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/copy/copy.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/copy/copy.copy.txt&quot;);\n    }\n\n    @Test\n    void testLowercaseMode() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/lowercase-mode-config.properties&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/lowercase-mode/lower-old.txt&quot;);\n    }\n\n    @Test\n    void testMixcaseMode() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/mixcase-mode-config.properties&quot;);\n        assertFileIsMoved(output,\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/mixcase-mode/to-move.mv.txt&quot;);\n    }\n\n    @Test\n    void testMove() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/move-config.properties&quot;);\n        assertFileIsMoved(output,\n                &quot;src/test/resources/sandbox/cases/move/origin.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/move/origin.moved.txt&quot;);\n    }\n\n    @Test\n    void testNoSuffixMove() throws InvocationTargetException, IllegalAccessException {\n        final String output = runApp(&quot;src/test/resources/sandbox/config/no-suffix-config.properties&quot;);\n        assertThat(output, containsString(&quot;SEVERE: No suffix is configured&quot;));\n    }\n\n    @Test\n    void testEmptyFiles() throws InvocationTargetException, IllegalAccessException {\n        final String configFile = &quot;src/test/resources/sandbox/config/empty-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\n    }\n\n    @Test\n    void testThreeFiles() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files/1.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files/1.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files/2.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files/2.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files/3.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files/3.old.txt&quot;);\n    }\n\n    @Test\n    void testThreeFilesMiddleAbsent() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String configFile = &quot;src/test/resources/sandbox/config/three-files-middle-absent-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/1.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/three-files-middle-absent/3.old.txt&quot;);\n        assertThat(output, containsString(&quot;SEVERE: No such file: src/test/resources/sandbox/cases/three-files-middle-absent/2.txt&quot;));\n    }\n\n    @Test\n    void testTwoFiles() throws InvocationTargetException, IllegalAccessException, IOException {\n        final String configFile = &quot;src/test/resources/sandbox/config/two-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/two-files/1.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/two-files/1.old.txt&quot;);\n        assertFileIsCopied(output,\n                &quot;src/test/resources/sandbox/cases/two-files/2.txt&quot;,\n                &quot;src/test/resources/sandbox/cases/two-files/2.old.txt&quot;);\n    }\n\n    @Test\n    void testNoFiles() throws InvocationTargetException, IllegalAccessException {\n        final String configFile = &quot;src/test/resources/sandbox/config/no-files-config.properties&quot;;\n        final String output = runApp(configFile);\n        assertThat(output, containsString(&quot;WARNING: No files are configured to be copied/moved&quot;));\n    }\n\n    private void assertFileIsCopied(final String output, final String sourceFile, final String copiedFile) throws IOException {\n        final Path sourcePath = Paths.get(sourceFile);\n        final Path copiedPath = Paths.get(copiedFile);\n\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; -&gt; &quot; + copiedFile));\n        assertTrue(Files.exists(sourcePath), &quot;File &quot; + sourceFile + &quot;must exist&quot;);\n        assertTrue(Files.exists(copiedPath), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\n\n        assertEquals(Files.readString(sourcePath), Files.readString(copiedPath));\n    }\n\n    private void assertFileIsMoved(final String output, final String sourceFile, final String copiedFile) {\n        assertThat(output, containsString(&quot;INFO: &quot; + sourceFile + &quot; =&gt; &quot; + copiedFile));\n        assertFalse(Files.exists(Paths.get(sourceFile)), &quot;File &quot; + sourceFile + &quot;must not exist&quot;);\n        assertTrue(Files.exists(Paths.get(copiedFile)), &quot;File &quot; + copiedFile + &quot;must exist&quot;);\n    }\n\n    private String runApp(final String configFilePath) throws IllegalAccessException, InvocationTargetException {\n        mainMethod.invoke(null, (Object) new String[]{configFilePath});\n        appLogHandler.flush();\n        return logSink.toString();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667390987,"post_id":74288870,"comment_id":131154859,"body_markdown":"Then you have to use a selection on column RELATIVE_PATH with the special path value as selection argument.","body":"Then you have to use a selection on column RELATIVE_PATH with the special path value as selection argument."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667391071,"post_id":74288870,"comment_id":131154891,"body_markdown":"And... The path you mentioned is not a path and does not exist and we wonder where you obtained it.","body":"And... The path you mentioned is not a path and does not exist and we wonder where you obtained it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667391167,"post_id":74288870,"comment_id":131154916,"body_markdown":"Further, your code does not show at all how you query() the mediastore.","body":"Further, your code does not show at all how you query() the mediastore."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667391538,"post_id":74288870,"comment_id":131155045,"body_markdown":"And what does it have to do with scoped storage?","body":"And what does it have to do with scoped storage?"},{"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"score":0,"creation_date":1667392272,"post_id":74288870,"comment_id":131155278,"body_markdown":"I am trying to fetch all pdf files and show them in recycler view from some specific folder","body":"I am trying to fetch all pdf files and show them in recycler view from some specific folder"},{"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"score":0,"creation_date":1667392305,"post_id":74288870,"comment_id":131155291,"body_markdown":"i have already pass the selection argument","body":"i have already pass the selection argument"},{"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"score":0,"creation_date":1667392310,"post_id":74288870,"comment_id":131155293,"body_markdown":"String pdf = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    String[] selectionArgs = new String[]{pdf};","body":"String pdf = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);     String[] selectionArgs = new String[]{pdf};"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667392423,"post_id":74288870,"comment_id":131155336,"body_markdown":"??? Post full code in your post. Not in a comment. Show the query().","body":"??? Post full code in your post. Not in a comment. Show the query()."}],"answers":[{"tags":[],"owner":{"display_name":"user15660680"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667392759,"creation_date":1667392759,"answer_id":74289295,"question_id":74288870,"body_markdown":"Using StorageAccess freamwork follow this\r\n\r\nFile Check.java\r\n````\r\npackage com.axanor.saf_sample;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.storage.StorageManager;\r\nimport android.util.Log;\r\n\r\npublic class Check {\r\n    Context context;\r\n    private String TAG=&quot;SOMNATH&quot;;\r\n\r\n    public Check(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public boolean  ch(){\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n            StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\r\n\r\n            Intent intent = sm.getPrimaryStorageVolume().createOpenDocumentTreeIntent();\r\n            //String startDir = &quot;Android&quot;;\r\n            //String startDir = &quot;Download&quot;; // Not choosable on an Android 11 device\r\n            //String startDir = &quot;DCIM&quot;;\r\n            //String startDir = &quot;DCIM/Camera&quot;;  // replace &quot;/&quot;, &quot;%2F&quot;\r\n            //String startDir = &quot;DCIM%2FCamera&quot;;\r\n            String startDir = &quot;Documents&quot;;\r\n\r\n            Uri uri = intent.getParcelableExtra(&quot;android.provider.extra.INITIAL_URI&quot;);\r\n\r\n            String scheme = uri.toString();\r\n\r\n            Log.d(TAG, &quot;INITIAL_URI scheme: &quot; + scheme);\r\n\r\n            scheme = scheme.replace(&quot;/root/&quot;, &quot;/document/&quot;);\r\n\r\n            scheme += &quot;%3A&quot; + startDir;\r\n\r\n            uri = Uri.parse(scheme);\r\n\r\n            intent.putExtra(&quot;android.provider.extra.INITIAL_URI&quot;, uri);\r\n\r\n            Log.d(TAG, &quot;uri: &quot; + uri.toString());\r\n\r\n            ((Activity) context).startActivityForResult(intent, 12123);\r\n\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n````\r\nFile StorageAccess.kt\r\n````\r\npackage com.axanor.saf_sample\r\n\r\nimport android.app.Activity\r\nimport android.content.Intent\r\nimport android.net.Uri\r\nimport android.provider.DocumentsContract\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.documentfile.provider.DocumentFile\r\nimport java.io.FileNotFoundException\r\nimport java.io.FileOutputStream\r\nimport java.io.IOException\r\n\r\nclass StorageAccess {\r\n    val activity:Activity;\r\n    val LOGTAG = &quot;SOMNATH&quot;\r\n    val REQUEST_CODE = 12123\r\n    constructor(activity: Activity) {\r\n        this.activity = activity\r\n    }\r\n\r\n\r\n\r\n\r\n    public fun openDocumentTree() {\r\n        val check = Check(activity)\r\n        val uriString = SpUtil.getString(SpUtil.FOLDER_URI, &quot;&quot;)\r\n        when {\r\n            uriString == &quot;&quot; -&gt; {\r\n                Log.w(LOGTAG, &quot;uri not stored&quot;)\r\n\r\n\r\n                if (!check.ch()){\r\n                    askPermission()\r\n                }\r\n\r\n            }\r\n            arePermissionsGranted(uriString) -&gt; {\r\n                makeDoc(Uri.parse(uriString))\r\n            }\r\n            else -&gt; {\r\n                Log.w(LOGTAG, &quot;uri permission not stored&quot;)\r\n                if (!check.ch()){\r\n                    askPermission()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // this will present the user with folder browser to select a folder for our data\r\n    public fun askPermission() {\r\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\r\n        activity.startActivityForResult(intent, REQUEST_CODE)\r\n    }\r\n\r\n  \r\n\r\n    public fun makeDoc(dirUri: Uri) {\r\n        val dir = DocumentFile.fromTreeUri(activity, dirUri)\r\n        if (dir == null || !dir.exists()) {\r\n            //the folder was probably deleted\r\n            Log.e(LOGTAG, &quot;no Dir&quot;)\r\n            //according to Commonsware blog, the number of persisted uri permissions is limited\r\n            //so we should release those we cannot use anymore\r\n            //https://commonsware.com/blog/2020/06/13/count-your-saf-uri-permission-grants.html\r\n            releasePermissions(dirUri)\r\n            //ask user to choose another folder\r\n            Toast.makeText(activity,&quot;Folder deleted, please choose another!&quot;, Toast.LENGTH_SHORT).show()\r\n            openDocumentTree()\r\n        } else {\r\n            val file = dir.createFile(&quot;*/txt&quot;, &quot;test.txt&quot;)\r\n            if (file != null &amp;&amp; file.canWrite()) {\r\n                Log.d(LOGTAG, &quot;file.uri = ${file.uri.toString()}&quot;)\r\n                alterDocument(file.uri)\r\n            } else {\r\n                Log.d(LOGTAG, &quot;no file or cannot write&quot;)\r\n                //consider showing some more appropriate error message\r\n                Toast.makeText(activity,&quot;Write error!&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public fun releasePermissions(uri: Uri) {\r\n        val flags: Int = Intent.FLAG_GRANT_READ_URI_PERMISSION or\r\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION\r\n        activity.contentResolver.releasePersistableUriPermission(uri,flags)\r\n        //we should remove this uri from our shared prefs, so we can start over again next time\r\n        SpUtil.storeString(SpUtil.FOLDER_URI, &quot;&quot;)\r\n    }\r\n\r\n\r\n    //Just a test function to write something into a file, from https://developer.android.com\r\n    //Please note, that all file IO MUST be done on a background thread. It is not so in this\r\n    //sample - for the sake of brevity.\r\n    public fun alterDocument(uri: Uri) {\r\n        try {\r\n\r\n            activity.contentResolver.openFileDescriptor(uri, &quot;w&quot;)?.use { parcelFileDescriptor -&gt;\r\n                FileOutputStream(parcelFileDescriptor.fileDescriptor).use {\r\n                    it.write(\r\n                        (&quot;String written at ${System.currentTimeMillis()}\\n&quot;)\r\n                            .toByteArray()\r\n                    )\r\n                    Toast.makeText(activity,&quot;File Write OK!&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n\r\n                    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\r\n                    intent.addCategory(Intent.CATEGORY_OPENABLE)\r\n                    intent.type = &quot;application/pdf&quot;\r\n\r\n                    // Optionally, specify a URI for the file that should appear in the\r\n                    // system file picker when it loads.\r\n\r\n                    // Optionally, specify a URI for the file that should appear in the\r\n                    // system file picker when it loads.\r\n                    intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uri)\r\n\r\n                    activity.startActivityForResult(intent, 2)\r\n\r\n\r\n\r\n                }\r\n            }\r\n        } catch (e: FileNotFoundException) {\r\n            e.printStackTrace()\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n\r\n\r\n    public fun arePermissionsGranted(uriString: String): Boolean {\r\n        // list of all persisted permissions for our app\r\n        val list = activity.contentResolver.persistedUriPermissions\r\n        for (i in list.indices) {\r\n            val persistedUriString = list[i].uri.toString()\r\n            //Log.d(LOGTAG, &quot;comparing $persistedUriString and $uriString&quot;)\r\n            if (persistedUriString == uriString &amp;&amp; list[i].isWritePermission &amp;&amp; list[i].isReadPermission) {\r\n                //Log.d(LOGTAG, &quot;permission ok&quot;)\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n}\r\n````\r\nAnd To Open Call in Your Activity \r\n````\r\nStorageAccess access = new StorageAccess(this);\r\naccess.openDocumentTree();\r\n\r\n````","title":"How to read files from external storage specific folder in android scope storage","body":"<p>Using StorageAccess freamwork follow this</p>\n<p>File Check.java</p>\n<pre><code>package com.axanor.saf_sample;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.storage.StorageManager;\nimport android.util.Log;\n\npublic class Check {\n    Context context;\n    private String TAG=&quot;SOMNATH&quot;;\n\n    public Check(Context context) {\n        this.context = context;\n    }\n\n    public boolean  ch(){\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n            StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\n\n            Intent intent = sm.getPrimaryStorageVolume().createOpenDocumentTreeIntent();\n            //String startDir = &quot;Android&quot;;\n            //String startDir = &quot;Download&quot;; // Not choosable on an Android 11 device\n            //String startDir = &quot;DCIM&quot;;\n            //String startDir = &quot;DCIM/Camera&quot;;  // replace &quot;/&quot;, &quot;%2F&quot;\n            //String startDir = &quot;DCIM%2FCamera&quot;;\n            String startDir = &quot;Documents&quot;;\n\n            Uri uri = intent.getParcelableExtra(&quot;android.provider.extra.INITIAL_URI&quot;);\n\n            String scheme = uri.toString();\n\n            Log.d(TAG, &quot;INITIAL_URI scheme: &quot; + scheme);\n\n            scheme = scheme.replace(&quot;/root/&quot;, &quot;/document/&quot;);\n\n            scheme += &quot;%3A&quot; + startDir;\n\n            uri = Uri.parse(scheme);\n\n            intent.putExtra(&quot;android.provider.extra.INITIAL_URI&quot;, uri);\n\n            Log.d(TAG, &quot;uri: &quot; + uri.toString());\n\n            ((Activity) context).startActivityForResult(intent, 12123);\n\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n\n\n\n}\n\n\n\n\n</code></pre>\n<p>File StorageAccess.kt</p>\n<pre><code>package com.axanor.saf_sample\n\nimport android.app.Activity\nimport android.content.Intent\nimport android.net.Uri\nimport android.provider.DocumentsContract\nimport android.util.Log\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.documentfile.provider.DocumentFile\nimport java.io.FileNotFoundException\nimport java.io.FileOutputStream\nimport java.io.IOException\n\nclass StorageAccess {\n    val activity:Activity;\n    val LOGTAG = &quot;SOMNATH&quot;\n    val REQUEST_CODE = 12123\n    constructor(activity: Activity) {\n        this.activity = activity\n    }\n\n\n\n\n    public fun openDocumentTree() {\n        val check = Check(activity)\n        val uriString = SpUtil.getString(SpUtil.FOLDER_URI, &quot;&quot;)\n        when {\n            uriString == &quot;&quot; -&gt; {\n                Log.w(LOGTAG, &quot;uri not stored&quot;)\n\n\n                if (!check.ch()){\n                    askPermission()\n                }\n\n            }\n            arePermissionsGranted(uriString) -&gt; {\n                makeDoc(Uri.parse(uriString))\n            }\n            else -&gt; {\n                Log.w(LOGTAG, &quot;uri permission not stored&quot;)\n                if (!check.ch()){\n                    askPermission()\n                }\n            }\n        }\n    }\n\n    // this will present the user with folder browser to select a folder for our data\n    public fun askPermission() {\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n        activity.startActivityForResult(intent, REQUEST_CODE)\n    }\n\n  \n\n    public fun makeDoc(dirUri: Uri) {\n        val dir = DocumentFile.fromTreeUri(activity, dirUri)\n        if (dir == null || !dir.exists()) {\n            //the folder was probably deleted\n            Log.e(LOGTAG, &quot;no Dir&quot;)\n            //according to Commonsware blog, the number of persisted uri permissions is limited\n            //so we should release those we cannot use anymore\n            //https://commonsware.com/blog/2020/06/13/count-your-saf-uri-permission-grants.html\n            releasePermissions(dirUri)\n            //ask user to choose another folder\n            Toast.makeText(activity,&quot;Folder deleted, please choose another!&quot;, Toast.LENGTH_SHORT).show()\n            openDocumentTree()\n        } else {\n            val file = dir.createFile(&quot;*/txt&quot;, &quot;test.txt&quot;)\n            if (file != null &amp;&amp; file.canWrite()) {\n                Log.d(LOGTAG, &quot;file.uri = ${file.uri.toString()}&quot;)\n                alterDocument(file.uri)\n            } else {\n                Log.d(LOGTAG, &quot;no file or cannot write&quot;)\n                //consider showing some more appropriate error message\n                Toast.makeText(activity,&quot;Write error!&quot;, Toast.LENGTH_SHORT).show()\n\n            }\n        }\n    }\n\n\n    public fun releasePermissions(uri: Uri) {\n        val flags: Int = Intent.FLAG_GRANT_READ_URI_PERMISSION or\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n        activity.contentResolver.releasePersistableUriPermission(uri,flags)\n        //we should remove this uri from our shared prefs, so we can start over again next time\n        SpUtil.storeString(SpUtil.FOLDER_URI, &quot;&quot;)\n    }\n\n\n    //Just a test function to write something into a file, from https://developer.android.com\n    //Please note, that all file IO MUST be done on a background thread. It is not so in this\n    //sample - for the sake of brevity.\n    public fun alterDocument(uri: Uri) {\n        try {\n\n            activity.contentResolver.openFileDescriptor(uri, &quot;w&quot;)?.use { parcelFileDescriptor -&gt;\n                FileOutputStream(parcelFileDescriptor.fileDescriptor).use {\n                    it.write(\n                        (&quot;String written at ${System.currentTimeMillis()}\\n&quot;)\n                            .toByteArray()\n                    )\n                    Toast.makeText(activity,&quot;File Write OK!&quot;, Toast.LENGTH_SHORT).show()\n\n\n                    val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\n                    intent.addCategory(Intent.CATEGORY_OPENABLE)\n                    intent.type = &quot;application/pdf&quot;\n\n                    // Optionally, specify a URI for the file that should appear in the\n                    // system file picker when it loads.\n\n                    // Optionally, specify a URI for the file that should appear in the\n                    // system file picker when it loads.\n                    intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uri)\n\n                    activity.startActivityForResult(intent, 2)\n\n\n\n                }\n            }\n        } catch (e: FileNotFoundException) {\n            e.printStackTrace()\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n\n\n    public fun arePermissionsGranted(uriString: String): Boolean {\n        // list of all persisted permissions for our app\n        val list = activity.contentResolver.persistedUriPermissions\n        for (i in list.indices) {\n            val persistedUriString = list[i].uri.toString()\n            //Log.d(LOGTAG, &quot;comparing $persistedUriString and $uriString&quot;)\n            if (persistedUriString == uriString &amp;&amp; list[i].isWritePermission &amp;&amp; list[i].isReadPermission) {\n                //Log.d(LOGTAG, &quot;permission ok&quot;)\n                return true\n            }\n        }\n        return false\n    }\n    \n    \n    \n    \n    \n    \n    \n}\n</code></pre>\n<p>And To Open Call in Your Activity</p>\n<pre><code>StorageAccess access = new StorageAccess(this);\naccess.openDocumentTree();\n\n</code></pre>\n"}],"owner":{"account_id":26298446,"reputation":11,"user_id":19964298,"display_name":"Muhammad Abbas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667392759,"creation_date":1667390714,"question_id":74288870,"body_markdown":"I am using MediaStore API to read files and I know how to read all files from external storage like pdf etc, but let&#39;s suppose I want to read it from some specific folder then what should i do? \r\nif this is the path...\r\ncontent://media//storage/emulated/0/my_folder_name\r\n\r\n\r\nI have been try to give a path to **collection **but its not working...\r\n```\r\n Uri collection;\r\n    if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.Q)\r\n    {\r\n//        collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\r\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n//        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL+&quot;/&quot;+&quot;myFolder_1122&quot;);\r\n        Log.e(TAG, &quot;ReadSDcard: path______________________________________________&quot;+collection );\r\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\r\n    }\r\n    else\r\n    {\r\n//        collection = MediaStore.Files.getContentUri(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/myFolder_1122/&quot;);  _________&quot;myFolder_1122&quot; this is the folder which i have created\r\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);//this will work for fetching all files from external below API level 30\r\n        Log.e(TAG, &quot;ReadSDcard: path ______________________________________________ &quot;+collection );\r\n        Toast.makeText(this, &quot;collection: &quot;+collection.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\r\n\r\n    }\r\n    return myList;\r\n```\r\n","title":"How to read files from external storage specific folder in android scope storage","body":"<p>I am using MediaStore API to read files and I know how to read all files from external storage like pdf etc, but let's suppose I want to read it from some specific folder then what should i do?\nif this is the path...\ncontent://media//storage/emulated/0/my_folder_name</p>\n<p>I have been try to give a path to **collection **but its not working...</p>\n<pre><code> Uri collection;\n    if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.Q)\n    {\n//        collection = MediaStore.Downloads.getContentUri(&quot;external&quot;);\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n//        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL+&quot;/&quot;+&quot;myFolder_1122&quot;);\n        Log.e(TAG, &quot;ReadSDcard: path______________________________________________&quot;+collection );\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\n    }\n    else\n    {\n//        collection = MediaStore.Files.getContentUri(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/myFolder_1122/&quot;);  _________&quot;myFolder_1122&quot; this is the folder which i have created\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);//this will work for fetching all files from external below API level 30\n        Log.e(TAG, &quot;ReadSDcard: path ______________________________________________ &quot;+collection );\n        Toast.makeText(this, &quot;collection: &quot;+collection.toString(), Toast.LENGTH_SHORT).show();\n\n        myList.addAll( getListOfPdfFiles(collection, projection, selection, selectionArgs));\n\n    }\n    return myList;\n</code></pre>\n"},{"tags":["java","groovy","micronaut","micronaut-rest"],"answers":[{"comments":[{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":0,"creation_date":1667408643,"post_id":74289261,"comment_id":131161925,"body_markdown":"Hi Ivan! Thank you for catching the mistake in the signature of my Handler. In my Spec I am using a declarative client. (Api class annotated with @Client) This should be a HttpClient, and throw the right exception, right? Or does it fail silently?","body":"Hi Ivan! Thank you for catching the mistake in the signature of my Handler. In my Spec I am using a declarative client. (Api class annotated with @Client) This should be a HttpClient, and throw the right exception, right? Or does it fail silently?"},{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":0,"creation_date":1667408808,"post_id":74289261,"comment_id":131161983,"body_markdown":"Wow, indeed I tried your code and it does throw the exception. It&#39;s confusing that the declarative client will fail silently when the low-level client throws an exception. Would you know why?","body":"Wow, indeed I tried your code and it does throw the exception. It&#39;s confusing that the declarative client will fail silently when the low-level client throws an exception. Would you know why?"},{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":0,"creation_date":1667408860,"post_id":74289261,"comment_id":131162009,"body_markdown":"I&#39;ll accept your answer as it solves the core issue! Thank you","body":"I&#39;ll accept your answer as it solves the core issue! Thank you"},{"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"score":0,"creation_date":1667459419,"post_id":74289261,"comment_id":131172659,"body_markdown":"I think you are a little bit wrong. You created a `Controller` and want to test it.\nIf you want to create a `Client`, you should use a `@Client` annotation.\nYou can create an interface, e.g. `AuthorInterface` where you will describe your endpoints. And then you can create a `Controller` and a `Client` and both of them will implement this interface.","body":"I think you are a little bit wrong. You created a <code>Controller</code> and want to test it. If you want to create a <code>Client</code>, you should use a <code>@Client</code> annotation. You can create an interface, e.g. <code>AuthorInterface</code> where you will describe your endpoints. And then you can create a <code>Controller</code> and a <code>Client</code> and both of them will implement this interface."},{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":0,"creation_date":1667487662,"post_id":74289261,"comment_id":131182690,"body_markdown":"I can think of many cases where the Controller and the Client will not share the same interface. Not exactly.","body":"I can think of many cases where the Controller and the Client will not share the same interface. Not exactly."},{"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"score":0,"creation_date":1667577730,"post_id":74289261,"comment_id":131206889,"body_markdown":"Yes, there are a lot of. But if you want to test, you should do it","body":"Yes, there are a lot of. But if you want to test, you should do it"}],"tags":[],"owner":{"account_id":14473495,"reputation":473,"user_id":10454720,"display_name":"Иван Зыков"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667392568,"creation_date":1667392568,"answer_id":74289261,"question_id":74287360,"body_markdown":"You imported the wrong `HttpRequest`\r\n\r\nInstead of `import java.net.http.HttpRequest` you should import `import io.micronaut.http.HttpRequest`.\r\n\r\nBut even then you will not catch `HttpClientResponseException` because you don&#39;t use any `Client` in your test. If you want to receive this exception you should write something like this:\r\n\r\n```\r\n    @Inject\r\n    @Client(&quot;/author&quot;)\r\n    HttpClient client\r\n\r\n    @IgnoreRest\r\n    def &quot;It fails to get an non-existing Author with an HttpClient&quot;() {\r\n        given:\r\n        def token = viewer()\r\n\r\n        when:\r\n        def author = client.toBlocking().exchange(HttpRequest.create(\r\n                HttpMethod.GET,\r\n                &quot;/&quot; + badId\r\n        ).bearerAuth(token))\r\n\r\n        then:\r\n        def ex = thrown(HttpClientResponseException)\r\n        ex.status == NOT_FOUND\r\n        ex.getResponse().getBody(ErrorResource).map {\r\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\r\n            it\r\n        }.isPresent()\r\n\r\n        where:\r\n        badId = anyInt()\r\n    }\r\n``` ","title":"Micronaut @Error annotation not working (micronaut 3.7.3)","body":"<p>You imported the wrong <code>HttpRequest</code></p>\n<p>Instead of <code>import java.net.http.HttpRequest</code> you should import <code>import io.micronaut.http.HttpRequest</code>.</p>\n<p>But even then you will not catch <code>HttpClientResponseException</code> because you don't use any <code>Client</code> in your test. If you want to receive this exception you should write something like this:</p>\n<pre><code>    @Inject\n    @Client(&quot;/author&quot;)\n    HttpClient client\n\n    @IgnoreRest\n    def &quot;It fails to get an non-existing Author with an HttpClient&quot;() {\n        given:\n        def token = viewer()\n\n        when:\n        def author = client.toBlocking().exchange(HttpRequest.create(\n                HttpMethod.GET,\n                &quot;/&quot; + badId\n        ).bearerAuth(token))\n\n        then:\n        def ex = thrown(HttpClientResponseException)\n        ex.status == NOT_FOUND\n        ex.getResponse().getBody(ErrorResource).map {\n            assert it.message == &quot;Author with id ${badId} not found.&quot;\n            it\n        }.isPresent()\n\n        where:\n        badId = anyInt()\n    }\n</code></pre>\n"}],"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74289261,"answer_count":1,"score":1,"last_activity_date":1667392568,"creation_date":1667383134,"question_id":74287360,"body_markdown":"I&#39;m trying to improve the error handling in a controller by using the @Error annotation.\r\n\r\n```groovy\r\n    @Get(uri = &quot;/{id}&quot;)\r\n    @Secured(&quot;ROLE_VIEW&quot;)\r\n    HttpResponse&lt;AuthorResource&gt; show(Long id) {\r\n        try {\r\n            ok(authorService.get(id).get())\r\n        } catch (Exception e) {\r\n            e.printStackTrace()\r\n            throw e\r\n        }\r\n    }\r\n```\r\n\r\nThe `get()` method will either return the AuthorResource (`io.vavr.control.Try`), or throw a custom exception, subclass of our base ErrorContext exception class.\r\n\r\nI then added the following errorhandler in the controller:\r\n\r\n```groovy\r\n    @Error(exception = ErrorContext, global = true)\r\n    HttpResponse&lt;ErrorContext&gt; onErrorContext(HttpRequest request, ErrorContext error) {\r\n        HttpResponse.&lt;ErrorContext&gt;status(HttpStatus.valueOf(error.code)).body(error)\r\n    }\r\n```\r\n\r\nUnfortunately, the exception handler does not seem to be invoked, and an INTERNAL_SERVER_ERROR is triggered (instead of a NOT_FOUND in this example). The output of the gradle test task can be found below.\r\n\r\nI have tried the following:\r\n- Using a global handler (`global=true`)\r\n- Annotating the handler with the actual subclass that is being thrown (`ErrorContextWithoutStacktrace`)\r\n\r\nAm I missing anything?\r\n\r\nI have created a working [application in github here][1]\r\n\r\n[Controller class][2]\r\n\r\n\r\n[Test class][3]\r\n\r\n  [1]: https://github.com/B2Boost/mn-errorhandling-issue\r\n  [2]: https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/main/groovy/example/controller/AuthorController.groovy\r\n  [3]: https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/test/groovy/example/controller/AuthorControllerSpec.groovy\r\n\r\n\r\nOutput of test (including partial stacktraces due to length limitation in SO):\r\n\r\n    10:50:31.455 [ForkJoinPool.commonPool-worker-7] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\r\n    10:50:31.579 [main] INFO  i.m.testresources.server.Application - A Micronaut Test Resources server is listening on port 43207, started in 182ms\r\n    10:50:33.164 [default-nioEventLoopGroup-1-2] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\r\n    \r\n    &gt; Task :test\r\n    \r\n    AuthorControllerSpec STANDARD_OUT\r\n        10:50:32.581 [Test worker] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [test]\r\n        10:50:33.131 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\r\n        10:50:33.190 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\r\n        10:50:33.216 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\r\n        10:50:33.246 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\r\n        10:50:33.249 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\r\n        10:50:33.254 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\r\n        10:50:33.258 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\r\n        10:50:33.262 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\r\n        10:50:33.367 [Test worker] INFO  i.m.c.h.g.HibernateDatastoreFactory - Starting GORM for Hibernate\r\n        10:50:33.883 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final\r\n        10:50:33.984 [Test worker] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final\r\n        10:50:34.074 [Test worker] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n        10:50:34.139 [Test worker] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\r\n        10:50:34.879 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:37361/author/546252431\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_ERROR\r\n        error.ErrorContextWithoutStacktrace: Author with id 546252431 not found.\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\r\n        10:50:34.999 [default-nioEventLoopGroup-3-3] ERROR i.m.http.server.RouteExecutor - Unexpected error occurred: Required argument [HttpRequest request] not specified\r\n        io.micronaut.web.router.exceptions.UnsatisfiedRouteException: Required argument [HttpRequest request] not specified\r\n            at io.micronaut.web.router.exceptions.UnsatisfiedRouteException.create(UnsatisfiedRouteException.java:76)\r\n            at io.micronaut.web.router.AbstractRouteMatch.execute(AbstractRouteMatch.java:297)\r\n            at io.micronaut.web.router.RouteMatch.execute(RouteMatch.java:111)\r\n            at io.micronaut.http.context.ServerRequestContext.with(ServerRequestContext.java:103)\r\n            at io.micronaut.http.server.RouteExecutor.lambda$executeRoute$14(RouteExecutor.java:659)\r\n            at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)\r\n    [Skipped a lot of reactive frames]\r\n            at reactor.core.publisher.Flux.subscribe(Flux.java:8522)\r\n            at io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:601)\r\n            at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:457)\r\n            at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:147)\r\n            at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n    [Skipped a lot of netty channel stuff]\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n        10:50:35.031 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 500 from http://localhost:37361/author/546252431\r\n        10:50:35.049 [Test worker] ERROR i.m.r.intercept.RecoveryInterceptor - Type [example.controller.Api$Intercepted] executed with error: error.ErrorResource@475fb7\r\n        io.micronaut.http.client.exceptions.HttpClientResponseException: error.ErrorResource@475fb7\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.makeErrorFromRequestBody(DefaultHttpClient.java:2226)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2199)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2122)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$BaseHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2097)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2158)\r\n            at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2122)\r\n            at io.micronaut.http.client.netty.SimpleChannelInboundHandlerInstrumented.channelRead0(SimpleChannelInboundHandlerInstrumented.java:49)\r\n            at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n    [Skipped a lot of netty channel stuff]\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n            at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n            at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n            Suppressed: java.lang.Exception: #block terminated with an error\r\n                    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                    at reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\r\n                    at io.micronaut.http.client.netty.DefaultHttpClient$1.exchange(DefaultHttpClient.java:498)\r\n                    at io.micronaut.http.client.netty.DefaultHttpClient$1.retrieve(DefaultHttpClient.java:505)\r\n                    at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.lambda$intercept$5(HttpClientIntroductionAdvice.java:409)\r\n                    at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.handleBlockingCall(HttpClientIntroductionAdvice.java:508)\r\n                    at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.intercept(HttpClientIntroductionAdvice.java:408)\r\n                    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n                    at io.micronaut.retry.intercept.RecoveryInterceptor.intercept(RecoveryInterceptor.java:92)\r\n                    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n                    at example.controller.Api$Intercepted.getAuthor(Unknown Source)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n                    at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSiteNoUnwrap.invoke(PojoMetaMethodSite.java:203)\r\n                    at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\r\n                    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n                    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n                    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n                    at example.controller.AuthorControllerSpec.$spock_feature_0_0(AuthorControllerSpec.groovy:33)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                    at org.spockframework.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:198)\r\n    [Skipped a lot of gradle, junit, and spock stuff]\r\n                    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    \r\n    AuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] FAILED\r\n        org.spockframework.runtime.SpockComparisonFailure at AuthorControllerSpec.groovy:37\r\n\r\n","title":"Micronaut @Error annotation not working (micronaut 3.7.3)","body":"<p>I'm trying to improve the error handling in a controller by using the @Error annotation.</p>\n<pre><code>    @Get(uri = &quot;/{id}&quot;)\n    @Secured(&quot;ROLE_VIEW&quot;)\n    HttpResponse&lt;AuthorResource&gt; show(Long id) {\n        try {\n            ok(authorService.get(id).get())\n        } catch (Exception e) {\n            e.printStackTrace()\n            throw e\n        }\n    }\n</code></pre>\n<p>The <code>get()</code> method will either return the AuthorResource (<code>io.vavr.control.Try</code>), or throw a custom exception, subclass of our base ErrorContext exception class.</p>\n<p>I then added the following errorhandler in the controller:</p>\n<pre><code>    @Error(exception = ErrorContext, global = true)\n    HttpResponse&lt;ErrorContext&gt; onErrorContext(HttpRequest request, ErrorContext error) {\n        HttpResponse.&lt;ErrorContext&gt;status(HttpStatus.valueOf(error.code)).body(error)\n    }\n</code></pre>\n<p>Unfortunately, the exception handler does not seem to be invoked, and an INTERNAL_SERVER_ERROR is triggered (instead of a NOT_FOUND in this example). The output of the gradle test task can be found below.</p>\n<p>I have tried the following:</p>\n<ul>\n<li>Using a global handler (<code>global=true</code>)</li>\n<li>Annotating the handler with the actual subclass that is being thrown (<code>ErrorContextWithoutStacktrace</code>)</li>\n</ul>\n<p>Am I missing anything?</p>\n<p>I have created a working <a href=\"https://github.com/B2Boost/mn-errorhandling-issue\" rel=\"nofollow noreferrer\">application in github here</a></p>\n<p><a href=\"https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/main/groovy/example/controller/AuthorController.groovy\" rel=\"nofollow noreferrer\">Controller class</a></p>\n<p><a href=\"https://github.com/B2Boost/mn-errorhandling-issue/blob/main/src/test/groovy/example/controller/AuthorControllerSpec.groovy\" rel=\"nofollow noreferrer\">Test class</a></p>\n<p>Output of test (including partial stacktraces due to length limitation in SO):</p>\n<pre><code>10:50:31.455 [ForkJoinPool.commonPool-worker-7] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\n10:50:31.579 [main] INFO  i.m.testresources.server.Application - A Micronaut Test Resources server is listening on port 43207, started in 182ms\n10:50:33.164 [default-nioEventLoopGroup-1-2] INFO  i.m.t.e.TestResourcesResolverLoader - Loaded 1 test resources resolvers: io.micronaut.testresources.testcontainers.GenericTestContainerProvider\n\n&gt; Task :test\n\nAuthorControllerSpec STANDARD_OUT\n    10:50:32.581 [Test worker] INFO  i.m.context.env.DefaultEnvironment - Established active environments: [test]\n    10:50:33.131 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\n    10:50:33.190 [multithreadEventLoopGroup-1-1] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\n    10:50:33.216 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\n    10:50:33.246 [multithreadEventLoopGroup-1-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\n    10:50:33.249 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:43207/requirements/entries\n    10:50:33.254 [multithreadEventLoopGroup-1-3] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/requirements/entries\n    10:50:33.258 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP POST to http://localhost:43207/list\n    10:50:33.262 [multithreadEventLoopGroup-1-4] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 200 from http://localhost:43207/list\n    10:50:33.367 [Test worker] INFO  i.m.c.h.g.HibernateDatastoreFactory - Starting GORM for Hibernate\n    10:50:33.883 [Test worker] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.11.Final\n    10:50:33.984 [Test worker] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.5.Final\n    10:50:34.074 [Test worker] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n    10:50:34.139 [Test worker] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\n    10:50:34.879 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Sending HTTP GET to http://localhost:37361/author/546252431\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_ERROR\n    error.ErrorContextWithoutStacktrace: Author with id 546252431 not found.\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] STANDARD_OUT\n    10:50:34.999 [default-nioEventLoopGroup-3-3] ERROR i.m.http.server.RouteExecutor - Unexpected error occurred: Required argument [HttpRequest request] not specified\n    io.micronaut.web.router.exceptions.UnsatisfiedRouteException: Required argument [HttpRequest request] not specified\n        at io.micronaut.web.router.exceptions.UnsatisfiedRouteException.create(UnsatisfiedRouteException.java:76)\n        at io.micronaut.web.router.AbstractRouteMatch.execute(AbstractRouteMatch.java:297)\n        at io.micronaut.web.router.RouteMatch.execute(RouteMatch.java:111)\n        at io.micronaut.http.context.ServerRequestContext.with(ServerRequestContext.java:103)\n        at io.micronaut.http.server.RouteExecutor.lambda$executeRoute$14(RouteExecutor.java:659)\n        at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)\n[Skipped a lot of reactive frames]\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8522)\n        at io.micronaut.http.server.netty.RoutingInBoundHandler.handleRouteMatch(RoutingInBoundHandler.java:601)\n        at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:457)\n        at io.micronaut.http.server.netty.RoutingInBoundHandler.channelRead0(RoutingInBoundHandler.java:147)\n        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n[Skipped a lot of netty channel stuff]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    10:50:35.031 [default-nioEventLoopGroup-3-2] DEBUG i.m.h.client.netty.DefaultHttpClient - Received response 500 from http://localhost:37361/author/546252431\n    10:50:35.049 [Test worker] ERROR i.m.r.intercept.RecoveryInterceptor - Type [example.controller.Api$Intercepted] executed with error: error.ErrorResource@475fb7\n    io.micronaut.http.client.exceptions.HttpClientResponseException: error.ErrorResource@475fb7\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.makeErrorFromRequestBody(DefaultHttpClient.java:2226)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2199)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.buildResponse(DefaultHttpClient.java:2122)\n        at io.micronaut.http.client.netty.DefaultHttpClient$BaseHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2097)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2158)\n        at io.micronaut.http.client.netty.DefaultHttpClient$FullHttpResponseHandler.channelReadInstrumented(DefaultHttpClient.java:2122)\n        at io.micronaut.http.client.netty.SimpleChannelInboundHandlerInstrumented.channelRead0(SimpleChannelInboundHandlerInstrumented.java:49)\n        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n[Skipped a lot of netty channel stuff]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                at reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\n                at io.micronaut.http.client.netty.DefaultHttpClient$1.exchange(DefaultHttpClient.java:498)\n                at io.micronaut.http.client.netty.DefaultHttpClient$1.retrieve(DefaultHttpClient.java:505)\n                at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.lambda$intercept$5(HttpClientIntroductionAdvice.java:409)\n                at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.handleBlockingCall(HttpClientIntroductionAdvice.java:508)\n                at io.micronaut.http.client.interceptor.HttpClientIntroductionAdvice.intercept(HttpClientIntroductionAdvice.java:408)\n                at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n                at io.micronaut.retry.intercept.RecoveryInterceptor.intercept(RecoveryInterceptor.java:92)\n                at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n                at example.controller.Api$Intercepted.getAuthor(Unknown Source)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n                at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSiteNoUnwrap.invoke(PojoMetaMethodSite.java:203)\n                at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)\n                at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n                at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n                at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n                at example.controller.AuthorControllerSpec.$spock_feature_0_0(AuthorControllerSpec.groovy:33)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.spockframework.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:198)\n[Skipped a lot of gradle, junit, and spock stuff]\n                at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\nAuthorControllerSpec &gt; It fails to get an non-existing Author &gt; example.controller.AuthorControllerSpec.It fails to get an non-existing Author [badId: 546252431, #0] FAILED\n    org.spockframework.runtime.SpockComparisonFailure at AuthorControllerSpec.groovy:37\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":16518573,"reputation":5,"user_id":11935353,"display_name":"Omid Zare"},"score":0,"creation_date":1647585208,"post_id":71517806,"comment_id":126412562,"body_markdown":"solved! I just remove the MvcConfig class :)","body":"solved! I just remove the MvcConfig class :)"}],"answers":[{"tags":[],"owner":{"account_id":23058474,"reputation":3,"user_id":17193949,"display_name":"Kofuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667392290,"creation_date":1667392290,"answer_id":74289205,"question_id":71517806,"body_markdown":"this is youre config    \r\n\r\n    @Configuration\r\n        @EnableWebMvc\r\n        @ComponentScan(&quot;directory with youre getHomepage() controller &quot;)\r\n        public class MvcConfig implements WebMvcConfigurer {\r\n        \r\n        @Bean\r\n            public ViewResolver viewResolver() {\r\n                InternalResourceViewResolver resolver =\r\n                        new InternalResourceViewResolver();\r\n                resolver.setPrefix(&quot;/WEB-INF/views/&quot;); //youre directory with home.jsp\r\n                resolver.setSuffix(&quot;.jsp&quot;);\r\n                return resolver;\r\n            }\r\n        }\r\n\r\nthis is youre controller\r\n \r\n\r\n    @Controller\r\n    @RequestMapping({&quot;/&quot;})\r\n    public class HomeController {\r\n        @RequestMapping(method=GET)\r\n        public String home() {\r\n            return &quot;home&quot;;\r\n        }\r\n    }","title":"No mapping for GET /js/home.js","body":"<p>this is youre config</p>\n<pre><code>@Configuration\n    @EnableWebMvc\n    @ComponentScan(&quot;directory with youre getHomepage() controller &quot;)\n    public class MvcConfig implements WebMvcConfigurer {\n    \n    @Bean\n        public ViewResolver viewResolver() {\n            InternalResourceViewResolver resolver =\n                    new InternalResourceViewResolver();\n            resolver.setPrefix(&quot;/WEB-INF/views/&quot;); //youre directory with home.jsp\n            resolver.setSuffix(&quot;.jsp&quot;);\n            return resolver;\n        }\n    }\n</code></pre>\n<p>this is youre controller</p>\n<pre><code>@Controller\n@RequestMapping({&quot;/&quot;})\npublic class HomeController {\n    @RequestMapping(method=GET)\n    public String home() {\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16518573,"reputation":5,"user_id":11935353,"display_name":"Omid Zare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667392290,"creation_date":1647544231,"question_id":71517806,"body_markdown":"I have the same problem as mentioned in \r\n[no mapping for GET][1]\r\nbut didn&#39;t work for me. \r\n\r\nthis is the structure :\r\n[resource structure in my project][2]\r\n\r\n\r\nand this is my config class :\r\n\r\n        \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry\r\n                    .addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;/resources/&quot;);\r\n        }\r\n    }\r\n\r\nand this is my controller:\r\n\r\n \r\n\r\n     @RequestMapping(&quot;/&quot;)\r\n    public ModelAndView getHomepage() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;home.html&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\nand I have this in my html file:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/home.css&quot; /&gt;\r\n\r\nbut still get the error: \r\nNo mapping for GET /css/home.css\r\nNo mapping for GET /js/home.js\r\n\r\n\r\nwould be appreciated for any suggestions\r\nthank you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57003720/spring-boot-no-mapping-for-css-js\r\n  [2]: https://i.stack.imgur.com/WRkIS.jpg\r\n","title":"No mapping for GET /js/home.js","body":"<p>I have the same problem as mentioned in\n<a href=\"https://stackoverflow.com/questions/57003720/spring-boot-no-mapping-for-css-js\">no mapping for GET</a>\nbut didn't work for me.</p>\n<p>this is the structure :\n<a href=\"https://i.stack.imgur.com/WRkIS.jpg\" rel=\"nofollow noreferrer\">resource structure in my project</a></p>\n<p>and this is my config class :</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class MvcConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry\n                .addResourceHandler(&quot;/resources/**&quot;)\n                .addResourceLocations(&quot;/resources/&quot;);\n    }\n}\n</code></pre>\n<p>and this is my controller:</p>\n<pre><code> @RequestMapping(&quot;/&quot;)\npublic ModelAndView getHomepage() {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;home.html&quot;);\n    return modelAndView;\n}\n</code></pre>\n<p>and I have this in my html file:</p>\n<pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/home.css&quot; /&gt;\n</code></pre>\n<p>but still get the error:\nNo mapping for GET /css/home.css\nNo mapping for GET /js/home.js</p>\n<p>would be appreciated for any suggestions\nthank you</p>\n"},{"tags":["java","c++","jna"],"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1398338784,"post_id":23242614,"comment_id":35607813,"body_markdown":"`getStringArray()` assumes that your string array is going to be terminated with a `NULL` pointer to indicate the end.  Is that the case here?  You might try `getStringArray()` with an explicit, limited length to see if you can just pull back the first element.","body":"<code>getStringArray()</code> assumes that your string array is going to be terminated with a <code>NULL</code> pointer to indicate the end.  Is that the case here?  You might try <code>getStringArray()</code> with an explicit, limited length to see if you can just pull back the first element."}],"answers":[{"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1398338669,"post_id":23247029,"comment_id":35607747,"body_markdown":"If mangling were the issue he wouldn&#39;t have gotten as far as he did.","body":"If mangling were the issue he wouldn&#39;t have gotten as far as he did."}],"tags":[],"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398262412,"creation_date":1398262412,"answer_id":23247029,"question_id":23242614,"body_markdown":"As far as I understand this works in C like this:\r\n\r\n    char** versions; // char* versions[];\r\n    char   name [] = &quot;some_name&quot;;\r\n\r\n    int size = GetVersions(name, &amp;versions);\r\n    // now versions[0] to versions[size-1] are string literals of available versions\r\n\r\n`char**` can be interpreted as an array of string literals (`String[]`). `char**&amp;` is a reference to one, meaning that it can be set from inside function - and it&#39;s not available to use in pure C used by JNA (and JNI).\r\n\r\nI&#39;d recommend wrapping it into C-linkable code - make sure it doesn&#39;t throw exceptions, use `extern &quot;C&quot;` and replaces all references with pointers. E.g. something like\r\n\r\n    extern &quot;C&quot; int CGetVersions(char* name, char*** pVersions) {\r\n        return GetVersions(name, *pVersions);\r\n    }\r\n\r\nThen you should be able to use `PointerByReference` to hold `pVersions`:\r\n\r\n    ptrRef;                                       // (void**)\r\n    ptrRef.getValue();                            // *(void**) -&gt;(void*)\r\n    ptrRef.getValue().getStringArray(0,returned); // (char**) (void*) -&gt; (char**) -&gt; String[]\r\n\r\nBasically C++ works different that C, and both JNA and JNI were designed to work with C, so you have to strip down everything that you wouldn&#39;t call in plain C. Perhaps [here][1] you can find some more information about how wrap your library with C-linkable functions.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2241685/java-native-access-doesnt-do-c-right","title":"Mapping of type: char**&amp; in JNA","body":"<p>As far as I understand this works in C like this:</p>\n\n<pre><code>char** versions; // char* versions[];\nchar   name [] = \"some_name\";\n\nint size = GetVersions(name, &amp;versions);\n// now versions[0] to versions[size-1] are string literals of available versions\n</code></pre>\n\n<p><code>char**</code> can be interpreted as an array of string literals (<code>String[]</code>). <code>char**&amp;</code> is a reference to one, meaning that it can be set from inside function - and it's not available to use in pure C used by JNA (and JNI).</p>\n\n<p>I'd recommend wrapping it into C-linkable code - make sure it doesn't throw exceptions, use <code>extern \"C\"</code> and replaces all references with pointers. E.g. something like</p>\n\n<pre><code>extern \"C\" int CGetVersions(char* name, char*** pVersions) {\n    return GetVersions(name, *pVersions);\n}\n</code></pre>\n\n<p>Then you should be able to use <code>PointerByReference</code> to hold <code>pVersions</code>:</p>\n\n<pre><code>ptrRef;                                       // (void**)\nptrRef.getValue();                            // *(void**) -&gt;(void*)\nptrRef.getValue().getStringArray(0,returned); // (char**) (void*) -&gt; (char**) -&gt; String[]\n</code></pre>\n\n<p>Basically C++ works different that C, and both JNA and JNI were designed to work with C, so you have to strip down everything that you wouldn't call in plain C. Perhaps <a href=\"https://stackoverflow.com/questions/2241685/java-native-access-doesnt-do-c-right\">here</a> you can find some more information about how wrap your library with C-linkable functions.</p>\n"},{"tags":[],"owner":{"account_id":6334785,"reputation":21,"user_id":4918544,"display_name":"Godwin Christ"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667392140,"creation_date":1432088529,"answer_id":30339240,"question_id":23242614,"body_markdown":"The char ** mapping with PointerByReference.\r\n\r\nFor example:\r\n\r\nC code:\r\n\r\n    char **xs_directory(struct xs_handle *h, uint32_t t,const char *path, unsigned int *num);\r\n\r\nJNA:\r\n \r\n\r\n    PointerByReference xs_directory(XenstoreLibrary.xs_handle h, int t, String path, IntBuffer num);\r\n\r\nThis a xenstore api get contents of a directory,the num is PointerByReference pointer count. I use this code to get the pointer value.\r\n\r\n\r\n\r\n\r\n    PointerByReference pbr = XenstoreLibrary.INSTANCE.xs_directory(xs_handle, tran, &quot;/local/domain/0&quot;, intBuffer);\r\n\r\n    int n = intBuffer.get();\r\n\r\n    Pointer[] arrays = pbr.getPointer().getPointerArray(0,n);\r\n\r\n    for (int i = 0; i &lt; arrays.length; i++) {\r\n\r\n        Pointer array = arrays[i];\r\n\r\n        System.out.println(array.getString(0));\r\n\r\n    }\r\n\r\n\r\n\r\nsorry for my poor english. \r\n","title":"Mapping of type: char**&amp; in JNA","body":"<p>The char ** mapping with PointerByReference.</p>\n<p>For example:</p>\n<p>C code:</p>\n<pre><code>char **xs_directory(struct xs_handle *h, uint32_t t,const char *path, unsigned int *num);\n</code></pre>\n<p>JNA:</p>\n<pre><code>PointerByReference xs_directory(XenstoreLibrary.xs_handle h, int t, String path, IntBuffer num);\n</code></pre>\n<p>This a xenstore api get contents of a directory,the num is PointerByReference pointer count. I use this code to get the pointer value.</p>\n<pre><code>PointerByReference pbr = XenstoreLibrary.INSTANCE.xs_directory(xs_handle, tran, &quot;/local/domain/0&quot;, intBuffer);\n\nint n = intBuffer.get();\n\nPointer[] arrays = pbr.getPointer().getPointerArray(0,n);\n\nfor (int i = 0; i &lt; arrays.length; i++) {\n\n    Pointer array = arrays[i];\n\n    System.out.println(array.getString(0));\n\n}\n</code></pre>\n<p>sorry for my poor english.</p>\n"}],"owner":{"account_id":153156,"reputation":55,"user_id":368207,"display_name":"user368207"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667392140,"creation_date":1398251713,"question_id":23242614,"body_markdown":"My client gave me dll with a couple of functions. One of them is:\r\n\r\n    int GetVersions(char* name, char** &amp;pVersions);\r\n\r\nIt returns a number of versions for the given name and the array of strings with those versions.\r\nUsing JNA, I&#39;m trying to write equivalent Java method in my interface:\r\n\r\n    int GetVersions(String name, String ll, ??? pVersions);\r\n\r\nThe problem is what type should be instead of `???` ?\r\n\r\nI was trying to put there `PointerByReference` and after method invocation I had:\r\n\r\n    Pointer ptr = ptrRef.getValue();\r\n    String ppp = ptr.getStringarray(0);\r\n\r\nbut I got here `Invalid memory access`.\r\n\r\n    Pointer ptr = ptrRef.getValue();\r\n    String ppp = ptr.getString(0, &quot;UTF-8&quot;);\r\n\r\nreturns garbage.\r\n\r\nAny idea how to solve it?\r\n\r\n\r\nThanks in advance!","title":"Mapping of type: char**&amp; in JNA","body":"<p>My client gave me dll with a couple of functions. One of them is:</p>\n\n<pre><code>int GetVersions(char* name, char** &amp;pVersions);\n</code></pre>\n\n<p>It returns a number of versions for the given name and the array of strings with those versions.\nUsing JNA, I'm trying to write equivalent Java method in my interface:</p>\n\n<pre><code>int GetVersions(String name, String ll, ??? pVersions);\n</code></pre>\n\n<p>The problem is what type should be instead of <code>???</code> ?</p>\n\n<p>I was trying to put there <code>PointerByReference</code> and after method invocation I had:</p>\n\n<pre><code>Pointer ptr = ptrRef.getValue();\nString ppp = ptr.getStringarray(0);\n</code></pre>\n\n<p>but I got here <code>Invalid memory access</code>.</p>\n\n<pre><code>Pointer ptr = ptrRef.getValue();\nString ppp = ptr.getString(0, \"UTF-8\");\n</code></pre>\n\n<p>returns garbage.</p>\n\n<p>Any idea how to solve it?</p>\n\n<p>Thanks in advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9308,"page":915,"page_size":100}
