{"items":[{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1668411961,"post_id":74428304,"comment_id":131389779,"body_markdown":"And what would you do with these unmapped columns?","body":"And what would you do with these unmapped columns?"},{"owner":{"account_id":3079492,"reputation":1027,"user_id":2608063,"accept_rate":94,"display_name":"tomtomssi"},"score":0,"creation_date":1668412169,"post_id":74428304,"comment_id":131389831,"body_markdown":"Return them to the client that called the API","body":"Return them to the client that called the API"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1668414287,"post_id":74428304,"comment_id":131390401,"body_markdown":"I don&#39;t think so","body":"I don&#39;t think so"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670494093,"creation_date":1670494093,"answer_id":74728565,"question_id":74428304,"body_markdown":"It&#39;s not possible through entities because Hibernate selects exactly the columns you mapped instead of doing a `select *`. You can run a native query and run `select *` though.","title":"How to map unknown columns using Hibernate?","body":"<p>It's not possible through entities because Hibernate selects exactly the columns you mapped instead of doing a <code>select *</code>. You can run a native query and run <code>select *</code> though.</p>\n"}],"owner":{"account_id":3079492,"reputation":1027,"user_id":2608063,"accept_rate":94,"display_name":"tomtomssi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74728565,"answer_count":1,"score":0,"last_activity_date":1670494093,"creation_date":1668411513,"question_id":74428304,"body_markdown":"I have a database that from time to time gets or has columns removed. Is it possible to map these columns using Hibernate if the column names and data types are not known beforehand? Something like:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;some_table&quot;)\r\npublic class SomeTable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.Entity)\r\n    private String id;\r\n\r\n    // private List&lt;Object&gt; fields;\r\n}","title":"How to map unknown columns using Hibernate?","body":"<p>I have a database that from time to time gets or has columns removed. Is it possible to map these columns using Hibernate if the column names and data types are not known beforehand? Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;some_table&quot;)\npublic class SomeTable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.Entity)\n    private String id;\n\n    // private List&lt;Object&gt; fields;\n}\n</code></pre>\n"},{"tags":["java","xml","maven","security"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670494034,"creation_date":1670494034,"answer_id":74728550,"question_id":74725520,"body_markdown":"Well, you&#39;re using an XML parser or XSLT processor that doesn&#39;t recognise this property - very likely because the software was released before the property was invented.\r\n\r\nThis property is designed to handle some security risks that are actually very unlikely to be a real issue in any normal workload. Using old software like JDK 1.6 is a much bigger security risk.","title":"{exception=java.lang.IllegalArgumentException: http://javax.xml.XMLConstants/feature/secure-processing}","body":"<p>Well, you're using an XML parser or XSLT processor that doesn't recognise this property - very likely because the software was released before the property was invented.</p>\n<p>This property is designed to handle some security risks that are actually very unlikely to be a real issue in any normal workload. Using old software like JDK 1.6 is a much bigger security risk.</p>\n"}],"owner":{"account_id":27185301,"reputation":1,"user_id":20719839,"display_name":"tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670494034,"creation_date":1670473706,"question_id":74725520,"body_markdown":"In Java 1.6, we can&#39;t find XMLConstants.ACCESS_EXTERNAL_DTD and ACCESS_EXTERNAL_STYLESHEET. So I used XMLConstants.FEATURE_SECURE_PROCESSING for secure coding. \r\n\r\nWhen I run our maven project on server, I got this error message {exception=java.lang.IllegalArgumentException: http://javax.xml.XMLConstants/feature/secure-processing}\r\n\r\n\r\n\r\nPlease help me with this issue.","title":"{exception=java.lang.IllegalArgumentException: http://javax.xml.XMLConstants/feature/secure-processing}","body":"<p>In Java 1.6, we can't find XMLConstants.ACCESS_EXTERNAL_DTD and ACCESS_EXTERNAL_STYLESHEET. So I used XMLConstants.FEATURE_SECURE_PROCESSING for secure coding.</p>\n<p>When I run our maven project on server, I got this error message {exception=java.lang.IllegalArgumentException: <a href=\"http://javax.xml.XMLConstants/feature/secure-processing%7D\" rel=\"nofollow noreferrer\">http://javax.xml.XMLConstants/feature/secure-processing}</a></p>\n<p>Please help me with this issue.</p>\n"},{"tags":["java","ubuntu-22.04"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1670499482,"post_id":74728387,"comment_id":131891769,"body_markdown":"Seems that you should open a bug with the JavaFX developers/maintainers.","body":"Seems that you should open a bug with the JavaFX developers/maintainers."}],"owner":{"account_id":27187541,"reputation":11,"user_id":20721814,"display_name":"Tomar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670493255,"creation_date":1670493255,"question_id":74728387,"body_markdown":"Under Ubuntu 22.04 there is a strange behavior of a JavaFx application. When a new window or message box is opened, the window and message box twitches briefly. Also, an open menu detaches from the window when it is moved.\r\n\r\nWhat can be done about this? \r\n\r\n\r\nSee webm: [https://webm.red/view/pKM7.webm](https://webm.red/view/pKM7.webm)\r\n\r\n\r\n```\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Application extends javafx.application.Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        MenuBar menuBar = new MenuBar();\r\n        Menu menu = new Menu(&quot;Menu&quot;);\r\n        MenuItem menuItem1 = new MenuItem(&quot;MenuItem 1&quot;);\r\n        MenuItem menuItem2 = new MenuItem(&quot;MenuItem 2&quot;);\r\n        menuBar.getMenus().add(menu);\r\n        menu.getItems().addAll(menuItem1, menuItem2);\r\n        menuBar.setPrefHeight(30d);\r\n        Button button = new Button(&quot;Messagebox&quot;);\r\n        button.prefWidth(100d);\r\n        button.prefHeight(30d);\r\n        button.setOnAction(actionEvent -&gt; {\r\n            Alert alert = new Alert(Alert.AlertType.INFORMATION);\r\n            alert.setTitle(&quot;Messagebox&quot;);\r\n            alert.setHeaderText(null);\r\n            alert.setContentText(&quot;Message...&quot;);\r\n            alert.showAndWait();\r\n        });\r\n        StackPane stackPane = new StackPane(button);\r\n        stackPane.setPadding(new Insets(50));\r\n        VBox vbox = new VBox();\r\n        vbox.getChildren().add(menuBar);\r\n        vbox.getChildren().add(stackPane);\r\n        Scene scene = new Scene(vbox);\r\n        stage.setWidth(500);\r\n        stage.setHeight(400);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nOn Lubuntu 22.04 and on Windows 10 the application behaves normally. ","title":"JavaFx application under Ubuntu 22.04 window twitches briefly","body":"<p>Under Ubuntu 22.04 there is a strange behavior of a JavaFx application. When a new window or message box is opened, the window and message box twitches briefly. Also, an open menu detaches from the window when it is moved.</p>\n<p>What can be done about this?</p>\n<p>See webm: <a href=\"https://webm.red/view/pKM7.webm\" rel=\"nofollow noreferrer\">https://webm.red/view/pKM7.webm</a></p>\n<pre><code>import javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class Application extends javafx.application.Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        MenuBar menuBar = new MenuBar();\n        Menu menu = new Menu(&quot;Menu&quot;);\n        MenuItem menuItem1 = new MenuItem(&quot;MenuItem 1&quot;);\n        MenuItem menuItem2 = new MenuItem(&quot;MenuItem 2&quot;);\n        menuBar.getMenus().add(menu);\n        menu.getItems().addAll(menuItem1, menuItem2);\n        menuBar.setPrefHeight(30d);\n        Button button = new Button(&quot;Messagebox&quot;);\n        button.prefWidth(100d);\n        button.prefHeight(30d);\n        button.setOnAction(actionEvent -&gt; {\n            Alert alert = new Alert(Alert.AlertType.INFORMATION);\n            alert.setTitle(&quot;Messagebox&quot;);\n            alert.setHeaderText(null);\n            alert.setContentText(&quot;Message...&quot;);\n            alert.showAndWait();\n        });\n        StackPane stackPane = new StackPane(button);\n        stackPane.setPadding(new Insets(50));\n        VBox vbox = new VBox();\n        vbox.getChildren().add(menuBar);\n        vbox.getChildren().add(stackPane);\n        Scene scene = new Scene(vbox);\n        stage.setWidth(500);\n        stage.setHeight(400);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>On Lubuntu 22.04 and on Windows 10 the application behaves normally.</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":5269741,"reputation":318,"user_id":4208410,"display_name":"Yan"},"score":0,"creation_date":1577732914,"post_id":59534247,"comment_id":105240985,"body_markdown":"Can you provide your pom or gradle file?","body":"Can you provide your pom or gradle file?"}],"answers":[{"tags":[],"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1577743422,"creation_date":1577742414,"answer_id":59537181,"question_id":59534247,"body_markdown":"Strange, provided that you have also tried with `@RunWith(SpringRunner.class)` and `@SpringBootTest`. Have you also tried with the `@AutoConfigureMockMvc` annotation? The sample below is working fine.\n\n    @RunWith(SpringRunner.class)\n    @SpringBootTest\n    @AutoConfigureMockMvc\n    public class HelloControllerTest {\n    \n        @Autowired\n        private MockMvc mockMvc;\n    \n        @Test\n        public void getHello() throws Exception {\n            mockMvc.perform(MockMvcRequestBuilders.get(&quot;/&quot;).accept(MediaType.APPLICATION_JSON))\n                    .andExpect(status().isOk())\n                    .andExpect(content().string(equalTo(&quot;Hello World of Spring Boot&quot;)));\n        }\n    }\n\n\ncomplete sample [here][1]\n\nIt may also be worthwhile to consider the following comments regarding the usage of the @WebMvcTest and @AutoConfigureMockMvc annotations as detailed in [Spring&#39;s documentation][2]\n\n&gt;By default, tests annotated with @WebMvcTest will also auto-configure Spring Security and MockMvc (include support for HtmlUnit WebClient and Selenium WebDriver). For more fine-grained control of MockMVC the @AutoConfigureMockMvc annotation can be used.\n&gt;\n&gt;Typically @WebMvcTest is used in combination with @MockBean or @Import to create any collaborators required by your @Controller beans.\n&gt;\n&gt;If you are looking to load your full application configuration and use MockMVC, you should consider @SpringBootTest combined with @AutoConfigureMockMvc rather than this annotation.\n&gt;\n&gt;When using JUnit 4, this annotation should be used in combination with @RunWith(SpringRunner.class).\n\n\n  [1]: https://github.com/alainlompo/hello-boot\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html","title":"Spring Boot MVC Test - MockMvc is always null","body":"<p>Strange, provided that you have also tried with <code>@RunWith(SpringRunner.class)</code> and <code>@SpringBootTest</code>. Have you also tried with the <code>@AutoConfigureMockMvc</code> annotation? The sample below is working fine.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class HelloControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void getHello() throws Exception {\n        mockMvc.perform(MockMvcRequestBuilders.get(&quot;/&quot;).accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andExpect(content().string(equalTo(&quot;Hello World of Spring Boot&quot;)));\n    }\n}\n</code></pre>\n<p>complete sample <a href=\"https://github.com/alainlompo/hello-boot\" rel=\"noreferrer\">here</a></p>\n<p>It may also be worthwhile to consider the following comments regarding the usage of the @WebMvcTest and @AutoConfigureMockMvc annotations as detailed in <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"noreferrer\">Spring's documentation</a></p>\n<blockquote>\n<p>By default, tests annotated with @WebMvcTest will also auto-configure Spring Security and MockMvc (include support for HtmlUnit WebClient and Selenium WebDriver). For more fine-grained control of MockMVC the @AutoConfigureMockMvc annotation can be used.</p>\n<p>Typically @WebMvcTest is used in combination with @MockBean or @Import to create any collaborators required by your @Controller beans.</p>\n<p>If you are looking to load your full application configuration and use MockMVC, you should consider @SpringBootTest combined with @AutoConfigureMockMvc rather than this annotation.</p>\n<p>When using JUnit 4, this annotation should be used in combination with @RunWith(SpringRunner.class).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1623431670,"creation_date":1615892124,"answer_id":66653797,"question_id":59534247,"body_markdown":"I faced the same issue. It turned out that `MockMvc` was not injected due to **incompatible `@Test` annotation**. The import was `org.junit.Test`, but changing it to `org.junit.jupiter.api.Test` solved the issue.","title":"Spring Boot MVC Test - MockMvc is always null","body":"<p>I faced the same issue. It turned out that <code>MockMvc</code> was not injected due to <strong>incompatible <code>@Test</code> annotation</strong>. The import was <code>org.junit.Test</code>, but changing it to <code>org.junit.jupiter.api.Test</code> solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1616520014,"creation_date":1616520014,"answer_id":66768114,"question_id":59534247,"body_markdown":"Accepted answer works, however I solved the issue also without importing `@RunWith(SpringRunner.class)`.\r\n\r\nIn my case I had imported `org.junit.Test` instead of the newer `org.junit.jupiter.api.Test`.\r\n\r\nIf you are using Maven you can avoid to make this mistake excluding `junit-vintage-engine` from `spring-boot-starter-test` dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring Boot MVC Test - MockMvc is always null","body":"<p>Accepted answer works, however I solved the issue also without importing <code>@RunWith(SpringRunner.class)</code>.</p>\n<p>In my case I had imported <code>org.junit.Test</code> instead of the newer <code>org.junit.jupiter.api.Test</code>.</p>\n<p>If you are using Maven you can avoid to make this mistake excluding <code>junit-vintage-engine</code> from <code>spring-boot-starter-test</code> dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3400101,"reputation":3481,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670493228,"creation_date":1670493228,"answer_id":74728382,"question_id":59534247,"body_markdown":"check if you have the latest or at least updated `maven-surefire-plugin`.\r\nIt helped me to solve the issue","title":"Spring Boot MVC Test - MockMvc is always null","body":"<p>check if you have the latest or at least updated <code>maven-surefire-plugin</code>.\nIt helped me to solve the issue</p>\n"}],"owner":{"account_id":15089920,"reputation":275,"user_id":10890112,"display_name":"ElDuderino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33749,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":59537181,"answer_count":4,"score":27,"last_activity_date":1670493228,"creation_date":1577724885,"question_id":59534247,"body_markdown":"I&#39;m trying to write my first Spring MVC test but I just cannot get Spring Boot to inject the MockMvc dependency into my test class. Here is my class:\r\n\r\n```\r\n@WebMvcTest\r\npublic class WhyWontThisWorkTest {\r\n\r\n  private static final String myUri = &quot;uri&quot;;\r\n  private static final String jsonFileName = &quot;myRequestBody.json&quot;;\r\n\r\n  @Autowired\r\n  private MockMvc mockMvc;\r\n\r\n  @Test\r\n  public void iMustBeMissingSomething() throws Exception {\r\n    byte[] jsonFile = Files.readAllBytes(Paths.get(&quot;src/test/resources/&quot; + jsonFileName));\r\n    mockMvc.perform(\r\n        MockMvcRequestBuilders.post(myUri)\r\n            .content(jsonFile)\r\n            .contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(MockMvcResultMatchers.status().is2xxSuccessful());\r\n  }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve checked with IntelliJ&#39;s debugger and can confirm that mockMvc itself is null. Thus, all the Exception message tells me is &quot;java.lang.NullPointerException&quot;.\r\n\r\nI&#39;ve already tried adding more general Spring Boot annotations for test classes like &quot;@SpringBootTest&quot; or &quot;@RunWith(SpringRunner.class)&quot; in case it has something to do with initializing Spring but no luck.","title":"Spring Boot MVC Test - MockMvc is always null","body":"<p>I'm trying to write my first Spring MVC test but I just cannot get Spring Boot to inject the MockMvc dependency into my test class. Here is my class:</p>\n\n<pre><code>@WebMvcTest\npublic class WhyWontThisWorkTest {\n\n  private static final String myUri = \"uri\";\n  private static final String jsonFileName = \"myRequestBody.json\";\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @Test\n  public void iMustBeMissingSomething() throws Exception {\n    byte[] jsonFile = Files.readAllBytes(Paths.get(\"src/test/resources/\" + jsonFileName));\n    mockMvc.perform(\n        MockMvcRequestBuilders.post(myUri)\n            .content(jsonFile)\n            .contentType(MediaType.APPLICATION_JSON))\n        .andExpect(MockMvcResultMatchers.status().is2xxSuccessful());\n  }\n}\n\n</code></pre>\n\n<p>I've checked with IntelliJ's debugger and can confirm that mockMvc itself is null. Thus, all the Exception message tells me is \"java.lang.NullPointerException\".</p>\n\n<p>I've already tried adding more general Spring Boot annotations for test classes like \"@SpringBootTest\" or \"@RunWith(SpringRunner.class)\" in case it has something to do with initializing Spring but no luck.</p>\n"},{"tags":["java","spring-boot","junit","spring-boot-test","mockmvc"],"comments":[{"owner":{"account_id":4035151,"reputation":120,"user_id":3319904,"accept_rate":60,"display_name":"ruba"},"score":0,"creation_date":1596857449,"post_id":63311426,"comment_id":111952785,"body_markdown":"Have you tried not to make the MockMvc private?","body":"Have you tried not to make the MockMvc private?"},{"owner":{"account_id":13515869,"reputation":153,"user_id":9750445,"display_name":"bogdasha"},"score":0,"creation_date":1596859757,"post_id":63311426,"comment_id":111953083,"body_markdown":"@ruba it still doesn&#39;t autowire it...","body":"@ruba it still doesn&#39;t autowire it..."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596860893,"post_id":63311426,"comment_id":111953223,"body_markdown":"What happens if you rename your method to `test_getDishes()`? Note that you should _always_ post your stack trace; I very strongly suspect that your NPE stack trace shows that it&#39;s not coming from the normal location.","body":"What happens if you rename your method to <code>test_getDishes()</code>? Note that you should <i>always</i> post your stack trace; I very strongly suspect that your NPE stack trace shows that it&#39;s not coming from the normal location."},{"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"score":0,"creation_date":1596883737,"post_id":63311426,"comment_id":111957635,"body_markdown":"I don&#39;t know why, but I&#39;ve never seen `this.mockMvc` usage. Also, are you sure you have the right `MockMvc` imports?","body":"I don&#39;t know why, but I&#39;ve never seen <code>this.mockMvc</code> usage. Also, are you sure you have the right <code>MockMvc</code> imports?"},{"owner":{"account_id":13515869,"reputation":153,"user_id":9750445,"display_name":"bogdasha"},"score":0,"creation_date":1596911684,"post_id":63311426,"comment_id":111965643,"body_markdown":"@chrylis-cautiouslyoptimistic- tried renaming, it didn&#39;t help. I also updated the post with a stack trace. I would appreciate if you take a look, maybe I am blind...","body":"@chrylis-cautiouslyoptimistic- tried renaming, it didn&#39;t help. I also updated the post with a stack trace. I would appreciate if you take a look, maybe I am blind..."},{"owner":{"account_id":13515869,"reputation":153,"user_id":9750445,"display_name":"bogdasha"},"score":0,"creation_date":1596911924,"post_id":63311426,"comment_id":111965703,"body_markdown":"@k-wasilewski I updated the post with pom dependencies and imports that I&#39;m using. Also, I was referring to this article: https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/","body":"@k-wasilewski I updated the post with pom dependencies and imports that I&#39;m using. Also, I was referring to this article: <a href=\"https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockmvc-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-boot2/testing/&hellip;</a>"},{"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"score":0,"creation_date":1596914212,"post_id":63311426,"comment_id":111966294,"body_markdown":"Rename your method to `getDishesTest()`.","body":"Rename your method to <code>getDishesTest()</code>."},{"owner":{"account_id":13515869,"reputation":153,"user_id":9750445,"display_name":"bogdasha"},"score":0,"creation_date":1596914530,"post_id":63311426,"comment_id":111966376,"body_markdown":"@k-wasilewski it didn&#39;t work. Why do you think naming matters? I see it as SpringBoot cannot inject MockMvc there","body":"@k-wasilewski it didn&#39;t work. Why do you think naming matters? I see it as SpringBoot cannot inject MockMvc there"},{"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"score":0,"creation_date":1596915117,"post_id":63311426,"comment_id":111966535,"body_markdown":"Sometimes jUnit tends to NOT pick up the methods/classes without &quot;Test&quot; in their names... Ok, another shot: import `org.junit.Test` and NOT some jupiter thing.","body":"Sometimes jUnit tends to NOT pick up the methods/classes without &quot;Test&quot; in their names... Ok, another shot: import <code>org.junit.Test</code> and NOT some jupiter thing."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596919754,"post_id":63311426,"comment_id":111967723,"body_markdown":"You&#39;re mixing JUnit 4 and JUnit 5 components here; you need to pick one. (JUnit 5 supports running JUnit 4 tests through the &quot;vintage&quot; engine, but you have mixed annotations in your test class.)","body":"You&#39;re mixing JUnit 4 and JUnit 5 components here; you need to pick one. (JUnit 5 supports running JUnit 4 tests through the &quot;vintage&quot; engine, but you have mixed annotations in your test class.)"}],"answers":[{"tags":[],"owner":{"account_id":19255739,"reputation":194,"user_id":14072703,"display_name":"Andrzej Prochyra"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1596921029,"creation_date":1596921029,"answer_id":63320264,"question_id":63311426,"body_markdown":"The exception is being thrown because you are using a Junit Jupiter `@Test` annotation but the Junit 4 `@Runwith` annotation.  You should *either* use `org.junit.Test` from Junit 4 *or* annotate the class with `@ExtendWith(SpringExtension.class)` to use Junit Jupiter.\r\n\r\n`@WebMvcTest` is probably what you want (it implies `@AutoConfigureMockMvc`, amongst other things).\r\n\r\n[Relevant docs](https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests)","title":"MockMVC is not autowired, it is null","body":"<p>The exception is being thrown because you are using a Junit Jupiter <code>@Test</code> annotation but the Junit 4 <code>@Runwith</code> annotation.  You should <em>either</em> use <code>org.junit.Test</code> from Junit 4 <em>or</em> annotate the class with <code>@ExtendWith(SpringExtension.class)</code> to use Junit Jupiter.</p>\n<p><code>@WebMvcTest</code> is probably what you want (it implies <code>@AutoConfigureMockMvc</code>, amongst other things).</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.0.5.RELEASE/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests\" rel=\"noreferrer\">Relevant docs</a></p>\n"},{"tags":[],"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596984334,"creation_date":1596984334,"answer_id":63327692,"question_id":63311426,"body_markdown":"With `Junit 5` we don&#39;t need `@SpringBootTest`, you can remove it otherwise it will look for actual configuration.\r\n\r\nAlso, change your `@RunWith(SpringRunner.class)` to `@ExtendWith(SpringExtension.class)` or `@ExtendWith(MockitoExtension.class)`.\r\n\r\nIt seems `@InjectMocks` is also missing in code.\r\n\r\nfinally you need to add the `mockMvc = MockMvcBuilders.standaloneSetup(DishController)`.\r\n\r\nTry the below code at your end, it should work.\r\n```\r\n@ExtendWith(SpringExtension.class)\r\npublic class DishControllerTest {\r\n\r\n    @Autowired\r\n    public MockMvc mockMvc;\r\n\r\n    @InjectMocks\r\n\tprivate DishController dishController;\r\n\r\n\r\n    @Test\r\n    void getDishes() throws Exception {\r\n        this.mockMvc.perform(\r\n                get(&quot;/&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk());\r\n    }\r\n}\r\n```","title":"MockMVC is not autowired, it is null","body":"<p>With <code>Junit 5</code> we don't need <code>@SpringBootTest</code>, you can remove it otherwise it will look for actual configuration.</p>\n<p>Also, change your <code>@RunWith(SpringRunner.class)</code> to <code>@ExtendWith(SpringExtension.class)</code> or <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n<p>It seems <code>@InjectMocks</code> is also missing in code.</p>\n<p>finally you need to add the <code>mockMvc = MockMvcBuilders.standaloneSetup(DishController)</code>.</p>\n<p>Try the below code at your end, it should work.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\npublic class DishControllerTest {\n\n    @Autowired\n    public MockMvc mockMvc;\n\n    @InjectMocks\n    private DishController dishController;\n\n\n    @Test\n    void getDishes() throws Exception {\n        this.mockMvc.perform(\n                get(&quot;/&quot;))\n                .andDo(print())\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13515869,"reputation":153,"user_id":9750445,"display_name":"bogdasha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597028936,"creation_date":1597028936,"answer_id":63333609,"question_id":63311426,"body_markdown":"It was a compatibility issue + incorrect usage of annotations.\r\n\r\nWhat I did:\r\n1) Replaced standalone JUnit and Mockito dependencies with `spring-boot-starter-test`\r\n\r\n2) Upgrading annotations to work with junit.jupiter instead of junit.test\r\n\r\nHere is the working code:\r\n\r\n        import com.application.service.IDishService;\r\n    import com.application.service.IOrderService;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(DishController.class)\r\n    public class DishControllerTest {\r\n    \r\n        @Autowired\r\n        public MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private IOrderService orderService;\r\n        @MockBean\r\n        private IDishService dishService;\r\n    \r\n        @Test\r\n        public void getDishesTest() throws Exception {\r\n            this.mockMvc.perform(\r\n                    get(&quot;/&quot;))\r\n                    .andDo(print())\r\n                    .andExpect(status().isOk());\r\n        }\r\n\r\n\r\n\r\n","title":"MockMVC is not autowired, it is null","body":"<p>It was a compatibility issue + incorrect usage of annotations.</p>\n<p>What I did:</p>\n<ol>\n<li><p>Replaced standalone JUnit and Mockito dependencies with <code>spring-boot-starter-test</code></p>\n</li>\n<li><p>Upgrading annotations to work with junit.jupiter instead of junit.test</p>\n</li>\n</ol>\n<p>Here is the working code:</p>\n<pre><code>    import com.application.service.IDishService;\nimport com.application.service.IOrderService;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(DishController.class)\npublic class DishControllerTest {\n\n    @Autowired\n    public MockMvc mockMvc;\n\n    @MockBean\n    private IOrderService orderService;\n    @MockBean\n    private IDishService dishService;\n\n    @Test\n    public void getDishesTest() throws Exception {\n        this.mockMvc.perform(\n                get(&quot;/&quot;))\n                .andDo(print())\n                .andExpect(status().isOk());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3400101,"reputation":3481,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670493127,"creation_date":1670493127,"answer_id":74728360,"question_id":63311426,"body_markdown":"Had the same issue!\r\n`Spring Boot 2.4.3` and `Junit 5`.\r\n\r\nEventually, I tried to remotely debug the test in maven and found out that it was the whole context not loading and more over my `@BeforeEach` method was also not invoked.\r\n\r\nAfter a few searches, the issue was missing `maven-surefire-plugin`. Adding `3.0.0-M7` version of it solved the issue.\r\n","title":"MockMVC is not autowired, it is null","body":"<p>Had the same issue!\n<code>Spring Boot 2.4.3</code> and <code>Junit 5</code>.</p>\n<p>Eventually, I tried to remotely debug the test in maven and found out that it was the whole context not loading and more over my <code>@BeforeEach</code> method was also not invoked.</p>\n<p>After a few searches, the issue was missing <code>maven-surefire-plugin</code>. Adding <code>3.0.0-M7</code> version of it solved the issue.</p>\n"}],"owner":{"account_id":13515869,"reputation":153,"user_id":9750445,"display_name":"bogdasha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20086,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":63320264,"answer_count":4,"score":11,"last_activity_date":1670493127,"creation_date":1596855978,"question_id":63311426,"body_markdown":"I am having an issue with injecting MockMvc to my test class. I tried a few options, but none of them works.\r\n\r\n1 option: basically the same as here, manually creating MockMvc\r\n\r\nhttps://stackoverflow.com/questions/48589893/autowire-mockmvc-spring-data-rest\r\n\r\n2 option:\r\n\r\n        package com.application.controller;\r\n        \r\n        import org.junit.jupiter.api.Test;\r\n        import org.junit.runner.RunWith;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\n        import org.springframework.boot.test.context.SpringBootTest;\r\n        import org.springframework.test.context.junit4.SpringRunner;\r\n        import org.springframework.test.web.servlet.MockMvc;\r\n        \r\n        import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n        import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\n        import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class DishControllerTest {\r\n    \r\n        @Autowired\r\n        public MockMvc mockMvc;\r\n    \r\n    \r\n        @Test\r\n        void getDishes() throws Exception {\r\n            this.mockMvc.perform(\r\n                    get(&quot;/&quot;))\r\n                    .andDo(print())\r\n                    .andExpect(status().isOk());\r\n        }\r\n\r\n3) Also tried the second option with @WebMvcTest annotation instead of @AutoConfigureMockMvc\r\n\r\nMockMVC is null all the time. \r\nStackTrace:\r\n\r\n    java.lang.Exception: No runnable methods\r\n    \r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:128)\r\n    \tat org.junit.runners.ParentRunner.validate(ParentRunner.java:416)\r\n    \tat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:84)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:65)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:137)\r\n    \tat org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n    \tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    \tat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder$DefensiveAnnotatedBuilder.buildRunner(DefensiveAllDefaultPossibilitiesBuilder.java:113)\r\n    \tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    \tat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder.runnerForClass(DefensiveAllDefaultPossibilitiesBuilder.java:56)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.vintage.engine.discovery.TestClassRequestResolver.createRunnerTestDescriptor(TestClassRequestResolver.java:55)\r\n    \tat org.junit.vintage.engine.discovery.VintageDiscoverer.lambda$discover$0(VintageDiscoverer.java:53)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.vintage.engine.discovery.VintageDiscoverer.discover(VintageDiscoverer.java:55)\r\n    \tat org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:61)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:177)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:164)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n    \r\n    \r\n    \r\n    \r\n    java.lang.NullPointerException\r\n    \tat com.application.controller.DishControllerTest.getDishes(DishControllerTest.java:27)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:436)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:170)\r\n    \tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:166)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:113)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:112)\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120)\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120)\r\n    \tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n\r\n\r\npom (only test dependencies):\r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0-M1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nDo you have any ideas why is it happening? Is it possible because pom dependencies are clashing?\r\n\r\n","title":"MockMVC is not autowired, it is null","body":"<p>I am having an issue with injecting MockMvc to my test class. I tried a few options, but none of them works.</p>\n<p>1 option: basically the same as here, manually creating MockMvc</p>\n<p><a href=\"https://stackoverflow.com/questions/48589893/autowire-mockmvc-spring-data-rest\">@Autowire MockMvc - Spring Data Rest</a></p>\n<p>2 option:</p>\n<pre><code>    package com.application.controller;\n    \n    import org.junit.jupiter.api.Test;\n    import org.junit.runner.RunWith;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\n    import org.springframework.boot.test.context.SpringBootTest;\n    import org.springframework.test.context.junit4.SpringRunner;\n    import org.springframework.test.web.servlet.MockMvc;\n    \n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\n    import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class DishControllerTest {\n\n    @Autowired\n    public MockMvc mockMvc;\n\n\n    @Test\n    void getDishes() throws Exception {\n        this.mockMvc.perform(\n                get(&quot;/&quot;))\n                .andDo(print())\n                .andExpect(status().isOk());\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Also tried the second option with @WebMvcTest annotation instead of @AutoConfigureMockMvc</li>\n</ol>\n<p>MockMVC is null all the time.\nStackTrace:</p>\n<pre><code>java.lang.Exception: No runnable methods\n\n    at org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:191)\n    at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:128)\n    at org.junit.runners.ParentRunner.validate(ParentRunner.java:416)\n    at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:84)\n    at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:65)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:137)\n    at org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\n    at org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder$DefensiveAnnotatedBuilder.buildRunner(DefensiveAllDefaultPossibilitiesBuilder.java:113)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder.runnerForClass(DefensiveAllDefaultPossibilitiesBuilder.java:56)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.vintage.engine.discovery.TestClassRequestResolver.createRunnerTestDescriptor(TestClassRequestResolver.java:55)\n    at org.junit.vintage.engine.discovery.VintageDiscoverer.lambda$discover$0(VintageDiscoverer.java:53)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.vintage.engine.discovery.VintageDiscoverer.discover(VintageDiscoverer.java:55)\n    at org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:61)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:177)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:164)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\n\n\n\n\njava.lang.NullPointerException\n    at com.application.controller.DishControllerTest.getDishes(DishControllerTest.java:27)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:436)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:170)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:166)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:113)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:112)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$2(HierarchicalTestExecutor.java:120)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.lambda$executeRecursively$3(HierarchicalTestExecutor.java:120)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.executeRecursively(HierarchicalTestExecutor.java:108)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor$NodeExecutor.execute(HierarchicalTestExecutor.java:79)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:55)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\n</code></pre>\n<p>pom (only test dependencies):</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0-M1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Do you have any ideas why is it happening? Is it possible because pom dependencies are clashing?</p>\n"},{"tags":["java","swing","jtable"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670492921,"creation_date":1670492921,"answer_id":74728313,"question_id":74716600,"body_markdown":"There are several things I would change in your application however I will concentrate solely on how to achieve what you request, namely update the `Item` [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) when the *Add Item* [`JButton`] is clicked.\r\n\r\nYou simply need to adjust the `TableModel` of `Item` and you should probably do it in the [ActionListener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html) of the *Add Item* button.\r\n\r\nHere is the code for method `addFActionPerformed`\r\n\r\n    private void addFActionPerformed(java.awt.event.ActionEvent evt) {\r\n        // TODO add your handling code here:\r\n\r\n        if (nameI.getText().equals(&quot;&quot;) || priceI.getText().equals(&quot;&quot;) || quanI.getText().equals(&quot;&quot;)) {\r\n            javax.swing.JOptionPane.showMessageDialog(this, &quot;Please enter all data!&quot;);\r\n        }\r\n        else {\r\n            String data[] = {nameI.getText(), priceI.getText(), quanI.getText()};\r\n            DefaultTableModel tblModel = (DefaultTableModel) Item2.getModel();\r\n\r\n            tblModel.addRow(data);\r\n\r\n            javax.swing.JOptionPane.showMessageDialog(this, &quot;Add data successfully!&quot;);\r\n\r\n            nameI.setText(&quot;&quot;);\r\n            priceI.setText(&quot;&quot;);\r\n            quanI.setText(&quot;&quot;);\r\n            int row = Item.getSelectedRow();\r\n            int s = Integer.parseInt(Item.getValueAt(row, 2).toString());\r\n            int q = Integer.parseInt(data[2]);\r\n            Item.setValueAt(s - q, row, 2);\r\n        }\r\n    }\r\n\r\nThe above code calculates the new value for *In stock* by subtracting the value entered in `quanI` [JTextField](https://docs.oracle.com/javase/tutorial/uiswing/components/text.html) from the current *In stock* value and sets the *In stock* value to the calculated value.\r\n\r\nAs an aside, some of the things I would change in your application are (in no particular order):\r\n- Use a [ListSelectionListener](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/event/ListSelectionListener.html) rather than a `MouseListener`.\r\n- Set the selection mode to [SINGLE_SELECTION](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ListSelectionModel.html#SINGLE_SELECTION)\r\n\r\nAlso note that it is extremely rare that using the GUI builder of my IDE benefits me when writing a *Swing* application. In almost all cases, I don&#39;t use the GUI builder at all. I suggest that you do the same.\r\n\r\nIt is also a good idea to add validations to your code, for example to prevent entering a quantity (in `quanI`) which is greater than the *In stock* quantity.","title":"How to subtract the &quot;In stock&quot; in a table when &quot;Add Item&quot; to another table","body":"<p>There are several things I would change in your application however I will concentrate solely on how to achieve what you request, namely update the <code>Item</code> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> when the <em>Add Item</em> [<code>JButton</code>] is clicked.</p>\n<p>You simply need to adjust the <code>TableModel</code> of <code>Item</code> and you should probably do it in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">ActionListener</a> of the <em>Add Item</em> button.</p>\n<p>Here is the code for method <code>addFActionPerformed</code></p>\n<pre><code>private void addFActionPerformed(java.awt.event.ActionEvent evt) {\n    // TODO add your handling code here:\n\n    if (nameI.getText().equals(&quot;&quot;) || priceI.getText().equals(&quot;&quot;) || quanI.getText().equals(&quot;&quot;)) {\n        javax.swing.JOptionPane.showMessageDialog(this, &quot;Please enter all data!&quot;);\n    }\n    else {\n        String data[] = {nameI.getText(), priceI.getText(), quanI.getText()};\n        DefaultTableModel tblModel = (DefaultTableModel) Item2.getModel();\n\n        tblModel.addRow(data);\n\n        javax.swing.JOptionPane.showMessageDialog(this, &quot;Add data successfully!&quot;);\n\n        nameI.setText(&quot;&quot;);\n        priceI.setText(&quot;&quot;);\n        quanI.setText(&quot;&quot;);\n        int row = Item.getSelectedRow();\n        int s = Integer.parseInt(Item.getValueAt(row, 2).toString());\n        int q = Integer.parseInt(data[2]);\n        Item.setValueAt(s - q, row, 2);\n    }\n}\n</code></pre>\n<p>The above code calculates the new value for <em>In stock</em> by subtracting the value entered in <code>quanI</code> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">JTextField</a> from the current <em>In stock</em> value and sets the <em>In stock</em> value to the calculated value.</p>\n<p>As an aside, some of the things I would change in your application are (in no particular order):</p>\n<ul>\n<li>Use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/event/ListSelectionListener.html\" rel=\"nofollow noreferrer\">ListSelectionListener</a> rather than a <code>MouseListener</code>.</li>\n<li>Set the selection mode to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ListSelectionModel.html#SINGLE_SELECTION\" rel=\"nofollow noreferrer\">SINGLE_SELECTION</a></li>\n</ul>\n<p>Also note that it is extremely rare that using the GUI builder of my IDE benefits me when writing a <em>Swing</em> application. In almost all cases, I don't use the GUI builder at all. I suggest that you do the same.</p>\n<p>It is also a good idea to add validations to your code, for example to prevent entering a quantity (in <code>quanI</code>) which is greater than the <em>In stock</em> quantity.</p>\n"}],"owner":{"account_id":26178739,"reputation":1,"user_id":19862427,"display_name":"L&#226;n Kim Vi&#234;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670492921,"creation_date":1670415577,"question_id":74716600,"body_markdown":"In the right table below there are 3 cabbages:\r\n\r\n[![application screenshot][1]][1]\r\n\r\nAfter I &quot;Add Item&quot; to the table below, the &quot;In stock&quot; in the right table should change to 0, but it remains unchanged as shown in the picture. How can I fix this?\r\n\r\nThis is the code:\r\n```\r\npackage com.mycompany.adremoveitemtoatablelist;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.io.FileWriter;\r\nimport javax.swing.JComboBox;\r\n\r\npublic class AnotherItemAgain extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form AddRemoveItemsToATableList\r\n     */\r\n    public AnotherItemAgain() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        nameI = new javax.swing.JTextField();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        jLabel5 = new javax.swing.JLabel();\r\n        priceI = new javax.swing.JTextField();\r\n        quanI = new javax.swing.JTextField();\r\n        addF = new javax.swing.JButton();\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        Item = new javax.swing.JTable();\r\n        jButton1 = new javax.swing.JButton();\r\n        showF = new javax.swing.JButton();\r\n        jScrollPane2 = new javax.swing.JScrollPane();\r\n        Item2 = new javax.swing.JTable();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        addComponentListener(new java.awt.event.ComponentAdapter() {\r\n            public void componentShown(java.awt.event.ComponentEvent evt) {\r\n                formComponentShown(evt);\r\n            }\r\n        });\r\n\r\n        jLabel1.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 30)); // NOI18N\r\n        jLabel1.setText(&quot;Items&quot;);\r\n\r\n        jLabel2.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 25)); // NOI18N\r\n        jLabel2.setText(&quot;Item:&quot;);\r\n\r\n        jLabel3.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\r\n        jLabel3.setText(&quot;Name:&quot;);\r\n\r\n        nameI.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 15)); // NOI18N\r\n        nameI.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                nameIActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel4.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\r\n        jLabel4.setText(&quot;Price:&quot;);\r\n\r\n        jLabel5.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\r\n        jLabel5.setText(&quot;Quantity:&quot;);\r\n\r\n        priceI.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 15)); // NOI18N\r\n        priceI.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                priceIActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        quanI.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 15)); // NOI18N\r\n        quanI.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                quanIActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        addF.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 15)); // NOI18N\r\n        addF.setText(&quot;Add Item&quot;);\r\n        addF.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                addFActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        Item.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\r\n        Item.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n\r\n            },\r\n            new String [] {\r\n                &quot;Item&quot;, &quot;Price&quot;, &quot;In stock&quot;, &quot;Type&quot;\r\n            }\r\n        ));\r\n        Item.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                ItemMouseClicked(evt);\r\n            }\r\n        });\r\n        jScrollPane1.setViewportView(Item);\r\n\r\n        jButton1.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 15)); // NOI18N\r\n        jButton1.setText(&quot;Delete Item&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        showF.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 15)); // NOI18N\r\n        showF.setText(&quot;Show Item&quot;);\r\n        showF.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                showFActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        Item2.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\r\n        Item2.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n\r\n            },\r\n            new String [] {\r\n                &quot;Item&quot;, &quot;Price&quot;, &quot;Quantity&quot;\r\n            }\r\n        ));\r\n        Item2.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                Item2MouseClicked(evt);\r\n            }\r\n        });\r\n        jScrollPane2.setViewportView(Item2);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(183, 183, 183)\r\n                        .addComponent(jLabel1))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(66, 66, 66)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addComponent(jLabel3)\r\n                            .addComponent(jLabel4)\r\n                            .addComponent(jLabel5)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addComponent(addF, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addGap(118, 118, 118)\r\n                                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 177, javax.swing.GroupLayout.PREFERRED_SIZE))))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(45, 45, 45)\r\n                        .addComponent(jLabel2)))\r\n                .addGap(587, 587, 587))\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(223, 223, 223)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                            .addComponent(nameI)\r\n                            .addComponent(priceI)\r\n                            .addComponent(quanI, javax.swing.GroupLayout.PREFERRED_SIZE, 224, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(29, 29, 29)\r\n                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 535, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 535, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addGap(31, 31, 31))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(189, 189, 189)\r\n                        .addComponent(showF, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addComponent(jLabel1)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                            .addGroup(layout.createSequentialGroup()\r\n                                .addComponent(jLabel2)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                                .addComponent(jLabel3))\r\n                            .addComponent(nameI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\r\n                            .addComponent(priceI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                            .addComponent(jLabel4))\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                            .addComponent(quanI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                            .addComponent(jLabel5)))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(230, 230, 230)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                            .addComponent(addF)\r\n                            .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(30, 30, 30)\r\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addGap(48, 48, 48)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(showF)\r\n                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addContainerGap(63, Short.MAX_VALUE))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void addFActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n        // TODO add your handling code here:\r\n        \r\n        if(nameI.getText().equals(&quot;&quot;)||priceI.getText().equals(&quot;&quot;)||quanI.getText().equals( &quot;&quot;)){\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter all data!&quot;);\r\n            } else {\r\n               String data[] = {nameI.getText(),priceI.getText(),quanI.getText()};\r\n               DefaultTableModel tblModel = (DefaultTableModel)Item2.getModel();\r\n               \r\n               tblModel.addRow(data);\r\n               \r\n               JOptionPane.showMessageDialog(this, &quot;Add data successfully!&quot;);\r\n               \r\n               nameI.setText(&quot;&quot;);\r\n               priceI.setText(&quot;&quot;);\r\n               quanI.setText(&quot;&quot;);\r\n        }\r\n    }                                    \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        DefaultTableModel tblModel = (DefaultTableModel) Item2.getModel();\r\n        \r\n        //delete row\r\n        if(Item2.getSelectedRowCount()==1) {\r\n            \r\n            tblModel.removeRow(Item2.getSelectedRow());\r\n        } else {\r\n            if(Item2.getRowCount()==0) {\r\n                \r\n                JOptionPane.showMessageDialog(this, &quot;Table is empty.&quot;);\r\n            } else {\r\n                \r\n                JOptionPane.showMessageDialog(this, &quot;Please select single row for delete.&quot;);\r\n            }\r\n        }\r\n    }                                        \r\n\r\n    private void ItemMouseClicked(java.awt.event.MouseEvent evt) {                                  \r\n        // TODO add your handling code here:\r\n        DefaultTableModel tblModel = (DefaultTableModel)Item.getModel();\r\n        \r\n        // Set data to text field when row is selected\r\n        String tblNameF = tblModel.getValueAt(Item.getSelectedRow(), 0).toString();\r\n        String tblPriceF = tblModel.getValueAt(Item.getSelectedRow(), 1).toString();\r\n        String tblQuanF = tblModel.getValueAt(Item.getSelectedRow(), 2).toString();\r\n        \r\n        //Set to text field\r\n        nameI.setText(tblNameF);\r\n        priceI.setText(tblPriceF);\r\n        quanI.setText(tblQuanF);\r\n    }                                 \r\n\r\n    private void showFActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n        // TODO add your handling code here:\r\n        \r\n        String filePath = &quot;C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\Food.txt&quot;;\r\n        File file = new File(filePath);\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tBufferedReader br = new BufferedReader(new FileReader(file));\r\n\t\t\t\tDefaultTableModel model = (DefaultTableModel)Item.getModel();\r\n\t\t\t\tObject[] tableLines = br.lines().toArray();\r\n\t\t\t\tfor(int i = 0; i &lt; tableLines.length; i++)\r\n\t            {\r\n\t                String line = tableLines[i].toString().trim();\r\n\t                String[] dataRow = line.split(&quot;,&quot;);\r\n\t                model.addRow(dataRow);\r\n\t            }\r\n\t\t\t\t\r\n\t\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n    }                                     \r\n\r\n    private void quanIActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n        // TODO add your handling code here:\r\n    }                                     \r\n\r\n    private void priceIActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n    }                                      \r\n\r\n    private void nameIActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n        // TODO add your handling code here:\r\n    }                                     \r\n\r\n    private void Item2MouseClicked(java.awt.event.MouseEvent evt) {                                   \r\n        // TODO add your handling code here:\r\n    }                                  \r\n\r\n    private void formComponentShown(java.awt.event.ComponentEvent evt) {                                    \r\n        // TODO add your handling code here:\r\n        nameI.setEditable(false);\r\n        priceI.setEditable(false);\r\n    }                                   \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n        //&lt;/editor-fold&gt;\r\n        //&lt;/editor-fold&gt;\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new AnotherItemAgain().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JTable Item;\r\n    private javax.swing.JTable Item2;\r\n    private javax.swing.JButton addF;\r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JScrollPane jScrollPane2;\r\n    private javax.swing.JTextField nameI;\r\n    private javax.swing.JTextField priceI;\r\n    private javax.swing.JTextField quanI;\r\n    private javax.swing.JButton showF;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n\r\nI want to subtract the number in &quot;In Stock&quot; in right table when &quot;Add Item&quot; to another table.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qB03c.png","title":"How to subtract the &quot;In stock&quot; in a table when &quot;Add Item&quot; to another table","body":"<p>In the right table below there are 3 cabbages:</p>\n<p><a href=\"https://i.stack.imgur.com/qB03c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qB03c.png\" alt=\"application screenshot\" /></a></p>\n<p>After I &quot;Add Item&quot; to the table below, the &quot;In stock&quot; in the right table should change to 0, but it remains unchanged as shown in the picture. How can I fix this?</p>\n<p>This is the code:</p>\n<pre><code>package com.mycompany.adremoveitemtoatablelist;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.io.FileWriter;\nimport javax.swing.JComboBox;\n\npublic class AnotherItemAgain extends javax.swing.JFrame {\n\n    /**\n     * Creates new form AddRemoveItemsToATableList\n     */\n    public AnotherItemAgain() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        nameI = new javax.swing.JTextField();\n        jLabel4 = new javax.swing.JLabel();\n        jLabel5 = new javax.swing.JLabel();\n        priceI = new javax.swing.JTextField();\n        quanI = new javax.swing.JTextField();\n        addF = new javax.swing.JButton();\n        jScrollPane1 = new javax.swing.JScrollPane();\n        Item = new javax.swing.JTable();\n        jButton1 = new javax.swing.JButton();\n        showF = new javax.swing.JButton();\n        jScrollPane2 = new javax.swing.JScrollPane();\n        Item2 = new javax.swing.JTable();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        addComponentListener(new java.awt.event.ComponentAdapter() {\n            public void componentShown(java.awt.event.ComponentEvent evt) {\n                formComponentShown(evt);\n            }\n        });\n\n        jLabel1.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 30)); // NOI18N\n        jLabel1.setText(&quot;Items&quot;);\n\n        jLabel2.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 25)); // NOI18N\n        jLabel2.setText(&quot;Item:&quot;);\n\n        jLabel3.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\n        jLabel3.setText(&quot;Name:&quot;);\n\n        nameI.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 15)); // NOI18N\n        nameI.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                nameIActionPerformed(evt);\n            }\n        });\n\n        jLabel4.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\n        jLabel4.setText(&quot;Price:&quot;);\n\n        jLabel5.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\n        jLabel5.setText(&quot;Quantity:&quot;);\n\n        priceI.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 15)); // NOI18N\n        priceI.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                priceIActionPerformed(evt);\n            }\n        });\n\n        quanI.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 15)); // NOI18N\n        quanI.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                quanIActionPerformed(evt);\n            }\n        });\n\n        addF.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 15)); // NOI18N\n        addF.setText(&quot;Add Item&quot;);\n        addF.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                addFActionPerformed(evt);\n            }\n        });\n\n        Item.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\n        Item.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n\n            },\n            new String [] {\n                &quot;Item&quot;, &quot;Price&quot;, &quot;In stock&quot;, &quot;Type&quot;\n            }\n        ));\n        Item.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                ItemMouseClicked(evt);\n            }\n        });\n        jScrollPane1.setViewportView(Item);\n\n        jButton1.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 15)); // NOI18N\n        jButton1.setText(&quot;Delete Item&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        showF.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 1, 15)); // NOI18N\n        showF.setText(&quot;Show Item&quot;);\n        showF.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                showFActionPerformed(evt);\n            }\n        });\n\n        Item2.setFont(new java.awt.Font(&quot;Segoe UI&quot;, 0, 20)); // NOI18N\n        Item2.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n\n            },\n            new String [] {\n                &quot;Item&quot;, &quot;Price&quot;, &quot;Quantity&quot;\n            }\n        ));\n        Item2.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                Item2MouseClicked(evt);\n            }\n        });\n        jScrollPane2.setViewportView(Item2);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(183, 183, 183)\n                        .addComponent(jLabel1))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(66, 66, 66)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addComponent(jLabel3)\n                            .addComponent(jLabel4)\n                            .addComponent(jLabel5)\n                            .addGroup(layout.createSequentialGroup()\n                                .addComponent(addF, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGap(118, 118, 118)\n                                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 177, javax.swing.GroupLayout.PREFERRED_SIZE))))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(45, 45, 45)\n                        .addComponent(jLabel2)))\n                .addGap(587, 587, 587))\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(223, 223, 223)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                            .addComponent(nameI)\n                            .addComponent(priceI)\n                            .addComponent(quanI, javax.swing.GroupLayout.PREFERRED_SIZE, 224, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(29, 29, 29)\n                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 535, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 535, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addGap(31, 31, 31))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(189, 189, 189)\n                        .addComponent(showF, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addComponent(jLabel1)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n                            .addGroup(layout.createSequentialGroup()\n                                .addComponent(jLabel2)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jLabel3))\n                            .addComponent(nameI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n                            .addComponent(priceI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                            .addComponent(jLabel4))\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                            .addComponent(quanI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                            .addComponent(jLabel5)))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(230, 230, 230)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                            .addComponent(addF)\n                            .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(30, 30, 30)\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addGap(48, 48, 48)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(showF)\n                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addContainerGap(63, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void addFActionPerformed(java.awt.event.ActionEvent evt) {                                     \n        // TODO add your handling code here:\n        \n        if(nameI.getText().equals(&quot;&quot;)||priceI.getText().equals(&quot;&quot;)||quanI.getText().equals( &quot;&quot;)){\n            JOptionPane.showMessageDialog(this, &quot;Please enter all data!&quot;);\n            } else {\n               String data[] = {nameI.getText(),priceI.getText(),quanI.getText()};\n               DefaultTableModel tblModel = (DefaultTableModel)Item2.getModel();\n               \n               tblModel.addRow(data);\n               \n               JOptionPane.showMessageDialog(this, &quot;Add data successfully!&quot;);\n               \n               nameI.setText(&quot;&quot;);\n               priceI.setText(&quot;&quot;);\n               quanI.setText(&quot;&quot;);\n        }\n    }                                    \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        DefaultTableModel tblModel = (DefaultTableModel) Item2.getModel();\n        \n        //delete row\n        if(Item2.getSelectedRowCount()==1) {\n            \n            tblModel.removeRow(Item2.getSelectedRow());\n        } else {\n            if(Item2.getRowCount()==0) {\n                \n                JOptionPane.showMessageDialog(this, &quot;Table is empty.&quot;);\n            } else {\n                \n                JOptionPane.showMessageDialog(this, &quot;Please select single row for delete.&quot;);\n            }\n        }\n    }                                        \n\n    private void ItemMouseClicked(java.awt.event.MouseEvent evt) {                                  \n        // TODO add your handling code here:\n        DefaultTableModel tblModel = (DefaultTableModel)Item.getModel();\n        \n        // Set data to text field when row is selected\n        String tblNameF = tblModel.getValueAt(Item.getSelectedRow(), 0).toString();\n        String tblPriceF = tblModel.getValueAt(Item.getSelectedRow(), 1).toString();\n        String tblQuanF = tblModel.getValueAt(Item.getSelectedRow(), 2).toString();\n        \n        //Set to text field\n        nameI.setText(tblNameF);\n        priceI.setText(tblPriceF);\n        quanI.setText(tblQuanF);\n    }                                 \n\n    private void showFActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n        \n        String filePath = &quot;C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\Food.txt&quot;;\n        File file = new File(filePath);\n                \n                try {\n                    BufferedReader br = new BufferedReader(new FileReader(file));\n                DefaultTableModel model = (DefaultTableModel)Item.getModel();\n                Object[] tableLines = br.lines().toArray();\n                for(int i = 0; i &lt; tableLines.length; i++)\n                {\n                    String line = tableLines[i].toString().trim();\n                    String[] dataRow = line.split(&quot;,&quot;);\n                    model.addRow(dataRow);\n                }\n                \n                } catch (FileNotFoundException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n    }                                     \n\n    private void quanIActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    private void priceIActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n    }                                      \n\n    private void nameIActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    private void Item2MouseClicked(java.awt.event.MouseEvent evt) {                                   \n        // TODO add your handling code here:\n    }                                  \n\n    private void formComponentShown(java.awt.event.ComponentEvent evt) {                                    \n        // TODO add your handling code here:\n        nameI.setEditable(false);\n        priceI.setEditable(false);\n    }                                   \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(AnotherItemAgain.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        //&lt;/editor-fold&gt;\n        //&lt;/editor-fold&gt;\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new AnotherItemAgain().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JTable Item;\n    private javax.swing.JTable Item2;\n    private javax.swing.JButton addF;\n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JScrollPane jScrollPane2;\n    private javax.swing.JTextField nameI;\n    private javax.swing.JTextField priceI;\n    private javax.swing.JTextField quanI;\n    private javax.swing.JButton showF;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>I want to subtract the number in &quot;In Stock&quot; in right table when &quot;Add Item&quot; to another table.</p>\n"},{"tags":["java","hibernate","spring"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1305786815,"post_id":6054692,"comment_id":7007094,"body_markdown":"can you please post more of stacktrace","body":"can you please post more of stacktrace"},{"owner":{"account_id":64584,"reputation":15556,"user_id":190596,"accept_rate":81,"display_name":"Stijn Geukens"},"score":0,"creation_date":1305788446,"post_id":6054692,"comment_id":7007439,"body_markdown":"Which version of Hibernate are you using?","body":"Which version of Hibernate are you using?"},{"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"score":0,"creation_date":1305788543,"post_id":6054692,"comment_id":7007465,"body_markdown":"can you list the hibernate and spring jar on your classpath.","body":"can you list the hibernate and spring jar on your classpath."},{"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"score":0,"creation_date":1305789560,"post_id":6054692,"comment_id":7007708,"body_markdown":"org.springframework.aop-3.1.0.M1.jar\norg.springframework.asm-3.1.0.M1.jar\norg.springframework.aspects-3.1.0.M1.jar\norg.springframework.beans-3.1.0.M1.jar\norg.springframework.context-3.1.0.M1.jar\norg.springframework.context.support-3.1.0.M1.jar\norg.springframework.core-3.1.0.M1.jar\norg.springframework.expression-3.1.0.M1.jar\norg.springframework.instrument-3.1.0.M1.jar\norg.springframework.instrument.tomcat-3.1.0.M1.jar\norg.springframework.jdbc-3.1.0.M1.jar\norg.springframework.jms-3.1.0.M1.jar\norg.springframework.orm-3.1.0.M1.jar\norg.springframework.oxm-3.1.0.M1.jar and hibernate3.jar","body":"org.springframework.aop-3.1.0.M1.jar org.springframework.asm-3.1.0.M1.jar org.springframework.aspects-3.1.0.M1.jar org.springframework.beans-3.1.0.M1.jar org.springframework.context-3.1.0.M1.jar org.springframework.context.support-3.1.0.M1.jar org.springframework.core-3.1.0.M1.jar org.springframework.expression-3.1.0.M1.jar org.springframework.instrument-3.1.0.M1.jar org.springframework.instrument.tomcat-3.1.0.M1.jar org.springframework.jdbc-3.1.0.M1.jar org.springframework.jms-3.1.0.M1.jar org.springframework.orm-3.1.0.M1.jar org.springframework.oxm-3.1.0.M1.jar and hibernate3.jar"}],"answers":[{"tags":[],"owner":{"account_id":64584,"reputation":15556,"user_id":190596,"accept_rate":81,"display_name":"Stijn Geukens"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305792050,"creation_date":1305789859,"answer_id":6055186,"question_id":6054692,"body_markdown":"Try adding following maven dependencies (or download the JAR&#39;s if you don&#39;t use Maven):\r\n\r\n* [Hibernate Validator][1]\r\n* [Javax Validation][2]\r\n\r\n\r\nOther dependencies might also be required (consider to use [Maven][3] if you are not yet, to avoid issues like this)\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.hibernate/hibernate-validator/4.0.2.GA\r\n  [2]: http://mvnrepository.com/artifact/javax.validation\r\n  [3]: http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"Error creating bean sessionFactory","body":"<p>Try adding following maven dependencies (or download the JAR's if you don't use Maven):</p>\n\n<ul>\n<li><a href=\"http://mvnrepository.com/artifact/org.hibernate/hibernate-validator/4.0.2.GA\">Hibernate Validator</a></li>\n<li><a href=\"http://mvnrepository.com/artifact/javax.validation\">Javax Validation</a></li>\n</ul>\n\n<p>Other dependencies might also be required (consider to use <a href=\"http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\">Maven</a> if you are not yet, to avoid issues like this)</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1565594590,"creation_date":1305789886,"answer_id":6055190,"question_id":6054692,"body_markdown":"Hibernate raises an exception:  `throw new HibernateException( &quot;Unable to get the default Bean Validation factory&quot;, e);` if it can not access Bean Validation Framework (BeanValidationActivator).\r\n\r\nSo I guess the problem is that the Validation jars are missing.\r\n\r\nFor Maven:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Error creating bean sessionFactory","body":"<p>Hibernate raises an exception:  <code>throw new HibernateException( \"Unable to get the default Bean Validation factory\", e);</code> if it can not access Bean Validation Framework (BeanValidationActivator).</p>\n\n<p>So I guess the problem is that the Validation jars are missing.</p>\n\n<p>For Maven:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3333612,"reputation":1,"user_id":2801869,"display_name":"Prashanth Reddy Thipparthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457699646,"creation_date":1457698628,"answer_id":35940091,"question_id":6054692,"body_markdown":"Try once by adding this line to your hibernate.cfg.xml file\r\n\r\n    &lt;property name=&quot;javax.persistence.validation.mode&quot; value=&quot;none&quot;/&gt;\r\n\r\n","title":"Error creating bean sessionFactory","body":"<p>Try once by adding this line to your hibernate.cfg.xml file</p>\n\n<pre><code>&lt;property name=\"javax.persistence.validation.mode\" value=\"none\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12755383,"reputation":191,"user_id":10347452,"display_name":"Barshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670492852,"creation_date":1670492852,"answer_id":74728297,"question_id":6054692,"body_markdown":"I have updated the Tomcat version from 8.5 to 9.0, it worked for me.","title":"Error creating bean sessionFactory","body":"<p>I have updated the Tomcat version from 8.5 to 9.0, it worked for me.</p>\n"}],"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37790,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6055190,"answer_count":4,"score":9,"last_activity_date":1670492852,"creation_date":1305786690,"question_id":6054692,"body_markdown":"I am integrating Spring with Hibernate. However, when I run the application I get an error like:\r\n\r\n&gt;Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [resources/spring.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unable to get the default Bean Validation factory\r\n\r\nMy spring.xml looks like:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:5432/3encult&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;3encult&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;3encult&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;mappingResources&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;\r\n\t\t\t\t\tresources/User.hbm.xml\r\n\t\t\t\t\t&lt;!-- Project.hbm.xml ProjCF.hbm.xml Task.hbm.xml TaskCF.hbm.xml Category.hbm.xml \r\n\t\t\t\t\t\tTaskEstimation.hbm.xml ProjectEstimation.hbm.xml Parameter.hbm.xml StatisticTool.hbm.xml \r\n\t\t\t\t\t\tReport.hbm.xml --&gt;\r\n\t\t\t\t&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n\t\t\t\t&lt;!-- Especificamos el valor minimo del pool de conexiones --&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.minPoolSize&quot;&gt;5&lt;/prop&gt;\r\n                &lt;!-- Especificamos el valor maximo del pool de conexiones --&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.maxPoolSize&quot;&gt;20&lt;/prop&gt;\r\n                &lt;!-- El tiempo de vida de cada conexion del pool. --&gt;\r\n                &lt;prop key=&quot;hibernate.c3p0.timeout&quot;&gt;600&lt;/prop&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;myUserDAO&quot; class=&quot;main.java.com.gwt.app.server.User&quot;&gt;\r\n\t\t&lt;property name=&quot;sesionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nAnd the injection in class User is:\r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(new String[]{&quot;resources/spring.xml&quot;});\r\n\r\n\tpublic void setSesionFactory(SessionFactory sesionFactory){\r\n\t\tthis.sesionFactory = sesionFactory;\r\n\t\tthis.sesion = this.sesionFactory.openSession();\r\n\t}\r\n\r\nThe stacktrace is:\r\n\r\n    Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [resources/spring.xml]: Invocation of init method failed; nested exception is    org.hibernate.HibernateException: Unable to get the default Bean Validation factory\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [resources/spring.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unable to get the default Bean Validation factory\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:900)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:455)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93)\r\n\tat main.java.com.gwt.app.server.User.&lt;init&gt;(User.java:16)\r\n\tat main.java.com.gwt.app.server.GreetingServiceImpl.greetServer(GreetingServiceImpl.java:20)\r\n\tat main.java.com.gwt.app.client.Main.main(Main.java:10)\r\n     Caused by: org.hibernate.HibernateException: Unable to get the default Bean Validation factory\r\n\tat org.hibernate.cfg.beanvalidation.BeanValidationActivator.applyDDL(BeanValidationActivator.java:127)\r\n\tat org.hibernate.cfg.Configuration.applyBeanValidationConstraintsOnDDL(Configuration.java:1677)\r\n\tat org.hibernate.cfg.Configuration.applyConstraintsToDDL(Configuration.java:1627)\r\n\tat org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1418)\r\n\tat org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1348)\r\n\tat org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:717)\r\n\tat org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1479)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n\t... 14 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.hibernate.cfg.beanvalidation.BeanValidationActivator.applyDDL(BeanValidationActivator.java:118)\r\n\t... 22 more\r\n    Caused by: org.hibernate.HibernateException: Unable to build the default ValidatorFactory\r\n\tat org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:383)\r\n\tat org.hibernate.cfg.beanvalidation.TypeSafeActivator.applyDDL(TypeSafeActivator.java:109)\r\n\t... 27 more\r\n    Caused by: javax.validation.ValidationException: Unable to find a default provider\r\n\tat javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:264)\r\n\tat javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:111)\r\n\tat org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:380)\r\n\t... 28 more\r\n\r\nBuild path contains the following libraries:\r\n\r\n    hibernate3.jar\r\n    org.springframework.aop-3.1.0.M1.jar\r\n    org.springframework.asm-3.1.0.M1.jar\r\n    org.springframework.aspects-3.1.0.M1.jar\r\n    org.springframework.beans-3.1.0.M1.jar\r\n    org.springframework.context-3.1.0.M1.jar\r\n    org.springframework.context.support-3.1.0.M1.jar\r\n    org.springframework.core-3.1.0.M1.jar\r\n    org.springframework.expression-3.1.0.M1.jar\r\n    org.springframework.instrument-3.1.0.M1.jar\r\n    org.springframework.instrument.tomcat-3.1.0.M1.jar\r\n    org.springframework.jdbc-3.1.0.M1.jar\r\n    org.springframework.jms-3.1.0.M1.jar\r\n    org.springframework.orm-3.1.0.M1.jar\r\n    org.springframework.oxm-3.1.0.M1.jar\r\n    org.springframework.transaction-3.1.0.M1.jar\r\n\r\nI am not using validation. It is the reason of not include the validation jar.\r\n\r\nI do not know what happens, I would like someone could help me.\r\n\r\nThanks!","title":"Error creating bean sessionFactory","body":"<p>I am integrating Spring with Hibernate. However, when I run the application I get an error like:</p>\n\n<blockquote>\n  <p>Error creating bean with name 'sessionFactory' defined in class path resource [resources/spring.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unable to get the default Bean Validation factory</p>\n</blockquote>\n\n<p>My spring.xml looks like:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n&lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.postgresql.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:postgresql://localhost:5432/3encult\" /&gt;\n    &lt;property name=\"password\" value=\"3encult\" /&gt;\n    &lt;property name=\"username\" value=\"3encult\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate3.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"myDataSource\" /&gt;\n    &lt;property name=\"mappingResources\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;\n                resources/User.hbm.xml\n                &lt;!-- Project.hbm.xml ProjCF.hbm.xml Task.hbm.xml TaskCF.hbm.xml Category.hbm.xml \n                    TaskEstimation.hbm.xml ProjectEstimation.hbm.xml Parameter.hbm.xml StatisticTool.hbm.xml \n                    Report.hbm.xml --&gt;\n            &lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n            &lt;!-- Especificamos el valor minimo del pool de conexiones --&gt;\n            &lt;prop key=\"hibernate.c3p0.minPoolSize\"&gt;5&lt;/prop&gt;\n            &lt;!-- Especificamos el valor maximo del pool de conexiones --&gt;\n            &lt;prop key=\"hibernate.c3p0.maxPoolSize\"&gt;20&lt;/prop&gt;\n            &lt;!-- El tiempo de vida de cada conexion del pool. --&gt;\n            &lt;prop key=\"hibernate.c3p0.timeout\"&gt;600&lt;/prop&gt;\n\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"myUserDAO\" class=\"main.java.com.gwt.app.server.User\"&gt;\n    &lt;property name=\"sesionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>And the injection in class User is:</p>\n\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(new String[]{\"resources/spring.xml\"});\n\npublic void setSesionFactory(SessionFactory sesionFactory){\n    this.sesionFactory = sesionFactory;\n    this.sesion = this.sesionFactory.openSession();\n}\n</code></pre>\n\n<p>The stacktrace is:</p>\n\n<pre><code>Error creating bean with name 'sessionFactory' defined in class path resource [resources/spring.xml]: Invocation of init method failed; nested exception is    org.hibernate.HibernateException: Unable to get the default Bean Validation factory\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [resources/spring.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unable to get the default Bean Validation factory\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:900)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:455)\nat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\nat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93)\nat main.java.com.gwt.app.server.User.&lt;init&gt;(User.java:16)\nat main.java.com.gwt.app.server.GreetingServiceImpl.greetServer(GreetingServiceImpl.java:20)\nat main.java.com.gwt.app.client.Main.main(Main.java:10)\n Caused by: org.hibernate.HibernateException: Unable to get the default Bean Validation factory\nat org.hibernate.cfg.beanvalidation.BeanValidationActivator.applyDDL(BeanValidationActivator.java:127)\nat org.hibernate.cfg.Configuration.applyBeanValidationConstraintsOnDDL(Configuration.java:1677)\nat org.hibernate.cfg.Configuration.applyConstraintsToDDL(Configuration.java:1627)\nat org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1418)\nat org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1348)\nat org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:717)\nat org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1479)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.hibernate.cfg.beanvalidation.BeanValidationActivator.applyDDL(BeanValidationActivator.java:118)\n... 22 more\nCaused by: org.hibernate.HibernateException: Unable to build the default ValidatorFactory\nat org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:383)\nat org.hibernate.cfg.beanvalidation.TypeSafeActivator.applyDDL(TypeSafeActivator.java:109)\n... 27 more\nCaused by: javax.validation.ValidationException: Unable to find a default provider\nat javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:264)\nat javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:111)\nat org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:380)\n... 28 more\n</code></pre>\n\n<p>Build path contains the following libraries:</p>\n\n<pre><code>hibernate3.jar\norg.springframework.aop-3.1.0.M1.jar\norg.springframework.asm-3.1.0.M1.jar\norg.springframework.aspects-3.1.0.M1.jar\norg.springframework.beans-3.1.0.M1.jar\norg.springframework.context-3.1.0.M1.jar\norg.springframework.context.support-3.1.0.M1.jar\norg.springframework.core-3.1.0.M1.jar\norg.springframework.expression-3.1.0.M1.jar\norg.springframework.instrument-3.1.0.M1.jar\norg.springframework.instrument.tomcat-3.1.0.M1.jar\norg.springframework.jdbc-3.1.0.M1.jar\norg.springframework.jms-3.1.0.M1.jar\norg.springframework.orm-3.1.0.M1.jar\norg.springframework.oxm-3.1.0.M1.jar\norg.springframework.transaction-3.1.0.M1.jar\n</code></pre>\n\n<p>I am not using validation. It is the reason of not include the validation jar.</p>\n\n<p>I do not know what happens, I would like someone could help me.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1670460144,"post_id":74721341,"comment_id":131883528,"body_markdown":"Can you try adding parantheses to the array parameter? `SELECT &#39;OK&#39; from delete_organization_info(:orgId, (:orgInfoIds), :orgInfoType)`. I have a similar case where I use something like `WHERE bank_transaction.id IN (:ids) AND ...` I am not sure how it works in the function calls but you may give it a try.","body":"Can you try adding parantheses to the array parameter? <code>SELECT &#39;OK&#39; from delete_organization_info(:orgId, (:orgInfoIds), :orgInfoType)</code>. I have a similar case where I use something like <code>WHERE bank_transaction.id IN (:ids) AND ...</code> I am not sure how it works in the function calls but you may give it a try."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1670460304,"post_id":74721341,"comment_id":131883550,"body_markdown":"Another tip: try listen to the error message and add explicit type cast: `SELECT &#39;OK&#39; from delete_organization_info(:orgId, :orgInfoIds::bigint[], :orgInfoType)`. Or combine the parantheses *and* type cast :)","body":"Another tip: try listen to the error message and add explicit type cast: <code>SELECT &#39;OK&#39; from delete_organization_info(:orgId, :orgInfoIds::bigint[], :orgInfoType)</code>. Or combine the parantheses <i>and</i> type cast :)"}],"answers":[{"tags":[],"owner":{"account_id":6179996,"reputation":25,"user_id":4815796,"display_name":"Leonardo Mora L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670492480,"creation_date":1670492480,"answer_id":74728233,"question_id":74721341,"body_markdown":"Looking around, I finally found how to do it:\r\n\r\n```java\r\n@Query(nativeQuery = true, value = &quot;SELECT &#39;OK&#39; from delete_organization_info(:orgId, cast(string_to_array(cast(:orgInfoIds as varchar) , &#39;,&#39;) as bigint[]), :orgInfoType)&quot;)\r\nString deleteOrganizationInfoUsingDatabaseFunc(@Param(&quot;orgId&quot;) Long orgId,\r\n                                                   @Param(&quot;orgInfoIds&quot;) String orgInfoIds,\r\n                                                   @Param(&quot;orgInfoType&quot;) String orgInfoType);\r\n```","title":"How to pass a list of numbers to a postgresql function using Springboot","body":"<p>Looking around, I finally found how to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true, value = &quot;SELECT 'OK' from delete_organization_info(:orgId, cast(string_to_array(cast(:orgInfoIds as varchar) , ',') as bigint[]), :orgInfoType)&quot;)\nString deleteOrganizationInfoUsingDatabaseFunc(@Param(&quot;orgId&quot;) Long orgId,\n                                                   @Param(&quot;orgInfoIds&quot;) String orgInfoIds,\n                                                   @Param(&quot;orgInfoType&quot;) String orgInfoType);\n</code></pre>\n"}],"owner":{"account_id":6179996,"reputation":25,"user_id":4815796,"display_name":"Leonardo Mora L&#243;pez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670492480,"creation_date":1670437465,"question_id":74721341,"body_markdown":"I have a postgresql&#39;s function which receive as one of his arguments a list of bigint. I trying to call it from my Springboot application, but I don&#39;t know how to pass the list.\r\n\r\nMy postgresql function is something like below:\r\n\r\n```sql\r\npublic.delete_organization_info(orgid bigint, orgdataids bigint[], orginfotype character varying)\r\n```\r\n\r\nHere is the call of the function from my Springboot repository:\r\n\r\n\r\n```java\r\n@Query(nativeQuery = true, value = &quot;SELECT &#39;OK&#39; from delete_organization_info(:orgId, :orgInfoIds, :orgInfoType)&quot;)\r\nString deleteOrganizationInfoUsingDatabaseFunc(@Param(&quot;orgId&quot;) Long orgId,\r\n                                               @Param(&quot;orgInfoIds&quot;) List&lt;Long&gt; orgInfoIds,\r\n                                               @Param(&quot;orgInfoType&quot;) String orgInfoType);\r\n```\r\n\r\nWhen I execute the function with an empty list everything works OK, but if a fill the list, an error is throwed\r\n\r\n```\r\nfunction delete_organization_info(bigint, bigint, character varying) does not exist\r\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n```\r\n\r\nCan anyone help to know how can I do this\r\n\r\n","title":"How to pass a list of numbers to a postgresql function using Springboot","body":"<p>I have a postgresql's function which receive as one of his arguments a list of bigint. I trying to call it from my Springboot application, but I don't know how to pass the list.</p>\n<p>My postgresql function is something like below:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>public.delete_organization_info(orgid bigint, orgdataids bigint[], orginfotype character varying)\n</code></pre>\n<p>Here is the call of the function from my Springboot repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true, value = &quot;SELECT 'OK' from delete_organization_info(:orgId, :orgInfoIds, :orgInfoType)&quot;)\nString deleteOrganizationInfoUsingDatabaseFunc(@Param(&quot;orgId&quot;) Long orgId,\n                                               @Param(&quot;orgInfoIds&quot;) List&lt;Long&gt; orgInfoIds,\n                                               @Param(&quot;orgInfoType&quot;) String orgInfoType);\n</code></pre>\n<p>When I execute the function with an empty list everything works OK, but if a fill the list, an error is throwed</p>\n<pre><code>function delete_organization_info(bigint, bigint, character varying) does not exist\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<p>Can anyone help to know how can I do this</p>\n"},{"tags":["java","mocking","mockito","stubbing"],"comments":[{"owner":{"account_id":52828,"reputation":1372,"user_id":157924,"accept_rate":40,"display_name":"Sobvan"},"score":0,"creation_date":1289902843,"post_id":4180209,"comment_id":4532132,"body_markdown":"Thank you guys for the answers! \nTo sum up: it is likely because of poor design of the software that I need to restub the method. But for now it is easy for me, and the tests also look clean.\nI did some more research and have found the Mockito.reset(T... mocks) method, that does the trick for me.\nNext time I will figure out some more simple design:)","body":"Thank you guys for the answers!  To sum up: it is likely because of poor design of the software that I need to restub the method. But for now it is easy for me, and the tests also look clean. I did some more research and have found the Mockito.reset(T... mocks) method, that does the trick for me. Next time I will figure out some more simple design:)"}],"answers":[{"tags":[],"owner":{"account_id":89589,"reputation":21149,"user_id":247090,"accept_rate":79,"display_name":"drekka"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1289777406,"creation_date":1289777406,"answer_id":4180348,"question_id":4180209,"body_markdown":"My first reaction to your question is that it sounds like you are trying to do too much in one test. \r\n\r\nFor ease of testing and simplicity each test should test one thing only. This is the same as the [Single Responsibility Principle][1]. I often find programmers trying to test multiple things in one test and having all sorts of problems because of it. So each of your unit test methods should follow this flow:\r\n\r\n1. Setup a single scenario for the test.\r\n1. Make a call to the class being tested to trigger the code being tested.\r\n1. Verify the behaviour.\r\n\r\nSo in your case I would expect to see at least two tests. One where `getLoggedInUser()` returns a user, and one where `getLoggedInUser()` throws an exception. That way you will not have problems with trying to simulate different behaviour in the mock.\r\n\r\nThe second thought that spring to mind is not to stub. Look into using expect instead because you can setup a series of expectation. I.e. the first call returns a user, the second call throws an exception, the third call returns a different user, etc.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Single_responsibility_principle","title":"Mockito re-stub method already stubbed with thenthrow","body":"<p>My first reaction to your question is that it sounds like you are trying to do too much in one test. </p>\n\n<p>For ease of testing and simplicity each test should test one thing only. This is the same as the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">Single Responsibility Principle</a>. I often find programmers trying to test multiple things in one test and having all sorts of problems because of it. So each of your unit test methods should follow this flow:</p>\n\n<ol>\n<li>Setup a single scenario for the test.</li>\n<li>Make a call to the class being tested to trigger the code being tested.</li>\n<li>Verify the behaviour.</li>\n</ol>\n\n<p>So in your case I would expect to see at least two tests. One where <code>getLoggedInUser()</code> returns a user, and one where <code>getLoggedInUser()</code> throws an exception. That way you will not have problems with trying to simulate different behaviour in the mock.</p>\n\n<p>The second thought that spring to mind is not to stub. Look into using expect instead because you can setup a series of expectation. I.e. the first call returns a user, the second call throws an exception, the third call returns a different user, etc.</p>\n"},{"tags":[],"owner":{"account_id":197877,"reputation":417,"user_id":442211,"display_name":"Bogdan Sulima"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1621401691,"creation_date":1339663150,"answer_id":11029523,"question_id":4180209,"body_markdown":"In new Mockito versions you can use stubbing consecutive calls to throw exception on first can and returning a value on a second call.\r\n\r\n    when(mock.someMethod(&quot;some arg&quot;))\r\n        .thenThrow(new RuntimeException())\r\n        .thenReturn(&quot;foo&quot;);\r\n\r\nhttps://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#10\r\n\r\n","title":"Mockito re-stub method already stubbed with thenthrow","body":"<p>In new Mockito versions you can use stubbing consecutive calls to throw exception on first can and returning a value on a second call.</p>\n<pre><code>when(mock.someMethod(&quot;some arg&quot;))\n    .thenThrow(new RuntimeException())\n    .thenReturn(&quot;foo&quot;);\n</code></pre>\n<p><a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#10\" rel=\"noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#10</a></p>\n"},{"tags":[],"owner":{"account_id":23045,"reputation":4040,"user_id":57461,"accept_rate":55,"display_name":"Pod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494509789,"creation_date":1494509789,"answer_id":43917060,"question_id":4180209,"body_markdown":"&gt;Is there any way for to tell the when method not to care about exceptions?\r\n\r\nTo actually answer this question:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import static org.hamcrest.Matchers.equalTo;\r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.junit.Assert.assertThat;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.powermock.api.mockito.PowerMockito.mock;\r\n    import static org.powermock.api.mockito.PowerMockito.when;\r\n    \r\n    import org.junit.Test;\r\n    import org.mockito.Mockito;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MyTest {\r\n    \r\n        @Test\r\n        public void testA() {\r\n    \r\n            // setup\r\n            ArrayList&lt;Object&gt; list = mock(ObjectArrayList.class);\r\n            when(list.indexOf(any())).thenReturn(6);\r\n            when(list.indexOf(any())).thenReturn(12);\r\n    \r\n            // execute\r\n            int index = list.indexOf(new Object());\r\n    \r\n            // verify\r\n            assertThat(index, is(equalTo(12)));\r\n        }\r\n    \r\n        @Test\r\n        public void testB() {\r\n    \r\n            // setup\r\n            ArrayList&lt;Object&gt; list = mock(ObjectArrayList.class);\r\n            when(list.add(any())).thenThrow(new AssertionError(&quot;can&#39;t get rid of me!&quot;));\r\n            when(list.add(any())).thenReturn(true);\r\n    \r\n            // execute\r\n            list.add(new Object());\r\n        }\r\n    \r\n        @Test\r\n        public void testC() {\r\n    \r\n            // setup\r\n            ArrayList&lt;Object&gt; list = mock(ObjectArrayList.class);\r\n            when(list.add(any())).thenThrow(new AssertionError(&quot;can&#39;t get rid of me!&quot;));\r\n            Mockito.reset(list);\r\n            when(list.add(any())).thenReturn(true);\r\n    \r\n            // execute\r\n            list.add(new Object());\r\n        }\r\n    \r\n        /**\r\n         * Exists to work around the fact that mocking an ArrayList&lt;Object&gt;\r\n         * requires a cast, which causes &quot;unchecked&quot; warnings, that can only be suppressed...\r\n         */\r\n        class ObjectArrayList extends ArrayList&lt;Object&gt; {\r\n    \r\n        }\r\n    }\r\n\r\n\r\n`TestB` fails due to the assert that you can&#39;t get rid of. `TestC` shows how the `reset` method can be used to reset the mock and remove the `thenThrow` command on it.\r\n\r\nNote that reset doesn&#39;t always seem to work in some more complicated examples I have. I suspect it might be because they&#39;re using `PowerMockito.mock` rather than `Mockito.mock`?","title":"Mockito re-stub method already stubbed with thenthrow","body":"<blockquote>\n  <p>Is there any way for to tell the when method not to care about exceptions?</p>\n</blockquote>\n\n<p>To actually answer this question:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.Matchers.equalTo;\nimport static org.hamcrest.Matchers.is;\nimport static org.junit.Assert.assertThat;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.powermock.api.mockito.PowerMockito.mock;\nimport static org.powermock.api.mockito.PowerMockito.when;\n\nimport org.junit.Test;\nimport org.mockito.Mockito;\n\nimport java.util.ArrayList;\n\npublic class MyTest {\n\n    @Test\n    public void testA() {\n\n        // setup\n        ArrayList&lt;Object&gt; list = mock(ObjectArrayList.class);\n        when(list.indexOf(any())).thenReturn(6);\n        when(list.indexOf(any())).thenReturn(12);\n\n        // execute\n        int index = list.indexOf(new Object());\n\n        // verify\n        assertThat(index, is(equalTo(12)));\n    }\n\n    @Test\n    public void testB() {\n\n        // setup\n        ArrayList&lt;Object&gt; list = mock(ObjectArrayList.class);\n        when(list.add(any())).thenThrow(new AssertionError(\"can't get rid of me!\"));\n        when(list.add(any())).thenReturn(true);\n\n        // execute\n        list.add(new Object());\n    }\n\n    @Test\n    public void testC() {\n\n        // setup\n        ArrayList&lt;Object&gt; list = mock(ObjectArrayList.class);\n        when(list.add(any())).thenThrow(new AssertionError(\"can't get rid of me!\"));\n        Mockito.reset(list);\n        when(list.add(any())).thenReturn(true);\n\n        // execute\n        list.add(new Object());\n    }\n\n    /**\n     * Exists to work around the fact that mocking an ArrayList&lt;Object&gt;\n     * requires a cast, which causes \"unchecked\" warnings, that can only be suppressed...\n     */\n    class ObjectArrayList extends ArrayList&lt;Object&gt; {\n\n    }\n}\n</code></pre>\n\n<p><code>TestB</code> fails due to the assert that you can't get rid of. <code>TestC</code> shows how the <code>reset</code> method can be used to reset the mock and remove the <code>thenThrow</code> command on it.</p>\n\n<p>Note that reset doesn't always seem to work in some more complicated examples I have. I suspect it might be because they're using <code>PowerMockito.mock</code> rather than <code>Mockito.mock</code>?</p>\n"},{"tags":[],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670492451,"creation_date":1670492451,"answer_id":74728226,"question_id":4180209,"body_markdown":"Use `Mockito.reset()` to reset any particular mocks, for example `Mockito.reset(mock1, mock2)`\r\n\r\nCheck for more detail: https://stackoverflow.com/a/68126634/12085680\r\n\r\nFor example:\r\n\r\n        @Test\r\n    \tvoid test() {\t\r\n\t\twhen(mock.someMethod(any())).thenThrow(SomeException.class);\r\n        // Using a service that uses the mock inside for example\r\n    \tassertThrows(SomeException.class, () -&gt; service.someMethodThatUsesTheMock(&quot;test&quot;));\r\n    \tMockito.reset(mock); // reset it so you can reuse that mock on another test\r\n    \t}","title":"Mockito re-stub method already stubbed with thenthrow","body":"<p>Use <code>Mockito.reset()</code> to reset any particular mocks, for example <code>Mockito.reset(mock1, mock2)</code></p>\n<p>Check for more detail: <a href=\"https://stackoverflow.com/a/68126634/12085680\">https://stackoverflow.com/a/68126634/12085680</a></p>\n<p>For example:</p>\n<pre><code>    @Test\n    void test() {   \n    when(mock.someMethod(any())).thenThrow(SomeException.class);\n    // Using a service that uses the mock inside for example\n    assertThrows(SomeException.class, () -&gt; service.someMethodThatUsesTheMock(&quot;test&quot;));\n    Mockito.reset(mock); // reset it so you can reuse that mock on another test\n    }\n</code></pre>\n"}],"owner":{"account_id":52828,"reputation":1372,"user_id":157924,"accept_rate":40,"display_name":"Sobvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15565,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4180348,"answer_count":4,"score":16,"last_activity_date":1670492451,"creation_date":1289775639,"question_id":4180209,"body_markdown":"I ran into a problem with mockito.\r\nI am developing a web application. In my tests the user management is mocked.\r\nThere are some cases when I have to alter the User returned by the `getLoggedInUser()` method.\r\n\r\nThe problem is, that my `getLoggedInUser()` method can also throw an `AuthenticationException`.\r\n\r\nSo when I try to switch from no user to some user, the call to\r\n\r\n    when(userProvider.getLoggedInUser()).thenReturn(user);\r\n\r\nthrows an exception, as `userProvider.getLoggedInUser()` is already stubbed with `thenTrow()`\r\n\r\nIs there any way for to tell the `when` method not to care about exceptions?\r\n\r\nThanks in advance - Istv&#225;n\r\n","title":"Mockito re-stub method already stubbed with thenthrow","body":"<p>I ran into a problem with mockito.\nI am developing a web application. In my tests the user management is mocked.\nThere are some cases when I have to alter the User returned by the <code>getLoggedInUser()</code> method.</p>\n\n<p>The problem is, that my <code>getLoggedInUser()</code> method can also throw an <code>AuthenticationException</code>.</p>\n\n<p>So when I try to switch from no user to some user, the call to</p>\n\n<pre><code>when(userProvider.getLoggedInUser()).thenReturn(user);\n</code></pre>\n\n<p>throws an exception, as <code>userProvider.getLoggedInUser()</code> is already stubbed with <code>thenTrow()</code></p>\n\n<p>Is there any way for to tell the <code>when</code> method not to care about exceptions?</p>\n\n<p>Thanks in advance - István</p>\n"},{"tags":["java","json","serialization","objectmapper"],"comments":[{"owner":{"account_id":3540628,"reputation":98,"user_id":2957840,"display_name":"z48o0"},"score":0,"creation_date":1670494909,"post_id":74728222,"comment_id":131890244,"body_markdown":"Create new map.\nYou can iterate over old one and foreach element add new key value to new map with values from old one.","body":"Create new map. You can iterate over old one and foreach element add new key value to new map with values from old one."},{"owner":{"account_id":8634690,"reputation":91,"user_id":6465315,"display_name":"RainerZufall"},"score":0,"creation_date":1670496870,"post_id":74728222,"comment_id":131890906,"body_markdown":"You could write a custom serializer for the Map class, see e.g. https://stackoverflow.com/a/10835504/6465315. I had a similar problem. Like @z48o0 suggested i created an object with my desired structure and then serialized it. I assume there is not much usage to this use case because it is limited to a single Map.Entry...","body":"You could write a custom serializer for the Map class, see e.g. <a href=\"https://stackoverflow.com/a/10835504/6465315\">stackoverflow.com/a/10835504/6465315</a>. I had a similar problem. Like @z48o0 suggested i created an object with my desired structure and then serialized it. I assume there is not much usage to this use case because it is limited to a single Map.Entry..."},{"owner":{"account_id":25321561,"reputation":16,"user_id":19142756,"display_name":"Polyphonic Mobius"},"score":0,"creation_date":1670527391,"post_id":74728222,"comment_id":131901211,"body_markdown":"Thank you, z48o0 and RainerZufall. But I&#39;m looking for something that I can use to process billions of records. Creating an object to map to and from just for serializing and de-serializing can&#39;t be the approach I use.","body":"Thank you, z48o0 and RainerZufall. But I&#39;m looking for something that I can use to process billions of records. Creating an object to map to and from just for serializing and de-serializing can&#39;t be the approach I use."}],"owner":{"account_id":25321561,"reputation":16,"user_id":19142756,"display_name":"Polyphonic Mobius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670492438,"creation_date":1670492438,"question_id":74728222,"body_markdown":"I have a Java map `Map&lt;String, String&gt; map = Collections.singletonMap(&quot;dummyKey&quot;, &quot;dummyValue&quot;)`.\r\nWhen I use ObjectMapper to serialize it, I get `{&quot;dummyKey&quot;:&quot;dummyValue&quot;}`.\r\nIs there any way that I can insert JSON keys in the process of serialization so my JSON string looks like `{&quot;key&quot;:&quot;dummyKey&quot;, &quot;value&quot;:&quot;dummyValue&quot;}`.\r\n\r\nI&#39;d like to be able to do this without having to create a separate class, if possible. I&#39;m looking for something like the [allow explicit property renaming](https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.8.5/com/fasterxml/jackson/databind/MapperFeature.html#ALLOW_EXPLICIT_PROPERTY_RENAMING) feature. \r\n\r\nI looked at the other mapper features provided, but can&#39;t find anything useful. I don&#39;t want to create a different class because I want to retain the ability to be able to use it as a map (look up by key) when I deserialize it later. I&#39;m looking for something that&#39;ll only change the way serialization and deserialization happen.","title":"When serializing my Java map key-value pair to JSON, how can I add JSON keys?","body":"<p>I have a Java map <code>Map&lt;String, String&gt; map = Collections.singletonMap(&quot;dummyKey&quot;, &quot;dummyValue&quot;)</code>.\nWhen I use ObjectMapper to serialize it, I get <code>{&quot;dummyKey&quot;:&quot;dummyValue&quot;}</code>.\nIs there any way that I can insert JSON keys in the process of serialization so my JSON string looks like <code>{&quot;key&quot;:&quot;dummyKey&quot;, &quot;value&quot;:&quot;dummyValue&quot;}</code>.</p>\n<p>I'd like to be able to do this without having to create a separate class, if possible. I'm looking for something like the <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.8.5/com/fasterxml/jackson/databind/MapperFeature.html#ALLOW_EXPLICIT_PROPERTY_RENAMING\" rel=\"nofollow noreferrer\">allow explicit property renaming</a> feature.</p>\n<p>I looked at the other mapper features provided, but can't find anything useful. I don't want to create a different class because I want to retain the ability to be able to use it as a map (look up by key) when I deserialize it later. I'm looking for something that'll only change the way serialization and deserialization happen.</p>\n"},{"tags":["java","rest","methods","static","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1670488304,"post_id":74726987,"comment_id":131888172,"body_markdown":"Where is the call to method under test?","body":"Where is the call to method under test?"}],"answers":[{"tags":[],"owner":{"account_id":10525317,"reputation":1,"user_id":7756514,"display_name":"AhianZhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670491931,"creation_date":1670491598,"answer_id":74728062,"question_id":74726987,"body_markdown":"try this\r\n\r\n```java\r\ntry (MockedStatic&lt;EndorsementWS&gt; utilities = Mockito.mockStatic(Mockito.mock(EndorsementWS.class))) {\r\n    utilities.when(() -&gt; EndorsementWS.invokeEndorsementWS(any(),any(),any()))\r\n            .thenReturn(new HashMap&lt;String,String&gt;());\r\n}\r\n```\r\nyou should use `Mockito.mock()` to mock EndorsementWS class first","title":"Unable mock static method using mockito","body":"<p>try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;EndorsementWS&gt; utilities = Mockito.mockStatic(Mockito.mock(EndorsementWS.class))) {\n    utilities.when(() -&gt; EndorsementWS.invokeEndorsementWS(any(),any(),any()))\n            .thenReturn(new HashMap&lt;String,String&gt;());\n}\n</code></pre>\n<p>you should use <code>Mockito.mock()</code> to mock EndorsementWS class first</p>\n"}],"owner":{"account_id":9483618,"reputation":1,"user_id":7050650,"display_name":"Chinthakayala Bhanu Prakash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670491931,"creation_date":1670485422,"question_id":74726987,"body_markdown":"```\r\ntry (MockedStatic&lt;EndorsementWS&gt; utilities = Mockito.mockStatic(EndorsementWS.class)) {\r\n    utilities.when(() -&gt; EndorsementWS.invokeEndorsementWS(any(),any(),any()))\r\n            .thenReturn(new HashMap&lt;String,String&gt;());\r\n}\r\n```\r\nNot able to mock ENdorsementWS class which is having invokeEndorsementWS with three parameters can someone check this?\r\n\r\n\r\n\r\nTried with above code but the flow going through the real method not provided stubbed behaviour","title":"Unable mock static method using mockito","body":"<pre><code>try (MockedStatic&lt;EndorsementWS&gt; utilities = Mockito.mockStatic(EndorsementWS.class)) {\n    utilities.when(() -&gt; EndorsementWS.invokeEndorsementWS(any(),any(),any()))\n            .thenReturn(new HashMap&lt;String,String&gt;());\n}\n</code></pre>\n<p>Not able to mock ENdorsementWS class which is having invokeEndorsementWS with three parameters can someone check this?</p>\n<p>Tried with above code but the flow going through the real method not provided stubbed behaviour</p>\n"},{"tags":["java","maven","m2eclipse","sts-springsourcetoolsuite","m2e"],"comments":[{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1326499214,"post_id":8857985,"comment_id":11067771,"body_markdown":"You need to execute `install` goal for maven: look for context menu for m2e. This will fetch all missed dependencies.","body":"You need to execute <code>install</code> goal for maven: look for context menu for m2e. This will fetch all missed dependencies."},{"owner":{"account_id":1116781,"reputation":1343,"user_id":1105946,"accept_rate":93,"display_name":"totalcruise"},"score":2,"creation_date":1326547245,"post_id":8857985,"comment_id":11072996,"body_markdown":"Thanks dma_k, I have tried this but to no avail. The jar is in my .m2 repository..i just dont know why it is not being read...","body":"Thanks dma_k, I have tried this but to no avail. The jar is in my .m2 repository..i just dont know why it is not being read..."},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1326566241,"post_id":8857985,"comment_id":11076007,"body_markdown":"If jar files are there, try to refresh your project. Usually that helps.","body":"If jar files are there, try to refresh your project. Usually that helps."},{"owner":{"account_id":1116781,"reputation":1343,"user_id":1105946,"accept_rate":93,"display_name":"totalcruise"},"score":0,"creation_date":1326574970,"post_id":8857985,"comment_id":11077414,"body_markdown":"Okay that has helped - other errors now - but this has helped. Thanks","body":"Okay that has helped - other errors now - but this has helped. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":365121,"reputation":3116,"user_id":709881,"display_name":"Samuel EUSTACHI"},"down_vote_count":1,"up_vote_count":96,"is_accepted":true,"score":95,"last_activity_date":1334232214,"creation_date":1334232214,"answer_id":10123184,"question_id":8857985,"body_markdown":"Indeed IDEs often cache the local repository (Eclipse does something similar, and I have to relaunch Eclipse).\r\n\r\nOne ugly maven behavior you might encounter is that if you declare a dependency before you actually install it, maven will create an empty version of the missing dependency (folder with metadata but no jar), and you will have to manually clean your .m2 repository.\r\n\r\nThird, an installed archive (jar...) can get corrupted, so try to open it with any archive tool (7zip...) to test it, and delete the whole folder if the archive is corrupted.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Indeed IDEs often cache the local repository (Eclipse does something similar, and I have to relaunch Eclipse).</p>\n\n<p>One ugly maven behavior you might encounter is that if you declare a dependency before you actually install it, maven will create an empty version of the missing dependency (folder with metadata but no jar), and you will have to manually clean your .m2 repository.</p>\n\n<p>Third, an installed archive (jar...) can get corrupted, so try to open it with any archive tool (7zip...) to test it, and delete the whole folder if the archive is corrupted.</p>\n"},{"tags":[],"owner":{"account_id":1964896,"reputation":596,"user_id":1765424,"display_name":"intersum"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1398177963,"creation_date":1398177963,"answer_id":23222861,"question_id":8857985,"body_markdown":"In my case I had to manually delete all the files in `.m2\\repository` folder and then open command prompt and run `mvn -install` command in my project directory.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>In my case I had to manually delete all the files in <code>.m2\\repository</code> folder and then open command prompt and run <code>mvn -install</code> command in my project directory.</p>\n"},{"tags":[],"owner":{"account_id":1242968,"reputation":552,"user_id":1205106,"display_name":"enri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402228209,"creation_date":1402228209,"answer_id":24105835,"question_id":8857985,"body_markdown":"In my case I tried all the tips suggested but the error remained. I solved changing with a more recent version and writing that in the pom.xml. After this everything is now ok.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>In my case I tried all the tips suggested but the error remained. I solved changing with a more recent version and writing that in the pom.xml. After this everything is now ok.</p>\n"},{"tags":[],"owner":{"account_id":5291486,"reputation":139,"user_id":4223942,"display_name":"Gopal Bairwa"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1415295133,"creation_date":1415295133,"answer_id":26785716,"question_id":8857985,"body_markdown":"I was using Eclipse as IDE and I was getting very same error. I had to do Project-&gt;Maven-&gt;Update Project. Select all the checkboxes below except &quot;offline&quot; esp. the  one &quot;Force update of snapshots/releases&quot; and click OK.  Did  the Clean Build for the  Project again.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>I was using Eclipse as IDE and I was getting very same error. I had to do Project->Maven->Update Project. Select all the checkboxes below except \"offline\" esp. the  one \"Force update of snapshots/releases\" and click OK.  Did  the Clean Build for the  Project again.</p>\n"},{"tags":[],"owner":{"account_id":1795106,"reputation":1052,"user_id":1634677,"display_name":"HoppyKamper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438284050,"creation_date":1438284050,"answer_id":31732314,"question_id":8857985,"body_markdown":"For Googlers:\r\n\r\nIn my case I had accidentally **manually added a Java class to the build path** while poking around Eclipse. By taking a look at the &#39;Configure Build Path...&gt; Libraries I removed the culprit class and now only have the \r\n\r\n - JRE System Library\r\n - Maven Dependencies\r\n\r\nand nothing is complaining.\r\n\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>For Googlers:</p>\n\n<p>In my case I had accidentally <strong>manually added a Java class to the build path</strong> while poking around Eclipse. By taking a look at the 'Configure Build Path...> Libraries I removed the culprit class and now only have the </p>\n\n<ul>\n<li>JRE System Library</li>\n<li>Maven Dependencies</li>\n</ul>\n\n<p>and nothing is complaining.</p>\n"},{"tags":[],"owner":{"account_id":9072782,"reputation":1,"user_id":6755336,"display_name":"CHANNA MALLAIAH UDDANDAIAHGARI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542816368,"creation_date":1472100548,"answer_id":39136864,"question_id":8857985,"body_markdown":"This could be due to you have added spring-licence.txt file to your web app libraries.\r\n\r\nI had similar issue and resolved after removing that text file. In libraries it will expect jar file only.\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>This could be due to you have added spring-licence.txt file to your web app libraries.</p>\n\n<p>I had similar issue and resolved after removing that text file. In libraries it will expect jar file only.</p>\n"},{"tags":[],"owner":{"account_id":7522833,"reputation":567,"user_id":5714125,"accept_rate":77,"display_name":"PrestigeDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478183446,"creation_date":1478183446,"answer_id":40404182,"question_id":8857985,"body_markdown":"I deleted the local maven repository. \r\nThen just rightclick the project -&gt; Maven -&gt; Update Project...\r\nSelect all concerned projects and click OK.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>I deleted the local maven repository. \nThen just rightclick the project -> Maven -> Update Project...\nSelect all concerned projects and click OK.</p>\n"},{"tags":[],"owner":{"account_id":3155402,"reputation":9,"user_id":2667922,"display_name":"basavaraj N"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486524359,"creation_date":1486524359,"answer_id":42104125,"question_id":8857985,"body_markdown":"Remove maven dependenices from build path\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Remove maven dependenices from build path</p>\n"},{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1494091128,"creation_date":1494067511,"answer_id":43819497,"question_id":8857985,"body_markdown":"Delete corrupted files from your local .m2 repository and &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F5&lt;/kbd&gt; (Update Maven Project) in Eclipse/STS. It&#39;ll download and install these files.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Delete corrupted files from your local .m2 repository and <kbd>Ctrl</kbd>+<kbd>F5</kbd> (Update Maven Project) in Eclipse/STS. It'll download and install these files.</p>\n"},{"tags":[],"owner":{"account_id":2065629,"reputation":11,"user_id":1841187,"display_name":"Abdollah Sobhy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497611121,"creation_date":1497611121,"answer_id":44587701,"question_id":8857985,"body_markdown":"I faced this problem. I had &quot;Archive for required library spring-boot-devtools cannot be read or is not a valid ZIP file&quot; and the solution was like that:-\r\n1- determine the dependencies names that have problems(for may case it is spring-boot-devtools).\r\n2- close eclipse.\r\n3- search in your .m2 file on these dependencies(by name).\r\n4- delete these folders.\r\n5- reopen eclipse and let maven rebuild your dependencies again.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>I faced this problem. I had \"Archive for required library spring-boot-devtools cannot be read or is not a valid ZIP file\" and the solution was like that:-\n1- determine the dependencies names that have problems(for may case it is spring-boot-devtools).\n2- close eclipse.\n3- search in your .m2 file on these dependencies(by name).\n4- delete these folders.\n5- reopen eclipse and let maven rebuild your dependencies again.</p>\n"},{"tags":[],"owner":{"account_id":2753808,"reputation":117,"user_id":2372500,"accept_rate":43,"display_name":"AlketCecaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516626691,"creation_date":1516626691,"answer_id":48382375,"question_id":8857985,"body_markdown":"Ok, I had the same problem with STS on a mac and solved it by deleting all the files in repository folder and from the STS IDE click on the project and then Maven -&gt; Update project. Give it a couple of minutes to download all the dependencies and the problem is solved.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Ok, I had the same problem with STS on a mac and solved it by deleting all the files in repository folder and from the STS IDE click on the project and then Maven -> Update project. Give it a couple of minutes to download all the dependencies and the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":12079888,"reputation":53,"user_id":8832036,"display_name":"reactdontact"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518852648,"creation_date":1518852648,"answer_id":48839041,"question_id":8857985,"body_markdown":"I face with the same issue. I deleted the local repository and relaunched the ID. It worked fine .\r\n\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>I face with the same issue. I deleted the local repository and relaunched the ID. It worked fine .</p>\n"},{"tags":[],"owner":{"account_id":2274686,"reputation":655,"user_id":2001284,"accept_rate":94,"display_name":"elder elder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519390437,"creation_date":1519390437,"answer_id":48948401,"question_id":8857985,"body_markdown":"Just had this problem on Indigo SR2. It popped up after I removed a superfluous jar from the classpath (build path). Restarting Eclipse didn&#39;t help. Added back the jar to the build path...error went away. Removed the jar once again, and this time I was spared from another complaint. ","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Just had this problem on Indigo SR2. It popped up after I removed a superfluous jar from the classpath (build path). Restarting Eclipse didn't help. Added back the jar to the build path...error went away. Removed the jar once again, and this time I was spared from another complaint. </p>\n"},{"tags":[],"owner":{"account_id":8126600,"reputation":257,"user_id":6121347,"accept_rate":95,"display_name":"vibetribe93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523055833,"creation_date":1523055833,"answer_id":49702058,"question_id":8857985,"body_markdown":"none of the solutions above helped my problem. I&#39;ve resolved it by deleting all files in {projectworkspace}/.metadata folder AND in {location}/.m2 folder and let eclipse download every single thing again. Hope this helps someone, cheers!","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>none of the solutions above helped my problem. I've resolved it by deleting all files in {projectworkspace}/.metadata folder AND in {location}/.m2 folder and let eclipse download every single thing again. Hope this helps someone, cheers!</p>\n"},{"tags":[],"owner":{"account_id":11374006,"reputation":359,"user_id":8338842,"display_name":"Kaushal Dokania"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535182965,"creation_date":1535182965,"answer_id":52015128,"question_id":8857985,"body_markdown":" This worked for me.\r\n\r\n 1. Close Eclipse\r\n 2. Delete ./m2/repository\r\n 3. Open Eclipse, it will automatically download all the jars\r\n 4. If still problem remains, then right click project &gt; Maven &gt; Update Project... &gt; Check &#39;Force Update of Snapshots/Releases&#39;","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>This worked for me.</p>\n\n<ol>\n<li>Close Eclipse</li>\n<li>Delete ./m2/repository</li>\n<li>Open Eclipse, it will automatically download all the jars</li>\n<li>If still problem remains, then right click project > Maven > Update Project... > Check 'Force Update of Snapshots/Releases'</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4193275,"reputation":1015,"user_id":3435342,"display_name":"Steve Stilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540502658,"creation_date":1540502658,"answer_id":52998320,"question_id":8857985,"body_markdown":"When I got an error saying &quot;archive for required library could not be read,&quot; I solved it by removing the JARS in question from the Build Path of the project, and then using &quot;Add External Jars&quot; to add them back in again (navigating to the same folder that they were in).  Using the &quot;Add Jars&quot; button wouldn&#39;t work, and the error would still be there.  But using &quot;Add External Jars&quot; worked.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>When I got an error saying \"archive for required library could not be read,\" I solved it by removing the JARS in question from the Build Path of the project, and then using \"Add External Jars\" to add them back in again (navigating to the same folder that they were in).  Using the \"Add Jars\" button wouldn't work, and the error would still be there.  But using \"Add External Jars\" worked.</p>\n"},{"tags":[],"owner":{"account_id":8572689,"reputation":502,"user_id":6422979,"accept_rate":38,"display_name":"Rajesh Om"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542816356,"creation_date":1542804996,"answer_id":53412535,"question_id":8857985,"body_markdown":"Below Steps resolved my issue.\r\n\r\n1. Go to ./m2/repository folder.\r\n\r\n2. Go to respective archive error folder.\r\n\r\n3. Verify any zip file is exist.\r\n\r\n4. delete error name folder.\r\n\r\n5. Now come to Eclipse Project - Right Click - Maven - &gt; Update Project.\r\n\r\nAbove trick works for me.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Below Steps resolved my issue.</p>\n\n<ol>\n<li><p>Go to ./m2/repository folder.</p></li>\n<li><p>Go to respective archive error folder.</p></li>\n<li><p>Verify any zip file is exist.</p></li>\n<li><p>delete error name folder.</p></li>\n<li><p>Now come to Eclipse Project - Right Click - Maven - > Update Project.</p></li>\n</ol>\n\n<p>Above trick works for me.</p>\n"},{"tags":[],"owner":{"account_id":6661878,"reputation":79,"user_id":5140709,"display_name":"Rakesh Narang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544892172,"creation_date":1544892172,"answer_id":53795172,"question_id":8857985,"body_markdown":"I was facing the same problem with my project.\r\n\r\nMy project was not able to find this archive: -\r\n\r\n    C:\\Users\\rakeshnarang\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.3.7.Final\r\n\r\nI went to this directory and deleted this folder.\r\n\r\nWent back to eclipse and hit ALT + F5 to update the project.\r\n\r\nThe jar file was downloaded again and the problem was solved.\r\n\r\nYou should try this.\r\n\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>I was facing the same problem with my project.</p>\n\n<p>My project was not able to find this archive: -</p>\n\n<pre><code>C:\\Users\\rakeshnarang\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.3.7.Final\n</code></pre>\n\n<p>I went to this directory and deleted this folder.</p>\n\n<p>Went back to eclipse and hit ALT + F5 to update the project.</p>\n\n<p>The jar file was downloaded again and the problem was solved.</p>\n\n<p>You should try this.</p>\n"},{"tags":[],"owner":{"account_id":490572,"reputation":3429,"user_id":1792003,"accept_rate":62,"display_name":"Snehal Masne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567072460,"creation_date":1567072460,"answer_id":57707616,"question_id":8857985,"body_markdown":"Alternatively, below commands also worked for me:\r\n\r\n    mvn -s settings.xml eclipse:clean\r\n    mvn -s settings.xml eclipse:eclipse","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Alternatively, below commands also worked for me:</p>\n\n<pre><code>mvn -s settings.xml eclipse:clean\nmvn -s settings.xml eclipse:eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6253729,"reputation":36,"user_id":4863006,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590144917,"creation_date":1590144917,"answer_id":61953399,"question_id":8857985,"body_markdown":"In case of VSCode, follow the below steps:\r\n\r\n 1. Navigate to the respective folder that contains the corrupted jar\r\n 2. Delete just the jar\r\n 3. mvn clean\r\n 4. mvn compile\r\n\r\nThat worked for me.","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>In case of VSCode, follow the below steps:</p>\n\n<ol>\n<li>Navigate to the respective folder that contains the corrupted jar</li>\n<li>Delete just the jar</li>\n<li>mvn clean</li>\n<li>mvn compile</li>\n</ol>\n\n<p>That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":14020296,"reputation":1,"user_id":13833911,"display_name":"sravaniJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593429539,"creation_date":1593428983,"answer_id":62636826,"question_id":8857985,"body_markdown":"Read the issue in Problems section,identify which dependency not able to read, then go the maven repository .m2\\repository -&gt; \r\n1)check the dependencies and delete it from the folder\r\n2)go to STS/Eclipse -&gt; click on maven -&gt; update project -&gt;select the force update of snapshots/releases and click on ok.\r\n\r\nor \r\ndelete the dependencies from the .m2/repository and rebuild the maven --&gt; update the maven project\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>Read the issue in Problems section,identify which dependency not able to read, then go the maven repository .m2\\repository -&gt;\n1)check the dependencies and delete it from the folder\n2)go to STS/Eclipse -&gt; click on maven -&gt; update project -&gt;select the force update of snapshots/releases and click on ok.</p>\n<p>or\ndelete the dependencies from the .m2/repository and rebuild the maven --&gt; update the maven project</p>\n"},{"tags":[],"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604014032,"creation_date":1604014032,"answer_id":64600607,"question_id":8857985,"body_markdown":"This happens when Eclipse screws up. To fix it, delete all the files in:\r\n\r\n    workspace/.metadata/.plugins/org.eclipse.jdt.core","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>This happens when Eclipse screws up. To fix it, delete all the files in:</p>\n<pre><code>workspace/.metadata/.plugins/org.eclipse.jdt.core\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6764866,"reputation":451,"user_id":5210164,"display_name":"Avinash Khadsan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605956584,"creation_date":1605956584,"answer_id":64942314,"question_id":8857985,"body_markdown":"    Delete your C:\\Users\\PC\\.m2** folder\r\n    and update maven project ","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<pre><code>Delete your C:\\Users\\PC\\.m2** folder\nand update maven project \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670491428,"creation_date":1670491428,"answer_id":74728030,"question_id":8857985,"body_markdown":"In my case, I just had to remove the following 2 lines from proguard.cfg:\r\n\r\n    -keep class android.support.v4.** { * ; }\r\n    -dontwarn android.support.v4.**\r\n\r\nYes, I know that the question refers to the Spring Tool Suite but:\r\n\r\n 1. Spring Tool Suite is based on Eclipse (the IDE I am currently using for ADT). \r\n 2. Proguard is a Java obfuscator that can be used for any project, not just Android \r\n 3. I tried all the suggested answers and tips in the thread and none worked for me, until I removed the references to said libs.\r\n\r\nI hope this helps someone.\r\n\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>In my case, I just had to remove the following 2 lines from proguard.cfg:</p>\n<pre><code>-keep class android.support.v4.** { * ; }\n-dontwarn android.support.v4.**\n</code></pre>\n<p>Yes, I know that the question refers to the Spring Tool Suite but:</p>\n<ol>\n<li>Spring Tool Suite is based on Eclipse (the IDE I am currently using for ADT).</li>\n<li>Proguard is a Java obfuscator that can be used for any project, not just Android</li>\n<li>I tried all the suggested answers and tips in the thread and none worked for me, until I removed the references to said libs.</li>\n</ol>\n<p>I hope this helps someone.</p>\n"}],"owner":{"account_id":1116781,"reputation":1343,"user_id":1105946,"accept_rate":93,"display_name":"totalcruise"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176425,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":10123184,"answer_count":24,"score":80,"last_activity_date":1670491428,"creation_date":1326492961,"question_id":8857985,"body_markdown":"I am starting to configure my development environment and I am using Spring Tool Suite 2.8.1 along with m2E 1.01.\r\n\r\nAs far as I can tell, since this is a Maven Project (my first), my Maven POM is dictating (along with m2E smarts) my project build configuration and dependencies.\r\n\r\nWhat I would like to know is why my IDE is displaying Java Build Problems that read &quot;Archive required for library *library/path/somejar.jar* cannot be read or is not a valid zip file&quot; when I can see the jars in my .m2 repository?\r\n\r\nAll the errors pertained to commons-logging:1.1.1 which I excluded in my parent-pom. This was a transistive dependancy via spring-context-support:3.0.5. I excluded that library from my build and now the errors pertain to the spring-context-support library.\r\n\r\nI have attached a screenshot to illustrate.\r\n\r\n![Markers][1]\r\n\r\n  [1]: http://i.stack.imgur.com/0QfjQ.png\r\n\r\n","title":"Compiler error &quot;archive for required library could not be read&quot; - Spring Tool Suite","body":"<p>I am starting to configure my development environment and I am using Spring Tool Suite 2.8.1 along with m2E 1.01.</p>\n\n<p>As far as I can tell, since this is a Maven Project (my first), my Maven POM is dictating (along with m2E smarts) my project build configuration and dependencies.</p>\n\n<p>What I would like to know is why my IDE is displaying Java Build Problems that read \"Archive required for library <em>library/path/somejar.jar</em> cannot be read or is not a valid zip file\" when I can see the jars in my .m2 repository?</p>\n\n<p>All the errors pertained to commons-logging:1.1.1 which I excluded in my parent-pom. This was a transistive dependancy via spring-context-support:3.0.5. I excluded that library from my build and now the errors pertain to the spring-context-support library.</p>\n\n<p>I have attached a screenshot to illustrate.</p>\n\n<p><img src=\"https://i.stack.imgur.com/0QfjQ.png\" alt=\"Markers\"></p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":20726875,"reputation":124,"user_id":15219976,"display_name":"krankkk"},"score":1,"creation_date":1670083701,"post_id":74668312,"comment_id":131792807,"body_markdown":"Does this answer your question? [How to generate a random alpha-numeric string](https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string\">How to generate a random alpha-numeric string</a>"}],"answers":[{"tags":[],"owner":{"account_id":23355737,"reputation":1,"user_id":17428727,"display_name":"Kailasam Sai kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670491401,"creation_date":1670491340,"answer_id":74728018,"question_id":74668312,"body_markdown":"\r\n    String valueToField = &quot;LU&quot; + RandomStringUtils.randomNumeric(10);\r\n    ","title":"How to generate Random number in feature file","body":"<pre><code>String valueToField = &quot;LU&quot; + RandomStringUtils.randomNumeric(10);\n</code></pre>\n"}],"owner":{"account_id":23355737,"reputation":1,"user_id":17428727,"display_name":"Kailasam Sai kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670491401,"creation_date":1670083151,"question_id":74668312,"body_markdown":"I need to generate Random random in input fields so from feature how do I generate Random number which is like US124467895\r\n\r\nTo generate Random number from feature file","title":"How to generate Random number in feature file","body":"<p>I need to generate Random random in input fields so from feature how do I generate Random number which is like US124467895</p>\n<p>To generate Random number from feature file</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1670418820,"post_id":74717124,"comment_id":131871697,"body_markdown":"REST and JSESSIONID is a contradiction. REST is stateless.","body":"REST and JSESSIONID is a contradiction. REST is stateless."},{"owner":{"account_id":4029150,"reputation":69,"user_id":3316024,"display_name":"chakez"},"score":0,"creation_date":1670521836,"post_id":74717124,"comment_id":131899590,"body_markdown":"For some reason we need to expose a rest endpoint for the third party application to  access user details. However I can&#39;t figure out that it only works on the first two minutes, After that it seems that user session was invalidated and reset. The session cookie information was purged.","body":"For some reason we need to expose a rest endpoint for the third party application to  access user details. However I can&#39;t figure out that it only works on the first two minutes, After that it seems that user session was invalidated and reset. The session cookie information was purged."}],"owner":{"account_id":4029150,"reputation":69,"user_id":3316024,"display_name":"chakez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670491340,"creation_date":1670418138,"question_id":74717124,"body_markdown":"I have an application running in tomcat server and have a domain like `www.foo.com` which I have exposed a rest endpoint for a third party application running in a different domain like `www.acme.com`.\r\n\r\nSo I have enabled cross origin call from `www.acme.com` to `www.foo.com`, however something weird is happening. During the first post request everything is normal, however the succeeding request after two mins changes the JSESSION_ID of the user in the browser. I checked on my application and I didn&#39;t see any settings that may cause the issue so I&#39;m thinking that there is a setting/configuration in the server level that might cause the issue.\r\n\r\nDid I miss any configuration in the application that may cause this to happen?","title":"JSESSION ID changing after post request","body":"<p>I have an application running in tomcat server and have a domain like <code>www.foo.com</code> which I have exposed a rest endpoint for a third party application running in a different domain like <code>www.acme.com</code>.</p>\n<p>So I have enabled cross origin call from <code>www.acme.com</code> to <code>www.foo.com</code>, however something weird is happening. During the first post request everything is normal, however the succeeding request after two mins changes the JSESSION_ID of the user in the browser. I checked on my application and I didn't see any settings that may cause the issue so I'm thinking that there is a setting/configuration in the server level that might cause the issue.</p>\n<p>Did I miss any configuration in the application that may cause this to happen?</p>\n"},{"tags":["java","android","appium","screenshot"],"comments":[{"owner":{"account_id":557104,"reputation":4198,"user_id":919434,"accept_rate":93,"display_name":"Sim"},"score":1,"creation_date":1667470699,"post_id":74206712,"comment_id":131176224,"body_markdown":"Does this answer your question? [Java Android Appium - how to take screenshot when telephone is connected via USB cable?](https://stackoverflow.com/questions/74217681/java-android-appium-how-to-take-screenshot-when-telephone-is-connected-via-usb)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74217681/java-android-appium-how-to-take-screenshot-when-telephone-is-connected-via-usb\">Java Android Appium - how to take screenshot when telephone is connected via USB cable?</a>"},{"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"score":0,"creation_date":1668330937,"post_id":74206712,"comment_id":131375244,"body_markdown":"@Sim, Thanks for the link.  as Appium java client auto download latest Selenium driver. So, adding explicitly selenium 4.5.0 dependency resolve the issue.","body":"@Sim, Thanks for the link.  as Appium java client auto download latest Selenium driver. So, adding explicitly selenium 4.5.0 dependency resolve the issue."}],"answers":[{"tags":[],"owner":{"account_id":26742947,"reputation":1,"user_id":20343439,"display_name":"DiegoFaria"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666819653,"creation_date":1666819653,"answer_id":74214412,"question_id":74206712,"body_markdown":"Try this:\r\ngetScenario().embed(((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES)\r\n\r\ninstead of:\r\nFile source = driver.getScreenshotAs(OutputType.FILE);\r\n\r\nString destinationFile = System.getProperty(&quot;user.dir&quot;)+&quot;//reports&quot;+testCaseName+&quot;.png&quot;;\r\n\r\nFileUtils.copyFile(source, new File(destinationFile));\r\n\r\nreturn destinationFile;","title":"Appium Android - take screenshot returns &quot;Illegal base64 character a&quot;","body":"<p>Try this:\ngetScenario().embed(((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES)</p>\n<p>instead of:\nFile source = driver.getScreenshotAs(OutputType.FILE);</p>\n<p>String destinationFile = System.getProperty(&quot;user.dir&quot;)+&quot;//reports&quot;+testCaseName+&quot;.png&quot;;</p>\n<p>FileUtils.copyFile(source, new File(destinationFile));</p>\n<p>return destinationFile;</p>\n"},{"tags":[],"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667484067,"creation_date":1666875397,"answer_id":74222427,"question_id":74206712,"body_markdown":"That&#39;s because there is an annoying thing Appium does when using it&#39;s driver to take a screenshot, but I&#39;m not sure if this applies in your situation. \r\n\r\nCan you  output the Base64 in the console to check it&#39;s specific output? If the output is something like this:\r\n\r\n```\r\n&quot;Z3Rlc2dyZXNncmdyZWFncmVzZ3Jlc2dyZWFncmVzZ3Jlc2dlaW93YWpm\\n&quot;\r\n&quot;ZW9ndGVzZ3Jlc2dyZ3JlYWdyZXNncmVzZ3JlYWdyZXNncmVzZ2Vpb3dh\\n&quot;\r\n&quot;amZlb2d0ZXNncmVzZ3JncmVhZ3Jlc2dyZXNncmVhZ3Jlc2dyZXNnZWlv\\n&quot;\r\n&quot;d2FqZmVvZ3Rlc2dyZXNncmdyZWFncmVzZ3Jlc2dyZWFncmVzZ3Jlc2dl\\n&quot;\r\n&quot;aW93YWpmZW9ndGVzZ3Jlc2dyZ3JlYWdyZXNncmVzZ3JlYWdyZXNncmVz\\n&quot;\r\n&quot;Z2Vpb3dhamZlb2d0ZXNncmVzZ3JncmVhZ3Jlc2dyZXNncmVhZ3Jlc2dy\\n&quot;\r\n```\r\nThen you should replace the `&quot;\\n&quot;` to a blank `&quot;&quot;`:\r\n\r\n```\r\nString screenshotBase64 = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BASE64);\r\nString replaceBase64 = screenshotBase64.replaceAll(&quot;\\n&quot;,&quot;&quot;);\r\n\r\ndoSomethingWith(replaceBase64);","title":"Appium Android - take screenshot returns &quot;Illegal base64 character a&quot;","body":"<p>That's because there is an annoying thing Appium does when using it's driver to take a screenshot, but I'm not sure if this applies in your situation.</p>\n<p>Can you  output the Base64 in the console to check it's specific output? If the output is something like this:</p>\n<pre><code>&quot;Z3Rlc2dyZXNncmdyZWFncmVzZ3Jlc2dyZWFncmVzZ3Jlc2dlaW93YWpm\\n&quot;\n&quot;ZW9ndGVzZ3Jlc2dyZ3JlYWdyZXNncmVzZ3JlYWdyZXNncmVzZ2Vpb3dh\\n&quot;\n&quot;amZlb2d0ZXNncmVzZ3JncmVhZ3Jlc2dyZXNncmVhZ3Jlc2dyZXNnZWlv\\n&quot;\n&quot;d2FqZmVvZ3Rlc2dyZXNncmdyZWFncmVzZ3Jlc2dyZWFncmVzZ3Jlc2dl\\n&quot;\n&quot;aW93YWpmZW9ndGVzZ3Jlc2dyZ3JlYWdyZXNncmVzZ3JlYWdyZXNncmVz\\n&quot;\n&quot;Z2Vpb3dhamZlb2d0ZXNncmVzZ3JncmVhZ3Jlc2dyZXNncmVhZ3Jlc2dy\\n&quot;\n</code></pre>\n<p>Then you should replace the <code>&quot;\\n&quot;</code> to a blank <code>&quot;&quot;</code>:</p>\n<pre><code>String screenshotBase64 = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BASE64);\nString replaceBase64 = screenshotBase64.replaceAll(&quot;\\n&quot;,&quot;&quot;);\n\ndoSomethingWith(replaceBase64);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14921960,"reputation":13,"user_id":10773941,"display_name":"Jimma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667470800,"creation_date":1667470800,"answer_id":74301406,"question_id":74206712,"body_markdown":"This related to some already known problem. Read [https://github.com/appium/java-client/issues/1783][1]\r\n\r\nIf you want to take screenshot for web app on android mobile devices, you must take screenshot as Base64 format and add this to DesiredCapabilites or UiAutomator2Options class: \r\n\r\n    UiAutomator2Options options = new UiAutomator2Options();\r\n    options.setNativeWebScreenshot(true);\r\n\r\n  [1]: https://github.com/appium/java-client/issues/1783\r\n\r\nFor native app, I do not face this problem.","title":"Appium Android - take screenshot returns &quot;Illegal base64 character a&quot;","body":"<p>This related to some already known problem. Read <a href=\"https://github.com/appium/java-client/issues/1783\" rel=\"nofollow noreferrer\">https://github.com/appium/java-client/issues/1783</a></p>\n<p>If you want to take screenshot for web app on android mobile devices, you must take screenshot as Base64 format and add this to DesiredCapabilites or UiAutomator2Options class:</p>\n<pre><code>UiAutomator2Options options = new UiAutomator2Options();\noptions.setNativeWebScreenshot(true);\n</code></pre>\n<p>For native app, I do not face this problem.</p>\n"},{"tags":[],"owner":{"account_id":19329670,"reputation":1,"user_id":14131558,"display_name":"Ajit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670491051,"creation_date":1670491051,"answer_id":74727960,"question_id":74206712,"body_markdown":"I have added below 2 dependencies and it worked for me.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.5.0&lt;/version&gt;\t&lt;!-- Upgrading this version to higher, will fail test script taking screenshot --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.5.0&lt;/version&gt;\t&lt;!-- Upgrading this version to higher, will fail test script taking screenshot --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have initially added 4.6.0 and were showing same error, but now it worked with 4.5.0","title":"Appium Android - take screenshot returns &quot;Illegal base64 character a&quot;","body":"<p>I have added below 2 dependencies and it worked for me.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;version&gt;4.5.0&lt;/version&gt;    &lt;!-- Upgrading this version to higher, will fail test script taking screenshot --&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.5.0&lt;/version&gt;    &lt;!-- Upgrading this version to higher, will fail test script taking screenshot --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have initially added 4.6.0 and were showing same error, but now it worked with 4.5.0</p>\n"}],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1670491051,"creation_date":1666782215,"question_id":74206712,"body_markdown":"I have Androud telephone connected via USB cable to my computer and I want to take screenshot when test fails:\r\n\r\nI have the following code that returns error:\r\n\r\n   thisline returns error &quot;File source = driver.getScreenshotAs(OutputType.FILE);&quot; - is there any different solution ?\r\n\r\n```\r\npublic String getScreenshotPath(String testCaseName, AppiumDriver driver) throws IOException {\r\n\r\nFile source = driver.getScreenshotAs(OutputType.FILE);\r\n\r\nString destinationFile = System.getProperty(&quot;user.dir&quot;)+&quot;//reports&quot;+testCaseName+&quot;.png&quot;;\r\n\r\nFileUtils.copyFile(source, new File(destinationFile));\r\n\r\nreturn destinationFile;\r\n\r\n}\r\n```\r\n\r\nit returns error:\r\n\r\n    java.lang.IllegalArgumentException: Illegal base64 character a\r\n    \r\n    at java.base/java.util.Base64$Decoder.decode0(Base64.java:746)\r\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:538)\r\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:561)\r\n    at org.openqa.selenium.OutputType$2.convertFromBase64Png(OutputType.java:58)\r\n    at org.openqa.selenium.OutputType$2.convertFromBase64Png(OutputType.java:55)\r\n    at org.openqa.selenium.OutputType$3.convertFromBase64Png(OutputType.java:78)\r\n    at org.openqa.selenium.OutputType$3.convertFromBase64Png(OutputType.java:75)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:335)\r\n    at utils.AppiumUtils.getScreenshotPath(AppiumUtils.java:73)\r\n    at Appium.AppiumMaven.Listeners.onTestFailure(Listeners.java:47)\r\n    at org.testng.internal.TestListenerHelper.runTestListeners(TestListenerHelper.java:99)\r\n    at org.testng.internal.invokers.TestInvoker.runTestResultListener(TestInvoker.java:277)\r\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:978)\r\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n    at org.testng.TestRunner.run(TestRunner.java:601)\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    at org.testng.TestNG.run(TestNG.java:1067)\r\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n","title":"Appium Android - take screenshot returns &quot;Illegal base64 character a&quot;","body":"<p>I have Androud telephone connected via USB cable to my computer and I want to take screenshot when test fails:</p>\n<p>I have the following code that returns error:</p>\n<p>thisline returns error &quot;File source = driver.getScreenshotAs(OutputType.FILE);&quot; - is there any different solution ?</p>\n<pre><code>public String getScreenshotPath(String testCaseName, AppiumDriver driver) throws IOException {\n\nFile source = driver.getScreenshotAs(OutputType.FILE);\n\nString destinationFile = System.getProperty(&quot;user.dir&quot;)+&quot;//reports&quot;+testCaseName+&quot;.png&quot;;\n\nFileUtils.copyFile(source, new File(destinationFile));\n\nreturn destinationFile;\n\n}\n</code></pre>\n<p>it returns error:</p>\n<pre><code>java.lang.IllegalArgumentException: Illegal base64 character a\n\nat java.base/java.util.Base64$Decoder.decode0(Base64.java:746)\nat java.base/java.util.Base64$Decoder.decode(Base64.java:538)\nat java.base/java.util.Base64$Decoder.decode(Base64.java:561)\nat org.openqa.selenium.OutputType$2.convertFromBase64Png(OutputType.java:58)\nat org.openqa.selenium.OutputType$2.convertFromBase64Png(OutputType.java:55)\nat org.openqa.selenium.OutputType$3.convertFromBase64Png(OutputType.java:78)\nat org.openqa.selenium.OutputType$3.convertFromBase64Png(OutputType.java:75)\nat org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:335)\nat utils.AppiumUtils.getScreenshotPath(AppiumUtils.java:73)\nat Appium.AppiumMaven.Listeners.onTestFailure(Listeners.java:47)\nat org.testng.internal.TestListenerHelper.runTestListeners(TestListenerHelper.java:99)\nat org.testng.internal.invokers.TestInvoker.runTestResultListener(TestInvoker.java:277)\nat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:978)\nat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\nat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\nat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.testng.TestRunner.privateRun(TestRunner.java:806)\nat org.testng.TestRunner.run(TestRunner.java:601)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\nat org.testng.SuiteRunner.run(SuiteRunner.java:330)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\nat org.testng.TestNG.runSuites(TestNG.java:1099)\nat org.testng.TestNG.run(TestNG.java:1067)\nat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n"},{"tags":["java","iso8583","jpos","iso8583-1993"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1670591222,"post_id":74727844,"comment_id":131915116,"body_markdown":"Did you already try with `pad=&quot;false&quot;`?","body":"Did you already try with <code>pad=&quot;false&quot;</code>?"},{"owner":{"account_id":13982358,"reputation":55,"user_id":10098210,"display_name":"Mohamed Nazir"},"score":0,"creation_date":1670602002,"post_id":74727844,"comment_id":131918656,"body_markdown":"yes, but no luck","body":"yes, but no luck"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1670725228,"post_id":74727844,"comment_id":131939278,"body_markdown":"Sorry I&#39;ve just realized it&#39;s a IFA_NUMERIC length is always 11","body":"Sorry I&#39;ve just realized it&#39;s a IFA_NUMERIC length is always 11"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1675961435,"post_id":74727844,"comment_id":133044888,"body_markdown":"I&#39;m afraid I cannot fully understan your question, if you are using a `IFA_NUMERIC` packager of length 9 it doesn&#39;t matter if the length is even or not, always ASCII field packager uses one byte per digit. Maybe the problem is where you are parsing the data and not where you are packaging? or viceversa?","body":"I&#39;m afraid I cannot fully understan your question, if you are using a <code>IFA_NUMERIC</code> packager of length 9 it doesn&#39;t matter if the length is even or not, always ASCII field packager uses one byte per digit. Maybe the problem is where you are parsing the data and not where you are packaging? or viceversa?"}],"owner":{"account_id":13982358,"reputation":55,"user_id":10098210,"display_name":"Mohamed Nazir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670490443,"creation_date":1670490443,"question_id":74727844,"body_markdown":"\r\nI am new to this ISO8583 message, and working on processing this message. I have received the following message, where field-11 is a numeric value with 9 digits size.\r\n\r\n11007E2466490C61A430163533313139383030343030303031363400100000000000010000000000010000000000010020221201102201**0000599540**2607599900323230......\r\n\r\nSince, the field has 9 Numeric digits (odd-numbered) the messgae is added with a leading zero.\r\n\r\nI am not able to parse this with the following config.\r\n\r\n    &lt;isofield\r\n            id=&quot;11&quot;\r\n            length=&quot;9&quot;\r\n            name=&quot;TRANSACTION IDENTIFICATION NUMBER&quot;\r\n            pad=&quot;true&quot;\r\n            class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n\t\t\t\r\nThe expected value is 0000599540, but the actual value I am getting is 000059954. ( Ignores the last 0 as it has 10 digits in the original message)\r\n\r\nAny suggestion, on what is the config class to use to achieve this?\r\n\r\n ","title":"Jpos iso8583 unpacking the message with the a leading zero","body":"<p>I am new to this ISO8583 message, and working on processing this message. I have received the following message, where field-11 is a numeric value with 9 digits size.</p>\n<p>11007E2466490C61A430163533313139383030343030303031363400100000000000010000000000010000000000010020221201102201<strong>0000599540</strong>2607599900323230......</p>\n<p>Since, the field has 9 Numeric digits (odd-numbered) the messgae is added with a leading zero.</p>\n<p>I am not able to parse this with the following config.</p>\n<pre><code>&lt;isofield\n        id=&quot;11&quot;\n        length=&quot;9&quot;\n        name=&quot;TRANSACTION IDENTIFICATION NUMBER&quot;\n        pad=&quot;true&quot;\n        class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n        \n</code></pre>\n<p>The expected value is 0000599540, but the actual value I am getting is 000059954. ( Ignores the last 0 as it has 10 digits in the original message)</p>\n<p>Any suggestion, on what is the config class to use to achieve this?</p>\n"},{"tags":["java","eclipse","ubuntu","gtk"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1457202458,"post_id":35817965,"comment_id":59303643,"body_markdown":"Does `sudo apt-get-install unity-gtk3-module` fix the problem? If not, try `apt-cache search unity-gtk-module` (which suggests that there is also an `unity-gtk2-module`). What program are you trying to run? From where did you obtain it? And have you satisfied its&#39; *dependencies*?","body":"Does <code>sudo apt-get-install unity-gtk3-module</code> fix the problem? If not, try <code>apt-cache search unity-gtk-module</code> (which suggests that there is also an <code>unity-gtk2-module</code>). What program are you trying to run? From where did you obtain it? And have you satisfied its&#39; <i>dependencies</i>?"},{"owner":{"account_id":6265540,"reputation":76,"user_id":4871410,"display_name":"Pat Claffey"},"score":0,"creation_date":1457209382,"post_id":35817965,"comment_id":59306222,"body_markdown":"I tried sudo apt-get install unity-gtk3-module - command response is that unity-gtk3-module is already latest version.","body":"I tried sudo apt-get install unity-gtk3-module - command response is that unity-gtk3-module is already latest version."},{"owner":{"account_id":6265540,"reputation":76,"user_id":4871410,"display_name":"Pat Claffey"},"score":0,"creation_date":1457209467,"post_id":35817965,"comment_id":59306259,"body_markdown":"Do not know what the apt-cache search command does.  It returns the following information:  unity-gtk-module-common - Common files for GtkMenuShell D-Bus exporter\nunity-gtk-module-autopilot - GtkMenuShell D-Bus Autopilot tests","body":"Do not know what the apt-cache search command does.  It returns the following information:  unity-gtk-module-common - Common files for GtkMenuShell D-Bus exporter unity-gtk-module-autopilot - GtkMenuShell D-Bus Autopilot tests"},{"owner":{"account_id":6265540,"reputation":76,"user_id":4871410,"display_name":"Pat Claffey"},"score":0,"creation_date":1457209583,"post_id":35817965,"comment_id":59306316,"body_markdown":"I got the java file from a Coursera course.  This file is the starter code I need for assignments - so do not have control over java libraries.  Its a mapping GUI using google map libraries and also javafx.  The course developers do not give information on dependencies or specify any specific OS.","body":"I got the java file from a Coursera course.  This file is the starter code I need for assignments - so do not have control over java libraries.  Its a mapping GUI using google map libraries and also javafx.  The course developers do not give information on dependencies or specify any specific OS."}],"answers":[{"tags":[],"owner":{"account_id":6265540,"reputation":76,"user_id":4871410,"display_name":"Pat Claffey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457212136,"creation_date":1457212136,"answer_id":35819928,"question_id":35817965,"body_markdown":"I got this error running java starter code for a Coursera course in Eclipse.  I noticed errors in the java code - java error was &quot;Lambda expressions are allowed only at source level 1.8 or above&quot;.  I am using 1.8 JDK.  Problem was that Java Compiler compliance level was set to 1.7 for the project in eclipse.  I changed the compliance level to 1.8 and program ran without error.","title":"Gtk-Message: Failed to load module &quot;unity-gtk-module&quot;","body":"<p>I got this error running java starter code for a Coursera course in Eclipse.  I noticed errors in the java code - java error was \"Lambda expressions are allowed only at source level 1.8 or above\".  I am using 1.8 JDK.  Problem was that Java Compiler compliance level was set to 1.7 for the project in eclipse.  I changed the compliance level to 1.8 and program ran without error.</p>\n"},{"tags":[],"owner":{"account_id":4712973,"reputation":61,"user_id":3812944,"display_name":"Andriy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604660066,"creation_date":1604660066,"answer_id":64713259,"question_id":35817965,"body_markdown":"```\r\nsudo apt-get install unity-gtk2-module:i386\r\n```\r\n\r\nSolved it for me. (Note: I was running x86 app on x64 system.)","title":"Gtk-Message: Failed to load module &quot;unity-gtk-module&quot;","body":"<pre><code>sudo apt-get install unity-gtk2-module:i386\n</code></pre>\n<p>Solved it for me. (Note: I was running x86 app on x64 system.)</p>\n"},{"tags":[],"owner":{"account_id":12963817,"reputation":171,"user_id":9443347,"display_name":"Liyong Zhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618439536,"creation_date":1618439536,"answer_id":67099930,"question_id":35817965,"body_markdown":"Below worked for my Ubuntu 16.04\r\n\r\n    sudo apt install unity-gtk3-module\r\n\r\nMy case is that even running emacs would trig that warning.\r\n","title":"Gtk-Message: Failed to load module &quot;unity-gtk-module&quot;","body":"<p>Below worked for my Ubuntu 16.04</p>\n<pre><code>sudo apt install unity-gtk3-module\n</code></pre>\n<p>My case is that even running emacs would trig that warning.</p>\n"}],"owner":{"account_id":6265540,"reputation":76,"user_id":4871410,"display_name":"Pat Claffey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7965,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1670490380,"creation_date":1457202246,"question_id":35817965,"body_markdown":"I am running ubuntu 15.10.\r\nI am trying to execute a java GUI program under eclipse that imports a ton of libraries including javafx and google map libraries.\r\n\r\nThe java program fails to execute and gives the error:\r\n\r\nGtk-Message: Failed to load module &quot;unity-gtk-module&quot;\r\n\r\n\r\nI have googled the error message &quot; Gtk-Message: Failed to load module &quot;unity-gtk-module&quot; &quot; - but none of the solutions I have found on stackoverflow or through google appear to work for me.\r\n\r\nAny ideas on how to diagnose and fix this error?","title":"Gtk-Message: Failed to load module &quot;unity-gtk-module&quot;","body":"<p>I am running ubuntu 15.10.\nI am trying to execute a java GUI program under eclipse that imports a ton of libraries including javafx and google map libraries.</p>\n\n<p>The java program fails to execute and gives the error:</p>\n\n<p>Gtk-Message: Failed to load module \"unity-gtk-module\"</p>\n\n<p>I have googled the error message \" Gtk-Message: Failed to load module \"unity-gtk-module\" \" - but none of the solutions I have found on stackoverflow or through google appear to work for me.</p>\n\n<p>Any ideas on how to diagnose and fix this error?</p>\n"},{"tags":["java","ssl","ssl-certificate","x509"],"owner":{"account_id":19586829,"reputation":13,"user_id":14334768,"display_name":"seugen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670489969,"creation_date":1670489969,"question_id":74727757,"body_markdown":"Does anyone know how to disable checking Certificate Validation and Revocation (CRL) X509 for certain certificate?\r\nI have default turn ON checking Certificate Validation and Revocation in system and can not disable that, because it could affect other certificates:\r\n\r\n&gt; -Dcom.sun.net.ssl.checkRevocation=true\r\n\r\nBut for one certain X509 cert I want to turn off validation in java code.","title":"Certificate Validation and Revocation (CRL) X509 disable in java code","body":"<p>Does anyone know how to disable checking Certificate Validation and Revocation (CRL) X509 for certain certificate?\nI have default turn ON checking Certificate Validation and Revocation in system and can not disable that, because it could affect other certificates:</p>\n<blockquote>\n<p>-Dcom.sun.net.ssl.checkRevocation=true</p>\n</blockquote>\n<p>But for one certain X509 cert I want to turn off validation in java code.</p>\n"},{"tags":["java","spring-boot","reactive","reactive-kafka"],"answers":[{"tags":[],"owner":{"account_id":22241106,"reputation":134,"user_id":16475595,"display_name":"Khalid Saifullah Fuad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670489862,"creation_date":1670489862,"answer_id":74727740,"question_id":74727651,"body_markdown":"Here&#39;s an example:\r\n```\r\n// Import the necessary classes\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport reactor.kafka.receiver.ReceiverOptions;\r\nimport reactor.kafka.receiver.KafkaReceiver;\r\n\r\npublic class ReactiveKafkaExample {\r\n    public static void main(String[] args) {\r\n        // Create a receiver options object to configure the Kafka receiver\r\n        ReceiverOptions&lt;String, String&gt; receiverOptions = ReceiverOptions.create(consumerProps)\r\n                .subscription(Collections.singleton(&quot;my-topic&quot;))\r\n                .addAssignListener(partitions -&gt; System.out.println(&quot;onPartitionsAssigned {}&quot; + partitions))\r\n                .addRevokeListener(partitions -&gt; System.out.println(&quot;onPartitionsRevoked {}&quot; + partitions));\r\n\r\n        // Create a Kafka receiver using the receiver options\r\n        KafkaReceiver&lt;String, String&gt; kafkaReceiver = KafkaReceiver.create(receiverOptions);\r\n\r\n        // Use the `flatMap` operator to apply back-pressure to the receiver\r\n        kafkaReceiver.flatMap(message -&gt; {\r\n            // Handle the incoming message\r\n            // ...\r\n            return Mono.empty();\r\n        });\r\n    }\r\n}\r\n```","title":"Any example of reactive kafka Non-blocking Back-pressure","body":"<p>Here's an example:</p>\n<pre><code>// Import the necessary classes\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport reactor.kafka.receiver.ReceiverOptions;\nimport reactor.kafka.receiver.KafkaReceiver;\n\npublic class ReactiveKafkaExample {\n    public static void main(String[] args) {\n        // Create a receiver options object to configure the Kafka receiver\n        ReceiverOptions&lt;String, String&gt; receiverOptions = ReceiverOptions.create(consumerProps)\n                .subscription(Collections.singleton(&quot;my-topic&quot;))\n                .addAssignListener(partitions -&gt; System.out.println(&quot;onPartitionsAssigned {}&quot; + partitions))\n                .addRevokeListener(partitions -&gt; System.out.println(&quot;onPartitionsRevoked {}&quot; + partitions));\n\n        // Create a Kafka receiver using the receiver options\n        KafkaReceiver&lt;String, String&gt; kafkaReceiver = KafkaReceiver.create(receiverOptions);\n\n        // Use the `flatMap` operator to apply back-pressure to the receiver\n        kafkaReceiver.flatMap(message -&gt; {\n            // Handle the incoming message\n            // ...\n            return Mono.empty();\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11062417,"reputation":21,"user_id":8123161,"accept_rate":0,"display_name":"shiva kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670489862,"creation_date":1670489413,"question_id":74727651,"body_markdown":"Need java code example of reactive kafka Non-blocking Back-pressure.\r\nAs per[documentation] The Reactor Kafka API benefits from non-blocking back-pressure provided by Reactor.\r\nIs there any implementation in java or java spring boot for the same for reference. \r\n\r\n  [1]: https://projectreactor.io/docs/kafka/release/reference/","title":"Any example of reactive kafka Non-blocking Back-pressure","body":"<p>Need java code example of reactive kafka Non-blocking Back-pressure.\nAs per[documentation] The Reactor Kafka API benefits from non-blocking back-pressure provided by Reactor.\nIs there any implementation in java or java spring boot for the same for reference.</p>\n"},{"tags":["java","maven","drools","kie"],"owner":{"account_id":7997451,"reputation":1505,"user_id":6033289,"accept_rate":63,"display_name":"Loredra L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670489726,"creation_date":1670489726,"question_id":74727707,"body_markdown":"I have a docker showcase running of drools 7.18.Final\r\n\r\nI would like to connect to my external nexus (maven) repo so that I can download the artifact or add it my project.(Using the UI)\r\n\r\nAlong the way, there is a thread [like](https://groups.google.com/g/drools-setup/c/N_fz0KCtuE4) this which say it is impossible. and article like this which imply it is [doable](https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.7/html/installing_and_configuring_red_hat_decision_manager_on_red_hat_jboss_eap_7.2/maven-repo-using-con#maven-external-configure-proc_install-on-eap)\r\n\r\nMy approach is:\r\n- Create settings.xml point to my external nexus\r\n- Add ```&lt;property name=&quot;kie.maven.settings.custom&quot; value=&quot;/opt/jboss/wildfly/standalone/configuration/settings.xml&quot;/&gt;``` to the standalone-full-drools.xml\r\n- If added an settings.xml to .m2 folder, an error will be shown\r\n\r\nThe above approach is not working but I just want to make sure it is even possible before trying further","title":"Is it possible to display External Maven Repository in Drools-KIE web UI?","body":"<p>I have a docker showcase running of drools 7.18.Final</p>\n<p>I would like to connect to my external nexus (maven) repo so that I can download the artifact or add it my project.(Using the UI)</p>\n<p>Along the way, there is a thread <a href=\"https://groups.google.com/g/drools-setup/c/N_fz0KCtuE4\" rel=\"nofollow noreferrer\">like</a> this which say it is impossible. and article like this which imply it is <a href=\"https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.7/html/installing_and_configuring_red_hat_decision_manager_on_red_hat_jboss_eap_7.2/maven-repo-using-con#maven-external-configure-proc_install-on-eap\" rel=\"nofollow noreferrer\">doable</a></p>\n<p>My approach is:</p>\n<ul>\n<li>Create settings.xml point to my external nexus</li>\n<li>Add <code>&lt;property name=&quot;kie.maven.settings.custom&quot; value=&quot;/opt/jboss/wildfly/standalone/configuration/settings.xml&quot;/&gt;</code> to the standalone-full-drools.xml</li>\n<li>If added an settings.xml to .m2 folder, an error will be shown</li>\n</ul>\n<p>The above approach is not working but I just want to make sure it is even possible before trying further</p>\n"},{"tags":["java","unit-testing","testing","mocking","mockito"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1407871520,"post_id":25272391,"comment_id":39380629,"body_markdown":"_This does not work_ is not very informative.","body":"<i>This does not work</i> is not very informative."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1407871633,"post_id":25272391,"comment_id":39380689,"body_markdown":"Just an unsought comment: mocking this kind of classes is usually a bad practice. One of the good practices of TDD with mocks is to **not** mock classes you don&#39;t own.","body":"Just an unsought comment: mocking this kind of classes is usually a bad practice. One of the good practices of TDD with mocks is to <b>not</b> mock classes you don&#39;t own."}],"answers":[{"tags":[],"owner":{"account_id":1679344,"reputation":1046,"user_id":1544021,"display_name":"Paulo Schreiner"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1407897807,"creation_date":1407897807,"answer_id":25277228,"question_id":25272391,"body_markdown":"You have to make sure that you initialize the restTemplate as a mock in your tests\r\n\r\n     RestTemplate restTemplate = mock(RestTemplate.class);\r\n\r\nAND that this (mocked) rest template is the one being used in your actual method call. You could\r\nhave a setRestTemplate() method on your object, and you could use that to set the restTemplate:\r\n\r\n     myTestObject.setRestTemplate(restTemplate);\r\n\r\nMocks will **never** just call the original method, so if that&#39;s happening you can be pretty sure your actual method is not using a mock. (Real) mocks will either return what you told them to, or null. ","title":"Mockito mocking restTemplate.postForEntity","body":"<p>You have to make sure that you initialize the restTemplate as a mock in your tests</p>\n\n<pre><code> RestTemplate restTemplate = mock(RestTemplate.class);\n</code></pre>\n\n<p>AND that this (mocked) rest template is the one being used in your actual method call. You could\nhave a setRestTemplate() method on your object, and you could use that to set the restTemplate:</p>\n\n<pre><code> myTestObject.setRestTemplate(restTemplate);\n</code></pre>\n\n<p>Mocks will <strong>never</strong> just call the original method, so if that's happening you can be pretty sure your actual method is not using a mock. (Real) mocks will either return what you told them to, or null. </p>\n"},{"tags":[],"owner":{"account_id":1562188,"reputation":348,"user_id":1451812,"display_name":"Larry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413115096,"creation_date":1413115096,"answer_id":26324875,"question_id":25272391,"body_markdown":"I&#39;d guess that the `postForEntity` method is final - you could use `RestOperations` instead of `RestTemplate` to work around that.\r\n\r\n","title":"Mockito mocking restTemplate.postForEntity","body":"<p>I'd guess that the <code>postForEntity</code> method is final - you could use <code>RestOperations</code> instead of <code>RestTemplate</code> to work around that.</p>\n"},{"tags":[],"owner":{"account_id":4329779,"reputation":696,"user_id":3535611,"display_name":"Pomagranite"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458203117,"creation_date":1458203117,"answer_id":36055065,"question_id":25272391,"body_markdown":"resttemplate returns &lt;T&gt; ResponseEntity&lt;T&gt;\r\n\r\n[Postforentity][1] so something like ResponseEntity&lt;StringToReturn&gt;myResponse=\r\nrestTemplate.postForEntity(myUri, myEntity, StringToReturn.class); where StringToReturn is whatever type to return (just String in your case)\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api//org/springframework/web/client/RestTemplate.html","title":"Mockito mocking restTemplate.postForEntity","body":"<p>resttemplate returns  ResponseEntity</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api//org/springframework/web/client/RestTemplate.html\" rel=\"nofollow\">Postforentity</a> so something like ResponseEntitymyResponse=\nrestTemplate.postForEntity(myUri, myEntity, StringToReturn.class); where StringToReturn is whatever type to return (just String in your case)</p>\n"},{"tags":[],"owner":{"account_id":4446670,"reputation":139,"user_id":3619762,"display_name":"Abhishek Singh"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1479881152,"creation_date":1479881152,"answer_id":40757188,"question_id":25272391,"body_markdown":"The following code works for me - \r\n`when(mockRestTemplate.postForEntity(anyString(), any(), eq(String.class))).thenReturn(response);`","title":"Mockito mocking restTemplate.postForEntity","body":"<p>The following code works for me - \n<code>when(mockRestTemplate.postForEntity(anyString(), any(), eq(String.class))).thenReturn(response);</code></p>\n"},{"tags":[],"owner":{"account_id":7598079,"reputation":121,"user_id":5763655,"display_name":"anayagam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602114268,"creation_date":1563392347,"answer_id":57083057,"question_id":25272391,"body_markdown":"This is what worked for me \r\nFirstly a resttemplate needs to be mocked in the test class \r\n\r\n    @Mock \r\n    private RestTemplate mockRestTemplate;\r\n\r\nSince ResponseEntity returns an Object create another method that returns the expected response wrapped in ResponseEntity \r\n\r\n    private ResponseEntity&lt;Object&gt; generateResponseEntityObject(String response, HttpStatus httpStatus){\r\n    \treturn new ResponseEntity&lt;&gt;(response, httpStatus);\r\n    }\r\n\r\nIn your test case, you can now mock the expected response as follows\r\n\r\n    String string = &quot;result&quot;;\r\n    when(mockRestTemplate.postForEntity(anyString(), any(), any()))\r\n    \t\t.thenReturn(generateResponseEntityObject(string, HttpStatus.OK));\r\n\r\n\r\n","title":"Mockito mocking restTemplate.postForEntity","body":"<p>This is what worked for me\nFirstly a resttemplate needs to be mocked in the test class</p>\n<pre><code>@Mock \nprivate RestTemplate mockRestTemplate;\n</code></pre>\n<p>Since ResponseEntity returns an Object create another method that returns the expected response wrapped in ResponseEntity</p>\n<pre><code>private ResponseEntity&lt;Object&gt; generateResponseEntityObject(String response, HttpStatus httpStatus){\n    return new ResponseEntity&lt;&gt;(response, httpStatus);\n}\n</code></pre>\n<p>In your test case, you can now mock the expected response as follows</p>\n<pre><code>String string = &quot;result&quot;;\nwhen(mockRestTemplate.postForEntity(anyString(), any(), any()))\n        .thenReturn(generateResponseEntityObject(string, HttpStatus.OK));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670488691,"creation_date":1670444123,"answer_id":74722428,"question_id":25272391,"body_markdown":"You could test with [MockRestServiceServer][1]. Then it would return mock response, no matter what [RestTemplate][2] method or its overloading you use for `POST` call - `postForEntity`, `postForObject` or `exchange`.\r\n\r\nFor example:\r\n\r\n    @SpringBootTest\r\n    public class YourServiceTest {\r\n    \r\n        @Autowired\r\n        private YourService yourService;\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        private MockRestServiceServer mockServer;\r\n    \r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            mockServer = MockRestServiceServer.createServer(restTemplate);\r\n        }\r\n        \r\n        @Test                                                                                          \r\n        public void methodWithPostCallTest() {   \r\n            \r\n            mockServer.expect(ExpectedCount.once(), \r\n              requestTo(new URI(&quot;post-method-url&quot;)))\r\n              .andExpect(method(HttpMethod.POST))\r\n              .andRespond(withStatus(HttpStatus.OK)\r\n              .contentType(MediaType.APPLICATION_JSON)\r\n              .body(&quot;mock-response-body&quot;)\r\n            );                                   \r\n                           \r\n            String response = yourService.methodWhichExecutesPost();\r\n    \r\n            mockServer.verify();\r\n\r\n            assertEquals(&quot;mock-response-body&quot;, response);                                                        \r\n        }\r\n    }\r\n\r\nMore details: [Testing Client Applications][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-mvc-test-client","title":"Mockito mocking restTemplate.postForEntity","body":"<p>You could test with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html\" rel=\"nofollow noreferrer\">MockRestServiceServer</a>. Then it would return mock response, no matter what <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> method or its overloading you use for <code>POST</code> call - <code>postForEntity</code>, <code>postForObject</code> or <code>exchange</code>.</p>\n<p>For example:</p>\n<pre><code>@SpringBootTest\npublic class YourServiceTest {\n\n    @Autowired\n    private YourService yourService;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    private MockRestServiceServer mockServer;\n\n\n    @BeforeEach\n    public void setUp() {\n        mockServer = MockRestServiceServer.createServer(restTemplate);\n    }\n    \n    @Test                                                                                          \n    public void methodWithPostCallTest() {   \n        \n        mockServer.expect(ExpectedCount.once(), \n          requestTo(new URI(&quot;post-method-url&quot;)))\n          .andExpect(method(HttpMethod.POST))\n          .andRespond(withStatus(HttpStatus.OK)\n          .contentType(MediaType.APPLICATION_JSON)\n          .body(&quot;mock-response-body&quot;)\n        );                                   \n                       \n        String response = yourService.methodWhichExecutesPost();\n\n        mockServer.verify();\n\n        assertEquals(&quot;mock-response-body&quot;, response);                                                        \n    }\n}\n</code></pre>\n<p>More details: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-mvc-test-client\" rel=\"nofollow noreferrer\">Testing Client Applications</a></p>\n"}],"owner":{"account_id":1206394,"reputation":1617,"user_id":1175922,"accept_rate":22,"display_name":"Dax Durax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1670488691,"creation_date":1407871291,"question_id":25272391,"body_markdown":"I am trying to mock `restTemplate.postForEntity` method,\r\n\r\nThe actual method call is:\r\n\r\n\r\n    URI myUri = new URI(myString);\r\n    HttpEntity&lt;String&gt; myEntity ...\r\n\r\n\r\n    String myResponse = restTemplate.postForEntity(myUri, myEntity, String.class);\r\n\r\nWhat I have in my test class is:\r\n\r\n    Mockito.when(restTemplate.postForEntity(any(URI.class), any(HttpEntity.class), eq(String.class))).thenReturn(response);\r\n\r\nThis does not work; I have tried several other permutations with no success either. Any suggestions appreciated, thanks.\r\n\r\nBy this does not work I mean that the actual method is called and not the mocked method (so the desired result is not returned etc.)","title":"Mockito mocking restTemplate.postForEntity","body":"<p>I am trying to mock <code>restTemplate.postForEntity</code> method,</p>\n\n<p>The actual method call is:</p>\n\n<pre><code>URI myUri = new URI(myString);\nHttpEntity&lt;String&gt; myEntity ...\n\n\nString myResponse = restTemplate.postForEntity(myUri, myEntity, String.class);\n</code></pre>\n\n<p>What I have in my test class is:</p>\n\n<pre><code>Mockito.when(restTemplate.postForEntity(any(URI.class), any(HttpEntity.class), eq(String.class))).thenReturn(response);\n</code></pre>\n\n<p>This does not work; I have tried several other permutations with no success either. Any suggestions appreciated, thanks.</p>\n\n<p>By this does not work I mean that the actual method is called and not the mocked method (so the desired result is not returned etc.)</p>\n"},{"tags":["java","proguard"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653647582,"post_id":72403967,"comment_id":127906912,"body_markdown":"Just strip all the logging, because obfuscated logs are useless anyway.","body":"Just strip all the logging, because obfuscated logs are useless anyway."},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1653647642,"post_id":72403967,"comment_id":127906927,"body_markdown":"@MartinZeitler no, the logger messages should be there","body":"@MartinZeitler no, the logger messages should be there"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653647713,"post_id":72403967,"comment_id":127906954,"body_markdown":"The rest of the world probably might see this differently. ProGuard doesn&#39;t obfuscate strings... the proper way to handle this would be to log to Crashlytics, not to the console. Then there&#39;s no risk of disclosure, but you&#39;d still get the logs from remote devices.","body":"The rest of the world probably might see this differently. ProGuard doesn&#39;t obfuscate strings... the proper way to handle this would be to log to Crashlytics, not to the console. Then there&#39;s no risk of disclosure, but you&#39;d still get the logs from remote devices."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1653647902,"post_id":72403967,"comment_id":127907012,"body_markdown":"@MartinZeitler it&#39;s very common to log message and have parts of them obfuscated. An example can be login requests where you don&#39;t want to see the passwords (or even the full usernames), or payment requests where you only want to see the last 4 digits of the card number.","body":"@MartinZeitler it&#39;s very common to log message and have parts of them obfuscated. An example can be login requests where you don&#39;t want to see the passwords (or even the full usernames), or payment requests where you only want to see the last 4 digits of the card number."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653648165,"post_id":72403967,"comment_id":127907087,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/7086920/removing-logging-with-proguard-doesnt-remove-the-strings-being-logged","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/7086920/removing-logging-with-proguard-doesnt-remove-the-strings-being-logged\" title=\"removing logging with proguard doesnt remove the strings being logged\">stackoverflow.com/questions/7086920/&hellip;</a>"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653648305,"post_id":72403967,"comment_id":127907124,"body_markdown":"@RobSpoor Logs are usually only required for development - string obfuscation and truncation is nothing ProGuard can be used for... as it provides nothing but Java class &amp; method mapping; the `mappings.txt` is the dictionary being generated. The least end-users would know how to access logcat, therefore remote logging is the answer.","body":"@RobSpoor Logs are usually only required for development - string obfuscation and truncation is nothing ProGuard can be used for... as it provides nothing but Java class &amp; method mapping; the <code>mappings.txt</code> is the dictionary being generated. The least end-users would know how to access logcat, therefore remote logging is the answer."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1653648621,"post_id":72403967,"comment_id":127907213,"body_markdown":"@MartinZeitler I never said that ProGuard can be used for this - in fact, you&#39;re right that it can&#39;t. I disagree about logs being only required for development. They&#39;re often also used for auditing purposes. I&#39;ve had to go through log files for police requests more than once in my career, and at those times you&#39;re glad to have logging.","body":"@MartinZeitler I never said that ProGuard can be used for this - in fact, you&#39;re right that it can&#39;t. I disagree about logs being only required for development. They&#39;re often also used for auditing purposes. I&#39;ve had to go through log files for police requests more than once in my career, and at those times you&#39;re glad to have logging."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653648814,"post_id":72403967,"comment_id":127907265,"body_markdown":"@RobSpoor Also in this case it&#39;s an advance to use a 3rd party logging service (witness), as the chance of tempered logs is equal zero - while local logs could under certain circumstances been edited. I was rather (wrongfully) responding in an Android context, but in a server-side context, it&#39;s not so much different.","body":"@RobSpoor Also in this case it&#39;s an advance to use a 3rd party logging service (witness), as the chance of tempered logs is equal zero - while local logs could under certain circumstances been edited. I was rather (wrongfully) responding in an Android context, but in a server-side context, it&#39;s not so much different."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1670488021,"creation_date":1653651873,"answer_id":72404931,"question_id":72403967,"body_markdown":"The simple answer is that ProGuard does not do this.\r\n\r\nAnd relatedly, ProGuard will not obfuscate constant strings in your code either; see https://stackoverflow.com/questions/10220069.\r\n\r\nThe best things I can suggest are:\r\n\r\n  1.  Turn off logging in your release version.\r\n  2.  Log to Crashlytics so that the end users don&#39;t to get to see the log messages on their devices.\r\n  3.  Implement a custom `LogFormatter` that obfuscates the log messages on the fly.  (It could do it for all log messages, or just for log messages that match particular patterns.)\r\n  4.  If you are actually trying to obfuscate the log message strings embedded in your code, there are alternatives to ProGuard that will do that; see the Q&amp;A link above for some leads.\r\n\r\nYou could also disable some or all logging at compile time with the Java equivalent of `#ifdef` as suggested in:\r\n\r\n  - https://stackoverflow.com/questions/7086920/\r\n","title":"Is proguard capable to obfuscate logger messages?","body":"<p>The simple answer is that ProGuard does not do this.</p>\n<p>And relatedly, ProGuard will not obfuscate constant strings in your code either; see <a href=\"https://stackoverflow.com/questions/10220069\">Does proguard work to obfuscate static string constants?</a>.</p>\n<p>The best things I can suggest are:</p>\n<ol>\n<li>Turn off logging in your release version.</li>\n<li>Log to Crashlytics so that the end users don't to get to see the log messages on their devices.</li>\n<li>Implement a custom <code>LogFormatter</code> that obfuscates the log messages on the fly.  (It could do it for all log messages, or just for log messages that match particular patterns.)</li>\n<li>If you are actually trying to obfuscate the log message strings embedded in your code, there are alternatives to ProGuard that will do that; see the Q&amp;A link above for some leads.</li>\n</ol>\n<p>You could also disable some or all logging at compile time with the Java equivalent of <code>#ifdef</code> as suggested in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7086920/\">Removing logging with ProGuard doesn&#39;t remove the strings being logged</a></li>\n</ul>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72404931,"answer_count":1,"score":-1,"last_activity_date":1670488021,"creation_date":1653647114,"question_id":72403967,"body_markdown":"I used proguard to obfuscate a jar and after research the resulting jar it was found that it didn&#39;t obfuscate logger messages which I probably would like to do. \r\n\r\nHow to do it with proguard? I used gui based tool with allmost default settings. \r\n\r\noriginal class\r\n\r\n    logger.info(&quot;value encrypted&quot;);\r\n\r\nafter proguard and decompiled\r\n\r\n    this.c.info(&quot;value encrypted&quot;);\r\n\r\n","title":"Is proguard capable to obfuscate logger messages?","body":"<p>I used proguard to obfuscate a jar and after research the resulting jar it was found that it didn't obfuscate logger messages which I probably would like to do.</p>\n<p>How to do it with proguard? I used gui based tool with allmost default settings.</p>\n<p>original class</p>\n<pre><code>logger.info(&quot;value encrypted&quot;);\n</code></pre>\n<p>after proguard and decompiled</p>\n<pre><code>this.c.info(&quot;value encrypted&quot;);\n</code></pre>\n"},{"tags":["java","excel","apache-poi","out-of-memory","excel-writer-xlsx"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1670487847,"post_id":74727301,"comment_id":131888048,"body_markdown":"https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api","body":"<a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_a&zwnj;&#8203;pi</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1670934653,"post_id":74727301,"comment_id":131983600,"body_markdown":"you could try https://github.com/pjfanning/excel-streaming-reader/wiki/Streaming-copy-with-SXSSF","body":"you could try <a href=\"https://github.com/pjfanning/excel-streaming-reader/wiki/Streaming-copy-with-SXSSF\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader/wiki/&hellip;</a>"}],"owner":{"account_id":19722090,"reputation":1,"user_id":14439400,"display_name":"itermux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670487253,"creation_date":1670487253,"question_id":74727301,"body_markdown":"I want to append data on an existing excel file, my code is as follows:\r\n\r\n```java\r\n\r\nXSSFWorkbook book = new XSSFWorkbook(&quot;/my.xlsx&quot;);\r\nSheet sheet = book.getSheetAt(1);\r\n//do something\r\n\r\n```\r\n\r\nBut this file already has a lot of data, so I get out of memory error.\r\n\r\nI know it is possible to use `SXSSFWorkbook`, but this doesn&#39;t work for me, because it still loads the existing data into memory:\r\n\r\n```java\r\nnew SXSSFWorkbook(new XSSFWorkbook(&quot;/my.xlsx&quot;));\r\n```\r\n\r\nHow can I solve this problem with limited memory? thanks in advance.\r\n\r\nAs mentioned above, I hope that I can write data in specified rows and columns to an excel file that already has a large amount of data in limited memory.","title":"In limited memory, use Apache POI to write data in specified rows and columns to an excel file that already has a large amount of data","body":"<p>I want to append data on an existing excel file, my code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nXSSFWorkbook book = new XSSFWorkbook(&quot;/my.xlsx&quot;);\nSheet sheet = book.getSheetAt(1);\n//do something\n\n</code></pre>\n<p>But this file already has a lot of data, so I get out of memory error.</p>\n<p>I know it is possible to use <code>SXSSFWorkbook</code>, but this doesn't work for me, because it still loads the existing data into memory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new SXSSFWorkbook(new XSSFWorkbook(&quot;/my.xlsx&quot;));\n</code></pre>\n<p>How can I solve this problem with limited memory? thanks in advance.</p>\n<p>As mentioned above, I hope that I can write data in specified rows and columns to an excel file that already has a large amount of data in limited memory.</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1670486713,"post_id":74727191,"comment_id":131887703,"body_markdown":"*The code working but the pdf file showing something wrong.* can you explain what this means?","body":"<i>The code working but the pdf file showing something wrong.</i> can you explain what this means?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670486738,"post_id":74727191,"comment_id":131887712,"body_markdown":"Please reformat your code and post it again","body":"Please reformat your code and post it again"}],"answers":[{"tags":[],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670487056,"creation_date":1670487056,"answer_id":74727269,"question_id":74727191,"body_markdown":"There are multiple libraries that you can use to achieve this. One of them is PDFBox. \r\n\r\nThis is how you read from a PDF file. Hopefully this could help. \r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.text.PDFTextStripper;\r\n\r\npublic class PdfToConsole {\r\n\r\n   public static void main(String args[]) throws IOException {\r\n\r\n      //Loading an existing document\r\n      File file = new File(&quot;D://Sample.pdf&quot;);\r\n      PDDocument document = PDDocument.load(file);\r\n\r\n      //Instantiate PDFTextStripper class\r\n      PDFTextStripper pdfStripper = new PDFTextStripper();\r\n\r\n      //Retrieving text from PDF document\r\n      String text = pdfStripper.getText(document);\r\n      System.out.println(text);\r\n\r\n      //Closing the document\r\n      document.close();\r\n   }\r\n}\r\n```\r\nHere is the [source](https://www.tutorialspoint.com/how-to-read-data-from-pdf-file-and-display-on-console-in-java#)\r\n\r\nYou could then treat it like any other file afterwards. ","title":"searching a string in PDF","body":"<p>There are multiple libraries that you can use to achieve this. One of them is PDFBox.</p>\n<p>This is how you read from a PDF file. Hopefully this could help.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.text.PDFTextStripper;\n\npublic class PdfToConsole {\n\n   public static void main(String args[]) throws IOException {\n\n      //Loading an existing document\n      File file = new File(&quot;D://Sample.pdf&quot;);\n      PDDocument document = PDDocument.load(file);\n\n      //Instantiate PDFTextStripper class\n      PDFTextStripper pdfStripper = new PDFTextStripper();\n\n      //Retrieving text from PDF document\n      String text = pdfStripper.getText(document);\n      System.out.println(text);\n\n      //Closing the document\n      document.close();\n   }\n}\n</code></pre>\n<p>Here is the <a href=\"https://www.tutorialspoint.com/how-to-read-data-from-pdf-file-and-display-on-console-in-java#\" rel=\"nofollow noreferrer\">source</a></p>\n<p>You could then treat it like any other file afterwards.</p>\n"}],"owner":{"account_id":25990081,"reputation":1,"user_id":19702415,"display_name":"Razan alamri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670487056,"creation_date":1670486547,"question_id":74727191,"body_markdown":"I try to search for words in pdf file and copy the file into directory. Then if the word is there in the pdf the pdf file should moving into directory. the code is working but the file show there is something wrong \r\n \t  \r\n\r\n   \tSystem.out.println(&quot;Enter word you want to search:&quot;);\r\n    int count2=0;\r\n    while(scanner1.hasNext()) {\r\n    String SearchWord2= scanner1.next(); \r\n    if(SearchWord2.equalsIgnoreCase(&quot;Exit&quot;)) {\r\n  \t  break;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n   \t try {\r\n   \t\tFile data=new File(&quot;C:\\\\Users\\\\user012\\\\Desktop\\\\Evalution.pdf&quot;);\r\n   \t\tfileR=new FileReader(data);\r\n\t\tBufferedReader bufferR=new BufferedReader(fileR);\r\n\r\n\t\t  while((string=bufferR.readLine())!=null) {\r\n\t\t\t  if(string.contains(SearchWord2)) {\r\n\t\t\t  listWord.add(SearchWord2);\r\n\t\t\t  for(String word:listWord) {\r\n        \t\t   if(set.add(word)==true) {\r\n\t\t\t  System.out.println(&quot;Yes, &quot;+word+&quot; is in the file&quot;);\r\n\t\t\tPath temp =  Files.copy(Paths.get(&quot;C:\\\\Users\\\\user012\\\\Desktop\\\\Evalution.pdf&quot;),Paths.get(&quot;C:\\\\Users\\\\user012\\\\Desktop\\\\Search\\\\Evalution2.pdf&quot;));\r\n\t\t\t \r\n\t\t      if(temp != null) {\r\n\t\t         System.out.println(&quot;File moved successfully.&quot;);\r\n\t\t }\r\n\r\n\t\t\t  \r\n\t\t\r\n\t\t  \t}}\r\n\t\t\t  \r\n\t\t\t  \r\n\t\t\t  }\r\n\t\t\t  \r\n\t\r\n\t\t  \r\n\t\t  else {\r\n\t\t\r\n\r\n\t\t  System.out.println(&quot;No, &quot;+SearchWord2+&quot; is Not in the file&quot;);\r\n\t\t\r\n\t }}}\r\n\r\n\r\n\t\r\n \r\n\t\t\t  \r\n\t\t \r\n\t\t     catch(FileNotFoundException ex) {\r\n\t\t\t\t  Logger.getLogger(Test.class.getName()).log(Level.SEVERE,null,ex);\r\n\t\t\t     }catch(IOException ex) {\r\n\t\t\t\t  Logger.getLogger(Test.class.getName()).log(Level.SEVERE,null,ex);\r\n\t\t\t  }\r\n\t\t\t  finally {\r\n\t\t\t\t  fileR.close();\r\n\t\t\t  }}\r\n\r\n The code working but the pdf file showing something wrong.\r\n","title":"searching a string in PDF","body":"<p>I try to search for words in pdf file and copy the file into directory. Then if the word is there in the pdf the pdf file should moving into directory. the code is working but the file show there is something wrong</p>\n<pre><code>System.out.println(&quot;Enter word you want to search:&quot;);\nint count2=0;\nwhile(scanner1.hasNext()) {\nString SearchWord2= scanner1.next(); \nif(SearchWord2.equalsIgnoreCase(&quot;Exit&quot;)) {\n  break;\n}\n\n\n\n\n\n try {\n    File data=new File(&quot;C:\\\\Users\\\\user012\\\\Desktop\\\\Evalution.pdf&quot;);\n    fileR=new FileReader(data);\n    BufferedReader bufferR=new BufferedReader(fileR);\n\n      while((string=bufferR.readLine())!=null) {\n          if(string.contains(SearchWord2)) {\n          listWord.add(SearchWord2);\n          for(String word:listWord) {\n               if(set.add(word)==true) {\n          System.out.println(&quot;Yes, &quot;+word+&quot; is in the file&quot;);\n        Path temp =  Files.copy(Paths.get(&quot;C:\\\\Users\\\\user012\\\\Desktop\\\\Evalution.pdf&quot;),Paths.get(&quot;C:\\\\Users\\\\user012\\\\Desktop\\\\Search\\\\Evalution2.pdf&quot;));\n         \n          if(temp != null) {\n             System.out.println(&quot;File moved successfully.&quot;);\n     }\n\n          \n    \n        }}\n          \n          \n          }\n          \n\n      \n      else {\n    \n\n      System.out.println(&quot;No, &quot;+SearchWord2+&quot; is Not in the file&quot;);\n    \n }}}\n\n\n\n\n          \n     \n         catch(FileNotFoundException ex) {\n              Logger.getLogger(Test.class.getName()).log(Level.SEVERE,null,ex);\n             }catch(IOException ex) {\n              Logger.getLogger(Test.class.getName()).log(Level.SEVERE,null,ex);\n          }\n          finally {\n              fileR.close();\n          }}\n</code></pre>\n<p>The code working but the pdf file showing something wrong.</p>\n"},{"tags":["java","servlets","jboss","ejb","saml"],"answers":[{"tags":[],"owner":{"account_id":26809057,"reputation":122,"user_id":20399922,"display_name":"Being_shawn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668608193,"creation_date":1668608193,"answer_id":74462000,"question_id":74461651,"body_markdown":"One gotcha is that `@RolesAllowed` will expect the user has the authority that start with the prefix `ROLE_` by default. So `@RolesAllowed({&quot;user_role&quot;})` will expect the user has the authority ROLE_user_role. But now since the user only has the authority `user_role`, it does not match `ROLE_user_role` and hence it is access denied.\r\n\r\nThe easy fix is change to use @PreAuthorize :\r\n\r\n    @GetMapping\r\n        @PreAuthorize(&quot;hasAuthority(&#39;user_role&#39;)&quot;)\r\n        public List&lt;User&gt; list(){\r\n            return userRepository.findAll();\r\n        }\r\n\r\nIt will directly check if the user has the authority user_role without any prefix behavior.\r\n","title":"User is successfully authenticated with some roles but RolesAllowed does not accept the roles","body":"<p>One gotcha is that <code>@RolesAllowed</code> will expect the user has the authority that start with the prefix <code>ROLE_</code> by default. So <code>@RolesAllowed({&quot;user_role&quot;})</code> will expect the user has the authority ROLE_user_role. But now since the user only has the authority <code>user_role</code>, it does not match <code>ROLE_user_role</code> and hence it is access denied.</p>\n<p>The easy fix is change to use @PreAuthorize :</p>\n<pre><code>@GetMapping\n    @PreAuthorize(&quot;hasAuthority('user_role')&quot;)\n    public List&lt;User&gt; list(){\n        return userRepository.findAll();\n    }\n</code></pre>\n<p>It will directly check if the user has the authority user_role without any prefix behavior.</p>\n"}],"owner":{"account_id":25958447,"reputation":11,"user_id":19675460,"display_name":"h.karimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670486951,"creation_date":1668606793,"question_id":74461651,"body_markdown":"I work on a Java 8 application (included JBOSS, Servlet without Spring). It does the authentication with ldap. Now I have to implement SAML 2 mechanism. To implement that I used a Keycloak library ([Java Servlet filter adapter](https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.5/html/securing_applications_and_services_guide/using_saml_to_secure_applications_and_services#java-servlet-filter-adapter)). It works fine and Idp sends metadata back to my application.\r\n\r\nAfter authentication the user has the expected roles and if I call the method &quot;isUserInRole&quot;, it returns true. But @RolesAllowed does not accept the role and throws exception.\r\n\r\n```\r\n    @Path(&quot;/abcd&quot;)\r\n    @GET\r\n    public Response abcd(@Context final HttpServletRequest httpRequest) {\r\n        httpRequest.isUserInRole(&quot;user_role&quot;);  // true\r\n        return Response.noContent().build();\r\n    }\r\n```\r\n\r\n```\r\n@Stateless\r\npublic class MyClass {\r\n\r\n    @RolesAllowed({&quot;user_role&quot;})\r\n    public void function() {\r\n        // ...\r\n    }\r\n    // javax.ejb.EJBAccessException: function is not allowed\r\n\t\r\n}\r\n```\r\n\r\nI assume, RolesAllowed does not work correctly because of some old configuration from ldap, but I don&#39;t find anything.\r\n\r\nIf you have any Ideas, please write it. Thanks!\r\n\r\n**Update:**\r\nI noticed if I remove @Stateless, it works correctly, but that is not the solution, at least not for me. [Same problem like here][1] but I don&#39;t know how to solve that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25851374/how-do-i-get-the-rolesallowed-annotation-to-work-for-my-web-application","title":"User is successfully authenticated with some roles but RolesAllowed does not accept the roles","body":"<p>I work on a Java 8 application (included JBOSS, Servlet without Spring). It does the authentication with ldap. Now I have to implement SAML 2 mechanism. To implement that I used a Keycloak library (<a href=\"https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.5/html/securing_applications_and_services_guide/using_saml_to_secure_applications_and_services#java-servlet-filter-adapter\" rel=\"nofollow noreferrer\">Java Servlet filter adapter</a>). It works fine and Idp sends metadata back to my application.</p>\n<p>After authentication the user has the expected roles and if I call the method &quot;isUserInRole&quot;, it returns true. But @RolesAllowed does not accept the role and throws exception.</p>\n<pre><code>    @Path(&quot;/abcd&quot;)\n    @GET\n    public Response abcd(@Context final HttpServletRequest httpRequest) {\n        httpRequest.isUserInRole(&quot;user_role&quot;);  // true\n        return Response.noContent().build();\n    }\n</code></pre>\n<pre><code>@Stateless\npublic class MyClass {\n\n    @RolesAllowed({&quot;user_role&quot;})\n    public void function() {\n        // ...\n    }\n    // javax.ejb.EJBAccessException: function is not allowed\n    \n}\n</code></pre>\n<p>I assume, RolesAllowed does not work correctly because of some old configuration from ldap, but I don't find anything.</p>\n<p>If you have any Ideas, please write it. Thanks!</p>\n<p><strong>Update:</strong>\nI noticed if I remove @Stateless, it works correctly, but that is not the solution, at least not for me. <a href=\"https://stackoverflow.com/questions/25851374/how-do-i-get-the-rolesallowed-annotation-to-work-for-my-web-application\">Same problem like here</a> but I don't know how to solve that.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670483373,"post_id":74726644,"comment_id":131886850,"body_markdown":"what changes have you made in an attempt to get the other result?","body":"what changes have you made in an attempt to get the other result?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670483465,"post_id":74726644,"comment_id":131886860,"body_markdown":"You need a function which will map 4 -&gt; 1, 3, -&gt; 2, ... 1-&gt; 4. Can you think of an expression which does that?","body":"You need a function which will map 4 -&gt; 1, 3, -&gt; 2, ... 1-&gt; 4. Can you think of an expression which does that?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1670483695,"post_id":74726644,"comment_id":131886907,"body_markdown":"Simply change your print statement to: `System.out.print(n-i+1);`","body":"Simply change your print statement to: <code>System.out.print(n-i+1);</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1670483753,"post_id":74726644,"comment_id":131886918,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":26536015,"reputation":3,"user_id":20167535,"display_name":"Md. Fattah Al Fahim"},"score":0,"creation_date":1670484059,"post_id":74726644,"comment_id":131886993,"body_markdown":"Thanks @Jens .. and i will take care of java naming conventions.","body":"Thanks @Jens .. and i will take care of java naming conventions."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670486622,"creation_date":1670486622,"answer_id":74727201,"question_id":74726644,"body_markdown":"You need to swap the `for` loops. The outer loop is the number to print and the inner loop is the number of times to print it.\r\n```java\r\npublic class HW5 {\r\n\r\n    public static void main(String[] args) {\r\n        int n = 4;\r\n        for (int j = 1; j &lt;= n ; j++ ) {\r\n            for (int i = n - j + 1; i &gt;= 1; i--) {\r\n                System.out.print(j);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nAbove code gives following output:\r\n```none\r\n1111\r\n222\r\n33\r\n4\r\n```\r\n","title":"Print Inverted Half Pyramid","body":"<p>You need to swap the <code>for</code> loops. The outer loop is the number to print and the inner loop is the number of times to print it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HW5 {\n\n    public static void main(String[] args) {\n        int n = 4;\n        for (int j = 1; j &lt;= n ; j++ ) {\n            for (int i = n - j + 1; i &gt;= 1; i--) {\n                System.out.print(j);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Above code gives following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1111\n222\n33\n4\n</code></pre>\n"}],"owner":{"account_id":26536015,"reputation":3,"user_id":20167535,"display_name":"Md. Fattah Al Fahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74727201,"answer_count":1,"score":-2,"last_activity_date":1670486780,"creation_date":1670483244,"question_id":74726644,"body_markdown":"Print inverted half pyramid as shown:\r\n```\r\n1111\r\n222\r\n33\r\n4\r\n```\r\nMy code is:\r\n```java\r\npublic class HW5 {\r\n    //5.   Print Inverted Half Pyramid.\r\n    public static void main(String[] args) {\r\n        int n = 4;\r\n        for (int i = n; i &gt;= 1; i--) {\r\n            for (int j = 1; j &lt;= i; j++) {\r\n                System.out.print(i);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nAbove code gives following output:\r\n```none\r\n4444\r\n333\r\n22\r\n1\r\n```\r\nHow do I print the required output as shown above?","title":"Print Inverted Half Pyramid","body":"<p>Print inverted half pyramid as shown:</p>\n<pre><code>1111\n222\n33\n4\n</code></pre>\n<p>My code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HW5 {\n    //5.   Print Inverted Half Pyramid.\n    public static void main(String[] args) {\n        int n = 4;\n        for (int i = n; i &gt;= 1; i--) {\n            for (int j = 1; j &lt;= i; j++) {\n                System.out.print(i);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Above code gives following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>4444\n333\n22\n1\n</code></pre>\n<p>How do I print the required output as shown above?</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":16099515,"reputation":184,"user_id":11620695,"display_name":"Arnold Joseph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670483565,"creation_date":1670483565,"answer_id":74726675,"question_id":74724853,"body_markdown":"Hey Saurabh I couldn&#39;t understand your request properly but this may help you resolve your query. I have created an spec for your expected output, I have kept an if else condition on Photos[].no if its 0 it wont populate the fields, you can check the below spec and input :\r\n\r\nInput :\r\n\r\n        {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;cardNo&quot;: &quot;123456789&quot;,\r\n          &quot;cardStatus&quot;: &quot;10&quot;,\r\n          &quot;cardAddress&quot;: &quot;UK&quot;,\r\n          &quot;cardAddress1&quot;: &quot;US&quot;,\r\n          &quot;cardCity&quot;: &quot;mk&quot;,\r\n          &quot;name&quot;: &quot;RAM&quot;,\r\n          &quot;lastName&quot;: &quot;ABU&quot;,\r\n          &quot;name1&quot;: &quot;RAM1&quot;,\r\n          &quot;lastName1&quot;: &quot;ABU1&quot;,\r\n          &quot;Id1&quot;: &quot;0&quot;,\r\n          &quot;Id2&quot;: 0,\r\n          &quot;Id3&quot;: 0\r\n        },\r\n        &quot;Photos&quot;: [\r\n          {\r\n            &quot;Id&quot;: 0,\r\n            &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\r\n            &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\r\n          },\r\n          {\r\n            &quot;Id&quot;: 327704,\r\n            &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n            &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n          },\r\n          {\r\n            &quot;Id&quot;: 327704,\r\n            &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n            &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nSpec :\r\n\r\n        [\r\n      {\r\n        &quot;operation&quot;: &quot;shift&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;Entity&quot;: {\r\n            &quot;card&quot;: {\r\n              &quot;cardNo&quot;: &quot;tab.text&quot;,\r\n              &quot;cardAddress&quot;: &quot;address.[#2].add&quot;,\r\n              &quot;cardAddress1&quot;: &quot;address.[#2].add2&quot;,\r\n              &quot;cardCity&quot;: &quot;address.[#2].mk&quot;\r\n            },\r\n            &quot;Photos&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;Id&quot;: &quot;Photos.[&amp;1].no&quot;,\r\n                &quot;Caption&quot;: &quot;Photos.[&amp;1].caption2&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      {\r\n        &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;Photos&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;no&quot;: &quot;=toString&quot;\r\n            }\r\n          }\r\n        }\r\n      }, {\r\n        &quot;operation&quot;: &quot;shift&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;*&quot;: &quot;&amp;&quot;,\r\n          &quot;Photos&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;no&quot;: {\r\n                &quot;0&quot;: {\r\n                  &quot;@(2,no)&quot;: &quot;Trash&quot;\r\n                },\r\n                &quot;*&quot;: {\r\n                  &quot;@(2,no)&quot;: &quot;p.Photos.[#4].no&quot;,\r\n                  &quot;@(2,caption2)&quot;: &quot;p.Photos.[#4].caption2&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n       }, {\r\n        &quot;operation&quot;: &quot;remove&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;Trash&quot;: &quot;&quot;\r\n        }\r\n       },\r\n      {\r\n        &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\r\n        }\r\n    },\r\n      {\r\n        &quot;operation&quot;: &quot;shift&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;*&quot;: &quot;&amp;&quot;,\r\n          &quot;p&quot;: {\r\n            &quot;Photos&quot;: &quot;Photos&quot;\r\n          }\r\n        }\r\n       }\r\n    ]\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PrelK.png","title":"I need the jolt transform for the given input . Photos array is dynamic in nature","body":"<p>Hey Saurabh I couldn't understand your request properly but this may help you resolve your query. I have created an spec for your expected output, I have kept an if else condition on Photos[].no if its 0 it wont populate the fields, you can check the below spec and input :</p>\n<p>Input :</p>\n<pre><code>    {\n  &quot;Entity&quot;: {\n    &quot;card&quot;: {\n      &quot;cardNo&quot;: &quot;123456789&quot;,\n      &quot;cardStatus&quot;: &quot;10&quot;,\n      &quot;cardAddress&quot;: &quot;UK&quot;,\n      &quot;cardAddress1&quot;: &quot;US&quot;,\n      &quot;cardCity&quot;: &quot;mk&quot;,\n      &quot;name&quot;: &quot;RAM&quot;,\n      &quot;lastName&quot;: &quot;ABU&quot;,\n      &quot;name1&quot;: &quot;RAM1&quot;,\n      &quot;lastName1&quot;: &quot;ABU1&quot;,\n      &quot;Id1&quot;: &quot;0&quot;,\n      &quot;Id2&quot;: 0,\n      &quot;Id3&quot;: 0\n    },\n    &quot;Photos&quot;: [\n      {\n        &quot;Id&quot;: 0,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: 327704,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: 327704,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Spec :</p>\n<pre><code>    [\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\n          &quot;cardAddress&quot;: &quot;address.[#2].add&quot;,\n          &quot;cardAddress1&quot;: &quot;address.[#2].add2&quot;,\n          &quot;cardCity&quot;: &quot;address.[#2].mk&quot;\n        },\n        &quot;Photos&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;Photos.[&amp;1].no&quot;,\n            &quot;Caption&quot;: &quot;Photos.[&amp;1].caption2&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;no&quot;: &quot;=toString&quot;\n        }\n      }\n    }\n  }, {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;,\n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;no&quot;: {\n            &quot;0&quot;: {\n              &quot;@(2,no)&quot;: &quot;Trash&quot;\n            },\n            &quot;*&quot;: {\n              &quot;@(2,no)&quot;: &quot;p.Photos.[#4].no&quot;,\n              &quot;@(2,caption2)&quot;: &quot;p.Photos.[#4].caption2&quot;\n            }\n          }\n        }\n      }\n    }\n   }, {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;Trash&quot;: &quot;&quot;\n    }\n   },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\n    }\n},\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;,\n      &quot;p&quot;: {\n        &quot;Photos&quot;: &quot;Photos&quot;\n      }\n    }\n   }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PrelK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PrelK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670485359,"creation_date":1670485359,"answer_id":74726970,"question_id":74724853,"body_markdown":"You can start by converting the independent attributes dynamically collect under common nodes, then use conditional logic such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\r\n          &quot;*Addres*|*City&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;@1&quot;: &quot;address[#1].&amp;2&quot;\r\n            }\r\n          },\r\n          &quot;Id*&quot;: {// enumerate the members of the object in a dynamical manner\r\n            &quot;*&quot;: {\r\n              &quot;#caption2&quot;: &quot;Photos&amp;2[#1].http\\\\.&amp;(2,1)\\\\.com&quot;, // &amp;(2,1) could be used RHS\r\n              &quot;@1&quot;: &quot;Photos&amp;2[#1].no&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;Id&quot;: &quot;&amp;2[&amp;1].no&quot;, // rename &quot;Id&quot; to &quot;no&quot;\r\n            &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { // combine all objects related to Photoes under common array\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&amp;&quot;,\r\n      &quot;Photo*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;@&quot;: &quot;Photoes&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { // label objects of photoes by their respective &quot;no&quot; values\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&amp;&quot;,\r\n      &quot;Photoes&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;http*&quot;: {\r\n            &quot;$&quot;: &quot;&amp;3[&amp;2].@(2,no).@(0)&quot; // exchange key-value pairs\r\n          },\r\n          &quot;*&quot;: &quot;&amp;2[&amp;1].@(1,no).&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&amp;&quot;,\r\n      &quot;Photoes&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;0&quot;: &quot;rem&amp;2&quot;, // remPhotoes tagged stuff will be removed\r\n          &quot;*&quot;: {\r\n            &quot;@&quot;: &quot;&amp;3[]&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;remPhotoes&quot;: &quot;&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Photoes&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;no&quot;: &quot;=toString&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"I need the jolt transform for the given input . Photos array is dynamic in nature","body":"<p>You can start by converting the independent attributes dynamically collect under common nodes, then use conditional logic such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\n          &quot;*Addres*|*City&quot;: {\n            &quot;*&quot;: {\n              &quot;@1&quot;: &quot;address[#1].&amp;2&quot;\n            }\n          },\n          &quot;Id*&quot;: {// enumerate the members of the object in a dynamical manner\n            &quot;*&quot;: {\n              &quot;#caption2&quot;: &quot;Photos&amp;2[#1].http\\\\.&amp;(2,1)\\\\.com&quot;, // &amp;(2,1) could be used RHS\n              &quot;@1&quot;: &quot;Photos&amp;2[#1].no&quot;\n            }\n          }\n        },\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;&amp;2[&amp;1].no&quot;, // rename &quot;Id&quot; to &quot;no&quot;\n            &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;\n          }\n        }\n      }\n    }\n  },\n  { // combine all objects related to Photoes under common array\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;,\n      &quot;Photo*&quot;: {\n        &quot;*&quot;: {\n          &quot;@&quot;: &quot;Photoes&quot;\n        }\n      }\n    }\n  },\n  { // label objects of photoes by their respective &quot;no&quot; values\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;,\n      &quot;Photoes&quot;: {\n        &quot;*&quot;: {\n          &quot;http*&quot;: {\n            &quot;$&quot;: &quot;&amp;3[&amp;2].@(2,no).@(0)&quot; // exchange key-value pairs\n          },\n          &quot;*&quot;: &quot;&amp;2[&amp;1].@(1,no).&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;,\n      &quot;Photoes&quot;: {\n        &quot;*&quot;: {\n          &quot;0&quot;: &quot;rem&amp;2&quot;, // remPhotoes tagged stuff will be removed\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;&amp;3[]&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;remPhotoes&quot;: &quot;&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;Photoes&quot;: {\n        &quot;*&quot;: {\n          &quot;no&quot;: &quot;=toString&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670486042,"creation_date":1670486042,"answer_id":74727090,"question_id":74724853,"body_markdown":"You may consider another library *Josson* to do the same job by shorter transformation statement.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;Entity\\&quot;: {&quot; +\r\n        &quot;    \\&quot;card\\&quot;: {&quot; +\r\n        &quot;      \\&quot;cardNo\\&quot;: \\&quot;123456789\\&quot;,&quot; +\r\n        &quot;      \\&quot;cardStatus\\&quot;: \\&quot;10\\&quot;,&quot; +\r\n        &quot;      \\&quot;cardAddress\\&quot;: \\&quot;UK\\&quot;,&quot; +\r\n        &quot;      \\&quot;cardAddress1\\&quot;: \\&quot;US\\&quot;,&quot; +\r\n        &quot;      \\&quot;cardCity\\&quot;: \\&quot;mk\\&quot;,&quot; +\r\n        &quot;      \\&quot;name\\&quot;: \\&quot;RAM\\&quot;,&quot; +\r\n        &quot;      \\&quot;lastName\\&quot;: \\&quot;ABU\\&quot;,&quot; +\r\n        &quot;      \\&quot;name1\\&quot;: \\&quot;RAM1\\&quot;,&quot; +\r\n        &quot;      \\&quot;lastName1\\&quot;: \\&quot;ABU1\\&quot;,&quot; +\r\n        &quot;      \\&quot;Id1\\&quot;: \\&quot;0\\&quot;,&quot; +\r\n        &quot;      \\&quot;Id2\\&quot;: 0,&quot; +\r\n        &quot;      \\&quot;Id3\\&quot;: 0&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;Photos\\&quot;: [&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;Id\\&quot;: 0,&quot; +\r\n        &quot;        \\&quot;Caption\\&quot;: \\&quot;TEST&gt;&gt; photo 1\\&quot;,&quot; +\r\n        &quot;        \\&quot;Url\\&quot;: \\&quot;http://bob.com/0001/327703/photo.jpg\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;Id\\&quot;: 327704,&quot; +\r\n        &quot;        \\&quot;Caption\\&quot;: \\&quot;TEST&gt;&gt; photo 2\\&quot;,&quot; +\r\n        &quot;        \\&quot;Url\\&quot;: \\&quot;http://bob.com/0001/327704/photo.jpg\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;Id\\&quot;: 327704,&quot; +\r\n        &quot;        \\&quot;Caption\\&quot;: \\&quot;TEST&gt;&gt; photo 2\\&quot;,&quot; +\r\n        &quot;        \\&quot;Url\\&quot;: \\&quot;http://bob.com/0001/327704/photo.jpg\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;Entity.map(&quot; +\r\n        &quot;  tab: map(text: card.cardNo),&quot; +\r\n        &quot;  address: wrap(card.map(&quot; +\r\n        &quot;    add: cardAddress,&quot; +\r\n        &quot;    add2: cardAddress1,&quot; +\r\n        &quot;    cardCity:: cardCity)),&quot; +\r\n        &quot;  Photos[Id!=0]*.map(&quot; +\r\n        &quot;    caption2: Caption,&quot; +\r\n        &quot;    no: toText(Id))&quot; +\r\n        &quot;)&quot;);\r\n    System.out.print(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;tab&quot; : {\r\n        &quot;text&quot; : &quot;123456789&quot;\r\n      },\r\n      &quot;address&quot; : [ {\r\n        &quot;add&quot; : &quot;UK&quot;,\r\n        &quot;add2&quot; : &quot;US&quot;,\r\n        &quot;mk&quot; : &quot;mk&quot;\r\n      } ],\r\n      &quot;Photos&quot; : [ {\r\n        &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;no&quot; : &quot;327704&quot;\r\n      }, {\r\n        &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;no&quot; : &quot;327704&quot;\r\n      } ]\r\n    }\r\n","title":"I need the jolt transform for the given input . Photos array is dynamic in nature","body":"<p>You may consider another library <em>Josson</em> to do the same job by shorter transformation statement.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;Entity\\&quot;: {&quot; +\n    &quot;    \\&quot;card\\&quot;: {&quot; +\n    &quot;      \\&quot;cardNo\\&quot;: \\&quot;123456789\\&quot;,&quot; +\n    &quot;      \\&quot;cardStatus\\&quot;: \\&quot;10\\&quot;,&quot; +\n    &quot;      \\&quot;cardAddress\\&quot;: \\&quot;UK\\&quot;,&quot; +\n    &quot;      \\&quot;cardAddress1\\&quot;: \\&quot;US\\&quot;,&quot; +\n    &quot;      \\&quot;cardCity\\&quot;: \\&quot;mk\\&quot;,&quot; +\n    &quot;      \\&quot;name\\&quot;: \\&quot;RAM\\&quot;,&quot; +\n    &quot;      \\&quot;lastName\\&quot;: \\&quot;ABU\\&quot;,&quot; +\n    &quot;      \\&quot;name1\\&quot;: \\&quot;RAM1\\&quot;,&quot; +\n    &quot;      \\&quot;lastName1\\&quot;: \\&quot;ABU1\\&quot;,&quot; +\n    &quot;      \\&quot;Id1\\&quot;: \\&quot;0\\&quot;,&quot; +\n    &quot;      \\&quot;Id2\\&quot;: 0,&quot; +\n    &quot;      \\&quot;Id3\\&quot;: 0&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;Photos\\&quot;: [&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;Id\\&quot;: 0,&quot; +\n    &quot;        \\&quot;Caption\\&quot;: \\&quot;TEST&gt;&gt; photo 1\\&quot;,&quot; +\n    &quot;        \\&quot;Url\\&quot;: \\&quot;http://bob.com/0001/327703/photo.jpg\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;Id\\&quot;: 327704,&quot; +\n    &quot;        \\&quot;Caption\\&quot;: \\&quot;TEST&gt;&gt; photo 2\\&quot;,&quot; +\n    &quot;        \\&quot;Url\\&quot;: \\&quot;http://bob.com/0001/327704/photo.jpg\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;Id\\&quot;: 327704,&quot; +\n    &quot;        \\&quot;Caption\\&quot;: \\&quot;TEST&gt;&gt; photo 2\\&quot;,&quot; +\n    &quot;        \\&quot;Url\\&quot;: \\&quot;http://bob.com/0001/327704/photo.jpg\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    ]&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;Entity.map(&quot; +\n    &quot;  tab: map(text: card.cardNo),&quot; +\n    &quot;  address: wrap(card.map(&quot; +\n    &quot;    add: cardAddress,&quot; +\n    &quot;    add2: cardAddress1,&quot; +\n    &quot;    cardCity:: cardCity)),&quot; +\n    &quot;  Photos[Id!=0]*.map(&quot; +\n    &quot;    caption2: Caption,&quot; +\n    &quot;    no: toText(Id))&quot; +\n    &quot;)&quot;);\nSystem.out.print(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;tab&quot; : {\n    &quot;text&quot; : &quot;123456789&quot;\n  },\n  &quot;address&quot; : [ {\n    &quot;add&quot; : &quot;UK&quot;,\n    &quot;add2&quot; : &quot;US&quot;,\n    &quot;mk&quot; : &quot;mk&quot;\n  } ],\n  &quot;Photos&quot; : [ {\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,\n    &quot;no&quot; : &quot;327704&quot;\n  }, {\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,\n    &quot;no&quot; : &quot;327704&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74726970,"answer_count":3,"score":0,"last_activity_date":1670486254,"creation_date":1670466383,"question_id":74724853,"body_markdown":"\r\nIf id value is 0 then i don&#39;t want that in output. Photos Array is dynamic in nature. Here it is 3 , it can be 3 or 4 or5 any . Your help in this is highly appreciated . thanks .\r\n\r\ninput JSON\r\n\r\n```json\r\n {\r\n  &quot;Entity&quot;: {\r\n    &quot;card&quot;: {\r\n      &quot;cardNo&quot;: &quot;123456789&quot;,\r\n      &quot;cardStatus&quot;: &quot;10&quot;,\r\n      &quot;cardAddress&quot;: &quot;UK&quot;,\r\n      &quot;cardAddress1&quot;: &quot;US&quot;,\r\n      &quot;cardCity&quot;: &quot;mk&quot;,\r\n      &quot;name&quot;: &quot;RAM&quot;,\r\n      &quot;lastName&quot;: &quot;ABU&quot;,\r\n      &quot;name1&quot;: &quot;RAM1&quot;,\r\n      &quot;lastName1&quot;: &quot;ABU1&quot;,\r\n      &quot;Id1&quot;: &quot;0&quot;,\r\n      &quot;Id2&quot;: 0,\r\n      &quot;Id3&quot;: 0\r\n    },\r\n    &quot;Photos&quot;: [\r\n      {\r\n        &quot;Id&quot;: 327703,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\r\n      },\r\n      {\r\n        &quot;Id&quot;: 327704,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n      },\r\n      {\r\n        &quot;Id&quot;: 327704,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\noutput JSON\r\n\r\n```json\r\n{\r\n  &quot;tab&quot;: {\r\n    &quot;text&quot;: &quot;123456789&quot;\r\n  },\r\n  &quot;address&quot;: [\r\n    {\r\n      &quot;add&quot;: &quot;UK&quot;,\r\n      &quot;add2&quot;: &quot;US&quot;,\r\n      &quot;mk&quot;: &quot;mk&quot;\r\n    }\r\n  ],\r\n  &quot;Photos&quot;: [\r\n    {\r\n      &quot;caption2&quot;: &quot;http.1.com&quot;,\r\n      &quot;no&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;http.2.com&quot;,\r\n      &quot;no&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;http.3com&quot;,\r\n      &quot;no&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\r\n      &quot;no&quot;: &quot;327703&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n      &quot;no&quot;: &quot;327704&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n      &quot;no&quot;: &quot;327704&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nexpected JSON\r\n\r\n```json\r\n{\r\n  &quot;tab&quot;: {\r\n    &quot;text&quot;: &quot;123456789&quot;\r\n  },\r\n  &quot;address&quot;: [\r\n    {\r\n      &quot;add&quot;: &quot;UK&quot;,\r\n      &quot;add2&quot;: &quot;US&quot;,\r\n      &quot;mk&quot;: &quot;mk&quot;\r\n    }\r\n  ],\r\n  &quot;Photos&quot;: [\r\n    {\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\r\n      &quot;no&quot;: &quot;327703&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n      &quot;no&quot;: &quot;327704&quot;\r\n    },\r\n    {\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n      &quot;no&quot;: &quot;327704&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\njolt spec using \r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\r\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\r\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\r\n          &quot;cardC*&quot;: &quot;address[0].mk&quot;,\r\n          &quot;Id1&quot;: &quot;Photos.no&quot;,\r\n          &quot;#http.1.com&quot;: &quot;Photos.caption2&quot;,\r\n          &quot;Id2&quot;: &quot;Photos.no&quot;,\r\n          &quot;#http.2.com&quot;: &quot;Photos.caption2&quot;,\r\n          &quot;Id3&quot;: &quot;Photos.no&quot;,\r\n          &quot;#http.3com&quot;: &quot;Photos.caption2&quot;\r\n        },\r\n        &quot;Photos&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;Id&quot;: &quot;Photos.no&quot;,\r\n            &quot;Caption&quot;: &quot;Photos.caption2&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;tab&quot;: &quot;&amp;&quot;,\r\n      &quot;address&quot;: &quot;&amp;&quot;,\r\n      &quot;Photos&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Photos&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;no&quot;: &quot;=toString&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nI am thinking one if else logic is required if value is 0 then don&#39;t pass otherwise pass like that.\r\n\r\n","title":"I need the jolt transform for the given input . Photos array is dynamic in nature","body":"<p>If id value is 0 then i don't want that in output. Photos Array is dynamic in nature. Here it is 3 , it can be 3 or 4 or5 any . Your help in this is highly appreciated . thanks .</p>\n<p>input JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code> {\n  &quot;Entity&quot;: {\n    &quot;card&quot;: {\n      &quot;cardNo&quot;: &quot;123456789&quot;,\n      &quot;cardStatus&quot;: &quot;10&quot;,\n      &quot;cardAddress&quot;: &quot;UK&quot;,\n      &quot;cardAddress1&quot;: &quot;US&quot;,\n      &quot;cardCity&quot;: &quot;mk&quot;,\n      &quot;name&quot;: &quot;RAM&quot;,\n      &quot;lastName&quot;: &quot;ABU&quot;,\n      &quot;name1&quot;: &quot;RAM1&quot;,\n      &quot;lastName1&quot;: &quot;ABU1&quot;,\n      &quot;Id1&quot;: &quot;0&quot;,\n      &quot;Id2&quot;: 0,\n      &quot;Id3&quot;: 0\n    },\n    &quot;Photos&quot;: [\n      {\n        &quot;Id&quot;: 327703,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: 327704,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: 327704,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>output JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;tab&quot;: {\n    &quot;text&quot;: &quot;123456789&quot;\n  },\n  &quot;address&quot;: [\n    {\n      &quot;add&quot;: &quot;UK&quot;,\n      &quot;add2&quot;: &quot;US&quot;,\n      &quot;mk&quot;: &quot;mk&quot;\n    }\n  ],\n  &quot;Photos&quot;: [\n    {\n      &quot;caption2&quot;: &quot;http.1.com&quot;,\n      &quot;no&quot;: &quot;0&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;http.2.com&quot;,\n      &quot;no&quot;: &quot;0&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;http.3com&quot;,\n      &quot;no&quot;: &quot;0&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n      &quot;no&quot;: &quot;327703&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n      &quot;no&quot;: &quot;327704&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n      &quot;no&quot;: &quot;327704&quot;\n    }\n  ]\n}\n</code></pre>\n<p>expected JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;tab&quot;: {\n    &quot;text&quot;: &quot;123456789&quot;\n  },\n  &quot;address&quot;: [\n    {\n      &quot;add&quot;: &quot;UK&quot;,\n      &quot;add2&quot;: &quot;US&quot;,\n      &quot;mk&quot;: &quot;mk&quot;\n    }\n  ],\n  &quot;Photos&quot;: [\n    {\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n      &quot;no&quot;: &quot;327703&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n      &quot;no&quot;: &quot;327704&quot;\n    },\n    {\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n      &quot;no&quot;: &quot;327704&quot;\n    }\n  ]\n}\n</code></pre>\n<p>jolt spec using</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\n          &quot;cardC*&quot;: &quot;address[0].mk&quot;,\n          &quot;Id1&quot;: &quot;Photos.no&quot;,\n          &quot;#http.1.com&quot;: &quot;Photos.caption2&quot;,\n          &quot;Id2&quot;: &quot;Photos.no&quot;,\n          &quot;#http.2.com&quot;: &quot;Photos.caption2&quot;,\n          &quot;Id3&quot;: &quot;Photos.no&quot;,\n          &quot;#http.3com&quot;: &quot;Photos.caption2&quot;\n        },\n        &quot;Photos&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;Photos.no&quot;,\n            &quot;Caption&quot;: &quot;Photos.caption2&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;tab&quot;: &quot;&amp;&quot;,\n      &quot;address&quot;: &quot;&amp;&quot;,\n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;no&quot;: &quot;=toString&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>I am thinking one if else logic is required if value is 0 then don't pass otherwise pass like that.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670427097,"post_id":74719001,"comment_id":131874806,"body_markdown":"can you please post the whole stacktrace?","body":"can you please post the whole stacktrace?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670440528,"post_id":74719001,"comment_id":131879332,"body_markdown":"I have never worked on Kotlin but worked on Java and code looks similar but obviously syntax is different. I think entity class names mentioned in repository classes are incorrect. It should be   List&lt;PrimaryEntity&gt; instead of List&lt;PrimaryDataEntity&gt;. Same goes to other repository class","body":"I have never worked on Kotlin but worked on Java and code looks similar but obviously syntax is different. I think entity class names mentioned in repository classes are incorrect. It should be   List&lt;PrimaryEntity&gt; instead of List&lt;PrimaryDataEntity&gt;. Same goes to other repository class"},{"owner":{"account_id":24118097,"reputation":175,"user_id":18087680,"display_name":"Andrew"},"score":0,"creation_date":1670481394,"post_id":74719001,"comment_id":131886450,"body_markdown":"@SimonMartinelli, I attached meaning part of callstack (hier part is about scheduler to call my function)","body":"@SimonMartinelli, I attached meaning part of callstack (hier part is about scheduler to call my function)"},{"owner":{"account_id":24118097,"reputation":175,"user_id":18087680,"display_name":"Andrew"},"score":1,"creation_date":1670481455,"post_id":74719001,"comment_id":131886462,"body_markdown":"@RohitAgarwal thank you, you are right, I have a mistake with entity naming.","body":"@RohitAgarwal thank you, you are right, I have a mistake with entity naming."},{"owner":{"account_id":24118097,"reputation":175,"user_id":18087680,"display_name":"Andrew"},"score":0,"creation_date":1670481498,"post_id":74719001,"comment_id":131886476,"body_markdown":"I Found that error happens only for secondary repository, primary repository saves data correctly","body":"I Found that error happens only for secondary repository, primary repository saves data correctly"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670484610,"post_id":74719001,"comment_id":131887121,"body_markdown":"It fails because you haven&#39;t instructed the `@Transactional` which transactiobn manager to use. Hence it will use the primary one for each of them, failing the second because that doesn&#39;t have an active transaction for the used `EntityManager`. You need to add the name to the `@Transactional` annotation of which transaction manager to use.","body":"It fails because you haven&#39;t instructed the <code>@Transactional</code> which transactiobn manager to use. Hence it will use the primary one for each of them, failing the second because that doesn&#39;t have an active transaction for the used <code>EntityManager</code>. You need to add the name to the <code>@Transactional</code> annotation of which transaction manager to use."},{"owner":{"account_id":24118097,"reputation":175,"user_id":18087680,"display_name":"Andrew"},"score":0,"creation_date":1670485913,"post_id":74719001,"comment_id":131887464,"body_markdown":"@M.Deinum thank you a lot. I used javax.transaction.Transactional annotation. It works fine with pointing to certain transactional manager","body":"@M.Deinum thank you a lot. I used javax.transaction.Transactional annotation. It works fine with pointing to certain transactional manager"}],"answers":[{"tags":[],"owner":{"account_id":24118097,"reputation":175,"user_id":18087680,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670486071,"creation_date":1670486071,"answer_id":74727096,"question_id":74719001,"body_markdown":"Using org.springframework.transaction.annotation.Transactional with pointing to certain transaction manager solved the problem.\r\n```\r\n........\r\n@Transactional(&quot;secondaryDbTransactionManager&quot;)\r\nfun batchInsert(entityList: List&lt;SecondaryEntity&gt;)\r\n........\r\n```","title":"Multi source spring configuration does not save an entity","body":"<p>Using org.springframework.transaction.annotation.Transactional with pointing to certain transaction manager solved the problem.</p>\n<pre><code>........\n@Transactional(&quot;secondaryDbTransactionManager&quot;)\nfun batchInsert(entityList: List&lt;SecondaryEntity&gt;)\n........\n</code></pre>\n"}],"owner":{"account_id":24118097,"reputation":175,"user_id":18087680,"display_name":"Andrew"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670486071,"creation_date":1670426471,"question_id":74719001,"body_markdown":"I have SpringBoot application which connected to 2 datasource. I need save the same data to 2 differen databases using some logic.\r\n\r\nI made 2 very similar sets (configuration, repository and entity). I&#39;m working with Kotlin. So there is 2 configurations : for primary database\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n    basePackages = [&quot;org.my.app.repository.primary&quot;],\r\n    entityManagerFactoryRef = &quot;primaryDbEntityManager&quot;,\r\n    transactionManagerRef = &quot;primaryDbTransactionManager&quot;\r\n)\r\nclass PrimaryConfig {\r\n    @Primary\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.primary-db&quot;)\r\n    fun primaryDbDataSource(): DataSource {\r\n        return DataSourceBuilder.create()\r\n            .driverClassName(&quot;org.postgresql.Driver&quot;)\r\n            .url(&quot;jdbc:postgresql://127.0.0.1:5432/primary_db&quot;)\r\n            .password(&quot;********&quot;)\r\n            .username(&quot;postgres&quot;)\r\n            .build()\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    @ConfigurationProperties(&quot;hibernate.primary-db&quot;)\r\n    fun primaryDbEntityManager(): LocalContainerEntityManagerFactoryBean {\r\n        val em = LocalContainerEntityManagerFactoryBean()\r\n        em.dataSource = primaryDbDataSource()\r\n        em.setPackagesToScan(&quot;org.my.app.entity.primary&quot;)\r\n        val vendorAdapter = HibernateJpaVendorAdapter()\r\n        em.jpaVendorAdapter = vendorAdapter\r\n        val properties = HashMap&lt;String, String?&gt;()\r\n        properties[&quot;hibernate.dialect&quot;] = &quot;org.hibernate.dialect.PostgreSQLDialect&quot;\r\n        properties[&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;] = &quot;false&quot;\r\n        em.setJpaPropertyMap(properties)\r\n        return em\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = [&quot;primaryDbTransactionManager&quot;])\r\n    fun primaryDbTransactionManager(): PlatformTransactionManager? {\r\n        val transactionManager = JpaTransactionManager()\r\n        transactionManager.entityManagerFactory = primaryDbEntityManager().getObject()\r\n        return transactionManager\r\n    }\r\n}\r\n```\r\n\r\nand for secondary db:\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n    basePackages = [&quot;org.my.app.repository.secondary&quot;],\r\n    entityManagerFactoryRef = &quot;secondaryDbEntityManager&quot;,\r\n    transactionManagerRef = &quot;secondaryDbTransactionManager&quot;\r\n)\r\nclass SecondaryConfig {\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.secondary-db&quot;)\r\n    fun secondaryDbDataSource(): DataSource {\r\n        return DataSourceBuilder.create()\r\n            .driverClassName(&quot;org.postgresql.Driver&quot;)\r\n            .url(&quot;jdbc:postgresql://127.0.0.1:5432/secondary_db&quot;)\r\n            .password(&quot;********&quot;)\r\n            .username(&quot;postgres&quot;)\r\n            .build()\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;hibernate.secondary-db&quot;)\r\n    fun secondaryDbEntityManager(): LocalContainerEntityManagerFactoryBean {\r\n        val em = LocalContainerEntityManagerFactoryBean()\r\n        em.dataSource = secondaryDbDataSource()\r\n        em.setPackagesToScan(&quot;org.my.app.entity.secondary&quot;)\r\n        val vendorAdapter = HibernateJpaVendorAdapter()\r\n        em.jpaVendorAdapter = vendorAdapter\r\n        val properties = HashMap&lt;String, String?&gt;()\r\n        properties[&quot;hibernate.dialect&quot;] = &quot;org.hibernate.dialect.PostgreSQLDialect&quot;\r\n        properties[&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;] = &quot;false&quot;\r\n        em.setJpaPropertyMap(properties)\r\n        return em\r\n    }\r\n\r\n    @Bean(name = [&quot;secondaryDbTransactionManager&quot;])\r\n    fun primaryDbTransactionManager(): PlatformTransactionManager? {\r\n        val transactionManager = JpaTransactionManager()\r\n        transactionManager.entityManagerFactory = secondaryDbEntityManager().getObject()\r\n        return transactionManager\r\n    }\r\n}\r\n```\r\n\r\nRepository for primary DB is\r\n```\r\npackage org.my.app.repository.primary\r\n\r\n@Service\r\nclass PrimaryDbRepository(\r\n    @Qualifier(&quot;primaryDbEntityManager&quot;)\r\n    private val entityManager: EntityManager\r\n) {\r\n    @Transactional\r\n    fun batchInsert(entityList: List&lt;PrimaryEntity&gt;) {\r\n        for (entity in entityList) {\r\n            entityManager.persist(entity)\r\n        }\r\n        entityManager.clear()\r\n    }\r\n}\r\n```\r\n\r\nRepository for secondary DB is\r\n```\r\npackage org.my.app.repository.secondary\r\n\r\n@Service\r\nclass SecondaryDbRepository(\r\n    @Qualifier(&quot;secondaryDbEntityManager&quot;)\r\n    private val entityManager: EntityManager\r\n) {\r\n    @Transactional\r\n    fun batchInsert(entityList: List&lt;SecondaryEntity&gt;) {\r\n        for (entity in entityList) {\r\n            entityManager.persist(entity)\r\n        }\r\n        entityManager.clear()\r\n    }\r\n}\r\n```\r\n\r\nEntity for primary DB is \r\n```\r\npackage org.my.app.entity.primary\r\n\r\n@Entity\r\n@Table(name=&quot;table1&quot;, schema=&quot;public&quot;)\r\ndata class PrimaryEntity(\r\n    @Id\r\n    val id: Long,\r\n    @Column(name=&quot;data_value&quot;)\r\n    val dataValue: String?\r\n)\r\n```\r\n\r\nEntity for secondaryDB is \r\n```\r\npackage org.my.app.entity.secondary\r\n\r\n@Entity\r\n@Table(name=&quot;table1&quot;, schema=&quot;public&quot;)\r\ndata class SecondaryEntity(\r\n    @Id\r\n    val id: Long,\r\n    @Column(name=&quot;data_value&quot;)\r\n    val dataValue: String?\r\n)\r\n```\r\n\r\nI try to save my entities to database in service. I show only one function because exception raised even in this case:\r\n```\r\n@Service\r\nclass saver (private val primaryRepository: PrimaryDbRepository, private val secondaryRepository: SecondaryDbRepository) {\r\n  fun saveMyData() {\r\n    val data = listOf(PrimaryEntity(1, &quot;A&quot;), PrimaryEntity(2, &quot;B&quot;))\r\n    primaryRepository.batchInsert(data)\r\n\r\n    /* if I leave only &quot;data&quot; save to primary datasource, always works fine*/\r\n    val data2 = listOf(SecondaryEntity(1, &quot;A&quot;), SecondaryEntity(2, &quot;B&quot;))\r\n    secondaryRepository.batchInsert(data2)\r\n  }\r\n}\r\n```\r\nWhen I call saveMyData I Receive exception ***java.lang.IllegalArgumentException: attempt to create event with null entity*** and ***javax.persistence.TransactionRequiredException: no transaction is in progress*** in one call.\r\n\r\n\r\nThe error stack is like \r\n```\r\njavax.persistence.TransactionRequiredException: no transaction is in progress\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3558) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1444) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1440) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_301]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_301]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_301]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_301]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat com.sun.proxy.$Proxy103.flush(Unknown Source) ~[na:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_301]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_301]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_301]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_301]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:308) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat com.sun.proxy.$Proxy103.flush(Unknown Source) ~[na:na]\r\n\tat org.my.app.repository.secondary.SecondaryDbRepository.batchInsert(SecondaryDbRepository.kt:19) ~[classes/:na]\r\n\tat org.my.app.repository.secondary.SecondaryDbRepository$$FastClassBySpringCGLIB$$6c43dc23.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n\tat org.my.app.repository.secondary.SecondaryDbRepository$$EnhancerBySpringCGLIB$$b30f9725.batchInsert(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.my.app.services.Saver.saveMyData(Saver.kt:18) ~[classes/:na]\r\n...........\r\n```\r\n\r\nWhat I made wrong? Or how can I save my new entities?","title":"Multi source spring configuration does not save an entity","body":"<p>I have SpringBoot application which connected to 2 datasource. I need save the same data to 2 differen databases using some logic.</p>\n<p>I made 2 very similar sets (configuration, repository and entity). I'm working with Kotlin. So there is 2 configurations : for primary database</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    basePackages = [&quot;org.my.app.repository.primary&quot;],\n    entityManagerFactoryRef = &quot;primaryDbEntityManager&quot;,\n    transactionManagerRef = &quot;primaryDbTransactionManager&quot;\n)\nclass PrimaryConfig {\n    @Primary\n    @Bean\n    @ConfigurationProperties(&quot;spring.primary-db&quot;)\n    fun primaryDbDataSource(): DataSource {\n        return DataSourceBuilder.create()\n            .driverClassName(&quot;org.postgresql.Driver&quot;)\n            .url(&quot;jdbc:postgresql://127.0.0.1:5432/primary_db&quot;)\n            .password(&quot;********&quot;)\n            .username(&quot;postgres&quot;)\n            .build()\n    }\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(&quot;hibernate.primary-db&quot;)\n    fun primaryDbEntityManager(): LocalContainerEntityManagerFactoryBean {\n        val em = LocalContainerEntityManagerFactoryBean()\n        em.dataSource = primaryDbDataSource()\n        em.setPackagesToScan(&quot;org.my.app.entity.primary&quot;)\n        val vendorAdapter = HibernateJpaVendorAdapter()\n        em.jpaVendorAdapter = vendorAdapter\n        val properties = HashMap&lt;String, String?&gt;()\n        properties[&quot;hibernate.dialect&quot;] = &quot;org.hibernate.dialect.PostgreSQLDialect&quot;\n        properties[&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;] = &quot;false&quot;\n        em.setJpaPropertyMap(properties)\n        return em\n    }\n\n    @Primary\n    @Bean(name = [&quot;primaryDbTransactionManager&quot;])\n    fun primaryDbTransactionManager(): PlatformTransactionManager? {\n        val transactionManager = JpaTransactionManager()\n        transactionManager.entityManagerFactory = primaryDbEntityManager().getObject()\n        return transactionManager\n    }\n}\n</code></pre>\n<p>and for secondary db:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    basePackages = [&quot;org.my.app.repository.secondary&quot;],\n    entityManagerFactoryRef = &quot;secondaryDbEntityManager&quot;,\n    transactionManagerRef = &quot;secondaryDbTransactionManager&quot;\n)\nclass SecondaryConfig {\n    @Bean\n    @ConfigurationProperties(&quot;spring.secondary-db&quot;)\n    fun secondaryDbDataSource(): DataSource {\n        return DataSourceBuilder.create()\n            .driverClassName(&quot;org.postgresql.Driver&quot;)\n            .url(&quot;jdbc:postgresql://127.0.0.1:5432/secondary_db&quot;)\n            .password(&quot;********&quot;)\n            .username(&quot;postgres&quot;)\n            .build()\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;hibernate.secondary-db&quot;)\n    fun secondaryDbEntityManager(): LocalContainerEntityManagerFactoryBean {\n        val em = LocalContainerEntityManagerFactoryBean()\n        em.dataSource = secondaryDbDataSource()\n        em.setPackagesToScan(&quot;org.my.app.entity.secondary&quot;)\n        val vendorAdapter = HibernateJpaVendorAdapter()\n        em.jpaVendorAdapter = vendorAdapter\n        val properties = HashMap&lt;String, String?&gt;()\n        properties[&quot;hibernate.dialect&quot;] = &quot;org.hibernate.dialect.PostgreSQLDialect&quot;\n        properties[&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;] = &quot;false&quot;\n        em.setJpaPropertyMap(properties)\n        return em\n    }\n\n    @Bean(name = [&quot;secondaryDbTransactionManager&quot;])\n    fun primaryDbTransactionManager(): PlatformTransactionManager? {\n        val transactionManager = JpaTransactionManager()\n        transactionManager.entityManagerFactory = secondaryDbEntityManager().getObject()\n        return transactionManager\n    }\n}\n</code></pre>\n<p>Repository for primary DB is</p>\n<pre><code>package org.my.app.repository.primary\n\n@Service\nclass PrimaryDbRepository(\n    @Qualifier(&quot;primaryDbEntityManager&quot;)\n    private val entityManager: EntityManager\n) {\n    @Transactional\n    fun batchInsert(entityList: List&lt;PrimaryEntity&gt;) {\n        for (entity in entityList) {\n            entityManager.persist(entity)\n        }\n        entityManager.clear()\n    }\n}\n</code></pre>\n<p>Repository for secondary DB is</p>\n<pre><code>package org.my.app.repository.secondary\n\n@Service\nclass SecondaryDbRepository(\n    @Qualifier(&quot;secondaryDbEntityManager&quot;)\n    private val entityManager: EntityManager\n) {\n    @Transactional\n    fun batchInsert(entityList: List&lt;SecondaryEntity&gt;) {\n        for (entity in entityList) {\n            entityManager.persist(entity)\n        }\n        entityManager.clear()\n    }\n}\n</code></pre>\n<p>Entity for primary DB is</p>\n<pre><code>package org.my.app.entity.primary\n\n@Entity\n@Table(name=&quot;table1&quot;, schema=&quot;public&quot;)\ndata class PrimaryEntity(\n    @Id\n    val id: Long,\n    @Column(name=&quot;data_value&quot;)\n    val dataValue: String?\n)\n</code></pre>\n<p>Entity for secondaryDB is</p>\n<pre><code>package org.my.app.entity.secondary\n\n@Entity\n@Table(name=&quot;table1&quot;, schema=&quot;public&quot;)\ndata class SecondaryEntity(\n    @Id\n    val id: Long,\n    @Column(name=&quot;data_value&quot;)\n    val dataValue: String?\n)\n</code></pre>\n<p>I try to save my entities to database in service. I show only one function because exception raised even in this case:</p>\n<pre><code>@Service\nclass saver (private val primaryRepository: PrimaryDbRepository, private val secondaryRepository: SecondaryDbRepository) {\n  fun saveMyData() {\n    val data = listOf(PrimaryEntity(1, &quot;A&quot;), PrimaryEntity(2, &quot;B&quot;))\n    primaryRepository.batchInsert(data)\n\n    /* if I leave only &quot;data&quot; save to primary datasource, always works fine*/\n    val data2 = listOf(SecondaryEntity(1, &quot;A&quot;), SecondaryEntity(2, &quot;B&quot;))\n    secondaryRepository.batchInsert(data2)\n  }\n}\n</code></pre>\n<p>When I call saveMyData I Receive exception <em><strong>java.lang.IllegalArgumentException: attempt to create event with null entity</strong></em> and <em><strong>javax.persistence.TransactionRequiredException: no transaction is in progress</strong></em> in one call.</p>\n<p>The error stack is like</p>\n<pre><code>javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3558) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1444) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1440) ~[hibernate-core-5.3.10.Final.jar:5.3.10.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_301]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_301]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_301]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_301]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at com.sun.proxy.$Proxy103.flush(Unknown Source) ~[na:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_301]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_301]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_301]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_301]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:308) ~[spring-orm-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at com.sun.proxy.$Proxy103.flush(Unknown Source) ~[na:na]\n    at org.my.app.repository.secondary.SecondaryDbRepository.batchInsert(SecondaryDbRepository.kt:19) ~[classes/:na]\n    at org.my.app.repository.secondary.SecondaryDbRepository$$FastClassBySpringCGLIB$$6c43dc23.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.my.app.repository.secondary.SecondaryDbRepository$$EnhancerBySpringCGLIB$$b30f9725.batchInsert(&lt;generated&gt;) ~[classes/:na]\n    at org.my.app.services.Saver.saveMyData(Saver.kt:18) ~[classes/:na]\n...........\n</code></pre>\n<p>What I made wrong? Or how can I save my new entities?</p>\n"},{"tags":["java","proguard","jedis"],"comments":[{"owner":{"account_id":11974303,"reputation":352,"user_id":8761920,"display_name":"Kam&#232;l Romdhani"},"score":0,"creation_date":1670403802,"post_id":74713877,"comment_id":131866463,"body_markdown":"can you add the command that you run to obfuscate your java code?","body":"can you add the command that you run to obfuscate your java code?"},{"owner":{"account_id":27175049,"reputation":1,"user_id":20711170,"display_name":"Shinu_o"},"score":0,"creation_date":1670470062,"post_id":74713877,"comment_id":131884803,"body_markdown":"@Kam&#232;lRomdhani I don&#39;t have run code, I useing Proguard gui tool","body":"@Kam&#232;lRomdhani I don&#39;t have run code, I useing Proguard gui tool"}],"answers":[{"tags":[],"owner":{"account_id":27175049,"reputation":1,"user_id":20711170,"display_name":"Shinu_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670485687,"creation_date":1670485687,"answer_id":74727029,"question_id":74713877,"body_markdown":"I solved my issue.\r\n\r\n\r\nThe reason why, i added jar only ${java_home}/jre/lib/rt.jar\r\n```\r\n-libraryjars ${my_java_home}/jre/lib/rt.jar\r\n```\r\n\r\n\r\nAfter the many try, realize i need jedis.jar and another jars.\r\n\r\nso I added \r\n```\r\n-libraryjars ${my_java_home}/jre/lib/rt.jar\r\n-libraryjars ${my_jedis_jar_path}/jedis-3.0.1.jar\r\n...\r\n...\r\n\r\n```\r\n\r\n","title":"How to keeping abstract class in Proguard, (JedisPubSub)","body":"<p>I solved my issue.</p>\n<p>The reason why, i added jar only ${java_home}/jre/lib/rt.jar</p>\n<pre><code>-libraryjars ${my_java_home}/jre/lib/rt.jar\n</code></pre>\n<p>After the many try, realize i need jedis.jar and another jars.</p>\n<p>so I added</p>\n<pre><code>-libraryjars ${my_java_home}/jre/lib/rt.jar\n-libraryjars ${my_jedis_jar_path}/jedis-3.0.1.jar\n...\n...\n\n</code></pre>\n"}],"owner":{"account_id":27175049,"reputation":1,"user_id":20711170,"display_name":"Shinu_o"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670485687,"creation_date":1670402646,"question_id":74713877,"body_markdown":"Currently, I try obfuscated java code use the Proguard\r\n\r\nIn the existing code, code was implemented inside the subscribe, but after obfuscation, the codes disappear.\r\n\r\n\r\n\r\n\r\n```\r\norigin source\r\n======================\r\nJedis jedis = new Jedis(&quot;test_host&quot;, 9999);\r\njedis.subscribe(new JedisPubSub() {\r\n\t@Override\r\n\tpublic void onMessage(String channel, String message) {\r\n\t\t// do something job ..\r\n\t\tSystem.out.println(String.format(&quot;channel : %s, message : %s&quot;, channel, message));\r\n\t}\r\n},&quot;test channel&quot;);\r\n```\r\n\r\n```\r\nobfuscation after\r\n======================\r\nthis.c.subscribe((JedisPubSub)new Object(this, jsonParser), new String[] { &quot;test channel&quot; });\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried changing Proguard options.\r\n```\r\n-keep public class redis.clients.jedis.JedisPubSub\r\n-keep, allowobfuscation class redis.clients.jedis.JedisPubSub\r\netc ....\r\n```\r\n\r\nHow can i keep origin format ??\r\n","title":"How to keeping abstract class in Proguard, (JedisPubSub)","body":"<p>Currently, I try obfuscated java code use the Proguard</p>\n<p>In the existing code, code was implemented inside the subscribe, but after obfuscation, the codes disappear.</p>\n<pre><code>origin source\n======================\nJedis jedis = new Jedis(&quot;test_host&quot;, 9999);\njedis.subscribe(new JedisPubSub() {\n    @Override\n    public void onMessage(String channel, String message) {\n        // do something job ..\n        System.out.println(String.format(&quot;channel : %s, message : %s&quot;, channel, message));\n    }\n},&quot;test channel&quot;);\n</code></pre>\n<pre><code>obfuscation after\n======================\nthis.c.subscribe((JedisPubSub)new Object(this, jsonParser), new String[] { &quot;test channel&quot; });\n</code></pre>\n<p>I tried changing Proguard options.</p>\n<pre><code>-keep public class redis.clients.jedis.JedisPubSub\n-keep, allowobfuscation class redis.clients.jedis.JedisPubSub\netc ....\n</code></pre>\n<p>How can i keep origin format ??</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670485027,"creation_date":1670485027,"answer_id":74726921,"question_id":74725252,"body_markdown":"What makes you think that&#39;s even a good idea? The security implications would be tremendous were this so simply possible.\r\n\r\nYou&#39;re going to need to have some sort of process running on the web servers that retrieves the images from the other machine and serves them to the client. Which means you&#39;re also going to need to have security set up to allow that process access to that machine (possibly through sftp or scp, or through a web service with the server for that running on the machine hosting the images).\r\n\r\nThere possibly is a very crude way, by mapping the remote directory on the image hosting server through a symlink to a directory in the static content directory of the web servers, but that&#39;s a major security risk.","title":"Mounting Server Folder - Accessing files through application server","body":"<p>What makes you think that's even a good idea? The security implications would be tremendous were this so simply possible.</p>\n<p>You're going to need to have some sort of process running on the web servers that retrieves the images from the other machine and serves them to the client. Which means you're also going to need to have security set up to allow that process access to that machine (possibly through sftp or scp, or through a web service with the server for that running on the machine hosting the images).</p>\n<p>There possibly is a very crude way, by mapping the remote directory on the image hosting server through a symlink to a directory in the static content directory of the web servers, but that's a major security risk.</p>\n"}],"owner":{"account_id":26733926,"reputation":1,"user_id":20335813,"display_name":"dolphin kens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74726921,"answer_count":1,"score":-1,"last_activity_date":1670485027,"creation_date":1670470744,"question_id":74725252,"body_markdown":"I have 4 Linux machines where applications runs on 3 and 1 Linux file server where i have stored files.\r\n\r\n1. application server1 has port 192.168.1.101:8080\r\n2. application server2 has port 192.168.1.102:8080\r\n3. application server3 has port 192.168.1.103:8080\r\n4. file server has ip 195.168.1.108 - has images directory where images are stored\r\n \r\n#4 has folder images and it has been mounted on all the application servers 1, 2, 3 as `/images`\r\n \r\nAssume common domain name configured:  www.imageprocessing.com and internally routed with load balancing to hit any of the application servers.\r\n\r\nNow will I be able to access the above images as www.imageprocessing.com/images/1.jpeg ? I want to access the images via a direct URL.\r\n\r\nPlease advise.\r\n\r\nThanks\r\n\r\n\r\n\r\nAccessing Images via Direct URL through mounting of drive and application server","title":"Mounting Server Folder - Accessing files through application server","body":"<p>I have 4 Linux machines where applications runs on 3 and 1 Linux file server where i have stored files.</p>\n<ol>\n<li>application server1 has port 192.168.1.101:8080</li>\n<li>application server2 has port 192.168.1.102:8080</li>\n<li>application server3 has port 192.168.1.103:8080</li>\n<li>file server has ip 195.168.1.108 - has images directory where images are stored</li>\n</ol>\n<p>#4 has folder images and it has been mounted on all the application servers 1, 2, 3 as <code>/images</code></p>\n<p>Assume common domain name configured:  <a href=\"http://www.imageprocessing.com\" rel=\"nofollow noreferrer\">www.imageprocessing.com</a> and internally routed with load balancing to hit any of the application servers.</p>\n<p>Now will I be able to access the above images as <a href=\"http://www.imageprocessing.com/images/1.jpeg\" rel=\"nofollow noreferrer\">www.imageprocessing.com/images/1.jpeg</a> ? I want to access the images via a direct URL.</p>\n<p>Please advise.</p>\n<p>Thanks</p>\n<p>Accessing Images via Direct URL through mounting of drive and application server</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1556235480,"post_id":55858623,"comment_id":98378968,"body_markdown":"There may be a cleaner way, but you could implement your own HttpAuthenticationMechanism and have it delegate to whichever standard implementation you want to use.  You could then have your wrapper check the incoming URL, and trivially return whatever makes senses (success?) for URLs destined for the other mechanism, so that the other mechanism will kick in and do the real authentication.","body":"There may be a cleaner way, but you could implement your own HttpAuthenticationMechanism and have it delegate to whichever standard implementation you want to use.  You could then have your wrapper check the incoming URL, and trivially return whatever makes senses (success?) for URLs destined for the other mechanism, so that the other mechanism will kick in and do the real authentication."},{"owner":{"account_id":7854725,"reputation":1017,"user_id":5936989,"accept_rate":91,"display_name":"Maikkeyy"},"score":0,"creation_date":1556257835,"post_id":55858623,"comment_id":98383345,"body_markdown":"@Steve that&#39;s indeed something I could do. I&#39;m already implementing the interface by making a JWTAuthenticationMechanism, but that feels like a dirty way to solve this problem :). It is the last option for sure if there isn&#39;t a cleaner way for sure. Thanks for your answer!","body":"@Steve that&#39;s indeed something I could do. I&#39;m already implementing the interface by making a JWTAuthenticationMechanism, but that feels like a dirty way to solve this problem :). It is the last option for sure if there isn&#39;t a cleaner way for sure. Thanks for your answer!"},{"owner":{"account_id":4408231,"reputation":1174,"user_id":3591946,"accept_rate":85,"display_name":"Kohei Nozaki"},"score":0,"creation_date":1557096661,"post_id":55858623,"comment_id":98641083,"body_markdown":"I had the same question and I ended up with [something like this](https://github.com/nuzayats/ee8security/blob/bcc64c3158ec4d0d22065f154b267688194e695b/src/main/java/ee8security/JwtHttpAuthenticationMechanism.java#L35-L38) . I&#39;m looking for a better approach too","body":"I had the same question and I ended up with <a href=\"https://github.com/nuzayats/ee8security/blob/bcc64c3158ec4d0d22065f154b267688194e695b/src/main/java/ee8security/JwtHttpAuthenticationMechanism.java#L35-L38\" rel=\"nofollow noreferrer\">something like this</a> . I&#39;m looking for a better approach too"},{"owner":{"account_id":7854725,"reputation":1017,"user_id":5936989,"accept_rate":91,"display_name":"Maikkeyy"},"score":0,"creation_date":1557240383,"post_id":55858623,"comment_id":98694097,"body_markdown":"@Kohei Nozaki, thanks for sharing your solution. It&#39;s really useful for me as a temporary solution. I think, however, that there should be some functionality embedded in the API that only applies it to a certain part of the application.","body":"@Kohei Nozaki, thanks for sharing your solution. It&#39;s really useful for me as a temporary solution. I think, however, that there should be some functionality embedded in the API that only applies it to a certain part of the application."}],"answers":[{"tags":[],"owner":{"account_id":19536166,"reputation":21,"user_id":14294907,"display_name":"Jens Viebig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670484960,"creation_date":1670484960,"answer_id":74726907,"question_id":55858623,"body_markdown":"There is a method &quot;isProtected&quot; in HttpMessageContext which will set to true/false depending on the security-constraints in web.xml\r\n\r\n    public AuthenticationStatus validateRequest(HttpServletRequest request,\r\n       HttpServletResponse response, HttpMessageContext httpMessageContext) throws AuthenticationException {\r\n        if (!httpMessageContext.isProtected()) {\r\n            return httpMessageContext.doNothing();\r\n        }\r\n        ...\r\n\r\nSo the first thing to do is check isProtected and only continue if the resource is supposed to be protected.\r\n\r\n\r\n\r\nNow you can use security-constraint in web.xml as usual:\r\n\r\n    ...\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Restricted&lt;/web-resource-name&gt;\r\n\t\t\t&lt;description&gt;Declarative security tests&lt;/description&gt;\r\n\t\t\t&lt;url-pattern&gt;/protected/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;somegroup&lt;/role-name&gt;\r\n\t\t&lt;/auth-constraint&gt;\r\n\t\t&lt;user-data-constraint&gt;\r\n\t\t\t&lt;description&gt;no description&lt;/description&gt;\r\n\t\t\t&lt;transport-guarantee&gt;NONE&lt;/transport-guarantee&gt;\r\n\t\t&lt;/user-data-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\t\r\n\t&lt;security-role&gt;\r\n\t\t&lt;description&gt;Somegroup&lt;/description&gt;\r\n\t\t&lt;role-name&gt;somegroup&lt;/role-name&gt;\r\n\t&lt;/security-role&gt;\r\n    ...\r\n\r\nNow authentication will only be done for URLs below the /protected/* pattern, anything else will be available unprotected\r\n\r\nWondering why this is not addressed in most of the tutorials/examples out there...\r\n\r\nCredits goes to this link which seems to be the only one describing this (althoug there is a a missing &quot;NOT&quot; in the Listing No 16)\r\nhttps://www.informatik-aktuell.de/entwicklung/programmiersprachen/authentication-mit-java-ee-8.html","title":"How to apply HttpAuthenticationMechanism for only a certain url path?","body":"<p>There is a method &quot;isProtected&quot; in HttpMessageContext which will set to true/false depending on the security-constraints in web.xml</p>\n<pre><code>public AuthenticationStatus validateRequest(HttpServletRequest request,\n   HttpServletResponse response, HttpMessageContext httpMessageContext) throws AuthenticationException {\n    if (!httpMessageContext.isProtected()) {\n        return httpMessageContext.doNothing();\n    }\n    ...\n</code></pre>\n<p>So the first thing to do is check isProtected and only continue if the resource is supposed to be protected.</p>\n<p>Now you can use security-constraint in web.xml as usual:</p>\n<pre><code>...\n&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;Restricted&lt;/web-resource-name&gt;\n        &lt;description&gt;Declarative security tests&lt;/description&gt;\n        &lt;url-pattern&gt;/protected/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;somegroup&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n    &lt;user-data-constraint&gt;\n        &lt;description&gt;no description&lt;/description&gt;\n        &lt;transport-guarantee&gt;NONE&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n\n&lt;security-role&gt;\n    &lt;description&gt;Somegroup&lt;/description&gt;\n    &lt;role-name&gt;somegroup&lt;/role-name&gt;\n&lt;/security-role&gt;\n...\n</code></pre>\n<p>Now authentication will only be done for URLs below the /protected/* pattern, anything else will be available unprotected</p>\n<p>Wondering why this is not addressed in most of the tutorials/examples out there...</p>\n<p>Credits goes to this link which seems to be the only one describing this (althoug there is a a missing &quot;NOT&quot; in the Listing No 16)\n<a href=\"https://www.informatik-aktuell.de/entwicklung/programmiersprachen/authentication-mit-java-ee-8.html\" rel=\"nofollow noreferrer\">https://www.informatik-aktuell.de/entwicklung/programmiersprachen/authentication-mit-java-ee-8.html</a></p>\n"}],"owner":{"account_id":7854725,"reputation":1017,"user_id":5936989,"accept_rate":91,"display_name":"Maikkeyy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670484960,"creation_date":1556232805,"question_id":55858623,"body_markdown":"I&#39;m implementing role-based authorization in my application following the structure of the java ee 8 jwt security sample: https://github.com/javaee-samples/javaee8-samples/tree/master/security/jwt.\r\n\r\n1. I have a back-end application with session-based security and JSF. Authentication and Authorization is managed by a WebFilter:\r\n\r\n        @WebFilter(urlPatterns = &quot;/faces/*&quot;)\r\n        public class AuthorizationFilter implements Filter {\r\n        } \r\n\r\n2. I have a REST api with JWT token-based security where I want to implement HttpAuthenticationMechanism for managing authentication and authorization.\r\n\r\nI want these two different security mechanisms to live next to each other for personal interest and to prove that I can implement both ways. However, the HttpAuthenticationMechanism gets called everytime, also when browsing my JSF application. This leads to triggering of both mechanisms that are conflicting.\r\n\r\nIs it possible to apply the HttpAuthenticationMechanism to only a certain url path? Like the urlPattern that&#39;s used in WebFilter? If so, how does one? \r\n\r\nI want to use the HttpAuthenticationMechanism only to be triggered in my rest application:\r\n\r\n    @ApplicationPath(&quot;rest&quot;)\r\n    public class RestApplication extends Application {\r\n    \r\n        public RestApplication() {\r\n        }\r\n    }\r\n","title":"How to apply HttpAuthenticationMechanism for only a certain url path?","body":"<p>I'm implementing role-based authorization in my application following the structure of the java ee 8 jwt security sample: <a href=\"https://github.com/javaee-samples/javaee8-samples/tree/master/security/jwt\" rel=\"nofollow noreferrer\">https://github.com/javaee-samples/javaee8-samples/tree/master/security/jwt</a>.</p>\n\n<ol>\n<li><p>I have a back-end application with session-based security and JSF. Authentication and Authorization is managed by a WebFilter:</p>\n\n<pre><code>@WebFilter(urlPatterns = \"/faces/*\")\npublic class AuthorizationFilter implements Filter {\n} \n</code></pre></li>\n<li><p>I have a REST api with JWT token-based security where I want to implement HttpAuthenticationMechanism for managing authentication and authorization.</p></li>\n</ol>\n\n<p>I want these two different security mechanisms to live next to each other for personal interest and to prove that I can implement both ways. However, the HttpAuthenticationMechanism gets called everytime, also when browsing my JSF application. This leads to triggering of both mechanisms that are conflicting.</p>\n\n<p>Is it possible to apply the HttpAuthenticationMechanism to only a certain url path? Like the urlPattern that's used in WebFilter? If so, how does one? </p>\n\n<p>I want to use the HttpAuthenticationMechanism only to be triggered in my rest application:</p>\n\n<pre><code>@ApplicationPath(\"rest\")\npublic class RestApplication extends Application {\n\n    public RestApplication() {\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1669492064,"post_id":74583232,"comment_id":131654315,"body_markdown":"You might have been confused due to hardware memory model acting to strengthen the JVM&#39;s, as you only specify the weakest allowed but the compiler or hardware may still perform stronger instructions. As x86 is total-store-order (TSO), that can mask bugs that weaker models like ARM&#39;s can expose. This makes it hard to show the differences between modes like plain vs opaque in practice, even though they have important distinctions for theoretical correctness.","body":"You might have been confused due to hardware memory model acting to strengthen the JVM&#39;s, as you only specify the weakest allowed but the compiler or hardware may still perform stronger instructions. As x86 is total-store-order (TSO), that can mask bugs that weaker models like ARM&#39;s can expose. This makes it hard to show the differences between modes like plain vs opaque in practice, even though they have important distinctions for theoretical correctness."},{"owner":{"account_id":1699322,"reputation":217,"user_id":1559867,"accept_rate":75,"display_name":"Dan"},"score":0,"creation_date":1669538487,"post_id":74583232,"comment_id":131660193,"body_markdown":"@BenManes Agree with you on the lack of processor issues, but was still expecting some compiler issues to surface. Will try some code examples on an ARM processor and see how it goes.","body":"@BenManes Agree with you on the lack of processor issues, but was still expecting some compiler issues to surface. Will try some code examples on an ARM processor and see how it goes."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1669581426,"post_id":74583232,"comment_id":131668726,"body_markdown":"A nice [example](https://www.youtube.com/watch?v=EFkpmFt61Jo) where the developer did not understand the hardware, tried to be smart, and was surprised when their code failed on ARM. They assumed a failed CAS created a memory barrier because of TSO and blamed the docs for their ignorance. Interestingly it is hard to find the JVM using weaker modes as experts make mistakes too (e.g. I rediscovered this [bug](https://markmail.org/message/yvnrcy6jx777rdhr) when investigating an [issue](https://github.com/ben-manes/caffeine/issues/77)). I have not observed cost diff between weaker modes; just risk","body":"A nice <a href=\"https://www.youtube.com/watch?v=EFkpmFt61Jo\" rel=\"nofollow noreferrer\">example</a> where the developer did not understand the hardware, tried to be smart, and was surprised when their code failed on ARM. They assumed a failed CAS created a memory barrier because of TSO and blamed the docs for their ignorance. Interestingly it is hard to find the JVM using weaker modes as experts make mistakes too (e.g. I rediscovered this <a href=\"https://markmail.org/message/yvnrcy6jx777rdhr\" rel=\"nofollow noreferrer\">bug</a> when investigating an <a href=\"https://github.com/ben-manes/caffeine/issues/77\" rel=\"nofollow noreferrer\">issue</a>). I have not observed cost diff between weaker modes; just risk"},{"owner":{"account_id":1699322,"reputation":217,"user_id":1559867,"accept_rate":75,"display_name":"Dan"},"score":1,"creation_date":1669883508,"post_id":74583232,"comment_id":131745413,"body_markdown":"Thanks for your insight ! Really interesting example, didn&#39;t know that about CAS. I managed to get some failures on an ARM processor (Trying out some things on a Graviton instance) - will try to document these scenarios :)","body":"Thanks for your insight ! Really interesting example, didn&#39;t know that about CAS. I managed to get some failures on an ARM processor (Trying out some things on a Graviton instance) - will try to document these scenarios :)"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1669949689,"post_id":74583232,"comment_id":131764594,"body_markdown":"If you get neat insights then please share them with me too :)","body":"If you get neat insights then please share them with me too :)"}],"answers":[{"tags":[],"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670484603,"creation_date":1670484603,"answer_id":74726836,"question_id":74583232,"body_markdown":"There are a couple of amazing writings from Aleksey Shipil&#235;v ([https://shipilev.net][1]) regarding the Java memory model:\r\n\r\n - [Close Encounters of The Java Memory Model Kind][2]\r\n - [Java Memory Model Pragmatics (transcript)][3]\r\n\r\nAlso I can recommend taking a look at [jcstress][4] (Java Concurrency Stress) library for experimenting with Java Concurrency. A good start would be the examples in the same git [repository][5].\r\n\r\n\r\n  [1]: https://shipilev.net/\r\n  [2]: https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/\r\n  [3]: https://shipilev.net/blog/2014/jmm-pragmatics/\r\n  [4]: https://github.com/openjdk/jcstress\r\n  [5]: https://github.com/openjdk/jcstress/tree/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples","title":"Java varhandle/ memory modes","body":"<p>There are a couple of amazing writings from Aleksey Shipilëv (<a href=\"https://shipilev.net/\" rel=\"nofollow noreferrer\">https://shipilev.net</a>) regarding the Java memory model:</p>\n<ul>\n<li><a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/\" rel=\"nofollow noreferrer\">Close Encounters of The Java Memory Model Kind</a></li>\n<li><a href=\"https://shipilev.net/blog/2014/jmm-pragmatics/\" rel=\"nofollow noreferrer\">Java Memory Model Pragmatics (transcript)</a></li>\n</ul>\n<p>Also I can recommend taking a look at <a href=\"https://github.com/openjdk/jcstress\" rel=\"nofollow noreferrer\">jcstress</a> (Java Concurrency Stress) library for experimenting with Java Concurrency. A good start would be the examples in the same git <a href=\"https://github.com/openjdk/jcstress/tree/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}],"owner":{"account_id":1699322,"reputation":217,"user_id":1559867,"accept_rate":75,"display_name":"Dan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670484603,"creation_date":1669474894,"question_id":74583232,"body_markdown":"I understood the theory behind varhandles and the different memory modes, but finding it hard to write examples/ small programs that demonstrate how different modes behave. \r\n\r\nAre you aware of any documentation, public git repos or other resources that might help in this?\r\n","title":"Java varhandle/ memory modes","body":"<p>I understood the theory behind varhandles and the different memory modes, but finding it hard to write examples/ small programs that demonstrate how different modes behave.</p>\n<p>Are you aware of any documentation, public git repos or other resources that might help in this?</p>\n"},{"tags":["java","android","firebase","gradle"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670484175,"creation_date":1670484175,"answer_id":74726767,"question_id":74720045,"body_markdown":"Your build.gradle (project) file should look like this:\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.14&#39;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &quot;com.android.application&quot; version &quot;7.3.1&quot; apply false\r\n    id &quot;com.android.library&quot; version &quot;7.3.1&quot; apply false\r\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nAll `buildscript {}` blocks must appear before any `plugins {}` blocks in the script.","title":"Problem Occurred while adding Classpath dependencies of Firebase","body":"<p>Your build.gradle (project) file should look like this:</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.1'\n        classpath 'com.google.gms:google-services:4.3.14'\n    }\n}\n\nplugins {\n    id &quot;com.android.application&quot; version &quot;7.3.1&quot; apply false\n    id &quot;com.android.library&quot; version &quot;7.3.1&quot; apply false\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>All <code>buildscript {}</code> blocks must appear before any <code>plugins {}</code> blocks in the script.</p>\n"}],"owner":{"account_id":23147900,"reputation":41,"user_id":17250406,"display_name":"Samprit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670484391,"creation_date":1670431117,"question_id":74720045,"body_markdown":"Problem Occurred while adding Classpath dependencies of Firebase\r\n\r\nThis is my Gradle.project file\r\n\r\n    plugins {\r\n    id &quot;com.android.application&quot; version &quot;7.3.1&quot; apply false\r\n    id &quot;com.android.library&quot; version &quot;7.3.1&quot; apply false\r\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\r\n    }\r\n    \r\n    dependencies {\r\n        // Add the dependency for the Google services Gradle plugin\r\n        classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.14&#39;\r\n    }\r\n\r\nAnd this my Gradle Module file\r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    android {\r\n        namespace &#39;com.example.anonymous&#39;\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.anonymous&quot;\r\n            minSdk 19\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n        implementation platform(&#39;com.google.firebase:firebase-bom:31.1.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    \r\n        implementation &#39;com.airbnb.android:lottie:5.2.0&#39;\r\n        implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    }\r\n\r\nWhile Syncing the Gradle I got this error\r\n\r\n&gt; Could not find method classpath() for arguments [com.android.tools.build:gradle:7.3.1] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n","title":"Problem Occurred while adding Classpath dependencies of Firebase","body":"<p>Problem Occurred while adding Classpath dependencies of Firebase</p>\n<p>This is my Gradle.project file</p>\n<pre><code>plugins {\nid &quot;com.android.application&quot; version &quot;7.3.1&quot; apply false\nid &quot;com.android.library&quot; version &quot;7.3.1&quot; apply false\nid &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\n}\n\ndependencies {\n    // Add the dependency for the Google services Gradle plugin\n    classpath 'com.android.tools.build:gradle:7.3.1'\n    classpath 'com.google.gms:google-services:4.3.14'\n}\n</code></pre>\n<p>And this my Gradle Module file</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\napply plugin: 'com.google.gms.google-services'\nandroid {\n    namespace 'com.example.anonymous'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.anonymous&quot;\n        minSdk 19\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation platform('com.google.firebase:firebase-bom:31.1.0')\n    implementation 'com.google.firebase:firebase-analytics'\n\n    implementation 'com.airbnb.android:lottie:5.2.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n}\n</code></pre>\n<p>While Syncing the Gradle I got this error</p>\n<blockquote>\n<p>Could not find method classpath() for arguments [com.android.tools.build:gradle:7.3.1] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n</blockquote>\n"},{"tags":["java","android","sqlite","sql-update","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547814661,"creation_date":1547814007,"answer_id":54253920,"question_id":54252280,"body_markdown":"Pass the variables like this:\r\n\r\n    db.execSQL(&quot;UPDATE deci set dp = &quot; + dep + &quot; WHERE _id = &quot; + id );\r\nIn your code I see commented statements that use `ContentValues` &lt;br/&gt;\r\nwhich is always a better and safer way: \r\n\r\n    ContentValues cv = new ContentValues();\r\n    cv.put(&quot;dp&quot;, dep); \r\n    db.update(deci , cv, &quot;_id = ?&quot;, new String[]{id});","title":"Use variable in update execSQL statement in android studio","body":"<p>Pass the variables like this:</p>\n\n<pre><code>db.execSQL(\"UPDATE deci set dp = \" + dep + \" WHERE _id = \" + id );\n</code></pre>\n\n<p>In your code I see commented statements that use <code>ContentValues</code> <br/>\nwhich is always a better and safer way: </p>\n\n<pre><code>ContentValues cv = new ContentValues();\ncv.put(\"dp\", dep); \ndb.update(deci , cv, \"_id = ?\", new String[]{id});\n</code></pre>\n"}],"owner":{"account_id":15126630,"reputation":17,"user_id":10915750,"display_name":"Sajith M U"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670484103,"creation_date":1547808180,"question_id":54252280,"body_markdown":"I want to update the sqlite database table with a function as follows\r\n\r\n\r\n`execSQL` works when I use 1 directly but not work when I use the variable dep\r\n\r\n    public void update(long id,int dep) {\r\n        Log.i(&quot;ee&quot;,&quot;havu entered in update&quot;);\r\n\r\n        db.beginTransaction();\r\n        db.execSQL(&quot;UPDATE deci set dp = dep WHERE _id = 1&quot;);\r\n        //db.execSQL(&quot;UPDATE deci set dp = 1 WHERE _id = 1&quot;);\r\n        db.setTransactionSuccessful();\r\n        db.endTransaction();\r\n        db.close();\r\n        /*ContentValues contentValues = new ContentValues();\r\n        contentValues.put(dp, dep);\r\n        int i = db.update(deci, contentValues );*/\r\n        return ;\r\n    }\r\n\r\n\r\n","title":"Use variable in update execSQL statement in android studio","body":"<p>I want to update the sqlite database table with a function as follows</p>\n\n<p><code>execSQL</code> works when I use 1 directly but not work when I use the variable dep</p>\n\n<pre><code>public void update(long id,int dep) {\n    Log.i(\"ee\",\"havu entered in update\");\n\n    db.beginTransaction();\n    db.execSQL(\"UPDATE deci set dp = dep WHERE _id = 1\");\n    //db.execSQL(\"UPDATE deci set dp = 1 WHERE _id = 1\");\n    db.setTransactionSuccessful();\n    db.endTransaction();\n    db.close();\n    /*ContentValues contentValues = new ContentValues();\n    contentValues.put(dp, dep);\n    int i = db.update(deci, contentValues );*/\n    return ;\n}\n</code></pre>\n"},{"tags":["java","windows","jakarta-ee","jboss"],"answers":[{"tags":[],"owner":{"account_id":617362,"reputation":633,"user_id":345070,"display_name":"jeleb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580808670,"creation_date":1580808670,"answer_id":60054341,"question_id":60006282,"body_markdown":"I solved the problem. It was coming from an static initilizer from the CryptoJ librairy, which whas trying to open another RSA lib (jcmFIPS.jar) manually. It didn&#39;t work because it was using a JBoss VFS URL instead of a correct path.\r\n\r\nThe solution was to install 3 librairies as a JBoss module : certjFIPS.jar, cryptojFIPS.jar and jcmFIPS.jar","title":"deploying on JBoss with jcmFIPS jar","body":"<p>I solved the problem. It was coming from an static initilizer from the CryptoJ librairy, which whas trying to open another RSA lib (jcmFIPS.jar) manually. It didn't work because it was using a JBoss VFS URL instead of a correct path.</p>\n\n<p>The solution was to install 3 librairies as a JBoss module : certjFIPS.jar, cryptojFIPS.jar and jcmFIPS.jar</p>\n"}],"owner":{"account_id":617362,"reputation":633,"user_id":345070,"display_name":"jeleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60054341,"answer_count":1,"score":1,"last_activity_date":1670483442,"creation_date":1580482659,"question_id":60006282,"body_markdown":"I am trying to deploy a war using some crystal objects jar. But when I deploy the war in standalone/deployments, I get that exception :\r\n\r\n    2020-01-31 15:45:07,171 ERROR [stderr] (Thread-98) \tat com.rsa.jsafe.CryptoJ.isFIPS140Compliant(Unknown Source)\r\n    2020-01-31 15:45:07,171 ERROR [stderr] (Thread-98) \tat com.businessobjects.bcm.internal.BcmRsaLib.initialize(BcmRsaLib.java:214)\r\n    2020-01-31 15:45:07,172 ERROR [stderr] (Thread-98) \tat com.businessobjects.bcm.internal.BcmRsaLib.&lt;clinit&gt;(BcmRsaLib.java:289)\r\n    2020-01-31 15:45:07,172 ERROR [stderr] (Thread-98) \tat com.businessobjects.bcm.BCM.&lt;clinit&gt;(BCM.java:1158)\r\n    2020-01-31 15:45:07,173 ERROR [stderr] (Thread-98) \tat com.crystaldecisions.enterprise.ocaframework.BCMInitializer.run(BCMInitializer.java:29)\r\n    2020-01-31 15:45:07,175 ERROR [stderr] (Thread-98) \tat java.lang.Thread.run(Thread.java:748)\r\n    2020-01-31 15:45:07,175 ERROR [stderr] (Thread-98) Caused by: java.lang.SecurityException: Required jcm jar file not found.\r\n    2020-01-31 15:45:07,176 ERROR [stderr] (Thread-98) \tat com.rsa.cryptoj.o.cq.a(Unknown Source)\r\n    2020-01-31 15:45:07,176 ERROR [stderr] (Thread-98) \tat com.rsa.cryptoj.o.co.&lt;clinit&gt;(Unknown Source)\r\n    2020-01-31 15:45:07,177 ERROR [stderr] (Thread-98) \t... 6 more\r\n\r\nNot taking into account that this jar is in my war, in WEB_INF/lib and in the classpath.\r\nPutting the jar in the expected directory kind of solves the problems, but would not be acceptable in production, of course.\r\n\r\nThat seems very weird, does anyone have an explanation for this behavior ? \r\n\r\n","title":"deploying on JBoss with jcmFIPS jar","body":"<p>I am trying to deploy a war using some crystal objects jar. But when I deploy the war in standalone/deployments, I get that exception :</p>\n\n<pre><code>2020-01-31 15:45:07,171 ERROR [stderr] (Thread-98)  at com.rsa.jsafe.CryptoJ.isFIPS140Compliant(Unknown Source)\n2020-01-31 15:45:07,171 ERROR [stderr] (Thread-98)  at com.businessobjects.bcm.internal.BcmRsaLib.initialize(BcmRsaLib.java:214)\n2020-01-31 15:45:07,172 ERROR [stderr] (Thread-98)  at com.businessobjects.bcm.internal.BcmRsaLib.&lt;clinit&gt;(BcmRsaLib.java:289)\n2020-01-31 15:45:07,172 ERROR [stderr] (Thread-98)  at com.businessobjects.bcm.BCM.&lt;clinit&gt;(BCM.java:1158)\n2020-01-31 15:45:07,173 ERROR [stderr] (Thread-98)  at com.crystaldecisions.enterprise.ocaframework.BCMInitializer.run(BCMInitializer.java:29)\n2020-01-31 15:45:07,175 ERROR [stderr] (Thread-98)  at java.lang.Thread.run(Thread.java:748)\n2020-01-31 15:45:07,175 ERROR [stderr] (Thread-98) Caused by: java.lang.SecurityException: Required jcm jar file not found.\n2020-01-31 15:45:07,176 ERROR [stderr] (Thread-98)  at com.rsa.cryptoj.o.cq.a(Unknown Source)\n2020-01-31 15:45:07,176 ERROR [stderr] (Thread-98)  at com.rsa.cryptoj.o.co.&lt;clinit&gt;(Unknown Source)\n2020-01-31 15:45:07,177 ERROR [stderr] (Thread-98)  ... 6 more\n</code></pre>\n\n<p>Not taking into account that this jar is in my war, in WEB_INF/lib and in the classpath.\nPutting the jar in the expected directory kind of solves the problems, but would not be acceptable in production, of course.</p>\n\n<p>That seems very weird, does anyone have an explanation for this behavior ? </p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":9271191,"reputation":897,"user_id":6885097,"accept_rate":95,"display_name":"Torewin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1529188401,"creation_date":1529188401,"answer_id":50892289,"question_id":50266482,"body_markdown":"After a long and hard time I managed to figure it out.\r\n\r\n\r\nVery simple for anyone else struggling:\r\n\r\nYou have two separate adapters (1 for your header + recyclerItemView) and one for your items.\r\n\r\nIn your header one (calling it section) you an interface that will watch for onSwipe and OnDrag events being called from your item&#39;s adapter.\r\n\r\nI will post full code if people are interested. I think this approach is much better than having 1 list and some delimiter to determine which viewType to use.","title":"RecyclerView inside RecyclerView swipe to delete on child","body":"<p>After a long and hard time I managed to figure it out.</p>\n\n<p>Very simple for anyone else struggling:</p>\n\n<p>You have two separate adapters (1 for your header + recyclerItemView) and one for your items.</p>\n\n<p>In your header one (calling it section) you an interface that will watch for onSwipe and OnDrag events being called from your item's adapter.</p>\n\n<p>I will post full code if people are interested. I think this approach is much better than having 1 list and some delimiter to determine which viewType to use.</p>\n"}],"owner":{"account_id":9271191,"reputation":897,"user_id":6885097,"accept_rate":95,"display_name":"Torewin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50892289,"answer_count":1,"score":0,"last_activity_date":1670483086,"creation_date":1525932188,"question_id":50266482,"body_markdown":"I have a really basic concept and it&#39;s probably a really easy solution that I am missing.\r\n\r\nI basically have a `recyclerView` inside a `recyclerView`. It works perfectly and everything is smooth.\r\n\r\nI recently decided to add a swipe to delete to the `recyclerView`s. The parent one (the outer most) works perfectly. However, when I try to do the exact same thing inside the parent `recyclerView&#39;s` (for the child) adapter it returns the wrong adapter (it returns the parent&#39;s adapter). \r\n\r\nI think this is happening because the swipe is being detected on the parent before the child (since technically the child is part of the parent), is there a way to disable the swipe detection for the parent `recyclerView` if it&#39;s touching a child `recyclerView`? For example, in the parent I have a textView acting as a header and then the `recyclerView` right below it. Is it possible to only have the header (the `textView` act as the swipe and then the rest will go through to the child?\r\n\r\nI followed this tutorial (https://www.androidhive.info/2017/09/android-recyclerview-swipe-delete-undo-using-itemtouchhelper/) subtracting the JSON and just hard coding the data for simplicity and adding a `recyclerView` inside the `adapter` and having another adapter just for a `textView` (content to make up the child&#39;s cells).\r\n\r\nA very bizarre thing happens - when I disable the parent&#39;s swipe to delete entirely, only 1 random section works for the child. I could not find a pattern on why.\r\n\r\n\r\nBasically to recap when I am calling my `ItemTouchHelper` class&#39;s methods, the `viewHolder` is always the parent&#39;s adapter instead of the child because the swipe is being detected on the entire parent instead of moving through to the child&#39;s `recyclerView`; is there a way to prevent or force it to go through to the child while keeping all other elements (like a `textView` header) on the parent?","title":"RecyclerView inside RecyclerView swipe to delete on child","body":"<p>I have a really basic concept and it's probably a really easy solution that I am missing.</p>\n\n<p>I basically have a <code>recyclerView</code> inside a <code>recyclerView</code>. It works perfectly and everything is smooth.</p>\n\n<p>I recently decided to add a swipe to delete to the <code>recyclerView</code>s. The parent one (the outer most) works perfectly. However, when I try to do the exact same thing inside the parent <code>recyclerView's</code> (for the child) adapter it returns the wrong adapter (it returns the parent's adapter). </p>\n\n<p>I think this is happening because the swipe is being detected on the parent before the child (since technically the child is part of the parent), is there a way to disable the swipe detection for the parent <code>recyclerView</code> if it's touching a child <code>recyclerView</code>? For example, in the parent I have a textView acting as a header and then the <code>recyclerView</code> right below it. Is it possible to only have the header (the <code>textView</code> act as the swipe and then the rest will go through to the child?</p>\n\n<p>I followed this tutorial (<a href=\"https://www.androidhive.info/2017/09/android-recyclerview-swipe-delete-undo-using-itemtouchhelper/\" rel=\"nofollow noreferrer\">https://www.androidhive.info/2017/09/android-recyclerview-swipe-delete-undo-using-itemtouchhelper/</a>) subtracting the JSON and just hard coding the data for simplicity and adding a <code>recyclerView</code> inside the <code>adapter</code> and having another adapter just for a <code>textView</code> (content to make up the child's cells).</p>\n\n<p>A very bizarre thing happens - when I disable the parent's swipe to delete entirely, only 1 random section works for the child. I could not find a pattern on why.</p>\n\n<p>Basically to recap when I am calling my <code>ItemTouchHelper</code> class's methods, the <code>viewHolder</code> is always the parent's adapter instead of the child because the swipe is being detected on the entire parent instead of moving through to the child's <code>recyclerView</code>; is there a way to prevent or force it to go through to the child while keeping all other elements (like a <code>textView</code> header) on the parent?</p>\n"},{"tags":["java","environment-variables","allure"],"answers":[{"tags":[],"owner":{"account_id":25558121,"reputation":1,"user_id":19341221,"display_name":"Meng Xiangrui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670482965,"creation_date":1670482965,"answer_id":74726603,"question_id":74358877,"body_markdown":"First, you should use `&quot;\\\\allure-results&quot;` instead of `/allure-results`\r\nSecond, you need to check your `allure-results` folder to see if the `environment.xml` file has generated. If not, copy the `environment.xml` file from `target/allure-results/` to `allure-results`\r\n```Java\r\nFile envTarget = new File(&quot;allure-results/environment.xml&quot;);\r\nFile envSrc = new File(&quot;target/allure-results/environment.xml&quot;);\r\nFileUtils.copyFile(envSrc, envTarget);\r\n\r\n```\r\nHope can help. Or you have already solved the issue. Hope you can share how you did~","title":"how to write Environment Values to Allure Report in Java","body":"<p>First, you should use <code>&quot;\\\\allure-results&quot;</code> instead of <code>/allure-results</code>\nSecond, you need to check your <code>allure-results</code> folder to see if the <code>environment.xml</code> file has generated. If not, copy the <code>environment.xml</code> file from <code>target/allure-results/</code> to <code>allure-results</code></p>\n<pre><code>File envTarget = new File(&quot;allure-results/environment.xml&quot;);\nFile envSrc = new File(&quot;target/allure-results/environment.xml&quot;);\nFileUtils.copyFile(envSrc, envTarget);\n\n</code></pre>\n<p>Hope can help. Or you have already solved the issue. Hope you can share how you did~</p>\n"}],"owner":{"account_id":26865446,"reputation":1,"user_id":20448291,"display_name":"Shilpa Shree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670482965,"creation_date":1667901855,"question_id":74358877,"body_markdown":"I tried using below code snippet but it is throwing an error while executing TCs. could any one please help me out.\r\n```\r\nimport static com.github.automatedowl.tools.AllureEnvironmentWriter.allureEnvironmentWriter;public class SomeTests {    @BeforeSuite\r\n    void setAllureEnvironment() {\r\n        allureEnvironmentWriter(\r\n                ImmutableMap.&lt;String, String&gt;builder()\r\n                        .put(&quot;Browser&quot;, &quot;Chrome&quot;)\r\n                        .put(&quot;Browser.Version&quot;, &quot;70.0.3538.77&quot;)\r\n                        .put(&quot;URL&quot;, &quot;http://testjs.site88.net&quot;)\r\n                        .build(), System.getProperty(&quot;user.dir&quot;)\r\n                        + &quot;/allure-results/&quot;);\r\n    }\r\n```\r\nImported maven dependencies\r\n```\r\n &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n[![enter image description here](https://i.stack.imgur.com/tAI6a.png)](https://i.stack.imgur.com/tAI6a.png)\r\n\r\nI am using playwright-java framework.\r\nI used this library &quot;allure-environment-writer&quot;(https://github.com/AutomatedOwl/allure-environment-writer#maven-dependencies) but getting some error.\r\n\r\nI want to pass Environment Values to allure report like:Browser Name, Environment name (alpha or beta). currently it is showing blank parameter.\r\n\r\n\r\n[![Allure report](https://i.stack.imgur.com/VbFLA.png)](https://i.stack.imgur.com/VbFLA.png)","title":"how to write Environment Values to Allure Report in Java","body":"<p>I tried using below code snippet but it is throwing an error while executing TCs. could any one please help me out.</p>\n<pre><code>import static com.github.automatedowl.tools.AllureEnvironmentWriter.allureEnvironmentWriter;public class SomeTests {    @BeforeSuite\n    void setAllureEnvironment() {\n        allureEnvironmentWriter(\n                ImmutableMap.&lt;String, String&gt;builder()\n                        .put(&quot;Browser&quot;, &quot;Chrome&quot;)\n                        .put(&quot;Browser.Version&quot;, &quot;70.0.3538.77&quot;)\n                        .put(&quot;URL&quot;, &quot;http://testjs.site88.net&quot;)\n                        .build(), System.getProperty(&quot;user.dir&quot;)\n                        + &quot;/allure-results/&quot;);\n    }\n</code></pre>\n<p>Imported maven dependencies</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tAI6a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tAI6a.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using playwright-java framework.\nI used this library &quot;allure-environment-writer&quot;(<a href=\"https://github.com/AutomatedOwl/allure-environment-writer#maven-dependencies\" rel=\"nofollow noreferrer\">https://github.com/AutomatedOwl/allure-environment-writer#maven-dependencies</a>) but getting some error.</p>\n<p>I want to pass Environment Values to allure report like:Browser Name, Environment name (alpha or beta). currently it is showing blank parameter.</p>\n<p><a href=\"https://i.stack.imgur.com/VbFLA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VbFLA.png\" alt=\"Allure report\" /></a></p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670482966,"post_id":74726583,"comment_id":131886761,"body_markdown":"actually, you do that, but you never change the value of leftAngleBracketLocation. (same for right) in your while loop&#181;","body":"actually, you do that, but you never change the value of leftAngleBracketLocation. (same for right) in your while loop&#181;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670483146,"post_id":74726583,"comment_id":131886799,"body_markdown":"You don&#39;t use `leftAngleIndex` or `rightAngleIndex` at all in your loop.","body":"You don&#39;t use <code>leftAngleIndex</code> or <code>rightAngleIndex</code> at all in your loop."},{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":0,"creation_date":1670483218,"post_id":74726583,"comment_id":131886813,"body_markdown":"With infinite while loops you always have to look for the break condition. In your case you are checking for the `leftAngleBracketLocation` but this is never re-assigned in your loop. This also looks like a perfect case for using a debugger, then you&#39;d see directly the values and what your code is doing.","body":"With infinite while loops you always have to look for the break condition. In your case you are checking for the <code>leftAngleBracketLocation</code> but this is never re-assigned in your loop. This also looks like a perfect case for using a debugger, then you&#39;d see directly the values and what your code is doing."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670483339,"post_id":74726583,"comment_id":131886841,"body_markdown":"Are you expecting values of local variables to persist between calls to `buildPhrase`?","body":"Are you expecting values of local variables to persist between calls to <code>buildPhrase</code>?"},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1670483894,"post_id":74726583,"comment_id":131886951,"body_markdown":"@Stultuske but I shouldn&#39;t need to change the value of &quot;leftAngleBracketLocation&quot; or &quot;rightAngleBracketLocation&quot; should I? Since they are doing the same thing every time they are called. The only thing that needs to change is the value of &quot;leftAngleIndex&quot; and the same for the right correct because that is the index which we start our search for the angle brackets from.","body":"@Stultuske but I shouldn&#39;t need to change the value of &quot;leftAngleBracketLocation&quot; or &quot;rightAngleBracketLocation&quot; should I? Since they are doing the same thing every time they are called. The only thing that needs to change is the value of &quot;leftAngleIndex&quot; and the same for the right correct because that is the index which we start our search for the angle brackets from."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670483958,"post_id":74726583,"comment_id":131886964,"body_markdown":"@Alex of course you should! As long as that value doesn&#39;t get updated, you&#39;ll never be able to get out of that loop.","body":"@Alex of course you should! As long as that value doesn&#39;t get updated, you&#39;ll never be able to get out of that loop."}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670482843,"creation_date":1670482843,"question_id":74726583,"body_markdown":"I am having an issue where I want to run a while loop that will find all the angle brackets an a given line of text but for some reason, the while loop will loop infinitely and the conditions to break it will never be met. The reason for this is because in my code I have an int variable called &quot;leftAngleIndex&quot; which is initially set to 0 I also have another variable called &quot;rightAngleIndex&quot; which is also initially set to 0. After these two variables I have two more variables called &quot;leftAngleBracketLocation&quot; and &quot;rightAngleBracketLocation&quot; these variables both find a &quot;&lt;&quot; or a &quot;&gt;&quot; starting at the index of &quot;leftAngleIndex&quot; or &quot;rightAngleIndex&quot; so 0 in this case. \r\n\r\nNow the issue is when we get to the end of the while loop I want to set values of &quot;leftAngleIndex&quot; equal to &quot;leftAngleBracketLocation&quot; and the same thing for &quot;rightAngleIndex&quot;. By doing this we will be able to find all of the &quot;&lt;&quot; and &quot;&gt;&quot; in our line of text. And once there is no more &quot;&lt;&quot; or &quot;&gt;&quot; then are loop should break because the value of &quot;leftAngleBracketLocation&quot; will be set to -1. \r\n\r\nThis is not the case however and for some reason I can not set &quot;rightAngleIndex&quot; equal to rightAngleBracketLocation and the same thing for &quot;leftAngleIndex&quot; I can not set it equal to &quot;leftAngleBracketLocation&quot;. And that is why I am here I am not sure why I am not able to set these values.\r\n\r\n\t/**\r\n\t * \r\n\t * This method takes in our final phrase and replaces Non-Terminals until all the Non-Terminals have been replaced\r\n\t * \r\n\t * @param phrase\r\n\t * @return final phrase\r\n\t */\r\n\tprivate static String buildPhrase(String phrase) {\r\n\t\t// Create a string builder for the final phrase and for any Non-Terminals we find.\r\n\t\tStringBuilder finalPhrase = new StringBuilder();\r\n\t\tStringBuilder NonTerminal = new StringBuilder();\r\n\r\n\t\tint start = 0;\r\n\t\tint leftAngleIndex = 0;\r\n\t\tint rightAngleIndex = 0;\r\n\t\tint end = phrase.length();\r\n\r\n\t\t// Will find index of the current &quot;&lt;&quot; bracket.\r\n\t\tint leftAngleBracketLocation = phrase.indexOf(&quot;&lt;&quot;, leftAngleIndex);\r\n\r\n\t\t// Will find the index of the current &quot;&gt;&quot; bracket.\r\n\t\tint rightAngleBracketLocation = phrase.indexOf(&quot;&gt;&quot;, rightAngleIndex);\r\n\r\n\t\t// Will find all of the Non-Terminal values in our phrase and then replace them with terminal values.\r\n\t\twhile (leftAngleBracketLocation != -1) {\r\n\t\t\t// This will append everything up to the first Non-Terminal.\r\n\t\t\tfinalPhrase.append(phrase, start, leftAngleBracketLocation);\r\n\r\n\t\t\t// This will append the non-terminal and tell us what non-terminal we have so we can find the coresponding terminal value for it.\r\n\t\t\tNonTerminal.append(phrase, leftAngleBracketLocation, rightAngleBracketLocation);\r\n\r\n\t\t\t\r\n\t\t\t// This will allow us to keep finding non-terminals unitl there is no more non-terminals.\r\n\t\t\tleftAngleIndex = leftAngleBracketLocation;\r\n\t\t\trightAngleIndex = rightAngleBracketLocation;\r\n\t\t}\r\n\r\n\t\t// This will append the rest of our phrase.\r\n\t\tfinalPhrase.append(phrase, rightAngleBracketLocation, end);\r\n\r\n\t\treturn finalPhrase.toString();\r\n\t}","title":"Problem trying to set int variable outside a while loop from inside a while loop","body":"<p>I am having an issue where I want to run a while loop that will find all the angle brackets an a given line of text but for some reason, the while loop will loop infinitely and the conditions to break it will never be met. The reason for this is because in my code I have an int variable called &quot;leftAngleIndex&quot; which is initially set to 0 I also have another variable called &quot;rightAngleIndex&quot; which is also initially set to 0. After these two variables I have two more variables called &quot;leftAngleBracketLocation&quot; and &quot;rightAngleBracketLocation&quot; these variables both find a &quot;&lt;&quot; or a &quot;&gt;&quot; starting at the index of &quot;leftAngleIndex&quot; or &quot;rightAngleIndex&quot; so 0 in this case.</p>\n<p>Now the issue is when we get to the end of the while loop I want to set values of &quot;leftAngleIndex&quot; equal to &quot;leftAngleBracketLocation&quot; and the same thing for &quot;rightAngleIndex&quot;. By doing this we will be able to find all of the &quot;&lt;&quot; and &quot;&gt;&quot; in our line of text. And once there is no more &quot;&lt;&quot; or &quot;&gt;&quot; then are loop should break because the value of &quot;leftAngleBracketLocation&quot; will be set to -1.</p>\n<p>This is not the case however and for some reason I can not set &quot;rightAngleIndex&quot; equal to rightAngleBracketLocation and the same thing for &quot;leftAngleIndex&quot; I can not set it equal to &quot;leftAngleBracketLocation&quot;. And that is why I am here I am not sure why I am not able to set these values.</p>\n<pre><code>/**\n * \n * This method takes in our final phrase and replaces Non-Terminals until all the Non-Terminals have been replaced\n * \n * @param phrase\n * @return final phrase\n */\nprivate static String buildPhrase(String phrase) {\n    // Create a string builder for the final phrase and for any Non-Terminals we find.\n    StringBuilder finalPhrase = new StringBuilder();\n    StringBuilder NonTerminal = new StringBuilder();\n\n    int start = 0;\n    int leftAngleIndex = 0;\n    int rightAngleIndex = 0;\n    int end = phrase.length();\n\n    // Will find index of the current &quot;&lt;&quot; bracket.\n    int leftAngleBracketLocation = phrase.indexOf(&quot;&lt;&quot;, leftAngleIndex);\n\n    // Will find the index of the current &quot;&gt;&quot; bracket.\n    int rightAngleBracketLocation = phrase.indexOf(&quot;&gt;&quot;, rightAngleIndex);\n\n    // Will find all of the Non-Terminal values in our phrase and then replace them with terminal values.\n    while (leftAngleBracketLocation != -1) {\n        // This will append everything up to the first Non-Terminal.\n        finalPhrase.append(phrase, start, leftAngleBracketLocation);\n\n        // This will append the non-terminal and tell us what non-terminal we have so we can find the coresponding terminal value for it.\n        NonTerminal.append(phrase, leftAngleBracketLocation, rightAngleBracketLocation);\n\n        \n        // This will allow us to keep finding non-terminals unitl there is no more non-terminals.\n        leftAngleIndex = leftAngleBracketLocation;\n        rightAngleIndex = rightAngleBracketLocation;\n    }\n\n    // This will append the rest of our phrase.\n    finalPhrase.append(phrase, rightAngleBracketLocation, end);\n\n    return finalPhrase.toString();\n}\n</code></pre>\n"},{"tags":["java","lombok","java-11","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1545302265,"post_id":53866929,"comment_id":94581114,"body_markdown":"*got compile errors* ... please share the errors as well.","body":"<i>got compile errors</i> ... please share the errors as well."},{"owner":{"account_id":2670217,"reputation":5815,"user_id":2307786,"accept_rate":47,"display_name":"Tonyukuk"},"score":0,"creation_date":1545302644,"post_id":53866929,"comment_id":94581299,"body_markdown":"it says unable to find getStoreName() where storeName was decleared  as a global variable in the class with @Data Lombok annation above the class","body":"it says unable to find getStoreName() where storeName was decleared  as a global variable in the class with @Data Lombok annation above the class"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1545303947,"post_id":53866929,"comment_id":94581983,"body_markdown":"could you update the question with the version details of both intelliJ and the plugin in use?","body":"could you update the question with the version details of both intelliJ and the plugin in use?"},{"owner":{"account_id":2670217,"reputation":5815,"user_id":2307786,"accept_rate":47,"display_name":"Tonyukuk"},"score":0,"creation_date":1545304012,"post_id":53866929,"comment_id":94582016,"body_markdown":"Intellij version: 2018.3.2..The Lombok version is v0.10-15.02","body":"Intellij version: 2018.3.2..The Lombok version is v0.10-15.02"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1545304199,"post_id":53866929,"comment_id":94582101,"body_markdown":"try upgrading the plugin to `v0.22.IDEA-EAP`.","body":"try upgrading the plugin to <code>v0.22.IDEA-EAP</code>."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1545321899,"post_id":53866929,"comment_id":94591535,"body_markdown":"v0.10-15.02 doesn&#39;t look like a Lombok version string to me (and if it is v0.10.0, then that predates Java 11 by about 7 years). Or is it the version of the lombok-intellij-plugin? In that case it predates Java 11 by about 3 years.","body":"v0.10-15.02 doesn&#39;t look like a Lombok version string to me (and if it is v0.10.0, then that predates Java 11 by about 7 years). Or is it the version of the lombok-intellij-plugin? In that case it predates Java 11 by about 3 years."},{"owner":{"account_id":5295877,"reputation":1405,"user_id":4227069,"display_name":"Eric Tan"},"score":0,"creation_date":1611318943,"post_id":53866929,"comment_id":116419009,"body_markdown":"For IntelliJ, just check the Lombok plugin, that should fix it. Lombok support Java 11 perfectly.","body":"For IntelliJ, just check the Lombok plugin, that should fix it. Lombok support Java 11 perfectly."}],"answers":[{"tags":[],"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"down_vote_count":2,"up_vote_count":49,"is_accepted":true,"score":47,"last_activity_date":1560516215,"creation_date":1545321554,"answer_id":53872074,"question_id":53866929,"body_markdown":"**TL;DR**\r\n\r\n**Upgrade Lombok as a [dependency][1] and as a IDE plugin ([IntelliJ][2], [NetBeans][3], [Eclipse][4]) and enable Annotation Processing in IDEs settings.**\r\n\r\n----------\r\nLatest version of Lombok and/or IntelliJ plugin perfectly supports Java 11.\r\n\r\n\r\n\r\n\r\nhttps://projectlombok.org/changelog\r\n\r\n&gt; **v1.18.4 (October 30th, 2018)**\r\n&gt; \r\n&gt; \r\n&gt;\r\n&gt; - ...\r\n&gt; - **PLATFORM: Many improvements for lombok&#39;s JDK10/11 support.**\r\n&gt; - ...\r\n\r\nhttps://github.com/mplushnikov/lombok-intellij-plugin\r\n\r\n&gt; Provides support for lombok annotations to write great Java code with\r\n&gt; IntelliJ IDEA.\r\n&gt; \r\n&gt; **Last version (0.23) released on 17.12.2018**\r\n&gt; \r\n&gt; ...\r\n&gt;\r\n&gt; - Tested and supports IntelliJ versions: 2016.2, 2016.3, 2017.X, **2018.X**\r\n&gt;\r\n&gt; ... \r\n&gt; \r\n&gt; \r\n&gt; **Lombok project dependency** \r\n&gt;\r\n&gt; Make sure you have Lombok dependency added\r\n&gt; to your project. This plugin does not automatically add it for you.\r\n&gt; \r\n&gt; **Please Note: Using newest version of the Lombok dependency is**\r\n&gt; **recommended, but does not guarantee that all the features introduced**\r\n&gt; **will be available. See Lombok changelog for more details.**\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n\r\nSo please update your lombok/plugin version to the latest ones. Should work like a charm.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.projectlombok/lombok\r\n  [2]: https://projectlombok.org/setup/intellij\r\n  [3]: https://projectlombok.org/setup/netbeans\r\n  [4]: https://projectlombok.org/setup/eclipse","title":"Unable to use Lombok with Java 11","body":"<p><strong>TL;DR</strong></p>\n\n<p><strong>Upgrade Lombok as a <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok\" rel=\"noreferrer\">dependency</a> and as a IDE plugin (<a href=\"https://projectlombok.org/setup/intellij\" rel=\"noreferrer\">IntelliJ</a>, <a href=\"https://projectlombok.org/setup/netbeans\" rel=\"noreferrer\">NetBeans</a>, <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"noreferrer\">Eclipse</a>) and enable Annotation Processing in IDEs settings.</strong></p>\n\n<hr>\n\n<p>Latest version of Lombok and/or IntelliJ plugin perfectly supports Java 11.</p>\n\n<p><a href=\"https://projectlombok.org/changelog\" rel=\"noreferrer\">https://projectlombok.org/changelog</a></p>\n\n<blockquote>\n  <p><strong>v1.18.4 (October 30th, 2018)</strong></p>\n  \n  <ul>\n  <li>...</li>\n  <li><strong>PLATFORM: Many improvements for lombok's JDK10/11 support.</strong></li>\n  <li>...</li>\n  </ul>\n</blockquote>\n\n<p><a href=\"https://github.com/mplushnikov/lombok-intellij-plugin\" rel=\"noreferrer\">https://github.com/mplushnikov/lombok-intellij-plugin</a></p>\n\n<blockquote>\n  <p>Provides support for lombok annotations to write great Java code with\n  IntelliJ IDEA.</p>\n  \n  <p><strong>Last version (0.23) released on 17.12.2018</strong></p>\n  \n  <p>...</p>\n  \n  <ul>\n  <li>Tested and supports IntelliJ versions: 2016.2, 2016.3, 2017.X, <strong>2018.X</strong></li>\n  </ul>\n  \n  <p>... </p>\n  \n  <p><strong>Lombok project dependency</strong> </p>\n  \n  <p>Make sure you have Lombok dependency added\n  to your project. This plugin does not automatically add it for you.</p>\n  \n  <p><strong>Please Note: Using newest version of the Lombok dependency is</strong>\n  <strong>recommended, but does not guarantee that all the features introduced</strong>\n  <strong>will be available. See Lombok changelog for more details.</strong></p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>So please update your lombok/plugin version to the latest ones. Should work like a charm.</p>\n"},{"tags":[],"owner":{"account_id":7814745,"reputation":417,"user_id":5909830,"display_name":"Purushothaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549634992,"creation_date":1549634992,"answer_id":54594186,"question_id":53866929,"body_markdown":"For eclipse users you will have to install lombok into eclipse.\r\nPlease follow the instruction from here\r\nhttps://projectlombok.org/setup/eclipse","title":"Unable to use Lombok with Java 11","body":"<p>For eclipse users you will have to install lombok into eclipse.\nPlease follow the instruction from here\n<a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/eclipse</a></p>\n"},{"tags":[],"owner":{"account_id":23029608,"reputation":11,"user_id":17149317,"display_name":"jngcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670482488,"creation_date":1668065718,"answer_id":74385531,"question_id":53866929,"body_markdown":"As general, update lombok dependency can fix the problem.\r\nLike vsrsion 1.18.4 or latter work fine with JDK11.","title":"Unable to use Lombok with Java 11","body":"<p>As general, update lombok dependency can fix the problem.\nLike vsrsion 1.18.4 or latter work fine with JDK11.</p>\n"}],"owner":{"account_id":2670217,"reputation":5815,"user_id":2307786,"accept_rate":47,"display_name":"Tonyukuk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57238,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":53872074,"answer_count":3,"score":48,"last_activity_date":1670482488,"creation_date":1545302106,"question_id":53866929,"body_markdown":"We upgraded the Java version from 8 to 11 but I got compile errors of getter/setter methods where I implemented the POJO classes with Lombok&#39;s Getter and Setter Annotations. \r\n\r\nIs there a way to use Lombok&#39;s `@Data ` annotation which provides getter and setter without implementing them at Java 11? \r\n\r\nCurrently, I am facing the error:\r\n\r\n&gt; unable to find getStoreName()\r\n\r\nwhere `storeName` was declared as a global variable in the class with @Data Lombok annotation above the class.","title":"Unable to use Lombok with Java 11","body":"<p>We upgraded the Java version from 8 to 11 but I got compile errors of getter/setter methods where I implemented the POJO classes with Lombok's Getter and Setter Annotations. </p>\n\n<p>Is there a way to use Lombok's <code>@Data</code> annotation which provides getter and setter without implementing them at Java 11? </p>\n\n<p>Currently, I am facing the error:</p>\n\n<blockquote>\n  <p>unable to find getStoreName()</p>\n</blockquote>\n\n<p>where <code>storeName</code> was declared as a global variable in the class with @Data Lombok annotation above the class.</p>\n"},{"tags":["java","gremlin","tinkerpop"],"answers":[{"tags":[],"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670482306,"creation_date":1670481811,"answer_id":74726434,"question_id":74714506,"body_markdown":"You can get the result type of the path() step from:\r\n\r\n    gremlin&gt; g.V().path().by(valueMap()).next().getClass()\r\n    ==&gt;class org.apache.tinkerpop.gremlin.process.traversal.step.util.MutablePath\r\n\r\nYou can find the corresponding interface at:\r\nhttps://tinkerpop.apache.org/javadocs/current/full/org/apache/tinkerpop/gremlin/process/traversal/step/util/MutablePath.html\r\n\r\nSo, in terms of interfaces the result type is:\r\n\r\n    List&lt;Path&lt;Map&lt;String, Object&gt;&gt;&gt;\r\n\r\nIf you want the result type in terms of actual classes, you can do:\r\n\r\n    gremlin&gt; g.V().path().by(valueMap()).toList().getClass()\r\n    ==&gt;class java.util.ArrayList\r\n    gremlin&gt; g.V().valueMap().next().getClass()\r\n    ==&gt;class java.util.LinkedHashMap\r\n\r\nand you get:\r\n\r\n    ArrayList&lt;MutablePath&lt;LinkedHashMap&lt;String, Object&gt;&gt;&gt;\r\n\r\n\r\n\r\n","title":"How to type this Gremlin response in Java?","body":"<p>You can get the result type of the path() step from:</p>\n<pre><code>gremlin&gt; g.V().path().by(valueMap()).next().getClass()\n==&gt;class org.apache.tinkerpop.gremlin.process.traversal.step.util.MutablePath\n</code></pre>\n<p>You can find the corresponding interface at:\n<a href=\"https://tinkerpop.apache.org/javadocs/current/full/org/apache/tinkerpop/gremlin/process/traversal/step/util/MutablePath.html\" rel=\"nofollow noreferrer\">https://tinkerpop.apache.org/javadocs/current/full/org/apache/tinkerpop/gremlin/process/traversal/step/util/MutablePath.html</a></p>\n<p>So, in terms of interfaces the result type is:</p>\n<pre><code>List&lt;Path&lt;Map&lt;String, Object&gt;&gt;&gt;\n</code></pre>\n<p>If you want the result type in terms of actual classes, you can do:</p>\n<pre><code>gremlin&gt; g.V().path().by(valueMap()).toList().getClass()\n==&gt;class java.util.ArrayList\ngremlin&gt; g.V().valueMap().next().getClass()\n==&gt;class java.util.LinkedHashMap\n</code></pre>\n<p>and you get:</p>\n<pre><code>ArrayList&lt;MutablePath&lt;LinkedHashMap&lt;String, Object&gt;&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":2839390,"reputation":28,"user_id":2439280,"display_name":"alex.weavers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74726434,"answer_count":1,"score":0,"last_activity_date":1670482306,"creation_date":1670405983,"question_id":74714506,"body_markdown":"I want to do the following gremlin query:\r\n\r\n    results = traversal.path().by(valueMap()).toList();\r\n\r\nI would like to take these objects and ship them back to a strongly typed API. To do that I have to do some unwinding on the gremlin side of things. But first I need a type for the object.\r\n\r\nSo... what&#39;s the return type here? Can I get the return type without casting to `Object`? Is there any way to inspect this in Java at runtime or something or is Java just unusable as I always suspected?\r\n\r\nThe IDE offers no suggestion and is giving me a scary warning:\r\n\r\n&gt; Unchecked assignment: &#39;java.util.List&#39; to\r\n&gt; &#39;java.util.List&lt;java.util.List&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&gt;&#39;. ** this is what I&#39;m trying for now**\r\n&gt; Reason: &#39;traversal.path().by(valueMap())&#39; has raw type, so result of\r\n&gt; toList is erased\r\n\r\nAny ideas?","title":"How to type this Gremlin response in Java?","body":"<p>I want to do the following gremlin query:</p>\n<pre><code>results = traversal.path().by(valueMap()).toList();\n</code></pre>\n<p>I would like to take these objects and ship them back to a strongly typed API. To do that I have to do some unwinding on the gremlin side of things. But first I need a type for the object.</p>\n<p>So... what's the return type here? Can I get the return type without casting to <code>Object</code>? Is there any way to inspect this in Java at runtime or something or is Java just unusable as I always suspected?</p>\n<p>The IDE offers no suggestion and is giving me a scary warning:</p>\n<blockquote>\n<p>Unchecked assignment: 'java.util.List' to\n'java.util.List&lt;java.util.List&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&gt;'. ** this is what I'm trying for now**\nReason: 'traversal.path().by(valueMap())' has raw type, so result of\ntoList is erased</p>\n</blockquote>\n<p>Any ideas?</p>\n"},{"tags":["python","java","selenium","automation","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670482029,"creation_date":1670482029,"answer_id":74726472,"question_id":74726203,"body_markdown":"Try using below code\r\n\r\n    driver.find_element(By.Link_Text, &#39;Import data&#39;).click()","title":"Cannot get Selenium to access a certain class","body":"<p>Try using below code</p>\n<pre><code>driver.find_element(By.Link_Text, 'Import data').click()\n</code></pre>\n"}],"owner":{"account_id":27186098,"reputation":3,"user_id":20720525,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74726472,"answer_count":1,"score":-1,"last_activity_date":1670482029,"creation_date":1670480058,"question_id":74726203,"body_markdown":"I am just working with Selenium to automate some simple tasks at work. I am unable to get it to access this class: \r\n\r\n`&lt;a class=&quot;qx-nav-name qx-nav-ellipsis&quot; href=&quot;javascript:openInIFrame(&#39;iamain&#39;, &#39;company_migration.phtml%3f.sess%3dZcv4vINlw4RYZSvCGO7K_wW_hFllTmXLo2dmelAVWGUrwhjuyvEYo4RY%26.ifmod%3dco%26.done%3dY5F7ZfgEOSSVJqglLXtQhgAAAAw28%26eSecReq%3dS0VZX1NFQzpDUENvc2xicXhiYlN6Z1UxL280SjBjYjR0UW1yZ2xVOHFTRU1PQTRjVi9rPQ..%26.op%3d258&amp;amp;.menuItemRefNo=0&#39;)&quot;&gt;Import data&lt;/a&gt;`\r\n\r\n\r\nThis is the code I am using\r\n`\r\n```\r\ndriver.find_element(By.CSS_SELECTOR, &#39;.qx-nav-name.qx-nav-ellipsis&#39;).click()\r\n```\r\n`\r\n","title":"Cannot get Selenium to access a certain class","body":"<p>I am just working with Selenium to automate some simple tasks at work. I am unable to get it to access this class:</p>\n<p><code>&lt;a class=&quot;qx-nav-name qx-nav-ellipsis&quot; href=&quot;javascript:openInIFrame('iamain', 'company_migration.phtml%3f.sess%3dZcv4vINlw4RYZSvCGO7K_wW_hFllTmXLo2dmelAVWGUrwhjuyvEYo4RY%26.ifmod%3dco%26.done%3dY5F7ZfgEOSSVJqglLXtQhgAAAAw28%26eSecReq%3dS0VZX1NFQzpDUENvc2xicXhiYlN6Z1UxL280SjBjYjR0UW1yZ2xVOHFTRU1PQTRjVi9rPQ..%26.op%3d258&amp;amp;.menuItemRefNo=0')&quot;&gt;Import data&lt;/a&gt;</code></p>\n<p>This is the code I am using\n`</p>\n<pre><code>driver.find_element(By.CSS_SELECTOR, '.qx-nav-name.qx-nav-ellipsis').click()\n</code></pre>\n<p>`</p>\n"},{"tags":["java","json","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670481722,"creation_date":1670481722,"answer_id":74726426,"question_id":74718149,"body_markdown":"You want something like `&lt;@accNoJson value=accNo /&gt;`, then you can get it from `params` parameter of `TemplateDirectiveModel.execute`. If you want something like `&lt;@accNoJson/&gt;` (which is a bit odd), then you can get it with `env.getVariable(&quot;accNo&quot;)`, where `env` is the 1st parameter of `TemplateDirectiveModel.execute`.\r\n\r\nThe most typical approach would be `${accNoJson(accNo)}`, in which case you should implement `TemplateMethodModelEx`.","title":"Apache Freemarker - How to use Java code to compare value of a parameter","body":"<p>You want something like <code>&lt;@accNoJson value=accNo /&gt;</code>, then you can get it from <code>params</code> parameter of <code>TemplateDirectiveModel.execute</code>. If you want something like <code>&lt;@accNoJson/&gt;</code> (which is a bit odd), then you can get it with <code>env.getVariable(&quot;accNo&quot;)</code>, where <code>env</code> is the 1st parameter of <code>TemplateDirectiveModel.execute</code>.</p>\n<p>The most typical approach would be <code>${accNoJson(accNo)}</code>, in which case you should implement <code>TemplateMethodModelEx</code>.</p>\n"}],"owner":{"account_id":3989726,"reputation":45,"user_id":3289086,"display_name":"Bhanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670481722,"creation_date":1670423007,"question_id":74718149,"body_markdown":"I have a json template as below\r\n\r\n    {\r\n    \t&quot;Account_Number&quot; : &quot;${accNo}&quot;\r\n    }\r\n\r\n\r\nI want to use a user-defined directive which is basically a Java code  to check if accNo is greater than 0. If not, I want to set the value as 0000.\r\n\r\nI was reading here ( https://freemarker.apache.org/docs/pgui_datamodel_directive.html) that it is possible to write Java code by implementing the TemplateDirectiveModel interface. However, I was unable to retrieve the value of accNo.\r\n\r\n\r\nIs it possible to achieve the above using user-defined directive? If yes, how?","title":"Apache Freemarker - How to use Java code to compare value of a parameter","body":"<p>I have a json template as below</p>\n<pre><code>{\n    &quot;Account_Number&quot; : &quot;${accNo}&quot;\n}\n</code></pre>\n<p>I want to use a user-defined directive which is basically a Java code  to check if accNo is greater than 0. If not, I want to set the value as 0000.</p>\n<p>I was reading here ( <a href=\"https://freemarker.apache.org/docs/pgui_datamodel_directive.html\" rel=\"nofollow noreferrer\">https://freemarker.apache.org/docs/pgui_datamodel_directive.html</a>) that it is possible to write Java code by implementing the TemplateDirectiveModel interface. However, I was unable to retrieve the value of accNo.</p>\n<p>Is it possible to achieve the above using user-defined directive? If yes, how?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670425706,"post_id":74718687,"comment_id":131874224,"body_markdown":"Start with reading the upgrade guide and release notes. Those generally tell you what to modify.","body":"Start with reading the upgrade guide and release notes. Those generally tell you what to modify."},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1670425762,"post_id":74718687,"comment_id":131874249,"body_markdown":"Can you add a link please?  My google-fu is not finding those.","body":"Can you add a link please?  My google-fu is not finding those."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670426369,"post_id":74718687,"comment_id":131874470,"body_markdown":"The Spring Batch reference guide has all that information, that is readily available at https://spring.io/projects/spring-batch#learn","body":"The Spring Batch reference guide has all that information, that is readily available at <a href=\"https://spring.io/projects/spring-batch#learn\" rel=\"nofollow noreferrer\">spring.io/projects/spring-batch#learn</a>"},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1670428215,"post_id":74718687,"comment_id":131875252,"body_markdown":"Thank you. I am reviewing the document now. If you post this as an answer I&#39;ll check it off.","body":"Thank you. I am reviewing the document now. If you post this as an answer I&#39;ll check it off."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670481555,"creation_date":1670481555,"answer_id":74726408,"question_id":74718687,"body_markdown":"When upgrading step 1 (or at least step 1 when things are failing) is to read the upgrade guide and/or release notes. \r\n\r\nFor Spring Batch 5 the Reference Guide can be found [here][1]. It contains a Whats New section with hints/tips on what to upgrade/change. \r\n\r\nFor Spring Batch 5 a lot has changed to make configuration easier one of them being removing some configuration classes. \r\n\r\n[1]: https://spring.io/projects/spring-batch#learn","title":"Upgrading to Spring-batch 5.0.0: How to find/replace dependency on spring classes that appear to no longer exist?","body":"<p>When upgrading step 1 (or at least step 1 when things are failing) is to read the upgrade guide and/or release notes.</p>\n<p>For Spring Batch 5 the Reference Guide can be found <a href=\"https://spring.io/projects/spring-batch#learn\" rel=\"nofollow noreferrer\">here</a>. It contains a Whats New section with hints/tips on what to upgrade/change.</p>\n<p>For Spring Batch 5 a lot has changed to make configuration easier one of them being removing some configuration classes.</p>\n"}],"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670481555,"creation_date":1670425161,"question_id":74718687,"body_markdown":"We have code in our project that is originally based on an example from Dave Syer. We are updating to the latest release of spring-batch, and running into a problem with classes that this snip is dependent on that longer exist.\r\n\r\n**POM extract**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-batch-integration&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**Code Extract**\r\n\r\n    import org.springframework.batch.core.configuration.annotation.AbstractBatchConfiguration;\r\n    import org.springframework.batch.core.configuration.annotation.BatchConfigurer;\r\n\r\n    @DependsOn(&quot;defaultBatchConfigurer&quot;)\r\n    @Configuration(&quot;org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration&quot;)\r\n        public class SimpleBatchConfiguration extends AbstractBatchConfiguration {\r\n\r\n\r\nThe two imported classes don&#39;t appear to exist any more.  \r\n\r\nPlease advise.\r\n","title":"Upgrading to Spring-batch 5.0.0: How to find/replace dependency on spring classes that appear to no longer exist?","body":"<p>We have code in our project that is originally based on an example from Dave Syer. We are updating to the latest release of spring-batch, and running into a problem with classes that this snip is dependent on that longer exist.</p>\n<p><strong>POM extract</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-integration&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Code Extract</strong></p>\n<pre><code>import org.springframework.batch.core.configuration.annotation.AbstractBatchConfiguration;\nimport org.springframework.batch.core.configuration.annotation.BatchConfigurer;\n\n@DependsOn(&quot;defaultBatchConfigurer&quot;)\n@Configuration(&quot;org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration&quot;)\n    public class SimpleBatchConfiguration extends AbstractBatchConfiguration {\n</code></pre>\n<p>The two imported classes don't appear to exist any more.</p>\n<p>Please advise.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670484382,"post_id":74726400,"comment_id":131887064,"body_markdown":"You are having a `@ManyToMany` relationship there. Why not map it as such?","body":"You are having a <code>@ManyToMany</code> relationship there. Why not map it as such?"},{"owner":{"account_id":15216900,"reputation":49,"user_id":10980010,"display_name":"Ramya"},"score":0,"creation_date":1670844598,"post_id":74726400,"comment_id":131959575,"body_markdown":"Thank you @XtremeBaumer.. I will surely try in that way.","body":"Thank you @XtremeBaumer.. I will surely try in that way."}],"owner":{"account_id":15216900,"reputation":49,"user_id":10980010,"display_name":"Ramya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670481430,"creation_date":1670481430,"question_id":74726400,"body_markdown":" I am fairly new to Spring Boot. I am trying to join a bunch of tables and get some data back. I have created the entities and repositories for the three tables I am working with. Below is the query I am trying to achieve.\r\n\r\n                       SELECT *\r\n                       FROM  PEFT_LINE PLI\r\n                       JOIN  PEFT_LINE_RELTN PLICR\r\n                       ON  PLICR.PEFT_LINE_ID   = PLI.PEFT_LINE_ID\r\n                       JOIN  PEFT_CHARGE PC\r\n                       ON  PC.PEFT_CHRG_ID      = PLICR.PEFT_CHRG_ID\r\n\r\n\r\nI have created the entity classes for PEFT_LINE, PEFT_LINE_RELTN and PEFT_CHARGE where PEFT_LINE_RELTN contains the foreign key of both PEFT_LINE and PEFT_CHARGE, and I have established the bidirectional mapping between the three tables.\r\n\r\nEntity class for PEFT_LINE\r\n\r\n                @Entity\r\n                public class PEFT_LINE\r\n\r\n                @Id\r\n                private int PeftId;\r\n                private int ProcCode;\r\n\r\n                @OneToMany(mappedBy = &quot;PEFT_LINE&quot;,fetch =FetchType.LAZY,cascade=CascadeType.ALL)\r\n                @JsonManagedReference(&quot;PEFT_LINE&quot;)\r\n                private List&lt;PEFT_LINE_RELTN&gt; peft_line_reltn;\r\n\r\n                ***getters and setters\r\nEntity class for PEFT_LINE_RELTN\r\n\r\n                @Entity\r\n                public class PEFT_LINE_RELTN\r\n\r\n                @Id\r\n                private int PeftlineId;\r\n                private int ActiveCd;\r\n                \r\n                @ManyToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n\t            @JoinColumn(name = &quot;fk_peftId&quot;)\r\n\t            @JsonBackReference(&quot;PEFT_LINE&quot;)\r\n\t            private PEFT_LINE peftItem;\r\n\r\n\t            @ManyToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n\t            @JoinColumn(name = &quot;fk_peftchrgId&quot;)\r\n\t            @JsonBackReference(&quot;PEFT_CHARGE&quot;)\r\n\t            private PEFT_CHARGE peftCharge;\r\n\r\n                ..getters and setters\r\nEntity class for PEFT_CHARGE\r\n\r\n                @Entity\r\n                public class PEFT_CHARGE\r\n\r\n                @Id\r\n                private int PeftchrgId;\r\n                private int ActiveCode;\r\n                \r\n                @OneToMany(mappedBy =&quot;PEFT_CHARGE&quot;,fetch =FetchType.LAZY,cascade=CascadeType.ALL)\r\n                @JsonManagedReference(&quot;PEFT_CHARGE&quot;)\r\n                private List&lt;PEFT_LINE_RELTN&gt; peft_line_reltn\r\n                **getters and setters\r\n\r\nPEFT_LINE Repository\r\n\r\n                public interface PEFT_LINERepo extends JpaRepository&lt;PeftId, Integer&gt;{\r\n                     \r\n                }\r\nI am trying to store the data in the tables. Firstly, when I am trying to send the peft_line request structure such that the peft_line_reltn foreign key also get&#39;s inserted.\r\nRequest structure for peft_line\r\n\r\n                              [\r\n                              {\r\n                                &quot;PeftId&quot; : 44,\r\n                                &quot;ProcCode&quot; : 96,\r\n                                    &quot;peft_line_reltn&quot;:[\r\n                                                       {\r\n                                                        &quot;PeftlineId&quot; : 652,\r\n                                                        &quot;ActiveCd&quot; : 1\r\n                                                       }          \r\n                                                      ]\r\n                               }\r\n                               ] \r\nThis successfully inserts in both pft_line and pft_line_reltn table\r\n\r\n                         After insertion\r\n                         pft_line\r\n                         PeftId     ProcCode\r\n                          44           96\r\n\r\n                         pft_line_reltn\r\n                         PeftlineId    ActiveCd    fk_peftId    fk_peftchrgId\r\n                          652              1           44            null\r\n\r\n                        Request structure for peft_charge\r\n                               [\r\n                               {\r\n                                 &quot;PeftchrgId&quot; : 57,\r\n                                 &quot;ActiveCode&quot; : 79,\r\n                                 &quot;peft_line_reltn&quot;:[\r\n                                                     {\r\n                                                       &quot;PeftlineId&quot; : 652,\r\n                                                       &quot;ActiveCd&quot; : 1\r\n              \r\n                                                     }         \r\n                                                     ]\r\n                               }\r\n                               ]\r\n\r\n                            After insertion\r\n                            peft_charge table\r\n                            PeftchrgId    ActiveCode\r\n                              57              79\r\n\r\n                            pft_line_reltn table\r\n                            PeftlineId    ActiveCd    fk_peftId    fk_peftchrgId\r\n                                652              1           null            57\r\n\r\nWhen the insertion happens in the PEFT_LINE_RELTN the foreign key fk_peftId will be stored as null. Please let me know if I am missing out anything here or is there another way to accomplish this. Thanks in advance.\r\n               \r\nTable schemas:\r\n\r\n              PEFT_LINE : PeftId(Primary key)\r\n\r\n              PEFT_LINE_RELTN : PeftlineId(Primary key) \r\n              fk_peftId(foreign key)\r\n              fk_peftchrgId(foreign key)\r\n\r\n              PEFT_CHARGE : PeftchrgId(Primary key)\r\n\r\n\r\n","title":"How to join the three tables in spring data jpa","body":"<p>I am fairly new to Spring Boot. I am trying to join a bunch of tables and get some data back. I have created the entities and repositories for the three tables I am working with. Below is the query I am trying to achieve.</p>\n<pre><code>                   SELECT *\n                   FROM  PEFT_LINE PLI\n                   JOIN  PEFT_LINE_RELTN PLICR\n                   ON  PLICR.PEFT_LINE_ID   = PLI.PEFT_LINE_ID\n                   JOIN  PEFT_CHARGE PC\n                   ON  PC.PEFT_CHRG_ID      = PLICR.PEFT_CHRG_ID\n</code></pre>\n<p>I have created the entity classes for PEFT_LINE, PEFT_LINE_RELTN and PEFT_CHARGE where PEFT_LINE_RELTN contains the foreign key of both PEFT_LINE and PEFT_CHARGE, and I have established the bidirectional mapping between the three tables.</p>\n<p>Entity class for PEFT_LINE</p>\n<pre><code>            @Entity\n            public class PEFT_LINE\n\n            @Id\n            private int PeftId;\n            private int ProcCode;\n\n            @OneToMany(mappedBy = &quot;PEFT_LINE&quot;,fetch =FetchType.LAZY,cascade=CascadeType.ALL)\n            @JsonManagedReference(&quot;PEFT_LINE&quot;)\n            private List&lt;PEFT_LINE_RELTN&gt; peft_line_reltn;\n\n            ***getters and setters\n</code></pre>\n<p>Entity class for PEFT_LINE_RELTN</p>\n<pre><code>            @Entity\n            public class PEFT_LINE_RELTN\n\n            @Id\n            private int PeftlineId;\n            private int ActiveCd;\n            \n            @ManyToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n            @JoinColumn(name = &quot;fk_peftId&quot;)\n            @JsonBackReference(&quot;PEFT_LINE&quot;)\n            private PEFT_LINE peftItem;\n\n            @ManyToOne(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n            @JoinColumn(name = &quot;fk_peftchrgId&quot;)\n            @JsonBackReference(&quot;PEFT_CHARGE&quot;)\n            private PEFT_CHARGE peftCharge;\n\n            ..getters and setters\n</code></pre>\n<p>Entity class for PEFT_CHARGE</p>\n<pre><code>            @Entity\n            public class PEFT_CHARGE\n\n            @Id\n            private int PeftchrgId;\n            private int ActiveCode;\n            \n            @OneToMany(mappedBy =&quot;PEFT_CHARGE&quot;,fetch =FetchType.LAZY,cascade=CascadeType.ALL)\n            @JsonManagedReference(&quot;PEFT_CHARGE&quot;)\n            private List&lt;PEFT_LINE_RELTN&gt; peft_line_reltn\n            **getters and setters\n</code></pre>\n<p>PEFT_LINE Repository</p>\n<pre><code>            public interface PEFT_LINERepo extends JpaRepository&lt;PeftId, Integer&gt;{\n                 \n            }\n</code></pre>\n<p>I am trying to store the data in the tables. Firstly, when I am trying to send the peft_line request structure such that the peft_line_reltn foreign key also get's inserted.\nRequest structure for peft_line</p>\n<pre><code>                          [\n                          {\n                            &quot;PeftId&quot; : 44,\n                            &quot;ProcCode&quot; : 96,\n                                &quot;peft_line_reltn&quot;:[\n                                                   {\n                                                    &quot;PeftlineId&quot; : 652,\n                                                    &quot;ActiveCd&quot; : 1\n                                                   }          \n                                                  ]\n                           }\n                           ] \n</code></pre>\n<p>This successfully inserts in both pft_line and pft_line_reltn table</p>\n<pre><code>                     After insertion\n                     pft_line\n                     PeftId     ProcCode\n                      44           96\n\n                     pft_line_reltn\n                     PeftlineId    ActiveCd    fk_peftId    fk_peftchrgId\n                      652              1           44            null\n\n                    Request structure for peft_charge\n                           [\n                           {\n                             &quot;PeftchrgId&quot; : 57,\n                             &quot;ActiveCode&quot; : 79,\n                             &quot;peft_line_reltn&quot;:[\n                                                 {\n                                                   &quot;PeftlineId&quot; : 652,\n                                                   &quot;ActiveCd&quot; : 1\n          \n                                                 }         \n                                                 ]\n                           }\n                           ]\n\n                        After insertion\n                        peft_charge table\n                        PeftchrgId    ActiveCode\n                          57              79\n\n                        pft_line_reltn table\n                        PeftlineId    ActiveCd    fk_peftId    fk_peftchrgId\n                            652              1           null            57\n</code></pre>\n<p>When the insertion happens in the PEFT_LINE_RELTN the foreign key fk_peftId will be stored as null. Please let me know if I am missing out anything here or is there another way to accomplish this. Thanks in advance.</p>\n<p>Table schemas:</p>\n<pre><code>          PEFT_LINE : PeftId(Primary key)\n\n          PEFT_LINE_RELTN : PeftlineId(Primary key) \n          fk_peftId(foreign key)\n          fk_peftchrgId(foreign key)\n\n          PEFT_CHARGE : PeftchrgId(Primary key)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1665168749,"post_id":73988814,"comment_id":130644906,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) (GitHub project link would be fine).","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> (GitHub project link would be fine)."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1665882897,"post_id":73988814,"comment_id":130802791,"body_markdown":"@AzmatHayat Did you have a chance to prepare a reproduction?","body":"@AzmatHayat Did you have a chance to prepare a reproduction?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1667174407,"post_id":73988814,"comment_id":131102101,"body_markdown":"@AzmatHayat Do you have any updates?","body":"@AzmatHayat Do you have any updates?"}],"owner":{"account_id":23586307,"reputation":1,"user_id":17624713,"display_name":"Azmat Hayat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670481267,"creation_date":1665153405,"question_id":73988814,"body_markdown":"When building maven project getting package sun.awt.windows does not exist when using java 11\r\n\r\n**sun.awt.windows with JDK8 works with IntelliJ**\r\n\r\n**sun.awt.windows with OpenJDK11 does NOT work with IntelliJ**\r\n\r\nI Disable the Use &#39;--release&#39; option... in intellij but it still did not work\r\n\r\nMy project has three modules in it\r\n\r\nplease help someone to resolve the issue\r\n\r\n","title":"package sun.awt.windows does not exist","body":"<p>When building maven project getting package sun.awt.windows does not exist when using java 11</p>\n<p><strong>sun.awt.windows with JDK8 works with IntelliJ</strong></p>\n<p><strong>sun.awt.windows with OpenJDK11 does NOT work with IntelliJ</strong></p>\n<p>I Disable the Use '--release' option... in intellij but it still did not work</p>\n<p>My project has three modules in it</p>\n<p>please help someone to resolve the issue</p>\n"},{"tags":["java","arrays","indexing","methods","parameter-passing"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1670475304,"post_id":74725603,"comment_id":131885491,"body_markdown":"Nowhere are you calling your `findIndexOfMin()` and `findIndexOfMax()` methods.","body":"Nowhere are you calling your <code>findIndexOfMin()</code> and <code>findIndexOfMax()</code> methods."},{"owner":{"account_id":23577637,"reputation":11,"user_id":17617100,"display_name":"andrewbauxier"},"score":1,"creation_date":1670477638,"post_id":74725603,"comment_id":131885846,"body_markdown":"You wonderful person you, that fixed it. Calling it and wrapping them main references or whatever fixed it.  I&#39;ll post the final results so someone can maybe get inspiration. Thanks again friend.","body":"You wonderful person you, that fixed it. Calling it and wrapping them main references or whatever fixed it.  I&#39;ll post the final results so someone can maybe get inspiration. Thanks again friend."}],"answers":[{"tags":[],"owner":{"account_id":23577637,"reputation":11,"user_id":17617100,"display_name":"andrewbauxier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670478303,"creation_date":1670478303,"answer_id":74725984,"question_id":74725603,"body_markdown":"Thank you to Robby Cornelissen. I failed to actually call the methods and reference the returned index properly.\r\n\r\n    findIndexOfMin(score);\r\n    findIndexOfMax(score);\r\n    System.out.println(&quot;Losing team: &quot; + team[findIndexOfMin(score)] + &quot; score: &quot; + score[findIndexOfMin(score)]);\r\n    System.out.println(&quot;Winning team: &quot; + team[findIndexOfMax(score)] + &quot; score: &quot; + score[findIndexOfMax(score)]);\r\n\r\n    aa 67\r\n    ss 45\r\n    dd 78\r\n    ff 13\r\n    gg 90\r\n    \r\n    The gg have the highest score of =&gt; 90 and the ff have the lowest score of =&gt;13\r\n\r\nThat did the trick. The indexes are returned and then display the correct values for the referenced lists.\r\n\r\n","title":"Java, passing an array into a method and attempting to return index, various issues arise","body":"<p>Thank you to Robby Cornelissen. I failed to actually call the methods and reference the returned index properly.</p>\n<pre><code>findIndexOfMin(score);\nfindIndexOfMax(score);\nSystem.out.println(&quot;Losing team: &quot; + team[findIndexOfMin(score)] + &quot; score: &quot; + score[findIndexOfMin(score)]);\nSystem.out.println(&quot;Winning team: &quot; + team[findIndexOfMax(score)] + &quot; score: &quot; + score[findIndexOfMax(score)]);\n\naa 67\nss 45\ndd 78\nff 13\ngg 90\n\nThe gg have the highest score of =&gt; 90 and the ff have the lowest score of =&gt;13\n</code></pre>\n<p>That did the trick. The indexes are returned and then display the correct values for the referenced lists.</p>\n"}],"owner":{"account_id":23577637,"reputation":11,"user_id":17617100,"display_name":"andrewbauxier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670500379,"answer_count":1,"score":0,"last_activity_date":1670480807,"creation_date":1670474552,"question_id":74725603,"body_markdown":"I have to create two arrays with team names and team scores, pass them through to separate methods, find the minimum and maximum values, print out a list of the teams and score with the highest and lowest score represented. Cool, did almost all of that just fine. \r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class asgn6 {\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {       \r\n        System.out.print(&quot;\\nHow many teams do you want to enter: &quot;);\r\n        int teamNum = scanner.nextInt();\r\n        scanner.nextLine();\r\n        String[] team = new String[teamNum];\r\n        int[] score = new int[teamNum];\r\n        for(int i=0; i&lt;teamNum; i++) {\r\n            System.out.println(&quot;Team &quot; + ((i)+1) + &quot;: \\nEnter team&#39;s name:\\t&quot;);\r\n            team[i] = scanner.nextLine();\r\n            System.out.println(&quot;Enter team&#39;s score (400-1000):&quot;);\r\n            score[i] = scanner.nextInt();\r\n            scanner.nextLine();\r\n        }\r\n        for (int i=0; i&lt;teamNum; i++) {\r\n            System.out.println(team[i] + &quot; &quot; + +score[i]);\r\n        }\r\n        System.out.println(&quot;Losing team: &quot; + team[minIndex] + &quot; score: &quot; + score[minIndex]);\r\n        System.out.println(&quot;Winning team: &quot; + team[maxIndex] + &quot; score: &quot; + score[maxIndex]);\r\n    }\r\n    public static int findIndexOfMin (int[] score) {\r\n        int smallestValue = score[0];\r\n        int minIndex = 0;\r\n        for (int i = 0; i &lt; score.length; i++){\r\n            if (score[i] &lt;= smallestValue){\r\n                smallestValue = score[i];\r\n                minIndex = i;\r\n            }\r\n        }\r\n        return minIndex;\r\n    }\r\n    public int findIndexOfMax(int[] score) {\r\n        \r\n        int largestValue = score[0];\r\n        int maxIndex = 0;\r\n        for (int i = 0; i &lt; score.length; i++){\r\n            if (score[i] &gt;= largestValue){\r\n                largestValue = score[i];\r\n                maxIndex  = i;\r\n            }\r\n        }\r\n        return maxIndex;\r\n    }\r\n}\r\n```\r\n\r\nThe problem begins when I try to pass the index from each method back to main. It tells me that the variables of `minIndex` and `maxIndex` cannot be resolved. I try to resolve those numerous ways, but it usually just results in them defaulting to being the same value (which as far as I can see should not be the case), or just being plain wrong in some way. I can&#39;t figure out what I&#39;m missing here. ","title":"Java, passing an array into a method and attempting to return index, various issues arise","body":"<p>I have to create two arrays with team names and team scores, pass them through to separate methods, find the minimum and maximum values, print out a list of the teams and score with the highest and lowest score represented. Cool, did almost all of that just fine.</p>\n<pre><code>import java.util.*;\n\npublic class asgn6 {\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {       \n        System.out.print(&quot;\\nHow many teams do you want to enter: &quot;);\n        int teamNum = scanner.nextInt();\n        scanner.nextLine();\n        String[] team = new String[teamNum];\n        int[] score = new int[teamNum];\n        for(int i=0; i&lt;teamNum; i++) {\n            System.out.println(&quot;Team &quot; + ((i)+1) + &quot;: \\nEnter team's name:\\t&quot;);\n            team[i] = scanner.nextLine();\n            System.out.println(&quot;Enter team's score (400-1000):&quot;);\n            score[i] = scanner.nextInt();\n            scanner.nextLine();\n        }\n        for (int i=0; i&lt;teamNum; i++) {\n            System.out.println(team[i] + &quot; &quot; + +score[i]);\n        }\n        System.out.println(&quot;Losing team: &quot; + team[minIndex] + &quot; score: &quot; + score[minIndex]);\n        System.out.println(&quot;Winning team: &quot; + team[maxIndex] + &quot; score: &quot; + score[maxIndex]);\n    }\n    public static int findIndexOfMin (int[] score) {\n        int smallestValue = score[0];\n        int minIndex = 0;\n        for (int i = 0; i &lt; score.length; i++){\n            if (score[i] &lt;= smallestValue){\n                smallestValue = score[i];\n                minIndex = i;\n            }\n        }\n        return minIndex;\n    }\n    public int findIndexOfMax(int[] score) {\n        \n        int largestValue = score[0];\n        int maxIndex = 0;\n        for (int i = 0; i &lt; score.length; i++){\n            if (score[i] &gt;= largestValue){\n                largestValue = score[i];\n                maxIndex  = i;\n            }\n        }\n        return maxIndex;\n    }\n}\n</code></pre>\n<p>The problem begins when I try to pass the index from each method back to main. It tells me that the variables of <code>minIndex</code> and <code>maxIndex</code> cannot be resolved. I try to resolve those numerous ways, but it usually just results in them defaulting to being the same value (which as far as I can see should not be the case), or just being plain wrong in some way. I can't figure out what I'm missing here.</p>\n"},{"tags":["java","spring-boot","hibernate","transactions"],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670477018,"creation_date":1670477018,"answer_id":74725849,"question_id":74725501,"body_markdown":"According to the spring transaction propagation mechanism\r\n\r\nThe default is `PROPAGATION_REQUIRED`\r\n\r\nWe either succeed together or we fail together\r\n\r\nSo far you appear more like `PROPAGATION_NESTED`\r\n\r\nIn other words, the two inserts are not in the same transaction","title":"How to fix Spring transaction rollback not working while exception","body":"<p>According to the spring transaction propagation mechanism</p>\n<p>The default is <code>PROPAGATION_REQUIRED</code></p>\n<p>We either succeed together or we fail together</p>\n<p>So far you appear more like <code>PROPAGATION_NESTED</code></p>\n<p>In other words, the two inserts are not in the same transaction</p>\n"},{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670480552,"creation_date":1670480552,"answer_id":74726270,"question_id":74725501,"body_markdown":"I am not sure exactly why is this happening but finally solved the problem by removing `@Transactional(value = &quot;db1TransactionManager&quot;)` from repository and placing it on top of the method. Also removed it from class level of service.\r\nStill looking for a proper explanation.\r\nSo here is how it looks now\r\n\r\n```\r\n@Service\r\npublic class ServiceImpl {\r\n\r\n    @Override\r\n    @Transactional(value = &quot;db1TransactionManager&quot;)\r\n    public void insertOrUpdate(Entity1 entity1, Entity2 entity2) {\r\n        db1Repository.insert(entity1, Entity1.class);\r\n        db1Repository.insert(entity1, Entity2.class);\r\n    }\r\n}\r\n```\r\nand\r\n```\r\n@Repository(value = &quot;db1Repository&quot;)\r\npublic class Db1RepositoryImpl {\r\n\r\n    @PersistenceContext(unitName = &quot;db1&quot;)\r\n    private EntityManager em;\r\n\r\n    @Override\r\n    public &lt;T&gt; void insert(T entity, Class&lt;T&gt; tClass) {\r\n        em.persist(entity);\r\n//        em.flush();\r\n    }\r\n}\r\n```","title":"How to fix Spring transaction rollback not working while exception","body":"<p>I am not sure exactly why is this happening but finally solved the problem by removing <code>@Transactional(value = &quot;db1TransactionManager&quot;)</code> from repository and placing it on top of the method. Also removed it from class level of service.\nStill looking for a proper explanation.\nSo here is how it looks now</p>\n<pre><code>@Service\npublic class ServiceImpl {\n\n    @Override\n    @Transactional(value = &quot;db1TransactionManager&quot;)\n    public void insertOrUpdate(Entity1 entity1, Entity2 entity2) {\n        db1Repository.insert(entity1, Entity1.class);\n        db1Repository.insert(entity1, Entity2.class);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Repository(value = &quot;db1Repository&quot;)\npublic class Db1RepositoryImpl {\n\n    @PersistenceContext(unitName = &quot;db1&quot;)\n    private EntityManager em;\n\n    @Override\n    public &lt;T&gt; void insert(T entity, Class&lt;T&gt; tClass) {\n        em.persist(entity);\n//        em.flush();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670480552,"creation_date":1670473439,"question_id":74725501,"body_markdown":"I have a service that tries to persist two entites. My expectation is that if one entity is failed to persist, other one should be rolled back and not persisted. But one is persisted while another one is not.\r\nHere is my service class\r\n\r\n```\r\n@Service\r\n@Transactional(value = &quot;db1TransactionManager&quot;)\r\npublic class ServiceImpl {\r\n\r\n    @Override\r\n    @Transactional\r\n    public void insertOrUpdate(Entity1 entity1, Entity2 entity2) {\r\n        db1Repository.insert(entity1, Entity1.class);\r\n        db1Repository.insert(entity1, Entity2.class);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is my repositroy class\r\n\r\n```\r\n@Transactional(value = &quot;db1TransactionManager&quot;)\r\n@Repository(value = &quot;db1Repository&quot;)\r\npublic class Db1RepositoryImpl {\r\n\r\n    @PersistenceContext(unitName = &quot;db1&quot;)\r\n    private EntityManager em;\r\n\r\n    @Override\r\n    public &lt;T&gt; void insert(T entity, Class&lt;T&gt; tClass) {\r\n        em.persist(entity);\r\n//        em.flush();\r\n    }\r\n}\r\n```\r\n\r\nI am intentionally setting entity2 as null to check if rollback works, but entity1 is still persisted. How do i make this transaction atomic?","title":"How to fix Spring transaction rollback not working while exception","body":"<p>I have a service that tries to persist two entites. My expectation is that if one entity is failed to persist, other one should be rolled back and not persisted. But one is persisted while another one is not.\nHere is my service class</p>\n<pre><code>@Service\n@Transactional(value = &quot;db1TransactionManager&quot;)\npublic class ServiceImpl {\n\n    @Override\n    @Transactional\n    public void insertOrUpdate(Entity1 entity1, Entity2 entity2) {\n        db1Repository.insert(entity1, Entity1.class);\n        db1Repository.insert(entity1, Entity2.class);\n    }\n}\n</code></pre>\n<p>And here is my repositroy class</p>\n<pre><code>@Transactional(value = &quot;db1TransactionManager&quot;)\n@Repository(value = &quot;db1Repository&quot;)\npublic class Db1RepositoryImpl {\n\n    @PersistenceContext(unitName = &quot;db1&quot;)\n    private EntityManager em;\n\n    @Override\n    public &lt;T&gt; void insert(T entity, Class&lt;T&gt; tClass) {\n        em.persist(entity);\n//        em.flush();\n    }\n}\n</code></pre>\n<p>I am intentionally setting entity2 as null to check if rollback works, but entity1 is still persisted. How do i make this transaction atomic?</p>\n"},{"tags":["java","ssh"],"answers":[{"tags":[],"owner":{"account_id":2695603,"reputation":6882,"user_id":2327745,"display_name":"Tanmay Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670480532,"creation_date":1670480532,"answer_id":74726267,"question_id":74726031,"body_markdown":"Use ChannelShell instead of ChannelExec.\r\n\r\n- [ChannelShell][1] is like using interactive shell.\r\n\r\n- [ChannelExec][2] is like executing shell script.\r\n\r\nYour use case seems to be interactive.\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/examples/Shell.java.html\r\n  [2]: http://www.jcraft.com/jsch/examples/Exec.java.html","title":"communicate to virtual serial port after SSH","body":"<p>Use ChannelShell instead of ChannelExec.</p>\n<ul>\n<li><p><a href=\"http://www.jcraft.com/jsch/examples/Shell.java.html\" rel=\"nofollow noreferrer\">ChannelShell</a> is like using interactive shell.</p>\n</li>\n<li><p><a href=\"http://www.jcraft.com/jsch/examples/Exec.java.html\" rel=\"nofollow noreferrer\">ChannelExec</a> is like executing shell script.</p>\n</li>\n</ul>\n<p>Your use case seems to be interactive.</p>\n"}],"owner":{"account_id":27021217,"reputation":3,"user_id":20579178,"display_name":"user 2310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670480532,"creation_date":1670478670,"question_id":74726031,"body_markdown":"I want to communicate to a virtual Serial Port of my server . Steps involved in this is.\r\n\r\n    1.SSH in to iLO \r\n    2.enter vsp command\r\n    3.A virtual serial port session is opened \r\n    4.it asks for server credentials and then\r\n    it gives us a server terminal experience we can send any\r\n    command as we do in a terminal opened in the server itself\r\n\r\nSo my aim is to automate all the above steps in any way from java.\r\n\r\nI have completed the first two steps via jsch but once it enters into virtual serial port session im not able to communicate .\r\nI also tried automating the terminal commands using expect for linux in expect even I see the same pattern once it enters into VSP session I&#39;m not able to communicate I tried autoexpect also it didn&#39;t work\r\nBelow is my jsch code\r\n\r\n\r\n       public static void main(String[] args) {\r\n\t    String host=&quot;10.10.100.209&quot;;\r\n\t    String user=&quot;administrator&quot;;\r\n\t    String password=&quot;2xR3M0t3$$&quot;;\r\n\t    String command1=&quot;vsp&quot;;     \r\n\t    try{\r\n\t    \t\r\n\t    \tjava.util.Properties config = new java.util.Properties(); \r\n\t    \tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t    \tJSch jsch = new JSch();\r\n\t    \tSession session=jsch.getSession(user, host, 22);\r\n\t    \tsession.setPassword(password);\r\n\t    \tsession.setConfig(config);\r\n\t    \tsession.connect();\r\n\t    \tSystem.out.println(&quot;Connected&quot;);\r\n\t    \tChannelExec channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n\t    \tInputStream in = channel.getInputStream();\r\n\t    \tchannel.setCommand(&quot;vsp&quot;);\r\n\t    \tOutputStream out = channel.getOutputStream();\r\n\t    \tchannel.connect();\r\n\r\n      byte[] tmp=new byte[1024];\r\n\t        \r\n\t        while(true){\r\n\t          while(in.available()&gt;0){\r\n\t            int i=in.read(tmp, 0, 1024);\r\n\t            if(i&lt;0)break;\r\n\t            System.out.print(&quot;out&quot;+new String(tmp, 0, i));\r\n\t          \r\n\t           \r\n\t            \r\n\t          }\r\n\t         \r\n\t          if(channel.isClosed()){\r\n\t            System.out.println(&quot;exit-status: &quot;+channel.getExitStatus());\r\n\t            break;\r\n\t          }\r\n\t        }\r\n\t        channel.disconnect();\r\n\t        \r\n\r\n\r\n\r\nNow my question is how to communicate to virtual serial port after I ssh into my iLO.\r\n\r\n","title":"communicate to virtual serial port after SSH","body":"<p>I want to communicate to a virtual Serial Port of my server . Steps involved in this is.</p>\n<pre><code>1.SSH in to iLO \n2.enter vsp command\n3.A virtual serial port session is opened \n4.it asks for server credentials and then\nit gives us a server terminal experience we can send any\ncommand as we do in a terminal opened in the server itself\n</code></pre>\n<p>So my aim is to automate all the above steps in any way from java.</p>\n<p>I have completed the first two steps via jsch but once it enters into virtual serial port session im not able to communicate .\nI also tried automating the terminal commands using expect for linux in expect even I see the same pattern once it enters into VSP session I'm not able to communicate I tried autoexpect also it didn't work\nBelow is my jsch code</p>\n<pre><code>   public static void main(String[] args) {\n    String host=&quot;10.10.100.209&quot;;\n    String user=&quot;administrator&quot;;\n    String password=&quot;2xR3M0t3$$&quot;;\n    String command1=&quot;vsp&quot;;     \n    try{\n        \n        java.util.Properties config = new java.util.Properties(); \n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        JSch jsch = new JSch();\n        Session session=jsch.getSession(user, host, 22);\n        session.setPassword(password);\n        session.setConfig(config);\n        session.connect();\n        System.out.println(&quot;Connected&quot;);\n        ChannelExec channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\n        InputStream in = channel.getInputStream();\n        channel.setCommand(&quot;vsp&quot;);\n        OutputStream out = channel.getOutputStream();\n        channel.connect();\n\n  byte[] tmp=new byte[1024];\n        \n        while(true){\n          while(in.available()&gt;0){\n            int i=in.read(tmp, 0, 1024);\n            if(i&lt;0)break;\n            System.out.print(&quot;out&quot;+new String(tmp, 0, i));\n          \n           \n            \n          }\n         \n          if(channel.isClosed()){\n            System.out.println(&quot;exit-status: &quot;+channel.getExitStatus());\n            break;\n          }\n        }\n        channel.disconnect();\n        \n</code></pre>\n<p>Now my question is how to communicate to virtual serial port after I ssh into my iLO.</p>\n"},{"tags":["java","android","material-components-android","material-components","android-chips"],"comments":[{"owner":{"account_id":8004646,"reputation":256,"user_id":9268027,"display_name":"Djaf"},"score":0,"creation_date":1570126312,"post_id":58224630,"comment_id":102824523,"body_markdown":"https://stackoverflow.com/questions/53155035/chipgroup-single-selection check answer here","body":"<a href=\"https://stackoverflow.com/questions/53155035/chipgroup-single-selection\" title=\"chipgroup single selection\">stackoverflow.com/questions/53155035/chipgroup-single-select&zwnj;&#8203;ion</a> check answer here"},{"owner":{"account_id":14196845,"reputation":1466,"user_id":10255904,"display_name":"msayubi76"},"score":0,"creation_date":1570126762,"post_id":58224630,"comment_id":102824716,"body_markdown":"@Dajf thanks for reply. but that is something else. i want to get values from chipgroup when a button is clicked.","body":"@Dajf thanks for reply. but that is something else. i want to get values from chipgroup when a button is clicked."},{"owner":{"account_id":8004646,"reputation":256,"user_id":9268027,"display_name":"Djaf"},"score":0,"creation_date":1570127051,"post_id":58224630,"comment_id":102824844,"body_markdown":"maybe you can iterate through the list of added chips and retrieve the needed ones","body":"maybe you can iterate through the list of added chips and retrieve the needed ones"},{"owner":{"account_id":14196845,"reputation":1466,"user_id":10255904,"display_name":"msayubi76"},"score":0,"creation_date":1570127381,"post_id":58224630,"comment_id":102825012,"body_markdown":"can you please help me how can i do this.","body":"can you please help me how can i do this."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1591873996,"creation_date":1570131339,"answer_id":58225805,"question_id":58224630,"body_markdown":"Starting with the version **1.2.0** you can use the method **`chipGroup.getCheckedChipIds()`**\r\n\r\n\r\n    List&lt;Integer&gt; ids = chipGroup.getCheckedChipIds();\r\n    for (Integer id:ids){\r\n          Chip chip = chipGroup.findViewById(id);\r\n          //....\r\n    }\r\n\r\n**OLD ANSWER with 1.1.0:**  \r\n\r\ncurrently there isn&#39;t a direct API to get the selected chips.  \r\nHowever you can iterate through the children of the `ChipGroup` and check `chip.isChecked()`.\r\n\r\n       ChipGroup chipGroup = findViewById(R.id.....);\r\n       for (int i=0; i&lt;chipGroup.getChildCount();i++){\r\n          Chip chip = (Chip)chipGroup.getChildAt(i);\r\n          if (chip.isChecked()){\r\n             //this chip is selected..... \r\n          }\r\n        }","title":"How to get selected chips from ChipGroup?","body":"<p>Starting with the version <strong>1.2.0</strong> you can use the method <strong><code>chipGroup.getCheckedChipIds()</code></strong></p>\n\n<pre><code>List&lt;Integer&gt; ids = chipGroup.getCheckedChipIds();\nfor (Integer id:ids){\n      Chip chip = chipGroup.findViewById(id);\n      //....\n}\n</code></pre>\n\n<p><strong>OLD ANSWER with 1.1.0:</strong>  </p>\n\n<p>currently there isn't a direct API to get the selected chips.<br>\nHowever you can iterate through the children of the <code>ChipGroup</code> and check <code>chip.isChecked()</code>.</p>\n\n<pre><code>   ChipGroup chipGroup = findViewById(R.id.....);\n   for (int i=0; i&lt;chipGroup.getChildCount();i++){\n      Chip chip = (Chip)chipGroup.getChildAt(i);\n      if (chip.isChecked()){\n         //this chip is selected..... \n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4588146,"reputation":418,"user_id":3722222,"accept_rate":43,"display_name":"Dilanka Laksiri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578504113,"creation_date":1578504113,"answer_id":59650890,"question_id":58224630,"body_markdown":"I used below mentioned method to detect the selected chips in chipGroup.\r\n\r\n    for (chipTitle in stringList) {\r\n\t    val chip = Chip(chipGroup.context)\r\n\t    chip.text = chipTitle\r\n\t    chip.tag = chipTitle\r\n\t    chip.isClickable = true\r\n\t    chip.isCheckable = true\r\n\t    chip.setOnCheckedChangeListener { _, isChecked -&gt;\r\n\t        if (isChecked){\r\n\t            Log.e(TAG, chipTitle)\r\n\t        }\r\n\t    }\r\n\t    chipGroup.addView(chip)\r\n\t}\r\n\tchipGroup.isSingleSelection = true","title":"How to get selected chips from ChipGroup?","body":"<p>I used below mentioned method to detect the selected chips in chipGroup.</p>\n\n<pre><code>for (chipTitle in stringList) {\n    val chip = Chip(chipGroup.context)\n    chip.text = chipTitle\n    chip.tag = chipTitle\n    chip.isClickable = true\n    chip.isCheckable = true\n    chip.setOnCheckedChangeListener { _, isChecked -&gt;\n        if (isChecked){\n            Log.e(TAG, chipTitle)\n        }\n    }\n    chipGroup.addView(chip)\n}\nchipGroup.isSingleSelection = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1604332494,"creation_date":1604332494,"answer_id":64648896,"question_id":58224630,"body_markdown":"the solution I used in Kotlin with data binding\r\n\r\n   \r\n\r\n  \r\n\r\n    mBinding?.chipGroup?.children\r\n                ?.toList()\r\n                ?.filter { (it as Chip).isChecked }\r\n                ?.forEach { //here are your selected chips as &#39;it&#39; }\r\n\r\nAnd here is how I got just titles \r\n\r\n    mBinding?.chipGroup?.children\r\n                ?.toList()\r\n                ?.filter { (it as Chip).isChecked }\r\n                ?.joinToString(&quot;, &quot;) { (it as Chip).text }\r\n","title":"How to get selected chips from ChipGroup?","body":"<p>the solution I used in Kotlin with data binding</p>\n<pre><code>mBinding?.chipGroup?.children\n            ?.toList()\n            ?.filter { (it as Chip).isChecked }\n            ?.forEach { //here are your selected chips as 'it' }\n</code></pre>\n<p>And here is how I got just titles</p>\n<pre><code>mBinding?.chipGroup?.children\n            ?.toList()\n            ?.filter { (it as Chip).isChecked }\n            ?.joinToString(&quot;, &quot;) { (it as Chip).text }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13246166,"reputation":959,"user_id":9565249,"display_name":"Damercy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613407747,"creation_date":1613407747,"answer_id":66212069,"question_id":58224630,"body_markdown":"### Get selected chip&#39;s text in a chip group\r\nTo get selected chip&#39;s text from chipgroup, you can use this one liner in Kotlin:\r\n\r\n```kotlin\r\nval selectedChipText = parentChipGroup.findViewById&lt;Chip&gt;(parentChipGroup.checkedChipId).text.toString()\r\n```","title":"How to get selected chips from ChipGroup?","body":"<h3>Get selected chip's text in a chip group</h3>\n<p>To get selected chip's text from chipgroup, you can use this one liner in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val selectedChipText = parentChipGroup.findViewById&lt;Chip&gt;(parentChipGroup.checkedChipId).text.toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10066933,"reputation":36,"user_id":7441851,"display_name":"Gopal Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670480267,"creation_date":1670480114,"answer_id":74726214,"question_id":58224630,"body_markdown":"    chip_group.setOnCheckedStateChangeListener(new ChipGroup.OnCheckedStateChangeListener() {\r\n        @Override\r\n        public void onCheckedChanged(@NonNull ChipGroup group, @NonNull List&lt;Integer&gt; checkedIds) {\r\n\r\n            List&lt;Integer&gt; ids = group.getCheckedChipIds();\r\n            for (Integer id:ids){\r\n                Chip chip = group.findViewById(id);\r\n                Toast.makeText(BottomActivity.this, chip.getText(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n\r\n        }\r\n    });\r\n","title":"How to get selected chips from ChipGroup?","body":"<pre><code>chip_group.setOnCheckedStateChangeListener(new ChipGroup.OnCheckedStateChangeListener() {\n    @Override\n    public void onCheckedChanged(@NonNull ChipGroup group, @NonNull List&lt;Integer&gt; checkedIds) {\n\n        List&lt;Integer&gt; ids = group.getCheckedChipIds();\n        for (Integer id:ids){\n            Chip chip = group.findViewById(id);\n            Toast.makeText(BottomActivity.this, chip.getText(), Toast.LENGTH_SHORT).show();\n\n        }\n\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":14196845,"reputation":1466,"user_id":10255904,"display_name":"msayubi76"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25462,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":5,"score":12,"last_activity_date":1670480267,"creation_date":1570125962,"question_id":58224630,"body_markdown":"I search a lot on internet but couldn&#39;t find the exact solution. Here is the link that i last tried from SO.\r\nhttps://stackoverflow.com/questions/55905793/get-selected-chips-from-a-chipgroup\r\n\r\nI want to get selected chips from chip group when a button is clicked.\r\n\r\n**This function contain information of displaying names in RecyclerView**\r\n\r\n    private void getNames() {\r\n        List&lt;String&gt; names = Arrays.asList(getResources().getStringArray(R.array.names));\r\n        int count = 0;\r\n        for ( String name : names){\r\n            list.add(new Names(name));\r\n            count++;\r\n        }\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(true);\r\n        namesAdapter = new NamesAdapter(MainActivity.this, list);\r\n        recyclerView.setAdapter(namesAdapter);\r\n    }\r\n**When click on RecyclerView item one chip is added into the ChipGroup here is the function**\r\n\r\n    public void onItemSelected(Names name) {\r\n        Chip chip = new Chip(this);\r\n        chip.setText(name.getName());\r\n        chip.setCloseIconVisible(true);\r\n        chip.setCheckable(false);\r\n        chip.setClickable(false);\r\n        chip.setOnCloseIconClickListener(this);\r\n        chipGroup.addView(chip);\r\n        chipGroup.setVisibility(View.VISIBLE);\r\n    }\r\n[This is the image of displaying chips in ChipGroup][1]\r\n\r\n\r\n**Function that is getting values from ChipGroup**\r\n\r\n    public void getChipGroupValues(){\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ChipGroup chipGroup = findViewById(R.id.chipGroup);\r\n                for (int i=0; i&lt;chipGroup.getChildCount();i++){\r\n                    Chip chip = (Chip)chipGroup.getChildAt(i);\r\n                    Log.i(&quot;outside if &quot;, i+ &quot; chip = &quot; + chip.getText().toString());\r\n                    if (chip.isChecked()){\r\n                        Log.i(&quot;inside if &quot;, i+ &quot; chip = &quot; + chip.getText().toString());\r\n                        textView.setText(chip.getText().toString());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n**This is output**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**build.gradle(Module.app) detail**\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BifYP.png\r\n  [2]: https://i.stack.imgur.com/ZEYYC.png\r\n  [3]: https://i.stack.imgur.com/LAREw.png","title":"How to get selected chips from ChipGroup?","body":"<p>I search a lot on internet but couldn't find the exact solution. Here is the link that i last tried from SO.\n<a href=\"https://stackoverflow.com/questions/55905793/get-selected-chips-from-a-chipgroup\">Get selected Chips from a ChipGroup</a></p>\n\n<p>I want to get selected chips from chip group when a button is clicked.</p>\n\n<p><strong>This function contain information of displaying names in RecyclerView</strong></p>\n\n<pre><code>private void getNames() {\n    List&lt;String&gt; names = Arrays.asList(getResources().getStringArray(R.array.names));\n    int count = 0;\n    for ( String name : names){\n        list.add(new Names(name));\n        count++;\n    }\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setHasFixedSize(true);\n    namesAdapter = new NamesAdapter(MainActivity.this, list);\n    recyclerView.setAdapter(namesAdapter);\n}\n</code></pre>\n\n<p><strong>When click on RecyclerView item one chip is added into the ChipGroup here is the function</strong></p>\n\n<pre><code>public void onItemSelected(Names name) {\n    Chip chip = new Chip(this);\n    chip.setText(name.getName());\n    chip.setCloseIconVisible(true);\n    chip.setCheckable(false);\n    chip.setClickable(false);\n    chip.setOnCloseIconClickListener(this);\n    chipGroup.addView(chip);\n    chipGroup.setVisibility(View.VISIBLE);\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BifYP.png\" rel=\"noreferrer\">This is the image of displaying chips in ChipGroup</a></p>\n\n<p><strong>Function that is getting values from ChipGroup</strong></p>\n\n<pre><code>public void getChipGroupValues(){\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            ChipGroup chipGroup = findViewById(R.id.chipGroup);\n            for (int i=0; i&lt;chipGroup.getChildCount();i++){\n                Chip chip = (Chip)chipGroup.getChildAt(i);\n                Log.i(\"outside if \", i+ \" chip = \" + chip.getText().toString());\n                if (chip.isChecked()){\n                    Log.i(\"inside if \", i+ \" chip = \" + chip.getText().toString());\n                    textView.setText(chip.getText().toString());\n                }\n            }\n        }\n    });\n}\n</code></pre>\n\n<p><strong>This is output</strong>\n<a href=\"https://i.stack.imgur.com/ZEYYC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZEYYC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>build.gradle(Module.app) detail</strong>\n<a href=\"https://i.stack.imgur.com/LAREw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LAREw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","excel","date","apache-poi","xlsx"],"comments":[{"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"score":1,"creation_date":1512739478,"post_id":47715176,"comment_id":82390616,"body_markdown":"42538.0 could be a date (2016-06-17 00:00). You need to check if cell type is DATE and if so handle accordingly.","body":"42538.0 could be a date (2016-06-17 00:00). You need to check if cell type is DATE and if so handle accordingly."},{"owner":{"account_id":12319243,"reputation":21,"user_id":8988921,"display_name":"&#214;mer Uyar"},"score":0,"creation_date":1512739824,"post_id":47715176,"comment_id":82390788,"body_markdown":"The date is written like this: Date Found: 17-Jun-2016 and the cell type is date.","body":"The date is written like this: Date Found: 17-Jun-2016 and the cell type is date."}],"answers":[{"tags":[],"owner":{"account_id":544543,"reputation":1693,"user_id":914032,"display_name":"SurfMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512739844,"creation_date":1512739844,"answer_id":47715399,"question_id":47715176,"body_markdown":"Dates in Excel are represented as a &quot;serial number&quot;, where the part in front of the decimal separator are the days since 1-1-1900, and the part after the decimal is the fraction of the day, so noon is 0.5. So if you get the number itself, you have to do the conversion manually.\r\n\r\nPOI can do the conversion for you. See https://stackoverflow.com/questions/3148535/how-to-read-excel-cell-having-date-with-apache-poi for an example.","title":"Read excel (xlsx) file in java using Apoche POI (getting weird numbers)","body":"<p>Dates in Excel are represented as a \"serial number\", where the part in front of the decimal separator are the days since 1-1-1900, and the part after the decimal is the fraction of the day, so noon is 0.5. So if you get the number itself, you have to do the conversion manually.</p>\n\n<p>POI can do the conversion for you. See <a href=\"https://stackoverflow.com/questions/3148535/how-to-read-excel-cell-having-date-with-apache-poi\">How to read Excel cell having Date with Apache POI?</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":12319243,"reputation":21,"user_id":8988921,"display_name":"&#214;mer Uyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513102791,"creation_date":1512740111,"answer_id":47715470,"question_id":47715176,"body_markdown":"This is the excel file that I have to read in java\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xoWEQ.png","title":"Read excel (xlsx) file in java using Apoche POI (getting weird numbers)","body":"<p>This is the excel file that I have to read in java\n<a href=\"https://i.stack.imgur.com/xoWEQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xoWEQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5351617,"reputation":1633,"user_id":4265610,"accept_rate":58,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513155402,"creation_date":1512740866,"answer_id":47715678,"question_id":47715176,"body_markdown":"Dates are stored internally in Excel as double values and DataFormatter.formatCellValue(Cell cell) *returns the formatted value of a cell as a String regardless of the cell type*. So when you call df.formatCellValue(cell) you are returning as a string the double value of the cell.\r\n\r\nTo print the cell value as a date the code is this:\r\n        \r\n    switch (cell.getCellType()) {\r\n        // ...\r\n        case CellType.NUMERIC:\r\n            // Check if a cell contains a date. Since dates are stored internally in Excel as double values we infer it is a date if it is formatted as such.\r\n            if (DateUtil.isCellDateFormatted(cell)) {\r\n                // Get the value of the cell as a date. Returns a java.util.Date.\r\n                System.out.println(cell.getDateCellValue());\r\n            } else {\r\n                System.out.println(cell.getNumericCellValue());\r\n            }\r\n        // ...\r\n    }\r\n\r\nSource: \r\n\r\n- https://poi.apache.org/spreadsheet/quick-guide.html#CellContents\r\n- https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\r\n- https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html\r\n- https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DateUtil.html\r\n\r\n**EDIT**\r\n\r\nExcel cells containing only time have their date part fixed to 31 december 1899. You can use this information to check if a cell is time or date: extract the year, if it is 1899 it is a time cell.\r\n    \r\n    SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n    SimpleDateFormat yearFormat = new SimpleDateFormat(&quot;yyyy&quot;);\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \r\n    switch (cell.getCellType()) {\r\n      \r\n      case CellType.NUMERIC:\r\n        if (DateUtil.isCellDateFormatted(cell)) {\r\n            Date dateCellValue = cell.getDateCellValue();\r\n            String year = yearFormat.format(dateCellValue);\r\n            if (year.equals(&quot;1899&quot;)) \r\n              System.out.println(timeFormat.format(dateCellValue));\r\n            else\r\n              System.out.println(dateFormat.format(dateCellValue));\r\n        } else {\r\n            System.out.println(cell.getNumericCellValue());\r\n        }\r\n    \r\n    }\r\n\r\n ","title":"Read excel (xlsx) file in java using Apoche POI (getting weird numbers)","body":"<p>Dates are stored internally in Excel as double values and DataFormatter.formatCellValue(Cell cell) <em>returns the formatted value of a cell as a String regardless of the cell type</em>. So when you call df.formatCellValue(cell) you are returning as a string the double value of the cell.</p>\n\n<p>To print the cell value as a date the code is this:</p>\n\n<pre><code>switch (cell.getCellType()) {\n    // ...\n    case CellType.NUMERIC:\n        // Check if a cell contains a date. Since dates are stored internally in Excel as double values we infer it is a date if it is formatted as such.\n        if (DateUtil.isCellDateFormatted(cell)) {\n            // Get the value of the cell as a date. Returns a java.util.Date.\n            System.out.println(cell.getDateCellValue());\n        } else {\n            System.out.println(cell.getNumericCellValue());\n        }\n    // ...\n}\n</code></pre>\n\n<p>Source: </p>\n\n<ul>\n<li><a href=\"https://poi.apache.org/spreadsheet/quick-guide.html#CellContents\" rel=\"nofollow noreferrer\">https://poi.apache.org/spreadsheet/quick-guide.html#CellContents</a></li>\n<li><a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html</a></li>\n<li><a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html</a></li>\n<li><a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DateUtil.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DateUtil.html</a></li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<p>Excel cells containing only time have their date part fixed to 31 december 1899. You can use this information to check if a cell is time or date: extract the year, if it is 1899 it is a time cell.</p>\n\n<pre><code>SimpleDateFormat timeFormat = new SimpleDateFormat(\"HH:mm\");\nSimpleDateFormat yearFormat = new SimpleDateFormat(\"yyyy\");\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n\nswitch (cell.getCellType()) {\n\n  case CellType.NUMERIC:\n    if (DateUtil.isCellDateFormatted(cell)) {\n        Date dateCellValue = cell.getDateCellValue();\n        String year = yearFormat.format(dateCellValue);\n        if (year.equals(\"1899\")) \n          System.out.println(timeFormat.format(dateCellValue));\n        else\n          System.out.println(dateFormat.format(dateCellValue));\n    } else {\n        System.out.println(cell.getNumericCellValue());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15775666,"reputation":1,"user_id":11383507,"display_name":"Krishan Chamara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670479504,"creation_date":1670479331,"answer_id":74726108,"question_id":47715176,"body_markdown":"Its because exponential numbers. try with this.\r\n\r\n    BigInteger x = new BigDecimal(&quot;406770000244E+12&quot;).toBigInteger();","title":"Read excel (xlsx) file in java using Apoche POI (getting weird numbers)","body":"<p>Its because exponential numbers. try with this.</p>\n<pre><code>BigInteger x = new BigDecimal(&quot;406770000244E+12&quot;).toBigInteger();\n</code></pre>\n"}],"owner":{"account_id":12319243,"reputation":21,"user_id":8988921,"display_name":"&#214;mer Uyar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1670479504,"creation_date":1512738974,"question_id":47715176,"body_markdown":"I have to open a testdate for a schoolproject. This testdate is a excel(xlsx) file that includes number, letter, date and time. But with the code below it reads the excel file, but i get weird numbers like **42538.0** and **1.153481443E9**. after date.\r\n\r\n    public class Page4_Controller implements Initializable {\r\n    \r\n        @FXML\r\n        private Button button1;\r\n    \r\n        public void Button1Action(ActionEvent event) throws IOException {\r\n            //Initialize excel file\r\n            FileChooser fc = new FileChooser();\r\n            fc.getExtensionFilters().addAll(\r\n                    new ExtensionFilter(&quot;Excel Files&quot;, &quot;*.xlsx&quot;));\r\n            File selectedFile = fc.showOpenDialog(null);\r\n    \r\n            // Read file\r\n            readXLSXFile(selectedFile.getAbsolutePath());\r\n        }\r\n    \r\n        public static void readXLSXFile(String excelFilePath) throws IOException {\r\n            FileInputStream fys = new FileInputStream(new File(excelFilePath));\r\n    \r\n            //Create workbook instance that refers to .xlsx file\r\n            XSSFWorkbook wb = new XSSFWorkbook(fys);\r\n    \r\n            //Create a sheet object to retrive the sheet\r\n            XSSFSheet sheet = wb.getSheetAt(0);\r\n    \r\n            //That is for evalueate the cell type\r\n            FormulaEvaluator forlulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\r\n            DataFormatter df = new DataFormatter();\r\n    \r\n            //Default data for database (comes later)\r\n            //String airport = sheet.getRow(1).getCell(1).getStringCellValue();\r\n            //Date date = sheet.getRow(2).getCell(1).getDateCellValue();\r\n            \r\n            for (Row row : sheet) {\r\n                for (Cell cell : row) {\r\n                    switch (forlulaEvaluator.evaluateInCell(cell).getCellType()) {\r\n                        //If cell is a numeric format\r\n                        case Cell.CELL_TYPE_NUMERIC:\r\n                            System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\r\n                            System.out.print(df.formatCellValue(cell) + &quot;\\t&quot;);\r\n                            break;\r\n                        //If cell is a string format\r\n                        case Cell.CELL_TYPE_STRING:\r\n                            System.out.print(cell.getRichStringCellValue() + &quot;\\t&quot;);\r\n                            break;\r\n                    }\r\n    \r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n        }\r\n    \r\n    }\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\n\r\n&lt;!-- What is the actual result you get? (Please include any errors.) --&gt;\r\n","title":"Read excel (xlsx) file in java using Apoche POI (getting weird numbers)","body":"<p>I have to open a testdate for a schoolproject. This testdate is a excel(xlsx) file that includes number, letter, date and time. But with the code below it reads the excel file, but i get weird numbers like <strong>42538.0</strong> and <strong>1.153481443E9</strong>. after date.</p>\n\n<pre><code>public class Page4_Controller implements Initializable {\n\n    @FXML\n    private Button button1;\n\n    public void Button1Action(ActionEvent event) throws IOException {\n        //Initialize excel file\n        FileChooser fc = new FileChooser();\n        fc.getExtensionFilters().addAll(\n                new ExtensionFilter(\"Excel Files\", \"*.xlsx\"));\n        File selectedFile = fc.showOpenDialog(null);\n\n        // Read file\n        readXLSXFile(selectedFile.getAbsolutePath());\n    }\n\n    public static void readXLSXFile(String excelFilePath) throws IOException {\n        FileInputStream fys = new FileInputStream(new File(excelFilePath));\n\n        //Create workbook instance that refers to .xlsx file\n        XSSFWorkbook wb = new XSSFWorkbook(fys);\n\n        //Create a sheet object to retrive the sheet\n        XSSFSheet sheet = wb.getSheetAt(0);\n\n        //That is for evalueate the cell type\n        FormulaEvaluator forlulaEvaluator = wb.getCreationHelper().createFormulaEvaluator();\n        DataFormatter df = new DataFormatter();\n\n        //Default data for database (comes later)\n        //String airport = sheet.getRow(1).getCell(1).getStringCellValue();\n        //Date date = sheet.getRow(2).getCell(1).getDateCellValue();\n\n        for (Row row : sheet) {\n            for (Cell cell : row) {\n                switch (forlulaEvaluator.evaluateInCell(cell).getCellType()) {\n                    //If cell is a numeric format\n                    case Cell.CELL_TYPE_NUMERIC:\n                        System.out.print(cell.getNumericCellValue() + \"\\t\");\n                        System.out.print(df.formatCellValue(cell) + \"\\t\");\n                        break;\n                    //If cell is a string format\n                    case Cell.CELL_TYPE_STRING:\n                        System.out.print(cell.getRichStringCellValue() + \"\\t\");\n                        break;\n                }\n\n            }\n            System.out.println();\n        }\n    }\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    }\n\n}\n</code></pre>\n\n\n\n\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1396136021,"creation_date":1396051453,"answer_id":22725259,"question_id":22725143,"body_markdown":"ResponseEntity will give you some added flexibility in defining arbitrary HTTP response headers. See the 4th constructor here:\r\n\r\nhttp://docs.spring.io/spring/docs/3.0.x/api/org/springframework/http/ResponseEntity.html\r\n\r\n    ResponseEntity(T body, MultiValueMap&lt;String,String&gt; headers, HttpStatus statusCode) \r\n\r\nA List of possible HTTP response headers is available here:\r\n\r\nhttp://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Responses\r\n\r\nSome commonly-used ones are Status, Content-Type and Cache-Control.\r\n\r\nIf you don&#39;t need that, using @ResponseBody will be a tiny bit more concise.","title":"What is the difference between ResponseEntity&lt;T&gt; and @ResponseBody?","body":"<p>ResponseEntity will give you some added flexibility in defining arbitrary HTTP response headers. See the 4th constructor here:</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/http/ResponseEntity.html</a></p>\n\n<pre><code>ResponseEntity(T body, MultiValueMap&lt;String,String&gt; headers, HttpStatus statusCode) \n</code></pre>\n\n<p>A List of possible HTTP response headers is available here:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Responses\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Responses</a></p>\n\n<p>Some commonly-used ones are Status, Content-Type and Cache-Control.</p>\n\n<p>If you don't need that, using @ResponseBody will be a tiny bit more concise.</p>\n"},{"tags":[],"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1565424692,"creation_date":1565416476,"answer_id":57439688,"question_id":22725143,"body_markdown":"**HttpEntity&lt;T&gt;** represents an HTTP **request** or **response** consists of **headers** and **body**.\r\n```\r\n// Only talks about body &amp; headers, but doesn&#39;t talk about status code\r\npublic HttpEntity(T body, MultiValueMap&lt;String,String&gt; headers)\r\n```\r\n\r\n**ResponseEntity** extends HttpEntity but also adds a Http status code.\r\n```\r\n// i.e ResponseEntity = HttpEntity + StatusCode\r\npublic ResponseEntity(T body, MultiValueMap&lt;String,String&gt; headers, HttpStatus statusCode)\r\n```\r\nHence used to **fully** **configure** the HTTP response.\r\n\r\nFor Ex:\r\n```\r\n@ControllerAdvice \r\npublic class JavaWebExeptionHandler {\r\n\r\n\t@Autowired\r\n\tExceptionErrorCodeMap exceptionErrorCodeMap;\r\n\r\n\t@ExceptionHandler(RuntimeException.class)\r\n\tpublic final ResponseEntity&lt;ExceptionResponseBody&gt; handleAllExceptions(Exception ex) {\r\n\t\tInteger expCode = exceptionErrorCodeMap.getExpCode(ex.getClass());\r\n        // We have not added headers to response here, If you want you can add by using respective constructor\r\n\t\treturn new ResponseEntity&lt;ExceptionResponseBody&gt;(new ExceptionResponseBody(expCode, ex.getMessage()),\r\n\t\t\t\tHttpStatus.valueOf(expCode));\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**@ResponseBody** indicates that **return** value of **method** on which it is used is bound to the response **body** \r\n(Mean the return value of method is treated as Http response body)\r\n","title":"What is the difference between ResponseEntity&lt;T&gt; and @ResponseBody?","body":"<p><strong>HttpEntity</strong> represents an HTTP <strong>request</strong> or <strong>response</strong> consists of <strong>headers</strong> and <strong>body</strong>.</p>\n\n<pre><code>// Only talks about body &amp; headers, but doesn't talk about status code\npublic HttpEntity(T body, MultiValueMap&lt;String,String&gt; headers)\n</code></pre>\n\n<p><strong>ResponseEntity</strong> extends HttpEntity but also adds a Http status code.</p>\n\n<pre><code>// i.e ResponseEntity = HttpEntity + StatusCode\npublic ResponseEntity(T body, MultiValueMap&lt;String,String&gt; headers, HttpStatus statusCode)\n</code></pre>\n\n<p>Hence used to <strong>fully</strong> <strong>configure</strong> the HTTP response.</p>\n\n<p>For Ex:</p>\n\n<pre><code>@ControllerAdvice \npublic class JavaWebExeptionHandler {\n\n    @Autowired\n    ExceptionErrorCodeMap exceptionErrorCodeMap;\n\n    @ExceptionHandler(RuntimeException.class)\n    public final ResponseEntity&lt;ExceptionResponseBody&gt; handleAllExceptions(Exception ex) {\n        Integer expCode = exceptionErrorCodeMap.getExpCode(ex.getClass());\n        // We have not added headers to response here, If you want you can add by using respective constructor\n        return new ResponseEntity&lt;ExceptionResponseBody&gt;(new ExceptionResponseBody(expCode, ex.getMessage()),\n                HttpStatus.valueOf(expCode));\n    }\n\n}\n</code></pre>\n\n<p><strong>@ResponseBody</strong> indicates that <strong>return</strong> value of <strong>method</strong> on which it is used is bound to the response <strong>body</strong> \n(Mean the return value of method is treated as Http response body)</p>\n"},{"tags":[],"owner":{"account_id":7425507,"reputation":621,"user_id":5648134,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635115758,"creation_date":1635115758,"answer_id":69701315,"question_id":22725143,"body_markdown":"**ResponseEntity&lt;&gt;** is a generic class with a type parameter, you can specify what type of object to be serialized into the response body. \r\n\r\n**@ResponseBody** is an annotation, indicates that the return value of a method will be serialized into the body of the HTTP response.\r\n\r\nyou can set headers using **ResponseEntity&lt;&gt;** ","title":"What is the difference between ResponseEntity&lt;T&gt; and @ResponseBody?","body":"<p><strong>ResponseEntity&lt;&gt;</strong> is a generic class with a type parameter, you can specify what type of object to be serialized into the response body.</p>\n<p><strong>@ResponseBody</strong> is an annotation, indicates that the return value of a method will be serialized into the body of the HTTP response.</p>\n<p>you can set headers using <strong>ResponseEntity&lt;&gt;</strong></p>\n"},{"tags":[],"owner":{"account_id":27181047,"reputation":3,"user_id":20716286,"display_name":"Armaan Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670479146,"creation_date":1670479146,"answer_id":74726084,"question_id":22725143,"body_markdown":"**@ResponseEntity** represents a response which includes headers, body and status code.\r\n**@ResponseBody** only returns the body of the response.","title":"What is the difference between ResponseEntity&lt;T&gt; and @ResponseBody?","body":"<p><strong>@ResponseEntity</strong> represents a response which includes headers, body and status code.\n<strong>@ResponseBody</strong> only returns the body of the response.</p>\n"}],"owner":{"account_id":4138930,"reputation":895,"user_id":3394841,"accept_rate":54,"display_name":"Flavio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63791,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":22725259,"answer_count":4,"score":70,"last_activity_date":1670479146,"creation_date":1396050685,"question_id":22725143,"body_markdown":"I have a simple handler in my controller which returns a message\r\n\r\n    @RequestMapping(value = &quot;/message&quot;)\r\n    @ResponseBody\r\n    public Message get() {\r\n        return new Message(penguinCounter.incrementAndGet() + &quot; penguin!&quot;);\r\n    }\r\n\r\nAt the same time I can use something like this\r\n\r\n    @RequestMapping(value = &quot;/message&quot;)\r\n    ResponseEntity&lt;Message&gt; get() {\r\n        Message message = new Message(penguinCounter.incrementAndGet() + &quot; penguin!&quot;);\r\n        return new ResponseEntity&lt;Message&gt;(message, HttpStatus.OK);\r\n    }\r\n\r\nWhat is the difference betweet this two approaches? Let&#39;s not take into account HttpStatus :)\r\n\r\n\r\n\r\n","title":"What is the difference between ResponseEntity&lt;T&gt; and @ResponseBody?","body":"<p>I have a simple handler in my controller which returns a message</p>\n\n<pre><code>@RequestMapping(value = \"/message\")\n@ResponseBody\npublic Message get() {\n    return new Message(penguinCounter.incrementAndGet() + \" penguin!\");\n}\n</code></pre>\n\n<p>At the same time I can use something like this</p>\n\n<pre><code>@RequestMapping(value = \"/message\")\nResponseEntity&lt;Message&gt; get() {\n    Message message = new Message(penguinCounter.incrementAndGet() + \" penguin!\");\n    return new ResponseEntity&lt;Message&gt;(message, HttpStatus.OK);\n}\n</code></pre>\n\n<p>What is the difference betweet this two approaches? Let's not take into account HttpStatus :)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1670477384,"post_id":74725754,"comment_id":131885803,"body_markdown":"What type of Android device are you updating the app on (custom hardware, consumer phone, etc.)?","body":"What type of Android device are you updating the app on (custom hardware, consumer phone, etc.)?"},{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1670479998,"post_id":74725754,"comment_id":131886229,"body_markdown":"@MorrisonChang\nThank you for asking. It is a custom Android tablet `Android 9 Level 28` for a delivery serving robot!","body":"@MorrisonChang Thank you for asking. It is a custom Android tablet <code>Android 9 Level 28</code> for a delivery serving robot!"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1670482464,"post_id":74725754,"comment_id":131886662,"body_markdown":"You should check with the manufacturer of the Android tablet to see if there is a managed device mode / device policy controller available or other API. Only at that system level can you have silent app install. See: https://developer.android.com/work/dpc/dedicated-devices#managed_devices","body":"You should check with the manufacturer of the Android tablet to see if there is a managed device mode / device policy controller available or other API. Only at that system level can you have silent app install. See: <a href=\"https://developer.android.com/work/dpc/dedicated-devices#managed_devices\" rel=\"nofollow noreferrer\">developer.android.com/work/dpc/&hellip;</a>"}],"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670476348,"creation_date":1670476048,"question_id":74725754,"body_markdown":"I am developing a robot Android app where I&#39;ve added a class that updates the app automatically. \r\nWe get the new APK version from a local server where the robot is located.\r\n\r\nHowever, when there is a new APK and after downloading it to the storage of the device and when executing the following code:\r\n\r\n    Intent intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\r\n    final Context context = this.context.get();\r\n    Uri apkUri = FileProvider.getUriForFile(context, context.getPackageName() + &quot;.provider&quot;, apkFile);\r\n    intent.setData(apkUri);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    context.startActivity(intent);\r\n\r\nthe window below asks the user&#39;s action to either **CANCEL** or **INSTALL**. \r\n\r\nIs there any way to execute the **INSTALL** button without users needing to press it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJwyj.png","title":"How to update an Android app using an APK without user interaction at all?","body":"<p>I am developing a robot Android app where I've added a class that updates the app automatically.\nWe get the new APK version from a local server where the robot is located.</p>\n<p>However, when there is a new APK and after downloading it to the storage of the device and when executing the following code:</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_INSTALL_PACKAGE);\nfinal Context context = this.context.get();\nUri apkUri = FileProvider.getUriForFile(context, context.getPackageName() + &quot;.provider&quot;, apkFile);\nintent.setData(apkUri);\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(intent);\n</code></pre>\n<p>the window below asks the user's action to either <strong>CANCEL</strong> or <strong>INSTALL</strong>.</p>\n<p>Is there any way to execute the <strong>INSTALL</strong> button without users needing to press it?</p>\n<p><a href=\"https://i.stack.imgur.com/sJwyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJwyj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","queue","stack","time-complexity"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670366069,"post_id":74709599,"comment_id":131859388,"body_markdown":"Which part of the code? What is N? What are you trying to do?","body":"Which part of the code? What is N? What are you trying to do?"},{"owner":{"account_id":2910568,"reputation":65,"user_id":2494912,"display_name":"user2494912"},"score":0,"creation_date":1670368331,"post_id":74709599,"comment_id":131859950,"body_markdown":"I am trying to confirm the time complexity of push and pop operations","body":"I am trying to confirm the time complexity of push and pop operations"},{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1670422677,"post_id":74709599,"comment_id":131873027,"body_markdown":"your code&#39;s push operation is O(1), and pop operation is O(N). since if there were n elements pushed first, and then when pop is called, you will need to move `n-1` elements to your output stack.","body":"your code&#39;s push operation is O(1), and pop operation is O(N). since if there were n elements pushed first, and then when pop is called, you will need to move <code>n-1</code> elements to your output stack."}],"answers":[{"tags":[],"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670476326,"creation_date":1670476326,"answer_id":74725784,"question_id":74709599,"body_markdown":"The time complexity for your `push` operation is O(1).\r\nThe time complexity for your `pop` operation, which depends on your `peek` method is O(N). Since, you need to move n-1 elements from one stack to another and then get the queue&#39;s first element, time complexity is O(N). \r\n\r\nAs additional, info, if you want O(1) for both operations, you could implement using a doubly-linked list.","title":"Implemented queue using two stacks. What is the complexity of this code below O(1) or O(N)?. This is a leetcode question","body":"<p>The time complexity for your <code>push</code> operation is O(1).\nThe time complexity for your <code>pop</code> operation, which depends on your <code>peek</code> method is O(N). Since, you need to move n-1 elements from one stack to another and then get the queue's first element, time complexity is O(N).</p>\n<p>As additional, info, if you want O(1) for both operations, you could implement using a doubly-linked list.</p>\n"}],"owner":{"account_id":2910568,"reputation":65,"user_id":2494912,"display_name":"user2494912"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670476326,"creation_date":1670364789,"question_id":74709599,"body_markdown":"I implemented queue using two stacks. What is the complexity of this code below: O(1) or O(N)? This is a *leetcode* question.\r\n\r\n    class MyQueue {\r\n    \r\n    Stack&lt;Integer&gt; input;\r\n    Stack&lt;Integer&gt; output;\r\n        public MyQueue() {\r\n            \r\n            input= new Stack&lt;&gt;();\r\n            output= new Stack&lt;&gt;();\r\n        }\r\n        \r\n        public void push(int x) {\r\n            input.push(x);\r\n        }\r\n        \r\n        public int pop() {\r\n            int val=peek();\r\n            output.pop();\r\n            return val;\r\n        }\r\n        \r\n        public int peek() {\r\n            if(output.isEmpty()){\r\n            while(input.isEmpty()==false)\r\n            output.push(input.pop());\r\n            \r\n            }\r\n            return output.peek();\r\n        }\r\n        \r\n        public boolean empty() {\r\n            \r\n            return input.isEmpty() &amp;&amp; output.isEmpty();\r\n        }\r\n    }\r\n","title":"Implemented queue using two stacks. What is the complexity of this code below O(1) or O(N)?. This is a leetcode question","body":"<p>I implemented queue using two stacks. What is the complexity of this code below: O(1) or O(N)? This is a <em>leetcode</em> question.</p>\n<pre><code>class MyQueue {\n\nStack&lt;Integer&gt; input;\nStack&lt;Integer&gt; output;\n    public MyQueue() {\n        \n        input= new Stack&lt;&gt;();\n        output= new Stack&lt;&gt;();\n    }\n    \n    public void push(int x) {\n        input.push(x);\n    }\n    \n    public int pop() {\n        int val=peek();\n        output.pop();\n        return val;\n    }\n    \n    public int peek() {\n        if(output.isEmpty()){\n        while(input.isEmpty()==false)\n        output.push(input.pop());\n        \n        }\n        return output.peek();\n    }\n    \n    public boolean empty() {\n        \n        return input.isEmpty() &amp;&amp; output.isEmpty();\n    }\n}\n</code></pre>\n"},{"tags":["java","class","object","oop","program-entry-point"],"comments":[{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":2,"creation_date":1670476187,"post_id":74725702,"comment_id":131885613,"body_markdown":"Create default constructor in Calculator class","body":"Create default constructor in Calculator class"}],"answers":[{"tags":[],"owner":{"account_id":18649806,"reputation":11,"user_id":13593531,"display_name":"Sĩ C&#225;i Thế"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670475718,"creation_date":1670475718,"answer_id":74725723,"question_id":74725702,"body_markdown":"well, you need to read about constructor in java class.&lt;br&gt;\r\nwhen you define a constructor with at least 1 parameter, the default constructor (with 0 parameter) is disable, you need to write a new no parameter constructor.","title":"I can&#39;t create the object under my class for creating calculator","body":"<p>well, you need to read about constructor in java class.<br>\nwhen you define a constructor with at least 1 parameter, the default constructor (with 0 parameter) is disable, you need to write a new no parameter constructor.</p>\n"}],"owner":{"account_id":27185487,"reputation":1,"user_id":20719996,"display_name":"Tanjim Hasan Sohan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670475718,"creation_date":1670475549,"question_id":74725702,"body_markdown":"I have created a calculator class and a main method class under the same project. But in here for creating an object in the main method, it shows &quot;actual and formal argument lists differ in length&quot;. I have attached the screenshot and also the java codes for both of my classes. \r\n\r\n1. (Class file)\r\n\r\n```\r\npublic class Calculator\r\n{\r\n     //instance variables\r\n    private double num1;\r\n    private double num2;\r\n    private double result;\r\n    private char operator;\r\n    \r\n    \r\n    public Calculator (double a, double b, double r, char op)\r\n    {\r\n        //initialize instance variables\r\n        num1= a;\r\n        num2= b;\r\n        result= r;\r\n        operator = op;\r\n        \r\n    }\r\n    \r\n    public void setnum1(double a)\r\n    {\r\n        num1 = a;\r\n    }\r\n    \r\n    public double getnum1()\r\n    {\r\n        return num1;\r\n    }\r\n    public void setnum2(double b)\r\n    {\r\n         num2= b;\r\n    }\r\n    \r\n    public double getnum2()\r\n    {\r\n        return num2;\r\n    }\r\n    \r\n    public void setoperator(char op)\r\n    {\r\n        operator = op;\r\n    }\r\n    public char getoperator()\r\n    {\r\n        return operator;\r\n    }\r\n    \r\n    public void showcalculator()\r\n    {\r\n        System.out.println(&quot;Welcome!&quot;);\r\n        System.out.println(&quot;1   2   3   +&quot;);\r\n        System.out.println(&quot;4   5   6   -&quot;);\r\n        System.out.println(&quot;7   8   9   *&quot;);\r\n        System.out.println(&quot;0   00  .    /&quot;);\r\n    }\r\n    \r\n    public String toString()\r\n    {\r\n        return (&quot;First variable:&quot;+ num1+ &quot;/n Second variable:&quot;+ num2+ &quot;/n Result of&quot;+ num1+ operator + num2+ &quot;=&quot;+ result);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n2. (Main method file)\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class CalculatorTest\r\n{\r\n    public static void main (String args[])\r\n    {\r\n        Scanner input = new Scanner (System.in);\r\n        double a,b,r;\r\n        char m;\r\n        Calculator C1 = new Calculator();\r\n        C1.showcalculator();\r\n        System.out.println(&quot;Enter your first variable: &quot;);\r\n        a = input.nextDouble();\r\n        System.out.println(&quot;Input your second variable: &quot;);\r\n        b= input.nextDouble();\r\n        System.out.println(&quot;Input the operator: &quot;);\r\n        m = input.next().charAt(0);\r\n        C1.setnum1(a);\r\n        C1.setnum2(b);\r\n        C1.setoperator(m);\r\n```\r\n\r\n\r\n \r\n\r\nI tried to create an object for Calculator class","title":"I can&#39;t create the object under my class for creating calculator","body":"<p>I have created a calculator class and a main method class under the same project. But in here for creating an object in the main method, it shows &quot;actual and formal argument lists differ in length&quot;. I have attached the screenshot and also the java codes for both of my classes.</p>\n<ol>\n<li>(Class file)</li>\n</ol>\n<pre><code>public class Calculator\n{\n     //instance variables\n    private double num1;\n    private double num2;\n    private double result;\n    private char operator;\n    \n    \n    public Calculator (double a, double b, double r, char op)\n    {\n        //initialize instance variables\n        num1= a;\n        num2= b;\n        result= r;\n        operator = op;\n        \n    }\n    \n    public void setnum1(double a)\n    {\n        num1 = a;\n    }\n    \n    public double getnum1()\n    {\n        return num1;\n    }\n    public void setnum2(double b)\n    {\n         num2= b;\n    }\n    \n    public double getnum2()\n    {\n        return num2;\n    }\n    \n    public void setoperator(char op)\n    {\n        operator = op;\n    }\n    public char getoperator()\n    {\n        return operator;\n    }\n    \n    public void showcalculator()\n    {\n        System.out.println(&quot;Welcome!&quot;);\n        System.out.println(&quot;1   2   3   +&quot;);\n        System.out.println(&quot;4   5   6   -&quot;);\n        System.out.println(&quot;7   8   9   *&quot;);\n        System.out.println(&quot;0   00  .    /&quot;);\n    }\n    \n    public String toString()\n    {\n        return (&quot;First variable:&quot;+ num1+ &quot;/n Second variable:&quot;+ num2+ &quot;/n Result of&quot;+ num1+ operator + num2+ &quot;=&quot;+ result);\n    }\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li>(Main method file)</li>\n</ol>\n<pre><code>import java.util.Scanner;\n\n\npublic class CalculatorTest\n{\n    public static void main (String args[])\n    {\n        Scanner input = new Scanner (System.in);\n        double a,b,r;\n        char m;\n        Calculator C1 = new Calculator();\n        C1.showcalculator();\n        System.out.println(&quot;Enter your first variable: &quot;);\n        a = input.nextDouble();\n        System.out.println(&quot;Input your second variable: &quot;);\n        b= input.nextDouble();\n        System.out.println(&quot;Input the operator: &quot;);\n        m = input.next().charAt(0);\n        C1.setnum1(a);\n        C1.setnum2(b);\n        C1.setoperator(m);\n</code></pre>\n<p>I tried to create an object for Calculator class</p>\n"},{"tags":["java","xml","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1670480052,"post_id":74724011,"comment_id":131886240,"body_markdown":"Try changing java version also. And give screenshot about your error!","body":"Try changing java version also. And give screenshot about your error!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1670484260,"post_id":74724011,"comment_id":131887038,"body_markdown":"Use `spring-boot-starter-hateoas` instead of a direct dependency on `hateoas` that will give you the right compatible version and dependencies. Your version is incompatible (and it uses another project as well, pulling in an incompatible version). Unrelated remove the `version` tag from the `spring-boot-maven-plugin` that is already managed by Spring Boot parent.","body":"Use <code>spring-boot-starter-hateoas</code> instead of a direct dependency on <code>hateoas</code> that will give you the right compatible version and dependencies. Your version is incompatible (and it uses another project as well, pulling in an incompatible version). Unrelated remove the <code>version</code> tag from the <code>spring-boot-maven-plugin</code> that is already managed by Spring Boot parent."}],"owner":{"account_id":19546600,"reputation":33,"user_id":14303223,"display_name":"lochlannoneill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670473635,"creation_date":1670456427,"question_id":74724011,"body_markdown":"I&#39;m working on a Spring Boot project. Initially, I started with Spring **3.0.0**, but the project specification requires the use of version **2.x** instead.\r\n\r\nI tried to manually change this in line 8 of pom.xml but am now getting an error. How do I correct this?\r\n\r\n&gt; Correct the classpath of your application so that it contains\r\n&gt; compatible versions of the classes\r\n&gt; org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar\r\n&gt; and org.springframework.beans.factory.support.RootBeanDefinition\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.lochlann&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;assignment2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;assignment2&lt;/name&gt;\r\n    \t&lt;description&gt;assignment2&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt; &lt;!-- ? after init - needed to manually add version??? --&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;  &lt;!-- ? after init - this was miss-spelled???? --&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Changing Spring Version in pom.xml","body":"<p>I'm working on a Spring Boot project. Initially, I started with Spring <strong>3.0.0</strong>, but the project specification requires the use of version <strong>2.x</strong> instead.</p>\n<p>I tried to manually change this in line 8 of pom.xml but am now getting an error. How do I correct this?</p>\n<blockquote>\n<p>Correct the classpath of your application so that it contains\ncompatible versions of the classes\norg.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar\nand org.springframework.beans.factory.support.RootBeanDefinition</p>\n</blockquote>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lochlann&lt;/groupId&gt;\n    &lt;artifactId&gt;assignment2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;assignment2&lt;/name&gt;\n    &lt;description&gt;assignment2&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt; &lt;!-- ? after init - needed to manually add version??? --&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;  &lt;!-- ? after init - this was miss-spelled???? --&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","maven-2","maven-3","maven-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1670438222,"post_id":74720165,"comment_id":131878650,"body_markdown":"please provide: Maven version, example project , logs of excuting","body":"please provide: Maven version, example project , logs of excuting"},{"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"score":0,"creation_date":1670473153,"post_id":74720165,"comment_id":131885216,"body_markdown":"@SlawomirJaranowski Thanks for your reply. Please look into the updated post.","body":"@SlawomirJaranowski Thanks for your reply. Please look into the updated post."},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1670485003,"post_id":74720165,"comment_id":131887201,"body_markdown":"Which JDK version exactly you use?","body":"Which JDK version exactly you use?"},{"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"score":0,"creation_date":1670487166,"post_id":74720165,"comment_id":131887835,"body_markdown":"@SlawomirJaranowski java version: &quot;1.8.0_291&quot;","body":"@SlawomirJaranowski java version: &quot;1.8.0_291&quot;"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1670490447,"post_id":74720165,"comment_id":131888855,"body_markdown":"Try with the last JDK 1.8 version - https://wiki.openjdk.org/display/jdk8u/Main","body":"Try with the last JDK 1.8 version - <a href=\"https://wiki.openjdk.org/display/jdk8u/Main\" rel=\"nofollow noreferrer\">wiki.openjdk.org/display/jdk8u/Main</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1670637926,"post_id":74720165,"comment_id":131926123,"body_markdown":"What is in your .m2/settings.xml file?","body":"What is in your .m2/settings.xml file?"}],"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670472820,"creation_date":1670431699,"question_id":74720165,"body_markdown":"When I try to to install maven project in local repository, I notice that pom and jar files have .lastUpdated extension. Because of this issue I cannot build my project which depends on it.\r\n\r\nI tried the following approach, but it was ineffective.\r\n\r\n1.mvn -U clean install\r\n\r\n2.project -&gt; Maven -&gt; update maven project -&gt; force update of snapshots/Releases\r\n\r\n3.Project -&gt; Run as -&gt; Maven clean(Working- build success) &amp;&amp;  Project -&gt; Run as -&gt; Maven install(build failed)\r\n\r\n**Maven Version:** Apache Maven 3.8.6\r\n\r\nI&#39;ve created a simple Maven project. I got below error in pom.xml\r\n\r\n    \r\n       Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.12.4/surefire-booter-2.12.4.pom\r\n    Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.12.4/maven-surefire-common-2.12.4.pom\r\n    Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.9/maven-reporting-api-2.0.9.pom\r\n    Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/maven-toolchain/2.0.9/maven-toolchain-2.0.9.pom\r\n    Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.1/maven-plugin-annotations-3.1.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.413 s\r\n    [INFO] Finished at: 2022-12-08T09:33:19+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project test: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: Plugin org.apache.maven.plugins:maven-surefire-plugin:2.12.4 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-surefire-plugin:jar:2.12.4 -&gt; org.apache.maven.surefire:surefire-booter:jar:2.12.4: Failed to read artifact descriptor for org.apache.maven.surefire:surefire-booter:jar:2.12.4: Could not transfer artifact org.apache.maven.surefire:surefire-booter:pom:2.12.4 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.12.4/surefire-booter-2.12.4.pom: Unsupported or unrecognized SSL message -&gt; [Help 1]\r\n\r\nAlso, I checked that the download files have the.lastupdated extension in the {userpath}\\.m2\\repository path.\r\n\r\n","title":"Maven download the *.lastupdated files","body":"<p>When I try to to install maven project in local repository, I notice that pom and jar files have .lastUpdated extension. Because of this issue I cannot build my project which depends on it.</p>\n<p>I tried the following approach, but it was ineffective.</p>\n<p>1.mvn -U clean install</p>\n<p>2.project -&gt; Maven -&gt; update maven project -&gt; force update of snapshots/Releases</p>\n<p>3.Project -&gt; Run as -&gt; Maven clean(Working- build success) &amp;&amp;  Project -&gt; Run as -&gt; Maven install(build failed)</p>\n<p><strong>Maven Version:</strong> Apache Maven 3.8.6</p>\n<p>I've created a simple Maven project. I got below error in pom.xml</p>\n<pre><code>   Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.12.4/surefire-booter-2.12.4.pom\nDownloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.12.4/maven-surefire-common-2.12.4.pom\nDownloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.9/maven-reporting-api-2.0.9.pom\nDownloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/maven-toolchain/2.0.9/maven-toolchain-2.0.9.pom\nDownloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.1/maven-plugin-annotations-3.1.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.413 s\n[INFO] Finished at: 2022-12-08T09:33:19+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project test: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: Plugin org.apache.maven.plugins:maven-surefire-plugin:2.12.4 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-surefire-plugin:jar:2.12.4 -&gt; org.apache.maven.surefire:surefire-booter:jar:2.12.4: Failed to read artifact descriptor for org.apache.maven.surefire:surefire-booter:jar:2.12.4: Could not transfer artifact org.apache.maven.surefire:surefire-booter:pom:2.12.4 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.12.4/surefire-booter-2.12.4.pom: Unsupported or unrecognized SSL message -&gt; [Help 1]\n</code></pre>\n<p>Also, I checked that the download files have the.lastupdated extension in the {userpath}.m2\\repository path.</p>\n"},{"tags":["java","clojure"],"answers":[{"tags":[],"owner":{"account_id":75852,"reputation":6507,"user_id":3743091,"display_name":"Sean Corfield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670472758,"creation_date":1670472758,"answer_id":74725440,"question_id":74723481,"body_markdown":"`project.clj` is for Leiningen, not `clj`.\r\n\r\nInstall Leiningen (if you don&#39;t have it already) and then you should be able to run `lein javac` to compile your Java source file(s) and then `lein repl` and you should be able to `(load-file &quot;vtd.clj&quot;)`\r\n","title":"Unable to import java class from clojure?","body":"<p><code>project.clj</code> is for Leiningen, not <code>clj</code>.</p>\n<p>Install Leiningen (if you don't have it already) and then you should be able to run <code>lein javac</code> to compile your Java source file(s) and then <code>lein repl</code> and you should be able to <code>(load-file &quot;vtd.clj&quot;)</code></p>\n"}],"owner":{"account_id":20605526,"reputation":137,"user_id":15277736,"display_name":"sad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670472758,"creation_date":1670451828,"question_id":74723481,"body_markdown":"Project structure:\r\n```\r\ncloj\\\r\n    void2d/\r\n        ...\r\n\r\n    vtd.clj\r\n    project.clj\r\n```\r\n\r\nvtd.clj\r\n```clojure\r\n(import &#39;(void2d Window))\r\n```\r\n\r\nproject.clj\r\n```clojure\r\n(defproject cloj &quot;0.0.1&quot;\r\n  :java-source-paths [&quot;void2d/&quot;])\r\n```\r\n\r\nWhen I running vtd.clj, I&#39;m getting this:\r\n```\r\nExecution error (ClassNotFoundException) at java.net.URLClassLoader/findClass (REPL:-1).\r\nvoid2d.Window\r\n```\r\n\r\nI&#39;m running file with ```powershell -command clj -M vtd.clj```&lt;br&gt;\r\nOS: Windows 10.\r\n\r\nI tried to google, but there is no any answers on this question.&lt;br&gt;\r\nWhat&#39;s answer, how to fix it?\r\n","title":"Unable to import java class from clojure?","body":"<p>Project structure:</p>\n<pre><code>cloj\\\n    void2d/\n        ...\n\n    vtd.clj\n    project.clj\n</code></pre>\n<p>vtd.clj</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(import '(void2d Window))\n</code></pre>\n<p>project.clj</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(defproject cloj &quot;0.0.1&quot;\n  :java-source-paths [&quot;void2d/&quot;])\n</code></pre>\n<p>When I running vtd.clj, I'm getting this:</p>\n<pre><code>Execution error (ClassNotFoundException) at java.net.URLClassLoader/findClass (REPL:-1).\nvoid2d.Window\n</code></pre>\n<p>I'm running file with <code>powershell -command clj -M vtd.clj</code><br>\nOS: Windows 10.</p>\n<p>I tried to google, but there is no any answers on this question.<br>\nWhat's answer, how to fix it?</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":3,"creation_date":1537518104,"post_id":52439379,"comment_id":91821784,"body_markdown":"It seems, as you don&#39;t want JUnit 4 tests in your project. If yes, please remove the dependency to `junit-platform-runner` ... it is only need to launch the JUnit Platform via a JUnit 4 runner. See details at https://junit.org/junit5/docs/current/user-guide/#running-tests-junit-platform-runner","body":"It seems, as you don&#39;t want JUnit 4 tests in your project. If yes, please remove the dependency to <code>junit-platform-runner</code> ... it is only need to launch the JUnit Platform via a JUnit 4 runner. See details at <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-junit-platform-runner\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":14078991,"reputation":163,"user_id":10170519,"display_name":"ayaya"},"score":0,"creation_date":1537523798,"post_id":52439379,"comment_id":91825025,"body_markdown":"@Sormuras Thank you. I removed juinit-platform-runner and it does worked. But then I find updating my intellij idea can also solve my problem.","body":"@Sormuras Thank you. I removed juinit-platform-runner and it does worked. But then I find updating my intellij idea can also solve my problem."}],"answers":[{"tags":[],"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1575877665,"creation_date":1537518585,"answer_id":52439668,"question_id":52439379,"body_markdown":"Use version `5.3.x` of the `junit-jupiter-engine` for now with Surefire `2.22.2`.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nSeems like you&#39;re struck by https://issues.apache.org/jira/browse/SUREFIRE-1564 which describes a known issue that Surefire `2.22.0` internally stays on version `1.2.0` for all `junit-platfrom-xyz` artifacts.\r\n\r\nYou should also give Surefire 3.x a try - afaik, it is compatible with all versions of JUnit: https://maven.apache.org/surefire/maven-surefire-plugin/","title":"When using JUnit5, I got a warning: &quot;ClassNotFoundException: org.junit.platform.engine.support.filter.ExclusionReasonConsumingFilter&quot;","body":"<p>Use version <code>5.3.x</code> of the <code>junit-jupiter-engine</code> for now with Surefire <code>2.22.2</code>.</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Seems like you're struck by <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1564\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SUREFIRE-1564</a> which describes a known issue that Surefire <code>2.22.0</code> internally stays on version <code>1.2.0</code> for all <code>junit-platfrom-xyz</code> artifacts.</p>\n\n<p>You should also give Surefire 3.x a try - afaik, it is compatible with all versions of JUnit: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/</a></p>\n"},{"tags":[],"owner":{"account_id":10224442,"reputation":1,"user_id":20719788,"display_name":"Raj Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670472732,"creation_date":1670472732,"answer_id":74725437,"question_id":52439379,"body_markdown":"1) When you add JUNIT5 dependency, it automatically contains &quot;junit-platform-engine&quot; and &quot;junit-jupiter-api&quot;. You can check this in Dependency Heirarchy of &quot;Pom.xml&quot;. so you can remove other dependecies you added along with JUNIT5. Just JUNIT5 dependency is sufficient.\r\n2) Also make sure there are no references to JUNIT4 dependencies. If you are trying to use mix of JUNIT and JUNT5 such warning may occur because you are tricking JVM.\r\n\r\n","title":"When using JUnit5, I got a warning: &quot;ClassNotFoundException: org.junit.platform.engine.support.filter.ExclusionReasonConsumingFilter&quot;","body":"<ol>\n<li>When you add JUNIT5 dependency, it automatically contains &quot;junit-platform-engine&quot; and &quot;junit-jupiter-api&quot;. You can check this in Dependency Heirarchy of &quot;Pom.xml&quot;. so you can remove other dependecies you added along with JUNIT5. Just JUNIT5 dependency is sufficient.</li>\n<li>Also make sure there are no references to JUNIT4 dependencies. If you are trying to use mix of JUNIT and JUNT5 such warning may occur because you are tricking JVM.</li>\n</ol>\n"}],"owner":{"account_id":14078991,"reputation":163,"user_id":10170519,"display_name":"ayaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35946,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1670472732,"creation_date":1537517483,"question_id":52439379,"body_markdown":"I&#39;m trying to use JUnit5.  \r\nFirst, I added dependencies to maven project:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThen, I created a test:\r\n\r\n    package com.example.multicurrency;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    class JunitTests {\r\n        @Test\r\n        void testAssertTrue() {\r\n            assertTrue(false);\r\n        }\r\n    }\r\n\r\nAfter that, I run the test. The following is what I have got:\r\n\r\n    org.junit.platform.launcher.core.DefaultLauncher handleThrowable\r\n    warning: TestEngine with ID &#39;junit-vintage&#39; failed to discover tests\r\n    java.lang.NoClassDefFoundError: org/junit/platform/engine/support/filter/ExclusionReasonConsumingFilter\r\n    Caused by: java.lang.ClassNotFoundException: org.junit.platform.engine.support.filter.ExclusionReasonConsumingFilter\r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :&lt;true&gt; \r\n    Actual   :&lt;false&gt;\r\n\r\nThe result was what I expected. But the warning confused me. What does the warning mean?","title":"When using JUnit5, I got a warning: &quot;ClassNotFoundException: org.junit.platform.engine.support.filter.ExclusionReasonConsumingFilter&quot;","body":"<p>I'm trying to use JUnit5.<br>\nFirst, I added dependencies to maven project:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Then, I created a test:</p>\n\n<pre><code>package com.example.multicurrency;\n\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass JunitTests {\n    @Test\n    void testAssertTrue() {\n        assertTrue(false);\n    }\n}\n</code></pre>\n\n<p>After that, I run the test. The following is what I have got:</p>\n\n<pre><code>org.junit.platform.launcher.core.DefaultLauncher handleThrowable\nwarning: TestEngine with ID 'junit-vintage' failed to discover tests\njava.lang.NoClassDefFoundError: org/junit/platform/engine/support/filter/ExclusionReasonConsumingFilter\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.engine.support.filter.ExclusionReasonConsumingFilter\n\norg.opentest4j.AssertionFailedError: \nExpected :&lt;true&gt; \nActual   :&lt;false&gt;\n</code></pre>\n\n<p>The result was what I expected. But the warning confused me. What does the warning mean?</p>\n"},{"tags":["java","android","google-cloud-firestore","firebaseui"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670472554,"creation_date":1670472554,"answer_id":74725423,"question_id":74725343,"body_markdown":"The adapters in the FirebaseUI library: they monitor the data on the server, and update to reflect changes in that data. There is no way to change the behaviors of these adapters to only load the data, and skip the monitoring. \r\n\r\nIf you don&#39;t want to reflect changes, you&#39;ll have to implement your own adapter.","title":"Why does recyclerview refreshed when new data is added in firestore?","body":"<p>The adapters in the FirebaseUI library: they monitor the data on the server, and update to reflect changes in that data. There is no way to change the behaviors of these adapters to only load the data, and skip the monitoring.</p>\n<p>If you don't want to reflect changes, you'll have to implement your own adapter.</p>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74725423,"answer_count":1,"score":0,"last_activity_date":1670472554,"creation_date":1670471602,"question_id":74725343,"body_markdown":"I don&#39;t want to refresh recyclerview items when a new data is added in firestore database. Firestore returns all documents from Student collection every time a new student is added in Firestore database. How should I prevent firestore from returning all documents when a new student is added?\r\n\r\nHere is my code:\r\n\r\n    private void load() {\r\n        Query query = createQuery();\r\n        FirestoreRecyclerOptions&lt;Student&gt; options = new FirestoreRecyclerOptions.Builder&lt;Student&gt;()\r\n                .setQuery(query, Student.class)\r\n                .build();\r\n\r\n        myStudentAdapter = new MyStudentAdapter(options);\r\n        rv.setAdapter(myStudentAdapter);\r\n        myStudentAdapter.startListening();\r\n    }\r\n\r\n    private Query createQuery() {\r\n        if (!search.isEmpty()) {\r\n            if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            }\r\n        } else {\r\n            if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year);\r\n            } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        myStudentAdapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        myStudentAdapter.stopListening();\r\n    }","title":"Why does recyclerview refreshed when new data is added in firestore?","body":"<p>I don't want to refresh recyclerview items when a new data is added in firestore database. Firestore returns all documents from Student collection every time a new student is added in Firestore database. How should I prevent firestore from returning all documents when a new student is added?</p>\n<p>Here is my code:</p>\n<pre><code>private void load() {\n    Query query = createQuery();\n    FirestoreRecyclerOptions&lt;Student&gt; options = new FirestoreRecyclerOptions.Builder&lt;Student&gt;()\n            .setQuery(query, Student.class)\n            .build();\n\n    myStudentAdapter = new MyStudentAdapter(options);\n    rv.setAdapter(myStudentAdapter);\n    myStudentAdapter.startListening();\n}\n\nprivate Query createQuery() {\n    if (!search.isEmpty()) {\n        if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        }\n    } else {\n        if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year);\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course);\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year);\n        } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;);\n        }\n    }\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n    myStudentAdapter.startListening();\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    myStudentAdapter.stopListening();\n}\n</code></pre>\n"},{"tags":["java","arrays","json","transformation","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670416817,"creation_date":1670416817,"answer_id":74716862,"question_id":74714879,"body_markdown":"You can use individual `value` arrays of their indexes to be used within the upcoming specs with a tricky zeroth member which will be removed later, after been used such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userData&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;userId&quot;: &quot;data[&amp;1].ID&quot;,\r\n          &quot;@(0,age)&quot;: &quot;data[&amp;1].age&quot;, //multiplexed this attribute in order to make it the zeroth index, which will be removed within the upcoming specs, for the &quot;address&quot; array at the same time, as indexing starts from zero ...\r\n          &quot;*&quot;: &quot;data[&amp;1].&amp;&quot;,\r\n          &quot;a*|z*|s*|c*&quot;: {//separating &quot;zipCode&quot;, &quot;street&quot;, &quot;city&quot;, &quot;country&quot; attributes from the others while using &quot;a*&quot; for &quot;age&quot; is tricky, temporarily\r\n            &quot;@&quot;: &quot;data[&amp;2].value&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;value&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;#property&quot;: &quot;&amp;4[&amp;3].address[&amp;1].custom-field&amp;1&quot;,\r\n              &quot;@(2,value[&amp;])&quot;: &quot;&amp;4[&amp;3].address[&amp;1].value&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { // the attributes are written individually to keep the desired sorting\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;ID&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;age&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;firstName&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;lastname&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;gender&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;grade&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;birthday&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;address&quot;: {\r\n            &quot;0&quot;: &quot;&amp;4[&amp;3].&amp;2[&amp;1]&quot;,\r\n            &quot;*&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;$&quot;: &quot;&amp;5[&amp;4].&amp;3[&amp;2].@(0)&quot; // key-value pairs are exchanged for this attribute\r\n              },\r\n              &quot;value&quot;: &quot;&amp;4[&amp;3].&amp;2[&amp;1].&amp;&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { // get rid of null components of the array\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"change name of property in a list to list nested json using JOLT","body":"<p>You can use individual <code>value</code> arrays of their indexes to be used within the upcoming specs with a tricky zeroth member which will be removed later, after been used such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userData&quot;: {\n        &quot;*&quot;: {\n          &quot;userId&quot;: &quot;data[&amp;1].ID&quot;,\n          &quot;@(0,age)&quot;: &quot;data[&amp;1].age&quot;, //multiplexed this attribute in order to make it the zeroth index, which will be removed within the upcoming specs, for the &quot;address&quot; array at the same time, as indexing starts from zero ...\n          &quot;*&quot;: &quot;data[&amp;1].&amp;&quot;,\n          &quot;a*|z*|s*|c*&quot;: {//separating &quot;zipCode&quot;, &quot;street&quot;, &quot;city&quot;, &quot;country&quot; attributes from the others while using &quot;a*&quot; for &quot;age&quot; is tricky, temporarily\n            &quot;@&quot;: &quot;data[&amp;2].value&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;value&quot;: {\n            &quot;*&quot;: {\n              &quot;#property&quot;: &quot;&amp;4[&amp;3].address[&amp;1].custom-field&amp;1&quot;,\n              &quot;@(2,value[&amp;])&quot;: &quot;&amp;4[&amp;3].address[&amp;1].value&quot;\n            }\n          }\n        }\n      }\n    }\n  },\n  { // the attributes are written individually to keep the desired sorting\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;*&quot;: {\n          &quot;ID&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;age&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;firstName&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;lastname&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;gender&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;grade&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;birthday&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;address&quot;: {\n            &quot;0&quot;: &quot;&amp;4[&amp;3].&amp;2[&amp;1]&quot;,\n            &quot;*&quot;: {\n              &quot;*&quot;: {\n                &quot;$&quot;: &quot;&amp;5[&amp;4].&amp;3[&amp;2].@(0)&quot; // key-value pairs are exchanged for this attribute\n              },\n              &quot;value&quot;: &quot;&amp;4[&amp;3].&amp;2[&amp;1].&amp;&quot;\n            }\n          }\n        }\n      }\n    }\n  },\n  { // get rid of null components of the array\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177686,"reputation":1402,"user_id":1153276,"accept_rate":63,"display_name":"Prasad S Deshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670437082,"creation_date":1670437082,"answer_id":74721270,"question_id":74714879,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;operation&quot;: &quot;shift&quot;,\r\n        &quot;spec&quot;: {\r\n            &quot;userData&quot;: {\r\n                &quot;*&quot;: {\r\n                    &quot;userId&quot;: &quot;data.[&amp;1].ID&quot;,\r\n                    &quot;*&quot;: &quot;data.[&amp;1].&amp;&quot;,\r\n                    &quot;zipCode&quot;: {\r\n                        &quot;#custom-field1&quot;: &quot;data[#3].address[#2].property&quot;,\r\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\r\n                    },\r\n                    &quot;street&quot;: {\r\n                        &quot;#custom-field2&quot;: &quot;data[#3].address[#2].property&quot;,\r\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\r\n                    },\r\n                    &quot;city&quot;: {\r\n                        &quot;#custom-field3&quot;: &quot;data[#3].address[#2].property&quot;,\r\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\r\n                    },\r\n                    &quot;country&quot;: {\r\n                        &quot;#custom-field4&quot;: &quot;data[#3].address[#2].property&quot;,\r\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    { // get rid of null components of the array\r\n        &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n        &quot;spec&quot;: {\r\n            &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9s4W6.png","title":"change name of property in a list to list nested json using JOLT","body":"<p><a href=\"https://i.stack.imgur.com/9s4W6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9s4W6.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;operation&quot;: &quot;shift&quot;,\n        &quot;spec&quot;: {\n            &quot;userData&quot;: {\n                &quot;*&quot;: {\n                    &quot;userId&quot;: &quot;data.[&amp;1].ID&quot;,\n                    &quot;*&quot;: &quot;data.[&amp;1].&amp;&quot;,\n                    &quot;zipCode&quot;: {\n                        &quot;#custom-field1&quot;: &quot;data[#3].address[#2].property&quot;,\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\n                    },\n                    &quot;street&quot;: {\n                        &quot;#custom-field2&quot;: &quot;data[#3].address[#2].property&quot;,\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\n                    },\n                    &quot;city&quot;: {\n                        &quot;#custom-field3&quot;: &quot;data[#3].address[#2].property&quot;,\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\n                    },\n                    &quot;country&quot;: {\n                        &quot;#custom-field4&quot;: &quot;data[#3].address[#2].property&quot;,\n                        &quot;@&quot;: &quot;data[#3].address[#2].value&quot;\n                    }\n                }\n            }\n        }\n    },\n    { // get rid of null components of the array\n        &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n        &quot;spec&quot;: {\n            &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\n        }\n    }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670471323,"creation_date":1670471323,"answer_id":74725317,"question_id":74714879,"body_markdown":"You may consider another library *Josson* to do the same job by shorter transformation statement.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;userData\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;userId\\&quot;: \\&quot;1\\&quot;,&quot; +\r\n        &quot;      \\&quot;age\\&quot;: \\&quot;20\\&quot;,&quot; +\r\n        &quot;      \\&quot;firstName\\&quot;: \\&quot;firstname1\\&quot;,&quot; +\r\n        &quot;      \\&quot;lastname\\&quot;: \\&quot;lastname1\\&quot;,&quot; +\r\n        &quot;      \\&quot;zipCode\\&quot;: \\&quot;zipcode1\\&quot;,&quot; +\r\n        &quot;      \\&quot;street\\&quot;: \\&quot;street1\\&quot;,&quot; +\r\n        &quot;      \\&quot;city\\&quot;: \\&quot;city1\\&quot;,&quot; +\r\n        &quot;      \\&quot;country\\&quot;: \\&quot;country\\&quot;,&quot; +\r\n        &quot;      \\&quot;gender\\&quot;: \\&quot;gender1\\&quot;,&quot; +\r\n        &quot;      \\&quot;grade\\&quot;: \\&quot;grade1\\&quot;,&quot; +\r\n        &quot;      \\&quot;birthday\\&quot;: \\&quot;birthday1\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;userId\\&quot;: \\&quot;2\\&quot;,&quot; +\r\n        &quot;      \\&quot;age\\&quot;: \\&quot;25\\&quot;,&quot; +\r\n        &quot;      \\&quot;firstName\\&quot;: \\&quot;firstname2\\&quot;,&quot; +\r\n        &quot;      \\&quot;lastname\\&quot;: \\&quot;lastname2\\&quot;,&quot; +\r\n        &quot;      \\&quot;zipCode\\&quot;: \\&quot;zipcode2\\&quot;,&quot; +\r\n        &quot;      \\&quot;street\\&quot;: \\&quot;street2\\&quot;,&quot; +\r\n        &quot;      \\&quot;city\\&quot;: \\&quot;city2\\&quot;,&quot; +\r\n        &quot;      \\&quot;country\\&quot;: \\&quot;country2\\&quot;,&quot; +\r\n        &quot;      \\&quot;gender\\&quot;: \\&quot;gender2\\&quot;,&quot; +\r\n        &quot;      \\&quot;grade\\&quot;: \\&quot;grade2\\&quot;,&quot; +\r\n        &quot;      \\&quot;birthday\\&quot;: \\&quot;birthday2\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(data:userData&quot; +\r\n        &quot;      .field(ID:userId, userId:,&quot; +\r\n        &quot;             zipCode:, street:, city:, country:,&quot; +\r\n        &quot;             address:collect(&quot; +\r\n        &quot;               map(property:&#39;customer-field1&#39;,value:zipCode),&quot; +\r\n        &quot;               map(property:&#39;customer-field2&#39;,value:street),&quot; +\r\n        &quot;               map(property:&#39;customer-field3&#39;,value:city),&quot; +\r\n        &quot;               map(property:&#39;customer-field4&#39;,value:country))))&quot;);\r\n    System.out.print(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;data&quot; : [ {\r\n        &quot;age&quot; : &quot;20&quot;,\r\n        &quot;firstName&quot; : &quot;firstname1&quot;,\r\n        &quot;lastname&quot; : &quot;lastname1&quot;,\r\n        &quot;gender&quot; : &quot;gender1&quot;,\r\n        &quot;grade&quot; : &quot;grade1&quot;,\r\n        &quot;birthday&quot; : &quot;birthday1&quot;,\r\n        &quot;ID&quot; : &quot;1&quot;,\r\n        &quot;address&quot; : [ {\r\n          &quot;property&quot; : &quot;customer-field1&quot;,\r\n          &quot;value&quot; : &quot;zipcode1&quot;\r\n        }, {\r\n          &quot;property&quot; : &quot;customer-field2&quot;,\r\n          &quot;value&quot; : &quot;street1&quot;\r\n        }, {\r\n          &quot;property&quot; : &quot;customer-field3&quot;,\r\n          &quot;value&quot; : &quot;city1&quot;\r\n        }, {\r\n          &quot;property&quot; : &quot;customer-field4&quot;,\r\n          &quot;value&quot; : &quot;country&quot;\r\n        } ]\r\n      }, {\r\n        &quot;age&quot; : &quot;25&quot;,\r\n        &quot;firstName&quot; : &quot;firstname2&quot;,\r\n        &quot;lastname&quot; : &quot;lastname2&quot;,\r\n        &quot;gender&quot; : &quot;gender2&quot;,\r\n        &quot;grade&quot; : &quot;grade2&quot;,\r\n        &quot;birthday&quot; : &quot;birthday2&quot;,\r\n        &quot;ID&quot; : &quot;2&quot;,\r\n        &quot;address&quot; : [ {\r\n          &quot;property&quot; : &quot;customer-field1&quot;,\r\n          &quot;value&quot; : &quot;zipcode2&quot;\r\n        }, {\r\n          &quot;property&quot; : &quot;customer-field2&quot;,\r\n          &quot;value&quot; : &quot;street2&quot;\r\n        }, {\r\n          &quot;property&quot; : &quot;customer-field3&quot;,\r\n          &quot;value&quot; : &quot;city2&quot;\r\n        }, {\r\n          &quot;property&quot; : &quot;customer-field4&quot;,\r\n          &quot;value&quot; : &quot;country2&quot;\r\n        } ]\r\n      } ]\r\n    }\r\n","title":"change name of property in a list to list nested json using JOLT","body":"<p>You may consider another library <em>Josson</em> to do the same job by shorter transformation statement.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;userData\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;userId\\&quot;: \\&quot;1\\&quot;,&quot; +\n    &quot;      \\&quot;age\\&quot;: \\&quot;20\\&quot;,&quot; +\n    &quot;      \\&quot;firstName\\&quot;: \\&quot;firstname1\\&quot;,&quot; +\n    &quot;      \\&quot;lastname\\&quot;: \\&quot;lastname1\\&quot;,&quot; +\n    &quot;      \\&quot;zipCode\\&quot;: \\&quot;zipcode1\\&quot;,&quot; +\n    &quot;      \\&quot;street\\&quot;: \\&quot;street1\\&quot;,&quot; +\n    &quot;      \\&quot;city\\&quot;: \\&quot;city1\\&quot;,&quot; +\n    &quot;      \\&quot;country\\&quot;: \\&quot;country\\&quot;,&quot; +\n    &quot;      \\&quot;gender\\&quot;: \\&quot;gender1\\&quot;,&quot; +\n    &quot;      \\&quot;grade\\&quot;: \\&quot;grade1\\&quot;,&quot; +\n    &quot;      \\&quot;birthday\\&quot;: \\&quot;birthday1\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;userId\\&quot;: \\&quot;2\\&quot;,&quot; +\n    &quot;      \\&quot;age\\&quot;: \\&quot;25\\&quot;,&quot; +\n    &quot;      \\&quot;firstName\\&quot;: \\&quot;firstname2\\&quot;,&quot; +\n    &quot;      \\&quot;lastname\\&quot;: \\&quot;lastname2\\&quot;,&quot; +\n    &quot;      \\&quot;zipCode\\&quot;: \\&quot;zipcode2\\&quot;,&quot; +\n    &quot;      \\&quot;street\\&quot;: \\&quot;street2\\&quot;,&quot; +\n    &quot;      \\&quot;city\\&quot;: \\&quot;city2\\&quot;,&quot; +\n    &quot;      \\&quot;country\\&quot;: \\&quot;country2\\&quot;,&quot; +\n    &quot;      \\&quot;gender\\&quot;: \\&quot;gender2\\&quot;,&quot; +\n    &quot;      \\&quot;grade\\&quot;: \\&quot;grade2\\&quot;,&quot; +\n    &quot;      \\&quot;birthday\\&quot;: \\&quot;birthday2\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(data:userData&quot; +\n    &quot;      .field(ID:userId, userId:,&quot; +\n    &quot;             zipCode:, street:, city:, country:,&quot; +\n    &quot;             address:collect(&quot; +\n    &quot;               map(property:'customer-field1',value:zipCode),&quot; +\n    &quot;               map(property:'customer-field2',value:street),&quot; +\n    &quot;               map(property:'customer-field3',value:city),&quot; +\n    &quot;               map(property:'customer-field4',value:country))))&quot;);\nSystem.out.print(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;data&quot; : [ {\n    &quot;age&quot; : &quot;20&quot;,\n    &quot;firstName&quot; : &quot;firstname1&quot;,\n    &quot;lastname&quot; : &quot;lastname1&quot;,\n    &quot;gender&quot; : &quot;gender1&quot;,\n    &quot;grade&quot; : &quot;grade1&quot;,\n    &quot;birthday&quot; : &quot;birthday1&quot;,\n    &quot;ID&quot; : &quot;1&quot;,\n    &quot;address&quot; : [ {\n      &quot;property&quot; : &quot;customer-field1&quot;,\n      &quot;value&quot; : &quot;zipcode1&quot;\n    }, {\n      &quot;property&quot; : &quot;customer-field2&quot;,\n      &quot;value&quot; : &quot;street1&quot;\n    }, {\n      &quot;property&quot; : &quot;customer-field3&quot;,\n      &quot;value&quot; : &quot;city1&quot;\n    }, {\n      &quot;property&quot; : &quot;customer-field4&quot;,\n      &quot;value&quot; : &quot;country&quot;\n    } ]\n  }, {\n    &quot;age&quot; : &quot;25&quot;,\n    &quot;firstName&quot; : &quot;firstname2&quot;,\n    &quot;lastname&quot; : &quot;lastname2&quot;,\n    &quot;gender&quot; : &quot;gender2&quot;,\n    &quot;grade&quot; : &quot;grade2&quot;,\n    &quot;birthday&quot; : &quot;birthday2&quot;,\n    &quot;ID&quot; : &quot;2&quot;,\n    &quot;address&quot; : [ {\n      &quot;property&quot; : &quot;customer-field1&quot;,\n      &quot;value&quot; : &quot;zipcode2&quot;\n    }, {\n      &quot;property&quot; : &quot;customer-field2&quot;,\n      &quot;value&quot; : &quot;street2&quot;\n    }, {\n      &quot;property&quot; : &quot;customer-field3&quot;,\n      &quot;value&quot; : &quot;city2&quot;\n    }, {\n      &quot;property&quot; : &quot;customer-field4&quot;,\n      &quot;value&quot; : &quot;country2&quot;\n    } ]\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":1177686,"reputation":1402,"user_id":1153276,"accept_rate":63,"display_name":"Prasad S Deshpande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74716862,"answer_count":3,"score":0,"last_activity_date":1670471323,"creation_date":1670407668,"question_id":74714879,"body_markdown":"I am news to jolt json transformation. So looking for help in transforming nested json having list of values to nested json with list as following.\r\n\r\n**Input json**\r\n\r\n```json\r\n{\r\n  &quot;userData&quot;: [\r\n    {\r\n      &quot;userId&quot;: &quot;1&quot;,\r\n      &quot;age&quot;: &quot;20&quot;,\r\n      &quot;firstName&quot;: &quot;firstname1&quot;,\r\n      &quot;lastname&quot;: &quot;lastname1&quot;,\r\n      &quot;zipCode&quot;: &quot;zipcode1&quot;,\r\n      &quot;street&quot;: &quot;street1&quot;,\r\n      &quot;city&quot;: &quot;city1&quot;,\r\n      &quot;country&quot;: &quot;country&quot;,\r\n      &quot;gender&quot;: &quot;gender1&quot;,\r\n      &quot;grade&quot;: &quot;grade1&quot;,\r\n      &quot;birthday&quot;: &quot;birthday1&quot;\r\n    },\r\n    {\r\n      &quot;userId&quot;: &quot;2&quot;,\r\n      &quot;age&quot;: &quot;25&quot;,\r\n      &quot;firstName&quot;: &quot;firstname2&quot;,\r\n      &quot;lastname&quot;: &quot;lastname2&quot;,\r\n      &quot;zipCode&quot;: &quot;zipcode2&quot;,\r\n      &quot;street&quot;: &quot;street2&quot;,\r\n      &quot;city&quot;: &quot;city2&quot;,\r\n      &quot;country&quot;: &quot;country2&quot;,\r\n      &quot;gender&quot;: &quot;gender2&quot;,\r\n      &quot;grade&quot;: &quot;grade2&quot;,\r\n      &quot;birthday&quot;: &quot;birthday2&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Jolt Specification**\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userData&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;userId&quot;: &quot;data.[&amp;1].ID&quot;,\r\n          &quot;*&quot;: &quot;data.[&amp;1].&amp;&quot;,\r\n          &quot;zipCode&quot;: {\r\n            &quot;#custom-field1&quot;: &quot;adr_&amp;1.property&quot;,\r\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\r\n          },\r\n          &quot;street&quot;: {\r\n            &quot;#custom-field2&quot;: &quot;adr_&amp;1.property&quot;,\r\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\r\n          },\r\n          &quot;city&quot;: {\r\n            &quot;#custom-field3&quot;: &quot;adr_&amp;1.property&quot;,\r\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\r\n          },\r\n          &quot;country&quot;: {\r\n            &quot;#custom-field4&quot;: &quot;adr_&amp;1.property&quot;,\r\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n\r\n```\r\n\r\n**Output**\r\n\r\n```json\r\n{\r\n  &quot;data&quot; : [ {\r\n    &quot;ID&quot; : &quot;1&quot;,\r\n    &quot;age&quot; : &quot;20&quot;,\r\n    &quot;firstName&quot; : &quot;firstname1&quot;,\r\n    &quot;lastname&quot; : &quot;lastname1&quot;,\r\n    &quot;gender&quot; : &quot;gender1&quot;,\r\n    &quot;grade&quot; : &quot;grade1&quot;,\r\n    &quot;birthday&quot; : &quot;birthday1&quot;\r\n  }, {\r\n    &quot;ID&quot; : &quot;2&quot;,\r\n    &quot;age&quot; : &quot;25&quot;,\r\n    &quot;firstName&quot; : &quot;firstname2&quot;,\r\n    &quot;lastname&quot; : &quot;lastname2&quot;,\r\n    &quot;gender&quot; : &quot;gender2&quot;,\r\n    &quot;grade&quot; : &quot;grade2&quot;,\r\n    &quot;birthday&quot; : &quot;birthday2&quot;\r\n  } ],\r\n  &quot;adr_zipCode&quot; : {\r\n    &quot;property&quot; : [ &quot;custom-field1&quot;, &quot;custom-field1&quot; ],\r\n    &quot;value&quot; : [ &quot;zipcode1&quot;, &quot;zipcode2&quot; ]\r\n  },\r\n  &quot;adr_street&quot; : {\r\n    &quot;property&quot; : [ &quot;custom-field2&quot;, &quot;custom-field2&quot; ],\r\n    &quot;value&quot; : [ &quot;street1&quot;, &quot;street2&quot; ]\r\n  },\r\n  &quot;adr_city&quot; : {\r\n    &quot;property&quot; : [ &quot;custom-field3&quot;, &quot;custom-field3&quot; ],\r\n    &quot;value&quot; : [ &quot;city1&quot;, &quot;city2&quot; ]\r\n  },\r\n  &quot;adr_country&quot; : {\r\n    &quot;property&quot; : [ &quot;custom-field4&quot;, &quot;custom-field4&quot; ],\r\n    &quot;value&quot; : [ &quot;country&quot;, &quot;country2&quot; ]\r\n  }\r\n}\r\n\r\n```\r\n\r\n**Expected json**\r\n\r\n```json\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;ID&quot;: &quot;1&quot;,\r\n      &quot;age&quot;: &quot;20&quot;,\r\n      &quot;firstName&quot;: &quot;firstname1&quot;,\r\n      &quot;lastname&quot;: &quot;lastname1&quot;,\r\n      &quot;gender&quot;: &quot;gender1&quot;,\r\n      &quot;grade&quot;: &quot;grade1&quot;,\r\n      &quot;birthday&quot;: &quot;birthday1&quot;,\r\n      &quot;address&quot;: [\r\n        {\r\n          &quot;property&quot;: &quot;custom-field1&quot;,\r\n          &quot;value&quot;: &quot;zipcode1&quot;\r\n        },\r\n        {\r\n          &quot;property&quot;: &quot;custom-field2&quot;,\r\n          &quot;value&quot;: &quot;street1&quot;\r\n        },\r\n        {\r\n          &quot;property&quot;: &quot;custom-field3&quot;,\r\n          &quot;value&quot;: &quot;city1&quot;\r\n        },\r\n        {\r\n          &quot;property&quot;: &quot;custom-field4&quot;,\r\n          &quot;value&quot;: &quot;country&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;ID&quot;: &quot;2&quot;,\r\n      &quot;age&quot;: &quot;25&quot;,\r\n      &quot;firstName&quot;: &quot;firstname2&quot;,\r\n      &quot;lastname&quot;: &quot;lastname2&quot;,\r\n      &quot;gender&quot;: &quot;gender2&quot;,\r\n      &quot;grade&quot;: &quot;grade2&quot;,\r\n      &quot;birthday&quot;: &quot;birthday2&quot;,\r\n      &quot;address&quot;: [\r\n        {\r\n          &quot;property&quot;: &quot;custom-field1&quot;,\r\n          &quot;value&quot;: &quot;zipcode2&quot;\r\n        },\r\n        {\r\n          &quot;property&quot;: &quot;custom-field2&quot;,\r\n          &quot;value&quot;: &quot;street2&quot;\r\n        },\r\n        {\r\n          &quot;property&quot;: &quot;custom-field3&quot;,\r\n          &quot;value&quot;: &quot;city2&quot;\r\n        },\r\n        {\r\n          &quot;property&quot;: &quot;custom-field4&quot;,\r\n          &quot;value&quot;: &quot;country2&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```","title":"change name of property in a list to list nested json using JOLT","body":"<p>I am news to jolt json transformation. So looking for help in transforming nested json having list of values to nested json with list as following.</p>\n<p><strong>Input json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;userData&quot;: [\n    {\n      &quot;userId&quot;: &quot;1&quot;,\n      &quot;age&quot;: &quot;20&quot;,\n      &quot;firstName&quot;: &quot;firstname1&quot;,\n      &quot;lastname&quot;: &quot;lastname1&quot;,\n      &quot;zipCode&quot;: &quot;zipcode1&quot;,\n      &quot;street&quot;: &quot;street1&quot;,\n      &quot;city&quot;: &quot;city1&quot;,\n      &quot;country&quot;: &quot;country&quot;,\n      &quot;gender&quot;: &quot;gender1&quot;,\n      &quot;grade&quot;: &quot;grade1&quot;,\n      &quot;birthday&quot;: &quot;birthday1&quot;\n    },\n    {\n      &quot;userId&quot;: &quot;2&quot;,\n      &quot;age&quot;: &quot;25&quot;,\n      &quot;firstName&quot;: &quot;firstname2&quot;,\n      &quot;lastname&quot;: &quot;lastname2&quot;,\n      &quot;zipCode&quot;: &quot;zipcode2&quot;,\n      &quot;street&quot;: &quot;street2&quot;,\n      &quot;city&quot;: &quot;city2&quot;,\n      &quot;country&quot;: &quot;country2&quot;,\n      &quot;gender&quot;: &quot;gender2&quot;,\n      &quot;grade&quot;: &quot;grade2&quot;,\n      &quot;birthday&quot;: &quot;birthday2&quot;\n    }\n  ]\n}\n</code></pre>\n<p><strong>Jolt Specification</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userData&quot;: {\n        &quot;*&quot;: {\n          &quot;userId&quot;: &quot;data.[&amp;1].ID&quot;,\n          &quot;*&quot;: &quot;data.[&amp;1].&amp;&quot;,\n          &quot;zipCode&quot;: {\n            &quot;#custom-field1&quot;: &quot;adr_&amp;1.property&quot;,\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\n          },\n          &quot;street&quot;: {\n            &quot;#custom-field2&quot;: &quot;adr_&amp;1.property&quot;,\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\n          },\n          &quot;city&quot;: {\n            &quot;#custom-field3&quot;: &quot;adr_&amp;1.property&quot;,\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\n          },\n          &quot;country&quot;: {\n            &quot;#custom-field4&quot;: &quot;adr_&amp;1.property&quot;,\n            &quot;@&quot;: &quot;adr_&amp;.value&quot;\n          }\n        }\n      }\n    }\n  }\n]\n\n</code></pre>\n<p><strong>Output</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot; : [ {\n    &quot;ID&quot; : &quot;1&quot;,\n    &quot;age&quot; : &quot;20&quot;,\n    &quot;firstName&quot; : &quot;firstname1&quot;,\n    &quot;lastname&quot; : &quot;lastname1&quot;,\n    &quot;gender&quot; : &quot;gender1&quot;,\n    &quot;grade&quot; : &quot;grade1&quot;,\n    &quot;birthday&quot; : &quot;birthday1&quot;\n  }, {\n    &quot;ID&quot; : &quot;2&quot;,\n    &quot;age&quot; : &quot;25&quot;,\n    &quot;firstName&quot; : &quot;firstname2&quot;,\n    &quot;lastname&quot; : &quot;lastname2&quot;,\n    &quot;gender&quot; : &quot;gender2&quot;,\n    &quot;grade&quot; : &quot;grade2&quot;,\n    &quot;birthday&quot; : &quot;birthday2&quot;\n  } ],\n  &quot;adr_zipCode&quot; : {\n    &quot;property&quot; : [ &quot;custom-field1&quot;, &quot;custom-field1&quot; ],\n    &quot;value&quot; : [ &quot;zipcode1&quot;, &quot;zipcode2&quot; ]\n  },\n  &quot;adr_street&quot; : {\n    &quot;property&quot; : [ &quot;custom-field2&quot;, &quot;custom-field2&quot; ],\n    &quot;value&quot; : [ &quot;street1&quot;, &quot;street2&quot; ]\n  },\n  &quot;adr_city&quot; : {\n    &quot;property&quot; : [ &quot;custom-field3&quot;, &quot;custom-field3&quot; ],\n    &quot;value&quot; : [ &quot;city1&quot;, &quot;city2&quot; ]\n  },\n  &quot;adr_country&quot; : {\n    &quot;property&quot; : [ &quot;custom-field4&quot;, &quot;custom-field4&quot; ],\n    &quot;value&quot; : [ &quot;country&quot;, &quot;country2&quot; ]\n  }\n}\n\n</code></pre>\n<p><strong>Expected json</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: [\n    {\n      &quot;ID&quot;: &quot;1&quot;,\n      &quot;age&quot;: &quot;20&quot;,\n      &quot;firstName&quot;: &quot;firstname1&quot;,\n      &quot;lastname&quot;: &quot;lastname1&quot;,\n      &quot;gender&quot;: &quot;gender1&quot;,\n      &quot;grade&quot;: &quot;grade1&quot;,\n      &quot;birthday&quot;: &quot;birthday1&quot;,\n      &quot;address&quot;: [\n        {\n          &quot;property&quot;: &quot;custom-field1&quot;,\n          &quot;value&quot;: &quot;zipcode1&quot;\n        },\n        {\n          &quot;property&quot;: &quot;custom-field2&quot;,\n          &quot;value&quot;: &quot;street1&quot;\n        },\n        {\n          &quot;property&quot;: &quot;custom-field3&quot;,\n          &quot;value&quot;: &quot;city1&quot;\n        },\n        {\n          &quot;property&quot;: &quot;custom-field4&quot;,\n          &quot;value&quot;: &quot;country&quot;\n        }\n      ]\n    },\n    {\n      &quot;ID&quot;: &quot;2&quot;,\n      &quot;age&quot;: &quot;25&quot;,\n      &quot;firstName&quot;: &quot;firstname2&quot;,\n      &quot;lastname&quot;: &quot;lastname2&quot;,\n      &quot;gender&quot;: &quot;gender2&quot;,\n      &quot;grade&quot;: &quot;grade2&quot;,\n      &quot;birthday&quot;: &quot;birthday2&quot;,\n      &quot;address&quot;: [\n        {\n          &quot;property&quot;: &quot;custom-field1&quot;,\n          &quot;value&quot;: &quot;zipcode2&quot;\n        },\n        {\n          &quot;property&quot;: &quot;custom-field2&quot;,\n          &quot;value&quot;: &quot;street2&quot;\n        },\n        {\n          &quot;property&quot;: &quot;custom-field3&quot;,\n          &quot;value&quot;: &quot;city2&quot;\n        },\n        {\n          &quot;property&quot;: &quot;custom-field4&quot;,\n          &quot;value&quot;: &quot;country2&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","json","database","csv","export"],"owner":{"account_id":16363577,"reputation":143,"user_id":11818574,"display_name":"lu_lu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670471206,"creation_date":1584008281,"question_id":60651938,"body_markdown":"I am currently working on a web application. I created a button called &quot;export&quot;, in the front end. A user click should trigger the download of a CSV file, which I generated in the back end. The CSV file is filled with values from a database table. \r\n\r\nDo I need to generate a link to pass it to the front end button (maybe with JSON?)?\r\nHow should I proceed?\r\n\r\nAdditional information: The application is programmed with Java. The framework I use is Spring-Boot. \r\n\r\n\r\n**Code for generating CSV file**\r\n\r\n```\r\npublic class readDb {\r\n\r\n    public static List&lt;Success&gt; getDataFromDb (List&lt;Success&gt; success){\r\n\r\n        System.out.println(&quot;getDataFromDb&quot;);\r\n        erfolg.forEach(System.out::println);\r\n        return erfolg;\r\n\r\n    }\r\n\r\npublic static void successExport (List&lt;Success&gt; success) throws IOException {\r\n\r\n    String csvFile = &quot;\\\\\\\\fs-vcs-02\\\\userhome\\\\username\\\\Desktop\\\\test.csv&quot;;\r\n    FileWriter writer = new FileWriter(csvFile);\r\n\r\n\r\n    CSVUtils.writeLine(writer, Arrays.asList(&quot;id&quot;, &quot;endDate&quot;, &quot;dataFromB&quot;, &quot;dataToB&quot;, &quot;dataToE&quot;, &quot;report&quot;, &quot;amountOfM&quot;, &quot;rate&quot;, &quot;amountOfA&quot;, &quot;statistics&quot;, &quot;resultP&quot;, &quot;resultN&quot;, &quot;resultO&quot;, &quot;chancel&quot;, &quot;assignmentVolume));\r\n\r\n    for (Erfolg d : erfolg) {\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(d.getId().toString());\r\n        list.add(d.getEndDate().toString());\r\n        list.add(d.getDataFromB().toString());\r\n        list.add(d.getDataToB().toString());\r\n        list.add(d.getDataToE().toString());\r\n        list.add(d.getReport().toString());\r\n        list.add(d.getAmountOfM().toString());\r\n        list.add(d.getRate().toString());\r\n        list.add(d.getAmountOfA().toString());\r\n        list.add(d.getStatistics().toString());\r\n        list.add(d.getResultP().toString());\r\n        list.add(d.getResultN().toString());\r\n        list.add(d.getResultO().toString());\r\n        list.add(d.getChancel().toString());\r\n        list.add(d.getAssignmentVolume().toString());\r\n\r\n\r\n        CSVUtils.writeLine(writer, list);\r\n    }\r\n\r\n    writer.flush();\r\n    writer.close();\r\n\r\n    }\r\n}\r\n```\r\n\r\n**Code for file export**\r\n\r\n```\r\npublic static void export() {\r\n    File f = null;\r\n    boolean bool = false;\r\n\r\n    try {\r\n        f = new File(&quot;\\\\\\\\fs-vcs-02\\\\userhome\\\\agoenkur\\\\Desktop\\\\test.csv&quot;);\r\n        bool = f.createNewFile();\r\n        System.out.println(&quot;File created: &quot;+bool);\r\n        \r\n        f.delete();\r\n        System.out.println(&quot;delete() method is invoked&quot;);\r\n        \r\n        bool = f.createNewFile();\r\n        System.out.println(&quot;File created: &quot;+bool);\r\n\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\n","title":"How to let user download -in backend generated- CSV file from frontend?","body":"<p>I am currently working on a web application. I created a button called \"export\", in the front end. A user click should trigger the download of a CSV file, which I generated in the back end. The CSV file is filled with values from a database table. </p>\n\n<p>Do I need to generate a link to pass it to the front end button (maybe with JSON?)?\nHow should I proceed?</p>\n\n<p>Additional information: The application is programmed with Java. The framework I use is Spring-Boot. </p>\n\n<p><strong>Code for generating CSV file</strong></p>\n\n<pre><code>public class readDb {\n\n    public static List&lt;Success&gt; getDataFromDb (List&lt;Success&gt; success){\n\n        System.out.println(\"getDataFromDb\");\n        erfolg.forEach(System.out::println);\n        return erfolg;\n\n    }\n\npublic static void successExport (List&lt;Success&gt; success) throws IOException {\n\n    String csvFile = \"\\\\\\\\fs-vcs-02\\\\userhome\\\\username\\\\Desktop\\\\test.csv\";\n    FileWriter writer = new FileWriter(csvFile);\n\n\n    CSVUtils.writeLine(writer, Arrays.asList(\"id\", \"endDate\", \"dataFromB\", \"dataToB\", \"dataToE\", \"report\", \"amountOfM\", \"rate\", \"amountOfA\", \"statistics\", \"resultP\", \"resultN\", \"resultO\", \"chancel\", \"assignmentVolume));\n\n    for (Erfolg d : erfolg) {\n\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(d.getId().toString());\n        list.add(d.getEndDate().toString());\n        list.add(d.getDataFromB().toString());\n        list.add(d.getDataToB().toString());\n        list.add(d.getDataToE().toString());\n        list.add(d.getReport().toString());\n        list.add(d.getAmountOfM().toString());\n        list.add(d.getRate().toString());\n        list.add(d.getAmountOfA().toString());\n        list.add(d.getStatistics().toString());\n        list.add(d.getResultP().toString());\n        list.add(d.getResultN().toString());\n        list.add(d.getResultO().toString());\n        list.add(d.getChancel().toString());\n        list.add(d.getAssignmentVolume().toString());\n\n\n        CSVUtils.writeLine(writer, list);\n    }\n\n    writer.flush();\n    writer.close();\n\n    }\n}\n</code></pre>\n\n<p><strong>Code for file export</strong></p>\n\n<pre><code>public static void export() {\n    File f = null;\n    boolean bool = false;\n\n    try {\n        f = new File(\"\\\\\\\\fs-vcs-02\\\\userhome\\\\agoenkur\\\\Desktop\\\\test.csv\");\n        bool = f.createNewFile();\n        System.out.println(\"File created: \"+bool);\n\n        f.delete();\n        System.out.println(\"delete() method is invoked\");\n\n        bool = f.createNewFile();\n        System.out.println(\"File created: \"+bool);\n\n        } catch(Exception e) {\n            e.printStackTrace();\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","thread-local","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":4952989,"reputation":2910,"user_id":3986395,"display_name":"Simas Joneliunas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670469993,"creation_date":1670469993,"answer_id":74725174,"question_id":74297077,"body_markdown":"I have eventually found the answer [here][1].\r\n\r\nThe executor has to be wrapped with otel context:\r\n```\r\npublic ExecutorService wrapExecutor(ExecutorService executor) {\r\n  return Context.taskWrapping(executor);\r\n} \r\n```\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/6201","title":"How to propagate Open Telemetry span to Executor threads in Spring Boot (or Is it possible for the span to exist in THREAD_LOCAL mode)","body":"<p>I have eventually found the answer <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/6201\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The executor has to be wrapped with otel context:</p>\n<pre><code>public ExecutorService wrapExecutor(ExecutorService executor) {\n  return Context.taskWrapping(executor);\n} \n</code></pre>\n"}],"owner":{"account_id":4952989,"reputation":2910,"user_id":3986395,"display_name":"Simas Joneliunas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74725174,"answer_count":1,"score":0,"last_activity_date":1670469993,"creation_date":1667436623,"question_id":74297077,"body_markdown":"I am trying to set up an open telemetry tracer to propagate to thread, spawned by the ThreadPoolTaskExecutor which is configured as follows\r\n```\r\nprivate DgsDataLoaderAsyncExecutor() {\r\n  ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n  executor.setCorePoolSize(1);\r\n  executor.setMaxPoolSize(100);\r\n  executor.setQueueCapacity(500);\r\n  executor.setThreadNamePrefix(&quot;threadAsync&quot;);\r\n  executor.setWaitForTasksToCompleteOnShutdown(true);\r\n  executor.setTaskDecorator(new DataLoaderTaskDecorator());\r\n  executor.initialize();\r\n  executorInstance = executor;\r\n  // spring tracer is obtained here to extract the current span later on \r\n  tracer = GlobalOpenTelemetry.getTracer(&quot;org.springframework.boot&quot;);\r\n}\r\n```\r\n\r\nLater on I call the executor as such:\r\n\r\n```\r\n/**\r\n * Only one (or no) Executor will live in the service at all times. It will be retrieved in a thread safe manner\r\n * @return executor to be used in the DataLoader\r\n */\r\npublic static synchronized Executor get() {\r\n  if (instance == null) {\r\n    instance = new DgsDataLoaderAsyncExecutor();\r\n  }\r\n  return instance.getExecutorInstance();\r\n}\r\n\r\nstatic class DataLoaderTaskDecorator implements TaskDecorator {\r\n  /**\r\n   * Currently, tenant, security, and locale contexts are passed\r\n   */\r\n  @Override\r\n  public Runnable decorate(Runnable runnable) {\r\n    // Current Web Thread context to be passed ot async\r\n    var currentSpanContext = Context.current();\r\n    var currentSpan = Span.current();\r\n    Locale locale = LocaleContextHolder.getLocale();\r\n\r\n    log.debug(&quot;Saving information for async thread...&quot;);\r\n    return () -&gt; {\r\n      // this span shows up in the parent trace as expected \r\n      Span asyncSpan = tracer.spanBuilder(&quot;DGS Executor async op&quot;)\r\n        .setParent(currentSpanContext.with(currentSpan))\r\n        .startSpan();\r\n      try {\r\n        // Async thread context\r\n        LocaleContextHolder.setLocale(locale);\r\n        log.debug(&quot;Restoring information for async thread...&quot;);\r\n        // however the spans in the thread fail to obtain the parent trace and are not linked to it\r\n        runnable.run();\r\n      } catch (Exception e) {\r\n        log.error(&quot;Error in async task&quot;, e);\r\n      } finally {\r\n        asyncSpan.end();\r\n        log.debug(&quot;DgsDataLoader has finished async execution&quot;);\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\nHowever the span fails to propagate to the thread and a new parent is created for the spans that are created in that thread. \r\n\r\n\r\n\r\n I have been able to get around that by creating a custom context where I pack the the current span \r\n\r\n```\r\nSpan asyncSpan = tracer.spanBuilder(&quot;DGS Executor async op&quot;)\r\n  .setParent(currentSpanContext.with(currentSpan))\r\n  .startSpan();\r\ntry {\r\n  SpanThreadContextHolder.setTracingSpan(asyncSpan);\r\n  // Async thread context\r\n  LocaleContextHolder.setLocale(locale);\r\n  log.debug(&quot;Restoring information for async thread...&quot;);\r\n  runnable.run();\r\n} catch (Exception e) {\r\n  log.error(&quot;Error in async task&quot;, e);\r\n} finally {\r\n  SpanThreadContextHolder.removeTracingSpan();\r\n```\r\nbut that comes with a side effect where the downstream code has to be aware of it and activate it through\r\n\r\n```\r\n// inside runnable.run()\r\nvar span = SpanThreadContextHolder.getOpenTracingSpan()\r\nif (span!= null) {\r\n    Context.current().with(span).makeCurrent()\r\n}\r\n```\r\n\r\nWith all this story done, my question is:\r\nis it possible to automatically propagate the span to the other threads spawned from the master thread, having the span exist in a THREAD_LOCAL mode?","title":"How to propagate Open Telemetry span to Executor threads in Spring Boot (or Is it possible for the span to exist in THREAD_LOCAL mode)","body":"<p>I am trying to set up an open telemetry tracer to propagate to thread, spawned by the ThreadPoolTaskExecutor which is configured as follows</p>\n<pre><code>private DgsDataLoaderAsyncExecutor() {\n  ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n  executor.setCorePoolSize(1);\n  executor.setMaxPoolSize(100);\n  executor.setQueueCapacity(500);\n  executor.setThreadNamePrefix(&quot;threadAsync&quot;);\n  executor.setWaitForTasksToCompleteOnShutdown(true);\n  executor.setTaskDecorator(new DataLoaderTaskDecorator());\n  executor.initialize();\n  executorInstance = executor;\n  // spring tracer is obtained here to extract the current span later on \n  tracer = GlobalOpenTelemetry.getTracer(&quot;org.springframework.boot&quot;);\n}\n</code></pre>\n<p>Later on I call the executor as such:</p>\n<pre><code>/**\n * Only one (or no) Executor will live in the service at all times. It will be retrieved in a thread safe manner\n * @return executor to be used in the DataLoader\n */\npublic static synchronized Executor get() {\n  if (instance == null) {\n    instance = new DgsDataLoaderAsyncExecutor();\n  }\n  return instance.getExecutorInstance();\n}\n\nstatic class DataLoaderTaskDecorator implements TaskDecorator {\n  /**\n   * Currently, tenant, security, and locale contexts are passed\n   */\n  @Override\n  public Runnable decorate(Runnable runnable) {\n    // Current Web Thread context to be passed ot async\n    var currentSpanContext = Context.current();\n    var currentSpan = Span.current();\n    Locale locale = LocaleContextHolder.getLocale();\n\n    log.debug(&quot;Saving information for async thread...&quot;);\n    return () -&gt; {\n      // this span shows up in the parent trace as expected \n      Span asyncSpan = tracer.spanBuilder(&quot;DGS Executor async op&quot;)\n        .setParent(currentSpanContext.with(currentSpan))\n        .startSpan();\n      try {\n        // Async thread context\n        LocaleContextHolder.setLocale(locale);\n        log.debug(&quot;Restoring information for async thread...&quot;);\n        // however the spans in the thread fail to obtain the parent trace and are not linked to it\n        runnable.run();\n      } catch (Exception e) {\n        log.error(&quot;Error in async task&quot;, e);\n      } finally {\n        asyncSpan.end();\n        log.debug(&quot;DgsDataLoader has finished async execution&quot;);\n      }\n    };\n  }\n}\n</code></pre>\n<p>However the span fails to propagate to the thread and a new parent is created for the spans that are created in that thread.</p>\n<p>I have been able to get around that by creating a custom context where I pack the the current span</p>\n<pre><code>Span asyncSpan = tracer.spanBuilder(&quot;DGS Executor async op&quot;)\n  .setParent(currentSpanContext.with(currentSpan))\n  .startSpan();\ntry {\n  SpanThreadContextHolder.setTracingSpan(asyncSpan);\n  // Async thread context\n  LocaleContextHolder.setLocale(locale);\n  log.debug(&quot;Restoring information for async thread...&quot;);\n  runnable.run();\n} catch (Exception e) {\n  log.error(&quot;Error in async task&quot;, e);\n} finally {\n  SpanThreadContextHolder.removeTracingSpan();\n</code></pre>\n<p>but that comes with a side effect where the downstream code has to be aware of it and activate it through</p>\n<pre><code>// inside runnable.run()\nvar span = SpanThreadContextHolder.getOpenTracingSpan()\nif (span!= null) {\n    Context.current().with(span).makeCurrent()\n}\n</code></pre>\n<p>With all this story done, my question is:\nis it possible to automatically propagate the span to the other threads spawned from the master thread, having the span exist in a THREAD_LOCAL mode?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"score":0,"creation_date":1482591562,"post_id":41314177,"comment_id":69832028,"body_markdown":"You can accept an answer if you feel your query is resolved.","body":"You can accept an answer if you feel your query is resolved."}],"answers":[{"tags":[],"owner":{"account_id":1583220,"reputation":7661,"user_id":1468093,"accept_rate":86,"display_name":"Kamran Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482592230,"creation_date":1482590679,"answer_id":41314232,"question_id":41314177,"body_markdown":"Try this:\r\n    \r\n    File file = new File(myDir, at.getText().toString() + &quot;.jpg&quot;); \r\n\r\n    for (int num = 0; file.exists(); num++) {\r\n        file = new File(myDir, at.getText().toString() + num + &quot;.jpg&quot;);\r\n    }\r\n\r\n    // Now save/use your file here","title":"How to increment the filename number if the file exists","body":"<p>Try this:</p>\n\n<pre><code>File file = new File(myDir, at.getText().toString() + \".jpg\"); \n\nfor (int num = 0; file.exists(); num++) {\n    file = new File(myDir, at.getText().toString() + num + \".jpg\");\n}\n\n// Now save/use your file here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482590892,"creation_date":1482590892,"answer_id":41314257,"question_id":41314177,"body_markdown":"    int i = 0;\r\n    String save = at.getText().toString();\r\n    String filename = save +&quot;.jpg&quot;;\r\n    File f = new File(filename);\r\n    while (f.exists()) {\r\n        i++;\r\n        filename =save+ Integer.toString(i)+&quot;.jpg&quot;;\r\n        f = new File(filename);\r\n    }\r\n    f.createNewFile();\r\n ","title":"How to increment the filename number if the file exists","body":"<pre><code>int i = 0;\nString save = at.getText().toString();\nString filename = save +\".jpg\";\nFile f = new File(filename);\nwhile (f.exists()) {\n    i++;\n    filename =save+ Integer.toString(i)+\".jpg\";\n    f = new File(filename);\n}\nf.createNewFile();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8801637,"reputation":378,"user_id":6577550,"display_name":"nartoan"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1670469599,"creation_date":1482591833,"answer_id":41314370,"question_id":41314177,"body_markdown":"This problem is to always initialize `num = 0`, so if `file` exists, it saves `file0.jpg` and does not check whether `file0.jpg` exists.\r\n\r\nSo, to code work. You should check until it is available:\r\n\r\n    int num = 0;\r\n    String save = at.getText().toString() + &quot;.jpg&quot;;\r\n    File file = new File(myDir, save);\r\n    while(file.exists()) {\r\n        save = at.getText().toString() + (num++) + &quot;.jpg&quot;;\r\n        file = new File(myDir, save);\r\n    }\r\n\r\n","title":"How to increment the filename number if the file exists","body":"<p>This problem is to always initialize <code>num = 0</code>, so if <code>file</code> exists, it saves <code>file0.jpg</code> and does not check whether <code>file0.jpg</code> exists.</p>\n<p>So, to code work. You should check until it is available:</p>\n<pre><code>int num = 0;\nString save = at.getText().toString() + &quot;.jpg&quot;;\nFile file = new File(myDir, save);\nwhile(file.exists()) {\n    save = at.getText().toString() + (num++) + &quot;.jpg&quot;;\n    file = new File(myDir, save);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11678785,"reputation":120,"user_id":8551300,"display_name":"Tejas Trivedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670469095,"creation_date":1552325658,"answer_id":55107414,"question_id":41314177,"body_markdown":"This function returns the *exact* new file with an increment number for all kind of extensions.\r\n\r\n    private File getFileName(File file) {\r\n        if (file.exists()) {\r\n            String newFileName = file.getName();\r\n            String simpleName = file.getName().substring(0, newFileName.indexOf(&quot;.&quot;));\r\n            String strDigit = &quot;&quot;;\r\n\r\n            try {\r\n                simpleName = (Integer.parseInt(simpleName) + 1 + &quot;&quot;);\r\n                File newFile = new File(file.getParent() + &quot;/&quot; + simpleName + getExtension(file.getName()));\r\n                return getFileName(newFile);\r\n            }\r\n            catch (Exception e){\r\n            }\r\n\r\n            for (int i=simpleName.length()-1; i&gt;=0; i--) {\r\n                if (!Character.isDigit(simpleName.charAt(i))) {\r\n                    strDigit = simpleName.substring(i + 1);\r\n                    simpleName = simpleName.substring(0, i+1);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (strDigit.length() &gt; 0) {\r\n                simpleName = simpleName + (Integer.parseInt(strDigit) + 1);\r\n            }\r\n            else {\r\n                simpleName += &quot;1&quot;;\r\n            }\r\n\r\n            File newFile = new File(file.getParent() + &quot;/&quot; + simpleName + getExtension(file.getName()));\r\n            return getFileName(newFile);\r\n        }\r\n        return file;\r\n    }\r\n\r\n    private String getExtension(String name) {\r\n        return name.substring(name.lastIndexOf(&quot;.&quot;));\r\n    }\r\n","title":"How to increment the filename number if the file exists","body":"<p>This function returns the <em>exact</em> new file with an increment number for all kind of extensions.</p>\n<pre><code>private File getFileName(File file) {\n    if (file.exists()) {\n        String newFileName = file.getName();\n        String simpleName = file.getName().substring(0, newFileName.indexOf(&quot;.&quot;));\n        String strDigit = &quot;&quot;;\n\n        try {\n            simpleName = (Integer.parseInt(simpleName) + 1 + &quot;&quot;);\n            File newFile = new File(file.getParent() + &quot;/&quot; + simpleName + getExtension(file.getName()));\n            return getFileName(newFile);\n        }\n        catch (Exception e){\n        }\n\n        for (int i=simpleName.length()-1; i&gt;=0; i--) {\n            if (!Character.isDigit(simpleName.charAt(i))) {\n                strDigit = simpleName.substring(i + 1);\n                simpleName = simpleName.substring(0, i+1);\n                break;\n            }\n        }\n\n        if (strDigit.length() &gt; 0) {\n            simpleName = simpleName + (Integer.parseInt(strDigit) + 1);\n        }\n        else {\n            simpleName += &quot;1&quot;;\n        }\n\n        File newFile = new File(file.getParent() + &quot;/&quot; + simpleName + getExtension(file.getName()));\n        return getFileName(newFile);\n    }\n    return file;\n}\n\nprivate String getExtension(String name) {\n    return name.substring(name.lastIndexOf(&quot;.&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507404,"reputation":9607,"user_id":1410465,"accept_rate":87,"display_name":"svarog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558342997,"creation_date":1558342471,"answer_id":56217416,"question_id":41314177,"body_markdown":"You can avoid the code repetition of some of the answers here by using a `do while` loop\r\n\r\nHere&#39;s an example using the newer NIO Path API introduced in Java 7\r\n\r\n    Path candidate = null;\r\n    int counter = 0;\r\n    do {\r\n        candidate = Paths.get(String.format(&quot;%s-%d&quot;,\r\n                path.toString(), ++counter));\r\n    } while (Files.exists(candidate));\r\n    Files.createFile(candidate);","title":"How to increment the filename number if the file exists","body":"<p>You can avoid the code repetition of some of the answers here by using a <code>do while</code> loop</p>\n\n<p>Here's an example using the newer NIO Path API introduced in Java 7</p>\n\n<pre><code>Path candidate = null;\nint counter = 0;\ndo {\n    candidate = Paths.get(String.format(\"%s-%d\",\n            path.toString(), ++counter));\n} while (Files.exists(candidate));\nFiles.createFile(candidate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4746522,"reputation":138,"user_id":3837732,"display_name":"cpuchip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670469256,"creation_date":1596695980,"answer_id":63278111,"question_id":41314177,"body_markdown":"Having needed to solve this problem in my own code, I took [Tejas Trivedi&#39;s answer][1], made it work like Windows when you happen to download the same file several times.\r\n\r\n    // This function will iteratively to find a unique file name to use when given a file: example (###).txt\r\n    // More or less how Windows will save a new file when one already exists: &#39;example.txt&#39; becomes &#39;example (1).txt&#39;.\r\n    // if example.txt already exists\r\n    private File getUniqueFileName(File file) {\r\n        File originalFile = file;\r\n        try {\r\n            while (file.exists()) {\r\n                String newFileName = file.getName();\r\n                String baseName = newFileName.substring(0, newFileName.lastIndexOf(&quot;.&quot;));\r\n                String extension = getExtension(newFileName);\r\n\r\n                Pattern pattern = Pattern.compile(&quot;( \\\\(\\\\d+\\\\))\\\\.&quot;); // Find &#39; (###).&#39; in the file name, if it exists\r\n                Matcher matcher = pattern.matcher(newFileName);\r\n\r\n                String strDigits = &quot;&quot;;\r\n                if (matcher.find()) {\r\n                    baseName = baseName.substring(0, matcher.start(0)); // Remove the (###)\r\n                    strDigits = matcher.group(0); // Grab the ### we&#39;ll want to increment\r\n                    strDigits = strDigits.substring(strDigits.indexOf(&quot;(&quot;) + 1, strDigits.lastIndexOf(&quot;)&quot;)); // Strip off the &#39; (&#39; and &#39;).&#39; from the match\r\n                    // Increment the found digit and convert it back to a string\r\n                    int count = Integer.parseInt(strDigits);\r\n                    strDigits = Integer.toString(count + 1);\r\n                } else {\r\n                    strDigits = &quot;1&quot;; // If there is no (###) match then start with 1\r\n                }\r\n                file = new File(file.getParent() + &quot;/&quot; + baseName + &quot; (&quot; + strDigits + &quot;)&quot; + extension); // Put the pieces back together\r\n            }\r\n            return file;\r\n        } catch (Error e) {\r\n            return originalFile; // Just overwrite the original file at this point...\r\n        }\r\n    }\r\n\r\n    private String getExtension(String name) {\r\n        return name.substring(name.lastIndexOf(&quot;.&quot;));\r\n    }\r\n\r\nCalling `getUniqueFileName(new File(&#39;/dir/example.txt&#39;)` when &#39;example.txt&#39; already exists while generate a new File targeting &#39;/dir/example (1).txt&#39; if that too exists it&#39;ll just keep incrementing number between the parentheses until a unique file is found, if an error happens, it&#39;ll just give the original file name.\r\n\r\nI hope this helps some one needing to generate a unique file in Java on Android or another platform.\r\n\r\n  [1]: https://stackoverflow.com/questions/41314177/how-to-increment-filename-if-file-exists/55107414#55107414\r\n","title":"How to increment the filename number if the file exists","body":"<p>Having needed to solve this problem in my own code, I took <a href=\"https://stackoverflow.com/questions/41314177/how-to-increment-filename-if-file-exists/55107414#55107414\">Tejas Trivedi's answer</a>, made it work like Windows when you happen to download the same file several times.</p>\n<pre><code>// This function will iteratively to find a unique file name to use when given a file: example (###).txt\n// More or less how Windows will save a new file when one already exists: 'example.txt' becomes 'example (1).txt'.\n// if example.txt already exists\nprivate File getUniqueFileName(File file) {\n    File originalFile = file;\n    try {\n        while (file.exists()) {\n            String newFileName = file.getName();\n            String baseName = newFileName.substring(0, newFileName.lastIndexOf(&quot;.&quot;));\n            String extension = getExtension(newFileName);\n\n            Pattern pattern = Pattern.compile(&quot;( \\\\(\\\\d+\\\\))\\\\.&quot;); // Find ' (###).' in the file name, if it exists\n            Matcher matcher = pattern.matcher(newFileName);\n\n            String strDigits = &quot;&quot;;\n            if (matcher.find()) {\n                baseName = baseName.substring(0, matcher.start(0)); // Remove the (###)\n                strDigits = matcher.group(0); // Grab the ### we'll want to increment\n                strDigits = strDigits.substring(strDigits.indexOf(&quot;(&quot;) + 1, strDigits.lastIndexOf(&quot;)&quot;)); // Strip off the ' (' and ').' from the match\n                // Increment the found digit and convert it back to a string\n                int count = Integer.parseInt(strDigits);\n                strDigits = Integer.toString(count + 1);\n            } else {\n                strDigits = &quot;1&quot;; // If there is no (###) match then start with 1\n            }\n            file = new File(file.getParent() + &quot;/&quot; + baseName + &quot; (&quot; + strDigits + &quot;)&quot; + extension); // Put the pieces back together\n        }\n        return file;\n    } catch (Error e) {\n        return originalFile; // Just overwrite the original file at this point...\n    }\n}\n\nprivate String getExtension(String name) {\n    return name.substring(name.lastIndexOf(&quot;.&quot;));\n}\n</code></pre>\n<p>Calling <code>getUniqueFileName(new File('/dir/example.txt')</code> when 'example.txt' already exists while generate a new File targeting '/dir/example (1).txt' if that too exists it'll just keep incrementing number between the parentheses until a unique file is found, if an error happens, it'll just give the original file name.</p>\n<p>I hope this helps some one needing to generate a unique file in Java on Android or another platform.</p>\n"},{"tags":[],"owner":{"account_id":3365298,"reputation":188,"user_id":2826080,"display_name":"Bibin Baby"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670468841,"creation_date":1604652088,"answer_id":64711323,"question_id":41314177,"body_markdown":"In addition to the first answer, I made some more changes:\r\n\r\n    private File getUniqueFileName(String folderName, String searchedFilename) {\r\n        int num = 1;\r\n        String extension = getExtension(searchedFilename);\r\n        String filename = searchedFilename.substring(0, searchedFilename.lastIndexOf(&quot;.&quot;));\r\n        File file = new File(folderName, searchedFilename);\r\n        while (file.exists()) {\r\n            searchedFilename = filename + &quot;(&quot; + (num++) + &quot;)&quot; + extension;\r\n            file = new File(folderName, searchedFilename);\r\n        }\r\n        return file;\r\n    }\r\n","title":"How to increment the filename number if the file exists","body":"<p>In addition to the first answer, I made some more changes:</p>\n<pre><code>private File getUniqueFileName(String folderName, String searchedFilename) {\n    int num = 1;\n    String extension = getExtension(searchedFilename);\n    String filename = searchedFilename.substring(0, searchedFilename.lastIndexOf(&quot;.&quot;));\n    File file = new File(folderName, searchedFilename);\n    while (file.exists()) {\n        searchedFilename = filename + &quot;(&quot; + (num++) + &quot;)&quot; + extension;\n        file = new File(folderName, searchedFilename);\n    }\n    return file;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10618274,"reputation":853,"user_id":7820107,"display_name":"hardik parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616857647,"creation_date":1616857647,"answer_id":66832800,"question_id":41314177,"body_markdown":"# Kotlin version:\r\n\r\n    private fun checkAndRenameIfExists(name: String): File {\r\n        var filename = name\r\n        val extension = &quot;pdf&quot;\r\n        val root = Environment.getExternalStorageDirectory().absolutePath\r\n        var file = File(root, &quot;$filename.$extension&quot;)\r\n        var n = 0\r\n        while (file.exists()) {\r\n            n += 1\r\n            filename = &quot;$name($n)&quot;\r\n            file = File(root, appDirectoryName + File.separator + &quot;$filename.$extension&quot;)\r\n        }\r\n        return file\r\n    }","title":"How to increment the filename number if the file exists","body":"<h1>Kotlin version:</h1>\n<pre><code>private fun checkAndRenameIfExists(name: String): File {\n    var filename = name\n    val extension = &quot;pdf&quot;\n    val root = Environment.getExternalStorageDirectory().absolutePath\n    var file = File(root, &quot;$filename.$extension&quot;)\n    var n = 0\n    while (file.exists()) {\n        n += 1\n        filename = &quot;$name($n)&quot;\n        file = File(root, appDirectoryName + File.separator + &quot;$filename.$extension&quot;)\n    }\n    return file\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11465758,"reputation":11,"user_id":8403997,"display_name":"JulienH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670468744,"creation_date":1643388029,"answer_id":70897150,"question_id":41314177,"body_markdown":"This is the solution I use to handle this case. It works for folders as well as for files.\r\n\r\n```\r\nvar destination = File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;MyFolder&quot;)\r\n\r\nif (!destination.exists()) {\r\n    destination.mkdirs()\r\n} else {\r\n    val numberOfFileAlreadyExist =\r\n        destination.listFiles().filter { it.name.startsWith(&quot;MyFolder&quot;) }.size\r\n    destination = File(\r\n        Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),\r\n        &quot;MyFolder(${numberOfFileAlreadyExist + 1})&quot;\r\n    )\r\n    destination.mkdirs()\r\n}\r\n```\r\n\r\n","title":"How to increment the filename number if the file exists","body":"<p>This is the solution I use to handle this case. It works for folders as well as for files.</p>\n<pre><code>var destination = File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;MyFolder&quot;)\n\nif (!destination.exists()) {\n    destination.mkdirs()\n} else {\n    val numberOfFileAlreadyExist =\n        destination.listFiles().filter { it.name.startsWith(&quot;MyFolder&quot;) }.size\n    destination = File(\n        Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS),\n        &quot;MyFolder(${numberOfFileAlreadyExist + 1})&quot;\n    )\n    destination.mkdirs()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26018164,"reputation":1,"user_id":19726217,"display_name":"SankarRaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670468630,"creation_date":1660099855,"answer_id":73300099,"question_id":41314177,"body_markdown":"Another simple logic solution to get the unique file name under a directory using Apache [Commons&amp;nbsp;IO][1] using `WildcardFileFilter` to match the file name and get the number of exists with the given name and increment the counter.\r\n\r\n```java\r\npublic static String getUniqueFileName(String directory, String fileName) {\r\n  String fName = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\r\n  Collection&lt;File&gt; listFiles = FileUtils.listFiles(new File(directory), new WildcardFileFilter(fName + &quot;*&quot;, IOCase.INSENSITIVE), DirectoryFileFilter.DIRECTORY);\r\n  if(listFiles.isEmpty()) {\r\n    return fName;\r\n  }\r\n  return fName.concat(&quot; (&quot; + listFiles.size() + &quot;)&quot;);\r\n}\r\n```\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/\r\n","title":"How to increment the filename number if the file exists","body":"<p>Another simple logic solution to get the unique file name under a directory using Apache <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Commons IO</a> using <code>WildcardFileFilter</code> to match the file name and get the number of exists with the given name and increment the counter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getUniqueFileName(String directory, String fileName) {\n  String fName = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\n  Collection&lt;File&gt; listFiles = FileUtils.listFiles(new File(directory), new WildcardFileFilter(fName + &quot;*&quot;, IOCase.INSENSITIVE), DirectoryFileFilter.DIRECTORY);\n  if(listFiles.isEmpty()) {\n    return fName;\n  }\n  return fName.concat(&quot; (&quot; + listFiles.size() + &quot;)&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22815,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41314370,"answer_count":10,"score":8,"last_activity_date":1670469599,"creation_date":1482590248,"question_id":41314177,"body_markdown":"How can I increment the filename if the file already exists?\r\n\r\nHere&#39;s the code that I am using -\r\n\r\n    int num = 0;\r\n\r\n    String save = at.getText().toString() + &quot;.jpg&quot;;\r\n\r\n    File file = new File(myDir, save);\r\n\r\n    if (file.exists()) {\r\n        save = at.getText().toString() + num + &quot;.jpg&quot;;\r\n\r\n        file = new File(myDir, save);\r\n        num++;\r\n    }\r\n\r\nThis code works, but only two files are saved, like *file.jpg* and *file2.jpg*.\r\n\r\n","title":"How to increment the filename number if the file exists","body":"<p>How can I increment the filename if the file already exists?</p>\n<p>Here's the code that I am using -</p>\n<pre><code>int num = 0;\n\nString save = at.getText().toString() + &quot;.jpg&quot;;\n\nFile file = new File(myDir, save);\n\nif (file.exists()) {\n    save = at.getText().toString() + num + &quot;.jpg&quot;;\n\n    file = new File(myDir, save);\n    num++;\n}\n</code></pre>\n<p>This code works, but only two files are saved, like <em>file.jpg</em> and <em>file2.jpg</em>.</p>\n"},{"tags":["java","unit-testing","mockito","spy"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670459700,"post_id":74724289,"comment_id":131883456,"body_markdown":"The code of `MyClass` is missing essential parts, namely method `geturl(String, String, String, int, String)`. Please [edit] the post and add the post. --- Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- A remark: we should favor mockito&#39;s `when(...).thenReturn(...)` syntax over `doReturn(...).when(...)` since the former guarantees type safety.","body":"The code of <code>MyClass</code> is missing essential parts, namely method <code>geturl(String, String, String, int, String)</code>. Please <a href=\"https://stackoverflow.com/posts/74724289/edit\">edit</a> the post and add the post. --- Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- A remark: we should favor mockito&#39;s <code>when(...).thenReturn(...)</code> syntax over <code>doReturn(...).when(...)</code> since the former guarantees type safety."},{"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"score":0,"creation_date":1670459967,"post_id":74724289,"comment_id":131883502,"body_markdown":"Hey, thanks for the reply. I have edited my question and added the missing parameters for the methods. I have already tried when(...).thenReturn(...) but I&#39;ve got the same result.","body":"Hey, thanks for the reply. I have edited my question and added the missing parameters for the methods. I have already tried when(...).thenReturn(...) but I&#39;ve got the same result."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670459992,"post_id":74724289,"comment_id":131883509,"body_markdown":"What does `getContext()` do? Also, please [edit] the post and add the stack trace. Something is not properly initialized. And `@Spy` will not work this way. What you want is most probably `MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));`","body":"What does <code>getContext()</code> do? Also, please <a href=\"https://stackoverflow.com/posts/74724289/edit\">edit</a> the post and add the stack trace. Something is not properly initialized. And <code>@Spy</code> will not work this way. What you want is most probably <code>MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670460764,"post_id":74724289,"comment_id":131883598,"body_markdown":"Yep, pretty sure that this is due to the wrong spy initialization. Please try using `MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));` and remove the annotation.","body":"Yep, pretty sure that this is due to the wrong spy initialization. Please try using <code>MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));</code> and remove the annotation."},{"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"score":0,"creation_date":1670465264,"post_id":74724289,"comment_id":131884226,"body_markdown":"Hi Turing85, thanks for the help. I tried replacing the initialization of the spied object following your suggestion, but I&#39;m still facing the same issue. A NPE is getting thrown inside the private method getUrlContext(). I have updated the code with the latest changes.","body":"Hi Turing85, thanks for the help. I tried replacing the initialization of the spied object following your suggestion, but I&#39;m still facing the same issue. A NPE is getting thrown inside the private method getUrlContext(). I have updated the code with the latest changes."},{"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"score":0,"creation_date":1670465570,"post_id":74724289,"comment_id":131884264,"body_markdown":"The error is happening inside the &quot;when&quot; clause after calling getUrl(). The private method is responsible for calling other classes to build the response based on the parameters. All the String parameters are empty and the integer is 0 when getUrl() is called.","body":"The error is happening inside the &quot;when&quot; clause after calling getUrl(). The private method is responsible for calling other classes to build the response based on the parameters. All the String parameters are empty and the integer is 0 when getUrl() is called."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1670510691,"post_id":74724289,"comment_id":131895632,"body_markdown":"Why are you mocking the class which you are testing? That feels wrong …","body":"Why are you mocking the class which you are testing? That feels wrong …"}],"answers":[{"tags":[],"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670468016,"creation_date":1670468016,"answer_id":74724998,"question_id":74724289,"body_markdown":"What actually worked for me was using this:\r\n\r\n```\r\nMockito.doReturn(&quot;http://www.url.com&quot;).when(myClass).getUrl(anyString(), anyString(), anyString(), anyInt(), anyString());\r\n```\r\n\r\nThanks @Turing85 for also helping me through this.\r\n\r\nThis is the full test class:\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.Mockito.anyInt;\r\nimport static org.mockito.Mockito.anyString;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyClassTest{\r\n\r\n  MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));\r\n\r\n  @Test\r\n  void shouldGenerateUrl() {\r\n\r\n  @Test\r\n  void shouldGenerateUrlWithAspectsAppended() {\r\n    Mockito.doReturn(&quot;http://www.url.com&quot;).when(myClass).getUrl(anyString(), anyString(), anyString(), anyInt(), anyString());\r\n    String result = myClass.getUrlAndAppend(&quot;1234&quot;, &quot;test&quot;, &quot;test&quot;, 1, &quot;test&quot;, null);\r\n    assertThat(result).isEqualTo(&quot;http://www.url.com&quot;);\r\n  }\r\n}\r\n```","title":"When clause is throwing NPE when calling the method specified in the behavior","body":"<p>What actually worked for me was using this:</p>\n<pre><code>Mockito.doReturn(&quot;http://www.url.com&quot;).when(myClass).getUrl(anyString(), anyString(), anyString(), anyInt(), anyString());\n</code></pre>\n<p>Thanks @Turing85 for also helping me through this.</p>\n<p>This is the full test class:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.anyInt;\nimport static org.mockito.Mockito.anyString;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyClassTest{\n\n  MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));\n\n  @Test\n  void shouldGenerateUrl() {\n\n  @Test\n  void shouldGenerateUrlWithAspectsAppended() {\n    Mockito.doReturn(&quot;http://www.url.com&quot;).when(myClass).getUrl(anyString(), anyString(), anyString(), anyInt(), anyString());\n    String result = myClass.getUrlAndAppend(&quot;1234&quot;, &quot;test&quot;, &quot;test&quot;, 1, &quot;test&quot;, null);\n    assertThat(result).isEqualTo(&quot;http://www.url.com&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74724998,"answer_count":1,"score":-1,"last_activity_date":1670468016,"creation_date":1670459369,"question_id":74724289,"body_markdown":"The class that I want to test is structured in the following manner:\r\n\r\n```\r\npublic getUrl(final String str1, final String str2, final String str3, final int int1, final String string4) {\r\n//calls getContext();\r\n}\r\n\r\npublic getUrlAndAppend(final String str1, final String str2, final String str3, final int int1, final String string4, final Map&lt;String, String&gt; map){\r\n//calls getUrl();\r\n}\r\n\r\nprivate getContext(final String str1, final String str2, final String str3, final int int1, final String string4);\r\n```\r\n\r\nAll the 3 methods have the exact same set of parameters with the exception of getUrlAndAppend() that has an extra Map.\r\n\r\nI am trying to test only the getUrlAndAppend() method which is calling the public getUrl() that eventually calls the private method getContext(). This is my test class so far:\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.Spy;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.Mockito.anyInt;\r\nimport static org.mockito.Mockito.anyString;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyClassTest{\r\n\r\n  MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));\r\n\r\n  @Test\r\n  void shouldGenerateUrl() {\r\n\r\n    when(myClass.getUrl(anyString(), anyString(), anyString(), anyInt(), anyString())).thenReturn(&quot;http://www.url.com&quot;);\r\n    String result = myClass.getUrlAndAppend(&quot;test&quot;, &quot;test&quot;, &quot;test&quot;, 1, &quot;test&quot;, null);\r\n    assertThat(result).isEqualTo(&quot;http://www.url.com&quot;);\r\n  }\r\n}\r\n```\r\n\r\nWhy is the above code is throwing an NPE inside the private method that&#39;s getting called from the getUrl() method, even though I&#39;m specifying what has to be returned when getUrl() is called?\r\nI didn&#39;t want to use the Mock annotation in MyClass because I want to test the behavior of my getUrlAndAppend() method, so I decided to use @Spy.\r\n\r\nStack Trace:\r\n```\r\njava.lang.NullPointerException\r\n\tat path$UrlContextBuilder.build(MyClass3.java:168)\r\n\tat path.MyClass.getContext(MyClass.java:104)\r\n\tat path.MyClass.getUrl(MyClass.java:32)\r\n\tat path.MyClassTest.shouldGenerateUrlWithAspectsAppended(MyClassTest.java:24)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```","title":"When clause is throwing NPE when calling the method specified in the behavior","body":"<p>The class that I want to test is structured in the following manner:</p>\n<pre><code>public getUrl(final String str1, final String str2, final String str3, final int int1, final String string4) {\n//calls getContext();\n}\n\npublic getUrlAndAppend(final String str1, final String str2, final String str3, final int int1, final String string4, final Map&lt;String, String&gt; map){\n//calls getUrl();\n}\n\nprivate getContext(final String str1, final String str2, final String str3, final int int1, final String string4);\n</code></pre>\n<p>All the 3 methods have the exact same set of parameters with the exception of getUrlAndAppend() that has an extra Map.</p>\n<p>I am trying to test only the getUrlAndAppend() method which is calling the public getUrl() that eventually calls the private method getContext(). This is my test class so far:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.anyInt;\nimport static org.mockito.Mockito.anyString;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyClassTest{\n\n  MyClass myClass = Mockito.spy(new MyClass(new MyClass2()));\n\n  @Test\n  void shouldGenerateUrl() {\n\n    when(myClass.getUrl(anyString(), anyString(), anyString(), anyInt(), anyString())).thenReturn(&quot;http://www.url.com&quot;);\n    String result = myClass.getUrlAndAppend(&quot;test&quot;, &quot;test&quot;, &quot;test&quot;, 1, &quot;test&quot;, null);\n    assertThat(result).isEqualTo(&quot;http://www.url.com&quot;);\n  }\n}\n</code></pre>\n<p>Why is the above code is throwing an NPE inside the private method that's getting called from the getUrl() method, even though I'm specifying what has to be returned when getUrl() is called?\nI didn't want to use the Mock annotation in MyClass because I want to test the behavior of my getUrlAndAppend() method, so I decided to use @Spy.</p>\n<p>Stack Trace:</p>\n<pre><code>java.lang.NullPointerException\n    at path$UrlContextBuilder.build(MyClass3.java:168)\n    at path.MyClass.getContext(MyClass.java:104)\n    at path.MyClass.getUrl(MyClass.java:32)\n    at path.MyClassTest.shouldGenerateUrlWithAspectsAppended(MyClassTest.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","c","sockets","networking","rsa"],"comments":[{"owner":{"account_id":1635006,"reputation":148,"user_id":1508740,"accept_rate":83,"display_name":"Mingtao Zhang"},"score":0,"creation_date":1402596695,"post_id":24190810,"comment_id":37344748,"body_markdown":"currently same machine?","body":"currently same machine?"},{"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"score":0,"creation_date":1402596874,"post_id":24190810,"comment_id":37344839,"body_markdown":"No, they are communicating over a socket.","body":"No, they are communicating over a socket."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1402619136,"post_id":24190810,"comment_id":37354328,"body_markdown":"You&#39;re ignoring the count returned by `recv()` and assuming the read filled the buffer. It isn&#39;t obliged to do that. You have to loop until you have all you need.","body":"You&#39;re ignoring the count returned by <code>recv()</code> and assuming the read filled the buffer. It isn&#39;t obliged to do that. You have to loop until you have all you need."},{"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"score":0,"creation_date":1402629291,"post_id":24190810,"comment_id":37356591,"body_markdown":"You are right, I have omitted that part in order to focus on the real issue. It loops until it has received enough bytes to fill the whole bytearray of public_key_mod.","body":"You are right, I have omitted that part in order to focus on the real issue. It loops until it has received enough bytes to fill the whole bytearray of public_key_mod."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1402647028,"post_id":24190810,"comment_id":37363039,"body_markdown":"Probably it is just that both libraries print a different structure for the keys. Java uses PKCS#1 public key format as result of `getEncoded()`. I don&#39;t know how you retrieve the binary data for printing in C, so I cannot comment on that. Could you print out the binary data as hexadecimal strings and put it in the question?","body":"Probably it is just that both libraries print a different structure for the keys. Java uses PKCS#1 public key format as result of <code>getEncoded()</code>. I don&#39;t know how you retrieve the binary data for printing in C, so I cannot comment on that. Could you print out the binary data as hexadecimal strings and put it in the question?"},{"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"score":0,"creation_date":1402685203,"post_id":24190810,"comment_id":37385242,"body_markdown":"I updated it with info about how I print the modulus, exponent and key on both C and Java.","body":"I updated it with info about how I print the modulus, exponent and key on both C and Java."},{"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"score":0,"creation_date":1402703497,"post_id":24190810,"comment_id":37391519,"body_markdown":"As a temporary solution, I wrote native jni function where I pass the received modulus and recreate the key. This works, and shows my actual transfer mechanism work. I would still prefer a pure Java version as my client will eventually run on several platforms. I could also verify signatures etc signed by this key received from the server. (Note that these steps will eventually be taken AFTER authentication of the client and server).","body":"As a temporary solution, I wrote native jni function where I pass the received modulus and recreate the key. This works, and shows my actual transfer mechanism work. I would still prefer a pure Java version as my client will eventually run on several platforms. I could also verify signatures etc signed by this key received from the server. (Note that these steps will eventually be taken AFTER authentication of the client and server)."},{"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"score":0,"creation_date":1404276493,"post_id":24190810,"comment_id":37970287,"body_markdown":"Anyone with a solution to this problem?","body":"Anyone with a solution to this problem?"}],"answers":[{"tags":[],"owner":{"account_id":3486028,"reputation":65,"user_id":2916952,"display_name":"feohoTl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1402823175,"creation_date":1402822411,"answer_id":24228029,"question_id":24190810,"body_markdown":"For sending socket over network, Java is using Big-Endian, whereas C is using little-Endian. After Java client received data, try to convert it from little-endian to big-endian. You can use [ByteBuffer][1] at Client side.\r\n\r\n\r\nSo try this:\r\n\r\n    ByteBuffer bbf = ByteBuffer.allocate(Income_Data.length);\r\n    bbf.put(Income_Data);\r\n    bbf.order(ByteOrder.BIG_ENDIAN);\r\n    byte[] goodData = bbf.array();\r\nyou might also try:\r\n\r\n    ByteBuffer bbf = ByteBuffer.warp(Income_Data);\r\n\r\nPlease refer to: [C++ Client to a Java Server(TCP/IP)][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n  [2]: https://stackoverflow.com/questions/12825084/c-client-to-a-java-servertcp-ip","title":"Send RSA public key over network from C to Java","body":"<p>For sending socket over network, Java is using Big-Endian, whereas C is using little-Endian. After Java client received data, try to convert it from little-endian to big-endian. You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a> at Client side.</p>\n\n<p>So try this:</p>\n\n<pre><code>ByteBuffer bbf = ByteBuffer.allocate(Income_Data.length);\nbbf.put(Income_Data);\nbbf.order(ByteOrder.BIG_ENDIAN);\nbyte[] goodData = bbf.array();\n</code></pre>\n\n<p>you might also try:</p>\n\n<pre><code>ByteBuffer bbf = ByteBuffer.warp(Income_Data);\n</code></pre>\n\n<p>Please refer to: <a href=\"https://stackoverflow.com/questions/12825084/c-client-to-a-java-servertcp-ip\">C++ Client to a Java Server(TCP/IP)</a></p>\n"},{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670468007,"creation_date":1670468007,"answer_id":74724995,"question_id":24190810,"body_markdown":"The output is not the same because they use different encodings. Java&#39;s outputs the RSA public in SubjectPublicKeyInfo (or SPKI) format, whereas your C code is getting the RSA public key in PKCS#1 format.\r\n\r\nI haven&#39;t used openssl in many years but looking through the documentation for openssl 3.0 it seems that the functions that use the EVP_PKEY type are the way to go and the [`i2d_PUBKEY`][1] function will return an SPKI-encoded public key. This can then be read in by Java and converted to an RSA public key by something like\r\n```java\r\n// The C server writes the length L of the encoded public key data as a\r\n// big-endian 4 byte int followed by the L bytes of spki\r\n\r\nDataInputStream dis = new DataInputStream(sock.getInputStream());\r\nint spkiLength = dis.readInt();\r\nbyte [] spkiBytes = new byte[spkiLength];\r\ndis.readFully(spkiBytes);\r\nKeyFactory rsaKf = KeyFactory.getInstance(&quot;RSA&quot;);\r\nPublicKey pubKey = rsaKf.generatePublic(new X509EncodedKeySpec(spkiBytes));\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.openssl.org/docs/man3.0/man3/i2d_PUBKEY.html","title":"Send RSA public key over network from C to Java","body":"<p>The output is not the same because they use different encodings. Java's outputs the RSA public in SubjectPublicKeyInfo (or SPKI) format, whereas your C code is getting the RSA public key in PKCS#1 format.</p>\n<p>I haven't used openssl in many years but looking through the documentation for openssl 3.0 it seems that the functions that use the EVP_PKEY type are the way to go and the <a href=\"https://www.openssl.org/docs/man3.0/man3/i2d_PUBKEY.html\" rel=\"nofollow noreferrer\"><code>i2d_PUBKEY</code></a> function will return an SPKI-encoded public key. This can then be read in by Java and converted to an RSA public key by something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>// The C server writes the length L of the encoded public key data as a\n// big-endian 4 byte int followed by the L bytes of spki\n\nDataInputStream dis = new DataInputStream(sock.getInputStream());\nint spkiLength = dis.readInt();\nbyte [] spkiBytes = new byte[spkiLength];\ndis.readFully(spkiBytes);\nKeyFactory rsaKf = KeyFactory.getInstance(&quot;RSA&quot;);\nPublicKey pubKey = rsaKf.generatePublic(new X509EncodedKeySpec(spkiBytes));\n</code></pre>\n"}],"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1486,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1670468007,"creation_date":1402595393,"question_id":24190810,"body_markdown":"I am trying to send a RSA public key over the network, from a server written in c to a client written in Java. When the client receives the modulus, it should recreate the RSA key using the modulus and the public exponent F4, which the server is also using.\r\n\r\nHere is how the server is generating and sending the key:\r\n\r\n    //Generate RSA key in C\r\n    RSA          *rsa;\r\n    int           bits = 1024;\t\r\n    unsigned long exp  = RSA_F4;\r\n    BIGNUM       *bn;\r\n    BIGNUM       *MyModPubKey;\r\n    \r\n    bn = BN_new();\r\n    BN_set_word(bn, exp);\r\n    rsa = RSA_new();\r\n    RSA_generate_key_ex(rsa, bits, bn, NULL);\r\n    MyModPubKey = rsa-&gt;n;\r\n    \r\n    //Send RSA modulus in C\r\n    unsigned char public_key_Mod[128];\r\n    unsigned char *PubMod;\r\n    int PubModLen;\r\n    \r\n    \r\n    PubMod    = (unsigned char *)&amp;public_key_Mod;\r\n    PubModLen = BN_bn2bin(MyModPubKey, PubMod);\r\n    assert(PubModLen == 128);\r\n    send(sd, public_key_Mod, 128, 0);\r\n\r\n\r\nHere is how the key is recreated in Java. Exception handling omitted.\r\n  \r\n\r\n    //Read the modulus\r\n    byte[] public_key_mod = new byte[128];\r\n    is.read(public_key_mod, 0, 128);\r\n    \r\n    \r\n    //Create BigInteger modulus and exponent\r\n    BigInteger RxPubKeyMod = new BigInteger(1, public_key_mod);\t\t\t\t\r\n    BigInteger RxPubKeyExp = RSAKeyGenParameterSpec.F4;\r\n    PublicKey RxRsaPubKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(\r\n    \t\t\t\t\tnew RSAPublicKeySpec(RxPubKeyMod, RxPubKeyExp));\r\n\r\n\r\nHowever, the generated public RSA key in Java is not the same as the one in C. Verified by printing base64 encoded version of the keys.\r\nI also print both the modulus and exponent on both ends and verify they are the same. This how that is done:\r\n\r\n    //Java\r\n    System.out.println(&quot;RxPubKeyExp: &quot; + RxPubKeyExp.toString(16));\r\n    System.out.println(&quot;RxPubKeyMod: &quot; + RxPubKeyMod.toString(16));\r\n    \r\n    //C\r\n    printf(&quot;PubKeyExp %s \\n&quot;, BN_bn2hex(MyModPubKey-&gt;e));\r\n    printf(&quot;PubKeyMod %s \\n&quot;, BN_bn2hex(MyModPubKey-&gt;n));\r\n\r\nThey are the same.\r\n\r\nI can not figure out why this doesn&#39;t work. Am I missing something important here. Complicating factors is that I have a C version of the client, and it can correctly recreate the information it receives from the server. It may be something with BigInteger&#39;s being signed in Java, but I also tried inserting an extra leading 0x00 and expanding the bytearray to 129 bytes, with identical result (same generated key).\r\n\r\nPlease, I am completely stuck.\r\nThanks\r\n\r\nUPDATE:\r\n\r\nHere is a sample output from the C server:\r\n\r\n    PubKeyExp 010001 \r\n    PubKeyMod A8CB09C2B84762A8C822F18C9CA48036E0D9988C9D8625BF5F2DF16FDEEC92D018863E129C0AE89EB0C344FD32DFF419548C39BB41A867293BC4BD84A1ECAEB0D723EEA97BD2651AF8BD56B2C97D38A39111A0C48894BC034371C2EDB96F1E2E9CDDA9B16DFBE80580ADFDA3853445120F7429AD60300E31254864041210B0BB \r\n     \r\n    PublicKey -----BEGIN RSA PUBLIC KEY-----\r\n    MIGJAoGBAKjLCcK4R2KoyCLxjJykgDbg2ZiMnYYlv18t8W/e7JLQGIY+EpwK6J6w\r\n    w0T9Mt/0GVSMObtBqGcpO8S9hKHsrrDXI+6pe9JlGvi9VrLJfTijkRGgxIiUvAND\r\n    ccLtuW8eLpzdqbFt++gFgK39o4U0RRIPdCmtYDAOMSVIZAQSELC7AgMBAAE=\r\n    -----END RSA PUBLIC KEY-----\r\n\r\n\r\nIt is printed in this way:\r\n\r\n    printf(&quot;PubKeyExp %s \\n&quot;, BN_bn2hex(MyModPubKey-&gt;e));\r\n    printf(&quot;PubKeyMod %s \\n&quot;, BN_bn2hex(MyModPubKey-&gt;n));\r\n    FILE *fp;\r\n    char *pubKeyString;\r\n    pubKeyString = calloc(1, 512);\r\n    if(!(fp = fmemopen(pubKeyString, 512, &quot;w&quot;))) {\r\n       exit(1);\r\n    }\r\n    PEM_write_RSAPublicKey(fp, pubKey);\r\n    fflush(fp);\r\n    fclose(fp);\r\n    printf(&quot;PublicKey %s \\n&quot;,pubKeyString);\r\n\r\nwhere pubKey=rsa as created above\r\n\r\nHere is a sample output from the Java server:\r\n\r\n    RxPubKeyExp: 10001\r\n    RxPubKeyMod: a8cb09c2b84762a8c822f18c9ca48036e0d9988c9d8625bf5f2df16fdeec92d018863e129c0ae89eb0c344fd32dff419548c39bb41a867293bc4bd84a1ecaeb0d723eea97bd2651af8bd56b2c97d38a39111a0c48894bc034371c2edb96f1e2e9cdda9b16dfbe80580adfda3853445120f7429ad60300e31254864041210b0bb\r\n    RxRsaPubKey: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCoywnCuEdiqMgi8YycpIA24NmYjJ2GJb9fLfFv3uyS0BiGPhKcCuiesMNE/TLf9BlUjDm7QahnKTvEvYSh7K6w1yPuqXvSZRr4vVayyX04o5ERoMSIlLwDQ3HC7blvHi6c3amxbfvoBYCt/aOFNEUSD3QprWAwDjElSGQEEhCwuwIDAQAB\r\n\r\n\r\nIt is printed in this way:\r\n\r\n    System.out.println(&quot;RxPubKeyExp: &quot; + RxPubKeyExp.toString(16));\r\n    System.out.println(&quot;RxPubKeyMod: &quot; + RxPubKeyMod.toString(16));\r\n    String RxRsaPubKeyChar = Base64.encodeToString(RxRsaPubKey.getEncoded(), Base64.DEFAULT);\r\n    System.out.println(&quot;RxRsaPubKey: &quot; + RxRsaPubKeyChar);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Send RSA public key over network from C to Java","body":"<p>I am trying to send a RSA public key over the network, from a server written in c to a client written in Java. When the client receives the modulus, it should recreate the RSA key using the modulus and the public exponent F4, which the server is also using.</p>\n\n<p>Here is how the server is generating and sending the key:</p>\n\n<pre><code>//Generate RSA key in C\nRSA          *rsa;\nint           bits = 1024;  \nunsigned long exp  = RSA_F4;\nBIGNUM       *bn;\nBIGNUM       *MyModPubKey;\n\nbn = BN_new();\nBN_set_word(bn, exp);\nrsa = RSA_new();\nRSA_generate_key_ex(rsa, bits, bn, NULL);\nMyModPubKey = rsa-&gt;n;\n\n//Send RSA modulus in C\nunsigned char public_key_Mod[128];\nunsigned char *PubMod;\nint PubModLen;\n\n\nPubMod    = (unsigned char *)&amp;public_key_Mod;\nPubModLen = BN_bn2bin(MyModPubKey, PubMod);\nassert(PubModLen == 128);\nsend(sd, public_key_Mod, 128, 0);\n</code></pre>\n\n<p>Here is how the key is recreated in Java. Exception handling omitted.</p>\n\n<pre><code>//Read the modulus\nbyte[] public_key_mod = new byte[128];\nis.read(public_key_mod, 0, 128);\n\n\n//Create BigInteger modulus and exponent\nBigInteger RxPubKeyMod = new BigInteger(1, public_key_mod);             \nBigInteger RxPubKeyExp = RSAKeyGenParameterSpec.F4;\nPublicKey RxRsaPubKey = KeyFactory.getInstance(\"RSA\").generatePublic(\n                    new RSAPublicKeySpec(RxPubKeyMod, RxPubKeyExp));\n</code></pre>\n\n<p>However, the generated public RSA key in Java is not the same as the one in C. Verified by printing base64 encoded version of the keys.\nI also print both the modulus and exponent on both ends and verify they are the same. This how that is done:</p>\n\n<pre><code>//Java\nSystem.out.println(\"RxPubKeyExp: \" + RxPubKeyExp.toString(16));\nSystem.out.println(\"RxPubKeyMod: \" + RxPubKeyMod.toString(16));\n\n//C\nprintf(\"PubKeyExp %s \\n\", BN_bn2hex(MyModPubKey-&gt;e));\nprintf(\"PubKeyMod %s \\n\", BN_bn2hex(MyModPubKey-&gt;n));\n</code></pre>\n\n<p>They are the same.</p>\n\n<p>I can not figure out why this doesn't work. Am I missing something important here. Complicating factors is that I have a C version of the client, and it can correctly recreate the information it receives from the server. It may be something with BigInteger's being signed in Java, but I also tried inserting an extra leading 0x00 and expanding the bytearray to 129 bytes, with identical result (same generated key).</p>\n\n<p>Please, I am completely stuck.\nThanks</p>\n\n<p>UPDATE:</p>\n\n<p>Here is a sample output from the C server:</p>\n\n<pre><code>PubKeyExp 010001 \nPubKeyMod A8CB09C2B84762A8C822F18C9CA48036E0D9988C9D8625BF5F2DF16FDEEC92D018863E129C0AE89EB0C344FD32DFF419548C39BB41A867293BC4BD84A1ECAEB0D723EEA97BD2651AF8BD56B2C97D38A39111A0C48894BC034371C2EDB96F1E2E9CDDA9B16DFBE80580ADFDA3853445120F7429AD60300E31254864041210B0BB \n\nPublicKey -----BEGIN RSA PUBLIC KEY-----\nMIGJAoGBAKjLCcK4R2KoyCLxjJykgDbg2ZiMnYYlv18t8W/e7JLQGIY+EpwK6J6w\nw0T9Mt/0GVSMObtBqGcpO8S9hKHsrrDXI+6pe9JlGvi9VrLJfTijkRGgxIiUvAND\nccLtuW8eLpzdqbFt++gFgK39o4U0RRIPdCmtYDAOMSVIZAQSELC7AgMBAAE=\n-----END RSA PUBLIC KEY-----\n</code></pre>\n\n<p>It is printed in this way:</p>\n\n<pre><code>printf(\"PubKeyExp %s \\n\", BN_bn2hex(MyModPubKey-&gt;e));\nprintf(\"PubKeyMod %s \\n\", BN_bn2hex(MyModPubKey-&gt;n));\nFILE *fp;\nchar *pubKeyString;\npubKeyString = calloc(1, 512);\nif(!(fp = fmemopen(pubKeyString, 512, \"w\"))) {\n   exit(1);\n}\nPEM_write_RSAPublicKey(fp, pubKey);\nfflush(fp);\nfclose(fp);\nprintf(\"PublicKey %s \\n\",pubKeyString);\n</code></pre>\n\n<p>where pubKey=rsa as created above</p>\n\n<p>Here is a sample output from the Java server:</p>\n\n<pre><code>RxPubKeyExp: 10001\nRxPubKeyMod: a8cb09c2b84762a8c822f18c9ca48036e0d9988c9d8625bf5f2df16fdeec92d018863e129c0ae89eb0c344fd32dff419548c39bb41a867293bc4bd84a1ecaeb0d723eea97bd2651af8bd56b2c97d38a39111a0c48894bc034371c2edb96f1e2e9cdda9b16dfbe80580adfda3853445120f7429ad60300e31254864041210b0bb\nRxRsaPubKey: MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCoywnCuEdiqMgi8YycpIA24NmYjJ2GJb9fLfFv3uyS0BiGPhKcCuiesMNE/TLf9BlUjDm7QahnKTvEvYSh7K6w1yPuqXvSZRr4vVayyX04o5ERoMSIlLwDQ3HC7blvHi6c3amxbfvoBYCt/aOFNEUSD3QprWAwDjElSGQEEhCwuwIDAQAB\n</code></pre>\n\n<p>It is printed in this way:</p>\n\n<pre><code>System.out.println(\"RxPubKeyExp: \" + RxPubKeyExp.toString(16));\nSystem.out.println(\"RxPubKeyMod: \" + RxPubKeyMod.toString(16));\nString RxRsaPubKeyChar = Base64.encodeToString(RxRsaPubKey.getEncoded(), Base64.DEFAULT);\nSystem.out.println(\"RxRsaPubKey: \" + RxRsaPubKeyChar);\n</code></pre>\n"},{"tags":["java","swing","netbeans","derby","embedded-database"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670425030,"post_id":74717537,"comment_id":131873992,"body_markdown":"Are you running the same app two times simultaneously on a single computer?","body":"Are you running the same app two times simultaneously on a single computer?"},{"owner":{"account_id":25497518,"reputation":1,"user_id":19291366,"display_name":"JT20"},"score":0,"creation_date":1670425906,"post_id":74717537,"comment_id":131874300,"body_markdown":"Yup, or should I use separate computers and use the network to connect to the database when I execute and compile this program? Because I was planning when users connect to the same database at the same time. In this case, I was trying to fix it before I execute and compile this java program.","body":"Yup, or should I use separate computers and use the network to connect to the database when I execute and compile this program? Because I was planning when users connect to the same database at the same time. In this case, I was trying to fix it before I execute and compile this java program."},{"owner":{"account_id":25497518,"reputation":1,"user_id":19291366,"display_name":"JT20"},"score":0,"creation_date":1670426307,"post_id":74717537,"comment_id":131874442,"body_markdown":"I&#39;m not sure if it would work if I need to compile first and then try to connect with different computers. Or am I just doing the wrong way by running the same app two times simultaneously on a single computer?","body":"I&#39;m not sure if it would work if I need to compile first and then try to connect with different computers. Or am I just doing the wrong way by running the same app two times simultaneously on a single computer?"},{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1670431227,"post_id":74717537,"comment_id":131876376,"body_markdown":"I would suggest setting up some simple jmeter tests to simulate multiple users.","body":"I would suggest setting up some simple jmeter tests to simulate multiple users."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670431033,"creation_date":1670431033,"answer_id":74720022,"question_id":74717537,"body_markdown":"Multiple issues here:\r\n\r\n## The primary\r\n\r\nYou have derby on the classpath twice. Fix that.\r\n\r\n## Secondary\r\n\r\nderby is barely maintained, don&#39;t use it. More to the point, databases can manage multiple simultaneous connections, but not when you use it like this, which is an &#39;in-process&#39; setup where the JVM itself becomes the db server. Any other app that runs simultaneously on the same hardware / using the same underlying files as data store is fundamentally not possible - only one &#39;database engine&#39; can run at the same time. This means you can do this if there&#39;s just 1 JVM that hosts multiple connections, but not if your intent is to start more than one JVM and have them sync up with each other using the db. The solution is to run an actual DB server separately. If you&#39;re doing that, you might as well pick a good database engine such as postgres.\r\n\r\nIf it has to be in-process, hsqldb or h2 are all-java DB engines that are more convenient. If you run in-process, you still can&#39;t run 2 JVMs using the same backing datastore, you have to have a separate &#39;server&#39; (h2 can operate as a server too if you want it to).\r\n\r\n## The tertiary\r\n\r\nDBs do not work this way, at least, no DB engine I know of. You run 1 db engine per &#39;data store&#39;, you can&#39;t launch 2 separate processes each running DB queries off of the same source data files. That is not what transactions are for, and not what isolation levels configure. Maybe there&#39;s a DB engine out there that uses the file system or a pipe or a local TCP/IP connection to communicate the details, but without such a &#39;comms pipe&#39;, this cannot possibly work.\r\n\r\nHence, you need 1 java process (or non-java process, postgres would work too of course) to be a db engine, and then 1 java process each for every client app running, which connects to the db engine. This is complicated to set up right (I&#39;m not aware of any libraries that will launch a db engine if it is not running and tear it down if needed afterwards for example). You could still use derby or h2 or hsql to host &#39;all java, in-process db engines&#39;, but you need to check if another java process is already using the db, and have a setup where you launch a localhost-responding-only TCP/IP server socket so that the other apps can connect to the first app, so that the first app is the only app that touches the DB files directly. This is all very very complicated, and I&#39;m not aware of many libraries for this concept. Probably because &#39;java desktop app&#39; is rare, and &#39;java desktop app intended to be run more than once simultaneously&#39; doubly so.\r\n\r\n## The quartary\r\n\r\nThe notion of &#39;row level locking&#39; is obsolete. It&#39;s nearly impossible to test and requires either highly error-prone and finicky figuring out which rows to lock, or a very broad locking strategy which means the app doesn&#39;t scale.\r\n\r\nThe proper way to do this is with optimistic locking, and the SERIALIZABLE transaction level. Any transaction level less than SERIALIZABLE has all sorts of real nasty caveats. For example, if this is the pseudocode that runs your ATM machines:\r\n\r\n```\r\nAccountId accountId = cardReader.getAccountIdFromInsertedCard();\r\nint requested = askUserToPickAmount();\r\ndb.startTransaction();\r\nint balance = db.select(&quot;SELECT balance FROM account WHERE accountId = ?&quot;, accountId).singleInt();\r\nif (balance &lt; requested) throw new InsufficientBalanceException();\r\nint newBalance = balance - requested;\r\ndb.update(&quot;UPDATE account SET balance = ? WHERE accountId = ?&quot;, newBalance, accountId);\r\ndb.commit();\r\ncashEmitter.emit(requested);\r\n```\r\n\r\nWhich seems fine, has transactions and all that, it is _definitely_ broken on everything except SERIALIZABLE. If you make that `SELECT .. FOR UPDATE` it depends.\r\n\r\nThe one downside to serializable is that the DB will occasionally throw an SQLException whose state type code indicates (and these codes aren&#39;t unified, so you need to code a detector for this per DB engine) a &#39;retry exception&#39;. The response to that is literally what it says: Start again. Except, because computers are reliable, it&#39;s going to end as if you are about to bump into someone on the street, except it&#39;s a mirror. You dodge left, they dodge left. You crash into each other. Solution: Introduce randomness. See the Ethernet protocol. Point is, it&#39;s really complicated to get this right, you do _not_ want to handroll any of this.\r\n\r\nHence, never use direct JDBC, it&#39;s not meant to be consumed as an API for end products. Use [JDBI](https://jdbi.org) or [JOOQ](https://jooq.org) instead; they have far nicer APIs and have this built in, mostly (the docs explain how to set this up right and get transactional, automatically re-trying lambdas and the like involved).\r\n","title":"How to work with multiple connections to a single database?","body":"<p>Multiple issues here:</p>\n<h2>The primary</h2>\n<p>You have derby on the classpath twice. Fix that.</p>\n<h2>Secondary</h2>\n<p>derby is barely maintained, don't use it. More to the point, databases can manage multiple simultaneous connections, but not when you use it like this, which is an 'in-process' setup where the JVM itself becomes the db server. Any other app that runs simultaneously on the same hardware / using the same underlying files as data store is fundamentally not possible - only one 'database engine' can run at the same time. This means you can do this if there's just 1 JVM that hosts multiple connections, but not if your intent is to start more than one JVM and have them sync up with each other using the db. The solution is to run an actual DB server separately. If you're doing that, you might as well pick a good database engine such as postgres.</p>\n<p>If it has to be in-process, hsqldb or h2 are all-java DB engines that are more convenient. If you run in-process, you still can't run 2 JVMs using the same backing datastore, you have to have a separate 'server' (h2 can operate as a server too if you want it to).</p>\n<h2>The tertiary</h2>\n<p>DBs do not work this way, at least, no DB engine I know of. You run 1 db engine per 'data store', you can't launch 2 separate processes each running DB queries off of the same source data files. That is not what transactions are for, and not what isolation levels configure. Maybe there's a DB engine out there that uses the file system or a pipe or a local TCP/IP connection to communicate the details, but without such a 'comms pipe', this cannot possibly work.</p>\n<p>Hence, you need 1 java process (or non-java process, postgres would work too of course) to be a db engine, and then 1 java process each for every client app running, which connects to the db engine. This is complicated to set up right (I'm not aware of any libraries that will launch a db engine if it is not running and tear it down if needed afterwards for example). You could still use derby or h2 or hsql to host 'all java, in-process db engines', but you need to check if another java process is already using the db, and have a setup where you launch a localhost-responding-only TCP/IP server socket so that the other apps can connect to the first app, so that the first app is the only app that touches the DB files directly. This is all very very complicated, and I'm not aware of many libraries for this concept. Probably because 'java desktop app' is rare, and 'java desktop app intended to be run more than once simultaneously' doubly so.</p>\n<h2>The quartary</h2>\n<p>The notion of 'row level locking' is obsolete. It's nearly impossible to test and requires either highly error-prone and finicky figuring out which rows to lock, or a very broad locking strategy which means the app doesn't scale.</p>\n<p>The proper way to do this is with optimistic locking, and the SERIALIZABLE transaction level. Any transaction level less than SERIALIZABLE has all sorts of real nasty caveats. For example, if this is the pseudocode that runs your ATM machines:</p>\n<pre><code>AccountId accountId = cardReader.getAccountIdFromInsertedCard();\nint requested = askUserToPickAmount();\ndb.startTransaction();\nint balance = db.select(&quot;SELECT balance FROM account WHERE accountId = ?&quot;, accountId).singleInt();\nif (balance &lt; requested) throw new InsufficientBalanceException();\nint newBalance = balance - requested;\ndb.update(&quot;UPDATE account SET balance = ? WHERE accountId = ?&quot;, newBalance, accountId);\ndb.commit();\ncashEmitter.emit(requested);\n</code></pre>\n<p>Which seems fine, has transactions and all that, it is <em>definitely</em> broken on everything except SERIALIZABLE. If you make that <code>SELECT .. FOR UPDATE</code> it depends.</p>\n<p>The one downside to serializable is that the DB will occasionally throw an SQLException whose state type code indicates (and these codes aren't unified, so you need to code a detector for this per DB engine) a 'retry exception'. The response to that is literally what it says: Start again. Except, because computers are reliable, it's going to end as if you are about to bump into someone on the street, except it's a mirror. You dodge left, they dodge left. You crash into each other. Solution: Introduce randomness. See the Ethernet protocol. Point is, it's really complicated to get this right, you do <em>not</em> want to handroll any of this.</p>\n<p>Hence, never use direct JDBC, it's not meant to be consumed as an API for end products. Use <a href=\"https://jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a> or <a href=\"https://jooq.org\" rel=\"nofollow noreferrer\">JOOQ</a> instead; they have far nicer APIs and have this built in, mostly (the docs explain how to set this up right and get transactional, automatically re-trying lambdas and the like involved).</p>\n"},{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670467699,"creation_date":1670467699,"answer_id":74724958,"question_id":74717537,"body_markdown":"Based on the source code you shared, you&#39;re running Derby in the &quot;embedded&quot; configuration, but since you want to have multiple clients sharing the same database, you need to be running in the &quot;client-server&quot; configuration of Derby.\r\n\r\nHere&#39;s some introductory docs on the different configurations: https://db.apache.org/derby/docs/10.15/getstart/cgsquck70629.html\r\n\r\nWith the client-server configuration, a Derby server process (&quot;the Derby Network Server&quot;) provides access to the database, and Derby client processes run independently, either on the same physical machine or on multiple separate machines, connecting to the Derby Network Server using network connections.","title":"How to work with multiple connections to a single database?","body":"<p>Based on the source code you shared, you're running Derby in the &quot;embedded&quot; configuration, but since you want to have multiple clients sharing the same database, you need to be running in the &quot;client-server&quot; configuration of Derby.</p>\n<p>Here's some introductory docs on the different configurations: <a href=\"https://db.apache.org/derby/docs/10.15/getstart/cgsquck70629.html\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/docs/10.15/getstart/cgsquck70629.html</a></p>\n<p>With the client-server configuration, a Derby server process (&quot;the Derby Network Server&quot;) provides access to the database, and Derby client processes run independently, either on the same physical machine or on multiple separate machines, connecting to the Derby Network Server using network connections.</p>\n"}],"owner":{"account_id":25497518,"reputation":1,"user_id":19291366,"display_name":"JT20"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1670467699,"creation_date":1670420147,"question_id":74717537,"body_markdown":"I&#39;m new to stack overflow and I am currently using NetBeans with java to make a desktop app where multiple users can access one database at the same time. But unfortunately, I tried several codes enabling row-level locking and TRANSACTION_READ_COMMITTED which is stated in db.apache.org, but it didn&#39;t work.  \r\nI&#39;m currently using an Embedded database in derby, and by searching the internet, I found this db.apache.org [enter image description here](https://i.stack.imgur.com/hTjjD.png), and this [enter image description here](https://i.stack.imgur.com/LOllu.png).\r\n\r\n&gt; I couldn&#39;t understand how to set multi-user database access by enabling row-level locking and TRANSACTION_READ_COMMITTED.\r\n\r\nI tried this code, where I implement TRANSACTION_READ_COMMITTED by importing\r\n\r\n```\r\nimport static java.sql.Connection.TRANSACTION_READ_COMMITTED;\r\n```\r\n\r\nand\r\n\r\n```\r\ncon.setTransactionIsolation(TRANSACTION_READ_COMMITTED);\r\n```\r\n\r\nto set an isolation to TRANSACTION_READ_COMMITTED.\r\n\r\nThis is the my program.\r\n\r\n\\`\r\n\r\n```\r\nimport java.sql.*;\r\nimport javax.swing.*;\r\nimport java.util.logging.*;\r\nimport static java.sql.Connection.TRANSACTION_READ_COMMITTED;\r\n\r\npublic class Connect_data extends javax.swing.JFrame {\r\n    \r\n    String temp_use, temp_pass, temp_usertype, n, s , u;\r\n    //FROM ACCOUNT\r\n    \r\n    Connection con;\r\n    Statement stmt;\r\n    ResultSet rs;\r\npublic void DoConnect(){\r\n\r\n        try{\r\n    \r\n        //Connect TO THE DATABASE\r\n    \r\n        String host = &quot;jdbc:derby:C:\\\\DATABSE_SUB\\\\VERe&quot;;\r\n        String uName = &quot;josh&quot;;\r\n        String uPass = &quot;1234&quot;;\r\n        \r\n        \r\n        con = DriverManager.getConnection(host, uName, uPass);\r\n        \r\n        stmt = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n    \r\n        String sql = &quot;SELECT * FROM ADD_BTN&quot;;\r\n        \r\n        rs = stmt.executeQuery(sql);\r\n    \r\n    \r\n        con.setTransactionIsolation(TRANSACTION_READ_COMMITTED);\r\n    \r\n        }catch(SQLException err){\r\n            JOptionPane.showMessageDialog(Connect_data.this, err.getMessage());\r\n        } \r\n    }\r\n}\r\n```\r\n\r\n\\`\r\n\r\nWhat I&#39;m missing at is enabling row-level locking, I honestly don&#39;t know how to implement this. I tried putting this\r\n\r\n```\r\n-- database-level property\r\nCALL SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY(\r\n    &#39;derby.storage.rowLocking&#39;, &#39;true&#39;)\r\n```\r\n\r\nin the execute command of the database services NetBeans but it didn&#39;t work.\r\n\r\nWhen I run the program it connect to the database, but when I run the second program it gets an error, this is what I get an output.\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.SecurityException: sealing violation: package org.apache.derby.security is sealed\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.getAndVerifyPackage(BuiltinClassLoader.java:906)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineOrCheckPackage(BuiltinClassLoader.java:877)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.defineOrCheckPackage(ClassLoaders.java:211)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:849)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat New_Pack.Connect_data.DoConnect(Connect_data.java:132)\r\n\tat New_Pack.Connect_data.jButton1ActionPerformed(Connect_data.java:624)\r\n\tat New_Pack.Connect_data$7.actionPerformed(Connect_data.java:580)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```\r\n\r\nI was expecting this will workout but I couldn&#39;t find the answer. I need help.","title":"How to work with multiple connections to a single database?","body":"<p>I'm new to stack overflow and I am currently using NetBeans with java to make a desktop app where multiple users can access one database at the same time. But unfortunately, I tried several codes enabling row-level locking and TRANSACTION_READ_COMMITTED which is stated in db.apache.org, but it didn't work.<br />\nI'm currently using an Embedded database in derby, and by searching the internet, I found this db.apache.org <a href=\"https://i.stack.imgur.com/hTjjD.png\" rel=\"nofollow noreferrer\">enter image description here</a>, and this <a href=\"https://i.stack.imgur.com/LOllu.png\" rel=\"nofollow noreferrer\">enter image description here</a>.</p>\n<blockquote>\n<p>I couldn't understand how to set multi-user database access by enabling row-level locking and TRANSACTION_READ_COMMITTED.</p>\n</blockquote>\n<p>I tried this code, where I implement TRANSACTION_READ_COMMITTED by importing</p>\n<pre><code>import static java.sql.Connection.TRANSACTION_READ_COMMITTED;\n</code></pre>\n<p>and</p>\n<pre><code>con.setTransactionIsolation(TRANSACTION_READ_COMMITTED);\n</code></pre>\n<p>to set an isolation to TRANSACTION_READ_COMMITTED.</p>\n<p>This is the my program.</p>\n<p>`</p>\n<pre><code>import java.sql.*;\nimport javax.swing.*;\nimport java.util.logging.*;\nimport static java.sql.Connection.TRANSACTION_READ_COMMITTED;\n\npublic class Connect_data extends javax.swing.JFrame {\n    \n    String temp_use, temp_pass, temp_usertype, n, s , u;\n    //FROM ACCOUNT\n    \n    Connection con;\n    Statement stmt;\n    ResultSet rs;\npublic void DoConnect(){\n\n        try{\n    \n        //Connect TO THE DATABASE\n    \n        String host = &quot;jdbc:derby:C:\\\\DATABSE_SUB\\\\VERe&quot;;\n        String uName = &quot;josh&quot;;\n        String uPass = &quot;1234&quot;;\n        \n        \n        con = DriverManager.getConnection(host, uName, uPass);\n        \n        stmt = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\n    \n        String sql = &quot;SELECT * FROM ADD_BTN&quot;;\n        \n        rs = stmt.executeQuery(sql);\n    \n    \n        con.setTransactionIsolation(TRANSACTION_READ_COMMITTED);\n    \n        }catch(SQLException err){\n            JOptionPane.showMessageDialog(Connect_data.this, err.getMessage());\n        } \n    }\n}\n</code></pre>\n<p>`</p>\n<p>What I'm missing at is enabling row-level locking, I honestly don't know how to implement this. I tried putting this</p>\n<pre><code>-- database-level property\nCALL SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY(\n    'derby.storage.rowLocking', 'true')\n</code></pre>\n<p>in the execute command of the database services NetBeans but it didn't work.</p>\n<p>When I run the program it connect to the database, but when I run the second program it gets an error, this is what I get an output.</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.SecurityException: sealing violation: package org.apache.derby.security is sealed\n    at java.base/jdk.internal.loader.BuiltinClassLoader.getAndVerifyPackage(BuiltinClassLoader.java:906)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineOrCheckPackage(BuiltinClassLoader.java:877)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.defineOrCheckPackage(ClassLoaders.java:211)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:849)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at New_Pack.Connect_data.DoConnect(Connect_data.java:132)\n    at New_Pack.Connect_data.jButton1ActionPerformed(Connect_data.java:624)\n    at New_Pack.Connect_data$7.actionPerformed(Connect_data.java:580)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>I was expecting this will workout but I couldn't find the answer. I need help.</p>\n"},{"tags":["java","decompiler"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":6,"creation_date":1507875778,"post_id":46723649,"comment_id":80393562,"body_markdown":"Posting images of code is frowned upon here, because it makes it more difficult for us to help you with your issue.  It is always better to copy and paste the relevant code and/or errors into your question directly.  Please read [Why not to upload images of code on SO when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-to-upload-images-of-code-on-so-when-asking-a-question), then [edit] your question accordingly.","body":"Posting images of code is frowned upon here, because it makes it more difficult for us to help you with your issue.  It is always better to copy and paste the relevant code and/or errors into your question directly.  Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-to-upload-images-of-code-on-so-when-asking-a-question\">Why not to upload images of code on SO when asking a question?</a>, then <a href=\"https://stackoverflow.com/posts/46723649/edit\">edit</a> your question accordingly."},{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1507876181,"post_id":46723649,"comment_id":80393756,"body_markdown":"*The red lines seem to be related to &quot;Generics class&quot; in Java?* Nope.  Far more fundamental than that.  I think you need to do some [rubber duck debugging](https://en.wikipedia.org/wiki/Rubber_duck_debugging)","body":"<i>The red lines seem to be related to &quot;Generics class&quot; in Java?</i> Nope.  Far more fundamental than that.  I think you need to do some <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">rubber duck debugging</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1507876309,"post_id":46723649,"comment_id":80393824,"body_markdown":"It looks like the InportTaskWhatEver  constructor does not expect the `status` to be passed.  Without knowing or seeing this class, I have no way to help more","body":"It looks like the InportTaskWhatEver  constructor does not expect the <code>status</code> to be passed.  Without knowing or seeing this class, I have no way to help more"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1507877312,"post_id":46723649,"comment_id":80394272,"body_markdown":"Your constructor only has one parameter, you want to call it with two. Furthermore the type of `T` is not the same type of `ViewtrackerUpgradeManager`. Also in your case `this.t = t` does nothing so far.","body":"Your constructor only has one parameter, you want to call it with two. Furthermore the type of <code>T</code> is not the same type of <code>ViewtrackerUpgradeManager</code>. Also in your case <code>this.t = t</code> does nothing so far."}],"answers":[{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507877574,"creation_date":1507877574,"answer_id":46724094,"question_id":46723649,"body_markdown":"The definition of your constructor is simply not, what your code expects. \r\nYou want to call it like\r\n\r\n    ImportTaskTransactionCallback&lt;Integer&gt; tc = new ImportTaskTransactionCallback(this.viewtrackerUpgradeManager, status);\r\n\r\nBut your defined constructor doesn&#39;t match that signature:\r\n\r\n    public ImportTaskTransactionCallback(T viewtrackerUpgradeManager)\r\n\r\nYou probably want to define it like so:\r\n\r\n    public ImportTaskTransactionCallback(ViewtrackerUpgradeManager viewtrackerUpgradeManager, T t)","title":"How to decompile a Java program successfully?","body":"<p>The definition of your constructor is simply not, what your code expects. \nYou want to call it like</p>\n\n<pre><code>ImportTaskTransactionCallback&lt;Integer&gt; tc = new ImportTaskTransactionCallback(this.viewtrackerUpgradeManager, status);\n</code></pre>\n\n<p>But your defined constructor doesn't match that signature:</p>\n\n<pre><code>public ImportTaskTransactionCallback(T viewtrackerUpgradeManager)\n</code></pre>\n\n<p>You probably want to define it like so:</p>\n\n<pre><code>public ImportTaskTransactionCallback(ViewtrackerUpgradeManager viewtrackerUpgradeManager, T t)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11970399,"reputation":11,"user_id":8759049,"display_name":"Simon Wetting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507879458,"creation_date":1507879458,"answer_id":46724597,"question_id":46723649,"body_markdown":"First error:\r\nThe (appropriate) constructor of ImportTaskTransactionCallback isn&#39;t defined. In your file I can see only 1 constructor in the &quot;ImportTaskTransactionCallback&quot; class, and it takes only 1 T object.\r\n\r\nSecond error:\r\nYou can&#39;t convert a T object to a ViewtrackerUpgradeManager object. Datatypes aren&#39;t interchangeable.\r\n\r\nLike Joe C said, you should put your code inside a code block. You can easily do that by indenting your code by 4 spaces. It makes it much easier for us to help you.","title":"How to decompile a Java program successfully?","body":"<p>First error:\nThe (appropriate) constructor of ImportTaskTransactionCallback isn't defined. In your file I can see only 1 constructor in the \"ImportTaskTransactionCallback\" class, and it takes only 1 T object.</p>\n\n<p>Second error:\nYou can't convert a T object to a ViewtrackerUpgradeManager object. Datatypes aren't interchangeable.</p>\n\n<p>Like Joe C said, you should put your code inside a code block. You can easily do that by indenting your code by 4 spaces. It makes it much easier for us to help you.</p>\n"}],"owner":{"account_id":11162058,"reputation":443,"user_id":8191812,"display_name":"skyline"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1507877936,"accepted_answer_id":46724094,"answer_count":2,"score":-6,"last_activity_date":1670466572,"creation_date":1507875636,"question_id":46723649,"body_markdown":"A Java program works is decompiled by JD-GUI as follows.\r\n\r\nLooks like some Classes are missed.\r\n\r\nIs there a best way to decompile a Java program without red lines appearing?\r\n\r\n    ImportTaskTransactionCallback&lt;Integer&gt; tc = new ImportTaskTransactionCallback(this.viewtrackerUpgradeManager, status);\r\n        .\r\n        .\r\n        .\r\n\r\n    this.viewtrackerUpgradeManager = viewtrackerUpgradeManager;\r\n\r\n\r\nThanks for everyone&#39;s suggestion, I found the constructor is not completed and fixed it.\r\n","title":"How to decompile a Java program successfully?","body":"<p>A Java program works is decompiled by JD-GUI as follows.</p>\n<p>Looks like some Classes are missed.</p>\n<p>Is there a best way to decompile a Java program without red lines appearing?</p>\n<pre><code>ImportTaskTransactionCallback&lt;Integer&gt; tc = new ImportTaskTransactionCallback(this.viewtrackerUpgradeManager, status);\n    .\n    .\n    .\n\nthis.viewtrackerUpgradeManager = viewtrackerUpgradeManager;\n</code></pre>\n<p>Thanks for everyone's suggestion, I found the constructor is not completed and fixed it.</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670465110,"creation_date":1670465110,"answer_id":74724755,"question_id":74724695,"body_markdown":"You just need to add the `@RestController` annotation to the controller class\r\n\r\nYou don&#39;t need to configure it on every method","title":"SpringBoot 2.7 : Configuration to Make All the Controllers to Produce and Consume JSON","body":"<p>You just need to add the <code>@RestController</code> annotation to the controller class</p>\n<p>You don't need to configure it on every method</p>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670465110,"creation_date":1670464406,"question_id":74724695,"body_markdown":"Currently we have below annotation on all the controller methods to ensure APIs produces and consumes JSON am wondering if there is any config change that I can do so that the default behavior will be JSON for `produces` and `consumes`\r\n\r\n    @RequestMapping(consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)","title":"SpringBoot 2.7 : Configuration to Make All the Controllers to Produce and Consume JSON","body":"<p>Currently we have below annotation on all the controller methods to ensure APIs produces and consumes JSON am wondering if there is any config change that I can do so that the default behavior will be JSON for <code>produces</code> and <code>consumes</code></p>\n<pre><code>@RequestMapping(consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"},{"tags":["java","encryption","cryptography","private-key"],"comments":[{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":2,"creation_date":1427288306,"post_id":29256342,"comment_id":46715326,"body_markdown":"Did you read the error? `lengthTag=11, too big.`. It&#39;s a start.","body":"Did you read the error? <code>lengthTag=11, too big.</code>. It&#39;s a start."},{"owner":{"account_id":3677372,"reputation":1,"user_id":3063167,"display_name":"Amol Parsewar"},"score":0,"creation_date":1427288669,"post_id":29256342,"comment_id":46715588,"body_markdown":"@keyser : Can you please tell me what thing should i modify to solve the error","body":"@keyser : Can you please tell me what thing should i modify to solve the error"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":0,"creation_date":1427288722,"post_id":29256342,"comment_id":46715618,"body_markdown":"`InvalidKeyException`","body":"<code>InvalidKeyException</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1427289220,"post_id":29256342,"comment_id":46715984,"body_markdown":"Throw away this key, you&#39;ve compromised it.","body":"Throw away this key, you&#39;ve compromised it."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1427324506,"post_id":29256342,"comment_id":46737681,"body_markdown":"You key is: 1) *Not* a private key, and 2) *Not* in PKCS8 format.","body":"You key is: 1) <i>Not</i> a private key, and 2) <i>Not</i> in PKCS8 format."},{"owner":{"account_id":3677372,"reputation":1,"user_id":3063167,"display_name":"Amol Parsewar"},"score":0,"creation_date":1427347551,"post_id":29256342,"comment_id":46743675,"body_markdown":"@GregS : Can you please suggest me how that key should be converted into PKCS8 format. Because i have to decrypt the data using that key only. Please do needful.","body":"@GregS : Can you please suggest me how that key should be converted into PKCS8 format. Because i have to decrypt the data using that key only. Please do needful."}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670464628,"creation_date":1670464628,"answer_id":74724712,"question_id":29256342,"body_markdown":"Crypto is frequently misunderstood, and thus I&#39;ve decided to post a negative answer here. It&#39;s not very exciting, but if somebody finds themselves in scenario similar to the OPs they should probably be told why it can&#39;t work as early as possible in the process.\r\n\r\nThere are two possibilities when presented with a problem like this.\r\n\r\n 1. OP understands the problem correctly and they&#39;ve been instructed to decrypt something with the public key.\r\n\r\nor\r\n\r\n 2. OP does not completely understand their task but have been given a public key and some data and they need to make some progress with it.\r\n\r\nFor #1, it&#39;s simple: You can&#39;t decrypt [RSA][1]-encrypted data using a public key. It turns out the OP has only an RSA public key here, provided in an XML format. There&#39;s no way to reformat, massage, or otherwise fix up the public key to make it into the private key needed to decrypt the message. If this were doable then RSA would be trivially weak.\r\n\r\nNow for #2, we have to step back and think of what *might* be true. We often find question askers here on stack overflow referring to &quot;encrypting with the private key&quot; in a context that inevitably implies that they really have an instance of an RSA *signature*. Rather than *encryption*, for clarity this should be called *signing*. An RSA signature is generated using the private key, and then everyone can *verify* the signature using the public key.\r\n\r\nNow to verify the signature you also need the data that was signed, though there are some uncommon RSA signature schemes that allow for &quot;message recovery&quot;. Since we have no data in this question, we have to try to go through the steps of verifying an RSA signature until we can make no more progress.\r\n\r\nSo we convert the XML data into an RSA modulus and public exponent. They are:  \r\n\r\nmodulus\r\n```\r\nn = 122569097529914546498069291857337865246611656055620489010618854241554260593577609267786261511762266943671570032800601669006596562960007716726461943599993657820822102674379936038822313418546881231271467615708966752462196756466881703206510681054434799028982952649926637620598591790584184591371562810823451075011\r\n```\r\nand public exponent\r\n```\r\ne = 65537\r\n```\r\nThe next step is to convert the signature string `s` into an integer. Using base64 decoding and the treating the result byte as big-endian integer I get:\r\n```\r\nsig  = 102674047248928745858859342743181557926563805477311756100001889942342552706930945260621737497972422939132498975770606253415531107828422537100810225687174208681096157106683665614198008538708912251973616331643319025696474841958268570965587969021816350210845541576380037736081469197294740984924898949880343321540\r\n```\r\n\r\nAnd now I compute compute plain = sig&lt;sup&gt;e&lt;/sup&gt; mod n and get:\r\n```\r\nplain  = 18281761513910757613247127600811463135393884768551021193363621715044011507027712128790112174797966270576132751506458211850250035395641481824697193105741034925363331241318624392861667609810000005509535564907655043671685464003456777077702725291701153287408411076758261166861253557068704213449855094306290667395\r\n```\r\n\r\nand finally convert plain to bytes using big endian to get:\r\n```\r\n92 36 73 49 43 c9 05 8e 2b 33 6d cf ee de 3b 5b 74 58 3d 3a a1 10 04 42 a8 e7 20 45 fc 71 05 27 37 3b 69 b1 41 92 84 fc 72 83 37 d3 b3 5b 9a 5c dc ad fb ad c7 7e 0d cf dd e7 9b 8d 25 c2 54 5b 09 99 2f 4b d5 82 b4 08 06 44 1d 4a 4a f3 72 95 d5 f4 90 fc d1 08 32 f2 c0 ae 1e 8a 8c 53 8f 54 e8 8d f8 23 8d fe 35 40 05 99 00 e4 02 91 db 30 0f 0b 19 5e 8a 2e da 32 23 25 12 a4 38 ae 5b c4\r\n```\r\n\r\nAnd ... nothing. It looks random to me, I see no patterns at all, nothing that looks like any possible version of [PKCS#1][2] padding including PSS, nothing that looks like a &#39;message recovery&#39; format.\r\n\r\nSo I can&#39;t solve this, none of the obvious things to try yield anything. It may be that the OP has been given an RSA-encrypted message but only given a public key, or maybe this is one of those RSA capture-the-flag exercises for which there is some weakness that allows for factoring the modulus, or maybe the public key is wrong. Or maybe I&#39;ve made a mistake.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/RSA_(cryptosystem)\r\n  [2]: https://www.rfc-editor.org/rfc/rfc8017","title":"RSA Decryption error","body":"<p>Crypto is frequently misunderstood, and thus I've decided to post a negative answer here. It's not very exciting, but if somebody finds themselves in scenario similar to the OPs they should probably be told why it can't work as early as possible in the process.</p>\n<p>There are two possibilities when presented with a problem like this.</p>\n<ol>\n<li>OP understands the problem correctly and they've been instructed to decrypt something with the public key.</li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>OP does not completely understand their task but have been given a public key and some data and they need to make some progress with it.</li>\n</ol>\n<p>For #1, it's simple: You can't decrypt <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)\" rel=\"nofollow noreferrer\">RSA</a>-encrypted data using a public key. It turns out the OP has only an RSA public key here, provided in an XML format. There's no way to reformat, massage, or otherwise fix up the public key to make it into the private key needed to decrypt the message. If this were doable then RSA would be trivially weak.</p>\n<p>Now for #2, we have to step back and think of what <em>might</em> be true. We often find question askers here on stack overflow referring to &quot;encrypting with the private key&quot; in a context that inevitably implies that they really have an instance of an RSA <em>signature</em>. Rather than <em>encryption</em>, for clarity this should be called <em>signing</em>. An RSA signature is generated using the private key, and then everyone can <em>verify</em> the signature using the public key.</p>\n<p>Now to verify the signature you also need the data that was signed, though there are some uncommon RSA signature schemes that allow for &quot;message recovery&quot;. Since we have no data in this question, we have to try to go through the steps of verifying an RSA signature until we can make no more progress.</p>\n<p>So we convert the XML data into an RSA modulus and public exponent. They are:</p>\n<p>modulus</p>\n<pre><code>n = 122569097529914546498069291857337865246611656055620489010618854241554260593577609267786261511762266943671570032800601669006596562960007716726461943599993657820822102674379936038822313418546881231271467615708966752462196756466881703206510681054434799028982952649926637620598591790584184591371562810823451075011\n</code></pre>\n<p>and public exponent</p>\n<pre><code>e = 65537\n</code></pre>\n<p>The next step is to convert the signature string <code>s</code> into an integer. Using base64 decoding and the treating the result byte as big-endian integer I get:</p>\n<pre><code>sig  = 102674047248928745858859342743181557926563805477311756100001889942342552706930945260621737497972422939132498975770606253415531107828422537100810225687174208681096157106683665614198008538708912251973616331643319025696474841958268570965587969021816350210845541576380037736081469197294740984924898949880343321540\n</code></pre>\n<p>And now I compute compute plain = sig<sup>e</sup> mod n and get:</p>\n<pre><code>plain  = 18281761513910757613247127600811463135393884768551021193363621715044011507027712128790112174797966270576132751506458211850250035395641481824697193105741034925363331241318624392861667609810000005509535564907655043671685464003456777077702725291701153287408411076758261166861253557068704213449855094306290667395\n</code></pre>\n<p>and finally convert plain to bytes using big endian to get:</p>\n<pre><code>92 36 73 49 43 c9 05 8e 2b 33 6d cf ee de 3b 5b 74 58 3d 3a a1 10 04 42 a8 e7 20 45 fc 71 05 27 37 3b 69 b1 41 92 84 fc 72 83 37 d3 b3 5b 9a 5c dc ad fb ad c7 7e 0d cf dd e7 9b 8d 25 c2 54 5b 09 99 2f 4b d5 82 b4 08 06 44 1d 4a 4a f3 72 95 d5 f4 90 fc d1 08 32 f2 c0 ae 1e 8a 8c 53 8f 54 e8 8d f8 23 8d fe 35 40 05 99 00 e4 02 91 db 30 0f 0b 19 5e 8a 2e da 32 23 25 12 a4 38 ae 5b c4\n</code></pre>\n<p>And ... nothing. It looks random to me, I see no patterns at all, nothing that looks like any possible version of <a href=\"https://www.rfc-editor.org/rfc/rfc8017\" rel=\"nofollow noreferrer\">PKCS#1</a> padding including PSS, nothing that looks like a 'message recovery' format.</p>\n<p>So I can't solve this, none of the obvious things to try yield anything. It may be that the OP has been given an RSA-encrypted message but only given a public key, or maybe this is one of those RSA capture-the-flag exercises for which there is some weakness that allows for factoring the modulus, or maybe the public key is wrong. Or maybe I've made a mistake.</p>\n"}],"owner":{"account_id":3677372,"reputation":1,"user_id":3063167,"display_name":"Amol Parsewar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670464628,"creation_date":1427288258,"question_id":29256342,"body_markdown":"I am implementing RSA decryption. I have tried lot more things regarding RSA decryption and i have develop below code snipet.\r\n\r\n    public class AsymmetricEncryptionWithRSA {\r\n\t \r\n      public void decryptdata1(){\r\n    \t\r\n    \t\r\n    \tString PRIVATE_RSA_KEY_PKCS8 = \r\n    \t\t    &quot;-----BEGIN PRIVATE KEY-----\\n&quot; +\r\n    \t\t    &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;rotP8p9dJpRM/D7HHW9wsRWJEBVdZolRR0PuYGp/Mjae2gElTZSBQ44ifOvVquI95ECDa2ypIrEz1k/mKRtHPmsSMqmySWL9CVsEZAc/zNfYjIKb4BDaFiBaPEsboebIEuaN3NFt2bbl/RB45TCycYylgDjCdFFASRbHs0jX4cM=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;\\n&quot; +\r\n\t\t    &quot;-----END PRIVATE KEY-----\\n&quot;;\r\n    \t\tString key = PRIVATE_RSA_KEY_PKCS8\r\n    \t\t    .replace(&quot;-----BEGIN PRIVATE KEY-----\\n&quot;, &quot;&quot;)\r\n    \t\t    .replace(&quot;\\n-----END PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n    \t\tSystem.out.println(&quot;key : &quot;+key);\r\n    \t\r\n    \t\tPKCS8EncodedKeySpec keySpec =\r\n    \t\t    new PKCS8EncodedKeySpec(DatatypeConverter.parseBase64Binary(key));\r\n    \t\ttry {\r\n    \t\t    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \t\t    PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\r\n    \t\t    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n    \t\t    cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n    \t\t    String s = &quot;kjZzSUPJBY4rM23P7t47W3RYPTqhEARCqOcgRfxxBSc3O2mxQZKE/HKDN9OzW5pc3K37rcd+Dc/d55uNJcJUWwmZL0vVgrQIBkQdSkrzcpXV9JD80Qgy8sCuHoqMU49U6I34I43+NUAFmQDkApHbMA8LGV6KLtoyIyUSpDiuW8Q=&quot;;\r\n    \t\t    byte[] ciphertextBytes = Base64.decode(s.getBytes());\r\n    \t\t    byte[] decryptedData = cipher.doFinal(ciphertextBytes);\r\n    \t\t    String decryptedString = new String(decryptedData);\r\n    \t\t    System.out.println(&quot;decrypted (plaintext) = &quot; + decryptedString);\r\n    \t\t}catch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t\r\n    \t    }\r\n      }\r\n    \r\n\t  public static void main(String[] args) {\r\n      \r\n        AsymmetricEncryptionWithRSA ae = new AsymmetricEncryptionWithRSA();\r\n        ae.decryptdata1();\r\n       \r\n      }\r\n   }\r\n\r\n\r\nBut the above code ran into the following error:\r\n\r\n\r\n    java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=11, too big.\r\n    \tat sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\r\n    \tat java.security.KeyFactory.generatePrivate(Unknown Source)\r\n    \tat decrypttest.AsymmetricEncryptionWithRSA.decryptdata1(AsymmetricEncryptionWithRSA.java:189)\r\n    \tat decrypttest.AsymmetricEncryptionWithRSA.main(AsymmetricEncryptionWithRSA.java:210)\r\n    Caused by: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=11, too big.\r\n    \tat sun.security.pkcs.PKCS8Key.decode(Unknown Source)\r\n    \tat sun.security.pkcs.PKCS8Key.decode(Unknown Source)\r\n    \tat sun.security.rsa.RSAPrivateCrtKeyImpl.&lt;init&gt;(Unknown Source)\r\n    \tat sun.security.rsa.RSAPrivateCrtKeyImpl.newKey(Unknown Source)\r\n    \tat sun.security.rsa.RSAKeyFactory.generatePrivate(Unknown Source)\r\n    \t... 4 more\r\n","title":"RSA Decryption error","body":"<p>I am implementing RSA decryption. I have tried lot more things regarding RSA decryption and i have develop below code snipet.</p>\n\n<pre><code>public class AsymmetricEncryptionWithRSA {\n\n  public void decryptdata1(){\n\n\n    String PRIVATE_RSA_KEY_PKCS8 = \n            \"-----BEGIN PRIVATE KEY-----\\n\" +\n            \"&lt;RSAKeyValue&gt;&lt;Modulus&gt;rotP8p9dJpRM/D7HHW9wsRWJEBVdZolRR0PuYGp/Mjae2gElTZSBQ44ifOvVquI95ECDa2ypIrEz1k/mKRtHPmsSMqmySWL9CVsEZAc/zNfYjIKb4BDaFiBaPEsboebIEuaN3NFt2bbl/RB45TCycYylgDjCdFFASRbHs0jX4cM=&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;\\n\" +\n        \"-----END PRIVATE KEY-----\\n\";\n        String key = PRIVATE_RSA_KEY_PKCS8\n            .replace(\"-----BEGIN PRIVATE KEY-----\\n\", \"\")\n            .replace(\"\\n-----END PRIVATE KEY-----\\n\", \"\");\n        System.out.println(\"key : \"+key);\n\n        PKCS8EncodedKeySpec keySpec =\n            new PKCS8EncodedKeySpec(DatatypeConverter.parseBase64Binary(key));\n        try {\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\n            Cipher cipher = Cipher.getInstance(\"RSA/ECB/OAEPWithSHA1AndMGF1Padding\");\n            cipher.init(Cipher.DECRYPT_MODE, privateKey);\n            String s = \"kjZzSUPJBY4rM23P7t47W3RYPTqhEARCqOcgRfxxBSc3O2mxQZKE/HKDN9OzW5pc3K37rcd+Dc/d55uNJcJUWwmZL0vVgrQIBkQdSkrzcpXV9JD80Qgy8sCuHoqMU49U6I34I43+NUAFmQDkApHbMA8LGV6KLtoyIyUSpDiuW8Q=\";\n            byte[] ciphertextBytes = Base64.decode(s.getBytes());\n            byte[] decryptedData = cipher.doFinal(ciphertextBytes);\n            String decryptedString = new String(decryptedData);\n            System.out.println(\"decrypted (plaintext) = \" + decryptedString);\n        }catch(Exception e){\n            e.printStackTrace();\n\n        }\n  }\n\n  public static void main(String[] args) {\n\n    AsymmetricEncryptionWithRSA ae = new AsymmetricEncryptionWithRSA();\n    ae.decryptdata1();\n\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>But the above code ran into the following error:</p>\n\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=11, too big.\n    at sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\n    at java.security.KeyFactory.generatePrivate(Unknown Source)\n    at decrypttest.AsymmetricEncryptionWithRSA.decryptdata1(AsymmetricEncryptionWithRSA.java:189)\n    at decrypttest.AsymmetricEncryptionWithRSA.main(AsymmetricEncryptionWithRSA.java:210)\nCaused by: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=11, too big.\n    at sun.security.pkcs.PKCS8Key.decode(Unknown Source)\n    at sun.security.pkcs.PKCS8Key.decode(Unknown Source)\n    at sun.security.rsa.RSAPrivateCrtKeyImpl.&lt;init&gt;(Unknown Source)\n    at sun.security.rsa.RSAPrivateCrtKeyImpl.newKey(Unknown Source)\n    at sun.security.rsa.RSAKeyFactory.generatePrivate(Unknown Source)\n    ... 4 more\n</code></pre>\n"},{"tags":["java","spring","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":22357746,"reputation":61,"user_id":16574713,"display_name":"liu_bin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670464580,"creation_date":1670464580,"answer_id":74724706,"question_id":74724297,"body_markdown":"```sql\r\nselect * from people\r\nwhere (name = &#39;a&#39; and age &gt;=30) or age &gt;=20\r\n```\r\n[This site can convert sql to esdsl](https://printlove.cn/tools/sql2es)\r\ntry this \r\n```json\r\n{\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;should&quot;: [\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;must&quot;: [\r\n                            {\r\n                                &quot;match_phrase&quot;: {\r\n                                    &quot;name&quot;: {\r\n                                        &quot;query&quot;: &quot;a&quot;\r\n                                    }\r\n                                }\r\n                            },\r\n                            {\r\n                                &quot;range&quot;: {\r\n                                    &quot;age&quot;: {\r\n                                        &quot;from&quot;: &quot;30&quot;\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    &quot;range&quot;: {\r\n                        &quot;age&quot;: {\r\n                            &quot;from&quot;: &quot;20&quot;\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    &quot;from&quot;: 0,\r\n    &quot;size&quot;: 1\r\n}\r\n```","title":"how to search case condition in elastic search","body":"<pre class=\"lang-sql prettyprint-override\"><code>select * from people\nwhere (name = 'a' and age &gt;=30) or age &gt;=20\n</code></pre>\n<p><a href=\"https://printlove.cn/tools/sql2es\" rel=\"nofollow noreferrer\">This site can convert sql to esdsl</a>\ntry this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;should&quot;: [\n                {\n                    &quot;bool&quot;: {\n                        &quot;must&quot;: [\n                            {\n                                &quot;match_phrase&quot;: {\n                                    &quot;name&quot;: {\n                                        &quot;query&quot;: &quot;a&quot;\n                                    }\n                                }\n                            },\n                            {\n                                &quot;range&quot;: {\n                                    &quot;age&quot;: {\n                                        &quot;from&quot;: &quot;30&quot;\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                },\n                {\n                    &quot;range&quot;: {\n                        &quot;age&quot;: {\n                            &quot;from&quot;: &quot;20&quot;\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    &quot;from&quot;: 0,\n    &quot;size&quot;: 1\n}\n</code></pre>\n"}],"owner":{"account_id":18929848,"reputation":35,"user_id":19344103,"display_name":"JavaMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74724706,"answer_count":1,"score":0,"last_activity_date":1670464580,"creation_date":1670459509,"question_id":74724297,"body_markdown":"If there are age and name fields\r\n\r\nWhen I look up here, if the name is A, the age is 30 or more, and the others are 20 or more. In this way, I want to give different conditions depending on the field value.\r\n\r\nDoes es provide this function? I would like to know which keywords to use.\r\n\r\nYou may or may not be able to tell us how to use it with QueryBuilders provided by Spring.\r\n\r\n\r\nThank you.\r\n","title":"how to search case condition in elastic search","body":"<p>If there are age and name fields</p>\n<p>When I look up here, if the name is A, the age is 30 or more, and the others are 20 or more. In this way, I want to give different conditions depending on the field value.</p>\n<p>Does es provide this function? I would like to know which keywords to use.</p>\n<p>You may or may not be able to tell us how to use it with QueryBuilders provided by Spring.</p>\n<p>Thank you.</p>\n"},{"tags":["java","postgresql","amazon-rds"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1670458319,"post_id":74724113,"comment_id":131883221,"body_markdown":"I would not suggest having applications from outside the vpc talking directly to the db.  If this is for local dev, consider running a local postgres.","body":"I would not suggest having applications from outside the vpc talking directly to the db.  If this is for local dev, consider running a local postgres."},{"owner":{"account_id":17648632,"reputation":1,"user_id":12809536,"display_name":"Age of Empires"},"score":0,"creation_date":1670462563,"post_id":74724113,"comment_id":131883869,"body_markdown":"Normally that is exactly what we do. But this is to collect metrics on external API usage, and since we hit the APIs even from our development box, we need to track them.  That said I think I will create an API I can hit which will accomplish the same thing when in DEV mode.","body":"Normally that is exactly what we do. But this is to collect metrics on external API usage, and since we hit the APIs even from our development box, we need to track them.  That said I think I will create an API I can hit which will accomplish the same thing when in DEV mode."}],"answers":[{"tags":[],"owner":{"account_id":17648632,"reputation":1,"user_id":12809536,"display_name":"Age of Empires"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670462692,"creation_date":1670462692,"answer_id":74724561,"question_id":74724113,"body_markdown":"Will just create an API to update the DB when in DEV mode. Kind of an overkill but will keep things secure.","title":"Connecting to Private AWS RDS Postgres using Java driver","body":"<p>Will just create an API to update the DB when in DEV mode. Kind of an overkill but will keep things secure.</p>\n"}],"owner":{"account_id":17648632,"reputation":1,"user_id":12809536,"display_name":"Age of Empires"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670462692,"creation_date":1670457493,"question_id":74724113,"body_markdown":"Wondering the best approach to trying to connect to a Private AWS RDS Postgres instance. For me to connect with pgAdmin Ihad to create an SSH tunnel to the DB. I would like to be able to connect to this DB instance via a Java app from my local box and from our EC2 instances. I think the EC2 instance side won&#39;t be hard since they are in the same VPC and I think the security groups can talk, but how do you go about doing a SSH tunnel for the Java drivers?\r\n\r\nOr perhaps I am looking at this all incorrectly? BTW this is NOT a Spring application.\r\n\r\nTried to connect directly to the server with pgAdmin. That failed, even with my IP added to it&#39;s security group. This is because for security reasons (no public API to the DB server) it is a Private server. ","title":"Connecting to Private AWS RDS Postgres using Java driver","body":"<p>Wondering the best approach to trying to connect to a Private AWS RDS Postgres instance. For me to connect with pgAdmin Ihad to create an SSH tunnel to the DB. I would like to be able to connect to this DB instance via a Java app from my local box and from our EC2 instances. I think the EC2 instance side won't be hard since they are in the same VPC and I think the security groups can talk, but how do you go about doing a SSH tunnel for the Java drivers?</p>\n<p>Or perhaps I am looking at this all incorrectly? BTW this is NOT a Spring application.</p>\n<p>Tried to connect directly to the server with pgAdmin. That failed, even with my IP added to it's security group. This is because for security reasons (no public API to the DB server) it is a Private server.</p>\n"},{"tags":["java","reactjs","spring"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1670362999,"post_id":74709229,"comment_id":131858690,"body_markdown":"I would recommend you to go through a few tutorials first about react and after going through them you actually implement **something** to try it out. The way your question is right now can be considered off-topic as you don&#39;t have a problem you are seeking recommendations about what to do in a specific language which leads to opinionated answers, therefore off-topic here. If you were able to learn how to build your server application I&#39;m sure you can do the same with the front end part of it :)","body":"I would recommend you to go through a few tutorials first about react and after going through them you actually implement <b>something</b> to try it out. The way your question is right now can be considered off-topic as you don&#39;t have a problem you are seeking recommendations about what to do in a specific language which leads to opinionated answers, therefore off-topic here. If you were able to learn how to build your server application I&#39;m sure you can do the same with the front end part of it :)"},{"owner":{"account_id":9310969,"reputation":561,"user_id":6912832,"display_name":"Fabio Miranda"},"score":0,"creation_date":1670363930,"post_id":74709229,"comment_id":131858901,"body_markdown":"You don&#39;t have a technical question here, you are just explaining that you don&#39;t know how to create a simple React App to call your spring app.\nI&#39;d suggest you to understand the basis of a React app in baby steps:\n\n1 - How to create a simple form? (no css worries)\n2 - How to trigger a HTTP call in a button click ?  (hard coded params)\n3 - Change the HTTP call to use the form state.\n4 - Update the state with the HTTP result...","body":"You don&#39;t have a technical question here, you are just explaining that you don&#39;t know how to create a simple React App to call your spring app. I&#39;d suggest you to understand the basis of a React app in baby steps:  1 - How to create a simple form? (no css worries) 2 - How to trigger a HTTP call in a button click ?  (hard coded params) 3 - Change the HTTP call to use the form state. 4 - Update the state with the HTTP result..."},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1670377870,"post_id":74709229,"comment_id":131861559,"body_markdown":"@JorgeCampos, thank you for you response! Yes, I&#39;ve passed few tutorials and I have code that works for different forms/options. But I am not sure that I use these options together for my particular case correctly. I&#39;ve updated the question with what I have. But it doesn&#39;t work for me when I start work with several parameters in response. Could you take a look what I&#39;ve missed or did wrong?","body":"@JorgeCampos, thank you for you response! Yes, I&#39;ve passed few tutorials and I have code that works for different forms/options. But I am not sure that I use these options together for my particular case correctly. I&#39;ve updated the question with what I have. But it doesn&#39;t work for me when I start work with several parameters in response. Could you take a look what I&#39;ve missed or did wrong?"},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1670378022,"post_id":74709229,"comment_id":131861575,"body_markdown":"@FabioMiranda thank you for you response! Yes, you are right, it was better to add what I have even if I am not sure that I am going the right way, my apologies. I&#39;ve updated the question with what I have. But it doesn&#39;t work for me when I start work with several parameters in response. Actually, I did it step by step as you described. But stuck at this point. Could you take a look what I&#39;ve missed or did wrong?","body":"@FabioMiranda thank you for you response! Yes, you are right, it was better to add what I have even if I am not sure that I am going the right way, my apologies. I&#39;ve updated the question with what I have. But it doesn&#39;t work for me when I start work with several parameters in response. Actually, I did it step by step as you described. But stuck at this point. Could you take a look what I&#39;ve missed or did wrong?"}],"answers":[{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670394464,"creation_date":1670394464,"answer_id":74712564,"question_id":74709229,"body_markdown":"The only problem I think you need to solve is to set the data not data.date\r\nuse this: \r\n\r\n    this.setState({responseData: response.data})) \r\nthen access your data fields using\r\n\r\n    responseData.date\r\nyou can replace date with any other field.\r\n\r\ndo the same for alerts.\r\n\r\nyour code is working fine, furthermore, you can learn to use functional component instead of class, its much easier.","title":"React + Spring @GetMapping with @RequestParam simple app","body":"<p>The only problem I think you need to solve is to set the data not data.date\nuse this:</p>\n<pre><code>this.setState({responseData: response.data})) \n</code></pre>\n<p>then access your data fields using</p>\n<pre><code>responseData.date\n</code></pre>\n<p>you can replace date with any other field.</p>\n<p>do the same for alerts.</p>\n<p>your code is working fine, furthermore, you can learn to use functional component instead of class, its much easier.</p>\n"}],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670462388,"creation_date":1670362134,"question_id":74709229,"body_markdown":"I am trying to make a simple web app, that will have 3 forms for data input, Submit button and Results form. \r\n\r\n**Requirements:** When I enter a data in forms and push Submit button, these parameters should go to a controller and after that React should also parse data from json response that comes from the controller and show parsed data in the Results form. \r\n\r\nI have the Spring Controller that takes 3 parameters and return json file as a response.\r\n\r\nBut I am new with React. I&#39;ve tried to use different approaches, but stuck with what way exactly I need to do it in this case. So need a help to create a simple React part.\r\n\r\nController part:\r\n\r\n    @GetMapping(&quot;/current/city&quot;)\r\n        public JSONObject getCurrentPollutionDataByCityStateCountry(\r\n                @RequestParam(value = &quot;city&quot;) String city,\r\n                @RequestParam(value = &quot;state&quot;) String state,\r\n                @RequestParam(value = &quot;country&quot;) String country\r\n        ) {\r\n            try {\r\n                return pollutionService.getCurrentPollutionDataByCityStateCountry(city, state, country);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return new JSONObject();\r\n        }\r\n\r\n\r\nResponse example:\r\n\r\n    {&quot;date&quot;:&quot;Tue Dec 06 22:13:32 CET 2022&quot;,&quot;no2&quot;:&quot;48.67&quot;,&quot;pm10&quot;:&quot;9.51&quot;,&quot;pm2_5&quot;:&quot;5.85&quot;}\r\n\r\n\r\n\r\n**UPDATE**\r\nHere is my App.js part: \r\n\r\n    import React, {Component} from &#39;react&#39;\r\n    import &#39;./App.css&#39;\r\n    \r\n    import axios from &#39;axios&#39;\r\n    \r\n    class App extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                city: &#39;New York&#39;,\r\n                province: &#39;New York&#39;,\r\n                country: &#39;US&#39;,\r\n                responseData: &#39;&#39;\r\n            };\r\n    \r\n            this.handleInputChange = this.handleInputChange.bind(this);\r\n        }\r\n    \r\n        handleInputChange(event) {\r\n            const target = event.target;\r\n            const value = target.value;\r\n            const name = target.name;\r\n    \r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n    \r\n        handleSubmit(event) {\r\n            axios.get(&#39;http://localhost:8080/pollution/current/city?&#39; +\r\n                &#39;city=&#39; + this.state.city +\r\n                &#39;&amp;state=&#39;+ this.state.province +\r\n                &#39;&amp;country=&#39; + this.state.country)\r\n                //not sure about setState here and what is going after that\r\n                .then(response =&gt; this.setState({responseData: response.data.date})) \r\n            \r\n            //need to take all fields from response\r\n            //just alert message with returned response for now\r\n            alert(&#39;Response: &#39; + this.state.responseData);\r\n            \r\n            event.preventDefault();\r\n        }\r\n        \r\n        render() {\r\n            return (\r\n                &lt;form onSubmit={this.handleSubmit}&gt;\r\n                    &lt;label&gt;\r\n                        City:\r\n                        &lt;input name=&quot;city&quot; type=&quot;text&quot; value={this.state.city} onChange={this.handleInputChange}/&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;label&gt;\r\n                        State:\r\n                        &lt;input name=&quot;state&quot; type=&quot;text&quot; value={this.state.province} onChange={this.handleInputChange}/&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;label&gt;\r\n                        Country:\r\n                        &lt;input name=&quot;country&quot; type=&quot;text&quot; value={this.state.country} onChange={this.handleInputChange} /&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\r\n                &lt;/form&gt;\r\n            );\r\n        }\r\n    }\r\n    \r\n    export default App\r\n\r\n\r\nBut I am not sure about my approach in general and particularly about parts where I left comments in App.js. \r\n\r\nTo be more precise with questions:\r\n\r\n1. Should this approach work for my case or I need to implement some different logic?\r\n2. If yes, how I can get all fields from response? I mean not only the first one (date) but no2, pm10, pm2_5 also. For now this logic can return only a first value from json.\r\n3. How I can set these fields to show them in pop-up window (alert) or if question 2 will be solved, this thing also will be good in current form?\r\n\r\n","title":"React + Spring @GetMapping with @RequestParam simple app","body":"<p>I am trying to make a simple web app, that will have 3 forms for data input, Submit button and Results form.</p>\n<p><strong>Requirements:</strong> When I enter a data in forms and push Submit button, these parameters should go to a controller and after that React should also parse data from json response that comes from the controller and show parsed data in the Results form.</p>\n<p>I have the Spring Controller that takes 3 parameters and return json file as a response.</p>\n<p>But I am new with React. I've tried to use different approaches, but stuck with what way exactly I need to do it in this case. So need a help to create a simple React part.</p>\n<p>Controller part:</p>\n<pre><code>@GetMapping(&quot;/current/city&quot;)\n    public JSONObject getCurrentPollutionDataByCityStateCountry(\n            @RequestParam(value = &quot;city&quot;) String city,\n            @RequestParam(value = &quot;state&quot;) String state,\n            @RequestParam(value = &quot;country&quot;) String country\n    ) {\n        try {\n            return pollutionService.getCurrentPollutionDataByCityStateCountry(city, state, country);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return new JSONObject();\n    }\n</code></pre>\n<p>Response example:</p>\n<pre><code>{&quot;date&quot;:&quot;Tue Dec 06 22:13:32 CET 2022&quot;,&quot;no2&quot;:&quot;48.67&quot;,&quot;pm10&quot;:&quot;9.51&quot;,&quot;pm2_5&quot;:&quot;5.85&quot;}\n</code></pre>\n<p><strong>UPDATE</strong>\nHere is my App.js part:</p>\n<pre><code>import React, {Component} from 'react'\nimport './App.css'\n\nimport axios from 'axios'\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            city: 'New York',\n            province: 'New York',\n            country: 'US',\n            responseData: ''\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSubmit(event) {\n        axios.get('http://localhost:8080/pollution/current/city?' +\n            'city=' + this.state.city +\n            '&amp;state='+ this.state.province +\n            '&amp;country=' + this.state.country)\n            //not sure about setState here and what is going after that\n            .then(response =&gt; this.setState({responseData: response.data.date})) \n        \n        //need to take all fields from response\n        //just alert message with returned response for now\n        alert('Response: ' + this.state.responseData);\n        \n        event.preventDefault();\n    }\n    \n    render() {\n        return (\n            &lt;form onSubmit={this.handleSubmit}&gt;\n                &lt;label&gt;\n                    City:\n                    &lt;input name=&quot;city&quot; type=&quot;text&quot; value={this.state.city} onChange={this.handleInputChange}/&gt;\n                &lt;/label&gt;\n                &lt;br/&gt;\n                &lt;label&gt;\n                    State:\n                    &lt;input name=&quot;state&quot; type=&quot;text&quot; value={this.state.province} onChange={this.handleInputChange}/&gt;\n                &lt;/label&gt;\n                &lt;br/&gt;\n                &lt;label&gt;\n                    Country:\n                    &lt;input name=&quot;country&quot; type=&quot;text&quot; value={this.state.country} onChange={this.handleInputChange} /&gt;\n                &lt;/label&gt;\n                &lt;br/&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;\n            &lt;/form&gt;\n        );\n    }\n}\n\nexport default App\n</code></pre>\n<p>But I am not sure about my approach in general and particularly about parts where I left comments in App.js.</p>\n<p>To be more precise with questions:</p>\n<ol>\n<li>Should this approach work for my case or I need to implement some different logic?</li>\n<li>If yes, how I can get all fields from response? I mean not only the first one (date) but no2, pm10, pm2_5 also. For now this logic can return only a first value from json.</li>\n<li>How I can set these fields to show them in pop-up window (alert) or if question 2 will be solved, this thing also will be good in current form?</li>\n</ol>\n"},{"tags":["java","android","bitmap","video-thumbnails","android-glide"],"answers":[{"tags":[],"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670312134,"creation_date":1670312134,"answer_id":74698814,"question_id":74692790,"body_markdown":"In your Fragment you can get the parent Activity Context by calling `getContext()`","title":"How to use Glide in Fragment - Android Studio?","body":"<p>In your Fragment you can get the parent Activity Context by calling <code>getContext()</code></p>\n"},{"tags":[],"owner":{"account_id":26870984,"reputation":1,"user_id":20453003,"display_name":"Samy Sylvester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670461702,"creation_date":1670461702,"answer_id":74724473,"question_id":74692790,"body_markdown":"I just found out that the problem wasn&#39;t the context I added to Glide.with() section, but the fact that the bitmap generated inside the &quot;onResourceReady(...)&quot; method stays in there and it cannot be used outside the method, only inside and as an argument for an &quot;imageView.setImageBitmap()&quot; method...\r\n\r\nAs I understood by now, Glide only intermediates between the url/uri/path and the imageView widget, it&#39;s not generating any bitmaps outside itself! This is a valuable thing I learned about Glide!\r\n\r\nMany thanks for all the help I received!","title":"How to use Glide in Fragment - Android Studio?","body":"<p>I just found out that the problem wasn't the context I added to Glide.with() section, but the fact that the bitmap generated inside the &quot;onResourceReady(...)&quot; method stays in there and it cannot be used outside the method, only inside and as an argument for an &quot;imageView.setImageBitmap()&quot; method...</p>\n<p>As I understood by now, Glide only intermediates between the url/uri/path and the imageView widget, it's not generating any bitmaps outside itself! This is a valuable thing I learned about Glide!</p>\n<p>Many thanks for all the help I received!</p>\n"}],"owner":{"account_id":26870984,"reputation":1,"user_id":20453003,"display_name":"Samy Sylvester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1670461702,"creation_date":1670265002,"question_id":74692790,"body_markdown":"I am building a video playing app in Java where I use three Fragments. In one of them I have a list of videos to be played (using a simple ListView widget) where I use a Custom Adapter to pass the titles and the bitmaps thumbnails/uri paths of those videos. When I use Glide to generate and show the bitmaps in the ImageView section of the Custom Adapter, it works (passing only uri paths from Fragment), because the context in the getView() function works as well. \r\n\r\nBut I want to generate the bitmap thumbnails using Glide in the ListView Fragment, not in the Custom Adapter class, because I need those thumbnails in other Fragments of the app. Unfortunately I didn&#39;t managed to create the thumbnails in the ListView Fragment, because the context I am writing at Glide.with() in the onCreateView() function doesn&#39;t work! \r\n\r\nWhat is the proper context to be used for Glide in the ListView Fragment to see it and generate the bitmap thumbnails?\r\n\r\nI used this code in the ListView Fragment:\r\n\r\n\r\n```\r\nGlide.with(this)\r\n        .asBitmap().load(uri)\r\n        .into(new SimpleTarget&lt;Bitmap&gt;() {\r\n            @Override\r\n            public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\r\n                bitmapThumbnail = resource;\r\n            }\r\n        });\r\n```\r\n  \r\nbut it doesn&#39;t generate any thumbnails.. :((","title":"How to use Glide in Fragment - Android Studio?","body":"<p>I am building a video playing app in Java where I use three Fragments. In one of them I have a list of videos to be played (using a simple ListView widget) where I use a Custom Adapter to pass the titles and the bitmaps thumbnails/uri paths of those videos. When I use Glide to generate and show the bitmaps in the ImageView section of the Custom Adapter, it works (passing only uri paths from Fragment), because the context in the getView() function works as well.</p>\n<p>But I want to generate the bitmap thumbnails using Glide in the ListView Fragment, not in the Custom Adapter class, because I need those thumbnails in other Fragments of the app. Unfortunately I didn't managed to create the thumbnails in the ListView Fragment, because the context I am writing at Glide.with() in the onCreateView() function doesn't work!</p>\n<p>What is the proper context to be used for Glide in the ListView Fragment to see it and generate the bitmap thumbnails?</p>\n<p>I used this code in the ListView Fragment:</p>\n<pre><code>Glide.with(this)\n        .asBitmap().load(uri)\n        .into(new SimpleTarget&lt;Bitmap&gt;() {\n            @Override\n            public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\n                bitmapThumbnail = resource;\n            }\n        });\n</code></pre>\n<p>but it doesn't generate any thumbnails.. :((</p>\n"},{"tags":["java","logging","log4j","datadog"],"answers":[{"tags":[],"owner":{"account_id":5989128,"reputation":21,"user_id":4705715,"display_name":"Shiro Pika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670460843,"creation_date":1670208182,"answer_id":74682833,"question_id":74569289,"body_markdown":"We did not find a way to filter through Filter at the Cluster layer, but directly used Datadog&#39;s Log Index to achieve the goal, adding a new index pipeline, Writing a query to exclude filter to this index\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lmVvS.png","title":"How do I not allow Datadog to collect logs for a service?","body":"<p>We did not find a way to filter through Filter at the Cluster layer, but directly used Datadog's Log Index to achieve the goal, adding a new index pipeline, Writing a query to exclude filter to this index</p>\n<p><a href=\"https://i.stack.imgur.com/lmVvS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmVvS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5989128,"reputation":21,"user_id":4705715,"display_name":"Shiro Pika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670460843,"creation_date":1669359979,"question_id":74569289,"body_markdown":"I have a Java SpringBoot service that outputs logs through Log4j2 and is deployed in a cluster that includes DataDog Agent. The cluster is configured with DataDog Log Enabled=true. I cannot control the configuration of the cluster, so I want to configure the environment variables in the POD to Turn off DataDog to automatically collect my logs (DataDog is too expensive)\r\nI tried to inject in the Deployment environment variable of this Service in K8s:\r\n```\r\n            - name: DD_LOGS_ENABLED\r\n              value: &quot;false&quot;\r\n            - name: DD_LOGS_CONFIG_CONTAINER_COLLECT_ALL\r\n              value: &quot;false&quot;\r\n            - name: DD_LOGS_INJECTION\r\n              value: &quot;false&quot;\r\n            - name: DD_APM_ENABLED\r\n              value: &quot;false&quot;\r\n            - name: DD_PROCESS_AGENT_ENABLED\r\n              value: &quot;false&quot;\r\n            - name: DD_COLLECT_KUBERNETES_EVENTS\r\n              value: &quot;false&quot;\r\n```\r\nVerified in the pod shell that the value has been injected, but DataDog is still collecting logs for the service. .\r\n\r\n\r\n\r\nI want to know how to prevent DataDog from collecting logs of this service simply and effectively\r\n\r\nNote: You cannot control the log handler as console or silent, because the logs still need to be collected by Loki, thank you","title":"How do I not allow Datadog to collect logs for a service?","body":"<p>I have a Java SpringBoot service that outputs logs through Log4j2 and is deployed in a cluster that includes DataDog Agent. The cluster is configured with DataDog Log Enabled=true. I cannot control the configuration of the cluster, so I want to configure the environment variables in the POD to Turn off DataDog to automatically collect my logs (DataDog is too expensive)\nI tried to inject in the Deployment environment variable of this Service in K8s:</p>\n<pre><code>            - name: DD_LOGS_ENABLED\n              value: &quot;false&quot;\n            - name: DD_LOGS_CONFIG_CONTAINER_COLLECT_ALL\n              value: &quot;false&quot;\n            - name: DD_LOGS_INJECTION\n              value: &quot;false&quot;\n            - name: DD_APM_ENABLED\n              value: &quot;false&quot;\n            - name: DD_PROCESS_AGENT_ENABLED\n              value: &quot;false&quot;\n            - name: DD_COLLECT_KUBERNETES_EVENTS\n              value: &quot;false&quot;\n</code></pre>\n<p>Verified in the pod shell that the value has been injected, but DataDog is still collecting logs for the service. .</p>\n<p>I want to know how to prevent DataDog from collecting logs of this service simply and effectively</p>\n<p>Note: You cannot control the log handler as console or silent, because the logs still need to be collected by Loki, thank you</p>\n"},{"tags":["java","timestamp","amazon-dynamodb"],"comments":[{"owner":{"account_id":951889,"reputation":1417,"user_id":977855,"display_name":"vinS"},"score":0,"creation_date":1513142846,"post_id":47785994,"comment_id":82533225,"body_markdown":"Possible duplicate of [How to convert from java.sql.Timestamp to java.util.Date?](https://stackoverflow.com/questions/10621451/how-to-convert-from-java-sql-timestamp-to-java-util-date)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/10621451/how-to-convert-from-java-sql-timestamp-to-java-util-date\">How to convert from java.sql.Timestamp to java.util.Date?</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1513142905,"post_id":47785994,"comment_id":82533246,"body_markdown":"Dates and Timestamps do not have any intrinsic formatting.  Consider using java8 classes or SimpleDateFormat","body":"Dates and Timestamps do not have any intrinsic formatting.  Consider using java8 classes or SimpleDateFormat"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1513143018,"post_id":47785994,"comment_id":82533289,"body_markdown":"@ScaryWombat This is more of a DynamoDB question from what I can tell.  But even there, dates also probably have no intrinsic formatting.","body":"@ScaryWombat This is more of a DynamoDB question from what I can tell.  But even there, dates also probably have no intrinsic formatting."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1513143248,"post_id":47785994,"comment_id":82533394,"body_markdown":"@TimBiegeleisen Hi Tim, yes you are correct.  Maybe it is not even valid to the question and should be marked as a dupe as indicated by vinS.  I did not read the Q proeprly.","body":"@TimBiegeleisen Hi Tim, yes you are correct.  Maybe it is not even valid to the question and should be marked as a dupe as indicated by vinS.  I did not read the Q proeprly."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1513143298,"post_id":47785994,"comment_id":82533419,"body_markdown":"I&#39;d be shocked if the DynanoDB driver for Java can&#39;t automatically marshall a timestamp.","body":"I&#39;d be shocked if the DynanoDB driver for Java can&#39;t automatically marshall a timestamp."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1513160250,"post_id":47785994,"comment_id":82542002,"body_markdown":"Why have you got a `java.sql.Timestamp` object? The class (along with `Calendar`, `Date` and their friends) is long outmoded. If you can, I recommend you use `java.time.Instant` instead. `java.time` is the modern Java date and time API, it is a lot nicer to work with than the old classes.","body":"Why have you got a <code>java.sql.Timestamp</code> object? The class (along with <code>Calendar</code>, <code>Date</code> and their friends) is long outmoded. If you can, I recommend you use <code>java.time.Instant</code> instead. <code>java.time</code> is the modern Java date and time API, it is a lot nicer to work with than the old classes."},{"owner":{"account_id":1649956,"reputation":528,"user_id":1520749,"accept_rate":10,"display_name":"pannu"},"score":1,"creation_date":1513255578,"post_id":47785994,"comment_id":82588690,"body_markdown":"Working with some legacy code and changing it would require me to changing it else where also","body":"Working with some legacy code and changing it would require me to changing it else where also"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513142974,"creation_date":1513142974,"answer_id":47786131,"question_id":47785994,"body_markdown":"I&#39;m not sure you necessarily have to do any heavy manual lifting here, as I would expect a good driver to be able to handle this.  Assuming you do need a manual conversion from `java.sql.timestamp` to an ISO 8601 compliant string, you could try the following:\r\n\r\n    public String getISOTimestamp(java.sql.timestamp ts) {\r\n        Date date = new Date(ts.getTime());\r\n        String pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;;\r\n        SimpleDateFormat sdf = new SimpleDateFormat(pattern);\r\n        String isoTS = sdf.format(date);\r\n\r\n        return isoTS;\r\n    }","title":"Convert java.sql.Timestamp to java.util.Calendar ISO 8601 format","body":"<p>I'm not sure you necessarily have to do any heavy manual lifting here, as I would expect a good driver to be able to handle this.  Assuming you do need a manual conversion from <code>java.sql.timestamp</code> to an ISO 8601 compliant string, you could try the following:</p>\n\n<pre><code>public String getISOTimestamp(java.sql.timestamp ts) {\n    Date date = new Date(ts.getTime());\n    String pattern = \"yyyy-MM-dd'T'HH:mm:ss'Z'\";\n    SimpleDateFormat sdf = new SimpleDateFormat(pattern);\n    String isoTS = sdf.format(date);\n\n    return isoTS;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6433233,"reputation":13876,"user_id":4985580,"display_name":"F_SO_K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513165098,"creation_date":1513157210,"answer_id":47789563,"question_id":47785994,"body_markdown":"DyanmoDB itself is schemaless (you dont define non-key attribute types up front) and it [and does not recognise date as a type.](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.NamingRulesDataTypes.html#HowItWorks.DataTypes). You can use a String in Dynamo to store dates\r\n\r\n&gt; You can use the string data type to represent a date or a time stamp.\r\n&gt; One way to do this is by using ISO 8601 strings, as shown in these\r\n&gt; examples:\r\n&gt; \r\n&gt; 2016-02-15 \r\n&gt;\r\n&gt; 2015-12-21T17:42:34Z \r\n&gt;\r\n&gt; 20150311T122706Z\r\n\r\nIf you are using an object modelling library, like [DynamoDBMapper](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html), it will do some type marshalling on your behalf. For example [DynamoDBMapper handles many Java data types including](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html)\r\n\r\n &gt; This section describes the supported primitive Java data types, collections, and arbitrary data types.\r\n &gt; \r\n &gt; DynamoDB supports the following primitive data types and primitive wrapper classes.\r\n &gt; \r\n &gt; String\r\n &gt; \r\n &gt; Boolean, boolean\r\n &gt; \r\n &gt; Byte, byte\r\n &gt; \r\n &gt; Date (as ISO_8601 millisecond-precision string, shifted to UTC)\r\n &gt; \r\n &gt; Calendar (as ISO_8601 millisecond-precision string, shifted to UTC)\r\n &gt; \r\n &gt; Long, long\r\n &gt; \r\n &gt; Integer, int\r\n &gt; \r\n &gt; Double, double\r\n &gt; \r\n &gt; Float, float\r\n &gt; \r\n &gt; BigDecimal\r\n &gt; \r\n &gt; BigInteger\r\n &gt; \r\n\r\nSo you can use something like DynamoDBMapper to marshall data between dates in your code and Strings in your database, or you could just do this yourself. In either case the data in DynamoDB is just **Strings**, and your index is ordered as a String. Using ISO 8601 format just means your Strings are ordered naturally.","title":"Convert java.sql.Timestamp to java.util.Calendar ISO 8601 format","body":"<p>DyanmoDB itself is schemaless (you dont define non-key attribute types up front) and it <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.NamingRulesDataTypes.html#HowItWorks.DataTypes\" rel=\"nofollow noreferrer\">and does not recognise date as a type.</a>. You can use a String in Dynamo to store dates</p>\n\n<blockquote>\n  <p>You can use the string data type to represent a date or a time stamp.\n  One way to do this is by using ISO 8601 strings, as shown in these\n  examples:</p>\n  \n  <p>2016-02-15 </p>\n  \n  <p>2015-12-21T17:42:34Z </p>\n  \n  <p>20150311T122706Z</p>\n</blockquote>\n\n<p>If you are using an object modelling library, like <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\" rel=\"nofollow noreferrer\">DynamoDBMapper</a>, it will do some type marshalling on your behalf. For example <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html\" rel=\"nofollow noreferrer\">DynamoDBMapper handles many Java data types including</a></p>\n\n<blockquote>\n  <p>This section describes the supported primitive Java data types, collections, and arbitrary data types.</p>\n  \n  <p>DynamoDB supports the following primitive data types and primitive wrapper classes.</p>\n  \n  <p>String</p>\n  \n  <p>Boolean, boolean</p>\n  \n  <p>Byte, byte</p>\n  \n  <p>Date (as ISO_8601 millisecond-precision string, shifted to UTC)</p>\n  \n  <p>Calendar (as ISO_8601 millisecond-precision string, shifted to UTC)</p>\n  \n  <p>Long, long</p>\n  \n  <p>Integer, int</p>\n  \n  <p>Double, double</p>\n  \n  <p>Float, float</p>\n  \n  <p>BigDecimal</p>\n  \n  <p>BigInteger</p>\n</blockquote>\n\n<p>So you can use something like DynamoDBMapper to marshall data between dates in your code and Strings in your database, or you could just do this yourself. In either case the data in DynamoDB is just <strong>Strings</strong>, and your index is ordered as a String. Using ISO 8601 format just means your Strings are ordered naturally.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1513325462,"creation_date":1513163113,"answer_id":47791501,"question_id":47785994,"body_markdown":"**java.time**\r\n\r\nFirst answer, don’t use `java.sql.Timestamp`. This class is long outmoded. Get an `Instant` instead. `Instant` is one of the classes in `java.time`, the modern Java date and time API also known as JSR 310. This API is so much nicer to work with than the old classes. Assuming `inst` is your `Instant`:\r\n\r\n\t\tString iso8601String = inst.toString();\r\n\t\tSystem.out.println(iso8601String);\r\n\r\nOn my computer this just printed\r\n\r\n    2017-12-13T11:04:59.282Z\r\n\r\nThe `toString` methods of the modern classes produce ISO 8601 format, which makes your task very easy.\r\n\r\n**Convert your Timestamp**\r\n\r\nSince (as I understand) you get your `Timestamp` object from legacy code that you cannot afford to upgrade just now: The first thing to do is to convert it to an `Instant`. Then you may proceed as above.\r\n\r\nI assume that `ts` is your timestamp. If you are using Java 8 or later:\r\n\r\n\t\tString iso8601String = ts.toInstant().toString();\r\n\r\nIf you are using Java 6 or 7, you will need to get the ThreeTen Backport (link below). This is the backport of JSR 310 to the mentioned Java versions. Since in these versions, the conversion method isn’t built into the `Timestamp` class, the conversion happens a little differently, everything else is the same. I have not tested the following code line, so please bear with any typo.\r\n\r\n\t\tString iso8601String = DateTimeUtils.toInstant(ts).toString();\r\n\r\n**Links**\r\n\r\n - [ThreeTen Backport homepage](http://www.threeten.org/threetenbp/)\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310)\r\n - [Oracle tutorial trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/)","title":"Convert java.sql.Timestamp to java.util.Calendar ISO 8601 format","body":"<p><strong>java.time</strong></p>\n\n<p>First answer, don’t use <code>java.sql.Timestamp</code>. This class is long outmoded. Get an <code>Instant</code> instead. <code>Instant</code> is one of the classes in <code>java.time</code>, the modern Java date and time API also known as JSR 310. This API is so much nicer to work with than the old classes. Assuming <code>inst</code> is your <code>Instant</code>:</p>\n\n<pre><code>    String iso8601String = inst.toString();\n    System.out.println(iso8601String);\n</code></pre>\n\n<p>On my computer this just printed</p>\n\n<pre><code>2017-12-13T11:04:59.282Z\n</code></pre>\n\n<p>The <code>toString</code> methods of the modern classes produce ISO 8601 format, which makes your task very easy.</p>\n\n<p><strong>Convert your Timestamp</strong></p>\n\n<p>Since (as I understand) you get your <code>Timestamp</code> object from legacy code that you cannot afford to upgrade just now: The first thing to do is to convert it to an <code>Instant</code>. Then you may proceed as above.</p>\n\n<p>I assume that <code>ts</code> is your timestamp. If you are using Java 8 or later:</p>\n\n<pre><code>    String iso8601String = ts.toInstant().toString();\n</code></pre>\n\n<p>If you are using Java 6 or 7, you will need to get the ThreeTen Backport (link below). This is the backport of JSR 310 to the mentioned Java versions. Since in these versions, the conversion method isn’t built into the <code>Timestamp</code> class, the conversion happens a little differently, everything else is the same. I have not tested the following code line, so please bear with any typo.</p>\n\n<pre><code>    String iso8601String = DateTimeUtils.toInstant(ts).toString();\n</code></pre>\n\n<p><strong>Links</strong></p>\n\n<ul>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen Backport homepage</a></li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">Java Specification Request (JSR) 310</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial trail: Date Time</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6688303,"reputation":2926,"user_id":5158636,"display_name":"tschumann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670460820,"creation_date":1590121883,"answer_id":61947912,"question_id":47785994,"body_markdown":"You can call `.toInstant().toString()` on the `java.sql.timestamp` to get an ISO-8601 time string.","title":"Convert java.sql.Timestamp to java.util.Calendar ISO 8601 format","body":"<p>You can call <code>.toInstant().toString()</code> on the <code>java.sql.timestamp</code> to get an ISO-8601 time string.</p>\n"}],"owner":{"account_id":1649956,"reputation":528,"user_id":1520749,"accept_rate":10,"display_name":"pannu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6571,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1670460820,"creation_date":1513142343,"question_id":47785994,"body_markdown":"I have to store updated time in `dynamodb`, while going through the document of `dynamodb` found out we can build an index if we store it in the format of ISO 8601. But in application I have `java.sql.timestamp`. How can I convert it?","title":"Convert java.sql.Timestamp to java.util.Calendar ISO 8601 format","body":"<p>I have to store updated time in <code>dynamodb</code>, while going through the document of <code>dynamodb</code> found out we can build an index if we store it in the format of ISO 8601. But in application I have <code>java.sql.timestamp</code>. How can I convert it?</p>\n"},{"tags":["java","mysql","performance","jdbc","batch-updates"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1670460660,"post_id":74712124,"comment_id":131883585,"body_markdown":"Is there a way to get the generated query?  I want to see if `id=?` really turned into `id IN (?,?,?...)`.","body":"Is there a way to get the generated query?  I want to see if <code>id=?</code> really turned into <code>id IN (?,?,?...)</code>."},{"owner":{"account_id":3005155,"reputation":3,"user_id":2549820,"display_name":"Leon"},"score":0,"creation_date":1670485158,"post_id":74712124,"comment_id":131887246,"body_markdown":"No, the executions kept in the original sql query.","body":"No, the executions kept in the original sql query."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1670544336,"post_id":74712124,"comment_id":131905250,"body_markdown":"For speed and stability, you need to do a hundred rows in a single `UPDATE. whether that is using `IN(...)` or `BETWEEN` or `JOIN`.","body":"For speed and stability, you need to do a hundred rows in a single <code>UPDATE. whether that is using </code>IN(...)` or <code>BETWEEN</code> or <code>JOIN</code>."}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670460571,"creation_date":1670460571,"answer_id":74724384,"question_id":74712124,"body_markdown":"`UPDATE` must save the old copy of each row.  It tries to save it in a log file, but if that fills up, it does it in a slower way, using the actual tables.  I feel much safer doing batches of only 100 to 1000.\r\n\r\nAlso, any secondary indexes are queued up for later storing to disk.  (Don&#39;t worry, even a system crash will not lose them.)\r\n\r\n10,000 is well into &quot;diminishing returns&quot;, so there is no advantage in going that high.  And as mentioned above, a _potential_ disadvantage.\r\n\r\nWhen an `UPDATE` does not change any values, it can run faster.\r\n\r\nTo change an entire column of a table smells like a design flaw.  Perhaps a timestamp would let you discover the &quot;status&quot; during any subsequent `SELECT`?  This might completely eliminate the big `UPDATE`.  Or maybe the `status` can be stored in another table?\r\n\r\n","title":"performance issue while calling batchUpdate by java to update multiple rows on mysql 8","body":"<p><code>UPDATE</code> must save the old copy of each row.  It tries to save it in a log file, but if that fills up, it does it in a slower way, using the actual tables.  I feel much safer doing batches of only 100 to 1000.</p>\n<p>Also, any secondary indexes are queued up for later storing to disk.  (Don't worry, even a system crash will not lose them.)</p>\n<p>10,000 is well into &quot;diminishing returns&quot;, so there is no advantage in going that high.  And as mentioned above, a <em>potential</em> disadvantage.</p>\n<p>When an <code>UPDATE</code> does not change any values, it can run faster.</p>\n<p>To change an entire column of a table smells like a design flaw.  Perhaps a timestamp would let you discover the &quot;status&quot; during any subsequent <code>SELECT</code>?  This might completely eliminate the big <code>UPDATE</code>.  Or maybe the <code>status</code> can be stored in another table?</p>\n"}],"owner":{"account_id":3005155,"reputation":3,"user_id":2549820,"display_name":"Leon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74724384,"answer_count":1,"score":0,"last_activity_date":1670460571,"creation_date":1670390799,"question_id":74712124,"body_markdown":"I met performance issue with batchUpdate for multiple rows on mysql 8 by using java.\r\n\r\nThere are more than 400,000 rows in the table , I was trying to update a column by it&#39;s id.\r\n\r\nThe sql is like: update table_name set status=&#39;status&#39; where id = 1.\r\n\r\nI used batchUpdate to update 10,000 rows per time.\r\n\r\nThere is an index for the column &quot;id&quot;, and the parameter was set to jdbcUrl too:\r\n\r\n```\r\nrewriteBatchedStatements=true\r\n```\r\n\r\nThe java code is :\r\n\r\n```java\r\nString sql = &quot;update table_name set status=&#39;status&#39; where id=?&quot;;\r\ntry(Connection conn = ds.getConnection();PreparedStatement ps = conn.prepareStatement(sql)){\r\n            for(int i=0;i&lt;idList.size();i++){\r\n                ps.setInt(1,idList.get(i));\r\n                ps.addBatch();\r\n                if((i%10000==0&amp;&amp;i&gt;0)||i==idList.size()-1){\r\n                    System.out.println(&quot;now we execute from &quot;+(i-10000)+&quot; to &quot;+i);\r\n                    long s = System.currentTimeMillis();\r\n                    ps.executeBatch();\r\n                    System.out.println(&quot;execute from &quot;+(i-10000)+&quot; to &quot;+i+&quot; took &quot;+(System.currentTimeMillis()-s));\r\n                }\r\n            }\r\n        }catch(Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n```\r\n\r\nBy executing this code, I found it was very slow. It took about 60 to 90 seconds to update 10,000 records.\r\n\r\nBut when I called this code again, I found it only took 1 second to finish the job ,only if these rows were updated once.\r\n\r\nI just wonder why the performace is so different.  Does it cause by some cache mechanism?\r\n\r\nWhen the performance was poor, I checked the innodb status, and found the update operation was waiting for handler commit. So I understand why it is slow. But why it was much faster when I run it again?\r\n\r\nThe phenomenon only occurs when I am not using transaction. Once the transaction is added to the code, it always takes about 1 second.","title":"performance issue while calling batchUpdate by java to update multiple rows on mysql 8","body":"<p>I met performance issue with batchUpdate for multiple rows on mysql 8 by using java.</p>\n<p>There are more than 400,000 rows in the table , I was trying to update a column by it's id.</p>\n<p>The sql is like: update table_name set status='status' where id = 1.</p>\n<p>I used batchUpdate to update 10,000 rows per time.</p>\n<p>There is an index for the column &quot;id&quot;, and the parameter was set to jdbcUrl too:</p>\n<pre><code>rewriteBatchedStatements=true\n</code></pre>\n<p>The java code is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;update table_name set status='status' where id=?&quot;;\ntry(Connection conn = ds.getConnection();PreparedStatement ps = conn.prepareStatement(sql)){\n            for(int i=0;i&lt;idList.size();i++){\n                ps.setInt(1,idList.get(i));\n                ps.addBatch();\n                if((i%10000==0&amp;&amp;i&gt;0)||i==idList.size()-1){\n                    System.out.println(&quot;now we execute from &quot;+(i-10000)+&quot; to &quot;+i);\n                    long s = System.currentTimeMillis();\n                    ps.executeBatch();\n                    System.out.println(&quot;execute from &quot;+(i-10000)+&quot; to &quot;+i+&quot; took &quot;+(System.currentTimeMillis()-s));\n                }\n            }\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n</code></pre>\n<p>By executing this code, I found it was very slow. It took about 60 to 90 seconds to update 10,000 records.</p>\n<p>But when I called this code again, I found it only took 1 second to finish the job ,only if these rows were updated once.</p>\n<p>I just wonder why the performace is so different.  Does it cause by some cache mechanism?</p>\n<p>When the performance was poor, I checked the innodb status, and found the update operation was waiting for handler commit. So I understand why it is slow. But why it was much faster when I run it again?</p>\n<p>The phenomenon only occurs when I am not using transaction. Once the transaction is added to the code, it always takes about 1 second.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1670497212,"post_id":74724335,"comment_id":131891022,"body_markdown":"Its an advertisemnt by google!","body":"Its an advertisemnt by google!"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1670497286,"post_id":74724335,"comment_id":131891045,"body_markdown":"The first one is a app preview and the second one is an advertisement which shows a preview of an app","body":"The first one is a app preview and the second one is an advertisement which shows a preview of an app"},{"owner":{"account_id":10353111,"reputation":517,"user_id":7635964,"display_name":"abir-cse"},"score":0,"creation_date":1670579147,"post_id":74724335,"comment_id":131911448,"body_markdown":"No.............","body":"No............."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1670582401,"post_id":74724335,"comment_id":131912449,"body_markdown":"Sorry. I could not get what u meant by no","body":"Sorry. I could not get what u meant by no"},{"owner":{"account_id":10353111,"reputation":517,"user_id":7635964,"display_name":"abir-cse"},"score":0,"creation_date":1670896290,"post_id":74724335,"comment_id":131974622,"body_markdown":"I have found answer from [Android : Open google play dialog from my app](https://stackoverflow.com/a/44453023/7635964)","body":"I have found answer from <a href=\"https://stackoverflow.com/a/44453023/7635964\">Android : Open google play dialog from my app</a>"}],"owner":{"account_id":10353111,"reputation":517,"user_id":7635964,"display_name":"abir-cse"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670460268,"creation_date":1670459959,"question_id":74724335,"body_markdown":"I want to show Google play app page on the top of my app but cannot find a way. Google play app linking page does not say anything about it. [Linking to Google Play](https://developer.android.com/distribute/marketing-tools/linking-to-google-play).\r\n\r\nI have not found anything like this on Google Play Core library. \r\nFew suggested me, it is just a custom bottom sheet. \r\n\r\nBut check the images below.\r\n\r\n**Image 1 :** Google app on Android showing BBC app&#39;s google play page on the top of GOOGLE app.\r\n\r\n**Image 2:** Facebook in app ad shows advertiser&#39;s Google Play page after clicking the ad.\r\n\r\nHow can I implement it ? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bXlxb.jpg","title":"How to overlay Google Play app page on the top of my app?","body":"<p>I want to show Google play app page on the top of my app but cannot find a way. Google play app linking page does not say anything about it. <a href=\"https://developer.android.com/distribute/marketing-tools/linking-to-google-play\" rel=\"nofollow noreferrer\">Linking to Google Play</a>.</p>\n<p>I have not found anything like this on Google Play Core library.\nFew suggested me, it is just a custom bottom sheet.</p>\n<p>But check the images below.</p>\n<p><strong>Image 1 :</strong> Google app on Android showing BBC app's google play page on the top of GOOGLE app.</p>\n<p><strong>Image 2:</strong> Facebook in app ad shows advertiser's Google Play page after clicking the ad.</p>\n<p>How can I implement it ?</p>\n<p><a href=\"https://i.stack.imgur.com/bXlxb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXlxb.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","one-to-many"],"comments":[{"owner":{"account_id":23656226,"reputation":1,"user_id":17684482,"display_name":"InFM8"},"score":0,"creation_date":1670225030,"post_id":74684335,"comment_id":131817696,"body_markdown":"Just try to use List instead of Set\nfor more info : https://stackoverflow.com/questions/1035008/what-is-the-difference-between-set-and-list https://stackoverflow.com/questions/17985029/hashset-vs-arraylist","body":"Just try to use List instead of Set for more info : <a href=\"https://stackoverflow.com/questions/1035008/what-is-the-difference-between-set-and-list\" title=\"what is the difference between set and list\">stackoverflow.com/questions/1035008/&hellip;</a> <a href=\"https://stackoverflow.com/questions/17985029/hashset-vs-arraylist\" title=\"hashset vs arraylist\">stackoverflow.com/questions/17985029/hashset-vs-arraylist</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670227171,"post_id":74684335,"comment_id":131818279,"body_markdown":"With the data in you tables, your output shouldn&#39;t be possible. Besides that, you either want to cascade inserts or, you want to swap the insert statements. Currently you persist the address before the employee. At that point, the employee has no ID, that is the reason you don&#39;t get any ID in you database. Persist the employee first and the address after","body":"With the data in you tables, your output shouldn&#39;t be possible. Besides that, you either want to cascade inserts or, you want to swap the insert statements. Currently you persist the address before the employee. At that point, the employee has no ID, that is the reason you don&#39;t get any ID in you database. Persist the employee first and the address after"},{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":0,"creation_date":1670235579,"post_id":74684335,"comment_id":131821069,"body_markdown":"Try to save first `employee` then the `address` . \nIf you save first the address, employee doesn&#39;t have ID.\n\nMaybe you need to assigned the employee to the response from the db and then save it ( Not sure about this, you just need to check) :","body":"Try to save first <code>employee</code> then the <code>address</code> .  If you save first the address, employee doesn&#39;t have ID.  Maybe you need to assigned the employee to the response from the db and then save it ( Not sure about this, you just need to check) :"}],"answers":[{"tags":[],"owner":{"account_id":25649754,"reputation":3,"user_id":19417214,"display_name":"CitoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670459892,"creation_date":1670459892,"answer_id":74724326,"question_id":74684335,"body_markdown":"Okay fixed. Needed to persist the Employee before the Address. The correct order should be below.\r\n\r\n```java\r\nsession.persist(emp);\r\nsession.persist(addr);\r\n```","title":"Hibernate - foreign key null in Address table field","body":"<p>Okay fixed. Needed to persist the Employee before the Address. The correct order should be below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>session.persist(emp);\nsession.persist(addr);\n</code></pre>\n"}],"owner":{"account_id":25649754,"reputation":3,"user_id":19417214,"display_name":"CitoC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74724326,"answer_count":1,"score":0,"last_activity_date":1670459892,"creation_date":1670223139,"question_id":74684335,"body_markdown":"I was testing out a simple code for practicing hibernate entities which has two entities: Employee and Address. An employee can have many addresses. So it&#39;s a Employee is OneToMany relationship with Address. And Address is ManyToOne relationship with Employee.\r\n\r\n---\r\n### Employee entity\r\n```java\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table(schema = &quot;hibernate_entity_demo&quot;, name=&quot;employee&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Employee implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name=&quot;first_name&quot;)\r\n    private String fname;\r\n\r\n    @Column(name=&quot;last_name&quot;)\r\n    private String lastname;\r\n\r\n    @Column(name=&quot;email&quot;)\r\n    private String email;\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;)\r\n    private Set&lt;Address&gt; addressSet;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, fname=&#39;&quot; + fname + &#39;\\&#39;&#39; +\r\n                &quot;, lastname=&#39;&quot; + lastname + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, address=&#39;&quot; + addressSet+\r\n                &#39;}&#39;;    \r\n    }\r\n}\r\n```\r\n\r\n### Address entity\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Table(schema = &quot;hibernate_entity_demo&quot;, name=&quot;address&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Address implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Address{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, city=&#39;&quot; + city + &#39;\\&#39;&#39; +\r\n                &quot;, employee=&#39;&quot; + employee.getFname() + &quot; &quot;+ employee.getLastname() +\r\n                &quot;&#39;}&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n### My schema\r\n```sql\r\nCREATE SCHEMA IF NOT EXISTS hibernate_entity_demo;\r\n\r\nCREATE TABLE IF NOT EXISTS hibernate_entity_demo.employee (\r\n    id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\r\n    first_name VARCHAR(32) ,\r\n    last_name VARCHAR(32) ,\r\n    email VARCHAR(32)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS hibernate_entity_demo.address (\r\n    id          INT NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n    city        VARCHAR(32),\r\n    employee_id INT ,\r\n    FOREIGN KEY (employee_id) REFERENCES hibernate_entity_demo.employee(id)\r\n)\r\n```\r\n\r\n### My hibernate.cfg.xml\r\n```xml\r\n&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernate_entity_demo&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n```\r\n\r\n---\r\nI thought I have setup everything correctly so I ran the following code where I create the entities and persist them: \r\n```java\r\n\r\ntx = session.beginTransaction();\r\n\r\nEmployee emp = Employee.builder()\r\n        .fname(&quot;John&quot;).lastname(&quot;Doe&quot;).\r\n        email(&quot;example@gmail.com&quot;).build();\r\nAddress addr = Address.builder().city(&quot;Los Angeles&quot;).employee(emp)\r\n        .build();\r\nemp.setAddressSet(new HashSet&lt;Address&gt;(Arrays.asList(addr)));\r\nsession.persist(addr);\r\nsession.persist(emp);\r\n```\r\n\r\n---\r\n## The Problem\r\nEverything ran fine but here&#39;s the problem. The employee_id field in the Address table is null. This is what I got when I look at my database directly.\r\n\r\n##### Employee table\r\n| id | email             | first_name | last_name | \r\n| -- | ------------------| ---------- | --------- |\r\n| 1  | example@gmail.com | John       | Doe       |\r\n\r\n##### Address table\r\n| id | city        | employee_id |\r\n| -- |------------ | ----------- |\r\n| 1  | Los Angeles | &lt;null&gt;      |\r\n\r\n\r\n---\r\n## What I Expect\r\nI&#39;m expecting my tables to look like this instead with the employee_id of address with id 1 to be 1. \r\n\r\n##### Employee table\r\n| id | email             | first_name | last_name | \r\n| -- | ------------------| ---------- | --------- |\r\n| 1  | example@gmail.com | John       | Doe       |\r\n\r\n##### Address table\r\n| id | city        | employee_id |\r\n| -- |------------ | ----------- |\r\n| 1  | Los Angeles | 1           |\r\n\r\n---\r\nI have tried changing the `hbm2ddl.auto` to `update` but it didn&#39;t work. I also tried running the following code to see if the address&#39;s employee is correct.\r\n\r\n```java\r\nEmployee e1 = session.get(Employee.class,1);\r\nAddress a1 = session.get(Address.class, 1);\r\nSystem.out.println(e1);\r\nSystem.out.println(a1);\r\n```\r\n\r\nThe output is:\r\n```\r\nEmployee{id=1, fname=&#39;John&#39;, lastname=&#39;Doe&#39;, email=&#39;example@gmail.com&#39;, address=&#39;[Address{id=1, city=&#39;Los Angeles&#39;, employee=&#39;John Doe&#39;}]}\r\nAddress{id=1, city=&#39;Los Angeles&#39;, employee=&#39;John Doe&#39;}\r\n```\r\n\r\nAs you can see, the `Address a1` has the correct `Employee e1` when I printed out but the foreign key is still not in the table.\r\n\r\nAny advice?\r\n","title":"Hibernate - foreign key null in Address table field","body":"<p>I was testing out a simple code for practicing hibernate entities which has two entities: Employee and Address. An employee can have many addresses. So it's a Employee is OneToMany relationship with Address. And Address is ManyToOne relationship with Employee.</p>\n<hr />\n<h3>Employee entity</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.Set;\n\n@Entity\n@Table(schema = &quot;hibernate_entity_demo&quot;, name=&quot;employee&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Employee implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name=&quot;first_name&quot;)\n    private String fname;\n\n    @Column(name=&quot;last_name&quot;)\n    private String lastname;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @OneToMany(mappedBy = &quot;employee&quot;)\n    private Set&lt;Address&gt; addressSet;\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, fname='&quot; + fname + '\\'' +\n                &quot;, lastname='&quot; + lastname + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, address='&quot; + addressSet+\n                '}';    \n    }\n}\n</code></pre>\n<h3>Address entity</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity\n@Table(schema = &quot;hibernate_entity_demo&quot;, name=&quot;address&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Address implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;employee_id&quot;)\n    private Employee employee;\n\n    @Override\n    public String toString() {\n        return &quot;Address{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, city='&quot; + city + '\\'' +\n                &quot;, employee='&quot; + employee.getFname() + &quot; &quot;+ employee.getLastname() +\n                &quot;'}&quot;;\n    }\n}\n\n</code></pre>\n<h3>My schema</h3>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SCHEMA IF NOT EXISTS hibernate_entity_demo;\n\nCREATE TABLE IF NOT EXISTS hibernate_entity_demo.employee (\n    id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n    first_name VARCHAR(32) ,\n    last_name VARCHAR(32) ,\n    email VARCHAR(32)\n);\n\nCREATE TABLE IF NOT EXISTS hibernate_entity_demo.address (\n    id          INT NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    city        VARCHAR(32),\n    employee_id INT ,\n    FOREIGN KEY (employee_id) REFERENCES hibernate_entity_demo.employee(id)\n)\n</code></pre>\n<h3>My hibernate.cfg.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernate_entity_demo&lt;/property&gt;\n&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n&lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\n&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n</code></pre>\n<hr />\n<p>I thought I have setup everything correctly so I ran the following code where I create the entities and persist them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ntx = session.beginTransaction();\n\nEmployee emp = Employee.builder()\n        .fname(&quot;John&quot;).lastname(&quot;Doe&quot;).\n        email(&quot;example@gmail.com&quot;).build();\nAddress addr = Address.builder().city(&quot;Los Angeles&quot;).employee(emp)\n        .build();\nemp.setAddressSet(new HashSet&lt;Address&gt;(Arrays.asList(addr)));\nsession.persist(addr);\nsession.persist(emp);\n</code></pre>\n<hr />\n<h2>The Problem</h2>\n<p>Everything ran fine but here's the problem. The employee_id field in the Address table is null. This is what I got when I look at my database directly.</p>\n<h5>Employee table</h5>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>email</th>\n<th>first_name</th>\n<th>last_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>example@gmail.com</td>\n<td>John</td>\n<td>Doe</td>\n</tr>\n</tbody>\n</table>\n</div><h5>Address table</h5>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>city</th>\n<th>employee_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Los Angeles</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<h2>What I Expect</h2>\n<p>I'm expecting my tables to look like this instead with the employee_id of address with id 1 to be 1.</p>\n<h5>Employee table</h5>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>email</th>\n<th>first_name</th>\n<th>last_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>example@gmail.com</td>\n<td>John</td>\n<td>Doe</td>\n</tr>\n</tbody>\n</table>\n</div><h5>Address table</h5>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>city</th>\n<th>employee_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Los Angeles</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>I have tried changing the <code>hbm2ddl.auto</code> to <code>update</code> but it didn't work. I also tried running the following code to see if the address's employee is correct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee e1 = session.get(Employee.class,1);\nAddress a1 = session.get(Address.class, 1);\nSystem.out.println(e1);\nSystem.out.println(a1);\n</code></pre>\n<p>The output is:</p>\n<pre><code>Employee{id=1, fname='John', lastname='Doe', email='example@gmail.com', address='[Address{id=1, city='Los Angeles', employee='John Doe'}]}\nAddress{id=1, city='Los Angeles', employee='John Doe'}\n</code></pre>\n<p>As you can see, the <code>Address a1</code> has the correct <code>Employee e1</code> when I printed out but the foreign key is still not in the table.</p>\n<p>Any advice?</p>\n"},{"tags":["java","android","osmdroid"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1670326980,"post_id":74701790,"comment_id":131845877,"body_markdown":"this question is veeery broad, but I can ensure you that this is achievable. try with some custom class, which `extends MapTileProviderBase`, override `getMapTile(final long pMapTileIndex)` and generate your bitmap. you can get X, Y and zoom level from `pMapTileIndex` with methods: `MapTileIndex.getX(pMapTileIndex)`, `MapTileIndex.getY(pMapTileIndex)` and `MapTileIndex.getZoom(pMapTileIndex)`","body":"this question is veeery broad, but I can ensure you that this is achievable. try with some custom class, which <code>extends MapTileProviderBase</code>, override <code>getMapTile(final long pMapTileIndex)</code> and generate your bitmap. you can get X, Y and zoom level from <code>pMapTileIndex</code> with methods: <code>MapTileIndex.getX(pMapTileIndex)</code>, <code>MapTileIndex.getY(pMapTileIndex)</code> and <code>MapTileIndex.getZoom(pMapTileIndex)</code>"},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1670342626,"post_id":74701790,"comment_id":131851916,"body_markdown":"Download the OsmDroid demo app from the Google Play Store at https://play.google.com/store/apps/details?id=org.osmdroid. Go to **More Samples &gt; Data** to see sample demos related to gridlines. The code for the related sample demos can be found at https://github.com/osmdroid/osmdroid/tree/master/OpenStreetMapViewer/src/main/java/org/osmdroid/samplefragments/data.","body":"Download the OsmDroid demo app from the Google Play Store at <a href=\"https://play.google.com/store/apps/details?id=org.osmdroid\" rel=\"nofollow noreferrer\">play.google.com/store/apps/details?id=org.osmdroid</a>. Go to <b>More Samples &gt; Data</b> to see sample demos related to gridlines. The code for the related sample demos can be found at <a href=\"https://github.com/osmdroid/osmdroid/tree/master/OpenStreetMapViewer/src/main/java/org/osmdroid/samplefragments/data\" rel=\"nofollow noreferrer\">github.com/osmdroid/osmdroid/tree/master/OpenStreetMapViewer&zwnj;&#8203;/&hellip;</a>."},{"owner":{"display_name":"user19692039"},"score":0,"creation_date":1670397422,"post_id":74701790,"comment_id":131864567,"body_markdown":"@snachmsm sir can you show me a code how to done  this approach I am not getting how to implement  this extends  new class","body":"@snachmsm sir can you show me a code how to done  this approach I am not getting how to implement  this extends  new class"},{"owner":{"display_name":"user19692039"},"score":0,"creation_date":1670398181,"post_id":74701790,"comment_id":131864749,"body_markdown":"@snachmsm and I am able to show map on screen but i want show grid over on that map","body":"@snachmsm and I am able to show map on screen but i want show grid over on that map"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1670398906,"post_id":74701790,"comment_id":131864915,"body_markdown":"even better than my approach you can find in linked repo by @ecle e.g. take a look at [LatLonGridlineOverlay2](https://github.com/osmdroid/osmdroid/blob/713f680f8e7c56418331415f7dd8adb9b6f43375/osmdroid-android/src/main/java/org/osmdroid/views/overlay/gridlines/LatLonGridlineOverlay2.java#L24)","body":"even better than my approach you can find in linked repo by @ecle e.g. take a look at <a href=\"https://github.com/osmdroid/osmdroid/blob/713f680f8e7c56418331415f7dd8adb9b6f43375/osmdroid-android/src/main/java/org/osmdroid/views/overlay/gridlines/LatLonGridlineOverlay2.java#L24\" rel=\"nofollow noreferrer\">LatLonGridlineOverlay2</a>"}],"owner":{"display_name":"user19692039"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670459848,"creation_date":1670326388,"question_id":74701790,"body_markdown":"I am creating an offline map application using osmdroid openstreet map I done maximum work but I am stuck on one task i.e. I want to show grid over on my map and that grid size should change when I zoom the map grid size should increases and when I zoom out the map grid size should decreases and also I want latitude longitude of specific grid.\r\nif any one have any idea about how to achieve what I am asking please let me now it will be a big help for me from senior I am looking forward for my solution    \r\n\r\nthanks in advance to android developer and other who might now the solution.  \r\n      ","title":"how to implement grid over Osmdroid openstreet map in android java","body":"<p>I am creating an offline map application using osmdroid openstreet map I done maximum work but I am stuck on one task i.e. I want to show grid over on my map and that grid size should change when I zoom the map grid size should increases and when I zoom out the map grid size should decreases and also I want latitude longitude of specific grid.\nif any one have any idea about how to achieve what I am asking please let me now it will be a big help for me from senior I am looking forward for my solution</p>\n<p>thanks in advance to android developer and other who might now the solution.</p>\n"},{"tags":["java","xml","security"],"answers":[{"tags":[],"owner":{"account_id":4332927,"reputation":307,"user_id":3537906,"display_name":"coastalhacking"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447360407,"creation_date":1447360407,"answer_id":33680807,"question_id":32086062,"body_markdown":"Your code seems correct. When I run this slightly modified JUnit test case:\r\n\r\n\r\n    @Test\r\n    public void test() throws TransformerException, URISyntaxException {\r\n      File testFile = new File(getClass().getResource(&quot;test.txt&quot;).toURI());\r\n      assertTrue(testFile.exists());\r\n      String fileData = &quot;&lt;!DOCTYPE acunetix [  &lt;!ENTITY foo SYSTEM \\&quot;file://&quot; + \r\n                        testFile.toString() +\r\n                        &quot;\\&quot;&gt;]&gt;&lt;xxe&gt;&amp;foo;&lt;/xxe&gt;&quot;;\r\n      TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n      System.out.println(transformerFactory.getClass().getName());\r\n      transformerFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n      Transformer transformer = transformerFactory.newTransformer();\r\n      StringWriter buff = new StringWriter();\r\n      transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n      transformer.transform(new StreamSource(new StringReader(fileData)), new StreamResult(buff));\r\n      assertEquals(&quot;&lt;xxe&gt;&amp;foo;&lt;/xxe&gt;&quot;, buff.toString());\r\n    }\r\n\r\nI get the following output:\r\n\r\n    com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\r\n    [Fatal Error] :1:182: External Entity: Failed to read external document &#39;test.txt&#39;, because &#39;file&#39; access is not allowed due to restriction set by the accessExternalDTD property.\r\n    ERROR:  &#39;External Entity: Failed to read external document &#39;test.txt&#39;, because &#39;file&#39; access is not allowed due to restriction set by the accessExternalDTD property.&#39;\r\n\r\n\r\nFrom the `setFeature` [JavaDocs][1]:\r\n\r\n&gt; All implementations are required to support the XMLConstants.FEATURE_SECURE_PROCESSING feature. When the feature is:\r\n&gt; \r\n&gt; * true: the implementation will limit XML processing to conform to implementation limits and behave in a secure fashion as defined by the implementation. Examples include resolving user defined style sheets and functions. If XML processing is limited for security reasons, it will be reported via a call to the registered ErrorListener.fatalError(TransformerException exception). See setErrorListener(ErrorListener listener).\r\n\r\nThat error goes away if I comment out `      transformerFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);` and then the test fails because the entity is resolved.\r\n\r\nTry adding an ErrorListener to both the TransformerFactory and Transformer:\r\n\r\n    transformerFactory.setErrorListener(new ErrorListener() {\r\n\r\n      @Override\r\n      public void warning(TransformerException exception) throws TransformerException {\r\n        System.out.println(&quot;In Warning: &quot; + exception.toString());\r\n      }\r\n\r\n      @Override\r\n      public void error(TransformerException exception) throws TransformerException {\r\n        System.out.println(&quot;In Error: &quot; + exception.toString());\r\n      }\r\n\r\n      @Override\r\n      public void fatalError(TransformerException exception) throws TransformerException {\r\n        System.out.println(&quot;In Fatal: &quot; + exception.toString());\r\n      }\r\n    });\r\n\r\n    Transformer transformer = transformerFactory.newTransformer();\r\n    transformer.setErrorListener(transformerFactory.getErrorListener());\r\n\r\nI see the following new console output now:\r\n\r\n    In Error: javax.xml.transform.TransformerException: External Entity: Failed to read external document &#39;test.txt&#39;, because &#39;file&#39; access is not allowed due to restriction set by the accessExternalDTD property.\r\n\r\nMaybe your implementation is treating it as a warning? Otherwise, maybe it&#39;s the implementation you&#39;re using? It looks like the JavaDoc spec isn&#39;t precise, so one implementation might do something different than another. I&#39;d be interested to know faulty implementations!\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html#setFeature-java.lang.String-boolean-","title":"How to secure javax.xml.transform.TransformerFactory from XML external attacks","body":"<p>Your code seems correct. When I run this slightly modified JUnit test case:</p>\n\n<pre><code>@Test\npublic void test() throws TransformerException, URISyntaxException {\n  File testFile = new File(getClass().getResource(\"test.txt\").toURI());\n  assertTrue(testFile.exists());\n  String fileData = \"&lt;!DOCTYPE acunetix [  &lt;!ENTITY foo SYSTEM \\\"file://\" + \n                    testFile.toString() +\n                    \"\\\"&gt;]&gt;&lt;xxe&gt;&amp;foo;&lt;/xxe&gt;\";\n  TransformerFactory transformerFactory = TransformerFactory.newInstance();\n  System.out.println(transformerFactory.getClass().getName());\n  transformerFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n  Transformer transformer = transformerFactory.newTransformer();\n  StringWriter buff = new StringWriter();\n  transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n  transformer.transform(new StreamSource(new StringReader(fileData)), new StreamResult(buff));\n  assertEquals(\"&lt;xxe&gt;&amp;foo;&lt;/xxe&gt;\", buff.toString());\n}\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\n[Fatal Error] :1:182: External Entity: Failed to read external document 'test.txt', because 'file' access is not allowed due to restriction set by the accessExternalDTD property.\nERROR:  'External Entity: Failed to read external document 'test.txt', because 'file' access is not allowed due to restriction set by the accessExternalDTD property.'\n</code></pre>\n\n<p>From the <code>setFeature</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html#setFeature-java.lang.String-boolean-\" rel=\"noreferrer\">JavaDocs</a>:</p>\n\n<blockquote>\n  <p>All implementations are required to support the XMLConstants.FEATURE_SECURE_PROCESSING feature. When the feature is:</p>\n  \n  <ul>\n  <li>true: the implementation will limit XML processing to conform to implementation limits and behave in a secure fashion as defined by the implementation. Examples include resolving user defined style sheets and functions. If XML processing is limited for security reasons, it will be reported via a call to the registered ErrorListener.fatalError(TransformerException exception). See setErrorListener(ErrorListener listener).</li>\n  </ul>\n</blockquote>\n\n<p>That error goes away if I comment out <code>transformerFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);</code> and then the test fails because the entity is resolved.</p>\n\n<p>Try adding an ErrorListener to both the TransformerFactory and Transformer:</p>\n\n<pre><code>transformerFactory.setErrorListener(new ErrorListener() {\n\n  @Override\n  public void warning(TransformerException exception) throws TransformerException {\n    System.out.println(\"In Warning: \" + exception.toString());\n  }\n\n  @Override\n  public void error(TransformerException exception) throws TransformerException {\n    System.out.println(\"In Error: \" + exception.toString());\n  }\n\n  @Override\n  public void fatalError(TransformerException exception) throws TransformerException {\n    System.out.println(\"In Fatal: \" + exception.toString());\n  }\n});\n\nTransformer transformer = transformerFactory.newTransformer();\ntransformer.setErrorListener(transformerFactory.getErrorListener());\n</code></pre>\n\n<p>I see the following new console output now:</p>\n\n<pre><code>In Error: javax.xml.transform.TransformerException: External Entity: Failed to read external document 'test.txt', because 'file' access is not allowed due to restriction set by the accessExternalDTD property.\n</code></pre>\n\n<p>Maybe your implementation is treating it as a warning? Otherwise, maybe it's the implementation you're using? It looks like the JavaDoc spec isn't precise, so one implementation might do something different than another. I'd be interested to know faulty implementations!</p>\n"},{"tags":[],"owner":{"account_id":7327479,"reputation":651,"user_id":5581476,"display_name":"Jonathan Kibet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668106901,"creation_date":1668106901,"answer_id":74394108,"question_id":32086062,"body_markdown":"I know that this is an old post but for those who find themselves here, I hope is helps :)\r\n\r\nAfter applying the solution below, SonarQube still complained with &#39;Disable access to external entities in XML parsing&#39; security issue :(\r\n\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n\r\nEventually I landed on the solution below which finally fixed the issue for me.\r\n\r\n    TransformerFactory factory = TransformerFactory.newInstance();\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n    factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n    factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);","title":"How to secure javax.xml.transform.TransformerFactory from XML external attacks","body":"<p>I know that this is an old post but for those who find themselves here, I hope is helps :)</p>\n<p>After applying the solution below, SonarQube still complained with 'Disable access to external entities in XML parsing' security issue :(</p>\n<pre><code>factory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n</code></pre>\n<p>Eventually I landed on the solution below which finally fixed the issue for me.</p>\n<pre><code>TransformerFactory factory = TransformerFactory.newInstance();\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\nfactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\nfactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n</code></pre>\n"}],"owner":{"account_id":2883035,"reputation":161,"user_id":2473456,"display_name":"Rajith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9539,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1670459641,"creation_date":1439955012,"question_id":32086062,"body_markdown":"I have researched on the subject but couldn&#39;t find any relevant info regarding that\r\n\r\nDo we need to take any security measurements to secure `javax.xml.transform.Transformer` against XML external entity attacks?\r\n\r\nI did the following and it seems to expand the dtd. \r\n\r\n    String fileData = &quot;&lt;!DOCTYPE acunetix [  &lt;!ENTITY sampleVal SYSTEM \\&quot;file:///media/sample\\&quot;&gt;]&gt;&lt;username&gt;&amp;sampleVal;&lt;/username&gt;&quot;;\r\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    transformerFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n    Transformer transformer = transformerFactory.newTransformer();\r\n    StringWriter buff = new StringWriter();\r\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n    transformer.transform(new StreamSource(new StringReader(fileData)), new StreamResult(buff));\r\n    System.out.println(buff.toString());\r\n\r\noutput contains the value from the file\r\n\r\n    &lt;username&gt;test&lt;/username&gt;\r\n\r\n","title":"How to secure javax.xml.transform.TransformerFactory from XML external attacks","body":"<p>I have researched on the subject but couldn't find any relevant info regarding that</p>\n<p>Do we need to take any security measurements to secure <code>javax.xml.transform.Transformer</code> against XML external entity attacks?</p>\n<p>I did the following and it seems to expand the dtd.</p>\n<pre><code>String fileData = &quot;&lt;!DOCTYPE acunetix [  &lt;!ENTITY sampleVal SYSTEM \\&quot;file:///media/sample\\&quot;&gt;]&gt;&lt;username&gt;&amp;sampleVal;&lt;/username&gt;&quot;;\nTransformerFactory transformerFactory = TransformerFactory.newInstance();\ntransformerFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\nTransformer transformer = transformerFactory.newTransformer();\nStringWriter buff = new StringWriter();\ntransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\ntransformer.transform(new StreamSource(new StringReader(fileData)), new StreamResult(buff));\nSystem.out.println(buff.toString());\n</code></pre>\n<p>output contains the value from the file</p>\n<pre><code>&lt;username&gt;test&lt;/username&gt;\n</code></pre>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"score":0,"creation_date":1367891593,"post_id":16409994,"comment_id":23527157,"body_markdown":"These have been sanitized, I hope?","body":"These have been sanitized, I hope?"}],"answers":[{"tags":[],"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670459557,"creation_date":1367892329,"answer_id":16410142,"question_id":16409994,"body_markdown":"If you&#39;re using the standard Android binding, whose Javadoc is [here](http://developer.android.com/reference/android/database/sqlite/package-summary.html), then you can find the right code to call by looking at the Javadoc for an overload of `execSQL`. See [`SQLiteDatabase.html#execSQL(String, Object[])`](https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#execSQL(java.lang.String,%20java.lang.Object[])).\r\n\r\nNow, the Javadoc says that `execSQL` is not to be used for `SELECT/INSERT/UPDATE/DELETE`. Instead, there are three `insertXXX` methods, each of which takes additional data in a `ContentValues` object.  So, you construct that object, which looks like a `Map`, with the new row&#39;s data.","title":"How so I use variables in an execSQL()?","body":"<p>If you're using the standard Android binding, whose Javadoc is <a href=\"http://developer.android.com/reference/android/database/sqlite/package-summary.html\" rel=\"nofollow noreferrer\">here</a>, then you can find the right code to call by looking at the Javadoc for an overload of <code>execSQL</code>. See <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#execSQL(java.lang.String,%20java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>SQLiteDatabase.html#execSQL(String, Object[])</code></a>.</p>\n<p>Now, the Javadoc says that <code>execSQL</code> is not to be used for <code>SELECT/INSERT/UPDATE/DELETE</code>. Instead, there are three <code>insertXXX</code> methods, each of which takes additional data in a <code>ContentValues</code> object.  So, you construct that object, which looks like a <code>Map</code>, with the new row's data.</p>\n"},{"tags":[],"owner":{"account_id":10528267,"reputation":82,"user_id":7758561,"display_name":"Shrey Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525216147,"creation_date":1525216147,"answer_id":50125030,"question_id":16409994,"body_markdown":"This is the answer you are searching\r\n\r\n    sqLiteDatabase.execSQL(&quot;insert into userTable (username,name,password,email) \r\n    values(&#39;&quot;+username+&quot;&#39;,&#39;&quot;+name+&quot;&#39;,&#39;&quot;+password+&quot;&#39;,&#39;&quot;+email+&quot;&#39;) &quot;);","title":"How so I use variables in an execSQL()?","body":"<p>This is the answer you are searching</p>\n\n<pre><code>sqLiteDatabase.execSQL(\"insert into userTable (username,name,password,email) \nvalues('\"+username+\"','\"+name+\"','\"+password+\"','\"+email+\"') \");\n</code></pre>\n"}],"owner":{"account_id":287029,"reputation":1187,"user_id":586599,"accept_rate":84,"display_name":"RapsFan1981"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16410142,"answer_count":2,"score":0,"last_activity_date":1670459557,"creation_date":1367891343,"question_id":16409994,"body_markdown":"I&#39;m trying to take some values stored from EditText fields and store them into my SQLLite DB. \r\n\r\nI have the following String variables:\r\n\r\nsite_name\r\n_address\r\n_user\r\n_pass\r\n\r\nHere is the Sql command I&#39;m trying to use:\r\n\r\n    SQLiteDatabase db = openOrCreateDatabase(&quot;SiteManager&quot;, MODE_PRIVATE,\r\n    \t\t\t\tnull);\r\n    \t\tdb.execSQL(&quot;CREATE TABLE IF NOT EXISTS SiteTable (Name VARCHAR, Address VARCHAR, Usernname VARCHAR, Password VARCHAR, PORT INT(4), Passive BIT);&quot;);\r\n    \t\tdb.execSQL(&quot;INSERT INTO SiteTable VALUES (&#39;&quot; + site_name + &quot;&#39;,&#39;&quot;\r\n    \t\t\t\t+ _address + &quot;&#39;,&#39;&quot; + _user + &quot;&#39;,&#39;&quot; + _pass + &quot;&#39;,&quot; + _port + &quot;,&quot;\r\n    \t\t\t\t+ _passive + &quot;);&quot;);\r\n\r\nI&#39;m checking the value like this in another Activity:\r\n\r\n\t\t\t\t\r\n\r\n    SQLiteDatabase db = openOrCreateDatabase(&quot;SiteManager&quot;,\r\n    \t\t\t\t\t\tMODE_PRIVATE, null);\r\n    \t\t\t\tCursor c = db.rawQuery(&quot;SELECT * FROM SiteTable&quot;, null);\r\n    \t\t\t\tc.moveToFirst();\r\n    \t\t\t\tToast.makeText(this, c.getString(c.getColumnIndex(&quot;Name&quot;)),\r\n    \t\t\t\t\t\tToast.LENGTH_LONG).show();\r\n    \t\t\t\tdb.close();\r\n\r\nIn the debugger it&#39;s showing c as not having any values but the column names are there. So this makes me think there&#39;s something wrong with the way I&#39;m trying to use variables in my SQL statement. What am I doing wrong?","title":"How so I use variables in an execSQL()?","body":"<p>I'm trying to take some values stored from EditText fields and store them into my SQLLite DB. </p>\n\n<p>I have the following String variables:</p>\n\n<p>site_name\n_address\n_user\n_pass</p>\n\n<p>Here is the Sql command I'm trying to use:</p>\n\n<pre><code>SQLiteDatabase db = openOrCreateDatabase(\"SiteManager\", MODE_PRIVATE,\n                null);\n        db.execSQL(\"CREATE TABLE IF NOT EXISTS SiteTable (Name VARCHAR, Address VARCHAR, Usernname VARCHAR, Password VARCHAR, PORT INT(4), Passive BIT);\");\n        db.execSQL(\"INSERT INTO SiteTable VALUES ('\" + site_name + \"','\"\n                + _address + \"','\" + _user + \"','\" + _pass + \"',\" + _port + \",\"\n                + _passive + \");\");\n</code></pre>\n\n<p>I'm checking the value like this in another Activity:</p>\n\n<pre><code>SQLiteDatabase db = openOrCreateDatabase(\"SiteManager\",\n                        MODE_PRIVATE, null);\n                Cursor c = db.rawQuery(\"SELECT * FROM SiteTable\", null);\n                c.moveToFirst();\n                Toast.makeText(this, c.getString(c.getColumnIndex(\"Name\")),\n                        Toast.LENGTH_LONG).show();\n                db.close();\n</code></pre>\n\n<p>In the debugger it's showing c as not having any values but the column names are there. So this makes me think there's something wrong with the way I'm trying to use variables in my SQL statement. What am I doing wrong?</p>\n"},{"tags":["java","spring","websocket","spring-websocket","stomp"],"comments":[{"owner":{"account_id":8832514,"reputation":103,"user_id":6598253,"display_name":"Noureddine"},"score":0,"creation_date":1582033523,"post_id":60278791,"comment_id":106630967,"body_markdown":"Do you get errors in the console ? if yes please provide it","body":"Do you get errors in the console ? if yes please provide it"},{"owner":{"account_id":13768700,"reputation":1495,"user_id":9962714,"display_name":"Spialdor"},"score":0,"creation_date":1582034344,"post_id":60278791,"comment_id":106631468,"body_markdown":"No error in the console, I have only this log: `Tue Feb 18 2020 14:58:29 GMT+0100 (heure normale d’Europe centrale) &quot;Opening Web Socket...&quot;` and then the connexion is never opened","body":"No error in the console, I have only this log: <code>Tue Feb 18 2020 14:58:29 GMT+0100 (heure normale d’Europe centrale) &quot;Opening Web Socket...&quot;</code> and then the connexion is never opened"}],"answers":[{"tags":[],"owner":{"account_id":16967538,"reputation":95,"user_id":12273007,"display_name":"Patryk Maryn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670459348,"creation_date":1582248433,"answer_id":60330912,"question_id":60278791,"body_markdown":"I suppose you send client requests from different port, that means your client is on different origin, for that you must add some headers on server side. Also on connect websocket sends POST to endpoint, which you must enable. I don&#39;t know exactly what endpoints are being sent, check in you console, and then add them to `antMatchers`\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors()\r\n            .and()\r\n            .csrf().disable().authorizeRequests()\r\n            .antMatchers(&quot;/status**&quot;, &quot;/topic&quot;, &quot;/myapp-websocket/**&quot;)\r\n            .permitAll()\r\n            .anyRequest()\r\n            .authenticated();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(ImmutableList.of(&quot;*&quot;));\r\n        config.setAllowCredentials(true);\r\n        config.setAllowedMethods(ImmutableList.of(&quot;HEAD&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\r\n        config.setAllowedHeaders(ImmutableList.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return source;\r\n    }\r\n}\r\n```","title":"Can&#39;t connect to websocket server (spring)","body":"<p>I suppose you send client requests from different port, that means your client is on different origin, for that you must add some headers on server side. Also on connect websocket sends POST to endpoint, which you must enable. I don't know exactly what endpoints are being sent, check in you console, and then add them to <code>antMatchers</code></p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors()\n            .and()\n            .csrf().disable().authorizeRequests()\n            .antMatchers(&quot;/status**&quot;, &quot;/topic&quot;, &quot;/myapp-websocket/**&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated();\n\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(ImmutableList.of(&quot;*&quot;));\n        config.setAllowCredentials(true);\n        config.setAllowedMethods(ImmutableList.of(&quot;HEAD&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;));\n        config.setAllowedHeaders(ImmutableList.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return source;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13768700,"reputation":1495,"user_id":9962714,"display_name":"Spialdor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6911,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60330912,"answer_count":1,"score":4,"last_activity_date":1670459348,"creation_date":1582021823,"question_id":60278791,"body_markdown":"I try to implement plain websocket with Stomp (and not SockJS) with a Spring server and an Angular client.\r\n\r\nHere is my code to enable websocket in Spring:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfiguration extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n    \r\n        @Bean\r\n        public TaskScheduler heartBeatScheduler() {\r\n            return new ThreadPoolTaskScheduler();\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n            registry.enableSimpleBroker(&#39;/status&#39;)\r\n                    .setHeartbeatValue(new long[] { 10000, 10000})\r\n                    .setTaskScheduler(heartBeatScheduler());\r\n    \r\n            registry.setApplicationDestinationPrefixes(&#39;/&#39;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&#39;/myapp-websocket&#39;).setAllowedOrigins(&quot;*&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configureInbound(MessageSecurityMetadataSourceRegistry messages) {\r\n            messages.anyMessage().authenticated();\r\n        }\r\n    \r\n        @Override\r\n        protected boolean sameOriginDisabled() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nBut I can&#39;t connect to it, when I try in angular with stompjs the connection is never done.\r\nWhen I test with wscat `wscat -c &quot;ws://localhost:4200/api/myapp-websocket&quot;` (the /api/ is good btw) there is no response, it&#39;s always trying to connect without success.\r\n\r\nWhat is wrong here ?\r\n\r\nEdit: Here is the two dependency I use\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nEdit:\r\n\r\nI also try to change `messages.anyMessage().authenticated();` to `messages.anyMessage().permitAll();` but same behavior I still can&#39;t connect to my websocket..\r\n\r\n","title":"Can&#39;t connect to websocket server (spring)","body":"<p>I try to implement plain websocket with Stomp (and not SockJS) with a Spring server and an Angular client.</p>\n<p>Here is my code to enable websocket in Spring:</p>\n<pre><code>@Configuration\n@EnableScheduling\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n\n    @Bean\n    public TaskScheduler heartBeatScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker('/status')\n                .setHeartbeatValue(new long[] { 10000, 10000})\n                .setTaskScheduler(heartBeatScheduler());\n\n        registry.setApplicationDestinationPrefixes('/');\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint('/myapp-websocket').setAllowedOrigins(&quot;*&quot;);\n    }\n\n    @Override\n    protected void configureInbound(MessageSecurityMetadataSourceRegistry messages) {\n        messages.anyMessage().authenticated();\n    }\n\n    @Override\n    protected boolean sameOriginDisabled() {\n        return true;\n    }\n}\n</code></pre>\n<p>But I can't connect to it, when I try in angular with stompjs the connection is never done.\nWhen I test with wscat <code>wscat -c &quot;ws://localhost:4200/api/myapp-websocket&quot;</code> (the /api/ is good btw) there is no response, it's always trying to connect without success.</p>\n<p>What is wrong here ?</p>\n<p>Edit: Here is the two dependency I use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Edit:</p>\n<p>I also try to change <code>messages.anyMessage().authenticated();</code> to <code>messages.anyMessage().permitAll();</code> but same behavior I still can't connect to my websocket..</p>\n"},{"tags":["java","spring-boot","gradle","microservices","spring-cloud"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670459113,"post_id":74724233,"comment_id":131883355,"body_markdown":"Gradle is just a build tool, it should never be used to run an application in production. To the question: If we do not know where startup time is spent, the question cannot be answered. Most probably startup time improves. Maybe it improves for some microservices, but not for others. The startup time, however, should not be the reason to switch architecture.","body":"Gradle is just a build tool, it should never be used to run an application in production. To the question: If we do not know where startup time is spent, the question cannot be answered. Most probably startup time improves. Maybe it improves for some microservices, but not for others. The startup time, however, should not be the reason to switch architecture."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1670459368,"post_id":74724233,"comment_id":131883402,"body_markdown":"This sounds like a traditional giant monolithic application.  It&#39;s impossible for us to tell you how to speed it up.  Microservices are like any other tool - they may help but it will take time to learn the correct way to implement and deploy.  Based on your first bullet point it sounds like there is a good amount of DB interaction on startup.  Where is the DB hosted?  You need to do some detailed analysis to determine why the startup is so slow.  Logging and timings will be a start.","body":"This sounds like a traditional giant monolithic application.  It&#39;s impossible for us to tell you how to speed it up.  Microservices are like any other tool - they may help but it will take time to learn the correct way to implement and deploy.  Based on your first bullet point it sounds like there is a good amount of DB interaction on startup.  Where is the DB hosted?  You need to do some detailed analysis to determine why the startup is so slow.  Logging and timings will be a start."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670461767,"post_id":74724233,"comment_id":131883743,"body_markdown":"I doubt your issue is related to microservices/monolitic architecture, we have one HBN application with 700+ entities and HBN&#39;s contribution in startup delay is about 30-60 seconds (all that time HBN is generating bytebuddy proxies), most probably you are doing some wrong things when spring is constructing context.","body":"I doubt your issue is related to microservices/monolitic architecture, we have one HBN application with 700+ entities and HBN&#39;s contribution in startup delay is about 30-60 seconds (all that time HBN is generating bytebuddy proxies), most probably you are doing some wrong things when spring is constructing context."}],"owner":{"account_id":26895649,"reputation":21,"user_id":20473612,"display_name":"Rilos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670458960,"creation_date":1670458867,"question_id":74724233,"body_markdown":"I have a **Spring Boot application with Gradle** that currently is taking a lot of time. \r\nNow, is taking about 10 minutes plus just to startup. \r\nThe source code indeed is growing rapidly, 6 Months ago, it only taking 3 minutes plus to startup.\r\n\r\n\r\n\r\n**Possible Causes**\r\n\r\nHere are facts that I think are causing the slowness:\r\n1. Usage of Hibernate: current source code uses a lot of sql queries. \r\nIn fact, I cant use hibernate.show_sql since it will make the startup time longer \r\nwith never ending logs keep showing up. \r\n\r\n2. There are 160+ entities with each entity is for a table.\r\n\r\n3. There are 20+ schedulers.\r\n\r\n4. There are 60+ dependencies used\r\n\r\n\r\n\r\n**Thought on Microservice**\r\n\r\nI just learnt the concept of Microsevice where \r\nit breaks down an application to smaller pieces. \r\nSo, with that, would it possibly speed up the startup time?\r\n\r\n1. I have tried to comment Schedulers during \r\nstartup time in my local, but still takes 10 mins plus\r\n\r\n2. I have used spring.main.lazy-initalization = true \r\nbut still takes 9 mins plus\r\n\r\n3. I used \r\norg.gradle.paralel = true, still takes 10 mins plus","title":"Will Microservices Architecture Speed Up Spring Boot Startup Time?","body":"<p>I have a <strong>Spring Boot application with Gradle</strong> that currently is taking a lot of time.\nNow, is taking about 10 minutes plus just to startup.\nThe source code indeed is growing rapidly, 6 Months ago, it only taking 3 minutes plus to startup.</p>\n<p><strong>Possible Causes</strong></p>\n<p>Here are facts that I think are causing the slowness:</p>\n<ol>\n<li><p>Usage of Hibernate: current source code uses a lot of sql queries.\nIn fact, I cant use hibernate.show_sql since it will make the startup time longer\nwith never ending logs keep showing up.</p>\n</li>\n<li><p>There are 160+ entities with each entity is for a table.</p>\n</li>\n<li><p>There are 20+ schedulers.</p>\n</li>\n<li><p>There are 60+ dependencies used</p>\n</li>\n</ol>\n<p><strong>Thought on Microservice</strong></p>\n<p>I just learnt the concept of Microsevice where\nit breaks down an application to smaller pieces.\nSo, with that, would it possibly speed up the startup time?</p>\n<ol>\n<li><p>I have tried to comment Schedulers during\nstartup time in my local, but still takes 10 mins plus</p>\n</li>\n<li><p>I have used spring.main.lazy-initalization = true\nbut still takes 9 mins plus</p>\n</li>\n<li><p>I used\norg.gradle.paralel = true, still takes 10 mins plus</p>\n</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670416515,"post_id":74716685,"comment_id":131870883,"body_markdown":"I am not familiar with IdentityIQ, what do you want to expose to the internet, whatever runs into tomcat? What do you use to expose your application?","body":"I am not familiar with IdentityIQ, what do you want to expose to the internet, whatever runs into tomcat? What do you use to expose your application?"},{"owner":{"account_id":27177563,"reputation":1,"user_id":20713344,"display_name":"olalla"},"score":0,"creation_date":1670431882,"post_id":74716685,"comment_id":131876610,"body_markdown":"I want to expose the IdentityIQ application. I&#39;m going to expose it through Tomcat. I want to access it through the chrome browser. The server correctly displays the IdentityIQ application but when I try to access through the Chrome browser through the IP address of the device and its port I get the error that I have attached in the image.","body":"I want to expose the IdentityIQ application. I&#39;m going to expose it through Tomcat. I want to access it through the chrome browser. The server correctly displays the IdentityIQ application but when I try to access through the Chrome browser through the IP address of the device and its port I get the error that I have attached in the image."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670506383,"post_id":74716685,"comment_id":131894014,"body_markdown":"Have you installed and configured nginx or another reverse proxy program to handle the connections to the application?","body":"Have you installed and configured nginx or another reverse proxy program to handle the connections to the application?"},{"owner":{"account_id":27177563,"reputation":1,"user_id":20713344,"display_name":"olalla"},"score":0,"creation_date":1670571647,"post_id":74716685,"comment_id":131909350,"body_markdown":"Yes, who manages the server is tomcat. Tomcat deploys the server and maintains it.","body":"Yes, who manages the server is tomcat. Tomcat deploys the server and maintains it."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670837756,"post_id":74716685,"comment_id":131957469,"body_markdown":"How do you expose tomcat to the internet from the server?","body":"How do you expose tomcat to the internet from the server?"}],"owner":{"account_id":27177563,"reputation":1,"user_id":20713344,"display_name":"olalla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670458847,"creation_date":1670416002,"question_id":74716685,"body_markdown":"Currently, I am using a virtual machine in Oracle cloud. I have successfully installed Tomcat and IdentityIQ. The server is deployed correctly, but when I try to access through Google Chrome with the credentials, I get the following error.\r\n\r\n[![Error message][1]][1]\r\n\r\nI have disabled the firewall and when I try to test the connection with ping it does not respond.\r\n\r\n[1]: https://i.stack.imgur.com/4nbki.png","title":"Identity IQ does not start","body":"<p>Currently, I am using a virtual machine in Oracle cloud. I have successfully installed Tomcat and IdentityIQ. The server is deployed correctly, but when I try to access through Google Chrome with the credentials, I get the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/4nbki.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4nbki.png\" alt=\"Error message\" /></a></p>\n<p>I have disabled the firewall and when I try to test the connection with ping it does not respond.</p>\n"},{"tags":["java","spring-boot","javax.validation"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670458681,"creation_date":1670458681,"answer_id":74724212,"question_id":74723457,"body_markdown":"You can implement a handler for [`MethodArgumentNotValidException`][1]:\r\n\r\n&gt; Exception to be thrown when validation on an argument annotated with @Valid fails.\r\n\r\n``` lang-java\r\n@RestControllerAdvice\r\npublic class MyErrorHandler {\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;MyErrorResponse&gt; handle(MethodArgumentNotValidException ex) {\r\n        // Fetch whatever data you need from the original exception ex\r\n        // e.g. ex.getAllErrors().getXXXX()\r\n        return ResponseEntity\r\n                .status(HttpStatus.BAD_REQUEST)\r\n                .body(MyErrorResponse.builder()\r\n                        //.whicheverFieldsYouNeed(xxxx)\r\n                        .build());\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html","title":"How to customise javax.validation.Valid error response","body":"<p>You can implement a handler for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/MethodArgumentNotValidException.html\" rel=\"nofollow noreferrer\"><code>MethodArgumentNotValidException</code></a>:</p>\n<blockquote>\n<p>Exception to be thrown when validation on an argument annotated with @Valid fails.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class MyErrorHandler {\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;MyErrorResponse&gt; handle(MethodArgumentNotValidException ex) {\n        // Fetch whatever data you need from the original exception ex\n        // e.g. ex.getAllErrors().getXXXX()\n        return ResponseEntity\n                .status(HttpStatus.BAD_REQUEST)\n                .body(MyErrorResponse.builder()\n                        //.whicheverFieldsYouNeed(xxxx)\n                        .build());\n    }\n\n\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670458681,"creation_date":1670451628,"question_id":74723457,"body_markdown":"I have this controller:\r\n\r\n```Java\r\n@RequestMapping(\r\n    method = RequestMethod.GET,\r\n    value = Endpoints.TRUE_MATCH,\r\n    produces = {&quot;application/json&quot;})\r\npublic ResponseEntity&lt;ResponseWrapper&lt;List&lt;TrueMatch&gt;&gt;&gt; getTrueMatch(\r\n    @Valid Details details) {\r\n    ...\r\n}\r\n```\r\n\r\nDetails contains `@NotNull private TransmissionType transmissionType;` where is an enum. If a request has a transmissionType parameter which doesn&#39;t match any enum, the response looks something like this:\r\n\r\n```JSON\r\n{\r\n    &quot;status&quot;: 400,\r\n    &quot;validationErrors&quot;: {\r\n        &quot;transmissionType&quot;: &quot;Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;my.application.model.TransmissionType&#39; for property &#39;transmissionType&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@javax.validation.constraints.NotNull ie.aviva.services.motor.cartellservice.model.TransmissionType] for value &#39;foo&#39;; nested exception is java.lang.IllegalArgumentException: No enum constant ie.aviva.services.motor.cartellservice.model.TransmissionType.automatic&#39;&quot;\r\n    },\r\n    &quot;title&quot;: &quot;Bad Request&quot;\r\n}\r\n```\r\n\r\nIs it possible to override the message in transmissionType so the response looks something like this?\r\n\r\n```JSON\r\n{\r\n    &quot;status&quot;: 400,\r\n    &quot;validationErrors&quot;: {\r\n        &quot;transmissionType&quot;: &quot;Some custom message&quot;\r\n    },\r\n    &quot;title&quot;: &quot;Bad Request&quot;\r\n}\r\n```\r\n","title":"How to customise javax.validation.Valid error response","body":"<p>I have this controller:</p>\n<pre><code>@RequestMapping(\n    method = RequestMethod.GET,\n    value = Endpoints.TRUE_MATCH,\n    produces = {&quot;application/json&quot;})\npublic ResponseEntity&lt;ResponseWrapper&lt;List&lt;TrueMatch&gt;&gt;&gt; getTrueMatch(\n    @Valid Details details) {\n    ...\n}\n</code></pre>\n<p>Details contains <code>@NotNull private TransmissionType transmissionType;</code> where is an enum. If a request has a transmissionType parameter which doesn't match any enum, the response looks something like this:</p>\n<pre><code>{\n    &quot;status&quot;: 400,\n    &quot;validationErrors&quot;: {\n        &quot;transmissionType&quot;: &quot;Failed to convert property value of type 'java.lang.String' to required type 'my.application.model.TransmissionType' for property 'transmissionType'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@javax.validation.constraints.NotNull ie.aviva.services.motor.cartellservice.model.TransmissionType] for value 'foo'; nested exception is java.lang.IllegalArgumentException: No enum constant ie.aviva.services.motor.cartellservice.model.TransmissionType.automatic'&quot;\n    },\n    &quot;title&quot;: &quot;Bad Request&quot;\n}\n</code></pre>\n<p>Is it possible to override the message in transmissionType so the response looks something like this?</p>\n<pre><code>{\n    &quot;status&quot;: 400,\n    &quot;validationErrors&quot;: {\n        &quot;transmissionType&quot;: &quot;Some custom message&quot;\n    },\n    &quot;title&quot;: &quot;Bad Request&quot;\n}\n</code></pre>\n"},{"tags":["java","parallel-processing","completable-future"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1670530134,"post_id":74692332,"comment_id":131901959,"body_markdown":"Yes this is basically how to do it when you want to rely on `CompletableFuture.allOf`. However, I prefer to do this as describe in this answer: https://stackoverflow.com/a/74662100/402428 Basically, write a helper function that can convert a `CompletableFuture&lt;Stream&lt;T&gt;&gt;` to a `Stream&lt;CompletableFuture&lt;T&gt;&gt;`.","body":"Yes this is basically how to do it when you want to rely on <code>CompletableFuture.allOf</code>. However, I prefer to do this as describe in this answer: <a href=\"https://stackoverflow.com/a/74662100/402428\">stackoverflow.com/a/74662100/402428</a> Basically, write a helper function that can convert a <code>CompletableFuture&lt;Stream&lt;T&gt;&gt;</code> to a <code>Stream&lt;CompletableFuture&lt;T&gt;&gt;</code>."},{"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670543231,"post_id":74692332,"comment_id":131905057,"body_markdown":"I notice that getAllInputs input is called multiple times, but it waits for all the iterations to complete before doing futures.add(future). It looks like it is slowing my process, is there a better way to achieve parallel processing for my use case. Thank you.","body":"I notice that getAllInputs input is called multiple times, but it waits for all the iterations to complete before doing futures.add(future). It looks like it is slowing my process, is there a better way to achieve parallel processing for my use case. Thank you."}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670458101,"creation_date":1670262536,"question_id":74692332,"body_markdown":"I am trying to use CompletableFuture with lambda api call. I receive a set of inputs that I need to process via my lambda in batches of 5 and then display them. I am using CompletableFuture for the first time and want to understand if i am using it correctly to help parallel process my code. I want to call the api in paralleling for every 5 inputs. \r\n\r\n\r\n```\r\nList&lt;Info&gt; listOfInputs = new LinkedList&lt;&gt;();\r\n\r\nList&lt;CompletableFuture&lt;List&lt;Info&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\r\ntry {\r\n    for (int iterator = 0; iterator &lt; inputs.length; iterator = iterator + 5)) {\r\n        int finalIterator = iterator;\r\n        CompletableFuture&lt;List&lt;Info&gt;&gt; future = CompletableFuture.supplyAsync(() -&gt; {\r\n            return getAllInputs(Arrays.copyOfRange(inputs, finalIterator,\r\n                                    Math.min(inputs.length, finalIterator + 5)));\r\n        });\r\n        futures.add(future);\r\n    }\r\n    CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(\r\n            futures.toArray(new CompletableFuture[0]));\r\n    allFutures.join();\r\n\r\n    for (CompletableFuture&lt;List&lt;Info&gt;&gt; future : futures) {\r\n        List&lt;Info&gt; info = future.get();\r\n        for (int i = 0; i &lt; info.size(); i++) {\r\n            listOfInputs.add(info.get(i));\r\n        }\r\n    }\r\n\r\n    listOfInputs.stream().map(infoEntry -&gt; {\r\n            sout(&quot;Hello&quot; + infoEntry) });  \r\n}                     \r\n```\r\n\r\n","title":"CompletableFuture with api call","body":"<p>I am trying to use CompletableFuture with lambda api call. I receive a set of inputs that I need to process via my lambda in batches of 5 and then display them. I am using CompletableFuture for the first time and want to understand if i am using it correctly to help parallel process my code. I want to call the api in paralleling for every 5 inputs.</p>\n<pre><code>List&lt;Info&gt; listOfInputs = new LinkedList&lt;&gt;();\n\nList&lt;CompletableFuture&lt;List&lt;Info&gt;&gt;&gt; futures = new ArrayList&lt;&gt;();\ntry {\n    for (int iterator = 0; iterator &lt; inputs.length; iterator = iterator + 5)) {\n        int finalIterator = iterator;\n        CompletableFuture&lt;List&lt;Info&gt;&gt; future = CompletableFuture.supplyAsync(() -&gt; {\n            return getAllInputs(Arrays.copyOfRange(inputs, finalIterator,\n                                    Math.min(inputs.length, finalIterator + 5)));\n        });\n        futures.add(future);\n    }\n    CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(\n            futures.toArray(new CompletableFuture[0]));\n    allFutures.join();\n\n    for (CompletableFuture&lt;List&lt;Info&gt;&gt; future : futures) {\n        List&lt;Info&gt; info = future.get();\n        for (int i = 0; i &lt; info.size(); i++) {\n            listOfInputs.add(info.get(i));\n        }\n    }\n\n    listOfInputs.stream().map(infoEntry -&gt; {\n            sout(&quot;Hello&quot; + infoEntry) });  \n}                     \n</code></pre>\n"},{"tags":["java","android","session","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":16041428,"reputation":120,"user_id":11577746,"display_name":"ERTUGRUL KOC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670406216,"creation_date":1670406216,"answer_id":74714558,"question_id":74605361,"body_markdown":"sharedPrefences is like a repo. So write our data with string types. You can select your data is private or public. And remove your data when your deleted app.\r\n*Maybe your help this link:*\r\n\r\n    https://www.geeksforgeeks.org/shared-preferences-in-android-with-examples/ ","title":"How is a session ID authenticated in SharedPreferences?","body":"<p>sharedPrefences is like a repo. So write our data with string types. You can select your data is private or public. And remove your data when your deleted app.\n<em>Maybe your help this link:</em></p>\n<pre><code>https://www.geeksforgeeks.org/shared-preferences-in-android-with-examples/ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670456806,"creation_date":1670456806,"answer_id":74724046,"question_id":74605361,"body_markdown":"I use `SharedPreferences` a lot but did not yet use `EncryptedSharedPreferences`. I think this is only necessary, if you have data that deserves protection in a very strict way (like passwords or similar). But then you might probably want to use [Google Identity][1] or similar.\r\n\r\nIf you use private `SharedPreferences`, by calling `context.getSharedPreferences(.., Context.MODE_PRIVATE)` the OS already makes sure your data is only accessable from your app. Unless there is a bug in the system or the device is hacked, no other party has access to your data.\r\n\r\nNow to answer your question, what do you use the session ID for? \r\n\r\nFor me it looks like you try to implement a web application inside an Android app. If this is the case because you are used to build web apps and have no more specific reason, then just forget about session handling and implement the app assuming there is only one user.\r\nIf you want it because you are communicating with a web service or similar, then let that service do the session handling, if possible.\r\nIf you really need that session, then the answer to your question is:\r\nWith your example the system doesn&#39;t know the `SharedPrefrences` you are calling is valid for the current session. The values are always the same, independent on who is currently logged in.\r\nWhat you can do, is to choose a name for your `SharedPreferences` that corresponds with your logged in user (e.g. the hash of the username/mail address or similar).\r\nSo you always load the `SharedPreferences` based on some user identification, just like that:\r\n`context.getSharedPreferences(username.hashCode(), Context.MODE_PRIVATE)`\r\n\r\nThere are two points to consider, if you do so:\r\n1. You might generate junk data, if a user logs in once, therefore generates a `SharedPreferences` file, and never logs in again. So it might be appropriate to save the users last activity and clean up from time to time.\r\n2. If you have lot&#39;s of users logging in, you might want to consider a [database][3] or some other storage type, like json files or whatever, as it&#39;s much easier to handle and clean them up.\r\n\r\n\r\n  [1]: https://developers.google.com/identity/one-tap/android/save-passwords\r\n  [2]: https://www.tutorialspoint.com/android/android_session_management.htm\r\n  [3]: https://developer.android.com/training/data-storage/sqlite","title":"How is a session ID authenticated in SharedPreferences?","body":"<p>I use <code>SharedPreferences</code> a lot but did not yet use <code>EncryptedSharedPreferences</code>. I think this is only necessary, if you have data that deserves protection in a very strict way (like passwords or similar). But then you might probably want to use <a href=\"https://developers.google.com/identity/one-tap/android/save-passwords\" rel=\"nofollow noreferrer\">Google Identity</a> or similar.</p>\n<p>If you use private <code>SharedPreferences</code>, by calling <code>context.getSharedPreferences(.., Context.MODE_PRIVATE)</code> the OS already makes sure your data is only accessable from your app. Unless there is a bug in the system or the device is hacked, no other party has access to your data.</p>\n<p>Now to answer your question, what do you use the session ID for?</p>\n<p>For me it looks like you try to implement a web application inside an Android app. If this is the case because you are used to build web apps and have no more specific reason, then just forget about session handling and implement the app assuming there is only one user.\nIf you want it because you are communicating with a web service or similar, then let that service do the session handling, if possible.\nIf you really need that session, then the answer to your question is:\nWith your example the system doesn't know the <code>SharedPrefrences</code> you are calling is valid for the current session. The values are always the same, independent on who is currently logged in.\nWhat you can do, is to choose a name for your <code>SharedPreferences</code> that corresponds with your logged in user (e.g. the hash of the username/mail address or similar).\nSo you always load the <code>SharedPreferences</code> based on some user identification, just like that:\n<code>context.getSharedPreferences(username.hashCode(), Context.MODE_PRIVATE)</code></p>\n<p>There are two points to consider, if you do so:</p>\n<ol>\n<li>You might generate junk data, if a user logs in once, therefore generates a <code>SharedPreferences</code> file, and never logs in again. So it might be appropriate to save the users last activity and clean up from time to time.</li>\n<li>If you have lot's of users logging in, you might want to consider a <a href=\"https://developer.android.com/training/data-storage/sqlite\" rel=\"nofollow noreferrer\">database</a> or some other storage type, like json files or whatever, as it's much easier to handle and clean them up.</li>\n</ol>\n"}],"owner":{"account_id":5373467,"reputation":339,"user_id":9205480,"display_name":"dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74724046,"answer_count":2,"score":4,"last_activity_date":1670456806,"creation_date":1669662004,"question_id":74605361,"body_markdown":"I am learning more about SharedPreferences and would like to understand how exactly everything is working. I have watched a decent amount of videos but I still have some questions.\r\n\r\n 1. Upon a user logging in, I generate a random session ID using UUID. I then assign the user their session ID and save a session by passing the UserModel into a SessionManagement instance that handles SharedPreferences.\r\n\r\n```\r\nuserModel.setSessionId(UUID.randomUUID().toString());\r\n\r\nSessionManagement sessionManagement = new SessionManagement(LoginActivity.this);\r\nsessionManagement.saveSession(userModel);\r\n```\r\n\r\n 2. When the user closes/opens the app, onStart() is called. It creates another instance of SessionManagement and checks if the session is null using getSession() to determine whether they&#39;re logged in or not.\r\n\r\n```\r\nSessionManagement sessionManagement = new SessionManagement(LoginActivity.this);\r\n\r\nif (sessionManagement.getSession() != null) {\r\n // go to some activity\r\n}\r\n```\r\n\r\nAnd here is what SessionManagement constructor looks like:\r\n\r\n```\r\nprivate SharedPreferences sharedPreferences;\r\n    private final SharedPreferences.Editor editor;\r\n    private MasterKey masterKey;\r\n    //private String SHARED_PREF_NAME = &quot;session&quot;;\r\n    private final String SESSION_KEY = &quot;session_user&quot;;\r\n    private final String SESSION_USERNAME = &quot;session_username&quot;;\r\n\r\n    public SessionManagement(Context context) {\r\n        try {\r\n            masterKey = new MasterKey.Builder(context)\r\n                    .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)\r\n                    .build();\r\n        } catch (GeneralSecurityException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            sharedPreferences = EncryptedSharedPreferences.create(\r\n                    context,\r\n                    &quot;secret_shared_prefs&quot;,\r\n                    masterKey,\r\n                    EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n                    EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n            );\r\n        } catch (GeneralSecurityException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //sharedPreferences = context.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\r\n        editor = sharedPreferences.edit();\r\n    }\r\n```\r\n\r\nMy question now is, if I am just checking whether the session is null or not, how does SharedPreferences know that the sessionID corresponds to the user that initialized it in step 1?\r\n\r\nWhat are the ways that people work around weak/exposed session ID&#39;s that a SharedPreferences implementation can protect against?\r\n\r\nIs my implementation/flow correct?\r\n\r\nIs it safe to save the sessionID to a user model?\r\n\r\nI appreciate any help I can get with this topic!","title":"How is a session ID authenticated in SharedPreferences?","body":"<p>I am learning more about SharedPreferences and would like to understand how exactly everything is working. I have watched a decent amount of videos but I still have some questions.</p>\n<ol>\n<li>Upon a user logging in, I generate a random session ID using UUID. I then assign the user their session ID and save a session by passing the UserModel into a SessionManagement instance that handles SharedPreferences.</li>\n</ol>\n<pre><code>userModel.setSessionId(UUID.randomUUID().toString());\n\nSessionManagement sessionManagement = new SessionManagement(LoginActivity.this);\nsessionManagement.saveSession(userModel);\n</code></pre>\n<ol start=\"2\">\n<li>When the user closes/opens the app, onStart() is called. It creates another instance of SessionManagement and checks if the session is null using getSession() to determine whether they're logged in or not.</li>\n</ol>\n<pre><code>SessionManagement sessionManagement = new SessionManagement(LoginActivity.this);\n\nif (sessionManagement.getSession() != null) {\n // go to some activity\n}\n</code></pre>\n<p>And here is what SessionManagement constructor looks like:</p>\n<pre><code>private SharedPreferences sharedPreferences;\n    private final SharedPreferences.Editor editor;\n    private MasterKey masterKey;\n    //private String SHARED_PREF_NAME = &quot;session&quot;;\n    private final String SESSION_KEY = &quot;session_user&quot;;\n    private final String SESSION_USERNAME = &quot;session_username&quot;;\n\n    public SessionManagement(Context context) {\n        try {\n            masterKey = new MasterKey.Builder(context)\n                    .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)\n                    .build();\n        } catch (GeneralSecurityException | IOException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            sharedPreferences = EncryptedSharedPreferences.create(\n                    context,\n                    &quot;secret_shared_prefs&quot;,\n                    masterKey,\n                    EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n                    EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n            );\n        } catch (GeneralSecurityException | IOException e) {\n            e.printStackTrace();\n        }\n\n        //sharedPreferences = context.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE);\n        editor = sharedPreferences.edit();\n    }\n</code></pre>\n<p>My question now is, if I am just checking whether the session is null or not, how does SharedPreferences know that the sessionID corresponds to the user that initialized it in step 1?</p>\n<p>What are the ways that people work around weak/exposed session ID's that a SharedPreferences implementation can protect against?</p>\n<p>Is my implementation/flow correct?</p>\n<p>Is it safe to save the sessionID to a user model?</p>\n<p>I appreciate any help I can get with this topic!</p>\n"},{"tags":["java","maven","javafx","openjfx"],"comments":[{"owner":{"account_id":18537382,"reputation":61,"user_id":13506731,"display_name":"Johan Daniel"},"score":1,"creation_date":1670416773,"post_id":74714081,"comment_id":131870983,"body_markdown":"Thank you all for your help. I cleaned both my Java and Intellij installation and got it to work. The `JAVA_HOME` variable was indeed not set and Intellij couldn&#39;t find the project because of the flatpack install used by the software manager (at least I think that&#39;s the problem since it couldn&#39;t find my JDK as well).","body":"Thank you all for your help. I cleaned both my Java and Intellij installation and got it to work. The <code>JAVA_HOME</code> variable was indeed not set and Intellij couldn&#39;t find the project because of the flatpack install used by the software manager (at least I think that&#39;s the problem since it couldn&#39;t find my JDK as well)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670456805,"creation_date":1670420146,"answer_id":74717536,"question_id":74714081,"body_markdown":"Ensure your `JAVA_HOME` environmental variable is set correctly.  This will allow the `javafx-maven-plugin` to find the correct `java` command needed to run your application.\r\n\r\nFollow this guide, choosing the relevant section for your OS:\r\n\r\n * [Set JAVA_HOME on Windows 7, 8, 10, Mac OS X, Linux](https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux)\r\n\r\nAlso, use the current version of the maven JavaFX plugin, `0.0.8`, though that is not your core issue.","title":"Cannot run OpenJFX&#39;s non modular maven sample","body":"<p>Ensure your <code>JAVA_HOME</code> environmental variable is set correctly.  This will allow the <code>javafx-maven-plugin</code> to find the correct <code>java</code> command needed to run your application.</p>\n<p>Follow this guide, choosing the relevant section for your OS:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\" rel=\"nofollow noreferrer\">Set JAVA_HOME on Windows 7, 8, 10, Mac OS X, Linux</a></li>\n</ul>\n<p>Also, use the current version of the maven JavaFX plugin, <code>0.0.8</code>, though that is not your core issue.</p>\n"}],"owner":{"account_id":18537382,"reputation":61,"user_id":13506731,"display_name":"Johan Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74717536,"answer_count":1,"score":0,"last_activity_date":1670456805,"creation_date":1670403809,"question_id":74714081,"body_markdown":"Title is pretty self explanatory, I&#39;ve downloaded the non-modular maven sample code for JavaFX from OpenJFX (from here) and I can&#39;t run it.\r\n\r\nIt compiles without any error but when I try to run it I get this error\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------------&lt; org.openjfx:hellofx &gt;-------------------------\r\n[INFO] Building hellofx 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; javafx-maven-plugin:0.0.6:run (default-cli) &gt; process-classes @ hellofx &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hellofx ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Copying 3 resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ hellofx ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; javafx-maven-plugin:0.0.6:run (default-cli) &lt; process-classes @ hellofx &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- javafx-maven-plugin:0.0.6:run (default-cli) @ hellofx ---\r\n[INFO] Toolchain in javafx-maven-plugin null\r\n\r\n[ERROR] Command execution failed.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.691 s\r\n[INFO] Finished at: 2022-12-07T08:56:47+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.6:run (default-cli) on project hellofx: Error: Command execution failed. Cannot run program &quot;java&quot; (in directory &quot;/home/johan/Desktop/hellofx&quot;): error=2, No such file or directory -&gt; [Help 1]\r\n```\r\n\r\nAny idea is appreciated as I don&#39;t even understand the `Cannot run program Java` part.\r\nI ran the javafx:compile then the javafx:run in Maven.","title":"Cannot run OpenJFX&#39;s non modular maven sample","body":"<p>Title is pretty self explanatory, I've downloaded the non-modular maven sample code for JavaFX from OpenJFX (from here) and I can't run it.</p>\n<p>It compiles without any error but when I try to run it I get this error</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; org.openjfx:hellofx &gt;-------------------------\n[INFO] Building hellofx 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; javafx-maven-plugin:0.0.6:run (default-cli) &gt; process-classes @ hellofx &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hellofx ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 3 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ hellofx ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] &lt;&lt;&lt; javafx-maven-plugin:0.0.6:run (default-cli) &lt; process-classes @ hellofx &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- javafx-maven-plugin:0.0.6:run (default-cli) @ hellofx ---\n[INFO] Toolchain in javafx-maven-plugin null\n\n[ERROR] Command execution failed.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.691 s\n[INFO] Finished at: 2022-12-07T08:56:47+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.6:run (default-cli) on project hellofx: Error: Command execution failed. Cannot run program &quot;java&quot; (in directory &quot;/home/johan/Desktop/hellofx&quot;): error=2, No such file or directory -&gt; [Help 1]\n</code></pre>\n<p>Any idea is appreciated as I don't even understand the <code>Cannot run program Java</code> part.\nI ran the javafx:compile then the javafx:run in Maven.</p>\n"},{"tags":["java","mysql","sql","resultset"],"answers":[{"tags":[],"owner":{"account_id":6763529,"reputation":3055,"user_id":5209273,"display_name":"uoyilmaz"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1474223128,"creation_date":1474223128,"answer_id":39561156,"question_id":39561112,"body_markdown":"You can call wasNull after calling getBoolean. It&#39;s explained here: https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#wasNull%28%29","title":"Getting Boolean from ResultSet","body":"<p>You can call wasNull after calling getBoolean. It's explained here: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#wasNull%28%29\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#wasNull%28%29</a></p>\n"},{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1490352068,"creation_date":1474223151,"answer_id":39561159,"question_id":39561112,"body_markdown":"This should work:\r\n\r\n        try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/test?serverTimezone=UTC&quot;);){\r\n\r\n            // create table bool_table (bool_value boolean);\r\n            // insert into bool_table values (null);\r\n            String sql = &quot;SELECT * FROM bool_table&quot;;\r\n\r\n            try (PreparedStatement preStmt = conn.prepareStatement(sql)){\r\n\r\n                try (ResultSet rs = preStmt.executeQuery()) {\r\n                    rs.next();\r\n\r\n                    System.out.println(rs.getObject(1, Boolean.class));\r\n                }\r\n\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }","title":"Getting Boolean from ResultSet","body":"<p>This should work:</p>\n\n<pre><code>    try (Connection conn = DriverManager.getConnection(\"jdbc:mysql://localhost/test?serverTimezone=UTC\");){\n\n        // create table bool_table (bool_value boolean);\n        // insert into bool_table values (null);\n        String sql = \"SELECT * FROM bool_table\";\n\n        try (PreparedStatement preStmt = conn.prepareStatement(sql)){\n\n            try (ResultSet rs = preStmt.executeQuery()) {\n                rs.next();\n\n                System.out.println(rs.getObject(1, Boolean.class));\n            }\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    } catch (SQLException ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4535031,"reputation":1556,"user_id":3684479,"accept_rate":35,"display_name":"theyuv"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1554301628,"creation_date":1554301628,"answer_id":55497562,"question_id":39561112,"body_markdown":"You should get the desired result (ie: null when the column value is null) by using `ResultSet.getObject()` and then casting to a `Boolean` Object.\r\n\r\nLike this:\r\n\r\n    Boolean someBool = (Boolean) rs.getObject(&quot;booleanColumnName&quot;);\r\n\r\nI think this is safe as long as your column type corresponds to boolean (ie: `TINYINT(1)`), But test it.\r\n\r\n[This answer][1] does the same thing but with the `Integer` Object. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5881851/3684479","title":"Getting Boolean from ResultSet","body":"<p>You should get the desired result (ie: null when the column value is null) by using <code>ResultSet.getObject()</code> and then casting to a <code>Boolean</code> Object.</p>\n\n<p>Like this:</p>\n\n<pre><code>Boolean someBool = (Boolean) rs.getObject(\"booleanColumnName\");\n</code></pre>\n\n<p>I think this is safe as long as your column type corresponds to boolean (ie: <code>TINYINT(1)</code>), But test it.</p>\n\n<p><a href=\"https://stackoverflow.com/a/5881851/3684479\">This answer</a> does the same thing but with the <code>Integer</code> Object. </p>\n"},{"tags":[],"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560190023,"creation_date":1560190023,"answer_id":56531410,"question_id":39561112,"body_markdown":"    resultSet.getObject(1) == null ? null : resultSet.getBoolean(1)","title":"Getting Boolean from ResultSet","body":"<pre><code>resultSet.getObject(1) == null ? null : resultSet.getBoolean(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1855940,"reputation":2151,"user_id":1681523,"accept_rate":100,"display_name":"Ricardo Mayerhofer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670456801,"creation_date":1670456801,"answer_id":74724043,"question_id":39561112,"body_markdown":"You can use java optional for that:\r\n\r\n```java\r\n    public static Boolean getNullableBoolean(ResultSet rs, String column) throws SQLException {\r\n        return Optional.ofNullable((Boolean)rs.getObject(column))\r\n                       .map(Boolean::booleanValue).orElse(null);\r\n    }\r\n```\r\n...\r\n```java\r\ngetNullableBoolean(rs, &quot;my_boolean_column&quot;)\r\n```","title":"Getting Boolean from ResultSet","body":"<p>You can use java optional for that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Boolean getNullableBoolean(ResultSet rs, String column) throws SQLException {\n        return Optional.ofNullable((Boolean)rs.getObject(column))\n                       .map(Boolean::booleanValue).orElse(null);\n    }\n</code></pre>\n<p>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>getNullableBoolean(rs, &quot;my_boolean_column&quot;)\n</code></pre>\n"}],"owner":{"account_id":8376904,"reputation":842,"user_id":6290124,"accept_rate":67,"display_name":"Priv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22362,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":39561156,"answer_count":5,"score":20,"last_activity_date":1670456801,"creation_date":1474222920,"question_id":39561112,"body_markdown":"ResultSet#getBoolean seems to return false when it&#39;s null.&lt;br&gt;\r\nIs there an easy way to get a `Boolean` (not `boolean`) from a `ResultSet`?","title":"Getting Boolean from ResultSet","body":"<p>ResultSet#getBoolean seems to return false when it's null.<br>\nIs there an easy way to get a <code>Boolean</code> (not <code>boolean</code>) from a <code>ResultSet</code>?</p>\n"},{"tags":["java","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670456787,"creation_date":1670456787,"answer_id":74724041,"question_id":74718641,"body_markdown":"You need change your configuration\r\n\r\nhttps://openapi-generator.tech/docs/configuration\r\n\r\nGradle Plugin\r\n\r\n    openApiGenerate {\r\n        generatorName = &quot;mysql-schema&quot;\r\n        inputSpec = &quot;$rootDir/spec.yaml&quot;.toString()\r\n        outputDir = &quot;$buildDir/mysql&quot;.toString()\r\n        configOptions = [\r\n                identifierNamingConvention: &quot;snake_case&quot;\r\n        ]\r\n    }\r\n\r\nYou need change the `&quot;snake_case&quot;` to `&quot;original&quot;` to keep the same format ","title":"OpenApi Java code generation field capitalization","body":"<p>You need change your configuration</p>\n<p><a href=\"https://openapi-generator.tech/docs/configuration\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/configuration</a></p>\n<p>Gradle Plugin</p>\n<pre><code>openApiGenerate {\n    generatorName = &quot;mysql-schema&quot;\n    inputSpec = &quot;$rootDir/spec.yaml&quot;.toString()\n    outputDir = &quot;$buildDir/mysql&quot;.toString()\n    configOptions = [\n            identifierNamingConvention: &quot;snake_case&quot;\n    ]\n}\n</code></pre>\n<p>You need change the <code>&quot;snake_case&quot;</code> to <code>&quot;original&quot;</code> to keep the same format</p>\n"}],"owner":{"account_id":19386095,"reputation":41,"user_id":14175765,"display_name":"azazel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670456787,"creation_date":1670424965,"question_id":74718641,"body_markdown":"I&#39;m using org.openapitools.generator.gradle.plugin.tasks.GenerateTask to generate Java code from my yml based openapi.\r\n\r\nIs there a way to specify how the generated fields should be capitalized?\r\nFor example:\r\n```\r\nAIOBCategory:\r\n type: string\r\n maxLength: 100\r\n example: ASD1234\r\n```\r\n\r\nis generated as \r\n\r\n```\r\n@com.fasterxml.jackson.annotation.JsonProperty(JSON_PROPERTY_AI_O_B_CATEGORY)\r\nprivate java.lang.String aiOBCategory;\r\n```\r\n\r\nInstead I would like to be generated as: \r\n\r\n    private java.lang.String AIOBCategory;\r\n\r\n","title":"OpenApi Java code generation field capitalization","body":"<p>I'm using org.openapitools.generator.gradle.plugin.tasks.GenerateTask to generate Java code from my yml based openapi.</p>\n<p>Is there a way to specify how the generated fields should be capitalized?\nFor example:</p>\n<pre><code>AIOBCategory:\n type: string\n maxLength: 100\n example: ASD1234\n</code></pre>\n<p>is generated as</p>\n<pre><code>@com.fasterxml.jackson.annotation.JsonProperty(JSON_PROPERTY_AI_O_B_CATEGORY)\nprivate java.lang.String aiOBCategory;\n</code></pre>\n<p>Instead I would like to be generated as:</p>\n<pre><code>private java.lang.String AIOBCategory;\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668307441,"post_id":74418078,"comment_id":131372824,"body_markdown":"Does this answer your question? [Which PostgreSQL column type should be used to store a Java BigDecimal?](https://stackoverflow.com/questions/4643592/which-postgresql-column-type-should-be-used-to-store-a-java-bigdecimal)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4643592/which-postgresql-column-type-should-be-used-to-store-a-java-bigdecimal\">Which PostgreSQL column type should be used to store a Java BigDecimal?</a>"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668307623,"creation_date":1668307623,"answer_id":74418125,"question_id":74418078,"body_markdown":"You&#39;ll probably want to use either &#39;decimal&#39; or &#39;numeric&#39; column type instead of &#39;double precision&#39;. And you&#39;ll need to specify the precision, depending on the values being stored.\r\n\r\nYou can see the doucumentation at https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-NUMERIC-DECIMAL","title":"Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;low_range&quot; is of type double precision but expression is of type bytea","body":"<p>You'll probably want to use either 'decimal' or 'numeric' column type instead of 'double precision'. And you'll need to specify the precision, depending on the values being stored.</p>\n<p>You can see the doucumentation at <a href=\"https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-NUMERIC-DECIMAL\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-NUMERIC-DECIMAL</a></p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670456732,"creation_date":1670456732,"answer_id":74724037,"question_id":74418078,"body_markdown":"It&#39;s always the same. Native queries and null values don&#39;t play together when using Spring Data.\r\nTry casting the parameters that can be null with `cast(:lowRange as double precision)`","title":"Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;low_range&quot; is of type double precision but expression is of type bytea","body":"<p>It's always the same. Native queries and null values don't play together when using Spring Data.\nTry casting the parameters that can be null with <code>cast(:lowRange as double precision)</code></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670456732,"creation_date":1668306935,"question_id":74418078,"body_markdown":"I have this Entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    @Entity\r\n    @Table(name = &quot;words&quot;)\r\n    public class Words implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, unique = true, updatable = false, nullable = false)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;keyword&quot;, length = 200, unique = true)\r\n        private String keyword;\r\n    \r\n        @Column(name = &quot;low_range&quot;, length = 100)\r\n        private BigDecimal lowRange;\r\n    \r\n        @Column(name = &quot;high_range&quot;, length = 100)\r\n        private BigDecimal highRange;\r\n    }\r\n\r\n\r\nI use this query to make SQL updates:\r\n\r\n\r\n    @Modifying\r\n    @Query(value=&quot;update processed_words set low_range = :lowRange, high_range = :highRange where keyword = :keyword&quot;, nativeQuery = true)\r\n    int updateByKeyword(@Param(&quot;keyword&quot;) String keyword,\r\n                        @Param(&quot;lowRange&quot;) BigDecimal lowRange,\r\n                        @Param(&quot;highRange&quot;) BigDecimal highRange);\r\n\r\nPostgreSQL table:\r\n\r\n    CREATE TABLE IF NOT EXISTS public.words\r\n    (\r\n        id bigint NOT NULL DEFAULT nextval(&#39;words_id_seq&#39;::regclass),\r\n        keyword character varying(200) COLLATE pg_catalog.&quot;default&quot;,\r\n        high_range double precision,\r\n        low_range double precision\r\n    )\r\n\r\nWhen I perform the update query I get this exception:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;low_range&quot; is of type double precision but expression is of type bytea\r\n      Hint: You will need to rewrite or cast the expression.\r\n\r\nDo you know how this issue can be fixed?","title":"Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;low_range&quot; is of type double precision but expression is of type bytea","body":"<p>I have this Entity:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@Entity\n@Table(name = &quot;words&quot;)\npublic class Words implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, updatable = false, nullable = false)\n    private long id;\n\n    @Column(name = &quot;keyword&quot;, length = 200, unique = true)\n    private String keyword;\n\n    @Column(name = &quot;low_range&quot;, length = 100)\n    private BigDecimal lowRange;\n\n    @Column(name = &quot;high_range&quot;, length = 100)\n    private BigDecimal highRange;\n}\n</code></pre>\n<p>I use this query to make SQL updates:</p>\n<pre><code>@Modifying\n@Query(value=&quot;update processed_words set low_range = :lowRange, high_range = :highRange where keyword = :keyword&quot;, nativeQuery = true)\nint updateByKeyword(@Param(&quot;keyword&quot;) String keyword,\n                    @Param(&quot;lowRange&quot;) BigDecimal lowRange,\n                    @Param(&quot;highRange&quot;) BigDecimal highRange);\n</code></pre>\n<p>PostgreSQL table:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.words\n(\n    id bigint NOT NULL DEFAULT nextval('words_id_seq'::regclass),\n    keyword character varying(200) COLLATE pg_catalog.&quot;default&quot;,\n    high_range double precision,\n    low_range double precision\n)\n</code></pre>\n<p>When I perform the update query I get this exception:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;low_range&quot; is of type double precision but expression is of type bytea\n  Hint: You will need to rewrite or cast the expression.\n</code></pre>\n<p>Do you know how this issue can be fixed?</p>\n"},{"tags":["java","dart","binary-tree","dart-null-safety","huffman-code"],"comments":[{"owner":{"account_id":3701144,"reputation":5957,"user_id":3080848,"display_name":"mmcdon20"},"score":0,"creation_date":1666394075,"post_id":74158533,"comment_id":130934702,"body_markdown":"See [Working with nullable fields](https://dart.dev/null-safety/understanding-null-safety#working-with-nullable-fields) and [Fixing type promotion failures](https://dart.dev/tools/non-promotion-reasons).","body":"See <a href=\"https://dart.dev/null-safety/understanding-null-safety#working-with-nullable-fields\" rel=\"nofollow noreferrer\">Working with nullable fields</a> and <a href=\"https://dart.dev/tools/non-promotion-reasons\" rel=\"nofollow noreferrer\">Fixing type promotion failures</a>."}],"answers":[{"tags":[],"owner":{"account_id":6780,"reputation":40730,"user_id":11527,"accept_rate":40,"display_name":"Ber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670455818,"creation_date":1670455818,"answer_id":74723959,"question_id":74158533,"body_markdown":"Inserting you code int DartPad shows two errors.\r\n\r\n&gt; The method &#39;getCodeForChar&#39; can&#39;t be unconditionally invoked because the receiver can be &#39;null&#39;.\r\n\r\nFixing this is easy: Insert the bang operator (&#39;!&#39;):\r\n\r\n    String  path = left!.getCodeForChar(ch, parentPath + &#39;0&#39;);\r\n\r\nSee also [Working with nullable fields][1]\r\n\r\n\r\n  [1]: https://dart.dev/null-safety/understanding-null-safety#working-with-nullable-fields","title":"Huffman algorithm, building code tree dart null-safety java reference","body":"<p>Inserting you code int DartPad shows two errors.</p>\n<blockquote>\n<p>The method 'getCodeForChar' can't be unconditionally invoked because the receiver can be 'null'.</p>\n</blockquote>\n<p>Fixing this is easy: Insert the bang operator ('!'):</p>\n<pre><code>String  path = left!.getCodeForChar(ch, parentPath + '0');\n</code></pre>\n<p>See also <a href=\"https://dart.dev/null-safety/understanding-null-safety#working-with-nullable-fields\" rel=\"nofollow noreferrer\">Working with nullable fields</a></p>\n"}],"owner":{"account_id":21667860,"reputation":3,"user_id":15985933,"display_name":"paprikaparty33"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74723959,"answer_count":1,"score":0,"last_activity_date":1670455818,"creation_date":1666381667,"question_id":74158533,"body_markdown":"So here is my dart version of java&#39;s huffman algorithm. I have a problem with `getCodeForChar` function, it says what return type of String can&#39;t be null, and even if for every return i added `+&#39;h&#39;`. How to deal with null-safety at that case? \r\n\r\nOriginally the function is:  \r\n\r\n    public String getCodeForCharacter(Character ch, String parentPath) {\r\n                if (content == ch) {\r\n                    return  parentPath;\r\n                } else {\r\n                    if (left != null) {\r\n                        String path = left.getCodeForCharacter(ch, parentPath + 0);\r\n                        if (path != null) {\r\n                            return path;\r\n                        }\r\n                    }\r\n                    if (right != null) {\r\n                        String path = right.getCodeForCharacter(ch, parentPath + 1);\r\n                        if (path != null) {\r\n                            return path;\r\n                        }\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n\r\nAnd my full code:\r\n\r\n        import &#39;dart:collection&#39;;\r\n    \r\n    void main() {\r\n      String text = &#39;where there,s a will there,s a way&#39;;\r\n    \r\n      SplayTreeMap? frequencies = countFrequency(text);\r\n      frequencies.forEach((key, value) {\r\n        print(&#39;$key \\t $value&#39;);\r\n      });\r\n      var sk = frequencies.values.toList();\r\n      print(sk);\r\n    \r\n      List&lt;CodeTreeNode&gt; codeTreeNode = [];\r\n      for (String? c in frequencies.keys) {\r\n        codeTreeNode.add(new CodeTreeNode.simple(c, frequencies[c]));\r\n      }\r\n    \r\n      CodeTreeNode tree = huffman(codeTreeNode);\r\n    \r\n      SplayTreeMap&lt;String, String&gt; codes = SplayTreeMap();\r\n      for (String c in frequencies.keys) {\r\n        //codes.addAll(c, (value) =&gt; tree.getCodeForChar(c, &quot;&quot;));\r\n      codes.addAll({c: tree.getCodeForChar(c, &quot;&quot;)});\r\n      }\r\n    \r\n      codes.forEach((key, value) {\r\n        print(&#39;$key \\t $value&#39;);\r\n      });\r\n    }\r\n    \r\n    SplayTreeMap countFrequency(String text) {\r\n      SplayTreeMap? myMap = SplayTreeMap&lt;String, int&gt;();\r\n      int tempCount = 0;\r\n      // for (int i = 0; i &lt; text.length; i++) {\r\n      //   String c = text[i];\r\n      //   int count = myMap[];\r\n      //   //myMap[int count]\r\n      //   myMap[c] = count != -1 ? count + 1 : 1;\r\n      // }\r\n      for (int i = 0; i &lt; text.length; i++) {\r\n        String c = text[i];\r\n        if (myMap.containsKey(c)) {\r\n          //tempCount++;\r\n          //myMap[text[i]] = tempCount;\r\n          tempCount = myMap[c] + 1;\r\n          myMap.update(c, (value) =&gt; tempCount);\r\n        } else {\r\n          myMap[c] = 1;\r\n        }\r\n        //счетчик = мапа[i] +1;\r\n        //заменить эту валью  на счетчик\r\n      }\r\n      return myMap;\r\n    }\r\n    \r\n    CodeTreeNode huffman(List&lt;CodeTreeNode&gt; codeTreeNodes) {\r\n      while (codeTreeNodes.length &gt; 1) {\r\n        codeTreeNodes.sort();\r\n        CodeTreeNode left = codeTreeNodes.removeAt(codeTreeNodes.length - 1);\r\n        CodeTreeNode right = codeTreeNodes.removeAt(codeTreeNodes.length - 1);\r\n    \r\n        CodeTreeNode parent =\r\n            CodeTreeNode.hard(null, right.weight + left.weight, left, right);\r\n        codeTreeNodes.add(parent);\r\n      }\r\n      return codeTreeNodes[0];\r\n    }\r\n    \r\n    class CodeTreeNode implements Comparable&lt;CodeTreeNode&gt; {\r\n      String? content;\r\n      //List&lt;Node&gt; children = [];\r\n      int weight;\r\n      CodeTreeNode? left;\r\n      CodeTreeNode? right;\r\n      \r\n      CodeTreeNode.simple(this.content, this.weight);\r\n      \r\n      CodeTreeNode.hard(this.content, this.weight, this.left, this.right);\r\n      // Node(String content, int weight){(this.content, this.weight)\r\n      // }\r\n    \r\n      @override\r\n      int compareTo(CodeTreeNode other) {\r\n        // TODO: implement compareTo\r\n        //throw UnimplementedError();\r\n        return other.weight - weight;\r\n      }\r\n    \r\n      String getCodeForChar(String ch, String parentPath) {\r\n        if (content == ch) {\r\n          return &#39;h&#39;+ parentPath;\r\n        } else {\r\n          if (left != null) {\r\n            String  path = left.getCodeForChar(ch, parentPath + &#39;0&#39;);\r\n            if (path != null) {\r\n              return &#39;h&#39;+path;\r\n            }\r\n          } \r\n           if (right != null) {\r\n            String path = right.getCodeForChar(ch, parentPath + &#39;1&#39;);\r\n            if (path != null) {\r\n              return &#39;h&#39;+ path;\r\n            }\r\n          } \r\n        }\r\n    \r\n        return &#39;hui&#39;;\r\n      }\r\n    }","title":"Huffman algorithm, building code tree dart null-safety java reference","body":"<p>So here is my dart version of java's huffman algorithm. I have a problem with <code>getCodeForChar</code> function, it says what return type of String can't be null, and even if for every return i added <code>+'h'</code>. How to deal with null-safety at that case?</p>\n<p>Originally the function is:</p>\n<pre><code>public String getCodeForCharacter(Character ch, String parentPath) {\n            if (content == ch) {\n                return  parentPath;\n            } else {\n                if (left != null) {\n                    String path = left.getCodeForCharacter(ch, parentPath + 0);\n                    if (path != null) {\n                        return path;\n                    }\n                }\n                if (right != null) {\n                    String path = right.getCodeForCharacter(ch, parentPath + 1);\n                    if (path != null) {\n                        return path;\n                    }\n                }\n            }\n            return null;\n        }\n</code></pre>\n<p>And my full code:</p>\n<pre><code>    import 'dart:collection';\n\nvoid main() {\n  String text = 'where there,s a will there,s a way';\n\n  SplayTreeMap? frequencies = countFrequency(text);\n  frequencies.forEach((key, value) {\n    print('$key \\t $value');\n  });\n  var sk = frequencies.values.toList();\n  print(sk);\n\n  List&lt;CodeTreeNode&gt; codeTreeNode = [];\n  for (String? c in frequencies.keys) {\n    codeTreeNode.add(new CodeTreeNode.simple(c, frequencies[c]));\n  }\n\n  CodeTreeNode tree = huffman(codeTreeNode);\n\n  SplayTreeMap&lt;String, String&gt; codes = SplayTreeMap();\n  for (String c in frequencies.keys) {\n    //codes.addAll(c, (value) =&gt; tree.getCodeForChar(c, &quot;&quot;));\n  codes.addAll({c: tree.getCodeForChar(c, &quot;&quot;)});\n  }\n\n  codes.forEach((key, value) {\n    print('$key \\t $value');\n  });\n}\n\nSplayTreeMap countFrequency(String text) {\n  SplayTreeMap? myMap = SplayTreeMap&lt;String, int&gt;();\n  int tempCount = 0;\n  // for (int i = 0; i &lt; text.length; i++) {\n  //   String c = text[i];\n  //   int count = myMap[];\n  //   //myMap[int count]\n  //   myMap[c] = count != -1 ? count + 1 : 1;\n  // }\n  for (int i = 0; i &lt; text.length; i++) {\n    String c = text[i];\n    if (myMap.containsKey(c)) {\n      //tempCount++;\n      //myMap[text[i]] = tempCount;\n      tempCount = myMap[c] + 1;\n      myMap.update(c, (value) =&gt; tempCount);\n    } else {\n      myMap[c] = 1;\n    }\n    //счетчик = мапа[i] +1;\n    //заменить эту валью  на счетчик\n  }\n  return myMap;\n}\n\nCodeTreeNode huffman(List&lt;CodeTreeNode&gt; codeTreeNodes) {\n  while (codeTreeNodes.length &gt; 1) {\n    codeTreeNodes.sort();\n    CodeTreeNode left = codeTreeNodes.removeAt(codeTreeNodes.length - 1);\n    CodeTreeNode right = codeTreeNodes.removeAt(codeTreeNodes.length - 1);\n\n    CodeTreeNode parent =\n        CodeTreeNode.hard(null, right.weight + left.weight, left, right);\n    codeTreeNodes.add(parent);\n  }\n  return codeTreeNodes[0];\n}\n\nclass CodeTreeNode implements Comparable&lt;CodeTreeNode&gt; {\n  String? content;\n  //List&lt;Node&gt; children = [];\n  int weight;\n  CodeTreeNode? left;\n  CodeTreeNode? right;\n  \n  CodeTreeNode.simple(this.content, this.weight);\n  \n  CodeTreeNode.hard(this.content, this.weight, this.left, this.right);\n  // Node(String content, int weight){(this.content, this.weight)\n  // }\n\n  @override\n  int compareTo(CodeTreeNode other) {\n    // TODO: implement compareTo\n    //throw UnimplementedError();\n    return other.weight - weight;\n  }\n\n  String getCodeForChar(String ch, String parentPath) {\n    if (content == ch) {\n      return 'h'+ parentPath;\n    } else {\n      if (left != null) {\n        String  path = left.getCodeForChar(ch, parentPath + '0');\n        if (path != null) {\n          return 'h'+path;\n        }\n      } \n       if (right != null) {\n        String path = right.getCodeForChar(ch, parentPath + '1');\n        if (path != null) {\n          return 'h'+ path;\n        }\n      } \n    }\n\n    return 'hui';\n  }\n}\n</code></pre>\n"},{"tags":["java","postgresql","thread-safety"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670375316,"post_id":74710637,"comment_id":131861182,"body_markdown":"I suggest [edit]ing and rewording the title of the post. Unless explicitly defined what the metric for &quot;best&quot; is, asking for the &quot;best&quot; is most likely opinion-based and therefore off-topic for Stack Overflow.","body":"I suggest <a href=\"https://stackoverflow.com/posts/74710637/edit\">edit</a>ing and rewording the title of the post. Unless explicitly defined what the metric for &quot;best&quot; is, asking for the &quot;best&quot; is most likely opinion-based and therefore off-topic for Stack Overflow."},{"owner":{"account_id":24156878,"reputation":13,"user_id":18121014,"display_name":"camaleongdl"},"score":0,"creation_date":1670454871,"post_id":74710637,"comment_id":131882657,"body_markdown":"@Turing85, thanks for the suggestion. Hopefully it is better now","body":"@Turing85, thanks for the suggestion. Hopefully it is better now"}],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670381303,"creation_date":1670381303,"answer_id":74711197,"question_id":74710637,"body_markdown":"Seems like a more obviously solution would be to keep a cache like `ConcurrentHashMap ` where the keys are defined as department.  \r\nThis won&#39;t lock the entire object and different threads can operate concurrently for different departments.  ","title":"How to get next turn in a queue system. Thread safe for same department","body":"<p>Seems like a more obviously solution would be to keep a cache like <code>ConcurrentHashMap </code> where the keys are defined as department.<br />\nThis won't lock the entire object and different threads can operate concurrently for different departments.</p>\n"}],"owner":{"account_id":24156878,"reputation":13,"user_id":18121014,"display_name":"camaleongdl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74711197,"answer_count":1,"score":0,"last_activity_date":1670454793,"creation_date":1670374682,"question_id":74710637,"body_markdown":"I did a function on java to get the next turn from a database (PostgreSQL) table. After getting the next turn, the record is updated so no other user can get the same turn. If another users request **next turn** at the same time, there is a change that both get the same **next turn**. So firt idea is to syncronize the function so only one user can request turn at the same time. But there are several departments, so two users from the same department cannot request turn at the same time, but two users from diferent departments could without any issue.\r\n\r\nThis is a simplified / pseudocode of the function\r\n\r\n```\r\nprivate DailyTurns callTurnLocal(int userId)\r\n{\r\n\ttry {\r\n\t\tDailyTurns turn = null;\r\n\t\tDailyTurns updateTurn = null;\r\n\t\t\r\n\t\t//get next turn for user (runs a query to the database)\r\n\t\tturn = getNextTurnForUser(userId);\r\n\r\n\t\t//found turn for user\r\n\t\tif (turn != null)\r\n\t\t{\r\n\t\t\t//copy information from original record object to new one\r\n\t\t\tupdateTurn = turn;\r\n\t\t\t\r\n\t\t\t//change status tu turn called\r\n\t\t\tupdateTurn.setTurnStatusId(TURN_STATUS_CALLED);\r\n\t\t\t//add time for the event\r\n\t\t\tupdateTurn.setEventDate(new Date());\r\n\t\t\t\r\n\t\t\t//update user that took the turn\r\n\t\t\tupdateTurn.setUserId(userId);\r\n\t\t\t\r\n\t\t\t//save new record in the DB\r\n\t\t\tupdateTurn = save(updateTurn);\r\n\t\t}\r\n\t\t\r\n\t\treturn updateTurn;\r\n\t}\r\n\tcatch (Exception e)\r\n\t{\r\n\t\tlogger.error( &quot;Exception: &quot; + e.getMessage(), e );\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m aware that I can syncronize the entire function, but that would slow process if two or more threads from users in different departments want to get **next turn**. How can I add syncronization per department? Or is something that I can achieve with a function in the DB?\r\n","title":"How to get next turn in a queue system. Thread safe for same department","body":"<p>I did a function on java to get the next turn from a database (PostgreSQL) table. After getting the next turn, the record is updated so no other user can get the same turn. If another users request <strong>next turn</strong> at the same time, there is a change that both get the same <strong>next turn</strong>. So firt idea is to syncronize the function so only one user can request turn at the same time. But there are several departments, so two users from the same department cannot request turn at the same time, but two users from diferent departments could without any issue.</p>\n<p>This is a simplified / pseudocode of the function</p>\n<pre><code>private DailyTurns callTurnLocal(int userId)\n{\n    try {\n        DailyTurns turn = null;\n        DailyTurns updateTurn = null;\n        \n        //get next turn for user (runs a query to the database)\n        turn = getNextTurnForUser(userId);\n\n        //found turn for user\n        if (turn != null)\n        {\n            //copy information from original record object to new one\n            updateTurn = turn;\n            \n            //change status tu turn called\n            updateTurn.setTurnStatusId(TURN_STATUS_CALLED);\n            //add time for the event\n            updateTurn.setEventDate(new Date());\n            \n            //update user that took the turn\n            updateTurn.setUserId(userId);\n            \n            //save new record in the DB\n            updateTurn = save(updateTurn);\n        }\n        \n        return updateTurn;\n    }\n    catch (Exception e)\n    {\n        logger.error( &quot;Exception: &quot; + e.getMessage(), e );\n        \n        return null;\n    }\n}\n</code></pre>\n<p>I'm aware that I can syncronize the entire function, but that would slow process if two or more threads from users in different departments want to get <strong>next turn</strong>. How can I add syncronization per department? Or is something that I can achieve with a function in the DB?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1670453297,"post_id":74723647,"comment_id":131882375,"body_markdown":"What have you tried so far? Do you know how to start Threads in Java?","body":"What have you tried so far? Do you know how to start Threads in Java?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670453334,"post_id":74723647,"comment_id":131882383,"body_markdown":"The value must be shared, i.e. we need a global state. I recommend using an [`AtomicInteger`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html).","body":"The value must be shared, i.e. we need a global state. I recommend using an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670454496,"creation_date":1670454338,"answer_id":74723790,"question_id":74723647,"body_markdown":"&gt; I can&#39;t &quot;transfer&quot; the variable that I&#39;m counting up to the other thread to print it out as the variable is only counted up in the scope of the while-loop.\r\n\r\n.. but of course you can. You have a few approaches. The most obvious ones:\r\n\r\n## A shared field\r\n\r\nYou can have a field that two threads can access. Trivially:\r\n\r\n```\r\nclass Test {\r\n  int x = 5;\r\n\r\n  void example() {\r\n    new Thread(this::run1).start();\r\n    new Thread(this::run2).start();\r\n  }\r\n\r\n  void run1() {\r\n    try {\r\n      Thread.sleep(1000L);\r\n      x += 5;\r\n      System.out.println(&quot;Incremented x!&quot;);\r\n    } catch (InterruptedException returnImmediately) {}\r\n  }\r\n\r\n  void run2() {\r\n    try {\r\n      Thread.sleep(1500L);\r\n      System.out.println(&quot;x is: &quot; + x);\r\n    } catch (InterruptedException returnImmediately) {}\r\n  }\r\n}\r\n```\r\n\r\nHowever, careful! __The above code is broken__. It runs, but, the JVM reserves a few rights for itself. Specifically, a thread is allowed to reorder things and to use local caches for any and all variables (JVMs are _allowed_ to do these things. That doesn&#39;t mean they _must do so_. Merely that _they may_. It can depend on how many CPU cores you have, what the OS is doing, and the phase of the moon. Any code that relies on the thread using a local cache is broken, as is any code that relies on the thread not doing this). The above code is therefore broken: Each thread may have its own x. A JVM that runs the above code is working according to specifications if this ends up printing &#39;5&#39;. It is also working according to specifications if it prints 10.\r\n\r\nHowever, you can fix that problem: Various actions establish a &#39;happens before&#39; relationship. The JVM guarantees that if you have 2 lines of code such that line A &#39;happens before&#39; line B as per the list of official HA/HB establishing actions as per the JMM (Java Memory Model), then it is not possible to observe at B a state before A. (That&#39;s a fancy way to say: If A &#39;happens before&#39; B, then it happens before B.. unless there is absolutely no way A directly affects B in any way in which case the JVM doesn&#39;t actually have to ensure this. But you&#39;d never know - that&#39;s the point&lt;sup&gt;1&lt;/sup&gt;).\r\n\r\nSo, if we can establish that `x += 5;` has a happens-before relationship relative to `System.out.println(&quot;x is: &quot;)` we are home free. One trivial way to establish HB/HA is to declare a variable as `volatile`, which ensures therte&#39;s some sort of HB/HA though it&#39;s hard to choose the direction with it. Given that these 2 threads have 500msec in between, `volatile` would work fine here. But it&#39;s a bit rare volatile solves all your problems. A more universal approach is to lock on the same object (using the `synchronized` keyword, or one of the lock types in the j.u.concurrent package). Another is to use one of the atomic classes. Let&#39;s do the latter:\r\n\r\n```\r\nclass Test {\r\n  AtomicInteger x = new AtomicInteger(5);\r\n\r\n  void example() {\r\n    new Thread(this::run1).start();\r\n    new Thread(this::run2).start();\r\n  }\r\n\r\n  void run1() {\r\n    try {\r\n      Thread.sleep(1000L);\r\n      x.addAndGet(5);\r\n      System.out.println(&quot;Incremented x!&quot;);\r\n    } catch (InterruptedException returnImmediately) {}\r\n  }\r\n\r\n  void run2() {\r\n    try {\r\n      Thread.sleep(1500L);\r\n      System.out.println(&quot;x is: &quot; + x.get());\r\n    } catch (InterruptedException returnImmediately) {}\r\n  }\r\n}\r\n```\r\n\r\n## A message bus\r\n\r\nInstead of communicating through shared fields, which is tricky and __requires__ establishing HB/HA to do safely, but, is extremely hard to tesdt, given that a JVM does not _have_ to make that fail, it _may_, you can also communicate to channels dedicated to the purpose of transmitting data from one concurrently running thing to another.\r\n\r\nThe most common tool for the job is __a database__. Databases work in transactions and have extensive support for ensuring communication occurs reliably and predictably. Generally this requires using the appropriate isolation level (Use SERIALIZABLE, and use a framework like JOOQ or JDBI to ensure retries are being handled. If you don&#39;t do that, you either [A] have a subtly broken app that WILL fail when your servers get busier, or [B] you better know what you are doing, because anything else is extremely finicky). Another option is a message bus system (where you can &#39;post&#39; to a channel and &#39;subscribe&#39; to one, a bit like a telegram / signal / whatsapp group, such as rabbitmq.\r\n\r\nWriting an entire tutorial for that here is a bit excessive, but let&#39;s instead write a really rudimentary one by using one a concurrency-capable collection type. Again, from the `java.util.concurrent` package. You should probably read the javadoc of all the stuff in that entire package straight t through, it&#39;s a _very_ useful thing!\r\n\r\n```java\r\nclass Test {\r\n  var queue = new LinkedBlockingQueue&lt;Integer&gt;(100);\r\n\r\n  void example() {\r\n    new Thread(this::run1).start();\r\n    new Thread(this::run2).start();\r\n  }\r\n\r\n  void run1() {\r\n    try {\r\n      for (int i = 0; i &lt; 1000; i++) {\r\n        // shove &#39;i&#39; in the queue.\r\n        // if that is not possible because it is full, it&#39;ll wait.\r\n        queue.put(i);\r\n        System.out.println(&quot;added to queue: &quot; + i);\r\n        Thread.sleep(50L);\r\n      }\r\n    } catch (InterruptedException returnImmediately) {}\r\n  }\r\n\r\n  void run2() {\r\n    try {\r\n      while (true) {\r\n        // grab an item; waits if there isn&#39;t one right now.\r\n        int v = queue.take();\r\n        System.out.println(&quot;retrieved: &quot; + v);\r\n        if (v % 10 == 0) {\r\n          System.out.println(&quot;v was divisible by 10, let&#39;s wait a while&quot;);\r\n          Thread.sleep(200L);\r\n        }\r\n      }\r\n    } catch (InterruptedException returnImmediately) {}\r\n  }\r\n}\r\n```\r\n\r\n[1] Almost.. the one thing the JMM and HB/HA relationships don&#39;t actually guarantee is timing. Hence, you can observe some pretty crazy things, but only if you derive information by checking how long things take. Showing code that does this is essentially academic, quite complicated, and well beyond the scope of this question.\r\n","title":"Java: How to count up a variable with one thread and print it out periodically with the second thread","body":"<blockquote>\n<p>I can't &quot;transfer&quot; the variable that I'm counting up to the other thread to print it out as the variable is only counted up in the scope of the while-loop.</p>\n</blockquote>\n<p>.. but of course you can. You have a few approaches. The most obvious ones:</p>\n<h2>A shared field</h2>\n<p>You can have a field that two threads can access. Trivially:</p>\n<pre><code>class Test {\n  int x = 5;\n\n  void example() {\n    new Thread(this::run1).start();\n    new Thread(this::run2).start();\n  }\n\n  void run1() {\n    try {\n      Thread.sleep(1000L);\n      x += 5;\n      System.out.println(&quot;Incremented x!&quot;);\n    } catch (InterruptedException returnImmediately) {}\n  }\n\n  void run2() {\n    try {\n      Thread.sleep(1500L);\n      System.out.println(&quot;x is: &quot; + x);\n    } catch (InterruptedException returnImmediately) {}\n  }\n}\n</code></pre>\n<p>However, careful! <strong>The above code is broken</strong>. It runs, but, the JVM reserves a few rights for itself. Specifically, a thread is allowed to reorder things and to use local caches for any and all variables (JVMs are <em>allowed</em> to do these things. That doesn't mean they <em>must do so</em>. Merely that <em>they may</em>. It can depend on how many CPU cores you have, what the OS is doing, and the phase of the moon. Any code that relies on the thread using a local cache is broken, as is any code that relies on the thread not doing this). The above code is therefore broken: Each thread may have its own x. A JVM that runs the above code is working according to specifications if this ends up printing '5'. It is also working according to specifications if it prints 10.</p>\n<p>However, you can fix that problem: Various actions establish a 'happens before' relationship. The JVM guarantees that if you have 2 lines of code such that line A 'happens before' line B as per the list of official HA/HB establishing actions as per the JMM (Java Memory Model), then it is not possible to observe at B a state before A. (That's a fancy way to say: If A 'happens before' B, then it happens before B.. unless there is absolutely no way A directly affects B in any way in which case the JVM doesn't actually have to ensure this. But you'd never know - that's the point<sup>1</sup>).</p>\n<p>So, if we can establish that <code>x += 5;</code> has a happens-before relationship relative to <code>System.out.println(&quot;x is: &quot;)</code> we are home free. One trivial way to establish HB/HA is to declare a variable as <code>volatile</code>, which ensures therte's some sort of HB/HA though it's hard to choose the direction with it. Given that these 2 threads have 500msec in between, <code>volatile</code> would work fine here. But it's a bit rare volatile solves all your problems. A more universal approach is to lock on the same object (using the <code>synchronized</code> keyword, or one of the lock types in the j.u.concurrent package). Another is to use one of the atomic classes. Let's do the latter:</p>\n<pre><code>class Test {\n  AtomicInteger x = new AtomicInteger(5);\n\n  void example() {\n    new Thread(this::run1).start();\n    new Thread(this::run2).start();\n  }\n\n  void run1() {\n    try {\n      Thread.sleep(1000L);\n      x.addAndGet(5);\n      System.out.println(&quot;Incremented x!&quot;);\n    } catch (InterruptedException returnImmediately) {}\n  }\n\n  void run2() {\n    try {\n      Thread.sleep(1500L);\n      System.out.println(&quot;x is: &quot; + x.get());\n    } catch (InterruptedException returnImmediately) {}\n  }\n}\n</code></pre>\n<h2>A message bus</h2>\n<p>Instead of communicating through shared fields, which is tricky and <strong>requires</strong> establishing HB/HA to do safely, but, is extremely hard to tesdt, given that a JVM does not <em>have</em> to make that fail, it <em>may</em>, you can also communicate to channels dedicated to the purpose of transmitting data from one concurrently running thing to another.</p>\n<p>The most common tool for the job is <strong>a database</strong>. Databases work in transactions and have extensive support for ensuring communication occurs reliably and predictably. Generally this requires using the appropriate isolation level (Use SERIALIZABLE, and use a framework like JOOQ or JDBI to ensure retries are being handled. If you don't do that, you either [A] have a subtly broken app that WILL fail when your servers get busier, or [B] you better know what you are doing, because anything else is extremely finicky). Another option is a message bus system (where you can 'post' to a channel and 'subscribe' to one, a bit like a telegram / signal / whatsapp group, such as rabbitmq.</p>\n<p>Writing an entire tutorial for that here is a bit excessive, but let's instead write a really rudimentary one by using one a concurrency-capable collection type. Again, from the <code>java.util.concurrent</code> package. You should probably read the javadoc of all the stuff in that entire package straight t through, it's a <em>very</em> useful thing!</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n  var queue = new LinkedBlockingQueue&lt;Integer&gt;(100);\n\n  void example() {\n    new Thread(this::run1).start();\n    new Thread(this::run2).start();\n  }\n\n  void run1() {\n    try {\n      for (int i = 0; i &lt; 1000; i++) {\n        // shove 'i' in the queue.\n        // if that is not possible because it is full, it'll wait.\n        queue.put(i);\n        System.out.println(&quot;added to queue: &quot; + i);\n        Thread.sleep(50L);\n      }\n    } catch (InterruptedException returnImmediately) {}\n  }\n\n  void run2() {\n    try {\n      while (true) {\n        // grab an item; waits if there isn't one right now.\n        int v = queue.take();\n        System.out.println(&quot;retrieved: &quot; + v);\n        if (v % 10 == 0) {\n          System.out.println(&quot;v was divisible by 10, let's wait a while&quot;);\n          Thread.sleep(200L);\n        }\n      }\n    } catch (InterruptedException returnImmediately) {}\n  }\n}\n</code></pre>\n<p>[1] Almost.. the one thing the JMM and HB/HA relationships don't actually guarantee is timing. Hence, you can observe some pretty crazy things, but only if you derive information by checking how long things take. Showing code that does this is essentially academic, quite complicated, and well beyond the scope of this question.</p>\n"}],"owner":{"account_id":25247498,"reputation":3,"user_id":20718146,"display_name":"floralys352"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74723790,"answer_count":1,"score":0,"last_activity_date":1670454496,"creation_date":1670453126,"question_id":74723647,"body_markdown":"just like I said in the title, I&#39;m wondering how can I implement a counter in Java, where one thread counts up the variable and the other prints it out periodically? \r\nObviously when I have two threads, I can&#39;t &quot;transfer&quot; the variable that I&#39;m counting up to the other thread to print it out as the variable is only counted up in the scope of the while-loop.\r\n\r\n\r\nI tried to create two threads, one that counts up the variable, the other one that prints it but the thread that periodically gives the value that&#39;s counted up prints 0 as the 0 in that scope is not changed","title":"Java: How to count up a variable with one thread and print it out periodically with the second thread","body":"<p>just like I said in the title, I'm wondering how can I implement a counter in Java, where one thread counts up the variable and the other prints it out periodically?\nObviously when I have two threads, I can't &quot;transfer&quot; the variable that I'm counting up to the other thread to print it out as the variable is only counted up in the scope of the while-loop.</p>\n<p>I tried to create two threads, one that counts up the variable, the other one that prints it but the thread that periodically gives the value that's counted up prints 0 as the 0 in that scope is not changed</p>\n"},{"tags":["java","hibernate","one-to-many","lazy-initialization"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670454096,"creation_date":1670454096,"answer_id":74723764,"question_id":74391231,"body_markdown":"First of all, don&#39;t use the legacy Hibernate Criteria API. It&#39;s deprecated and was removed in Hibernate 6.\r\n\r\nYou can fetch the first collection with join fetching and the second one with `@Fetch(FetchMode.SUBSELECT)` fetching, but I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Entity1.class)\r\n    public interface Entity1Dto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        @Mapping(fetch = MULTISET)\r\n        Set&lt;Entity2Dto&gt; getRoles();\r\n\r\n        @EntityView(Entity2.class)\r\n        interface Entity2Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Entity3Dto&gt; getRoles();\r\n        }\r\n        @EntityView(Entity3.class)\r\n        interface Entity3Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\n`MULTISET` fetching will aggregate all child rows and hence avoid the N + 1 problem. Also see the [documentation][2] for more info on this.\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`Entity1Dto a = entityViewManager.find(entityManager, Entity1Dto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;Entity1Dto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage\r\n  [2]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy","title":"Hibernate - how to fetch @OneToMany lazy collection inside another @OneToMany lazy collection without N+1","body":"<p>First of all, don't use the legacy Hibernate Criteria API. It's deprecated and was removed in Hibernate 6.</p>\n<p>You can fetch the first collection with join fetching and the second one with <code>@Fetch(FetchMode.SUBSELECT)</code> fetching, but I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Entity1.class)\npublic interface Entity1Dto {\n    @IdMapping\n    Long getId();\n    String getName();\n    @Mapping(fetch = MULTISET)\n    Set&lt;Entity2Dto&gt; getRoles();\n\n    @EntityView(Entity2.class)\n    interface Entity2Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n        @Mapping(fetch = MULTISET)\n        Set&lt;Entity3Dto&gt; getRoles();\n    }\n    @EntityView(Entity3.class)\n    interface Entity3Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p><code>MULTISET</code> fetching will aggregate all child rows and hence avoid the N + 1 problem. Also see the <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy\" rel=\"nofollow noreferrer\">documentation</a> for more info on this.</p>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>Entity1Dto a = entityViewManager.find(entityManager, Entity1Dto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;Entity1Dto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670454096,"creation_date":1668093145,"question_id":74391231,"body_markdown":"I have something like this\r\n\r\n    Entity1\r\n    @Id\r\n    String id1;\r\n    @OneToMany(Fetch = LAZY)\r\n    List&lt;Entity2&gt; list1;\r\n    ...\r\n    \r\n    Entity2\r\n    @Id\r\n    String id2;\r\n    @OneToMany(Fetch = LAZY)\r\n    List&lt;Entity3&gt; list2;\r\n    ...\r\n    \r\n    Entity3\r\n    @Id\r\n    String id3;\r\n    ...\r\n\r\n\r\n\r\nI want to initialize list1 and list2 inside the same session.\r\nI&#39;m stuck at \r\n\r\n    entity1 = (Entity1) session\r\n                        .createCriteria(Entity1.class)                    \r\n                        .setFetchMode(&quot;list1&quot;, FetchMode.JOIN)\r\n                        .uniqueResult();\r\n\r\nI can&#39;t think of a proper way to initialize also the second nested list of Entity2, without using Hibernate.initialize and cause N+1 queries or using EAGER.","title":"Hibernate - how to fetch @OneToMany lazy collection inside another @OneToMany lazy collection without N+1","body":"<p>I have something like this</p>\n<pre><code>Entity1\n@Id\nString id1;\n@OneToMany(Fetch = LAZY)\nList&lt;Entity2&gt; list1;\n...\n\nEntity2\n@Id\nString id2;\n@OneToMany(Fetch = LAZY)\nList&lt;Entity3&gt; list2;\n...\n\nEntity3\n@Id\nString id3;\n...\n</code></pre>\n<p>I want to initialize list1 and list2 inside the same session.\nI'm stuck at</p>\n<pre><code>entity1 = (Entity1) session\n                    .createCriteria(Entity1.class)                    \n                    .setFetchMode(&quot;list1&quot;, FetchMode.JOIN)\n                    .uniqueResult();\n</code></pre>\n<p>I can't think of a proper way to initialize also the second nested list of Entity2, without using Hibernate.initialize and cause N+1 queries or using EAGER.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","orm","persistence"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670453790,"creation_date":1670453790,"answer_id":74723726,"question_id":74391455,"body_markdown":"This usually depends on how you structure your &quot;bounded context&quot;. Are A, B, C, D, E all part of the same bounded context? Is A a domain aggregate?\r\n\r\nIf the answer to both is yes, then I&#39;d say save with cascades.","title":"Saving data to multiple related tables using spring data","body":"<p>This usually depends on how you structure your &quot;bounded context&quot;. Are A, B, C, D, E all part of the same bounded context? Is A a domain aggregate?</p>\n<p>If the answer to both is yes, then I'd say save with cascades.</p>\n"}],"owner":{"account_id":1615641,"reputation":2241,"user_id":1493432,"accept_rate":80,"display_name":"Java P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670453790,"creation_date":1668094052,"question_id":74391455,"body_markdown":"I have a requirement to save data into 5 related tables. Assume those tables are A,B,C,D and E. Relationships between those tables are depicted below. For these kinds of scenarios, is it right way to build complete entity graph once and save it using cascade save? Or We can have an orchestrator layer and saving individual entities by calling respective service/repository layers?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NfoyT.png\r\n\r\nThanks in advance,\r\nSurya","title":"Saving data to multiple related tables using spring data","body":"<p>I have a requirement to save data into 5 related tables. Assume those tables are A,B,C,D and E. Relationships between those tables are depicted below. For these kinds of scenarios, is it right way to build complete entity graph once and save it using cascade save? Or We can have an orchestrator layer and saving individual entities by calling respective service/repository layers?</p>\n<p><a href=\"https://i.stack.imgur.com/NfoyT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NfoyT.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance,\nSurya</p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670453520,"creation_date":1670453520,"answer_id":74723696,"question_id":74370597,"body_markdown":"Easy peasy:\r\n\r\n    enum Language\r\n    {\r\n        EN\r\n        DE\r\n        IT\r\n        FR\r\n    }\r\n\r\n    @Embeddable\r\n    class Translation\r\n    {\r\n        String content;\r\n\r\n        // more fields ...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;entry&quot;)\r\n    class Entry\r\n    {\r\n        Long id;\r\n        @ElementCollection\r\n        @CollectionTable(name = &quot;translation&quot;)\r\n        @MapKeyEnumerated(EnumType.STRING)\r\n        @MapKeyColumn(name = &quot;language&quot;)\r\n        Map&lt;Language, Translation&gt; translations;\r\n\r\n        // more fields ...\r\n    }","title":"Is it possible to represent Entity&#39;s field Map&lt;Enum, Entity&gt; in JPA with just 2 tables?","body":"<p>Easy peasy:</p>\n<pre><code>enum Language\n{\n    EN\n    DE\n    IT\n    FR\n}\n\n@Embeddable\nclass Translation\n{\n    String content;\n\n    // more fields ...\n}\n\n@Entity\n@Table(name = &quot;entry&quot;)\nclass Entry\n{\n    Long id;\n    @ElementCollection\n    @CollectionTable(name = &quot;translation&quot;)\n    @MapKeyEnumerated(EnumType.STRING)\n    @MapKeyColumn(name = &quot;language&quot;)\n    Map&lt;Language, Translation&gt; translations;\n\n    // more fields ...\n}\n</code></pre>\n"}],"owner":{"account_id":3987383,"reputation":978,"user_id":3287551,"accept_rate":38,"display_name":"Ernio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74723696,"answer_count":1,"score":0,"last_activity_date":1670453520,"creation_date":1667974391,"question_id":74370597,"body_markdown":"Given:\r\n```\r\n    enum Language\r\n    {\r\n    \tEN\r\n    \tDE\r\n        IT\r\n        FR\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;translation&quot;)\r\n    class Translation\r\n    {\r\n        Long entry_id; // mapped to Entry\r\n        Language language; // creates primary key with entry_id\r\n        String content;\r\n\r\n        // more fields ...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;entry&quot;)\r\n    class Entry\r\n    {\r\n\t    Long id;\r\n    \tMap&lt;Language, Translation&gt; translations;\r\n\r\n        // more fields ...\r\n    }\r\n```\r\n1. Does JPA 3.1 and Hibernate 6.1.5+ allow to represent above in relational database (MySQL) with just 2 tables, such as:\r\n```\r\n    table entry (id, stuff)\r\n    table translation (entry_id, language, content) primary key [entry_id, language]\r\n```\r\n\r\n2. Also consider extension to above problem, where content is another @ManyToOne relation:\r\n\r\n```\r\n    @Entity\r\n    @Table(name = &quot;translation&quot;)\r\n    class Translation\r\n    {\r\n        Long entry_id; // mapped to Entry\r\n        Language language; // creates primary key with entry_id\r\n        List&lt;Post&gt; posts;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;post&quot;)\r\n    class Post\r\n    {\r\n        Long id;\r\n        String content;\r\n    }\r\n```\r\n\r\nHow would one approach this in order to have most of all worlds:\r\n\r\n - Map&lt;Language, Translation&gt; on Java side\r\n - Least amount of tables on DB side, to not do pointless joins\r\n - Optimal read/writes (ideally lazy), so that values of the Map&lt;Language, Translation&gt; are not read from DB unless necessary (only Keys are known), and are especially not written every time just one entry changes (that&#39;s why we have keys, don&#39;t we?)","title":"Is it possible to represent Entity&#39;s field Map&lt;Enum, Entity&gt; in JPA with just 2 tables?","body":"<p>Given:</p>\n<pre><code>    enum Language\n    {\n        EN\n        DE\n        IT\n        FR\n    }\n\n    @Entity\n    @Table(name = &quot;translation&quot;)\n    class Translation\n    {\n        Long entry_id; // mapped to Entry\n        Language language; // creates primary key with entry_id\n        String content;\n\n        // more fields ...\n    }\n\n    @Entity\n    @Table(name = &quot;entry&quot;)\n    class Entry\n    {\n        Long id;\n        Map&lt;Language, Translation&gt; translations;\n\n        // more fields ...\n    }\n</code></pre>\n<ol>\n<li>Does JPA 3.1 and Hibernate 6.1.5+ allow to represent above in relational database (MySQL) with just 2 tables, such as:</li>\n</ol>\n<pre><code>    table entry (id, stuff)\n    table translation (entry_id, language, content) primary key [entry_id, language]\n</code></pre>\n<ol start=\"2\">\n<li>Also consider extension to above problem, where content is another @ManyToOne relation:</li>\n</ol>\n<pre><code>    @Entity\n    @Table(name = &quot;translation&quot;)\n    class Translation\n    {\n        Long entry_id; // mapped to Entry\n        Language language; // creates primary key with entry_id\n        List&lt;Post&gt; posts;\n    }\n    \n    @Entity\n    @Table(name = &quot;post&quot;)\n    class Post\n    {\n        Long id;\n        String content;\n    }\n</code></pre>\n<p>How would one approach this in order to have most of all worlds:</p>\n<ul>\n<li>Map&lt;Language, Translation&gt; on Java side</li>\n<li>Least amount of tables on DB side, to not do pointless joins</li>\n<li>Optimal read/writes (ideally lazy), so that values of the Map&lt;Language, Translation&gt; are not read from DB unless necessary (only Keys are known), and are especially not written every time just one entry changes (that's why we have keys, don't we?)</li>\n</ul>\n"},{"tags":["java","selenium","cucumber","webdriverwait","thread-local"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1670455993,"post_id":74723572,"comment_id":131882855,"body_markdown":"it sounds like the driver is trying to click the element... so it has passed the condition of &quot;element to be clickable&quot; (and it&#39;s visible and present in the DOM).  So when the driver tries to click it does a few things... one is to scroll the element into view.  Then it finds the center of the element being clicked and then clicks there.   What&#39;s possibly happening is in between the time it finds the coords and then clicks the location has changed or the window is still scrolling.   That time gap would usually be very small, but if you&#39;re running low on resources...","body":"it sounds like the driver is trying to click the element... so it has passed the condition of &quot;element to be clickable&quot; (and it&#39;s visible and present in the DOM).  So when the driver tries to click it does a few things... one is to scroll the element into view.  Then it finds the center of the element being clicked and then clicks there.   What&#39;s possibly happening is in between the time it finds the coords and then clicks the location has changed or the window is still scrolling.   That time gap would usually be very small, but if you&#39;re running low on resources..."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1670456588,"post_id":74723572,"comment_id":131882946,"body_markdown":"to get around this, you could catch click intercepted exception and re-try...","body":"to get around this, you could catch click intercepted exception and re-try..."},{"owner":{"account_id":27183041,"reputation":1,"user_id":20717945,"display_name":"Cosmin"},"score":1,"creation_date":1670527563,"post_id":74723572,"comment_id":131901274,"body_markdown":"Hi @pcalkins, I thought about retrying but somehow convinced myself that I can&#39;t do it, didn&#39;t think of doing it inside a catch (brilliant!). This fixes my issue, I even checked to see if the try catches anything, and it does; tests still pass though which is perfect.\n\nI will keep the question open for a bit more in case anyone can help me figure out exactly what causes this temporary interception (how can I test if it&#39;s really caused by the partial scrolling? what exactly obscures it since the exception message doesn&#39;t point to any webElement ?).","body":"Hi @pcalkins, I thought about retrying but somehow convinced myself that I can&#39;t do it, didn&#39;t think of doing it inside a catch (brilliant!). This fixes my issue, I even checked to see if the try catches anything, and it does; tests still pass though which is perfect.  I will keep the question open for a bit more in case anyone can help me figure out exactly what causes this temporary interception (how can I test if it&#39;s really caused by the partial scrolling? what exactly obscures it since the exception message doesn&#39;t point to any webElement ?)."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1670530094,"post_id":74723572,"comment_id":131901947,"body_markdown":"I&#39;m guessing it&#39;s not something obscuring it but the coords clicked on can&#39;t receive the events for the click (mouseover, mousedown, etc... )  It&#39;s the container for the element that will retrieve those events methinks.  It&#39;s possible that this element is moving with the scrollbar or that it moves into the visible screen at some point.","body":"I&#39;m guessing it&#39;s not something obscuring it but the coords clicked on can&#39;t receive the events for the click (mouseover, mousedown, etc... )  It&#39;s the container for the element that will retrieve those events methinks.  It&#39;s possible that this element is moving with the scrollbar or that it moves into the visible screen at some point."},{"owner":{"account_id":27183041,"reputation":1,"user_id":20717945,"display_name":"Cosmin"},"score":0,"creation_date":1670606527,"post_id":74723572,"comment_id":131920061,"body_markdown":"I still don&#39;t know what exactly obscures the element, but it indeed has to be scrolled into view. I&#39;ll mark the question answered since your suggestion fixed my issue, thank you again.","body":"I still don&#39;t know what exactly obscures the element, but it indeed has to be scrolled into view. I&#39;ll mark the question answered since your suggestion fixed my issue, thank you again."},{"owner":{"account_id":27183041,"reputation":1,"user_id":20717945,"display_name":"Cosmin"},"score":0,"creation_date":1670606868,"post_id":74723572,"comment_id":131920154,"body_markdown":"Nevermind, can&#39;t mark it.","body":"Nevermind, can&#39;t mark it."}],"owner":{"account_id":27183041,"reputation":1,"user_id":20717945,"display_name":"Cosmin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670452535,"creation_date":1670452535,"question_id":74723572,"body_markdown":"I am having tests inconsistently failing because of the following error: &quot;org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element is not clickable at point (951, 1477)&quot;.\r\nI say inconsistently because this only happens if I go overboard with the number of parallel threads (sometimes 4+ is enough to get these errors, sometimes I need 10+ depending on what else I have running at the moment).\r\n\r\nAs you can see in the error, I am not receiving the second part which you&#39;d usually get if the webElement in question would be obstructed by another webElement, which makes me think that somehow the element can&#39;t be clicked because it&#39;s hidden by another window... ?\r\nWhat I mean by the second part is this: &quot;Other element would receive the click: ...&quot; - my errors do not have this part.\r\n\r\nThe weird part is that my explicit wait (set to 60 seconds) seems to be ignored, which leads me to believe that the wait condition (elementToBeClickable AND visibilityOf) is met, yet the click still doesn&#39;t work.\r\nAgain, this only happens when running multiple threads in parallel and if they are opened/closed rather slowly because of their high number, which makes the pages take 3-10 seconds to start loading its UI elements.\r\n\r\nI am not trying to find the maximum number of threads where I don&#39;t get the error, I&#39;m just curious as to why I receive the errors long before the wait timer reaches its end.\r\n\r\nI tried multiple tweaks:\r\n\r\n- tried different ExpectedConditions (only elementToBeClickable, or only VisibilityOf, or both in conjunction)\r\n- scoured the internet obsessively for an answer\r\n- tried to debug with another person next to me, but to no avail\r\n- filled by code with printlines to understand the order of executions. The only interesting thing I noticed is that the threadLocalDriver.remove() function is called by my Cucumber @After hook (which runs after each scenario) ***before*** my wait condition finishes, i.e.: driver quits and is then removed from threadLocalDriver after the first print, but before the 2nd.\r\n```\r\npublic void click(WebElement webElement) {\r\n    System.out.println(&quot;starting click on thread: &quot; + Thread.currentThread().getName());\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(waitTimer));\r\n    wait.until(ExpectedConditions.elementToBeClickable(webElement)).click();\r\n    System.out.println(&quot;ending click on thread: &quot; + Thread.currentThread().getName());\r\n}\r\n```\r\nIn fact the &quot;`ending click on thread:...`&quot; string isn&#39;t printed at all in the cases where I get that error.\r\n\r\nAny idea what conditions I could use to make the program wait until it can actually click on the web element?","title":"Can &quot;element click intercepted&quot; error in Selenium refer to another window instead of a webElement overlapping?","body":"<p>I am having tests inconsistently failing because of the following error: &quot;org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element is not clickable at point (951, 1477)&quot;.\nI say inconsistently because this only happens if I go overboard with the number of parallel threads (sometimes 4+ is enough to get these errors, sometimes I need 10+ depending on what else I have running at the moment).</p>\n<p>As you can see in the error, I am not receiving the second part which you'd usually get if the webElement in question would be obstructed by another webElement, which makes me think that somehow the element can't be clicked because it's hidden by another window... ?\nWhat I mean by the second part is this: &quot;Other element would receive the click: ...&quot; - my errors do not have this part.</p>\n<p>The weird part is that my explicit wait (set to 60 seconds) seems to be ignored, which leads me to believe that the wait condition (elementToBeClickable AND visibilityOf) is met, yet the click still doesn't work.\nAgain, this only happens when running multiple threads in parallel and if they are opened/closed rather slowly because of their high number, which makes the pages take 3-10 seconds to start loading its UI elements.</p>\n<p>I am not trying to find the maximum number of threads where I don't get the error, I'm just curious as to why I receive the errors long before the wait timer reaches its end.</p>\n<p>I tried multiple tweaks:</p>\n<ul>\n<li>tried different ExpectedConditions (only elementToBeClickable, or only VisibilityOf, or both in conjunction)</li>\n<li>scoured the internet obsessively for an answer</li>\n<li>tried to debug with another person next to me, but to no avail</li>\n<li>filled by code with printlines to understand the order of executions. The only interesting thing I noticed is that the threadLocalDriver.remove() function is called by my Cucumber @After hook (which runs after each scenario) <em><strong>before</strong></em> my wait condition finishes, i.e.: driver quits and is then removed from threadLocalDriver after the first print, but before the 2nd.</li>\n</ul>\n<pre><code>public void click(WebElement webElement) {\n    System.out.println(&quot;starting click on thread: &quot; + Thread.currentThread().getName());\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(waitTimer));\n    wait.until(ExpectedConditions.elementToBeClickable(webElement)).click();\n    System.out.println(&quot;ending click on thread: &quot; + Thread.currentThread().getName());\n}\n</code></pre>\n<p>In fact the &quot;<code>ending click on thread:...</code>&quot; string isn't printed at all in the cases where I get that error.</p>\n<p>Any idea what conditions I could use to make the program wait until it can actually click on the web element?</p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1667980907,"post_id":74366511,"comment_id":131294579,"body_markdown":"Please post the full stack trace and the SQL statements executed.","body":"Please post the full stack trace and the SQL statements executed."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670452329,"creation_date":1670452329,"answer_id":74723553,"question_id":74366511,"body_markdown":"Without the full stack trace and logs it is impossible to help you. The exception usually indicates a deadlock or lock timeout, so maybe you are flushing something that isn&#39;t locked yet. When flushing, MySQL tries to lock the rows in some order and if some other TX acquires locks in a different order, you see a deadlock like this. ","title":"How does em.flush causes LockAcquisitionException?","body":"<p>Without the full stack trace and logs it is impossible to help you. The exception usually indicates a deadlock or lock timeout, so maybe you are flushing something that isn't locked yet. When flushing, MySQL tries to lock the rows in some order and if some other TX acquires locks in a different order, you see a deadlock like this.</p>\n"}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670452329,"creation_date":1667937720,"question_id":74366511,"body_markdown":"I&#39;m refactoring a code from a project and during my lunch I started looking at some error logs from the application running the old code. It&#39;s somehow related to the `EntityManager#flush` method (this project is using Hibernate as the persistence framework).\r\n\r\nThere&#39;s a process that select some X rows (up to 10) from a process and lock them by using `for update` -- `@Lock(LockModeType.PESSIMISTIC_WRITE)`. This is within a transaction boundary and it uses Spring Data JPA Repositories and Spring Transaction Management (`@Transactional`).\r\n\r\nI saw the following code (just a representation, since the actual code is huge):\r\n\r\n    @Transactional\r\n    public void method() {\r\n    \t// uses @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    \tList&lt;Foo&gt; entities = fooRepository.selectForUpdate();\r\n    \t// iterates all entities, do some work and update them\r\n    \tfor (Foo foo: entities) {\r\n    \t\tfoo.setX(321);\r\n    \t}\r\n    \r\n    \t// save the list of entities\r\n    \tfooRepository.saveAll(foo);\r\n    \t// flush() is causing LockAcquisitionException\r\n    \tfooRepository.flush();\r\n    }\r\n\r\nBy looking at the logs, the line `fooRepository.flush()` is causing a `LockAcquisitionException`. This is really strange to me and I&#39;ve never saw this before. If the rows were already selected successfully, how do this exception occurs while flushing?\r\n\r\nFunny enough, this only happens during high throughputs periods of the day.\r\n\r\nA snippet from the StackTrace:\r\n\r\n    org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement\r\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:287)\r\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527)\r\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    at com.sun.proxy.$Proxy150.flush(Unknown Source)\r\n    at xxx.xxx.xxx.xxx.MyClass.method(MyClass.java:764)\r\n    ....\r\n\r\nAs per the last line of this snippet, you see that the error occurs on line 764, which is exactly where the flush happens.\r\n\r\nWhy is this happening?","title":"How does em.flush causes LockAcquisitionException?","body":"<p>I'm refactoring a code from a project and during my lunch I started looking at some error logs from the application running the old code. It's somehow related to the <code>EntityManager#flush</code> method (this project is using Hibernate as the persistence framework).</p>\n<p>There's a process that select some X rows (up to 10) from a process and lock them by using <code>for update</code> -- <code>@Lock(LockModeType.PESSIMISTIC_WRITE)</code>. This is within a transaction boundary and it uses Spring Data JPA Repositories and Spring Transaction Management (<code>@Transactional</code>).</p>\n<p>I saw the following code (just a representation, since the actual code is huge):</p>\n<pre><code>@Transactional\npublic void method() {\n    // uses @Lock(LockModeType.PESSIMISTIC_WRITE)\n    List&lt;Foo&gt; entities = fooRepository.selectForUpdate();\n    // iterates all entities, do some work and update them\n    for (Foo foo: entities) {\n        foo.setX(321);\n    }\n\n    // save the list of entities\n    fooRepository.saveAll(foo);\n    // flush() is causing LockAcquisitionException\n    fooRepository.flush();\n}\n</code></pre>\n<p>By looking at the logs, the line <code>fooRepository.flush()</code> is causing a <code>LockAcquisitionException</code>. This is really strange to me and I've never saw this before. If the rows were already selected successfully, how do this exception occurs while flushing?</p>\n<p>Funny enough, this only happens during high throughputs periods of the day.</p>\n<p>A snippet from the StackTrace:</p>\n<pre><code>org.springframework.dao.CannotAcquireLockException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:287)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\nat com.sun.proxy.$Proxy150.flush(Unknown Source)\nat xxx.xxx.xxx.xxx.MyClass.method(MyClass.java:764)\n....\n</code></pre>\n<p>As per the last line of this snippet, you see that the error occurs on line 764, which is exactly where the flush happens.</p>\n<p>Why is this happening?</p>\n"},{"tags":["java","bean-io"],"comments":[{"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"score":0,"creation_date":1669976440,"post_id":74648202,"comment_id":131770207,"body_markdown":"Have you tried setting the default value to something random, not an empty string? This is just to rule out anything else that may convert the empty string to a null value.","body":"Have you tried setting the default value to something random, not an empty string? This is just to rule out anything else that may convert the empty string to a null value."},{"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1669987696,"post_id":74648202,"comment_id":131773989,"body_markdown":"@nicoschl tried your suggestion and still coming null","body":"@nicoschl tried your suggestion and still coming null"}],"answers":[{"tags":[],"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670451763,"creation_date":1670451763,"answer_id":74723473,"question_id":74648202,"body_markdown":"There are 2 ways to get the desired behaviour you are after.\r\n\r\nFirst, assign the default value, to the variable in the bean, without any annotation:\r\n\r\n    private String internLocation = &quot;&quot;;\r\n\r\nSecondly, which is basically the same thing, just done differently, is to handle the default value in the getter:\r\n\r\n    public String getInternLocation() {\r\n    \r\n      return internLocation == null ? &quot;&quot; : internLocation;\r\n    }\r\n\r\nI know, it would be nice to be able to do all of this in the mapping xml file.\r\n\r\nPS: Double check your mapping file posted above, it doesn&#39;t work with the given XML. The `xmlName` attribute is wrong for the `internLocation` field.","title":"BeanIO default values for optional segments fields for XML input file?","body":"<p>There are 2 ways to get the desired behaviour you are after.</p>\n<p>First, assign the default value, to the variable in the bean, without any annotation:</p>\n<pre><code>private String internLocation = &quot;&quot;;\n</code></pre>\n<p>Secondly, which is basically the same thing, just done differently, is to handle the default value in the getter:</p>\n<pre><code>public String getInternLocation() {\n\n  return internLocation == null ? &quot;&quot; : internLocation;\n}\n</code></pre>\n<p>I know, it would be nice to be able to do all of this in the mapping xml file.</p>\n<p>PS: Double check your mapping file posted above, it doesn't work with the given XML. The <code>xmlName</code> attribute is wrong for the <code>internLocation</code> field.</p>\n"}],"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74723473,"answer_count":1,"score":0,"last_activity_date":1670452122,"creation_date":1669929024,"question_id":74648202,"body_markdown":"I have a sample input XML with below structure:\r\n\r\n    &lt;students&gt;\r\n    \t&lt;student&gt;\r\n    \t\t&lt;name&gt;Peter&lt;/name&gt;\r\n    \t\t&lt;intern&gt;\r\n    \t\t\t&lt;internLocation&gt;Ohio&lt;/internLocation&gt;\r\n    \t\t&lt;/intern&gt;\r\n    \t&lt;/student&gt;\r\n    \t&lt;student&gt;\r\n    \t\t&lt;name&gt;John&lt;/name&gt;\t\t\r\n    \t&lt;/student&gt;\r\n    &lt;/students&gt;\r\n\r\nAnd beanio config:\r\n\r\n    &lt;beanio xmlns=&quot;http://www.beanio.org/2012/03&quot;&gt;\r\n    \t&lt;stream name=&quot;students&quot; format=&quot;xml&quot; strict=&quot;true&quot;&gt;\r\n    \t\t&lt;record name=&quot;student&quot; class=&quot;com.testapp.model.Student&quot;&gt;\r\n    \t\t\t&lt;field name=&quot;studentName&quot; xmlName=&quot;name&quot; maxLength=&quot;20&quot; /&gt;\r\n    \t\t\t&lt;segment name=&quot;intern&quot; minOccurs=&quot;0&quot;&gt;\r\n    \t\t\t\t&lt;field name=&quot;internLocation&quot; maxLength=&quot;50&quot; minOccurs=&quot;0&quot; default=&quot;&quot; /&gt;\r\n    \t\t\t&lt;/segment&gt;\t\t\r\n    \t\t&lt;/record&gt;\r\n    \t&lt;/stream&gt;\r\n    &lt;/beanio&gt;\r\n\r\nAnd Model class:\r\n\r\n    public class Student {\r\n\tprivate String studentName;\r\n\tprivate String internLocation;\r\n\t(...)\r\n}\r\n\r\nAs you can see `&lt;intern&gt;` segment is optional. How can I default `internLocation` field of `Student` class to some value in case the segment is not present?\r\nI&#39;ve tried annotating the field like below but still null value is coming:\r\n\r\n    @Field(defaultValue = &quot;&quot;)\r\n\tprivate String internLocation;\r\n","title":"BeanIO default values for optional segments fields for XML input file?","body":"<p>I have a sample input XML with below structure:</p>\n<pre><code>&lt;students&gt;\n    &lt;student&gt;\n        &lt;name&gt;Peter&lt;/name&gt;\n        &lt;intern&gt;\n            &lt;internLocation&gt;Ohio&lt;/internLocation&gt;\n        &lt;/intern&gt;\n    &lt;/student&gt;\n    &lt;student&gt;\n        &lt;name&gt;John&lt;/name&gt;       \n    &lt;/student&gt;\n&lt;/students&gt;\n</code></pre>\n<p>And beanio config:</p>\n<pre><code>&lt;beanio xmlns=&quot;http://www.beanio.org/2012/03&quot;&gt;\n    &lt;stream name=&quot;students&quot; format=&quot;xml&quot; strict=&quot;true&quot;&gt;\n        &lt;record name=&quot;student&quot; class=&quot;com.testapp.model.Student&quot;&gt;\n            &lt;field name=&quot;studentName&quot; xmlName=&quot;name&quot; maxLength=&quot;20&quot; /&gt;\n            &lt;segment name=&quot;intern&quot; minOccurs=&quot;0&quot;&gt;\n                &lt;field name=&quot;internLocation&quot; maxLength=&quot;50&quot; minOccurs=&quot;0&quot; default=&quot;&quot; /&gt;\n            &lt;/segment&gt;      \n        &lt;/record&gt;\n    &lt;/stream&gt;\n&lt;/beanio&gt;\n</code></pre>\n<p>And Model class:</p>\n<pre><code>public class Student {\nprivate String studentName;\nprivate String internLocation;\n(...)\n</code></pre>\n<p>}</p>\n<p>As you can see <code>&lt;intern&gt;</code> segment is optional. How can I default <code>internLocation</code> field of <code>Student</code> class to some value in case the segment is not present?\nI've tried annotating the field like below but still null value is coming:</p>\n<pre><code>@Field(defaultValue = &quot;&quot;)\nprivate String internLocation;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9167,"page":825,"page_size":100}
