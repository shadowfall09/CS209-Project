{"items":[{"tags":["java","json"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687138169,"post_id":76503135,"comment_id":134890276,"body_markdown":"Please edit your question and add the full stack trace of the exception.","body":"Please edit your question and add the full stack trace of the exception."}],"owner":{"account_id":1954650,"reputation":400,"user_id":1757949,"accept_rate":43,"display_name":"senderj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687215225,"creation_date":1687137935,"question_id":76503135,"body_markdown":"I am using Netbeans to develop my program, a ejb targetting JEE7 glassfish 5.1. It involves json parsing. As usual, I use an independent client to test my coding before I port it to glassfish. The problem is the independent client works while the ejb hits &quot;org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray&quot;.\r\n\r\nHere is my coding, same in both client and ejb:\r\n\r\n    JsonReader rdr = Json.createReader(new StringReader(strJson));\r\n    JsonObject obj = rdr.readObject();\r\n    JsonObject hp = obj.getJsonObject(&quot;HistoricalScore&quot;);\r\n    JsonArray scores = hp.getJsonArray(&quot;Score&quot;);\r\n    ....\r\nThe independent client works well but the ejb hits the exception at the last statement.\r\n\r\nHere is the json:\r\n\r\n    {\r\n    &quot;HistoricalScore&quot;:{\r\n      &quot;GameCode&quot;:{&quot;abFundCode&quot;:&quot;K44992&quot;},\r\n      &quot;Score&quot;:[\r\n        {&quot;PerformanceId&quot;:&quot;0P0001HFQH&quot;,\r\n         &quot;Score&quot;:103.45,\r\n         &quot;LastUpdate&quot;:&quot;02-06-2023&quot;,\r\n         &quot;ScoreDiv&quot;:130.60727,\r\n         &quot;ScoreType&quot;:1,\r\n         &quot;CloseScore&quot;:103.45,\r\n         &quot;SessionId&quot;:99,\r\n         &quot;EffectiveDate&quot;:&quot;01-06-2023&quot;},\r\n        {......}\r\n      ]\r\n    }\r\n\r\nBoth client and ejb are compiled with `Java_EE_from_Glassfish_5 - jakarta.json.jar` in the library and I didn&#39;t (unless I miss it) find any other json.jar in the library list.\r\n\r\nClient runs within Netbeans and ejb also runs in glassfish deployed from Netbeans. Netbeans has java env pointing to jre of jdk1.8.0_202 and glassfish also has `AS_JAVA` parm pointing to the same.\r\n\r\nAny help is much appreciated. Also, is there a way to find out where does `JsonObjectBuilderImpl` come from at runtime?\r\n\r\nEdit:\r\nHere is the full stack trace:\r\n\r\n    java.lang.ClassCastException: org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray\r\n\tat org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl.getJsonArray(JsonObjectBuilderImpl.java:213)\r\n\tat whale.util.UTrustHASE.update(UTrustHASE.java:99)\r\n\tat whale.data.CaptureUTrust.run(CaptureUTrust.java:86)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\r\n\tat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\r\n\tat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\r\n\tat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:116)\r\n\tat sun.reflect.GeneratedMethodAccessor71.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\r\n\tat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\r\n\tat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\r\n\tat com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:181)\r\n\tat com.sun.ejb.containers.EJBObjectInvocationHandlerDelegate.invoke(EJBObjectInvocationHandlerDelegate.java:55)\r\n\tat com.sun.proxy.$Proxy258.run(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.privateInvoke(StubInvocationHandlerImpl.java:199)\r\n\tat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.invoke(StubInvocationHandlerImpl.java:110)\r\n\tat com.sun.corba.ee.impl.presentation.rmi.codegen.CodegenStubBase.invoke(CodegenStubBase.java:196)\r\n\tat whale.data.__CaptureUTrustRemote_Remote_DynamicStub.run(whale/data/__CaptureUTrustRemote_Remote_DynamicStub.java)\r\n\tat whale.data._CaptureUTrustRemote_Wrapper.run(whale/data/_CaptureUTrustRemote_Wrapper.java)\r\n\tat whale.util.JobScheduleBean.activateService(JobScheduleBean.java:202)\r\n\tat whale.util.JobScheduleBean.runTimer(JobScheduleBean.java:132)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\r\n\tat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\r\n\tat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\r\n\tat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundTimeout(SystemInterceptorProxy.java:121)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\r\n\tat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\r\n\tat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\r\n\tat com.sun.ejb.containers.BaseContainer.callEJBTimeout(BaseContainer.java:4061)\r\n\tat com.sun.ejb.containers.EJBTimerService.deliverTimeout(EJBTimerService.java:1176)\r\n\tat com.sun.ejb.containers.EJBTimerService.access$000(EJBTimerService.java:65)\r\n\tat com.sun.ejb.containers.EJBTimerService$TaskExpiredWork.run(EJBTimerService.java:1895)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n","title":"org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray","body":"<p>I am using Netbeans to develop my program, a ejb targetting JEE7 glassfish 5.1. It involves json parsing. As usual, I use an independent client to test my coding before I port it to glassfish. The problem is the independent client works while the ejb hits &quot;org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray&quot;.</p>\n<p>Here is my coding, same in both client and ejb:</p>\n<pre><code>JsonReader rdr = Json.createReader(new StringReader(strJson));\nJsonObject obj = rdr.readObject();\nJsonObject hp = obj.getJsonObject(&quot;HistoricalScore&quot;);\nJsonArray scores = hp.getJsonArray(&quot;Score&quot;);\n....\n</code></pre>\n<p>The independent client works well but the ejb hits the exception at the last statement.</p>\n<p>Here is the json:</p>\n<pre><code>{\n&quot;HistoricalScore&quot;:{\n  &quot;GameCode&quot;:{&quot;abFundCode&quot;:&quot;K44992&quot;},\n  &quot;Score&quot;:[\n    {&quot;PerformanceId&quot;:&quot;0P0001HFQH&quot;,\n     &quot;Score&quot;:103.45,\n     &quot;LastUpdate&quot;:&quot;02-06-2023&quot;,\n     &quot;ScoreDiv&quot;:130.60727,\n     &quot;ScoreType&quot;:1,\n     &quot;CloseScore&quot;:103.45,\n     &quot;SessionId&quot;:99,\n     &quot;EffectiveDate&quot;:&quot;01-06-2023&quot;},\n    {......}\n  ]\n}\n</code></pre>\n<p>Both client and ejb are compiled with <code>Java_EE_from_Glassfish_5 - jakarta.json.jar</code> in the library and I didn't (unless I miss it) find any other json.jar in the library list.</p>\n<p>Client runs within Netbeans and ejb also runs in glassfish deployed from Netbeans. Netbeans has java env pointing to jre of jdk1.8.0_202 and glassfish also has <code>AS_JAVA</code> parm pointing to the same.</p>\n<p>Any help is much appreciated. Also, is there a way to find out where does <code>JsonObjectBuilderImpl</code> come from at runtime?</p>\n<p>Edit:\nHere is the full stack trace:</p>\n<pre><code>java.lang.ClassCastException: org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray\nat org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl.getJsonArray(JsonObjectBuilderImpl.java:213)\nat whale.util.UTrustHASE.update(UTrustHASE.java:99)\nat whale.data.CaptureUTrust.run(CaptureUTrust.java:86)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\nat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\nat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\nat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\nat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:116)\nat sun.reflect.GeneratedMethodAccessor71.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\nat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\nat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\nat com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:181)\nat com.sun.ejb.containers.EJBObjectInvocationHandlerDelegate.invoke(EJBObjectInvocationHandlerDelegate.java:55)\nat com.sun.proxy.$Proxy258.run(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.privateInvoke(StubInvocationHandlerImpl.java:199)\nat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.invoke(StubInvocationHandlerImpl.java:110)\nat com.sun.corba.ee.impl.presentation.rmi.codegen.CodegenStubBase.invoke(CodegenStubBase.java:196)\nat whale.data.__CaptureUTrustRemote_Remote_DynamicStub.run(whale/data/__CaptureUTrustRemote_Remote_DynamicStub.java)\nat whale.data._CaptureUTrustRemote_Wrapper.run(whale/data/_CaptureUTrustRemote_Wrapper.java)\nat whale.util.JobScheduleBean.activateService(JobScheduleBean.java:202)\nat whale.util.JobScheduleBean.runTimer(JobScheduleBean.java:132)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\nat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\nat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\nat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\nat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundTimeout(SystemInterceptorProxy.java:121)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\nat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\nat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\nat com.sun.ejb.containers.BaseContainer.callEJBTimeout(BaseContainer.java:4061)\nat com.sun.ejb.containers.EJBTimerService.deliverTimeout(EJBTimerService.java:1176)\nat com.sun.ejb.containers.EJBTimerService.access$000(EJBTimerService.java:65)\nat com.sun.ejb.containers.EJBTimerService$TaskExpiredWork.run(EJBTimerService.java:1895)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx","java-11"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1539102312,"post_id":52724835,"comment_id":92376150,"body_markdown":"Use modular java application.","body":"Use modular java application."},{"owner":{"account_id":7472368,"reputation":529,"user_id":5679910,"accept_rate":83,"display_name":"DfM"},"score":0,"creation_date":1539104019,"post_id":52724835,"comment_id":92376919,"body_markdown":"@mrmcwolf But it&#39;s possible to use JavaFX 11 in a non modualr application (https://openjfx.io/openjfx-docs/#install-javafx). So why do I have to use a modular one?","body":"@mrmcwolf But it&#39;s possible to use JavaFX 11 in a non modualr application (<a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#install-javafx</a>). So why do I have to use a modular one?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1539119340,"post_id":52724835,"comment_id":92383852,"body_markdown":"Debugging from the `exec:java` goal (Maven Projects window, right click -&gt; Debug [exec:java]), works for me, without adding the SDK.","body":"Debugging from the <code>exec:java</code> goal (Maven Projects window, right click -&gt; Debug [exec:java]), works for me, without adding the SDK."},{"owner":{"account_id":7472368,"reputation":529,"user_id":5679910,"accept_rate":83,"display_name":"DfM"},"score":0,"creation_date":1539131611,"post_id":52724835,"comment_id":92387104,"body_markdown":"@Jos&#233;Pereda Thanks. It works for me too. But maybe you have any thoughts why a configuration of type `Application` doesn&#39;t work (the configuration type you&#39;ve suggested is `Maven`)? It has always worked for my previous Maven projects.","body":"@Jos&#233;Pereda Thanks. It works for me too. But maybe you have any thoughts why a configuration of type <code>Application</code> doesn&#39;t work (the configuration type you&#39;ve suggested is <code>Maven</code>)? It has always worked for my previous Maven projects."},{"owner":{"account_id":1527124,"reputation":838,"user_id":1425250,"accept_rate":0,"display_name":"Prashant Saraswat"},"score":0,"creation_date":1573594715,"post_id":52724835,"comment_id":103930625,"body_markdown":"@Dfm I am running into the same problem. I created another run configuration: exec:java -f pom.xml.This fails with the following error: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid. If I add a plugin configuration with the mainclass, I get this error: The specified mainClass doesn&#39;t contain a main method with appropriate signature.","body":"@Dfm I am running into the same problem. I created another run configuration: exec:java -f pom.xml.This fails with the following error: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid. If I add a plugin configuration with the mainclass, I get this error: The specified mainClass doesn&#39;t contain a main method with appropriate signature."}],"answers":[{"tags":[],"owner":{"account_id":3975815,"reputation":1428,"user_id":3279034,"accept_rate":33,"display_name":"jona303"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1552686435,"creation_date":1552686435,"answer_id":55191085,"question_id":52724835,"body_markdown":"If the point is just to use the run/debug button you can use a Maven Configuration\r\n[![maven config for intelliJ JavaFX run][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1rraE.png","title":"Run a JavaFX 11 Maven project in IntelliJ IDEA using a run/debug configuration","body":"<p>If the point is just to use the run/debug button you can use a Maven Configuration\n<a href=\"https://i.stack.imgur.com/1rraE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rraE.png\" alt=\"maven config for intelliJ JavaFX run\"></a></p>\n"},{"tags":[],"owner":{"account_id":8644975,"reputation":1568,"user_id":6472449,"display_name":"FireController1847"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687214605,"creation_date":1580186466,"answer_id":59942232,"question_id":52724835,"body_markdown":"I think I may have finally figured out a solution.\r\n\r\nI&#39;m assuming you&#39;re using Maven to import the javafx-maven-plugin as well as javafx-controls dependency, just as I was trying to do, and that you&#39;ve had issues/an annoyance trying to run it using javafx:run.\r\n\r\nWell, the solution, without using --add-exports and other things, is actually fairly simple. Create an extra class (I called mine &quot;Launcher&quot;) with a proper, Java-based main method. Then, in the class, launch your application from there, like so:\r\n\r\nLauncher Class\r\n\r\n    public class Launcher {\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(App.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nApplication Class\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            // app code\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m pretty sure the issue is caused by IntelliJ trying to be &quot;smart&quot;, and launching an application without a main method, jumping directly to the start method. But by doing that, it somehow avoids adding the Maven dependencies and causes it to fail. When you do it this way, it forces IntelliJ to say &quot;okay we need the maven dependencies, then we can run it&quot;, properly launching it (because it doesn&#39;t know any better that it&#39;s a JavaFX project). But that&#39;s just a guess. All I know is that it works for me.\r\n\r\nIt took me absolutely forever to figure this out, but once I set my run configuration to launch using my Launcher class instead of my App class, everything worked seamlessly like a charm (even debugging worked!).\r\n\r\nHopefully this helps, and happy coding! :)","title":"Run a JavaFX 11 Maven project in IntelliJ IDEA using a run/debug configuration","body":"<p>I think I may have finally figured out a solution.</p>\n<p>I'm assuming you're using Maven to import the javafx-maven-plugin as well as javafx-controls dependency, just as I was trying to do, and that you've had issues/an annoyance trying to run it using javafx:run.</p>\n<p>Well, the solution, without using --add-exports and other things, is actually fairly simple. Create an extra class (I called mine &quot;Launcher&quot;) with a proper, Java-based main method. Then, in the class, launch your application from there, like so:</p>\n<p>Launcher Class</p>\n<pre><code>public class Launcher {\n\n    public static void main(String[] args) {\n        Application.launch(App.class, args);\n    }\n\n}\n</code></pre>\n<p>Application Class</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        // app code\n    }\n\n}\n</code></pre>\n<p>I'm pretty sure the issue is caused by IntelliJ trying to be &quot;smart&quot;, and launching an application without a main method, jumping directly to the start method. But by doing that, it somehow avoids adding the Maven dependencies and causes it to fail. When you do it this way, it forces IntelliJ to say &quot;okay we need the maven dependencies, then we can run it&quot;, properly launching it (because it doesn't know any better that it's a JavaFX project). But that's just a guess. All I know is that it works for me.</p>\n<p>It took me absolutely forever to figure this out, but once I set my run configuration to launch using my Launcher class instead of my App class, everything worked seamlessly like a charm (even debugging worked!).</p>\n<p>Hopefully this helps, and happy coding! :)</p>\n"}],"owner":{"account_id":7472368,"reputation":529,"user_id":5679910,"accept_rate":83,"display_name":"DfM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2207,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1687214605,"creation_date":1539099986,"question_id":52724835,"body_markdown":"I want to run a [HelloWorld JavaFX 11 application using Maven][1] from IntelliJ IDEA using a **run/debug configuration** to be able to debug the application.\r\n\r\nI&#39;ve created a Maven project in IntelliJ IDEA with [pom.xml][2] and [HelloFX.java][3].\r\nI can build the project successfully and run it executing the specified `compile` and `exec:java` goals.\r\n\r\nBut when I run it using a run/debug configuration with VM options `--add-modules=javafx.controls`, I get:\r\n\r\n&gt; Error occurred during initialization of boot layer  \r\n&gt; java.lang.module.FindException: Module javafx.controls not found\r\n\r\nThe only way I&#39;ve managed to run it is by downloading [a JavaFX runtime][4] and setting VM options to `--module-path /path/to/javafx-sdk-11/lib --add-modules=javafx.controls`.\r\n\r\nBut is there any way to run it using artifacts downloaded from Maven? As I&#39;ve thought that IntelliJ IDEA can use Maven artifacts in runtime. Or am I just getting something wrong?\r\n\r\nP.S. I am aware about [this answer][5], but it doesn&#39;t describe what I want to do.\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#maven\r\n  [2]: https://openjfx.io/openjfx-docs/pom.xml\r\n  [3]: https://openjfx.io/openjfx-docs/HelloFX.java\r\n  [4]: https://gluonhq.com/products/javafx/\r\n  [5]: https://stackoverflow.com/a/52470141/5679910","title":"Run a JavaFX 11 Maven project in IntelliJ IDEA using a run/debug configuration","body":"<p>I want to run a <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"noreferrer\">HelloWorld JavaFX 11 application using Maven</a> from IntelliJ IDEA using a <strong>run/debug configuration</strong> to be able to debug the application.</p>\n\n<p>I've created a Maven project in IntelliJ IDEA with <a href=\"https://openjfx.io/openjfx-docs/pom.xml\" rel=\"noreferrer\">pom.xml</a> and <a href=\"https://openjfx.io/openjfx-docs/HelloFX.java\" rel=\"noreferrer\">HelloFX.java</a>.\nI can build the project successfully and run it executing the specified <code>compile</code> and <code>exec:java</code> goals.</p>\n\n<p>But when I run it using a run/debug configuration with VM options <code>--add-modules=javafx.controls</code>, I get:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of boot layer<br>\n  java.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n\n<p>The only way I've managed to run it is by downloading <a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">a JavaFX runtime</a> and setting VM options to <code>--module-path /path/to/javafx-sdk-11/lib --add-modules=javafx.controls</code>.</p>\n\n<p>But is there any way to run it using artifacts downloaded from Maven? As I've thought that IntelliJ IDEA can use Maven artifacts in runtime. Or am I just getting something wrong?</p>\n\n<p>P.S. I am aware about <a href=\"https://stackoverflow.com/a/52470141/5679910\">this answer</a>, but it doesn't describe what I want to do.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1581413349,"creation_date":1581413349,"answer_id":60165609,"question_id":60165470,"body_markdown":"The simplest equivalent of your for loop is\r\n\r\n\tint getIndexOfFirstFound(String text, String[] words) {\r\n\t\treturn Arrays.stream(words)\r\n\t\t\t\t.mapToInt(text::indexOf)\r\n\t\t\t\t.filter(i -&gt; i &gt;= 0)\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElse(-1);\r\n\t}","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>The simplest equivalent of your for loop is</p>\n\n<pre><code>int getIndexOfFirstFound(String text, String[] words) {\n    return Arrays.stream(words)\n            .mapToInt(text::indexOf)\n            .filter(i -&gt; i &gt;= 0)\n            .findFirst()\n            .orElse(-1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581413917,"creation_date":1581413917,"answer_id":60165813,"question_id":60165470,"body_markdown":"Not the same result as your code but closer to my understanding of your requirements\r\n\r\n    int getIndexOfFirstFound(String text, String[] words) {\r\n        return Arrays.stream(words)\r\n                .mapToInt(text::indexOf)\r\n                .filter(i -&gt; i &gt;= 0)\r\n                .sorted()\r\n                .findFirst()\r\n                .orElse(-1);\r\n    }\r\n\r\n\r\nDifference:\r\n\r\n`Text` = &quot;Hello I&#39;m your text, how are you?&quot; `Words` = [&quot;are&quot;, &quot;your&quot;]\r\n\r\nYour code would return 25 (index of &#39;are&#39;), my code would return 10 (index of &#39;your&#39;)\r\n","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>Not the same result as your code but closer to my understanding of your requirements</p>\n\n<pre><code>int getIndexOfFirstFound(String text, String[] words) {\n    return Arrays.stream(words)\n            .mapToInt(text::indexOf)\n            .filter(i -&gt; i &gt;= 0)\n            .sorted()\n            .findFirst()\n            .orElse(-1);\n}\n</code></pre>\n\n<p>Difference:</p>\n\n<p><code>Text</code> = \"Hello I'm your text, how are you?\" <code>Words</code> = [\"are\", \"your\"]</p>\n\n<p>Your code would return 25 (index of 'are'), my code would return 10 (index of 'your')</p>\n"},{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581416854,"creation_date":1581416854,"answer_id":60166773,"question_id":60165470,"body_markdown":"I think for better performance with non-stream version you can do like this: \r\n\r\nIf `words`&#39;s length is not so much, don&#39;t need to use `wordsSet`\r\n\r\n\r\n    int getIndexOfFirstFound(String text, String[] words) {\r\n        int index = 0;\r\n        Set&lt;String&gt; wordsSet = new HashSet&lt;&gt;(Arrays.asList(words));\r\n        for (String w : text.split(&quot;\\\\s&quot;)) {\r\n            if (wordsSet.contains(w)) break;\r\n            index += (w.length()) + 1; // 1 is for the space between words in the text.\r\n        }\r\n        return index;\r\n    }","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>I think for better performance with non-stream version you can do like this: </p>\n\n<p>If <code>words</code>'s length is not so much, don't need to use <code>wordsSet</code></p>\n\n<pre><code>int getIndexOfFirstFound(String text, String[] words) {\n    int index = 0;\n    Set&lt;String&gt; wordsSet = new HashSet&lt;&gt;(Arrays.asList(words));\n    for (String w : text.split(\"\\\\s\")) {\n        if (wordsSet.contains(w)) break;\n        index += (w.length()) + 1; // 1 is for the space between words in the text.\n    }\n    return index;\n}\n</code></pre>\n"}],"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60165609,"answer_count":3,"score":4,"last_activity_date":1687214484,"creation_date":1581412922,"question_id":60165470,"body_markdown":"I want to build a method `int getIndexOfFirstFound(String text, String[] words)`.\r\n\r\nThe method receive a text and array of words and should return the index of the first word found.\r\n\r\nI know to do it with simple iteration, like this:\r\n\r\n    for (String word : words) {\r\n        if (text.indexOf(word) != -1) return text.indexOf(word);\r\n    }\r\n    return -1;\r\n\r\nbut for my training I look how to do it with lambda, if it possible.\r\nI know I can check if the string contain a word from the array: `Arrays.stream(words).parallel().anyMatch(text::contains)` but I don&#39;t know how to return the index..\r\n\r\nHow can I find the first found word index in a modern way?\r\n\r\nExample:\r\n\r\n`Text` = &quot;Hello I&#39;m your text, how are you?&quot;\r\n`Words` = [&quot;your&quot;, &quot;are&quot;]\r\n\r\nThe result should be index of &quot;your&quot; (10).\r\n","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>I want to build a method <code>int getIndexOfFirstFound(String text, String[] words)</code>.</p>\n<p>The method receive a text and array of words and should return the index of the first word found.</p>\n<p>I know to do it with simple iteration, like this:</p>\n<pre><code>for (String word : words) {\n    if (text.indexOf(word) != -1) return text.indexOf(word);\n}\nreturn -1;\n</code></pre>\n<p>but for my training I look how to do it with lambda, if it possible.\nI know I can check if the string contain a word from the array: <code>Arrays.stream(words).parallel().anyMatch(text::contains)</code> but I don't know how to return the index..</p>\n<p>How can I find the first found word index in a modern way?</p>\n<p>Example:</p>\n<p><code>Text</code> = &quot;Hello I'm your text, how are you?&quot;\n<code>Words</code> = [&quot;your&quot;, &quot;are&quot;]</p>\n<p>The result should be index of &quot;your&quot; (10).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687191552,"post_id":76508348,"comment_id":134899135,"body_markdown":"What else do you have in scr/main/resources?","body":"What else do you have in scr/main/resources?"},{"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"score":0,"creation_date":1687191985,"post_id":76508348,"comment_id":134899223,"body_markdown":"two empty directories static and templates that were created by Spring Initializr.  Question updated with image","body":"two empty directories static and templates that were created by Spring Initializr.  Question updated with image"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687192574,"post_id":76508348,"comment_id":134899331,"body_markdown":"Very strange. mvn clean don&#39;t help?","body":"Very strange. mvn clean don&#39;t help?"},{"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"score":0,"creation_date":1687192795,"post_id":76508348,"comment_id":134899382,"body_markdown":"fails with same error.  replaced output above with mvn clean spring-boot:run","body":"fails with same error.  replaced output above with mvn clean spring-boot:run"}],"answers":[{"tags":[],"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687212037,"creation_date":1687212037,"answer_id":76510287,"question_id":76508348,"body_markdown":"Perhaps a bit like killing a mosquito with explosives but resetting Windows 11 worked.  At least I didn&#39;t have to reload my data.","title":"Spring boot starts in SSL by default","body":"<p>Perhaps a bit like killing a mosquito with explosives but resetting Windows 11 worked.  At least I didn't have to reload my data.</p>\n"}],"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687212037,"creation_date":1687190820,"question_id":76508348,"body_markdown":"For some reason, Spring Boot is starting in SSL by default.  I have an unmodified project from Spring Initializr with only web dependency and an empty application.properties.  When I start this from the command line it fails with `SSL is enabled but no trust material is configured`.\r\n\r\nHow can I return this to normal behavior of non-SSL?\r\n\r\n**Steps taken since orignal posting**\r\n\r\n1. delete mvn cache in .m2 directory - same failure\r\n2. Delete jdk and unzip fresh copy - same failure\r\n3. switch to the WSL platform, install JDK-17 - **success**\r\n\r\n**Conclusion**\r\n- Something&#39;s corrupted in Windows 11\r\n\r\n**Next steps**\r\n- Reset Windows 11 leaving my data intact\r\n\r\n*Original question files below*\r\n\r\n\r\npom.xml\r\n```xml\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;demo&lt;/name&gt;\r\n\t\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n```\r\napplication.properties\r\n\r\n     is empty\r\n\r\nDemoApplication.java\r\n```java\r\n\tpackage com.example.demo;\r\n\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\t@SpringBootApplication\r\n\tpublic class DemoApplication {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nsrc/main/resources\r\n\r\n[![src/main/resources][1]][1]  Both static and templates directories are empty\r\n\r\n\r\noutput from terminal\r\n\r\n\t&gt; .\\mvnw clean spring-boot:run\r\n\t[INFO] Scanning for projects...\r\n\t[INFO]\r\n\t[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\r\n\t[INFO] Building demo 0.0.1-SNAPSHOT\r\n\t[INFO]   from pom.xml\r\n\t[INFO] --------------------------------[ jar ]---------------------------------\r\n\t[INFO]\r\n\t[INFO] --- clean:3.2.0:clean (default-clean) @ demo ---\r\n\t[INFO] Deleting C:\\Users\\user\\Downloads\\demo\\demo\\target\r\n\t[INFO]\r\n\t[INFO] &gt;&gt;&gt; spring-boot:3.1.0:run (default-cli) &gt; test-compile @ demo &gt;&gt;&gt;\r\n\t[INFO]\r\n\t[INFO] --- resources:3.3.1:resources (default-resources) @ demo ---\r\n\t[INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n\t[INFO] Copying 0 resource from src\\main\\resources to target\\classes\r\n\t[INFO]\r\n\t[INFO] --- compiler:3.11.0:compile (default-compile) @ demo ---\r\n\t[INFO] Changes detected - recompiling the module! :source\r\n\t[INFO] Compiling 1 source file with javac [debug release 17] to target\\classes\r\n\t[INFO]\r\n\t[INFO] --- resources:3.3.1:testResources (default-testResources) @ demo ---\r\n\t[INFO] skip non existing resourceDirectory C:\\Users\\user\\Downloads\\demo\\demo\\src\\test\\resources\r\n\t[INFO]\r\n\t[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ demo ---\r\n\t[INFO] Changes detected - recompiling the module! :dependency\r\n\t[INFO] Compiling 1 source file with javac [debug release 17] to target\\test-classes\r\n\t[INFO]\r\n\t[INFO] &lt;&lt;&lt; spring-boot:3.1.0:run (default-cli) &lt; test-compile @ demo &lt;&lt;&lt;\r\n\t[INFO]\r\n\t[INFO]\r\n\t[INFO] --- spring-boot:3.1.0:run (default-cli) @ demo ---\r\n\t[INFO] Attaching agents: []\r\n\r\n\t  .   ____          _            __ _ _\r\n\t /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n\t( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n\t \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n\t  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n\t =========|_|==============|___/=/_/_/_/\r\n\t :: Spring Boot ::                (v3.1.0)\r\n\r\n\t2023-06-19T11:39:04.545-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 13672 (C:\\Users\\user\\Downloads\\demo\\demo\\target\\classes started by user in C:\\Users\\user\\Downloads\\demo\\demo)\r\n\t2023-06-19T11:39:04.549-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n\t2023-06-19T11:39:05.110-05:00  WARN 13672 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\r\n\t2023-06-19T11:39:05.116-05:00  INFO 13672 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\n\r\n\tError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n\t2023-06-19T11:39:05.127-05:00 ERROR 13672 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n\torg.springframework.context.ApplicationContextException: Unable to start web server\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.9.jar:6.0.9]\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n\tCaused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\r\n\t\t\tat org.springframework.boot.web.server.WebServerSslBundle.createStoreBundle(WebServerSslBundle.java:165) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.server.WebServerSslBundle.get(WebServerSslBundle.java:154) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.getSslBundle(AbstractConfigurableWebServerFactory.java:216) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:367) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:344) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\t... 8 common frames omitted\r\n\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD FAILURE\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time:  7.955 s\r\n\t[INFO] Finished at: 2023-06-19T11:39:05-05:00\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.0:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\r\n\t[ERROR]\r\n\t[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\t[ERROR]\r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n  [1]: https://i.stack.imgur.com/ICl2a.png","title":"Spring boot starts in SSL by default","body":"<p>For some reason, Spring Boot is starting in SSL by default.  I have an unmodified project from Spring Initializr with only web dependency and an empty application.properties.  When I start this from the command line it fails with <code>SSL is enabled but no trust material is configured</code>.</p>\n<p>How can I return this to normal behavior of non-SSL?</p>\n<p><strong>Steps taken since orignal posting</strong></p>\n<ol>\n<li>delete mvn cache in .m2 directory - same failure</li>\n<li>Delete jdk and unzip fresh copy - same failure</li>\n<li>switch to the WSL platform, install JDK-17 - <strong>success</strong></li>\n</ol>\n<p><strong>Conclusion</strong></p>\n<ul>\n<li>Something's corrupted in Windows 11</li>\n</ul>\n<p><strong>Next steps</strong></p>\n<ul>\n<li>Reset Windows 11 leaving my data intact</li>\n</ul>\n<p><em>Original question files below</em></p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;demo&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code> is empty\n</code></pre>\n<p>DemoApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.demo;\n\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n\n    @SpringBootApplication\n    public class DemoApplication {\n\n        public static void main(String[] args) {\n            SpringApplication.run(DemoApplication.class, args);\n        }\n\n    }\n</code></pre>\n<p>src/main/resources</p>\n<p><a href=\"https://i.stack.imgur.com/ICl2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICl2a.png\" alt=\"src/main/resources\" /></a>  Both static and templates directories are empty</p>\n<p>output from terminal</p>\n<pre><code>&gt; .\\mvnw clean spring-boot:run\n[INFO] Scanning for projects...\n[INFO]\n[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\n[INFO] Building demo 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- clean:3.2.0:clean (default-clean) @ demo ---\n[INFO] Deleting C:\\Users\\user\\Downloads\\demo\\demo\\target\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot:3.1.0:run (default-cli) &gt; test-compile @ demo &gt;&gt;&gt;\n[INFO]\n[INFO] --- resources:3.3.1:resources (default-resources) @ demo ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO] Copying 0 resource from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.11.0:compile (default-compile) @ demo ---\n[INFO] Changes detected - recompiling the module! :source\n[INFO] Compiling 1 source file with javac [debug release 17] to target\\classes\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ demo ---\n[INFO] skip non existing resourceDirectory C:\\Users\\user\\Downloads\\demo\\demo\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ demo ---\n[INFO] Changes detected - recompiling the module! :dependency\n[INFO] Compiling 1 source file with javac [debug release 17] to target\\test-classes\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot:3.1.0:run (default-cli) &lt; test-compile @ demo &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot:3.1.0:run (default-cli) @ demo ---\n[INFO] Attaching agents: []\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n2023-06-19T11:39:04.545-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 13672 (C:\\Users\\user\\Downloads\\demo\\demo\\target\\classes started by user in C:\\Users\\user\\Downloads\\demo\\demo)\n2023-06-19T11:39:04.549-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-19T11:39:05.110-05:00  WARN 13672 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\n2023-06-19T11:39:05.116-05:00  INFO 13672 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-19T11:39:05.127-05:00 ERROR 13672 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.9.jar:6.0.9]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\n        at org.springframework.boot.web.server.WebServerSslBundle.createStoreBundle(WebServerSslBundle.java:165) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.server.WebServerSslBundle.get(WebServerSslBundle.java:154) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.getSslBundle(AbstractConfigurableWebServerFactory.java:216) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:367) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:344) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.0.jar:3.1.0]\n        ... 8 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.955 s\n[INFO] Finished at: 2023-06-19T11:39:05-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.0:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","thread-safety","java-threads"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687209612,"post_id":76510071,"comment_id":134902062,"body_markdown":"What precise sequence of events does the `synchronized` block avoid? Does a `ConcurrentHashMap` protect against that sequence?","body":"What precise sequence of events does the <code>synchronized</code> block avoid? Does a <code>ConcurrentHashMap</code> protect against that sequence?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1687210242,"post_id":76510071,"comment_id":134902127,"body_markdown":"What&#39;s the point of doing `accountMap.put(transaction.getAccountNumber(), account)` on every transaction? And how is synchronizing on an individual `account` supposed to protect the whole map?","body":"What&#39;s the point of doing <code>accountMap.put(transaction.getAccountNumber(), account)</code> on every transaction? And how is synchronizing on an individual <code>account</code> supposed to protect the whole map?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1687258842,"post_id":76510071,"comment_id":134908418,"body_markdown":"If the intent of `processTransaction` is to return the account balance as a result exclusively of the provided transaction then it would potentially return incorrect results in a multi-threaded environment.  This is because the final `getBalance` is outside the critical section and is vulnerable to other threads performing transactions _after_ the provided transaction.","body":"If the intent of <code>processTransaction</code> is to return the account balance as a result exclusively of the provided transaction then it would potentially return incorrect results in a multi-threaded environment.  This is because the final <code>getBalance</code> is outside the critical section and is vulnerable to other threads performing transactions <i>after</i> the provided transaction."}],"answers":[{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687210660,"creation_date":1687210660,"answer_id":76510195,"question_id":76510071,"body_markdown":"Depends on what you are trying to achieve with the synchronised block. \r\nWith ```synchronized (account)```, you are locking the account object and making sure that only thread can make changes to that object. So there is no need to put the object back into the map again.\r\n\r\nBut the real issue is you are getting the object outside the ```synchronized``` block. So any other thread(call it T2) can access the same object and make modification before T1 starts executing the ```synchronized``` block.\r\n\r\nIf you are ok with that kind of modification/ or if you are sure that the ```accountMap``` is not used anywhere else, it might work.\r\n\r\nBut the best case would be to lock on the map itself. And yes, a ```ConcurrentHashMap``` will perform better if you are locking on the entire map object.\r\n","title":"Thread Safety Multiple Approaches","body":"<p>Depends on what you are trying to achieve with the synchronised block.\nWith <code>synchronized (account)</code>, you are locking the account object and making sure that only thread can make changes to that object. So there is no need to put the object back into the map again.</p>\n<p>But the real issue is you are getting the object outside the <code>synchronized</code> block. So any other thread(call it T2) can access the same object and make modification before T1 starts executing the <code>synchronized</code> block.</p>\n<p>If you are ok with that kind of modification/ or if you are sure that the <code>accountMap</code> is not used anywhere else, it might work.</p>\n<p>But the best case would be to lock on the map itself. And yes, a <code>ConcurrentHashMap</code> will perform better if you are locking on the entire map object.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1687211611,"creation_date":1687211092,"answer_id":76510222,"question_id":76510071,"body_markdown":"The calls to `put()` are redundant because the mapping is already present. It looks like the only thing this method really does is adjust the balance of an individual account. I would have `Account` provide an adjustment method that synchronizes internally:\r\n\r\n    public synchronized double adjustBalance(double delta) {\r\n        return this.balance += delta;\r\n    }\r\n\r\nThen call it with a simple `if` to negate the amount:\r\n\r\n    public Double processTransaction(Transaction transaction) {\r\n        double delta = transaction.getBalance();\r\n        if (transaction.getTransactionType() == TransactionType.WITHDRAW) {\r\n            delta = -delta;\r\n        }\r\n        return accountMap.get(transaction.getAccountNumber()).adjustBalance(delta);\r\n    }\r\n\r\n","title":"Thread Safety Multiple Approaches","body":"<p>The calls to <code>put()</code> are redundant because the mapping is already present. It looks like the only thing this method really does is adjust the balance of an individual account. I would have <code>Account</code> provide an adjustment method that synchronizes internally:</p>\n<pre><code>public synchronized double adjustBalance(double delta) {\n    return this.balance += delta;\n}\n</code></pre>\n<p>Then call it with a simple <code>if</code> to negate the amount:</p>\n<pre><code>public Double processTransaction(Transaction transaction) {\n    double delta = transaction.getBalance();\n    if (transaction.getTransactionType() == TransactionType.WITHDRAW) {\n        delta = -delta;\n    }\n    return accountMap.get(transaction.getAccountNumber()).adjustBalance(delta);\n}\n</code></pre>\n"}],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76510222,"answer_count":2,"score":0,"last_activity_date":1687211611,"creation_date":1687208758,"question_id":76510071,"body_markdown":"I&#39;m developing an application which is meant to work in multi threading environment. The code sample looks like - \r\n\r\n    private Map&lt;String, Account&gt; accountMap;    // Account is a POJO\r\n         \r\n    public Double processTransaction(Transaction transaction) {     // Transaction is a POJO\r\n            Account account = accountMap.get(transaction.getAccountNumber());\r\n \r\n            synchronized (account) {\r\n                TransactionType mode = transaction.getTransactionType();\r\n                switch (mode) {\r\n                    case DEPOSIT:\r\n                        Double balance = account.getBalance();\r\n                        balance += transaction.getBalance();\r\n                        account.setBalance(balance);\r\n                        accountMap.put(transaction.getAccountNumber(), account);\r\n                        break;\r\n    \r\n                    case WITHDRAW:\r\n                        Double presentBalance = account.getBalance();\r\n                        if(presentBalance &lt; transaction.getBalance()) {\r\n                            // throw some exception\r\n                        }\r\n                        presentBalance = presentBalance - transaction.getBalance();\r\n                        account.setBalance(presentBalance);\r\n                        accountMap.put(transaction.getAccountNumber(), account);\r\n                        break;\r\n\r\n                }\r\n            }\r\n            return accountMap.get(transaction.getAccountNumber()).getBalance();\r\n        }\r\n\r\n\r\nThe other possible approach could be defining `accountMap as a concurrent HashMap` instead of using `synchronized` block.\r\n\r\nMy question is, are the above approaches correct and what else approaches could be used to ensure thread safety?","title":"Thread Safety Multiple Approaches","body":"<p>I'm developing an application which is meant to work in multi threading environment. The code sample looks like -</p>\n<pre><code>private Map&lt;String, Account&gt; accountMap;    // Account is a POJO\n     \npublic Double processTransaction(Transaction transaction) {     // Transaction is a POJO\n        Account account = accountMap.get(transaction.getAccountNumber());\n\n        synchronized (account) {\n            TransactionType mode = transaction.getTransactionType();\n            switch (mode) {\n                case DEPOSIT:\n                    Double balance = account.getBalance();\n                    balance += transaction.getBalance();\n                    account.setBalance(balance);\n                    accountMap.put(transaction.getAccountNumber(), account);\n                    break;\n\n                case WITHDRAW:\n                    Double presentBalance = account.getBalance();\n                    if(presentBalance &lt; transaction.getBalance()) {\n                        // throw some exception\n                    }\n                    presentBalance = presentBalance - transaction.getBalance();\n                    account.setBalance(presentBalance);\n                    accountMap.put(transaction.getAccountNumber(), account);\n                    break;\n\n            }\n        }\n        return accountMap.get(transaction.getAccountNumber()).getBalance();\n    }\n</code></pre>\n<p>The other possible approach could be defining <code>accountMap as a concurrent HashMap</code> instead of using <code>synchronized</code> block.</p>\n<p>My question is, are the above approaches correct and what else approaches could be used to ensure thread safety?</p>\n"},{"tags":["java","android","android-studio","horizontal-scrolling"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1686971372,"post_id":76484622,"comment_id":134875749,"body_markdown":"It&#39;s possible you could achieve the `updateListener` check with some math on the interpolation values;  but I did accomplish what it seems you are after by simply removing the repeat functionality (it won&#39;t support what you want for reasons of implementation in the ValueAnimator) and add `new Handler().postDelayed(animation::start, delayMillis);` to the `onAnimationEnd` in `DelayAnimation`.  This pauses the animation at its end before restarting it.  If the start delay and the &quot;repeat&quot; delay need to be managed separately then you can clear the start delay on the first &quot;end&quot;.","body":"It&#39;s possible you could achieve the <code>updateListener</code> check with some math on the interpolation values;  but I did accomplish what it seems you are after by simply removing the repeat functionality (it won&#39;t support what you want for reasons of implementation in the ValueAnimator) and add <code>new Handler().postDelayed(animation::start, delayMillis);</code> to the <code>onAnimationEnd</code> in <code>DelayAnimation</code>.  This pauses the animation at its end before restarting it.  If the start delay and the &quot;repeat&quot; delay need to be managed separately then you can clear the start delay on the first &quot;end&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686870923,"creation_date":1686870923,"answer_id":76486045,"question_id":76484622,"body_markdown":"You could use `AnimationUpdateListener` and control when to pause the animation at the end before repeating using\r\n```\r\nanimator.addUpdateListener(animation -&gt; {\r\n    //target value could the end value which is either viewWidth-(itemWidth + 50) or when you want to pause\r\n    (animation.getAnimatedValue() == targetValue) {\r\n        animation.pause();\r\n        new Handler().postDelayed(animation::resume, delayMillis);\r\n    }\r\n});\r\n```","title":"Pausing an ObjectAnimator before it restarts its animation","body":"<p>You could use <code>AnimationUpdateListener</code> and control when to pause the animation at the end before repeating using</p>\n<pre><code>animator.addUpdateListener(animation -&gt; {\n    //target value could the end value which is either viewWidth-(itemWidth + 50) or when you want to pause\n    (animation.getAnimatedValue() == targetValue) {\n        animation.pause();\n        new Handler().postDelayed(animation::resume, delayMillis);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21385060,"reputation":97,"user_id":15750301,"display_name":"CorMatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687208507,"creation_date":1687207876,"answer_id":76510007,"question_id":76484622,"body_markdown":"I must thank both Rajan Kali and 5f3bde39-70a2-4df1-afa2-47f61b answers to being able to find a solution. It might not be the most elegant one and I am willing to look for even better ones, but this one worked for me:\r\n\r\n````\r\nclass ObjectScroller {\r\n        ObjectAnimator animator;\r\n        TextView scrollText;\r\n        int viewWidth;\r\n        int itemWidth;\r\n        long duration = 7500;\r\n        long delay = 2500;\r\n\r\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\r\n            this.scrollText = scroll;\r\n            this.itemWidth = itemWidth;\r\n            this.viewWidth = viewWidth;\r\n            animator = ObjectAnimator.ofFloat(scrollText, \r\n                                 &quot;translationX&quot;, viewWidth-(itemWidth + 50));\r\n            animator.setStartDelay(delay);\r\n            animator.setInterpolator(new LinearInterpolator());\r\n            animator.setDuration(duration);\r\n            animator.setRepeatMode(ValueAnimator.RESTART);\r\n            animator.setRepeatCount(ValueAnimator.INFINITE);\r\n        }\r\n\r\n        public void startObjectScroll() {\r\n            animator.addListener(new DelayAnimation(delay));\r\n//This allows the animation to be paused BEFORE it restarts.\r\n// Since my textview is translated viewWidth-(itemWidth + 50) units, \r\n// I choose to pause when its translation is lower than viewWidth-(itemWidth + 49)\r\n// (since my text is being translated from right to left, which means\r\n// the movement will create a negative value)\r\n// because, as pointed out, it will NEVER reach viewWidth-(itemWidth + 50) AND\r\n// the LinearInterpolator does not necessarily increments in integer rates.\r\n            animator.addUpdateListener(animation -&gt; {\r\n                float value = (float) animation.getAnimatedValue();\r\n                if (value &lt; viewWidth-(itemWidth + 49)) {\r\n                    animation.pause();\r\n                    new Handler().postDelayed(animation::resume, delay);\r\n                }\r\n            });\r\n            animator.start();\r\n        }\r\n    }\r\n\r\n    class DelayAnimation implements Animator.AnimatorListener {\r\n        private long delayMillis;\r\n\r\n        public DelayAnimation(long delayMillis) {\r\n            this.delayMillis = delayMillis;\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationStart(Animator animation) {\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationEnd(Animator animation) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationCancel(Animator animation) {\r\n\r\n        }\r\n// This code makes the animation to be paused after it has restarted,\r\n// allowing the user to read the beginning of the text more easily\r\n        @Override\r\n        public void onAnimationRepeat(Animator animation) {\r\n            animation.pause();\r\n            new Handler().postDelayed(animation::resume, delayMillis);\r\n        }\r\n    }\r\n````\r\n\r\n","title":"Pausing an ObjectAnimator before it restarts its animation","body":"<p>I must thank both Rajan Kali and 5f3bde39-70a2-4df1-afa2-47f61b answers to being able to find a solution. It might not be the most elegant one and I am willing to look for even better ones, but this one worked for me:</p>\n<pre><code>class ObjectScroller {\n        ObjectAnimator animator;\n        TextView scrollText;\n        int viewWidth;\n        int itemWidth;\n        long duration = 7500;\n        long delay = 2500;\n\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\n            this.scrollText = scroll;\n            this.itemWidth = itemWidth;\n            this.viewWidth = viewWidth;\n            animator = ObjectAnimator.ofFloat(scrollText, \n                                 &quot;translationX&quot;, viewWidth-(itemWidth + 50));\n            animator.setStartDelay(delay);\n            animator.setInterpolator(new LinearInterpolator());\n            animator.setDuration(duration);\n            animator.setRepeatMode(ValueAnimator.RESTART);\n            animator.setRepeatCount(ValueAnimator.INFINITE);\n        }\n\n        public void startObjectScroll() {\n            animator.addListener(new DelayAnimation(delay));\n//This allows the animation to be paused BEFORE it restarts.\n// Since my textview is translated viewWidth-(itemWidth + 50) units, \n// I choose to pause when its translation is lower than viewWidth-(itemWidth + 49)\n// (since my text is being translated from right to left, which means\n// the movement will create a negative value)\n// because, as pointed out, it will NEVER reach viewWidth-(itemWidth + 50) AND\n// the LinearInterpolator does not necessarily increments in integer rates.\n            animator.addUpdateListener(animation -&gt; {\n                float value = (float) animation.getAnimatedValue();\n                if (value &lt; viewWidth-(itemWidth + 49)) {\n                    animation.pause();\n                    new Handler().postDelayed(animation::resume, delay);\n                }\n            });\n            animator.start();\n        }\n    }\n\n    class DelayAnimation implements Animator.AnimatorListener {\n        private long delayMillis;\n\n        public DelayAnimation(long delayMillis) {\n            this.delayMillis = delayMillis;\n        }\n\n        @Override\n        public void onAnimationStart(Animator animation) {\n        }\n\n        @Override\n        public void onAnimationEnd(Animator animation) {\n\n        }\n\n        @Override\n        public void onAnimationCancel(Animator animation) {\n\n        }\n// This code makes the animation to be paused after it has restarted,\n// allowing the user to read the beginning of the text more easily\n        @Override\n        public void onAnimationRepeat(Animator animation) {\n            animation.pause();\n            new Handler().postDelayed(animation::resume, delayMillis);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21385060,"reputation":97,"user_id":15750301,"display_name":"CorMatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687208507,"creation_date":1686854491,"question_id":76484622,"body_markdown":"I am using an ObjectAnimator to make a long text on a TextView to be scrolled inside a HorizontalScrollView. The scroll animation is working nicely, the text is being scrolled correctly, but I am having trouble to make the animation stop for a few moments before it restarts.\r\n\r\nI am using the following classes to make such animations:\r\n\r\n````\r\n class ObjectScroller {\r\n        ObjectAnimator animator;\r\n        TextView scrollText;\r\n        long duration = 7500;\r\n        long delay = 2500;\r\n\r\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\r\n            this.scrollText = scroll;\r\n            animator = ObjectAnimator.ofFloat(scrollText, &quot;translationX&quot;, viewWidth-(itemWidth + 50));\r\n            animator.setStartDelay(delay);\r\n            animator.setInterpolator(new LinearInterpolator());\r\n            animator.setDuration(duration);\r\n            animator.setRepeatMode(ValueAnimator.RESTART);\r\n            animator.setRepeatCount(ValueAnimator.INFINITE);\r\n        }\r\n\r\n        public void startObjectScroll() {\r\n            animator.addListener(new DelayAnimation(delay));\r\n            animator.start();\r\n        }\r\n    }\r\n\r\n    class DelayAnimation implements Animator.AnimatorListener {\r\n        private long delayMillis;\r\n\r\n        public DelayAnimation(long delayMillis) {\r\n            this.delayMillis = delayMillis;\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationStart(Animator animation) {\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationEnd(Animator animation) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationCancel(Animator animation) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationRepeat(Animator animation) {\r\n            animation.pause();\r\n            new Handler().postDelayed(animation::resume, delayMillis);\r\n        }\r\n    }\r\n````\r\n Those classes are utilized in a `RecyclerView.Adapter` (cause those scrolling texts are located inside the items of a RecyclerView) and are utilized as follows:\r\n\r\n````\r\n@Override\r\n    public void onBindViewHolder(@NonNull ViewHolderInterface.MainListViewHolder holder, int position) {\r\n\r\n\\\\------------\r\n      \\\\omitting code that does not relate to animations\r\n\\\\------------\r\n\r\n        this.beforeDraw(holder.textInfoOne, () -&gt; {\r\n            Paint textPaint = holder.textInfoOne.getPaint();\r\n            String text = holder.textInfoOne.getText().toString();\r\n            int itemWidth = Math.round(textPaint.measureText(text));\r\n\r\n            int viewWidth = holder.scrollText.getWidth();\r\n\r\n            if (itemWidth &gt; viewWidth) {\r\n                holder.obScroller = new ObjectScroller(holder.textInfoOne, itemWidth,viewWidth);\r\n                holder.obScroller.startObjectScroll();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\npublic void beforeDraw(View view, Runnable runnable) {\r\n        ViewTreeObserver.OnPreDrawListener preDraw = new ViewTreeObserver.OnPreDrawListener() {\r\n            @Override\r\n            public boolean onPreDraw() {\r\n                view.getViewTreeObserver().removeOnPreDrawListener(this);\r\n                runnable.run();\r\n                return true;\r\n            }\r\n        };\r\n        view.getViewTreeObserver().addOnPreDrawListener(preDraw);\r\n    }\r\n````\r\n\r\nwhere `beforeDraw` is just a method created to allow me to find the views&#39; proper size on the screen to decide if the text should be scrolled or not.\r\n\r\nAnyway, the problem I am facing is the fact that, when utilizing the `onAnimationRepeat(Animator animation)`, the animation restarts, and just then it pauses for the time determined as delay to restart scrolling. This delay before resuming the animation is part of what I envisioned, but it isn&#39;t everything that I want to achieve, since what I wanted is that the animation also paused **after** its completion but **before** its restart.\r\n\r\nTo be more clear, my **desired** outcome would be as follows:\r\n\r\n````\r\nDelay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; Pause at the End -&gt; Restart Animation with Delay -&gt; ...\r\n````\r\n\r\nHowever, what I am getting so far would be like this:\r\n````\r\nDelay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; **No Pause** -&gt; Restart Animation with Delay -&gt; ...\r\n````\r\n\r\nIs it possible to achieve such thing with ObjectAnimator? I changed from Animation to ObjectAnimator precisely because I wanted to pause the animation **before** restarting it.\r\n\r\nAlso, I would prefer to have a solution that uses the `setRepeatCount(ValueAnimator.INFINITE)` option since I want to make sure it will never stop scrolling even if the user does forget his phone unlocked. \r\n\r\nThanks in advance for all the help!","title":"Pausing an ObjectAnimator before it restarts its animation","body":"<p>I am using an ObjectAnimator to make a long text on a TextView to be scrolled inside a HorizontalScrollView. The scroll animation is working nicely, the text is being scrolled correctly, but I am having trouble to make the animation stop for a few moments before it restarts.</p>\n<p>I am using the following classes to make such animations:</p>\n<pre><code> class ObjectScroller {\n        ObjectAnimator animator;\n        TextView scrollText;\n        long duration = 7500;\n        long delay = 2500;\n\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\n            this.scrollText = scroll;\n            animator = ObjectAnimator.ofFloat(scrollText, &quot;translationX&quot;, viewWidth-(itemWidth + 50));\n            animator.setStartDelay(delay);\n            animator.setInterpolator(new LinearInterpolator());\n            animator.setDuration(duration);\n            animator.setRepeatMode(ValueAnimator.RESTART);\n            animator.setRepeatCount(ValueAnimator.INFINITE);\n        }\n\n        public void startObjectScroll() {\n            animator.addListener(new DelayAnimation(delay));\n            animator.start();\n        }\n    }\n\n    class DelayAnimation implements Animator.AnimatorListener {\n        private long delayMillis;\n\n        public DelayAnimation(long delayMillis) {\n            this.delayMillis = delayMillis;\n        }\n\n        @Override\n        public void onAnimationStart(Animator animation) {\n        }\n\n        @Override\n        public void onAnimationEnd(Animator animation) {\n\n        }\n\n        @Override\n        public void onAnimationCancel(Animator animation) {\n\n        }\n\n        @Override\n        public void onAnimationRepeat(Animator animation) {\n            animation.pause();\n            new Handler().postDelayed(animation::resume, delayMillis);\n        }\n    }\n</code></pre>\n<p>Those classes are utilized in a <code>RecyclerView.Adapter</code> (cause those scrolling texts are located inside the items of a RecyclerView) and are utilized as follows:</p>\n<pre><code>@Override\n    public void onBindViewHolder(@NonNull ViewHolderInterface.MainListViewHolder holder, int position) {\n\n\\\\------------\n      \\\\omitting code that does not relate to animations\n\\\\------------\n\n        this.beforeDraw(holder.textInfoOne, () -&gt; {\n            Paint textPaint = holder.textInfoOne.getPaint();\n            String text = holder.textInfoOne.getText().toString();\n            int itemWidth = Math.round(textPaint.measureText(text));\n\n            int viewWidth = holder.scrollText.getWidth();\n\n            if (itemWidth &gt; viewWidth) {\n                holder.obScroller = new ObjectScroller(holder.textInfoOne, itemWidth,viewWidth);\n                holder.obScroller.startObjectScroll();\n            }\n        });\n\n    }\n\npublic void beforeDraw(View view, Runnable runnable) {\n        ViewTreeObserver.OnPreDrawListener preDraw = new ViewTreeObserver.OnPreDrawListener() {\n            @Override\n            public boolean onPreDraw() {\n                view.getViewTreeObserver().removeOnPreDrawListener(this);\n                runnable.run();\n                return true;\n            }\n        };\n        view.getViewTreeObserver().addOnPreDrawListener(preDraw);\n    }\n</code></pre>\n<p>where <code>beforeDraw</code> is just a method created to allow me to find the views' proper size on the screen to decide if the text should be scrolled or not.</p>\n<p>Anyway, the problem I am facing is the fact that, when utilizing the <code>onAnimationRepeat(Animator animation)</code>, the animation restarts, and just then it pauses for the time determined as delay to restart scrolling. This delay before resuming the animation is part of what I envisioned, but it isn't everything that I want to achieve, since what I wanted is that the animation also paused <strong>after</strong> its completion but <strong>before</strong> its restart.</p>\n<p>To be more clear, my <strong>desired</strong> outcome would be as follows:</p>\n<pre><code>Delay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; Pause at the End -&gt; Restart Animation with Delay -&gt; ...\n</code></pre>\n<p>However, what I am getting so far would be like this:</p>\n<pre><code>Delay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; **No Pause** -&gt; Restart Animation with Delay -&gt; ...\n</code></pre>\n<p>Is it possible to achieve such thing with ObjectAnimator? I changed from Animation to ObjectAnimator precisely because I wanted to pause the animation <strong>before</strong> restarting it.</p>\n<p>Also, I would prefer to have a solution that uses the <code>setRepeatCount(ValueAnimator.INFINITE)</code> option since I want to make sure it will never stop scrolling even if the user does forget his phone unlocked.</p>\n<p>Thanks in advance for all the help!</p>\n"},{"tags":["java","eclipse","git","ant"],"comments":[{"owner":{"account_id":3618474,"reputation":1861,"user_id":3017818,"accept_rate":100,"display_name":"Daniel"},"score":0,"creation_date":1408526773,"post_id":25401124,"comment_id":39619100,"body_markdown":"Did you put that class&#39; jar on build path in : `right click on project -&gt; Properties -&gt; Java Build Path -&gt; Libraries` ?","body":"Did you put that class&#39; jar on build path in : <code>right click on project -&gt; Properties -&gt; Java Build Path -&gt; Libraries</code> ?"},{"owner":{"account_id":4915484,"reputation":553,"user_id":3959526,"display_name":"Милош Керкез"},"score":0,"creation_date":1408526892,"post_id":25401124,"comment_id":39619170,"body_markdown":"On section build path is text &quot;no action available&quot;. So i cant enter in build path","body":"On section build path is text &quot;no action available&quot;. So i cant enter in build path"},{"owner":{"account_id":441399,"reputation":2957,"user_id":831472,"accept_rate":76,"display_name":"Jack"},"score":0,"creation_date":1408527325,"post_id":25401124,"comment_id":39619425,"body_markdown":"Try to import the project as _Java_ _project_ instead of _general_ _project_.","body":"Try to import the project as <i>Java</i> <i>project</i> instead of <i>general</i> <i>project</i>."},{"owner":{"account_id":4915484,"reputation":553,"user_id":3959526,"display_name":"Милош Керкез"},"score":1,"creation_date":1408527832,"post_id":25401124,"comment_id":39619692,"body_markdown":"When i try like that, there is no project to import, that is why i import as general project. Sorry if my English is not so good.","body":"When i try like that, there is no project to import, that is why i import as general project. Sorry if my English is not so good."},{"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"score":1,"creation_date":1645093471,"post_id":25401124,"comment_id":125781307,"body_markdown":"A note: not your case, but the same error mesage can also happen in cases where you have a multimodule project where there parent projec is only a mvn project.\nIf you open the java file from there it will show this message.\nThe solution is to simply open the same file from the module that has the java nature.","body":"A note: not your case, but the same error mesage can also happen in cases where you have a multimodule project where there parent projec is only a mvn project. If you open the java file from there it will show this message. The solution is to simply open the same file from the module that has the java nature."}],"answers":[{"tags":[],"owner":{"account_id":4915334,"reputation":1746,"user_id":3959406,"display_name":"Loganathan Mohanraj"},"down_vote_count":1,"up_vote_count":79,"is_accepted":true,"score":78,"last_activity_date":1408527703,"creation_date":1408527703,"answer_id":25401489,"question_id":25401124,"body_markdown":"Since you imported the project as a General Project, it does not have the java nature and that is the problem.\r\n\r\nAdd the below lines in the .project file of your workspace and refresh.\r\n    \r\n    &lt;natures&gt;\r\n          &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n    &lt;/natures&gt;\r\n    ","title":"This compilation unit is not on the build path of a Java project","body":"<p>Since you imported the project as a General Project, it does not have the java nature and that is the problem.</p>\n\n<p>Add the below lines in the .project file of your workspace and refresh.</p>\n\n<pre><code>&lt;natures&gt;\n      &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n&lt;/natures&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10926518,"reputation":91,"user_id":8031092,"display_name":"Shaleen Agarwal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495541096,"creation_date":1495541096,"answer_id":44134351,"question_id":25401124,"body_markdown":"Go to Project-&gt; right Click-&gt; Select Properties -&gt; project Facets -&gt; modify the java version for your JDK version you are using.","title":"This compilation unit is not on the build path of a Java project","body":"<p>Go to Project-> right Click-> Select Properties -> project Facets -> modify the java version for your JDK version you are using.</p>\n"},{"tags":[],"owner":{"account_id":9027805,"reputation":451,"user_id":6726558,"display_name":"kumar"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1536321660,"creation_date":1503563266,"answer_id":45856615,"question_id":25401124,"body_markdown":"If it is a Maven project then sometimes re-importing of it helps:\r\n\r\n 1. Right-click the project in the Project Explorer and choose Delete.\r\n 2. File &gt; Import... &gt; Maven &gt; Existing Maven Projects &gt; Next &gt; Root Directory &gt; Browse your project from Disk.\r\n\r\nHope it will resolve the issue.","title":"This compilation unit is not on the build path of a Java project","body":"<p>If it is a Maven project then sometimes re-importing of it helps:</p>\n\n<ol>\n<li>Right-click the project in the Project Explorer and choose Delete.</li>\n<li>File > Import... > Maven > Existing Maven Projects > Next > Root Directory > Browse your project from Disk.</li>\n</ol>\n\n<p>Hope it will resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":3159500,"reputation":1541,"user_id":8919607,"display_name":"Pradeep Anchan"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1533731085,"creation_date":1533731085,"answer_id":51746690,"question_id":25401124,"body_markdown":"Another alternative to Loganathan Mohanraj&#39;s solution (which effectively does the same, but from the GUI):\r\n\r\n 1. Right-Click on your project\r\n 2. Go to &quot;Properties&quot;\r\n 3. Choose &quot;Project Natures&quot;\r\n 4. Click on &quot;Add&quot;\r\n 5. Choose &quot;Java&quot;\r\n 6. Click &quot;Apply and Close&quot;\r\n","title":"This compilation unit is not on the build path of a Java project","body":"<p>Another alternative to Loganathan Mohanraj's solution (which effectively does the same, but from the GUI):</p>\n\n<ol>\n<li>Right-Click on your project</li>\n<li>Go to \"Properties\"</li>\n<li>Choose \"Project Natures\"</li>\n<li>Click on \"Add\"</li>\n<li>Choose \"Java\"</li>\n<li>Click \"Apply and Close\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15764434,"reputation":11,"user_id":11375264,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555524434,"creation_date":1555522674,"answer_id":55733198,"question_id":25401124,"body_markdown":"Add this to .project file\r\n    \r\n         \r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;projectDescription&gt;\r\n            \t&lt;name&gt;framework&lt;/name&gt;\r\n            \t&lt;comment&gt;&lt;/comment&gt;\r\n            \t&lt;projects&gt;\r\n            \t&lt;/projects&gt;\r\n            \t&lt;buildSpec&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t&lt;/buildSpec&gt;\r\n            \t&lt;natures&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.jem.workbench.JavaEMFNature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.wst.common.modulecore.ModuleCoreNature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.wst.common.project.facet.core.nature&lt;/nature&gt;\r\n            \t&lt;/natures&gt;\r\n            &lt;/projectDescription&gt;\r\n\r\n","title":"This compilation unit is not on the build path of a Java project","body":"<p>Add this to .project file</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;projectDescription&gt;\n            &lt;name&gt;framework&lt;/name&gt;\n            &lt;comment&gt;&lt;/comment&gt;\n            &lt;projects&gt;\n            &lt;/projects&gt;\n            &lt;buildSpec&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n            &lt;/buildSpec&gt;\n            &lt;natures&gt;\n                &lt;nature&gt;org.eclipse.jem.workbench.JavaEMFNature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.wst.common.modulecore.ModuleCoreNature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.wst.common.project.facet.core.nature&lt;/nature&gt;\n            &lt;/natures&gt;\n        &lt;/projectDescription&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967729,"reputation":379,"user_id":1767500,"display_name":"Jero Dungog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584577109,"creation_date":1584577109,"answer_id":60749249,"question_id":25401124,"body_markdown":"For those who still have problems after attempting the suggestions above:\r\nI solved the issue by updating the maven project.","title":"This compilation unit is not on the build path of a Java project","body":"<p>For those who still have problems after attempting the suggestions above:\nI solved the issue by updating the maven project.</p>\n"},{"tags":[],"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1584980452,"creation_date":1584980452,"answer_id":60817516,"question_id":25401124,"body_markdown":"In my case, I have Eclipse Maven project.  I had the same issue and I posted detailed explanation of the issue and answer here\r\n[https://stackoverflow.com/questions/60817455/eclipse-maven-code-completion-fails-this-compilation-unit-is-not-on-the-build/60817456#60817456][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60817455/eclipse-maven-code-completion-fails-this-compilation-unit-is-not-on-the-build/60817456#60817456","title":"This compilation unit is not on the build path of a Java project","body":"<p>In my case, I have Eclipse Maven project.  I had the same issue and I posted detailed explanation of the issue and answer here\n<a href=\"https://stackoverflow.com/questions/60817455/eclipse-maven-code-completion-fails-this-compilation-unit-is-not-on-the-build/60817456#60817456\">Eclipse Maven - Code Completion fails &quot;This compilation unit is not on the build path of a Java project&quot; and &quot;Failed to Download Index&quot; Error</a></p>\n"},{"tags":[],"owner":{"account_id":18059623,"reputation":51,"user_id":13127045,"display_name":"Chinmoy Kundu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602853738,"creation_date":1602853738,"answer_id":64389809,"question_id":25401124,"body_markdown":"If your project is imported as an existing maven project then --&gt; **Just right click on project and do maven update. It resolved my similar issue.**","title":"This compilation unit is not on the build path of a Java project","body":"<p>If your project is imported as an existing maven project then --&gt; <strong>Just right click on project and do maven update. It resolved my similar issue.</strong></p>\n"},{"tags":[],"owner":{"account_id":17579456,"reputation":1,"user_id":12753555,"display_name":"Uthanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629782939,"creation_date":1629782939,"answer_id":68902196,"question_id":25401124,"body_markdown":"Thought I&#39;d add this one as a potential cause.  In my case, I encountered this issue when performing a File search.  When I opened the found file(s), I encountered this issue.\r\n\r\nIn my case, I have a nested Maven module in a POM project and when I opened the file it opened not the file in the module, but the file from the parent POM project.  Simply reopening that file from the module project resolved the issue.","title":"This compilation unit is not on the build path of a Java project","body":"<p>Thought I'd add this one as a potential cause.  In my case, I encountered this issue when performing a File search.  When I opened the found file(s), I encountered this issue.</p>\n<p>In my case, I have a nested Maven module in a POM project and when I opened the file it opened not the file in the module, but the file from the parent POM project.  Simply reopening that file from the module project resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":25396338,"reputation":1,"user_id":19206538,"display_name":"Durga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653953527,"creation_date":1653568550,"answer_id":72391914,"question_id":25401124,"body_markdown":"If you open any existing java file in &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;R&lt;/kbd&gt; and try to write a code in that file, it will show that error message.\r\n\r\nPlease open the existing java file in &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; and write the code in that file, you will not get that error message.","title":"This compilation unit is not on the build path of a Java project","body":"<p>If you open any existing java file in <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd> and try to write a code in that file, it will show that error message.</p>\n<p>Please open the existing java file in <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> and write the code in that file, you will not get that error message.</p>\n"},{"tags":[],"owner":{"account_id":21385554,"reputation":21,"user_id":15750684,"display_name":"Rebecca Li"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687206757,"creation_date":1687206757,"answer_id":76509901,"question_id":25401124,"body_markdown":"Please remember only open 1 project in one eclipse window, otherwise eclipse gets confused. and this works for me.","title":"This compilation unit is not on the build path of a Java project","body":"<p>Please remember only open 1 project in one eclipse window, otherwise eclipse gets confused. and this works for me.</p>\n"}],"owner":{"account_id":4915484,"reputation":553,"user_id":3959526,"display_name":"Милош Керкез"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185349,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":25401489,"answer_count":11,"score":53,"last_activity_date":1687206757,"creation_date":1408526578,"question_id":25401124,"body_markdown":"When I try to use `ctrl+space` this error is shown: \r\n\r\n    This compilation unit is not on the build path of a Java project.\r\n\r\nI see that there are similar topics but my work environment is Eclipse and i pull my project from Git (I import project as general project) and i use Apache Ant. Can anyone help me?","title":"This compilation unit is not on the build path of a Java project","body":"<p>When I try to use <code>ctrl+space</code> this error is shown: </p>\n\n<pre><code>This compilation unit is not on the build path of a Java project.\n</code></pre>\n\n<p>I see that there are similar topics but my work environment is Eclipse and i pull my project from Git (I import project as general project) and i use Apache Ant. Can anyone help me?</p>\n"},{"tags":["java","spring","memory-leaks","jvm","spring-rabbit"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686916510,"post_id":76488166,"comment_id":134867779,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason. It is ok for the heap screen though you should have highlighted the actual line that you wanted us to see. Versions of packages are not visual information and should be provided textually.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason. It is ok for the heap screen though you should have highlighted the actual line that you wanted us to see. Versions of packages are not visual information and should be provided textually."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686916825,"post_id":76488166,"comment_id":134867853,"body_markdown":"How are you certain that that retained memory is the cause of the slowness? What is the used heap and max heap over time? What is the CPU use over time? Have you analyzed thread dumps? You haven&#39;t shown any relationship between that line in the heap dump and the slowness issue. Be sure that this is not an [XY Problem](https://xyproblem.info/). Have you look at the release notes of every Spring library and AMQP libraries to see if memory leaks are fixed? Are there other uses of AMQP in your application that you didn&#39;t share? Why you didn&#39;t share the full class?","body":"How are you certain that that retained memory is the cause of the slowness? What is the used heap and max heap over time? What is the CPU use over time? Have you analyzed thread dumps? You haven&#39;t shown any relationship between that line in the heap dump and the slowness issue. Be sure that this is not an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Have you look at the release notes of every Spring library and AMQP libraries to see if memory leaks are fixed? Are there other uses of AMQP in your application that you didn&#39;t share? Why you didn&#39;t share the full class?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686917159,"post_id":76488166,"comment_id":134867909,"body_markdown":"Does this answer your question? [Memory leak outgoing messages rabbitmq](https://stackoverflow.com/questions/71482356/memory-leak-outgoing-messages-rabbitmq)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71482356/memory-leak-outgoing-messages-rabbitmq\">Memory leak outgoing messages rabbitmq</a>"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686922749,"post_id":76488166,"comment_id":134869133,"body_markdown":"Why is your `RabbitTemplate` is a ` @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)`? Why default `singleton` is not enough for you?","body":"Why is your <code>RabbitTemplate</code> is a ` @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)<code>? Why default </code>singleton` is not enough for you?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686923279,"post_id":76488166,"comment_id":134869269,"body_markdown":"Would be great if you can share a minimal project with us to be able to reproduce the problem on our side.","body":"Would be great if you can share a minimal project with us to be able to reproduce the problem on our side."},{"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"score":0,"creation_date":1686968171,"post_id":76488166,"comment_id":134875591,"body_markdown":"thank you very much,i will add more information @aled","body":"thank you very much,i will add more information @aled"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687009183,"post_id":76488166,"comment_id":134878796,"body_markdown":"Edit the question to add additional information. Answers should be posted as answers not comments.","body":"Edit the question to add additional information. Answers should be posted as answers not comments."},{"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"score":0,"creation_date":1687146681,"post_id":76488166,"comment_id":134890871,"body_markdown":"thank you very much @aled, I had post the answer and changed problem.","body":"thank you very much @aled, I had post the answer and changed problem."},{"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"score":0,"creation_date":1687146794,"post_id":76488166,"comment_id":134890881,"body_markdown":"thank you very much @ArtemBilan ,you are right, that is the reason","body":"thank you very much @ArtemBilan ,you are right, that is the reason"}],"answers":[{"tags":[],"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687206462,"creation_date":1687146547,"answer_id":76503508,"question_id":76488166,"body_markdown":"the reason of leak is here, SCOPE_PROTOTYPE and RabbitTemplate template = rabbitConfig.firstRabbitTemplate(); too many rabbitTemplate objects, and these rabbit template is in the map, and not gc by jvm, because the channel is not close, the map is related to the channel. so the map not gc by jvm. i think the designer of spring-rabbit not consider too many values in that map. the designer might think only one or serval rabbitTemplate objects, so the map will not too big. but when rabbitTemplate use SCOPE_PROTOTYPE or new every time, that will generate too many rabbitTemplate in the map, that cause the memory leak. \r\nI had changed to the below code.\r\n\r\n```\r\n//remove the @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n//default singleton\r\n@Primary\r\n@Bean(name = &quot;firstRabbitTemplate&quot;)\r\npublic RabbitTemplate firstRabbitTemplate() {\r\n    return new RabbitTemplate(firstConnectionFactory());\r\n}\r\n\r\n//I use spring autowired to import RabbitTemplate Object \r\n@Autowired\r\nRabbitTemplate firstRabbitTemplate;\r\n\r\n/**\r\n * send message;\r\n */\r\nprivate void prepareForString(String exchange, String queueName, JSONObject message) {\r\n    try {\r\n       //use just one firstRabbitTemplate obejct\r\n       firstRabbitTemplate.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,\r\n                    DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\r\n    } catch (Exception ex) {\r\n        log.error(ex.getMessage());\r\n    }\r\n\r\n}\r\n```\r\n","title":"spring-rabbitmq find a memory leak, but i don&#39;t know the reason, can someone help me","body":"<p>the reason of leak is here, SCOPE_PROTOTYPE and RabbitTemplate template = rabbitConfig.firstRabbitTemplate(); too many rabbitTemplate objects, and these rabbit template is in the map, and not gc by jvm, because the channel is not close, the map is related to the channel. so the map not gc by jvm. i think the designer of spring-rabbit not consider too many values in that map. the designer might think only one or serval rabbitTemplate objects, so the map will not too big. but when rabbitTemplate use SCOPE_PROTOTYPE or new every time, that will generate too many rabbitTemplate in the map, that cause the memory leak.\nI had changed to the below code.</p>\n<pre><code>//remove the @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n//default singleton\n@Primary\n@Bean(name = &quot;firstRabbitTemplate&quot;)\npublic RabbitTemplate firstRabbitTemplate() {\n    return new RabbitTemplate(firstConnectionFactory());\n}\n\n//I use spring autowired to import RabbitTemplate Object \n@Autowired\nRabbitTemplate firstRabbitTemplate;\n\n/**\n * send message;\n */\nprivate void prepareForString(String exchange, String queueName, JSONObject message) {\n    try {\n       //use just one firstRabbitTemplate obejct\n       firstRabbitTemplate.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,\n                    DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\n    } catch (Exception ex) {\n        log.error(ex.getMessage());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503508,"answer_count":1,"score":0,"last_activity_date":1687206462,"creation_date":1686902762,"question_id":76488166,"body_markdown":"my application use rabbit mq, the versions are below\r\n\r\n&gt; spring-amqp : 2.2.17.RELEASE&lt;br/&gt;\r\n&gt; spring-rabbit : 2.2.17.RELEASE&lt;br/&gt;\r\n&gt; spring-boot: 2.3.11.RELEASE&lt;br/&gt;\r\n\r\n\r\n````\r\n    @Primary\r\n    @Bean(name = &quot;firstConnectionFactory&quot;)\r\n    public ConnectionFactory firstConnectionFactory() {\r\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n        connectionFactory.setHost(host);\r\n        connectionFactory.setPort(port);\r\n        connectionFactory.setUsername(username);\r\n        connectionFactory.setPassword(password);\r\n        connectionFactory.setPublisherConfirms(true); \r\n        return connectionFactory;\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;firstRabbitTemplate&quot;)\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public RabbitTemplate firstRabbitTemplate() {\r\n        return new RabbitTemplate(firstConnectionFactory());\r\n    }\r\n\r\n    //send a message\r\n    private void prepareForString(String exchange, String queueName, JSONObject message) {\r\n        try {\r\n            RabbitTemplate template = rabbitConfig.firstRabbitTemplate();\r\n            template.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,   DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\r\n        } catch (Exception ex) {\r\n            log.error(ex.getMessage());\r\n        }\r\n    }\r\n````\r\n\r\nafter the application run about 1 year, i find the application run very slow, dump the heap, then i see\r\n\r\n[heap show][2]\r\n&gt; One instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot; occupies 405.62 MB (12.57%) bytes. The memory is accumulated in one instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot;.\r\nKeywords\r\norg.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl\r\norg.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0\r\n\r\n\r\n\r\nit looks like the PublisherCallbackChannelImpl.java has a listeners, and the listeners is very huge. the listeners is defined below\r\n\r\n````\r\n//PublisherCallbackChannelImpl.java line 59\r\nprivate final ConcurrentMap&lt;String, PublisherCallbackChannel.Listener&gt; listeners = new ConcurrentHashMap(); \r\n````\r\n\r\nthe below is the code of put elements in map\r\n````\r\n    //PublisherCallbackChannelImpl.java line 549\r\n    public void addListener(PublisherCallbackChannel.Listener listener) {\r\n        Assert.notNull(listener, &quot;Listener cannot be null&quot;);\r\n        if (this.listeners.size() == 0) {\r\n            this.delegate.addConfirmListener(this);\r\n            this.delegate.addReturnListener(this);\r\n        }\r\n        //the key code, below &#39;listener&#39; is RabbitTemplate object\r\n        if (this.listeners.putIfAbsent(listener.getUUID(), listener) == null) {\r\n            this.pendingConfirms.put(listener, new ConcurrentSkipListMap());\r\n            if (this.logger.isDebugEnabled()) {\r\n                this.logger.debug(&quot;Added listener &quot; + listener);\r\n            }\r\n        }\r\n\r\n    }\r\n````\r\n\r\ni want know why this happens, and where is the listeners.remove(XXX), or it has no listeners.remove()?\r\n\r\ni try look for the PublisherCallbackChannelImpl.java , but there is no listeners.remove() anywhere\r\n\r\nso i what know, is this the reason of memory leak?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RSoyK.png\r\n  [2]: https://i.stack.imgur.com/9prVl.png","title":"spring-rabbitmq find a memory leak, but i don&#39;t know the reason, can someone help me","body":"<p>my application use rabbit mq, the versions are below</p>\n<blockquote>\n<p>spring-amqp : 2.2.17.RELEASE<br/>\nspring-rabbit : 2.2.17.RELEASE<br/>\nspring-boot: 2.3.11.RELEASE<br/></p>\n</blockquote>\n<pre><code>    @Primary\n    @Bean(name = &quot;firstConnectionFactory&quot;)\n    public ConnectionFactory firstConnectionFactory() {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n        connectionFactory.setHost(host);\n        connectionFactory.setPort(port);\n        connectionFactory.setUsername(username);\n        connectionFactory.setPassword(password);\n        connectionFactory.setPublisherConfirms(true); \n        return connectionFactory;\n    }\n\n    @Primary\n    @Bean(name = &quot;firstRabbitTemplate&quot;)\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public RabbitTemplate firstRabbitTemplate() {\n        return new RabbitTemplate(firstConnectionFactory());\n    }\n\n    //send a message\n    private void prepareForString(String exchange, String queueName, JSONObject message) {\n        try {\n            RabbitTemplate template = rabbitConfig.firstRabbitTemplate();\n            template.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,   DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\n        } catch (Exception ex) {\n            log.error(ex.getMessage());\n        }\n    }\n</code></pre>\n<p>after the application run about 1 year, i find the application run very slow, dump the heap, then i see</p>\n<p><a href=\"https://i.stack.imgur.com/9prVl.png\" rel=\"nofollow noreferrer\">heap show</a></p>\n<blockquote>\n<p>One instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot; occupies 405.62 MB (12.57%) bytes. The memory is accumulated in one instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot;.\nKeywords\norg.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl\norg.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0</p>\n</blockquote>\n<p>it looks like the PublisherCallbackChannelImpl.java has a listeners, and the listeners is very huge. the listeners is defined below</p>\n<pre><code>//PublisherCallbackChannelImpl.java line 59\nprivate final ConcurrentMap&lt;String, PublisherCallbackChannel.Listener&gt; listeners = new ConcurrentHashMap(); \n</code></pre>\n<p>the below is the code of put elements in map</p>\n<pre><code>    //PublisherCallbackChannelImpl.java line 549\n    public void addListener(PublisherCallbackChannel.Listener listener) {\n        Assert.notNull(listener, &quot;Listener cannot be null&quot;);\n        if (this.listeners.size() == 0) {\n            this.delegate.addConfirmListener(this);\n            this.delegate.addReturnListener(this);\n        }\n        //the key code, below 'listener' is RabbitTemplate object\n        if (this.listeners.putIfAbsent(listener.getUUID(), listener) == null) {\n            this.pendingConfirms.put(listener, new ConcurrentSkipListMap());\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(&quot;Added listener &quot; + listener);\n            }\n        }\n\n    }\n</code></pre>\n<p>i want know why this happens, and where is the listeners.remove(XXX), or it has no listeners.remove()?</p>\n<p>i try look for the PublisherCallbackChannelImpl.java , but there is no listeners.remove() anywhere</p>\n<p>so i what know, is this the reason of memory leak?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1377750427,"creation_date":1377750427,"answer_id":18502273,"question_id":18502204,"body_markdown":"You&#39;re passing the `Cursor` by reference, so there&#39;s a single instance of `Cursor` both in `Adapter` and in `Activity`. So once you closed the `Cursor` in `Activity`, you can&#39;t continue using it in the `Adapter`. So close it only when you&#39;re sure you don&#39;t need it again. Another problem with your code is that making database calls on the main thread is prohibited, try to rewrite your code using `AsyncTask` or `Loader`.","title":"Android (Java), variable default reference type?","body":"<p>You're passing the <code>Cursor</code> by reference, so there's a single instance of <code>Cursor</code> both in <code>Adapter</code> and in <code>Activity</code>. So once you closed the <code>Cursor</code> in <code>Activity</code>, you can't continue using it in the <code>Adapter</code>. So close it only when you're sure you don't need it again. Another problem with your code is that making database calls on the main thread is prohibited, try to rewrite your code using <code>AsyncTask</code> or <code>Loader</code>.</p>\n"},{"tags":[],"owner":{"account_id":2200360,"reputation":8355,"user_id":1944896,"accept_rate":80,"display_name":"TheLittleNaruto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687206094,"creation_date":1377750701,"answer_id":18502324,"question_id":18502204,"body_markdown":"What Egor says is absolutely right. Also you  need to optimize your code little more like below:\r\n   \r\n\r\n    try {\r\n            Cursor cur = getBrowserData(); //Return an amount of data in cursor type.\r\n            UrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\r\n            \r\n        \r\n            AutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\r\n            txtUrl.setAdapter(adapter);\r\n        } catch(Exception ex) { \r\n            // Log the exception&#39;s message or whatever you like\r\n    Log.e(&quot;Exception&quot;, ex.getMessage());\r\n        } finally {\r\n            try {\r\n              if( cur != null &amp;&amp; !cursor.isClosed )\r\n                cur .close();\r\n               \r\n            } catch(Exception ex) {Log.e(&quot;Exception&quot;, ex.getMessage());}\r\n        }","title":"Android (Java), variable default reference type?","body":"<p>What Egor says is absolutely right. Also you  need to optimize your code little more like below:</p>\n<pre><code>try {\n        Cursor cur = getBrowserData(); //Return an amount of data in cursor type.\n        UrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\n        \n    \n        AutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\n        txtUrl.setAdapter(adapter);\n    } catch(Exception ex) { \n        // Log the exception's message or whatever you like\nLog.e(&quot;Exception&quot;, ex.getMessage());\n    } finally {\n        try {\n          if( cur != null &amp;&amp; !cursor.isClosed )\n            cur .close();\n           \n        } catch(Exception ex) {Log.e(&quot;Exception&quot;, ex.getMessage());}\n    }\n</code></pre>\n"}],"owner":{"account_id":30741,"reputation":15343,"user_id":83952,"accept_rate":87,"display_name":"Cheung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18502273,"answer_count":2,"score":0,"last_activity_date":1687206094,"creation_date":1377749990,"question_id":18502204,"body_markdown":"Today i try to learn android sdk, but experience a very strange problem.\r\n\r\nBelow is the code of :\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.activity_auto_complete_test);\r\n    \r\n    \tCursor cur = getBrowserData(); //Return an amount of data in cursor type.\r\n    \tUrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\r\n    \t//cur.close(); uncomment this, data will gone.\r\n    \t\r\n    \tAutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\r\n    \ttxtUrl.setAdapter(adapter);\r\n    }\r\n\r\n\r\nThe problem is on the line : **cur.close();**\r\nUrlAdapter is custom class to fill the **Cursor** to **adapter**, and bind to AutoCompleteTextView.\r\n\r\nOn above, after i fill the cur (Cursor) to adapter, i close the cur for resource saving.\r\nHowever, after i close the cur, it affect the adapter.\r\n\r\nThe `AutoComplete` list will be nothing.\r\n\r\nBut it don&#39;t happen on `C#`,\r\nJust like i fill `DataTable` to `DataAdaptor`, and `Dispose()` the `DataTable`, the dataon DataAdaptor will be preserve.","title":"Android (Java), variable default reference type?","body":"<p>Today i try to learn android sdk, but experience a very strange problem.</p>\n\n<p>Below is the code of :</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_auto_complete_test);\n\n    Cursor cur = getBrowserData(); //Return an amount of data in cursor type.\n    UrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\n    //cur.close(); uncomment this, data will gone.\n\n    AutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\n    txtUrl.setAdapter(adapter);\n}\n</code></pre>\n\n<p>The problem is on the line : <strong>cur.close();</strong>\nUrlAdapter is custom class to fill the <strong>Cursor</strong> to <strong>adapter</strong>, and bind to AutoCompleteTextView.</p>\n\n<p>On above, after i fill the cur (Cursor) to adapter, i close the cur for resource saving.\nHowever, after i close the cur, it affect the adapter.</p>\n\n<p>The <code>AutoComplete</code> list will be nothing.</p>\n\n<p>But it don't happen on <code>C#</code>,\nJust like i fill <code>DataTable</code> to <code>DataAdaptor</code>, and <code>Dispose()</code> the <code>DataTable</code>, the dataon DataAdaptor will be preserve.</p>\n"},{"tags":["java","spring-boot","maven","smtp","timeout"],"owner":{"account_id":28783449,"reputation":9,"user_id":22044527,"display_name":"Anonymous_Footballer_11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687205649,"creation_date":1686940443,"question_id":76492806,"body_markdown":"I am trying to create a &#39;helloworld&#39; application with Java 17, Spring Boot 3.1 and Maven 4.0 that can send emails with a simple text file attachment. I am using the `JavaMailSender` class provided by Jakarta Mail (2.1.1) from the `spring-boot-starter-mail` artifact. I have successfully managed to create the `EmailSender` class, shown below: \r\n\r\n```java\r\n@Component\r\npublic class EmailSender {\r\n\r\n\tprivate String emailFrom = &quot;Email 1&quot;;\r\n\tprivate String emailTo = &quot;Email 2&quot;;\r\n\tprivate String emailCc = &quot;Email 2&quot;;\r\n\r\n\t@Autowired\r\n\tprivate JavaMailSender javaMailSender;\r\n\r\n\tpublic int send(String message, String title, File file) throws MessagingException {\r\n\r\n\t\tMimeMessage msg = javaMailSender.createMimeMessage();\r\n\t\tMimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n\r\n\t\thelper.setFrom(emailFrom);\r\n\t\thelper.setCc(emailCc);\r\n\t\thelper.setSubject(title);\r\n\t\thelper.setTo(emailTo);\r\n\t\tif (file != null) {\r\n\t\t\thelper.addAttachment(&quot;Test&quot;, file);\r\n\t\t}\r\n\t\thelper.setText(message, false);\r\n\t\ttry {\r\n\t\t\tjavaMailSender.send(msg);\r\n\t\t} catch (Throwable t) {\r\n\t\t\tSystem.out.println(t.toString());\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n}\r\n```\r\n\r\nUsing the following properties in application.properties, this method works, and sends emails using Gmails SMTP server: \r\n\r\n\r\n```properties\r\nspring.mail.host=smtp.gmail.com\r\nspring.mail.properties.mail.debug=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.transport.protocol=smtp\r\nspring.mail.port=587\r\nspring.mail.username=somone@gmail.com\r\nspring.mail.password=an app password\r\n```\r\n\r\nHowever, when I change `spring.mail.host=smtp.internal-organization-server`, my problem arises. The  `send` method in the `EmailSender` class hangs on the `javaMailSender.send(msg)` line for about 2 minutes. This is the debugging output when I run my `testSendEmail()` method: \r\n\r\n```text\r\nDEBUG SMTP: connected to host &quot;smtp-internal-organization-server&quot;, port: 25\r\n\r\n... Everything that is expected ...\r\n\r\nContent-Disposition: attachment; filename=Test\r\n\r\nThis is the first line of the file\r\nThis is the second and last line in file\r\n------=_Part_0_number.number--\r\n.\r\n\r\n```\r\n\r\nDespite the debugging input raising no errors and ending with the `.\\n` characters as expected, the connection with the SMTP server does not terminate for around 2 minutes, and then this error is thrown:\r\n\r\n```text\r\nRSET\r\nDEBUG SMTP: EOF: [EOF]\r\nDEBUG SMTP: MessagingException while sending, THROW: \r\norg.eclipse.angus.mail.smtp.SMTPSendFailedException: 421 4.4.2 internal-server-name Error: timeout exceeded\r\n```\r\n\r\nI tried every combination of properties in the application properties file to get it to work, including changing the port number, connection type, and the authentication and tls protocols, but still had the same issue. Finally, while developing a different feature, I found that the `javaMailSender.send(msg)` method works **if and only if** I add **all** of the following dependencies the to my pom.xml file: \r\n\r\n```xml\r\n\t\t&lt;!-- Oauth 2 --&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Webflux--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--Spring Doc--&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Actuator--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nRemoving any one of them causes the `send` method to start hanging again. UPDATE: In addition, this only allows methods called by J-Unit tests to send emails correctly. When the main method of a different application calls the same `send` method in the `EmailNotifier` class, it hangs and fails to terminate once again. I have not found dependencies that cause the connection to successfully terminate in this case. \r\n\r\nHere is my full pom.xml file for reference: \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.setup&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;helloworld&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot 3.1&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Other dependencies required to make Email Service work with Internal SMTP Server. Project compiles without them--&gt;\r\n\r\n\t\t&lt;!-- Oauth 2 --&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Webflux--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--Spring Doc--&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Actuator--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- End of email dependencies --&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nMy two questions can be summarized as thus: \r\n\r\n1. What in these seemingly unrelated dependencies might cause the connection to an internal SMTP server to successfully terminate, when without them it does not? UPDATE: Why would these dependencies only affect methods ran as J-Unit tests? \r\n\r\n2. What might be causing this issue, given that it does not arise with Gmail&#39;s SMTP server? I suspect it is something to do with the local SMTP server, but have had no experience configuring one. \r\n\r\nThank you!","title":"JavaMailSender.send(msg) Method Fails to Successfully Terminate Connection With Internal SMTP Server in Java 17 and Spring Boot 3.1","body":"<p>I am trying to create a 'helloworld' application with Java 17, Spring Boot 3.1 and Maven 4.0 that can send emails with a simple text file attachment. I am using the <code>JavaMailSender</code> class provided by Jakarta Mail (2.1.1) from the <code>spring-boot-starter-mail</code> artifact. I have successfully managed to create the <code>EmailSender</code> class, shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class EmailSender {\n\n    private String emailFrom = &quot;Email 1&quot;;\n    private String emailTo = &quot;Email 2&quot;;\n    private String emailCc = &quot;Email 2&quot;;\n\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    public int send(String message, String title, File file) throws MessagingException {\n\n        MimeMessage msg = javaMailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n\n        helper.setFrom(emailFrom);\n        helper.setCc(emailCc);\n        helper.setSubject(title);\n        helper.setTo(emailTo);\n        if (file != null) {\n            helper.addAttachment(&quot;Test&quot;, file);\n        }\n        helper.setText(message, false);\n        try {\n            javaMailSender.send(msg);\n        } catch (Throwable t) {\n            System.out.println(t.toString());\n            return -1;\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>Using the following properties in application.properties, this method works, and sends emails using Gmails SMTP server:</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.properties.mail.debug=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.port=587\nspring.mail.username=somone@gmail.com\nspring.mail.password=an app password\n</code></pre>\n<p>However, when I change <code>spring.mail.host=smtp.internal-organization-server</code>, my problem arises. The  <code>send</code> method in the <code>EmailSender</code> class hangs on the <code>javaMailSender.send(msg)</code> line for about 2 minutes. This is the debugging output when I run my <code>testSendEmail()</code> method:</p>\n<pre><code>DEBUG SMTP: connected to host &quot;smtp-internal-organization-server&quot;, port: 25\n\n... Everything that is expected ...\n\nContent-Disposition: attachment; filename=Test\n\nThis is the first line of the file\nThis is the second and last line in file\n------=_Part_0_number.number--\n.\n\n</code></pre>\n<p>Despite the debugging input raising no errors and ending with the <code>.\\n</code> characters as expected, the connection with the SMTP server does not terminate for around 2 minutes, and then this error is thrown:</p>\n<pre><code>RSET\nDEBUG SMTP: EOF: [EOF]\nDEBUG SMTP: MessagingException while sending, THROW: \norg.eclipse.angus.mail.smtp.SMTPSendFailedException: 421 4.4.2 internal-server-name Error: timeout exceeded\n</code></pre>\n<p>I tried every combination of properties in the application properties file to get it to work, including changing the port number, connection type, and the authentication and tls protocols, but still had the same issue. Finally, while developing a different feature, I found that the <code>javaMailSender.send(msg)</code> method works <strong>if and only if</strong> I add <strong>all</strong> of the following dependencies the to my pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- Oauth 2 --&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Webflux--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Spring Doc--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Actuator--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Removing any one of them causes the <code>send</code> method to start hanging again. UPDATE: In addition, this only allows methods called by J-Unit tests to send emails correctly. When the main method of a different application calls the same <code>send</code> method in the <code>EmailNotifier</code> class, it hangs and fails to terminate once again. I have not found dependencies that cause the connection to successfully terminate in this case.</p>\n<p>Here is my full pom.xml file for reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.setup&lt;/groupId&gt;\n    &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;helloworld&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot 3.1&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Other dependencies required to make Email Service work with Internal SMTP Server. Project compiles without them--&gt;\n\n        &lt;!-- Oauth 2 --&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Webflux--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Spring Doc--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Actuator--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- End of email dependencies --&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My two questions can be summarized as thus:</p>\n<ol>\n<li><p>What in these seemingly unrelated dependencies might cause the connection to an internal SMTP server to successfully terminate, when without them it does not? UPDATE: Why would these dependencies only affect methods ran as J-Unit tests?</p>\n</li>\n<li><p>What might be causing this issue, given that it does not arise with Gmail's SMTP server? I suspect it is something to do with the local SMTP server, but have had no experience configuring one.</p>\n</li>\n</ol>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672839044,"post_id":75006074,"comment_id":132362674,"body_markdown":"Please add your full list of dependencies. Generally this error comes from combining incompatible versions.","body":"Please add your full list of dependencies. Generally this error comes from combining incompatible versions."},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672839080,"post_id":75006074,"comment_id":132362694,"body_markdown":"You can also check https://stackoverflow.com/questions/33865724/spring-boot-exception-in-thread-main-java-lang-noclassdeffounderror-org-sp","body":"You can also check <a href=\"https://stackoverflow.com/questions/33865724/spring-boot-exception-in-thread-main-java-lang-noclassdeffounderror-org-sp\" title=\"spring boot exception in thread main java lang noclassdeffounderror org sp\">stackoverflow.com/questions/33865724/&hellip;</a>"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672839118,"post_id":75006074,"comment_id":132362710,"body_markdown":"Does this answer your question? [Spring Boot ClassNotFoundException org.springframework.core.metrics.ApplicationStartup](https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications\">Spring Boot ClassNotFoundException org.springframework.core.metrics.ApplicationStartup</a>"},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1672839231,"post_id":75006074,"comment_id":132362745,"body_markdown":"I checked this answer, but This problem wasnt fix @skidwiz","body":"I checked this answer, but This problem wasnt fix @skidwiz"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1788,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1687205418,"creation_date":1672838383,"question_id":75006074,"body_markdown":"When I add Swagger to Spring Boot project, I get error I mentioned.\r\n\r\nI tried a lot but couldn&#39;t find the problem.\r\n\r\n**Error**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n\r\n**Main class**\r\n\r\n    @SpringBootApplication\r\n    @Import({SwaggerConfiguration.class})\r\n    public class ExampleMain {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ExampleMain.class, args);\r\n        }\r\n    }\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**SwaggerConfiguration class**\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfiguration {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2).select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.example.rest&quot;)).paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\nWhy does this problem occur, How can I fix?\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup - Spring Boot and Swagger Integration","body":"<p>When I add Swagger to Spring Boot project, I get error I mentioned.</p>\n<p>I tried a lot but couldn't find the problem.</p>\n<p><strong>Error</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>@SpringBootApplication\n@Import({SwaggerConfiguration.class})\npublic class ExampleMain {\n    public static void main(String[] args) {\n        SpringApplication.run(ExampleMain.class, args);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>SwaggerConfiguration class</strong></p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfiguration {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.rest&quot;)).paths(PathSelectors.any())\n                .build();\n    }\n\n}\n</code></pre>\n<p>Why does this problem occur, How can I fix?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":11152247,"reputation":802,"user_id":8206980,"accept_rate":0,"display_name":"Kamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687202381,"creation_date":1687202381,"answer_id":76509527,"question_id":76509479,"body_markdown":"Simple if can work:\r\n```\r\nif(variable instanceof Integer){}\r\nelse if(variable instanceof String){}\r\n(...)\r\n\r\n```","title":"Java - Convert JSON data to java objects without knowing explicitly the type","body":"<p>Simple if can work:</p>\n<pre><code>if(variable instanceof Integer){}\nelse if(variable instanceof String){}\n(...)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687204112,"creation_date":1687202642,"answer_id":76509547,"question_id":76509479,"body_markdown":"If you use Jackson&#39;s `ObjectMapper`, you can parse the JSON data as a `JsonNode`. After your access the values, you can inspect the class name of each `ValueNode`.\r\n\r\n**Note:** The values `True` and `False` are not valid in JSON. They must be lowercase variants `true` and `false` respectively. I called `toLowerCase()` on the JSON string as a lazy way to make it parseable.\r\n\r\n```java\r\nimport java.util.Locale;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.node.ValueNode;\r\n\r\npublic class JsonParser {\r\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\r\n\r\n    private static ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    public static String getTypeOfNode(ValueNode node) {\r\n        if (node != null) {\r\n            switch (node.getClass().getSimpleName()) {\r\n                case &quot;IntNode&quot;:\r\n                    return &quot;int&quot;;\r\n                case &quot;BooleanNode&quot;:\r\n                    return &quot;boolean&quot;;\r\n                case &quot;DoubleNode&quot;:\r\n                    return &quot;double&quot;;\r\n                case &quot;TextNode&quot;:\r\n                    return &quot;String&quot;; // timestamp\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n        JsonNode root = objectMapper.readTree(JSON_DATA.toLowerCase(Locale.US));\r\n        JsonNode variables = root.get(&quot;variables&quot;); // variables.isArray() == true\r\n\r\n        for (JsonNode variable : variables) {\r\n            System.out.printf(&quot;Type of a: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;a&quot;)));\r\n            System.out.printf(&quot;Type of b: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;b&quot;)));\r\n            System.out.printf(&quot;Type of c: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;c&quot;)));\r\n            System.out.printf(&quot;Type of d: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;d&quot;)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can use this information to unwrap the underlying value from the `ValueNode` and set it on your own model data object.\r\n\r\nOutput:\r\n\r\n```\r\nType of a: int\r\nType of b: boolean\r\nType of c: double\r\nType of d: String\r\nType of a: int\r\nType of b: boolean\r\nType of c: double\r\nType of d: String\r\n```\r\n\r\n---\r\n\r\n## A better way\r\n\r\nUsing a custom Jackson deserializer module and Lombok, we can shorten this code and get true type inference during deserialization.\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\nimport lombok.Data;\r\n\r\npublic class JsonParserAdvanced {\r\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\r\n\r\n    private static ObjectMapper objectMapper;\r\n\r\n    static {\r\n        objectMapper = new ObjectMapper();\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(LocalDate.class, new CustomLocalDateDeserializer());\r\n        objectMapper.registerModule(module);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n        Payload payload = objectMapper.readValue(JSON_DATA.toLowerCase(Locale.US), Payload.class);\r\n        for (Variable variable : payload.getVariables()) {\r\n            System.out.println(variable);\r\n        }\r\n    }\r\n\r\n    private static class CustomLocalDateDeserializer extends StdDeserializer&lt;LocalDate&gt; {\r\n        private DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\r\n\r\n        public CustomLocalDateDeserializer() {\r\n            this(null);\r\n        }\r\n\r\n        public CustomLocalDateDeserializer(Class&lt;?&gt; valueClass) {\r\n            super(valueClass);\r\n        }\r\n\r\n        @Override\r\n        public LocalDate deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException {\r\n            return LocalDate.parse(jsonParser.getText(), formatter);\r\n        }\r\n    }\r\n\r\n    @Data\r\n    private static class Variable {\r\n        private int a;\r\n        private boolean b;\r\n        private double c;\r\n        private LocalDate d;\r\n    }\r\n\r\n    @Data\r\n    private static class Payload {\r\n        private Variable[] variables;\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nJsonParserAdvanced.Variable(a=15, b=true, c=10.05, d=2022-10-15)\r\nJsonParserAdvanced.Variable(a=16, b=false, c=11.25, d=2022-01-01)\r\n```","title":"Java - Convert JSON data to java objects without knowing explicitly the type","body":"<p>If you use Jackson's <code>ObjectMapper</code>, you can parse the JSON data as a <code>JsonNode</code>. After your access the values, you can inspect the class name of each <code>ValueNode</code>.</p>\n<p><strong>Note:</strong> The values <code>True</code> and <code>False</code> are not valid in JSON. They must be lowercase variants <code>true</code> and <code>false</code> respectively. I called <code>toLowerCase()</code> on the JSON string as a lazy way to make it parseable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Locale;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.node.ValueNode;\n\npublic class JsonParser {\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\n\n    private static ObjectMapper objectMapper = new ObjectMapper();\n\n    public static String getTypeOfNode(ValueNode node) {\n        if (node != null) {\n            switch (node.getClass().getSimpleName()) {\n                case &quot;IntNode&quot;:\n                    return &quot;int&quot;;\n                case &quot;BooleanNode&quot;:\n                    return &quot;boolean&quot;;\n                case &quot;DoubleNode&quot;:\n                    return &quot;double&quot;;\n                case &quot;TextNode&quot;:\n                    return &quot;String&quot;; // timestamp\n            }\n        }\n\n        return null;\n    }\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        JsonNode root = objectMapper.readTree(JSON_DATA.toLowerCase(Locale.US));\n        JsonNode variables = root.get(&quot;variables&quot;); // variables.isArray() == true\n\n        for (JsonNode variable : variables) {\n            System.out.printf(&quot;Type of a: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;a&quot;)));\n            System.out.printf(&quot;Type of b: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;b&quot;)));\n            System.out.printf(&quot;Type of c: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;c&quot;)));\n            System.out.printf(&quot;Type of d: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;d&quot;)));\n        }\n    }\n}\n</code></pre>\n<p>You can use this information to unwrap the underlying value from the <code>ValueNode</code> and set it on your own model data object.</p>\n<p>Output:</p>\n<pre><code>Type of a: int\nType of b: boolean\nType of c: double\nType of d: String\nType of a: int\nType of b: boolean\nType of c: double\nType of d: String\n</code></pre>\n<hr />\n<h2>A better way</h2>\n<p>Using a custom Jackson deserializer module and Lombok, we can shorten this code and get true type inference during deserialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\nimport lombok.Data;\n\npublic class JsonParserAdvanced {\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\n\n    private static ObjectMapper objectMapper;\n\n    static {\n        objectMapper = new ObjectMapper();\n\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(LocalDate.class, new CustomLocalDateDeserializer());\n        objectMapper.registerModule(module);\n    }\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        Payload payload = objectMapper.readValue(JSON_DATA.toLowerCase(Locale.US), Payload.class);\n        for (Variable variable : payload.getVariables()) {\n            System.out.println(variable);\n        }\n    }\n\n    private static class CustomLocalDateDeserializer extends StdDeserializer&lt;LocalDate&gt; {\n        private DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\n\n        public CustomLocalDateDeserializer() {\n            this(null);\n        }\n\n        public CustomLocalDateDeserializer(Class&lt;?&gt; valueClass) {\n            super(valueClass);\n        }\n\n        @Override\n        public LocalDate deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException {\n            return LocalDate.parse(jsonParser.getText(), formatter);\n        }\n    }\n\n    @Data\n    private static class Variable {\n        private int a;\n        private boolean b;\n        private double c;\n        private LocalDate d;\n    }\n\n    @Data\n    private static class Payload {\n        private Variable[] variables;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>JsonParserAdvanced.Variable(a=15, b=true, c=10.05, d=2022-10-15)\nJsonParserAdvanced.Variable(a=16, b=false, c=11.25, d=2022-01-01)\n</code></pre>\n"}],"owner":{"account_id":9462961,"reputation":456,"user_id":7036218,"display_name":"Yan Zhuang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687202518,"accepted_answer_id":76509547,"answer_count":2,"score":0,"last_activity_date":1687204112,"creation_date":1687201832,"question_id":76509479,"body_markdown":"Supposedly that I need to retrieve data from an external API (Not designed by me) that returns data in JSON format, as following (Only for illustrating my question, not the actual output format/info)\r\n\r\n```\r\n{\r\n  &quot;variables&quot;:[{&quot;a&quot;:15, &quot;b&quot;:true, &quot;c&quot;:10.05, &quot;d&quot;:&quot;2022-10-15&quot;},\r\n               {&quot;a&quot;:16, &quot;b&quot;:false, &quot;c&quot;:11.25, &quot;d&quot;:&quot;2022-01-01&quot;}]\r\n}\r\n```\r\n\r\nFor the result returned by this API, it is known that the data type can only be `String`,`Boolean`,`Date` or `Double`. However, the type is not explicitly given in the JSON. As far as converting JSON to Java objects, I can convert them all to `Object`.\r\n\r\nHowever, to allow further manipulation under the appropriate class, is there a better way to convert those objects to the appropriate types? \r\n\r\nI have thought about using `try/catch` to try to convert the `Object` to these 4 types. However, I imagine this won&#39;t be the ideal way. So I am wondering what other ways can be better for this situation.\r\n\r\nPS: I understand that the best solution would to ask whoever designed the API to include the data type. But I would like to see if it can work without having explicit information on the data type of each variable.\r\n\r\n\r\n","title":"Java - Convert JSON data to java objects without knowing explicitly the type","body":"<p>Supposedly that I need to retrieve data from an external API (Not designed by me) that returns data in JSON format, as following (Only for illustrating my question, not the actual output format/info)</p>\n<pre><code>{\n  &quot;variables&quot;:[{&quot;a&quot;:15, &quot;b&quot;:true, &quot;c&quot;:10.05, &quot;d&quot;:&quot;2022-10-15&quot;},\n               {&quot;a&quot;:16, &quot;b&quot;:false, &quot;c&quot;:11.25, &quot;d&quot;:&quot;2022-01-01&quot;}]\n}\n</code></pre>\n<p>For the result returned by this API, it is known that the data type can only be <code>String</code>,<code>Boolean</code>,<code>Date</code> or <code>Double</code>. However, the type is not explicitly given in the JSON. As far as converting JSON to Java objects, I can convert them all to <code>Object</code>.</p>\n<p>However, to allow further manipulation under the appropriate class, is there a better way to convert those objects to the appropriate types?</p>\n<p>I have thought about using <code>try/catch</code> to try to convert the <code>Object</code> to these 4 types. However, I imagine this won't be the ideal way. So I am wondering what other ways can be better for this situation.</p>\n<p>PS: I understand that the best solution would to ask whoever designed the API to include the data type. But I would like to see if it can work without having explicit information on the data type of each variable.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687195555,"post_id":76508782,"comment_id":134899881,"body_markdown":"why do you think &quot;*it did not concatenate two arrays of integers*&quot;? What is the result? What the expected one? (for which input) How you tested?","body":"why do you think &quot;<i>it did not concatenate two arrays of integers</i>&quot;? What is the result? What the expected one? (for which input) How you tested?"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1687198245,"post_id":76508782,"comment_id":134900372,"body_markdown":"You can also use `System.arraycopy()` to copy array contents.","body":"You can also use <code>System.arraycopy()</code> to copy array contents."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687216373,"post_id":76508782,"comment_id":134902837,"body_markdown":"You should be asking this question on [Code Review](https://codereview.stackexchange.com/).","body":"You should be asking this question on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>."},{"owner":{"account_id":6725902,"reputation":449,"user_id":5999841,"accept_rate":78,"display_name":"pacmaninbw"},"score":0,"creation_date":1687218464,"post_id":76508782,"comment_id":134902999,"body_markdown":"@WJS The code doesn&#39;t work so the question is off-topic on code review.","body":"@WJS The code doesn&#39;t work so the question is off-topic on code review."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687220499,"post_id":76508782,"comment_id":134903137,"body_markdown":"The code works fine.","body":"The code works fine."}],"answers":[{"tags":[],"owner":{"account_id":27127250,"reputation":75,"user_id":20670058,"display_name":"Heath Morgan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687197206,"creation_date":1687197097,"answer_id":76509024,"question_id":76508782,"body_markdown":"I think your approach should work.  I wrote a simple test to prove it:\r\n\r\n    @Test\r\n    public void test()\r\n    {\r\n        int[] a = {1, 2, 3};\r\n        int[] b = {2, 3, 4};\r\n\r\n        int[] expected = {1, 2, 3, 2, 3, 4};\r\n        int[] actual = mergeAndOrder(a, b);\r\n\r\n        log.info(Arrays.toString(a));\r\n        log.info(Arrays.toString(b));\r\n        log.info(Arrays.toString(actual));\r\n\r\n        assertThat(actual, is(expected));\r\n    }\r\n\r\nMy log statements seem to agree:\r\n\r\n\r\n    2023-06-19 13:48:34,953 INFO  [] (main) [1, 2, 3]\r\n    2023-06-19 13:48:34,968 INFO  [] (main) [2, 3, 4]\r\n    2023-06-19 13:48:34,968 INFO  [] (main) [1, 2, 3, 2, 3, 4]\r\n\r\nLike user16320675, I am wondering why you think it did not concatenate the two arrays; it appears to work.","title":"Combine/concatenate two arrays of integers","body":"<p>I think your approach should work.  I wrote a simple test to prove it:</p>\n<pre><code>@Test\npublic void test()\n{\n    int[] a = {1, 2, 3};\n    int[] b = {2, 3, 4};\n\n    int[] expected = {1, 2, 3, 2, 3, 4};\n    int[] actual = mergeAndOrder(a, b);\n\n    log.info(Arrays.toString(a));\n    log.info(Arrays.toString(b));\n    log.info(Arrays.toString(actual));\n\n    assertThat(actual, is(expected));\n}\n</code></pre>\n<p>My log statements seem to agree:</p>\n<pre><code>2023-06-19 13:48:34,953 INFO  [] (main) [1, 2, 3]\n2023-06-19 13:48:34,968 INFO  [] (main) [2, 3, 4]\n2023-06-19 13:48:34,968 INFO  [] (main) [1, 2, 3, 2, 3, 4]\n</code></pre>\n<p>Like user16320675, I am wondering why you think it did not concatenate the two arrays; it appears to work.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687199632,"creation_date":1687199632,"answer_id":76509259,"question_id":76508782,"body_markdown":"Yes, this is correct.\r\n\r\nI tested it with the following code.\r\n\r\n```java\r\nint[] array1 = { 1, 2, 3, 4, 5 };\r\nint[] array2 = { 6, 7, 8, 9, 10 };\r\nint[] array3 = mergeAndOrder(array1, array2);\r\n\r\nSystem.out.println(Arrays.toString(array3));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n```\r\n\r\nYou can add more than one variable to your _for-loop_&amp;mdash;place _k_ here.\r\n\r\n```java\r\nfor(int i=0, k=array1.length; i&lt; array2.length; i++, k++)\r\n{\r\n    tmp[k]=array2[i];\r\n}\r\n```\r\n\r\nIt&#39;s worth noting that, this typical procedure is usually done using the _[System#arraycopy](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int))_ method.\r\n\r\n```java\r\nint [] tmp= new int [array1.length+ array2.length];\r\n\r\nSystem.arraycopy(array1, 0, tmp, 0, array1.length);\r\nSystem.arraycopy(array2, 0, tmp, array1.length, array2.length);\r\n```\r\n\r\nAnd, as a demonstration, here is an example using a single _while-loop_.\r\n\r\n```java\r\npublic static int[] mergeAndOrder(int[] array1, int[] array2) {\r\n\r\n    int [] tmp= new int [array1.length+ array2.length];\r\n\r\n    int indexA = 0, indexB = 0;\r\n    boolean exit = false;\r\n    while (!exit) {\r\n        if (indexA &lt; array1.length) tmp[indexA] = array1[indexA++];\r\n        if (indexB &lt; array2.length) tmp[array1.length + indexB] = array2[indexB++];\r\n        if (indexA == array1.length &amp;&amp; indexB == array2.length) exit = true;\r\n    }\r\n\r\n    return tmp;\r\n}\r\n```","title":"Combine/concatenate two arrays of integers","body":"<p>Yes, this is correct.</p>\n<p>I tested it with the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array1 = { 1, 2, 3, 4, 5 };\nint[] array2 = { 6, 7, 8, 9, 10 };\nint[] array3 = mergeAndOrder(array1, array2);\n\nSystem.out.println(Arrays.toString(array3));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n<p>You can add more than one variable to your <em>for-loop</em>—place <em>k</em> here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0, k=array1.length; i&lt; array2.length; i++, k++)\n{\n    tmp[k]=array2[i];\n}\n</code></pre>\n<p>It's worth noting that, this typical procedure is usually done using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System#arraycopy</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] tmp= new int [array1.length+ array2.length];\n\nSystem.arraycopy(array1, 0, tmp, 0, array1.length);\nSystem.arraycopy(array2, 0, tmp, array1.length, array2.length);\n</code></pre>\n<p>And, as a demonstration, here is an example using a single <em>while-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] mergeAndOrder(int[] array1, int[] array2) {\n\n    int [] tmp= new int [array1.length+ array2.length];\n\n    int indexA = 0, indexB = 0;\n    boolean exit = false;\n    while (!exit) {\n        if (indexA &lt; array1.length) tmp[indexA] = array1[indexA++];\n        if (indexB &lt; array2.length) tmp[array1.length + indexB] = array2[indexB++];\n        if (indexA == array1.length &amp;&amp; indexB == array2.length) exit = true;\n    }\n\n    return tmp;\n}\n</code></pre>\n"}],"owner":{"account_id":28852666,"reputation":1,"user_id":22098222,"display_name":"area 51"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1687299279,"accepted_answer_id":76509024,"answer_count":2,"score":-2,"last_activity_date":1687203647,"creation_date":1687194850,"question_id":76508782,"body_markdown":"I&#39;m new to Java, and I know there are way better ways to concatenate two arrays like using IntStream.concat method, but as I want to learn, I just preferred to do it in this way\r\n\r\nI&#39;m trying to concatenate two arrays of integers using below function\r\n\r\n    public static int[] mergeAndOrder(int[] array1, int[] array2) {\r\n\r\n        int [] tmp= new int [array1.length+ array2.length];\r\n        int k=array1.length;\r\n        for(int i=0; i&lt;array1.length; i++)\r\n        {\r\n            tmp[i]=array1[i];\r\n        }\r\n\r\n        for(int i=0; i&lt; array2.length; i++)\r\n        {\r\n            tmp[k]=array2[i];\r\n            k++;\r\n        }\r\n        return tmp;\r\n    }\r\n\r\nis it correct?\r\n\r\nit seems it did not concatenate two arrays of integers","title":"Combine/concatenate two arrays of integers","body":"<p>I'm new to Java, and I know there are way better ways to concatenate two arrays like using IntStream.concat method, but as I want to learn, I just preferred to do it in this way</p>\n<p>I'm trying to concatenate two arrays of integers using below function</p>\n<pre><code>public static int[] mergeAndOrder(int[] array1, int[] array2) {\n\n    int [] tmp= new int [array1.length+ array2.length];\n    int k=array1.length;\n    for(int i=0; i&lt;array1.length; i++)\n    {\n        tmp[i]=array1[i];\n    }\n\n    for(int i=0; i&lt; array2.length; i++)\n    {\n        tmp[k]=array2[i];\n        k++;\n    }\n    return tmp;\n}\n</code></pre>\n<p>is it correct?</p>\n<p>it seems it did not concatenate two arrays of integers</p>\n"},{"tags":["java","multithreading","static-variables","critical-section"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1687203577,"post_id":76509611,"comment_id":134901197,"body_markdown":"`static volatile int turn;`","body":"<code>static volatile int turn;</code>"},{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1687203982,"post_id":76509611,"comment_id":134901251,"body_markdown":"Wow, That was all that it took :)","body":"Wow, That was all that it took :)"},{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1687204242,"post_id":76509611,"comment_id":134901287,"body_markdown":"Is there any chance you know what is `transient`?","body":"Is there any chance you know what is <code>transient</code>?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687208818,"post_id":76509611,"comment_id":134901954,"body_markdown":"transient: [JLS 8.3.1.3. transient Fields](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.3.1.3): &quot;*Variables may be marked transient to indicate that they are not part of the persistent state of an object.*&quot; and for example used in [`ObjectOutputStream`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/ObjectOutputStream.html): &quot;*The default serialization mechanism for an object writes the class of the object, the class signature, and the values of all non-transient and non-static fields.*&quot;","body":"transient: <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.3.1.3\" rel=\"nofollow noreferrer\">JLS 8.3.1.3. transient Fields</a>: &quot;<i>Variables may be marked transient to indicate that they are not part of the persistent state of an object.</i>&quot; and for example used in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectOutputStream</code></a>: &quot;<i>The default serialization mechanism for an object writes the class of the object, the class signature, and the values of all non-transient and non-static fields.</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687208979,"post_id":76509611,"comment_id":134901978,"body_markdown":"and maybe this question: [Why does Java have transient fields?](https://stackoverflow.com/questions/910374/why-does-java-have-transient-fields)","body":"and maybe this question: <a href=\"https://stackoverflow.com/questions/910374/why-does-java-have-transient-fields\">Why does Java have transient fields?</a>"}],"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687203391,"creation_date":1687203391,"question_id":76509611,"body_markdown":"I am trying *Peterson&#39;s Solution* for the *Critical Section Problem*, and I noticed that my static variable doesn&#39;t update unless I add a `System.out.print(&quot;&quot;);` statement.\r\n\r\nWhy is this so?\r\n\r\nThanks.\r\n\r\nThe code for `Peterson.java` is below:\r\n``` java\r\npublic class Peterson {\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tProcess p1 = new Process(0);\r\n\t\tProcess p2 = new Process(1);\r\n\t\tp1.start();\r\n\t\tp2.start();\r\n\t\tp1.join();\r\n\t\tp2.join();\r\n\t}\r\n}\r\n\r\nclass Process extends Thread {\r\n\tstatic int turn;\r\n\tstatic boolean[] wait = new boolean[2];\r\n\r\n\tint ind;\r\n\tpublic Process(int ind) {\r\n\t\tthis.ind = ind;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tint ind2 = 1-ind;\r\n\t\twait[ind] = true;\r\n\t\tturn = ind2;\r\n\t\t\r\n\t\t// USING THIS WORKS\r\n\t\t// while(wait[ind2] &amp;&amp; turn == ind2) {System.out.print(&quot;&quot;);}\r\n\t\t// USING THIS DOESN&#39;T WORK\r\n\t\twhile(wait[ind2] &amp;&amp; turn == ind2) {;}\r\n\r\n\t\t// Critical Section\r\n\t\tSystem.out.printf(&quot;%d Started%n&quot;, ind);\r\n\t\tfor (long t = System.currentTimeMillis(); System.currentTimeMillis() - t &lt; 100;);\r\n\t\tSystem.out.printf(&quot;%d Ended%n&quot;, ind);\r\n\r\n\t\twait[ind] = false;\r\n\t}\r\n}\r\n```","title":"Why doesn&#39;t the shared static variable update in the threads?","body":"<p>I am trying <em>Peterson's Solution</em> for the <em>Critical Section Problem</em>, and I noticed that my static variable doesn't update unless I add a <code>System.out.print(&quot;&quot;);</code> statement.</p>\n<p>Why is this so?</p>\n<p>Thanks.</p>\n<p>The code for <code>Peterson.java</code> is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Peterson {\n    public static void main(String[] args) throws InterruptedException {\n        Process p1 = new Process(0);\n        Process p2 = new Process(1);\n        p1.start();\n        p2.start();\n        p1.join();\n        p2.join();\n    }\n}\n\nclass Process extends Thread {\n    static int turn;\n    static boolean[] wait = new boolean[2];\n\n    int ind;\n    public Process(int ind) {\n        this.ind = ind;\n    }\n\n    @Override\n    public void run() {\n        int ind2 = 1-ind;\n        wait[ind] = true;\n        turn = ind2;\n        \n        // USING THIS WORKS\n        // while(wait[ind2] &amp;&amp; turn == ind2) {System.out.print(&quot;&quot;);}\n        // USING THIS DOESN'T WORK\n        while(wait[ind2] &amp;&amp; turn == ind2) {;}\n\n        // Critical Section\n        System.out.printf(&quot;%d Started%n&quot;, ind);\n        for (long t = System.currentTimeMillis(); System.currentTimeMillis() - t &lt; 100;);\n        System.out.printf(&quot;%d Ended%n&quot;, ind);\n\n        wait[ind] = false;\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1686637074,"post_id":76444223,"comment_id":134822215,"body_markdown":"It&#39;s not managed by the server? Like it&#39;s spigot that determine your respawn point","body":"It&#39;s not managed by the server? Like it&#39;s spigot that determine your respawn point"}],"answers":[{"tags":[],"owner":{"account_id":19928682,"reputation":410,"user_id":14602745,"display_name":"JPlusPlus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687162910,"creation_date":1687162012,"answer_id":76504730,"question_id":76444223,"body_markdown":"You can inject a [Mixin](https://fabricmc.net/wiki/tutorial:mixin_introduction) into the `respawnPlayer` method within the `PlayerManager` class, where you set the player&#39;s spawn point every time before they spawn.\r\n\r\nHere&#39;s an example:\r\n```java\r\n@Mixin(PlayerManager.class)\r\npublic class ServerPlayerEntityMixin {\r\n    @Inject(method = &quot;respawnPlayer&quot;, at = @At(&quot;HEAD&quot;))\r\n    public void respawnPlayer(ServerPlayerEntity player, boolean alive, CallbackInfoReturnable&lt;ServerPlayerEntity&gt; cir) {\r\n        BlockPos yourPos = new BlockPos(0, 200, 0); // Whatever position you&#39;d like (you can match the player&#39;s display name to a value or something)\r\n        RegistryKey&lt;World&gt; dimension = World.OVERWORLD; // I&#39;m assuming you&#39;d like this to be in the overworld\r\n        player.setSpawnPoint(dimension, yourPos, 0, true, false);\r\n    }\r\n}\r\n```\r\n\r\nOne thing to note:\r\nThe Y axis matters when you&#39;re passing it to `setSpawnPoint`, if there are blocks present where the player would spawn, it will just default back to the world spawn point. Positions above ground and even in the air should work just fine however.","title":"Overriding Minecraft Respawn Behavior","body":"<p>You can inject a <a href=\"https://fabricmc.net/wiki/tutorial:mixin_introduction\" rel=\"nofollow noreferrer\">Mixin</a> into the <code>respawnPlayer</code> method within the <code>PlayerManager</code> class, where you set the player's spawn point every time before they spawn.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mixin(PlayerManager.class)\npublic class ServerPlayerEntityMixin {\n    @Inject(method = &quot;respawnPlayer&quot;, at = @At(&quot;HEAD&quot;))\n    public void respawnPlayer(ServerPlayerEntity player, boolean alive, CallbackInfoReturnable&lt;ServerPlayerEntity&gt; cir) {\n        BlockPos yourPos = new BlockPos(0, 200, 0); // Whatever position you'd like (you can match the player's display name to a value or something)\n        RegistryKey&lt;World&gt; dimension = World.OVERWORLD; // I'm assuming you'd like this to be in the overworld\n        player.setSpawnPoint(dimension, yourPos, 0, true, false);\n    }\n}\n</code></pre>\n<p>One thing to note:\nThe Y axis matters when you're passing it to <code>setSpawnPoint</code>, if there are blocks present where the player would spawn, it will just default back to the world spawn point. Positions above ground and even in the air should work just fine however.</p>\n"},{"tags":[],"owner":{"account_id":11237776,"reputation":1971,"user_id":8243241,"display_name":"mainak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687203293,"creation_date":1687203293,"answer_id":76509597,"question_id":76444223,"body_markdown":"example implementation\r\n\r\n    import net.minecraft.server.MinecraftServer;\r\n    import net.minecraft.server.network.ServerPlayerEntity;\r\n    import net.minecraft.server.world.ServerWorld;\r\n    import net.minecraft.util.math.BlockPos;\r\n    import net.minecraft.world.World;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class CustomRespawnHandler extends ServerPlayerEntity {\r\n        public CustomRespawnHandler(MinecraftServer server, ServerWorld world, GameProfile profile) {\r\n            super(server, world, profile);\r\n        }\r\n    \r\n        @Override\r\n        public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\r\n            if (pos == null) {\r\n                // Calculate the new respawn position based on player-specific logic\r\n                BlockPos newPos = calculateRespawnPosition(getServerWorld());\r\n                super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\r\n            } else {\r\n                super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\r\n            }\r\n        }\r\n    \r\n        private BlockPos calculateRespawnPosition(ServerWorld world) {\r\n            // Generate random coordinates\r\n            Random random = new Random(getEntityName().hashCode());\r\n            int x = random.nextInt(200000) - 100000;\r\n            int z = random.nextInt(200000) - 100000;\r\n    \r\n            // Find a suitable respawn position\r\n            for (int d = world.getTopY(); d &gt; world.getBottomY(); d--) {\r\n                if (!world.isAir(new BlockPos(x, d, z))) {\r\n                    return new BlockPos(x, d, z);\r\n                }\r\n            }\r\n    \r\n            // Return a fallback position if no suitable position is found\r\n            return new BlockPos(x, world.getTopY(), z);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Overriding Minecraft Respawn Behavior","body":"<p>example implementation</p>\n<pre><code>import net.minecraft.server.MinecraftServer;\nimport net.minecraft.server.network.ServerPlayerEntity;\nimport net.minecraft.server.world.ServerWorld;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.world.World;\n\nimport java.util.Random;\n\npublic class CustomRespawnHandler extends ServerPlayerEntity {\n    public CustomRespawnHandler(MinecraftServer server, ServerWorld world, GameProfile profile) {\n        super(server, world, profile);\n    }\n\n    @Override\n    public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\n        if (pos == null) {\n            // Calculate the new respawn position based on player-specific logic\n            BlockPos newPos = calculateRespawnPosition(getServerWorld());\n            super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\n        } else {\n            super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\n        }\n    }\n\n    private BlockPos calculateRespawnPosition(ServerWorld world) {\n        // Generate random coordinates\n        Random random = new Random(getEntityName().hashCode());\n        int x = random.nextInt(200000) - 100000;\n        int z = random.nextInt(200000) - 100000;\n\n        // Find a suitable respawn position\n        for (int d = world.getTopY(); d &gt; world.getBottomY(); d--) {\n            if (!world.isAir(new BlockPos(x, d, z))) {\n                return new BlockPos(x, d, z);\n            }\n        }\n\n        // Return a fallback position if no suitable position is found\n        return new BlockPos(x, world.getTopY(), z);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":84482,"reputation":24850,"user_id":236136,"accept_rate":84,"display_name":"CaseyB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76504730,"answer_count":2,"score":0,"last_activity_date":1687203293,"creation_date":1686355480,"question_id":76444223,"body_markdown":"I want to create a mod that overrides the default respawn mechanics. I want each player to start 100,000 blocks from spawn in a different direction and have that be their default respawn position. I tried overriding the ServerPlayerEntity with this behavior and it seemed like it might have worked but I couldn&#39;t find a way to have the server replace the default ServerPlayerEntity with my subclass.\r\n\r\nThis is what I was trying to do:\r\n```\r\npublic class Server100KMPlayerEntity extends ServerPlayerEntity {\r\n    public Server100KMPlayerEntity(MinecraftServer server, ServerWorld world, GameProfile profile) {\r\n        super(server, world, profile);\r\n    }\r\n\r\n    @Override\r\n    public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\r\n        if (pos != null) {\r\n            super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\r\n        } else {\r\n            BlockPos newPos = PlayerPositions.valueOf(getEntityName()).getPosition(getServer().getWorld(World.OVERWORLD));\r\n            super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\r\n        }\r\n    }\r\n\r\n    enum PlayerPositions {\r\n        Player1(-70711, -70711),\r\n        Player2(70711, -70711),\r\n        Player3(-70711, 70711),\r\n        Player4(70711, 70711);\r\n\r\n        private final int x, z;\r\n\r\n        PlayerPositions(int x, int z) {\r\n            this.x = x;\r\n            this.z = z;\r\n        }\r\n\r\n        public BlockPos getPosition(World world) {\r\n            for (int d = world.getTopY(); d &gt; world.getBottomY(); --d) {\r\n                if (!world.isSpaceEmpty(new Box(new BlockPos(x, d, z)))) {\r\n                    return new BlockPos(x, d - 1, z);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n``` \r\nI also looked into S2C and C2S events but didn&#39;t see anything there that looked helpful. Any advice would be greatly appreciated.","title":"Overriding Minecraft Respawn Behavior","body":"<p>I want to create a mod that overrides the default respawn mechanics. I want each player to start 100,000 blocks from spawn in a different direction and have that be their default respawn position. I tried overriding the ServerPlayerEntity with this behavior and it seemed like it might have worked but I couldn't find a way to have the server replace the default ServerPlayerEntity with my subclass.</p>\n<p>This is what I was trying to do:</p>\n<pre><code>public class Server100KMPlayerEntity extends ServerPlayerEntity {\n    public Server100KMPlayerEntity(MinecraftServer server, ServerWorld world, GameProfile profile) {\n        super(server, world, profile);\n    }\n\n    @Override\n    public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\n        if (pos != null) {\n            super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\n        } else {\n            BlockPos newPos = PlayerPositions.valueOf(getEntityName()).getPosition(getServer().getWorld(World.OVERWORLD));\n            super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\n        }\n    }\n\n    enum PlayerPositions {\n        Player1(-70711, -70711),\n        Player2(70711, -70711),\n        Player3(-70711, 70711),\n        Player4(70711, 70711);\n\n        private final int x, z;\n\n        PlayerPositions(int x, int z) {\n            this.x = x;\n            this.z = z;\n        }\n\n        public BlockPos getPosition(World world) {\n            for (int d = world.getTopY(); d &gt; world.getBottomY(); --d) {\n                if (!world.isSpaceEmpty(new Box(new BlockPos(x, d, z)))) {\n                    return new BlockPos(x, d - 1, z);\n                }\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>I also looked into S2C and C2S events but didn't see anything there that looked helpful. Any advice would be greatly appreciated.</p>\n"},{"tags":["java","android","arrays","sorting","bubble-sort"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687212200,"post_id":76505969,"comment_id":134902379,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687202587,"creation_date":1687202587,"answer_id":76509539,"question_id":76505969,"body_markdown":"You can utilize a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_ collection, although, it provides no inherent way to sort the values.  \r\nYou&#39;ll have to manually adjust whenever a score changes.\r\n\r\nYour design, which is typically referred to as a _[parallel array](https://en.wikipedia.org/wiki/Parallel_array)_, is correct, and is probably the easiest way to achieve this.\r\n\r\nJust, adjust the _username_ array in accordance to the _Bubble sort_.\r\n\r\nHere is an example&amp;mdash;implementing this _Wikipedia [pseudo-code](https://en.wikipedia.org/wiki/Bubble_sort#Optimizing_bubble_sort)_.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] usernames = { &quot;userA&quot;, &quot;userB&quot;, &quot;userC&quot;, &quot;userD&quot; };\r\n    int[] scores = { 1, 4, 2, 3 };\r\n\r\n    bubbleSort(scores, usernames);\r\n\r\n    System.out.println(Arrays.toString(usernames));\r\n    System.out.println(Arrays.toString(scores));\r\n}\r\n\r\nstatic void bubbleSort(int[] scores, String[] usernames) {\r\n    int length = scores.length;\r\n    int copy;\r\n    String copyB;\r\n    boolean swapped;\r\n    do {\r\n        swapped = false;\r\n        for (int index = 1; index &lt; length; index++) {\r\n            if (scores[index - 1] &gt; scores[index]) {\r\n                copy = scores[index];\r\n                copyB = usernames[index];\r\n                scores[index] = scores[index - 1];\r\n                usernames[index] = usernames[index - 1];\r\n                scores[index - 1] = copy;\r\n                usernames[index - 1] = copyB;\r\n                swapped = true;\r\n            }\r\n        }\r\n        length--;\r\n    } while (!swapped);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[userA, userC, userD, userB]\r\n[1, 2, 3, 4]\r\n```","title":"how to link names column in two columns leaderboard for names and the other for scores in leaderboard sorted according to the scores","body":"<p>You can utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em> collection, although, it provides no inherent way to sort the values.<br />\nYou'll have to manually adjust whenever a score changes.</p>\n<p>Your design, which is typically referred to as a <em><a href=\"https://en.wikipedia.org/wiki/Parallel_array\" rel=\"nofollow noreferrer\">parallel array</a></em>, is correct, and is probably the easiest way to achieve this.</p>\n<p>Just, adjust the <em>username</em> array in accordance to the <em>Bubble sort</em>.</p>\n<p>Here is an example—implementing this <em>Wikipedia <a href=\"https://en.wikipedia.org/wiki/Bubble_sort#Optimizing_bubble_sort\" rel=\"nofollow noreferrer\">pseudo-code</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] usernames = { &quot;userA&quot;, &quot;userB&quot;, &quot;userC&quot;, &quot;userD&quot; };\n    int[] scores = { 1, 4, 2, 3 };\n\n    bubbleSort(scores, usernames);\n\n    System.out.println(Arrays.toString(usernames));\n    System.out.println(Arrays.toString(scores));\n}\n\nstatic void bubbleSort(int[] scores, String[] usernames) {\n    int length = scores.length;\n    int copy;\n    String copyB;\n    boolean swapped;\n    do {\n        swapped = false;\n        for (int index = 1; index &lt; length; index++) {\n            if (scores[index - 1] &gt; scores[index]) {\n                copy = scores[index];\n                copyB = usernames[index];\n                scores[index] = scores[index - 1];\n                usernames[index] = usernames[index - 1];\n                scores[index - 1] = copy;\n                usernames[index - 1] = copyB;\n                swapped = true;\n            }\n        }\n        length--;\n    } while (!swapped);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[userA, userC, userD, userB]\n[1, 2, 3, 4]\n</code></pre>\n"}],"owner":{"account_id":23432875,"reputation":1,"user_id":17491411,"display_name":"newTy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687202587,"creation_date":1687172261,"question_id":76505969,"body_markdown":"i have leaderboard activity that contains two columns one for names and the other for scores... i have the scores listed on array of integers and i used bubble sort algorithm to sort em , and every time the game ends it checks if the user score is above the last one or not and if it&#39;s higher i replace the last element then sort the array again using the bubble algorithm...\r\n\r\nwhat i wanna do is how can i link every score with it&#39;s username (i have different array for strings so far) and still in the same order.","title":"how to link names column in two columns leaderboard for names and the other for scores in leaderboard sorted according to the scores","body":"<p>i have leaderboard activity that contains two columns one for names and the other for scores... i have the scores listed on array of integers and i used bubble sort algorithm to sort em , and every time the game ends it checks if the user score is above the last one or not and if it's higher i replace the last element then sort the array again using the bubble algorithm...</p>\n<p>what i wanna do is how can i link every score with it's username (i have different array for strings so far) and still in the same order.</p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":1484320,"reputation":566,"user_id":1392882,"display_name":"Miguel"},"score":1,"creation_date":1348173503,"post_id":1963806,"comment_id":16854510,"body_markdown":"how about http://stackoverflow.com/a/6058025/1392882","body":"how about <a href=\"http://stackoverflow.com/a/6058025/1392882\">stackoverflow.com/a/6058025/1392882</a>"}],"answers":[{"tags":[],"owner":{"account_id":80859,"reputation":2458,"user_id":228358,"accept_rate":75,"display_name":"moritz"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1435240253,"creation_date":1261847338,"answer_id":1963830,"question_id":1963806,"body_markdown":"There is no existing implementation in the Java Language and Runtime. All Queues extend [AbstractQueue][1], and its doc clearly states that adding an element to a full queue always ends with an exception. It would be best ( and quite simple ) to wrap a Queue into a class of your own for having the functionality you need. \r\n\r\nOnce again, because all queues are children of AbstractQueue, simply use that as your internal data type and you should have a flexible implementation running in virtually no time :-)\r\n\r\n\r\n\r\nUPDATE:\r\n\r\nAs outlined below, there are two open implementations available (this answer is quite old, folks!), see [this answer][2] for details.\r\n\r\n  [2]: https://stackoverflow.com/a/21699069/228358\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractQueue.html\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>There is no existing implementation in the Java Language and Runtime. All Queues extend <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractQueue.html\" rel=\"noreferrer\">AbstractQueue</a>, and its doc clearly states that adding an element to a full queue always ends with an exception. It would be best ( and quite simple ) to wrap a Queue into a class of your own for having the functionality you need. </p>\n\n<p>Once again, because all queues are children of AbstractQueue, simply use that as your internal data type and you should have a flexible implementation running in virtually no time :-)</p>\n\n<p>UPDATE:</p>\n\n<p>As outlined below, there are two open implementations available (this answer is quite old, folks!), see <a href=\"https://stackoverflow.com/a/21699069/228358\">this answer</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":79535,"reputation":4640,"user_id":225448,"display_name":"Zoran Regvart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1261847762,"creation_date":1261847762,"answer_id":1963844,"question_id":1963806,"body_markdown":"Also see [this SO question][1], or [ArrayBlockingQueue][2] (be careful about blocking, this might be unwanted in your case).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1846225/java-priorityqueue-with-fixed-size\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Also see <a href=\"https://stackoverflow.com/questions/1846225/java-priorityqueue-with-fixed-size\">this SO question</a>, or <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html\" rel=\"nofollow noreferrer\">ArrayBlockingQueue</a> (be careful about blocking, this might be unwanted in your case).</p>\n"},{"tags":[],"owner":{"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261848025,"creation_date":1261848025,"answer_id":1963857,"question_id":1963806,"body_markdown":"I think what you&#39;re describing is a circular queue. Here is an [example][1] and here is a [better][2] one\r\n\r\n\r\n  [1]: http://www.koders.com/java/fid0C8B64975D8AF4E5926D47A3FDA350ED3A5C2286.aspx\r\n  [2]: http://www.scribd.com/doc/14768610/Array-Circular-Queue","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I think what you're describing is a circular queue. Here is an <a href=\"http://www.koders.com/java/fid0C8B64975D8AF4E5926D47A3FDA350ED3A5C2286.aspx\" rel=\"noreferrer\">example</a> and here is a <a href=\"http://www.scribd.com/doc/14768610/Array-Circular-Queue\" rel=\"noreferrer\">better</a> one</p>\n"},{"tags":[],"owner":{"account_id":58903,"reputation":8267,"user_id":176312,"display_name":"JaakkoK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1261848583,"creation_date":1261848583,"answer_id":1963875,"question_id":1963806,"body_markdown":"It is not quite clear what requirements you have that led you to ask this question. If you need a fixed size data structure, you might also want to look at different caching policies. However, since you have a queue, my best guess is that you&#39;re looking for some type of router functionality. In that case, I would go with a ring buffer: an array that has a first and last index. Whenever an element is added, you just increment the last element index, and when an element is removed, increment the first element index. In both cases, addition is performed modulo the array size, and make sure to increment the other index when needed, that is, when the queue is full or empty.\r\n\r\nAlso, if it is a router-type application, you might also want to experiment with an algorithm such as Random Early Dropping (RED), which drops elements from the queue randomly even before it gets filled up. In some cases, RED has been found to have better overall performance than the simple method of allowing the queue to fill up before dropping.","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>It is not quite clear what requirements you have that led you to ask this question. If you need a fixed size data structure, you might also want to look at different caching policies. However, since you have a queue, my best guess is that you're looking for some type of router functionality. In that case, I would go with a ring buffer: an array that has a first and last index. Whenever an element is added, you just increment the last element index, and when an element is removed, increment the first element index. In both cases, addition is performed modulo the array size, and make sure to increment the other index when needed, that is, when the queue is full or empty.</p>\n\n<p>Also, if it is a router-type application, you might also want to experiment with an algorithm such as Random Early Dropping (RED), which drops elements from the queue randomly even before it gets filled up. In some cases, RED has been found to have better overall performance than the simple method of allowing the queue to fill up before dropping.</p>\n"},{"tags":[],"owner":{"account_id":56456,"reputation":2580,"user_id":169115,"accept_rate":86,"display_name":"Mavrik"},"down_vote_count":5,"up_vote_count":132,"is_accepted":false,"score":127,"last_activity_date":1420639057,"creation_date":1261848911,"answer_id":1963881,"question_id":1963806,"body_markdown":"Actually the [LinkedHashMap][1] does exactly what you want. You need to override the `removeEldestEntry` method.\r\n\r\nExample for a queue with max 10 elements:\r\n\r\n      queue = new LinkedHashMap&lt;Integer, String&gt;()\r\n      {\r\n         @Override\r\n         protected boolean removeEldestEntry(Map.Entry&lt;Integer, String&gt; eldest)\r\n         {\r\n            return this.size() &gt; 10;   \r\n         }\r\n      };\r\n\r\n\r\nIf the &quot;removeEldestEntry&quot; returns true, the eldest entry is removed from the map.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Actually the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">LinkedHashMap</a> does exactly what you want. You need to override the <code>removeEldestEntry</code> method.</p>\n\n<p>Example for a queue with max 10 elements:</p>\n\n<pre><code>  queue = new LinkedHashMap&lt;Integer, String&gt;()\n  {\n     @Override\n     protected boolean removeEldestEntry(Map.Entry&lt;Integer, String&gt; eldest)\n     {\n        return this.size() &gt; 10;   \n     }\n  };\n</code></pre>\n\n<p>If the \"removeEldestEntry\" returns true, the eldest entry is removed from the map.</p>\n"},{"tags":[],"owner":{"account_id":229659,"reputation":3535,"user_id":492760,"accept_rate":82,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343315104,"creation_date":1343315104,"answer_id":11672313,"question_id":1963806,"body_markdown":"Actually you can write your own impl based on LinkedList, it is quite straight forward, just override the add method and do the staff.","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Actually you can write your own impl based on LinkedList, it is quite straight forward, just override the add method and do the staff.</p>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1369798033,"creation_date":1369798033,"answer_id":16804978,"question_id":1963806,"body_markdown":"This class does the job using composition instead of inheritance (other answers here) which  removes the possibility of certain side-effects (as covered by Josh Bloch in Essential Java). Trimming of the underlying LinkedList occurs on the methods add,addAll and offer.\r\n\r\n    import java.util.Collection;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    \r\n    public class LimitedQueue&lt;T&gt; implements Queue&lt;T&gt;, Iterable&lt;T&gt; {\r\n    \r\n    \tprivate final int limit;\r\n    \tprivate final LinkedList&lt;T&gt; list = new LinkedList&lt;T&gt;();\r\n    \r\n    \tpublic LimitedQueue(int limit) {\r\n    \t\tthis.limit = limit;\r\n    \t}\r\n    \r\n    \tprivate boolean trim() {\r\n    \t\tboolean changed = list.size() &gt; limit;\r\n    \t\twhile (list.size() &gt; limit) {\r\n    \t\t\tlist.remove();\r\n    \t\t}\r\n    \t\treturn changed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean add(T o) {\r\n    \t\tboolean changed = list.add(o);\r\n    \t\tboolean trimmed = trim();\r\n    \t\treturn changed || trimmed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int size() {\r\n    \t\treturn list.size();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEmpty() {\r\n    \t\treturn list.isEmpty();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean contains(Object o) {\r\n    \t\treturn list.contains(o);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Iterator&lt;T&gt; iterator() {\r\n    \t\treturn list.iterator();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object[] toArray() {\r\n    \t\treturn list.toArray();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T&gt; T[] toArray(T[] a) {\r\n    \t\treturn list.toArray(a);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean remove(Object o) {\r\n    \t\treturn list.remove(o);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean containsAll(Collection&lt;?&gt; c) {\r\n    \t\treturn list.containsAll(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean addAll(Collection&lt;? extends T&gt; c) {\r\n    \t\tboolean changed = list.addAll(c);\r\n    \t\tboolean trimmed = trim();\r\n    \t\treturn changed || trimmed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean removeAll(Collection&lt;?&gt; c) {\r\n    \t\treturn list.removeAll(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean retainAll(Collection&lt;?&gt; c) {\r\n    \t\treturn list.retainAll(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void clear() {\r\n    \t\tlist.clear();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean offer(T e) {\r\n    \t\tboolean changed = list.offer(e);\r\n    \t\tboolean trimmed = trim();\r\n    \t\treturn changed || trimmed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T remove() {\r\n    \t\treturn list.remove();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T poll() {\r\n    \t\treturn list.poll();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T element() {\r\n    \t\treturn list.element();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T peek() {\r\n    \t\treturn list.peek();\r\n    \t}\r\n    }\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>This class does the job using composition instead of inheritance (other answers here) which  removes the possibility of certain side-effects (as covered by Josh Bloch in Essential Java). Trimming of the underlying LinkedList occurs on the methods add,addAll and offer.</p>\n\n<pre><code>import java.util.Collection;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic class LimitedQueue&lt;T&gt; implements Queue&lt;T&gt;, Iterable&lt;T&gt; {\n\n    private final int limit;\n    private final LinkedList&lt;T&gt; list = new LinkedList&lt;T&gt;();\n\n    public LimitedQueue(int limit) {\n        this.limit = limit;\n    }\n\n    private boolean trim() {\n        boolean changed = list.size() &gt; limit;\n        while (list.size() &gt; limit) {\n            list.remove();\n        }\n        return changed;\n    }\n\n    @Override\n    public boolean add(T o) {\n        boolean changed = list.add(o);\n        boolean trimmed = trim();\n        return changed || trimmed;\n    }\n\n    @Override\n    public int size() {\n        return list.size();\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return list.isEmpty();\n    }\n\n    @Override\n    public boolean contains(Object o) {\n        return list.contains(o);\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return list.iterator();\n    }\n\n    @Override\n    public Object[] toArray() {\n        return list.toArray();\n    }\n\n    @Override\n    public &lt;T&gt; T[] toArray(T[] a) {\n        return list.toArray(a);\n    }\n\n    @Override\n    public boolean remove(Object o) {\n        return list.remove(o);\n    }\n\n    @Override\n    public boolean containsAll(Collection&lt;?&gt; c) {\n        return list.containsAll(c);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends T&gt; c) {\n        boolean changed = list.addAll(c);\n        boolean trimmed = trim();\n        return changed || trimmed;\n    }\n\n    @Override\n    public boolean removeAll(Collection&lt;?&gt; c) {\n        return list.removeAll(c);\n    }\n\n    @Override\n    public boolean retainAll(Collection&lt;?&gt; c) {\n        return list.retainAll(c);\n    }\n\n    @Override\n    public void clear() {\n        list.clear();\n    }\n\n    @Override\n    public boolean offer(T e) {\n        boolean changed = list.offer(e);\n        boolean trimmed = trim();\n        return changed || trimmed;\n    }\n\n    @Override\n    public T remove() {\n        return list.remove();\n    }\n\n    @Override\n    public T poll() {\n        return list.poll();\n    }\n\n    @Override\n    public T element() {\n        return list.element();\n    }\n\n    @Override\n    public T peek() {\n        return list.peek();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100935,"reputation":2427,"user_id":271813,"accept_rate":50,"display_name":"Roar Skullestad"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1565260933,"creation_date":1389367060,"answer_id":21047889,"question_id":1963806,"body_markdown":"I just implemented a fixed size queue this way: \r\n\r\n    public class LimitedSizeQueue&lt;K&gt; extends ArrayList&lt;K&gt; {\r\n\r\n    \tprivate int maxSize;\r\n    \r\n    \tpublic LimitedSizeQueue(int size){\r\n    \t\tthis.maxSize = size;\r\n    \t}\r\n\r\n    \tpublic boolean add(K k){\r\n    \t\tboolean r = super.add(k);\r\n    \t\tif (size() &gt; maxSize){\r\n    \t\t\tremoveRange(0, size() - maxSize);\r\n    \t\t}\r\n    \t\treturn r;\r\n    \t}\r\n    \r\n    \tpublic K getYoungest() {\r\n    \t\treturn get(size() - 1);\r\n    \t}\r\n    \r\n    \tpublic K getOldest() {\r\n    \t\treturn get(0);\r\n    \t}\r\n    }","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I just implemented a fixed size queue this way: </p>\n\n<pre><code>public class LimitedSizeQueue&lt;K&gt; extends ArrayList&lt;K&gt; {\n\n    private int maxSize;\n\n    public LimitedSizeQueue(int size){\n        this.maxSize = size;\n    }\n\n    public boolean add(K k){\n        boolean r = super.add(k);\n        if (size() &gt; maxSize){\n            removeRange(0, size() - maxSize);\n        }\n        return r;\n    }\n\n    public K getYoungest() {\n        return get(size() - 1);\n    }\n\n    public K getOldest() {\n        return get(0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1687202424,"creation_date":1392114066,"answer_id":21699069,"question_id":1963806,"body_markdown":"# Yes, Two\r\n\r\nFrom [my own duplicate question][1] with [this correct answer][2], I learned of two:\r\n\r\n - [`EvictingQueue`][3] in [Google Guava][4]\r\n - [`CircularFifoQueue`][5] in [Apache Commons][6]\r\n\r\nNeither is [thread-safe][7]. Neither accepts null elements. \r\n\r\n----------\r\n\r\n\r\nI made productive use of the Guava `EvictingQueue`, worked well. \r\n\r\nTo instantiate an `EvictingQueue` call the static factory method [`create`][8] and specify your maximum size.\r\n\r\n    EvictingQueue&lt; Person &gt; people = com.google.common.collect.EvictingQueue.create( 100 ) ;  // Set maximum size to 100. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/21696680/642706\r\n  [2]: https://stackoverflow.com/a/21696750/642706\r\n  [3]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html\r\n  [4]: https://github.com/google/guava\r\n  [5]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/CircularFifoQueue.html\r\n  [6]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [7]: https://en.m.wikipedia.org/wiki/Thread_safety\r\n  [8]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html#create-int-","title":"Is there a fixed sized queue which removes excessive elements?","body":"<h1>Yes, Two</h1>\n<p>From <a href=\"https://stackoverflow.com/q/21696680/642706\">my own duplicate question</a> with <a href=\"https://stackoverflow.com/a/21696750/642706\">this correct answer</a>, I learned of two:</p>\n<ul>\n<li><a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html\" rel=\"nofollow noreferrer\"><code>EvictingQueue</code></a> in <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/CircularFifoQueue.html\" rel=\"nofollow noreferrer\"><code>CircularFifoQueue</code></a> in <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a></li>\n</ul>\n<p>Neither is <a href=\"https://en.m.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safe</a>. Neither accepts null elements.</p>\n<hr />\n<p>I made productive use of the Guava <code>EvictingQueue</code>, worked well.</p>\n<p>To instantiate an <code>EvictingQueue</code> call the static factory method <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html#create-int-\" rel=\"nofollow noreferrer\"><code>create</code></a> and specify your maximum size.</p>\n<pre><code>EvictingQueue&lt; Person &gt; people = com.google.common.collect.EvictingQueue.create( 100 ) ;  // Set maximum size to 100. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":430398,"reputation":5356,"user_id":813810,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406717492,"creation_date":1406717492,"answer_id":25034942,"question_id":1963806,"body_markdown":"I think the best matching answer is from [this other question][1].\r\n\r\nApache commons collections 4 has a [CircularFifoQueue][2] which is what you are looking for. Quoting the javadoc:\r\n\r\n&gt; CircularFifoQueue is a first-in first-out queue with a fixed size that replaces its oldest element if full.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5638128/813810\r\n  [2]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I think the best matching answer is from <a href=\"https://stackoverflow.com/a/5638128/813810\">this other question</a>.</p>\n\n<p>Apache commons collections 4 has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html\" rel=\"nofollow noreferrer\">CircularFifoQueue</a> which is what you are looking for. Quoting the javadoc:</p>\n\n<blockquote>\n  <p>CircularFifoQueue is a first-in first-out queue with a fixed size that replaces its oldest element if full.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2073707,"reputation":3393,"user_id":1847645,"display_name":"Berkay Turancı"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1408533048,"creation_date":1408533048,"answer_id":25403226,"question_id":1963806,"body_markdown":"This is what I did with `Queue` wrapped with `LinkedList`, It is fixed sized which I give in here is 2;\r\n\r\n    public static Queue&lt;String&gt; pageQueue;\r\n\r\n    pageQueue = new LinkedList&lt;String&gt;(){\r\n    \t\t\tprivate static final long serialVersionUID = -6707803882461262867L;\r\n    \r\n    \t\t    public boolean add(String object) {\r\n    \t\t    \tboolean result;\r\n    \t\t    \tif(this.size() &lt; 2)\r\n    \t\t    \t\tresult = super.add(object);\r\n    \t\t    \telse\r\n    \t\t    \t{\r\n    \t\t    \t\tsuper.removeFirst();\r\n    \t\t    \t\tresult = super.add(object);\r\n    \t\t    \t}\r\n    \t\t    \treturn result;\r\n    \t\t    }\r\n    \t\t};\r\n\r\n\r\n    ....\r\n    TMarket.pageQueue.add(&quot;ScreenOne&quot;);\r\n    ....\r\n    TMarket.pageQueue.add(&quot;ScreenTwo&quot;);\r\n    .....\r\n\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>This is what I did with <code>Queue</code> wrapped with <code>LinkedList</code>, It is fixed sized which I give in here is 2;</p>\n\n<pre><code>public static Queue&lt;String&gt; pageQueue;\n\npageQueue = new LinkedList&lt;String&gt;(){\n            private static final long serialVersionUID = -6707803882461262867L;\n\n            public boolean add(String object) {\n                boolean result;\n                if(this.size() &lt; 2)\n                    result = super.add(object);\n                else\n                {\n                    super.removeFirst();\n                    result = super.add(object);\n                }\n                return result;\n            }\n        };\n\n\n....\nTMarket.pageQueue.add(\"ScreenOne\");\n....\nTMarket.pageQueue.add(\"ScreenTwo\");\n.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506399731,"creation_date":1506399731,"answer_id":46417785,"question_id":1963806,"body_markdown":"A Simple solution, below is a Queue of &quot;String&quot;\r\n\r\n    LinkedHashMap&lt;Integer, String&gt; queue;\r\n    int queueKeysCounter;\r\n\r\n    queue.put(queueKeysCounter++, &quot;My String&quot;);\r\n    queueKeysCounter %= QUEUE_SIZE;\r\n\r\nNote that this will not maintain the Order of the items in the Queue, but it will replace the oldest entry.                                \r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>A Simple solution, below is a Queue of \"String\"</p>\n\n<pre><code>LinkedHashMap&lt;Integer, String&gt; queue;\nint queueKeysCounter;\n\nqueue.put(queueKeysCounter++, \"My String\");\nqueueKeysCounter %= QUEUE_SIZE;\n</code></pre>\n\n<p>Note that this will not maintain the Order of the items in the Queue, but it will replace the oldest entry.                                </p>\n"},{"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666765891,"creation_date":1534735545,"answer_id":51923797,"question_id":1963806,"body_markdown":"\r\n    public class CircularQueue&lt;E&gt; extends LinkedList&lt;E&gt; {\r\n        private final int capacity;\r\n    \r\n        public CircularQueue(int capacity){\r\n            this.capacity = capacity;\r\n        }\r\n    \r\n        @Override\r\n        public boolean add(E e) {\r\n            if(size() &gt;= capacity)\r\n                removeFirst();\r\n            return super.add(e);\r\n        }\r\n    }\r\n\r\n\r\nUsage and test result:\r\n\r\n    public static void main(String[] args) {\r\n        CircularQueue&lt;String&gt; queue = new CircularQueue&lt;&gt;(3);\r\n        queue.add(&quot;a&quot;);\r\n        queue.add(&quot;b&quot;);\r\n        queue.add(&quot;c&quot;);\r\n        System.out.println(queue.toString());   //[a, b, c]\r\n\r\n        String first = queue.pollFirst();       //a\r\n        System.out.println(queue.toString());   //[b,c]\r\n\r\n        queue.add(&quot;d&quot;);\r\n        queue.add(&quot;e&quot;);\r\n        queue.add(&quot;f&quot;);\r\n        System.out.println(queue.toString());   //[d, e, f]\r\n    }\r\n\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<pre><code>public class CircularQueue&lt;E&gt; extends LinkedList&lt;E&gt; {\n    private final int capacity;\n\n    public CircularQueue(int capacity){\n        this.capacity = capacity;\n    }\n\n    @Override\n    public boolean add(E e) {\n        if(size() &gt;= capacity)\n            removeFirst();\n        return super.add(e);\n    }\n}\n</code></pre>\n<p>Usage and test result:</p>\n<pre><code>public static void main(String[] args) {\n    CircularQueue&lt;String&gt; queue = new CircularQueue&lt;&gt;(3);\n    queue.add(&quot;a&quot;);\n    queue.add(&quot;b&quot;);\n    queue.add(&quot;c&quot;);\n    System.out.println(queue.toString());   //[a, b, c]\n\n    String first = queue.pollFirst();       //a\n    System.out.println(queue.toString());   //[b,c]\n\n    queue.add(&quot;d&quot;);\n    queue.add(&quot;e&quot;);\n    queue.add(&quot;f&quot;);\n    System.out.println(queue.toString());   //[d, e, f]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6812447,"reputation":2295,"user_id":5242161,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576336977,"creation_date":1576336977,"answer_id":59336427,"question_id":1963806,"body_markdown":"As it&#39;s advised in OOPs that we should prefer [Composition over Inheritance][1]  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance\r\nHere my solution keeping that in mind.\r\n\r\n    package com.choiceview;\r\n    \r\n    import java.util.ArrayDeque;\r\n    \r\n    class Ideone {\r\n        public static void main(String[] args) {\r\n            LimitedArrayDeque&lt;Integer&gt; q = new LimitedArrayDeque&lt;&gt;(3);\r\n            q.add(1);\r\n            q.add(2);\r\n            q.add(3);\r\n            System.out.println(q);\r\n    \r\n            q.add(4);\r\n            // First entry ie 1 got pushed out\r\n            System.out.println(q);\r\n        }\r\n    }\r\n    \r\n    class LimitedArrayDeque&lt;T&gt; {\r\n    \r\n        private int maxSize;\r\n        private ArrayDeque&lt;T&gt; queue;\r\n    \r\n        private LimitedArrayDeque() {\r\n    \r\n        }\r\n    \r\n        public LimitedArrayDeque(int maxSize) {\r\n            this.maxSize = maxSize;\r\n            queue = new ArrayDeque&lt;T&gt;(maxSize);\r\n        }\r\n    \r\n        public void add(T t) {\r\n            if (queue.size() == maxSize) {\r\n                queue.removeFirst();\r\n            }\r\n            queue.add(t);\r\n        }\r\n    \r\n        public boolean remove(T t) {\r\n            return queue.remove(t);\r\n        }\r\n    \r\n        public boolean contains(T t) {\r\n            return queue.contains(t);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return queue.toString();\r\n        }\r\n    }","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>As it's advised in OOPs that we should prefer <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">Composition over Inheritance</a>  </p>\n\n<p>Here my solution keeping that in mind.</p>\n\n<pre><code>package com.choiceview;\n\nimport java.util.ArrayDeque;\n\nclass Ideone {\n    public static void main(String[] args) {\n        LimitedArrayDeque&lt;Integer&gt; q = new LimitedArrayDeque&lt;&gt;(3);\n        q.add(1);\n        q.add(2);\n        q.add(3);\n        System.out.println(q);\n\n        q.add(4);\n        // First entry ie 1 got pushed out\n        System.out.println(q);\n    }\n}\n\nclass LimitedArrayDeque&lt;T&gt; {\n\n    private int maxSize;\n    private ArrayDeque&lt;T&gt; queue;\n\n    private LimitedArrayDeque() {\n\n    }\n\n    public LimitedArrayDeque(int maxSize) {\n        this.maxSize = maxSize;\n        queue = new ArrayDeque&lt;T&gt;(maxSize);\n    }\n\n    public void add(T t) {\n        if (queue.size() == maxSize) {\n            queue.removeFirst();\n        }\n        queue.add(t);\n    }\n\n    public boolean remove(T t) {\n        return queue.remove(t);\n    }\n\n    public boolean contains(T t) {\n        return queue.contains(t);\n    }\n\n    @Override\n    public String toString() {\n        return queue.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463512,"reputation":748,"user_id":866473,"accept_rate":60,"display_name":"Bas Kuis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606094160,"creation_date":1606094160,"answer_id":64961419,"question_id":1963806,"body_markdown":"Ok, I&#39;ll throw out my version too. :-) This is build to be very performant - for when that matters. It&#39;s not based on LinkedList - and is thread safe (should be at least). FIFO\r\n\r\n    static class FixedSizeCircularReference&lt;T&gt; {\r\n        T[] entries\r\n\r\n        FixedSizeCircularReference(int size) {\r\n            this.entries = new Object[size] as T[]\r\n            this.size = size\r\n        }\r\n        int cur = 0\r\n        int size\r\n\r\n        synchronized void add(T entry) {\r\n            entries[cur++] = entry\r\n            if (cur &gt;= size) {\r\n                cur = 0\r\n            }\r\n        }\r\n\r\n        List&lt;T&gt; asList() {\r\n            int c = cur\r\n            int s = size\r\n            T[] e = entries.collect() as T[]\r\n            List&lt;T&gt; list = new ArrayList&lt;&gt;()\r\n            int oldest = (c == s - 1) ? 0 : c\r\n            for (int i = 0; i &lt; e.length; i++) {\r\n                def entry = e[oldest + i &lt; s ? oldest + i : oldest + i - s]\r\n                if (entry) list.add(entry)\r\n            }\r\n            return list\r\n        }\r\n    }\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Ok, I'll throw out my version too. :-) This is build to be very performant - for when that matters. It's not based on LinkedList - and is thread safe (should be at least). FIFO</p>\n<pre><code>static class FixedSizeCircularReference&lt;T&gt; {\n    T[] entries\n\n    FixedSizeCircularReference(int size) {\n        this.entries = new Object[size] as T[]\n        this.size = size\n    }\n    int cur = 0\n    int size\n\n    synchronized void add(T entry) {\n        entries[cur++] = entry\n        if (cur &gt;= size) {\n            cur = 0\n        }\n    }\n\n    List&lt;T&gt; asList() {\n        int c = cur\n        int s = size\n        T[] e = entries.collect() as T[]\n        List&lt;T&gt; list = new ArrayList&lt;&gt;()\n        int oldest = (c == s - 1) ? 0 : c\n        for (int i = 0; i &lt; e.length; i++) {\n            def entry = e[oldest + i &lt; s ? oldest + i : oldest + i - s]\n            if (entry) list.add(entry)\n        }\n        return list\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":563575,"reputation":2603,"user_id":192055,"accept_rate":90,"display_name":"c0d3x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101349,"favorite_count":0,"down_vote_count":1,"up_vote_count":166,"accepted_answer_id":1963830,"answer_count":15,"score":165,"last_activity_date":1687202424,"creation_date":1261846894,"question_id":1963806,"body_markdown":"I need a queue with a fixed size. When I add an element and the queue is full, it should automatically remove the oldest element. \r\n\r\nIs there an existing implementation for this in Java?\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I need a queue with a fixed size. When I add an element and the queue is full, it should automatically remove the oldest element. </p>\n\n<p>Is there an existing implementation for this in Java?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26800390,"reputation":1,"user_id":20392421,"display_name":"stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687202333,"creation_date":1687202333,"question_id":76509524,"body_markdown":"I&#39;m having a problem while running my app, but I&#39;m not understanding why. \r\nThe problem seems to be when I use popBackStack, however I already use this in other parts of the app and it never happened.\r\nBoth of the classes I&#39;m working with are fragments.\r\n\r\n**The problem:**\r\n\r\n`I/NavController: Ignoring popBackStack to destination com.example.dissertation:id/explanationFFragment as it was not found on the current back stack`\r\n\r\n\r\n**explanationFFragment**\r\n\r\n```\r\npackage com.example.dissertation.ui;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.navigation.Navigation;\r\n\r\nimport com.example.dissertation.R;\r\nimport com.example.dissertation.databinding.FragmentExplanationfBinding;\r\n\r\nimport com.example.dissertation.ui.dashboard.DashboardViewModel;\r\n\r\npublic class ExplanationFFragment extends Fragment {\r\n    private FragmentExplanationfBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        DashboardViewModel dashboardViewModel =\r\n                new ViewModelProvider(this).get(DashboardViewModel.class);\r\n\r\n        binding = FragmentExplanationfBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        binding.buttonExf.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).navigate(R.id.action_explanationFFragment_to_factsFragment);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n**where I&#39;m doing popBackStack**\r\n\r\n\r\n```\r\n   @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        MyApplication app = (MyApplication) getActivity().getApplication();\r\n        for (int i = 0; i &lt; binding.container.getChildCount(); i++) {\r\n\r\n            View v = ((LinearLayout) binding.container.getChildAt(i)).getChildAt(0);\r\n            v.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (app.rehabActivity.equals(&quot;Q&quot;)) {\r\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationQFragment, false);\r\n                    } else if (app.rehabActivity.equals(&quot;F&quot;)) {\r\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationFFragment, false);\r\n                    } else {\r\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.navigation_home, false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\n\r\nCan someone understand whats the problem and help me, please? ","title":"Ignoring popBackStack to destination as it was not found on the current back stack","body":"<p>I'm having a problem while running my app, but I'm not understanding why.\nThe problem seems to be when I use popBackStack, however I already use this in other parts of the app and it never happened.\nBoth of the classes I'm working with are fragments.</p>\n<p><strong>The problem:</strong></p>\n<p><code>I/NavController: Ignoring popBackStack to destination com.example.dissertation:id/explanationFFragment as it was not found on the current back stack</code></p>\n<p><strong>explanationFFragment</strong></p>\n<pre><code>package com.example.dissertation.ui;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\nimport androidx.navigation.Navigation;\n\nimport com.example.dissertation.R;\nimport com.example.dissertation.databinding.FragmentExplanationfBinding;\n\nimport com.example.dissertation.ui.dashboard.DashboardViewModel;\n\npublic class ExplanationFFragment extends Fragment {\n    private FragmentExplanationfBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        DashboardViewModel dashboardViewModel =\n                new ViewModelProvider(this).get(DashboardViewModel.class);\n\n        binding = FragmentExplanationfBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        return root;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        binding.buttonExf.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).navigate(R.id.action_explanationFFragment_to_factsFragment);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p><strong>where I'm doing popBackStack</strong></p>\n<pre><code>   @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        MyApplication app = (MyApplication) getActivity().getApplication();\n        for (int i = 0; i &lt; binding.container.getChildCount(); i++) {\n\n            View v = ((LinearLayout) binding.container.getChildAt(i)).getChildAt(0);\n            v.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (app.rehabActivity.equals(&quot;Q&quot;)) {\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationQFragment, false);\n                    } else if (app.rehabActivity.equals(&quot;F&quot;)) {\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationFFragment, false);\n                    } else {\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.navigation_home, false);\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n<p>Can someone understand whats the problem and help me, please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1579177509,"post_id":59769615,"comment_id":105682992,"body_markdown":"There has never been anything called Control Center in java. You mean Mission Control? Or something else?","body":"There has never been anything called Control Center in java. You mean Mission Control? Or something else?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1579177606,"post_id":59769615,"comment_id":105683040,"body_markdown":"Or the Java Control Panel?","body":"Or the Java Control Panel?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1579187695,"post_id":59769615,"comment_id":105688990,"body_markdown":"It doesn’t make much sense to have a control panel, where there is no standalone JRE.","body":"It doesn’t make much sense to have a control panel, where there is no standalone JRE."},{"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"score":0,"creation_date":1579608728,"post_id":59769615,"comment_id":105815719,"body_markdown":"Hello, I&#39;m sorry! I meant the Java Control Panel...","body":"Hello, I&#39;m sorry! I meant the Java Control Panel..."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1667193611,"creation_date":1579178338,"answer_id":59769921,"question_id":59769615,"body_markdown":"For the record, there never was a &quot;Java Control Center&quot;.\r\n\r\n  - Java Flight Recorder (JFR) and Java Mission Control (JMC) are included in both Oracle Java 11 and OpenJDK Java 11\r\n\r\n  - The Java Control Panel which was part of the deployment tool chain that was dropped in Java 11; see the [release notes][1].  It is not available for **either** Oracle Java 11 **or** OpenJDK Java 11.\r\n\r\nSo:\r\n\r\n&gt; Question: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java? \r\n\r\nAssuming you are talking about the Java Control **Panel**, the answer is (AFAIK) you can&#39;t, and this won&#39;t change in future releases ... unless Oracle (or someone else) comes up with a replacement for the deployment tool chain.\r\n\r\n&gt; Why: With the Control Center we can set easily some security parameters.\r\n\r\n&lt;strike&gt;It is most likely that the parameters can be set some other way.&lt;/strike&gt;\r\n\r\n**CORRECTION** - It appears that many of the security parameters that were configured using the Java Control Panel control the security of the Java browser plugin and Java Webstart.  JWS and the browser plugin no longer exist in Java 11.\r\n\r\nYou were interested in configuring `Control Panel &gt; Security &gt; Exception Site List`.  Allowed the user to mark certain sites as &quot;safe&quot; as a source for RIAs.  Since RIAs relied on either JWS or the Java browser plugin, this configuration property is moot.\r\n\r\n(Or at least ... that is what I have deduced from reading the Java 8 deployment docs.)\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>For the record, there never was a &quot;Java Control Center&quot;.</p>\n<ul>\n<li><p>Java Flight Recorder (JFR) and Java Mission Control (JMC) are included in both Oracle Java 11 and OpenJDK Java 11</p>\n</li>\n<li><p>The Java Control Panel which was part of the deployment tool chain that was dropped in Java 11; see the <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"nofollow noreferrer\">release notes</a>.  It is not available for <strong>either</strong> Oracle Java 11 <strong>or</strong> OpenJDK Java 11.</p>\n</li>\n</ul>\n<p>So:</p>\n<blockquote>\n<p>Question: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java?</p>\n</blockquote>\n<p>Assuming you are talking about the Java Control <strong>Panel</strong>, the answer is (AFAIK) you can't, and this won't change in future releases ... unless Oracle (or someone else) comes up with a replacement for the deployment tool chain.</p>\n<blockquote>\n<p>Why: With the Control Center we can set easily some security parameters.</p>\n</blockquote>\n<p><strike>It is most likely that the parameters can be set some other way.</strike></p>\n<p><strong>CORRECTION</strong> - It appears that many of the security parameters that were configured using the Java Control Panel control the security of the Java browser plugin and Java Webstart.  JWS and the browser plugin no longer exist in Java 11.</p>\n<p>You were interested in configuring <code>Control Panel &gt; Security &gt; Exception Site List</code>.  Allowed the user to mark certain sites as &quot;safe&quot; as a source for RIAs.  Since RIAs relied on either JWS or the Java browser plugin, this configuration property is moot.</p>\n<p>(Or at least ... that is what I have deduced from reading the Java 8 deployment docs.)</p>\n"},{"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579178843,"creation_date":1579178843,"answer_id":59770064,"question_id":59769615,"body_markdown":"As pe the release notes of Java 11:\r\n\r\nThe Java Plugin and Java WebStart technologies that were deprecated in JDK 9 and marked as candidates for removal in JDK 10, have now been removed. Please note that the **Java Control Panel, which was used for configuring the deployment technologies, has also been removed along with the shared system JRE (but not the server JRE) and the JRE Auto Update mechanism.** [More details][1]\r\n\r\n[1]: https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>As pe the release notes of Java 11:</p>\n\n<p>The Java Plugin and Java WebStart technologies that were deprecated in JDK 9 and marked as candidates for removal in JDK 10, have now been removed. Please note that the <strong>Java Control Panel, which was used for configuring the deployment technologies, has also been removed along with the shared system JRE (but not the server JRE) and the JRE Auto Update mechanism.</strong> <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"nofollow noreferrer\">More details</a></p>\n"},{"tags":[],"owner":{"account_id":3446576,"reputation":21,"user_id":6525457,"display_name":"Rich.Weber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663793056,"creation_date":1663792752,"answer_id":73806709,"question_id":59769615,"body_markdown":"Some of the funtionalities in the control panel were pretty important to windows users. Installing certificates, for example, is a tedious process without it. Windows cert manager does not target the cacerts file and java doesn&#39;t automagically trust the windows cert stores (which is stupid). \r\n\r\nAlso the automatic updater being gone? Ridiculous. Does oracle actually think sysadmins are going to check their website for updates every day? Good thing MS rereleased their own openjdk. So sick and tired of Oracle&#39;s Shenanigans..\r\n\r\nLong story short... it&#39;s gone, and not coming back, but luckily there are other options that satisfy your needs. \r\n\r\nhttps://learn.microsoft.com/en-us/java/openjdk/download\r\n\r\n","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>Some of the funtionalities in the control panel were pretty important to windows users. Installing certificates, for example, is a tedious process without it. Windows cert manager does not target the cacerts file and java doesn't automagically trust the windows cert stores (which is stupid).</p>\n<p>Also the automatic updater being gone? Ridiculous. Does oracle actually think sysadmins are going to check their website for updates every day? Good thing MS rereleased their own openjdk. So sick and tired of Oracle's Shenanigans..</p>\n<p>Long story short... it's gone, and not coming back, but luckily there are other options that satisfy your needs.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/download</a></p>\n"},{"tags":[],"owner":{"account_id":13575484,"reputation":31,"user_id":9792963,"display_name":"Mathias Zajaczkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687201941,"creation_date":1687201941,"answer_id":76509488,"question_id":59769615,"body_markdown":"In MS OpenJDK 11 there is no JRE and there is no Java Control Panel neither.","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>In MS OpenJDK 11 there is no JRE and there is no Java Control Panel neither.</p>\n"}],"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5603,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":59769921,"answer_count":4,"score":2,"last_activity_date":1687201941,"creation_date":1579177275,"question_id":59769615,"body_markdown":"We own Oracle Java Desktop Subscriptions and using Java 8 for Desktop Clients.\r\nWith Java 11 Oracle releases only JDK version, which includes a JRE.\r\n\r\nWith Java 11 the Control Center is missing. Is it right, that the CC is released only in OpenJDK?\r\n\r\nQuestion: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java?\r\nWhy: With the Control Center we can set easily some security parameters.\r\n","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>We own Oracle Java Desktop Subscriptions and using Java 8 for Desktop Clients.\nWith Java 11 Oracle releases only JDK version, which includes a JRE.</p>\n\n<p>With Java 11 the Control Center is missing. Is it right, that the CC is released only in OpenJDK?</p>\n\n<p>Question: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java?\nWhy: With the Control Center we can set easily some security parameters.</p>\n"},{"tags":["java","design-patterns","factory-pattern"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687204101,"post_id":76509447,"comment_id":134901266,"body_markdown":"From my 12-years-experience point of view it&#39;s absolutely ok. If you see factory class is handy in your particular case - use it. Both classes are of the same interface, hiding the implementation is the purpose of interface, returning different implementations according to some logic is typical for a factory pattern.","body":"From my 12-years-experience point of view it&#39;s absolutely ok. If you see factory class is handy in your particular case - use it. Both classes are of the same interface, hiding the implementation is the purpose of interface, returning different implementations according to some logic is typical for a factory pattern."}],"owner":{"account_id":3496476,"reputation":171,"user_id":2924519,"accept_rate":100,"display_name":"SerchRac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687201536,"creation_date":1687201536,"question_id":76509447,"body_markdown":"I have read various articles on the factory pattern. However almost in all the examples the objects used are &quot;flat&quot; (beans, dtos,) ie. Dogs, Cars, etc. and that&#39;s good it helped me understand. But what about service objects, those that execute specific logic.\r\n\r\nFor example, let&#39;s say I want to create an app that supports **credit card** and **debit card** payments. Assuming that the logic is different for both cases, my idea is to create an interface *`CardPayment`* with both implementations: *`CreditCardPayemnt`* and *`DebitCardPayemnt`*.\r\n\r\nThe following would be to create the **factory class** that will return an object of type `CardPayment` (instantiated with one of the implementations based on some input parameter)\r\n\r\nIn this way, the `processPayment()` (method from `CardPayment` interface)could be executed without caring about the type of payment.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Would this be a valid use of the factory pattern?** My concern is based on the fact that factory is a creational pattern and what I propose here is yes the creation of an object (`CardPayment`), but it is more behavior oriented. \r\n\r\nMost of the examples I&#39;ve seen consist of objects that have different attributes so it&#39;s useful to use factory to create one or the other, but what about objects that are different because their operation itself is different.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MMR9dl.png","title":"Factory pattern can be used to create business objects?","body":"<p>I have read various articles on the factory pattern. However almost in all the examples the objects used are &quot;flat&quot; (beans, dtos,) ie. Dogs, Cars, etc. and that's good it helped me understand. But what about service objects, those that execute specific logic.</p>\n<p>For example, let's say I want to create an app that supports <strong>credit card</strong> and <strong>debit card</strong> payments. Assuming that the logic is different for both cases, my idea is to create an interface <em><code>CardPayment</code></em> with both implementations: <em><code>CreditCardPayemnt</code></em> and <em><code>DebitCardPayemnt</code></em>.</p>\n<p>The following would be to create the <strong>factory class</strong> that will return an object of type <code>CardPayment</code> (instantiated with one of the implementations based on some input parameter)</p>\n<p>In this way, the <code>processPayment()</code> (method from <code>CardPayment</code> interface)could be executed without caring about the type of payment.</p>\n<p><a href=\"https://i.stack.imgur.com/MMR9dl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MMR9dl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Would this be a valid use of the factory pattern?</strong> My concern is based on the fact that factory is a creational pattern and what I propose here is yes the creation of an object (<code>CardPayment</code>), but it is more behavior oriented.</p>\n<p>Most of the examples I've seen consist of objects that have different attributes so it's useful to use factory to create one or the other, but what about objects that are different because their operation itself is different.</p>\n"},{"tags":["java","spring-boot","thymeleaf","flying-saucer"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687201486,"creation_date":1687201486,"answer_id":76509443,"question_id":76506944,"body_markdown":"This is Normal Printing Behaviour, it is simply adding normal printer &quot;gripper margins&quot; (so the ink does not foul the rollers). You will need to add CSS to reduce printer Media Margins to &quot;Borderless&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOne way is to set the @Media print for the body to Zer0\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis may not remove precisely all white areas (without a minor pixel or two change) since there is often some unit rounding off for scale ratios, which can vary from browser to browser, and often depend on current page scaling.\r\n\r\nSo here are the crude values I used for reducing the printer border\r\n```\r\n&lt;head&gt;\r\n    &lt;style th:inline=&quot;text&quot;&gt;\r\n        @media print {\r\n        @page {\r\n        size: 1920px 1440px;\r\n        border: 0px;\r\n        margin: 0px;\r\n        padding: 0px;\r\n        }\r\n        }\r\n```  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yYALd.jpg\r\n  [2]: https://i.stack.imgur.com/dxFMq.jpg","title":"White border around my background when generating a PDF certificate from an HTML template with FlyingSaucer","body":"<p>This is Normal Printing Behaviour, it is simply adding normal printer &quot;gripper margins&quot; (so the ink does not foul the rollers). You will need to add CSS to reduce printer Media Margins to &quot;Borderless&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/yYALd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYALd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>One way is to set the @Media print for the body to Zer0</p>\n<p><a href=\"https://i.stack.imgur.com/dxFMq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxFMq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This may not remove precisely all white areas (without a minor pixel or two change) since there is often some unit rounding off for scale ratios, which can vary from browser to browser, and often depend on current page scaling.</p>\n<p>So here are the crude values I used for reducing the printer border</p>\n<pre><code>&lt;head&gt;\n    &lt;style th:inline=&quot;text&quot;&gt;\n        @media print {\n        @page {\n        size: 1920px 1440px;\n        border: 0px;\n        margin: 0px;\n        padding: 0px;\n        }\n        }\n</code></pre>\n"}],"owner":{"account_id":28850943,"reputation":23,"user_id":22096865,"display_name":"Shalera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76509443,"answer_count":1,"score":2,"last_activity_date":1687201486,"creation_date":1687180011,"question_id":76506944,"body_markdown":"I need to generate PDF certificates after completing courses. These pdf&#39;s generating by HTML template with Thymeleaf. Everything is OK through converting, but in result appear white border around the background image. Resolution of Background image is 1920x1440.\r\nThere is my code on Spring Boot 3.1.0:\r\n\r\n```\r\npublic String parseThymeleafTemplate(String verificationCode, Long certificateId) {\r\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(TemplateMode.HTML);\r\n\r\n        TemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver);\r\n\r\n        User student = User.builder()\r\n                .surname(&quot;Test_surname&quot;).name(&quot;Test_name&quot;).build();\r\n        User mentor = User.builder()\r\n                .surname(&quot;Test_mentor&quot;).name(&quot;Test_mentor&quot;).position(&quot;Java dev&quot;).build();\r\n        Course course = Course.builder()\r\n                .mentor(mentor)\r\n                .name(&quot;Java Developer for 3 weeks&quot;).build();\r\n        }\r\n\r\n        Certificate certificate = Certificate.builder()\r\n                .id(54L)\r\n                .course(course)\r\n                .student(student)\r\n                .verificationCode(verificationCode)\r\n                .issuedDate(LocalDate.now())\r\n                .build();\r\n        Context context = new Context();\r\n        context.setVariable(&quot;company_name&quot;, &quot;test_company&quot;);\r\n        context.setVariable(&quot;student_name&quot;, certificate.getStudent().getSurname() + &quot; &quot; + certificate.getStudent().getName());\r\n        context.setVariable(&quot;course_name&quot;, certificate.getCourse().getName());\r\n        context.setVariable(&quot;mentor_name&quot;, certificate.getCourse().getMentor().getSurname() + &quot; &quot; + certificate.getCourse().getMentor().getName());\r\n        context.setVariable(&quot;issued_date&quot;, certificate.getIssuedDate());\r\n        context.setVariable(&quot;verification_code&quot;, certificate.getVerificationCode());\r\n        String generatedFileName = this.generatePdfFromHtml(templateEngine.process(&quot;pdf_cert_temp&quot;, context),\r\n                &quot;Java&quot;, certificate);\r\n        certificate.setFileName(generatedFileName);\r\n        return generatedFileName;\r\n    }\r\n\r\n    public String generatePdfFromHtml(String html, String courseTag, Certificate certificate) {\r\n        String fileName = courseTag + &quot;_&quot; +\r\n                transliterateUtil.transliterateTextFromRussianToLatin(certificate.getStudent().getName()) + &quot;_&quot; +\r\n                certificate.getIssuedDate().toString() + &quot;_&quot; + certificate.getId() +\r\n                CertStrings.CERT_EXTENSION;\r\n        String outputFolder = CertStrings.PATH_TO_PDF_CERTS + File.separator + fileName;\r\n        try (OutputStream outputStream = new FileOutputStream(outputFolder)) {\r\n            ITextRenderer renderer = new ITextRenderer();\r\n            renderer.setDocumentFromString(html);\r\n            renderer.layout();\r\n            renderer.createPDF(outputStream);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(CertStrings.ERROR_WHILE_OUTPUT_STREAM + e);\r\n        } catch (DocumentException e) {\r\n            throw new RuntimeException(CertStrings.ERROR_CREATING_PDF + e);\r\n        }\r\n        return fileName;\r\n    }\r\n```\r\n\r\nThere is my Thymeleaf template for creating PDF\r\n\r\n```\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;style th:inline=&quot;text&quot;&gt;\r\n        @page {\r\n            size: 1920px 1440px;\r\n        }\r\n\r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            background-image: url(http://some_url/files/cert_templates/java_template_bg.jpg);\r\n            background-size: cover;\r\n            background-position: center;\r\n            background-repeat: no-repeat;\r\n            width: 100%;\r\n            height: 100%;\r\n            margin: 0px;\r\n            padding: 0px;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .company-name {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-style: italic;\r\n            font-size: 70px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 5%;\r\n            left: 44%;\r\n        }\r\n\r\n        .student-name {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-size: 70px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 31%;\r\n            left: 38.5%;\r\n        }\r\n\r\n        .course-completing {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-weight: 100;\r\n            font-size: 51px;\r\n            position: absolute;\r\n            margin-top: 36%;\r\n            left: 30%;\r\n        }\r\n\r\n        .course-description {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-size: 50px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 40%;\r\n            left: 35%;\r\n        }\r\n\r\n        .mentor-name {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-size: 30px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 44%;\r\n            left: 39%;\r\n        }\r\n\r\n        .verification-code {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-size: 25px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 46%;\r\n            left: 34.5%;\r\n        }\r\n\r\n        .issued-date {\r\n            text-align: left;\r\n            color: #D9AF58;\r\n            font-size: 50px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 55%;\r\n            left: 21.1%;\r\n        }\r\n\r\n        .signature {\r\n            text-align: left;\r\n            color: #D9AF58;\r\n            font-size: 50px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 55%;\r\n            right: 21.5%;\r\n        }\r\n    &lt;/style&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;div class=&quot;company-name&quot;&gt;\r\n        &lt;span th:text=&quot;${company_name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;student-name&quot;&gt;\r\n        &lt;span th:text=&quot;${student_name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;course-completing&quot;&gt;\r\n        &lt;span&gt;has successfully completing course&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;course-description&quot;&gt;\r\n        &lt;u th:text=&quot;${course_name}&quot;&gt;&lt;/u&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;mentor-name&quot;&gt;\r\n        Taught by &lt;span th:text=&quot;${mentor_name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;verification-code&quot;&gt;\r\n        Verification code: &lt;span th:text=&quot;${verification_code}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;div class=&quot;issued-date&quot;&gt;\r\n            &lt;span th:text=&quot;${issued_date}&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;signature&quot;&gt;\r\n            &lt;span th:text=&quot;&#39;Test S.&#39;&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThis is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PdfGeneratorTest&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PdfGeneratorTest&lt;/name&gt;\r\n    &lt;description&gt;PdfGeneratorTest&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n            &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n            &lt;version&gt;69.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;9.1.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is example, what is look like:\r\n[Example of generated PDF](https://i.stack.imgur.com/1qcpF.png)\r\n\r\n\r\nTried to modify HTML tempalte, but it didn&#39;t work. Resize of image or output page also didn&#39;t work.","title":"White border around my background when generating a PDF certificate from an HTML template with FlyingSaucer","body":"<p>I need to generate PDF certificates after completing courses. These pdf's generating by HTML template with Thymeleaf. Everything is OK through converting, but in result appear white border around the background image. Resolution of Background image is 1920x1440.\nThere is my code on Spring Boot 3.1.0:</p>\n<pre><code>public String parseThymeleafTemplate(String verificationCode, Long certificateId) {\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n\n        TemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n\n        User student = User.builder()\n                .surname(&quot;Test_surname&quot;).name(&quot;Test_name&quot;).build();\n        User mentor = User.builder()\n                .surname(&quot;Test_mentor&quot;).name(&quot;Test_mentor&quot;).position(&quot;Java dev&quot;).build();\n        Course course = Course.builder()\n                .mentor(mentor)\n                .name(&quot;Java Developer for 3 weeks&quot;).build();\n        }\n\n        Certificate certificate = Certificate.builder()\n                .id(54L)\n                .course(course)\n                .student(student)\n                .verificationCode(verificationCode)\n                .issuedDate(LocalDate.now())\n                .build();\n        Context context = new Context();\n        context.setVariable(&quot;company_name&quot;, &quot;test_company&quot;);\n        context.setVariable(&quot;student_name&quot;, certificate.getStudent().getSurname() + &quot; &quot; + certificate.getStudent().getName());\n        context.setVariable(&quot;course_name&quot;, certificate.getCourse().getName());\n        context.setVariable(&quot;mentor_name&quot;, certificate.getCourse().getMentor().getSurname() + &quot; &quot; + certificate.getCourse().getMentor().getName());\n        context.setVariable(&quot;issued_date&quot;, certificate.getIssuedDate());\n        context.setVariable(&quot;verification_code&quot;, certificate.getVerificationCode());\n        String generatedFileName = this.generatePdfFromHtml(templateEngine.process(&quot;pdf_cert_temp&quot;, context),\n                &quot;Java&quot;, certificate);\n        certificate.setFileName(generatedFileName);\n        return generatedFileName;\n    }\n\n    public String generatePdfFromHtml(String html, String courseTag, Certificate certificate) {\n        String fileName = courseTag + &quot;_&quot; +\n                transliterateUtil.transliterateTextFromRussianToLatin(certificate.getStudent().getName()) + &quot;_&quot; +\n                certificate.getIssuedDate().toString() + &quot;_&quot; + certificate.getId() +\n                CertStrings.CERT_EXTENSION;\n        String outputFolder = CertStrings.PATH_TO_PDF_CERTS + File.separator + fileName;\n        try (OutputStream outputStream = new FileOutputStream(outputFolder)) {\n            ITextRenderer renderer = new ITextRenderer();\n            renderer.setDocumentFromString(html);\n            renderer.layout();\n            renderer.createPDF(outputStream);\n        } catch (IOException e) {\n            throw new RuntimeException(CertStrings.ERROR_WHILE_OUTPUT_STREAM + e);\n        } catch (DocumentException e) {\n            throw new RuntimeException(CertStrings.ERROR_CREATING_PDF + e);\n        }\n        return fileName;\n    }\n</code></pre>\n<p>There is my Thymeleaf template for creating PDF</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;style th:inline=&quot;text&quot;&gt;\n        @page {\n            size: 1920px 1440px;\n        }\n\n        body {\n            font-family: Arial, sans-serif;\n            background-image: url(http://some_url/files/cert_templates/java_template_bg.jpg);\n            background-size: cover;\n            background-position: center;\n            background-repeat: no-repeat;\n            width: 100%;\n            height: 100%;\n            margin: 0px;\n            padding: 0px;\n            box-sizing: border-box;\n        }\n\n        .company-name {\n            text-align: center;\n            color: #D9AF58;\n            font-style: italic;\n            font-size: 70px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 5%;\n            left: 44%;\n        }\n\n        .student-name {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-size: 70px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 31%;\n            left: 38.5%;\n        }\n\n        .course-completing {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-weight: 100;\n            font-size: 51px;\n            position: absolute;\n            margin-top: 36%;\n            left: 30%;\n        }\n\n        .course-description {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-size: 50px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 40%;\n            left: 35%;\n        }\n\n        .mentor-name {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-size: 30px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 44%;\n            left: 39%;\n        }\n\n        .verification-code {\n            text-align: center;\n            color: #D9AF58;\n            font-size: 25px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 46%;\n            left: 34.5%;\n        }\n\n        .issued-date {\n            text-align: left;\n            color: #D9AF58;\n            font-size: 50px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 55%;\n            left: 21.1%;\n        }\n\n        .signature {\n            text-align: left;\n            color: #D9AF58;\n            font-size: 50px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 55%;\n            right: 21.5%;\n        }\n    &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;div class=&quot;company-name&quot;&gt;\n        &lt;span th:text=&quot;${company_name}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;student-name&quot;&gt;\n        &lt;span th:text=&quot;${student_name}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;course-completing&quot;&gt;\n        &lt;span&gt;has successfully completing course&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;course-description&quot;&gt;\n        &lt;u th:text=&quot;${course_name}&quot;&gt;&lt;/u&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;mentor-name&quot;&gt;\n        Taught by &lt;span th:text=&quot;${mentor_name}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;verification-code&quot;&gt;\n        Verification code: &lt;span th:text=&quot;${verification_code}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;div class=&quot;issued-date&quot;&gt;\n            &lt;span th:text=&quot;${issued_date}&quot;&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;signature&quot;&gt;\n            &lt;span th:text=&quot;'Test S.'&quot;&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PdfGeneratorTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PdfGeneratorTest&lt;/name&gt;\n    &lt;description&gt;PdfGeneratorTest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n            &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n            &lt;version&gt;69.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n            &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n            &lt;version&gt;9.1.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.2.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is example, what is look like:\n<a href=\"https://i.stack.imgur.com/1qcpF.png\" rel=\"nofollow noreferrer\">Example of generated PDF</a></p>\n<p>Tried to modify HTML tempalte, but it didn't work. Resize of image or output page also didn't work.</p>\n"},{"tags":["java","appium","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687200554,"creation_date":1687200554,"answer_id":76509354,"question_id":76503796,"body_markdown":"QAF has great capabilities of re-usability for cross platform test automation.\r\nYou should utilize  [locator repository][1] feature of qaf to abstract locator out from the code. For example, if using page class,\r\ninstead of having platform specific class\r\n```\r\nIosHomePage.java\r\n\r\n\r\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\r\nprotected WebElement home;\r\n\r\nAndriodHomePage.java\r\n\r\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id=&#39;merchant-name&#39;]&quot;)\r\nprotected WebElement home;\r\n```\r\n\r\nyou can have single class with separate locator repository for each platform (android and ios in this case)\r\n\r\nHomePage.java\r\n```\r\n@FindBy(locator = &quot;home.ele.loc&quot;)\r\nprotected WebElement home;\r\n\r\n```\r\nyou can create locator repository for each platform and add locator in it\r\n```\r\nresource\r\n  - appilcation.properties\r\n  -common\r\n     - \r\n  - android\r\n     - homescreen.properties\r\n     - \r\n     - \r\n  -ios\r\n     - homescreen.properties\r\n     - \r\n     - \r\n```\r\nAt the time of execution specify which resources you want to use by using `env.resources` property. For example, if want to run for android\r\n```\r\nenv.resource=resource/common;resources/android\r\n```\r\nfor android\r\n```\r\nenv.resource=resource/common;resources/ios\r\n```\r\nAnother alternate is [driver specific resources][2]. In that case your properties will look like below\r\n\r\n```\r\nenv.resource=resource/common\r\nandroid.resources=resources/android\r\nios.resources=resources/ios\r\n\r\n```\r\n\r\n\r\nRefer:\r\n - [locator repository][1]\r\n - [managing resources][3]\r\n - [properties][4]\r\n - [Repository editor][5]\r\n\r\nThere is also a good training material available from perfecto on [Locator &amp; Capabilities][6]\r\n\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/locator_repository.html\r\n  [2]: https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html#managing-driver-specific-resource\r\n  [3]: https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html\r\n  [4]: https://qmetry.github.io/qaf/latest/properties_configuration.html\r\n  [5]: https://qmetry.github.io/qaf/latest/repo_editor.html\r\n  [6]: https://help.perfecto.io/perfecto-help/content/courses/module_2___locators___capabilities.htm","title":"How to define platform-specific page elements for iOS and Android in a single place using QAF?","body":"<p>QAF has great capabilities of re-usability for cross platform test automation.\nYou should utilize  <a href=\"https://qmetry.github.io/qaf/latest/locator_repository.html\" rel=\"nofollow noreferrer\">locator repository</a> feature of qaf to abstract locator out from the code. For example, if using page class,\ninstead of having platform specific class</p>\n<pre><code>IosHomePage.java\n\n\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\nprotected WebElement home;\n\nAndriodHomePage.java\n\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id='merchant-name']&quot;)\nprotected WebElement home;\n</code></pre>\n<p>you can have single class with separate locator repository for each platform (android and ios in this case)</p>\n<p>HomePage.java</p>\n<pre><code>@FindBy(locator = &quot;home.ele.loc&quot;)\nprotected WebElement home;\n\n</code></pre>\n<p>you can create locator repository for each platform and add locator in it</p>\n<pre><code>resource\n  - appilcation.properties\n  -common\n     - \n  - android\n     - homescreen.properties\n     - \n     - \n  -ios\n     - homescreen.properties\n     - \n     - \n</code></pre>\n<p>At the time of execution specify which resources you want to use by using <code>env.resources</code> property. For example, if want to run for android</p>\n<pre><code>env.resource=resource/common;resources/android\n</code></pre>\n<p>for android</p>\n<pre><code>env.resource=resource/common;resources/ios\n</code></pre>\n<p>Another alternate is <a href=\"https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html#managing-driver-specific-resource\" rel=\"nofollow noreferrer\">driver specific resources</a>. In that case your properties will look like below</p>\n<pre><code>env.resource=resource/common\nandroid.resources=resources/android\nios.resources=resources/ios\n\n</code></pre>\n<p>Refer:</p>\n<ul>\n<li><a href=\"https://qmetry.github.io/qaf/latest/locator_repository.html\" rel=\"nofollow noreferrer\">locator repository</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html\" rel=\"nofollow noreferrer\">managing resources</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/properties_configuration.html\" rel=\"nofollow noreferrer\">properties</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/repo_editor.html\" rel=\"nofollow noreferrer\">Repository editor</a></li>\n</ul>\n<p>There is also a good training material available from perfecto on <a href=\"https://help.perfecto.io/perfecto-help/content/courses/module_2___locators___capabilities.htm\" rel=\"nofollow noreferrer\">Locator &amp; Capabilities</a></p>\n"}],"owner":{"account_id":28064486,"reputation":45,"user_id":21438080,"display_name":"Ostan Dsouza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76509354,"answer_count":1,"score":2,"last_activity_date":1687200554,"creation_date":1687152080,"question_id":76503796,"body_markdown":"I&#39;m developing a test case that needs to run on both iOS and Android platforms using QAF (Qmetry Automation Framework). I want to follow a Page Object approach where I can define elements for both platforms in a single place and reuse them in my tests.\r\n\r\nIn Appium, I can achieve this by using annotations like @AndroidFindBy and @iOSXCUITFindBy. Here&#39;s an example:\r\n\r\n```\r\n@HowToUseLocators(androidAutomation = LocatorGroupStrategy.ALL_POSSIBLE, iOSXCUITAutomation = LocatorGroupStrategy.ALL_POSSIBLE)\r\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id=&#39;merchant-name&#39;]&quot;)\r\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\r\nprotected WebElement home;\r\n```\r\n\r\nThis allows me to specify different locators for Android and iOS, and the framework automatically chooses the appropriate locator based on the platform.\r\n\r\nHowever, I couldn&#39;t find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would greatly appreciate any guidance or suggestions on how to approach this in QAF. Thank you!","title":"How to define platform-specific page elements for iOS and Android in a single place using QAF?","body":"<p>I'm developing a test case that needs to run on both iOS and Android platforms using QAF (Qmetry Automation Framework). I want to follow a Page Object approach where I can define elements for both platforms in a single place and reuse them in my tests.</p>\n<p>In Appium, I can achieve this by using annotations like @AndroidFindBy and @iOSXCUITFindBy. Here's an example:</p>\n<pre><code>@HowToUseLocators(androidAutomation = LocatorGroupStrategy.ALL_POSSIBLE, iOSXCUITAutomation = LocatorGroupStrategy.ALL_POSSIBLE)\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id='merchant-name']&quot;)\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\nprotected WebElement home;\n</code></pre>\n<p>This allows me to specify different locators for Android and iOS, and the framework automatically chooses the appropriate locator based on the platform.</p>\n<p>However, I couldn't find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would greatly appreciate any guidance or suggestions on how to approach this in QAF. Thank you!</p>\n"},{"tags":["java","telegram","telegram-bot"],"owner":{"account_id":11009644,"reputation":1,"user_id":8087508,"display_name":"bstrdn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687200155,"creation_date":1687200155,"question_id":76509320,"body_markdown":"When using the InlineQueryResultGame in Telegram, I&#39;m trying to retrieve the groupId from the CallbackQuery that is triggered when the user interacts with the inline game button. However, I&#39;m having difficulty accessing the groupId information from the CallbackQuery object.\r\n\r\nI&#39;ve already checked the documentation and searched for examples, but I couldn&#39;t find a clear explanation or code snippet that demonstrates how to extract the groupId specifically from a CallbackQuery that originated from an InlineQueryResultGame.\r\n\r\nCould someone please provide guidance on how to extract the groupId from the CallbackQuery triggered by the InlineQueryResultGame? Any code examples or explanations would be greatly appreciated. Thank you!\r\n\r\n Example of creating InlineQueryResultGame: \r\n\r\n```\r\nList&lt;InlineQueryResult&gt; results = new ArrayList&lt;&gt;();\r\n\r\nInlineQueryResultGame gameResult =\r\n    InlineQueryResultGame.builder()\r\n        .id(&quot;1&quot;)\r\n        .gameShortName(&quot;bot&quot;).build();\r\n\r\nresults.add(gameResult);\r\n\r\nAnswerInlineQuery answerInlineQuery = new AnswerInlineQuery();\r\nanswerInlineQuery.setInlineQueryId(update.getInlineQuery().getId());\r\nanswerInlineQuery.setResults(results);\r\n\r\ntry {\r\n  bot.execute(answerInlineQuery);\r\n} catch (TelegramApiException e) {\r\n...\r\n}\r\n```\r\n\r\nCallbackQuery:\r\n\r\n[CallbackQuery](https://i.stack.imgur.com/zo5hK.png)","title":"How to get the groupId from CallbackQuery initiated through InlineQueryResultGame?","body":"<p>When using the InlineQueryResultGame in Telegram, I'm trying to retrieve the groupId from the CallbackQuery that is triggered when the user interacts with the inline game button. However, I'm having difficulty accessing the groupId information from the CallbackQuery object.</p>\n<p>I've already checked the documentation and searched for examples, but I couldn't find a clear explanation or code snippet that demonstrates how to extract the groupId specifically from a CallbackQuery that originated from an InlineQueryResultGame.</p>\n<p>Could someone please provide guidance on how to extract the groupId from the CallbackQuery triggered by the InlineQueryResultGame? Any code examples or explanations would be greatly appreciated. Thank you!</p>\n<p>Example of creating InlineQueryResultGame:</p>\n<pre><code>List&lt;InlineQueryResult&gt; results = new ArrayList&lt;&gt;();\n\nInlineQueryResultGame gameResult =\n    InlineQueryResultGame.builder()\n        .id(&quot;1&quot;)\n        .gameShortName(&quot;bot&quot;).build();\n\nresults.add(gameResult);\n\nAnswerInlineQuery answerInlineQuery = new AnswerInlineQuery();\nanswerInlineQuery.setInlineQueryId(update.getInlineQuery().getId());\nanswerInlineQuery.setResults(results);\n\ntry {\n  bot.execute(answerInlineQuery);\n} catch (TelegramApiException e) {\n...\n}\n</code></pre>\n<p>CallbackQuery:</p>\n<p><a href=\"https://i.stack.imgur.com/zo5hK.png\" rel=\"nofollow noreferrer\">CallbackQuery</a></p>\n"},{"tags":["java","apache-camel","activemq","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687199761,"creation_date":1687033579,"answer_id":76498027,"question_id":76497973,"body_markdown":"That component is wired to JMS 2.0 API jar. You need to change your feature to install a javax.jms-api jar that is 2.0 and _not_ the geronimo-jms-api jar that supports JMS v1.1","title":"Camel-activemq component inside of karaf","body":"<p>That component is wired to JMS 2.0 API jar. You need to change your feature to install a javax.jms-api jar that is 2.0 and <em>not</em> the geronimo-jms-api jar that supports JMS v1.1</p>\n"}],"owner":{"account_id":20524248,"reputation":105,"user_id":15063087,"display_name":"k4rnaj1k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76498027,"answer_count":1,"score":0,"last_activity_date":1687199761,"creation_date":1687032655,"question_id":76497973,"body_markdown":"Karaf 4.4.3, camel 3.20.5\r\nI have a blueprint with\r\n```xml\r\n    &lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\r\n        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://localhost:61616&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;karaf&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;karaf&quot; /&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\nI get error when I try to start my app inside of karaf: \r\n```\r\norg.osgi.service.blueprint.container.ComponentDefinitionException: Error when instantiating bean activemq of class org.apache.camel.component.activemq.ActiveMQComponent\r\n...\r\nCaused by: java.lang.NoClassDefFoundError: javax/jms/JMSContext\r\n...\r\nCaused by: java.lang.ClassNotFoundException: javax.jms.JMSContext not found by org.apache.geronimo.specs.geronimo-jms_1.1_spec [203]\r\n```\r\n\r\nMy features:\r\n```xml\r\n        &lt;feature&gt;transaction&lt;/feature&gt;\r\n        &lt;feature&gt;jndi&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc-config&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc-postgresql&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc-pool-dbcp2&lt;/feature&gt;\r\n        &lt;feature&gt;jdbc&lt;/feature&gt;\r\n        &lt;feature&gt;jms&lt;/feature&gt;\r\n        &lt;feature&gt;activemq-client&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc&lt;/feature&gt;\r\n        &lt;feature dependency=&quot;true&quot;&gt;aries-blueprint&lt;/feature&gt;\r\n        &lt;feature&gt;cxf&lt;/feature&gt;\r\n        &lt;feature&gt;camel-activemq&lt;/feature&gt;\r\n```\r\n\r\nI&#39;ve also tried initializing ActiveMQConnectionFactory but was getting same NoClassDeffound error.\r\nAlso tried installing `bundle:install mvn:javax.jms/javax.jms-api/2.0.1`, but that didn&#39;t help.\r\n\r\nI&#39;m guessing there is some API mismatch or I&#39;m missing a dependency.\r\n\r\n_Without the ActiveMQComponent the bundle was working fine._\r\n\r\nThe activemq broker is inside the same karaf instance, I&#39;m connecting to it via hawtio with no issues.","title":"Camel-activemq component inside of karaf","body":"<p>Karaf 4.4.3, camel 3.20.5\nI have a blueprint with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\n        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://localhost:61616&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;karaf&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;karaf&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>I get error when I try to start my app inside of karaf:</p>\n<pre><code>org.osgi.service.blueprint.container.ComponentDefinitionException: Error when instantiating bean activemq of class org.apache.camel.component.activemq.ActiveMQComponent\n...\nCaused by: java.lang.NoClassDefFoundError: javax/jms/JMSContext\n...\nCaused by: java.lang.ClassNotFoundException: javax.jms.JMSContext not found by org.apache.geronimo.specs.geronimo-jms_1.1_spec [203]\n</code></pre>\n<p>My features:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;feature&gt;transaction&lt;/feature&gt;\n        &lt;feature&gt;jndi&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc-config&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc-postgresql&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc-pool-dbcp2&lt;/feature&gt;\n        &lt;feature&gt;jdbc&lt;/feature&gt;\n        &lt;feature&gt;jms&lt;/feature&gt;\n        &lt;feature&gt;activemq-client&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc&lt;/feature&gt;\n        &lt;feature dependency=&quot;true&quot;&gt;aries-blueprint&lt;/feature&gt;\n        &lt;feature&gt;cxf&lt;/feature&gt;\n        &lt;feature&gt;camel-activemq&lt;/feature&gt;\n</code></pre>\n<p>I've also tried initializing ActiveMQConnectionFactory but was getting same NoClassDeffound error.\nAlso tried installing <code>bundle:install mvn:javax.jms/javax.jms-api/2.0.1</code>, but that didn't help.</p>\n<p>I'm guessing there is some API mismatch or I'm missing a dependency.</p>\n<p><em>Without the ActiveMQComponent the bundle was working fine.</em></p>\n<p>The activemq broker is inside the same karaf instance, I'm connecting to it via hawtio with no issues.</p>\n"},{"tags":["java","android-studio","mapbox"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1687190394,"post_id":76508272,"comment_id":134898914,"body_markdown":"Do you have mapbox dependency declared as per the docs? https://docs.mapbox.com/android/maps/guides/install/","body":"Do you have mapbox dependency declared as per the docs? <a href=\"https://docs.mapbox.com/android/maps/guides/install/\" rel=\"nofollow noreferrer\">docs.mapbox.com/android/maps/guides/install</a>"},{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1687199680,"post_id":76508272,"comment_id":134900617,"body_markdown":"Don&#39;t post your credentials. The picture you posted shows correctly configured repo, do you have dependency declared as well?","body":"Don&#39;t post your credentials. The picture you posted shows correctly configured repo, do you have dependency declared as well?"},{"owner":{"account_id":28711654,"reputation":3,"user_id":21987058,"display_name":"White Angel"},"score":0,"creation_date":1687236956,"post_id":76508272,"comment_id":134904443,"body_markdown":"Sorry but How to check whether dependency declared ? I have declared all dependency accrording to tutorial about installation  \n https://docs.mapbox.com/android/maps/guides/install/    I hope that it&#39;s right","body":"Sorry but How to check whether dependency declared ? I have declared all dependency accrording to tutorial about installation    <a href=\"https://docs.mapbox.com/android/maps/guides/install/\" rel=\"nofollow noreferrer\">docs.mapbox.com/android/maps/guides/install</a>    I hope that it&#39;s right"}],"owner":{"account_id":28711654,"reputation":3,"user_id":21987058,"display_name":"White Angel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687199711,"creation_date":1687190182,"question_id":76508272,"body_markdown":"I try to create a map using Mapbox and Android studio. I am using official tutorial for this but in spite of this I have the errors &quot;Cannot resolve symbol Mapbox/MapView and so on&quot;. Below I wrote the code that I have used and picture.\r\n\r\n ```\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport com.mapbox.maps.MapView;\r\nimport com.mapbox.maps.Style;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mapView = findViewById(R.id.mapView);\r\n        mapView?.getMapboxMap()?.loadStyleUri(Style.MAPBOX_STREETS);\r\n    }\r\n}\r\n ```\r\n[Picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HAJJz.png","title":"How to exclude the error &quot;Cannot resolve symbol&quot; in Android studio?","body":"<p>I try to create a map using Mapbox and Android studio. I am using official tutorial for this but in spite of this I have the errors &quot;Cannot resolve symbol Mapbox/MapView and so on&quot;. Below I wrote the code that I have used and picture.</p>\n<pre><code>import android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.mapbox.maps.MapView;\nimport com.mapbox.maps.Style;\n\npublic class MainActivity extends AppCompatActivity {\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n       mapView = findViewById(R.id.mapView);\n       mapView?.getMapboxMap()?.loadStyleUri(Style.MAPBOX_STREETS);\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HAJJz.png\" rel=\"nofollow noreferrer\">Picture</a></p>\n"},{"tags":["java","spring","rest","post","rules"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687200285,"post_id":76509234,"comment_id":134900713,"body_markdown":"If I&#39;m consuming an API and creating a resource, I&#39;d generally always want the created entity back in the response body. Whether you want to return its location is a design decision. If you do want to return a location header, I&#39;d highly recommend automating the generation of the location. I don&#39;t see a ton of value in the location, unless the fetch URL is in an odd place. Usually an api is `POST /entity` and `GET /entity/{id}`, so if you&#39;re following that pattern, the fetch URL should be obvious.","body":"If I&#39;m consuming an API and creating a resource, I&#39;d generally always want the created entity back in the response body. Whether you want to return its location is a design decision. If you do want to return a location header, I&#39;d highly recommend automating the generation of the location. I don&#39;t see a ton of value in the location, unless the fetch URL is in an odd place. Usually an api is <code>POST &#47;entity</code> and <code>GET &#47;entity&#47;{id}</code>, so if you&#39;re following that pattern, the fetch URL should be obvious."}],"owner":{"account_id":25640412,"reputation":1,"user_id":19409414,"display_name":"nikifor_23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687199454,"creation_date":1687199454,"question_id":76509234,"body_markdown":"i have an API with two versions of an POST handler\r\n\r\nfirst version:\r\n```\r\n@PostMapping()\r\n    public ResponseEntity&lt;Note&gt; insertNote(@RequestBody Note nota){\r\n        noteRepository.save(nota);\r\n        return new ResponseEntity&lt;Note&gt;(nota, HttpStatus.CREATED);\r\n    }\r\n```\r\nthis version return an entity with a 201 code and a body\r\n\r\nSecond version:\r\n```\r\n@PostMapping()\r\n    public ResponseEntity createNote(@RequestBody Note nota, UriComponentsBuilder ucb){\r\n        Note savedNote = noteRepository.save(nota);\r\n        URI locationOfNewNote = ucb\r\n                .path(&quot;api/v1/notes/{id}&quot;)\r\n                .buildAndExpand(savedNote.getId())\r\n                .toUri();\r\n        return ResponseEntity.created(locationOfNewNote).build();\r\n    }\r\n```\r\nthis version return a 201 code with the followed header:\r\n`location= http://localhost:8080/api/v1/notes/12`\r\n\r\nWhich of these versions should I use? Which of these is best in terms of good practices and web rules?","title":"Post request must return Http code + body or Http code + URI?","body":"<p>i have an API with two versions of an POST handler</p>\n<p>first version:</p>\n<pre><code>@PostMapping()\n    public ResponseEntity&lt;Note&gt; insertNote(@RequestBody Note nota){\n        noteRepository.save(nota);\n        return new ResponseEntity&lt;Note&gt;(nota, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>this version return an entity with a 201 code and a body</p>\n<p>Second version:</p>\n<pre><code>@PostMapping()\n    public ResponseEntity createNote(@RequestBody Note nota, UriComponentsBuilder ucb){\n        Note savedNote = noteRepository.save(nota);\n        URI locationOfNewNote = ucb\n                .path(&quot;api/v1/notes/{id}&quot;)\n                .buildAndExpand(savedNote.getId())\n                .toUri();\n        return ResponseEntity.created(locationOfNewNote).build();\n    }\n</code></pre>\n<p>this version return a 201 code with the followed header:\n<code>location= http://localhost:8080/api/v1/notes/12</code></p>\n<p>Which of these versions should I use? Which of these is best in terms of good practices and web rules?</p>\n"},{"tags":["java","android","android-gradle-plugin","java-11"],"comments":[{"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1643709031,"post_id":70246286,"comment_id":125405832,"body_markdown":"Seems to be a bug on Android Studio that reportedly has been fixed as of Dolphin that relates to ASM. Further details can be found [here](https://developer.android.com/studio/releases/fixed-bugs/studio/2021.3.1#android-studio-dolphin-canary-1-2021.3.1.1)","body":"Seems to be a bug on Android Studio that reportedly has been fixed as of Dolphin that relates to ASM. Further details can be found <a href=\"https://developer.android.com/studio/releases/fixed-bugs/studio/2021.3.1#android-studio-dolphin-canary-1-2021.3.1.1\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1643776640,"post_id":70246286,"comment_id":125426749,"body_markdown":"please update your `build.gradle`","body":"please update your <code>build.gradle</code>"},{"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"score":0,"creation_date":1643871299,"post_id":70246286,"comment_id":125455435,"body_markdown":"I have udpated Question and posted Module Gradle also","body":"I have udpated Question and posted Module Gradle also"}],"answers":[{"tags":[],"owner":{"account_id":19918379,"reputation":33,"user_id":14697032,"display_name":"yash10019coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638853848,"creation_date":1638853848,"answer_id":70255225,"question_id":70246286,"body_markdown":"for me currently the only thing helping is by rebuilding the project each time and then running the app.","title":"Android This feature requires ASM7","body":"<p>for me currently the only thing helping is by rebuilding the project each time and then running the app.</p>\n"},{"tags":[],"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643703404,"creation_date":1643703404,"answer_id":70937342,"question_id":70246286,"body_markdown":"Add to gradle files the following, clean the project and build again:\r\n\r\n `implementation &quot;org.ow2.asm:asm:7.0&quot;` \r\n","title":"Android This feature requires ASM7","body":"<p>Add to gradle files the following, clean the project and build again:</p>\n<p><code>implementation &quot;org.ow2.asm:asm:7.0&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643802533,"creation_date":1643776938,"answer_id":70950593,"question_id":70246286,"body_markdown":"You can give it a try by adding `maven { url &#39;https://jitpack.io&#39; }`\r\n\r\nto `Settings.gradle`\r\n\r\nlike this code: \r\n\r\n&gt;Settings.Gradle\r\n\r\n    dependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://www.jitpack.io&#39; } //here you can add this\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n    }\r\n    }\r\n    rootProject.name = &quot;YourAppName&quot;\r\n    include &#39;:app&#39;\r\n\r\n\r\nand in `build.gradle (Module)` add this :\r\n\r\n    implementation &#39;org.ow2.asm:asm:7.0&#39;\r\n\r\nand build your project again.\r\n\r\n\r\n\r\n","title":"Android This feature requires ASM7","body":"<p>You can give it a try by adding <code>maven { url 'https://jitpack.io' }</code></p>\n<p>to <code>Settings.gradle</code></p>\n<p>like this code:</p>\n<blockquote>\n<p>Settings.Gradle</p>\n</blockquote>\n<pre><code>dependencyResolutionManagement {\nrepositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\nrepositories {\n    google()\n    mavenCentral()\n    maven { url 'https://www.jitpack.io' } //here you can add this\n    jcenter() // Warning: this repository is going to shut down soon\n}\n}\nrootProject.name = &quot;YourAppName&quot;\ninclude ':app'\n</code></pre>\n<p>and in <code>build.gradle (Module)</code> add this :</p>\n<pre><code>implementation 'org.ow2.asm:asm:7.0'\n</code></pre>\n<p>and build your project again.</p>\n"}],"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687199450,"creation_date":1638797315,"question_id":70246286,"body_markdown":"[Possible duplicate][1]\r\n\r\nI have updated my Android Studio to \r\n\r\n    &#39;Android Studio Arctic Fox | 2020.3.1 Patch 3&#39;\r\n\r\nJava is updated from jdk 1.8 to jdk 11\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n\r\n\r\n    kotlinOptions {\r\n            jvmTarget = &#39;11&#39;\r\n        }\r\n\r\nI have also upgraded gradle to \r\n\r\n`&#39;com.android.tools.build:gradle:7.0.3&#39;` \r\n\r\nHere is my full gradle build file\r\n\r\n**Gradle (Module)**\r\n\r\n    plugins {\r\n    \tid &#39;com.android.application&#39;\r\n    \tid &#39;kotlin-android&#39;\r\n    \tid &#39;kotlin-android-extensions&#39;\r\n    \tid &#39;androidx.navigation.safeargs.kotlin&#39;\r\n    \tid &#39;kotlin-kapt&#39;\r\n    \tid &#39;io.michaelrocks.paranoid&#39;\r\n    \tid &#39;com.google.gms.google-services&#39;\r\n    \tid &#39;com.google.firebase.crashlytics&#39;\r\n    }\r\n    \r\n    android {\r\n    \r\n    \tcompileSdk 32\r\n    \r\n    \tdefaultConfig {\r\n    \t\tapplicationId &quot;com.company.project&quot;\r\n    \t\tminSdk 21\r\n    \t\ttargetSdk 32\r\n    \t\tversionCode 13\r\n    \t\tversionName &quot;2.0.34&quot;\r\n    \t\tvectorDrawables.useSupportLibrary = true\r\n    \t\ttestInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    \r\n    \t\texternalNativeBuild {\r\n    \t\t\tcmake {\r\n    \t\t\t\tcppFlags &quot;&quot;\r\n    \t\t\t\t//cppFlags &quot;-pie -fPIE&quot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tcompileOptions {\r\n    \t\tsourceCompatibility JavaVersion.VERSION_11\r\n    \t\ttargetCompatibility JavaVersion.VERSION_11\r\n    \t}\r\n    \ttestOptions {\r\n    \t\tunitTests {\r\n    \t\t\tincludeAndroidResources = true\r\n    \t\t\treturnDefaultValues = true\r\n    \t\t}\r\n    \t}\r\n    \tpackagingOptions {\r\n    \t\texclude &#39;META-INF/AL2.0&#39;\r\n    \t\texclude &#39;META-INF/LGPL2.1&#39;\r\n    \t\texclude &#39;META-INF/atomicfu.kotlin_module&#39;\r\n    \t}\r\n    \tkotlinOptions {\r\n    \t\tjvmTarget = &#39;11&#39;\r\n    \t}\r\n    \tdataBinding {\r\n    \t\tenabled = true\r\n    \t}\r\n    \texternalNativeBuild {\r\n    \t\tcmake {\r\n    \t\t\tpath &quot;src/main/jni/CMakeLists.txt&quot;\r\n    \t\t\tversion &quot;3.10.2&quot;\r\n    \t\t}\r\n    \t}\r\n    \tndkVersion &#39;21.0.6113669&#39;\r\n    \r\n    \tsigningConfigs {\r\n    \t\tdebug {\r\n    \t\t\t// Signing configs\r\n    \t\t\tstoreFile file(&quot;../keystore/debug.keystore&quot;)\r\n    \t\t\tstorePassword &#39;android&#39;\r\n    \t\t\tkeyAlias &#39;androiddebugkey&#39;\r\n    \t\t\tkeyPassword &#39;android&#39;\r\n    \t\t}\r\n    \t\trelease {\r\n    \t\t\t// Signing configs\r\n    \t\t\tstoreFile file(&quot;../keystore/release.keystore&quot;)\r\n    \t\t\tstorePassword &#39;company1234&#39;\r\n    \t\t\tkeyAlias &#39;company_key&#39;\r\n    \t\t\tkeyPassword &#39;company1234&#39;\r\n    \t\t\tenableV2Signing = true\r\n    \t\t\tenableV3Signing = true\r\n    \t\t\tenableV4Signing = true\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tbuildTypes {\r\n    \t\tdebug {\r\n    \t\t\tsigningConfig signingConfigs.debug\r\n    \t\t\tminifyEnabled false\r\n    \t\t\tapplicationVariants.all {\r\n    \t\t\t\tvariant - &gt;\r\n    \t\t\t\t\trenameAPK(variant, applicationName, defaultConfig, &#39;D&#39;)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\trelease {\r\n    \t\t\tsigningConfig signingConfigs.release\r\n    \t\t\tminifyEnabled true\r\n    \t\t\tproguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    \t\t\tapplicationVariants.all {\r\n    \t\t\t\tvariant - &gt;\r\n    \t\t\t\t\trenameAPK(variant, applicationName, defaultConfig, &#39;R&#39;)\r\n    \t\t\t}\r\n    \t\t\tndk {\r\n    \t\t\t\tabiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;, &quot;x86&quot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tflavorDimensions &quot;ht&quot;\r\n    \tproductFlavors {\r\n    \t\tdev {\r\n    \t\t\tapplicationId &quot;com.company.project&quot;\r\n    \t\t\tbuildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;1&quot;\r\n    \t\t}\r\n    \t\tstaging {\r\n    \t\t\tapplicationId &quot;com.company.project&quot;\r\n    \t\t\tbuildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;2&quot;\r\n    \t\t}\r\n    \t\tprod {\r\n    \t\t\tapplicationId &quot;com.company.project&quot;\r\n    \t\t\tbuildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;3&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    static def renameAPK(variant, applicationName, defaultConfig, buildType) {\r\n    \tvariant.outputs.each {\r\n    \t\toutput - &gt;\r\n    \t\t\tdef formattedDate = new Date().format(&#39;dd-MM-yyyy_HH_mm&#39;)\r\n    \t\tdef fileName = applicationName + &quot;_V&quot; + defaultConfig.versionName + &quot;_&quot; + formattedDate + &quot;_&quot; + variant.flavorName + &quot;_&quot; + buildType + &quot;.apk&quot;\r\n    \t\toutput.outputFileName = new File(fileName)\r\n    \t}\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t////////////////////////// Testing frameworks //////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \r\n    \t//Testing frameworks\r\n    \ttestImplementation &#39;junit:junit:4.13.2&#39;\r\n    \ttestImplementation &#39;androidx.test:core:1.4.0&#39;\r\n    \ttestImplementation &#39;androidx.arch.core:core-testing:2.1.0&#39;\r\n    \ttestImplementation &#39;org.mockito:mockito-core:3.5.13&#39;\r\n    \ttestImplementation &#39;org.robolectric:robolectric:4.4&#39;\r\n    \ttestImplementation &#39;org.robolectric:shadows-multidex:4.4&#39;\r\n    \ttestImplementation &quot;io.mockk:mockk:1.10.2&quot;\r\n    \ttestImplementation &#39;io.mockk:mockk-common:1.10.2&#39;\r\n    \ttestImplementation &#39;com.google.truth:truth:1.1.3&#39;\r\n    \ttestImplementation &#39;org.apache.maven:maven-ant-tasks:2.1.3&#39;\r\n    \r\n    \t// Android Tests\r\n    \tandroidTestImplementation &quot;androidx.navigation:navigation-testing:$rootProject.ext.navigation&quot;\r\n    \tandroidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    \tandroidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n    \tandroidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \tandroidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n    \tandroidTestImplementation &#39;androidx.arch.core:core-testing:2.1.0&#39;\r\n    \tandroidTestImplementation &quot;androidx.test:core:1.4.0&quot;\r\n    \r\n    \tandroidTestImplementation &quot;androidx.fragment:fragment-testing:$rootProject.ext.fragment_version&quot;\r\n    \r\n    \r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t////////////////////////// Normal Frameworks //////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \r\n    \t// Multidex\r\n    \timplementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    \r\n    \timplementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    \timplementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    \timplementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    \timplementation &quot;androidx.navigation:navigation-fragment-ktx:$rootProject.ext.navigation&quot;\r\n    \timplementation &quot;androidx.navigation:navigation-ui-ktx:$rootProject.ext.navigation&quot;\r\n    \timplementation &quot;androidx.navigation:navigation-runtime-ktx:$rootProject.ext.navigation&quot;\r\n    \timplementation &quot;androidx.fragment:fragment-ktx:1.2.5&quot;\r\n    \r\n    \r\n    \t// Kotlin &amp; JetBrains\r\n    \timplementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    \timplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&#39;\r\n    \timplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2&#39;\r\n    \timplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-test:1.4.3&#39;\r\n    \timplementation &#39;com.github.florent37:inline-activity-result-kotlin:1.0.4&#39;\r\n    \timplementation &#39;org.jetbrains.anko:anko-appcompat-v7-commons:0.10.2&#39;\r\n    \r\n    \t//Androidx UI Components\r\n    \timplementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    \timplementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    \timplementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    \r\n    \t// ViewModel LifeCycle\r\n    \timplementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.0&#39;\r\n    \timplementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    \timplementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    \r\n    \t//Koin\r\n    \timplementation &quot;org.koin:koin-core:$rootProject.ext.koin_version&quot;\r\n    \timplementation &quot;org.koin:koin-android:$rootProject.ext.koin_version&quot;\r\n    \timplementation &quot;org.koin:koin-android-viewmodel:$rootProject.ext.koin_version&quot;\r\n    \timplementation &quot;org.koin:koin-android-architecture:$rootProject.ext.koin_architecture_version&quot;\r\n    \r\n    \t//ok http\r\n    \timplementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\r\n    \timplementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    \r\n    \t//Retrofit\r\n    \timplementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    \timplementation &#39;com.squareup.retrofit2:converter-gson:2.7.0&#39;\r\n    \timplementation &#39;com.squareup.okhttp3:logging-interceptor:4.9.0&#39;\r\n    \timplementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \timplementation &#39;com.google.code.gson:gson:2.8.8&#39;\r\n    \r\n    \t// Room components\r\n    \timplementation &#39;androidx.room:room-runtime:2.4.1&#39;\r\n    \timplementation &#39;androidx.room:room-ktx:2.4.1&#39;\r\n    \tkapt &#39;androidx.room:room-compiler:2.4.1&#39;\r\n    \tandroidTestImplementation &#39;androidx.room:room-testing:2.4.1&#39;\r\n    \r\n    \t// Navigation component\r\n    \timplementation &#39;androidx.navigation:navigation-fragment-ktx:2.3.5&#39;\r\n    \timplementation &#39;androidx.navigation:navigation-ui-ktx:2.3.5&#39;\r\n    \r\n    \t// Import the BoM for the Firebase platform\r\n    \timplementation platform(&#39;com.google.firebase:firebase-bom:28.4.0&#39;)\r\n    \r\n    \t// Firebase library dependencies\r\n    \timplementation &#39;com.google.firebase:firebase-messaging&#39;\r\n    \timplementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    \timplementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    \timplementation &#39;com.google.firebase:firebase-dynamic-links-ktx&#39;\r\n    \r\n    \t// sdp and ssp for dp and sp values\r\n    \timplementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n    \timplementation &#39;com.intuit.ssp:ssp-android:1.0.6&#39;\r\n    \r\n    \t//permissions helper\r\n    \timplementation &#39;com.karumi:dexter:6.2.0&#39;\r\n    \r\n    \t//Facebook text encryption\r\n    \timplementation &#39;com.facebook.conceal:conceal:2.0.1@aar&#39;\r\n    \r\n    \t//Lottie animations\r\n    \timplementation &#39;com.airbnb.android:lottie:3.4.2&#39;\r\n    \r\n    \t// Location services\r\n    \timplementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    \r\n    \timplementation &#39;com.tbuonomo:dotsindicator:4.2&#39;\r\n    \r\n    \timplementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    \tkapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    \timplementation &#39;com.github.bumptech.glide:okhttp3-integration:4.11.0&#39;\r\n    \tannotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    \timplementation &#39;com.github.bumptech.glide:annotations:4.11.0&#39;\r\n    \r\n    \timplementation &quot;org.ow2.asm:asm:7.0&quot;\r\n    }\r\n\r\n**Gradle (Root/App)**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        ext{\r\n            koin_version = &#39;2.0.1&#39;\r\n            koin_architecture_version = &quot;0.8.2&quot;\r\n            navigation = &quot;2.3.5&quot;\r\n            fragment_version = &quot;1.4.0&quot;\r\n        }\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n            classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20&#39;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n            classpath &#39;androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5&#39;\r\n            classpath &#39;io.michaelrocks:paranoid-gradle-plugin:0.3.2&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.8.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAfter upgrade, build failed with following exception\r\n\r\n    Execution failed for task &#39;:app:transformClassesWithParanoidForDevDebug&#39;.\r\n    &gt; com.android.build.api.transform.TransformException: java.lang.IllegalArgumentException: Unable to read a ClassMirror for com/data/model/response/ParsingHelper$CharSequenceDeserializer\r\n\r\n    This feature requires ASM7\r\n\r\nI have tried to fix specifically ParsingHelper class and updated its code to kotlin but then I get the same exception in different classes. So I believe fixing every java class in whole project is not a good idea. \r\n\r\nAs per [this][1] thread updating to AGP version 7.0.1 fixes the problem but I am already on a newer version which is 7.0.3.\r\n\r\n  [1]: https://stackoverflow.com/questions/68709559/nestmember-requires-asm7?noredirect=1\r\n","title":"Android This feature requires ASM7","body":"<p><a href=\"https://stackoverflow.com/questions/68709559/nestmember-requires-asm7?noredirect=1\">Possible duplicate</a></p>\n<p>I have updated my Android Studio to</p>\n<pre><code>'Android Studio Arctic Fox | 2020.3.1 Patch 3'\n</code></pre>\n<p>Java is updated from jdk 1.8 to jdk 11</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n\nkotlinOptions {\n        jvmTarget = '11'\n    }\n</code></pre>\n<p>I have also upgraded gradle to</p>\n<p><code>'com.android.tools.build:gradle:7.0.3'</code></p>\n<p>Here is my full gradle build file</p>\n<p><strong>Gradle (Module)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n    id 'androidx.navigation.safeargs.kotlin'\n    id 'kotlin-kapt'\n    id 'io.michaelrocks.paranoid'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.crashlytics'\n}\n\nandroid {\n\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.company.project&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 13\n        versionName &quot;2.0.34&quot;\n        vectorDrawables.useSupportLibrary = true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        externalNativeBuild {\n            cmake {\n                cppFlags &quot;&quot;\n                //cppFlags &quot;-pie -fPIE&quot;\n            }\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    testOptions {\n        unitTests {\n            includeAndroidResources = true\n            returnDefaultValues = true\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/AL2.0'\n        exclude 'META-INF/LGPL2.1'\n        exclude 'META-INF/atomicfu.kotlin_module'\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n    dataBinding {\n        enabled = true\n    }\n    externalNativeBuild {\n        cmake {\n            path &quot;src/main/jni/CMakeLists.txt&quot;\n            version &quot;3.10.2&quot;\n        }\n    }\n    ndkVersion '21.0.6113669'\n\n    signingConfigs {\n        debug {\n            // Signing configs\n            storeFile file(&quot;../keystore/debug.keystore&quot;)\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            // Signing configs\n            storeFile file(&quot;../keystore/release.keystore&quot;)\n            storePassword 'company1234'\n            keyAlias 'company_key'\n            keyPassword 'company1234'\n            enableV2Signing = true\n            enableV3Signing = true\n            enableV4Signing = true\n        }\n    }\n\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n            minifyEnabled false\n            applicationVariants.all {\n                variant - &gt;\n                    renameAPK(variant, applicationName, defaultConfig, 'D')\n            }\n        }\n        release {\n            signingConfig signingConfigs.release\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            applicationVariants.all {\n                variant - &gt;\n                    renameAPK(variant, applicationName, defaultConfig, 'R')\n            }\n            ndk {\n                abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;, &quot;x86&quot;\n            }\n        }\n    }\n\n    flavorDimensions &quot;ht&quot;\n    productFlavors {\n        dev {\n            applicationId &quot;com.company.project&quot;\n            buildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;1&quot;\n        }\n        staging {\n            applicationId &quot;com.company.project&quot;\n            buildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;2&quot;\n        }\n        prod {\n            applicationId &quot;com.company.project&quot;\n            buildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;3&quot;\n        }\n    }\n}\n\nstatic def renameAPK(variant, applicationName, defaultConfig, buildType) {\n    variant.outputs.each {\n        output - &gt;\n            def formattedDate = new Date().format('dd-MM-yyyy_HH_mm')\n        def fileName = applicationName + &quot;_V&quot; + defaultConfig.versionName + &quot;_&quot; + formattedDate + &quot;_&quot; + variant.flavorName + &quot;_&quot; + buildType + &quot;.apk&quot;\n        output.outputFileName = new File(fileName)\n    }\n}\n\ndependencies {\n\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    ////////////////////////// Testing frameworks //////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n\n    //Testing frameworks\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'androidx.test:core:1.4.0'\n    testImplementation 'androidx.arch.core:core-testing:2.1.0'\n    testImplementation 'org.mockito:mockito-core:3.5.13'\n    testImplementation 'org.robolectric:robolectric:4.4'\n    testImplementation 'org.robolectric:shadows-multidex:4.4'\n    testImplementation &quot;io.mockk:mockk:1.10.2&quot;\n    testImplementation 'io.mockk:mockk-common:1.10.2'\n    testImplementation 'com.google.truth:truth:1.1.3'\n    testImplementation 'org.apache.maven:maven-ant-tasks:2.1.3'\n\n    // Android Tests\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$rootProject.ext.navigation&quot;\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.arch.core:core-testing:2.1.0'\n    androidTestImplementation &quot;androidx.test:core:1.4.0&quot;\n\n    androidTestImplementation &quot;androidx.fragment:fragment-testing:$rootProject.ext.fragment_version&quot;\n\n\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    ////////////////////////// Normal Frameworks //////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n\n    // Multidex\n    implementation 'com.android.support:multidex:1.0.3'\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$rootProject.ext.navigation&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$rootProject.ext.navigation&quot;\n    implementation &quot;androidx.navigation:navigation-runtime-ktx:$rootProject.ext.navigation&quot;\n    implementation &quot;androidx.fragment:fragment-ktx:1.2.5&quot;\n\n\n    // Kotlin &amp; JetBrains\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.4.3'\n    implementation 'com.github.florent37:inline-activity-result-kotlin:1.0.4'\n    implementation 'org.jetbrains.anko:anko-appcompat-v7-commons:0.10.2'\n\n    //Androidx UI Components\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n\n    // ViewModel LifeCycle\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n\n    //Koin\n    implementation &quot;org.koin:koin-core:$rootProject.ext.koin_version&quot;\n    implementation &quot;org.koin:koin-android:$rootProject.ext.koin_version&quot;\n    implementation &quot;org.koin:koin-android-viewmodel:$rootProject.ext.koin_version&quot;\n    implementation &quot;org.koin:koin-android-architecture:$rootProject.ext.koin_architecture_version&quot;\n\n    //ok http\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    //Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.7.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.9.0'\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.google.code.gson:gson:2.8.8'\n\n    // Room components\n    implementation 'androidx.room:room-runtime:2.4.1'\n    implementation 'androidx.room:room-ktx:2.4.1'\n    kapt 'androidx.room:room-compiler:2.4.1'\n    androidTestImplementation 'androidx.room:room-testing:2.4.1'\n\n    // Navigation component\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'\n\n    // Import the BoM for the Firebase platform\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n\n    // Firebase library dependencies\n    implementation 'com.google.firebase:firebase-messaging'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-dynamic-links-ktx'\n\n    // sdp and ssp for dp and sp values\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\n\n    //permissions helper\n    implementation 'com.karumi:dexter:6.2.0'\n\n    //Facebook text encryption\n    implementation 'com.facebook.conceal:conceal:2.0.1@aar'\n\n    //Lottie animations\n    implementation 'com.airbnb.android:lottie:3.4.2'\n\n    // Location services\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n\n    implementation 'com.tbuonomo:dotsindicator:4.2'\n\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    kapt 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.github.bumptech.glide:okhttp3-integration:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.github.bumptech.glide:annotations:4.11.0'\n\n    implementation &quot;org.ow2.asm:asm:7.0&quot;\n}\n</code></pre>\n<p><strong>Gradle (Root/App)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    ext{\n        koin_version = '2.0.1'\n        koin_architecture_version = &quot;0.8.2&quot;\n        navigation = &quot;2.3.5&quot;\n        fragment_version = &quot;1.4.0&quot;\n    }\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5'\n        classpath 'io.michaelrocks:paranoid-gradle-plugin:0.3.2'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>After upgrade, build failed with following exception</p>\n<pre><code>Execution failed for task ':app:transformClassesWithParanoidForDevDebug'.\n&gt; com.android.build.api.transform.TransformException: java.lang.IllegalArgumentException: Unable to read a ClassMirror for com/data/model/response/ParsingHelper$CharSequenceDeserializer\n\nThis feature requires ASM7\n</code></pre>\n<p>I have tried to fix specifically ParsingHelper class and updated its code to kotlin but then I get the same exception in different classes. So I believe fixing every java class in whole project is not a good idea.</p>\n<p>As per <a href=\"https://stackoverflow.com/questions/68709559/nestmember-requires-asm7?noredirect=1\">this</a> thread updating to AGP version 7.0.1 fixes the problem but I am already on a newer version which is 7.0.3.</p>\n"},{"tags":["java","sql","querydsl","boolean-expression"],"comments":[{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458911174,"post_id":36213765,"comment_id":60072324,"body_markdown":"What type hast the variable item? Is it a generated Q* class? If yes, please show the specification of the corresponding database table (i assume the name is item).","body":"What type hast the variable item? Is it a generated Q* class? If yes, please show the specification of the corresponding database table (i assume the name is item)."},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459049183,"post_id":36213765,"comment_id":60117252,"body_markdown":"Yes there is QItem. and this query works just fine if i use .eq(10) or something but I want to compare to another column in the table, how do I do this?","body":"Yes there is QItem. and this query works just fine if i use .eq(10) or something but I want to compare to another column in the table, how do I do this?"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459062491,"post_id":36213765,"comment_id":60119519,"body_markdown":"If `initialQuantity`  and `soldQuantity`  has the type `com.querydsl.core.types.dsl.NumberPath` it should work. Without more information (error, code, db scheme) this question does not make sense.","body":"If <code>initialQuantity</code>  and <code>soldQuantity</code>  has the type <code>com.querydsl.core.types.dsl.NumberPath</code> it should work. Without more information (error, code, db scheme) this question does not make sense."},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459092629,"post_id":36213765,"comment_id":60127831,"body_markdown":"so there is no error, i am just not getting the value that I expected to get. I even tried builder.and(item.initialQuantity.eq(item.initialQuantity)) which should always return true, but nothing gets returned from using this query...","body":"so there is no error, i am just not getting the value that I expected to get. I even tried builder.and(item.initialQuantity.eq(item.initialQuantity)) which should always return true, but nothing gets returned from using this query..."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459102323,"post_id":36213765,"comment_id":60131292,"body_markdown":"`builder.and(item.initialQuantity.eq(item.initialQuantity))`this is only a part of your query... what is the rest?","body":"<code>builder.and(item.initialQuantity.eq(item.initialQuantity))</code>th&zwnj;&#8203;is is only a part of your query... what is the rest?"},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459151276,"post_id":36213765,"comment_id":60144998,"body_markdown":"That is all basically. I&#39;ve updated the code snippet, I&#39;m isolating this basic query.","body":"That is all basically. I&#39;ve updated the code snippet, I&#39;m isolating this basic query."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459152201,"post_id":36213765,"comment_id":60145338,"body_markdown":"please show the implementation of `itemRepository.findAll`","body":"please show the implementation of <code>itemRepository.findAll</code>"},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459220715,"post_id":36213765,"comment_id":60176119,"body_markdown":"I&#39;m using MongoRepository : http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html","body":"I&#39;m using MongoRepository : <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459273222,"post_id":36213765,"comment_id":60207914,"body_markdown":"see my answer... does it help?","body":"see my answer... does it help?"}],"answers":[{"tags":[],"owner":{"account_id":10901642,"reputation":96,"user_id":8013743,"display_name":"Imad ALILAT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571670284,"creation_date":1571654073,"answer_id":58484480,"question_id":36213765,"body_markdown":"First declare it : \r\n\r\n    JPAQueryFactory query = new JPAQueryFactory(em);\r\n    BooleanBuilder booleanBuilder = new BooleanBuilder();\r\n    QCreditRequest creditRequest = QCreditRequest.creditRequest;\r\n\r\nThen, you can include your business logique, for example : \r\n\r\n\r\n    booleanBuilder.and(creditRequest.creditRequestId.eq(dataRequest.getCreditRequestId()));\r\n                    \r\n    if (StringUtils.isNotBlank(dataRequest.getProductId())){\r\n                     booleanBuilder.and(creditRequest.product.productId.eq(dataRequest.getProductId()));}\r\n\r\nfinally return the result, mapped to your DTO : \r\n\r\n    return new HashSet&lt;&gt;(\r\n                query\r\n                    .select(\r\n                        Projections.constructor(\r\n                            APResponse.class,\r\n                            creditRequest.creditRequestId,\r\n                            creditRequest.creditRequestDate,\r\n                            creditRequest.product.productId,\r\n                            creditRequest.creditRequestComment))\r\n                    .from(creditRequest)\r\n                    .innerJoin(creditRequest.product, product)\r\n                    .innerJoin(creditRequest.status, creditRequestStatus)\r\n                    .where(booleanBuilder)\r\n                    .fetch());\r\n\r\n","title":"QueryDsl BooleanBuilder: How to create a predicate that compares another field?","body":"<p>First declare it : </p>\n\n<pre><code>JPAQueryFactory query = new JPAQueryFactory(em);\nBooleanBuilder booleanBuilder = new BooleanBuilder();\nQCreditRequest creditRequest = QCreditRequest.creditRequest;\n</code></pre>\n\n<p>Then, you can include your business logique, for example : </p>\n\n<pre><code>booleanBuilder.and(creditRequest.creditRequestId.eq(dataRequest.getCreditRequestId()));\n\nif (StringUtils.isNotBlank(dataRequest.getProductId())){\n                 booleanBuilder.and(creditRequest.product.productId.eq(dataRequest.getProductId()));}\n</code></pre>\n\n<p>finally return the result, mapped to your DTO : </p>\n\n<pre><code>return new HashSet&lt;&gt;(\n            query\n                .select(\n                    Projections.constructor(\n                        APResponse.class,\n                        creditRequest.creditRequestId,\n                        creditRequest.creditRequestDate,\n                        creditRequest.product.productId,\n                        creditRequest.creditRequestComment))\n                .from(creditRequest)\n                .innerJoin(creditRequest.product, product)\n                .innerJoin(creditRequest.status, creditRequestStatus)\n                .where(booleanBuilder)\n                .fetch());\n</code></pre>\n"}],"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17706,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687197875,"creation_date":1458878205,"question_id":36213765,"body_markdown":"I have simple example: to find all items that are sold out. \r\n\r\nItem has initialQuantity and soldQuantity integer fields.\r\n(for some reason I need initialQuantity stored)\r\n\r\nI&#39;m trying to do something like:\r\n\r\n```java\r\nbuilder = new BooleanBuilder();\r\nPredicate predicate = builder.and(item.initialQuantity.eq(item.soldQuantity)).getValue();\r\nIterable&lt;Item&gt; iterable = itemRepository.findAll(predicate);\r\n```\r\n\r\nbut it does not return as expected. &quot;.eq()&quot; looks like it expects an integer and not Path&lt;&gt;","title":"QueryDsl BooleanBuilder: How to create a predicate that compares another field?","body":"<p>I have simple example: to find all items that are sold out.</p>\n<p>Item has initialQuantity and soldQuantity integer fields.\n(for some reason I need initialQuantity stored)</p>\n<p>I'm trying to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>builder = new BooleanBuilder();\nPredicate predicate = builder.and(item.initialQuantity.eq(item.soldQuantity)).getValue();\nIterable&lt;Item&gt; iterable = itemRepository.findAll(predicate);\n</code></pre>\n<p>but it does not return as expected. &quot;.eq()&quot; looks like it expects an integer and not Path&lt;&gt;</p>\n"},{"tags":["java","android"],"owner":{"account_id":3760980,"reputation":105,"user_id":3125979,"display_name":"JBM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687197693,"creation_date":1687197265,"question_id":76509034,"body_markdown":"I&#39;m porting an application plugin written Java that runs on Android.  It previously worked on Android SDK &lt; 12, now (SDK &gt; 12) it crashes when trying to connect to a bluetooth device.\r\n\r\nThe architecture is a little different than a typical Android app (as I understand it - I&#39;m not an Android programmer). The part that I am porting inherits from ViewGroup and is loaded by the application as a plugin.  I don&#39;t declare or load an Activity.  The plugin manifest declares permissions and the bluetooth service and some plugin related values required by the application.\r\n\r\nPart of the plugin is a service to handle bluetooth communications.  The service communicates with the plugin code via an IBinder retrieved by mMessenger.getBinder() where mMessenger is declared static in the Bluetooth service class that inherits from Service.  \r\n\r\nI can scan for bluetooth devices, but when I try to connect, the plugin closes/crashes.\r\n\r\nI know that prior to SDK 12, runtime permissions were not required, but now with SDK &gt; 12, I need to get runtime permissions:\r\n\r\n```\r\nString[] permissions = {Manifest.permission.BLUETOOTH_CONNECT,\r\n                        Manifest.permission.BLUETOOTH_SCAN,\r\n                        Manifest.permission.BLUETOOTH_ADMIN};\r\nActivityCompat.requestPermissions(activity, permissions, 2);\r\n```\r\n\r\nThis is commented out because I don&#39;t have access to an activity in the plugin code or the service.  I&#39;ve looked at the ViewGroup and didn&#39;t see any reference to an Activity.  The plugin class is initialized with a Context, but no activity.  Is there some way to get a temporary reference to an activity?\r\n\r\nAnother confusing aspect of this is that I call checkPermissions:\r\n\r\n```\r\nint permConnect = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_CONNECT);\r\nLog.d(TAG, &quot;Bluetooth connect permission = &quot; + (permConnect == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\r\nint permScan = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_SCAN);\r\nLog.d(TAG, &quot;Bluetooth scan permission = &quot; + (permScan == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\r\nint permAdmin = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_ADMIN);\r\nLog.d(TAG, &quot;Bluetooth admin permission = &quot; + (permAdmin == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\r\n```\r\n\r\nThis code produces the following log entries:\r\n\r\n```\r\n2023-06-19T14:54:48.450Z [PluginTemplateDropDownReceiver]: Bluetooth connect permission = Granted\r\n2023-06-19T14:54:48.451Z [PluginTemplateDropDownReceiver]: Bluetooth scan permission = Granted\r\n2023-06-19T14:54:48.452Z [PluginTemplateDropDownReceiver]: Bluetooth admin permission = Granted\r\n```\r\n\r\nadb logcat -d includes the following line:\r\n\r\n```\r\n06-15 08:18:31.915 14057 14057 E AndroidRuntime: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource\r\n```\r\n\r\nSo it looks to me like the plugin (not necessarily the service) thinks it has permissions and Android still kills it thinking it doesn&#39;t have permission for the connection.  Are permissions not application wide?  I was under the impression that the service would inherit permissions of the application.  Is this not the case?  If not, how do you get permissions in a service?\r\n\r\nI&#39;m sorry if this is a little cryptic, I am limited on what source code I can post.","title":"Bluetooth permissions in service","body":"<p>I'm porting an application plugin written Java that runs on Android.  It previously worked on Android SDK &lt; 12, now (SDK &gt; 12) it crashes when trying to connect to a bluetooth device.</p>\n<p>The architecture is a little different than a typical Android app (as I understand it - I'm not an Android programmer). The part that I am porting inherits from ViewGroup and is loaded by the application as a plugin.  I don't declare or load an Activity.  The plugin manifest declares permissions and the bluetooth service and some plugin related values required by the application.</p>\n<p>Part of the plugin is a service to handle bluetooth communications.  The service communicates with the plugin code via an IBinder retrieved by mMessenger.getBinder() where mMessenger is declared static in the Bluetooth service class that inherits from Service.</p>\n<p>I can scan for bluetooth devices, but when I try to connect, the plugin closes/crashes.</p>\n<p>I know that prior to SDK 12, runtime permissions were not required, but now with SDK &gt; 12, I need to get runtime permissions:</p>\n<pre><code>String[] permissions = {Manifest.permission.BLUETOOTH_CONNECT,\n                        Manifest.permission.BLUETOOTH_SCAN,\n                        Manifest.permission.BLUETOOTH_ADMIN};\nActivityCompat.requestPermissions(activity, permissions, 2);\n</code></pre>\n<p>This is commented out because I don't have access to an activity in the plugin code or the service.  I've looked at the ViewGroup and didn't see any reference to an Activity.  The plugin class is initialized with a Context, but no activity.  Is there some way to get a temporary reference to an activity?</p>\n<p>Another confusing aspect of this is that I call checkPermissions:</p>\n<pre><code>int permConnect = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_CONNECT);\nLog.d(TAG, &quot;Bluetooth connect permission = &quot; + (permConnect == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\nint permScan = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_SCAN);\nLog.d(TAG, &quot;Bluetooth scan permission = &quot; + (permScan == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\nint permAdmin = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_ADMIN);\nLog.d(TAG, &quot;Bluetooth admin permission = &quot; + (permAdmin == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\n</code></pre>\n<p>This code produces the following log entries:</p>\n<pre><code>2023-06-19T14:54:48.450Z [PluginTemplateDropDownReceiver]: Bluetooth connect permission = Granted\n2023-06-19T14:54:48.451Z [PluginTemplateDropDownReceiver]: Bluetooth scan permission = Granted\n2023-06-19T14:54:48.452Z [PluginTemplateDropDownReceiver]: Bluetooth admin permission = Granted\n</code></pre>\n<p>adb logcat -d includes the following line:</p>\n<pre><code>06-15 08:18:31.915 14057 14057 E AndroidRuntime: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource\n</code></pre>\n<p>So it looks to me like the plugin (not necessarily the service) thinks it has permissions and Android still kills it thinking it doesn't have permission for the connection.  Are permissions not application wide?  I was under the impression that the service would inherit permissions of the application.  Is this not the case?  If not, how do you get permissions in a service?</p>\n<p>I'm sorry if this is a little cryptic, I am limited on what source code I can post.</p>\n"},{"tags":["java","json","spring","jackson","postman"],"comments":[{"owner":{"account_id":9909147,"reputation":7615,"user_id":11377112,"display_name":"Animesh Sahu"},"score":0,"creation_date":1586851260,"post_id":61202937,"comment_id":108272382,"body_markdown":"Your pattern is completely fine, i could reproduce `SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;).parse(&quot;2020-04-14T10:45:07.719&quot;)` it does not throw any error. Maybe there is a problem with jackson.","body":"Your pattern is completely fine, i could reproduce <code>SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;).parse(&quot;2020-04-14T&zwnj;&#8203;10:45:07.719&quot;)</code> it does not throw any error. Maybe there is a problem with jackson."},{"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"score":0,"creation_date":1671125882,"post_id":61202937,"comment_id":132036448,"body_markdown":"If you are using Lombock, In some cases you need to add the following annoations `@AllArgsConstructor\n@NoArgsConstructor`","body":"If you are using Lombock, In some cases you need to add the following annoations <code>@AllArgsConstructor @NoArgsConstructor</code>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1586860998,"creation_date":1586851326,"answer_id":61203166,"question_id":61202937,"body_markdown":"There are milliseconds in the input string, so your format should be &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;\r\n\r\nUpdate:\r\nIf the millisecond part consists of 1, 2, 3 digits or is optional, you may use the following format:\r\n```\r\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS][.SS][.S]&quot;)\r\nprivate LocalDateTime updatedTime;\r\n```","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>There are milliseconds in the input string, so your format should be \"yyyy-MM-dd'T'HH:mm:ss.SSS\"</p>\n\n<p>Update:\nIf the millisecond part consists of 1, 2, 3 digits or is optional, you may use the following format:</p>\n\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss[.SSS][.SS][.S]\")\nprivate LocalDateTime updatedTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9870898,"reputation":101,"user_id":7310585,"display_name":"Amit Kushwaha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1608806419,"creation_date":1608806419,"answer_id":65437171,"question_id":61202937,"body_markdown":"You can remove the annotation @JsonFormat and let it works in a default way. It is working fine for me even if I removed the millisecond.\r\n\r\n    @NotNull\r\n\t@FutureOrPresent(message = ErrorMessages.INVALID_CAMPAIGN_START_DATE)\r\n\t//@JsonFormat(pattern = &quot;MM/dd/yyyy&quot;)\r\n\tprivate LocalDateTime campaignStartDate;\r\n\r\nJSON Request:\r\n\r\n    {  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16&quot;,\r\n      &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16&quot;,\r\n    }\r\n    \r\n    {\r\n      &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.45&quot;,\r\n      &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.45&quot;,\r\n    }\r\n    \r\n    {\r\n      &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.445&quot;,\r\n      &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.445&quot;,\r\n    }\r\n\r\nThese JSON requests will work fine.","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>You can remove the annotation @JsonFormat and let it works in a default way. It is working fine for me even if I removed the millisecond.</p>\n<pre><code>@NotNull\n@FutureOrPresent(message = ErrorMessages.INVALID_CAMPAIGN_START_DATE)\n//@JsonFormat(pattern = &quot;MM/dd/yyyy&quot;)\nprivate LocalDateTime campaignStartDate;\n</code></pre>\n<p>JSON Request:</p>\n<pre><code>{  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16&quot;,\n  &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16&quot;,\n}\n\n{\n  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.45&quot;,\n  &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.45&quot;,\n}\n\n{\n  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.445&quot;,\n  &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.445&quot;,\n}\n</code></pre>\n<p>These JSON requests will work fine.</p>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644946162,"creation_date":1644946162,"answer_id":71130820,"question_id":61202937,"body_markdown":"I had the same error, I used this one with &quot;pickupDate&quot;:&quot;2014-01-01T00:00:00&quot;\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    private LocalDateTime pickupDate;","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I had the same error, I used this one with &quot;pickupDate&quot;:&quot;2014-01-01T00:00:00&quot;</p>\n<pre><code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)\n@JsonSerialize(using = LocalDateTimeSerializer.class)\nprivate LocalDateTime pickupDate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667585479,"creation_date":1667585479,"answer_id":74321332,"question_id":61202937,"body_markdown":"I was getting this because my JSONproperty setter was not properly handling null.\r\n```\r\ne.g. \r\n\r\n\t@Column(name = &quot;equipment_purchase_date&quot;)\r\n\tprivate LocalDate purchaseDate;\r\n\r\nbad:\r\n    @JsonProperty\r\n\tpublic void setPurchaseDate(String dateStr) throws ParseException \r\n\t{\r\n\t\tthis.purchaseDate = LocalDate.parse(dateStr, df);\r\n\t}\r\n\r\ngood(Fix):\r\n\t@JsonProperty\r\n\tpublic void setPurchaseDate(String dateStr) throws ParseException \r\n\t{\r\n\t\tthis.purchaseDate = dateStr == null ? null : LocalDate.parse(dateStr, df);\r\n\t}\r\n```\r\nthought i would include this as none of the above answers were applicable in this case.","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I was getting this because my JSONproperty setter was not properly handling null.</p>\n<pre><code>e.g. \n\n    @Column(name = &quot;equipment_purchase_date&quot;)\n    private LocalDate purchaseDate;\n\nbad:\n    @JsonProperty\n    public void setPurchaseDate(String dateStr) throws ParseException \n    {\n        this.purchaseDate = LocalDate.parse(dateStr, df);\n    }\n\ngood(Fix):\n    @JsonProperty\n    public void setPurchaseDate(String dateStr) throws ParseException \n    {\n        this.purchaseDate = dateStr == null ? null : LocalDate.parse(dateStr, df);\n    }\n</code></pre>\n<p>thought i would include this as none of the above answers were applicable in this case.</p>\n"},{"tags":[],"owner":{"account_id":19144335,"reputation":11,"user_id":13983672,"display_name":"Mukti Barakoti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687196872,"creation_date":1687196696,"answer_id":76508984,"question_id":61202937,"body_markdown":"I was stuck for several hours tried every answers I found over the internet. I had to delete `&#39;.SSSZ&#39;` or `&#39;.SSS&#39;` part after `&#39;...HH:mm:ss&quot;`. \r\n\r\n**Didn&#39;t work**\r\n`@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, shape = JsonFormat.Shape.STRING)` OR\r\n`@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS][.SS][.S]&quot;, shape = JsonFormat.Shape.STRING)`\r\n\r\n**Worked with**\r\n`@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;, shape = JsonFormat.Shape.STRING)`\r\n`private LocalDateTime dateTime;`\r\n\r\nAnd setting headers in Postman \r\n`Content-Type: application/json`\r\n`Accept: application/json`\r\n\r\n\r\n","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I was stuck for several hours tried every answers I found over the internet. I had to delete <code>'.SSSZ'</code> or <code>'.SSS'</code> part after <code>'...HH:mm:ss&quot;</code>.</p>\n<p><strong>Didn't work</strong>\n<code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;, shape = JsonFormat.Shape.STRING)</code> OR\n<code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss[.SSS][.SS][.S]&quot;, shape = JsonFormat.Shape.STRING)</code></p>\n<p><strong>Worked with</strong>\n<code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;, shape = JsonFormat.Shape.STRING)</code>\n<code>private LocalDateTime dateTime;</code></p>\n<p>And setting headers in Postman\n<code>Content-Type: application/json</code>\n<code>Accept: application/json</code></p>\n"}],"owner":{"account_id":11633243,"reputation":764,"user_id":8520564,"accept_rate":100,"display_name":"Georgi Michev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103255,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":61203166,"answer_count":5,"score":11,"last_activity_date":1687196872,"creation_date":1586850468,"question_id":61202937,"body_markdown":"I am sending request to external service which has updatedDate property\r\n\r\n```\r\n@UpdateTimestamp\r\n@Column(name = &quot;updated_date&quot;)\r\nprivate LocalDateTime updatedDate;\r\n```\r\n\r\nWhen I receive the response in my DTO I am trying to format the LocalDateTime property like this\r\n```\r\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\nprivate LocalDateTime updatedDate;\r\n```\r\n\r\nBut I get error in Postman \r\n\r\n```\r\n&quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2020-04-14T10:45:07.719\\&quot;: Text &#39;2020-04-14T10:45:07.719&#39; could not be parsed at index 14; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2020-04-14T10:45:07.719\\\r\n```\r\n\r\n","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I am sending request to external service which has updatedDate property</p>\n\n<pre><code>@UpdateTimestamp\n@Column(name = \"updated_date\")\nprivate LocalDateTime updatedDate;\n</code></pre>\n\n<p>When I receive the response in my DTO I am trying to format the LocalDateTime property like this</p>\n\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd'T'HH:mm:ss\")\nprivate LocalDateTime updatedDate;\n</code></pre>\n\n<p>But I get error in Postman </p>\n\n<pre><code>\"message\": \"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String \\\"2020-04-14T10:45:07.719\\\": Text '2020-04-14T10:45:07.719' could not be parsed at index 14; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String \\\"2020-04-14T10:45:07.719\\\n</code></pre>\n"},{"tags":["java","selenium-webdriver","gmail"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687187633,"post_id":76507716,"comment_id":134898306,"body_markdown":"The error message is pretty clear. Any other questions?","body":"The error message is pretty clear. Any other questions?"},{"owner":{"account_id":26472150,"reputation":76,"user_id":20112601,"display_name":"AbdeLhalimSB"},"score":0,"creation_date":1687191093,"post_id":76507716,"comment_id":134899043,"body_markdown":"Check that solution : https://stackoverflow.com/questions/76471550/cannot-log-in-to-google-with-selenium-webdrive/76483300#76483300","body":"Check that solution : <a href=\"https://stackoverflow.com/questions/76471550/cannot-log-in-to-google-with-selenium-webdrive/76483300#76483300\" title=\"cannot log in to google with selenium webdrive\">stackoverflow.com/questions/76471550/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687214885,"post_id":76507716,"comment_id":134902701,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687196608,"creation_date":1687196608,"answer_id":76508973,"question_id":76507716,"body_markdown":"This error message...\r\n\r\n![Google_JavascriptEnable](https://i.stack.imgur.com/wNZL1.png)\r\n\r\n...implies that attempting to sign in with JavaScript disabled in your browser will result in facing the error, suggesting JavaScript either isn&#39;t supported by your browser or turned off. \r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nThe only solution is to turn it back on or use a more modern browser.\r\n\r\nYou can check the _preferences_ in [tag:firefox] browser visiting the URL `about:config`:\r\n\r\n![aboutConfig](https://i.stack.imgur.com/qEXR7.png)","title":"Gmail error : Couldn’t sign you in Using Selenium Java","body":"<p>This error message...</p>\n<p><img src=\"https://i.stack.imgur.com/wNZL1.png\" alt=\"Google_JavascriptEnable\" /></p>\n<p>...implies that attempting to sign in with JavaScript disabled in your browser will result in facing the error, suggesting JavaScript either isn't supported by your browser or turned off.</p>\n<hr />\n<h2>Solution</h2>\n<p>The only solution is to turn it back on or use a more modern browser.</p>\n<p>You can check the <em>preferences</em> in <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> browser visiting the URL <code>about:config</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/qEXR7.png\" alt=\"aboutConfig\" /></p>\n"}],"owner":{"account_id":28851678,"reputation":1,"user_id":22097460,"display_name":"Vinay Rajput"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687196608,"creation_date":1687185806,"question_id":76507716,"body_markdown":"Gmail error : Couldn’t sign you in Using Selenium Java\r\n\r\nCouldn’t sign you in\r\nThe browser you’re using doesn’t support JavaScript, or has JavaScript turned off.\r\nTo keep your Google Account secure, try signing in on a browser that has JavaScript turned on. Learn more\r\n\r\n\r\n\r\nTried to login gmail.com using Java in Selenium. But getting the above error ","title":"Gmail error : Couldn’t sign you in Using Selenium Java","body":"<p>Gmail error : Couldn’t sign you in Using Selenium Java</p>\n<p>Couldn’t sign you in\nThe browser you’re using doesn’t support JavaScript, or has JavaScript turned off.\nTo keep your Google Account secure, try signing in on a browser that has JavaScript turned on. Learn more</p>\n<p>Tried to login gmail.com using Java in Selenium. But getting the above error</p>\n"},{"tags":["java","android","kotlin","calendar","background-process"],"owner":{"account_id":28845794,"reputation":1,"user_id":22092874,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687196526,"creation_date":1687196526,"question_id":76508965,"body_markdown":"I&#39;m working on an Android app with Android Studio which has its own calendar functionality. My question is more related to the planning phase.\r\n\r\nMy understanding is, that I can use &quot;Calendar Provider&quot; to read events into my app and also to write or edit events back into the users&#39; original Google Calendar. However, I need to store the events within my app (like with an own Firebase database) for greater functionality, too.\r\n\r\nWhat&#39;s missing is, how can I fetch events being added not through my app, but through the users&#39; original Google Calendar? I cannot wait for the user to open my app and only then would trigger some sort of synchronization. It should be always in sync.\r\n\r\nIs there some interface preferred for user apps fetching anything edited in Google Calendar? Are there any classes supporting that? Do I need some background process polling mechanism (not preferred and due to delayed fetching, wouldn&#39;t be actually in sync).\r\n\r\n\r\nI&#39;m trying to understand what would be the most common approach and what tools are available to achieve this.\r\n\r\nThank you very much!","title":"How to keep events in own calendar app in sync with events added through google calendar app itself","body":"<p>I'm working on an Android app with Android Studio which has its own calendar functionality. My question is more related to the planning phase.</p>\n<p>My understanding is, that I can use &quot;Calendar Provider&quot; to read events into my app and also to write or edit events back into the users' original Google Calendar. However, I need to store the events within my app (like with an own Firebase database) for greater functionality, too.</p>\n<p>What's missing is, how can I fetch events being added not through my app, but through the users' original Google Calendar? I cannot wait for the user to open my app and only then would trigger some sort of synchronization. It should be always in sync.</p>\n<p>Is there some interface preferred for user apps fetching anything edited in Google Calendar? Are there any classes supporting that? Do I need some background process polling mechanism (not preferred and due to delayed fetching, wouldn't be actually in sync).</p>\n<p>I'm trying to understand what would be the most common approach and what tools are available to achieve this.</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1651478100,"post_id":72083752,"comment_id":127365865,"body_markdown":"https://www.baeldung.com/java-preview-features","body":"<a href=\"https://www.baeldung.com/java-preview-features\" rel=\"nofollow noreferrer\">baeldung.com/java-preview-features</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1651478347,"post_id":72083752,"comment_id":127365917,"body_markdown":"@Kayaman Thanks for trying, but that linked page is of no help. The author there describes how to set &quot;Language Level&quot; settings in IntelliJ. But as I mentioned in the Question, there are no appropriate menu items for &quot;Language Level&quot; when using an early-access version of Java. The IntelliJ app does not “know” about the next future version of Java. In my experience, the IntelliJ team can never quite keep up with the next version of Java, despite Java versions coming on schedule every 6 months.","body":"@Kayaman Thanks for trying, but that linked page is of no help. The author there describes how to set &quot;Language Level&quot; settings in IntelliJ. But as I mentioned in the Question, there are no appropriate menu items for &quot;Language Level&quot; when using an early-access version of Java. The IntelliJ app does not “know” about the next future version of Java. In my experience, the IntelliJ team can never quite keep up with the next version of Java, despite Java versions coming on schedule every 6 months."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1651478831,"post_id":72083752,"comment_id":127366036,"body_markdown":"Yeah, it just means there&#39;s no support for it in IDEA yet. I mean you&#39;re using bleeding edge preview features, you can&#39;t really blame the lack of support. Especially for something like Loom. I&#39;d expect it needs a lot of work to get proper support for it, and since a preview feature is bound to change, it&#39;s a risky feature for such little usage.","body":"Yeah, it just means there&#39;s no support for it in IDEA yet. I mean you&#39;re using bleeding edge preview features, you can&#39;t really blame the lack of support. Especially for something like Loom. I&#39;d expect it needs a lot of work to get proper support for it, and since a preview feature is bound to change, it&#39;s a risky feature for such little usage."},{"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":1,"creation_date":1651486399,"post_id":72083752,"comment_id":127368157,"body_markdown":"Try adding `--enable-preview` to `Preferences | Build, Execution, Deployment | Compiler | Java Compiler` in the `Additional command line parameters` text field.","body":"Try adding <code>--enable-preview</code> to <code>Preferences | Build, Execution, Deployment | Compiler | Java Compiler</code> in the <code>Additional command line parameters</code> text field."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651534981,"post_id":72083752,"comment_id":127382872,"body_markdown":"@BasLeijdekkers Thanks for the suggestion. I tried that. Now when running a Maven `install`, I get the message &quot;newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.&quot; with `!` icon in a filled red-circle. But I went ahead with an execution —&#160;my app ran successfully! So that message seems to be superfluous.","body":"@BasLeijdekkers Thanks for the suggestion. I tried that. Now when running a Maven <code>install</code>, I get the message &quot;newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.&quot; with <code>!</code> icon in a filled red-circle. But I went ahead with an execution — my app ran successfully! So that message seems to be superfluous."},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1683496920,"post_id":72083752,"comment_id":134371981,"body_markdown":"@BasilBourque sir.. 1 question which is not related to your question. Is it ok to use to preview-features in production?","body":"@BasilBourque sir.. 1 question which is not related to your question. Is it ok to use to preview-features in production?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683501573,"post_id":72083752,"comment_id":134372339,"body_markdown":"@RamPrakash The answer to your query should be self-evident. If not, read the documentation: [*JEP 12: Preview Features*](https://openjdk.org/jeps/12).","body":"@RamPrakash The answer to your query should be self-evident. If not, read the documentation: <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\"><i>JEP 12: Preview Features</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1668193305,"creation_date":1651687490,"answer_id":72117576,"question_id":72083752,"body_markdown":"What I had to do step by step.\r\n\r\n**Update the IDE to the latest version**\r\n\r\n**Download a JVM with loom**\r\n\r\n**Add the loom JDK to the IDE**\r\n\r\n**Set it both to project and to your build tool**\r\n\r\n**Set enable preview and source to 19 as compiler options** to do this, go to prefs -&gt; compiler -&gt; java compiler, uncheck the --release option thing and add the following compiler args for specific project global\r\n\r\n    --enable-preview --source 19\r\n\r\nthese are directly passed to javac when it compiles\r\n\r\nSet the enable preview on your run configuration and add `--enable-preview` as a JVM option (if you don&#39;t see it click &#39;Modify options&#39;)\r\n\r\nYou should be good to go, I faced a bug where sometimes Gradle complained that it is not compatible with my JVM, to resolve this I had to switch the Gradle VM to java 17, wait for it to build, and then back to 19\r\n\r\n\r\nEDIT:\r\n\r\nMaven is a better option for experimenting with non-LTS versions. With maven I had zero problems, Gradle has some weird ifs here and there that throw errors if they &quot;Don&#39;t support&quot; certain Java-Gradle version combo, even though they use maven beneath\r\n","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>What I had to do step by step.</p>\n<p><strong>Update the IDE to the latest version</strong></p>\n<p><strong>Download a JVM with loom</strong></p>\n<p><strong>Add the loom JDK to the IDE</strong></p>\n<p><strong>Set it both to project and to your build tool</strong></p>\n<p><strong>Set enable preview and source to 19 as compiler options</strong> to do this, go to prefs -&gt; compiler -&gt; java compiler, uncheck the --release option thing and add the following compiler args for specific project global</p>\n<pre><code>--enable-preview --source 19\n</code></pre>\n<p>these are directly passed to javac when it compiles</p>\n<p>Set the enable preview on your run configuration and add <code>--enable-preview</code> as a JVM option (if you don't see it click 'Modify options')</p>\n<p>You should be good to go, I faced a bug where sometimes Gradle complained that it is not compatible with my JVM, to resolve this I had to switch the Gradle VM to java 17, wait for it to build, and then back to 19</p>\n<p>EDIT:</p>\n<p>Maven is a better option for experimenting with non-LTS versions. With maven I had zero problems, Gradle has some weird ifs here and there that throw errors if they &quot;Don't support&quot; certain Java-Gradle version combo, even though they use maven beneath</p>\n"},{"tags":[],"owner":{"account_id":18890668,"reputation":2191,"user_id":13781069,"display_name":"exaucae"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668188442,"creation_date":1668188442,"answer_id":74406282,"question_id":72083752,"body_markdown":"I had the same issue while using the Java 19.0.1 EAP for [project Panama][1] in InteliJ IDEA Ultimate 2022.2.3:\r\n\r\n&gt; java: java.lang.foreign.Linker is a preview API and is disabled by default. (use --enable-preview to enable preview APIs)\r\n\r\nWithout any UI trick, passing the `--enable preview` argument to maven compiler plugin worked for me:\r\n\r\n````xml\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;19&lt;/source&gt;\r\n          &lt;target&gt;19&lt;/target&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n````\r\n\r\n\r\n  [1]: https://openjdk.org/projects/panama/","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>I had the same issue while using the Java 19.0.1 EAP for <a href=\"https://openjdk.org/projects/panama/\" rel=\"noreferrer\">project Panama</a> in InteliJ IDEA Ultimate 2022.2.3:</p>\n<blockquote>\n<p>java: java.lang.foreign.Linker is a preview API and is disabled by default. (use --enable-preview to enable preview APIs)</p>\n</blockquote>\n<p>Without any UI trick, passing the <code>--enable preview</code> argument to maven compiler plugin worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;19&lt;/source&gt;\n          &lt;target&gt;19&lt;/target&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687196456,"creation_date":1687195425,"answer_id":76508846,"question_id":72083752,"body_markdown":"Here is the snapshot for the setting of --enable-preview in IDEA IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen you will also need to enable preview features for each program you run. On Edit Configuration window, click on Modify Options &gt; AD VM options, and set the flag there:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p7Ve4.png\r\n  [2]: https://i.stack.imgur.com/5TODP.png\r\n\r\nNow you should be able to run your program with preview features enabled.","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>Here is the snapshot for the setting of --enable-preview in IDEA IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/p7Ve4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p7Ve4.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you will also need to enable preview features for each program you run. On Edit Configuration window, click on Modify Options &gt; AD VM options, and set the flag there:</p>\n<p><a href=\"https://i.stack.imgur.com/5TODP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5TODP.png\" alt=\"enter image description here\" /></a></p>\n<p>Now you should be able to run your program with preview features enabled.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10498,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1687196456,"creation_date":1651477836,"question_id":72083752,"body_markdown":"Unfortunately, even the latest early-access versions of IntelliJ often do not yet support early-access versions of Java. \r\n\r\nFor example, I am trying to use *Intellij 2022.1.1 Preview (Ultimate Edition)* with the [experimental build][1] of [Project Loom][2] based on early-access [Java 19][3]. Installing JDK generally works with IntelliJ. \r\n\r\nBut now I want to use the Loom-specific features. When I invoke a method new in to this experimental Java 19, I get this error from compiler:\r\n\r\n&gt;java: newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.\r\n&gt;\r\n&gt;(use --enable-preview to enable preview APIs)\r\n\r\nMy first thought is to set the *Language level* fields on the *File &gt; Project Structure &gt; Project Settings &gt; Project* and *… Modules* panels. But apparently IntelliJ does not offer any menu items for a *(Preview)* mode for this early-access Java 19.\r\n\r\n&#128073; Is there some way to make IntelliJ utilize the new preview API?\r\n\r\nI know the error message&#39;s suggestion of `--enable-preview` is meant to be a flag applied somewhere. But I don&#39;t know where.\r\n\r\n\r\n  [1]: https://jdk.java.net/loom/\r\n  [2]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_19","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>Unfortunately, even the latest early-access versions of IntelliJ often do not yet support early-access versions of Java.</p>\n<p>For example, I am trying to use <em>Intellij 2022.1.1 Preview (Ultimate Edition)</em> with the <a href=\"https://jdk.java.net/loom/\" rel=\"noreferrer\">experimental build</a> of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"noreferrer\">Project Loom</a> based on early-access <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_19\" rel=\"noreferrer\">Java 19</a>. Installing JDK generally works with IntelliJ.</p>\n<p>But now I want to use the Loom-specific features. When I invoke a method new in to this experimental Java 19, I get this error from compiler:</p>\n<blockquote>\n<p>java: newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.</p>\n<p>(use --enable-preview to enable preview APIs)</p>\n</blockquote>\n<p>My first thought is to set the <em>Language level</em> fields on the <em>File &gt; Project Structure &gt; Project Settings &gt; Project</em> and <em>… Modules</em> panels. But apparently IntelliJ does not offer any menu items for a <em>(Preview)</em> mode for this early-access Java 19.</p>\n<p>👉 Is there some way to make IntelliJ utilize the new preview API?</p>\n<p>I know the error message's suggestion of <code>--enable-preview</code> is meant to be a flag applied somewhere. But I don't know where.</p>\n"},{"tags":["java","spring","spring-boot","generics","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687196296,"creation_date":1687196296,"answer_id":76508943,"question_id":76499520,"body_markdown":"I removed the @Service on the ReadService\r\n\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    public class ReadService&lt;\r\n    \t\tID,\r\n    \t\tENTITY,\r\n    \t\tDTO,\r\n    \t\tMAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\r\n    \t\tREPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\r\n    \r\n    \tprivate final MAPPER mapper;\r\n    \r\n    \tprivate final REPOSITORY repository;\r\n    \r\n    \tprivate final Class&lt;ENTITY&gt; entityClass;\r\n    \r\n    \tpublic ENTITY findById(ID id) throws FunctionalException {\r\n    \t\treturn repository\r\n    \t\t\t\t.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new FunctionalException(\r\n    \t\t\t\t\t\t&quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\r\n    \t}\r\n    \r\n    \tpublic DTO findByIdToDto(ID id) throws FunctionalException {\r\n    \t\treturn mapper.toDto(findById(id));\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;ENTITY&gt; findAll() {\r\n    \t\treturn repository.findAll();\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;DTO&gt; findAllToDto() {\r\n    \t\treturn mapper.toDtos(findAll());\r\n    \t}\r\n    \r\n    }\r\n\r\nI think that was not a great idea to use the ReadService inside Controller, so I decided to move it on the ContinentService, and then use directly the ContinentService on the Controller side.\r\n\r\nI&#39;m creating the instance of ReadService inside the constructor of the ContinentService.\r\n\r\n    @Service\r\n    public class ContinentService {\r\n    \r\n    \tpublic ContinentService(ContinentMapper continentMapper, ContinentRepository continentRepository) {\r\n    \t\treadService = new ReadService&lt;&gt;(continentMapper, continentRepository, Continent.class);\r\n    \t}\r\n    \r\n    \tprivate final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\r\n    \r\n\t    public ContinentDto findByIdToDto(Integer id) throws FunctionalException {\r\n\t\t    return readService.findByIdToDto(id);\r\n\t    }\r\n\r\n\t    public Collection&lt;ContinentDto&gt; findAllToDto() {\r\n\t\t    return readService.findAllToDto();\r\n\t    }\r\n\r\n    }\r\n\r\nand so this is the Controller\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/country&quot;)\r\n    public class CountryRestController {\r\n    \r\n    \tprivate final CountryService countryService;\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody CountryDto findById(@PathVariable Integer id) throws FunctionalException {\r\n    \t\treturn countryService.findByIdToDto(id);\r\n    \t}\r\n    \r\n    \t@GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Collection&lt;CountryDto&gt; findAll() {\r\n    \t\treturn countryService.findAllToDto();\r\n    \t}\r\n\r\n    }\r\n","title":"Generic Service implementation required a single bean, but 2 were found","body":"<p>I removed the @Service on the ReadService</p>\n<pre><code>@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class ReadService&lt;\n        ID,\n        ENTITY,\n        DTO,\n        MAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\n        REPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\n\n    private final MAPPER mapper;\n\n    private final REPOSITORY repository;\n\n    private final Class&lt;ENTITY&gt; entityClass;\n\n    public ENTITY findById(ID id) throws FunctionalException {\n        return repository\n                .findById(id)\n                .orElseThrow(() -&gt; new FunctionalException(\n                        &quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\n    }\n\n    public DTO findByIdToDto(ID id) throws FunctionalException {\n        return mapper.toDto(findById(id));\n    }\n\n    public Collection&lt;ENTITY&gt; findAll() {\n        return repository.findAll();\n    }\n\n    public Collection&lt;DTO&gt; findAllToDto() {\n        return mapper.toDtos(findAll());\n    }\n\n}\n</code></pre>\n<p>I think that was not a great idea to use the ReadService inside Controller, so I decided to move it on the ContinentService, and then use directly the ContinentService on the Controller side.</p>\n<p>I'm creating the instance of ReadService inside the constructor of the ContinentService.</p>\n<pre><code>@Service\npublic class ContinentService {\n\n    public ContinentService(ContinentMapper continentMapper, ContinentRepository continentRepository) {\n        readService = new ReadService&lt;&gt;(continentMapper, continentRepository, Continent.class);\n    }\n\n    private final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\n\n    public ContinentDto findByIdToDto(Integer id) throws FunctionalException {\n        return readService.findByIdToDto(id);\n    }\n\n    public Collection&lt;ContinentDto&gt; findAllToDto() {\n        return readService.findAllToDto();\n    }\n\n}\n</code></pre>\n<p>and so this is the Controller</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/country&quot;)\npublic class CountryRestController {\n\n    private final CountryService countryService;\n\n    @GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody CountryDto findById(@PathVariable Integer id) throws FunctionalException {\n        return countryService.findByIdToDto(id);\n    }\n\n    @GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;CountryDto&gt; findAll() {\n        return countryService.findAllToDto();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76508943,"answer_count":1,"score":1,"last_activity_date":1687196296,"creation_date":1687074457,"question_id":76499520,"body_markdown":"I was trying to implement a generic ReadService with the methods that I want to implement for many entities (findById, findByIdToDto, findAll, findAllToDto), so in that way I will avoid writing the same code over and over again.\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    public class ReadService&lt;\r\n    \t\tID,\r\n    \t\tENTITY,\r\n    \t\tDTO,\r\n    \t\tMAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\r\n    \t\tREPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\r\n    \r\n    \tprivate final MAPPER mapper;\r\n    \r\n    \tprivate final REPOSITORY repository;\r\n    \r\n    \t@Setter\r\n    \tprivate Class&lt;ENTITY&gt; entityClass;\r\n    \r\n    \tpublic ENTITY findById(ID id) throws FunctionalException {\r\n    \t\treturn repository\r\n    \t\t\t\t.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new FunctionalException(\r\n    \t\t\t\t\t\t&quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\r\n    \t}\r\n    \r\n    \tpublic DTO findByIdToDto(ID id) throws FunctionalException {\r\n    \t\treturn mapper.toDto(findById(id));\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;ENTITY&gt; findAll() {\r\n    \t\treturn repository.findAll();\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;DTO&gt; findAllToDto() {\r\n    \t\treturn mapper.toDtos(findAll());\r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is that got the following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.paulmarcelinbejan.toolbox.web.service.ReadService required a single bean, but 2 were found:\r\n    \t- continentMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/continent/mapper/ContinentMapperImpl.class]\r\n    \t- countryMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/country/mapper/CountryMapperImpl.class]\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nI use the ReadService in the Controller:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/continent&quot;)\r\n    public class ContinentRestController {\r\n    \r\n    \tprivate final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\r\n    \r\n    \t@PostConstruct\r\n    \tprivate void injectClass() {\r\n    \t\treadService.setEntityClass(Continent.class);\r\n    \t}\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody ContinentDto findById(@PathVariable Integer id) throws FunctionalException {\r\n    \t\treturn readService.findByIdToDto(id);\r\n    \t}\r\n\r\n    }\r\n\r\nWhy it founds two beans of MAPPER if ReadService is parametrized? \r\nEach time I want to use it, I&#39;ll have to parametrize it with the MAPPER that it has to use.\r\n\r\nWhat is the best way to solve it?\r\n\r\nP.S. \r\nIt&#39;s important to have those generic implementation cause it saves me a lot of time.\r\nConsider also that I already implemented Create, Update and Delete and they worked perfectly fine: \r\n\r\n\tprivate final CreateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; createService;\r\n\tprivate final UpdateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; updateService;\r\n\tprivate final DeleteService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; deleteService;","title":"Generic Service implementation required a single bean, but 2 were found","body":"<p>I was trying to implement a generic ReadService with the methods that I want to implement for many entities (findById, findByIdToDto, findAll, findAllToDto), so in that way I will avoid writing the same code over and over again.</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class ReadService&lt;\n        ID,\n        ENTITY,\n        DTO,\n        MAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\n        REPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\n\n    private final MAPPER mapper;\n\n    private final REPOSITORY repository;\n\n    @Setter\n    private Class&lt;ENTITY&gt; entityClass;\n\n    public ENTITY findById(ID id) throws FunctionalException {\n        return repository\n                .findById(id)\n                .orElseThrow(() -&gt; new FunctionalException(\n                        &quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\n    }\n\n    public DTO findByIdToDto(ID id) throws FunctionalException {\n        return mapper.toDto(findById(id));\n    }\n\n    public Collection&lt;ENTITY&gt; findAll() {\n        return repository.findAll();\n    }\n\n    public Collection&lt;DTO&gt; findAllToDto() {\n        return mapper.toDtos(findAll());\n    }\n\n}\n</code></pre>\n<p>The problem is that got the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.paulmarcelinbejan.toolbox.web.service.ReadService required a single bean, but 2 were found:\n    - continentMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/continent/mapper/ContinentMapperImpl.class]\n    - countryMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/country/mapper/CountryMapperImpl.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n<p>I use the ReadService in the Controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/continent&quot;)\npublic class ContinentRestController {\n\n    private final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\n\n    @PostConstruct\n    private void injectClass() {\n        readService.setEntityClass(Continent.class);\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody ContinentDto findById(@PathVariable Integer id) throws FunctionalException {\n        return readService.findByIdToDto(id);\n    }\n\n}\n</code></pre>\n<p>Why it founds two beans of MAPPER if ReadService is parametrized?\nEach time I want to use it, I'll have to parametrize it with the MAPPER that it has to use.</p>\n<p>What is the best way to solve it?</p>\n<p>P.S.\nIt's important to have those generic implementation cause it saves me a lot of time.\nConsider also that I already implemented Create, Update and Delete and they worked perfectly fine:</p>\n<pre><code>private final CreateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; createService;\nprivate final UpdateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; updateService;\nprivate final DeleteService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; deleteService;\n</code></pre>\n"},{"tags":["java","iso8583","jpos","iso8583-1993"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687196209,"creation_date":1687196209,"answer_id":76508932,"question_id":76508352,"body_markdown":"It doesn&#39;t seem to be a problem with the message being sent incomplete.\r\n\r\nIt looks more like a thing on how you are visualizing things, if you are trying [this answer](https://stackoverflow.com/a/76485890/3444205) the thing is `xxd` is expecting the next line. It will show the entire message after the other side disconnects and netcat finishes.\r\n\r\n","title":"The iso message is sent incomplete jpos","body":"<p>It doesn't seem to be a problem with the message being sent incomplete.</p>\n<p>It looks more like a thing on how you are visualizing things, if you are trying <a href=\"https://stackoverflow.com/a/76485890/3444205\">this answer</a> the thing is <code>xxd</code> is expecting the next line. It will show the entire message after the other side disconnects and netcat finishes.</p>\n"}],"owner":{"account_id":28799262,"reputation":21,"user_id":22056639,"display_name":"Raul Roa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687196209,"creation_date":1687190874,"question_id":76508352,"body_markdown":"Sending the iso message is sent incomplete, I don&#39;t know why\r\n\r\n\r\nin this way I am sending it\r\n\r\n\r\n```\r\n// Create Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\r\n\t\t// Crea una instancia de la clase BASE24TCPChannel\r\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\r\n       c.setHeader(&quot;ISO008000099&quot;);\r\n       \r\n\t\t// Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\t\r\n\t\tisoMsg.setPackager(packager);\r\n \r\n        isoMsg.setMTI(&quot;0800&quot;);\r\n        isoMsg.set(7, &quot;1088110140&quot;);\r\n        isoMsg.set(11, &quot;087478&quot;);\r\n        isoMsg.set(70, &quot;999&quot;);\r\n\r\n        c.connect();\r\n\t\tc.send(isoMsg);\r\n\r\n```\r\n\r\nthis is what is sent: \r\n\r\n```\r\n00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\r\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\r\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\r\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\r\n```\r\n\r\n\r\nBut if I add another connection to the shipment, if it arrives complete, because this behavior helps, I&#39;m new to JPOS.\r\n\r\n\r\n\r\n```\r\n\t// Create Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\r\n\t\t// Crea una instancia de la clase BASE24TCPChannel\r\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\r\n       c.setHeader(&quot;ISO008000099&quot;);\r\n       \r\n\t\t// Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\t\r\n\t\tisoMsg.setPackager(packager);\r\n \r\n        isoMsg.setMTI(&quot;0800&quot;);\r\n        isoMsg.set(7, &quot;1088110140&quot;);\r\n        isoMsg.set(11, &quot;087478&quot;);\r\n        isoMsg.set(70, &quot;999&quot;);\r\n\r\n        c.connect();\r\n\t\tc.send(isoMsg);\r\n\t\t\r\n\t\t\r\n\t\tc.connect();\r\n\t\t\r\n```\r\n\r\n\r\nhere if it arrives complete when connecting twice\r\n\r\n\r\n```\r\n00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\r\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\r\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\r\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\r\n00000040: 3738 3939 3903                           78999.\r\n```\r\n\r\nhow can I solve that?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The iso message is sent incomplete jpos","body":"<p>Sending the iso message is sent incomplete, I don't know why</p>\n<p>in this way I am sending it</p>\n<pre><code>// Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n\n        // Crea una instancia de la clase BASE24TCPChannel\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\n       c.setHeader(&quot;ISO008000099&quot;);\n       \n        // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        \n        isoMsg.setPackager(packager);\n \n        isoMsg.setMTI(&quot;0800&quot;);\n        isoMsg.set(7, &quot;1088110140&quot;);\n        isoMsg.set(11, &quot;087478&quot;);\n        isoMsg.set(70, &quot;999&quot;);\n\n        c.connect();\n        c.send(isoMsg);\n\n</code></pre>\n<p>this is what is sent:</p>\n<pre><code>00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\n</code></pre>\n<p>But if I add another connection to the shipment, if it arrives complete, because this behavior helps, I'm new to JPOS.</p>\n<pre><code>    // Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n\n        // Crea una instancia de la clase BASE24TCPChannel\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\n       c.setHeader(&quot;ISO008000099&quot;);\n       \n        // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        \n        isoMsg.setPackager(packager);\n \n        isoMsg.setMTI(&quot;0800&quot;);\n        isoMsg.set(7, &quot;1088110140&quot;);\n        isoMsg.set(11, &quot;087478&quot;);\n        isoMsg.set(70, &quot;999&quot;);\n\n        c.connect();\n        c.send(isoMsg);\n        \n        \n        c.connect();\n        \n</code></pre>\n<p>here if it arrives complete when connecting twice</p>\n<pre><code>00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\n00000040: 3738 3939 3903                           78999.\n</code></pre>\n<p>how can I solve that?</p>\n"},{"tags":["java","rest","jakarta-ee","jax-rs","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1687274879,"post_id":76508929,"comment_id":134912276,"body_markdown":"Looking at your configuration, are your REST endpoints in a JAR? They need to be in a WAR is why I ask.","body":"Looking at your configuration, are your REST endpoints in a JAR? They need to be in a WAR is why I ask."},{"owner":{"account_id":5502391,"reputation":631,"user_id":4371355,"accept_rate":39,"display_name":"Francesco Rizzi"},"score":0,"creation_date":1687380044,"post_id":76508929,"comment_id":134930389,"body_markdown":"Yes, they are in a WAR, which is inside an EAR package.","body":"Yes, they are in a WAR, which is inside an EAR package."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1687398918,"post_id":76508929,"comment_id":134932488,"body_markdown":"Your path should be; /application-framework/restapi/endpoint/testme. If that is what you&#39;re using, try changing the value of the `@ApplicationPath` to `restapi` leaving off the `/*` as that is required to be appended by the implementation.","body":"Your path should be; /application-framework/restapi/endpoint/testme. If that is what you&#39;re using, try changing the value of the <code>@ApplicationPath</code> to <code>restapi</code> leaving off the <code>&#47;*</code> as that is required to be appended by the implementation."}],"owner":{"account_id":5502391,"reputation":631,"user_id":4371355,"accept_rate":39,"display_name":"Francesco Rizzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687196193,"creation_date":1687196193,"question_id":76508929,"body_markdown":"I have the following REST Application:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.ejb.EJB;\r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    import application.interfaces.ApplicationContext;\r\n    \r\n    @ApplicationPath(&quot;/restapi/*&quot;)\r\n    public class TestRestAPIContext extends Application {\r\n    \t@EJB\r\n    \tprivate ApplicationContext ejbApplicationContext;\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void onInit() {\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;REST INIT!&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n    \t\treturn new LinkedHashSet&lt;&gt;(Arrays.asList(TestRestAPIEndpoint.class));\r\n    \t}\r\n    }\r\n\r\nAnd the following REST Resource:\r\n\r\n    import javax.ejb.Stateless;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    \r\n    import engine.annotations.RestAPIMethod;\r\n    \r\n    @Stateless\r\n    @Path(&quot;/endpoint&quot;)\r\n    public class TestRestAPIEndpoint {\r\n    \t@GET\r\n    \t@Path(&quot;/testme&quot;)\r\n    \t@RestAPIMethod\r\n    \tpublic String testAPI() {\r\n    \t\treturn &quot;OK&quot;;\r\n    \t}\r\n    }\r\n\r\nAll comes packaged in a .ear application with the following application.xml descriptor (META-INF/application.xml):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\r\n      &lt;display-name&gt;application-framework-ear&lt;/display-name&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;application-framework-web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/application-framework&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n        &lt;ejb&gt;application-framework-ejb.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;libs&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\nAnd I have the following jboss-web.xml (application-framework-web.war/WEB-INF/jboss-web.xml):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-web&gt;\r\n    \t&lt;context-root&gt;/application-framework&lt;/context-root&gt;\r\n    \t&lt;resource-ref&gt;\r\n    \t\t&lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\r\n    \r\n    \t\t&lt;jndi-name&gt;java:/jdbc/datasource&lt;/jndi-name&gt;\r\n    \t&lt;/resource-ref&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nAnd I have the following web.xml (application-framework-web.war/WEB-INF/web.xml):\r\n\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    &lt;!--&lt;servlet&gt;--&gt;\r\n    &lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\r\n    &lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;\r\n    &lt;!--&lt;/servlet&gt;--&gt;\r\n    \r\n    &lt;!--&lt;servlet-mapping&gt;--&gt;\r\n    &lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\r\n    &lt;!--&lt;url-pattern&gt;/restapi/*&lt;/url-pattern&gt;--&gt;\r\n    &lt;!--&lt;/servlet-mapping&gt;--&gt;\r\n    \t&lt;resource-ref&gt;\r\n    \t\t&lt;description&gt;Application Framework Datasource&lt;/description&gt;\r\n    \t\t&lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\r\n    \t\t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n    \t\t&lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n    \t&lt;/resource-ref&gt;\r\n    &lt;/web-app&gt;\r\n\r\n**Please note:** Servlet in web.xml has been commented since I would like to use only annotations.\r\n\r\nOn Wildfly-20.0.0.1 i can see the following: \r\n\r\n&gt; RESTEASY002225: Deploying javax.ws.rs.core.Application: class\r\n&gt; engine.TestRestAPIContext RESTEASY002200: Adding class resource\r\n&gt; engine.TestRestAPIEndpoint from Application class\r\n&gt; engine.TestRestAPIContext\r\n\r\nResource TestRestAPIEndpoint is never invoked. Furthermore, the @PostConstruct method of my TestRestAPIContext is not called. Any suggestions?\r\n\r\nThanks","title":"WildFly 20.0.0.1 JAX-RS Resource not found","body":"<p>I have the following REST Application:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.LinkedHashSet;\nimport java.util.Set;\n\nimport javax.annotation.PostConstruct;\nimport javax.ejb.EJB;\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\nimport application.interfaces.ApplicationContext;\n\n@ApplicationPath(&quot;/restapi/*&quot;)\npublic class TestRestAPIContext extends Application {\n    @EJB\n    private ApplicationContext ejbApplicationContext;\n\n    @PostConstruct\n    public void onInit() {\n        try {\n            System.out.println(&quot;REST INIT!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        return new LinkedHashSet&lt;&gt;(Arrays.asList(TestRestAPIEndpoint.class));\n    }\n}\n</code></pre>\n<p>And the following REST Resource:</p>\n<pre><code>import javax.ejb.Stateless;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\n\nimport engine.annotations.RestAPIMethod;\n\n@Stateless\n@Path(&quot;/endpoint&quot;)\npublic class TestRestAPIEndpoint {\n    @GET\n    @Path(&quot;/testme&quot;)\n    @RestAPIMethod\n    public String testAPI() {\n        return &quot;OK&quot;;\n    }\n}\n</code></pre>\n<p>All comes packaged in a .ear application with the following application.xml descriptor (META-INF/application.xml):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\n  &lt;display-name&gt;application-framework-ear&lt;/display-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;application-framework-web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/application-framework&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;ejb&gt;application-framework-ejb.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;libs&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n<p>And I have the following jboss-web.xml (application-framework-web.war/WEB-INF/jboss-web.xml):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-web&gt;\n    &lt;context-root&gt;/application-framework&lt;/context-root&gt;\n    &lt;resource-ref&gt;\n        &lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\n\n        &lt;jndi-name&gt;java:/jdbc/datasource&lt;/jndi-name&gt;\n    &lt;/resource-ref&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>And I have the following web.xml (application-framework-web.war/WEB-INF/web.xml):</p>\n<pre><code>&lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n&lt;!--&lt;servlet&gt;--&gt;\n&lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\n&lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;\n&lt;!--&lt;/servlet&gt;--&gt;\n\n&lt;!--&lt;servlet-mapping&gt;--&gt;\n&lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\n&lt;!--&lt;url-pattern&gt;/restapi/*&lt;/url-pattern&gt;--&gt;\n&lt;!--&lt;/servlet-mapping&gt;--&gt;\n    &lt;resource-ref&gt;\n        &lt;description&gt;Application Framework Datasource&lt;/description&gt;\n        &lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n    &lt;/resource-ref&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>Please note:</strong> Servlet in web.xml has been commented since I would like to use only annotations.</p>\n<p>On Wildfly-20.0.0.1 i can see the following:</p>\n<blockquote>\n<p>RESTEASY002225: Deploying javax.ws.rs.core.Application: class\nengine.TestRestAPIContext RESTEASY002200: Adding class resource\nengine.TestRestAPIEndpoint from Application class\nengine.TestRestAPIContext</p>\n</blockquote>\n<p>Resource TestRestAPIEndpoint is never invoked. Furthermore, the @PostConstruct method of my TestRestAPIContext is not called. Any suggestions?</p>\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","junit","jdom-2"],"comments":[{"owner":{"account_id":3593742,"reputation":207,"user_id":2999097,"accept_rate":45,"display_name":"Noshaf"},"score":0,"creation_date":1582281728,"post_id":60336802,"comment_id":106731793,"body_markdown":"try with **assertEquals**","body":"try with <b>assertEquals</b>"},{"owner":{"account_id":17450915,"reputation":452,"user_id":12650909,"display_name":"Sandeep Lakdawala"},"score":0,"creation_date":1582282905,"post_id":60336802,"comment_id":106732428,"body_markdown":"Check this\n\nhttps://stackoverflow.com/questions/3236880/assert-equals-between-2-lists-in-junit","body":"Check this  <a href=\"https://stackoverflow.com/questions/3236880/assert-equals-between-2-lists-in-junit\" title=\"assert equals between 2 lists in junit\">stackoverflow.com/questions/3236880/&hellip;</a>"},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1582531039,"post_id":60336802,"comment_id":106795353,"body_markdown":"Does this answer your question? [AssertEquals 2 Lists ignore order](https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order\">AssertEquals 2 Lists ignore order</a>"}],"answers":[{"tags":[],"owner":{"account_id":9353136,"reputation":7469,"user_id":6942134,"display_name":"SergiyKolesnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582282242,"creation_date":1582282242,"answer_id":60337070,"question_id":60336802,"body_markdown":"If you do not care for the order of the elements, you can sort the lists before comparing them.","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>If you do not care for the order of the elements, you can sort the lists before comparing them.</p>\n"},{"tags":[],"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582632416,"creation_date":1582282382,"answer_id":60337123,"question_id":60336802,"body_markdown":"You should use `containsAll` to check whether one list has all items from another, as long as you have proper equals implementation for your `Apple` this should work:\r\n\r\n        // Covers case where all items that are from correct list are in reference as well\r\n        // but also some additional items exist that are not in correct list\r\n        assertEquals(correctlyPassedList.size(), referenceList.size());\r\n        // Checks if each element is contained in list\r\n        assertTrue(referenceList.containsAll(correctlyPassedList));\r\n\r\n**UPDATE**\r\n\r\nRegarding your latest comment probably this would work best:\r\n\r\n        // Sort both lists using comparator based on id or whatever field is relevant\r\n        referenceList.sort(Comparator.comparingInt(Apple::getId));\r\n        correctlyParsedList.sort(Comparator.comparingInt(Apple::getId));\r\n        // Check if they are equal\r\n        assertEquals(correctlyParsedList, referenceList);","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>You should use <code>containsAll</code> to check whether one list has all items from another, as long as you have proper equals implementation for your <code>Apple</code> this should work:</p>\n\n<pre><code>    // Covers case where all items that are from correct list are in reference as well\n    // but also some additional items exist that are not in correct list\n    assertEquals(correctlyPassedList.size(), referenceList.size());\n    // Checks if each element is contained in list\n    assertTrue(referenceList.containsAll(correctlyPassedList));\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Regarding your latest comment probably this would work best:</p>\n\n<pre><code>    // Sort both lists using comparator based on id or whatever field is relevant\n    referenceList.sort(Comparator.comparingInt(Apple::getId));\n    correctlyParsedList.sort(Comparator.comparingInt(Apple::getId));\n    // Check if they are equal\n    assertEquals(correctlyParsedList, referenceList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599064870,"creation_date":1599064870,"answer_id":63709951,"question_id":60336802,"body_markdown":"I personally prefer to always use [AssertJ][1].\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n Either of these two assertions should do the trick!\r\n\r\n    assertThat(correctlyParsedList1).containsOnlyOnce(referenceApple1, referenceApple2);\r\n    assertThat(correctlyParsedList1).containsOnlyOnceElementsOf(referenceList);\r\n\r\n\r\n  [1]: https://assertj.github.io/doc/","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>I personally prefer to always use <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">AssertJ</a>.</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n</code></pre>\n<p>Either of these two assertions should do the trick!</p>\n<pre><code>assertThat(correctlyParsedList1).containsOnlyOnce(referenceApple1, referenceApple2);\nassertThat(correctlyParsedList1).containsOnlyOnceElementsOf(referenceList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626096516,"creation_date":1626096516,"answer_id":68348221,"question_id":60336802,"body_markdown":"Drawing on @FilipRistic&#39;s answer, this is what worked for me:\r\n\r\nSort both lists using comparator based on `id` or whichever field is relevant:\r\n\r\n    referenceList.sort(Comparator.comparingInt(Apple::getId));\r\n    correctlyParsedList.sort(Comparator.comparingInt(Apple::getId));\r\n\r\nThen simply:\r\n\r\n    assertThat(referenceList).usingRecursiveComparison().isEqualTo(correctlyParsedList);\r\n","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>Drawing on @FilipRistic's answer, this is what worked for me:</p>\n<p>Sort both lists using comparator based on <code>id</code> or whichever field is relevant:</p>\n<pre><code>referenceList.sort(Comparator.comparingInt(Apple::getId));\ncorrectlyParsedList.sort(Comparator.comparingInt(Apple::getId));\n</code></pre>\n<p>Then simply:</p>\n<pre><code>assertThat(referenceList).usingRecursiveComparison().isEqualTo(correctlyParsedList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687195863,"creation_date":1687195863,"answer_id":76508893,"question_id":60336802,"body_markdown":"I think the accepted way now is to use Hamcrest library and use one of its Matchers.containsInAnyOrder (Any class assuming there is an equals method)\r\nI could populate this with a specific set of values, but feel this is more generic.\r\n\r\n    List&lt;T&gt; values; // literally add in any order\r\n    List&lt;T&gt; containsValuesInAnyOrder; // literally add in any order\r\n    MatcherAssert.assertThat(values, containsValuesInAnyOrder);\r\n","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>I think the accepted way now is to use Hamcrest library and use one of its Matchers.containsInAnyOrder (Any class assuming there is an equals method)\nI could populate this with a specific set of values, but feel this is more generic.</p>\n<pre><code>List&lt;T&gt; values; // literally add in any order\nList&lt;T&gt; containsValuesInAnyOrder; // literally add in any order\nMatcherAssert.assertThat(values, containsValuesInAnyOrder);\n</code></pre>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21394,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1687195863,"creation_date":1582281307,"question_id":60336802,"body_markdown":"My use case is that I am writing a document parser (for ReqIF documents) and want to compare that the parsed object contains the expected elements. For this, I want to write a JUnit Test.\r\n\r\nEffectively, what I am looking for is an assertion method that compares two lists of objects with values and passes when both lists contain (in any order) objects that have the same values as the reference list.\r\n\r\nTo abstract that, consider this example:\r\n\r\n```\r\nApple referenceApple1 = new Apple(color=&quot;red&quot;);\r\nApple referenceApple2 = new Apple(color=&quot;green&quot;);\r\nApple parsedApple1 = new Apple(color=&quot;red&quot;);\r\nApple parsedApple2 = new Apple(color=&quot;green&quot;);\r\nApple badApple = new Apple(color=&quot;brown&quot;);\r\n\r\nList&lt;Apple&gt; referenceList = new List&lt;Apple&gt;(referenceApple1, referenceApple2);\r\nList&lt;Apple&gt; correctlyParsedList1 = new List&lt;Apple&gt;(parsedApple1, parsedApple2);\r\nList&lt;Apple&gt; correctlyParsedList2 = new List&lt;Apple&gt;(parsedApple2, parsedApple1);\r\nList&lt;Apple&gt; wronglyParsedList1 = new List&lt;Apple&gt;(parsedApple1, badApple);\r\nList&lt;Apple&gt; wronglyParsedList2 = new List&lt;Apple&gt;(parsedApple1, parsedApple2, parsedApple1);\r\nList&lt;Apple&gt; wronglyParsedList3 = new List&lt;Apple&gt;(parsedApple2, parsedApple2);\r\n```\r\n\r\nI am looking for an assertion method that passes when comparing any of the above `correctlyParsedList*` with the `referenceList`, but fails when comparing any of the above `wronglyParsedList*` with the `referenceList`.\r\n\r\nCurrently, the closest I&#39;ve gotten to is this:\r\n\r\n```\r\nassertEquals(referenceList.toString(), correctlyParsedList1.toString())\r\n```\r\n\r\nHowever, that will fail as soon as the objects are in another order.\r\n\r\n```\r\n//Will fail, but I want a method that will compare these and pass\r\nassertEquals(referenceList.toString(), correctlyParsedList2.toString())\r\n```\r\n\r\nNotably, the following will also fail since the Apples, while containing the same values, are not instances of the same object:\r\n\r\n```\r\nassertThat(correctlyParsedList1, is(referenceList));\r\n\r\n//Throws This error:\r\njava.lang.AssertionError: \r\nExpected: is &lt;[[color=&quot;red&quot;], [color=&quot;green&quot;]]&gt;\r\n     but: was &lt;[[color=&quot;red&quot;], [color=&quot;green&quot;]]&gt;\r\n```\r\n\r\nIs there a simple way to make such an assertion in JUnit? I know I could write a custom assertion method for this iterating over the objects, but somehow it feels like this would be a common use case that should have a pre-defined assertion method that throws expressive assertion errors.\r\n\r\n---\r\n\r\nEDIT ~ CONCRETIZATION\r\n\r\nWhat I am actually trying to do with this abstract example is to parse a complex XML using JDOM2, and I want to assert that the attributes of a tag being parsed equal those that exist in the sample document I give as an input. Since this is XML, the order of the attributes is irrelevant, as long as they have the correct values.\r\n\r\nSo effectively, what I am comparing in this practical use case is two `List&lt;Attribute&gt;`, with `Attribute` coming from `org.jdom2.Attribute`.\r\n\r\nThe complete makeshift testcase with which I am currently unhappy because it will fail if the order of attributes changes but should not is as follows:\r\n\r\n```\r\n\t@Test\r\n\tpublic void importXML_fromFileShouldCreateXML_objectWithCorrectAttributes() throws JDOMException, IOException {\r\n\t\ttestInitialization();\r\n\t\tList&lt;Attribute&gt; expectedAttributes = rootNode.getAttributes();\r\n\t\t\r\n\t\tXML_data generatedXML_data = xml_importer.importXML_fromFile(inputFile);\r\n\t\tList&lt;Attribute&gt; actualAttributes = generatedXML_data.attributes;\r\n\t\t\r\n\t\tassertEquals(expectedAttributes.toString(), actualAttributes.toString());\r\n\t}\r\n```\r\n\r\nThe concrete error I get when trying to make that assertion with `assertThat(expectedAttributes, is(actualAttributes))` is:\r\n\r\n```\r\njava.lang.AssertionError: \r\nExpected: is &lt;[[Attribute: xsi:schemaLocation=&quot;http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd&quot;], [Attribute: xml:lang=&quot;en&quot;]]&gt;\r\n    but: was &lt;[[Attribute: xsi:schemaLocation=&quot;http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd&quot;], [Attribute: xml:lang=&quot;en&quot;]]&gt;\r\n```\r\n","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>My use case is that I am writing a document parser (for ReqIF documents) and want to compare that the parsed object contains the expected elements. For this, I want to write a JUnit Test.</p>\n\n<p>Effectively, what I am looking for is an assertion method that compares two lists of objects with values and passes when both lists contain (in any order) objects that have the same values as the reference list.</p>\n\n<p>To abstract that, consider this example:</p>\n\n<pre><code>Apple referenceApple1 = new Apple(color=\"red\");\nApple referenceApple2 = new Apple(color=\"green\");\nApple parsedApple1 = new Apple(color=\"red\");\nApple parsedApple2 = new Apple(color=\"green\");\nApple badApple = new Apple(color=\"brown\");\n\nList&lt;Apple&gt; referenceList = new List&lt;Apple&gt;(referenceApple1, referenceApple2);\nList&lt;Apple&gt; correctlyParsedList1 = new List&lt;Apple&gt;(parsedApple1, parsedApple2);\nList&lt;Apple&gt; correctlyParsedList2 = new List&lt;Apple&gt;(parsedApple2, parsedApple1);\nList&lt;Apple&gt; wronglyParsedList1 = new List&lt;Apple&gt;(parsedApple1, badApple);\nList&lt;Apple&gt; wronglyParsedList2 = new List&lt;Apple&gt;(parsedApple1, parsedApple2, parsedApple1);\nList&lt;Apple&gt; wronglyParsedList3 = new List&lt;Apple&gt;(parsedApple2, parsedApple2);\n</code></pre>\n\n<p>I am looking for an assertion method that passes when comparing any of the above <code>correctlyParsedList*</code> with the <code>referenceList</code>, but fails when comparing any of the above <code>wronglyParsedList*</code> with the <code>referenceList</code>.</p>\n\n<p>Currently, the closest I've gotten to is this:</p>\n\n<pre><code>assertEquals(referenceList.toString(), correctlyParsedList1.toString())\n</code></pre>\n\n<p>However, that will fail as soon as the objects are in another order.</p>\n\n<pre><code>//Will fail, but I want a method that will compare these and pass\nassertEquals(referenceList.toString(), correctlyParsedList2.toString())\n</code></pre>\n\n<p>Notably, the following will also fail since the Apples, while containing the same values, are not instances of the same object:</p>\n\n<pre><code>assertThat(correctlyParsedList1, is(referenceList));\n\n//Throws This error:\njava.lang.AssertionError: \nExpected: is &lt;[[color=\"red\"], [color=\"green\"]]&gt;\n     but: was &lt;[[color=\"red\"], [color=\"green\"]]&gt;\n</code></pre>\n\n<p>Is there a simple way to make such an assertion in JUnit? I know I could write a custom assertion method for this iterating over the objects, but somehow it feels like this would be a common use case that should have a pre-defined assertion method that throws expressive assertion errors.</p>\n\n<hr>\n\n<p>EDIT ~ CONCRETIZATION</p>\n\n<p>What I am actually trying to do with this abstract example is to parse a complex XML using JDOM2, and I want to assert that the attributes of a tag being parsed equal those that exist in the sample document I give as an input. Since this is XML, the order of the attributes is irrelevant, as long as they have the correct values.</p>\n\n<p>So effectively, what I am comparing in this practical use case is two <code>List&lt;Attribute&gt;</code>, with <code>Attribute</code> coming from <code>org.jdom2.Attribute</code>.</p>\n\n<p>The complete makeshift testcase with which I am currently unhappy because it will fail if the order of attributes changes but should not is as follows:</p>\n\n<pre><code>    @Test\n    public void importXML_fromFileShouldCreateXML_objectWithCorrectAttributes() throws JDOMException, IOException {\n        testInitialization();\n        List&lt;Attribute&gt; expectedAttributes = rootNode.getAttributes();\n\n        XML_data generatedXML_data = xml_importer.importXML_fromFile(inputFile);\n        List&lt;Attribute&gt; actualAttributes = generatedXML_data.attributes;\n\n        assertEquals(expectedAttributes.toString(), actualAttributes.toString());\n    }\n</code></pre>\n\n<p>The concrete error I get when trying to make that assertion with <code>assertThat(expectedAttributes, is(actualAttributes))</code> is:</p>\n\n<pre><code>java.lang.AssertionError: \nExpected: is &lt;[[Attribute: xsi:schemaLocation=\"http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd\"], [Attribute: xml:lang=\"en\"]]&gt;\n    but: was &lt;[[Attribute: xsi:schemaLocation=\"http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd\"], [Attribute: xml:lang=\"en\"]]&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","google-api-java-client","gcp-secret-manager"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687185321,"creation_date":1687185321,"answer_id":76507637,"question_id":76503393,"body_markdown":"I suspect you are having some dependency conflicts here and mismatching versions of Beam / GAX.\r\n\r\nHow are you bringing matching versions of dependencies?\r\n\r\nThe easiest way that I am aware is using the BOM provided by Beam: https://cloud.google.com/dataflow/docs/guides/common-errors#java-dependency-errors\r\n\r\n","title":"java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true while getting gcp secret manager","body":"<p>I suspect you are having some dependency conflicts here and mismatching versions of Beam / GAX.</p>\n<p>How are you bringing matching versions of dependencies?</p>\n<p>The easiest way that I am aware is using the BOM provided by Beam: <a href=\"https://cloud.google.com/dataflow/docs/guides/common-errors#java-dependency-errors\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/common-errors#java-dependency-errors</a></p>\n"}],"owner":{"account_id":4845165,"reputation":1,"user_id":3908981,"display_name":"Chan Myae Aung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687195837,"creation_date":1687144231,"question_id":76503393,"body_markdown":"I tried to use with dependency version google-cloud-secretmanager 2.13.0. is there anyone can help with this? Here is util class to get secret manager value.\r\n\r\n```java\r\n\r\npublic String get(String secretName) {\r\n\ttry (SecretManagerServiceClient client = SecretManagerServiceClient.create()) {\r\n\t\tSecretVersionName secretVersionName = SecretVersionName.of(projectId, secretName, &quot;latest&quot;);\r\n\r\n\t\tAccessSecretVersionRequest accessRequest = AccessSecretVersionRequest.newBuilder().setName(secretVersionName.toString()).build();\r\n\r\n\t\tByteString secretValue = client.accessSecretVersion(accessRequest).getPayload().getData();\r\n\r\n\t\tString secretString = secretValue.toStringUtf8();\r\n\r\n\t\tif (StringUtils.isNotBlank(secretString)) {\r\n\t\t\treturn secretString;\r\n\t\t} else {\r\n\t\t\tthrow new RuntimeException(String.format(&quot;Secret of %s is blank&quot;, secretName));\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new RuntimeException(&quot;Caught an error when getting a secret value.&quot;, e);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Caught an error when getting a secret value.\r\n\tat com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:30)\r\n\tat com.rakuten.rcp.cdu.FeedToGsp.run(FeedToGsp.java:107)\r\n\tat com.rakuten.rcp.cdu.FeedToGsp.main(FeedToGsp.java:101)\r\nCaused by: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:180)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n\tat com.google.cloud.secretmanager.v1.stub.GrpcSecretManagerServiceStub.create(GrpcSecretManagerServiceStub.java:248)\r\n\tat com.google.cloud.secretmanager.v1.stub.SecretManagerServiceStubSettings.createStub(SecretManagerServiceStubSettings.java:349)\r\n\tat com.google.cloud.secretmanager.v1.SecretManagerServiceClient.&lt;init&gt;(SecretManagerServiceClient.java:180)\r\n\tat com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:162)\r\n\tat com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:153)\r\n\tat com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:15)\r\n\t... 2 more```\r\n```","title":"java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true while getting gcp secret manager","body":"<p>I tried to use with dependency version google-cloud-secretmanager 2.13.0. is there anyone can help with this? Here is util class to get secret manager value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic String get(String secretName) {\n    try (SecretManagerServiceClient client = SecretManagerServiceClient.create()) {\n        SecretVersionName secretVersionName = SecretVersionName.of(projectId, secretName, &quot;latest&quot;);\n\n        AccessSecretVersionRequest accessRequest = AccessSecretVersionRequest.newBuilder().setName(secretVersionName.toString()).build();\n\n        ByteString secretValue = client.accessSecretVersion(accessRequest).getPayload().getData();\n\n        String secretString = secretValue.toStringUtf8();\n\n        if (StringUtils.isNotBlank(secretString)) {\n            return secretString;\n        } else {\n            throw new RuntimeException(String.format(&quot;Secret of %s is blank&quot;, secretName));\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Caught an error when getting a secret value.&quot;, e);\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Caught an error when getting a secret value.\n    at com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:30)\n    at com.rakuten.rcp.cdu.FeedToGsp.run(FeedToGsp.java:107)\n    at com.rakuten.rcp.cdu.FeedToGsp.main(FeedToGsp.java:101)\nCaused by: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:180)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\n    at com.google.cloud.secretmanager.v1.stub.GrpcSecretManagerServiceStub.create(GrpcSecretManagerServiceStub.java:248)\n    at com.google.cloud.secretmanager.v1.stub.SecretManagerServiceStubSettings.createStub(SecretManagerServiceStubSettings.java:349)\n    at com.google.cloud.secretmanager.v1.SecretManagerServiceClient.&lt;init&gt;(SecretManagerServiceClient.java:180)\n    at com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:162)\n    at com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:153)\n    at com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:15)\n    ... 2 more```\n</code></pre>\n"},{"tags":["java","android","sockets","video-streaming"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1686962538,"post_id":76491040,"comment_id":134875302,"body_markdown":"This little snippet missing critical information making it hard to diagnose what&#39;s going on. The first thing I&#39;d like to know is the value of `serverHeader`, and also why it&#39;s called `serverHeader` if this is a client HTTP request.","body":"This little snippet missing critical information making it hard to diagnose what&#39;s going on. The first thing I&#39;d like to know is the value of <code>serverHeader</code>, and also why it&#39;s called <code>serverHeader</code> if this is a client HTTP request."},{"owner":{"account_id":5560772,"reputation":621,"user_id":4410132,"display_name":"PunK _l_ RuLz"},"score":0,"creation_date":1687230684,"post_id":76491040,"comment_id":134903950,"body_markdown":"Hello @PresidentJamesK.Polk any suggestion?","body":"Hello @PresidentJamesK.Polk any suggestion?"}],"owner":{"account_id":5560772,"reputation":621,"user_id":4410132,"display_name":"PunK _l_ RuLz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687195575,"creation_date":1686924880,"question_id":76491040,"body_markdown":"I am trying to open a socket connection to a specific address using a class which extends Thread. The overridden run method code is\r\n\r\n```java\r\nprivate String headerForGetConnection() {\r\n\treturn String.format(\r\n            &quot;GET %s HTTP/1.0\\r\\nUser-Agent: %s\\r\\nx-sessioncookie: %s\\r\\nAccept: application/x-rtsp-tunnelled\\r\\nPragma: no-cache\\r\\nCache-Control: no-cache\\r\\n\\r\\n&quot;, \r\n            addressAttributes(), this.USER_AGENT, this.session_cookie\r\n    );\r\n}\r\n\r\nprivate String addressAttributes() {\r\n\treturn &quot;/img/video.sav?MAC=&quot; + this.camera.getDevice().getMac() + &quot;&amp;GUID=&quot; + &quot;GUID value&quot;;\r\n}\r\n\r\n@Override\r\npublic void run() {\r\n\tsuper.run();\r\n\r\n\tint count = 0;\r\n\r\n\tint MAX_CONNECTION_TRY = 3;\r\n\twhile (count &lt; MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\r\n\r\n\t\tTCLog.d(TAG, &quot;counting value &quot; + count);\r\n\t\tcount++;\r\n\t\tsocket = null;\r\n\t\tbufferedInputStream = null;\r\n\t\tprintWriter = null;\r\n\r\n\t\ttry {\r\n\t\t\tTCLog.d(TAG, &quot;media serverAddress &quot; + serverAddress + &quot; serverPort == &quot; + serverPort);\r\n\r\n\t\t\tSocketFactory socketFactory = SSLSocketFactory.getDefault();\r\n\t\t\tsocket = socketFactory.createSocket(serverAddress, serverPort);\r\n\t\t\tTCLog.d(TAG, &quot;Media server socket value after connecting to address and port == &quot; + socket);\r\n\t\t\tif (null == bufferedInputStream) {\r\n\t\t\t\tbufferedInputStream = new BufferedInputStream(socket.getInputStream());\r\n\t\t\t}\r\n\r\n\t\t} catch(UnknownHostException e) {\r\n\t\t\tTCLog.d(TAG, &quot;value UnknownHostException&quot; + e.getMessage());\r\n\t\t\thandleError(e.getMessage());\r\n\t\t} catch(IOException e) {\r\n\t\t\tTCLog.d(TAG, &quot;value IOException &quot; + e.getMessage());\r\n\t\t\thandleError(e.getMessage());\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tprintWriter = new PrintWriter(socket.getOutputStream());\r\n\t\t\tprintWriter.println(serverHeader);\r\n\t\t\tprintWriter.flush();\r\n\t\t\tisFirstMessage = true;\r\n\t\t} catch(IOException e) {\r\n\t\t\tTCLog.d(TAG, &quot;value IOException while writing &quot; + e.getMessage());\r\n\t\t\thandleError(e.getMessage());\r\n\t\t}\r\n\r\n\t\twhile (!shouldCloseConnection) {\r\n\t\t\ttry {\r\n\t\t\t\tString dataToSend = null;\r\n\t\t\t\tbyte[] readingData = new byte[BUFFER_SIZE];\r\n\t\t\t\tint read;\r\n\t\t\t\tbyte[] data = null;\r\n\t\t\t\tif ((read = bufferedInputStream.read(readingData)) != -1) {\r\n\t\t\t\t\tTCLog.d(TAG, &quot;OTHER read value &quot; + read);\r\n\t\t\t\t\tdata = Arrays.copyOfRange(readingData, 0, read);\r\n\t\t\t\t\tdataToSend = new String(data);\r\n\t\t\t\t}\r\n\t\t\t\tif (null != dataToSend) {\r\n\t\t\t\t\tTCLog.d(TAG, &quot;message from server &quot; + dataToSend);\r\n\t\t\t\t\tif (isFirstMessage) {\r\n\r\n\t\t\t\t\t\tif (!dataToSend.contains(&quot;200 OK&quot;)) {\r\n\r\n\t\t\t\t\t\t\tif (dataToSend.contains(&quot;303&quot;)) {\r\n\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;when there is redirect&quot;);\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;splitting string value&quot;);\r\n\r\n\t\t\t\t\t\t\t\tString[] videos = dataToSend.split(&quot;https://&quot;);\r\n\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;values 1 &quot; + videos[0]);\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;value 2 &quot; + videos[1]);\r\n\r\n\t\t\t\t\t\t\t\tString redirectUrl = videos[1];\r\n\r\n\t\t\t\t\t\t\t\tvideos = redirectUrl.split(&quot;:&quot;);\r\n\r\n\t\t\t\t\t\t\t\tredirectUrl = videos[0];\r\n\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;redirect URL is &quot; + redirectUrl);\r\n\r\n\t\t\t\t\t\t\t\tisRedirectUrl = true;\r\n\r\n\t\t\t\t\t\t\t\tthis.serverAddress = redirectUrl;\r\n\t\t\t\t\t\t\t\tReflector.address = this.serverAddress;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else if (dataToSend.contains(&quot;HTTP/1.0 4&quot;)) {\r\n\t\t\t\t\t\t\t\tisRedirectUrl = false;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.isFirstMessage = false;\r\n\t\t\t\t\t\t\tif (null != listener) {\r\n\t\t\t\t\t\t\t\tthis.listener.getConnectionConnectedSuccessfully();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (null != listener) {\r\n\t\t\t\t\t\t\tlistener.getConnectionRawData(data, dataToSend.trim());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch(IOException e) {\r\n\t\t\t\tTCLog.d(TAG, &quot;value IOException while reading &quot; + e.getMessage());\r\n\t\t\t\thandleError(e.getMessage());\r\n\t\t\t} finally {\r\n\t\t\t\tTCLog.d(TAG, &quot;inside finally block&quot;);\r\n\t\t\t\tif (isFirstMessage &amp;&amp; !isRedirectUrl) {\r\n\t\t\t\t\thandleError(&quot;Unable to play video&quot;);\r\n\r\n\t\t\t\t\tif (null != printWriter) {\r\n\t\t\t\t\t\tprintWriter.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tTCLog.d(TAG, &quot;inside finally try block. Closing connections&quot;);\r\n\t\t\t\t\t\tif (null != bufferedInputStream) {\r\n\t\t\t\t\t\t\tbufferedInputStream.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (null != socket &amp;&amp; socket.isConnected()) {\r\n\t\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(IOException e) {\r\n\t\t\t\t\t\tTCLog.d(TAG, &quot;error while closing streams &quot; + e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!isRedirectUrl) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tif (count &gt;= MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\r\n\t\thandleError(&quot;Unable to establish connection&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe first log (media server address) gets printed, but the 2nd log does not and my socket connection goes into limbo. No code after trying to create a socket gets executed. It is not a consistent behaviour, at-times the socket connection is successful.\r\n\r\nIf the socket connection is successful, there is a certain GET command/call that we are supposed to make. \r\nI tried to make the GET call as an API call/REST call and every time I got a reply from the server even if there is a delay of about 10-12 seconds which makes me believe that it is not a server config issue (I might be wrong). Any insight or any suggestion on how to proceed forward?","title":"Unable to open socket","body":"<p>I am trying to open a socket connection to a specific address using a class which extends Thread. The overridden run method code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String headerForGetConnection() {\n    return String.format(\n            &quot;GET %s HTTP/1.0\\r\\nUser-Agent: %s\\r\\nx-sessioncookie: %s\\r\\nAccept: application/x-rtsp-tunnelled\\r\\nPragma: no-cache\\r\\nCache-Control: no-cache\\r\\n\\r\\n&quot;, \n            addressAttributes(), this.USER_AGENT, this.session_cookie\n    );\n}\n\nprivate String addressAttributes() {\n    return &quot;/img/video.sav?MAC=&quot; + this.camera.getDevice().getMac() + &quot;&amp;GUID=&quot; + &quot;GUID value&quot;;\n}\n\n@Override\npublic void run() {\n    super.run();\n\n    int count = 0;\n\n    int MAX_CONNECTION_TRY = 3;\n    while (count &lt; MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\n\n        TCLog.d(TAG, &quot;counting value &quot; + count);\n        count++;\n        socket = null;\n        bufferedInputStream = null;\n        printWriter = null;\n\n        try {\n            TCLog.d(TAG, &quot;media serverAddress &quot; + serverAddress + &quot; serverPort == &quot; + serverPort);\n\n            SocketFactory socketFactory = SSLSocketFactory.getDefault();\n            socket = socketFactory.createSocket(serverAddress, serverPort);\n            TCLog.d(TAG, &quot;Media server socket value after connecting to address and port == &quot; + socket);\n            if (null == bufferedInputStream) {\n                bufferedInputStream = new BufferedInputStream(socket.getInputStream());\n            }\n\n        } catch(UnknownHostException e) {\n            TCLog.d(TAG, &quot;value UnknownHostException&quot; + e.getMessage());\n            handleError(e.getMessage());\n        } catch(IOException e) {\n            TCLog.d(TAG, &quot;value IOException &quot; + e.getMessage());\n            handleError(e.getMessage());\n        }\n\n        try {\n            printWriter = new PrintWriter(socket.getOutputStream());\n            printWriter.println(serverHeader);\n            printWriter.flush();\n            isFirstMessage = true;\n        } catch(IOException e) {\n            TCLog.d(TAG, &quot;value IOException while writing &quot; + e.getMessage());\n            handleError(e.getMessage());\n        }\n\n        while (!shouldCloseConnection) {\n            try {\n                String dataToSend = null;\n                byte[] readingData = new byte[BUFFER_SIZE];\n                int read;\n                byte[] data = null;\n                if ((read = bufferedInputStream.read(readingData)) != -1) {\n                    TCLog.d(TAG, &quot;OTHER read value &quot; + read);\n                    data = Arrays.copyOfRange(readingData, 0, read);\n                    dataToSend = new String(data);\n                }\n                if (null != dataToSend) {\n                    TCLog.d(TAG, &quot;message from server &quot; + dataToSend);\n                    if (isFirstMessage) {\n\n                        if (!dataToSend.contains(&quot;200 OK&quot;)) {\n\n                            if (dataToSend.contains(&quot;303&quot;)) {\n\n                                TCLog.d(TAG, &quot;when there is redirect&quot;);\n                                TCLog.d(TAG, &quot;splitting string value&quot;);\n\n                                String[] videos = dataToSend.split(&quot;https://&quot;);\n\n                                TCLog.d(TAG, &quot;values 1 &quot; + videos[0]);\n                                TCLog.d(TAG, &quot;value 2 &quot; + videos[1]);\n\n                                String redirectUrl = videos[1];\n\n                                videos = redirectUrl.split(&quot;:&quot;);\n\n                                redirectUrl = videos[0];\n\n                                TCLog.d(TAG, &quot;redirect URL is &quot; + redirectUrl);\n\n                                isRedirectUrl = true;\n\n                                this.serverAddress = redirectUrl;\n                                Reflector.address = this.serverAddress;\n                                break;\n                            } else if (dataToSend.contains(&quot;HTTP/1.0 4&quot;)) {\n                                isRedirectUrl = false;\n                                break;\n                            }\n                        } else {\n                            this.isFirstMessage = false;\n                            if (null != listener) {\n                                this.listener.getConnectionConnectedSuccessfully();\n                            }\n                        }\n                    }\n                    else {\n                        if (null != listener) {\n                            listener.getConnectionRawData(data, dataToSend.trim());\n                        }\n                    }\n                }\n            } catch(IOException e) {\n                TCLog.d(TAG, &quot;value IOException while reading &quot; + e.getMessage());\n                handleError(e.getMessage());\n            } finally {\n                TCLog.d(TAG, &quot;inside finally block&quot;);\n                if (isFirstMessage &amp;&amp; !isRedirectUrl) {\n                    handleError(&quot;Unable to play video&quot;);\n\n                    if (null != printWriter) {\n                        printWriter.close();\n                    }\n                    try {\n                        TCLog.d(TAG, &quot;inside finally try block. Closing connections&quot;);\n                        if (null != bufferedInputStream) {\n                            bufferedInputStream.close();\n                        }\n                        if (null != socket &amp;&amp; socket.isConnected()) {\n                            socket.close();\n                        }\n                    } catch(IOException e) {\n                        TCLog.d(TAG, &quot;error while closing streams &quot; + e.getMessage());\n                    }\n                }\n            }\n        }\n        if (!isRedirectUrl) {\n            break;\n        }\n    }\n    if (count &gt;= MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\n        handleError(&quot;Unable to establish connection&quot;);\n    }\n}\n</code></pre>\n<p>The first log (media server address) gets printed, but the 2nd log does not and my socket connection goes into limbo. No code after trying to create a socket gets executed. It is not a consistent behaviour, at-times the socket connection is successful.</p>\n<p>If the socket connection is successful, there is a certain GET command/call that we are supposed to make.\nI tried to make the GET call as an API call/REST call and every time I got a reply from the server even if there is a delay of about 10-12 seconds which makes me believe that it is not a server config issue (I might be wrong). Any insight or any suggestion on how to proceed forward?</p>\n"},{"tags":["java","jpos","iso8583-1993"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687195440,"creation_date":1687195440,"answer_id":76508850,"question_id":76507638,"body_markdown":"If you don&#39;t want that trailer, you need to use another channel.\r\n\r\n`PostChannel` or `NACChannel` do essentially the same, but doesn&#39;t send the trailer.\r\n\r\n```java\r\n   ...\r\n   PostChannel c = new PostChannel(&quot;localhost&quot;, 5000,packager);\r\n   c.setHeader(&quot;ISO008000099&quot;.getBytes(ISOUtil.ENCODING));\r\n   ...\r\n```\r\n\r\nYou have to set the header as bytes also, because the string `setHeader` overload expects a hex representation.","title":"How to disable the BASE24TCPChannel channel the last character that is placed in the iso message","body":"<p>If you don't want that trailer, you need to use another channel.</p>\n<p><code>PostChannel</code> or <code>NACChannel</code> do essentially the same, but doesn't send the trailer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   ...\n   PostChannel c = new PostChannel(&quot;localhost&quot;, 5000,packager);\n   c.setHeader(&quot;ISO008000099&quot;.getBytes(ISOUtil.ENCODING));\n   ...\n</code></pre>\n<p>You have to set the header as bytes also, because the string <code>setHeader</code> overload expects a hex representation.</p>\n"}],"owner":{"account_id":28799262,"reputation":21,"user_id":22056639,"display_name":"Raul Roa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687195440,"creation_date":1687185322,"question_id":76507638,"body_markdown":"Good morning, I am new to jpos, the problem I have is I am sending a message with a header, but when sending it, it always adds a character at the end 03 in hexadecimal.\r\n\r\ncode of how I send it\r\n\r\n\r\n\r\n\r\n\r\n\r\ncode of how I send it\r\n\r\n```\r\n   // Create Packager based on XML that contain DE type\r\n   GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\r\n   // Crea una instancia de la clase BASE24TCPChannel\r\n   BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\r\n   c.setHeader(&quot;ISO008000099&quot;);\r\n       \r\n   // Create ISO Message\r\n   ISOMsg isoMsg = new ISOMsg();\t\t\r\n   isoMsg.setPackager(packager);\r\n \r\n   isoMsg.setMTI(&quot;0800&quot;);\r\n   isoMsg.set(7, &quot;1088110140&quot;);\r\n   isoMsg.set(11, &quot;087478&quot;);\r\n   isoMsg.set(70, &quot;999&quot;);\r\n\r\n   c.connect();\r\n   c.send(isoMsg);\r\n\r\n```\r\n\r\nThis is what send sends, I capture this using netcat nc -l -p 5000 | xxd\r\n\r\n\r\n\r\n```\r\n00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\r\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\r\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\r\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\r\n00000040: 3738 3939 3903                           78999.\r\n```\r\n\r\n&quot;03&quot; always arrives at the end of each message, how do I disable it so that it is not sent? \r\n`00000040: 3738 3939 39**03**                           78999**.**`","title":"How to disable the BASE24TCPChannel channel the last character that is placed in the iso message","body":"<p>Good morning, I am new to jpos, the problem I have is I am sending a message with a header, but when sending it, it always adds a character at the end 03 in hexadecimal.</p>\n<p>code of how I send it</p>\n<p>code of how I send it</p>\n<pre><code>   // Create Packager based on XML that contain DE type\n   GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n\n   // Crea una instancia de la clase BASE24TCPChannel\n   BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\n   c.setHeader(&quot;ISO008000099&quot;);\n       \n   // Create ISO Message\n   ISOMsg isoMsg = new ISOMsg();        \n   isoMsg.setPackager(packager);\n \n   isoMsg.setMTI(&quot;0800&quot;);\n   isoMsg.set(7, &quot;1088110140&quot;);\n   isoMsg.set(11, &quot;087478&quot;);\n   isoMsg.set(70, &quot;999&quot;);\n\n   c.connect();\n   c.send(isoMsg);\n\n</code></pre>\n<p>This is what send sends, I capture this using netcat nc -l -p 5000 | xxd</p>\n<pre><code>00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\n00000040: 3738 3939 3903                           78999.\n</code></pre>\n<p>&quot;03&quot; always arrives at the end of each message, how do I disable it so that it is not sent?\n<code>00000040: 3738 3939 39**03**                           78999**.**</code></p>\n"},{"tags":["java","json","jsonschema"],"comments":[{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1621541775,"post_id":67626506,"comment_id":119534984,"body_markdown":"Do you have control over the JSON instance structure, or are you receiving it from a 3rd party and just want to validate it?","body":"Do you have control over the JSON instance structure, or are you receiving it from a 3rd party and just want to validate it?"},{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1621876021,"post_id":67626506,"comment_id":119620739,"body_markdown":"It&#39;s complicated. There are multiple variations of the structure, and so the idea is based on the tenant select the appropriate schemas and validate against each one for each sub-set of fields.","body":"It&#39;s complicated. There are multiple variations of the structure, and so the idea is based on the tenant select the appropriate schemas and validate against each one for each sub-set of fields."},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1621974437,"post_id":67626506,"comment_id":119655467,"body_markdown":"I would honestly stop trying to have both the string and the number in the enum and just enforce one or the other.","body":"I would honestly stop trying to have both the string and the number in the enum and just enforce one or the other."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1621546695,"creation_date":1621538569,"answer_id":67626781,"question_id":67626506,"body_markdown":"It was news to me, but [according to the spec](https://json-schema.org/draft/2020-12/json-schema-validation.html) it does seem that objects are valid enum values. That said, your usage is quite unusual. I&#39;ve not seen it used before. \r\n\r\n&gt; the six primitive types (&quot;null&quot;, &quot;boolean&quot;, &quot;object&quot;, &quot;array&quot;, &quot;number&quot;, or &quot;string&quot;)\r\n&gt; ...\r\n&gt;\r\n&gt; **6.1.2. enum**\r\n&gt; ...\r\n&gt; \r\n&gt; Elements in the array might be of **any type**, including null.\r\n\r\n\r\nYour problem is fundamentally that the library that you&#39;re using doesn&#39;t know how to convert those objects to printable strings. Even if it did give it a reasonable go, you might end up with \r\n\r\n```\r\ndoes not have a value in the enumeration [{&quot;code&quot;: &quot;1&quot;, &quot;value&quot;:&quot;MEMBER&quot;}, {&quot;code&quot;: &quot;2&quot; ...\r\n```\r\n\r\nwhich might be okay, but it&#39;s hardly amazing. If the code and value were both valid but didn&#39;t match, you might have to look quite closely at the list before you ever saw the problem.\r\n\r\nJSON Schema in general is not very good at enforcing constraints between what it considers to be 2 unrelated fields. That&#39;s beyond the scope of it what it aims to do. It&#39;s trying to validate the structure. Dependencies between fields are business constraints, not structural ones.\r\n\r\nI think the best thing you could do to achieve readable error messages would be to have 2 sub-properties, each with an enumeration containing 8 values; one for the codes, one for the values.\r\n\r\nThen you&#39;ll get \r\n\r\n    $.part.relationship.code does not have a value in the enumeration [1,2,3,4 ...\r\n\r\nor\r\n\r\n    $.part.relationship.value does not have a value in the enumeration [&quot;MEMBER&quot;, &quot;SPOUSE&quot;, ...\r\n\r\nYou can do some additional business validation on top of the schema validation if enforcing that constraint is important to you. Then generate your own error such as\r\n\r\n    code &quot;1&quot; does not match value &quot;SPOUSE&quot;\r\n","title":"JSON Schema - Enum of Objects","body":"<p>It was news to me, but <a href=\"https://json-schema.org/draft/2020-12/json-schema-validation.html\" rel=\"nofollow noreferrer\">according to the spec</a> it does seem that objects are valid enum values. That said, your usage is quite unusual. I've not seen it used before.</p>\n<blockquote>\n<p>the six primitive types (&quot;null&quot;, &quot;boolean&quot;, &quot;object&quot;, &quot;array&quot;, &quot;number&quot;, or &quot;string&quot;)\n...</p>\n<p><strong>6.1.2. enum</strong>\n...</p>\n<p>Elements in the array might be of <strong>any type</strong>, including null.</p>\n</blockquote>\n<p>Your problem is fundamentally that the library that you're using doesn't know how to convert those objects to printable strings. Even if it did give it a reasonable go, you might end up with</p>\n<pre><code>does not have a value in the enumeration [{&quot;code&quot;: &quot;1&quot;, &quot;value&quot;:&quot;MEMBER&quot;}, {&quot;code&quot;: &quot;2&quot; ...\n</code></pre>\n<p>which might be okay, but it's hardly amazing. If the code and value were both valid but didn't match, you might have to look quite closely at the list before you ever saw the problem.</p>\n<p>JSON Schema in general is not very good at enforcing constraints between what it considers to be 2 unrelated fields. That's beyond the scope of it what it aims to do. It's trying to validate the structure. Dependencies between fields are business constraints, not structural ones.</p>\n<p>I think the best thing you could do to achieve readable error messages would be to have 2 sub-properties, each with an enumeration containing 8 values; one for the codes, one for the values.</p>\n<p>Then you'll get</p>\n<pre><code>$.part.relationship.code does not have a value in the enumeration [1,2,3,4 ...\n</code></pre>\n<p>or</p>\n<pre><code>$.part.relationship.value does not have a value in the enumeration [&quot;MEMBER&quot;, &quot;SPOUSE&quot;, ...\n</code></pre>\n<p>You can do some additional business validation on top of the schema validation if enforcing that constraint is important to you. Then generate your own error such as</p>\n<pre><code>code &quot;1&quot; does not match value &quot;SPOUSE&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621986127,"creation_date":1621986127,"answer_id":67696851,"question_id":67626506,"body_markdown":"If `code` and `value` always have the same values relative to each other, why encode both in the JSON?  Just encode a single value in the JSON and infer the other in the application.\r\n\r\nThis will be much easier to validate.","title":"JSON Schema - Enum of Objects","body":"<p>If <code>code</code> and <code>value</code> always have the same values relative to each other, why encode both in the JSON?  Just encode a single value in the JSON and infer the other in the application.</p>\n<p>This will be much easier to validate.</p>\n"},{"tags":[],"owner":{"account_id":15217507,"reputation":435,"user_id":10980429,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687195347,"creation_date":1687195347,"answer_id":76508833,"question_id":67626506,"body_markdown":"I think what you&#39;re actually looking for is the &quot;anyOf&quot; keyword, where you can create a union of constant objects for a property.\r\n\r\nSomething like this:\r\n\r\n```json\r\n{\r\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n  &quot;title&quot;: &quot;Part&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;relationship&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;anyOf&quot;: [\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;1&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;MEMBER&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;2&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;SPOUSE&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;3&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;CHILD&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;4&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;STUDENT&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;5&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;DISABILITY_DEPENDENT&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;6&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;ADULT_DEPENDENT&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;8&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;DOMESTIC_PARTNER&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;required&quot;: [&quot;relationship&quot;]\r\n}\r\n```","title":"JSON Schema - Enum of Objects","body":"<p>I think what you're actually looking for is the &quot;anyOf&quot; keyword, where you can create a union of constant objects for a property.</p>\n<p>Something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;title&quot;: &quot;Part&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;relationship&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;anyOf&quot;: [\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;1&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;MEMBER&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;2&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;SPOUSE&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;3&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;CHILD&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;4&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;STUDENT&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;5&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;DISABILITY_DEPENDENT&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;6&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;ADULT_DEPENDENT&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;8&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;DOMESTIC_PARTNER&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        }\n      ]\n    }\n  },\n  &quot;required&quot;: [&quot;relationship&quot;]\n}\n</code></pre>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67626781,"answer_count":3,"score":1,"last_activity_date":1687195347,"creation_date":1621537121,"question_id":67626506,"body_markdown":"I&#39;m new to JSON schema. My goal is to have a JSON property that is an object. It&#39;s keys relate to each other, meaning multiple keys always have the same values together. This will probably help make it clear, it&#39;s my attempt to do this with an enum:\r\n\r\n    {\r\n      &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n      &quot;title&quot;: &quot;Part&quot;,\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;relationship&quot;: {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;enum&quot;: [\r\n            {\r\n              &quot;code&quot;: &quot;1&quot;,\r\n              &quot;value&quot;: &quot;MEMBER&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;2&quot;,\r\n              &quot;value&quot;: &quot;SPOUSE&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;3&quot;,\r\n              &quot;value&quot;: &quot;CHILD&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;4&quot;,\r\n              &quot;value&quot;: &quot;STUDENT&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;5&quot;,\r\n              &quot;value&quot;: &quot;DISABILITY_DEPENDENT&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;6&quot;,\r\n              &quot;value&quot;: &quot;ADULT_DEPENDENT&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;8&quot;,\r\n              &quot;value&quot;: &quot;DOMESTIC_PARTNER&quot;\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nSo using an enum like this works, even though I can&#39;t find it anywhere in the JSON Schema spec. However, the error message sucks. Normally I get the most extremely detailed error messages from schema validation, however in this case I do not. \r\n\r\n    $.part.relationship: does not have a value in the enumeration [, , , , , , ]\r\n\r\nI&#39;m not sure what I&#39;m doing wrong. I&#39;m using a Java parser for JSON Schema:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.networknt&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.53&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNot sure if the error message is the fault of the parser or something I&#39;m doing bad with the schema.\r\n","title":"JSON Schema - Enum of Objects","body":"<p>I'm new to JSON schema. My goal is to have a JSON property that is an object. It's keys relate to each other, meaning multiple keys always have the same values together. This will probably help make it clear, it's my attempt to do this with an enum:</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;title&quot;: &quot;Part&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;relationship&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;enum&quot;: [\n        {\n          &quot;code&quot;: &quot;1&quot;,\n          &quot;value&quot;: &quot;MEMBER&quot;\n        },\n        {\n          &quot;code&quot;: &quot;2&quot;,\n          &quot;value&quot;: &quot;SPOUSE&quot;\n        },\n        {\n          &quot;code&quot;: &quot;3&quot;,\n          &quot;value&quot;: &quot;CHILD&quot;\n        },\n        {\n          &quot;code&quot;: &quot;4&quot;,\n          &quot;value&quot;: &quot;STUDENT&quot;\n        },\n        {\n          &quot;code&quot;: &quot;5&quot;,\n          &quot;value&quot;: &quot;DISABILITY_DEPENDENT&quot;\n        },\n        {\n          &quot;code&quot;: &quot;6&quot;,\n          &quot;value&quot;: &quot;ADULT_DEPENDENT&quot;\n        },\n        {\n          &quot;code&quot;: &quot;8&quot;,\n          &quot;value&quot;: &quot;DOMESTIC_PARTNER&quot;\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>So using an enum like this works, even though I can't find it anywhere in the JSON Schema spec. However, the error message sucks. Normally I get the most extremely detailed error messages from schema validation, however in this case I do not.</p>\n<pre><code>$.part.relationship: does not have a value in the enumeration [, , , , , , ]\n</code></pre>\n<p>I'm not sure what I'm doing wrong. I'm using a Java parser for JSON Schema:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.networknt&lt;/groupId&gt;\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n    &lt;version&gt;1.0.53&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Not sure if the error message is the fault of the parser or something I'm doing bad with the schema.</p>\n"},{"tags":["java","maven","selenium-webdriver","jenkins","automation"],"comments":[{"owner":{"account_id":26209493,"reputation":1,"user_id":19888596,"display_name":"Derrick Kuwa"},"score":0,"creation_date":1688481476,"post_id":76508798,"comment_id":135078317,"body_markdown":"Guys I finally found the problem. It wasn&#39;t a Jenkins issue but a selenium issue. The website is mobile/tablet adaptation and sometimes Selenium webdriver opens the web app in Mobile view, not yet sure why but perhaps because the PC is old. To fix this I added a Chrome/Edge Option - option.addArguments(&quot;--force-device-scale-factor=1&quot;); That argument forces the browser to always run tests in the PC&#39;s true resolution (its like a resolution lock) so not matter what webdriver doesn&#39;t glitch and sometimes open browser in a resolution that triggers mobile view","body":"Guys I finally found the problem. It wasn&#39;t a Jenkins issue but a selenium issue. The website is mobile/tablet adaptation and sometimes Selenium webdriver opens the web app in Mobile view, not yet sure why but perhaps because the PC is old. To fix this I added a Chrome/Edge Option - option.addArguments(&quot;--force-device-scale-factor=1&quot;); That argument forces the browser to always run tests in the PC&#39;s true resolution (its like a resolution lock) so not matter what webdriver doesn&#39;t glitch and sometimes open browser in a resolution that triggers mobile view"}],"owner":{"account_id":26209493,"reputation":1,"user_id":19888596,"display_name":"Derrick Kuwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687195236,"creation_date":1687195031,"question_id":76508798,"body_markdown":"Web elements that are of svg format (calendar icon) aren&#39;t rendered at all when tests are triggered by Jenkins. The same elements are displayed all the time if I check the same site on any browser manually, via local test on Intelij Idea or via CMD maven tests (mvn -clean test). \r\n\r\nI do use waits and wait.until() and at times Thread.sleep() for at least 1 minute for the calendar icon to get displayed but again via jenkins, tests always fails due to NoSuchElementException since elements aren&#39;t rendered at all. I have tried looking for answers on as many forums I have seen but still can&#39;t find the solution \r\n\r\n \r\n[Here&#39;s how the Graph looks on the webpage during jenkins triggered tests:](https://i.stack.imgur.com/xK2EX.png) \r\n\r\n[Same graph when I manually check the site any time or run via localised tests (intellij and cmd):](https://i.stack.imgur.com/JDaqp.png)\r\n\r\n[Here&#39;s how the calendar button looks on the webpage during jenkins triggered tests: ](https://i.stack.imgur.com/BORNG.png)\r\n\r\n[Same calendar button when I manually check the site any time or run via localised tests (intellij and cmd):](https://i.stack.imgur.com/mgpUK.png)\r\n\r\nAnother important thing to note, this only happens on our work computer. It runs on Windows 8.1 and Chrome &amp; Edge version 109\r\n[Chrome version](https://i.stack.imgur.com/zTe1h.png)\r\n[Edge version](https://i.stack.imgur.com/6wMo0.png)\r\n\r\nOn my personal machine jenkins or not I don&#39;t experience this problem. \r\nWhat could be the problem? Its been months without finding a solution and will be beoyond grateful if someone knows what could be the solution. Thanks\r\n\r\nSelenium Automation Testing of a webapp. Tests are triggered periodically via Jenkins CI/CD platform","title":"Some web elements are not renderred At All on when running selenium automated tests triggered by Jenkins for a webapp","body":"<p>Web elements that are of svg format (calendar icon) aren't rendered at all when tests are triggered by Jenkins. The same elements are displayed all the time if I check the same site on any browser manually, via local test on Intelij Idea or via CMD maven tests (mvn -clean test).</p>\n<p>I do use waits and wait.until() and at times Thread.sleep() for at least 1 minute for the calendar icon to get displayed but again via jenkins, tests always fails due to NoSuchElementException since elements aren't rendered at all. I have tried looking for answers on as many forums I have seen but still can't find the solution</p>\n<p><a href=\"https://i.stack.imgur.com/xK2EX.png\" rel=\"nofollow noreferrer\">Here's how the Graph looks on the webpage during jenkins triggered tests:</a></p>\n<p><a href=\"https://i.stack.imgur.com/JDaqp.png\" rel=\"nofollow noreferrer\">Same graph when I manually check the site any time or run via localised tests (intellij and cmd):</a></p>\n<p><a href=\"https://i.stack.imgur.com/BORNG.png\" rel=\"nofollow noreferrer\">Here's how the calendar button looks on the webpage during jenkins triggered tests: </a></p>\n<p><a href=\"https://i.stack.imgur.com/mgpUK.png\" rel=\"nofollow noreferrer\">Same calendar button when I manually check the site any time or run via localised tests (intellij and cmd):</a></p>\n<p>Another important thing to note, this only happens on our work computer. It runs on Windows 8.1 and Chrome &amp; Edge version 109\n<a href=\"https://i.stack.imgur.com/zTe1h.png\" rel=\"nofollow noreferrer\">Chrome version</a>\n<a href=\"https://i.stack.imgur.com/6wMo0.png\" rel=\"nofollow noreferrer\">Edge version</a></p>\n<p>On my personal machine jenkins or not I don't experience this problem.\nWhat could be the problem? Its been months without finding a solution and will be beoyond grateful if someone knows what could be the solution. Thanks</p>\n<p>Selenium Automation Testing of a webapp. Tests are triggered periodically via Jenkins CI/CD platform</p>\n"},{"tags":["java","string","increment"],"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1392996110,"post_id":21938228,"comment_id":33232836,"body_markdown":"Do you mean `String current_version = &quot;v2&quot;` (with quotes)?","body":"Do you mean <code>String current_version = &quot;v2&quot;</code> (with quotes)?"}],"answers":[{"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392996416,"creation_date":1392996047,"answer_id":21938251,"question_id":21938228,"body_markdown":"Why you don&#39;t store the version as an int and add the char &#39;v&#39; when displaying the version?\r\nIf you wish to do it with a String, you can make a substring of the initial one, parse it to int and after that add to&#39;v&#39; the result. \r\n\r\n     currentVersion = &quot;v&quot; + (Integer.parseInt(currentVersion .substring(1)) + 1);","title":"How to increment the number in a String by 1?","body":"<p>Why you don't store the version as an int and add the char 'v' when displaying the version?\nIf you wish to do it with a String, you can make a substring of the initial one, parse it to int and after that add to'v' the result. </p>\n\n<pre><code> currentVersion = \"v\" + (Integer.parseInt(currentVersion .substring(1)) + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1392996159,"creation_date":1392996159,"answer_id":21938288,"question_id":21938228,"body_markdown":"If you want to parse the number after the v as an int and increment it by 1, just do so by substringing, adding 1 to the number and concatenating the resulting incremented number back into a string with &quot;v&quot; prepended:\r\n\r\n\t\tString version = &quot;v1&quot;;\r\n\t\tString newVersion = &quot;v&quot; + (Integer.parseInt(version.substring(1,version.length()))+1);\r\n\t\tSystem.out.println(newVersion);\r\n\r\nAlternatively, you could keep track of the current version in an `int`, increment that and construct your new `String` by appending that int to a &quot;v&quot;, without having to call `substring()`.","title":"How to increment the number in a String by 1?","body":"<p>If you want to parse the number after the v as an int and increment it by 1, just do so by substringing, adding 1 to the number and concatenating the resulting incremented number back into a string with \"v\" prepended:</p>\n\n<pre><code>    String version = \"v1\";\n    String newVersion = \"v\" + (Integer.parseInt(version.substring(1,version.length()))+1);\n    System.out.println(newVersion);\n</code></pre>\n\n<p>Alternatively, you could keep track of the current version in an <code>int</code>, increment that and construct your new <code>String</code> by appending that int to a \"v\", without having to call <code>substring()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4048672,"reputation":1239,"user_id":3329080,"display_name":"exception1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392996248,"creation_date":1392996248,"answer_id":21938327,"question_id":21938228,"body_markdown":"try\r\n\r\n    int version = Integer.parseInt(current_version.replace(&quot;v&quot;, &quot;&quot;));\r\n\r\nthen you can increment it and add a get `&quot;v&quot; + current_version`","title":"How to increment the number in a String by 1?","body":"<p>try</p>\n\n<pre><code>int version = Integer.parseInt(current_version.replace(\"v\", \"\"));\n</code></pre>\n\n<p>then you can increment it and add a get <code>\"v\" + current_version</code></p>\n"},{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1392996278,"creation_date":1392996278,"answer_id":21938342,"question_id":21938228,"body_markdown":"I will suggest you to store the version in an int. so the codes will be following\r\n\r\n    int versionNumber = 1;\r\n\r\nwhenever you want to increment just increment it using\r\n\r\n    versionNumber++;\r\n\r\nand to print or store as a complete version do following\r\n\r\n    String version = &quot;v&quot; + versionNumber;","title":"How to increment the number in a String by 1?","body":"<p>I will suggest you to store the version in an int. so the codes will be following</p>\n\n<pre><code>int versionNumber = 1;\n</code></pre>\n\n<p>whenever you want to increment just increment it using</p>\n\n<pre><code>versionNumber++;\n</code></pre>\n\n<p>and to print or store as a complete version do following</p>\n\n<pre><code>String version = \"v\" + versionNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392996621,"creation_date":1392996621,"answer_id":21938479,"question_id":21938228,"body_markdown":"If your format ever changes, this allows for a bit more flexibility:\r\n\r\n    String version = &quot;v1234&quot;;\r\n    System.out.println(&quot;v&quot; + (Integer.parseInt(version.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)) + 1));\r\n\r\nUse a regex to drop all non-digits, add one to the result.","title":"How to increment the number in a String by 1?","body":"<p>If your format ever changes, this allows for a bit more flexibility:</p>\n\n<pre><code>String version = \"v1234\";\nSystem.out.println(\"v\" + (Integer.parseInt(version.replaceAll(\"[^0-9]\", \"\")) + 1));\n</code></pre>\n\n<p>Use a regex to drop all non-digits, add one to the result.</p>\n"},{"tags":[],"owner":{"account_id":3648548,"reputation":2986,"user_id":3041229,"display_name":"ValerioMC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392999354,"creation_date":1392999354,"answer_id":21939537,"question_id":21938228,"body_markdown":"        String oldVersion = &quot;v100&quot;;\r\n        String[] splitString = oldVersion.split(&quot;v&quot;);\r\n        int newVersion = Integer.valueOf(splitString[1])+1;\r\n        String completeNewVersion = splitString[0] + newVersion;\r\n        System.out.print(completeNewVersion);","title":"How to increment the number in a String by 1?","body":"<pre><code>    String oldVersion = \"v100\";\n    String[] splitString = oldVersion.split(\"v\");\n    int newVersion = Integer.valueOf(splitString[1])+1;\n    String completeNewVersion = splitString[0] + newVersion;\n    System.out.print(completeNewVersion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11874526,"reputation":41,"user_id":8689891,"display_name":"B. Delbart"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510302755,"creation_date":1510302755,"answer_id":47218549,"question_id":21938228,"body_markdown":"If you want another solution you can use this :\r\n\r\n    uint8_t versionNumber = 1;\r\n    char version[40];\r\n    sprintf(version,&quot;v %d&quot;,versionNumber);\r\n\r\nAnd you increment your variable &quot;versionNumber&quot; whenever you want !","title":"How to increment the number in a String by 1?","body":"<p>If you want another solution you can use this :</p>\n\n<pre><code>uint8_t versionNumber = 1;\nchar version[40];\nsprintf(version,\"v %d\",versionNumber);\n</code></pre>\n\n<p>And you increment your variable \"versionNumber\" whenever you want !</p>\n"},{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687195093,"creation_date":1687195093,"answer_id":76508807,"question_id":21938228,"body_markdown":"This method is a bit more complex, but it is able to handle any kind of version-string. The *currentVersion* might already have a number defined, or it might be implicitly 1, major and minor version numbers can be present, only the last one is incremented.\r\n\r\nThe string is searched from the end until the first non-digit character is found. The *versionNumber* is computed as an integer and finally increased.\r\n\r\nThen the *newVersion* is created. If the incremented versionNumber is 1, it means that the original String did not end in a number. In this case the versioning is started with *_v2*\r\n\r\n    String currentVersion = &quot;test_v123.432&quot;;\r\n\tint versionNumber = 0;\r\n\tint power = 1;\r\n\tint index = currentVersion.length()-1;\r\n\twhile (index &gt; 0) { // get the last chars as long as they are digits\r\n\t\tchar digit = currentVersion.charAt(index);\r\n\t\tif ((digit &gt;= &#39;0&#39;) &amp;&amp; (digit &lt;= &#39;9&#39;)) {\r\n\t\t\tversionNumber += (digit -&#39;0&#39;) * power;\r\n\t\t\tpower = power * 10;\r\n\t\t\tindex --;\r\n\t\t} else {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tversionNumber ++;\r\n\tString newVersion = currentVersion.substring(0, index+1) + ((versionNumber == 1)? &quot;_v2&quot;: versionNumber);","title":"How to increment the number in a String by 1?","body":"<p>This method is a bit more complex, but it is able to handle any kind of version-string. The <em>currentVersion</em> might already have a number defined, or it might be implicitly 1, major and minor version numbers can be present, only the last one is incremented.</p>\n<p>The string is searched from the end until the first non-digit character is found. The <em>versionNumber</em> is computed as an integer and finally increased.</p>\n<p>Then the <em>newVersion</em> is created. If the incremented versionNumber is 1, it means that the original String did not end in a number. In this case the versioning is started with <em>_v2</em></p>\n<pre><code>String currentVersion = &quot;test_v123.432&quot;;\nint versionNumber = 0;\nint power = 1;\nint index = currentVersion.length()-1;\nwhile (index &gt; 0) { // get the last chars as long as they are digits\n    char digit = currentVersion.charAt(index);\n    if ((digit &gt;= '0') &amp;&amp; (digit &lt;= '9')) {\n        versionNumber += (digit -'0') * power;\n        power = power * 10;\n        index --;\n    } else {\n        break;\n    }\n}\nversionNumber ++;\nString newVersion = currentVersion.substring(0, index+1) + ((versionNumber == 1)? &quot;_v2&quot;: versionNumber);\n</code></pre>\n"}],"owner":{"display_name":"user2467545"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87593,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":21938288,"answer_count":8,"score":16,"last_activity_date":1687195093,"creation_date":1392995987,"question_id":21938228,"body_markdown":"I have a below String as -\r\n\r\n\tString current_version = &quot;v2&quot;;\r\n\r\nAnd here version can be either of these string as well - `v3` or `v4` or `v10` or `v100` or `v500` or `v1000`\r\n\t\r\nNow I am looking to increment the current_version from `v2` to `v3`. Meaning I always need to increment the current_version by 1.\r\n\r\nIf current_version is `v5`, then I will increment it to `v6`.\r\n\r\nHow can I do this with a String?\r\n\r\nNOTE:- \r\n\r\nI am getting `current_version` string value from some method which will always return me like this v2, v3, v4 only..","title":"How to increment the number in a String by 1?","body":"<p>I have a below String as -</p>\n\n<pre><code>String current_version = \"v2\";\n</code></pre>\n\n<p>And here version can be either of these string as well - <code>v3</code> or <code>v4</code> or <code>v10</code> or <code>v100</code> or <code>v500</code> or <code>v1000</code></p>\n\n<p>Now I am looking to increment the current_version from <code>v2</code> to <code>v3</code>. Meaning I always need to increment the current_version by 1.</p>\n\n<p>If current_version is <code>v5</code>, then I will increment it to <code>v6</code>.</p>\n\n<p>How can I do this with a String?</p>\n\n<p>NOTE:- </p>\n\n<p>I am getting <code>current_version</code> string value from some method which will always return me like this v2, v3, v4 only..</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687189356,"creation_date":1687189356,"answer_id":76508174,"question_id":76508103,"body_markdown":"Try the below XPath expression:\r\n\r\n````\r\n//b[text()=&#39;Last Manual Run&#39;]//following::div[1]\r\n````\r\n\r\nExample code:\r\n````\r\nString text = driver.findElement(By.xpath(&quot;//b[text()=&#39;Last Manual Run&#39;]//following::div[1]&quot;)).getText();\r\nSystem.out.println(text);\r\n````\r\n\r\nOutput:\r\n````\r\n19/06/2023 11:45\r\n````","title":"Unable to get attribute text from &quot;list-item-value ng-binding&quot; class - Selenium Webdriver","body":"<p>Try the below XPath expression:</p>\n<pre><code>//b[text()='Last Manual Run']//following::div[1]\n</code></pre>\n<p>Example code:</p>\n<pre><code>String text = driver.findElement(By.xpath(&quot;//b[text()='Last Manual Run']//following::div[1]&quot;)).getText();\nSystem.out.println(text);\n</code></pre>\n<p>Output:</p>\n<pre><code>19/06/2023 11:45\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687194776,"creation_date":1687194776,"answer_id":76508775,"question_id":76508103,"body_markdown":"Given the HTML:\r\n\r\n\t&lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\r\n\t    &lt;ul class=&quot;list-group&quot;&gt;\r\n\t\t...\r\n\t\t...\r\n\t\t...\r\n\t\t&lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.modifiedDate&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\r\n\t\t    &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\r\n\t\t&lt;/li&gt;\r\n\t\t&lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.lastManualRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\r\n\t\t    &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\r\n\t\t&lt;/li&gt;\r\n\t\t&lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.errorText&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\r\n\t\t    &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\r\n\t\t&lt;/li&gt;\r\n\t    &lt;/ul&gt;\r\n\t&lt;/div&gt;\r\n\t\r\nThe desired `&lt;div&gt;` tag is the sibling of the `&lt;b&gt;` tag containing the text _**Last Manual Run**_ and is an [Angular](https://stackoverflow.com/a/73241154/7429447) element.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo extract the text _**19/06/2023 11:45**_ ideally you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _xpath_ and _following_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., &#39;Last Manual Run&#39;)]//following::div[1]&quot;))).getText());\r\n           \t\r\n- Using _xpath_ and _following-sibling_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., &#39;Last Manual Run&#39;)]//following-sibling::div[1]&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"Unable to get attribute text from &quot;list-item-value ng-binding&quot; class - Selenium Webdriver","body":"<p>Given the HTML:</p>\n<pre><code>&lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\n    &lt;ul class=&quot;list-group&quot;&gt;\n    ...\n    ...\n    ...\n    &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.modifiedDate'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\n        &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.lastManualRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\n        &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.errorText'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\n        &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The desired <code>&lt;div&gt;</code> tag is the sibling of the <code>&lt;b&gt;</code> tag containing the text <em><strong>Last Manual Run</strong></em> and is an <a href=\"https://stackoverflow.com/a/73241154/7429447\">Angular</a> element.</p>\n<hr />\n<h2>Solution</h2>\n<p>To extract the text <em><strong>19/06/2023 11:45</strong></em> ideally you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <em>following</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., 'Last Manual Run')]//following::div[1]&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <em>following-sibling</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., 'Last Manual Run')]//following-sibling::div[1]&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":28718060,"reputation":3,"user_id":21992282,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76508174,"answer_count":2,"score":0,"last_activity_date":1687194776,"creation_date":1687188708,"question_id":76508103,"body_markdown":"I have a Selenium script where I am trying to get the &quot;list-item-value ng-binding&quot; class from the Last Manual Run from the following:\r\n\r\n      &lt;div class=&quot;krn-modal-window&quot;&gt;\r\n    &lt;!-- ngIf: popupContentOptions.headerCancelButton.showButton --&gt;&lt;button ng-disabled=&quot;popupContentOptions.headerCancelButton.action.disabled&quot; class=&quot;jqx-window-close-button jqx-window-close-button-bluefin jqx-icon-close jqx-icon-close-bluefin ng-scope&quot; ng-click=&quot;handleAction(popupContentOptions.headerCancelButton.action.clickHandlerName, popupContentOptions.headerCancelButton.action.actionName);&quot; ng-if=&quot;popupContentOptions.headerCancelButton.showButton&quot; autofocus=&quot;&quot;&gt;&lt;/button&gt;\r\n    &lt;!-- end ngIf: popupContentOptions.headerCancelButton.showButton --&gt;\r\n    &lt;!-- ngIf: popupContentOptions.showHeader --&gt;\r\n    &lt;div class=&quot;modal-window__header ng-scope&quot; ng-if=&quot;popupContentOptions.showHeader&quot;&gt;\r\n        &lt;h4 ng-show=&quot;popupContentOptions.title.text&quot; ng-bind=&quot;popupContentOptions.title.text | i18n&quot; title=&quot;[undefined]&quot; class=&quot;ng-binding ng-hide&quot;&gt;[undefined]&lt;/h4&gt;\r\n        &lt;h4 ng-show=&quot;popupContentOptions.title.localizedText&quot; ng-bind=&quot;popupContentOptions.title.localizedText&quot; title=&quot;Shift Builder&quot; class=&quot;ng-binding&quot;&gt;Shift Builder&lt;/h4&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- end ngIf: popupContentOptions.showHeader --&gt;\r\n    &lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\r\n        &lt;ul class=&quot;list-group&quot;&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.jobId&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Job ID&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.jobId&quot; class=&quot;list-item-value ng-binding&quot;&gt;209&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.lastRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last run&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.lastRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.nextRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Next run&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.nextRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;25/06/2023 1:27&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.modifiedBy&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified By&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.modifiedBy&quot; class=&quot;list-item-value ng-binding&quot;&gt;Updater for 209&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.modifiedDate&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.lastManualRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.errorText&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\nI&#39;ve tried to use the list and loop through to list the values but it doesn&#39;t seem to like finding the elements within the &lt;li&gt; tags.  \r\n\r\nAny ideas as I&#39;ve not really got much experience dealing with these types of tables?","title":"Unable to get attribute text from &quot;list-item-value ng-binding&quot; class - Selenium Webdriver","body":"<p>I have a Selenium script where I am trying to get the &quot;list-item-value ng-binding&quot; class from the Last Manual Run from the following:</p>\n<pre><code>  &lt;div class=&quot;krn-modal-window&quot;&gt;\n&lt;!-- ngIf: popupContentOptions.headerCancelButton.showButton --&gt;&lt;button ng-disabled=&quot;popupContentOptions.headerCancelButton.action.disabled&quot; class=&quot;jqx-window-close-button jqx-window-close-button-bluefin jqx-icon-close jqx-icon-close-bluefin ng-scope&quot; ng-click=&quot;handleAction(popupContentOptions.headerCancelButton.action.clickHandlerName, popupContentOptions.headerCancelButton.action.actionName);&quot; ng-if=&quot;popupContentOptions.headerCancelButton.showButton&quot; autofocus=&quot;&quot;&gt;&lt;/button&gt;\n&lt;!-- end ngIf: popupContentOptions.headerCancelButton.showButton --&gt;\n&lt;!-- ngIf: popupContentOptions.showHeader --&gt;\n&lt;div class=&quot;modal-window__header ng-scope&quot; ng-if=&quot;popupContentOptions.showHeader&quot;&gt;\n    &lt;h4 ng-show=&quot;popupContentOptions.title.text&quot; ng-bind=&quot;popupContentOptions.title.text | i18n&quot; title=&quot;[undefined]&quot; class=&quot;ng-binding ng-hide&quot;&gt;[undefined]&lt;/h4&gt;\n    &lt;h4 ng-show=&quot;popupContentOptions.title.localizedText&quot; ng-bind=&quot;popupContentOptions.title.localizedText&quot; title=&quot;Shift Builder&quot; class=&quot;ng-binding&quot;&gt;Shift Builder&lt;/h4&gt;\n&lt;/div&gt;\n&lt;!-- end ngIf: popupContentOptions.showHeader --&gt;\n&lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\n    &lt;ul class=&quot;list-group&quot;&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.jobId'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Job ID&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.jobId&quot; class=&quot;list-item-value ng-binding&quot;&gt;209&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.lastRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last run&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.lastRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.nextRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Next run&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.nextRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;25/06/2023 1:27&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.modifiedBy'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified By&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.modifiedBy&quot; class=&quot;list-item-value ng-binding&quot;&gt;Updater for 209&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.modifiedDate'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.lastManualRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.errorText'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I've tried to use the list and loop through to list the values but it doesn't seem to like finding the elements within the <li> tags.</p>\n<p>Any ideas as I've not really got much experience dealing with these types of tables?</p>\n"},{"tags":["java","spring","multithreading","email"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687157397,"post_id":76496124,"comment_id":134892040,"body_markdown":"If you are doing `mailSender.getSession` you are doing it wrong. Use `MailSender.send`. You are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the mailsender.send method. I would suggest using the `send` method that allows multiple `MimeMessagePreparator` instances, which handles all this for you.","body":"If you are doing <code>mailSender.getSession</code> you are doing it wrong. Use <code>MailSender.send</code>. You are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the mailsender.send method. I would suggest using the <code>send</code> method that allows multiple <code>MimeMessagePreparator</code> instances, which handles all this for you."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1687189215,"post_id":76496124,"comment_id":134898650,"body_markdown":"I did exactly like that. If you want, place this comment as an answer, I&#39;ll accept it. Thank you M. Deinum for looking into this question.","body":"I did exactly like that. If you want, place this comment as an answer, I&#39;ll accept it. Thank you M. Deinum for looking into this question."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687194048,"creation_date":1687194048,"answer_id":76508696,"question_id":76496124,"body_markdown":"If you are doing `mailSender.getSession` you are doing it wrong. The whole idea of the `JavaMailSender` is to abstract away the handling of the mail session and the whole Java Mail API. \r\n\r\nUse `MailSender.send` as you are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the `mailsender.send` method. \r\n\r\nI would suggest using the send [method that allows multiple][1] `MimeMessagePreparator` instances, which handles all this for you.\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSender.html#send(org.springframework.mail.javamail.MimeMessagePreparator...)\r\n","title":"Using JavaMailSenderImpl from multiple threads and having reconnection mechanism?","body":"<p>If you are doing <code>mailSender.getSession</code> you are doing it wrong. The whole idea of the <code>JavaMailSender</code> is to abstract away the handling of the mail session and the whole Java Mail API.</p>\n<p>Use <code>MailSender.send</code> as you are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the <code>mailsender.send</code> method.</p>\n<p>I would suggest using the send <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSender.html#send(org.springframework.mail.javamail.MimeMessagePreparator...)\" rel=\"nofollow noreferrer\">method that allows multiple</a> <code>MimeMessagePreparator</code> instances, which handles all this for you.</p>\n"}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76508696,"answer_count":1,"score":0,"last_activity_date":1687194048,"creation_date":1687003926,"question_id":76496124,"body_markdown":"We are using [JavaMailSenderImpl][1] to send thousands of emails per day. Previously, we instantiated JavaMailSenderImpl with a private method to send each email rather than using it as a bean. Recently, I moved it to be used as a bean, and we will have several since we have multiple mail hosts.\r\n\r\nMy question is how to properly check for Session/Transport and reconnect before sending a batch of emails and what the optimal approach would be if JavaMailSenderImpl session got disconnected in the middle of batch processing, given that multiple threads will be used.\r\n\r\nHere is the code:\r\n\r\n```java\r\n@Bean(&quot;myMailSender&quot;)\r\npublic JavaMailSender myMailSender(){\r\n   JavaMailSenderImpl javaMailSender = new JavaMailSenderImpl();\r\n   javaMailSender.setHost(host);\r\n   javaMailSender.setPort(port);\r\n   javaMailSender.setUsername(sername);\r\n   javaMailSender.setPassword(password);\r\n   return javaMailSender;\r\n}\r\n\r\nThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(10, new NamedThreadFactory(&quot;ParallelEmail-&quot;));\r\n\r\ntry {\r\n   Session session = mailSender.getSession();\r\n   if (session.getTransport() == null || !session.getTransport().isConnected()) {\r\n       Transport t = null;\r\n       try {\r\n           t = session.getTransport();\r\n           t.connect(mailSender.getHost(), mailSender.getPort(), mailSender.getUsername(), mailSender.getPassword());\r\n       } catch (MessagingException e){\r\n           log.error(&quot;There was an error when re-connecting to mailhost &quot; + mailSender.getHost());\r\n       }\r\n   }\r\n} catch (NoSuchProviderException e1){\r\n   log.error(&quot;There was an error when fetching an existing session for mailhost &quot; + mailSender.getHost());\r\n}\r\n\r\nfor (Email msg: getFromDb()) {\r\n   executorService.execute(\r\n           () -&gt; {\r\n               MimeMessagePreparator messagePreparator = getMsgPrep(msg);\r\n               try{\r\n                   mailSender.send(messagePreparator);\r\n               } catch (MailException exception){\r\n                   log.error(exception.getMessage());\r\n                   //Reattempt for second time?\r\n                   //I don’t want all threads to start reconnecting, just the first one which gets to this line.\r\n               }\r\n           }\r\n   );\r\n}\r\n```\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSenderImpl.html","title":"Using JavaMailSenderImpl from multiple threads and having reconnection mechanism?","body":"<p>We are using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSenderImpl.html\" rel=\"nofollow noreferrer\">JavaMailSenderImpl</a> to send thousands of emails per day. Previously, we instantiated JavaMailSenderImpl with a private method to send each email rather than using it as a bean. Recently, I moved it to be used as a bean, and we will have several since we have multiple mail hosts.</p>\n<p>My question is how to properly check for Session/Transport and reconnect before sending a batch of emails and what the optimal approach would be if JavaMailSenderImpl session got disconnected in the middle of batch processing, given that multiple threads will be used.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;myMailSender&quot;)\npublic JavaMailSender myMailSender(){\n   JavaMailSenderImpl javaMailSender = new JavaMailSenderImpl();\n   javaMailSender.setHost(host);\n   javaMailSender.setPort(port);\n   javaMailSender.setUsername(sername);\n   javaMailSender.setPassword(password);\n   return javaMailSender;\n}\n\nThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(10, new NamedThreadFactory(&quot;ParallelEmail-&quot;));\n\ntry {\n   Session session = mailSender.getSession();\n   if (session.getTransport() == null || !session.getTransport().isConnected()) {\n       Transport t = null;\n       try {\n           t = session.getTransport();\n           t.connect(mailSender.getHost(), mailSender.getPort(), mailSender.getUsername(), mailSender.getPassword());\n       } catch (MessagingException e){\n           log.error(&quot;There was an error when re-connecting to mailhost &quot; + mailSender.getHost());\n       }\n   }\n} catch (NoSuchProviderException e1){\n   log.error(&quot;There was an error when fetching an existing session for mailhost &quot; + mailSender.getHost());\n}\n\nfor (Email msg: getFromDb()) {\n   executorService.execute(\n           () -&gt; {\n               MimeMessagePreparator messagePreparator = getMsgPrep(msg);\n               try{\n                   mailSender.send(messagePreparator);\n               } catch (MailException exception){\n                   log.error(exception.getMessage());\n                   //Reattempt for second time?\n                   //I don’t want all threads to start reconnecting, just the first one which gets to this line.\n               }\n           }\n   );\n}\n</code></pre>\n"},{"tags":["java","spring","multithreading","hibernate","duplicates"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1595234578,"post_id":62991609,"comment_id":111392912,"body_markdown":"You should make your service idempotent. This means you should be able to handle that records are already created.","body":"You should make your service idempotent. This means you should be able to handle that records are already created."},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595234997,"post_id":62991609,"comment_id":111393126,"body_markdown":"@Simon Martinelli, but how? Is there any best practices?","body":"@Simon Martinelli, but how? Is there any best practices?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1595235380,"post_id":62991609,"comment_id":111393321,"body_markdown":"No this depends on your requirements. What is SingleRecord? Can it be identified by I unique identifier? Then you could use Merge instead of Insert","body":"No this depends on your requirements. What is SingleRecord? Can it be identified by I unique identifier? Then you could use Merge instead of Insert"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595236215,"post_id":62991609,"comment_id":111393745,"body_markdown":"Yes, It has one unique identifier. It is surrogate key and they are all null in users request. How Spring find out that objects with empty id are one object? For merge work we need composite key consisting of all fields.","body":"Yes, It has one unique identifier. It is surrogate key and they are all null in users request. How Spring find out that objects with empty id are one object? For merge work we need composite key consisting of all fields."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595236278,"post_id":62991609,"comment_id":111393782,"body_markdown":"Sounds like an XY Problem, why not simply disable the button when it is first pressed?","body":"Sounds like an XY Problem, why not simply disable the button when it is first pressed?"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595236671,"post_id":62991609,"comment_id":111393973,"body_markdown":"@Lino - fine solution, but I want solve it by java","body":"@Lino - fine solution, but I want solve it by java"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595236919,"post_id":62991609,"comment_id":111394100,"body_markdown":"@VadimPilipenko Could you please share the class definition with all relevant fields of `SingleRecord` and if possible the input JSON? It would make understanding your problem a lot easier","body":"@VadimPilipenko Could you please share the class definition with all relevant fields of <code>SingleRecord</code> and if possible the input JSON? It would make understanding your problem a lot easier"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595237702,"post_id":62991609,"comment_id":111394493,"body_markdown":"@Lino, sorry, can&#39;t show you all logic, only rough description. SingleRecord has simple structure, like - \nclass SingleRecord  {\nInteger id; \nString content;}","body":"@Lino, sorry, can&#39;t show you all logic, only rough description. SingleRecord has simple structure, like -  class SingleRecord  { Integer id;  String content;}"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595237915,"post_id":62991609,"comment_id":111394601,"body_markdown":"@Lino, real problem is that I java app doesn&#39;t distinguish duplicated requests from same user. Maybe I should look inside transaction?","body":"@Lino, real problem is that I java app doesn&#39;t distinguish duplicated requests from same user. Maybe I should look inside transaction?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595237922,"post_id":62991609,"comment_id":111394604,"body_markdown":"@VadimPilipenko providing a [mre] is the best option for you if you want to get your problem solved, it doesn&#39;t require you to provide company specific data or therelike, but some meaningful mock data is fine","body":"@VadimPilipenko providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is the best option for you if you want to get your problem solved, it doesn&#39;t require you to provide company specific data or therelike, but some meaningful mock data is fine"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595238042,"post_id":62991609,"comment_id":111394670,"body_markdown":"@VadimPilipenko Transactions are **per request** and not **per user** so that doesn&#39;t work, you need to simply have an `findByRecord()` method in the repository, which returns the record from the DB which is equal to the one passed to it (excluding the ID field)","body":"@VadimPilipenko Transactions are <b>per request</b> and not <b>per user</b> so that doesn&#39;t work, you need to simply have an <code>findByRecord()</code> method in the repository, which returns the record from the DB which is equal to the one passed to it (excluding the ID field)"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595238053,"post_id":62991609,"comment_id":111394678,"body_markdown":"@Lino, ok, I will make mock app today and share with you","body":"@Lino, ok, I will make mock app today and share with you"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595238191,"post_id":62991609,"comment_id":111394736,"body_markdown":"@VadimPilipenko well it must not exactly be an entire app, but simply showing an example of a `class` and some data would be enough, it is currently the only missing information from your question","body":"@VadimPilipenko well it must not exactly be an entire app, but simply showing an example of a <code>class</code> and some data would be enough, it is currently the only missing information from your question"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595274997,"post_id":62991609,"comment_id":111412900,"body_markdown":"@Lino, done. Hope it helps to understand my problem","body":"@Lino, done. Hope it helps to understand my problem"}],"answers":[{"tags":[],"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595847459,"creation_date":1595847459,"answer_id":63113881,"question_id":62991609,"body_markdown":"changed \r\n\r\n`public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)`\r\n\r\nto\r\n\r\n`public synchronized List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)`\r\n\r\nAdded **synchronized** before `save` \r\nNow only 1 thread can get access into service.\r\n\r\nEverything started to work as planned.","title":"Duplicated post requests protection, multithreading","body":"<p>changed</p>\n<p><code>public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)</code></p>\n<p>to</p>\n<p><code>public synchronized List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)</code></p>\n<p>Added <strong>synchronized</strong> before <code>save</code>\nNow only 1 thread can get access into service.</p>\n<p>Everything started to work as planned.</p>\n"},{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685609863,"creation_date":1685609863,"answer_id":76380234,"question_id":62991609,"body_markdown":"You can also use annotation on your repository method:\r\n\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    List&lt;SingleRecord&gt; findAllByUserId(Long userId);","title":"Duplicated post requests protection, multithreading","body":"<p>You can also use annotation on your repository method:</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\nList&lt;SingleRecord&gt; findAllByUserId(Long userId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11671380,"reputation":41,"user_id":8546331,"display_name":"nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687193053,"creation_date":1687193053,"answer_id":76508588,"question_id":62991609,"body_markdown":" - I think you can set unique key for field user_id in table\r\n   SingleRecord.\r\n-  I think it is simple and useful.\r\n-  You can read more detail in below link:\r\nhttps://dev.to/manjufy/rest-api-how-to-avoid-duplicate-resource-creation-on-concurrent-requests-o23\r\n\r\n","title":"Duplicated post requests protection, multithreading","body":"<ul>\n<li>I think you can set unique key for field user_id in table\nSingleRecord.</li>\n<li>I think it is simple and useful.</li>\n<li>You can read more detail in below link:\n<a href=\"https://dev.to/manjufy/rest-api-how-to-avoid-duplicate-resource-creation-on-concurrent-requests-o23\" rel=\"nofollow noreferrer\">https://dev.to/manjufy/rest-api-how-to-avoid-duplicate-resource-creation-on-concurrent-requests-o23</a></li>\n</ul>\n"}],"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687193053,"creation_date":1595234328,"question_id":62991609,"body_markdown":"Have Spring Boot application.\r\nController-&gt;Service-&gt;Repository\r\n\r\nProblem: if user send several **post** requests to server, each of them creates its own thread. \r\n\r\nAnd **@Service** checks like below - don&#39;t work:\r\n\r\n        @Service\r\n        @Transactional\r\n        public class MyService {\r\n          public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId){\r\n        \r\n        \t  List&lt;SingleRecord&gt; recsFromDataBase = singleRecordRepository.findAllByUserId(userId);\r\n        \t  if ( recsFromDataBase.size() &gt; 0 ){\r\n        \t  \t  throw new MyException(&quot;User already has records!&quot;);\r\n        \t  } else {\r\n        \t\t  return singleRecordRepository.saveAll(recs);\r\n        \t  }\r\n            \r\n          }\r\n        }\r\n\r\n\r\nFor example: we have 10 post simultaneous requests from user. (he put button &#39;Send&#39; 10 times, during connection problems ) They all reach `singleRecordRepository.saveAll(recs);` and all persist to base. (because of multithreading) \r\nSo service checks became useless.\r\n\r\nI tried to use *Serializable* for **@Transactional** isolation level - but it cause massive amount deadlocks and errors during separate users work with this service.\r\n\r\nJava articles authors suggest to use tokens for post requests - this is not look like graceful solution.\r\n\r\nNow I&#39;m going to create thread safe Singleton to check if user requests are duplicated. This is awful...\r\n\r\nHow to make service check works properly?\r\n\r\n-------------------------------\r\nhttps://github.com/PilVadim/FSStackOverflow\r\n\r\nExample of service that works same as my app.\r\nTo reproduce the error:\r\n1) Start app. Open swagger UI http://localhost:8085/swagger-ui.html#\r\n\r\n2) For Chrome - F12-&gt;Network-&gt;change &#39;Online&#39; to &#39;GPRS&#39;;\r\n3) On swagger ui, open POST request, change `id` in body to null, and press &#39;Execute&#39; several times;\r\n4) Change &#39;GPRS&#39; back to &#39;Online&#39;;\r\nAlmost all request will complete successfully. \r\nThat is mean - check in service doesn&#39;t work correctly.","title":"Duplicated post requests protection, multithreading","body":"<p>Have Spring Boot application.\nController-&gt;Service-&gt;Repository</p>\n<p>Problem: if user send several <strong>post</strong> requests to server, each of them creates its own thread.</p>\n<p>And <strong>@Service</strong> checks like below - don't work:</p>\n<pre><code>    @Service\n    @Transactional\n    public class MyService {\n      public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId){\n    \n          List&lt;SingleRecord&gt; recsFromDataBase = singleRecordRepository.findAllByUserId(userId);\n          if ( recsFromDataBase.size() &gt; 0 ){\n              throw new MyException(&quot;User already has records!&quot;);\n          } else {\n              return singleRecordRepository.saveAll(recs);\n          }\n        \n      }\n    }\n</code></pre>\n<p>For example: we have 10 post simultaneous requests from user. (he put button 'Send' 10 times, during connection problems ) They all reach <code>singleRecordRepository.saveAll(recs);</code> and all persist to base. (because of multithreading)\nSo service checks became useless.</p>\n<p>I tried to use <em>Serializable</em> for <strong>@Transactional</strong> isolation level - but it cause massive amount deadlocks and errors during separate users work with this service.</p>\n<p>Java articles authors suggest to use tokens for post requests - this is not look like graceful solution.</p>\n<p>Now I'm going to create thread safe Singleton to check if user requests are duplicated. This is awful...</p>\n<p>How to make service check works properly?</p>\n<hr />\n<p><a href=\"https://github.com/PilVadim/FSStackOverflow\" rel=\"nofollow noreferrer\">https://github.com/PilVadim/FSStackOverflow</a></p>\n<p>Example of service that works same as my app.\nTo reproduce the error:</p>\n<ol>\n<li><p>Start app. Open swagger UI http://localhost:8085/swagger-ui.html#</p>\n</li>\n<li><p>For Chrome - F12-&gt;Network-&gt;change 'Online' to 'GPRS';</p>\n</li>\n<li><p>On swagger ui, open POST request, change <code>id</code> in body to null, and press 'Execute' several times;</p>\n</li>\n<li><p>Change 'GPRS' back to 'Online';\nAlmost all request will complete successfully.\nThat is mean - check in service doesn't work correctly.</p>\n</li>\n</ol>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687194271,"post_id":76508575,"comment_id":134899624,"body_markdown":"see my [comment](https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe#comment134864941_76487878) to this question [How can I add multiple buttons to a JFrame?](https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe) (not sure if that is the {only} problem, I&#39;ve not debugged the code)","body":"see my <a href=\"https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe#comment134864941_76487878\">comment</a> to this question <a href=\"https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe\">How can I add multiple buttons to a JFrame?</a> (not sure if that is the {only} problem, I&#39;ve not debugged the code)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1687209254,"post_id":76508575,"comment_id":134902018,"body_markdown":"Not really understanding your question but I suggest you don&#39;t use the GroupLayout. GroupLayout is generally used by your IDE. Your code is a mixture of GroupLayout and other layout managers so I&#39;m guessing you are not using the layout manager correctly. I also seem to remember telling you that a JTable needs to be added to a JScrollPane in order for the columns headings to display.","body":"Not really understanding your question but I suggest you don&#39;t use the GroupLayout. GroupLayout is generally used by your IDE. Your code is a mixture of GroupLayout and other layout managers so I&#39;m guessing you are not using the layout manager correctly. I also seem to remember telling you that a JTable needs to be added to a JScrollPane in order for the columns headings to display."}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687192950,"creation_date":1687192950,"question_id":76508575,"body_markdown":"I&#39;m having trouble displaying one column layout before two column layout in Swing. Before two column layout I&#39;d like to add a table (so a one column layout). However, when I try to to add a table in the method `initUI()`, it is not shown at all (ie. is not painted).\r\n\r\n Here&#39;s relevant part of creating two column layout:\r\n\r\n    private JComponent getTwoColumnLayout(\r\n        final JLabel[] labels,\r\n        final JComponent[] fields) {\r\n    \r\n    if (labels.length != fields.length) {\r\n        final String s = labels.length + &quot; labels supplied for &quot;\r\n                + fields.length + &quot; fields!&quot;;\r\n        throw new IllegalArgumentException(s);\r\n    }\r\n    final JComponent panel = new JPanel();\r\n    final GroupLayout layout = new GroupLayout(panel);\r\n    panel.setLayout(layout);\r\n    // Turn on automatically adding gaps between components\r\n    layout.setAutoCreateGaps(true);\r\n    // Create a sequential group for the horizontal axis.\r\n    final GroupLayout.SequentialGroup hGroup = layout.createSequentialGroup();\r\n    final GroupLayout.Group yLabelGroup = layout.createParallelGroup(GroupLayout.Alignment.TRAILING);\r\n    hGroup.addGroup(yLabelGroup);\r\n    final GroupLayout.Group yFieldGroup = layout.createParallelGroup();\r\n    hGroup.addGroup(yFieldGroup);\r\n    layout.setHorizontalGroup(hGroup);\r\n    // Create a sequential group for the vertical axis.\r\n    final GroupLayout.SequentialGroup vGroup = layout.createSequentialGroup();\r\n    layout.setVerticalGroup(vGroup);\r\n    \r\n    final int p = GroupLayout.PREFERRED_SIZE;\r\n    // add the components to the groups\r\n    for (JLabel label : labels) {\r\n        yLabelGroup.addComponent(label);\r\n    }\r\n    for (Component field : fields) {\r\n        yFieldGroup.addComponent(field, p, p, p);\r\n    }\r\n    for (int ii = 0; ii &lt; labels.length; ii++) {\r\n        vGroup.addGroup(layout.createParallelGroup().\r\n                addComponent(labels[ii]).\r\n                addComponent(fields[ii], p, p, p));\r\n    }\r\n    return panel;\r\n    }\r\n\r\nHere&#39;s relevant part of creating UI:\r\n\r\n    public void initUI() {\r\n            if (ui != null) {\r\n                return;\r\n            }\r\n            ui = new JPanel(new BorderLayout(4, 4));\r\n            ui.setBorder(new EmptyBorder(4, 4, 4, 4));\r\n            // add table\r\n             ui.add(createTablePanel()); \r\n    \r\n            // Here is our control.  This puts a titled border around it,\r\n            // instead of using a label in the PAGE_START\r\n            final JPanel libSysSearchControl = new JPanel(new BorderLayout());\r\n            ui.add(libSysSearchControl);\r\n    \r\n            final JPanel actionPanel = new JPanel(\r\n                    new FlowLayout(FlowLayout.CENTER, 15, 15));\r\n            libSysSearchControl.add(actionPanel, BorderLayout.PAGE_END);\r\n            // removed\r\n            libSysSearchControl.add(getTwoColumnLayout(labels, controls));\r\n            // removed\r\n    }\r\n\r\nAnd a method creating a table within a panel:\r\n\r\n    private JPanel createTablePanel() {\r\n        final String[] columnNames = {&quot;Title&quot;, &quot;Author&quot;, &quot;Publisher&quot;,\r\n                &quot;Published Date&quot;, &quot;Pages&quot;, &quot;Rating&quot;};\r\n    \r\n        final String[][] rowData = {\r\n                {&quot;Effective Java&quot;, &quot;Joshua Bloch&quot;, &quot;Addision-Wesley&quot;, &quot;May 08th 2008&quot;,\r\n                        &quot;346&quot;, &quot;5&quot;},\r\n                {&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;, &quot;Prentice Hall&quot;, &quot;Feb 26th 2006&quot;,\r\n                        &quot;1150&quot;, &quot;4&quot;},\r\n                {&quot;Head First Java&quot;, &quot;Kathy Sierra &amp; Bert Bates&quot;, &quot;O&#39;Reilly Media&quot;,\r\n                        &quot;Feb 09th 2005&quot;, &quot;688&quot;, &quot;4.5&quot;},\r\n        };\r\n    \r\n        // constructs the table with sample data\r\n        final JTable jTable = new JTable(new DefaultTableModel(rowData, columnNames));\r\n    \r\n        final JPanel tablePanel = new JPanel();\r\n        tablePanel.add(jTable);\r\n        return tablePanel;\r\n    }\r\n\r\n ","title":"How do I add two column panel after single column panel?","body":"<p>I'm having trouble displaying one column layout before two column layout in Swing. Before two column layout I'd like to add a table (so a one column layout). However, when I try to to add a table in the method <code>initUI()</code>, it is not shown at all (ie. is not painted).</p>\n<p>Here's relevant part of creating two column layout:</p>\n<pre><code>private JComponent getTwoColumnLayout(\n    final JLabel[] labels,\n    final JComponent[] fields) {\n\nif (labels.length != fields.length) {\n    final String s = labels.length + &quot; labels supplied for &quot;\n            + fields.length + &quot; fields!&quot;;\n    throw new IllegalArgumentException(s);\n}\nfinal JComponent panel = new JPanel();\nfinal GroupLayout layout = new GroupLayout(panel);\npanel.setLayout(layout);\n// Turn on automatically adding gaps between components\nlayout.setAutoCreateGaps(true);\n// Create a sequential group for the horizontal axis.\nfinal GroupLayout.SequentialGroup hGroup = layout.createSequentialGroup();\nfinal GroupLayout.Group yLabelGroup = layout.createParallelGroup(GroupLayout.Alignment.TRAILING);\nhGroup.addGroup(yLabelGroup);\nfinal GroupLayout.Group yFieldGroup = layout.createParallelGroup();\nhGroup.addGroup(yFieldGroup);\nlayout.setHorizontalGroup(hGroup);\n// Create a sequential group for the vertical axis.\nfinal GroupLayout.SequentialGroup vGroup = layout.createSequentialGroup();\nlayout.setVerticalGroup(vGroup);\n\nfinal int p = GroupLayout.PREFERRED_SIZE;\n// add the components to the groups\nfor (JLabel label : labels) {\n    yLabelGroup.addComponent(label);\n}\nfor (Component field : fields) {\n    yFieldGroup.addComponent(field, p, p, p);\n}\nfor (int ii = 0; ii &lt; labels.length; ii++) {\n    vGroup.addGroup(layout.createParallelGroup().\n            addComponent(labels[ii]).\n            addComponent(fields[ii], p, p, p));\n}\nreturn panel;\n}\n</code></pre>\n<p>Here's relevant part of creating UI:</p>\n<pre><code>public void initUI() {\n        if (ui != null) {\n            return;\n        }\n        ui = new JPanel(new BorderLayout(4, 4));\n        ui.setBorder(new EmptyBorder(4, 4, 4, 4));\n        // add table\n         ui.add(createTablePanel()); \n\n        // Here is our control.  This puts a titled border around it,\n        // instead of using a label in the PAGE_START\n        final JPanel libSysSearchControl = new JPanel(new BorderLayout());\n        ui.add(libSysSearchControl);\n\n        final JPanel actionPanel = new JPanel(\n                new FlowLayout(FlowLayout.CENTER, 15, 15));\n        libSysSearchControl.add(actionPanel, BorderLayout.PAGE_END);\n        // removed\n        libSysSearchControl.add(getTwoColumnLayout(labels, controls));\n        // removed\n}\n</code></pre>\n<p>And a method creating a table within a panel:</p>\n<pre><code>private JPanel createTablePanel() {\n    final String[] columnNames = {&quot;Title&quot;, &quot;Author&quot;, &quot;Publisher&quot;,\n            &quot;Published Date&quot;, &quot;Pages&quot;, &quot;Rating&quot;};\n\n    final String[][] rowData = {\n            {&quot;Effective Java&quot;, &quot;Joshua Bloch&quot;, &quot;Addision-Wesley&quot;, &quot;May 08th 2008&quot;,\n                    &quot;346&quot;, &quot;5&quot;},\n            {&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;, &quot;Prentice Hall&quot;, &quot;Feb 26th 2006&quot;,\n                    &quot;1150&quot;, &quot;4&quot;},\n            {&quot;Head First Java&quot;, &quot;Kathy Sierra &amp; Bert Bates&quot;, &quot;O'Reilly Media&quot;,\n                    &quot;Feb 09th 2005&quot;, &quot;688&quot;, &quot;4.5&quot;},\n    };\n\n    // constructs the table with sample data\n    final JTable jTable = new JTable(new DefaultTableModel(rowData, columnNames));\n\n    final JPanel tablePanel = new JPanel();\n    tablePanel.add(jTable);\n    return tablePanel;\n}\n</code></pre>\n"},{"tags":["java","spring","security","model-view-controller","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":2301478,"reputation":197,"user_id":2021693,"display_name":"Reeta Wani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586088011,"creation_date":1586088011,"answer_id":61042235,"question_id":61042122,"body_markdown":"Can you try changing the sequence like this in SecurityConfig.java:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n            .oauth2Login()\r\n                .userInfoEndpoint()\r\n                    .userService(customOAuth2UserService)\r\n                    .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/*&quot;).permitAll()\r\n                .and()\r\n            .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .and()            \r\n           .successHandler(new SuccessHandler());\r\n    }\r\nBecause below code permits all URL and because of which oauth2Login() code is never reachable.\r\n\r\n    .authorizeRequests()\r\n                .antMatchers(&quot;/*&quot;).permitAll()\r\n\r\n","title":"Spring MVC + security + OAuth2 userInfoEndpoint() not work","body":"<p>Can you try changing the sequence like this in SecurityConfig.java:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.csrf().disable()\n        .oauth2Login()\n            .userInfoEndpoint()\n                .userService(customOAuth2UserService)\n                .and()\n        .authorizeRequests()\n            .antMatchers(\"/*\").permitAll()\n            .and()\n        .logout()\n            .logoutUrl(\"/logout\")\n            .logoutSuccessUrl(\"/\")\n            .and()            \n       .successHandler(new SuccessHandler());\n}\n</code></pre>\n\n<p>Because below code permits all URL and because of which oauth2Login() code is never reachable.</p>\n\n<pre><code>.authorizeRequests()\n            .antMatchers(\"/*\").permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19964001,"reputation":1,"user_id":14630976,"display_name":"ze-ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687192655,"creation_date":1687192655,"answer_id":76508547,"question_id":61042122,"body_markdown":"I&#39;m having the same issue using Spring 3.1.0 and it is not working, my CustomOAuth2Service is not called at all","title":"Spring MVC + security + OAuth2 userInfoEndpoint() not work","body":"<p>I'm having the same issue using Spring 3.1.0 and it is not working, my CustomOAuth2Service is not called at all</p>\n"}],"owner":{"account_id":18179948,"reputation":25,"user_id":13227929,"display_name":"hyun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687192655,"creation_date":1586087406,"question_id":61042122,"body_markdown":"I&#39;m trying to login as Spring MVC + security + OAuth2.\r\n\r\nThe current authentication status is successfully received and user information can be obtained.\r\n\r\nI want to get user information so I write `userInfoEndpoint`, but `userInfoEndPoint` is not being called at all.\r\n\r\nOn the other hand `successHandler` is being successfully called and authentication has the user information.\r\n\r\nSo I have two questions\r\n\r\nFirst, Why isn&#39;t `userInfoEndpoint` called at all?\r\nIn Spring Boot case, it successfully called\r\n\r\nSecond, How to get user information from the authentication of the `successHandler`?\r\nThe authentication of the `successHandler` only has this method.\r\n\r\n    Object getCredentials();\r\n    Object getDetails();\r\n    Object getPrincipal();\r\n    boolean isAuthenticated();\r\n    void setAuthenticated(boolean var1) throws IllegalArgumentException;\r\n\r\n&amp;mdash;Source code&amp;mdash;\r\n\r\nSecurityConfig.java\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/*&quot;).permitAll()\r\n                    .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/&quot;)\r\n                    .and()\r\n                .oauth2Login()\r\n                    .userInfoEndpoint()\r\n                        .userService(customOAuth2UserService)\r\n                        .and()\r\n                    .successHandler(new SuccessHandler());\r\n    }\r\nSuccessHandler.java\r\n\r\n    @Log4j\r\n    public class SuccessHandler implements AuthenticationSuccessHandler {\r\n    \r\n        @Override\r\n        public void onAuthenticationSuccess(HttpServletRequest httpServletRequest,\r\n                                            HttpServletResponse httpServletResponse,\r\n                                            Authentication authentication) throws IOException, ServletException {\r\n            log.info(authentication);\r\n        }\r\n    \r\n    }","title":"Spring MVC + security + OAuth2 userInfoEndpoint() not work","body":"<p>I'm trying to login as Spring MVC + security + OAuth2.</p>\n\n<p>The current authentication status is successfully received and user information can be obtained.</p>\n\n<p>I want to get user information so I write <code>userInfoEndpoint</code>, but <code>userInfoEndPoint</code> is not being called at all.</p>\n\n<p>On the other hand <code>successHandler</code> is being successfully called and authentication has the user information.</p>\n\n<p>So I have two questions</p>\n\n<p>First, Why isn't <code>userInfoEndpoint</code> called at all?\nIn Spring Boot case, it successfully called</p>\n\n<p>Second, How to get user information from the authentication of the <code>successHandler</code>?\nThe authentication of the <code>successHandler</code> only has this method.</p>\n\n<pre><code>Object getCredentials();\nObject getDetails();\nObject getPrincipal();\nboolean isAuthenticated();\nvoid setAuthenticated(boolean var1) throws IllegalArgumentException;\n</code></pre>\n\n<p>&mdash;Source code&mdash;</p>\n\n<p>SecurityConfig.java</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n                .antMatchers(\"/*\").permitAll()\n                .and()\n            .logout()\n                .logoutUrl(\"/logout\")\n                .logoutSuccessUrl(\"/\")\n                .and()\n            .oauth2Login()\n                .userInfoEndpoint()\n                    .userService(customOAuth2UserService)\n                    .and()\n                .successHandler(new SuccessHandler());\n}\n</code></pre>\n\n<p>SuccessHandler.java</p>\n\n<pre><code>@Log4j\npublic class SuccessHandler implements AuthenticationSuccessHandler {\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest,\n                                        HttpServletResponse httpServletResponse,\n                                        Authentication authentication) throws IOException, ServletException {\n        log.info(authentication);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211147,"post_id":76508050,"comment_id":134902247,"body_markdown":"i recommend you use spring security form login and not basic https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"i recommend you use spring security form login and not basic <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3262371,"reputation":25,"user_id":2747677,"display_name":"Wassim Jied"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687191702,"creation_date":1687191702,"answer_id":76508456,"question_id":76508050,"body_markdown":"index.html does not match any of \r\n  .requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll() patterns\r\n\r\nAlso be sure that your authorized urls does not need ressources that require authentication\r\nFor example, in your case, any reference to an image will make the browser prompt for login / password :  since /img/** or any folder that contains images is not public","title":"Spring Security asks for username and password despite patterns defined","body":"<p>index.html does not match any of\n.requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/<em>&quot;, &quot;/js/</em>&quot;).permitAll() patterns</p>\n<p>Also be sure that your authorized urls does not need ressources that require authentication\nFor example, in your case, any reference to an image will make the browser prompt for login / password :  since /img/** or any folder that contains images is not public</p>\n"},{"tags":[],"owner":{"account_id":14647990,"reputation":321,"user_id":11429968,"display_name":"iderkhangai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687192051,"creation_date":1687192051,"answer_id":76508488,"question_id":76508050,"body_markdown":"\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .httpBasic()\r\n                .disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\nPlease try it with this one.","title":"Spring Security asks for username and password despite patterns defined","body":"<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .httpBasic()\n            .disable();\n\n    return http.build();\n}\n</code></pre>\n<p>Please try it with this one.</p>\n"}],"owner":{"account_id":27818383,"reputation":1,"user_id":21239316,"display_name":"simplenick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687192051,"creation_date":1687188359,"question_id":76508050,"body_markdown":"I have a problem with Spring Security Basic Auth. It still prompts for username and password, despite defining the patterns (or exceptions inside the url, I don&#39;t know the exact name).\r\n\r\nI tried the following code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(\r\n                        (authz) -&gt;\r\n                                authz\r\n                        .requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nand I expect this to show me a simple index.html defined in resources/static folder.\r\n\r\nInstead it still prompts for username and password.\r\n\r\nHere is pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Spring Security asks for username and password despite patterns defined","body":"<p>I have a problem with Spring Security Basic Auth. It still prompts for username and password, despite defining the patterns (or exceptions inside the url, I don't know the exact name).</p>\n<p>I tried the following code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(\n                        (authz) -&gt;\n                                authz\n                        .requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                        .anyRequest()\n                        .authenticated())\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n}\n</code></pre>\n<p>and I expect this to show me a simple index.html defined in resources/static folder.</p>\n<p>Instead it still prompts for username and password.</p>\n<p>Here is pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","outlook","multipart","outlook-web-app","javax"],"answers":[{"tags":[],"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491383713,"creation_date":1491383713,"answer_id":43226827,"question_id":43225187,"body_markdown":"After some time I found a solution by myself.\r\nFrom javax.mail.internet I can use:\r\n\r\n    String filename = part.getFileName();\r\n    String decodedFilename = MimeUtility.decodeText(filename);\r\n\r\nmaybe just doing this only if filename starts with &quot;=?&quot; and ends with &quot;?=&quot;","title":"attachments by outlook with strange filename using javax getFileName","body":"<p>After some time I found a solution by myself.\nFrom javax.mail.internet I can use:</p>\n\n<pre><code>String filename = part.getFileName();\nString decodedFilename = MimeUtility.decodeText(filename);\n</code></pre>\n\n<p>maybe just doing this only if filename starts with \"=?\" and ends with \"?=\"</p>\n"}],"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687191209,"creation_date":1491378997,"question_id":43225187,"body_markdown":"I&#39;m using javax to get attachments from emails.\r\nMy code is here:\r\n\r\n    String disposition = part.getDisposition();\r\n    if (disposition != null &amp;&amp;\r\n        (disposition.equalsIgnoreCase(Part.ATTACHMENT) || disposition.equalsIgnoreCase(Part.INLINE))) {\r\n\t    log.debug(&quot;Found attachment: &quot; + part.getFileName());\r\n    }\r\n\r\nand it works well. But when emails are sent by Outlook webmail with attachment with latin letters in the name, the part.getFileName() e.g. for the attachment &quot;Riunione_del_venerd&#236;.pdf&quot; returns to me &quot;=?iso-8859-1?Q?Riunione_del_venerd=EC_20170303.pdf?=&quot; and I&#39;m not able to get the correct name\r\n\r\nHow can I get the real filename ? How can I work this out ?","title":"attachments by outlook with strange filename using javax getFileName","body":"<p>I'm using javax to get attachments from emails.\nMy code is here:</p>\n\n<pre><code>String disposition = part.getDisposition();\nif (disposition != null &amp;&amp;\n    (disposition.equalsIgnoreCase(Part.ATTACHMENT) || disposition.equalsIgnoreCase(Part.INLINE))) {\n    log.debug(\"Found attachment: \" + part.getFileName());\n}\n</code></pre>\n\n<p>and it works well. But when emails are sent by Outlook webmail with attachment with latin letters in the name, the part.getFileName() e.g. for the attachment \"Riunione_del_venerdì.pdf\" returns to me \"=?iso-8859-1?Q?Riunione_del_venerd=EC_20170303.pdf?=\" and I'm not able to get the correct name</p>\n\n<p>How can I get the real filename ? How can I work this out ?</p>\n"},{"tags":["java","scala","apache-spark","command","apache-kafka"],"comments":[{"owner":{"account_id":7865794,"reputation":396,"user_id":5944650,"accept_rate":50,"display_name":"Arjun A J"},"score":0,"creation_date":1493034997,"post_id":43542485,"comment_id":74223929,"body_markdown":"anybody, please suggest a command or API to get consumer group.","body":"anybody, please suggest a command or API to get consumer group."}],"answers":[{"tags":[],"owner":{"account_id":2930914,"reputation":1941,"user_id":4029265,"accept_rate":37,"display_name":"Ishan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492779987,"creation_date":1492779987,"answer_id":43543532,"question_id":43542485,"body_markdown":"You can read data from various topics by specifying the topics. You can simply create a Map of topics.  Refer to the below link\r\n\r\nhttps://www.tutorialspoint.com/apache_kafka/apache_kafka_consumer_group_example.htm \r\n\r\n      ","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<p>You can read data from various topics by specifying the topics. You can simply create a Map of topics.  Refer to the below link</p>\n\n<p><a href=\"https://www.tutorialspoint.com/apache_kafka/apache_kafka_consumer_group_example.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/apache_kafka/apache_kafka_consumer_group_example.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":5026793,"reputation":733,"user_id":4038460,"display_name":"Hemanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516340936,"creation_date":1511189131,"answer_id":47394652,"question_id":43542485,"body_markdown":"There is no Command/API provided by kafka to list consumer groups consuming from a specified topic. Instead you can use a tool developed by yahoo to manage kafka clusters : [Yahoo Kafka Manager][1]. After installing this software and pointing yahoo kafka manager to your kafka cluster, you can view consumer groups consuming from a specified topic.\r\n\r\n\r\n  [1]: https://github.com/yahoo/kafka-manager","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<p>There is no Command/API provided by kafka to list consumer groups consuming from a specified topic. Instead you can use a tool developed by yahoo to manage kafka clusters : <a href=\"https://github.com/yahoo/kafka-manager\" rel=\"nofollow noreferrer\">Yahoo Kafka Manager</a>. After installing this software and pointing yahoo kafka manager to your kafka cluster, you can view consumer groups consuming from a specified topic.</p>\n"},{"tags":[],"owner":{"account_id":4526662,"reputation":2542,"user_id":3678249,"accept_rate":88,"display_name":"BartBiczBoży"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565094865,"creation_date":1565094865,"answer_id":57376199,"question_id":43542485,"body_markdown":"    for i in `kafka-consumer-groups --list --bootstrap-server localhost:9092`; do echo $i; (kafka-consumer-groups --describe --bootstrap-server localhost:9092 --group $i 2&gt;&amp;1| grep mytopic); done\r\nIt takes some time, because it checks all the topics, but tells which consumer groups use the topic.","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<pre><code>for i in `kafka-consumer-groups --list --bootstrap-server localhost:9092`; do echo $i; (kafka-consumer-groups --describe --bootstrap-server localhost:9092 --group $i 2&gt;&amp;1| grep mytopic); done\n</code></pre>\n\n<p>It takes some time, because it checks all the topics, but tells which consumer groups use the topic.</p>\n"}],"owner":{"account_id":7865794,"reputation":396,"user_id":5944650,"accept_rate":50,"display_name":"Arjun A J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12648,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687190705,"creation_date":1492776924,"question_id":43542485,"body_markdown":"I am working on Kafka with Spark streaming in Scala. There are multiple topics from which I need to fetch messages. For that, I need to input consumer group of each topic. \r\n\r\nI have tried following command:\r\n\r\n    bin/kafka-consumer-groups.sh --zookeeper localhost:2181 --describe --group group_name\r\n\r\nFor this, I need to mention consumer group and check whether my topic falls under this group. But I don&#39;t know the consumer group value for some topics.\r\n\r\nSo, **is there any command or programmatic way** of finding consumer group for a given topic?\r\n\r\nAny help on this would be greatly appreciated.\r\nThank you","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<p>I am working on Kafka with Spark streaming in Scala. There are multiple topics from which I need to fetch messages. For that, I need to input consumer group of each topic. </p>\n\n<p>I have tried following command:</p>\n\n<pre><code>bin/kafka-consumer-groups.sh --zookeeper localhost:2181 --describe --group group_name\n</code></pre>\n\n<p>For this, I need to mention consumer group and check whether my topic falls under this group. But I don't know the consumer group value for some topics.</p>\n\n<p>So, <strong>is there any command or programmatic way</strong> of finding consumer group for a given topic?</p>\n\n<p>Any help on this would be greatly appreciated.\nThank you</p>\n"},{"tags":["java","libgdx","replit"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1687190518,"post_id":76508303,"comment_id":134898939,"body_markdown":"I highly doubt you can run libgdx applications via replit.","body":"I highly doubt you can run libgdx applications via replit."},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687190614,"post_id":76508303,"comment_id":134898955,"body_markdown":"@FedericoklezCulloca do you know about some java framework to develop simple games I can run via replit?","body":"@FedericoklezCulloca do you know about some java framework to develop simple games I can run via replit?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687191689,"post_id":76508303,"comment_id":134899161,"body_markdown":"Nope, sorry. I&#39;d suggest you develop on a actual machine.","body":"Nope, sorry. I&#39;d suggest you develop on a actual machine."},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687191997,"post_id":76508303,"comment_id":134899225,"body_markdown":"@FedericoklezCulloca the problem is that my students code using chromebooks..","body":"@FedericoklezCulloca the problem is that my students code using chromebooks.."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1687192210,"post_id":76508303,"comment_id":134899258,"body_markdown":"Have you tried developing software on a Chromebook?  What actual problems do you encounter?","body":"Have you tried developing software on a Chromebook?  What actual problems do you encounter?"},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687192437,"post_id":76508303,"comment_id":134899296,"body_markdown":"@markspace the problem is that a Chromebook is basically a big Android phone, so it&#39;s harder to install whatever you may want to install to an ordinary OS. An other more specific issue is that students in school doesn&#39;t have their own Chromebook, but they take the first available each time. So I prefer to keep everything online (e.g. via replit), so that they only need a browser to code.","body":"@markspace the problem is that a Chromebook is basically a big Android phone, so it&#39;s harder to install whatever you may want to install to an ordinary OS. An other more specific issue is that students in school doesn&#39;t have their own Chromebook, but they take the first available each time. So I prefer to keep everything online (e.g. via replit), so that they only need a browser to code."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1687252596,"post_id":76508303,"comment_id":134907030,"body_markdown":"Your launcher looks like its setup to launch a desktop application, but possibly your target should be a web application if its running in the browser. Go here https://libgdx.com/community/ and ask on discord. Its unlikely that an expected string is missing from the replit environment (but I think its more desktop launcher is wrong). LibGDX has the concept of a single -core-, but there are separate platform specific launchers (and indeed builds). What host replit is I don&#39;t know but the web application is java to GWT, not pure java.","body":"Your launcher looks like its setup to launch a desktop application, but possibly your target should be a web application if its running in the browser. Go here <a href=\"https://libgdx.com/community/\" rel=\"nofollow noreferrer\">libgdx.com/community</a> and ask on discord. Its unlikely that an expected string is missing from the replit environment (but I think its more desktop launcher is wrong). LibGDX has the concept of a single -core-, but there are separate platform specific launchers (and indeed builds). What host replit is I don&#39;t know but the web application is java to GWT, not pure java."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1687252626,"post_id":76508303,"comment_id":134907040,"body_markdown":"If you can run a basic android app in replit then I would try running libGDX using the android launcher,-not- the desktop one.","body":"If you can run a basic android app in replit then I would try running libGDX using the android launcher,-not- the desktop one."},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687254637,"post_id":76508303,"comment_id":134907505,"body_markdown":"@londonBadger thank you, I&#39;m trying to do what you suggested.","body":"@londonBadger thank you, I&#39;m trying to do what you suggested."},{"owner":{"account_id":8317669,"reputation":1150,"user_id":6250401,"display_name":"Luis Fernando Frontanilla"},"score":0,"creation_date":1687531446,"post_id":76508303,"comment_id":134954732,"body_markdown":"Hey have you heard about processing? it&#39;s a java framework with which you could develop simple games :D and it even has a template for replit :DDD","body":"Hey have you heard about processing? it&#39;s a java framework with which you could develop simple games :D and it even has a template for replit :DDD"},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687547151,"post_id":76508303,"comment_id":134957700,"body_markdown":"@LuisFernandoFrontanilla yes someone else in the comments mentioned it, but from what I can see it’s not good to teach students object oriented programming","body":"@LuisFernandoFrontanilla yes someone else in the comments mentioned it, but from what I can see it’s not good to teach students object oriented programming"}],"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687190661,"creation_date":1687190440,"question_id":76508303,"body_markdown":"I&#39;m a Computer Science teacher, I&#39;m trying to make Libgdx work inside an online development environment (replit.com). I can access and edit the pom.xml, I successfully added the Libgdx dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.badlogicgames.gdx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gdx&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nand I copied and pasted the demo code to run a simple raindrops game.\r\n\r\nHere&#39;s the Main.java:\r\n\r\n        import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n        import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    \r\n    public class Main {\r\n       public static void main (String[] arg) {\r\n         \r\n          Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n          config.setTitle(&quot;Drop&quot;);\r\n          config.setWindowedMode(800, 480);\r\n          config.useVsync(true);\r\n          config.setForegroundFPS(60);\r\n          new Lwjgl3Application(new Drop(), config);\r\n       }\r\n    }\r\n\r\nDrop.java:\r\n\r\n    import java.util.Iterator;\r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.Input.Keys;\r\n    import com.badlogic.gdx.audio.Music;\r\n    import com.badlogic.gdx.audio.Sound;\r\n    import com.badlogic.gdx.graphics.OrthographicCamera;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.math.MathUtils;\r\n    import com.badlogic.gdx.math.Rectangle;\r\n    import com.badlogic.gdx.math.Vector3;\r\n    import com.badlogic.gdx.utils.Array;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    import com.badlogic.gdx.utils.TimeUtils;\r\n    \r\n    public class Drop extends ApplicationAdapter {\r\n       private Texture dropImage;\r\n       private Texture bucketImage;\r\n       private Sound dropSound;\r\n       private Music rainMusic;\r\n       private SpriteBatch batch;\r\n       private OrthographicCamera camera;\r\n       private Rectangle bucket;\r\n       private Array&lt;Rectangle&gt; raindrops;\r\n       private long lastDropTime;\r\n    \r\n       @Override\r\n       public void create() {\r\n          // load the images for the droplet and the bucket, 64x64 pixels each\r\n          dropImage = new Texture(Gdx.files.internal(&quot;droplet.png&quot;));\r\n          bucketImage = new Texture(Gdx.files.internal(&quot;bucket.png&quot;));\r\n    \r\n          // load the drop sound effect and the rain background &quot;music&quot;\r\n          dropSound = Gdx.audio.newSound(Gdx.files.internal(&quot;drop.wav&quot;));\r\n          rainMusic = Gdx.audio.newMusic(Gdx.files.internal(&quot;rain.mp3&quot;));\r\n    \r\n          // start the playback of the background music immediately\r\n          rainMusic.setLooping(true);\r\n          rainMusic.play();\r\n    \r\n          // create the camera and the SpriteBatch\r\n          camera = new OrthographicCamera();\r\n          camera.setToOrtho(false, 800, 480);\r\n          batch = new SpriteBatch();\r\n    \r\n          // create a Rectangle to logically represent the bucket\r\n          bucket = new Rectangle();\r\n          bucket.x = 800 / 2 - 64 / 2; // center the bucket horizontally\r\n          bucket.y = 20; // bottom left corner of the bucket is 20 pixels above the bottom screen edge\r\n          bucket.width = 64;\r\n          bucket.height = 64;\r\n    \r\n          // create the raindrops array and spawn the first raindrop\r\n          raindrops = new Array&lt;Rectangle&gt;();\r\n          spawnRaindrop();\r\n       }\r\n    \r\n       private void spawnRaindrop() {\r\n          Rectangle raindrop = new Rectangle();\r\n          raindrop.x = MathUtils.random(0, 800-64);\r\n          raindrop.y = 480;\r\n          raindrop.width = 64;\r\n          raindrop.height = 64;\r\n          raindrops.add(raindrop);\r\n          lastDropTime = TimeUtils.nanoTime();\r\n       }\r\n    \r\n       @Override\r\n       public void render() {\r\n          // clear the screen with a dark blue color. The\r\n          // arguments to clear are the red, green\r\n          // blue and alpha component in the range [0,1]\r\n          // of the color to be used to clear the screen.\r\n          ScreenUtils.clear(0, 0, 0.2f, 1);\r\n    \r\n          // tell the camera to update its matrices.\r\n          camera.update();\r\n    \r\n          // tell the SpriteBatch to render in the\r\n          // coordinate system specified by the camera.\r\n          batch.setProjectionMatrix(camera.combined);\r\n    \r\n          // begin a new batch and draw the bucket and\r\n          // all drops\r\n          batch.begin();\r\n          batch.draw(bucketImage, bucket.x, bucket.y);\r\n          for(Rectangle raindrop: raindrops) {\r\n             batch.draw(dropImage, raindrop.x, raindrop.y);\r\n          }\r\n          batch.end();\r\n    \r\n          // process user input\r\n          if(Gdx.input.isTouched()) {\r\n             Vector3 touchPos = new Vector3();\r\n             touchPos.set(Gdx.input.getX(), Gdx.input.getY(), 0);\r\n             camera.unproject(touchPos);\r\n             bucket.x = touchPos.x - 64 / 2;\r\n          }\r\n          if(Gdx.input.isKeyPressed(Keys.LEFT)) bucket.x -= 200 * Gdx.graphics.getDeltaTime();\r\n          if(Gdx.input.isKeyPressed(Keys.RIGHT)) bucket.x += 200 * Gdx.graphics.getDeltaTime();\r\n    \r\n          // make sure the bucket stays within the screen bounds\r\n          if(bucket.x &lt; 0) bucket.x = 0;\r\n          if(bucket.x &gt; 800 - 64) bucket.x = 800 - 64;\r\n    \r\n          // check if we need to create a new raindrop\r\n          if(TimeUtils.nanoTime() - lastDropTime &gt; 1000000000) spawnRaindrop();\r\n    \r\n          // move the raindrops, remove any that are beneath the bottom edge of\r\n          // the screen or that hit the bucket. In the latter case we play back\r\n          // a sound effect as well.\r\n          for (Iterator&lt;Rectangle&gt; iter = raindrops.iterator(); iter.hasNext(); ) {\r\n             Rectangle raindrop = iter.next();\r\n             raindrop.y -= 200 * Gdx.graphics.getDeltaTime();\r\n             if(raindrop.y + 64 &lt; 0) iter.remove();\r\n             if(raindrop.overlaps(bucket)) {\r\n                dropSound.play();\r\n                iter.remove();\r\n             }\r\n          }\r\n       }\r\n    \r\n       @Override\r\n       public void dispose() {\r\n          // dispose of all the native resources\r\n          dropImage.dispose();\r\n          bucketImage.dispose();\r\n          dropSound.dispose();\r\n          rainMusic.dispose();\r\n          batch.dispose();\r\n       }\r\n    }\r\n\r\nIt does compile but when it runs it gives me the following message:\r\n\r\n    [LWJGL] GLFW_PLATFORM_UNAVAILABLE error\r\n        Description : Failed to detect any supported platform\r\n        Stacktrace  :\r\n            org.lwjgl.glfw.GLFW.glfwInit(GLFW.java:1047)\r\n            com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:88)\r\n            com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n            Main.main(Main.java:12)\r\n    Exception in thread &quot;main&quot; com.badlogic.gdx.utils.GdxRuntimeException: Unable to initialize GLFW\r\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:89)\r\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n        at Main.main(Main.java:12)\r\n    exit status 1\r\n\r\n\r\nAny idea?\r\n","title":"Libgdx simple game doesn&#39;t run in replit","body":"<p>I'm a Computer Science teacher, I'm trying to make Libgdx work inside an online development environment (replit.com). I can access and edit the pom.xml, I successfully added the Libgdx dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.badlogicgames.gdx&lt;/groupId&gt;\n  &lt;artifactId&gt;gdx&lt;/artifactId&gt;\n  &lt;version&gt;1.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I copied and pasted the demo code to run a simple raindrops game.</p>\n<p>Here's the Main.java:</p>\n<pre><code>    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\n\npublic class Main {\n   public static void main (String[] arg) {\n     \n      Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n      config.setTitle(&quot;Drop&quot;);\n      config.setWindowedMode(800, 480);\n      config.useVsync(true);\n      config.setForegroundFPS(60);\n      new Lwjgl3Application(new Drop(), config);\n   }\n}\n</code></pre>\n<p>Drop.java:</p>\n<pre><code>import java.util.Iterator;\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input.Keys;\nimport com.badlogic.gdx.audio.Music;\nimport com.badlogic.gdx.audio.Sound;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.math.MathUtils;\nimport com.badlogic.gdx.math.Rectangle;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.utils.Array;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.badlogic.gdx.utils.TimeUtils;\n\npublic class Drop extends ApplicationAdapter {\n   private Texture dropImage;\n   private Texture bucketImage;\n   private Sound dropSound;\n   private Music rainMusic;\n   private SpriteBatch batch;\n   private OrthographicCamera camera;\n   private Rectangle bucket;\n   private Array&lt;Rectangle&gt; raindrops;\n   private long lastDropTime;\n\n   @Override\n   public void create() {\n      // load the images for the droplet and the bucket, 64x64 pixels each\n      dropImage = new Texture(Gdx.files.internal(&quot;droplet.png&quot;));\n      bucketImage = new Texture(Gdx.files.internal(&quot;bucket.png&quot;));\n\n      // load the drop sound effect and the rain background &quot;music&quot;\n      dropSound = Gdx.audio.newSound(Gdx.files.internal(&quot;drop.wav&quot;));\n      rainMusic = Gdx.audio.newMusic(Gdx.files.internal(&quot;rain.mp3&quot;));\n\n      // start the playback of the background music immediately\n      rainMusic.setLooping(true);\n      rainMusic.play();\n\n      // create the camera and the SpriteBatch\n      camera = new OrthographicCamera();\n      camera.setToOrtho(false, 800, 480);\n      batch = new SpriteBatch();\n\n      // create a Rectangle to logically represent the bucket\n      bucket = new Rectangle();\n      bucket.x = 800 / 2 - 64 / 2; // center the bucket horizontally\n      bucket.y = 20; // bottom left corner of the bucket is 20 pixels above the bottom screen edge\n      bucket.width = 64;\n      bucket.height = 64;\n\n      // create the raindrops array and spawn the first raindrop\n      raindrops = new Array&lt;Rectangle&gt;();\n      spawnRaindrop();\n   }\n\n   private void spawnRaindrop() {\n      Rectangle raindrop = new Rectangle();\n      raindrop.x = MathUtils.random(0, 800-64);\n      raindrop.y = 480;\n      raindrop.width = 64;\n      raindrop.height = 64;\n      raindrops.add(raindrop);\n      lastDropTime = TimeUtils.nanoTime();\n   }\n\n   @Override\n   public void render() {\n      // clear the screen with a dark blue color. The\n      // arguments to clear are the red, green\n      // blue and alpha component in the range [0,1]\n      // of the color to be used to clear the screen.\n      ScreenUtils.clear(0, 0, 0.2f, 1);\n\n      // tell the camera to update its matrices.\n      camera.update();\n\n      // tell the SpriteBatch to render in the\n      // coordinate system specified by the camera.\n      batch.setProjectionMatrix(camera.combined);\n\n      // begin a new batch and draw the bucket and\n      // all drops\n      batch.begin();\n      batch.draw(bucketImage, bucket.x, bucket.y);\n      for(Rectangle raindrop: raindrops) {\n         batch.draw(dropImage, raindrop.x, raindrop.y);\n      }\n      batch.end();\n\n      // process user input\n      if(Gdx.input.isTouched()) {\n         Vector3 touchPos = new Vector3();\n         touchPos.set(Gdx.input.getX(), Gdx.input.getY(), 0);\n         camera.unproject(touchPos);\n         bucket.x = touchPos.x - 64 / 2;\n      }\n      if(Gdx.input.isKeyPressed(Keys.LEFT)) bucket.x -= 200 * Gdx.graphics.getDeltaTime();\n      if(Gdx.input.isKeyPressed(Keys.RIGHT)) bucket.x += 200 * Gdx.graphics.getDeltaTime();\n\n      // make sure the bucket stays within the screen bounds\n      if(bucket.x &lt; 0) bucket.x = 0;\n      if(bucket.x &gt; 800 - 64) bucket.x = 800 - 64;\n\n      // check if we need to create a new raindrop\n      if(TimeUtils.nanoTime() - lastDropTime &gt; 1000000000) spawnRaindrop();\n\n      // move the raindrops, remove any that are beneath the bottom edge of\n      // the screen or that hit the bucket. In the latter case we play back\n      // a sound effect as well.\n      for (Iterator&lt;Rectangle&gt; iter = raindrops.iterator(); iter.hasNext(); ) {\n         Rectangle raindrop = iter.next();\n         raindrop.y -= 200 * Gdx.graphics.getDeltaTime();\n         if(raindrop.y + 64 &lt; 0) iter.remove();\n         if(raindrop.overlaps(bucket)) {\n            dropSound.play();\n            iter.remove();\n         }\n      }\n   }\n\n   @Override\n   public void dispose() {\n      // dispose of all the native resources\n      dropImage.dispose();\n      bucketImage.dispose();\n      dropSound.dispose();\n      rainMusic.dispose();\n      batch.dispose();\n   }\n}\n</code></pre>\n<p>It does compile but when it runs it gives me the following message:</p>\n<pre><code>[LWJGL] GLFW_PLATFORM_UNAVAILABLE error\n    Description : Failed to detect any supported platform\n    Stacktrace  :\n        org.lwjgl.glfw.GLFW.glfwInit(GLFW.java:1047)\n        com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:88)\n        com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n        Main.main(Main.java:12)\nException in thread &quot;main&quot; com.badlogic.gdx.utils.GdxRuntimeException: Unable to initialize GLFW\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:89)\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n    at Main.main(Main.java:12)\nexit status 1\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","json","jsonpath"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687189657,"post_id":76508039,"comment_id":134898755,"body_markdown":"Is it com.jayway.jsonpath.json-path library?","body":"Is it com.jayway.jsonpath.json-path library?"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687190144,"creation_date":1687190144,"answer_id":76508264,"question_id":76508039,"body_markdown":"Use `.json()` method:\r\n\r\n        var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\r\n        Object entryToAdd = JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;).json();\r\n        String updatedJson = context.add(&quot;students&quot;, entryToAdd).jsonString();\r\n        System.out.println(updatedJson);\r\n\r\nprints\r\n\r\n&gt; {&quot;students&quot;:[{&quot;id&quot;:1,&quot;name&quot;:&quot;Bob&quot;}]}","title":"Java JsonPath: Insert object into another object","body":"<p>Use <code>.json()</code> method:</p>\n<pre><code>    var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\n    Object entryToAdd = JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;).json();\n    String updatedJson = context.add(&quot;students&quot;, entryToAdd).jsonString();\n    System.out.println(updatedJson);\n</code></pre>\n<p>prints</p>\n<blockquote>\n<p>{&quot;students&quot;:[{&quot;id&quot;:1,&quot;name&quot;:&quot;Bob&quot;}]}</p>\n</blockquote>\n"}],"owner":{"account_id":4436420,"reputation":1824,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76508264,"answer_count":1,"score":1,"last_activity_date":1687190144,"creation_date":1687188304,"question_id":76508039,"body_markdown":"I am using the [JayWay JsonPath](https://github.com/json-path/JsonPath) to manipulate JSON objects.\r\n\r\nI want to insert a JSON object into a JSON array:\r\n```json\r\n### before\r\n{\r\n  &quot;students&quot;: []\r\n}\r\n\r\n### after\r\n{\r\n  &quot;students&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;Bob&quot;}]\r\n}\r\n```\r\n\r\nSomehow I cannot accomplish this in JsonPath. If I add the object as a string, it is not recognized as a JSON object:\r\n```java\r\nvar context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\r\ncontext.add(&quot;students&quot;, &quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;);\r\n\r\nSystem.out.println(context.jsonString());\r\n// &gt; {&quot;students&quot;:[&quot;{\\&quot;id\\&quot;:  1, \\&quot;lastName\\&quot;:  \\&quot;Bob\\&quot;}&quot;]}\r\n```\r\n\r\nIf I try to parse the object, JsonPath adds an empty object:\r\n```java\r\nvar context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\r\ncontext.add(&quot;students&quot;, JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;));\r\n\r\nSystem.out.println(context.jsonString());\r\n// &gt; {&quot;students&quot;:[{}]}\r\n```\r\nHow can I insert the JSON object into the array?","title":"Java JsonPath: Insert object into another object","body":"<p>I am using the <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JayWay JsonPath</a> to manipulate JSON objects.</p>\n<p>I want to insert a JSON object into a JSON array:</p>\n<pre class=\"lang-json prettyprint-override\"><code>### before\n{\n  &quot;students&quot;: []\n}\n\n### after\n{\n  &quot;students&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;Bob&quot;}]\n}\n</code></pre>\n<p>Somehow I cannot accomplish this in JsonPath. If I add the object as a string, it is not recognized as a JSON object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\ncontext.add(&quot;students&quot;, &quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;);\n\nSystem.out.println(context.jsonString());\n// &gt; {&quot;students&quot;:[&quot;{\\&quot;id\\&quot;:  1, \\&quot;lastName\\&quot;:  \\&quot;Bob\\&quot;}&quot;]}\n</code></pre>\n<p>If I try to parse the object, JsonPath adds an empty object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\ncontext.add(&quot;students&quot;, JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;));\n\nSystem.out.println(context.jsonString());\n// &gt; {&quot;students&quot;:[{}]}\n</code></pre>\n<p>How can I insert the JSON object into the array?</p>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":7637243,"reputation":571,"user_id":6645112,"display_name":"Daxesh V"},"score":0,"creation_date":1626930948,"post_id":67418660,"comment_id":121023851,"body_markdown":"Clean your project\nGenerate signed yours bundle/.apk file\nUncheck the &quot;Remember password&quot;\nManually put your password at &quot;Key store password&quot; and &quot;Key password&quot;\nClick Next and you Done!.","body":"Clean your project Generate signed yours bundle/.apk file Uncheck the &quot;Remember password&quot; Manually put your password at &quot;Key store password&quot; and &quot;Key password&quot; Click Next and you Done!."}],"answers":[{"tags":[],"owner":{"account_id":13109426,"reputation":969,"user_id":9471004,"display_name":"Gaurav Pandit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620363211,"creation_date":1620363211,"answer_id":67429192,"question_id":67418660,"body_markdown":"I got the solution. \r\nThere was a library in project having,\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n    }\r\n\r\nin the build.gradle file of library.\r\nI added the same,\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n    }\r\n\r\nin build.gradle file of app.\r\nIt was causing this error. \r\nI changed it back to, \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n\r\nThis solved my issue.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I got the solution.\nThere was a library in project having,</p>\n<pre><code>plugins {\n    id 'com.android.library'\n}\n</code></pre>\n<p>in the build.gradle file of library.\nI added the same,</p>\n<pre><code>plugins {\n    id 'com.android.library'\n}\n</code></pre>\n<p>in build.gradle file of app.\nIt was causing this error.\nI changed it back to,</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n</code></pre>\n<p>This solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":8663810,"reputation":1009,"user_id":6485135,"accept_rate":75,"display_name":"e.hadid"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1623736417,"creation_date":1623736417,"answer_id":67980723,"question_id":67418660,"body_markdown":"In my case, there was an unwanted character(a semicolon) in build.gradle(app)\r\n\r\nI deleted that and rebuiled the project\r\n\r\nproblem solved.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case, there was an unwanted character(a semicolon) in build.gradle(app)</p>\n<p>I deleted that and rebuiled the project</p>\n<p>problem solved.</p>\n"},{"tags":[],"owner":{"account_id":19342799,"reputation":123,"user_id":14141957,"display_name":"Dev Ayush"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1628913024,"creation_date":1626930723,"answer_id":68479491,"question_id":67418660,"body_markdown":"I was using -\r\n(in build.gradle)\r\n&quot;versionCode&quot; as RN-2 (* as i was developing in React Native)\r\nthen i tried &quot;versionCode&quot; as 3.1 but that also was throwing error\r\nthen i used - \r\n`versionCode 4`\r\n\r\nand this time the BUILD was SUCCESSFUL\r\n\r\n**my learning* -&gt; versionCode should be integer**\r\n ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I was using -\n(in build.gradle)\n&quot;versionCode&quot; as RN-2 (* as i was developing in React Native)\nthen i tried &quot;versionCode&quot; as 3.1 but that also was throwing error\nthen i used -\n<code>versionCode 4</code></p>\n<p>and this time the BUILD was SUCCESSFUL</p>\n<p><em><em>my learning</em> -&gt; versionCode should be integer</em>*</p>\n"},{"tags":[],"owner":{"account_id":10481302,"reputation":1275,"user_id":7726229,"display_name":"dnhyde"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1627549561,"creation_date":1627549561,"answer_id":68573115,"question_id":67418660,"body_markdown":"I had the same issue when migrating to the AGP 7.0 when moving from `aaptOptions` to `androidResources`.\r\n\r\nFor me it was enough to replace\r\n```\r\nandroidResources {\r\n   noCompress &#39;...&#39;\r\n}\r\n```\r\n\r\nwith \r\n\r\n```\r\naaptOptions {\r\n   noCompress &#39;...&#39;\r\n}\r\n```","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had the same issue when migrating to the AGP 7.0 when moving from <code>aaptOptions</code> to <code>androidResources</code>.</p>\n<p>For me it was enough to replace</p>\n<pre><code>androidResources {\n   noCompress '...'\n}\n</code></pre>\n<p>with</p>\n<pre><code>aaptOptions {\n   noCompress '...'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13265053,"reputation":326,"user_id":9578198,"display_name":"Michele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628758901,"creation_date":1628758901,"answer_id":68754449,"question_id":67418660,"body_markdown":"In my case I was working with `productFlavors`, setting up a boolean property. I forgot to surround the boolean value with apostrophes.\r\n\r\nSo I changed this\r\n\r\n    productFlavors {\r\n        normal {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, false\r\n        } \r\n\r\n        admin {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, true\r\n        }\r\n    }\r\n\r\nto this\r\n\r\n    productFlavors {\r\n        normal {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, &#39;false&#39;\r\n        } \r\n\r\n        admin {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, &#39;true&#39;\r\n        }\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I was working with <code>productFlavors</code>, setting up a boolean property. I forgot to surround the boolean value with apostrophes.</p>\n<p>So I changed this</p>\n<pre><code>productFlavors {\n    normal {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', false\n    } \n\n    admin {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', true\n    }\n}\n</code></pre>\n<p>to this</p>\n<pre><code>productFlavors {\n    normal {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', 'false'\n    } \n\n    admin {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', 'true'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1628836884,"creation_date":1628776693,"answer_id":68758851,"question_id":67418660,"body_markdown":"I had the same issue when migrating to the `&#39;com.android.tools.build:gradle:7.0.0&#39;`\r\n\r\nI removed the code:\r\n```\r\njavaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [fragmentArgsLogWarnings: &#39;false&#39;]\r\n                includeCompileClasspath true\r\n            }\r\n        }\r\n ```\r\n\r\nhere is desc about how to add it again for kapt\r\nhttps://github.com/sockeqwe/fragmentargs#annotation-processor-options\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had the same issue when migrating to the <code>'com.android.tools.build:gradle:7.0.0'</code></p>\n<p>I removed the code:</p>\n<pre><code>javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [fragmentArgsLogWarnings: 'false']\n                includeCompileClasspath true\n            }\n        }\n</code></pre>\n<p>here is desc about how to add it again for kapt\n<a href=\"https://github.com/sockeqwe/fragmentargs#annotation-processor-options\" rel=\"noreferrer\">https://github.com/sockeqwe/fragmentargs#annotation-processor-options</a></p>\n"},{"tags":[],"owner":{"account_id":8477195,"reputation":628,"user_id":6358068,"display_name":"bra.Scene"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1637162312,"creation_date":1637162312,"answer_id":70007042,"question_id":67418660,"body_markdown":"There&#39;s no unique answer for this, except that it&#39;s a syntax typo inside `build.gradle` file.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>There's no unique answer for this, except that it's a syntax typo inside <code>build.gradle</code> file.</p>\n"},{"tags":[],"owner":{"account_id":18907312,"reputation":1734,"user_id":13794189,"display_name":"Miguel Tom&#225;s"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684621503,"creation_date":1637407355,"answer_id":70045441,"question_id":67418660,"body_markdown":"The error can have many origins. One most frequent is due to **syntax typo inside build.gradle** file and there&#39;s no easy way to spot it. \r\n\r\nMy suggestion. **Copy the code from a working build.grade file on another project and replace the part that is throwing the error.**","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>The error can have many origins. One most frequent is due to <strong>syntax typo inside build.gradle</strong> file and there's no easy way to spot it.</p>\n<p>My suggestion. <strong>Copy the code from a working build.grade file on another project and replace the part that is throwing the error.</strong></p>\n"},{"tags":[],"owner":{"account_id":1341098,"reputation":1300,"user_id":1282732,"display_name":"molokoka"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637836043,"creation_date":1637836043,"answer_id":70109456,"question_id":67418660,"body_markdown":"`kotlinOptions` lambda caused error in my case.\r\n \r\n```\r\nandroid {\r\n...\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot;\r\n    }\r\n...\r\n}\r\n```  \r\nWhen I removed it - everything start to work back again.  ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p><code>kotlinOptions</code> lambda caused error in my case.</p>\n<pre><code>android {\n...\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n...\n}\n</code></pre>\n<p>When I removed it - everything start to work back again.</p>\n"},{"tags":[],"owner":{"account_id":3838237,"reputation":1540,"user_id":3182079,"display_name":"Pietrek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638433536,"creation_date":1638433536,"answer_id":70196186,"question_id":67418660,"body_markdown":"My solution was to comment all elements in `android {}` section, sync &amp; build and then uncomment. It worked.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>My solution was to comment all elements in <code>android {}</code> section, sync &amp; build and then uncomment. It worked.</p>\n"},{"tags":[],"owner":{"account_id":1850145,"reputation":1023,"user_id":1676847,"display_name":"Andrei Verdes"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1644761024,"creation_date":1641989712,"answer_id":70681405,"question_id":67418660,"body_markdown":"Best way to deal with this is going in the `android { ... }` block and start commenting out different methods/blocks until the configuration moves past the `.android()` error and you&#39;ll know which block is causing it. In my case it was a deprecated method in the `buildTypes { ... }` block. ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>Best way to deal with this is going in the <code>android { ... }</code> block and start commenting out different methods/blocks until the configuration moves past the <code>.android()</code> error and you'll know which block is causing it. In my case it was a deprecated method in the <code>buildTypes { ... }</code> block.</p>\n"},{"tags":[],"owner":{"account_id":13956201,"reputation":102,"user_id":10078504,"display_name":"Mayank Pandit"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1642784790,"creation_date":1642784790,"answer_id":70805025,"question_id":67418660,"body_markdown":"I had this error `No signature of method: build_eux4i9fuz78eb5ojbn76y01n5.android() is applicable for argument types`\r\n\r\nIt was fixed by changing\r\n\r\n    buildFeatures {\r\n        dataBinding true\r\n    }\r\n\r\nto\r\n\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n\r\nI believe the error is the cause of version conflicts between kotlin plugin version and gradle version.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had this error <code>No signature of method: build_eux4i9fuz78eb5ojbn76y01n5.android() is applicable for argument types</code></p>\n<p>It was fixed by changing</p>\n<pre><code>buildFeatures {\n    dataBinding true\n}\n</code></pre>\n<p>to</p>\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n<p>I believe the error is the cause of version conflicts between kotlin plugin version and gradle version.</p>\n"},{"tags":[],"owner":{"account_id":1216415,"reputation":568,"user_id":1183928,"accept_rate":47,"display_name":"Fivos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648023862,"creation_date":1648023862,"answer_id":71583908,"question_id":67418660,"body_markdown":"I had the same issue when I removed the `id &#39;org.jetbrains.kotlin.android.extensions&#39;` plugin from build.gradle(:app).\r\n\r\nIt was fixed by also removing \r\n\r\n        android {\r\n            ...\r\n            androidExtensions {\r\n                experimental = true\r\n            }\r\n            ...\r\n        }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had the same issue when I removed the <code>id 'org.jetbrains.kotlin.android.extensions'</code> plugin from build.gradle(:app).</p>\n<p>It was fixed by also removing</p>\n<pre><code>    android {\n        ...\n        androidExtensions {\n            experimental = true\n        }\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19999309,"reputation":406,"user_id":14658605,"display_name":"Adam Bridges"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1649213798,"creation_date":1649213798,"answer_id":71760565,"question_id":67418660,"body_markdown":"I fixed this error by removing &#39;useProguard&#39; from app/build.gradle like so:\r\n\r\n    buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n    \r\n                minifyEnabled true\r\n                shrinkResources true\r\n    \r\n                // useProguard true &lt;-- removed this\r\n                proguardFiles(\r\n                        getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;\r\n                )\r\n            }\r\n        }\r\n        \r\nI hope that helps someone!","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I fixed this error by removing 'useProguard' from app/build.gradle like so:</p>\n<pre><code>buildTypes {\n        release {\n            signingConfig signingConfigs.release\n\n            minifyEnabled true\n            shrinkResources true\n\n            // useProguard true &lt;-- removed this\n            proguardFiles(\n                    getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    \n</code></pre>\n<p>I hope that helps someone!</p>\n"},{"tags":[],"owner":{"account_id":184542,"reputation":561,"user_id":420654,"accept_rate":25,"display_name":"Tobechukwu Ezenachukwu"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1649393314,"creation_date":1649393314,"answer_id":71791797,"question_id":67418660,"body_markdown":"I recently had similar trouble. I had to rerun the project with a &quot;build.gradle&quot; file from another project that didn&#39;t have any issues. Then I narrowed the issue down to `useProguard true`. The issue disappeared after I commented out `useProguard true` as shown below: \r\n\r\n    buildTypes {\r\n        release {\r\n            signingConfig signingConfigs.release\r\n            minifyEnabled true\r\n            //useProguard true  &lt;-- remove this line\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n        }\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I recently had similar trouble. I had to rerun the project with a &quot;build.gradle&quot; file from another project that didn't have any issues. Then I narrowed the issue down to <code>useProguard true</code>. The issue disappeared after I commented out <code>useProguard true</code> as shown below:</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.release\n        minifyEnabled true\n        //useProguard true  &lt;-- remove this line\n        proguardFiles getDefaultProguardFile('proguard-android.txt')\n    }\n    debug {\n        signingConfig signingConfigs.debug\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898814,"reputation":628,"user_id":9351811,"display_name":"Kuvonchbek Yakubov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650030870,"creation_date":1650030870,"answer_id":71884903,"question_id":67418660,"body_markdown":"I just created a new project and added dependencies, and this error occurred.\r\n\r\nIn my case the problem was `namespace` &#39;com.appName.packageName.app&#39; line in `build.gradle` file. Deleting this helped me.\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;kotlin-android&#39;\r\n        id &#39;kotlin-kapt&#39;\r\n        id &#39;androidx.navigation.safeargs.kotlin&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.mathtask.app&#39; // Delete this line\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.mathtask.app&quot;\r\n            minSdk 27\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    ...","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I just created a new project and added dependencies, and this error occurred.</p>\n<p>In my case the problem was <code>namespace</code> 'com.appName.packageName.app' line in <code>build.gradle</code> file. Deleting this helped me.</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'androidx.navigation.safeargs.kotlin'\n}\n\nandroid {\n    namespace 'com.mathtask.app' // Delete this line\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.mathtask.app&quot;\n        minSdk 27\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1617925,"reputation":362,"user_id":1495092,"accept_rate":14,"display_name":"Mark Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650404153,"creation_date":1650326771,"answer_id":71918267,"question_id":67418660,"body_markdown":"An absolutely Ludicrous error being issued by Android Studio\r\n\r\nMind you this has been compiling absolutely fine in previous versions of AS and Gradle until I upgraded a couple of days ago. \r\n\r\nI had accidentally in one of my modules typed a Capital letter (many months ago mind you) as follows ; \r\n\r\n    DefaultConfig {\r\n        minSdkVersion 25\r\n        targetSdkVersion 30\r\n    }\r\n\r\nAfter so many hours of searching and trying various things I just happened to spot it.\r\n\r\n    defaultConfig {\r\n        minSdkVersion 25\r\n        targetSdkVersion 30\r\n    }\r\n\r\nThe above resolved the issue. \r\n\r\n`DefaultConfig` -&gt; `defaultConfig`\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>An absolutely Ludicrous error being issued by Android Studio</p>\n<p>Mind you this has been compiling absolutely fine in previous versions of AS and Gradle until I upgraded a couple of days ago.</p>\n<p>I had accidentally in one of my modules typed a Capital letter (many months ago mind you) as follows ;</p>\n<pre><code>DefaultConfig {\n    minSdkVersion 25\n    targetSdkVersion 30\n}\n</code></pre>\n<p>After so many hours of searching and trying various things I just happened to spot it.</p>\n<pre><code>defaultConfig {\n    minSdkVersion 25\n    targetSdkVersion 30\n}\n</code></pre>\n<p>The above resolved the issue.</p>\n<p><code>DefaultConfig</code> -&gt; <code>defaultConfig</code></p>\n"},{"tags":[],"owner":{"account_id":11829376,"reputation":72,"user_id":8656527,"display_name":"Mahdi Eyvazi"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1650742139,"creation_date":1650742139,"answer_id":71982995,"question_id":67418660,"body_markdown":"remove\r\n\r\n&quot;useProguard true&quot;\r\n\r\n    buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                //useProguard true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>remove</p>\n<p>&quot;useProguard true&quot;</p>\n<pre><code>buildTypes {\n        release {\n            minifyEnabled true\n            //useProguard true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25253735,"reputation":1,"user_id":19085829,"display_name":"user19085829"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652187807,"creation_date":1652187807,"answer_id":72186858,"question_id":67418660,"body_markdown":"I fix this error by changing version code to less than 6. using 7 onwards will exist this error.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I fix this error by changing version code to less than 6. using 7 onwards will exist this error.</p>\n"},{"tags":[],"owner":{"account_id":6991939,"reputation":2711,"user_id":5360898,"display_name":"yaugenka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655582417,"creation_date":1655581160,"answer_id":72672246,"question_id":67418660,"body_markdown":"In my case I defined flavorDimensions using kotlin style instead of groovy\r\n\r\n    flavorDimensions += listOf(&quot;api&quot;, &quot;mode&quot;)\r\n\r\nFixed it this way\r\n\r\n    flavorDimensions += [&quot;api&quot;, &quot;mode&quot;]","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I defined flavorDimensions using kotlin style instead of groovy</p>\n<pre><code>flavorDimensions += listOf(&quot;api&quot;, &quot;mode&quot;)\n</code></pre>\n<p>Fixed it this way</p>\n<pre><code>flavorDimensions += [&quot;api&quot;, &quot;mode&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825915,"reputation":707,"user_id":6594174,"display_name":"leonardo rey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657107459,"creation_date":1657107459,"answer_id":72882943,"question_id":67418660,"body_markdown":"In my case i could fix it commenting the : MultiDexEnable value on android.defaultConfig","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case i could fix it commenting the : MultiDexEnable value on android.defaultConfig</p>\n"},{"tags":[],"owner":{"account_id":4751012,"reputation":236,"user_id":15836836,"display_name":"Ramy Wahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660647318,"creation_date":1660647318,"answer_id":73372856,"question_id":67418660,"body_markdown":"For me, I changed build:gradle.7.1.2 to 4.1.0 and work very good \r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n\r\nto \r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>For me, I changed build:gradle.7.1.2 to 4.1.0 and work very good</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:7.1.2'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n}\n</code></pre>\n<p>to</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:4.1.0'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19639092,"reputation":1,"user_id":14375674,"display_name":"Nurlibay Koshkinbayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660845941,"creation_date":1660845941,"answer_id":73407602,"question_id":67418660,"body_markdown":"I do that: \r\n\r\n    buildTypes {\r\n        release {\r\n\r\n            /**\r\n             * Enables code shrinking, obfuscation, and optimization for only\r\n             * your project&#39;s release build type.\r\n             * */\r\n            minifyEnabled true\r\n\r\n            /**\r\n             * Enables resource shrinking, which is performed by the\r\n             * Android Gradle plugin.\r\n             * */\r\n            shrinkResources true\r\n\r\n            /**\r\n             * Includes the default ProGuard rules files that are packaged with\r\n             * the Android Gradle plugin. To learn more, go to the section about\r\n             * R8 configuration files.\r\n             * */\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            /**\r\n             * Enables code shrinking, obfuscation, and optimization for only\r\n             * your project&#39;s release build type.\r\n             * */\r\n            minifyEnabled true\r\n\r\n            /**\r\n             * Enables resource shrinking, which is performed by the\r\n             * Android Gradle plugin.\r\n             * */\r\n            shrinkResources true\r\n\r\n            /**\r\n             * Includes the default ProGuard rules files that are packaged with\r\n             * the Android Gradle plugin. To learn more, go to the section about\r\n             * R8 configuration files.\r\n             * */\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\r\n        }\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I do that:</p>\n<pre><code>buildTypes {\n    release {\n\n        /**\n         * Enables code shrinking, obfuscation, and optimization for only\n         * your project's release build type.\n         * */\n        minifyEnabled true\n\n        /**\n         * Enables resource shrinking, which is performed by the\n         * Android Gradle plugin.\n         * */\n        shrinkResources true\n\n        /**\n         * Includes the default ProGuard rules files that are packaged with\n         * the Android Gradle plugin. To learn more, go to the section about\n         * R8 configuration files.\n         * */\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        /**\n         * Enables code shrinking, obfuscation, and optimization for only\n         * your project's release build type.\n         * */\n        minifyEnabled true\n\n        /**\n         * Enables resource shrinking, which is performed by the\n         * Android Gradle plugin.\n         * */\n        shrinkResources true\n\n        /**\n         * Includes the default ProGuard rules files that are packaged with\n         * the Android Gradle plugin. To learn more, go to the section about\n         * R8 configuration files.\n         * */\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6246927,"reputation":2030,"user_id":5060269,"display_name":"Shubham Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660909823,"creation_date":1660909823,"answer_id":73416352,"question_id":67418660,"body_markdown":"This error is a bit misleading.\r\nA simple typo can cause this error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MbukV.png\r\n\r\nI just had the spelling of &quot;multidexEnabled&quot; wrong.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>This error is a bit misleading.\nA simple typo can cause this error</p>\n<p><a href=\"https://i.stack.imgur.com/MbukV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbukV.png\" alt=\"enter image description here\" /></a></p>\n<p>I just had the spelling of &quot;multidexEnabled&quot; wrong.</p>\n"},{"tags":[],"owner":{"account_id":14911195,"reputation":2478,"user_id":10766642,"display_name":"danyapd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661800317,"creation_date":1661800317,"answer_id":73533606,"question_id":67418660,"body_markdown":"In my case I&#39;ve commented `buildTools`\r\n\r\n    android {\r\n        compileSdk 32\r\n    //    buildTools &quot;32.1.0 rc1&quot;\r\n    ...\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I've commented <code>buildTools</code></p>\n<pre><code>android {\n    compileSdk 32\n//    buildTools &quot;32.1.0 rc1&quot;\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20035580,"reputation":61,"user_id":14687391,"display_name":"ReevoXFR"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662446869,"creation_date":1662446869,"answer_id":73617766,"question_id":67418660,"body_markdown":"For me, when I was downgrading the GradleVersion and some dependencie, I had to remove this line from *build.gradle (:app)*\r\n    \r\n    android {\r\n    ...\r\n        namespace &#39;com.yourpackagename&#39; &lt;-- delete this line\r\n    ...\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>For me, when I was downgrading the GradleVersion and some dependencie, I had to remove this line from <em>build.gradle (:app)</em></p>\n<pre><code>android {\n...\n    namespace 'com.yourpackagename' &lt;-- delete this line\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3565126,"reputation":2683,"user_id":2976879,"display_name":"Elmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662635945,"creation_date":1662635945,"answer_id":73648223,"question_id":67418660,"body_markdown":"It usually happens during upgrading process of very old project and when some gradle file parts edited manually and there is a mismatch. It is very time consuming and sometimes very painful to find what is the exact problem as generated errors may not even correctly indicate the issue. \r\n\r\n\r\nOne complex solution is to create new project with exact same package name and then copy-paste working-logic part into that project. This is easier solution as when we create new project all gradle, sdk, dependecies automatically created. \r\n\r\nIt happened with my Flutter project upgrade and managed to solve the issue only this way. ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>It usually happens during upgrading process of very old project and when some gradle file parts edited manually and there is a mismatch. It is very time consuming and sometimes very painful to find what is the exact problem as generated errors may not even correctly indicate the issue.</p>\n<p>One complex solution is to create new project with exact same package name and then copy-paste working-logic part into that project. This is easier solution as when we create new project all gradle, sdk, dependecies automatically created.</p>\n<p>It happened with my Flutter project upgrade and managed to solve the issue only this way.</p>\n"},{"tags":[],"owner":{"account_id":11389751,"reputation":189,"user_id":8350236,"display_name":"Yousuf Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662871656,"creation_date":1662871656,"answer_id":73676889,"question_id":67418660,"body_markdown":"I&#39;m facing this problem because of jackOptions.I solve this to remove bellow code from android:\r\n\r\n    jackOptions {\r\n                enabled true\r\n            }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I'm facing this problem because of jackOptions.I solve this to remove bellow code from android:</p>\n<pre><code>jackOptions {\n            enabled true\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12360402,"reputation":122,"user_id":9014836,"display_name":"Arham Anees"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663399946,"creation_date":1663399946,"answer_id":73753020,"question_id":67418660,"body_markdown":"in my case, it was `storeFile` value. following work fine for me.\r\n````\r\nstoreFile keystoreProperties[&#39;storeFileUpload&#39;] ? file(keystoreProperties[&#39;storeFileUpload&#39;]) : null\r\n````\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>in my case, it was <code>storeFile</code> value. following work fine for me.</p>\n<pre><code>storeFile keystoreProperties['storeFileUpload'] ? file(keystoreProperties['storeFileUpload']) : null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875685,"reputation":1442,"user_id":1696950,"accept_rate":88,"display_name":"Ahmad Shahwaiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663504319,"creation_date":1663504319,"answer_id":73762822,"question_id":67418660,"body_markdown":"In my case I had to remove this:\r\n\r\n      proguardFile getDefaultDexGuardFile(&#39;dexguard-debug.pro&#39;)","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I had to remove this:</p>\n<pre><code>  proguardFile getDefaultDexGuardFile('dexguard-debug.pro')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18712416,"reputation":638,"user_id":13642222,"display_name":"sina akbari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664620167,"creation_date":1664620167,"answer_id":73917593,"question_id":67418660,"body_markdown":"Just Remove All the dependencies related to **protobuf** .\r\n\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>Just Remove All the dependencies related to <strong>protobuf</strong> .</p>\n"},{"tags":[],"owner":{"account_id":1172561,"reputation":5924,"user_id":1149398,"accept_rate":100,"display_name":"sud007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672288801,"creation_date":1664823020,"answer_id":73939620,"question_id":67418660,"body_markdown":"There is certainly no unique answer here. Every developer faced some issue unique to their own `gradle` file configuration. For me, it started to appear during a migration to `gradle-7.0`. However, It worked when I realised and fixed the missing plugin in `app-gradle`\r\n\r\nPlugin that my file was missing\r\n\r\n    id &#39;kotlin-android&#39;","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>There is certainly no unique answer here. Every developer faced some issue unique to their own <code>gradle</code> file configuration. For me, it started to appear during a migration to <code>gradle-7.0</code>. However, It worked when I realised and fixed the missing plugin in <code>app-gradle</code></p>\n<p>Plugin that my file was missing</p>\n<pre><code>id 'kotlin-android'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213874,"reputation":22203,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666104699,"creation_date":1666104699,"answer_id":74113059,"question_id":67418660,"body_markdown":"As other answers have said, everybody has a different solution to this thanks to Gradle&#39;s crappy error messages. Or is it Groovy&#39;s fault? I&#39;m not sure.\r\n\r\nIn my case, it was a bit esoteric, but I&#39;ll post it anyway, it might help someone.\r\n\r\nI created a new Android project where the default skeleton Gradle files were using Android Gradle Plugin 7 and the new targetSdk (instead of targetSdkVersion), compileSdk (instead of compileSdkVersion) and minSdk (instead of minSdkVersion).\r\n\r\nI changed AGP to 3.6.3 (for a weird reason, this is why this is probably no help to anyone) and got the error message because targetSdk/compileSdk/minSdk","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>As other answers have said, everybody has a different solution to this thanks to Gradle's crappy error messages. Or is it Groovy's fault? I'm not sure.</p>\n<p>In my case, it was a bit esoteric, but I'll post it anyway, it might help someone.</p>\n<p>I created a new Android project where the default skeleton Gradle files were using Android Gradle Plugin 7 and the new targetSdk (instead of targetSdkVersion), compileSdk (instead of compileSdkVersion) and minSdk (instead of minSdkVersion).</p>\n<p>I changed AGP to 3.6.3 (for a weird reason, this is why this is probably no help to anyone) and got the error message because targetSdk/compileSdk/minSdk</p>\n"},{"tags":[],"owner":{"account_id":12416836,"reputation":19,"user_id":9045872,"display_name":"Nitul Savaliya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668254772,"creation_date":1668144838,"answer_id":74398399,"question_id":67418660,"body_markdown":"```\r\nplugins {\r\n      id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n```\r\n\r\nbuild.gradle add this plugin on app level Gradle then sync","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<pre><code>plugins {\n      id 'org.jetbrains.kotlin.android'\n}\n</code></pre>\n<p>build.gradle add this plugin on app level Gradle then sync</p>\n"},{"tags":[],"owner":{"account_id":6751378,"reputation":1027,"user_id":5201270,"accept_rate":75,"display_name":"Ashish Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669722029,"creation_date":1669722029,"answer_id":74613535,"question_id":67418660,"body_markdown":"*Hi devs, just updated to AS-Dolphin and received this error while creating a new project.*\r\n\r\nIn my case the issue was **compileSdk, minSdk, targetSdk** all were missing **Version** keyword.\r\n\r\n*When I added that the error was gone... **Woh!!!***\r\n    \r\n    compileSdkVersion 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.android&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p><em>Hi devs, just updated to AS-Dolphin and received this error while creating a new project.</em></p>\n<p>In my case the issue was <strong>compileSdk, minSdk, targetSdk</strong> all were missing <strong>Version</strong> keyword.</p>\n<p><em>When I added that the error was gone... <strong>Woh!!!</strong></em></p>\n<pre><code>compileSdkVersion 32\n\ndefaultConfig {\n    applicationId &quot;com.example.android&quot;\n    minSdkVersion 21\n    targetSdkVersion 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7257817,"reputation":1097,"user_id":5535773,"display_name":"Rebar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687190065,"creation_date":1687190065,"answer_id":76508252,"question_id":67418660,"body_markdown":"My error (or needed update) was that my `gradle-wrapper.properties` needs to be updated from an old `6.*` gradle version to `7.3.3` and my build.gradle to latest stable Kotlin and build tools version and also to update to latest target and compile version `33` :D. And voil&#225; it worked like always...","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>My error (or needed update) was that my <code>gradle-wrapper.properties</code> needs to be updated from an old <code>6.*</code> gradle version to <code>7.3.3</code> and my build.gradle to latest stable Kotlin and build tools version and also to update to latest target and compile version <code>33</code> :D. And voilá it worked like always...</p>\n"}],"owner":{"account_id":13109426,"reputation":969,"user_id":9471004,"display_name":"Gaurav Pandit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120148,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":36,"score":64,"last_activity_date":1687190065,"creation_date":1620305972,"question_id":67418660,"body_markdown":"\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;\r\n\r\nCaused by: groovy.lang.MissingMethodException: No signature of method: build_h12dou32x8mktsbcdinr8fpc.android() is applicable for argument types: (build_h12dou32x8mktsbcdinr8fpc$_run_closure1) values: [build_h12dou32x8mktsbcdinr8fpc$_run_closure1@1630dea1]","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<ul>\n<li>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'</li>\n</ul>\n<p>Caused by: groovy.lang.MissingMethodException: No signature of method: build_h12dou32x8mktsbcdinr8fpc.android() is applicable for argument types: (build_h12dou32x8mktsbcdinr8fpc$_run_closure1) values: [build_h12dou32x8mktsbcdinr8fpc$_run_closure1@1630dea1]</p>\n"},{"tags":["java","performance","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":13185554,"reputation":534,"user_id":12022900,"display_name":"Joevanie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687189782,"creation_date":1687189782,"answer_id":76508216,"question_id":76465955,"body_markdown":"&lt;p style=&quot;margin: 0;&quot;&gt;You can use the &lt;a href=&quot;https://cloud.google.com/bigquery/docs/reference/storage&quot;&gt;BigQuery Storage Read API&lt;/a&gt;. According to the documentation, &quot;the BigQuery Storage Read API provides a third option that represents an improvement over prior options. When you use the Storage Read API, structured data is sent over the wire in a binary serialization format. This allows for additional parallelism among multiple consumers for a set of results.&quot;&lt;/p&gt;\n&lt;p style=&quot;margin: 0;&quot;&gt;&amp;nbsp;&lt;/p&gt;\n&lt;p style=&quot;margin: 0;&quot;&gt;Here&#39;s an &lt;a href=&quot;https://cloud.google.com/bigquery/docs/reference/storage/libraries#use&quot;&gt;example&lt;/a&gt; in using the client library.&lt;/p&gt;","title":"Extracting Small amount of Heavy records from BigQueyr","body":"You can use the <a href=\"https://cloud.google.com/bigquery/docs/reference/storage\" rel=\"nofollow noreferrer\">BigQuery Storage Read API</a>. According to the documentation, \"the BigQuery Storage Read API provides a third option that represents an improvement over prior options. When you use the Storage Read API, structured data is sent over the wire in a binary serialization format. This allows for additional parallelism among multiple consumers for a set of results.\"</p>\n&nbsp;</p>\nHere's an <a href=\"https://cloud.google.com/bigquery/docs/reference/storage/libraries#use\" rel=\"nofollow noreferrer\">example</a> in using the client library.</p>\n"}],"owner":{"account_id":16920586,"reputation":51,"user_id":12237497,"display_name":"Dmytro Pavlov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76508216,"answer_count":1,"score":0,"last_activity_date":1687189782,"creation_date":1686666256,"question_id":76465955,"body_markdown":"I want to load 1 record that has 1.8MB of data from BigQuery query result to Java, currently I am using code like\r\n\r\n```\r\n@Autowired\r\nBigQuery bigQuery;\r\n         \r\nQueryJobConfiguration queryJobConfiguration = QueryJobConfiguration.newBuilder(query)\r\n                .setDefaultDataset(bigQueryProperties.getDatasetName())\r\n                .setUseQueryCache(true)\r\n                .setNamedParameters(queryParametersMap)\r\n                .setJobTimeoutMs(jobTimeoutMs)\r\n                .build();\r\n\r\nbigQuery.query(queryJobConfiguration)\r\n```\r\nI know this code is better to be used for a large number of lightweight records\r\nSo I am interested if there is any better approach in case we have just 1 but a very big record\r\n","title":"Extracting Small amount of Heavy records from BigQueyr","body":"<p>I want to load 1 record that has 1.8MB of data from BigQuery query result to Java, currently I am using code like</p>\n<pre><code>@Autowired\nBigQuery bigQuery;\n         \nQueryJobConfiguration queryJobConfiguration = QueryJobConfiguration.newBuilder(query)\n                .setDefaultDataset(bigQueryProperties.getDatasetName())\n                .setUseQueryCache(true)\n                .setNamedParameters(queryParametersMap)\n                .setJobTimeoutMs(jobTimeoutMs)\n                .build();\n\nbigQuery.query(queryJobConfiguration)\n</code></pre>\n<p>I know this code is better to be used for a large number of lightweight records\nSo I am interested if there is any better approach in case we have just 1 but a very big record</p>\n"},{"tags":["java","ldap"],"comments":[{"owner":{"account_id":481826,"reputation":115,"user_id":895858,"accept_rate":80,"display_name":"Shoner Sul"},"score":0,"creation_date":1607492477,"post_id":65161717,"comment_id":115286438,"body_markdown":"I have the same issue in JDK8. It does not seem to be JDK version issue as answered in https://stackoverflow.com/questions/58911874/java-upgrade-8-to-11-causing-issue-with-ldaps-connection-connection-or-outbound","body":"I have the same issue in JDK8. It does not seem to be JDK version issue as answered in <a href=\"https://stackoverflow.com/questions/58911874/java-upgrade-8-to-11-causing-issue-with-ldaps-connection-connection-or-outbound\" title=\"java upgrade 8 to 11 causing issue with ldaps connection connection or outbound\">stackoverflow.com/questions/58911874/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":485625,"reputation":5104,"user_id":902036,"accept_rate":60,"display_name":"dz902"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1615992055,"creation_date":1615992055,"answer_id":66675331,"question_id":65161717,"body_markdown":"For Googlers:\r\n\r\n`simple bind failed` errors are almost always related to SSL connection.\r\n\r\nWith `nc` or `telnet`, check whether a connection can be established between client and remote host and port.\r\n\r\nWith `SSLPoke.java` (a simple Java class to check SSL connection), check whether certificates are correctly imported and used, also check correct TLS version. Use something like `java -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2 -Djavax.net.debug=all SSLPoke google.com 443 &gt; log.txt 2&gt;&amp;1`.\r\n\r\nLook for:\r\n\r\n- `Warning: no suitable certificate found - continuing without client authentication` = check whether you have set `javax.net.ssl.trustStore`\r\n- `Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking` = could be mismatched TLS versions\r\n- Also check whether your intermediate CA is expired\r\n","title":"Java to Active Directory LDAP java.net.SocketException: Connection or outbound has closed","body":"<p>For Googlers:</p>\n<p><code>simple bind failed</code> errors are almost always related to SSL connection.</p>\n<p>With <code>nc</code> or <code>telnet</code>, check whether a connection can be established between client and remote host and port.</p>\n<p>With <code>SSLPoke.java</code> (a simple Java class to check SSL connection), check whether certificates are correctly imported and used, also check correct TLS version. Use something like <code>java -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2 -Djavax.net.debug=all SSLPoke google.com 443 &gt; log.txt 2&gt;&amp;1</code>.</p>\n<p>Look for:</p>\n<ul>\n<li><code>Warning: no suitable certificate found - continuing without client authentication</code> = check whether you have set <code>javax.net.ssl.trustStore</code></li>\n<li><code>Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking</code> = could be mismatched TLS versions</li>\n<li>Also check whether your intermediate CA is expired</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7454962,"reputation":66,"user_id":5668498,"display_name":"Cristian Chereji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687189575,"creation_date":1687189575,"answer_id":76508201,"question_id":65161717,"body_markdown":"&quot;Connection or outbound has closed&quot; is a general exception with several possible causes. In order to find the main cause you should start your application with the SSL debugging enabled. You can do that by adding the following VM parameter on startup:\r\n\r\n&gt; -Djavax.net.debug=ssl,handshake\r\n\r\nIn my case, with the SSL debug mode enabled I got &quot;CertificateException: No name matching localhost found&quot; which is explicit enough. The real problem was that the hostname configured in the self-signed certificate was not the one used to access the host. For the handshake not only the certificate validity is verified, but also the matching of host names.","title":"Java to Active Directory LDAP java.net.SocketException: Connection or outbound has closed","body":"<p>&quot;Connection or outbound has closed&quot; is a general exception with several possible causes. In order to find the main cause you should start your application with the SSL debugging enabled. You can do that by adding the following VM parameter on startup:</p>\n<blockquote>\n<p>-Djavax.net.debug=ssl,handshake</p>\n</blockquote>\n<p>In my case, with the SSL debug mode enabled I got &quot;CertificateException: No name matching localhost found&quot; which is explicit enough. The real problem was that the hostname configured in the self-signed certificate was not the one used to access the host. For the handshake not only the certificate validity is verified, but also the matching of host names.</p>\n"}],"owner":{"account_id":16790541,"reputation":81,"user_id":12138293,"display_name":"stefano542"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25705,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1687189575,"creation_date":1607200569,"question_id":65161717,"body_markdown":"Good evening,\r\n\r\nI have been facing this error for a couple of days by now, and despite looking for a solution all over the web, I coul&#39;d fix this error.\r\n\r\n    import java.util.Hashtable;\r\n    import javax.naming.Context;\r\n    import javax.naming.NamingEnumeration;\r\n    import javax.naming.directory.Attribute;\r\n    import javax.naming.directory.Attributes;\r\n    import javax.naming.directory.BasicAttribute;\r\n    import javax.naming.directory.BasicAttributes;\r\n    import javax.naming.directory.DirContext;\r\n    import javax.naming.directory.InitialDirContext;\r\n\r\n    public class LDAPtest {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tString keystorePath = &quot;C:/Program Files/Java/jdk-13.0.2/lib/security/cacerts&quot;;\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, keystorePath);\r\n\t\t\t \r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\t\t\t\r\n\t\t\tHashtable&lt;String, String&gt; ldapEnv = new Hashtable&lt;&gt;(); \r\n\t\t\tldapEnv.put(Context.INITIAL_CONTEXT_FACTORY,&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\t\tldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\r\n\t\t\tldapEnv.put(Context.SECURITY_AUTHENTICATION,&quot;simple&quot;);\r\n\t\t\tldapEnv.put(Context.SECURITY_PRINCIPAL,&quot;uid=admin,ou=system&quot;);\r\n\t\t\tldapEnv.put(Context.SECURITY_CREDENTIALS,&quot;secret&quot;);\r\n\t\t\t\r\n\t\t\tDirContext connection = new InitialDirContext(ldapEnv);\r\n\t\t\tSystem.out.println(&quot;Benvenuto &quot; + connection);\r\n\t        NamingEnumeration enm = connection.list(&quot;&quot;);\r\n\r\n\t        while (enm.hasMore()) {\r\n\t            System.out.println(enm.next());\r\n\t        }\r\n\r\n\t        enm.close();\r\n\t        connection.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nThis code is actually working when SSL is not tested, replacing the \r\n\r\n    ldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\r\n\r\nwith \r\n\r\n    ldapEnv.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\r\n\r\nI made the setup for the LDAP server with Apache Directory Studio, and followed this tutorial here in order to get the LDAPS to work:\r\nhttp://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html\r\n\r\nSo I made the certificate, even installed it and imported it with keytool into cacerts.\r\nI enabled portforwarding for the chosen port (10636), but still, I&#39;m getting this exception:\r\n\r\n    javax.naming.CommunicationException: simple bind failed: localhost:10636 [Root exception is \r\n    java.net.SocketException: Connection or outbound has closed]\r\n\tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\r\n\tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\r\n\tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n\tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n\tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\r\n\tat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:130)\r\n\tat Prova3.main(Prova3.java:31)\r\n    Caused by: java.net.SocketException: Connection or outbound has closed\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1246)\r\n\tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n\tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n\tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\r\n\tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\r\n\tat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\r\n\tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\r\n\t... 13 more\r\n\r\n\r\nThank you in advance","title":"Java to Active Directory LDAP java.net.SocketException: Connection or outbound has closed","body":"<p>Good evening,</p>\n<p>I have been facing this error for a couple of days by now, and despite looking for a solution all over the web, I coul'd fix this error.</p>\n<pre><code>import java.util.Hashtable;\nimport javax.naming.Context;\nimport javax.naming.NamingEnumeration;\nimport javax.naming.directory.Attribute;\nimport javax.naming.directory.Attributes;\nimport javax.naming.directory.BasicAttribute;\nimport javax.naming.directory.BasicAttributes;\nimport javax.naming.directory.DirContext;\nimport javax.naming.directory.InitialDirContext;\n\npublic class LDAPtest {\npublic static void main(String[] args) {\n    \n    try {\n        \n        String keystorePath = &quot;C:/Program Files/Java/jdk-13.0.2/lib/security/cacerts&quot;;\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keystorePath);\n         \n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\n        \n        Hashtable&lt;String, String&gt; ldapEnv = new Hashtable&lt;&gt;(); \n        ldapEnv.put(Context.INITIAL_CONTEXT_FACTORY,&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n        ldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\n        ldapEnv.put(Context.SECURITY_AUTHENTICATION,&quot;simple&quot;);\n        ldapEnv.put(Context.SECURITY_PRINCIPAL,&quot;uid=admin,ou=system&quot;);\n        ldapEnv.put(Context.SECURITY_CREDENTIALS,&quot;secret&quot;);\n        \n        DirContext connection = new InitialDirContext(ldapEnv);\n        System.out.println(&quot;Benvenuto &quot; + connection);\n        NamingEnumeration enm = connection.list(&quot;&quot;);\n\n        while (enm.hasMore()) {\n            System.out.println(enm.next());\n        }\n\n        enm.close();\n        connection.close();\n        \n        \n    }catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>This code is actually working when SSL is not tested, replacing the</p>\n<pre><code>ldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\n</code></pre>\n<p>with</p>\n<pre><code>ldapEnv.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\n</code></pre>\n<p>I made the setup for the LDAP server with Apache Directory Studio, and followed this tutorial here in order to get the LDAPS to work:\n<a href=\"http://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html\" rel=\"noreferrer\">http://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html</a></p>\n<p>So I made the certificate, even installed it and imported it with keytool into cacerts.\nI enabled portforwarding for the chosen port (10636), but still, I'm getting this exception:</p>\n<pre><code>javax.naming.CommunicationException: simple bind failed: localhost:10636 [Root exception is \njava.net.SocketException: Connection or outbound has closed]\nat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\nat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\nat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\nat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\nat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\nat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\nat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\nat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:130)\nat Prova3.main(Prova3.java:31)\nCaused by: java.net.SocketException: Connection or outbound has closed\nat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1246)\nat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\nat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\nat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\nat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\nat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\nat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\n... 13 more\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","soap","log4j"],"owner":{"account_id":1259048,"reputation":739,"user_id":1217879,"accept_rate":45,"display_name":"rhbc73"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687189354,"creation_date":1687156317,"question_id":76504132,"body_markdown":"I have this `logging.level.org.springframework.ws.server.MessageTracing.received=TRACE` setting in my application.properties so it prints out whatever soap messages my application receives. \r\n\r\nJust want to know if it&#39;s possible to only log a specific type of message. for example if my endpoints can process `MessageClassA` and `MessageClassB`, can I only log `MessageClassA` received?","title":"spring log4j log specific soap message","body":"<p>I have this <code>logging.level.org.springframework.ws.server.MessageTracing.received=TRACE</code> setting in my application.properties so it prints out whatever soap messages my application receives.</p>\n<p>Just want to know if it's possible to only log a specific type of message. for example if my endpoints can process <code>MessageClassA</code> and <code>MessageClassB</code>, can I only log <code>MessageClassA</code> received?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687189269,"creation_date":1687182128,"answer_id":76507216,"question_id":76507114,"body_markdown":"The specific error you get is because [`Stream.min()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#min(java.util.Comparator)) requires a parameter specifying how to order the elements of the stream. In this case, you want to order the `DoubleProperty` by its wrapped `double` value, so you can do\r\n\r\n    Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\r\n        .map(Rectangle::xProperty)\r\n        .min(Comparator.comparing(Double::getValue));\r\n\r\n(get a stream of the x properties, and then choose the one with the minimum value)\r\n\r\nEquivalently:\r\n\r\n    Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\r\n        .min(Comparator.comparing(Rectangle::getX))\r\n        .map(Rectangle::xProperty);\r\n\r\n(choose the rectangle with the minimum x, and then get its x property).\r\n\r\nNote, however, that these probably don&#39;t do what you want. The minimum x value will be found at the time that code is executed, and you get the `DoubleProperty` that wraps that value. If another rectangle with a smaller `x` value is added to the list, you still have a reference to the original `DoubleProperty`; similarly if the x-value of the rectangle corresponding to the property you received is changed so it is no longer the minimum, then your property will no longer represent the minimum value.\r\n\r\n\r\nI&#39;m assuming that what you want is a value which can be observed (you can register listeners with it) and which updates if either the list changes or if the `x` property of any rectangles in the list change.\r\n\r\nYou can create a binding that does this. You need to create an observable list with an [extractor](https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)) so that the binding can be invalidated when either the list changes, or the `xProperty()` of any of the rectangles in the list change.\r\n\r\nThen use [`Bindings.createDoubleBinding()`]() with a function that computes the minimum value and binds to the list:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random rnd = new Random();\r\n\r\n        // create list with an extractor:\r\n        ObservableList&lt;Rectangle&gt; rectangles =\r\n                FXCollections.observableArrayList(rect -&gt; new Observable[] { rect.xProperty()});\r\n\r\n\r\n        DoubleBinding minX = Bindings.createDoubleBinding(\r\n                () -&gt; rectangles.stream()\r\n                        .mapToDouble(Rectangle::getX)\r\n                        .min()\r\n                        .orElse(Double.POSITIVE_INFINITY),\r\n                rectangles\r\n        );\r\n\r\n        minX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;Min X changed from &quot;+oldMin+&quot; to &quot;+newMin));\r\n        \r\n        for (int i = 0; i &lt; 50; i++) {\r\n            rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\r\n        }\r\n    }\r\n\r\nThe `DoubleBinding` will probably work for anything you need (like a `DoubleProperty` it implements `ObservableDoubleValue`, which provides almost all the API you are likely to need). It you specifically need a property, just do\r\n\r\n    DoubleProperty minXProperty = new SimpleDoubleProperty();\r\n    minXProperty.bind(minX);","title":"Minimum of a Stream of DoubleProperty as a DoubleProperty","body":"<p>The specific error you get is because <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#min(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream.min()</code></a> requires a parameter specifying how to order the elements of the stream. In this case, you want to order the <code>DoubleProperty</code> by its wrapped <code>double</code> value, so you can do</p>\n<pre><code>Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\n    .map(Rectangle::xProperty)\n    .min(Comparator.comparing(Double::getValue));\n</code></pre>\n<p>(get a stream of the x properties, and then choose the one with the minimum value)</p>\n<p>Equivalently:</p>\n<pre><code>Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\n    .min(Comparator.comparing(Rectangle::getX))\n    .map(Rectangle::xProperty);\n</code></pre>\n<p>(choose the rectangle with the minimum x, and then get its x property).</p>\n<p>Note, however, that these probably don't do what you want. The minimum x value will be found at the time that code is executed, and you get the <code>DoubleProperty</code> that wraps that value. If another rectangle with a smaller <code>x</code> value is added to the list, you still have a reference to the original <code>DoubleProperty</code>; similarly if the x-value of the rectangle corresponding to the property you received is changed so it is no longer the minimum, then your property will no longer represent the minimum value.</p>\n<p>I'm assuming that what you want is a value which can be observed (you can register listeners with it) and which updates if either the list changes or if the <code>x</code> property of any rectangles in the list change.</p>\n<p>You can create a binding that does this. You need to create an observable list with an <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)\" rel=\"nofollow noreferrer\">extractor</a> so that the binding can be invalidated when either the list changes, or the <code>xProperty()</code> of any of the rectangles in the list change.</p>\n<p>Then use <code>Bindings.createDoubleBinding()</code> with a function that computes the minimum value and binds to the list:</p>\n<pre><code>public static void main(String[] args) {\n\n    Random rnd = new Random();\n\n    // create list with an extractor:\n    ObservableList&lt;Rectangle&gt; rectangles =\n            FXCollections.observableArrayList(rect -&gt; new Observable[] { rect.xProperty()});\n\n\n    DoubleBinding minX = Bindings.createDoubleBinding(\n            () -&gt; rectangles.stream()\n                    .mapToDouble(Rectangle::getX)\n                    .min()\n                    .orElse(Double.POSITIVE_INFINITY),\n            rectangles\n    );\n\n    minX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;Min X changed from &quot;+oldMin+&quot; to &quot;+newMin));\n    \n    for (int i = 0; i &lt; 50; i++) {\n        rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\n    }\n}\n</code></pre>\n<p>The <code>DoubleBinding</code> will probably work for anything you need (like a <code>DoubleProperty</code> it implements <code>ObservableDoubleValue</code>, which provides almost all the API you are likely to need). It you specifically need a property, just do</p>\n<pre><code>DoubleProperty minXProperty = new SimpleDoubleProperty();\nminXProperty.bind(minX);\n</code></pre>\n"}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76507216,"answer_count":1,"score":1,"last_activity_date":1687189269,"creation_date":1687181394,"question_id":76507114,"body_markdown":"Is there any way to fetch the minimum of a `Stream` (or `List`, `Set`, `ArrayList`) of `DoubleProperty` and write it into a `DoubleProperty` variable?\r\n\r\nIn particular, I have an `ArrayList` of JavaFX Rectangles and I want to write the minimum of `xProperty()` of these Rectangles into a `DoubleProperty` variable. I tried the following code\r\n\r\n```\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.scene.shape.Rectangle;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.stream.Stream;\r\npublic class Test4 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random rnd = new Random();\r\n\r\n        List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 50; i++) {\r\n            rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\r\n        }\r\n\r\n        Optional&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, the line `Stream&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();` raises the following error:\r\n\r\n`&#39;min(java.util.Comparator? super javafx.beans.property.DoubleProperty&gt;)&#39; in &#39;java.util.stream.Stream&#39; cannot be applied to &#39;()&#39;`\r\n\r\nIs there anyway to tackle this problem?\r\n\r\n","title":"Minimum of a Stream of DoubleProperty as a DoubleProperty","body":"<p>Is there any way to fetch the minimum of a <code>Stream</code> (or <code>List</code>, <code>Set</code>, <code>ArrayList</code>) of <code>DoubleProperty</code> and write it into a <code>DoubleProperty</code> variable?</p>\n<p>In particular, I have an <code>ArrayList</code> of JavaFX Rectangles and I want to write the minimum of <code>xProperty()</code> of these Rectangles into a <code>DoubleProperty</code> variable. I tried the following code</p>\n<pre><code>import javafx.beans.property.DoubleProperty;\nimport javafx.scene.shape.Rectangle;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.stream.Stream;\npublic class Test4 {\n\n    public static void main(String[] args) {\n\n        Random rnd = new Random();\n\n        List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 50; i++) {\n            rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\n        }\n\n        Optional&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();\n\n    }\n\n}\n</code></pre>\n<p>However, the line <code>Stream&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();</code> raises the following error:</p>\n<p><code>'min(java.util.Comparator? super javafx.beans.property.DoubleProperty&gt;)' in 'java.util.stream.Stream' cannot be applied to '()'</code></p>\n<p>Is there anyway to tackle this problem?</p>\n"},{"tags":["java","lambda","java-8","java-stream","predicate"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":1,"creation_date":1404390847,"post_id":24553761,"comment_id":38027532,"body_markdown":"[possible duplicate](http://stackoverflow.com/q/24396544/1113392)","body":"<a href=\"http://stackoverflow.com/q/24396544/1113392\">possible duplicate</a>"},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":1,"creation_date":1404390983,"post_id":24553761,"comment_id":38027629,"body_markdown":"@A4L: It&#39;s not a duplicate, I am asking how to use multiple filters when you don&#39;t know how many filters there will be. If it was only one ore two, I already know the answer.","body":"@A4L: It&#39;s not a duplicate, I am asking how to use multiple filters when you don&#39;t know how many filters there will be. If it was only one ore two, I already know the answer."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1404391164,"post_id":24553761,"comment_id":38027763,"body_markdown":"You can build the composite filter using `.or` in a loop.","body":"You can build the composite filter using <code>.or</code> in a loop."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1404391228,"post_id":24553761,"comment_id":38027802,"body_markdown":"How do you create list of predicates? Can&#39;t you use instead something like `Predicate&lt;Thing&gt; allPredicates` and add to it rest of predicates thanks to `allPredicates.and(predicate);` or `allPredicates.or(predicate);` and then use `allPredicates` in `filter`?","body":"How do you create list of predicates? Can&#39;t you use instead something like <code>Predicate&lt;Thing&gt; allPredicates</code> and add to it rest of predicates thanks to <code>allPredicates.and(predicate);</code> or <code>allPredicates.or(predicate);</code> and then use <code>allPredicates</code> in <code>filter</code>?"},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":0,"creation_date":1404391423,"post_id":24553761,"comment_id":38027946,"body_markdown":"@Pshemo: That&#39;s exactly what I am asking about. How to create this on the fly? I will have a list of predicates created by external consumer of the class and I need to create sort of uber-predicate. That&#39;s what I did actually, but it doesn&#39;t look good.","body":"@Pshemo: That&#39;s exactly what I am asking about. How to create this on the fly? I will have a list of predicates created by external consumer of the class and I need to create sort of uber-predicate. That&#39;s what I did actually, but it doesn&#39;t look good."},{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1404391536,"post_id":24553761,"comment_id":38028044,"body_markdown":"@PawełDyda well you could try to build `PredicateCain`, something like apache&#39;s ComparatorCahin with a variable length argument","body":"@PawełDyda well you could try to build <code>PredicateCain</code>, something like apache&#39;s ComparatorCahin with a variable length argument"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1404670678,"creation_date":1404391583,"answer_id":24554095,"question_id":24553761,"body_markdown":"I am assuming your `Filter` is a type distinct from `java.util.function.Predicate`, which means it needs to be adapted to it. One approach which will work goes like this:\r\n\r\n    things.stream().filter(t -&gt; filtersCollection.stream().anyMatch(f -&gt; f.test(t)));\r\n\r\nThis incurs a slight performance hit of recreating the filter stream for each predicate evaluation. To avoid that you could wrap each filter into a `Predicate` and compose them:\r\n\r\n    things.stream().filter(filtersCollection.stream().&lt;Predicate&gt;map(f -&gt; f::test)\r\n                           .reduce(Predicate::or).orElse(t-&gt;false));\r\n\r\nHowever, since now each filter is behind its own `Predicate`, introducing one more level of indirection, it is not clear-cut which approach would have better overall performance.\r\n\r\nWithout the adapting concern (if your `Filter` happens to be a `Predicate`) the problem statement becomes much simpler and the second approach clearly wins out:\r\n\r\n    things.stream().filter(\r\n       filtersCollection.stream().reduce(Predicate::or).orElse(t-&gt;true)\r\n    );\r\n","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>I am assuming your <code>Filter</code> is a type distinct from <code>java.util.function.Predicate</code>, which means it needs to be adapted to it. One approach which will work goes like this:</p>\n\n<pre><code>things.stream().filter(t -&gt; filtersCollection.stream().anyMatch(f -&gt; f.test(t)));\n</code></pre>\n\n<p>This incurs a slight performance hit of recreating the filter stream for each predicate evaluation. To avoid that you could wrap each filter into a <code>Predicate</code> and compose them:</p>\n\n<pre><code>things.stream().filter(filtersCollection.stream().&lt;Predicate&gt;map(f -&gt; f::test)\n                       .reduce(Predicate::or).orElse(t-&gt;false));\n</code></pre>\n\n<p>However, since now each filter is behind its own <code>Predicate</code>, introducing one more level of indirection, it is not clear-cut which approach would have better overall performance.</p>\n\n<p>Without the adapting concern (if your <code>Filter</code> happens to be a <code>Predicate</code>) the problem statement becomes much simpler and the second approach clearly wins out:</p>\n\n<pre><code>things.stream().filter(\n   filtersCollection.stream().reduce(Predicate::or).orElse(t-&gt;true)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1404404416,"creation_date":1404404416,"answer_id":24558850,"question_id":24553761,"body_markdown":"If you have a `Collection&lt;Predicate&lt;T&gt;&gt; filters` you can always create a single predicate out of it using the process called *reduction*:\r\n\r\n    Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::and).orElse(x-&gt;true);\r\n\r\nor\r\n\r\n    Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::or).orElse(x-&gt;false);\r\n\r\ndepending on how you want to combine the filters.\r\n\r\nIf the fallback for an empty predicate collection specified in the `orElse` call fulfills the identity role (which `x-&gt;true` does for `and`ing the predicates and `x-&gt;false` does for `or`ing) you could also use `reduce(x-&gt;true, Predicate::and)` or `reduce(x-&gt;false, Predicate::or)` to get the filter but that’s slightly less efficient for very small collections as it would always combine the identity predicate with the collection’s predicate even if it contains only one predicate. In contrast, the variant `reduce(accumulator).orElse(fallback)` shown above will return the single predicate if the collection has size `1`.\r\n\r\n---\r\nNote how this pattern applies to similar problems as well: Having a `Collection&lt;Consumer&lt;T&gt;&gt;` you can create a single `Consumer&lt;T&gt;` using\r\n\r\n    Consumer&lt;T&gt; c=consumers.stream().reduce(Consumer::andThen).orElse(x-&gt;{});\r\n\r\nEtc.","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>If you have a <code>Collection&lt;Predicate&lt;T&gt;&gt; filters</code> you can always create a single predicate out of it using the process called <em>reduction</em>:</p>\n\n<pre><code>Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::and).orElse(x-&gt;true);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::or).orElse(x-&gt;false);\n</code></pre>\n\n<p>depending on how you want to combine the filters.</p>\n\n<p>If the fallback for an empty predicate collection specified in the <code>orElse</code> call fulfills the identity role (which <code>x-&gt;true</code> does for <code>and</code>ing the predicates and <code>x-&gt;false</code> does for <code>or</code>ing) you could also use <code>reduce(x-&gt;true, Predicate::and)</code> or <code>reduce(x-&gt;false, Predicate::or)</code> to get the filter but that’s slightly less efficient for very small collections as it would always combine the identity predicate with the collection’s predicate even if it contains only one predicate. In contrast, the variant <code>reduce(accumulator).orElse(fallback)</code> shown above will return the single predicate if the collection has size <code>1</code>.</p>\n\n<hr>\n\n<p>Note how this pattern applies to similar problems as well: Having a <code>Collection&lt;Consumer&lt;T&gt;&gt;</code> you can create a single <code>Consumer&lt;T&gt;</code> using</p>\n\n<pre><code>Consumer&lt;T&gt; c=consumers.stream().reduce(Consumer::andThen).orElse(x-&gt;{});\n</code></pre>\n\n<p>Etc.</p>\n"},{"tags":[],"owner":{"account_id":97334,"reputation":1843,"user_id":264069,"accept_rate":86,"display_name":"Gunith D"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450151608,"creation_date":1450092826,"answer_id":34266010,"question_id":24553761,"body_markdown":"This is an interesting way of solving this problem, (directly pasting from http://www.leveluplunch.com/java/tutorials/006-how-to-filter-arraylist-stream-java8/). I think this is a more efficient way.\r\n\r\n    Predicate&lt;BBTeam&gt; nonNullPredicate = Objects::nonNull;\r\n    Predicate&lt;BBTeam&gt; nameNotNull = p -&gt; p.teamName != null;\r\n    Predicate&lt;BBTeam&gt; teamWIPredicate = p -&gt; p.teamName.equals(&quot;Wisconsin&quot;);\r\n\r\n    Predicate&lt;BBTeam&gt; fullPredicate = nonNullPredicate.and(nameNotNull)\r\n            .and(teamWIPredicate);\r\n\r\n    List&lt;BBTeam&gt; teams2 = teams.stream().filter(fullPredicate)\r\n            .collect(Collectors.toList());\r\n\r\nEDIT: Here&#39;s how to deal with loops where predicatesToIgnore is a List of predicates. I create a single predicate predicateToIgnore from it.\r\n\r\n    Predicate&lt;T&gt; predicateToIgnore = null;\r\n    for (Predicate&lt;T&gt; predicate : predicatesToIgnore) {\r\n\t\tpredicateToIgnore = predicateToIgnore == null ? predicate : predicateToIgnore.or(predicate);\r\n\t}\r\n\r\nThen, do a filter with this single predicate. This creates a better filter IMHO","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>This is an interesting way of solving this problem, (directly pasting from <a href=\"http://www.leveluplunch.com/java/tutorials/006-how-to-filter-arraylist-stream-java8/\" rel=\"noreferrer\">http://www.leveluplunch.com/java/tutorials/006-how-to-filter-arraylist-stream-java8/</a>). I think this is a more efficient way.</p>\n\n<pre><code>Predicate&lt;BBTeam&gt; nonNullPredicate = Objects::nonNull;\nPredicate&lt;BBTeam&gt; nameNotNull = p -&gt; p.teamName != null;\nPredicate&lt;BBTeam&gt; teamWIPredicate = p -&gt; p.teamName.equals(\"Wisconsin\");\n\nPredicate&lt;BBTeam&gt; fullPredicate = nonNullPredicate.and(nameNotNull)\n        .and(teamWIPredicate);\n\nList&lt;BBTeam&gt; teams2 = teams.stream().filter(fullPredicate)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>EDIT: Here's how to deal with loops where predicatesToIgnore is a List of predicates. I create a single predicate predicateToIgnore from it.</p>\n\n<pre><code>Predicate&lt;T&gt; predicateToIgnore = null;\nfor (Predicate&lt;T&gt; predicate : predicatesToIgnore) {\n    predicateToIgnore = predicateToIgnore == null ? predicate : predicateToIgnore.or(predicate);\n}\n</code></pre>\n\n<p>Then, do a filter with this single predicate. This creates a better filter IMHO</p>\n"},{"tags":[],"owner":{"account_id":3407080,"reputation":598,"user_id":2857899,"accept_rate":40,"display_name":"Uziel Sulkies"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1506949886,"creation_date":1497882719,"answer_id":44633333,"question_id":24553761,"body_markdown":"I&#39;ve managed to solve such a problem, if a user wants to apply a list of predicates in one filter operation, a list which can be dynamic and not given, that should be reduced into one predicate - like this:\r\n\r\n    public class TestPredicates {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n            System.out.println(numbers.stream()\r\n                    .filter(combineFilters(x -&gt; x &gt; 2, x -&gt; x &lt; 9, x -&gt; x % 2 == 1))\r\n                    .collect(Collectors.toList()));\r\n        }\r\n\r\n        public static &lt;T&gt; Predicate&lt;T&gt; combineFilters(Predicate&lt;T&gt;... predicates) {\r\n\r\n            Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; true, Predicate::and);\r\n            return p;\r\n\r\n        }\r\n    }\r\n\r\nNote that this will combine them with an &quot;AND&quot; logic operator.\r\nTo combine with an &quot;OR&quot; the reduce line should be:\r\n\r\n    Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; false, Predicate::or);","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>I've managed to solve such a problem, if a user wants to apply a list of predicates in one filter operation, a list which can be dynamic and not given, that should be reduced into one predicate - like this:</p>\n\n<pre><code>public class TestPredicates {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n        System.out.println(numbers.stream()\n                .filter(combineFilters(x -&gt; x &gt; 2, x -&gt; x &lt; 9, x -&gt; x % 2 == 1))\n                .collect(Collectors.toList()));\n    }\n\n    public static &lt;T&gt; Predicate&lt;T&gt; combineFilters(Predicate&lt;T&gt;... predicates) {\n\n        Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; true, Predicate::and);\n        return p;\n\n    }\n}\n</code></pre>\n\n<p>Note that this will combine them with an \"AND\" logic operator.\nTo combine with an \"OR\" the reduce line should be:</p>\n\n<pre><code>Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; false, Predicate::or);\n</code></pre>\n"}],"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71976,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":24554095,"answer_count":4,"score":59,"last_activity_date":1687189260,"creation_date":1404390643,"question_id":24553761,"body_markdown":"How can I apply multiple predicates to a `java.util.Stream&#39;s` `filter()` method?\r\n\r\nThis is what I do now, but I don&#39;t really like it. I have a `Collection` of things, and I need to reduce the number of things based on the `Collection` of filters (predicates):\r\n\r\n    Collection&lt;Thing&gt; things = someGenerator.someMethod();\r\n    List&lt;Thing&gt; filtered = things.parallelStream().filter(p -&gt; {\r\n       for (Filter f : filtersCollection) {\r\n          if (f.test(p))\r\n            return true;\r\n       }\r\n       return false;\r\n    }).collect(Collectors.toList());\r\n\r\nI know that if I knew number of filters up-front, I could do something like this:\r\n\r\n    List&lt;Thing&gt; filtered = things.parallelStream().filter(filter1).or(filter2).or(filter3)).collect(Collectors.toList());\r\n\r\nBut how can I apply an unknown number of predicates without mixing programming styles? For now, it looks sort of ugly...\r\n\r\n","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>How can I apply multiple predicates to a <code>java.util.Stream's</code> <code>filter()</code> method?</p>\n<p>This is what I do now, but I don't really like it. I have a <code>Collection</code> of things, and I need to reduce the number of things based on the <code>Collection</code> of filters (predicates):</p>\n<pre><code>Collection&lt;Thing&gt; things = someGenerator.someMethod();\nList&lt;Thing&gt; filtered = things.parallelStream().filter(p -&gt; {\n   for (Filter f : filtersCollection) {\n      if (f.test(p))\n        return true;\n   }\n   return false;\n}).collect(Collectors.toList());\n</code></pre>\n<p>I know that if I knew number of filters up-front, I could do something like this:</p>\n<pre><code>List&lt;Thing&gt; filtered = things.parallelStream().filter(filter1).or(filter2).or(filter3)).collect(Collectors.toList());\n</code></pre>\n<p>But how can I apply an unknown number of predicates without mixing programming styles? For now, it looks sort of ugly...</p>\n"},{"tags":["java","javafx","apache-poi","javafx-17"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1665142392,"post_id":73984359,"comment_id":130635995,"body_markdown":"Are you using [Gradle](https://gradle.org/) or [Maven](https://maven.apache.org/) or similar? Do you have a [module-info.java](https://www.oracle.com/corporate/features/understanding-java-9-modules.html) file? if you are running your app from IntelliJ, look at the command that IntelliJ executes in order to run your app.","body":"Are you using <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a> or similar? Do you have a <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">module-info.java</a> file? if you are running your app from IntelliJ, look at the command that IntelliJ executes in order to run your app."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1665146490,"post_id":73984359,"comment_id":130637490,"body_markdown":"Please post _listings_, not _pictures_ of listings unless [relevant](https://meta.stackoverflow.com/q/285551/230513). When you say _interchanging_, do you mean _repeating_, as if trying to resolve circular dependencies?","body":"Please post <i>listings</i>, not <i>pictures</i> of listings unless <a href=\"https://meta.stackoverflow.com/q/285551/230513\">relevant</a>. When you say <i>interchanging</i>, do you mean <i>repeating</i>, as if trying to resolve circular dependencies?"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1665168359,"post_id":73984359,"comment_id":130644793,"body_markdown":"Consider prodding the maintainer of SparseBitSet to merge the months old pull request that may fix this issue: https://github.com/brettwooldridge/SparseBitSet/pull/22","body":"Consider prodding the maintainer of SparseBitSet to merge the months old pull request that may fix this issue: <a href=\"https://github.com/brettwooldridge/SparseBitSet/pull/22\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/SparseBitSet/pull/22</a>"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1665168896,"post_id":73984359,"comment_id":130644952,"body_markdown":"Apache maintainers could fix their part too: https://issues.apache.org/jira/projects/MATH/issues/MATH-1486","body":"Apache maintainers could fix their part too: <a href=\"https://issues.apache.org/jira/projects/MATH/issues/MATH-1486\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/MATH/issues/MATH-1486</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1665294217,"creation_date":1665166399,"answer_id":73991163,"question_id":73984359,"body_markdown":"[SparseBitSet](https://github.com/brettwooldridge/SparseBitSet) is an [automatic module](https://stackoverflow.com/questions/46741907/what-is-an-automatic-module), it has no module-info of its own (probably commons-math3 is as well), and is without an Automatic-Module-Name entry in its manifest.\r\n\r\nGradle puts libraries without a module-info.class or an Automatic-Module-Name in their manifest on the class path, not the module path, so they won&#39;t be treated as modules, and the module finder won&#39;t find them.  \r\n\r\nYou can: \r\n\r\n 1. [hack the gradle build](https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html) to allow the modules to be found.  (I don&#39;t use Gradle so I have no specific advice on how to do that other than referring to the documentation).\r\n 2. Hack the library jar which you want to be treated as a module to include a module-info.class or an Automatic-Module-Name in its manifest.\r\n 3. Or, switch to maven, which automatically places automatic modules on the module path.\r\n    * The easiest way to do this, IMO, is to create a [new JavaFX project in Idea](https://www.jetbrains.com/help/idea/javafx.html), then add the required dependencies as maven dependencies and add your code.\r\n 4. Or, as swpalmer suggests in the comments, request that library maintainers update their codebase to make their libraries modular.\r\n\r\nAnd, when you run your app, make sure all jars are on the module path, not the class path.\r\n\r\nOr, make your app non-modular by removing the module-info.java from it, then manually place the JavaFX modules on the module-path and add them with the `--add-modules` switch.\r\n\r\n**FAQ**\r\n\r\n&gt; Are you SURE that automatic modules are put on the class path by Gradle? \r\n\r\n From the [Gradle documentation section Building Modules for the Java Module System][1]:\r\n \r\n&gt; To tell the Java compiler that a Jar is a module, as opposed to a\r\n&gt; traditional Java library, Gradle needs to place it on the so called\r\n&gt; module path. It is an alternative to the classpath, which is the\r\n&gt; traditional way to tell the compiler about compiled dependencies.\r\n&gt; Gradle will automatically put a Jar of your dependencies on the module\r\n&gt; path, instead of the classpath, if these three things are true:\r\n&gt; \r\n&gt;  * java.modularity.inferModulePath is not turned off\r\n&gt; \r\n&gt;  * We are actually building a module (as opposed to a traditional\r\n&gt; library) which we expressed by adding the module-info.java file.\r\n&gt; (Another option is to add the Automatic-Module-Name Jar manifest\r\n&gt; attribute as described further down.)\r\n&gt; \r\n&gt;  * The Jar our module depends on is itself a module, which Gradles\r\n&gt; decides based on the presence of a module-info.class — the compiled\r\n&gt; version of the module descriptor — in the Jar. (Or, alternatively, the\r\n&gt; presence of an Automatic-Module-Name attribute the Jar manifest)\r\n\r\nIt is the third point that is key.  Java can treat a library with no module-info.class and no Automatic-Module-Name in the Jar manifest as an automatic module if it is on the module path.  However, Gradle will by default, only place libraries which fulfill one of those two conditions on the module path.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules","title":"Unable to launch a JavaFX application which uses Apache POI","body":"<p><a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"nofollow noreferrer\">SparseBitSet</a> is an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a>, it has no module-info of its own (probably commons-math3 is as well), and is without an Automatic-Module-Name entry in its manifest.</p>\n<p>Gradle puts libraries without a module-info.class or an Automatic-Module-Name in their manifest on the class path, not the module path, so they won't be treated as modules, and the module finder won't find them.</p>\n<p>You can:</p>\n<ol>\n<li><a href=\"https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html\" rel=\"nofollow noreferrer\">hack the gradle build</a> to allow the modules to be found.  (I don't use Gradle so I have no specific advice on how to do that other than referring to the documentation).</li>\n<li>Hack the library jar which you want to be treated as a module to include a module-info.class or an Automatic-Module-Name in its manifest.</li>\n<li>Or, switch to maven, which automatically places automatic modules on the module path.\n<ul>\n<li>The easiest way to do this, IMO, is to create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project in Idea</a>, then add the required dependencies as maven dependencies and add your code.</li>\n</ul>\n</li>\n<li>Or, as swpalmer suggests in the comments, request that library maintainers update their codebase to make their libraries modular.</li>\n</ol>\n<p>And, when you run your app, make sure all jars are on the module path, not the class path.</p>\n<p>Or, make your app non-modular by removing the module-info.java from it, then manually place the JavaFX modules on the module-path and add them with the <code>--add-modules</code> switch.</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>Are you SURE that automatic modules are put on the class path by Gradle?</p>\n</blockquote>\n<p>From the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\" rel=\"nofollow noreferrer\">Gradle documentation section Building Modules for the Java Module System</a>:</p>\n<blockquote>\n<p>To tell the Java compiler that a Jar is a module, as opposed to a\ntraditional Java library, Gradle needs to place it on the so called\nmodule path. It is an alternative to the classpath, which is the\ntraditional way to tell the compiler about compiled dependencies.\nGradle will automatically put a Jar of your dependencies on the module\npath, instead of the classpath, if these three things are true:</p>\n<ul>\n<li><p>java.modularity.inferModulePath is not turned off</p>\n</li>\n<li><p>We are actually building a module (as opposed to a traditional\nlibrary) which we expressed by adding the module-info.java file.\n(Another option is to add the Automatic-Module-Name Jar manifest\nattribute as described further down.)</p>\n</li>\n<li><p>The Jar our module depends on is itself a module, which Gradles\ndecides based on the presence of a module-info.class — the compiled\nversion of the module descriptor — in the Jar. (Or, alternatively, the\npresence of an Automatic-Module-Name attribute the Jar manifest)</p>\n</li>\n</ul>\n</blockquote>\n<p>It is the third point that is key.  Java can treat a library with no module-info.class and no Automatic-Module-Name in the Jar manifest as an automatic module if it is on the module path.  However, Gradle will by default, only place libraries which fulfill one of those two conditions on the module path.</p>\n"},{"tags":[],"owner":{"account_id":4881147,"reputation":340,"user_id":3934903,"display_name":"Joseph Sang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687189092,"creation_date":1665310950,"answer_id":74003929,"question_id":73984359,"body_markdown":"Using [jewelsea][1]&#39;s answer above, I have been able to solve the problem. I am posting the answer here to help anyone else who encounters the problem in future.\r\n\r\nSo, the overall problem is, as said in the answer above, both *SparseBitSet* and *commons-math3* are automatic modules with no **module-info** of their own. The solution that worked for me was to convert them into the modules expected by the project. Here are the steps I took:\r\n\r\n 1. Use a gradle plugin [&#39;extra-java-module-info&#39;][2]. The github page didn&#39;t show how to import it to a normal gradle file so here it is:\r\n\r\n    ```\r\n    plugins {\r\n           id &#39;org.gradlex.extra-java-module-info&#39; version &#39;1.0&#39;\r\n    }\r\n 2. Note the names that your application expects for the modules. In my case, from the error messages thrown, they were *&#39;SparseBitSet&#39;* and *&#39;commons-math3&#39;*\r\n 3. Locate the said libraries on the sidebar under &#39;external libraries&#39; and note the &#39;jar&#39; file names. In my case, they were *&#39;commons-math3-3.6.1.jar&#39;* and *&#39;SparseBitSet-1.2.jar&#39;*.[![See this image][3]][3] \r\n 4. Add a section `&#39;extraJavaModuleInfo&#39;` to your gradle files and use the parameters as follows: `module(&#39;jar file name&#39;, &#39;name expected by your project&#39;, &#39;jar version&#39;)`, as shown in the blue rectangle in the image above.\r\n\r\n    ```\r\n    extraJavaModuleInfo {\r\n        failOnMissingModuleInfo.set(false)\r\n        module(&#39;commons-math3-3.6.1.jar&#39;, &#39;commons.math3&#39;, &#39;3.6.1&#39;)\r\n        module(&#39;SparseBitSet-1.2.jar&#39;, &#39;SparseBitSet&#39;, &#39;1.2&#39;)\r\n    }\r\n\r\nThat&#39;s it. Try to sync and run your project. Thanks [jewelsea][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1155209/jewelsea\r\n  [2]: https://github.com/gradlex-org/extra-java-module-info\r\n  [3]: https://i.stack.imgur.com/JkNw9.png","title":"Unable to launch a JavaFX application which uses Apache POI","body":"<p>Using <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">jewelsea</a>'s answer above, I have been able to solve the problem. I am posting the answer here to help anyone else who encounters the problem in future.</p>\n<p>So, the overall problem is, as said in the answer above, both <em>SparseBitSet</em> and <em>commons-math3</em> are automatic modules with no <strong>module-info</strong> of their own. The solution that worked for me was to convert them into the modules expected by the project. Here are the steps I took:</p>\n<ol>\n<li><p>Use a gradle plugin <a href=\"https://github.com/gradlex-org/extra-java-module-info\" rel=\"nofollow noreferrer\">'extra-java-module-info'</a>. The github page didn't show how to import it to a normal gradle file so here it is:</p>\n<pre><code>plugins {\n       id 'org.gradlex.extra-java-module-info' version '1.0'\n}\n</code></pre>\n</li>\n<li><p>Note the names that your application expects for the modules. In my case, from the error messages thrown, they were <em>'SparseBitSet'</em> and <em>'commons-math3'</em></p>\n</li>\n<li><p>Locate the said libraries on the sidebar under 'external libraries' and note the 'jar' file names. In my case, they were <em>'commons-math3-3.6.1.jar'</em> and <em>'SparseBitSet-1.2.jar'</em>.<a href=\"https://i.stack.imgur.com/JkNw9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JkNw9.png\" alt=\"See this image\" /></a></p>\n</li>\n<li><p>Add a section <code>'extraJavaModuleInfo'</code> to your gradle files and use the parameters as follows: <code>module('jar file name', 'name expected by your project', 'jar version')</code>, as shown in the blue rectangle in the image above.</p>\n<pre><code>extraJavaModuleInfo {\n    failOnMissingModuleInfo.set(false)\n    module('commons-math3-3.6.1.jar', 'commons.math3', '3.6.1')\n    module('SparseBitSet-1.2.jar', 'SparseBitSet', '1.2')\n}\n\n</code></pre>\n</li>\n</ol>\n<p>That's it. Try to sync and run your project. Thanks <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">jewelsea</a>.</p>\n"}],"owner":{"account_id":4881147,"reputation":340,"user_id":3934903,"display_name":"Joseph Sang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1687189092,"creation_date":1665130958,"question_id":73984359,"body_markdown":"I have a JavaFX application that works as expected. I need to use Apache POI to read and write excel files. The following are the steps I have taken:\r\n\r\n1. Added the required dependency\r\n\r\n    `implementation &#39;org.apache.poi:poi-ooxml:5.2.3&#39;`\r\n\r\n2. Added the module to module-info.java\r\n\r\n    `requires org.apache.poi.ooxml;`\r\n\r\n3. Tried to use the library within a function:\r\n```\r\n@FXML\r\nprivate void downloadTemplate() {\r\n    XSSFWorkbook workbook = new XSSFWorkbook();\r\n}\r\n```\r\n\r\nAll this is fine with no issues. However when I try to run the application, I get the following two errors (interchanging)\r\n\r\n    &gt; Task :Start.main() FAILED\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.ooxml\r\n\r\nand\r\n\r\n    &gt; Task :Start.main() FAILED\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.ooxml\r\n\r\nI can however, clearly see both libraries under &#39;external libraries&#39;\r\n[![Expanded libraries view][1]][1]\r\n\r\nI am using IntelliJ Community Edition 2022.1.2 and running the project using Java 17.0.1. Any help would be highly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cy9CG.png","title":"Unable to launch a JavaFX application which uses Apache POI","body":"<p>I have a JavaFX application that works as expected. I need to use Apache POI to read and write excel files. The following are the steps I have taken:</p>\n<ol>\n<li><p>Added the required dependency</p>\n<p><code>implementation 'org.apache.poi:poi-ooxml:5.2.3'</code></p>\n</li>\n<li><p>Added the module to module-info.java</p>\n<p><code>requires org.apache.poi.ooxml;</code></p>\n</li>\n<li><p>Tried to use the library within a function:</p>\n</li>\n</ol>\n<pre><code>@FXML\nprivate void downloadTemplate() {\n    XSSFWorkbook workbook = new XSSFWorkbook();\n}\n</code></pre>\n<p>All this is fine with no issues. However when I try to run the application, I get the following two errors (interchanging)</p>\n<pre><code>&gt; Task :Start.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.ooxml\n</code></pre>\n<p>and</p>\n<pre><code>&gt; Task :Start.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.ooxml\n</code></pre>\n<p>I can however, clearly see both libraries under 'external libraries'\n<a href=\"https://i.stack.imgur.com/Cy9CG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy9CG.png\" alt=\"Expanded libraries view\" /></a></p>\n<p>I am using IntelliJ Community Edition 2022.1.2 and running the project using Java 17.0.1. Any help would be highly appreciated.</p>\n"},{"tags":["java","docx4j","html-to-text"],"answers":[{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1485783048,"creation_date":1485783048,"answer_id":41937149,"question_id":41850921,"body_markdown":"I corrected my code as below:\r\n\r\n1. Use ByteArrayStream instead of FileOutputStream i.e.\r\n\r\n**Instead of** \r\n\r\n    fos = new FileOutputStream(actualFile);\r\n                wordMLPackage.getMainDocumentPart().getContent().addAll( \r\n                        XHTMLImporter.convert( xhtml, null) );\r\n\r\n**Use:** \r\n\r\n    fos = new ByteArrayOutputStream();\r\n\r\n2. Add wordMLPackage.save(actualFile) \r\n\r\n**Full code**:\r\n\r\n    public static void xhtmlToDocx1(String xhtml, String destinationPath, String fileName)\r\n    \t{\r\n    \t\tFile dir = new File (destinationPath);\r\n    \t\tFile actualFile = new File (dir, fileName);\r\n    \t\t\r\n    \t\tWordprocessingMLPackage wordMLPackage = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twordMLPackage = WordprocessingMLPackage.createPackage();\r\n    \t\t}\r\n    \t\tcatch (InvalidFormatException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\tXHTMLImporterImpl XHTMLImporter = new XHTMLImporterImpl(wordMLPackage);\r\n    \t\t\r\n    \t\tOutputStream fos = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tfos = new ByteArrayOutputStream();\r\n    \r\n    \t\t\tSystem.out.println(XmlUtils.marshaltoString(wordMLPackage\r\n    \t\t\t\t\t.getMainDocumentPart().getJaxbElement(), true, true));\r\n    \r\n    \t\t\t\t\t\tHTMLSettings htmlSettings = Docx4J.createHTMLSettings();\r\n    \t\t\thtmlSettings.setWmlPackage(wordMLPackage);\r\n      Docx4jProperties.setProperty(&quot;docx4j.Convert.Out.HTML.OutputMethodXML&quot;,\r\n    \t\t\t\t\ttrue);\r\n    \t\t\tDocx4J.toHTML(htmlSettings, fos, Docx4J.FLAG_EXPORT_PREFER_XSL);\r\n    \t\t\twordMLPackage.save(actualFile);\t\r\n    \t\t}\r\n    \t\tcatch (Docx4JException e)\r\n    \t\t{\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tfinally{\r\n                try {\r\n                    fos.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \t}","title":"Instead of rendering tables and other html tags in docx these are saved as plain text using docx4j-ImportXHTML","body":"<p>I corrected my code as below:</p>\n\n<ol>\n<li>Use ByteArrayStream instead of FileOutputStream i.e.</li>\n</ol>\n\n<p><strong>Instead of</strong> </p>\n\n<pre><code>fos = new FileOutputStream(actualFile);\n            wordMLPackage.getMainDocumentPart().getContent().addAll( \n                    XHTMLImporter.convert( xhtml, null) );\n</code></pre>\n\n<p><strong>Use:</strong> </p>\n\n<pre><code>fos = new ByteArrayOutputStream();\n</code></pre>\n\n<ol start=\"2\">\n<li>Add wordMLPackage.save(actualFile) </li>\n</ol>\n\n<p><strong>Full code</strong>:</p>\n\n<pre><code>public static void xhtmlToDocx1(String xhtml, String destinationPath, String fileName)\n    {\n        File dir = new File (destinationPath);\n        File actualFile = new File (dir, fileName);\n\n        WordprocessingMLPackage wordMLPackage = null;\n        try\n        {\n            wordMLPackage = WordprocessingMLPackage.createPackage();\n        }\n        catch (InvalidFormatException e)\n        {\n            e.printStackTrace();\n        }\n\n\n        XHTMLImporterImpl XHTMLImporter = new XHTMLImporterImpl(wordMLPackage);\n\n        OutputStream fos = null;\n        try\n        {\n            fos = new ByteArrayOutputStream();\n\n            System.out.println(XmlUtils.marshaltoString(wordMLPackage\n                    .getMainDocumentPart().getJaxbElement(), true, true));\n\n                        HTMLSettings htmlSettings = Docx4J.createHTMLSettings();\n            htmlSettings.setWmlPackage(wordMLPackage);\n  Docx4jProperties.setProperty(\"docx4j.Convert.Out.HTML.OutputMethodXML\",\n                    true);\n            Docx4J.toHTML(htmlSettings, fos, Docx4J.FLAG_EXPORT_PREFER_XSL);\n            wordMLPackage.save(actualFile); \n        }\n        catch (Docx4JException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        finally{\n            try {\n                fos.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41937149,"answer_count":1,"score":2,"last_activity_date":1687189079,"creation_date":1485345063,"question_id":41850921,"body_markdown":"I want to render html code to docx. Instead of rendering html(i.e. tables in tabular format) it simply writes html code in it as plain text. I am using docx4j-ImportXHTML jar. I used the code from [here][1] and modified it to save in a file. \r\n\r\nWhat am I doing wrong?\r\n\r\n    public static void xhtmlToDocx(String xhtml, String destinationPath, String fileName)\r\n    \t{\r\n    \t\tFile dir = new File (destinationPath);\r\n    \t\tFile actualFile = new File (dir, fileName);\r\n    \t\t\r\n    \t\tWordprocessingMLPackage wordMLPackage = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twordMLPackage = WordprocessingMLPackage.createPackage();\r\n    \t\t}\r\n    \t\tcatch (InvalidFormatException e)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tXHTMLImporterImpl XHTMLImporter = new XHTMLImporterImpl(wordMLPackage);\r\n    \t\t//XHTMLImporter.setDivHandler(new DivToSdt());\r\n    \t\t//OutputStream os = null;\r\n    \t\tOutputStream fos = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tfos = new FileOutputStream(actualFile);\r\n    \t\t\twordMLPackage.getMainDocumentPart().getContent().addAll( \r\n    \t\t\t\t\tXHTMLImporter.convert( xhtml, null) );\r\n    \r\n    \t\t\tSystem.out.println(XmlUtils.marshaltoString(wordMLPackage\r\n    \t\t\t\t\t.getMainDocumentPart().getJaxbElement(), true, true));\r\n    \t\t\t// Back to XHTML\r\n    \r\n    \t\t\tHTMLSettings htmlSettings = Docx4J.createHTMLSettings();\r\n    \t\t\thtmlSettings.setWmlPackage(wordMLPackage);\r\n    \r\n    \r\n    \t\t\t// output to an OutputStream.\r\n    \t\t\t//os = new ByteArrayOutputStream();\r\n    \r\n    \t\t\t// If you want XHTML output\r\n    \t\t\tDocx4jProperties.setProperty(&quot;docx4j.Convert.Out.HTML.OutputMethodXML&quot;,\r\n    \t\t\t\t\ttrue);\r\n    \t\t\tDocx4J.toHTML(htmlSettings, fos, Docx4J.FLAG_EXPORT_PREFER_XSL);\r\n    \t\t}\r\n    \t\tcatch (Docx4JException | FileNotFoundException e)\r\n    \t\t{\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tfinally{\r\n                try {\r\n                    fos.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \t}\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/plutext/docx4j-ImportXHTML/blob/master/src/samples/java/org/docx4j/samples/XhtmlToDocxAndBack.java","title":"Instead of rendering tables and other html tags in docx these are saved as plain text using docx4j-ImportXHTML","body":"<p>I want to render html code to docx. Instead of rendering html(i.e. tables in tabular format) it simply writes html code in it as plain text. I am using docx4j-ImportXHTML jar. I used the code from <a href=\"https://github.com/plutext/docx4j-ImportXHTML/blob/master/src/samples/java/org/docx4j/samples/XhtmlToDocxAndBack.java\" rel=\"nofollow noreferrer\">here</a> and modified it to save in a file. </p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>public static void xhtmlToDocx(String xhtml, String destinationPath, String fileName)\n    {\n        File dir = new File (destinationPath);\n        File actualFile = new File (dir, fileName);\n\n        WordprocessingMLPackage wordMLPackage = null;\n        try\n        {\n            wordMLPackage = WordprocessingMLPackage.createPackage();\n        }\n        catch (InvalidFormatException e)\n        {\n\n            e.printStackTrace();\n        }\n\n        XHTMLImporterImpl XHTMLImporter = new XHTMLImporterImpl(wordMLPackage);\n        //XHTMLImporter.setDivHandler(new DivToSdt());\n        //OutputStream os = null;\n        OutputStream fos = null;\n        try\n        {\n            fos = new FileOutputStream(actualFile);\n            wordMLPackage.getMainDocumentPart().getContent().addAll( \n                    XHTMLImporter.convert( xhtml, null) );\n\n            System.out.println(XmlUtils.marshaltoString(wordMLPackage\n                    .getMainDocumentPart().getJaxbElement(), true, true));\n            // Back to XHTML\n\n            HTMLSettings htmlSettings = Docx4J.createHTMLSettings();\n            htmlSettings.setWmlPackage(wordMLPackage);\n\n\n            // output to an OutputStream.\n            //os = new ByteArrayOutputStream();\n\n            // If you want XHTML output\n            Docx4jProperties.setProperty(\"docx4j.Convert.Out.HTML.OutputMethodXML\",\n                    true);\n            Docx4J.toHTML(htmlSettings, fos, Docx4J.FLAG_EXPORT_PREFER_XSL);\n        }\n        catch (Docx4JException | FileNotFoundException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        finally{\n            try {\n                fos.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","wildfly"],"owner":{"account_id":3877614,"reputation":181,"user_id":6951847,"display_name":"erod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687188888,"creation_date":1686794730,"question_id":76478626,"body_markdown":"I have a Dynamic Web Project 6.0 in eclipse and go to option Run as / Debug as and I can&#39;t see add to server. \r\n\r\nOnly I can to deploy if I mark the application as deployable.\r\n\r\nEnvironment \r\n&gt; Eclipse Version: 2023-03 (4.27.0) | Build id: 20230309-1520 | Oracle JDK 17\r\n\r\n[![project Structure][1]][1]\r\n\r\n\r\n[![Deployment Assembly][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vlHYQ.png\r\n  [2]: https://i.stack.imgur.com/MvASe.png\r\n\r\nLet&#39;s me know all thing that I did wrong please","title":"Eclipse Dynamic web project 6.0 is not option to deploy to server (wildfly 28)","body":"<p>I have a Dynamic Web Project 6.0 in eclipse and go to option Run as / Debug as and I can't see add to server.</p>\n<p>Only I can to deploy if I mark the application as deployable.</p>\n<p>Environment</p>\n<blockquote>\n<p>Eclipse Version: 2023-03 (4.27.0) | Build id: 20230309-1520 | Oracle JDK 17</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/vlHYQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vlHYQ.png\" alt=\"project Structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MvASe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MvASe.png\" alt=\"Deployment Assembly\" /></a></p>\n<p>Let's me know all thing that I did wrong please</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11046955,"reputation":2925,"user_id":8112679,"display_name":"Harshvardhan Joshi"},"score":0,"creation_date":1578380980,"post_id":59623651,"comment_id":105409990,"body_markdown":"Please, post you code snippets which shows how you handle the out of range data... without code snippets we can not help you out","body":"Please, post you code snippets which shows how you handle the out of range data... without code snippets we can not help you out"},{"owner":{"account_id":8568910,"reputation":85,"user_id":6420554,"display_name":"PRIYANSHI"},"score":0,"creation_date":1578384968,"post_id":59623651,"comment_id":105411382,"body_markdown":"@HarshvardhanJoshi done please look into it. :)","body":"@HarshvardhanJoshi done please look into it. :)"},{"owner":{"account_id":8568910,"reputation":85,"user_id":6420554,"display_name":"PRIYANSHI"},"score":0,"creation_date":1578386103,"post_id":59623651,"comment_id":105411841,"body_markdown":"can&#39;t we do any workaround for the same .","body":"can&#39;t we do any workaround for the same ."},{"owner":{"account_id":11046955,"reputation":2925,"user_id":8112679,"display_name":"Harshvardhan Joshi"},"score":0,"creation_date":1578386755,"post_id":59623651,"comment_id":105412148,"body_markdown":"check the answer, I found something which can help you out.","body":"check the answer, I found something which can help you out."}],"answers":[{"tags":[],"owner":{"account_id":11046955,"reputation":2925,"user_id":8112679,"display_name":"Harshvardhan Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1578470842,"creation_date":1578386519,"answer_id":59624853,"question_id":59623651,"body_markdown":"For customizing the `Circle` shape you can use following methods of the `LineDataSet`:\r\n\r\n - setCircleColor(/*some Color value*/)\r\n - setCircleRadius(/* some float value */)\r\n - setDrawCircleHole(/* boolean value */)\r\n - setDrawFilled(/* boolean value*/)\r\n\r\ntry these out, maybe you&#39;ll find something which you want. But I don&#39;t think it will allow you to change the shape completely.\r\n\r\nI have referred to this article for an example:https://www.studytutorial.in/android-line-chart-or-line-graph-using-mpandroid-library-tutorial","title":"MP Android Chart","body":"<p>For customizing the <code>Circle</code> shape you can use following methods of the <code>LineDataSet</code>:</p>\n\n<ul>\n<li>setCircleColor(/<em>some Color value</em>/)</li>\n<li>setCircleRadius(/* some float value */)</li>\n<li>setDrawCircleHole(/* boolean value */)</li>\n<li>setDrawFilled(/* boolean value*/)</li>\n</ul>\n\n<p>try these out, maybe you'll find something which you want. But I don't think it will allow you to change the shape completely.</p>\n\n<p>I have referred to this article for an example:<a href=\"https://www.studytutorial.in/android-line-chart-or-line-graph-using-mpandroid-library-tutorial\" rel=\"nofollow noreferrer\">https://www.studytutorial.in/android-line-chart-or-line-graph-using-mpandroid-library-tutorial</a></p>\n"}],"owner":{"account_id":8568910,"reputation":85,"user_id":6420554,"display_name":"PRIYANSHI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":59624853,"answer_count":1,"score":-1,"last_activity_date":1687188724,"creation_date":1578380594,"question_id":59623651,"body_markdown":"Hi I am using MPAndroid chart as charting library in my android app. I am trying to highlight some out of the range values on line dataset with different color (Picture 1)and if the value is beyond range then I want to also change marker-view drawable image also. [![Picture 1][1]][1]\r\n\r\n\r\nI have achieved this (Picture 2 ) for now I have managed to change color to red  of out of the range values. How can I achieve Picture 1 in chart? [![Picture 2][2]][2]\r\n\r\n    private void populateChart() {\r\n        chart = binding.lcCharts;\r\n        chart.setBackgroundColor(Color.WHITE);\r\n        chart.getDescription().setEnabled(false);\r\n        chart.setDoubleTapToZoomEnabled(false);\r\n        chart.setPinchZoom(false);\r\n        chart.setScaleEnabled(false);\r\n        getXAxisData()\r\n\r\n        LineData lineData = new LineData(setLineDataSet());\r\n        lineData.setDrawValues(false);\r\n\r\n        chart.setData(lineData);\r\n        chart.setTouchEnabled(true);\r\n        chart.setDrawMarkers(false);\r\n        chart.setHighlightPerTapEnabled(true);\r\n        chart.setMarker(new YourMarkerView(fragment.requireContext(), R.layout.layout_pop_up));\r\n        chart.setClipChildren(false);\r\n        chart.setClipToPadding(false);\r\n\r\n\r\n        chart.invalidate();\r\n\r\n        chart.notifyDataSetChanged();\r\n\r\n\r\n    }\r\n\r\n    private ArrayList&lt;ILineDataSet&gt; setLineDataSet() {\r\n\r\n        ArrayList&lt;ILineDataSet&gt; dataSet = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; response.size(); i++) {\r\n\r\n            LineDataSet lineDataSet = new LineDataSet(setData(i),\r\n                    response.get(i).getName());\r\n            lineDataSet.setLineWidth(3);\r\n\r\n\r\n            lineDataSet.setColor(this.getResources().getColor(colorArray[i]));\r\n            lineDataSet.setDrawCircleHole(false);\r\n            lineDataSet.setCircleRadius(4);\r\n            lineDataSet.setCircleColors(setColorOfLineDataSet(i));\r\n            dataSet.add(lineDataSet);\r\n\r\n        }\r\n\r\n\r\n        return dataSet;\r\n    }\r\n\r\n    private ArrayList&lt;Integer&gt; setColorOfLineDataSet(int i) {\r\n        ArrayList&lt;Integer&gt; color = new ArrayList&lt;Integer&gt;();\r\n\r\n        for (int j = 0; j &lt; response.get(i).size(); j++) {\r\n\r\n            if (!response.get(i).isNormal()) {\r\n                color.add(R.color.Red);\r\n            } else {\r\n                color.add(colorArray[i]);\r\n            }\r\n        }\r\n\r\n        return color;\r\n    } private void getXAxisData() {\r\n        XAxis xAxis = chart.getXAxis();\r\n        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\r\n        xAxis.setDrawAxisLine(false);\r\n        xAxis.setDrawGridLines(false);\r\n        // xAxis.setGranularity(1f);\r\n     xAxis.setValueFormatter(new MyXAxisValueFormatter(getDateArrayForXAxis()));//getDateArrayForXAxis function returns a String array of size 14 with values of dates of past two weeks.\r\n        xAxis.setLabelCount(14, true);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public class MyXAxisValueFormatter extends ValueFormatter {\r\n\r\n        private String[] mValues;\r\n\r\n        public MyXAxisValueFormatter(String[] values) {\r\n            this.mValues = values;\r\n        }\r\n\r\n\r\n        public String getFormattedValue(float value) {\r\n            String val = null;\r\n\r\n            try {\r\n                val = String.valueOf(mValues[(int) value]);\r\n\r\n            } catch (IndexOutOfBoundsException e) {\r\n            }\r\n\r\n\r\n            return val;\r\n        }\r\n\r\n        /**\r\n         * Used to draw axis labels, calls {@link #getFormattedValue(float)} by default.\r\n         *\r\n         * @param value float to be formatted\r\n         * @param axis  axis being labeled\r\n         * @return formatted string label\r\n         */\r\n\r\n        public String getAxisLabel(float value, AxisBase axis) {\r\n            return getFormattedValue(value);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\nThis code is crashing with an `ArrayIndexOutOfBoundException`.\r\n    \r\n\r\n  [1]: https://i.stack.imgur.com/h5fLU.png\r\n  [2]: https://i.stack.imgur.com/LN6Su.png","title":"MP Android Chart","body":"<p>Hi I am using MPAndroid chart as charting library in my android app. I am trying to highlight some out of the range values on line dataset with different color (Picture 1)and if the value is beyond range then I want to also change marker-view drawable image also. <a href=\"https://i.stack.imgur.com/h5fLU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h5fLU.png\" alt=\"Picture 1\" /></a></p>\n<p>I have achieved this (Picture 2 ) for now I have managed to change color to red  of out of the range values. How can I achieve Picture 1 in chart? <a href=\"https://i.stack.imgur.com/LN6Su.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LN6Su.png\" alt=\"Picture 2\" /></a></p>\n<pre><code>private void populateChart() {\n    chart = binding.lcCharts;\n    chart.setBackgroundColor(Color.WHITE);\n    chart.getDescription().setEnabled(false);\n    chart.setDoubleTapToZoomEnabled(false);\n    chart.setPinchZoom(false);\n    chart.setScaleEnabled(false);\n    getXAxisData()\n\n    LineData lineData = new LineData(setLineDataSet());\n    lineData.setDrawValues(false);\n\n    chart.setData(lineData);\n    chart.setTouchEnabled(true);\n    chart.setDrawMarkers(false);\n    chart.setHighlightPerTapEnabled(true);\n    chart.setMarker(new YourMarkerView(fragment.requireContext(), R.layout.layout_pop_up));\n    chart.setClipChildren(false);\n    chart.setClipToPadding(false);\n\n\n    chart.invalidate();\n\n    chart.notifyDataSetChanged();\n\n\n}\n\nprivate ArrayList&lt;ILineDataSet&gt; setLineDataSet() {\n\n    ArrayList&lt;ILineDataSet&gt; dataSet = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; response.size(); i++) {\n\n        LineDataSet lineDataSet = new LineDataSet(setData(i),\n                response.get(i).getName());\n        lineDataSet.setLineWidth(3);\n\n\n        lineDataSet.setColor(this.getResources().getColor(colorArray[i]));\n        lineDataSet.setDrawCircleHole(false);\n        lineDataSet.setCircleRadius(4);\n        lineDataSet.setCircleColors(setColorOfLineDataSet(i));\n        dataSet.add(lineDataSet);\n\n    }\n\n\n    return dataSet;\n}\n\nprivate ArrayList&lt;Integer&gt; setColorOfLineDataSet(int i) {\n    ArrayList&lt;Integer&gt; color = new ArrayList&lt;Integer&gt;();\n\n    for (int j = 0; j &lt; response.get(i).size(); j++) {\n\n        if (!response.get(i).isNormal()) {\n            color.add(R.color.Red);\n        } else {\n            color.add(colorArray[i]);\n        }\n    }\n\n    return color;\n} private void getXAxisData() {\n    XAxis xAxis = chart.getXAxis();\n    xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\n    xAxis.setDrawAxisLine(false);\n    xAxis.setDrawGridLines(false);\n    // xAxis.setGranularity(1f);\n xAxis.setValueFormatter(new MyXAxisValueFormatter(getDateArrayForXAxis()));//getDateArrayForXAxis function returns a String array of size 14 with values of dates of past two weeks.\n    xAxis.setLabelCount(14, true);\n\n\n}\n\n\n\n\npublic class MyXAxisValueFormatter extends ValueFormatter {\n\n    private String[] mValues;\n\n    public MyXAxisValueFormatter(String[] values) {\n        this.mValues = values;\n    }\n\n\n    public String getFormattedValue(float value) {\n        String val = null;\n\n        try {\n            val = String.valueOf(mValues[(int) value]);\n\n        } catch (IndexOutOfBoundsException e) {\n        }\n\n\n        return val;\n    }\n\n    /**\n     * Used to draw axis labels, calls {@link #getFormattedValue(float)} by default.\n     *\n     * @param value float to be formatted\n     * @param axis  axis being labeled\n     * @return formatted string label\n     */\n\n    public String getAxisLabel(float value, AxisBase axis) {\n        return getFormattedValue(value);\n    }\n\n\n}\n</code></pre>\n<p>This code is crashing with an <code>ArrayIndexOutOfBoundException</code>.</p>\n"},{"tags":["java","swing","jframe","titlebar","maximize-window"],"comments":[{"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":1,"creation_date":1302545157,"post_id":5625436,"comment_id":6410042,"body_markdown":"this *might* help: http://geekycoder.wordpress.com/2009/07/17/java-tips-disabling-the-maximize-button-of-jframe/","body":"this <i>might</i> help: <a href=\"http://geekycoder.wordpress.com/2009/07/17/java-tips-disabling-the-maximize-button-of-jframe/\" rel=\"nofollow noreferrer\">geekycoder.wordpress.com/2009/07/17/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1302545498,"creation_date":1302545498,"answer_id":5625561,"question_id":5625436,"body_markdown":"You can&#39;t remove the button from a `JFrame`.  Use a `JDialog` instead.  It doesn&#39;t have a maximize button.","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>You can't remove the button from a <code>JFrame</code>.  Use a <code>JDialog</code> instead.  It doesn't have a maximize button.</p>\n"},{"tags":[],"owner":{"account_id":159605,"reputation":2778,"user_id":379119,"accept_rate":79,"display_name":"Bartzilla"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1302545518,"creation_date":1302545518,"answer_id":5625564,"question_id":5625436,"body_markdown":"    import java.awt.event.WindowAdapter; \r\n    import java.awt.event.WindowEvent;    \r\n    import javax.swing.JDialog; import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Test extends JDialog {\r\n        public Test(JFrame frame, String str) {\r\n            super(frame, str);\r\n            addWindowListener(new WindowAdapter() {\r\n                public void windowClosing(WindowEvent evt) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n            \tTest myFrame = new Test(new JFrame(), &quot;Removing maximize button&quot;);\r\n                JPanel panel = new JPanel();\r\n                panel.setSize(100, 100);\r\n                myFrame.add(panel);\r\n                myFrame.setSize(100, 100);\r\n                myFrame.setVisible(true);\r\n            } catch (IllegalArgumentException e) {\r\n                System.exit(0);\r\n            }\r\n        } }\r\n\r\n","title":"How can I remove just the Maximize button from a JFrame?","body":"<pre><code>import java.awt.event.WindowAdapter; \nimport java.awt.event.WindowEvent;    \nimport javax.swing.JDialog; import javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test extends JDialog {\n    public Test(JFrame frame, String str) {\n        super(frame, str);\n        addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent evt) {\n                System.exit(0);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        try {\n            Test myFrame = new Test(new JFrame(), \"Removing maximize button\");\n            JPanel panel = new JPanel();\n            panel.setSize(100, 100);\n            myFrame.add(panel);\n            myFrame.setSize(100, 100);\n            myFrame.setVisible(true);\n        } catch (IllegalArgumentException e) {\n            System.exit(0);\n        }\n    } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356948,"reputation":7721,"user_id":696792,"accept_rate":97,"display_name":"StKiller"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1302545533,"creation_date":1302545533,"answer_id":5625567,"question_id":5625436,"body_markdown":"[There][1] is described how to implement a &quot;JFrame&quot; without maximize and minimize buttons.\r\nYou need just &quot;incapsulate&quot; a JFrame in JDialog :\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class RemoveMaxAndMinButton extends JDialog{\r\n      public RemoveMaxAndMinButton(JFrame frame, String str){\r\n        super(frame,str);\r\n        addWindowListener(new WindowAdapter(){\r\n                public void windowClosing(WindowEvent evt){\r\n            System.exit(0);\r\n                }\r\n            });\r\n      }\r\n      public static void main(String[] args){\r\n        try{\r\n          RemoveMaxAndMinButton frame = new RemoveMaxAndMinButton(new JFrame(),\r\n                &quot;Remove the Minimize and Maximize button from the Title Bar&quot;);\r\n          JPanel panel = new JPanel();\r\n          panel.setSize(200,200);\r\n          JLabel lbl = new JLabel(&quot;RoseIndia.Net&quot;);\r\n          panel.add(lbl);\r\n          frame.add(panel);\r\n          frame.setSize(400, 400);\r\n          frame.setVisible(true);\r\n        }\r\n        catch(IllegalArgumentException e){\r\n          System.exit(0);\r\n        }\r\n      } \r\n\r\n}\r\n\r\n  [1]: http://www.roseindia.net/java/example/java/swing/minimize-maximize.shtml","title":"How can I remove just the Maximize button from a JFrame?","body":"<p><a href=\"http://www.roseindia.net/java/example/java/swing/minimize-maximize.shtml\" rel=\"nofollow\">There</a> is described how to implement a \"JFrame\" without maximize and minimize buttons.\nYou need just \"incapsulate\" a JFrame in JDialog :</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class RemoveMaxAndMinButton extends JDialog{\n  public RemoveMaxAndMinButton(JFrame frame, String str){\n    super(frame,str);\n    addWindowListener(new WindowAdapter(){\n            public void windowClosing(WindowEvent evt){\n        System.exit(0);\n            }\n        });\n  }\n  public static void main(String[] args){\n    try{\n      RemoveMaxAndMinButton frame = new RemoveMaxAndMinButton(new JFrame(),\n            \"Remove the Minimize and Maximize button from the Title Bar\");\n      JPanel panel = new JPanel();\n      panel.setSize(200,200);\n      JLabel lbl = new JLabel(\"RoseIndia.Net\");\n      panel.add(lbl);\n      frame.add(panel);\n      frame.setSize(400, 400);\n      frame.setVisible(true);\n    }\n    catch(IllegalArgumentException e){\n      System.exit(0);\n    }\n  } \n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":156391,"reputation":9819,"user_id":373653,"display_name":"sjr"},"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1302546070,"creation_date":1302546070,"answer_id":5625661,"question_id":5625436,"body_markdown":"Make it not resizable:\r\n\r\n    frame.setResizable(false);\r\n\r\nYou will still have the minimize and close buttons.","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>Make it not resizable:</p>\n\n<pre><code>frame.setResizable(false);\n</code></pre>\n\n<p>You will still have the minimize and close buttons.</p>\n"},{"tags":[],"owner":{"account_id":1403229,"reputation":11,"user_id":1331614,"display_name":"Gino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687188507,"creation_date":1334321379,"answer_id":10141153,"question_id":5625436,"body_markdown":"\t/**\r\n\t * Removes the buttons from the JDialog title frame. This is a work around\r\n\t * to removing the close button\r\n\t * \r\n\t * This is confirmed to work with the Metal L&amp;F\r\n\t */\r\n\tpublic void removeAllTitleFrameButtons() {\r\n\r\n\t\t/* Get the components of the dialog */\r\n\t\tComponent[] comps = this.getRootPane().getComponents();\r\n\t\t\r\n\t\t/*\r\n\t\t * Go through the components and find the title \r\n\t\t * pane and remove the buttons.  \r\n\t\t */\r\n        outerloop:\r\n\t\tfor(Component comp : comps) {\r\n\t\t\tif(comp.getClass().getName().indexOf(&quot;JLayeredPane&quot;) &gt;0) {\r\n\t\t\t\tfor(Component jcomp : ((JLayeredPane)comp).getComponents()) {\r\n\t\t\t\t\tif(jcomp.getClass().getName().indexOf(&quot;Title&quot;) &gt; 0) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/* Get the XXXXTitlePane Components */\r\n\t\t\t\t\t\tComponent[] titlePaneComps = ((JComponent)jcomp).getComponents();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor(Component tpComp : titlePaneComps) {\r\n\t\t\t\t\t\t\tif(tpComp instanceof JButton) {\r\n\t\t\t\t\t\t\t\t((JButton)tpComp).setVisible(false);\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/* No need to continue processing */\r\n\t\t\t\t\t\tbreak outerloop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How can I remove just the Maximize button from a JFrame?","body":"<pre><code>/**\n * Removes the buttons from the JDialog title frame. This is a work around\n * to removing the close button\n * \n * This is confirmed to work with the Metal L&amp;F\n */\npublic void removeAllTitleFrameButtons() {\n\n    /* Get the components of the dialog */\n    Component[] comps = this.getRootPane().getComponents();\n    \n    /*\n     * Go through the components and find the title \n     * pane and remove the buttons.  \n     */\n    outerloop:\n    for(Component comp : comps) {\n        if(comp.getClass().getName().indexOf(&quot;JLayeredPane&quot;) &gt;0) {\n            for(Component jcomp : ((JLayeredPane)comp).getComponents()) {\n                if(jcomp.getClass().getName().indexOf(&quot;Title&quot;) &gt; 0) {\n                    \n                    /* Get the XXXXTitlePane Components */\n                    Component[] titlePaneComps = ((JComponent)jcomp).getComponents();\n                    \n                    for(Component tpComp : titlePaneComps) {\n                        if(tpComp instanceof JButton) {\n                            ((JButton)tpComp).setVisible(false);                        \n                        }\n                    }\n                    /* No need to continue processing */\n                    break outerloop;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2786587,"reputation":31,"user_id":2397831,"display_name":"user2397831"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502966270,"creation_date":1368916506,"answer_id":16629637,"question_id":5625436,"body_markdown":"In JFrame properties -&gt; maximumSize = minimumSize. And resizable = false. Done! The button is disabled.","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>In JFrame properties -> maximumSize = minimumSize. And resizable = false. Done! The button is disabled.</p>\n"},{"tags":[],"owner":{"account_id":6570570,"reputation":1,"user_id":5078750,"display_name":"Vishal Garg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436296627,"creation_date":1436296627,"answer_id":31277437,"question_id":5625436,"body_markdown":"If you are using Netbean then just unselect the resizable option in properties. It will only disable Minimize/Maximize Button.\r\n\r\n","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>If you are using Netbean then just unselect the resizable option in properties. It will only disable Minimize/Maximize Button.</p>\n"},{"tags":[],"owner":{"account_id":16011617,"reputation":11,"user_id":11555584,"display_name":"unbuntry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562015678,"creation_date":1562015678,"answer_id":56842538,"question_id":5625436,"body_markdown":"Go to JFrame&#39;s property and set resizeable unchecked.","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>Go to JFrame's property and set resizeable unchecked.</p>\n"},{"tags":[],"owner":{"account_id":17287436,"reputation":1,"user_id":12519742,"display_name":"Christian Leonell Torres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576082739,"creation_date":1576082739,"answer_id":59290452,"question_id":5625436,"body_markdown":"change type property to utility. It will only show the close button.","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>change type property to utility. It will only show the close button.</p>\n"}],"owner":{"account_id":281885,"reputation":14345,"user_id":578462,"accept_rate":77,"display_name":"Mahdi_Nine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71706,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":5625661,"answer_count":9,"score":37,"last_activity_date":1687188507,"creation_date":1302544823,"question_id":5625436,"body_markdown":"I have a [JFrame][1] and want to remove the **maximize** button from that.\r\n\r\nI wrote the code below, but it removed maximize, *minimize, and close* from my `JFrame`.\r\n\r\n    JFrame frame = new JFrame();\r\n    frame.add(kart);\r\n    frame.setUndecorated(true);\r\n    frame.setVisible(true);\r\n    frame.setSize(400, 400);\r\n\r\nI want to only remove the maximize button from the `JFrame`.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/javax/swing/JFrame.html","title":"How can I remove just the Maximize button from a JFrame?","body":"<p>I have a <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/javax/swing/JFrame.html\" rel=\"noreferrer\">JFrame</a> and want to remove the <strong>maximize</strong> button from that.</p>\n\n<p>I wrote the code below, but it removed maximize, <em>minimize, and close</em> from my <code>JFrame</code>.</p>\n\n<pre><code>JFrame frame = new JFrame();\nframe.add(kart);\nframe.setUndecorated(true);\nframe.setVisible(true);\nframe.setSize(400, 400);\n</code></pre>\n\n<p>I want to only remove the maximize button from the <code>JFrame</code>.</p>\n"},{"tags":["java","apache-spark","spark-streaming"],"comments":[{"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"score":1,"creation_date":1687248221,"post_id":76507217,"comment_id":134906050,"body_markdown":"Please migrate to [Spark Structured Streaming](https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html) as soon as possible as this is the streaming module that gets the support from the project&#39;s devs.","body":"Please migrate to <a href=\"https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html\" rel=\"nofollow noreferrer\">Spark Structured Streaming</a> as soon as possible as this is the streaming module that gets the support from the project&#39;s devs."}],"owner":{"account_id":11855332,"reputation":169,"user_id":8675452,"display_name":"Anh Duc Ng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687188424,"creation_date":1687182159,"question_id":76507217,"body_markdown":"I have the following code snippet in my Spark Streaming application:\r\n\r\n\r\n```\r\nSparkConf conf = new SparkConf().setAppName(&quot;EventProcessor&quot;).setMaster(&quot;local[*]&quot;);\r\ntry (JavaStreamingContext javaStreamingContext = new JavaStreamingContext(conf, Durations.seconds(300))) {\r\n    try (SparkSession spark = new SparkSession(javaStreamingContext.ssc().sc())) {\r\n\r\n        System.out.println(CommonUtils.buildTabLog(&quot;Loaded configs&quot;, &quot;environment&quot;, environment, &quot;configs&quot;, ZConfig.instance.getConfigs()));\r\n        JavaReceiverInputDStream&lt;TEvent&gt; eventsStream = javaStreamingContext.receiverStream(\r\n                new RabbitMQReceiver()\r\n        );\r\n\r\n        eventsStream.foreachRDD(rdd -&gt; {\r\n            if (rdd.isEmpty()) {\r\n                return;\r\n            }\r\n\r\n            Dataset&lt;Row&gt; eventsDs = spark.createDataFrame(rdd.map(Event::new), Event.class);\r\n\r\n            eventsDs = eventsDs.filter(functions.col(&quot;property&quot;).equalTo(true));\r\n            eventsDs = eventsDs.withColumn(&quot;timestamp&quot;, new Column(&quot;timestamp&quot;).cast(&quot;timestamp&quot;));\r\n\r\n            Dataset&lt;Row&gt; allPlugsDs = null;\r\n            for (int sliceMinutes : Arrays.asList(1, 5, 15, 60, 120)) {\r\n                Dataset&lt;Row&gt; plugsDs = eventsDs.groupBy(\r\n                        functions.window(eventsDs.col(&quot;timestamp&quot;), sliceMinutes + &quot; minutes&quot;, sliceMinutes + &quot; minutes&quot;),\r\n                        eventsDs.col(&quot;houseId&quot;),\r\n                        eventsDs.col(&quot;householdId&quot;),\r\n                        eventsDs.col(&quot;plugId&quot;)\r\n                ).agg(functions.avg(&quot;value&quot;).as(&quot;avgLoad&quot;),\r\n                        functions.sum(&quot;value&quot;).as(&quot;sumLoad&quot;),\r\n                        functions.count(&quot;*&quot;).cast(&quot;int&quot;).as(&quot;count&quot;));\r\n\r\n                plugsDs = plugsDs.withColumn(&quot;sliceMinutes&quot;, functions.lit(sliceMinutes))\r\n                        .withColumn(&quot;startTime&quot;, plugsDs.col(&quot;window.start&quot;))\r\n                        .withColumn(&quot;endTime&quot;, plugsDs.col(&quot;window.end&quot;));\r\n\r\n                if (allPlugsDs == null) {\r\n                    allPlugsDs = plugsDs;\r\n                } else {\r\n                    allPlugsDs = allPlugsDs.union(plugsDs);\r\n                }\r\n            }\r\n\r\n            // Upsert allPlugsDs to database\r\n        });\r\n\r\n        javaStreamingContext.start();\r\n        try {\r\n            javaStreamingContext.awaitTermination();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m using Spark Streaming and I want to group the data based on multiple windows, but it seems to be running quite slow. I would like to optimize this code for better performance.\r\n\r\nAre there any recommendations or best practices to optimize Spark Streaming code with multiple windows? I&#39;m particularly interested in improving the speed and efficiency of the groupBy operation.\r\n\r\nThank you for your help!\r\n\r\nNote: I have an idea to group data based on a 1-minute window then cache them, and then group the data again based on a 5-minute window computed from the data of the 1-minute window, and then continue this process with 15-minute, 50-minute, and 120-minute windows.\r\n","title":"Optimization of Spark Streaming code with multiple windows","body":"<p>I have the following code snippet in my Spark Streaming application:</p>\n<pre><code>SparkConf conf = new SparkConf().setAppName(&quot;EventProcessor&quot;).setMaster(&quot;local[*]&quot;);\ntry (JavaStreamingContext javaStreamingContext = new JavaStreamingContext(conf, Durations.seconds(300))) {\n    try (SparkSession spark = new SparkSession(javaStreamingContext.ssc().sc())) {\n\n        System.out.println(CommonUtils.buildTabLog(&quot;Loaded configs&quot;, &quot;environment&quot;, environment, &quot;configs&quot;, ZConfig.instance.getConfigs()));\n        JavaReceiverInputDStream&lt;TEvent&gt; eventsStream = javaStreamingContext.receiverStream(\n                new RabbitMQReceiver()\n        );\n\n        eventsStream.foreachRDD(rdd -&gt; {\n            if (rdd.isEmpty()) {\n                return;\n            }\n\n            Dataset&lt;Row&gt; eventsDs = spark.createDataFrame(rdd.map(Event::new), Event.class);\n\n            eventsDs = eventsDs.filter(functions.col(&quot;property&quot;).equalTo(true));\n            eventsDs = eventsDs.withColumn(&quot;timestamp&quot;, new Column(&quot;timestamp&quot;).cast(&quot;timestamp&quot;));\n\n            Dataset&lt;Row&gt; allPlugsDs = null;\n            for (int sliceMinutes : Arrays.asList(1, 5, 15, 60, 120)) {\n                Dataset&lt;Row&gt; plugsDs = eventsDs.groupBy(\n                        functions.window(eventsDs.col(&quot;timestamp&quot;), sliceMinutes + &quot; minutes&quot;, sliceMinutes + &quot; minutes&quot;),\n                        eventsDs.col(&quot;houseId&quot;),\n                        eventsDs.col(&quot;householdId&quot;),\n                        eventsDs.col(&quot;plugId&quot;)\n                ).agg(functions.avg(&quot;value&quot;).as(&quot;avgLoad&quot;),\n                        functions.sum(&quot;value&quot;).as(&quot;sumLoad&quot;),\n                        functions.count(&quot;*&quot;).cast(&quot;int&quot;).as(&quot;count&quot;));\n\n                plugsDs = plugsDs.withColumn(&quot;sliceMinutes&quot;, functions.lit(sliceMinutes))\n                        .withColumn(&quot;startTime&quot;, plugsDs.col(&quot;window.start&quot;))\n                        .withColumn(&quot;endTime&quot;, plugsDs.col(&quot;window.end&quot;));\n\n                if (allPlugsDs == null) {\n                    allPlugsDs = plugsDs;\n                } else {\n                    allPlugsDs = allPlugsDs.union(plugsDs);\n                }\n            }\n\n            // Upsert allPlugsDs to database\n        });\n\n        javaStreamingContext.start();\n        try {\n            javaStreamingContext.awaitTermination();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm using Spark Streaming and I want to group the data based on multiple windows, but it seems to be running quite slow. I would like to optimize this code for better performance.</p>\n<p>Are there any recommendations or best practices to optimize Spark Streaming code with multiple windows? I'm particularly interested in improving the speed and efficiency of the groupBy operation.</p>\n<p>Thank you for your help!</p>\n<p>Note: I have an idea to group data based on a 1-minute window then cache them, and then group the data again based on a 5-minute window computed from the data of the 1-minute window, and then continue this process with 15-minute, 50-minute, and 120-minute windows.</p>\n"},{"tags":["java","ios","selenium","automation","appium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646067145,"post_id":71294115,"comment_id":126027672,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21045416,"reputation":1,"user_id":15466832,"display_name":"neelesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646046817,"creation_date":1646046817,"answer_id":71294161,"question_id":71294115,"body_markdown":"Make sure you&#39;ve followed the getting started steps in the README\r\nMake sure your system is set up appropriately (i.e., XCode is updated, Android SDK is installed and ANDROID_HOME is set.\r\nMake sure the paths to your applications are correct\r\nOn windows run appium.app as administrator or when running from source you need to run cmd as administrator.\r\nWhen installing on Mac, make sure the user has write permissions for /usr/local/lib or install Appium with the command npm install -g appium --unsafe-perm=true --allow-root\r\n","title":"iOS: An unknown server-side error occurred while processing the command. Original error: Failed to receive any data within the timeout: 5000","body":"<p>Make sure you've followed the getting started steps in the README\nMake sure your system is set up appropriately (i.e., XCode is updated, Android SDK is installed and ANDROID_HOME is set.\nMake sure the paths to your applications are correct\nOn windows run appium.app as administrator or when running from source you need to run cmd as administrator.\nWhen installing on Mac, make sure the user has write permissions for /usr/local/lib or install Appium with the command npm install -g appium --unsafe-perm=true --allow-root</p>\n"},{"tags":[],"owner":{"account_id":6294058,"reputation":355,"user_id":4890791,"display_name":"Balaji Dinakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687188410,"creation_date":1687188410,"answer_id":76508059,"question_id":71294115,"body_markdown":"For me, passing bundleId via capabilities cause the same problem, so tried just connecting the device and launch the app using activateApp(String bundleId) method. This works fine for me Appium 1.22.3 and ipad 16.5\r\n\r\n    \r\n\r\n    DesiredCapabilities cap=new DesiredCapabilities();\r\n    \tcap.setCapability(&quot;platformName&quot;, &quot;ios&quot;);\r\n    \tcap.setCapability(&quot;appium:deviceName&quot;, &quot;iPad&quot;);\r\n    \tcap.setCapability(&quot;appium:platformVersion&quot;, &quot;16.5&quot;);\r\n    \tcap.setCapability(&quot;udid&quot;, &quot;&quot;);\r\n    \tcap.setCapability(&quot;automationName&quot;, &quot;XCUITest&quot;);\r\n    \tIOSDriver driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), cap);\r\n    \tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    \tdriver.activateApp(&quot;org.khanacademy.Khan-Academy&quot;);","title":"iOS: An unknown server-side error occurred while processing the command. Original error: Failed to receive any data within the timeout: 5000","body":"<p>For me, passing bundleId via capabilities cause the same problem, so tried just connecting the device and launch the app using activateApp(String bundleId) method. This works fine for me Appium 1.22.3 and ipad 16.5</p>\n<pre><code>DesiredCapabilities cap=new DesiredCapabilities();\n    cap.setCapability(&quot;platformName&quot;, &quot;ios&quot;);\n    cap.setCapability(&quot;appium:deviceName&quot;, &quot;iPad&quot;);\n    cap.setCapability(&quot;appium:platformVersion&quot;, &quot;16.5&quot;);\n    cap.setCapability(&quot;udid&quot;, &quot;&quot;);\n    cap.setCapability(&quot;automationName&quot;, &quot;XCUITest&quot;);\n    IOSDriver driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;), cap);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n    driver.activateApp(&quot;org.khanacademy.Khan-Academy&quot;);\n</code></pre>\n"}],"owner":{"account_id":24404232,"reputation":11,"user_id":18332600,"display_name":"Ravi Kumar R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2309,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687188410,"creation_date":1646046615,"question_id":71294115,"body_markdown":"Unable to launch iOS application when trying to inspect element using appium desktop server. can anyone help in this? Thanks\r\n\r\n[error image][1]\r\nConfiguration:\r\n\r\nAppium : 1.22.0/1.22.2/1.22.0/1.22.0-beta\r\n\r\nMac OS: macOS Monterey v12.1\r\n\r\nXcode: 13.0\r\n\r\njava-client - 8.0.0-beta\r\n\r\nSelenium - 4.1.0\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UwBC2.png\r\n\r\n    [debug] [BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided\r\n    [debug] [BaseDriver] Creating session with W3C capabilities: {\r\n    [debug] [BaseDriver] “alwaysMatch”: {\r\n    [debug] [BaseDriver] “platformName”: “iOS”,\r\n    [debug] [BaseDriver] “appium:platformVersion”: “15.0”,\r\n    [debug] [BaseDriver] “appium:bundleId”: “xxx”,\r\n    [debug] [BaseDriver] “appium:udid”: “xxx”,\r\n    [debug] [BaseDriver] “appium:deviceName”: “iPad (7th generation)”,\r\n    [debug] [BaseDriver] “appium:automationName”: “XCUITest”,\r\n    [debug] [BaseDriver] “appium:includeSafariInWebviews”: true,\r\n    [debug] [BaseDriver] “appium:newCommandTimeout”: 3600,\r\n    [debug] [BaseDriver] “appium:connectHardwareKeyboard”: true\r\n    [debug] [BaseDriver] },\r\n    [debug] [BaseDriver] “firstMatch”: [\r\n    [debug] [BaseDriver] {}\r\n    [debug] [BaseDriver] ]\r\n    [debug] [BaseDriver] }\r\n    [BaseDriver] Session created with session id: d5ff9889-3107-484f-a7ae-69040842c596\r\n    [debug] [XCUITest] Current user: ‘ravikumar’\r\n    [debug] [XCUITest] Available devices: xxx\r\n    [debug] [XCUITest] Creating iDevice object with udid ‘xxxx’\r\n    [XCUITest] Determining device to run tests on: udid: ‘xxx’, real device: true\r\n    [debug] [BaseDriver] Event ‘xcodeDetailsRetrieved’ logged at 1646047918428 (17:01:58 GMT+0530 (India Standard Time))\r\n    [debug] [BaseDriver] Event ‘appConfigured’ logged at 1646047918429 (17:01:58 GMT+0530 (India Standard Time))\r\n    [debug] [BaseDriver] Event ‘resetStarted’ logged at 1646047918429 (17:01:58 GMT+0530 (India Standard Time))\r\n    [debug] [XCUITest] Reset: running ios real device reset flow\r\n    [debug] [BaseDriver] Event ‘resetComplete’ logged at 1646047918430 (17:01:58 GMT+0530 (India Standard Time))\r\n    [WebDriverAgent] Using WDA path: ‘/usr/local/lib/node_modules/appium/node_modules/appium-webdriveragent’\r\n    [WebDriverAgent] Using WDA agent: ‘/usr/local/lib/node_modules/appium/node_modules/appium-webdriveragent/WebDriverAgent.xcodeproj’\r\n    [HTTP] --&gt; GET /wd/hub/sessions\r\n    [HTTP] {}\r\n    [debug] [GENERIC] Calling AppiumDriver.getSessions() with args: []\r\n    [debug] [GENERIC] Responding to client with driver.getSessions() result: []\r\n    [HTTP] &lt;-- GET /wd/hub/sessions 304 3 ms - -\r\n    [HTTP]\r\n    [XCUITest] Continuing without capturing device logs: Failed to receive any data within the timeout: 5000\r\n    [XCUITest] Setting up real device\r\n    [debug] [WebDriverAgent] Parsed BUILD_DIR configuration value: ‘/Users/ravikumar/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu/Build/Products’\r\n    [debug] [WebDriverAgent] Got derived data root: ‘/Users/ravikumar/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu’\r\n    [XCUITest] {}\r\n    [DevCon Factory] Releasing connections for 8bb860208088b844840e8d0fc8c70a80fc46d631 device on any port number\r\n    [DevCon Factory] No cached connections have been found\r\n    [debug] [XCUITest] Not clearing log files. Use clearSystemFiles capability to turn on.\r\n    [debug] [BaseDriver] Event ‘newSessionStarted’ logged at 1646047928671 (17:02:08 GMT+0530 (India Standard Time))\r\n    [debug] [W3C] Encountered internal error running command: Error: Failed to receive any data within the timeout: 5000\r\n    [debug] [W3C] at Timeout._onTimeout (/usr/local/lib/node_modules/appium/node_modules/appium-ios-device/lib/plist-service/index.js:67:16)\r\n    [debug] [W3C] at listOnTimeout (node:internal/timers:559:17)\r\n    [debug] [W3C] at processTimers (node:internal/timers:502:7)\r\n    [HTTP] &lt;-- POST /wd/hub/session 500 10746 ms - 599","title":"iOS: An unknown server-side error occurred while processing the command. Original error: Failed to receive any data within the timeout: 5000","body":"<p>Unable to launch iOS application when trying to inspect element using appium desktop server. can anyone help in this? Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/UwBC2.png\" rel=\"nofollow noreferrer\">error image</a>\nConfiguration:</p>\n<p>Appium : 1.22.0/1.22.2/1.22.0/1.22.0-beta</p>\n<p>Mac OS: macOS Monterey v12.1</p>\n<p>Xcode: 13.0</p>\n<p>java-client - 8.0.0-beta</p>\n<p>Selenium - 4.1.0</p>\n<pre><code>[debug] [BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided\n[debug] [BaseDriver] Creating session with W3C capabilities: {\n[debug] [BaseDriver] “alwaysMatch”: {\n[debug] [BaseDriver] “platformName”: “iOS”,\n[debug] [BaseDriver] “appium:platformVersion”: “15.0”,\n[debug] [BaseDriver] “appium:bundleId”: “xxx”,\n[debug] [BaseDriver] “appium:udid”: “xxx”,\n[debug] [BaseDriver] “appium:deviceName”: “iPad (7th generation)”,\n[debug] [BaseDriver] “appium:automationName”: “XCUITest”,\n[debug] [BaseDriver] “appium:includeSafariInWebviews”: true,\n[debug] [BaseDriver] “appium:newCommandTimeout”: 3600,\n[debug] [BaseDriver] “appium:connectHardwareKeyboard”: true\n[debug] [BaseDriver] },\n[debug] [BaseDriver] “firstMatch”: [\n[debug] [BaseDriver] {}\n[debug] [BaseDriver] ]\n[debug] [BaseDriver] }\n[BaseDriver] Session created with session id: d5ff9889-3107-484f-a7ae-69040842c596\n[debug] [XCUITest] Current user: ‘ravikumar’\n[debug] [XCUITest] Available devices: xxx\n[debug] [XCUITest] Creating iDevice object with udid ‘xxxx’\n[XCUITest] Determining device to run tests on: udid: ‘xxx’, real device: true\n[debug] [BaseDriver] Event ‘xcodeDetailsRetrieved’ logged at 1646047918428 (17:01:58 GMT+0530 (India Standard Time))\n[debug] [BaseDriver] Event ‘appConfigured’ logged at 1646047918429 (17:01:58 GMT+0530 (India Standard Time))\n[debug] [BaseDriver] Event ‘resetStarted’ logged at 1646047918429 (17:01:58 GMT+0530 (India Standard Time))\n[debug] [XCUITest] Reset: running ios real device reset flow\n[debug] [BaseDriver] Event ‘resetComplete’ logged at 1646047918430 (17:01:58 GMT+0530 (India Standard Time))\n[WebDriverAgent] Using WDA path: ‘/usr/local/lib/node_modules/appium/node_modules/appium-webdriveragent’\n[WebDriverAgent] Using WDA agent: ‘/usr/local/lib/node_modules/appium/node_modules/appium-webdriveragent/WebDriverAgent.xcodeproj’\n[HTTP] --&gt; GET /wd/hub/sessions\n[HTTP] {}\n[debug] [GENERIC] Calling AppiumDriver.getSessions() with args: []\n[debug] [GENERIC] Responding to client with driver.getSessions() result: []\n[HTTP] &lt;-- GET /wd/hub/sessions 304 3 ms - -\n[HTTP]\n[XCUITest] Continuing without capturing device logs: Failed to receive any data within the timeout: 5000\n[XCUITest] Setting up real device\n[debug] [WebDriverAgent] Parsed BUILD_DIR configuration value: ‘/Users/ravikumar/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu/Build/Products’\n[debug] [WebDriverAgent] Got derived data root: ‘/Users/ravikumar/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu’\n[XCUITest] {}\n[DevCon Factory] Releasing connections for 8bb860208088b844840e8d0fc8c70a80fc46d631 device on any port number\n[DevCon Factory] No cached connections have been found\n[debug] [XCUITest] Not clearing log files. Use clearSystemFiles capability to turn on.\n[debug] [BaseDriver] Event ‘newSessionStarted’ logged at 1646047928671 (17:02:08 GMT+0530 (India Standard Time))\n[debug] [W3C] Encountered internal error running command: Error: Failed to receive any data within the timeout: 5000\n[debug] [W3C] at Timeout._onTimeout (/usr/local/lib/node_modules/appium/node_modules/appium-ios-device/lib/plist-service/index.js:67:16)\n[debug] [W3C] at listOnTimeout (node:internal/timers:559:17)\n[debug] [W3C] at processTimers (node:internal/timers:502:7)\n[HTTP] &lt;-- POST /wd/hub/session 500 10746 ms - 599\n</code></pre>\n"},{"tags":["java","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687079350,"post_id":76499584,"comment_id":134884572,"body_markdown":"To understand better, do you need to have all 4 players within the same document or as different documents within a collection?","body":"To understand better, do you need to have all 4 players within the same document or as different documents within a collection?"},{"owner":{"account_id":21372691,"reputation":21,"user_id":15739974,"display_name":"Tanguy Breton"},"score":0,"creation_date":1687079613,"post_id":76499584,"comment_id":134884597,"body_markdown":"they are in the same document, but in collections inside that document. Ill add a picture of a full database to my original post","body":"they are in the same document, but in collections inside that document. Ill add a picture of a full database to my original post"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687081973,"creation_date":1687081973,"answer_id":76499934,"question_id":76499584,"body_markdown":"The `Players` in your Firestore screenshot is a **Document**, **not** a Collection. \r\n\r\nThe Firestore data model always alternates Collections and Documents, so you can&#39;t immediately nest a `Players` collection under the `game` collection. Usually I&#39;d have a game ID as a document level in between them, but if there&#39;s only one game - give the required document a fixed name, such as `default`.\r\n\r\nSo then the data model becomes:\r\n\r\n```\r\ngames (collection)\r\n  default (document)\r\n    Players (collection)\r\n      player1 (document)\r\n        ... fields\r\n      player2 (document)\r\n        ... fields\r\n      player3 (document)\r\n        ... fields\r\n      player3 (document)\r\n        ... fields\r\n```\r\n\r\n---\r\n\r\nIf you want to stick to your current data model and store all players in a single document, you will have to make sure that players don&#39;t overwrite each other&#39;s data. This means, you&#39;ll want to [use a transaction](https://firebase.google.com/docs/firestore/manage-data/transactions) to first read the `Players` document and then update it.","title":"Adding new collection in FireStore db deletes the other ones","body":"<p>The <code>Players</code> in your Firestore screenshot is a <strong>Document</strong>, <strong>not</strong> a Collection.</p>\n<p>The Firestore data model always alternates Collections and Documents, so you can't immediately nest a <code>Players</code> collection under the <code>game</code> collection. Usually I'd have a game ID as a document level in between them, but if there's only one game - give the required document a fixed name, such as <code>default</code>.</p>\n<p>So then the data model becomes:</p>\n<pre><code>games (collection)\n  default (document)\n    Players (collection)\n      player1 (document)\n        ... fields\n      player2 (document)\n        ... fields\n      player3 (document)\n        ... fields\n      player3 (document)\n        ... fields\n</code></pre>\n<hr />\n<p>If you want to stick to your current data model and store all players in a single document, you will have to make sure that players don't overwrite each other's data. This means, you'll want to <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">use a transaction</a> to first read the <code>Players</code> document and then update it.</p>\n"},{"tags":[],"owner":{"account_id":21372691,"reputation":21,"user_id":15739974,"display_name":"Tanguy Breton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687187304,"creation_date":1687083826,"answer_id":76500054,"question_id":76499584,"body_markdown":"I fixed it by changing `.set(players)` to `.update(players)`.\r\n`.set()` is rewriting the document, while `.update()` is updating the document. Note that `.update` does not allow a `&lt;string, hashmap&lt;string, string&gt;&gt;`, so I had to change it to `&lt;string, object&gt;`. ","title":"Adding new collection in FireStore db deletes the other ones","body":"<p>I fixed it by changing <code>.set(players)</code> to <code>.update(players)</code>.\n<code>.set()</code> is rewriting the document, while <code>.update()</code> is updating the document. Note that <code>.update</code> does not allow a <code>&lt;string, hashmap&lt;string, string&gt;&gt;</code>, so I had to change it to <code>&lt;string, object&gt;</code>.</p>\n"}],"owner":{"account_id":21372691,"reputation":21,"user_id":15739974,"display_name":"Tanguy Breton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76500054,"answer_count":2,"score":0,"last_activity_date":1687187304,"creation_date":1687075706,"question_id":76499584,"body_markdown":"Im working on a project for school with FireStore. \r\nI need to add 4 fields individually to my FireStore db. They are called &quot;player1&quot;, &quot;player2&quot;, &quot;player3&quot; and &quot;player4&quot;. When the first person runs the code, &quot;player1&quot; is added. When the second person runs the code, &quot;player2&quot; is added, but &quot;player1&quot; is deleted. Same for the other 2. Which is weird, since it should not be doing that. Here&#39;s the code that adds the field\r\n```\r\npublic void initPlayer(){\r\n        getFirestore();\r\n\r\n        HashMap&lt;String, String&gt; playerQuote = new HashMap&lt;&gt;();\r\n        HashMap&lt;String, HashMap&lt;String, String&gt;&gt; players = new HashMap&lt;&gt;();\r\n\r\n        playerQuote.put(&quot;money&quot;, &quot;140&quot;);\r\n        playerQuote.put(&quot;name&quot;, ControllerManager.getPlayer().getPlayerID().toString());\r\n//The PlayerID is different for every player\r\n        playerQuote.put(&quot;color&quot;, &quot;Green&quot;);\r\n\r\n        playerQuote.put(&quot;haan&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;gans&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;kat&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;hond&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;schaap&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;bok&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;ezel&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;varken&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;koe&quot;, &quot;0&quot;);\r\n        playerQuote.put(&quot;paard&quot;, &quot;0&quot;);\r\n\r\n\r\n        players.put((ControllerManager.getPlayer().getPlayerID()), playerQuote);\r\n        this.db.collection(&quot;game&quot;)\r\n                .document(&quot;Players&quot;)\r\n                .set(players);\r\n\r\n    }\r\n```\r\nThe code is written in such a way that it first checks what players are in the database. So if player1 is present, but player2 isn&#39;t, player2 will be added. But since then player1 is deleted, the next person to run the code will add player1 again and delete player2.\r\nI really have no idea why its not working the way it should. Im not deleting anything anywhere, so why does it still delete anyway?\r\nHere&#39;s how the database should look like:\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/VavCT.png","title":"Adding new collection in FireStore db deletes the other ones","body":"<p>Im working on a project for school with FireStore.\nI need to add 4 fields individually to my FireStore db. They are called &quot;player1&quot;, &quot;player2&quot;, &quot;player3&quot; and &quot;player4&quot;. When the first person runs the code, &quot;player1&quot; is added. When the second person runs the code, &quot;player2&quot; is added, but &quot;player1&quot; is deleted. Same for the other 2. Which is weird, since it should not be doing that. Here's the code that adds the field</p>\n<pre><code>public void initPlayer(){\n        getFirestore();\n\n        HashMap&lt;String, String&gt; playerQuote = new HashMap&lt;&gt;();\n        HashMap&lt;String, HashMap&lt;String, String&gt;&gt; players = new HashMap&lt;&gt;();\n\n        playerQuote.put(&quot;money&quot;, &quot;140&quot;);\n        playerQuote.put(&quot;name&quot;, ControllerManager.getPlayer().getPlayerID().toString());\n//The PlayerID is different for every player\n        playerQuote.put(&quot;color&quot;, &quot;Green&quot;);\n\n        playerQuote.put(&quot;haan&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;gans&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;kat&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;hond&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;schaap&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;bok&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;ezel&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;varken&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;koe&quot;, &quot;0&quot;);\n        playerQuote.put(&quot;paard&quot;, &quot;0&quot;);\n\n\n        players.put((ControllerManager.getPlayer().getPlayerID()), playerQuote);\n        this.db.collection(&quot;game&quot;)\n                .document(&quot;Players&quot;)\n                .set(players);\n\n    }\n</code></pre>\n<p>The code is written in such a way that it first checks what players are in the database. So if player1 is present, but player2 isn't, player2 will be added. But since then player1 is deleted, the next person to run the code will add player1 again and delete player2.\nI really have no idea why its not working the way it should. Im not deleting anything anywhere, so why does it still delete anyway?\nHere's how the database should look like:\n<a href=\"https://i.stack.imgur.com/VavCT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VavCT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["python","java","processing","drawing","increment"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1686695254,"post_id":76469028,"comment_id":134834078,"body_markdown":"In Python, how does it treat local variables?  What makes `i = i + 10` global and not local?","body":"In Python, how does it treat local variables?  What makes <code>i = i + 10</code> global and not local?"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1686741294,"post_id":76469028,"comment_id":134839978,"body_markdown":"@Serge markspace is right. You need to explicitly specify `i` is a global variable in `draw()` by adding this line: `global i`.","body":"@Serge markspace is right. You need to explicitly specify <code>i</code> is a global variable in <code>draw()</code> by adding this line: <code>global i</code>."},{"owner":{"account_id":28815653,"reputation":31,"user_id":22069345,"display_name":"Serge"},"score":0,"creation_date":1687130627,"post_id":76469028,"comment_id":134889782,"body_markdown":"Thank you so much @GeorgeProfenza and others, that was it, &#39;global&#39; was the missing element!","body":"Thank you so much @GeorgeProfenza and others, that was it, &#39;global&#39; was the missing element!"}],"answers":[{"tags":[],"owner":{"account_id":1821777,"reputation":6462,"user_id":1655674,"display_name":"Dave Doknjas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686729922,"creation_date":1686729922,"answer_id":76471368,"question_id":76469028,"body_markdown":"They are not identical. The identical Python code would also use instance members:\r\n\r\n    class Test:\r\n        def __init__(self):\r\n            self.x = 250\r\n        \r\n        def setup(self):\r\n            size(500, 500)\r\n            background(0)\r\n            noStroke()\r\n        \r\n        def draw(self):\r\n            fill(255)\r\n            ellipse(self.x, 250, 20, 20)\r\n            self.x = self.x + 10\r\n\r\n","title":"Processing Python vs Java","body":"<p>They are not identical. The identical Python code would also use instance members:</p>\n<pre><code>class Test:\n    def __init__(self):\n        self.x = 250\n    \n    def setup(self):\n        size(500, 500)\n        background(0)\n        noStroke()\n    \n    def draw(self):\n        fill(255)\n        ellipse(self.x, 250, 20, 20)\n        self.x = self.x + 10\n</code></pre>\n"}],"owner":{"account_id":28815653,"reputation":31,"user_id":22069345,"display_name":"Serge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687187281,"creation_date":1686694396,"question_id":76469028,"body_markdown":"I tried to make a simple program in Processing Python, it&#39;s an ellipse that moves from the center of the screen towards right. The X value of its center increments and that&#39;s how it moves. It did not work the way I thought it would, I see only the black background and that&#39;s it.\r\n\r\nI tried the same code in Processing Java and it works. The codes are identical, at least they seem so to me. Do I miss something here? Thanks in advance!\r\n\r\nCode in Python:\r\n\r\n```\r\ni = 250\r\n\r\ndef setup():\r\n    size(500, 500)\r\n    background(0)\r\n    noStroke()\r\n\r\ndef draw():\r\n    fill(255)\r\n    ellipse(i, 250, 20, 20)\r\n    i = i + 10\r\n```\r\n\r\nCode in Java:\r\n\r\n```\r\nint x = 250;\r\n\r\nvoid setup() {\r\n  size(500, 500);\r\n  background(0);\r\n  noStroke();\r\n}\r\n    \r\nvoid draw() {\r\n    fill(255);\r\n    ellipse(x, 250, 20, 20);\r\n    x = x + 10;\r\n}\r\n```\r\nEDIT:\r\nThe problem is solved, thanks to the stackoverflow community!\r\nThe thing is, in the Python part I needed to specify explicitly that the `i` variable is the global one. So yes, adding `global i` solved it perfectly!","title":"Processing Python vs Java","body":"<p>I tried to make a simple program in Processing Python, it's an ellipse that moves from the center of the screen towards right. The X value of its center increments and that's how it moves. It did not work the way I thought it would, I see only the black background and that's it.</p>\n<p>I tried the same code in Processing Java and it works. The codes are identical, at least they seem so to me. Do I miss something here? Thanks in advance!</p>\n<p>Code in Python:</p>\n<pre><code>i = 250\n\ndef setup():\n    size(500, 500)\n    background(0)\n    noStroke()\n\ndef draw():\n    fill(255)\n    ellipse(i, 250, 20, 20)\n    i = i + 10\n</code></pre>\n<p>Code in Java:</p>\n<pre><code>int x = 250;\n\nvoid setup() {\n  size(500, 500);\n  background(0);\n  noStroke();\n}\n    \nvoid draw() {\n    fill(255);\n    ellipse(x, 250, 20, 20);\n    x = x + 10;\n}\n</code></pre>\n<p>EDIT:\nThe problem is solved, thanks to the stackoverflow community!\nThe thing is, in the Python part I needed to specify explicitly that the <code>i</code> variable is the global one. So yes, adding <code>global i</code> solved it perfectly!</p>\n"},{"tags":["java","intellij-idea","ant"],"answers":[{"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687157562,"creation_date":1687157562,"answer_id":76504252,"question_id":76504218,"body_markdown":"You need to setup SDK properly in your intellij.\r\n\r\nYou can configure the same via\r\n\r\nFile --&gt; Project structure --&gt; SDK (Setup java properly or Download if not already there)\r\n\r\nFile --&gt; Project structure --&gt; Project (Setup java properly)\r\n\r\n\r\n","title":"How to import and build an Ant project in IntelliJ IDEA","body":"<p>You need to setup SDK properly in your intellij.</p>\n<p>You can configure the same via</p>\n<p>File --&gt; Project structure --&gt; SDK (Setup java properly or Download if not already there)</p>\n<p>File --&gt; Project structure --&gt; Project (Setup java properly)</p>\n"}],"owner":{"account_id":28848717,"reputation":11,"user_id":22095081,"display_name":"Prajval Bhale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687187136,"creation_date":1687157152,"question_id":76504218,"body_markdown":"I have an Ant project, but after importing the project my classes are not getting resolved in my IDE and have red icons.\r\n\r\nI tried to invalidate its cache and to clone this project repo again, but my issue is still not solved.","title":"How to import and build an Ant project in IntelliJ IDEA","body":"<p>I have an Ant project, but after importing the project my classes are not getting resolved in my IDE and have red icons.</p>\n<p>I tried to invalidate its cache and to clone this project repo again, but my issue is still not solved.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":28850214,"reputation":1,"user_id":22096273,"display_name":"Miet Records"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687187040,"creation_date":1687187040,"answer_id":76507880,"question_id":76505929,"body_markdown":"I asked ChatGPT but he told me answer like that:\r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n    private Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_activity);\r\n\r\n        button = findViewById(R.id.my_button);\r\n\r\n    }\r\n\r\n    private void otherMethod() {\r\n\r\n        button.setText(&quot;New text&quot;);\r\n    }\r\n}\r\n\r\nWhy this don&#39;t work in my project in Android studio??? I imported a Button class to project but outside OnCreate() button isn&#39;t recognized...","title":"Defining objects - clean method Java","body":"<p>I asked ChatGPT but he told me answer like that:</p>\n<pre><code>public class MyActivity extends AppCompatActivity {\nprivate Button button;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity);\n\n    button = findViewById(R.id.my_button);\n\n}\n\nprivate void otherMethod() {\n\n    button.setText(&quot;New text&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>Why this don't work in my project in Android studio??? I imported a Button class to project but outside OnCreate() button isn't recognized...</p>\n"}],"owner":{"account_id":28850214,"reputation":1,"user_id":22096273,"display_name":"Miet Records"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687187040,"creation_date":1687171948,"question_id":76505929,"body_markdown":"I&#39;m a beginner in programming and I got really big problem about defining objects in method what makes me confused.\r\n\r\nWhen I&#39;m creating a method I need to redefine object defined in OnCreate method. Is there easier way to define object in method without copying that to every method? Example of my code down... Please don&#39;t laugh loud and help me... :D\r\n\r\n\r\n```\r\nprivate void leafsSwitchClicked() {\r\n\r\n        Global.selectedTradeItem = 1;\r\n\r\n        ImageView selectedItemImage = findViewById(R.id.selectedItemImage);\r\n        selectedItemImage.setImageResource(R.drawable.leafs_icon_shop);\r\n\r\n        TextView todayPriceTextDM = findViewById(R.id.todayPriceTextDM);\r\n        TextView lastPriceTextDM = findViewById(R.id.lastPriceTextDM);\r\n        TextView ownedItemsTextDM = findViewById(R.id.ownedItemsTextDM);\r\n\r\n        todayPriceTextDM.setText(&quot;&quot; + Global.leafsPrice + &quot; $&quot;);\r\n        lastPriceTextDM.setText(&quot;&quot; + Global.lastLeafsPrice + &quot; $&quot;);\r\n        ownedItemsTextDM.setText(&quot;&quot; + Global.ownedLeafsQty);\r\n\r\n        LinearLayout leafsSwitch = findViewById(R.id.leafsSwitch);\r\n        leafsSwitch.setBackgroundResource(R.drawable.background_shop_icon);\r\n        LinearLayout pillsSwitch = findViewById(R.id.pillsSwitch);\r\n        pillsSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout syringeSwitch = findViewById(R.id.syringeSwitch);\r\n        syringeSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout powderSwitch = findViewById(R.id.powderSwitch);\r\n        powderSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout fungusSwitch = findViewById(R.id.fungusSwitch);\r\n        fungusSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout crystalSwitch = findViewById(R.id.crystalSwitch);\r\n        crystalSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n\r\n        ImageView leafsBottomBarIcon = findViewById(R.id.leafsBottomBarIcon);\r\n        ImageView pillsBottomBarIcon = findViewById(R.id.pillsBottomBarIcon);\r\n        ImageView syringeBottomBarIcon = findViewById(R.id.syringeBottomBarIcon);\r\n        ImageView powderBottomBarIcon = findViewById(R.id.powderBottomBarIcon);\r\n        ImageView fungusBottomBarIcon = findViewById(R.id.fungusBottomBarIcon);\r\n        ImageView crystalBottomBarIcon = findViewById(R.id.crystalBottomBarIcon);\r\n\r\n        leafsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(255, 0, 0, 0)));\r\n        pillsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        syringeBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        powderBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        fungusBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        crystalBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n\r\n        TextView quantityTextDM = findViewById(R.id.quantityTextDM);\r\n        TextView totalTextDM = findViewById(R.id.totalTextDM);\r\n        SeekBar seekBarDM = findViewById(R.id.seekBarDM);\r\n\r\n        if (Global.sellingMode == 1) {\r\n            seekBarDM.setMax(Global.ownedLeafsQty);\r\n            seekBarDM.setProgress(Global.ownedLeafsQty);\r\n            quantityTextDM.setText(&quot;&quot; + Global.ownedLeafsQty);\r\n            totalTextDM.setText(Global.ownedLeafsQty * Global.leafsPrice + &quot; $&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    private void pillsSwitchClicked() {\r\n\r\n        Global.selectedTradeItem = 2;\r\n\r\n        TextView todayPriceTextDM = findViewById(R.id.todayPriceTextDM);\r\n        TextView lastPriceTextDM = findViewById(R.id.lastPriceTextDM);\r\n        TextView ownedItemsTextDM = findViewById(R.id.ownedItemsTextDM);\r\n\r\n        todayPriceTextDM.setText(&quot;&quot; + Global.pillsPrice + &quot; $&quot;);\r\n        lastPriceTextDM.setText(&quot;&quot; + Global.lastPillsPrice + &quot; $&quot;);\r\n        ownedItemsTextDM.setText(&quot;&quot; + Global.ownedPillsQty);\r\n\r\n        ImageView selectedItemImage = findViewById(R.id.selectedItemImage);\r\n        selectedItemImage.setImageResource(R.drawable.pills_icon_shop);\r\n\r\n        LinearLayout leafsSwitch = findViewById(R.id.leafsSwitch);\r\n        leafsSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout pillsSwitch = findViewById(R.id.pillsSwitch);\r\n        pillsSwitch.setBackgroundResource(R.drawable.background_shop_icon);\r\n        LinearLayout syringeSwitch = findViewById(R.id.syringeSwitch);\r\n        syringeSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout powderSwitch = findViewById(R.id.powderSwitch);\r\n        powderSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout fungusSwitch = findViewById(R.id.fungusSwitch);\r\n        fungusSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n        LinearLayout crystalSwitch = findViewById(R.id.crystalSwitch);\r\n        crystalSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\r\n\r\n        ImageView leafsBottomBarIcon = findViewById(R.id.leafsBottomBarIcon);\r\n        ImageView pillsBottomBarIcon = findViewById(R.id.pillsBottomBarIcon);\r\n        ImageView syringeBottomBarIcon = findViewById(R.id.syringeBottomBarIcon);\r\n        ImageView powderBottomBarIcon = findViewById(R.id.powderBottomBarIcon);\r\n        ImageView fungusBottomBarIcon = findViewById(R.id.fungusBottomBarIcon);\r\n        ImageView crystalBottomBarIcon = findViewById(R.id.crystalBottomBarIcon);\r\n\r\n        leafsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        pillsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(255, 0, 0, 0)));\r\n        syringeBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        powderBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        fungusBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n        crystalBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\r\n\r\n        TextView quantityTextDM = findViewById(R.id.quantityTextDM);\r\n        TextView totalTextDM = findViewById(R.id.totalTextDM);\r\n        SeekBar seekBarDM = findViewById(R.id.seekBarDM);\r\n\r\n        if (Global.sellingMode == 1) {\r\n            seekBarDM.setMax(Global.ownedPillsQty);\r\n            seekBarDM.setProgress(Global.ownedPillsQty);\r\n            quantityTextDM.setText(&quot;&quot; + Global.ownedPillsQty);\r\n            totalTextDM.setText(Global.ownedPillsQty * Global.pillsPrice + &quot; $&quot;);\r\n        }\r\n\r\n        if (Global.buyingMode == 1) {\r\n            int step = 1;\r\n            double numbermin = (double) Global.pillsPrice;\r\n            double numbermax = (double) Global.moneyQty;\r\n            double maxi = (double) (numbermax / numbermin);\r\n            int max = (int) maxi;\r\n            int min = 0;\r\n            seekBarDM.setMax((max - min) / step);\r\n            seekBarDM.setProgress(max);\r\n            quantityTextDM.setText(&quot;&quot; + max);\r\n            totalTextDM.setText(max * Global.pillsPrice + &quot; $&quot;);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nThis is something what I want (but this won&#39;t work correctly)... Or maybe is a trick to put Methods in other class file like Methods.java and implementing that to other fil without errors...?\r\n\r\n\r\n\r\n```\r\n\r\npublic class Darkmarket extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.darkmarket);\r\n\r\n        defineLL();\r\n\r\n        setLL();\r\n\r\n    }\r\n\r\n\r\n    private void defineLL() {\r\n        LinearLayout leafsSwitch = findViewById(R.id.leafsSwitch);\r\n        LinearLayout pillsSwitch = findViewById(R.id.pillsSwitch);\r\n        LinearLayout syringeSwitch = findViewById(R.id.syringeSwitch);\r\n        LinearLayout powderSwitch = findViewById(R.id.powderSwitch);\r\n        LinearLayout fungusSwitch = findViewById(R.id.fungusSwitch);\r\n        LinearLayout crystalSwitch = findViewById(R.id.crystalSwitch);\r\n    }\r\n\r\n    private void setLL() {\r\n        leafsSwitch.setBackgroundResource(R.drawable.background_shop_icon);\r\n    }\r\n\r\n    private void backButtonClicked() {\r\n        Intent goBack = new Intent(this, Dashboard.class);\r\n        startActivity(goBack);\r\n    }\r\n}\r\n```\r\n\r\n\r\nAlmost Everyting from 2 days...","title":"Defining objects - clean method Java","body":"<p>I'm a beginner in programming and I got really big problem about defining objects in method what makes me confused.</p>\n<p>When I'm creating a method I need to redefine object defined in OnCreate method. Is there easier way to define object in method without copying that to every method? Example of my code down... Please don't laugh loud and help me... :D</p>\n<pre><code>private void leafsSwitchClicked() {\n\n        Global.selectedTradeItem = 1;\n\n        ImageView selectedItemImage = findViewById(R.id.selectedItemImage);\n        selectedItemImage.setImageResource(R.drawable.leafs_icon_shop);\n\n        TextView todayPriceTextDM = findViewById(R.id.todayPriceTextDM);\n        TextView lastPriceTextDM = findViewById(R.id.lastPriceTextDM);\n        TextView ownedItemsTextDM = findViewById(R.id.ownedItemsTextDM);\n\n        todayPriceTextDM.setText(&quot;&quot; + Global.leafsPrice + &quot; $&quot;);\n        lastPriceTextDM.setText(&quot;&quot; + Global.lastLeafsPrice + &quot; $&quot;);\n        ownedItemsTextDM.setText(&quot;&quot; + Global.ownedLeafsQty);\n\n        LinearLayout leafsSwitch = findViewById(R.id.leafsSwitch);\n        leafsSwitch.setBackgroundResource(R.drawable.background_shop_icon);\n        LinearLayout pillsSwitch = findViewById(R.id.pillsSwitch);\n        pillsSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout syringeSwitch = findViewById(R.id.syringeSwitch);\n        syringeSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout powderSwitch = findViewById(R.id.powderSwitch);\n        powderSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout fungusSwitch = findViewById(R.id.fungusSwitch);\n        fungusSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout crystalSwitch = findViewById(R.id.crystalSwitch);\n        crystalSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n\n        ImageView leafsBottomBarIcon = findViewById(R.id.leafsBottomBarIcon);\n        ImageView pillsBottomBarIcon = findViewById(R.id.pillsBottomBarIcon);\n        ImageView syringeBottomBarIcon = findViewById(R.id.syringeBottomBarIcon);\n        ImageView powderBottomBarIcon = findViewById(R.id.powderBottomBarIcon);\n        ImageView fungusBottomBarIcon = findViewById(R.id.fungusBottomBarIcon);\n        ImageView crystalBottomBarIcon = findViewById(R.id.crystalBottomBarIcon);\n\n        leafsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(255, 0, 0, 0)));\n        pillsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        syringeBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        powderBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        fungusBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        crystalBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n\n        TextView quantityTextDM = findViewById(R.id.quantityTextDM);\n        TextView totalTextDM = findViewById(R.id.totalTextDM);\n        SeekBar seekBarDM = findViewById(R.id.seekBarDM);\n\n        if (Global.sellingMode == 1) {\n            seekBarDM.setMax(Global.ownedLeafsQty);\n            seekBarDM.setProgress(Global.ownedLeafsQty);\n            quantityTextDM.setText(&quot;&quot; + Global.ownedLeafsQty);\n            totalTextDM.setText(Global.ownedLeafsQty * Global.leafsPrice + &quot; $&quot;);\n        }\n\n    }\n\n    private void pillsSwitchClicked() {\n\n        Global.selectedTradeItem = 2;\n\n        TextView todayPriceTextDM = findViewById(R.id.todayPriceTextDM);\n        TextView lastPriceTextDM = findViewById(R.id.lastPriceTextDM);\n        TextView ownedItemsTextDM = findViewById(R.id.ownedItemsTextDM);\n\n        todayPriceTextDM.setText(&quot;&quot; + Global.pillsPrice + &quot; $&quot;);\n        lastPriceTextDM.setText(&quot;&quot; + Global.lastPillsPrice + &quot; $&quot;);\n        ownedItemsTextDM.setText(&quot;&quot; + Global.ownedPillsQty);\n\n        ImageView selectedItemImage = findViewById(R.id.selectedItemImage);\n        selectedItemImage.setImageResource(R.drawable.pills_icon_shop);\n\n        LinearLayout leafsSwitch = findViewById(R.id.leafsSwitch);\n        leafsSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout pillsSwitch = findViewById(R.id.pillsSwitch);\n        pillsSwitch.setBackgroundResource(R.drawable.background_shop_icon);\n        LinearLayout syringeSwitch = findViewById(R.id.syringeSwitch);\n        syringeSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout powderSwitch = findViewById(R.id.powderSwitch);\n        powderSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout fungusSwitch = findViewById(R.id.fungusSwitch);\n        fungusSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n        LinearLayout crystalSwitch = findViewById(R.id.crystalSwitch);\n        crystalSwitch.setBackgroundResource(R.drawable.background_shop_icon_gray);\n\n        ImageView leafsBottomBarIcon = findViewById(R.id.leafsBottomBarIcon);\n        ImageView pillsBottomBarIcon = findViewById(R.id.pillsBottomBarIcon);\n        ImageView syringeBottomBarIcon = findViewById(R.id.syringeBottomBarIcon);\n        ImageView powderBottomBarIcon = findViewById(R.id.powderBottomBarIcon);\n        ImageView fungusBottomBarIcon = findViewById(R.id.fungusBottomBarIcon);\n        ImageView crystalBottomBarIcon = findViewById(R.id.crystalBottomBarIcon);\n\n        leafsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        pillsBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(255, 0, 0, 0)));\n        syringeBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        powderBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        fungusBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n        crystalBottomBarIcon.setImageTintList(ColorStateList.valueOf(Color.argb(125, 0, 0, 0)));\n\n        TextView quantityTextDM = findViewById(R.id.quantityTextDM);\n        TextView totalTextDM = findViewById(R.id.totalTextDM);\n        SeekBar seekBarDM = findViewById(R.id.seekBarDM);\n\n        if (Global.sellingMode == 1) {\n            seekBarDM.setMax(Global.ownedPillsQty);\n            seekBarDM.setProgress(Global.ownedPillsQty);\n            quantityTextDM.setText(&quot;&quot; + Global.ownedPillsQty);\n            totalTextDM.setText(Global.ownedPillsQty * Global.pillsPrice + &quot; $&quot;);\n        }\n\n        if (Global.buyingMode == 1) {\n            int step = 1;\n            double numbermin = (double) Global.pillsPrice;\n            double numbermax = (double) Global.moneyQty;\n            double maxi = (double) (numbermax / numbermin);\n            int max = (int) maxi;\n            int min = 0;\n            seekBarDM.setMax((max - min) / step);\n            seekBarDM.setProgress(max);\n            quantityTextDM.setText(&quot;&quot; + max);\n            totalTextDM.setText(max * Global.pillsPrice + &quot; $&quot;);\n        }\n\n    }\n</code></pre>\n<p>This is something what I want (but this won't work correctly)... Or maybe is a trick to put Methods in other class file like Methods.java and implementing that to other fil without errors...?</p>\n<pre><code>\npublic class Darkmarket extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.darkmarket);\n\n        defineLL();\n\n        setLL();\n\n    }\n\n\n    private void defineLL() {\n        LinearLayout leafsSwitch = findViewById(R.id.leafsSwitch);\n        LinearLayout pillsSwitch = findViewById(R.id.pillsSwitch);\n        LinearLayout syringeSwitch = findViewById(R.id.syringeSwitch);\n        LinearLayout powderSwitch = findViewById(R.id.powderSwitch);\n        LinearLayout fungusSwitch = findViewById(R.id.fungusSwitch);\n        LinearLayout crystalSwitch = findViewById(R.id.crystalSwitch);\n    }\n\n    private void setLL() {\n        leafsSwitch.setBackgroundResource(R.drawable.background_shop_icon);\n    }\n\n    private void backButtonClicked() {\n        Intent goBack = new Intent(this, Dashboard.class);\n        startActivity(goBack);\n    }\n}\n</code></pre>\n<p>Almost Everyting from 2 days...</p>\n"},{"tags":["java","adyen"],"comments":[{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1685098150,"post_id":76338545,"comment_id":134617407,"body_markdown":"are you using Spring or another framework? are you using Jackson for JSON processing?","body":"are you using Spring or another framework? are you using Jackson for JSON processing?"},{"owner":{"account_id":28683975,"reputation":1,"user_id":21964583,"display_name":"Hardik Mehta"},"score":0,"creation_date":1685187299,"post_id":76338545,"comment_id":134628485,"body_markdown":"@BeppeC, I am using Spring framework and Jackson","body":"@BeppeC, I am using Spring framework and Jackson"}],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685100980,"creation_date":1685099793,"answer_id":76340283,"question_id":76338545,"body_markdown":"The `sepadirectdebit` identifier is correct and it should indeed make the SEPA payment method available in the `Drop-in`.  \r\nIt looks like the SEPA Payment method has not been [added][1] in the Customer Area configuration.\r\n\r\nA way to test this is to **not** set `setAllowedPaymentMethods()` and let the `Drop-in` show all available payment methods.\r\n\r\n\r\n  [1]: https://help.adyen.com/knowledge/payment-methods/manage-payment-methods/how-do-i-add-a-payment-method","title":"Creating payment session for allowed payment method as &quot;sepadirectdebit&quot; is not working","body":"<p>The <code>sepadirectdebit</code> identifier is correct and it should indeed make the SEPA payment method available in the <code>Drop-in</code>.<br />\nIt looks like the SEPA Payment method has not been <a href=\"https://help.adyen.com/knowledge/payment-methods/manage-payment-methods/how-do-i-add-a-payment-method\" rel=\"nofollow noreferrer\">added</a> in the Customer Area configuration.</p>\n<p>A way to test this is to <strong>not</strong> set <code>setAllowedPaymentMethods()</code> and let the <code>Drop-in</code> show all available payment methods.</p>\n"}],"owner":{"account_id":28683975,"reputation":1,"user_id":21964583,"display_name":"Hardik Mehta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687186803,"creation_date":1685086000,"question_id":76338545,"body_markdown":"I am using adyen java library (&#39;com.adyen:adyen-java-api-library:20.0.0&#39;).\r\nWhen I try to create session with **allowedPaymentMehods as sepadirectdebit** It is giving a error response\r\n```\r\n{&quot;status&quot;:422,&quot;errorCode&quot;:&quot;14_0408&quot;,&quot;message&quot;:&quot;There are no payment methods available for the given parameters.&quot;,&quot;errorType&quot;:&quot;validation&quot;,&quot;pspReference&quot;:&quot;......&quot;}\r\n```\r\n\r\n**Code:**\r\n\r\n```\r\nPaymentsApi paymentsApi;\r\n            paymentsApi = new PaymentsApi(client);\r\n\r\n            CreateCheckoutSessionRequest checkoutSessionRequest = new CreateCheckoutSessionRequest();\r\n            Amount pAmount = new Amount();\r\n            pAmount.setCurrency(...);\r\n            pAmount.setValue(...);\r\n            checkoutSessionRequest.setAmount(...);\r\n            checkoutSessionRequest.setMerchantAccount(...);\r\n            checkoutSessionRequest.setReturnUrl(...);\r\n            checkoutSessionRequest.setReference(...);\r\n            checkoutSessionRequest.setCountryCode(...);\r\n            checkoutSessionRequest.setShopperReference(...);\r\n            checkoutSessionRequest.setShopperEmail(...);\r\n            checkoutSessionRequest.storePaymentMethod(true);                        \r\ncheckoutSessionRequest.setStorePaymentMethodMode(CreateCheckoutSessionRequest.StorePaymentMethodModeEnum.ENABLED);            checkoutSessionRequest.setRecurringProcessingModel(CreateCheckoutSessionRequest.RecurringProcessingModelEnum.UNSCHEDULEDCARDONFILE);\r\n            checkoutSessionRequest.setAllowedPaymentMethods(List.of(&quot;sepadirectdebit&quot;));\r\n\r\n            CreateCheckoutSessionResponse checkoutSessionResponse = paymentsApi.sessions(checkoutSessionRequest);\r\n\r\n```\r\n\r\nAnyone has idea on this? What could be the problem?\r\n\r\n\r\nNote: I have tried &quot;**card**&quot; as allowed method and it is working.","title":"Creating payment session for allowed payment method as &quot;sepadirectdebit&quot; is not working","body":"<p>I am using adyen java library ('com.adyen:adyen-java-api-library:20.0.0').\nWhen I try to create session with <strong>allowedPaymentMehods as sepadirectdebit</strong> It is giving a error response</p>\n<pre><code>{&quot;status&quot;:422,&quot;errorCode&quot;:&quot;14_0408&quot;,&quot;message&quot;:&quot;There are no payment methods available for the given parameters.&quot;,&quot;errorType&quot;:&quot;validation&quot;,&quot;pspReference&quot;:&quot;......&quot;}\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>PaymentsApi paymentsApi;\n            paymentsApi = new PaymentsApi(client);\n\n            CreateCheckoutSessionRequest checkoutSessionRequest = new CreateCheckoutSessionRequest();\n            Amount pAmount = new Amount();\n            pAmount.setCurrency(...);\n            pAmount.setValue(...);\n            checkoutSessionRequest.setAmount(...);\n            checkoutSessionRequest.setMerchantAccount(...);\n            checkoutSessionRequest.setReturnUrl(...);\n            checkoutSessionRequest.setReference(...);\n            checkoutSessionRequest.setCountryCode(...);\n            checkoutSessionRequest.setShopperReference(...);\n            checkoutSessionRequest.setShopperEmail(...);\n            checkoutSessionRequest.storePaymentMethod(true);                        \ncheckoutSessionRequest.setStorePaymentMethodMode(CreateCheckoutSessionRequest.StorePaymentMethodModeEnum.ENABLED);            checkoutSessionRequest.setRecurringProcessingModel(CreateCheckoutSessionRequest.RecurringProcessingModelEnum.UNSCHEDULEDCARDONFILE);\n            checkoutSessionRequest.setAllowedPaymentMethods(List.of(&quot;sepadirectdebit&quot;));\n\n            CreateCheckoutSessionResponse checkoutSessionResponse = paymentsApi.sessions(checkoutSessionRequest);\n\n</code></pre>\n<p>Anyone has idea on this? What could be the problem?</p>\n<p>Note: I have tried &quot;<strong>card</strong>&quot; as allowed method and it is working.</p>\n"},{"tags":["java","reflection","call","private"],"comments":[{"owner":{"account_id":1279834,"reputation":1519,"user_id":1263272,"accept_rate":56,"display_name":"PriestVallon"},"score":14,"creation_date":1341148575,"post_id":11282265,"comment_id":14838792,"body_markdown":"Isn&#39;t the idea of private that you can&#39;t call it from outside?","body":"Isn&#39;t the idea of private that you can&#39;t call it from outside?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1341148692,"post_id":11282265,"comment_id":14838815,"body_markdown":"Yes, it&#39;s possible with reflection, but the point of private is to make it harder to call methods from the outside.  Maybe it _shouldn&#39;t be private_?","body":"Yes, it&#39;s possible with reflection, but the point of private is to make it harder to call methods from the outside.  Maybe it <i>shouldn&#39;t be private</i>?"},{"owner":{"account_id":480560,"reputation":3439,"user_id":893863,"accept_rate":80,"display_name":"Hamed Rajabi Varamini"},"score":0,"creation_date":1341148881,"post_id":11282265,"comment_id":14838857,"body_markdown":"@robert it&#39;s in the same program (module)","body":"@robert it&#39;s in the same program (module)"},{"owner":{"account_id":231365,"reputation":2941,"user_id":495558,"accept_rate":87,"display_name":"Genzer"},"score":0,"creation_date":1341149349,"post_id":11282265,"comment_id":14838949,"body_markdown":"@HamedRajabi: you mean the class that call the private method and your `Dummy` class is in the same package? If that&#39;s the case, you may want to use `package-private` (omitting the modifier).","body":"@HamedRajabi: you mean the class that call the private method and your <code>Dummy</code> class is in the same package? If that&#39;s the case, you may want to use <code>package-private</code> (omitting the modifier)."},{"owner":{"account_id":480560,"reputation":3439,"user_id":893863,"accept_rate":80,"display_name":"Hamed Rajabi Varamini"},"score":1,"creation_date":1341149410,"post_id":11282265,"comment_id":14838960,"body_markdown":"@PriestVallon Yes I know I&#39;m not supposed to do this in a real program, I was just wondering!!!","body":"@PriestVallon Yes I know I&#39;m not supposed to do this in a real program, I was just wondering!!!"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1687186289,"creation_date":1341148573,"answer_id":11282279,"question_id":11282265,"body_markdown":"use `setAccessible(true)` on your Method object before using its `invoke` method.\r\n\r\n    import java.lang.reflect.*;\r\n\tclass Dummy{\r\n\t\tprivate void foo(){\r\n\t\t\tSystem.out.println(&quot;hello foo()&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tclass Test{\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tDummy d = new Dummy();\r\n\t\t\tMethod m = Dummy.class.getDeclaredMethod(&quot;foo&quot;);\r\n\t\t\t//m.invoke(d);// throws java.lang.IllegalAccessException\r\n\t\t\tm.setAccessible(true);// Abracadabra \r\n\t\t\tm.invoke(d);// now its OK\r\n\t\t}\r\n\t}\r\n\r\n-----\r\n\r\nIf someone is interested in invoking methods with parameters see https://stackoverflow.com/questions/160970, specifically answer like https://stackoverflow.com/a/30671481. \r\n\r\nJust don&#39;t forget to add `setAccessible(true)` while invoking `private` methods.","title":"How to use reflection to call a private method from outside a java class without getting IllegalAccessException?","body":"<p>use <code>setAccessible(true)</code> on your Method object before using its <code>invoke</code> method.</p>\n<pre><code>import java.lang.reflect.*;\nclass Dummy{\n    private void foo(){\n        System.out.println(&quot;hello foo()&quot;);\n    }\n}\n\nclass Test{\n    public static void main(String[] args) throws Exception {\n        Dummy d = new Dummy();\n        Method m = Dummy.class.getDeclaredMethod(&quot;foo&quot;);\n        //m.invoke(d);// throws java.lang.IllegalAccessException\n        m.setAccessible(true);// Abracadabra \n        m.invoke(d);// now its OK\n    }\n}\n</code></pre>\n<hr />\n<p>If someone is interested in invoking methods with parameters see <a href=\"https://stackoverflow.com/questions/160970\">How do I invoke a Java method when given the method name as a string?</a>, specifically answer like <a href=\"https://stackoverflow.com/a/30671481\">https://stackoverflow.com/a/30671481</a>.</p>\n<p>Just don't forget to add <code>setAccessible(true)</code> while invoking <code>private</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":928900,"reputation":2486,"user_id":959156,"accept_rate":100,"display_name":"Mostafa Zeinali"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1341148663,"creation_date":1341148663,"answer_id":11282288,"question_id":11282265,"body_markdown":"First you gotta get the class, which is pretty straight forward, then get the method by name using `getDeclaredMethod` then you need to set the method as accessible by `setAccessible` method on the `Method` object.\r\n\r\n    \tClass&lt;?&gt; clazz = Class.forName(&quot;test.Dummy&quot;);\r\n\t\t\r\n\t\tMethod m = clazz.getDeclaredMethod(&quot;sayHello&quot;);\r\n\t\t\r\n\t\tm.setAccessible(true);\r\n\t\t\r\n\t\tm.invoke(new Dummy());\r\n","title":"How to use reflection to call a private method from outside a java class without getting IllegalAccessException?","body":"<p>First you gotta get the class, which is pretty straight forward, then get the method by name using <code>getDeclaredMethod</code> then you need to set the method as accessible by <code>setAccessible</code> method on the <code>Method</code> object.</p>\n\n<pre><code>    Class&lt;?&gt; clazz = Class.forName(\"test.Dummy\");\n\n    Method m = clazz.getDeclaredMethod(\"sayHello\");\n\n    m.setAccessible(true);\n\n    m.invoke(new Dummy());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168378,"reputation":2325,"user_id":393804,"display_name":"Usman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1341148793,"creation_date":1341148793,"answer_id":11282301,"question_id":11282265,"body_markdown":"    method = object.getClass().getDeclaredMethod(methodName);\r\n    method.setAccessible(true);\r\n    method.invoke(object);","title":"How to use reflection to call a private method from outside a java class without getting IllegalAccessException?","body":"<pre><code>method = object.getClass().getDeclaredMethod(methodName);\nmethod.setAccessible(true);\nmethod.invoke(object);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2121284,"reputation":399,"user_id":1884473,"display_name":"Keyur"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1390485609,"creation_date":1390485609,"answer_id":21310290,"question_id":11282265,"body_markdown":"If you want to pass any parameter to private function you can pass it as second, third..... arguments of invoke function. Following is sample code.\r\n\r\n    Method meth = obj.getClass().getDeclaredMethod(&quot;getMyName&quot;, String.class);\r\n    meth.setAccessible(true);\r\n    String name = (String) meth.invoke(obj, &quot;Green Goblin&quot;);\r\n\r\nFull example you can see [Here][1]\r\n\r\n\r\n  [1]: http://keyurj.blogspot.in/2014/01/how-to-call-private-function-of-another.html","title":"How to use reflection to call a private method from outside a java class without getting IllegalAccessException?","body":"<p>If you want to pass any parameter to private function you can pass it as second, third..... arguments of invoke function. Following is sample code.</p>\n\n<pre><code>Method meth = obj.getClass().getDeclaredMethod(\"getMyName\", String.class);\nmeth.setAccessible(true);\nString name = (String) meth.invoke(obj, \"Green Goblin\");\n</code></pre>\n\n<p>Full example you can see <a href=\"http://keyurj.blogspot.in/2014/01/how-to-call-private-function-of-another.html\" rel=\"noreferrer\">Here</a></p>\n"},{"tags":[],"owner":{"account_id":7781500,"reputation":7645,"user_id":5887772,"accept_rate":0,"display_name":"kalyani chaudhari"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1465478047,"creation_date":1465478047,"answer_id":37727047,"question_id":11282265,"body_markdown":"Example of accessing private method(with parameter) using java reflection as follows :\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    class Test\r\n    {\r\n    \tprivate void call(int n)  //private method\r\n    \t{\r\n    \t\tSystem.out.println(&quot;in call()  n: &quot;+ n);\r\n    \t}\r\n    }\r\n    public class Sample\r\n    {\r\n    \tpublic static void main(String args[]) throws ClassNotFoundException,   NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchFieldException\r\n    \t{\r\n\t    \tClass c=Class.forName(&quot;Test&quot;);\t//specify class name in quotes\r\n\t\t    Object obj=c.newInstance();\r\n\t\t\r\n    \t\t//----Accessing private Method\r\n    \t\tMethod m=c.getDeclaredMethod(&quot;call&quot;,new Class[]{int.class}); //getting method with parameters\r\n    \t\tm.setAccessible(true);\r\n    \t\tm.invoke(obj,7);\r\n\t    }\r\n    }","title":"How to use reflection to call a private method from outside a java class without getting IllegalAccessException?","body":"<p>Example of accessing private method(with parameter) using java reflection as follows :</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nclass Test\n{\n    private void call(int n)  //private method\n    {\n        System.out.println(\"in call()  n: \"+ n);\n    }\n}\npublic class Sample\n{\n    public static void main(String args[]) throws ClassNotFoundException,   NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchFieldException\n    {\n        Class c=Class.forName(\"Test\");  //specify class name in quotes\n        Object obj=c.newInstance();\n\n        //----Accessing private Method\n        Method m=c.getDeclaredMethod(\"call\",new Class[]{int.class}); //getting method with parameters\n        m.setAccessible(true);\n        m.invoke(obj,7);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":480560,"reputation":3439,"user_id":893863,"accept_rate":80,"display_name":"Hamed Rajabi Varamini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71250,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":11282279,"answer_count":5,"score":30,"last_activity_date":1687186289,"creation_date":1341148454,"question_id":11282265,"body_markdown":"I have a `Dummy` class that has a private method called `sayHello`. I want to call `sayHello` from outside `Dummy`. I think it should be possible with reflection but I get an `IllegalAccessException`. Any ideas???","title":"How to use reflection to call a private method from outside a java class without getting IllegalAccessException?","body":"<p>I have a <code>Dummy</code> class that has a private method called <code>sayHello</code>. I want to call <code>sayHello</code> from outside <code>Dummy</code>. I think it should be possible with reflection but I get an <code>IllegalAccessException</code>. Any ideas???</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam","data-processing"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687186225,"creation_date":1687186225,"answer_id":76507774,"question_id":76487335,"body_markdown":"Are you using a TestPipeline? I don&#39;t think you need to create a ProcessContext. \r\n\r\nI think this document might be helpful to clarify some of the concepts: https://beam.apache.org/documentation/pipelines/test-your-pipeline/","title":"Unit testing DoFn with ProcessContext in argument list","body":"<p>Are you using a TestPipeline? I don't think you need to create a ProcessContext.</p>\n<p>I think this document might be helpful to clarify some of the concepts: <a href=\"https://beam.apache.org/documentation/pipelines/test-your-pipeline/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/pipelines/test-your-pipeline/</a></p>\n"}],"owner":{"account_id":311409,"reputation":59,"user_id":624973,"accept_rate":0,"display_name":"Shlomi Elbaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687186225,"creation_date":1686895479,"question_id":76487335,"body_markdown":"I trying to test the following ParDo handler:\r\n\r\n```\r\npublic class DoFnHandlerFn extends DoFn&lt;KV&lt;Row, Row&gt;, Row&gt; {\r\n\r\n    @ProcessElement\r\n    public void processElement(@NotNull ProcessContext ctx, @SideInput(&quot;si_1&quot;) Map&lt;Row, Iterable&lt;Row&gt;&gt; si_1, @SideInput(&quot;si_2&quot;) List&lt;Row&gt; si_2) {\r\n        var el = ctx.element();\r\n        \r\n    }\r\n}\r\n```\r\n\r\nBut I have difficulty creating ProcessContext instance!\r\nI tried \r\n\r\n    var el = new DoFn.ProcessContext();\r\n\r\nBut I don&#39;t allowed to do it with error message: ```&#39;org.apache.beam.sdk.transforms.DoFn&#39; is not an enclosing class```\r\n\r\nHow can I instantiate  ProcessContext object in order to test it?\r\n\r\n","title":"Unit testing DoFn with ProcessContext in argument list","body":"<p>I trying to test the following ParDo handler:</p>\n<pre><code>public class DoFnHandlerFn extends DoFn&lt;KV&lt;Row, Row&gt;, Row&gt; {\n\n    @ProcessElement\n    public void processElement(@NotNull ProcessContext ctx, @SideInput(&quot;si_1&quot;) Map&lt;Row, Iterable&lt;Row&gt;&gt; si_1, @SideInput(&quot;si_2&quot;) List&lt;Row&gt; si_2) {\n        var el = ctx.element();\n        \n    }\n}\n</code></pre>\n<p>But I have difficulty creating ProcessContext instance!\nI tried</p>\n<pre><code>var el = new DoFn.ProcessContext();\n</code></pre>\n<p>But I don't allowed to do it with error message: <code>'org.apache.beam.sdk.transforms.DoFn' is not an enclosing class</code></p>\n<p>How can I instantiate  ProcessContext object in order to test it?</p>\n"},{"tags":["java","java-17","openwebstart"],"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687185787,"creation_date":1686927378,"question_id":76491371,"body_markdown":"We&#39;re using Open Web Start with java 17 (OWS 1.8 with Java Ecplipse Adoptium 17.0.7). We get a lot of &#39;Denying permission:&#39; Messages. Example :\r\n\r\n```\r\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;192.168.0.244&quot; &quot;resolve&quot;)\r\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;192.168.0.244&quot; &quot;resolve&quot;)\r\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;192.168.0.244&quot; &quot;resolve&quot;)\r\nDenying permission: (&quot;java.lang.RuntimePermission&quot; &quot;getClassLoader&quot;)\r\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;vm2022v7st:49835&quot; &quot;connect,resolve&quot;)\r\nDenying permission: (&quot;java.awt.AWTPermission&quot; &quot;showWindowWithoutWarningBanner&quot;)\r\n```\r\n\r\n\r\n\r\nI tried to set up a java.policy with All Permissions, but without success.\r\n\r\n```\r\ngrant {\r\n\t// Allow everything for now\r\n\tpermission java.security.AllPermission;\r\n};\r\n```\r\n\r\nAny ideas why this file is not taken in account? I attached the console log showing that the file is read.\r\n\r\n[Edit] Additionnal info : We identified that the problem seems to be linked with JavaFx. Everything else works fine, but as soon as javafx gets involved, we get permission errors.\r\n\r\nAlso, when specifying &#39;--nosecurity&#39; in command line (javaws --nosecurity ourApp.jnlp), everything works fine.\r\n=&gt; This solution would be okay if we could force this parameter within the jnlp (or some other way than via command line). Is this possible?\r\n\r\nThanks a lot !","title":"OWS + Jdk17 - Denying permission (java.policy issue?)","body":"<p>We're using Open Web Start with java 17 (OWS 1.8 with Java Ecplipse Adoptium 17.0.7). We get a lot of 'Denying permission:' Messages. Example :</p>\n<pre><code>Denying permission: (&quot;java.net.SocketPermission&quot; &quot;192.168.0.244&quot; &quot;resolve&quot;)\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;192.168.0.244&quot; &quot;resolve&quot;)\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;192.168.0.244&quot; &quot;resolve&quot;)\nDenying permission: (&quot;java.lang.RuntimePermission&quot; &quot;getClassLoader&quot;)\nDenying permission: (&quot;java.net.SocketPermission&quot; &quot;vm2022v7st:49835&quot; &quot;connect,resolve&quot;)\nDenying permission: (&quot;java.awt.AWTPermission&quot; &quot;showWindowWithoutWarningBanner&quot;)\n</code></pre>\n<p>I tried to set up a java.policy with All Permissions, but without success.</p>\n<pre><code>grant {\n    // Allow everything for now\n    permission java.security.AllPermission;\n};\n</code></pre>\n<p>Any ideas why this file is not taken in account? I attached the console log showing that the file is read.</p>\n<p>[Edit] Additionnal info : We identified that the problem seems to be linked with JavaFx. Everything else works fine, but as soon as javafx gets involved, we get permission errors.</p>\n<p>Also, when specifying '--nosecurity' in command line (javaws --nosecurity ourApp.jnlp), everything works fine.\n=&gt; This solution would be okay if we could force this parameter within the jnlp (or some other way than via command line). Is this possible?</p>\n<p>Thanks a lot !</p>\n"},{"tags":["java","github-actions"],"comments":[{"owner":{"account_id":11598503,"reputation":17257,"user_id":8496462,"display_name":"GuiFalourd"},"score":0,"creation_date":1687197839,"post_id":76507683,"comment_id":134900309,"body_markdown":"What did you try? There are different options to achieve what you want. A [paths](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#onpushpull_requestpull_request_targetpathspaths-ignore) subtype for pull_request could help you detect those changes when opening the PR, or even [paths-filter actions](https://github.com/dorny/paths-filter). Then you could just generate a comment on the PR through the GitHub CLI, API or an action.","body":"What did you try? There are different options to achieve what you want. A <a href=\"https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#onpushpull_requestpull_request_targetpathspaths-ignore\" rel=\"nofollow noreferrer\">paths</a> subtype for pull_request could help you detect those changes when opening the PR, or even <a href=\"https://github.com/dorny/paths-filter\" rel=\"nofollow noreferrer\">paths-filter actions</a>. Then you could just generate a comment on the PR through the GitHub CLI, API or an action."}],"owner":{"account_id":9331030,"reputation":171,"user_id":6926773,"display_name":"Lars Dormans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687185618,"creation_date":1687185618,"question_id":76507683,"body_markdown":"Hey there id like to make a github workflow that will add a comment to a pullrequest if changes are made to classes who extend the object &#39;NonPermissive&#39;.\r\nIve unfortunately been unsuccessful in finding a proper way of doing this and was hoping for some assistance.","title":"How to post a comment on a pull request if changes is made to a certain class","body":"<p>Hey there id like to make a github workflow that will add a comment to a pullrequest if changes are made to classes who extend the object 'NonPermissive'.\nIve unfortunately been unsuccessful in finding a proper way of doing this and was hoping for some assistance.</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":16705900,"reputation":35,"user_id":12074429,"display_name":"Gopi"},"score":0,"creation_date":1623047911,"post_id":67836630,"comment_id":119956696,"body_markdown":"Issue has been resolved.","body":"Issue has been resolved."},{"owner":{"account_id":16705900,"reputation":35,"user_id":12074429,"display_name":"Gopi"},"score":0,"creation_date":1623048012,"post_id":67836630,"comment_id":119956735,"body_markdown":"LocalStorage localStorage = ((WebStorage) driver).getLocalStorage();\n\t\tlocalStorage.setItem(&quot;Shell&quot;,\n\t\t\t\t&quot;{\\&quot;locationnum\\&quot;:\\&quot;****\\&quot;,\\&quot;devicenum\\&quot;:\\&quot;***\\&quot;,\\&quot;storelang\\&quot;:\\&quot;en-us\\&quot;,\\&quot;computername\\&quot;:\\&quot;*****\\&quot;,\\&quot;trainingmode\\&quot;:\\&quot;***\\&quot;}&quot;);\n\t\tlocalStorage.setItem(&quot;Route&quot;, &quot;B&quot;);\n\t\tdriver.manage().window().maximize();\n\t\tdriver.navigate().refresh();","body":"LocalStorage localStorage = ((WebStorage) driver).getLocalStorage(); \t\tlocalStorage.setItem(&quot;Shell&quot;, \t\t\t\t&quot;{\\&quot;locationnum\\&quot;:\\&quot;****\\&quot;,\\&quot;devicenum\\&quot;:\\&quot;***\\&quot;,\\&quot;store&zwnj;&#8203;lang\\&quot;:\\&quot;en-us\\&quot;,\\&quot;c&zwnj;&#8203;omputername\\&quot;:\\&quot;****&zwnj;&#8203;*\\&quot;,\\&quot;trainingmode\\&quot;&zwnj;&#8203;:\\&quot;***\\&quot;}&quot;); \t\tlocalStorage.setItem(&quot;Route&quot;, &quot;B&quot;); \t\tdriver.manage().window().maximize(); \t\tdriver.navigate().refresh();"}],"owner":{"account_id":16705900,"reputation":35,"user_id":12074429,"display_name":"Gopi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687185560,"creation_date":1622806955,"question_id":67836630,"body_markdown":"I am trying to set KEY and Value in Local Storage for url loading in Edge Browser.\r\n\r\nI have tried in 2 ways but still not able to set KEY and Value, i am getting Null Pointer Exception.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am trying in Selenium.\r\n\r\nKindly help me to set KEY &amp; VALUE\r\n\r\n1st WAY:\r\n\t public void setLocalStorage()\r\n\t {\r\n\t\t \r\n\t\t    LocalStorage local = ((WebStorage) driver).getLocalStorage();    \r\n\t\t    local.clear();\r\n\t\t    local.setItem(&quot;route&quot;, &quot;A&quot;);\r\n\t }\r\n\t \r\n2nd WAY:\r\n\t\r\n\t@Test\r\n\tpublic void setLocalStorage(String key, String value) {         \r\n\t\tJavascriptExecutor js = (JavascriptExecutor) driver;         \r\n\tjs.executeScript(&quot;LocalStorage.setItem(arguments[0],arguments[1])&quot;,key,value);     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5V9nx.png","title":"Set KEY and Value in Local Storage for the URL loading in Edge Browser","body":"<p>I am trying to set KEY and Value in Local Storage for url loading in Edge Browser.</p>\n<p>I have tried in 2 ways but still not able to set KEY and Value, i am getting Null Pointer Exception.</p>\n<p><a href=\"https://i.stack.imgur.com/5V9nx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5V9nx.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying in Selenium.</p>\n<p>Kindly help me to set KEY &amp; VALUE</p>\n<p>1st WAY:\npublic void setLocalStorage()\n{</p>\n<pre><code>        LocalStorage local = ((WebStorage) driver).getLocalStorage();    \n        local.clear();\n        local.setItem(&quot;route&quot;, &quot;A&quot;);\n }\n \n</code></pre>\n<p>2nd WAY:</p>\n<pre><code>@Test\npublic void setLocalStorage(String key, String value) {         \n    JavascriptExecutor js = (JavascriptExecutor) driver;         \njs.executeScript(&quot;LocalStorage.setItem(arguments[0],arguments[1])&quot;,key,value);     }\n</code></pre>\n"},{"tags":["java","arrays","string","import","stringbuilder"],"comments":[{"owner":{"account_id":4832206,"reputation":7871,"user_id":3900120,"accept_rate":65,"display_name":"Apurva"},"score":0,"creation_date":1465715344,"post_id":37771581,"comment_id":63011456,"body_markdown":"I don&#39;t even see that you have initialized your array.","body":"I don&#39;t even see that you have initialized your array."},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1465716864,"post_id":37771581,"comment_id":63011779,"body_markdown":"Please remove your useless `StringBuilder` and use `buffer=s.split(&quot;\\t&quot;)` first. Your code is too obfuscated.","body":"Please remove your useless <code>StringBuilder</code> and use <code>buffer=s.split(&quot;\\t&quot;)</code> first. Your code is too obfuscated."}],"answers":[{"tags":[],"owner":{"account_id":2538485,"reputation":15111,"user_id":2204926,"accept_rate":96,"display_name":"Idos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465715253,"creation_date":1465714990,"answer_id":37771613,"question_id":37771581,"body_markdown":"&gt;`parseInt(str[x])`\r\n\r\nYou can&#39;t use array subscripts: `[]`, to index into a `String`, and obviously `str` is a `String`.  \r\nFor a solution you might want to consider using [`charAt()`][1] and then [`String.valueOf(char)`][2], which will convert the `char` back in case you need it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-char-","title":"Java error &quot;Array required, but String found&quot; while importing text file","body":"<blockquote>\n  <p><code>parseInt(str[x])</code></p>\n</blockquote>\n\n<p>You can't use array subscripts: <code>[]</code>, to index into a <code>String</code>, and obviously <code>str</code> is a <code>String</code>.<br>\nFor a solution you might want to consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)\" rel=\"nofollow\"><code>charAt()</code></a> and then <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-char-\" rel=\"nofollow\"><code>String.valueOf(char)</code></a>, which will convert the <code>char</code> back in case you need it.</p>\n"},{"tags":[],"owner":{"account_id":4815225,"reputation":45646,"user_id":3887516,"accept_rate":83,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1465715115,"creation_date":1465715115,"answer_id":37771624,"question_id":37771581,"body_markdown":"`str` is a string - a line from your input... That&#39;s not what you wanted.\r\n\r\nYou need to parse your `buffer`:\r\n\r\n    for (int x=0;x&lt;buffer.length();x++){\r\n         this.lab[x][y]=Integer.parseInt(buffer[x]);\r\n    }","title":"Java error &quot;Array required, but String found&quot; while importing text file","body":"<p><code>str</code> is a string - a line from your input... That's not what you wanted.</p>\n\n<p>You need to parse your <code>buffer</code>:</p>\n\n<pre><code>for (int x=0;x&lt;buffer.length();x++){\n     this.lab[x][y]=Integer.parseInt(buffer[x]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465715282,"creation_date":1465715282,"answer_id":37771646,"question_id":37771581,"body_markdown":"You declared str as follows:\r\n\r\n      String s,str;\r\n\r\nand tried to use it as follows:\r\n\r\n      this.lab[x][y]=Integer.parseInt(str[x]);\r\n\r\nThe declaration declares it as a `String`.  The usage (see the RHS of the `=` !!) tries to use it as an array of `String`.\r\n\r\n-----------------------\r\n\r\nActually, I think your real error is that you are attempting to parse the wrong thing.  I think it should probably be this:\r\n\r\n      buffer=str.split(&quot;\\t&quot;);\r\n      for (int x=0;x&lt;buffer.length;x++){\r\n          this.lab[x][y]=Integer.parseInt(buffer[x]);\r\n      }","title":"Java error &quot;Array required, but String found&quot; while importing text file","body":"<p>You declared str as follows:</p>\n\n<pre><code>  String s,str;\n</code></pre>\n\n<p>and tried to use it as follows:</p>\n\n<pre><code>  this.lab[x][y]=Integer.parseInt(str[x]);\n</code></pre>\n\n<p>The declaration declares it as a <code>String</code>.  The usage (see the RHS of the <code>=</code> !!) tries to use it as an array of <code>String</code>.</p>\n\n<hr>\n\n<p>Actually, I think your real error is that you are attempting to parse the wrong thing.  I think it should probably be this:</p>\n\n<pre><code>  buffer=str.split(\"\\t\");\n  for (int x=0;x&lt;buffer.length;x++){\n      this.lab[x][y]=Integer.parseInt(buffer[x]);\n  }\n</code></pre>\n"}],"owner":{"account_id":2319387,"reputation":75,"user_id":2035603,"display_name":"Roberto Vasquez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":37771624,"answer_count":3,"score":-1,"last_activity_date":1687185259,"creation_date":1465714723,"question_id":37771581,"body_markdown":"I&#39;m trying to import a tab delimited text file into an 2D array but when trying to assign the values of the splitted String into the array I get the error &quot;Array required, but String found&quot;.\r\n\r\nHere is my code so far:\r\n\r\n    try {\r\n        FileReader fr = new FileReader (&quot;Laberinto.txt&quot;);\r\n        BufferedReader br = new BufferedReader(fr);\r\n        \r\n        String s,str;\r\n        String[] buffer;\r\n        \r\n        int y=0;\r\n        \r\n        while ((s=br.readLine())!= null){\r\n            StringBuilder builder = new StringBuilder();\r\n            str=builder.append(s).toString();\r\n            buffer=str.split(&quot;\\t&quot;);\r\n            \r\n            for (int x=0;x&lt;str.length();x++){\r\n                this.lab[x][y]=Integer.parseInt(str[x]);\r\n            }\r\n  \r\n            y++;\r\n        }\r\n    }\r\n\r\nI get the error on the line `this.lab[x][y]=Integer.parseInt(str[x]);`.\r\n\r\nThe file is basically a bunch of 1s and 0s that form a labyrinth (1 being the walls and 0 the corridors) delimited by tabulator.\r\n\r\nWhat am I doing wrong?","title":"Java error &quot;Array required, but String found&quot; while importing text file","body":"<p>I'm trying to import a tab delimited text file into an 2D array but when trying to assign the values of the splitted String into the array I get the error &quot;Array required, but String found&quot;.</p>\n<p>Here is my code so far:</p>\n<pre><code>try {\n    FileReader fr = new FileReader (&quot;Laberinto.txt&quot;);\n    BufferedReader br = new BufferedReader(fr);\n    \n    String s,str;\n    String[] buffer;\n    \n    int y=0;\n    \n    while ((s=br.readLine())!= null){\n        StringBuilder builder = new StringBuilder();\n        str=builder.append(s).toString();\n        buffer=str.split(&quot;\\t&quot;);\n        \n        for (int x=0;x&lt;str.length();x++){\n            this.lab[x][y]=Integer.parseInt(str[x]);\n        }\n\n        y++;\n    }\n}\n</code></pre>\n<p>I get the error on the line <code>this.lab[x][y]=Integer.parseInt(str[x]);</code>.</p>\n<p>The file is basically a bunch of 1s and 0s that form a labyrinth (1 being the walls and 0 the corridors) delimited by tabulator.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687179576,"post_id":76506879,"comment_id":134896424,"body_markdown":"Are you sure the file is OK? Can you open it with a local Excel installation?","body":"Are you sure the file is OK? Can you open it with a local Excel installation?"},{"owner":{"account_id":10118822,"reputation":191,"user_id":7476542,"display_name":"Sayandip Ghatak"},"score":0,"creation_date":1687179665,"post_id":76506879,"comment_id":134896448,"body_markdown":"Yes I can open the excel without any error in Excel app","body":"Yes I can open the excel without any error in Excel app"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1687179804,"post_id":76506879,"comment_id":134896485,"body_markdown":"Please provide full stack trace in your question. And please tell us what Apache POI version used.","body":"Please provide full stack trace in your question. And please tell us what Apache POI version used."},{"owner":{"account_id":10118822,"reputation":191,"user_id":7476542,"display_name":"Sayandip Ghatak"},"score":0,"creation_date":1687181711,"post_id":76506879,"comment_id":134896938,"body_markdown":"I am using Apache poi 3.17","body":"I am using Apache poi 3.17"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687185196,"post_id":76506879,"comment_id":134897706,"body_markdown":"What happens when you copy that file elsewhere, say `%TMP%` and then try to open it with POI?","body":"What happens when you copy that file elsewhere, say <code>%TMP%</code> and then try to open it with POI?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1687186786,"post_id":76506879,"comment_id":134898085,"body_markdown":"You seems to have a mix of Apache POI versions in class path while runing. That is not supported. You get `... at org.apache.poi.openxml4j.util.ZipSecureFileSThresholdInputStream.read(ZipsecureFile.java:228) ...`: But code line 228 is *not* in `read` method of `org.apache.poi.openxml4j.util.ZipSecureFileSThresholdInputStream` in [REL_3_17_FINAL](https://svn.apache.org/viewvc/poi/tags/REL_3_17_FINAL/src/ooxml/java/org/apache/poi/openxml4j/util/ZipSecureFile.java?view=markup#l209). Please use only one Apache POI version.","body":"You seems to have a mix of Apache POI versions in class path while runing. That is not supported. You get <code>... at org.apache.poi.openxml4j.util.ZipSecureFileSThresholdInputSt&zwnj;&#8203;ream.read(ZipsecureF&zwnj;&#8203;ile.java:228) ...</code>: But code line 228 is <i>not</i> in <code>read</code> method of <code>org.apache.poi.openxml4j.util.ZipSecureFileSThresholdInputSt&zwnj;&#8203;ream</code> in <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_3_17_FINAL/src/ooxml/java/org/apache/poi/openxml4j/util/ZipSecureFile.java?view=markup#l209\" rel=\"nofollow noreferrer\">REL_3_17_FINAL</a>. Please use only one Apache POI version."},{"owner":{"account_id":10118822,"reputation":191,"user_id":7476542,"display_name":"Sayandip Ghatak"},"score":0,"creation_date":1687310244,"post_id":76506879,"comment_id":134917521,"body_markdown":"@AxelRichter Yes I had a mix of Apache POI versions. I removed the older version. But still it was not working. I then saved a copy of that excel in my local. Then I was able to read the excel. Seems like some encryption was there in the OneDrive excel","body":"@AxelRichter Yes I had a mix of Apache POI versions. I removed the older version. But still it was not working. I then saved a copy of that excel in my local. Then I was able to read the excel. Seems like some encryption was there in the OneDrive excel"}],"owner":{"account_id":10118822,"reputation":191,"user_id":7476542,"display_name":"Sayandip Ghatak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687185236,"creation_date":1687179488,"question_id":76506879,"body_markdown":"I was trying to read an **Confidential labeled** excel file from Onedrive using Apache POI.\r\n\r\nPlease find my code snippet below:\r\n\r\n        FileInputStream fis = new FileInputStream(new File(&quot;test.xlsx&quot;))\r\n        XSSFWorkbook workbook = new XSSFWorkbook (fis)\r\nThe code was working fine , but suddenly the second line is giving invalid entry size exception. \r\n\r\nI have tried to replace the Apache POI jar files, but still it is not working.\r\n\r\nI am getting the below error:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Failed to read zip entry source\r\n    at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:103)\r\n    at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:324) \r\n    at org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:295)\r\n    at ReadingData.TestClass.main(TestClass.java:31) \r\n    Caused by: java.util.zip.ZipException: invalid entry size (expected 0 but got 1053 bytes\r\n    at java.base/java.util.zip.ZipInputStream.readEnd(ZipInputStream.java:399) \r\n    at java.base/java.util.zip.ZipInputStream.read(ZipInputStream.java:198))\r\n    at org.apache.poi.openxml4j.util.ZipSecureFileSThresholdInputStream.read(ZipsecureFile.java:228) \r\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:186)\r\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySources FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132) \r\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56) \r\n    at org.apache.poi.openxml4j.opc.zipPackage &lt;init&gt;(ZipPackage.java:109)\r\n    4 more\r\n\r\n\r\n","title":"Getting invalid entry size ZipException while reading excel using Apache POI","body":"<p>I was trying to read an <strong>Confidential labeled</strong> excel file from Onedrive using Apache POI.</p>\n<p>Please find my code snippet below:</p>\n<pre><code>    FileInputStream fis = new FileInputStream(new File(&quot;test.xlsx&quot;))\n    XSSFWorkbook workbook = new XSSFWorkbook (fis)\n</code></pre>\n<p>The code was working fine , but suddenly the second line is giving invalid entry size exception.</p>\n<p>I have tried to replace the Apache POI jar files, but still it is not working.</p>\n<p>I am getting the below error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Failed to read zip entry source\nat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:103)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:324) \nat org.apache.poi.util.PackageHelper.open(PackageHelper.java:37)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:295)\nat ReadingData.TestClass.main(TestClass.java:31) \nCaused by: java.util.zip.ZipException: invalid entry size (expected 0 but got 1053 bytes\nat java.base/java.util.zip.ZipInputStream.readEnd(ZipInputStream.java:399) \nat java.base/java.util.zip.ZipInputStream.read(ZipInputStream.java:198))\nat org.apache.poi.openxml4j.util.ZipSecureFileSThresholdInputStream.read(ZipsecureFile.java:228) \nat java.base/java.io.FilterInputStream.read(FilterInputStream.java:186)\nat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySources FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132) \nat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56) \nat org.apache.poi.openxml4j.opc.zipPackage &lt;init&gt;(ZipPackage.java:109)\n4 more\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"score":0,"creation_date":1686332404,"post_id":76442470,"comment_id":134789398,"body_markdown":"@KJ the pdf has a dark background so I need the text to be white :D","body":"@KJ the pdf has a dark background so I need the text to be white :D"},{"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"score":0,"creation_date":1686333426,"post_id":76442470,"comment_id":134789573,"body_markdown":"I see. I have a very specific use case here where I am using a pdf inside a dicom file. the pdf is a medical report that will be displayed on a medical image viewer which has a dark theme, that is why I chose a dark pdf background.","body":"I see. I have a very specific use case here where I am using a pdf inside a dicom file. the pdf is a medical report that will be displayed on a medical image viewer which has a dark theme, that is why I chose a dark pdf background."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1686363947,"post_id":76442470,"comment_id":134792753,"body_markdown":"Can you share the result PDF? Your code looks correct.","body":"Can you share the result PDF? Your code looks correct."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1686380091,"post_id":76442470,"comment_id":134793684,"body_markdown":"You set the default appearance for the form in general. If the fields in question do have their own default appearance values, the form-wide value will be ignored. Thus, have you tried setting the field default appearance values?","body":"You set the default appearance for the form in general. If the fields in question do have their own default appearance values, the form-wide value will be ignored. Thus, have you tried setting the field default appearance values?"},{"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"score":0,"creation_date":1686415813,"post_id":76442470,"comment_id":134796990,"body_markdown":"@mkl I tried to set the style on the field but i could not figure out how. there is no method to change the style on a PDField object https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/interactive/form/PDField.html","body":"@mkl I tried to set the style on the field but i could not figure out how. there is no method to change the style on a PDField object <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/interactive/form/PDField.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmo&zwnj;&#8203;del/&hellip;</a>"},{"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"score":0,"creation_date":1686417388,"post_id":76442470,"comment_id":134797147,"body_markdown":"@TilmanHausherr here is the output pdf https://drive.google.com/file/d/1DvHBQ4YS7gFC_8wq6nFgwCZOfBI6u3TH/view?usp=sharing","body":"@TilmanHausherr here is the output pdf <a href=\"https://drive.google.com/file/d/1DvHBQ4YS7gFC_8wq6nFgwCZOfBI6u3TH/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1DvHBQ4YS7gFC_8wq6nFgwCZOfBI6u3TH/&hellip;</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1686451603,"post_id":76442470,"comment_id":134799684,"body_markdown":"Yeah mkl is right. Call `setDefaultAppearance` for each field if it is of type `PDVariableText`. See also the `CreateSimpleForm` example in the example subproject in the source code download. Btw I after writing this I tried ChatGPT and it brings a similar answer, wow.","body":"Yeah mkl is right. Call <code>setDefaultAppearance</code> for each field if it is of type <code>PDVariableText</code>. See also the <code>CreateSimpleForm</code> example in the example subproject in the source code download. Btw I after writing this I tried ChatGPT and it brings a similar answer, wow."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1686498365,"post_id":76442470,"comment_id":134803548,"body_markdown":"@Hasan *&quot;I tried to set the style on the field but i could not figure out how.&quot;* - As a _default appearance_ only makes sense for text fields, the `setDefaultAppearance` method is not in `PDField` but only in `PDVariableText`, compare Tilman&#39;s comment.","body":"@Hasan <i>&quot;I tried to set the style on the field but i could not figure out how.&quot;</i> - As a <i>default appearance</i> only makes sense for text fields, the <code>setDefaultAppearance</code> method is not in <code>PDField</code> but only in <code>PDVariableText</code>, compare Tilman&#39;s comment."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1686500393,"post_id":76442470,"comment_id":134803798,"body_markdown":"I&#39;ve added an answer. I didn&#39;t test it, so please comment if it doesn&#39;t work &#128514;","body":"I&#39;ve added an answer. I didn&#39;t test it, so please comment if it doesn&#39;t work 😂"}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687184241,"creation_date":1686358616,"answer_id":76444319,"question_id":76442470,"body_markdown":"I was unsure if it was practical to invert Form Field colours.\r\n\r\nI can say it should be possible with a library like PDFbox however the quandary remains that its not a good practical use to reverse from a normal rendering since in the De Facto Viewer Adobe Acrobat, seen here in middle left (which others &quot;should&quot; for compliance emulate) the data is very washed out. Also on occasion the data does not always appear.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo the object needs to be somthing like\r\n```\r\n6 0 obj\r\n&lt;&lt;/AP&lt;&lt;/N 11 0 R&gt;&gt;/DA(1 1 1 rg /Helv 0 Tf)/F 4/FT/Tx/M(D:20230610000000+00&#39;00&#39;)/MK&lt;&lt;/BC[1 1 1]/BG[0 0 0]&gt;&gt;/P 7 0 R/Rect[180.081 700.364 291.329 722.364]/Subtype/Widget/T(Text1)/Type/Annot/V(Hello Dark World !)&gt;&gt;\r\nendobj\r\n```\r\nWhere background is clearly black and annotation text appearance is white\r\nand you can set border colour either way as desired.\r\n\r\nIt took several attempts to get it to &quot;stick&quot; in my manual attempts, and apparently that has been an issue in the past with PDFBox (which I do not use). Thus I suggest ensure your using most recent version with recent acroform changes &lt;strike&gt;and review any residual problem at https://issues.apache.org/jira/browse/PDFBOX-5614?jql=project%20%3D%20PDFBOX%20AND%20component%20%3D%20AcroForm &lt;/strike&gt;\r\nReportedly will be fixed in next version. 2.0.29 / 3.0 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qDZcf.png","title":"changing color in pdfBox has no effect while working with form fields","body":"<p>I was unsure if it was practical to invert Form Field colours.</p>\n<p>I can say it should be possible with a library like PDFbox however the quandary remains that its not a good practical use to reverse from a normal rendering since in the De Facto Viewer Adobe Acrobat, seen here in middle left (which others &quot;should&quot; for compliance emulate) the data is very washed out. Also on occasion the data does not always appear.</p>\n<p><a href=\"https://i.stack.imgur.com/qDZcf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qDZcf.png\" alt=\"enter image description here\" /></a></p>\n<p>So the object needs to be somthing like</p>\n<pre><code>6 0 obj\n&lt;&lt;/AP&lt;&lt;/N 11 0 R&gt;&gt;/DA(1 1 1 rg /Helv 0 Tf)/F 4/FT/Tx/M(D:20230610000000+00'00')/MK&lt;&lt;/BC[1 1 1]/BG[0 0 0]&gt;&gt;/P 7 0 R/Rect[180.081 700.364 291.329 722.364]/Subtype/Widget/T(Text1)/Type/Annot/V(Hello Dark World !)&gt;&gt;\nendobj\n</code></pre>\n<p>Where background is clearly black and annotation text appearance is white\nand you can set border colour either way as desired.</p>\n<p>It took several attempts to get it to &quot;stick&quot; in my manual attempts, and apparently that has been an issue in the past with PDFBox (which I do not use). Thus I suggest ensure your using most recent version with recent acroform changes <strike>and review any residual problem at <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5614?jql=project%20%3D%20PDFBOX%20AND%20component%20%3D%20AcroForm\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-5614?jql=project%20%3D%20PDFBOX%20AND%20component%20%3D%20AcroForm</a> </strike>\nReportedly will be fixed in next version. 2.0.29 / 3.0</p>\n"},{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686500328,"creation_date":1686500328,"answer_id":76451387,"question_id":76442470,"body_markdown":"change your segment (3) into this:\r\n\r\n    PDField field = pDAcroForm.getField(fieldID);\r\n    if (field instanceof PDVariableText)\r\n    {\r\n        ((PDVariableText) field).setDefaultAppearance(&quot;/Helv 0 Tf 1 g&quot;);\r\n        field.setValue(replacementText);\r\n    }\r\n","title":"changing color in pdfBox has no effect while working with form fields","body":"<p>change your segment (3) into this:</p>\n<pre><code>PDField field = pDAcroForm.getField(fieldID);\nif (field instanceof PDVariableText)\n{\n    ((PDVariableText) field).setDefaultAppearance(&quot;/Helv 0 Tf 1 g&quot;);\n    field.setValue(replacementText);\n}\n</code></pre>\n"}],"owner":{"account_id":14028682,"reputation":716,"user_id":10133114,"display_name":"Hasan Aga"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687184241,"creation_date":1686331459,"question_id":76442470,"body_markdown":"I have a pdf with some form fields that I want to fill. I am using Java and pdfBox v2.0.27.\r\n\r\neverything works as expected but I cannot figure out how to change the color of the text that I am writing.\r\n\r\nhere is what I am doing:\r\n\r\n1. I get the form from the pdf:\r\n```\r\n            PDDocument pDDocument = PDDocument.load(new File(&quot;./assets/prostateTemplate.pdf&quot;));\r\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\r\n\r\n```\r\n2. I change the font and the color (font changes, color does not):\r\n```\r\n\r\n                PDFont font = PDType1Font.TIMES_ROMAN;\r\n                PDResources resources = new PDResources();\r\n                resources.put(COSName.HELV, font);\r\n    \r\n                pDAcroForm.setDefaultResources(resources);\r\n    \r\n                String defaultAppearanceString = &quot;/Helv 0 Tf 1 g&quot;;\r\n                pDAcroForm.setDefaultAppearance(defaultAppearanceString);\r\n\r\n```\r\n3. then I loop over the fields and set ther values:\r\n```\r\n        PDField field = pDAcroForm.getField(fieldID);\r\n        if(field != null){\r\n            field.setValue(replacementText);\r\n\r\n        }\r\n```\r\nthis line `&quot;/Helv 0 Tf 1 g&quot;` is supposed to change the color of the text. `1 g` should produce white text. I have also tried `&quot;/Helv 0 Tf 1 1 1 rg&quot;` and `&quot;/Helv 0 Tf 1 1 1 rgb&quot;` to no effect.\r\n\r\n## what I get\r\nI get the correct text with the correct font written on the doc but the color is black\r\n\r\n## what I want\r\nI want to change the color to white\r\n\r\nfor reference, here is the entire code in one block:\r\n```\r\npackage com.giacom;\r\n\r\nimport org.apache.pdfbox.cos.COSName;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\r\nimport org.apache.pdfbox.pdmodel.PDResources;\r\nimport org.apache.pdfbox.pdmodel.font.PDFont;\r\nimport org.apache.pdfbox.pdmodel.font.PDType0Font;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\r\nimport org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;\r\nimport org.apache.pdfbox.pdmodel.interactive.form.PDField;\r\n\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class PdfBoy {\r\n    private static Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n            data = PatientData.loadData(&quot;./assets/prostateData.xlsx&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;there is no such file&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        PdfBoy.createProstatePDF();\r\n    }\r\n\r\n    public static void createProstatePDF(){\r\n        try {\r\n\r\n            System.out.println(&quot;working on your prostate report...&quot;);\r\n            PDDocument pDDocument = PDDocument.load(new File(&quot;./assets/prostateTemplate.pdf&quot;));\r\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\r\n\r\n            // Set the font for form fields\r\n//            PDType0Font font = PDType0Font.load(pDDocument, new File(&quot;./assets/times.ttf&quot;));\r\n            PDFont font = PDType1Font.TIMES_ROMAN;\r\n            PDResources resources = new PDResources();\r\n            resources.put(COSName.HELV, font);\r\n\r\n            pDAcroForm.setDefaultResources(resources);\r\n\r\n            // Acrobat sets the font size on the form level to be\r\n            // auto sized as default. This is done by setting the font size to &#39;0&#39;\r\n            String defaultAppearanceString = &quot;/Helv 0 Tf 1 g&quot;;\r\n            pDAcroForm.setDefaultAppearance(defaultAppearanceString);\r\n\r\n\r\n            for (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\r\n                String key = entry.getKey();\r\n                String value = entry.getValue();\r\n//                System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value);\r\n                if(key != null &amp;&amp; value != null) {\r\n                    replaceFormField(pDAcroForm, key, value);\r\n                }\r\n            }\r\n\r\n            PDPage page = pDDocument.getPage(0);\r\n            PDPageContentStream contentStream = new PDPageContentStream(pDDocument, page, PDPageContentStream.AppendMode.APPEND, true);\r\n\r\n            addCircleToPdf(contentStream, Color.ORANGE, 100, 190);\r\n\r\n\r\n\r\n            contentStream.close();\r\n\r\n\r\n            pDDocument.save(&quot;./outputs/prostateReport.pdf&quot;);\r\n            pDDocument.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;there is no such file&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void createChestPDF(){\r\n        try {\r\n\r\n            System.out.println(&quot;working on your chest report...&quot;);\r\n            PDDocument pDDocument = PDDocument.load(new File(&quot;./assets/chestTemplate.pdf&quot;));\r\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\r\n\r\n\r\n            replaceFormField(pDAcroForm, &quot;PATIENT_ID&quot;, &quot;chest report&quot;);\r\n\r\n            PDPage page = pDDocument.getPage(0);\r\n            PDPageContentStream contentStream = new PDPageContentStream(pDDocument, page, PDPageContentStream.AppendMode.APPEND, true);\r\n\r\n            addCircleToPdf(contentStream, Color.ORANGE, 100, 190);\r\n\r\n\r\n\r\n            contentStream.close();\r\n\r\n\r\n            pDDocument.save(&quot;./outputs/chestReport.pdf&quot;);\r\n            pDDocument.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void replaceFormField(PDAcroForm pDAcroForm, String fieldID, String replacementText) throws IOException {\r\n        System.out.println(pDAcroForm.getDefaultAppearance());\r\n        PDField field = pDAcroForm.getField(fieldID);\r\n//        System.out.println(fieldID + &quot; -&gt; &quot; + field);\r\n        if(field != null){\r\n//            System.out.println(&quot;replacement text &quot; + replacementText);\r\n            System.out.println(field);\r\n            field.setValue(replacementText);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private static void addCircleToPdf(PDPageContentStream contentStream, Color color, int positionX, int positionY) throws IOException {\r\n        contentStream.setNonStrokingColor(color);\r\n        createCircleUsingCurves(contentStream, positionX, positionY, 5);\r\n        contentStream.fill();\r\n    }\r\n\r\n    private static void createCircleUsingCurves(PDPageContentStream contentStream, float x, float y, float radius) throws IOException {\r\n        contentStream.moveTo(x + radius, y);\r\n        contentStream.curveTo(x + radius, y + radius * 0.5523f,\r\n                x + radius * 0.5523f, y + radius,\r\n                x, y + radius);\r\n        contentStream.curveTo(x - radius * 0.5523f, y + radius,\r\n                x - radius, y + radius * 0.5523f,\r\n                x - radius, y);\r\n        contentStream.curveTo(x - radius, y - radius * 0.5523f,\r\n                x - radius * 0.5523f, y - radius,\r\n                x, y - radius);\r\n        contentStream.curveTo(x + radius * 0.5523f, y - radius,\r\n                x + radius, y - radius * 0.5523f,\r\n                x + radius, y);\r\n        contentStream.closePath();\r\n    }\r\n}\r\n\r\n```\r\nhere is the content of the pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.giacom&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pdf-java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;pdf-java&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxls-jexcel&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.dhatim&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastexcel-reader&lt;/artifactId&gt;\r\n            &lt;version&gt;0.15.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.dhatim&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastexcel&lt;/artifactId&gt;\r\n            &lt;version&gt;0.15.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                    &lt;release&gt;${java.version}&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"changing color in pdfBox has no effect while working with form fields","body":"<p>I have a pdf with some form fields that I want to fill. I am using Java and pdfBox v2.0.27.</p>\n<p>everything works as expected but I cannot figure out how to change the color of the text that I am writing.</p>\n<p>here is what I am doing:</p>\n<ol>\n<li>I get the form from the pdf:</li>\n</ol>\n<pre><code>            PDDocument pDDocument = PDDocument.load(new File(&quot;./assets/prostateTemplate.pdf&quot;));\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\n\n</code></pre>\n<ol start=\"2\">\n<li>I change the font and the color (font changes, color does not):</li>\n</ol>\n<pre><code>\n                PDFont font = PDType1Font.TIMES_ROMAN;\n                PDResources resources = new PDResources();\n                resources.put(COSName.HELV, font);\n    \n                pDAcroForm.setDefaultResources(resources);\n    \n                String defaultAppearanceString = &quot;/Helv 0 Tf 1 g&quot;;\n                pDAcroForm.setDefaultAppearance(defaultAppearanceString);\n\n</code></pre>\n<ol start=\"3\">\n<li>then I loop over the fields and set ther values:</li>\n</ol>\n<pre><code>        PDField field = pDAcroForm.getField(fieldID);\n        if(field != null){\n            field.setValue(replacementText);\n\n        }\n</code></pre>\n<p>this line <code>&quot;/Helv 0 Tf 1 g&quot;</code> is supposed to change the color of the text. <code>1 g</code> should produce white text. I have also tried <code>&quot;/Helv 0 Tf 1 1 1 rg&quot;</code> and <code>&quot;/Helv 0 Tf 1 1 1 rgb&quot;</code> to no effect.</p>\n<h2>what I get</h2>\n<p>I get the correct text with the correct font written on the doc but the color is black</p>\n<h2>what I want</h2>\n<p>I want to change the color to white</p>\n<p>for reference, here is the entire code in one block:</p>\n<pre><code>package com.giacom;\n\nimport org.apache.pdfbox.cos.COSName;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.PDResources;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType0Font;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDField;\n\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class PdfBoy {\n    private static Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        try {\n            data = PatientData.loadData(&quot;./assets/prostateData.xlsx&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;there is no such file&quot;);\n            e.printStackTrace();\n        }\n        PdfBoy.createProstatePDF();\n    }\n\n    public static void createProstatePDF(){\n        try {\n\n            System.out.println(&quot;working on your prostate report...&quot;);\n            PDDocument pDDocument = PDDocument.load(new File(&quot;./assets/prostateTemplate.pdf&quot;));\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\n\n            // Set the font for form fields\n//            PDType0Font font = PDType0Font.load(pDDocument, new File(&quot;./assets/times.ttf&quot;));\n            PDFont font = PDType1Font.TIMES_ROMAN;\n            PDResources resources = new PDResources();\n            resources.put(COSName.HELV, font);\n\n            pDAcroForm.setDefaultResources(resources);\n\n            // Acrobat sets the font size on the form level to be\n            // auto sized as default. This is done by setting the font size to '0'\n            String defaultAppearanceString = &quot;/Helv 0 Tf 1 g&quot;;\n            pDAcroForm.setDefaultAppearance(defaultAppearanceString);\n\n\n            for (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\n                String key = entry.getKey();\n                String value = entry.getValue();\n//                System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + value);\n                if(key != null &amp;&amp; value != null) {\n                    replaceFormField(pDAcroForm, key, value);\n                }\n            }\n\n            PDPage page = pDDocument.getPage(0);\n            PDPageContentStream contentStream = new PDPageContentStream(pDDocument, page, PDPageContentStream.AppendMode.APPEND, true);\n\n            addCircleToPdf(contentStream, Color.ORANGE, 100, 190);\n\n\n\n            contentStream.close();\n\n\n            pDDocument.save(&quot;./outputs/prostateReport.pdf&quot;);\n            pDDocument.close();\n        } catch (IOException e) {\n            System.out.println(&quot;there is no such file&quot;);\n            e.printStackTrace();\n        }\n    }\n    public static void createChestPDF(){\n        try {\n\n            System.out.println(&quot;working on your chest report...&quot;);\n            PDDocument pDDocument = PDDocument.load(new File(&quot;./assets/chestTemplate.pdf&quot;));\n            PDAcroForm pDAcroForm = pDDocument.getDocumentCatalog().getAcroForm();\n\n\n            replaceFormField(pDAcroForm, &quot;PATIENT_ID&quot;, &quot;chest report&quot;);\n\n            PDPage page = pDDocument.getPage(0);\n            PDPageContentStream contentStream = new PDPageContentStream(pDDocument, page, PDPageContentStream.AppendMode.APPEND, true);\n\n            addCircleToPdf(contentStream, Color.ORANGE, 100, 190);\n\n\n\n            contentStream.close();\n\n\n            pDDocument.save(&quot;./outputs/chestReport.pdf&quot;);\n            pDDocument.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void replaceFormField(PDAcroForm pDAcroForm, String fieldID, String replacementText) throws IOException {\n        System.out.println(pDAcroForm.getDefaultAppearance());\n        PDField field = pDAcroForm.getField(fieldID);\n//        System.out.println(fieldID + &quot; -&gt; &quot; + field);\n        if(field != null){\n//            System.out.println(&quot;replacement text &quot; + replacementText);\n            System.out.println(field);\n            field.setValue(replacementText);\n\n        }\n    }\n\n\n    private static void addCircleToPdf(PDPageContentStream contentStream, Color color, int positionX, int positionY) throws IOException {\n        contentStream.setNonStrokingColor(color);\n        createCircleUsingCurves(contentStream, positionX, positionY, 5);\n        contentStream.fill();\n    }\n\n    private static void createCircleUsingCurves(PDPageContentStream contentStream, float x, float y, float radius) throws IOException {\n        contentStream.moveTo(x + radius, y);\n        contentStream.curveTo(x + radius, y + radius * 0.5523f,\n                x + radius * 0.5523f, y + radius,\n                x, y + radius);\n        contentStream.curveTo(x - radius * 0.5523f, y + radius,\n                x - radius, y + radius * 0.5523f,\n                x - radius, y);\n        contentStream.curveTo(x - radius, y - radius * 0.5523f,\n                x - radius * 0.5523f, y - radius,\n                x, y - radius);\n        contentStream.curveTo(x + radius * 0.5523f, y - radius,\n                x + radius, y - radius * 0.5523f,\n                x + radius, y);\n        contentStream.closePath();\n    }\n}\n\n</code></pre>\n<p>here is the content of the pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.giacom&lt;/groupId&gt;\n    &lt;artifactId&gt;pdf-java&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;pdf-java&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-jexcel&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dhatim&lt;/groupId&gt;\n            &lt;artifactId&gt;fastexcel-reader&lt;/artifactId&gt;\n            &lt;version&gt;0.15.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dhatim&lt;/groupId&gt;\n            &lt;artifactId&gt;fastexcel&lt;/artifactId&gt;\n            &lt;version&gt;0.15.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                    &lt;release&gt;${java.version}&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","android","string","file-io"],"comments":[{"owner":{"account_id":413646,"reputation":2093,"user_id":787414,"display_name":"Dmitri Gudkov"},"score":2,"creation_date":1358418163,"post_id":14376807,"comment_id":19994565,"body_markdown":"the question is &quot;how to read/write to/from file?&quot;","body":"the question is &quot;how to read/write to/from file?&quot;"},{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1358418219,"post_id":14376807,"comment_id":19994601,"body_markdown":"Did you consider using the app&#39;s preferences to store your strings ?","body":"Did you consider using the app&#39;s preferences to store your strings ?"},{"owner":{"account_id":413646,"reputation":2093,"user_id":787414,"display_name":"Dmitri Gudkov"},"score":5,"creation_date":1358418261,"post_id":14376807,"comment_id":19994626,"body_markdown":"BTW, be sure you put permission to the mainfest file, to operate with storage...","body":"BTW, be sure you put permission to the mainfest file, to operate with storage..."},{"owner":{"account_id":2060106,"reputation":2570,"user_id":1836889,"accept_rate":67,"display_name":"Major Aly"},"score":1,"creation_date":1358418494,"post_id":14376807,"comment_id":19994736,"body_markdown":"This is my half complete app with many changes to implement. My idea is that the user enter the ID only once at the first run of the app. Then the app will reference that stored ID as many times as the user runs the app.\n\nPermissions are all added to the manifest.","body":"This is my half complete app with many changes to implement. My idea is that the user enter the ID only once at the first run of the app. Then the app will reference that stored ID as many times as the user runs the app.  Permissions are all added to the manifest."}],"answers":[{"tags":[],"owner":{"account_id":145998,"reputation":1843,"user_id":1545195,"accept_rate":69,"display_name":"Raj"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1358418539,"creation_date":1358418539,"answer_id":14376975,"question_id":14376807,"body_markdown":"check the below code.\r\n\r\nReading from a file in the filesystem.\r\n\r\n    FileInputStream fis = null;\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tfis = context.openFileInput(fileName);\r\n\t\t\tInputStreamReader isr = new InputStreamReader(fis);\r\n\t\t\t// READ STRING OF UNKNOWN LENGTH\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tchar[] inputBuffer = new char[2048];\r\n\t\t\tint l;\r\n\t\t\t// FILL BUFFER WITH DATA\r\n\t\t\twhile ((l = isr.read(inputBuffer)) != -1) {\r\n\t\t\t\tsb.append(inputBuffer, 0, l);\r\n\t\t\t}\r\n\t\t\t// CONVERT BYTES TO STRING\r\n\t\t\tString readString = sb.toString();\r\n\t\t\tfis.close();\r\n\t\t\r\n\t\tcatch (Exception e) {\r\n\t\t\t\r\n\t\t} finally {\r\n\t\t\tif (fis != null) {\r\n\t\t\t\tfis = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\nbelow code is to write the file in to internal filesystem.\r\n\r\n    FileOutputStream fos = null;\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tfos = context.openFileOutput(fileName, Context.MODE_PRIVATE);\r\n\t\t\tfos.write(stringdatatobestoredinfile.getBytes());\r\n\t\t\tfos.flush();\r\n\t\t\tfos.close();\r\n\t\t\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t} finally {\r\n\t\t\tif (fos != null) {\r\n\t\t\t\tfos = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\nI think this will help you.","title":"Read/Write String from/to a File in Android","body":"<p>check the below code.</p>\n\n<p>Reading from a file in the filesystem.</p>\n\n<pre><code>FileInputStream fis = null;\n    try {\n\n        fis = context.openFileInput(fileName);\n        InputStreamReader isr = new InputStreamReader(fis);\n        // READ STRING OF UNKNOWN LENGTH\n        StringBuilder sb = new StringBuilder();\n        char[] inputBuffer = new char[2048];\n        int l;\n        // FILL BUFFER WITH DATA\n        while ((l = isr.read(inputBuffer)) != -1) {\n            sb.append(inputBuffer, 0, l);\n        }\n        // CONVERT BYTES TO STRING\n        String readString = sb.toString();\n        fis.close();\n\n    catch (Exception e) {\n\n    } finally {\n        if (fis != null) {\n            fis = null;\n        }\n    }\n</code></pre>\n\n<p>below code is to write the file in to internal filesystem.</p>\n\n<pre><code>FileOutputStream fos = null;\n    try {\n\n        fos = context.openFileOutput(fileName, Context.MODE_PRIVATE);\n        fos.write(stringdatatobestoredinfile.getBytes());\n        fos.flush();\n        fos.close();\n\n    } catch (Exception e) {\n\n    } finally {\n        if (fos != null) {\n            fos = null;\n        }\n    }\n</code></pre>\n\n<p>I think this will help you.</p>\n"},{"tags":[],"owner":{"account_id":2157141,"reputation":6635,"user_id":1912085,"accept_rate":75,"display_name":"R9J"},"down_vote_count":3,"up_vote_count":404,"is_accepted":true,"score":401,"last_activity_date":1580354261,"creation_date":1358419193,"answer_id":14377185,"question_id":14376807,"body_markdown":"Hope this might be useful to you.\r\n \r\nWrite File:\r\n    \r\n    private void writeToFile(String data,Context context) {\r\n        try {\r\n            OutputStreamWriter outputStreamWriter = new OutputStreamWriter(context.openFileOutput(&quot;config.txt&quot;, Context.MODE_PRIVATE));\r\n            outputStreamWriter.write(data);\r\n            outputStreamWriter.close();\r\n        }\r\n        catch (IOException e) {\r\n            Log.e(&quot;Exception&quot;, &quot;File write failed: &quot; + e.toString());\r\n        } \r\n\t}\r\n\r\nRead File:\r\n    \r\n\tprivate String readFromFile(Context context) {\r\n\t\t\r\n        String ret = &quot;&quot;;\r\n        \r\n        try {\r\n            InputStream inputStream = context.openFileInput(&quot;config.txt&quot;);\r\n            \r\n            if ( inputStream != null ) {\r\n            \tInputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n            \tBufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n            \tString receiveString = &quot;&quot;;\r\n            \tStringBuilder stringBuilder = new StringBuilder();\r\n            \t\r\n            \twhile ( (receiveString = bufferedReader.readLine()) != null ) {\r\n            \t\tstringBuilder.append(&quot;\\n&quot;).append(receiveString);\r\n            \t}\r\n            \t\r\n            \tinputStream.close();\r\n            \tret = stringBuilder.toString();\r\n            }\r\n        }\r\n        catch (FileNotFoundException e) {\r\n        \tLog.e(&quot;login activity&quot;, &quot;File not found: &quot; + e.toString());\r\n\t\t} catch (IOException e) {\r\n\t\t\tLog.e(&quot;login activity&quot;, &quot;Can not read file: &quot; + e.toString());\r\n\t\t}\r\n\r\n        return ret;\r\n\t}","title":"Read/Write String from/to a File in Android","body":"<p>Hope this might be useful to you.</p>\n\n<p>Write File:</p>\n\n<pre><code>private void writeToFile(String data,Context context) {\n    try {\n        OutputStreamWriter outputStreamWriter = new OutputStreamWriter(context.openFileOutput(\"config.txt\", Context.MODE_PRIVATE));\n        outputStreamWriter.write(data);\n        outputStreamWriter.close();\n    }\n    catch (IOException e) {\n        Log.e(\"Exception\", \"File write failed: \" + e.toString());\n    } \n}\n</code></pre>\n\n<p>Read File:</p>\n\n<pre><code>private String readFromFile(Context context) {\n\n    String ret = \"\";\n\n    try {\n        InputStream inputStream = context.openFileInput(\"config.txt\");\n\n        if ( inputStream != null ) {\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n            String receiveString = \"\";\n            StringBuilder stringBuilder = new StringBuilder();\n\n            while ( (receiveString = bufferedReader.readLine()) != null ) {\n                stringBuilder.append(\"\\n\").append(receiveString);\n            }\n\n            inputStream.close();\n            ret = stringBuilder.toString();\n        }\n    }\n    catch (FileNotFoundException e) {\n        Log.e(\"login activity\", \"File not found: \" + e.toString());\n    } catch (IOException e) {\n        Log.e(\"login activity\", \"Can not read file: \" + e.toString());\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170920,"reputation":59446,"user_id":397991,"accept_rate":89,"display_name":"Eugene"},"down_vote_count":2,"up_vote_count":50,"is_accepted":false,"score":48,"last_activity_date":1523714311,"creation_date":1374592139,"answer_id":17814072,"question_id":14376807,"body_markdown":"    public static void writeStringAsFile(final String fileContents, String fileName) {\r\n        Context context = App.instance.getApplicationContext();\r\n        try {\r\n            FileWriter out = new FileWriter(new File(context.getFilesDir(), fileName));\r\n            out.write(fileContents);\r\n            out.close();\r\n        } catch (IOException e) {\r\n            Logger.logError(TAG, e);\r\n        }\r\n    }\r\n    \r\n    public static String readFileAsString(String fileName) {\r\n        Context context = App.instance.getApplicationContext();\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        String line;\r\n        BufferedReader in = null;\r\n    \r\n        try {\r\n            in = new BufferedReader(new FileReader(new File(context.getFilesDir(), fileName)));\r\n            while ((line = in.readLine()) != null) stringBuilder.append(line);\r\n    \r\n        } catch (FileNotFoundException e) {\r\n            Logger.logError(TAG, e);\r\n        } catch (IOException e) {\r\n            Logger.logError(TAG, e);\r\n        } \r\n    \r\n        return stringBuilder.toString();\r\n    }","title":"Read/Write String from/to a File in Android","body":"<pre><code>public static void writeStringAsFile(final String fileContents, String fileName) {\n    Context context = App.instance.getApplicationContext();\n    try {\n        FileWriter out = new FileWriter(new File(context.getFilesDir(), fileName));\n        out.write(fileContents);\n        out.close();\n    } catch (IOException e) {\n        Logger.logError(TAG, e);\n    }\n}\n\npublic static String readFileAsString(String fileName) {\n    Context context = App.instance.getApplicationContext();\n    StringBuilder stringBuilder = new StringBuilder();\n    String line;\n    BufferedReader in = null;\n\n    try {\n        in = new BufferedReader(new FileReader(new File(context.getFilesDir(), fileName)));\n        while ((line = in.readLine()) != null) stringBuilder.append(line);\n\n    } catch (FileNotFoundException e) {\n        Logger.logError(TAG, e);\n    } catch (IOException e) {\n        Logger.logError(TAG, e);\n    } \n\n    return stringBuilder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269969,"reputation":11509,"user_id":559634,"accept_rate":100,"display_name":"SharkAlley"},"down_vote_count":2,"up_vote_count":232,"is_accepted":false,"score":230,"last_activity_date":1513619443,"creation_date":1393584510,"answer_id":22092971,"question_id":14376807,"body_markdown":"For those looking for a general strategy for reading and writing a string to file:\r\n\r\n**First, get a file object**\r\n\r\nYou&#39;ll need the storage path. For the internal storage, use:\r\n\r\n    File path = context.getFilesDir();\r\n\r\nFor the external storage (SD card), use:\r\n\r\n    File path = context.getExternalFilesDir(null);\r\n\r\nThen create your file object:\r\n\r\n    File file = new File(path, &quot;my-file-name.txt&quot;);\r\n\r\n \r\n**Write a string to the file**\r\n\r\n\r\n    FileOutputStream stream = new FileOutputStream(file);\r\n    try {\r\n        stream.write(&quot;text-to-write&quot;.getBytes());\r\n    } finally {\r\n        stream.close();\r\n    }\r\n\r\nOr with Google Guava\r\n\r\n   &gt; String contents = Files.toString(file, StandardCharsets.UTF_8);\r\n\r\n**Read the file to a string**\r\n\r\n    int length = (int) file.length();\r\n\r\n    byte[] bytes = new byte[length];\r\n\r\n    FileInputStream in = new FileInputStream(file);\r\n    try {\r\n        in.read(bytes);\r\n    } finally {\r\n        in.close();\r\n    }\r\n\r\n    String contents = new String(bytes);   \r\n\r\nOr if you are using Google Guava\r\n\r\n    String contents = Files.toString(file,&quot;UTF-8&quot;);\r\n\r\nFor completeness I&#39;ll mention \r\n\r\n    String contents = new Scanner(file).useDelimiter(&quot;\\\\A&quot;).next();\r\n\r\nwhich requires no libraries, but benchmarks 50% - 400% slower than the other options (in various tests on my Nexus 5).\r\n\r\n**Notes**\r\n\r\nFor each of these strategies, you&#39;ll be asked to catch an IOException.  \r\n\r\nThe default character encoding on Android is UTF-8.  \r\n\r\nIf you are using external storage, you&#39;ll need to add to your manifest either:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\nor\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\nWrite permission implies read permission, so you don&#39;t need both.\r\n","title":"Read/Write String from/to a File in Android","body":"<p>For those looking for a general strategy for reading and writing a string to file:</p>\n\n<p><strong>First, get a file object</strong></p>\n\n<p>You'll need the storage path. For the internal storage, use:</p>\n\n<pre><code>File path = context.getFilesDir();\n</code></pre>\n\n<p>For the external storage (SD card), use:</p>\n\n<pre><code>File path = context.getExternalFilesDir(null);\n</code></pre>\n\n<p>Then create your file object:</p>\n\n<pre><code>File file = new File(path, \"my-file-name.txt\");\n</code></pre>\n\n<p><strong>Write a string to the file</strong></p>\n\n<pre><code>FileOutputStream stream = new FileOutputStream(file);\ntry {\n    stream.write(\"text-to-write\".getBytes());\n} finally {\n    stream.close();\n}\n</code></pre>\n\n<p>Or with Google Guava</p>\n\n<blockquote>\n  <p>String contents = Files.toString(file, StandardCharsets.UTF_8);</p>\n</blockquote>\n\n<p><strong>Read the file to a string</strong></p>\n\n<pre><code>int length = (int) file.length();\n\nbyte[] bytes = new byte[length];\n\nFileInputStream in = new FileInputStream(file);\ntry {\n    in.read(bytes);\n} finally {\n    in.close();\n}\n\nString contents = new String(bytes);   \n</code></pre>\n\n<p>Or if you are using Google Guava</p>\n\n<pre><code>String contents = Files.toString(file,\"UTF-8\");\n</code></pre>\n\n<p>For completeness I'll mention </p>\n\n<pre><code>String contents = new Scanner(file).useDelimiter(\"\\\\A\").next();\n</code></pre>\n\n<p>which requires no libraries, but benchmarks 50% - 400% slower than the other options (in various tests on my Nexus 5).</p>\n\n<p><strong>Notes</strong></p>\n\n<p>For each of these strategies, you'll be asked to catch an IOException.  </p>\n\n<p>The default character encoding on Android is UTF-8.  </p>\n\n<p>If you are using external storage, you'll need to add to your manifest either:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>Write permission implies read permission, so you don't need both.</p>\n"},{"tags":[],"owner":{"account_id":2760350,"reputation":268,"user_id":2377378,"display_name":"Tai Le Anh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1418710686,"creation_date":1418710686,"answer_id":27498663,"question_id":14376807,"body_markdown":"Just a a bit modifications on reading string from a file method for more performance\r\n\r\n    private String readFromFile(Context context, String fileName) {\r\n\t\tif (context == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t    String ret = &quot;&quot;;\r\n\r\n\t    try {\r\n\t        InputStream inputStream = context.openFileInput(fileName);\r\n\t        \r\n\t        if ( inputStream != null ) {\r\n\t            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\t            \r\n\t            \r\n\t            int size = inputStream.available();\r\n\t            char[] buffer = new char[size];\r\n\r\n\t            inputStreamReader.read(buffer);\r\n\t            \r\n\t            inputStream.close();\r\n\t            ret = new String(buffer);\r\n\t        }\r\n\t    }catch (Exception e) {\r\n\t        e.printStackTrace();\r\n\t    }\r\n\r\n\t    return ret;\r\n\t}","title":"Read/Write String from/to a File in Android","body":"<p>Just a a bit modifications on reading string from a file method for more performance</p>\n\n<pre><code>private String readFromFile(Context context, String fileName) {\n    if (context == null) {\n        return null;\n    }\n\n    String ret = \"\";\n\n    try {\n        InputStream inputStream = context.openFileInput(fileName);\n\n        if ( inputStream != null ) {\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream);               \n\n            int size = inputStream.available();\n            char[] buffer = new char[size];\n\n            inputStreamReader.read(buffer);\n\n            inputStream.close();\n            ret = new String(buffer);\n        }\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2917536,"reputation":51,"user_id":2500434,"display_name":"Nihilarian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462866797,"creation_date":1462866797,"answer_id":37132384,"question_id":14376807,"body_markdown":"I&#39;m a bit of a beginner and struggled getting this to work today.\r\n\r\nBelow is the class that I ended up with. It works but I was wondering how imperfect my solution is. Anyway, I was hoping some of you more experienced folk might be willing to have a look at my IO class and give me some tips. Cheers!\r\n\r\n    public class HighScore {\r\n        File data = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + File.separator);\r\n        File file = new File(data, &quot;highscore.txt&quot;);\r\n        private int highScore = 0;\r\n\r\n        public int readHighScore() {\r\n            try {\r\n                BufferedReader br = new BufferedReader(new FileReader(file));\r\n                try {\r\n                    highScore = Integer.parseInt(br.readLine());\r\n                    br.close();\r\n                } catch (NumberFormatException | IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                try {\r\n                    file.createNewFile();\r\n                } catch (IOException ioe) {\r\n                    ioe.printStackTrace();\r\n                }\r\n                e.printStackTrace();\r\n            }\r\n            return highScore;\r\n        }\r\n\r\n        public void writeHighScore(int highestScore) {\r\n            try {\r\n                BufferedWriter bw = new BufferedWriter(new FileWriter(file));\r\n                bw.write(String.valueOf(highestScore));\r\n                bw.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Read/Write String from/to a File in Android","body":"<p>I'm a bit of a beginner and struggled getting this to work today.</p>\n\n<p>Below is the class that I ended up with. It works but I was wondering how imperfect my solution is. Anyway, I was hoping some of you more experienced folk might be willing to have a look at my IO class and give me some tips. Cheers!</p>\n\n<pre><code>public class HighScore {\n    File data = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + File.separator);\n    File file = new File(data, \"highscore.txt\");\n    private int highScore = 0;\n\n    public int readHighScore() {\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(file));\n            try {\n                highScore = Integer.parseInt(br.readLine());\n                br.close();\n            } catch (NumberFormatException | IOException e) {\n                e.printStackTrace();\n            }\n        } catch (FileNotFoundException e) {\n            try {\n                file.createNewFile();\n            } catch (IOException ioe) {\n                ioe.printStackTrace();\n            }\n            e.printStackTrace();\n        }\n        return highScore;\n    }\n\n    public void writeHighScore(int highestScore) {\n        try {\n            BufferedWriter bw = new BufferedWriter(new FileWriter(file));\n            bw.write(String.valueOf(highestScore));\n            bw.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9143565,"reputation":781,"user_id":6800637,"display_name":"AllanRibas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622216456,"creation_date":1567482448,"answer_id":57764822,"question_id":14376807,"body_markdown":"the first thing we need is the permissions in AndroidManifest.xml\r\n \r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nso in an asyncTask Kotlin class, we treat the creation of the file\r\n\r\n    \timport android.os.AsyncTask\r\n\t\timport android.os.Environment\r\n\t\timport android.util.Log\r\n\t\timport java.io.*\r\n\t\tclass WriteFile: AsyncTask&lt;String, Int, String&gt;() {\r\n\t\t\tprivate val mFolder = &quot;/MainFolder&quot;\r\n\t\t\tlateinit var folder: File\r\n\t\t\tinternal var writeThis = &quot;string to cacheApp.txt&quot;\r\n\t\t\tinternal var cacheApptxt = &quot;cacheApp.txt&quot;\r\n\t\t\toverride fun doInBackground(vararg writethis: String): String? {\r\n\t\t\t\tval received = writethis[0]\r\n\t\t\t\tif(received.isNotEmpty()){\r\n\t\t\t\t\twriteThis = received\r\n\t\t\t\t}\r\n\t\t\t\tfolder = File(Environment.getExternalStorageDirectory(),&quot;$mFolder/&quot;)\r\n\t\t\t\tif(!folder.exists()){\r\n\t\t\t\t\tfolder.mkdir()\r\n\t\t\t\t\tval readME = File(folder, cacheApptxt)\r\n\t\t\t\t\tval file = File(readME.path)\r\n\t\t\t\t\tval out: BufferedWriter\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tout = BufferedWriter(FileWriter(file, true), 1024)\r\n\t\t\t\t\t\tout.write(writeThis)\r\n\t\t\t\t\t\tout.newLine()\r\n\t\t\t\t\t\tout.close()\r\n\t\t\t\t\t\tLog.d(&quot;Output_Success&quot;, folder.path)\r\n\t\t\t\t\t} catch (e: Exception) {\r\n\t\t\t\t\t\tLog.d(&quot;Output_Exception&quot;, &quot;$e&quot;)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn folder.path\r\n\r\n\t\t}\r\n\r\n\t\t\toverride fun onPostExecute(result: String) {\r\n\t\t\t\tsuper.onPostExecute(result)\r\n\r\n\t\t\t\tif(result.isNotEmpty()){\r\n\t\t\t\t\t//implement an interface or do something\r\n\t\t\t\t\tLog.d(&quot;onPostExecuteSuccess&quot;, result)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tLog.d(&quot;onPostExecuteFailure&quot;, result)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\nOf course if you are using Android above Api 23, you must handle the request to allow writing to device memory. Something like this\r\n\r\n     \timport android.Manifest\r\n\t\timport android.content.Context\r\n\t\timport android.content.pm.PackageManager\r\n\t\timport android.os.Build\r\n\t\timport androidx.appcompat.app.AppCompatActivity\r\n\t\timport androidx.core.app.ActivityCompat\r\n\t\timport androidx.core.content.ContextCompat\r\n\r\n\t\tclass ReadandWrite {\r\n\t\t\tprivate val mREAD = 9\r\n\t\t\tprivate val mWRITE = 10\r\n\t\t\tprivate var readAndWrite: Boolean = false\r\n\t\t\tfun readAndwriteStorage(ctx: Context, atividade: AppCompatActivity): Boolean {\r\n\t\t\t\tif (Build.VERSION.SDK_INT &lt; 23) {\r\n\t\t\t\t\treadAndWrite = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tval mRead = ContextCompat.checkSelfPermission(ctx, Manifest.permission.READ_EXTERNAL_STORAGE)\r\n\t\t\t\t\tval mWrite = ContextCompat.checkSelfPermission(ctx, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n\r\n\t\t\t\t\tif (mRead != PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t\t\tActivityCompat.requestPermissions(atividade, arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE), mREAD)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treadAndWrite = true\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (mWrite != PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t\t\tActivityCompat.requestPermissions(atividade, arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE), mWRITE)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treadAndWrite = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn readAndWrite\r\n\t\t\t}\r\n\t\t}\r\n\r\nthen in an activity, execute the call.\r\n\r\n      var pathToFileCreated = &quot;&quot;\r\n        val anRW = ReadandWrite().readAndwriteStorage(this,this)\r\n        if(anRW){\r\n            pathToFileCreated =  WriteFile().execute(&quot;onTaskComplete&quot;).get()\r\n            Log.d(&quot;pathToFileCreated&quot;,pathToFileCreated)\r\n        }","title":"Read/Write String from/to a File in Android","body":"<p>the first thing we need is the permissions in AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>so in an asyncTask Kotlin class, we treat the creation of the file</p>\n<pre><code>    import android.os.AsyncTask\n    import android.os.Environment\n    import android.util.Log\n    import java.io.*\n    class WriteFile: AsyncTask&lt;String, Int, String&gt;() {\n        private val mFolder = &quot;/MainFolder&quot;\n        lateinit var folder: File\n        internal var writeThis = &quot;string to cacheApp.txt&quot;\n        internal var cacheApptxt = &quot;cacheApp.txt&quot;\n        override fun doInBackground(vararg writethis: String): String? {\n            val received = writethis[0]\n            if(received.isNotEmpty()){\n                writeThis = received\n            }\n            folder = File(Environment.getExternalStorageDirectory(),&quot;$mFolder/&quot;)\n            if(!folder.exists()){\n                folder.mkdir()\n                val readME = File(folder, cacheApptxt)\n                val file = File(readME.path)\n                val out: BufferedWriter\n                try {\n                    out = BufferedWriter(FileWriter(file, true), 1024)\n                    out.write(writeThis)\n                    out.newLine()\n                    out.close()\n                    Log.d(&quot;Output_Success&quot;, folder.path)\n                } catch (e: Exception) {\n                    Log.d(&quot;Output_Exception&quot;, &quot;$e&quot;)\n                }\n            }\n            return folder.path\n\n    }\n\n        override fun onPostExecute(result: String) {\n            super.onPostExecute(result)\n\n            if(result.isNotEmpty()){\n                //implement an interface or do something\n                Log.d(&quot;onPostExecuteSuccess&quot;, result)\n            }else{\n                Log.d(&quot;onPostExecuteFailure&quot;, result)\n            }\n        }\n\n    }\n</code></pre>\n<p>Of course if you are using Android above Api 23, you must handle the request to allow writing to device memory. Something like this</p>\n<pre><code>    import android.Manifest\n    import android.content.Context\n    import android.content.pm.PackageManager\n    import android.os.Build\n    import androidx.appcompat.app.AppCompatActivity\n    import androidx.core.app.ActivityCompat\n    import androidx.core.content.ContextCompat\n\n    class ReadandWrite {\n        private val mREAD = 9\n        private val mWRITE = 10\n        private var readAndWrite: Boolean = false\n        fun readAndwriteStorage(ctx: Context, atividade: AppCompatActivity): Boolean {\n            if (Build.VERSION.SDK_INT &lt; 23) {\n                readAndWrite = true\n            } else {\n                val mRead = ContextCompat.checkSelfPermission(ctx, Manifest.permission.READ_EXTERNAL_STORAGE)\n                val mWrite = ContextCompat.checkSelfPermission(ctx, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n\n                if (mRead != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(atividade, arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE), mREAD)\n                } else {\n                    readAndWrite = true\n                }\n\n                if (mWrite != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(atividade, arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE), mWRITE)\n                } else {\n                    readAndWrite = true\n                }\n            }\n            return readAndWrite\n        }\n    }\n</code></pre>\n<p>then in an activity, execute the call.</p>\n<pre><code>  var pathToFileCreated = &quot;&quot;\n    val anRW = ReadandWrite().readAndwriteStorage(this,this)\n    if(anRW){\n        pathToFileCreated =  WriteFile().execute(&quot;onTaskComplete&quot;).get()\n        Log.d(&quot;pathToFileCreated&quot;,pathToFileCreated)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568028112,"creation_date":1568028112,"answer_id":57852998,"question_id":14376807,"body_markdown":"### Kotlin\n\n    class FileReadWriteService {\n    \n        private var context:Context? = ContextHolder.instance.appContext\n    \n        fun writeFileOnInternalStorage(fileKey: String, sBody: String) {\n            val file = File(context?.filesDir, &quot;files&quot;)\n            try {\n                if (!file.exists()) {\n                    file.mkdir()\n                }\n                val fileToWrite = File(file, fileKey)\n                val writer = FileWriter(fileToWrite)\n                writer.append(sBody)\n                writer.flush()\n                writer.close()\n            } catch (e: Exception) {\n                Logger.e(classTag, e)\n            }\n        }\n    \n        fun readFileOnInternalStorage(fileKey: String): String {\n            val file = File(context?.filesDir, &quot;files&quot;)\n            var ret = &quot;&quot;\n            try {\n                if (!file.exists()) {\n                    return ret\n                }\n                val fileToRead = File(file, fileKey)\n                val reader = FileReader(fileToRead)\n                ret = reader.readText()\n                reader.close()\n            } catch (e: Exception) {\n                Logger.e(classTag, e)\n            }\n            return ret\n        }\n    }","title":"Read/Write String from/to a File in Android","body":"<h3>Kotlin</h3>\n<pre><code>class FileReadWriteService {\n\n    private var context:Context? = ContextHolder.instance.appContext\n\n    fun writeFileOnInternalStorage(fileKey: String, sBody: String) {\n        val file = File(context?.filesDir, &quot;files&quot;)\n        try {\n            if (!file.exists()) {\n                file.mkdir()\n            }\n            val fileToWrite = File(file, fileKey)\n            val writer = FileWriter(fileToWrite)\n            writer.append(sBody)\n            writer.flush()\n            writer.close()\n        } catch (e: Exception) {\n            Logger.e(classTag, e)\n        }\n    }\n\n    fun readFileOnInternalStorage(fileKey: String): String {\n        val file = File(context?.filesDir, &quot;files&quot;)\n        var ret = &quot;&quot;\n        try {\n            if (!file.exists()) {\n                return ret\n            }\n            val fileToRead = File(file, fileKey)\n            val reader = FileReader(fileToRead)\n            ret = reader.readText()\n            reader.close()\n        } catch (e: Exception) {\n            Logger.e(classTag, e)\n        }\n        return ret\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1609741651,"creation_date":1609741651,"answer_id":65558504,"question_id":14376807,"body_markdown":"The `Kotlin` way by using builtin Extension function on `File`\r\n\r\n**Write:** `yourFile.writeText(textFromEditText)`\\\r\n**Read:** `yourFile.readText()`\r\n","title":"Read/Write String from/to a File in Android","body":"<p>The <code>Kotlin</code> way by using builtin Extension function on <code>File</code></p>\n<p><strong>Write:</strong> <code>yourFile.writeText(textFromEditText)</code><br />\n<strong>Read:</strong> <code>yourFile.readText()</code></p>\n"},{"tags":[],"owner":{"account_id":2081724,"reputation":3713,"user_id":2472350,"accept_rate":67,"display_name":"Amin Keshavarzian"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687183792,"creation_date":1628843708,"answer_id":68769196,"question_id":14376807,"body_markdown":"In **kotlin**, The easiest way to append to a text file in kotlin:\r\n\r\n    val directory = File(context.filesDir, &quot;LogsToSendToNextMunich&quot;).apply { \r\n        mkdirs() \r\n    }\r\n    val file = File(directory,&quot;Logs.txt&quot;)\r\n    file.appendText(&quot;You new text&quot;)\r\n\r\nIf you want to just write to the file:\r\n\r\n    yourFile.writeText(&quot;You new text&quot;)\r\n\r\nwriting anything to the files, using bytes:\r\n\r\n    FileOutputStream(file).use {\r\n        it.write(&quot;Some text for example&quot;.encodeToByteArray()) \r\n    }\r\n","title":"Read/Write String from/to a File in Android","body":"<p>In <strong>kotlin</strong>, The easiest way to append to a text file in kotlin:</p>\n<pre><code>val directory = File(context.filesDir, &quot;LogsToSendToNextMunich&quot;).apply { \n    mkdirs() \n}\nval file = File(directory,&quot;Logs.txt&quot;)\nfile.appendText(&quot;You new text&quot;)\n</code></pre>\n<p>If you want to just write to the file:</p>\n<pre><code>yourFile.writeText(&quot;You new text&quot;)\n</code></pre>\n<p>writing anything to the files, using bytes:</p>\n<pre><code>FileOutputStream(file).use {\n    it.write(&quot;Some text for example&quot;.encodeToByteArray()) \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9106944,"reputation":723,"user_id":6776992,"display_name":"dqthe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648297992,"creation_date":1648297992,"answer_id":71628080,"question_id":14376807,"body_markdown":"We can use this code to write String to a file\r\n```java\r\npublic static void writeTextToFile(final String filename, final String data) {\r\n    File file = new File(filename);\r\n    try {\r\n        FileOutputStream stream = new FileOutputStream(file);\r\n        stream.write(data.getBytes());\r\n        stream.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nThen in the Main code, we use this, for example\r\n```java\r\nwriteTextToFile(getExternalFilesDir(&quot;/&quot;).getAbsolutePath() + &quot;/output.txt&quot;, &quot;my-example-text&quot;);\r\n```\r\n\r\nAfter that, check the file at `Android/data/&lt;package-name&gt;/files`.\r\n","title":"Read/Write String from/to a File in Android","body":"<p>We can use this code to write String to a file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void writeTextToFile(final String filename, final String data) {\n    File file = new File(filename);\n    try {\n        FileOutputStream stream = new FileOutputStream(file);\n        stream.write(data.getBytes());\n        stream.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Then in the Main code, we use this, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>writeTextToFile(getExternalFilesDir(&quot;/&quot;).getAbsolutePath() + &quot;/output.txt&quot;, &quot;my-example-text&quot;);\n</code></pre>\n<p>After that, check the file at <code>Android/data/&lt;package-name&gt;/files</code>.</p>\n"}],"owner":{"account_id":2060106,"reputation":2570,"user_id":1836889,"accept_rate":67,"display_name":"Major Aly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646071,"favorite_count":0,"down_vote_count":1,"up_vote_count":274,"accepted_answer_id":14377185,"answer_count":11,"score":273,"last_activity_date":1687183792,"creation_date":1358418002,"question_id":14376807,"body_markdown":"I want to save a file to the internal storage by getting the text inputted from EditText. Then I want the same file to return the inputted text in String form and save it to another String which is to be used later.\r\n\r\nHere&#39;s the code:\r\n\r\n    package com.omm.easybalancerecharge;\r\n    \r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.telephony.TelephonyManager;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \r\n    \t\tfinal EditText num = (EditText) findViewById(R.id.sNum);\r\n    \t\tButton ch = (Button) findViewById(R.id.rButton);\r\n    \t\tTelephonyManager operator = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n    \t\tString opname = operator.getNetworkOperatorName();\r\n    \t\tTextView status = (TextView) findViewById(R.id.setStatus);\r\n    \t\tfinal EditText ID = (EditText) findViewById(R.id.IQID);\r\n    \t\tButton save = (Button) findViewById(R.id.sButton);\r\n    \t\t\r\n    \t\tfinal String myID = &quot;&quot;; //When Reading The File Back, I Need To Store It In This String For Later Use\r\n    \r\n    \t\tsave.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t\t//Get Text From EditText &quot;ID&quot; And Save It To Internal Memory\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tif (opname.contentEquals(&quot;zain SA&quot;)) {\r\n    \t\t\tstatus.setText(&quot;Your Network Is: &quot; + opname);\r\n    \t\t} else {\r\n    \t\t\tstatus.setText(&quot;No Network&quot;);\r\n    \t\t}\r\n    \t\tch.setOnClickListener(new OnClickListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t\t//Read From The Saved File Here And Append It To String &quot;myID&quot;\r\n    \t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tString hash = Uri.encode(&quot;#&quot;);\r\n    \t\t\t\tIntent intent = new Intent(Intent.ACTION_CALL);\r\n    \t\t\t\tintent.setData(Uri.parse(&quot;tel:*141*&quot; + /*Use The String With Data Retrieved Here*/ num.getText()\r\n    \t\t\t\t\t\t+ hash));\r\n    \t\t\t\tstartActivity(intent);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n\r\nI have included comments to help you further analyze my points as to where I want the operations to be done/variables to be used.","title":"Read/Write String from/to a File in Android","body":"<p>I want to save a file to the internal storage by getting the text inputted from EditText. Then I want the same file to return the inputted text in String form and save it to another String which is to be used later.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>package com.omm.easybalancerecharge;\n\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.telephony.TelephonyManager;\nimport android.view.Menu;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final EditText num = (EditText) findViewById(R.id.sNum);\n        Button ch = (Button) findViewById(R.id.rButton);\n        TelephonyManager operator = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n        String opname = operator.getNetworkOperatorName();\n        TextView status = (TextView) findViewById(R.id.setStatus);\n        final EditText ID = (EditText) findViewById(R.id.IQID);\n        Button save = (Button) findViewById(R.id.sButton);\n\n        final String myID = \"\"; //When Reading The File Back, I Need To Store It In This String For Later Use\n\n        save.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n\n                //Get Text From EditText \"ID\" And Save It To Internal Memory\n            }\n        });\n        if (opname.contentEquals(\"zain SA\")) {\n            status.setText(\"Your Network Is: \" + opname);\n        } else {\n            status.setText(\"No Network\");\n        }\n        ch.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n\n                //Read From The Saved File Here And Append It To String \"myID\"\n\n\n                String hash = Uri.encode(\"#\");\n                Intent intent = new Intent(Intent.ACTION_CALL);\n                intent.setData(Uri.parse(\"tel:*141*\" + /*Use The String With Data Retrieved Here*/ num.getText()\n                        + hash));\n                startActivity(intent);\n            }\n        });\n    }\n</code></pre>\n\n<p>I have included comments to help you further analyze my points as to where I want the operations to be done/variables to be used.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1687176466,"post_id":76506447,"comment_id":134895775,"body_markdown":"What did you try? Why didn&#39;t it work?","body":"What did you try? Why didn&#39;t it work?"}],"owner":{"display_name":"user21262199"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687183347,"creation_date":1687176211,"question_id":76506447,"body_markdown":"I am creating a quiz app in which when i clicked one option if it is correct it appears green and if it is incorrect it appears red but highlights the correct option green of that question also so thats why user know on the spot which is correct answer\r\nplz give me answer i am new in coding.","title":"How to get quiz options button color red or green if a selected option is wrong?","body":"<p>I am creating a quiz app in which when i clicked one option if it is correct it appears green and if it is incorrect it appears red but highlights the correct option green of that question also so thats why user know on the spot which is correct answer\nplz give me answer i am new in coding.</p>\n"},{"tags":["java","hibernate","jpa","persistence.xml","javafx-11"],"owner":{"account_id":21088988,"reputation":45,"user_id":15501352,"display_name":"Steven Ashraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687183212,"creation_date":1687183212,"question_id":76507372,"body_markdown":"this is my **pom.xml** file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;OBARS_V_2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;OBARS&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;24.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- ucanaccess dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.ucanaccess&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/ucanaccess-5.0.1.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.healthmarketscience.jackcess&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackcess&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.5&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/jackcess-3.0.1.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/hsqldb-2.5.0.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--     hibernate     --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;Maven Central Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;18&lt;/source&gt;\r\n                    &lt;target&gt;18&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.obars_v_2/OBARS&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nthis is the location of my **.jar** files **&quot;src\\main\\resources\\lib&quot;**\r\n[![enter image description here][1]][1]\r\n\r\nand this is the location of my **persistence.xml** file **&quot;src\\main\\resources\\META-INF\\persistence.xml&quot;**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\r\n             version=&quot;2.2&quot;&gt;\r\n    &lt;persistence-unit name=&quot;Patient_PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- Specify the provider --&gt;\r\n            &lt;property name=&quot;javax.persistence.provider&quot; value=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;/&gt;\r\n\r\n            &lt;!-- Configure the database connection --&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:ucanaccess://D:/BIS/Java/Projects/OBARS_V_2/src/main/resources/db/OBARS_.accdb&quot;/&gt;\r\n\r\n            &lt;!-- Hibernate specific properties --&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;net.ucanaccess.hibernate.dialect.UcanaccessDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n\r\n            &lt;!-- Entity manager factory configuration --&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nI use MVC architecture\r\n```\r\npackage utils;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.criteria.CriteriaBuilder;\r\nimport javax.persistence.criteria.CriteriaQuery;\r\nimport javax.persistence.criteria.Root;\r\n\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\n\r\npublic abstract class GenericRepository&lt;T&gt; {\r\n    private final Class&lt;T&gt; entityClass;\r\n    protected EntityManager entityManager;\r\n\r\n    public GenericRepository(Class&lt;T&gt; entityClass, EntityManager entityManager) {\r\n        this.entityClass = entityClass;\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    protected T findById(Long id) throws SQLException {\r\n        return entityManager.find(entityClass, id);\r\n    }\r\n\r\n    protected List&lt;T&gt; findAll() throws SQLException {\r\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;T&gt; query = criteriaBuilder.createQuery(entityClass);\r\n        Root&lt;T&gt; root = query.from(entityClass);\r\n        query.select(root);\r\n        return entityManager.createQuery(query).getResultList();\r\n    }\r\n\r\n    protected void save(T entity) throws SQLException {\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n        transaction.begin();\r\n        entityManager.persist(entity);\r\n        transaction.commit();\r\n    }\r\n\r\n    protected void update(T entity) throws SQLException {\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n        transaction.begin();\r\n        entityManager.merge(entity);\r\n        transaction.commit();\r\n    }\r\n\r\n    protected void delete(T entity) throws SQLException {\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n        transaction.begin();\r\n        entityManager.remove(entity);\r\n        transaction.commit();\r\n    }\r\n}\r\n```\r\n**PatientDAL class**\r\n```\r\npackage dataAccess;\r\n\r\nimport models.Patient;\r\nimport utils.GenericRepository;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\n\r\npublic class PatientDAL extends GenericRepository&lt;Patient&gt; {\r\n    public PatientDAL(EntityManager entityManager, Patient patient) throws SQLException {\r\n        super(Patient.class, entityManager);\r\n    }\r\n\r\n    public void createPatient(Patient patient) throws SQLException {\r\n        save(patient);\r\n    }\r\n\r\n    public Patient getPatient(long patientID) throws SQLException {\r\n        return findById(patientID);\r\n    }\r\n\r\n    public List&lt;Patient&gt; getAlPatients() throws SQLException {\r\n        return findAll();\r\n    }\r\n\r\n    public void updatePatient(Patient patient) throws SQLException {\r\n        update(patient);\r\n    }\r\n\r\n    public void deletePatient(Patient patient) throws SQLException {\r\n        delete(patient);\r\n    }\r\n}\r\n```\r\n**PatientBLL class**\r\n```\r\npackage businessLogic;\r\n\r\nimport ExceptionHandlers.BusinessException;\r\nimport dataAccess.PatientDAL;\r\nimport models.Patient;\r\nimport views.Admin;\r\nimport views.Profile;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport javafx.stage.Stage;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.Persistence;\r\nimport java.sql.SQLException;\r\nimport java.util.List;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class PatientBLL {\r\n    private final EntityManagerFactory entityManagerFactory;\r\n    private final EntityManager entityManager;\r\n    private final PatientDAL patientDAL;\r\n    private Patient patient;\r\n\r\n    {\r\n        try {\r\n            // Create the EntityManagerFactory\r\n            entityManagerFactory = Persistence.createEntityManagerFactory(&quot;Patient_PU&quot;);\r\n            // Create the EntityManager\r\n            entityManager = entityManagerFactory.createEntityManager();\r\n\r\n            patientDAL = new PatientDAL(entityManager, patient);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;\\n\\n&quot;);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    // Login Constructor\r\n    public PatientBLL(Stage loginStage, String userID, String pass) {\r\n        loginWithUserIDAndPass(loginStage, userID, pass);\r\n    }\r\n\r\n    // Sign Up Constructor\r\n    public PatientBLL(Stage signUpStage, String name, String phone, String email, String city, String address, String gender, String age, String userID, String createdPass, String confirmPass) {\r\n        signUpWithPatientData(signUpStage, name, phone, email, city, address, gender, age, userID, createdPass, confirmPass);\r\n    }\r\n\r\n    /*\r\n     *  Validate Login Form\r\n     */\r\n    private void loginWithUserIDAndPass(Stage loginStage, @org.jetbrains.annotations.NotNull String userID, String pass) {\r\n\r\n        // Check if the userID &amp; pass fields are Empty\r\n        if (userID.isEmpty() || pass.isEmpty()) {\r\n            System.out.println(&quot;Please, Enter Your ID And Password.&quot; + &quot;Missing Information!&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the patient credentials are valid\r\n        try {\r\n            patient = this.getPatientById(Integer.parseInt(userID));\r\n        } catch (BusinessException | NumberFormatException ex) {\r\n            System.out.println(&quot;Wrong UserID Or Password&quot;);\r\n            return;\r\n        }\r\n        if (patient == null || !patient.getPassword().equals(pass)) {\r\n            System.out.println(&quot;Wrong UserID Or Password&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the user is an Admin or a Patient\r\n        if (patient.getPatientId() == 1212 &amp;&amp; patient.getPassword().equals(pass)) {\r\n            loginStage.hide();\r\n            new Admin();\r\n        } else {\r\n            loginStage.hide();\r\n            new Profile(patient);\r\n        }\r\n\r\n        // then close the connection\r\n        try {\r\n            this.closeConnection();\r\n        } catch (BusinessException e) {\r\n            System.out.println(&quot;Failed to close the connection: &quot; +  e.getMessage());\r\n        }\r\n    }\r\n\r\n    /*\r\n     *  Validate Sign Up Form\r\n     */\r\n    private void signUpWithPatientData(Stage signUpStage, @NotNull String name, String phone, String email, String city, String address, String gender, String age, String userID, String createPass, String confirmPass) {\r\n\r\n        // Check if any of the input fields are Empty\r\n        if (name.isEmpty() || phone.isEmpty() || email.isEmpty() || city.isEmpty() || address.isEmpty() || age.isEmpty() || userID.isEmpty() || createPass.isEmpty() || confirmPass.isEmpty()) {\r\n            System.out.println(&quot;Please fill them all&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the Name is Valid\r\n        if (!Pattern.matches(&quot;^[a-zA-Z]+(\\\\s[a-zA-Z]+){0,5}$&quot;, name)) {\r\n            System.out.println(&quot;Please Enter A Valid Name&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the Phone is Valid\r\n        if (!Pattern.matches(&quot;^[0-9]+$&quot;, phone)) {\r\n            System.out.println(&quot;Please Enter A Valid Phone Number&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the Email is Valid\r\n        if (!Pattern.matches(&quot;^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+$&quot;, email)) {\r\n            System.out.println(&quot;Please Enter A Valid Email&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the Age is Valid\r\n        try {\r\n            if (Integer.parseInt(age) &lt;= 0 || Integer.parseInt(age) &gt;= 110) {\r\n                System.out.println(&quot;Please Enter A Valid Age&quot;);\r\n                return;\r\n            }\r\n        } catch (NumberFormatException ex) {\r\n            System.out.println(&quot;Please Enter A Valid Age&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the user is already Exist\r\n        try {\r\n            if (this.getPatientById(Integer.parseInt(userID)) != null) {\r\n                System.out.println(&quot;This UserID IS Already Exist&quot;);\r\n                return;\r\n            }\r\n        } catch (BusinessException | NumberFormatException ex) {\r\n            System.out.println(&quot;Please Enter A Valid UserID&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the Password is Valid\r\n        if (!Pattern.matches(&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d).{8,}$&quot;, createPass)) {\r\n            System.out.println(&quot;Please Enter A Valid Password&quot;);\r\n            return;\r\n        }\r\n\r\n        // Check if the two passwords are matched\r\n        if (!createPass.equals(confirmPass)) {\r\n            System.out.println(&quot;Passwords Doesn&#39;t Match&quot;);\r\n            return;\r\n        }\r\n\r\n        // If everything is good so far create the Patient &amp; go to the Profile page\r\n        patient = new Patient(Integer.parseInt(userID), name, city, address, phone, email, Integer.parseInt(age), createPass, gender);\r\n        try {\r\n            this.createPatient(patient);\r\n            this.closeConnection();\r\n            System.out.println(&quot;Registration successful.&quot;);\r\n\r\n            signUpStage.hide();\r\n            new Profile(patient);\r\n        }\r\n        catch (BusinessException e) {\r\n            System.out.println(&quot;Registration Failed! &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    /*\r\n     *  CRUD Operations\r\n     */\r\n    private Patient getPatientById(long patientId) throws BusinessException {\r\n        try {\r\n            return patientDAL.getPatient(patientId);\r\n        } catch (SQLException e) {\r\n            throw new BusinessException(&quot;Failed to get patient ID. &quot; + e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    public void createPatient(Patient patient) throws BusinessException {\r\n        try {\r\n            patientDAL.createPatient(patient);\r\n        } catch (SQLException e) {\r\n            throw new BusinessException(&quot;Failed to create patient: &quot; + e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    public void closeConnection() throws BusinessException {\r\n        // Close the EntityManager and EntityManagerFactory\r\n        entityManager.close();\r\n        entityManagerFactory.close();\r\n    }\r\n}\r\n```\r\n**Patient model**\r\n```\r\npackage models;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\npublic class Patient {\r\n    // Attributes\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int patientId;\r\n    @Column(name = &quot;P_Full_Name&quot;, nullable = false)\r\n    private String fullName;\r\n    @Column(name = &quot;P_City&quot;, nullable = false)\r\n    private String city;\r\n    @Column(name = &quot;P_Address&quot;, nullable = false)\r\n    private String address;\r\n    @Column(name = &quot;P_Phone&quot;, nullable = false)\r\n    private String phone;\r\n    @Column(name = &quot;P_Email&quot;, nullable = false)\r\n    private String email;\r\n    @Column(name = &quot;P_Gender&quot;, nullable = false)\r\n    private String gender;\r\n    @Column(name = &quot;P_Age&quot;, nullable = false)\r\n    private int age;\r\n    @Column(name = &quot;P_Password&quot;, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nI use IntelliJ IDE\r\n[![enter image description here][2]][2]\r\n\r\nI tried a lot of solutions but nothing worked I still get this error when I&#39;m trying to log in inside the java app\r\n\r\n```\r\njavax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\r\nWARNING: javax.persistence.spi::No valid providers found.\r\nException in thread &quot;JavaFX Application Thread&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named Patient_PU\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat OBARS@1.0-SNAPSHOT/businessLogic.PatientBLL.&lt;init&gt;(PatientBLL.java:29)\r\n\tat OBARS@1.0-SNAPSHOT/views.Login.lambda$initialize$0(Login.java:47)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Node.fireEvent(Node.java:8925)\r\n\tat javafx.controls@21-ea/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@21-ea/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@21-ea/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/YlCCB.png\r\n  [2]: https://i.stack.imgur.com/FYgND.png\r\n\r\n","title":"JavaFX Application Thread&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named","body":"<p>this is my <strong>pom.xml</strong> file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;OBARS_V_2&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;OBARS&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;24.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ucanaccess dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.ucanaccess&lt;/groupId&gt;\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/ucanaccess-5.0.1.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.healthmarketscience.jackcess&lt;/groupId&gt;\n            &lt;artifactId&gt;jackcess&lt;/artifactId&gt;\n            &lt;version&gt;4.0.5&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/jackcess-3.0.1.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/hsqldb-2.5.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--     hibernate     --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Maven Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.obars_v_2/OBARS&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is the location of my <strong>.jar</strong> files <strong>&quot;src\\main\\resources\\lib&quot;</strong>\n<a href=\"https://i.stack.imgur.com/YlCCB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YlCCB.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is the location of my <strong>persistence.xml</strong> file <strong>&quot;src\\main\\resources\\META-INF\\persistence.xml&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\n             version=&quot;2.2&quot;&gt;\n    &lt;persistence-unit name=&quot;Patient_PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;properties&gt;\n            &lt;!-- Specify the provider --&gt;\n            &lt;property name=&quot;javax.persistence.provider&quot; value=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;/&gt;\n\n            &lt;!-- Configure the database connection --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:ucanaccess://D:/BIS/Java/Projects/OBARS_V_2/src/main/resources/db/OBARS_.accdb&quot;/&gt;\n\n            &lt;!-- Hibernate specific properties --&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;net.ucanaccess.hibernate.dialect.UcanaccessDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n\n            &lt;!-- Entity manager factory configuration --&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I use MVC architecture</p>\n<pre><code>package utils;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Root;\n\nimport java.sql.SQLException;\nimport java.util.List;\n\npublic abstract class GenericRepository&lt;T&gt; {\n    private final Class&lt;T&gt; entityClass;\n    protected EntityManager entityManager;\n\n    public GenericRepository(Class&lt;T&gt; entityClass, EntityManager entityManager) {\n        this.entityClass = entityClass;\n        this.entityManager = entityManager;\n    }\n\n    protected T findById(Long id) throws SQLException {\n        return entityManager.find(entityClass, id);\n    }\n\n    protected List&lt;T&gt; findAll() throws SQLException {\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;T&gt; query = criteriaBuilder.createQuery(entityClass);\n        Root&lt;T&gt; root = query.from(entityClass);\n        query.select(root);\n        return entityManager.createQuery(query).getResultList();\n    }\n\n    protected void save(T entity) throws SQLException {\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        entityManager.persist(entity);\n        transaction.commit();\n    }\n\n    protected void update(T entity) throws SQLException {\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        entityManager.merge(entity);\n        transaction.commit();\n    }\n\n    protected void delete(T entity) throws SQLException {\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        entityManager.remove(entity);\n        transaction.commit();\n    }\n}\n</code></pre>\n<p><strong>PatientDAL class</strong></p>\n<pre><code>package dataAccess;\n\nimport models.Patient;\nimport utils.GenericRepository;\n\nimport javax.persistence.EntityManager;\nimport java.sql.SQLException;\nimport java.util.List;\n\npublic class PatientDAL extends GenericRepository&lt;Patient&gt; {\n    public PatientDAL(EntityManager entityManager, Patient patient) throws SQLException {\n        super(Patient.class, entityManager);\n    }\n\n    public void createPatient(Patient patient) throws SQLException {\n        save(patient);\n    }\n\n    public Patient getPatient(long patientID) throws SQLException {\n        return findById(patientID);\n    }\n\n    public List&lt;Patient&gt; getAlPatients() throws SQLException {\n        return findAll();\n    }\n\n    public void updatePatient(Patient patient) throws SQLException {\n        update(patient);\n    }\n\n    public void deletePatient(Patient patient) throws SQLException {\n        delete(patient);\n    }\n}\n</code></pre>\n<p><strong>PatientBLL class</strong></p>\n<pre><code>package businessLogic;\n\nimport ExceptionHandlers.BusinessException;\nimport dataAccess.PatientDAL;\nimport models.Patient;\nimport views.Admin;\nimport views.Profile;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport javafx.stage.Stage;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport java.sql.SQLException;\nimport java.util.List;\nimport java.util.regex.Pattern;\n\npublic class PatientBLL {\n    private final EntityManagerFactory entityManagerFactory;\n    private final EntityManager entityManager;\n    private final PatientDAL patientDAL;\n    private Patient patient;\n\n    {\n        try {\n            // Create the EntityManagerFactory\n            entityManagerFactory = Persistence.createEntityManagerFactory(&quot;Patient_PU&quot;);\n            // Create the EntityManager\n            entityManager = entityManagerFactory.createEntityManager();\n\n            patientDAL = new PatientDAL(entityManager, patient);\n        } catch (SQLException e) {\n            e.printStackTrace();\n            System.out.println(&quot;\\n\\n&quot;);\n            throw new RuntimeException(e);\n        }\n    }\n\n    // Login Constructor\n    public PatientBLL(Stage loginStage, String userID, String pass) {\n        loginWithUserIDAndPass(loginStage, userID, pass);\n    }\n\n    // Sign Up Constructor\n    public PatientBLL(Stage signUpStage, String name, String phone, String email, String city, String address, String gender, String age, String userID, String createdPass, String confirmPass) {\n        signUpWithPatientData(signUpStage, name, phone, email, city, address, gender, age, userID, createdPass, confirmPass);\n    }\n\n    /*\n     *  Validate Login Form\n     */\n    private void loginWithUserIDAndPass(Stage loginStage, @org.jetbrains.annotations.NotNull String userID, String pass) {\n\n        // Check if the userID &amp; pass fields are Empty\n        if (userID.isEmpty() || pass.isEmpty()) {\n            System.out.println(&quot;Please, Enter Your ID And Password.&quot; + &quot;Missing Information!&quot;);\n            return;\n        }\n\n        // Check if the patient credentials are valid\n        try {\n            patient = this.getPatientById(Integer.parseInt(userID));\n        } catch (BusinessException | NumberFormatException ex) {\n            System.out.println(&quot;Wrong UserID Or Password&quot;);\n            return;\n        }\n        if (patient == null || !patient.getPassword().equals(pass)) {\n            System.out.println(&quot;Wrong UserID Or Password&quot;);\n            return;\n        }\n\n        // Check if the user is an Admin or a Patient\n        if (patient.getPatientId() == 1212 &amp;&amp; patient.getPassword().equals(pass)) {\n            loginStage.hide();\n            new Admin();\n        } else {\n            loginStage.hide();\n            new Profile(patient);\n        }\n\n        // then close the connection\n        try {\n            this.closeConnection();\n        } catch (BusinessException e) {\n            System.out.println(&quot;Failed to close the connection: &quot; +  e.getMessage());\n        }\n    }\n\n    /*\n     *  Validate Sign Up Form\n     */\n    private void signUpWithPatientData(Stage signUpStage, @NotNull String name, String phone, String email, String city, String address, String gender, String age, String userID, String createPass, String confirmPass) {\n\n        // Check if any of the input fields are Empty\n        if (name.isEmpty() || phone.isEmpty() || email.isEmpty() || city.isEmpty() || address.isEmpty() || age.isEmpty() || userID.isEmpty() || createPass.isEmpty() || confirmPass.isEmpty()) {\n            System.out.println(&quot;Please fill them all&quot;);\n            return;\n        }\n\n        // Check if the Name is Valid\n        if (!Pattern.matches(&quot;^[a-zA-Z]+(\\\\s[a-zA-Z]+){0,5}$&quot;, name)) {\n            System.out.println(&quot;Please Enter A Valid Name&quot;);\n            return;\n        }\n\n        // Check if the Phone is Valid\n        if (!Pattern.matches(&quot;^[0-9]+$&quot;, phone)) {\n            System.out.println(&quot;Please Enter A Valid Phone Number&quot;);\n            return;\n        }\n\n        // Check if the Email is Valid\n        if (!Pattern.matches(&quot;^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+$&quot;, email)) {\n            System.out.println(&quot;Please Enter A Valid Email&quot;);\n            return;\n        }\n\n        // Check if the Age is Valid\n        try {\n            if (Integer.parseInt(age) &lt;= 0 || Integer.parseInt(age) &gt;= 110) {\n                System.out.println(&quot;Please Enter A Valid Age&quot;);\n                return;\n            }\n        } catch (NumberFormatException ex) {\n            System.out.println(&quot;Please Enter A Valid Age&quot;);\n            return;\n        }\n\n        // Check if the user is already Exist\n        try {\n            if (this.getPatientById(Integer.parseInt(userID)) != null) {\n                System.out.println(&quot;This UserID IS Already Exist&quot;);\n                return;\n            }\n        } catch (BusinessException | NumberFormatException ex) {\n            System.out.println(&quot;Please Enter A Valid UserID&quot;);\n            return;\n        }\n\n        // Check if the Password is Valid\n        if (!Pattern.matches(&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d).{8,}$&quot;, createPass)) {\n            System.out.println(&quot;Please Enter A Valid Password&quot;);\n            return;\n        }\n\n        // Check if the two passwords are matched\n        if (!createPass.equals(confirmPass)) {\n            System.out.println(&quot;Passwords Doesn't Match&quot;);\n            return;\n        }\n\n        // If everything is good so far create the Patient &amp; go to the Profile page\n        patient = new Patient(Integer.parseInt(userID), name, city, address, phone, email, Integer.parseInt(age), createPass, gender);\n        try {\n            this.createPatient(patient);\n            this.closeConnection();\n            System.out.println(&quot;Registration successful.&quot;);\n\n            signUpStage.hide();\n            new Profile(patient);\n        }\n        catch (BusinessException e) {\n            System.out.println(&quot;Registration Failed! &quot; + e.getMessage());\n        }\n    }\n\n    /*\n     *  CRUD Operations\n     */\n    private Patient getPatientById(long patientId) throws BusinessException {\n        try {\n            return patientDAL.getPatient(patientId);\n        } catch (SQLException e) {\n            throw new BusinessException(&quot;Failed to get patient ID. &quot; + e.getMessage(), e);\n        }\n    }\n\n    public void createPatient(Patient patient) throws BusinessException {\n        try {\n            patientDAL.createPatient(patient);\n        } catch (SQLException e) {\n            throw new BusinessException(&quot;Failed to create patient: &quot; + e.getMessage(), e);\n        }\n    }\n\n    public void closeConnection() throws BusinessException {\n        // Close the EntityManager and EntityManagerFactory\n        entityManager.close();\n        entityManagerFactory.close();\n    }\n}\n</code></pre>\n<p><strong>Patient model</strong></p>\n<pre><code>package models;\nimport javax.persistence.*;\n\n@Entity\npublic class Patient {\n    // Attributes\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int patientId;\n    @Column(name = &quot;P_Full_Name&quot;, nullable = false)\n    private String fullName;\n    @Column(name = &quot;P_City&quot;, nullable = false)\n    private String city;\n    @Column(name = &quot;P_Address&quot;, nullable = false)\n    private String address;\n    @Column(name = &quot;P_Phone&quot;, nullable = false)\n    private String phone;\n    @Column(name = &quot;P_Email&quot;, nullable = false)\n    private String email;\n    @Column(name = &quot;P_Gender&quot;, nullable = false)\n    private String gender;\n    @Column(name = &quot;P_Age&quot;, nullable = false)\n    private int age;\n    @Column(name = &quot;P_Password&quot;, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>I use IntelliJ IDE\n<a href=\"https://i.stack.imgur.com/FYgND.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYgND.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried a lot of solutions but nothing worked I still get this error when I'm trying to log in inside the java app</p>\n<pre><code>javax.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\nWARNING: javax.persistence.spi::No valid providers found.\nException in thread &quot;JavaFX Application Thread&quot; javax.persistence.PersistenceException: No Persistence provider for EntityManager named Patient_PU\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at OBARS@1.0-SNAPSHOT/businessLogic.PatientBLL.&lt;init&gt;(PatientBLL.java:29)\n    at OBARS@1.0-SNAPSHOT/views.Login.lambda$initialize$0(Login.java:47)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Node.fireEvent(Node.java:8925)\n    at javafx.controls@21-ea/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@21-ea/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@21-ea/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)\n    at javafx.graphics@21-ea/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687183203,"creation_date":1687183203,"answer_id":76507369,"question_id":76499743,"body_markdown":"Answering my own question, thanks to ChatGPT 4.\r\n\r\nThe `&quot;challenge&quot;` and `&quot;rpId&quot;` are part of the WebAuthn protocol, which is used for public key-based authentication. Here&#39;s what they mean:\r\n\r\n1. `&quot;challenge&quot;`: This is a randomly generated value that is created by the relying party (in this case, your app) and sent to the authenticator (the user&#39;s device or security key). The challenge is signed by the authenticator and sent back to the relying party, who can then verify the signature to ensure the authenticity of the response. This prevents replay attacks, where an attacker might try to re-use a previous authentication response. To generate the challenge, you would typically use a secure random number generator to create a binary value, then encode it as a URL-safe base64 string.\r\n\r\n2. `&quot;rpId&quot;`: This stands for Relying Party Identifier. It&#39;s essentially a way to identify your app to the authenticator. For web-based apps, it&#39;s typically the domain name of the site. For Android apps using WebAuthn, it&#39;s suggested to use a reverse-domain-name string, similar to the applicationId of your app. You can refer to your app&#39;s package name.\r\n\r\nSo, in Java, you might generate the `&quot;challenge&quot;` and set the `&quot;rpId&quot;` as follows:\r\n\r\n```\r\nSecureRandom random = new SecureRandom();\r\nbyte[] challenge = new byte[32]; // Use 32 bytes for the challenge\r\nrandom.nextBytes(challenge);\r\n\r\n// Encode the challenge as a URL-safe base64 string\r\nString challengeBase64 = Base64.getUrlEncoder().withoutPadding().encodeToString(challenge);\r\n\r\n// Set the rpId to your app&#39;s reverse domain name identifier\r\nString rpId = &quot;com.example.myapp&quot;;\r\n\r\n// Now you can use these values to create the JSON request\r\nJsonObject requestJson = Json.createObjectBuilder()\r\n    .add(&quot;challenge&quot;, challengeBase64)\r\n    .add(&quot;rpId&quot;, rpId)\r\n    // Add any other parameters required by the GetPublicKeyCredentialOption constructor\r\n    .build();\r\n```\r\n\r\nPlease note: This example uses the `java.util.Base64` class for base64 encoding and the `javax.json.Json` class for JSON creation, which are both included in standard Java SE. If you&#39;re using Android or a different platform, you may need to use different classes for these purposes.\r\n\r\nAlso, while the example above does not include a timeout or userVerification setting, you may want to include those depending on your use case. The WebAuthn specification provides more information on these and other options.","title":"Unable to understand &quot;Sign in your user with Credential Manager&quot; tutorial from developer.android.com","body":"<p>Answering my own question, thanks to ChatGPT 4.</p>\n<p>The <code>&quot;challenge&quot;</code> and <code>&quot;rpId&quot;</code> are part of the WebAuthn protocol, which is used for public key-based authentication. Here's what they mean:</p>\n<ol>\n<li><p><code>&quot;challenge&quot;</code>: This is a randomly generated value that is created by the relying party (in this case, your app) and sent to the authenticator (the user's device or security key). The challenge is signed by the authenticator and sent back to the relying party, who can then verify the signature to ensure the authenticity of the response. This prevents replay attacks, where an attacker might try to re-use a previous authentication response. To generate the challenge, you would typically use a secure random number generator to create a binary value, then encode it as a URL-safe base64 string.</p>\n</li>\n<li><p><code>&quot;rpId&quot;</code>: This stands for Relying Party Identifier. It's essentially a way to identify your app to the authenticator. For web-based apps, it's typically the domain name of the site. For Android apps using WebAuthn, it's suggested to use a reverse-domain-name string, similar to the applicationId of your app. You can refer to your app's package name.</p>\n</li>\n</ol>\n<p>So, in Java, you might generate the <code>&quot;challenge&quot;</code> and set the <code>&quot;rpId&quot;</code> as follows:</p>\n<pre><code>SecureRandom random = new SecureRandom();\nbyte[] challenge = new byte[32]; // Use 32 bytes for the challenge\nrandom.nextBytes(challenge);\n\n// Encode the challenge as a URL-safe base64 string\nString challengeBase64 = Base64.getUrlEncoder().withoutPadding().encodeToString(challenge);\n\n// Set the rpId to your app's reverse domain name identifier\nString rpId = &quot;com.example.myapp&quot;;\n\n// Now you can use these values to create the JSON request\nJsonObject requestJson = Json.createObjectBuilder()\n    .add(&quot;challenge&quot;, challengeBase64)\n    .add(&quot;rpId&quot;, rpId)\n    // Add any other parameters required by the GetPublicKeyCredentialOption constructor\n    .build();\n</code></pre>\n<p>Please note: This example uses the <code>java.util.Base64</code> class for base64 encoding and the <code>javax.json.Json</code> class for JSON creation, which are both included in standard Java SE. If you're using Android or a different platform, you may need to use different classes for these purposes.</p>\n<p>Also, while the example above does not include a timeout or userVerification setting, you may want to include those depending on your use case. The WebAuthn specification provides more information on these and other options.</p>\n"}],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76507369,"answer_count":1,"score":-1,"last_activity_date":1687183203,"creation_date":1687078550,"question_id":76499743,"body_markdown":"My goal is to use passkeys on Android and I&#39;m trying to follow [this tutorial][1] but the following code snippet is unclear:\r\n\r\n```\r\n// Retrieves the user&#39;s saved password for your app from their\r\n// password provider.\r\nGetPasswordOption getPasswordOption = new GetPasswordOption();\r\n\r\n// Get passkeys from the user&#39;s public key credential provider.\r\nGetPublicKeyCredentialOption getPublicKeyCredentialOption =\r\n        new GetPublicKeyCredentialOption(requestJson, preferImmediatelyAvailableCredentials);\r\n```\r\n\r\nWhat should be in the `requestJson` String?  \r\n\r\nThe article mentions *an example of how to format the JSON request*:\r\n```\r\n{\r\n  &quot;challenge&quot;: &quot;T1xCsnxM2DNL2KdK5CLa6fMhD7OBqho6syzInk_n-Uo&quot;,\r\n  &quot;allowCredentials&quot;: [],\r\n  &quot;timeout&quot;: 1800000,\r\n  &quot;userVerification&quot;: &quot;required&quot;,\r\n  &quot;rpId&quot;: &quot;credential-manager-app-test.glitch.me&quot;\r\n}\r\n```\r\n\r\nBut it&#39;s not clear how to generate the `challenge` and what to put in `rpId`.\r\n\r\n\r\n  [1]: https://developer.android.com/training/sign-in/passkeys","title":"Unable to understand &quot;Sign in your user with Credential Manager&quot; tutorial from developer.android.com","body":"<p>My goal is to use passkeys on Android and I'm trying to follow <a href=\"https://developer.android.com/training/sign-in/passkeys\" rel=\"nofollow noreferrer\">this tutorial</a> but the following code snippet is unclear:</p>\n<pre><code>// Retrieves the user's saved password for your app from their\n// password provider.\nGetPasswordOption getPasswordOption = new GetPasswordOption();\n\n// Get passkeys from the user's public key credential provider.\nGetPublicKeyCredentialOption getPublicKeyCredentialOption =\n        new GetPublicKeyCredentialOption(requestJson, preferImmediatelyAvailableCredentials);\n</code></pre>\n<p>What should be in the <code>requestJson</code> String?</p>\n<p>The article mentions <em>an example of how to format the JSON request</em>:</p>\n<pre><code>{\n  &quot;challenge&quot;: &quot;T1xCsnxM2DNL2KdK5CLa6fMhD7OBqho6syzInk_n-Uo&quot;,\n  &quot;allowCredentials&quot;: [],\n  &quot;timeout&quot;: 1800000,\n  &quot;userVerification&quot;: &quot;required&quot;,\n  &quot;rpId&quot;: &quot;credential-manager-app-test.glitch.me&quot;\n}\n</code></pre>\n<p>But it's not clear how to generate the <code>challenge</code> and what to put in <code>rpId</code>.</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687183167,"creation_date":1687183167,"answer_id":76507365,"question_id":76499693,"body_markdown":"You could delete the temporal file on completion:\r\n\r\n```\r\n    Flux&lt;ClassB&gt; functionA(Mono&lt;FilePart&gt; filePartMono) {\r\n        return filePartMono.flatMapMany(filePart -&gt; fileHandlerService.saveFile(filePartMono)\r\n                        .then(filePartMono)\r\n                        .flatMapMany(this::getItems)\r\n                        .doOnComplete(() -&gt;\r\n                                filePartMono.flatMap(it -&gt; fileHandlerService.deleteFile(it))\r\n                                        .subscribeOn(Schedulers.boundedElastic())\r\n                                        .subscribe()\r\n                        ));\r\n    }\r\n```","title":"Delete a file and return the previous flux in the pipeline webflux","body":"<p>You could delete the temporal file on completion:</p>\n<pre><code>    Flux&lt;ClassB&gt; functionA(Mono&lt;FilePart&gt; filePartMono) {\n        return filePartMono.flatMapMany(filePart -&gt; fileHandlerService.saveFile(filePartMono)\n                        .then(filePartMono)\n                        .flatMapMany(this::getItems)\n                        .doOnComplete(() -&gt;\n                                filePartMono.flatMap(it -&gt; fileHandlerService.deleteFile(it))\n                                        .subscribeOn(Schedulers.boundedElastic())\n                                        .subscribe()\n                        ));\n    }\n</code></pre>\n"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687183167,"creation_date":1687077509,"question_id":76499693,"body_markdown":"I have a use case to process a filePart. For processing, I am saving it locally using `filePart.transferTo`. Then I create a flux from it and then I want to delete the local file created. For the same, I have the following piece of code, but it tries to delete the file while iterating the flux and it is needed only one time. I can&#39;t use `then` as the flux will not be returned. Could someone please tell the correct way for doing this?\r\n\r\n```\r\nclass ClassA {\r\n\r\n    FileHandlerService fileHandlerService;\r\n\r\n    Flux&lt;ClassB&gt; functionA(Mono&lt;FilePart&gt; filePartMono) {\r\n        fileHandlerService.saveFile(filePartMono)\r\n        .then(filePartMono)\r\n        .flatMap(this::getItems)\r\n        .flatMap(item -&gt;\r\n            filePartMono.flatMap(\r\n                filePart -&gt; fileHandlerService.deleteFile(filePart))\r\n            .then(Mono.just(item)))\r\n    }\r\n\r\n    Flux&lt;ClassB&gt; getItems(FilePart filePart) {\r\n        // method body\r\n    }\r\n}\r\n```\r\n```\r\nclass FileHandlerService {\r\n    public Mono&lt;Void&gt; saveFile(Mono&lt;FilePart&gt; filePartMono) {\r\n        return filePartMono\r\n            .flatMap(filePart -&gt;  filePart.transferTo(Path.of(filePart.filename())));\r\n    }\r\n\r\n     public Mono&lt;Void&gt; deleteFile(FilePart filePart) {\r\n        return Mono.fromRunnable(() -&gt; {\r\n                    File file = new File(filePart.filename());\r\n                    Files.deleteIfExists(file.toPath());\r\n                }).then()\r\n                .subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n}\r\n```","title":"Delete a file and return the previous flux in the pipeline webflux","body":"<p>I have a use case to process a filePart. For processing, I am saving it locally using <code>filePart.transferTo</code>. Then I create a flux from it and then I want to delete the local file created. For the same, I have the following piece of code, but it tries to delete the file while iterating the flux and it is needed only one time. I can't use <code>then</code> as the flux will not be returned. Could someone please tell the correct way for doing this?</p>\n<pre><code>class ClassA {\n\n    FileHandlerService fileHandlerService;\n\n    Flux&lt;ClassB&gt; functionA(Mono&lt;FilePart&gt; filePartMono) {\n        fileHandlerService.saveFile(filePartMono)\n        .then(filePartMono)\n        .flatMap(this::getItems)\n        .flatMap(item -&gt;\n            filePartMono.flatMap(\n                filePart -&gt; fileHandlerService.deleteFile(filePart))\n            .then(Mono.just(item)))\n    }\n\n    Flux&lt;ClassB&gt; getItems(FilePart filePart) {\n        // method body\n    }\n}\n</code></pre>\n<pre><code>class FileHandlerService {\n    public Mono&lt;Void&gt; saveFile(Mono&lt;FilePart&gt; filePartMono) {\n        return filePartMono\n            .flatMap(filePart -&gt;  filePart.transferTo(Path.of(filePart.filename())));\n    }\n\n     public Mono&lt;Void&gt; deleteFile(FilePart filePart) {\n        return Mono.fromRunnable(() -&gt; {\n                    File file = new File(filePart.filename());\n                    Files.deleteIfExists(file.toPath());\n                }).then()\n                .subscribeOn(Schedulers.boundedElastic());\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687182031,"post_id":76507191,"comment_id":134897016,"body_markdown":"Looks like you are using Lombok&#39;s `@Setter` to generate the setters for your fields. Are you sure the Lombok compiler plugin is configured correctly? Is other Lombok-generated code usable?","body":"Looks like you are using Lombok&#39;s <code>@Setter</code> to generate the setters for your fields. Are you sure the Lombok compiler plugin is configured correctly? Is other Lombok-generated code usable?"},{"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"score":0,"creation_date":1687197664,"post_id":76507191,"comment_id":134900277,"body_markdown":"yeah using lombok only,  its working fine for others . If this code is correct may be i can try some other version .","body":"yeah using lombok only,  its working fine for others . If this code is correct may be i can try some other version ."},{"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"score":0,"creation_date":1687198246,"post_id":76507191,"comment_id":134900374,"body_markdown":"it worked , after and adding again . thanks .","body":"it worked , after and adding again . thanks ."}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687182827,"creation_date":1687181866,"question_id":76507191,"body_markdown":"I have a master entity that has 3 attributes . And i wish to return an xml  something like this \r\n\r\n\t&lt;masterentitiy&gt;\r\n\t    &lt;complete&gt;1&lt;/complete&gt;\r\n\t    &lt;srcsize&gt;2&lt;/srcsize&gt;\r\n\t    &lt;purl lang=&quot;en&quot; format=&quot;for&quot;&gt;url&lt;/purl&gt;\r\n\t&lt;/masterentitiy&gt;\r\n\r\nMasterEntity pojo\r\n\t\t\t \r\n\r\n    @Data\r\n    @XmlRootElement(name=&quot;masterentitiy&quot;)\r\n    @XmlAccessorType (XmlAccessType.NONE)\r\n    public class MasterResponse implements Serializable {\r\n    \r\n    \t@XmlElement\r\n    \tprivate boolean complete;\r\n\r\n        @XmlElement\r\n    \tprivate Long srcsize;\r\n    \r\n    \t@XmlElement\r\n    \tprivate List&lt;Change&gt; ch;\r\n    }\r\n\r\n2 attributes complete,srcsize are getting populated using some api like this .\r\n\r\n    MasterResponse masterResponse= getRapiDataforCidAndJobCode(cid,jobCode);\r\n\r\nAnd the Pojo class for  Change is \r\n\r\n\t@Getter\r\n\t@Setter\r\n\tpublic class Change implements Serializable {\r\n\r\n\t\t@XmlAttribute\r\n\t\tprivate String f;\r\n\t\t\t\t\r\n\t\t@XmlElement(name=&quot;purl&quot;)\r\n\t\tprivate String url;\r\n\t\t\t\t\r\n\t\t@XmlAttribute\r\n\t\tprivate String l;\t\t\t\r\n\t}\r\n\r\nwhen i am creating a sample list and adding to the masterresponse it is giving error that Change dont exits \r\n\r\n\tChange sub = new Change() ;\r\n\tsub.setUrl(&quot;url&quot;);\r\n\tsub.setLang(&quot;en&quot;);\r\n\tsub.setFormat(&quot;for&quot;);\r\n\tList&lt;Change&gt; com = new ArrayList&lt;&gt;();\r\n\tcom.add(sub);\r\n\t\t\t        \r\n\tmasterResponse.setSubtitles(com);\r\n      \r\n\r\n Error: \r\n\r\n    java: cannot find symbol\r\n    symbol: method setUrl(java.lang.String)\r\n\r\n","title":"Java output an xml from pojo class while appending additional object","body":"<p>I have a master entity that has 3 attributes . And i wish to return an xml  something like this</p>\n<pre><code>&lt;masterentitiy&gt;\n    &lt;complete&gt;1&lt;/complete&gt;\n    &lt;srcsize&gt;2&lt;/srcsize&gt;\n    &lt;purl lang=&quot;en&quot; format=&quot;for&quot;&gt;url&lt;/purl&gt;\n&lt;/masterentitiy&gt;\n</code></pre>\n<p>MasterEntity pojo</p>\n<pre><code>@Data\n@XmlRootElement(name=&quot;masterentitiy&quot;)\n@XmlAccessorType (XmlAccessType.NONE)\npublic class MasterResponse implements Serializable {\n\n    @XmlElement\n    private boolean complete;\n\n    @XmlElement\n    private Long srcsize;\n\n    @XmlElement\n    private List&lt;Change&gt; ch;\n}\n</code></pre>\n<p>2 attributes complete,srcsize are getting populated using some api like this .</p>\n<pre><code>MasterResponse masterResponse= getRapiDataforCidAndJobCode(cid,jobCode);\n</code></pre>\n<p>And the Pojo class for  Change is</p>\n<pre><code>@Getter\n@Setter\npublic class Change implements Serializable {\n\n    @XmlAttribute\n    private String f;\n            \n    @XmlElement(name=&quot;purl&quot;)\n    private String url;\n            \n    @XmlAttribute\n    private String l;           \n}\n</code></pre>\n<p>when i am creating a sample list and adding to the masterresponse it is giving error that Change dont exits</p>\n<pre><code>Change sub = new Change() ;\nsub.setUrl(&quot;url&quot;);\nsub.setLang(&quot;en&quot;);\nsub.setFormat(&quot;for&quot;);\nList&lt;Change&gt; com = new ArrayList&lt;&gt;();\ncom.add(sub);\n                \nmasterResponse.setSubtitles(com);\n  \n</code></pre>\n<p>Error:</p>\n<pre><code>java: cannot find symbol\nsymbol: method setUrl(java.lang.String)\n</code></pre>\n"},{"tags":["java","windows","maven","intellij-idea","encoding"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1677084487,"post_id":75535582,"comment_id":133268966,"body_markdown":"Please report at https://youtrack.jetbrains.com/newIssue?project=IDEA with a sample project and the steps to reproduce the issue.","body":"Please report at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with a sample project and the steps to reproduce the issue."}],"answers":[{"tags":[],"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677142591,"creation_date":1677083631,"answer_id":75535638,"question_id":75535582,"body_markdown":"- Create a `.mvn` folder in root of your project\r\n- add `jvm.config` file in that folder i.e (`.mvn/jvm.config`)\r\n- Add `-Dproject.build.sourceEncoding=UTF-8 -Dproject.reporting.outputEncoding=UTF-8` to the file\r\n- Checkin this file in your repo\r\n- MVN will try to find this config file when you run and will use it","title":"Intellij Idea project files encoding is reset after clicking on Maven IDE &quot;Reload project&quot;","body":"<ul>\n<li>Create a <code>.mvn</code> folder in root of your project</li>\n<li>add <code>jvm.config</code> file in that folder i.e (<code>.mvn/jvm.config</code>)</li>\n<li>Add <code>-Dproject.build.sourceEncoding=UTF-8 -Dproject.reporting.outputEncoding=UTF-8</code> to the file</li>\n<li>Checkin this file in your repo</li>\n<li>MVN will try to find this config file when you run and will use it</li>\n</ul>\n"}],"owner":{"account_id":457386,"reputation":1883,"user_id":856672,"accept_rate":72,"display_name":"rico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687182326,"creation_date":1677083387,"question_id":75535582,"body_markdown":"I am working on IntelliJ IDEA v2022.3.2 on a Java 11 project with Maven 3 on Windows 10. In the project settings I have set the file encoding to UTF-8 for all src/main/java source folders.\r\nHowever, every time I click on &quot;Reload project&quot; in Maven IDE, the file encoding for all src/main/java folders is then set to ISO-8859-1.\r\n\r\nI would like the file encoding to stay in UTF-8. In my pom.xml parent, I have set the following properties :\r\n\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\nWhere does this ISO-8859-1 encoding setting is coming from ? \r\n\r\n[UPDATE]\r\n\r\nSeems like my local machine default encoding is ISO-8859-1 :\r\n\r\n    PS U:\\&gt; [System.Text.Encoding]::Default                                                                                                                                        \r\n    \r\n    IsSingleByte      : True\r\n    BodyName          : iso-8859-1\r\n    EncodingName      : Europe de l&#39;Ouest (Windows)\r\n    HeaderName        : Windows-1252\r\n    WebName           : Windows-1252\r\n    WindowsCodePage   : 1252\r\n    IsBrowserDisplay  : True\r\n    IsBrowserSave     : True\r\n    IsMailNewsDisplay : True\r\n    IsMailNewsSave    : True\r\n    EncoderFallback   : System.Text.InternalEncoderBestFitFallback\r\n    DecoderFallback   : System.Text.InternalDecoderBestFitFallback\r\n    IsReadOnly        : True\r\n    CodePage          : 1252\r\n\r\nIsn&#39;t there a way to tell Intellij/Maven to use another encoding than system default ?","title":"Intellij Idea project files encoding is reset after clicking on Maven IDE &quot;Reload project&quot;","body":"<p>I am working on IntelliJ IDEA v2022.3.2 on a Java 11 project with Maven 3 on Windows 10. In the project settings I have set the file encoding to UTF-8 for all src/main/java source folders.\nHowever, every time I click on &quot;Reload project&quot; in Maven IDE, the file encoding for all src/main/java folders is then set to ISO-8859-1.</p>\n<p>I would like the file encoding to stay in UTF-8. In my pom.xml parent, I have set the following properties :</p>\n<pre><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n</code></pre>\n<p>Where does this ISO-8859-1 encoding setting is coming from ?</p>\n<p>[UPDATE]</p>\n<p>Seems like my local machine default encoding is ISO-8859-1 :</p>\n<pre><code>PS U:\\&gt; [System.Text.Encoding]::Default                                                                                                                                        \n\nIsSingleByte      : True\nBodyName          : iso-8859-1\nEncodingName      : Europe de l'Ouest (Windows)\nHeaderName        : Windows-1252\nWebName           : Windows-1252\nWindowsCodePage   : 1252\nIsBrowserDisplay  : True\nIsBrowserSave     : True\nIsMailNewsDisplay : True\nIsMailNewsSave    : True\nEncoderFallback   : System.Text.InternalEncoderBestFitFallback\nDecoderFallback   : System.Text.InternalDecoderBestFitFallback\nIsReadOnly        : True\nCodePage          : 1252\n</code></pre>\n<p>Isn't there a way to tell Intellij/Maven to use another encoding than system default ?</p>\n"},{"tags":["java","android","firebase","push-notification","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687180734,"post_id":76507026,"comment_id":134896728,"body_markdown":"I don&#39;t think Android will allow you to do that. You can&#39;t break those rules. Perhaps you can use local notifications, if the actual timing is locally predictable.","body":"I don&#39;t think Android will allow you to do that. You can&#39;t break those rules. Perhaps you can use local notifications, if the actual timing is locally predictable."},{"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"score":0,"creation_date":1687180991,"post_id":76507026,"comment_id":134896796,"body_markdown":"@Jorn thanks for your response, can you please tell me more about local notifications, Do you mean the app itself schedules and triggers the display of notifications based on predefined events or conditions like alarm apps?","body":"@Jorn thanks for your response, can you please tell me more about local notifications, Do you mean the app itself schedules and triggers the display of notifications based on predefined events or conditions like alarm apps?"}],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687180949,"creation_date":1687180949,"answer_id":76507064,"question_id":76507026,"body_markdown":"It&#39;s not possible without modifying the device.  Individual apps do not have the ability to control the device when it&#39;s trying to save power.  Otherwise, *every* app would do this, and the device&#39;s battery life would suffer as a result.  You have to either depend on Play services to manage the notification, or accept that you can&#39;t do anything at all while power saving.","title":"how to receive push notifications even when the play services are disabled on android","body":"<p>It's not possible without modifying the device.  Individual apps do not have the ability to control the device when it's trying to save power.  Otherwise, <em>every</em> app would do this, and the device's battery life would suffer as a result.  You have to either depend on Play services to manage the notification, or accept that you can't do anything at all while power saving.</p>\n"},{"tags":[],"owner":{"account_id":19505437,"reputation":433,"user_id":14270580,"display_name":"Venus"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687181223,"creation_date":1687181223,"answer_id":76507094,"question_id":76507026,"body_markdown":"Alright.\r\nUnfortunately, it is not possible to receive Firebase Cloud Messaging (FCM) notifications without Google Play Services on Android devices. FCM relies on the Google Play Services infrastructure to deliver notifications to devices.\r\n\r\nSimilarly, power saving mode on Android devices restricts background activity, which can prevent apps from receiving notifications.\r\n\r\nOne possible workaround is to use a third-party push notification service that does not rely on Google Play Services and provides support for power saving mode. Some examples of such services include OneSignal, Pusher, and Amazon SNS. ","title":"how to receive push notifications even when the play services are disabled on android","body":"<p>Alright.\nUnfortunately, it is not possible to receive Firebase Cloud Messaging (FCM) notifications without Google Play Services on Android devices. FCM relies on the Google Play Services infrastructure to deliver notifications to devices.</p>\n<p>Similarly, power saving mode on Android devices restricts background activity, which can prevent apps from receiving notifications.</p>\n<p>One possible workaround is to use a third-party push notification service that does not rely on Google Play Services and provides support for power saving mode. Some examples of such services include OneSignal, Pusher, and Amazon SNS.</p>\n"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687182310,"creation_date":1687180653,"question_id":76507026,"body_markdown":"As you know firebase uses play services to push notifications but I am working on an android app that requires to receive push notifications even when the play services are disabled and the phone is on power saving.\r\n\r\nI have tried using pushy but the app do not receive notifications in power saving mode, I have also tried using a foreground service but it is of no good. \r\n","title":"how to receive push notifications even when the play services are disabled on android","body":"<p>As you know firebase uses play services to push notifications but I am working on an android app that requires to receive push notifications even when the play services are disabled and the phone is on power saving.</p>\n<p>I have tried using pushy but the app do not receive notifications in power saving mode, I have also tried using a foreground service but it is of no good.</p>\n"},{"tags":["java","spring","spring-boot","properties"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1521711100,"post_id":49424731,"comment_id":85850860,"body_markdown":"See if you can use `spring.profiles.include` in this case. Just a hunch. Have not tried it personally","body":"See if you can use <code>spring.profiles.include</code> in this case. Just a hunch. Have not tried it personally"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521711238,"creation_date":1521711238,"answer_id":49425041,"question_id":49424731,"body_markdown":"You should not specify that :\r\n\r\n    @TestPropertySource(locations=&quot;file:conf/application-junit.properties&quot;)\r\n\r\nThat hardcodes the `junit` Spring Boot profile in the test class.  \r\n\r\nInstead, you should execute the tests according to the profile set as `mvn test` is executed such as :\r\n\r\n    mvn clean test -Dspring.profiles.active=junit\r\n\r\n    mvn clean test -Dspring.profiles.active=jenkins\r\n\r\n`application-junit.properties` or `application-jenkins.properties` would be automatically used to create the ApplicationContext according to the `spring.profiles.active` value set.\r\n","title":"Springboot test with different properties per location","body":"<p>You should not specify that :</p>\n\n<pre><code>@TestPropertySource(locations=\"file:conf/application-junit.properties\")\n</code></pre>\n\n<p>That hardcodes the <code>junit</code> Spring Boot profile in the test class.  </p>\n\n<p>Instead, you should execute the tests according to the profile set as <code>mvn test</code> is executed such as :</p>\n\n<pre><code>mvn clean test -Dspring.profiles.active=junit\n\nmvn clean test -Dspring.profiles.active=jenkins\n</code></pre>\n\n<p><code>application-junit.properties</code> or <code>application-jenkins.properties</code> would be automatically used to create the ApplicationContext according to the <code>spring.profiles.active</code> value set.</p>\n"}],"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687182007,"creation_date":1521710377,"question_id":49424731,"body_markdown":"My question in short:\r\nHow can I run a test with different properties in different environments?\r\n\r\nLong version:\r\nI have written a JUnit-Test which is annotated at the class top like following:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest( classes=RunServer.class, webEnvironment = WebEnvironment.DEFINED_PORT )\r\n    @TestPropertySource(locations=&quot;file:conf/application-junit.properties&quot;)\r\n    public class MyDbTest {...\r\n\r\nIn the current __conf/application.junit.properties__ there is the statement for the database connection on port 5400.\r\n\r\nBut now I found that I do not only run the tests locally but also on another machine like a Jenkins where the database port is located at 5500.\r\n\r\nI do have a properties file with the right port which is located at __conf/application-jenkins.properties__. \r\n\r\nNow I wonder how to set the proper value for the __@TestPropertySource(locations=...)__ in the source code?\r\n\r\nBy the way. This is all no problem for non test code execution where I only set as argument\r\n\r\n```java -jar myjar.jar --spring.config.location=&lt;PATH_TO_PROPERTIES_FILE&gt;```\r\nMy properties files are not within the classpath. They are set as absolute file paths.\r\n\r\nThank you all for any help.","title":"Springboot test with different properties per location","body":"<p>My question in short:\nHow can I run a test with different properties in different environments?</p>\n<p>Long version:\nI have written a JUnit-Test which is annotated at the class top like following:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest( classes=RunServer.class, webEnvironment = WebEnvironment.DEFINED_PORT )\n@TestPropertySource(locations=&quot;file:conf/application-junit.properties&quot;)\npublic class MyDbTest {...\n</code></pre>\n<p>In the current <strong>conf/application.junit.properties</strong> there is the statement for the database connection on port 5400.</p>\n<p>But now I found that I do not only run the tests locally but also on another machine like a Jenkins where the database port is located at 5500.</p>\n<p>I do have a properties file with the right port which is located at <strong>conf/application-jenkins.properties</strong>.</p>\n<p>Now I wonder how to set the proper value for the <strong>@TestPropertySource(locations=...)</strong> in the source code?</p>\n<p>By the way. This is all no problem for non test code execution where I only set as argument</p>\n<p><code>java -jar myjar.jar --spring.config.location=&lt;PATH_TO_PROPERTIES_FILE&gt;</code>\nMy properties files are not within the classpath. They are set as absolute file paths.</p>\n<p>Thank you all for any help.</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1687289831,"post_id":76506947,"comment_id":134915228,"body_markdown":"Does this answer your question? [From string to enum using mapstruct](https://stackoverflow.com/questions/48570827/from-string-to-enum-using-mapstruct)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48570827/from-string-to-enum-using-mapstruct\">From string to enum using mapstruct</a>"}],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687181698,"creation_date":1687181698,"answer_id":76507166,"question_id":76506947,"body_markdown":"This works:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n  private MyEnum value;\r\n\r\n  public MyEnum getValue() {\r\n    return value;\r\n  }\r\n\r\n  public void setValue(MyEnum value) {\r\n    this.value = value;\r\n  }\r\n}\r\n```\r\n```\r\npublic class MyDTO {\r\n\r\n  private String value;\r\n\r\n  public String getValue() {\r\n    return value;\r\n  }\r\n\r\n  public void setValue(String value) {\r\n    this.value = value;\r\n  }\r\n}\r\n```\r\n```\r\npublic enum MyEnum {\r\n\r\n  ONE, TWO;\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface MyDTOMapper {\r\n\r\n  @Mapping(source = &quot;value&quot;, target = &quot;value&quot;)\r\n  MyClass toMyClass(MyDTO dto);\r\n\r\n}\r\n```\r\n\r\n\r\nCheck it with this:\r\n\r\n```\r\n  public static void main(String[] args) {\r\n\r\n    MyDTOMapper myDTOMapper = new MyDTOMapperImpl();\r\n\r\n    MyDTO myDTO = new MyDTO();\r\n    myDTO.setValue(&quot;ONE&quot;);\r\n    MyClass myClass = myDTOMapper.toMyClass(myDTO);\r\n    System.out.println(myClass.getValue());\r\n  }\r\n```\r\n\r\n`$&gt; ONE`","title":"Mapstruct map String into Enum","body":"<p>This works:</p>\n<pre><code>public class MyClass {\n\n  private MyEnum value;\n\n  public MyEnum getValue() {\n    return value;\n  }\n\n  public void setValue(MyEnum value) {\n    this.value = value;\n  }\n}\n</code></pre>\n<pre><code>public class MyDTO {\n\n  private String value;\n\n  public String getValue() {\n    return value;\n  }\n\n  public void setValue(String value) {\n    this.value = value;\n  }\n}\n</code></pre>\n<pre><code>public enum MyEnum {\n\n  ONE, TWO;\n\n}\n\n</code></pre>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MyDTOMapper {\n\n  @Mapping(source = &quot;value&quot;, target = &quot;value&quot;)\n  MyClass toMyClass(MyDTO dto);\n\n}\n</code></pre>\n<p>Check it with this:</p>\n<pre><code>  public static void main(String[] args) {\n\n    MyDTOMapper myDTOMapper = new MyDTOMapperImpl();\n\n    MyDTO myDTO = new MyDTO();\n    myDTO.setValue(&quot;ONE&quot;);\n    MyClass myClass = myDTOMapper.toMyClass(myDTO);\n    System.out.println(myClass.getValue());\n  }\n</code></pre>\n<p><code>$&gt; ONE</code></p>\n"}],"owner":{"account_id":26741827,"reputation":3,"user_id":20342501,"display_name":"Kusangai2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687181698,"creation_date":1687180032,"question_id":76506947,"body_markdown":"I have enum:\r\n```\r\npublic enum MyEnum {\r\n\r\n ONE, TWO;\r\n\r\n}\r\n```\r\n\r\nAnd i would like to map String from DTO into this Enum. How to do it? \r\n\r\n\r\nI tried like that:\r\n```\r\n@Mapper\r\ninterface MyEnumMapper {\r\n MyClass map(MyDTO response);\r\n\r\n @ValueMapping(target = &quot;ONE&quot;, source = &quot;one-code&quot;)\r\n MyEnum toMyEnum(String value);\r\n```\r\n\r\nBut its not working, any thoughts?","title":"Mapstruct map String into Enum","body":"<p>I have enum:</p>\n<pre><code>public enum MyEnum {\n\n ONE, TWO;\n\n}\n</code></pre>\n<p>And i would like to map String from DTO into this Enum. How to do it?</p>\n<p>I tried like that:</p>\n<pre><code>@Mapper\ninterface MyEnumMapper {\n MyClass map(MyDTO response);\n\n @ValueMapping(target = &quot;ONE&quot;, source = &quot;one-code&quot;)\n MyEnum toMyEnum(String value);\n</code></pre>\n<p>But its not working, any thoughts?</p>\n"},{"tags":["java","spring","spring-integration","xml-namespaces"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687179909,"post_id":76505906,"comment_id":134896519,"body_markdown":"The `NamespaceHandler` only provides the needed information on with what to parse certain tags. It will link `connection-factory` to a `ConnectionFactoryParser` which knows what to do with that specific element. It will register beans or beandefinitions into the application context. There is one differentce between your plain bean and the namespace, you are providing a `value` instead of a `ref` to the constructor, which are different things.","body":"The <code>NamespaceHandler</code> only provides the needed information on with what to parse certain tags. It will link <code>connection-factory</code> to a <code>ConnectionFactoryParser</code> which knows what to do with that specific element. It will register beans or beandefinitions into the application context. There is one differentce between your plain bean and the namespace, you are providing a <code>value</code> instead of a <code>ref</code> to the constructor, which are different things."},{"owner":{"account_id":232989,"reputation":1670,"user_id":498190,"accept_rate":55,"display_name":"Marvin"},"score":0,"creation_date":1687180883,"post_id":76505906,"comment_id":134896769,"body_markdown":"Indeed... that was so obvious..... now I feel like a donkey. You can post it as an answer if you want a -deserved- thumb up!","body":"Indeed... that was so obvious..... now I feel like a donkey. You can post it as an answer if you want a -deserved- thumb up!"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687181281,"creation_date":1687181281,"answer_id":76507104,"question_id":76505906,"body_markdown":"The `NamespaceHandler` only provides the needed information on with what class to parse certain tags. It will link `connection-factory` to a `ConnectionFactoryParser` which knows what to do with that specific element. It will register beans or `BeanDefinition` into the application context. \r\n\r\nHowever there is one, quite big, difference between your `bean` and the namespace. In your `bean` definition you are using a `constructor-arg` with a `value`. This will lead to invoking the constructor that takes a `String` (which is the hostname, which you later override). What you intended was to use a `ref` to reference another bean in the context. \r\n\r\nSo basically your `bean` definition doesn&#39;t do anything with the `clientSSLConnectionFactory` bean, where as the one with the namespace does.  ","title":"rabbit:connection-factory : understanding why a spring namespace element differs from the class it does wrap","body":"<p>The <code>NamespaceHandler</code> only provides the needed information on with what class to parse certain tags. It will link <code>connection-factory</code> to a <code>ConnectionFactoryParser</code> which knows what to do with that specific element. It will register beans or <code>BeanDefinition</code> into the application context.</p>\n<p>However there is one, quite big, difference between your <code>bean</code> and the namespace. In your <code>bean</code> definition you are using a <code>constructor-arg</code> with a <code>value</code>. This will lead to invoking the constructor that takes a <code>String</code> (which is the hostname, which you later override). What you intended was to use a <code>ref</code> to reference another bean in the context.</p>\n<p>So basically your <code>bean</code> definition doesn't do anything with the <code>clientSSLConnectionFactory</code> bean, where as the one with the namespace does.</p>\n"}],"owner":{"account_id":232989,"reputation":1670,"user_id":498190,"accept_rate":55,"display_name":"Marvin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76507104,"answer_count":1,"score":0,"last_activity_date":1687181281,"creation_date":1687171814,"question_id":76505906,"body_markdown":"I am puzzled about a difference between 2 uses cases I expected to be close enough to work the same way.\r\nI have a Spring xml content within which I am defining a messaging bridge, using Spring Integration and spring-amqp to consume and publish from/to a rabbitMq broker.\r\n\r\nThe broker has to be accessed through SSL, where it used to be formerly accessed the non-TLS way.\r\nWe have no problem publishing to a rabbit on port 5671 (SSL). But we encountered one consuming... with the ConnectionFactory not using a SSL socket but a standard one... resulting in the server refusing the incoming frame because of an &quot;*{unsupported_record_type,65}*&quot;.\r\n\r\nAfter trying various changes, we ended up having it work, replacing a basic bean-based declaration by the corresponding &quot;namespaced&quot; element... ie : \r\n\r\n**&quot;Bean&quot; method, not Working:**\r\n\r\n    &lt;bean id=&quot;rabbitConnectionFactory&quot; class=&quot;org.springframework.amqp.rabbit.connection.CachingConnectionFactory&quot;&gt;\r\n        &lt;constructor-arg value=&quot;clientSSLConnectionFactory&quot; /&gt;\r\n        &lt;property name=&quot;addresses&quot; value=&quot;some.fully.qualified.name:5671&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;user&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;\r\n        &lt;property name=&quot;cacheMode&quot; value=&quot;CONNECTION&quot; /&gt;\r\n        &lt;property name=&quot;connectionCacheSize&quot; value=&quot;50&quot; /&gt;\r\n        &lt;property name=&quot;virtualHost&quot; value=&quot;/&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nbecomes\r\n\r\n**&quot;Namespace&quot; method : Working:**\r\n \r\n    &lt;rabbit:connection-factory id=&quot;rabbitConnectionFactory&quot; \r\n    \t\tconnection-factory=&quot;clientSSLConnectionFactory&quot;\r\n    \t\taddresses=&quot;some.fully.qualified.name:5671&quot;\r\n    \t\tusername=&quot;user&quot;\r\n    \t\tpassword=&quot;password&quot;\r\n    \t\tcache-mode=&quot;CONNECTION&quot; \r\n    \t\tconnection-cache-size=50&quot; \r\n    \t\tvirtual-host=&quot;/&quot; /&gt;\r\n\r\nI though both were identical (and that the namespace was basicall a wrapper), but after setting up some breakpoints within ConnectionFactory and CachingConnectionFactory (mainly within constructors and new connection methods), I realized that there were not constructed the same way. Especially, we saw that, with the namespace method, the connexion was using a basic socket for the first method while a SSLSocket was used for the second one.\r\n\r\nWe tracked the connexion flow down to this very basic flow (below) :  it shows which (main!) methods / classes participate in the set up of the SSL Socket, and later the connection.\r\n\r\n| &#160;STEP            | &#160;NAMESPACE                                                                                                                                                             | &#160; BEAN                                                                                                                                                                         |\r\n| ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\r\n| &#160; useSslProtocol | DefaultListablebeanFactory #60&#160;&#160;&#160;&#160;&#160;&#160;&lt;br&gt;..=&gt; RabbitConnectionFactoryBean #52&lt;br&gt;….=&gt; ConnectionFactory #64                                                             | DefaultListablebeanFactory #60&lt;br&gt;..=&gt; RabbitConnectionFactoryBean #52&lt;br&gt;….=&gt; ConnectionFactory #64                                                                           |\r\n| &#160; useSslProtocol | DefaultListablebeanFactory #60&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;br&gt;..=&gt; RabbitConnectionFactoryBean #108&lt;br&gt;….=&gt; ConnectionFactory **#113**                                                          |                                                                                                                                                                                |\r\n| &#160;newConnection() | SimpleMessageListenerContainer #126&#160;&#160;&lt;br&gt;..=&gt; CachingConnectionFactory #78&lt;br&gt;….=&gt; ConnectionFactory **#113**&lt;br&gt;…...=&gt; socketFactory #89&lt;br&gt;…....=&gt; sslContextFactory #68 | &#160;SimpleMessageListenerContainer #97&lt;br&gt;..=&gt; CachingConnectionFactory #94&#160;&lt;br&gt;....=&gt; ConnectionFactory **#101**&#160;&lt;br&gt;…....=&gt; socketFactory&#160; **null**&#160;&#160;&lt;br&gt;…....=&gt; sslContextFactory **null** |\r\n\r\n\r\nYou can see that the *useSslProtocol* method is called in both cases, but the &quot;bean&quot; method does use it only once, through a ConnectionFactory that is not the one used for the later connection... hence the non-SSl socket.  \r\nI added the #ID of the objects provided by Eclipse debugger (usefull here to show whether objects are the same instance or not)  \r\n\r\nObviously, I could be satisfied with the namespace solution... but unfortunately it does not allow to setup &quot;connectionListeners&quot; (that we use).... and also I would like to understand a little deeper how do Spring and NamespaceHandlers do work.  \r\n\r\nI might be able to go further in my analysis, but I must also confess I am not easy enough with Spring... although I undersand most mecanisms, I experience some difficulties using this knownledge to figure out what is really going on on the &quot;all magical&quot; process of instanciation.   \r\nEG, I know the &lt;object&gt; namespace does use a &lt;Object&gt;NamespaceHandler ( https://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/config/RabbitNamespaceHandler.html), but I wasn&#39;t able to undersand how does this make the namespace differ from the basic bean.  \r\n\r\nSo... any hint to help us achieve using the Bean method (or include the listners) and/or understand the difference is welcome here.","title":"rabbit:connection-factory : understanding why a spring namespace element differs from the class it does wrap","body":"<p>I am puzzled about a difference between 2 uses cases I expected to be close enough to work the same way.\nI have a Spring xml content within which I am defining a messaging bridge, using Spring Integration and spring-amqp to consume and publish from/to a rabbitMq broker.</p>\n<p>The broker has to be accessed through SSL, where it used to be formerly accessed the non-TLS way.\nWe have no problem publishing to a rabbit on port 5671 (SSL). But we encountered one consuming... with the ConnectionFactory not using a SSL socket but a standard one... resulting in the server refusing the incoming frame because of an &quot;<em>{unsupported_record_type,65}</em>&quot;.</p>\n<p>After trying various changes, we ended up having it work, replacing a basic bean-based declaration by the corresponding &quot;namespaced&quot; element... ie :</p>\n<p><strong>&quot;Bean&quot; method, not Working:</strong></p>\n<pre><code>&lt;bean id=&quot;rabbitConnectionFactory&quot; class=&quot;org.springframework.amqp.rabbit.connection.CachingConnectionFactory&quot;&gt;\n    &lt;constructor-arg value=&quot;clientSSLConnectionFactory&quot; /&gt;\n    &lt;property name=&quot;addresses&quot; value=&quot;some.fully.qualified.name:5671&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;user&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;\n    &lt;property name=&quot;cacheMode&quot; value=&quot;CONNECTION&quot; /&gt;\n    &lt;property name=&quot;connectionCacheSize&quot; value=&quot;50&quot; /&gt;\n    &lt;property name=&quot;virtualHost&quot; value=&quot;/&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>becomes</p>\n<p><strong>&quot;Namespace&quot; method : Working:</strong></p>\n<pre><code>&lt;rabbit:connection-factory id=&quot;rabbitConnectionFactory&quot; \n        connection-factory=&quot;clientSSLConnectionFactory&quot;\n        addresses=&quot;some.fully.qualified.name:5671&quot;\n        username=&quot;user&quot;\n        password=&quot;password&quot;\n        cache-mode=&quot;CONNECTION&quot; \n        connection-cache-size=50&quot; \n        virtual-host=&quot;/&quot; /&gt;\n</code></pre>\n<p>I though both were identical (and that the namespace was basicall a wrapper), but after setting up some breakpoints within ConnectionFactory and CachingConnectionFactory (mainly within constructors and new connection methods), I realized that there were not constructed the same way. Especially, we saw that, with the namespace method, the connexion was using a basic socket for the first method while a SSLSocket was used for the second one.</p>\n<p>We tracked the connexion flow down to this very basic flow (below) :  it shows which (main!) methods / classes participate in the set up of the SSL Socket, and later the connection.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th> STEP</th>\n<th> NAMESPACE</th>\n<th>  BEAN</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>  useSslProtocol</td>\n<td>DefaultListablebeanFactory #60      <br>..=&gt; RabbitConnectionFactoryBean #52<br>….=&gt; ConnectionFactory #64</td>\n<td>DefaultListablebeanFactory #60<br>..=&gt; RabbitConnectionFactoryBean #52<br>….=&gt; ConnectionFactory #64</td>\n</tr>\n<tr>\n<td>  useSslProtocol</td>\n<td>DefaultListablebeanFactory #60       <br>..=&gt; RabbitConnectionFactoryBean #108<br>….=&gt; ConnectionFactory <strong>#113</strong></td>\n<td></td>\n</tr>\n<tr>\n<td> newConnection()</td>\n<td>SimpleMessageListenerContainer #126  <br>..=&gt; CachingConnectionFactory #78<br>….=&gt; ConnectionFactory <strong>#113</strong><br>…...=&gt; socketFactory #89<br>…....=&gt; sslContextFactory #68</td>\n<td> SimpleMessageListenerContainer #97<br>..=&gt; CachingConnectionFactory #94 <br>....=&gt; ConnectionFactory <strong>#101</strong> <br>…....=&gt; socketFactory  <strong>null</strong>  <br>…....=&gt; sslContextFactory <strong>null</strong></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can see that the <em>useSslProtocol</em> method is called in both cases, but the &quot;bean&quot; method does use it only once, through a ConnectionFactory that is not the one used for the later connection... hence the non-SSl socket.<br />\nI added the #ID of the objects provided by Eclipse debugger (usefull here to show whether objects are the same instance or not)</p>\n<p>Obviously, I could be satisfied with the namespace solution... but unfortunately it does not allow to setup &quot;connectionListeners&quot; (that we use).... and also I would like to understand a little deeper how do Spring and NamespaceHandlers do work.</p>\n<p>I might be able to go further in my analysis, but I must also confess I am not easy enough with Spring... although I undersand most mecanisms, I experience some difficulties using this knownledge to figure out what is really going on on the &quot;all magical&quot; process of instanciation.<br />\nEG, I know the  namespace does use a NamespaceHandler ( <a href=\"https://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/config/RabbitNamespaceHandler.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/config/RabbitNamespaceHandler.html</a>), but I wasn't able to undersand how does this make the namespace differ from the basic bean.</p>\n<p>So... any hint to help us achieve using the Bean method (or include the listners) and/or understand the difference is welcome here.</p>\n"},{"tags":["java","spring-boot","junit","junit5"],"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687180812,"creation_date":1687175671,"question_id":76506364,"body_markdown":"**This is my repository layer test cases I am written**\r\n\r\n\r\n```\r\n@DataJpaTest\r\n@ExtendWith(MockitoExtension.class)\r\n@ActiveProfiles(TestConstant.TEST_PROFILE)\r\n@AutoConfigureTestDatabase(replace = Replace.NONE)\r\nclass FriendRequestDboRepositoryTest {\r\n    @Autowired private FriendRequestRepository friendRequestRepository;\r\n\r\n   private static final FriendRequestDbo REQUEST = createFriendRequest();\r\n\r\n    private static FriendRequestDbo createFriendRequest() {\r\n        final var friendRequestDbo = new FriendRequestDbo();\r\n        friendRequestDbo.setSenderId(1);\r\n        friendRequestDbo.setReceiverId(2);\r\n        friendRequestDbo.setStatus(FriendRequestStatus.PENDING);\r\n        friendRequestDbo.setMessage(&quot;Hello&quot;);\r\n        return friendRequestDbo;\r\n    }\r\n\r\n    @Test\r\n    void findBySenderIdAndReceiverIdOrderByIdDesc() {\r\n        friendRequestRepository.save(REQUEST);\r\n        final var result =\r\n                friendRequestRepository.findFirstBySenderIdAndReceiverIdOrderByIdDesc(\r\n                        REQUEST.getSenderId(), REQUEST.getReceiverId());\r\n        assertTrue(result.isPresent());\r\n        assertEquals(REQUEST.getStatus(), result.get().getStatus());\r\n    }\r\n\r\n    @Test\r\n    void findByReceiverIdAndSenderIdOrderByIdDesc() {\r\n        friendRequestRepository.save(REQUEST);\r\n        final var result =\r\n                friendRequestRepository.findFirstByReceiverIdAndSenderIdOrderByIdDesc(\r\n                        REQUEST.getReceiverId(), REQUEST.getSenderId());\r\n        assertTrue(result.isPresent());\r\n        assertEquals(REQUEST.getStatus(), result.get().getStatus());\r\n    }\r\n\r\n    @Test\r\n    void findByIdAndStatus() {\r\n        friendRequestRepository.save(REQUEST);\r\n        final var result = friendRequestRepository.findByIdAndStatus(REQUEST.getId(), FriendRequestStatus.PENDING);\r\n        assertTrue(result.isPresent());\r\n        assertEquals(REQUEST.getStatus(), result.get().getStatus());\r\n    }\r\n```\r\n**this is my entity**\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;friend_request&quot;)\r\npublic class FriendRequestDbo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private long senderId;\r\n\r\n    private long receiverId;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private FriendRequestStatus status;\r\n\r\n    private String message;\r\n\r\n    public FriendRequestDbo() {}\r\n\r\n    public FriendRequestDbo(\r\n            int id, long senderId, long receiverId, FriendRequestStatus status, String message) {\r\n        this.id = id;\r\n        this.senderId = senderId;\r\n        this.receiverId = receiverId;\r\n        this.status = status;\r\n        this.message = message;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public long getSenderId() {\r\n        return senderId;\r\n    }\r\n\r\n    public void setSenderId(long senderId) {\r\n        this.senderId = senderId;\r\n    }\r\n\r\n    public long getReceiverId() {\r\n        return receiverId;\r\n    }\r\n\r\n    public void setReceiverId(long receiverId) {\r\n        this.receiverId = receiverId;\r\n    }\r\n\r\n    public FriendRequestStatus getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(FriendRequestStatus status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n# if my test cases are isolated or not?\r\n\r\n# If it&#39;s not how to write repository layer test cases with isolation\r\n\r\n**My main problem is when I run all the test cases my primary key was incremented and it&#39;s infected on other test cases**\r\n\r\n-&gt; Please provide me with a proper solution to this problem.","title":"How to achive Repository layer test cases with isolation?","body":"<p><strong>This is my repository layer test cases I am written</strong></p>\n<pre><code>@DataJpaTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(TestConstant.TEST_PROFILE)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\nclass FriendRequestDboRepositoryTest {\n    @Autowired private FriendRequestRepository friendRequestRepository;\n\n   private static final FriendRequestDbo REQUEST = createFriendRequest();\n\n    private static FriendRequestDbo createFriendRequest() {\n        final var friendRequestDbo = new FriendRequestDbo();\n        friendRequestDbo.setSenderId(1);\n        friendRequestDbo.setReceiverId(2);\n        friendRequestDbo.setStatus(FriendRequestStatus.PENDING);\n        friendRequestDbo.setMessage(&quot;Hello&quot;);\n        return friendRequestDbo;\n    }\n\n    @Test\n    void findBySenderIdAndReceiverIdOrderByIdDesc() {\n        friendRequestRepository.save(REQUEST);\n        final var result =\n                friendRequestRepository.findFirstBySenderIdAndReceiverIdOrderByIdDesc(\n                        REQUEST.getSenderId(), REQUEST.getReceiverId());\n        assertTrue(result.isPresent());\n        assertEquals(REQUEST.getStatus(), result.get().getStatus());\n    }\n\n    @Test\n    void findByReceiverIdAndSenderIdOrderByIdDesc() {\n        friendRequestRepository.save(REQUEST);\n        final var result =\n                friendRequestRepository.findFirstByReceiverIdAndSenderIdOrderByIdDesc(\n                        REQUEST.getReceiverId(), REQUEST.getSenderId());\n        assertTrue(result.isPresent());\n        assertEquals(REQUEST.getStatus(), result.get().getStatus());\n    }\n\n    @Test\n    void findByIdAndStatus() {\n        friendRequestRepository.save(REQUEST);\n        final var result = friendRequestRepository.findByIdAndStatus(REQUEST.getId(), FriendRequestStatus.PENDING);\n        assertTrue(result.isPresent());\n        assertEquals(REQUEST.getStatus(), result.get().getStatus());\n    }\n</code></pre>\n<p><strong>this is my entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;friend_request&quot;)\npublic class FriendRequestDbo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private long senderId;\n\n    private long receiverId;\n\n    @Enumerated(EnumType.STRING)\n    private FriendRequestStatus status;\n\n    private String message;\n\n    public FriendRequestDbo() {}\n\n    public FriendRequestDbo(\n            int id, long senderId, long receiverId, FriendRequestStatus status, String message) {\n        this.id = id;\n        this.senderId = senderId;\n        this.receiverId = receiverId;\n        this.status = status;\n        this.message = message;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public long getSenderId() {\n        return senderId;\n    }\n\n    public void setSenderId(long senderId) {\n        this.senderId = senderId;\n    }\n\n    public long getReceiverId() {\n        return receiverId;\n    }\n\n    public void setReceiverId(long receiverId) {\n        this.receiverId = receiverId;\n    }\n\n    public FriendRequestStatus getStatus() {\n        return status;\n    }\n\n    public void setStatus(FriendRequestStatus status) {\n        this.status = status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n\n</code></pre>\n<h1>if my test cases are isolated or not?</h1>\n<h1>If it's not how to write repository layer test cases with isolation</h1>\n<p><strong>My main problem is when I run all the test cases my primary key was incremented and it's infected on other test cases</strong></p>\n<p>-&gt; Please provide me with a proper solution to this problem.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687179544,"post_id":76504628,"comment_id":134896415,"body_markdown":"All three `JPanels` could be arranged with a `FlowLayout`.  You don&#39;t show the layout manager of the main `JPanel` that holds the three `JPanels`.  In my opinion, you&#39;re over-specifying the `BoxLayout`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"All three <code>JPanels</code> could be arranged with a <code>FlowLayout</code>.  You don&#39;t show the layout manager of the main <code>JPanel</code> that holds the three <code>JPanels</code>.  In my opinion, you&#39;re over-specifying the <code>BoxLayout</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687179654,"post_id":76504628,"comment_id":134896445,"body_markdown":"You can use empty `JPanel` borders to create whitespace.","body":"You can use empty <code>JPanel</code> borders to create whitespace."}],"owner":{"account_id":20870330,"reputation":11,"user_id":15330440,"display_name":"ngzs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687180730,"creation_date":1687161177,"question_id":76504628,"body_markdown":"Here&#39;s my code:\r\n```\r\nbutton_panel = new JPanel();\r\n        button_panel.setLayout(new BoxLayout(button_panel, BoxLayout.LINE_AXIS));\r\n        button_panel.add(import_button);\r\n        button_panel.add(Box.createHorizontalStrut(5));\r\n        button_panel.add(clear_button);\r\n        button_panel.add(Box.createHorizontalStrut(5));\r\n        button_panel.add(generate_button);\r\n        button_panel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n        \r\n        input_panel = new JPanel();\r\n        input_panel.setLayout(new BoxLayout(input_panel, BoxLayout.X_AXIS));\r\n        input_box = new JTextArea(5,5);\r\n        input_box.setLineWrap(true);\r\n        input_box.setWrapStyleWord(true);\r\n        input_scroll = new JScrollPane(input_box);\r\n        input_label = new JLabel(&quot;Input&quot;);\r\n        input_panel.add(input_label);\r\n        input_panel.add(Box.createHorizontalStrut(30));\r\n        input_panel.add(input_box);\r\n        input_panel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n        \r\n        output_panel = new JPanel();\r\n        output_panel.setLayout(new BoxLayout(output_panel, BoxLayout.X_AXIS));\r\n        output_box = new JTextArea(5, 5);\r\n        output_box.setLineWrap(true);\r\n        output_box.setWrapStyleWord(true);\r\n        output_scroll = new JScrollPane(output_box);\r\n        output_label = new JLabel(&quot;Output&quot;);\r\n        output_panel.add(output_label);\r\n        output_panel.add(Box.createHorizontalStrut(20));\r\n        output_panel.add(output_box);\r\n        output_panel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n\r\n        this.panel.add(button_panel);\r\n        this.panel.add(input_panel);\r\n        this.panel.add(output_panel);\r\n```\r\n\r\nAnd here&#39;s the output:\r\n\r\n[![https://i.stack.imgur.com/YkX8x.png][1]][1]\r\n\r\nThe expected behavior is that there will be a gap between the buttons and the input section, and then another between the input section and the output section. Any ideas on where I could&#39;ve gone wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YkX8x.png","title":"Swing not showing gap between panels","body":"<p>Here's my code:</p>\n<pre><code>button_panel = new JPanel();\n        button_panel.setLayout(new BoxLayout(button_panel, BoxLayout.LINE_AXIS));\n        button_panel.add(import_button);\n        button_panel.add(Box.createHorizontalStrut(5));\n        button_panel.add(clear_button);\n        button_panel.add(Box.createHorizontalStrut(5));\n        button_panel.add(generate_button);\n        button_panel.add(Box.createRigidArea(new Dimension(0, 5)));\n        \n        input_panel = new JPanel();\n        input_panel.setLayout(new BoxLayout(input_panel, BoxLayout.X_AXIS));\n        input_box = new JTextArea(5,5);\n        input_box.setLineWrap(true);\n        input_box.setWrapStyleWord(true);\n        input_scroll = new JScrollPane(input_box);\n        input_label = new JLabel(&quot;Input&quot;);\n        input_panel.add(input_label);\n        input_panel.add(Box.createHorizontalStrut(30));\n        input_panel.add(input_box);\n        input_panel.add(Box.createRigidArea(new Dimension(0, 5)));\n        \n        output_panel = new JPanel();\n        output_panel.setLayout(new BoxLayout(output_panel, BoxLayout.X_AXIS));\n        output_box = new JTextArea(5, 5);\n        output_box.setLineWrap(true);\n        output_box.setWrapStyleWord(true);\n        output_scroll = new JScrollPane(output_box);\n        output_label = new JLabel(&quot;Output&quot;);\n        output_panel.add(output_label);\n        output_panel.add(Box.createHorizontalStrut(20));\n        output_panel.add(output_box);\n        output_panel.add(Box.createRigidArea(new Dimension(0, 5)));\n\n        this.panel.add(button_panel);\n        this.panel.add(input_panel);\n        this.panel.add(output_panel);\n</code></pre>\n<p>And here's the output:</p>\n<p><a href=\"https://i.stack.imgur.com/YkX8x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YkX8x.png\" alt=\"https://i.stack.imgur.com/YkX8x.png\" /></a></p>\n<p>The expected behavior is that there will be a gap between the buttons and the input section, and then another between the input section and the output section. Any ideas on where I could've gone wrong?</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687180033,"post_id":76506895,"comment_id":134896553,"body_markdown":"Try `System.out.println(&quot;List element[0]: &quot; + listOfStrings.get(0));`","body":"Try <code>System.out.println(&quot;List element[0]: &quot; + listOfStrings.get(0));</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687180280,"post_id":76506895,"comment_id":134896608,"body_markdown":"This is normal.  There&#39;s a reason you get a compiler warning for casts like that, and it&#39;s because strange behavior can happen, as you&#39;ve observed.","body":"This is normal.  There&#39;s a reason you get a compiler warning for casts like that, and it&#39;s because strange behavior can happen, as you&#39;ve observed."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687180532,"post_id":76506895,"comment_id":134896681,"body_markdown":"Related: [Java generics type erasure: when and what happens?](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens)","body":"Related: <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1687185059,"post_id":76506895,"comment_id":134897671,"body_markdown":"This problem is called [heap pollution](https://en.wikipedia.org/wiki/Heap_pollution).","body":"This problem is called <a href=\"https://en.wikipedia.org/wiki/Heap_pollution\" rel=\"nofollow noreferrer\">heap pollution</a>."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687179687,"creation_date":1687179687,"answer_id":76506907,"question_id":76506895,"body_markdown":"Java generics are erased at runtime, so that cast cannot be checked. You&#39;ll get your ClassCastException once you access a not-String from the resulting list. This is why this code generates an unchecked cast warning.","title":"Java 11 not throwing ClassCastException when casting list of HashMap to list of String","body":"<p>Java generics are erased at runtime, so that cast cannot be checked. You'll get your ClassCastException once you access a not-String from the resulting list. This is why this code generates an unchecked cast warning.</p>\n"}],"owner":{"account_id":7814061,"reputation":171,"user_id":5909376,"display_name":"Ehab Yassin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687180564,"creation_date":1687179606,"question_id":76506895,"body_markdown":"I was expecting ClassCastExpection when running this code in Java 11 but it executes without an issue is there an explanation for this case?\r\n\r\n    List&lt;?&gt; list = List.of(new HashMap&lt;&gt;());\r\n    List&lt;String&gt; listOfStrings = (List&lt;String&gt;) list;\r\n    System.out.println(&quot;List size: &quot; + listOfStrings.size());","title":"Java 11 not throwing ClassCastException when casting list of HashMap to list of String","body":"<p>I was expecting ClassCastExpection when running this code in Java 11 but it executes without an issue is there an explanation for this case?</p>\n<pre><code>List&lt;?&gt; list = List.of(new HashMap&lt;&gt;());\nList&lt;String&gt; listOfStrings = (List&lt;String&gt;) list;\nSystem.out.println(&quot;List size: &quot; + listOfStrings.size());\n</code></pre>\n"},{"tags":["java","cors","xmlhttprequest","http-headers","vert.x"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687180225,"creation_date":1687180225,"answer_id":76506963,"question_id":76483291,"body_markdown":"When you create a `Router` with the `RouterBuidler` for OpenAPI, there are routes already defined.\r\n\r\nSo if you define a route for the `CorsHandler`, it will be installed as the last route definition.\r\n\r\nFor that case, you could add the `CorsHandler` route first, then mount the `Router` for OpenAPI as a sub-router:\r\n\r\n```java\r\n// Create the top-level router\r\nRouter router = Router.router(vertx);\r\n\r\n// Define a route for the CorsHandler immediately\r\nrouter.route().handler(CorsHandler.create(&quot;http://localhost:4287&quot;)\r\n                            .allowedMethod(io.vertx.core.http.HttpMethod.GET)\r\n                            .allowedMethod(io.vertx.core.http.HttpMethod.POST)\r\n                            .allowedMethod(io.vertx.core.http.HttpMethod.OPTIONS)\r\n                            .allowCredentials(true)\r\n                            .allowedHeader(&quot;Access-Control-Allow-Method&quot;)\r\n                            .allowedHeader(&quot;Access-Control-Allow-Origin&quot;)\r\n                            .allowedHeader(&quot;Access-Control-Allow-Credentials&quot;)\r\n                            .allowedHeader(&quot;Content-Type&quot;));\r\n\r\n// Define a subrouter for routes generated from OpenAPI spec\r\nrouter.route().subRouter(builder.createRouter());\r\n```","title":"CORS issue in including headers to the response of Vertx application","body":"<p>When you create a <code>Router</code> with the <code>RouterBuidler</code> for OpenAPI, there are routes already defined.</p>\n<p>So if you define a route for the <code>CorsHandler</code>, it will be installed as the last route definition.</p>\n<p>For that case, you could add the <code>CorsHandler</code> route first, then mount the <code>Router</code> for OpenAPI as a sub-router:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create the top-level router\nRouter router = Router.router(vertx);\n\n// Define a route for the CorsHandler immediately\nrouter.route().handler(CorsHandler.create(&quot;http://localhost:4287&quot;)\n                            .allowedMethod(io.vertx.core.http.HttpMethod.GET)\n                            .allowedMethod(io.vertx.core.http.HttpMethod.POST)\n                            .allowedMethod(io.vertx.core.http.HttpMethod.OPTIONS)\n                            .allowCredentials(true)\n                            .allowedHeader(&quot;Access-Control-Allow-Method&quot;)\n                            .allowedHeader(&quot;Access-Control-Allow-Origin&quot;)\n                            .allowedHeader(&quot;Access-Control-Allow-Credentials&quot;)\n                            .allowedHeader(&quot;Content-Type&quot;));\n\n// Define a subrouter for routes generated from OpenAPI spec\nrouter.route().subRouter(builder.createRouter());\n</code></pre>\n"}],"owner":{"account_id":18906612,"reputation":1,"user_id":13793625,"display_name":"Shakya Rathnaweera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687180225,"creation_date":1686843101,"question_id":76483291,"body_markdown":"I&#39;m currently experiencing an issue with including the necessary CORS headers in my Vert.x application. Despite trying the solutions provided in [this Stack Overflow post](https://stackoverflow.com/questions/38996253/cors-issue-in-vertx-application-not-working), I haven&#39;t been able to successfully add the headers to the response. When attempting to send a request from my frontend, I receive the following error message:\r\n```\r\nAcess to XMLHttpRequest at &#39;http://localhost:8081/api&#39; from origin &#39;http://localhost:4287&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\nThe relevant code snippet from my HttpServerVerticle class is as follows:\r\n\r\n```\r\n&gt; public class HttpServerVerticle extends AbstractVerticle {\r\n\r\n    @Override\r\n    public void start(Promise&lt;Void&gt; startPromise) {\r\n        ApiServiceApiHandler apiHandler = new ApiServiceApiHandler(new ApiServiceApiImpl());\r\n\r\n        RouterBuilder.create(vertx, specFile)\r\n                .map(builder -&gt; {\r\n                    builder.setOptions(\r\n                            new RouterBuilderOptions()\r\n                                    // For production use case, you need to enable this flag and provide the\r\n                                    // proper security handler\r\n                                    .setRequireSecurityHandlers(false));\r\n\r\n                    vertx.eventBus().registerDefaultCodec(DBUserRequest.class, new LocalEventBusCodec&lt;&gt;(DBUserRequest.class));\r\n                    vertx.eventBus().registerDefaultCodec(ArrayList.class, new LocalEventBusCodec&lt;&gt;(ArrayList.class));\r\n\r\n                    apiHandler.mount(builder);\r\n\r\n                  Router router = builder.createRouter();\r\n\r\n                    router.route().handler(CorsHandler.create(&quot;http://localhost:4287&quot;)\r\n                            .allowedMethod(io.vertx.core.http.HttpMethod.GET)\r\n                            .allowedMethod(io.vertx.core.http.HttpMethod.POST)\r\n                            .allowedMethod(io.vertx.core.http.HttpMethod.OPTIONS)\r\n                            .allowCredentials(true)\r\n                            .allowedHeader(&quot;Access-Control-Allow-Method&quot;)\r\n                            .allowedHeader(&quot;Access-Control-Allow-Origin&quot;)\r\n                            .allowedHeader(&quot;Access-Control-Allow-Credentials&quot;)\r\n                            .allowedHeader(&quot;Content-Type&quot;));\r\n\r\n              router.errorHandler(400, new ExceptionHandler());\r\n              router.errorHandler(405, new ExceptionHandler());\r\n              router.errorHandler(404, new ExceptionHandler());\r\n\r\n\r\n\r\n                    return router;\r\n\r\n                })\r\n               .compose(router-&gt;vertx.createHttpServer(options).requestHandler(router).listen(Vertx.currentContext().config().getInteger(ConfigConstants.PROPERTY_SERVICE_HTTP_PORT));\r\n.onSuccess(server -&gt; logger.info(&quot;Http verticle deploy successful&quot;))\r\n\r\n```\r\n\r\nI would greatly appreciate any guidance or suggestions to resolve the CORS issue mentioned above. \r\n\r\n\r\n\r\nI have already tried the solution mentioned in this link - https://stackoverflow.com/questions/38996253/cors-issue-in-vertx-application-not-working \r\n\r\nAlso I tried by changing the origin to &quot;.*.&quot; but the result was the same.","title":"CORS issue in including headers to the response of Vertx application","body":"<p>I'm currently experiencing an issue with including the necessary CORS headers in my Vert.x application. Despite trying the solutions provided in <a href=\"https://stackoverflow.com/questions/38996253/cors-issue-in-vertx-application-not-working\">this Stack Overflow post</a>, I haven't been able to successfully add the headers to the response. When attempting to send a request from my frontend, I receive the following error message:</p>\n<pre><code>Acess to XMLHttpRequest at 'http://localhost:8081/api' from origin 'http://localhost:4287' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>The relevant code snippet from my HttpServerVerticle class is as follows:</p>\n<pre><code>&gt; public class HttpServerVerticle extends AbstractVerticle {\n\n    @Override\n    public void start(Promise&lt;Void&gt; startPromise) {\n        ApiServiceApiHandler apiHandler = new ApiServiceApiHandler(new ApiServiceApiImpl());\n\n        RouterBuilder.create(vertx, specFile)\n                .map(builder -&gt; {\n                    builder.setOptions(\n                            new RouterBuilderOptions()\n                                    // For production use case, you need to enable this flag and provide the\n                                    // proper security handler\n                                    .setRequireSecurityHandlers(false));\n\n                    vertx.eventBus().registerDefaultCodec(DBUserRequest.class, new LocalEventBusCodec&lt;&gt;(DBUserRequest.class));\n                    vertx.eventBus().registerDefaultCodec(ArrayList.class, new LocalEventBusCodec&lt;&gt;(ArrayList.class));\n\n                    apiHandler.mount(builder);\n\n                  Router router = builder.createRouter();\n\n                    router.route().handler(CorsHandler.create(&quot;http://localhost:4287&quot;)\n                            .allowedMethod(io.vertx.core.http.HttpMethod.GET)\n                            .allowedMethod(io.vertx.core.http.HttpMethod.POST)\n                            .allowedMethod(io.vertx.core.http.HttpMethod.OPTIONS)\n                            .allowCredentials(true)\n                            .allowedHeader(&quot;Access-Control-Allow-Method&quot;)\n                            .allowedHeader(&quot;Access-Control-Allow-Origin&quot;)\n                            .allowedHeader(&quot;Access-Control-Allow-Credentials&quot;)\n                            .allowedHeader(&quot;Content-Type&quot;));\n\n              router.errorHandler(400, new ExceptionHandler());\n              router.errorHandler(405, new ExceptionHandler());\n              router.errorHandler(404, new ExceptionHandler());\n\n\n\n                    return router;\n\n                })\n               .compose(router-&gt;vertx.createHttpServer(options).requestHandler(router).listen(Vertx.currentContext().config().getInteger(ConfigConstants.PROPERTY_SERVICE_HTTP_PORT));\n.onSuccess(server -&gt; logger.info(&quot;Http verticle deploy successful&quot;))\n\n</code></pre>\n<p>I would greatly appreciate any guidance or suggestions to resolve the CORS issue mentioned above.</p>\n<p>I have already tried the solution mentioned in this link - <a href=\"https://stackoverflow.com/questions/38996253/cors-issue-in-vertx-application-not-working\">CORS issue in vertx Application not working</a></p>\n<p>Also I tried by changing the origin to &quot;.*.&quot; but the result was the same.</p>\n"},{"tags":["java","arrays","list","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687154821,"post_id":76503847,"comment_id":134891634,"body_markdown":"You can add a [listener](https://stackoverflow.com/questions/43393423/how-to-make-javafx-property-listener-to-fire-an-event-even-if-the-oldvaule-and-n) to any [JavaFX] property. Refer to the [documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/shape/Rectangle.html) for the properties of `Rectangle`.","body":"You can add a <a href=\"https://stackoverflow.com/questions/43393423/how-to-make-javafx-property-listener-to-fire-an-event-even-if-the-oldvaule-and-n\">listener</a> to any [JavaFX] property. Refer to the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/shape/Rectangle.html\" rel=\"nofollow noreferrer\">documentation</a> for the properties of <code>Rectangle</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1687179139,"post_id":76503847,"comment_id":134896338,"body_markdown":"Create the list with an [extractor](https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)).","body":"Create the list with an <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)\" rel=\"nofollow noreferrer\">extractor</a>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687180177,"creation_date":1687178430,"answer_id":76506719,"question_id":76503847,"body_markdown":"You can create an `ObservableList` that fires change events to listeners when properties in the list&#39;s elements are changed by specifying an [extractor](https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)) when you create the list. \r\n\r\nThe extractor is a function which maps each element of the list to an array of `Observable` values which should be listened to for changes. If you want to know when the `fill` property of the rectangle in your list changes, you can do:\r\n\r\n    public class Test2 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Rectangle rectangle=new Rectangle(0,0,1,1);\r\n    \r\n            // create list with an extractor:\r\n            ObservableList&lt;Rectangle&gt; rectangles = \r\n                FXCollections.observableArrayList(rect -&gt; new Observable[] { rect.fillProperty()});\r\n    \r\n            rectangles.addListener((ListChangeListener.Change&lt;? extends Rectangle&gt; change) -&gt;\r\n                    System.out.println(&quot;event is invoked.&quot;));\r\n    \r\n            rectangles.addAll(rectangle);\r\n            rectangle.setFill(new Color(1,0,0,0.5));\r\n    \r\n        }\r\n    }\r\n\r\n\r\nRefer to the [`ListChangeListener.Change` API documentation](https://openjfx.io/javadoc/20/javafx.base/javafx/collections/ListChangeListener.Change.html) for methods on the `change` object that allow you to determine what caused the listener to be invoked. For example:\r\n\r\n        rectangles.addListener((ListChangeListener.Change&lt;? extends Rectangle&gt; change) -&gt; {\r\n            while (change.next()) {\r\n                if (change.wasAdded()) {\r\n                    System.out.println(&quot;Added &quot; + change.getAddedSize() + &quot; rectangle(s)&quot;);\r\n                }\r\n                if (change.wasRemoved()) {\r\n                    System.out.println(&quot;Removed &quot;+change.getRemovedSize()+&quot; element(s)&quot;);\r\n                }\r\n                if (change.wasUpdated()) {\r\n                    int from = change.getFrom();\r\n                    int to = change.getTo();\r\n                    System.out.println(&quot;Rectangle(s) from index &quot;+from+&quot; to &quot;+to+&quot; were changed&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\nwill generate the following output:\r\n\r\n    Added 1 rectangle(s)\r\n    Rectangle(s) from index 0 to 1 were changed","title":"Listening to Object changes within a List in JavaFX, in contrast to listening to List changes itself","body":"<p>You can create an <code>ObservableList</code> that fires change events to listeners when properties in the list's elements are changed by specifying an <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)\" rel=\"nofollow noreferrer\">extractor</a> when you create the list.</p>\n<p>The extractor is a function which maps each element of the list to an array of <code>Observable</code> values which should be listened to for changes. If you want to know when the <code>fill</code> property of the rectangle in your list changes, you can do:</p>\n<pre><code>public class Test2 {\n\n    public static void main(String[] args) {\n\n        Rectangle rectangle=new Rectangle(0,0,1,1);\n\n        // create list with an extractor:\n        ObservableList&lt;Rectangle&gt; rectangles = \n            FXCollections.observableArrayList(rect -&gt; new Observable[] { rect.fillProperty()});\n\n        rectangles.addListener((ListChangeListener.Change&lt;? extends Rectangle&gt; change) -&gt;\n                System.out.println(&quot;event is invoked.&quot;));\n\n        rectangles.addAll(rectangle);\n        rectangle.setFill(new Color(1,0,0,0.5));\n\n    }\n}\n</code></pre>\n<p>Refer to the <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/ListChangeListener.Change.html\" rel=\"nofollow noreferrer\"><code>ListChangeListener.Change</code> API documentation</a> for methods on the <code>change</code> object that allow you to determine what caused the listener to be invoked. For example:</p>\n<pre><code>    rectangles.addListener((ListChangeListener.Change&lt;? extends Rectangle&gt; change) -&gt; {\n        while (change.next()) {\n            if (change.wasAdded()) {\n                System.out.println(&quot;Added &quot; + change.getAddedSize() + &quot; rectangle(s)&quot;);\n            }\n            if (change.wasRemoved()) {\n                System.out.println(&quot;Removed &quot;+change.getRemovedSize()+&quot; element(s)&quot;);\n            }\n            if (change.wasUpdated()) {\n                int from = change.getFrom();\n                int to = change.getTo();\n                System.out.println(&quot;Rectangle(s) from index &quot;+from+&quot; to &quot;+to+&quot; were changed&quot;);\n            }\n        }\n    });\n</code></pre>\n<p>will generate the following output:</p>\n<pre><code>Added 1 rectangle(s)\nRectangle(s) from index 0 to 1 were changed\n</code></pre>\n"}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76506719,"answer_count":1,"score":0,"last_activity_date":1687180177,"creation_date":1687152970,"question_id":76503847,"body_markdown":"The following code snippet listen to changes in `rectangles` (a list of rectangles ) and prints `event is invoked.` on screen whenever a `Rectangle` object is added to or removed from `rectangles`.\r\n\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    public class test2 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Rectangle rectangle=new Rectangle(0,0,1,1);\r\n    \r\n            ObservableList&lt;Rectangle&gt; rectangles = FXCollections.observableArrayList();\r\n            rectangles.addListener((ListChangeListener&lt;Rectangle&gt;) change -&gt;\r\n                    System.out.println(&quot;event is invoked.&quot;));\r\n    \r\n            rectangles.addAll(rectangle);\r\n    \r\n        }\r\n    }\r\n\r\nMy question is whether it is possible to listen to changes in the objects in `rectangles` rather than listening to adding to or removing from `rectangles`. For example, the event should be invoked when I change the fill color of a `Rectangle` object in `rectangles`. I tried the following code (added a line of `rectangle.setFill(new Color(1,0,0,0.5));`) and expected to have `event is invoked.` printed twice, but it did not work.\r\n\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    public class test2 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Rectangle rectangle=new Rectangle(0,0,1,1);\r\n    \r\n            ObservableList&lt;Rectangle&gt; rectangles = FXCollections.observableArrayList();\r\n            rectangles.addListener((ListChangeListener&lt;Rectangle&gt;) change -&gt;\r\n                    System.out.println(&quot;event is invoked.&quot;));\r\n    \r\n            rectangles.addAll(rectangle);\r\n            rectangle.setFill(new Color(1,0,0,0.5));\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Listening to Object changes within a List in JavaFX, in contrast to listening to List changes itself","body":"<p>The following code snippet listen to changes in <code>rectangles</code> (a list of rectangles ) and prints <code>event is invoked.</code> on screen whenever a <code>Rectangle</code> object is added to or removed from <code>rectangles</code>.</p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\npublic class test2 {\n\n    public static void main(String[] args) {\n\n        Rectangle rectangle=new Rectangle(0,0,1,1);\n\n        ObservableList&lt;Rectangle&gt; rectangles = FXCollections.observableArrayList();\n        rectangles.addListener((ListChangeListener&lt;Rectangle&gt;) change -&gt;\n                System.out.println(&quot;event is invoked.&quot;));\n\n        rectangles.addAll(rectangle);\n\n    }\n}\n</code></pre>\n<p>My question is whether it is possible to listen to changes in the objects in <code>rectangles</code> rather than listening to adding to or removing from <code>rectangles</code>. For example, the event should be invoked when I change the fill color of a <code>Rectangle</code> object in <code>rectangles</code>. I tried the following code (added a line of <code>rectangle.setFill(new Color(1,0,0,0.5));</code>) and expected to have <code>event is invoked.</code> printed twice, but it did not work.</p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\npublic class test2 {\n\n    public static void main(String[] args) {\n\n        Rectangle rectangle=new Rectangle(0,0,1,1);\n\n        ObservableList&lt;Rectangle&gt; rectangles = FXCollections.observableArrayList();\n        rectangles.addListener((ListChangeListener&lt;Rectangle&gt;) change -&gt;\n                System.out.println(&quot;event is invoked.&quot;));\n\n        rectangles.addAll(rectangle);\n        rectangle.setFill(new Color(1,0,0,0.5));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","gradle","groovy","dependencies"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687180359,"post_id":76506951,"comment_id":134896631,"body_markdown":"Why would you want that? The jar and war should contain the same classes. Maybe include the war *instead of* the jar.","body":"Why would you want that? The jar and war should contain the same classes. Maybe include the war <i>instead of</i> the jar."},{"owner":{"account_id":4565513,"reputation":1610,"user_id":3706616,"accept_rate":87,"display_name":"Cristian"},"score":0,"creation_date":1687180465,"post_id":76506951,"comment_id":134896662,"body_markdown":"So that is the problem, that the war is not included into the ear. It is included only the b.jar, but not b.war.","body":"So that is the problem, that the war is not included into the ear. It is included only the b.jar, but not b.war."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687180569,"post_id":76506951,"comment_id":134896691,"body_markdown":"So adjust the Gradle task that&#39;s building the jar to build the war instead. You shouldn&#39;t need the jar at all.","body":"So adjust the Gradle task that&#39;s building the jar to build the war instead. You shouldn&#39;t need the jar at all."},{"owner":{"account_id":4565513,"reputation":1610,"user_id":3706616,"accept_rate":87,"display_name":"Cristian"},"score":0,"creation_date":1687185263,"post_id":76506951,"comment_id":134897724,"body_markdown":"When only the b.war is created gradle does not put in a.ear the b.war, so it&#39;s exactly the same if it creates both the b.war and b.jar.","body":"When only the b.war is created gradle does not put in a.ear the b.war, so it&#39;s exactly the same if it creates both the b.war and b.jar."}],"owner":{"account_id":4565513,"reputation":1610,"user_id":3706616,"accept_rate":87,"display_name":"Cristian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687180060,"creation_date":1687180060,"question_id":76506951,"body_markdown":"## Context: ##\r\nA gradle multimodule project consisting of subproject **A**, subproject **B**.\r\n\r\n## Artifacts: ##\r\n**A** produces `a.ear`.  \r\n**B** produces `b.jar` and `b.war`.\r\n\r\n## build.gradle ##\r\n#### **A** ####\r\n```\r\nplugins {\r\n   id &#39;java-library&#39;\r\n   id &#39;ear&#39;\r\n}\r\n\r\ndependencies {\r\n   deploy project(&#39;:B&#39;)\r\n}\r\n```\r\n\r\n## Results ##\r\n```\r\nA\r\n|-build\r\n   |-...\r\n   |-libs\r\n   |   |-a.ear\r\n   |   |   |-...\r\n   |   |   |-b.jar\r\n```\r\n\r\n# The Problem #\r\nWhat I actually need is **b.war** to be present into **a.ear**. So where the **b.jar** is in **a.ear** should also be **b.war**, but that one is missing.\r\n\r\n## What I assume ##\r\nThere should be somehow a way where I declare the dependencies:\r\n```\r\ndependencies {\r\n   deploy project(&#39;:B&#39;)\r\n}\r\n```\r\nto specify that I want a war artifact from subproject **B**. Of course I am open also to other suggestions of how to put the **b.war** into **a.ear**.","title":"How to get a war artifact into ear artifact in a gradle multimodule project?","body":"<h2>Context:</h2>\n<p>A gradle multimodule project consisting of subproject <strong>A</strong>, subproject <strong>B</strong>.</p>\n<h2>Artifacts:</h2>\n<p><strong>A</strong> produces <code>a.ear</code>.<br />\n<strong>B</strong> produces <code>b.jar</code> and <code>b.war</code>.</p>\n<h2>build.gradle</h2>\n<h4><strong>A</strong></h4>\n<pre><code>plugins {\n   id 'java-library'\n   id 'ear'\n}\n\ndependencies {\n   deploy project(':B')\n}\n</code></pre>\n<h2>Results</h2>\n<pre><code>A\n|-build\n   |-...\n   |-libs\n   |   |-a.ear\n   |   |   |-...\n   |   |   |-b.jar\n</code></pre>\n<h1>The Problem</h1>\n<p>What I actually need is <strong>b.war</strong> to be present into <strong>a.ear</strong>. So where the <strong>b.jar</strong> is in <strong>a.ear</strong> should also be <strong>b.war</strong>, but that one is missing.</p>\n<h2>What I assume</h2>\n<p>There should be somehow a way where I declare the dependencies:</p>\n<pre><code>dependencies {\n   deploy project(':B')\n}\n</code></pre>\n<p>to specify that I want a war artifact from subproject <strong>B</strong>. Of course I am open also to other suggestions of how to put the <strong>b.war</strong> into <strong>a.ear</strong>.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1686670303,"post_id":76464805,"comment_id":134829551,"body_markdown":"Are you aware that `PBKDF2WithHmacSHA256 ` requires an Android phone running Android 8+? Do you use Proguard obfuscated APK file for local testing?","body":"Are you aware that <code>PBKDF2WithHmacSHA256 </code> requires an Android phone running Android 8+? Do you use Proguard obfuscated APK file for local testing?"},{"owner":{"account_id":8307612,"reputation":1313,"user_id":6244038,"accept_rate":0,"display_name":"Insou"},"score":0,"creation_date":1686739634,"post_id":76464805,"comment_id":134839681,"body_markdown":"I didn&#39;t know, but my test phone is running Android 10. I don&#39;t think I use ProGuard to obfuscate the APK locally, why ? (I&#39;ll find out how to do it..) \nIf I send an apk not obfuscated by ProGuard, Google will do it for me and maybe that&#39;s why I don&#39;t have any problems locally but I do with the store version ?","body":"I didn&#39;t know, but my test phone is running Android 10. I don&#39;t think I use ProGuard to obfuscate the APK locally, why ? (I&#39;ll find out how to do it..)  If I send an apk not obfuscated by ProGuard, Google will do it for me and maybe that&#39;s why I don&#39;t have any problems locally but I do with the store version ?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1686740806,"post_id":76464805,"comment_id":134839903,"body_markdown":"Look at the stack trace of `java.lang.IllegalArgumentException: Empty key`. `pb.a.f` is an obfuscated class name. Assuming this class is your code, then Proguard is active. If not it could be an already obfuscated library you use, but based on what you have posted this is not possible to tell.","body":"Look at the stack trace of <code>java.lang.IllegalArgumentException: Empty key</code>. <code>pb.a.f</code> is an obfuscated class name. Assuming this class is your code, then Proguard is active. If not it could be an already obfuscated library you use, but based on what you have posted this is not possible to tell."},{"owner":{"account_id":8307612,"reputation":1313,"user_id":6244038,"accept_rate":0,"display_name":"Insou"},"score":0,"creation_date":1686742255,"post_id":76464805,"comment_id":134840184,"body_markdown":"I just checked my build.gradle and I see that there is ProGuard, I updated my first post with my build.gradle. \nLet&#39;s assume Proguard is active... why does the local version work fine and not the one on the store? what can be done to get the store version to work? (sorry, I&#39;m new to this project and I&#39;m trying to understand, thx for your help). \nShould I disable ProGuard to get more information about `pb.a.f` ?","body":"I just checked my build.gradle and I see that there is ProGuard, I updated my first post with my build.gradle.  Let&#39;s assume Proguard is active... why does the local version work fine and not the one on the store? what can be done to get the store version to work? (sorry, I&#39;m new to this project and I&#39;m trying to understand, thx for your help).  Should I disable ProGuard to get more information about <code>pb.a.f</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":8307612,"reputation":1313,"user_id":6244038,"accept_rate":0,"display_name":"Insou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687179876,"creation_date":1687179876,"answer_id":76506928,"question_id":76464805,"body_markdown":"I solved my problem by changing the compatibility mode in `build.gradle`\r\n\r\nReplace :\r\n\r\n    compileOptions{\r\n         targetCompatibility = &quot;11&quot;\r\n         sourceCompatibility = &quot;11&quot;\r\n    }\r\n\r\nby \r\n\r\n    compileOptions{\r\n         targetCompatibility = JavaVersion.VERSION_1_8\r\n         sourceCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n\r\n","title":"How to solve a problem only on playstore?","body":"<p>I solved my problem by changing the compatibility mode in <code>build.gradle</code></p>\n<p>Replace :</p>\n<pre><code>compileOptions{\n     targetCompatibility = &quot;11&quot;\n     sourceCompatibility = &quot;11&quot;\n}\n</code></pre>\n<p>by</p>\n<pre><code>compileOptions{\n     targetCompatibility = JavaVersion.VERSION_1_8\n     sourceCompatibility = JavaVersion.VERSION_1_8\n}\n</code></pre>\n"}],"owner":{"account_id":8307612,"reputation":1313,"user_id":6244038,"accept_rate":0,"display_name":"Insou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76506928,"answer_count":1,"score":0,"last_activity_date":1687179953,"creation_date":1686658346,"question_id":76464805,"body_markdown":"I have a small problem that is difficult to debug.\r\n\r\nHere is my case:\r\n\r\n    - My application uses encryption.\r\n\r\n    - When connecting via the login (locally), everything works fine (iOS and Android).\r\n\r\n    - For iOS, the application is available on the store and works fine too.\r\n\r\n    - For Android, when I test the beta version (via playstore) of my application with the same login, my application crashes.\r\n\r\nThe problem is that everything works fine locally for iOS and Android, but as soon as the Android application is on the play store, doing the same tests (same database, same url, same login/password), the application crashes, and I don&#39;t know why.\r\n\r\n Here is the error:\r\n\r\n    java.lang.IllegalArgumentException: Empty key\r\n    at javax.crypto.spec.SecretKeySpec.&lt;init&gt;(SecretKeySpec.java:145)\r\n    at pb.a.f(Unknown Source:206)\r\n    at eb.g0.a(Unknown Source:295)\r\n    at jb.b$b.a(Unknown Source:12)\r\n    at oe.h.run(Unknown Source:27)\r\n    at android.os.Handler.handleCallback(Handler.java:883)\r\n    at android.os.Handler.dispatchMessage(Handler.java:100)\r\n    at android.os.Looper.loop(Looper.java:237)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8167)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\r\n\r\nI don&#39;t understand why it crashes **only** when the application is on the store and not when I test it locally.\r\n\r\nI have logged where there is a difference in results..\r\n\r\n**When I test my application locally :** \r\n\r\n    Log - derivation password : %s  D  myPassword.\r\n    Log - derivation user_id  : %s  D  789594a24e158304\r\n    Log - derivation resultat : %s  D  gw9yK5HAw7n9RjY0e4adWlpM5wUnA0GdM/L5kcD3EHs=\r\n\r\n**When I test my application from play store :**\r\n\r\n    Log - Erreur derivation : %s    D  PBKDF2WithHmacSHA256 SecretKeyFactory not available\r\n    Log - derivation password : %s  D  myPassword.\r\n    Log - derivation user_id : %s   D  789594a24e158304\r\n    Log - derivation resultat : %s  D  \r\n\r\nVia **playstore**, there is an error &quot;**PBKDF2WithHmacSHA256 SecretKeyFactory not available**&quot; and resultat is empty.\r\n\r\nMy function :\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n        public static String derivation(String password, String user_id) {\r\n    \r\n            String salt = &quot;blablabla&quot;+user_id;\r\n            byte[] TabMotSaltBytes = salt.getBytes();  // stock salt in bytes\r\n    \r\n            int iterationCount = 1000;\r\n            int KeyLength = 256; \r\n    \r\n            String derivation = &quot;&quot;;\r\n    \r\n            try {\r\n                SecretKeyFactory pbkdf2 = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n                PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), TabMotSaltBytes, iterationCount, KeyLength);\r\n                byte[] secret = pbkdf2.generateSecret(spec).getEncoded();\r\n                derivation = Base64.getEncoder().encodeToString(secret);\r\n            }\r\n            catch (Exception e){\r\n                Log.d(&quot;Erreur derivation : %s&quot;, e.getMessage());\r\n            }\r\n    \r\n            Log.d(&quot;derivation password : %s&quot;,password);\r\n            Log.d(&quot;derivation user_id : %s&quot;,user_id);\r\n            Log.d(&quot;derivation resultat : %s&quot;, derivation);\r\n            return derivation;\r\n        }\r\n\r\nIn my build.gradle : \r\n\r\n    buildTypes {\r\n            release {\r\n                debuggable false\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                zipAlignEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.config\r\n            }\r\n        }\r\n\r\nMy question is : **Why is it that when I download the app from the playstore, it can&#39;t calculate the derivation key?**\r\n\r\nIt&#39;s the same phone, the same login, the same password, the same url, the same database..\r\n\r\nThx for your help :)","title":"How to solve a problem only on playstore?","body":"<p>I have a small problem that is difficult to debug.</p>\n<p>Here is my case:</p>\n<pre><code>- My application uses encryption.\n\n- When connecting via the login (locally), everything works fine (iOS and Android).\n\n- For iOS, the application is available on the store and works fine too.\n\n- For Android, when I test the beta version (via playstore) of my application with the same login, my application crashes.\n</code></pre>\n<p>The problem is that everything works fine locally for iOS and Android, but as soon as the Android application is on the play store, doing the same tests (same database, same url, same login/password), the application crashes, and I don't know why.</p>\n<p>Here is the error:</p>\n<pre><code>java.lang.IllegalArgumentException: Empty key\nat javax.crypto.spec.SecretKeySpec.&lt;init&gt;(SecretKeySpec.java:145)\nat pb.a.f(Unknown Source:206)\nat eb.g0.a(Unknown Source:295)\nat jb.b$b.a(Unknown Source:12)\nat oe.h.run(Unknown Source:27)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:237)\nat android.app.ActivityThread.main(ActivityThread.java:8167)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n</code></pre>\n<p>I don't understand why it crashes <strong>only</strong> when the application is on the store and not when I test it locally.</p>\n<p>I have logged where there is a difference in results..</p>\n<p><strong>When I test my application locally :</strong></p>\n<pre><code>Log - derivation password : %s  D  myPassword.\nLog - derivation user_id  : %s  D  789594a24e158304\nLog - derivation resultat : %s  D  gw9yK5HAw7n9RjY0e4adWlpM5wUnA0GdM/L5kcD3EHs=\n</code></pre>\n<p><strong>When I test my application from play store :</strong></p>\n<pre><code>Log - Erreur derivation : %s    D  PBKDF2WithHmacSHA256 SecretKeyFactory not available\nLog - derivation password : %s  D  myPassword.\nLog - derivation user_id : %s   D  789594a24e158304\nLog - derivation resultat : %s  D  \n</code></pre>\n<p>Via <strong>playstore</strong>, there is an error &quot;<strong>PBKDF2WithHmacSHA256 SecretKeyFactory not available</strong>&quot; and resultat is empty.</p>\n<p>My function :</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.O)\n    public static String derivation(String password, String user_id) {\n\n        String salt = &quot;blablabla&quot;+user_id;\n        byte[] TabMotSaltBytes = salt.getBytes();  // stock salt in bytes\n\n        int iterationCount = 1000;\n        int KeyLength = 256; \n\n        String derivation = &quot;&quot;;\n\n        try {\n            SecretKeyFactory pbkdf2 = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n            PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), TabMotSaltBytes, iterationCount, KeyLength);\n            byte[] secret = pbkdf2.generateSecret(spec).getEncoded();\n            derivation = Base64.getEncoder().encodeToString(secret);\n        }\n        catch (Exception e){\n            Log.d(&quot;Erreur derivation : %s&quot;, e.getMessage());\n        }\n\n        Log.d(&quot;derivation password : %s&quot;,password);\n        Log.d(&quot;derivation user_id : %s&quot;,user_id);\n        Log.d(&quot;derivation resultat : %s&quot;, derivation);\n        return derivation;\n    }\n</code></pre>\n<p>In my build.gradle :</p>\n<pre><code>buildTypes {\n        release {\n            debuggable false\n            minifyEnabled true\n            shrinkResources true\n            zipAlignEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n        }\n    }\n</code></pre>\n<p>My question is : <strong>Why is it that when I download the app from the playstore, it can't calculate the derivation key?</strong></p>\n<p>It's the same phone, the same login, the same password, the same url, the same database..</p>\n<p>Thx for your help :)</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1687166106,"post_id":76500970,"comment_id":134893724,"body_markdown":"That should not be the case. Is the processor `CreateTransactionsItemProcessor` stateful? What is the type of `BillingTransactionWriter`? If it is a custom writer, please share its code.","body":"That should not be the case. Is the processor <code>CreateTransactionsItemProcessor</code> stateful? What is the type of <code>BillingTransactionWriter</code>? If it is a custom writer, please share its code."},{"owner":{"account_id":27890917,"reputation":1,"user_id":21297301,"display_name":"Yossi R"},"score":0,"creation_date":1687182202,"post_id":76500970,"comment_id":134897062,"body_markdown":"`CreateTransactionsItemProcessor` has a very small state `StepExecution` for holding some parameters in the context - please see the code I added above.\nI also added some of the `writer` code above.","body":"<code>CreateTransactionsItemProcessor</code> has a very small state <code>StepExecution</code> for holding some parameters in the context - please see the code I added above. I also added some of the <code>writer</code> code above."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1687249201,"post_id":76500970,"comment_id":134906237,"body_markdown":"There are two common causes for such an OOM errors: either items are not released by an item processor/writer, or too much data is stored in the execution context. The code you shared does not seem to do any of those, but I can&#39;t see from what you shared what the root cause could be. Have you profiled the app and identified which part is consuming memory? This kind of issue is not easy to diagnose without a minimal example that reproduces them: https://stackoverflow.com/help/minimal-reproducible-example","body":"There are two common causes for such an OOM errors: either items are not released by an item processor/writer, or too much data is stored in the execution context. The code you shared does not seem to do any of those, but I can&#39;t see from what you shared what the root cause could be. Have you profiled the app and identified which part is consuming memory? This kind of issue is not easy to diagnose without a minimal example that reproduces them: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":27890917,"reputation":1,"user_id":21297301,"display_name":"Yossi R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687179579,"creation_date":1687097453,"question_id":76500970,"body_markdown":"We are using Spring Boot 3.0.4 with Spring Batch 5.0.0 &amp; Java 1.19.\r\n\r\nWe have created a Job with a RepositoryItemReader, processor &amp; ItemWriter using chunks.\r\nBasically we are reading chunks of records from one table (MySQL DB), then we convert the data into new objects in our item processor and then we write the entities back into a new table in the DB (MySQL DB).\r\n\r\nWe are testing with 1M records and chunks of 10K each.\r\n\r\nWe are seeing the heap size memory growing all the time during this step, and memory is not getting released.\r\n\r\nWe configured the step as below:\r\n\r\n\r\n\r\n    @Bean\r\n\tpublic Step createTransactionsStep(JobRepository jobRepository,\r\n                                       PlatformTransactionManager transactionManager,\r\n                                       ItemReader itemReaderBillingTransaction,\r\n                                       BillingTransactionWriter writer,\r\n                                       RepositoryItemReader&lt;BillingTransaction&gt; myReader\r\n                                     ) {\r\n\r\n        return new StepBuilder(CREATE_TRANSACTIONS, jobRepository)\r\n                .&lt;BillingTransaction, Transaction&gt;chunk(chunkSize,transactionManager)\r\n                .reader(myReader)\r\n                .processor(createTransactionsItemProcessor())\r\n                .writer(writer)\r\n                .listener(createTransactionListener)\r\n                .build();\r\n\t}\r\n\r\n    @Bean\r\n    @StepScope\r\n    public RepositoryItemReader&lt;BillingTransaction&gt; myReader(BillingTransactionRepositoryCustom repository,\r\n                                                             @Value(&quot;#{jobParameters[bsLogId]}&quot;) String bsLogId) {\r\n\r\n        Map&lt;String, Sort.Direction&gt; sortMap = new HashMap&lt;&gt;();\r\n        sortMap.put(&quot;recordId&quot;, Sort.Direction.ASC);\r\n\r\n        return new RepositoryItemReaderBuilder&lt;BillingTransaction&gt;()\r\n                .repository(repository)\r\n                .methodName(&quot;findByBsLogIdAndBsStatus&quot;)\r\n                .arguments(Arrays.asList(Integer.valueOf(bsLogId), VALIDATIONS_IN_PROCESS.code))\r\n                .pageSize(chunkSize)\r\n                .sorts(sortMap)\r\n                .saveState(false)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ItemProcessor&lt;BillingTransaction, Transaction&gt; createTransactionsItemProcessor() {\r\n        return new CreateTransactionsItemProcessor();\r\n    }\r\n\r\nBelow is our implementation of CreateTransactionsItemProcessor\r\n\r\n    public class CreateTransactionsItemProcessor implements ItemProcessor&lt;BillingTransaction, Transaction&gt; {\r\n\r\n\r\n    @Autowired\r\n    TransactionCreator transactionCreator;\r\n\r\n    @Autowired\r\n    AshraitCfgRepository ashraitCfgRepository;\r\n\r\n    @Autowired\r\n    CustomRoutingDS customRoutingDS;\r\n\r\n    private String merchantId;\r\n\r\n    @Autowired\r\n    protected LogWriter logWriter;\r\n\r\n    private StepExecution stepExecution;\r\n\r\n    @Autowired\r\n    BillingLogRepository billingLogRepository;\r\n\r\n    @BeforeStep\r\n    public void saveStepExecution(StepExecution stepExecution) {\r\n        this.stepExecution = stepExecution;\r\n        String gatewayId = getStepJobParameterValue(stepExecution, JOB_PARAMETER_GATEWAY_ID);\r\n        String pid = getStepJobParameterValue(stepExecution, JOB_PARAMETER_PID);\r\n        String bsLogId = getStepJobParameterValue(stepExecution, JOB_PARAMETER_BS_LOG_ID);\r\n\r\n        Optional.ofNullable(pid)\r\n                .ifPresentOrElse(this::initBillingLog, () -&gt; {\r\n                    throw new RuntimeException();\r\n                });\r\n\r\n        // Saving in a step context some parameters that will be used in continue\r\n        customRoutingDS.setCurrentGatewayId(gatewayId);\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;ashVersion&quot;, ashraitCfgRepository.getAshVersion());\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;manufUse&quot;, ashraitCfgRepository.getManufUse());\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;manufId&quot;, ashraitCfgRepository.getManufId());\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;merchantId&quot;, merchantId);\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;GATEWAY_LOG_NUMERATOR&quot;,0);\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;RQUEST_ID&quot;,String.format(&quot;%s-%s-%s&quot;, pid, bsLogId, 0));\r\n        DateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT);\r\n        stepExecution.getJobExecution().getExecutionContext().put(&quot;date&quot;, dateFormat.format(new Date()));\r\n     }\r\n\r\n\r\n    @Override\r\n    public Transaction process(BillingTransaction item) throws Exception {\r\n\r\n        Transaction tr;\r\n        try {\r\n            tr = transactionCreator.createTransaction(item, stepExecution);\r\n        } catch (Exception e) {\r\n            logWriter.info(stepExecution, this.getClass().getSimpleName(), e.toString());\r\n            throw new RuntimeException(e);\r\n        }\r\n        setJobExecutionContext(stepExecution.getJobExecution());\r\n\r\n        return tr;\r\n    }\r\n\r\n\r\nBelow is our implementation of the writer:\r\n\r\n    @Component\r\n    public class BillingTransactionWriter implements\r\n        ItemWriter&lt;Transaction&gt;, StepExecutionListener {\r\n\r\n    private JobExecution jobExecution;\r\n\r\n    @Autowired\r\n    protected LogWriter logWriter;\r\n\r\n    @Autowired\r\n    private GatewayLogRepositoryCustom gatewayLogRepositoryCustom;\r\n\r\n    @Autowired\r\n    private ShovarNumeratorRepository shovarNumeratorRepository;\r\n\r\n    @Autowired\r\n    private CustomRoutingDS customRoutingDS;\r\n\r\n    @Autowired\r\n    private EntityManagerDynamicQueryService&lt;String&gt; entityManagerDynamicQueryService;\r\n\r\n    @Override\r\n    public void beforeStep(@NotNull StepExecution stepExecution) {\r\n        logWriter.info(stepExecution, this.getClass().getSimpleName(), &quot;BillingTransaction writer initialized.&quot;);\r\n        jobExecution = stepExecution.getJobExecution();\r\n\r\n     //   jobExecution.getExecutionContext().put(&quot;GATEWAY_LOG_NUMERATOR&quot;, 0);\r\n        jobExecution.getExecutionContext().put(&quot;INSERT_TOTAL_NUMERATOR&quot;, 0);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends Transaction&gt; transactions) {\r\n\r\n        int incr = Integer.parseInt(Objects.requireNonNull(jobExecution.getExecutionContext().get(&quot;GATEWAY_LOG_NUMERATOR&quot;)).toString());\r\n        int total = Integer.parseInt(Objects.requireNonNull(jobExecution.getExecutionContext().get(&quot;INSERT_TOTAL_NUMERATOR&quot;)).toString());\r\n\r\n        List&lt;Transaction&gt; bts = (List&lt;Transaction&gt;) transactions.getItems();\r\n\r\n        System.out.printf(&quot;Received list of size: %d total insert : %d, GatewayLog Numerator is : %d%n&quot;, bts.size(), total, incr);\r\n        total += bts.size();\r\n\r\n        List&lt;String&gt; transactionIds = insertToGatewayLog(bts);\r\n        insertToTransactions(bts, transactionIds);\r\n\r\n        jobExecution.getExecutionContext().put(&quot;GATEWAY_LOG_NUMERATOR&quot;, ++incr);\r\n        jobExecution.getExecutionContext().put(&quot;INSERT_TOTAL_NUMERATOR&quot;, total);\r\n        String pid = jobExecution.getJobParameters().getString(JOB_PARAMETER_PID);\r\n        String bsLogId = jobExecution.getJobParameters().getString(JOB_PARAMETER_BS_LOG_ID);\r\n        jobExecution.getExecutionContext().put(&quot;RQUEST_ID&quot;, String.format(&quot;%s-%s-%s&quot;, pid, bsLogId, incr));\r\n    }\r\n\r\n\r\n\r\nFrom our tests on 1M records, we need to consume ~8GB of free RAM for HEAP SPACE, otherwise we get the below exception:\r\n\r\n\r\n    org.springframework.batch.core.step.AbstractStep][taskExecutor-1][ERROR] Encountered an error executing step createTransactions in job batchJob \r\n    java.lang.OutOfMemoryError: Java heap space\r\n\r\n\r\n\r\nAlso, this memory does NOT get released after the job is finished.\r\n\r\nWe expected that using Spring Batch with the built in reader/writters with chunks would use the heap memory efficiently and release memory once a specific chunk is finished.","title":"Spring Batch RepositoryItemReader HEAP SIZE issues","body":"<p>We are using Spring Boot 3.0.4 with Spring Batch 5.0.0 &amp; Java 1.19.</p>\n<p>We have created a Job with a RepositoryItemReader, processor &amp; ItemWriter using chunks.\nBasically we are reading chunks of records from one table (MySQL DB), then we convert the data into new objects in our item processor and then we write the entities back into a new table in the DB (MySQL DB).</p>\n<p>We are testing with 1M records and chunks of 10K each.</p>\n<p>We are seeing the heap size memory growing all the time during this step, and memory is not getting released.</p>\n<p>We configured the step as below:</p>\n<pre><code>@Bean\npublic Step createTransactionsStep(JobRepository jobRepository,\n                                   PlatformTransactionManager transactionManager,\n                                   ItemReader itemReaderBillingTransaction,\n                                   BillingTransactionWriter writer,\n                                   RepositoryItemReader&lt;BillingTransaction&gt; myReader\n                                 ) {\n\n    return new StepBuilder(CREATE_TRANSACTIONS, jobRepository)\n            .&lt;BillingTransaction, Transaction&gt;chunk(chunkSize,transactionManager)\n            .reader(myReader)\n            .processor(createTransactionsItemProcessor())\n            .writer(writer)\n            .listener(createTransactionListener)\n            .build();\n}\n\n@Bean\n@StepScope\npublic RepositoryItemReader&lt;BillingTransaction&gt; myReader(BillingTransactionRepositoryCustom repository,\n                                                         @Value(&quot;#{jobParameters[bsLogId]}&quot;) String bsLogId) {\n\n    Map&lt;String, Sort.Direction&gt; sortMap = new HashMap&lt;&gt;();\n    sortMap.put(&quot;recordId&quot;, Sort.Direction.ASC);\n\n    return new RepositoryItemReaderBuilder&lt;BillingTransaction&gt;()\n            .repository(repository)\n            .methodName(&quot;findByBsLogIdAndBsStatus&quot;)\n            .arguments(Arrays.asList(Integer.valueOf(bsLogId), VALIDATIONS_IN_PROCESS.code))\n            .pageSize(chunkSize)\n            .sorts(sortMap)\n            .saveState(false)\n            .build();\n}\n\n@Bean\npublic ItemProcessor&lt;BillingTransaction, Transaction&gt; createTransactionsItemProcessor() {\n    return new CreateTransactionsItemProcessor();\n}\n</code></pre>\n<p>Below is our implementation of CreateTransactionsItemProcessor</p>\n<pre><code>public class CreateTransactionsItemProcessor implements ItemProcessor&lt;BillingTransaction, Transaction&gt; {\n\n\n@Autowired\nTransactionCreator transactionCreator;\n\n@Autowired\nAshraitCfgRepository ashraitCfgRepository;\n\n@Autowired\nCustomRoutingDS customRoutingDS;\n\nprivate String merchantId;\n\n@Autowired\nprotected LogWriter logWriter;\n\nprivate StepExecution stepExecution;\n\n@Autowired\nBillingLogRepository billingLogRepository;\n\n@BeforeStep\npublic void saveStepExecution(StepExecution stepExecution) {\n    this.stepExecution = stepExecution;\n    String gatewayId = getStepJobParameterValue(stepExecution, JOB_PARAMETER_GATEWAY_ID);\n    String pid = getStepJobParameterValue(stepExecution, JOB_PARAMETER_PID);\n    String bsLogId = getStepJobParameterValue(stepExecution, JOB_PARAMETER_BS_LOG_ID);\n\n    Optional.ofNullable(pid)\n            .ifPresentOrElse(this::initBillingLog, () -&gt; {\n                throw new RuntimeException();\n            });\n\n    // Saving in a step context some parameters that will be used in continue\n    customRoutingDS.setCurrentGatewayId(gatewayId);\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;ashVersion&quot;, ashraitCfgRepository.getAshVersion());\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;manufUse&quot;, ashraitCfgRepository.getManufUse());\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;manufId&quot;, ashraitCfgRepository.getManufId());\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;merchantId&quot;, merchantId);\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;GATEWAY_LOG_NUMERATOR&quot;,0);\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;RQUEST_ID&quot;,String.format(&quot;%s-%s-%s&quot;, pid, bsLogId, 0));\n    DateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT);\n    stepExecution.getJobExecution().getExecutionContext().put(&quot;date&quot;, dateFormat.format(new Date()));\n }\n\n\n@Override\npublic Transaction process(BillingTransaction item) throws Exception {\n\n    Transaction tr;\n    try {\n        tr = transactionCreator.createTransaction(item, stepExecution);\n    } catch (Exception e) {\n        logWriter.info(stepExecution, this.getClass().getSimpleName(), e.toString());\n        throw new RuntimeException(e);\n    }\n    setJobExecutionContext(stepExecution.getJobExecution());\n\n    return tr;\n}\n</code></pre>\n<p>Below is our implementation of the writer:</p>\n<pre><code>@Component\npublic class BillingTransactionWriter implements\n    ItemWriter&lt;Transaction&gt;, StepExecutionListener {\n\nprivate JobExecution jobExecution;\n\n@Autowired\nprotected LogWriter logWriter;\n\n@Autowired\nprivate GatewayLogRepositoryCustom gatewayLogRepositoryCustom;\n\n@Autowired\nprivate ShovarNumeratorRepository shovarNumeratorRepository;\n\n@Autowired\nprivate CustomRoutingDS customRoutingDS;\n\n@Autowired\nprivate EntityManagerDynamicQueryService&lt;String&gt; entityManagerDynamicQueryService;\n\n@Override\npublic void beforeStep(@NotNull StepExecution stepExecution) {\n    logWriter.info(stepExecution, this.getClass().getSimpleName(), &quot;BillingTransaction writer initialized.&quot;);\n    jobExecution = stepExecution.getJobExecution();\n\n //   jobExecution.getExecutionContext().put(&quot;GATEWAY_LOG_NUMERATOR&quot;, 0);\n    jobExecution.getExecutionContext().put(&quot;INSERT_TOTAL_NUMERATOR&quot;, 0);\n\n}\n\n@Override\npublic void write(Chunk&lt;? extends Transaction&gt; transactions) {\n\n    int incr = Integer.parseInt(Objects.requireNonNull(jobExecution.getExecutionContext().get(&quot;GATEWAY_LOG_NUMERATOR&quot;)).toString());\n    int total = Integer.parseInt(Objects.requireNonNull(jobExecution.getExecutionContext().get(&quot;INSERT_TOTAL_NUMERATOR&quot;)).toString());\n\n    List&lt;Transaction&gt; bts = (List&lt;Transaction&gt;) transactions.getItems();\n\n    System.out.printf(&quot;Received list of size: %d total insert : %d, GatewayLog Numerator is : %d%n&quot;, bts.size(), total, incr);\n    total += bts.size();\n\n    List&lt;String&gt; transactionIds = insertToGatewayLog(bts);\n    insertToTransactions(bts, transactionIds);\n\n    jobExecution.getExecutionContext().put(&quot;GATEWAY_LOG_NUMERATOR&quot;, ++incr);\n    jobExecution.getExecutionContext().put(&quot;INSERT_TOTAL_NUMERATOR&quot;, total);\n    String pid = jobExecution.getJobParameters().getString(JOB_PARAMETER_PID);\n    String bsLogId = jobExecution.getJobParameters().getString(JOB_PARAMETER_BS_LOG_ID);\n    jobExecution.getExecutionContext().put(&quot;RQUEST_ID&quot;, String.format(&quot;%s-%s-%s&quot;, pid, bsLogId, incr));\n}\n</code></pre>\n<p>From our tests on 1M records, we need to consume ~8GB of free RAM for HEAP SPACE, otherwise we get the below exception:</p>\n<pre><code>org.springframework.batch.core.step.AbstractStep][taskExecutor-1][ERROR] Encountered an error executing step createTransactions in job batchJob \njava.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>Also, this memory does NOT get released after the job is finished.</p>\n<p>We expected that using Spring Batch with the built in reader/writters with chunks would use the heap memory efficiently and release memory once a specific chunk is finished.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"score":0,"creation_date":1687882730,"post_id":6179101,"comment_id":134997923,"body_markdown":"I think you are wanna a dynamic array. If `specified length` means dynamic length, you should set the length with a variable. So the length will not be fixed by constant value, while it will be set at runtime. `char[] ret = new char[size]`. The size will be set at runtime.","body":"I think you are wanna a dynamic array. If <code>specified length</code> means dynamic length, you should set the length with a variable. So the length will not be fixed by constant value, while it will be set at runtime. <code>char[] ret = new char[size]</code>. The size will be set at runtime."}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306776085,"creation_date":1306776085,"answer_id":6179106,"question_id":6179101,"body_markdown":"Your question doesn&#39;t really make sense; an array always has some length.  But is this what you were thinking of?\r\n\r\n    char[] ret = null;\r\n\r\nThis creates a *reference* to an array, but initialises it to `null`.  There is no actual array yet.","title":"How can I create a character array in Java without a specified length?","body":"<p>Your question doesn't really make sense; an array always has some length.  But is this what you were thinking of?</p>\n\n<pre><code>char[] ret = null;\n</code></pre>\n\n<p>This creates a <em>reference</em> to an array, but initialises it to <code>null</code>.  There is no actual array yet.</p>\n"},{"tags":[],"owner":{"account_id":396294,"reputation":7040,"user_id":759762,"accept_rate":86,"display_name":"RMT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306776087,"creation_date":1306776087,"answer_id":6179107,"question_id":6179101,"body_markdown":"You cannot create an array without a length only with a length of 0, and why would u want that?","title":"How can I create a character array in Java without a specified length?","body":"<p>You cannot create an array without a length only with a length of 0, and why would u want that?</p>\n"},{"tags":[],"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1306776099,"creation_date":1306776099,"answer_id":6179109,"question_id":6179101,"body_markdown":"You&#39;re probably looking for an `ArrayList&lt;Character&gt;`.","title":"How can I create a character array in Java without a specified length?","body":"<p>You're probably looking for an <code>ArrayList&lt;Character&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306776103,"creation_date":1306776103,"answer_id":6179110,"question_id":6179101,"body_markdown":"    char[] ret = new char[0];\r\n\r\nthis will create an empty array. But you can use it only as a placeholder for cases when you don&#39;t have an array to pass.\r\n\r\nIf you don&#39;t know the size initially, but want to add to the array, then use an `ArrayList&lt;Character&gt;`","title":"How can I create a character array in Java without a specified length?","body":"<pre><code>char[] ret = new char[0];\n</code></pre>\n\n<p>this will create an empty array. But you can use it only as a placeholder for cases when you don't have an array to pass.</p>\n\n<p>If you don't know the size initially, but want to add to the array, then use an <code>ArrayList&lt;Character&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1687177595,"creation_date":1306776142,"answer_id":6179114,"question_id":6179101,"body_markdown":"Arrays **must** have a fixed length. \r\n\r\nIf your goal is to have a dynamically expansible list, consider a [`List`][1] instead. Everytime you add an item by `add()` method, it will grow dynamically whenever needed.\r\n\r\n    List&lt;Character&gt; chars = new ArrayList&lt;&gt;();\r\n    // ...\r\n\r\n### See also:\r\n\r\n- [Java Tutorials][2] &gt; [Trail: Collections][3] &gt; [The List Interface][4]\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/TOC.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/collections/index.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html","title":"How can I create a character array in Java without a specified length?","body":"<p>Arrays <strong>must</strong> have a fixed length.</p>\n<p>If your goal is to have a dynamically expansible list, consider a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> instead. Everytime you add an item by <code>add()</code> method, it will grow dynamically whenever needed.</p>\n<pre><code>List&lt;Character&gt; chars = new ArrayList&lt;&gt;();\n// ...\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/collections/TOC.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> &gt; <a href=\"https://docs.oracle.com/javase/tutorial/collections/index.html\" rel=\"nofollow noreferrer\">Trail: Collections</a> &gt; <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">The List Interface</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306776321,"creation_date":1306776321,"answer_id":6179132,"question_id":6179101,"body_markdown":"Methinks you are still thinking in C or Pascal. The functionality you want is probably a Java String. `char[]` is uncommon in Java. (You can iterate through the chars of a string with `charAt`, among other possibilities.)","title":"How can I create a character array in Java without a specified length?","body":"<p>Methinks you are still thinking in C or Pascal. The functionality you want is probably a Java String. <code>char[]</code> is uncommon in Java. (You can iterate through the chars of a string with <code>charAt</code>, among other possibilities.)</p>\n"},{"tags":[],"owner":{"account_id":199657,"reputation":9439,"user_id":445112,"accept_rate":80,"display_name":"Roy T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306776497,"creation_date":1306776497,"answer_id":6179150,"question_id":6179101,"body_markdown":"You probably come from PHP or another programming language that hasn&#39;t got real arrays. (An array in PHP is a sort of dictionary/hashmap)\r\n\r\nArrays in JAVA are fixed length.\r\n\r\nFor no fixed length, you can use a Vector&lt;Char&gt;. If you want to index with something else than integers from 0 to length, you can use a Dictionary&lt;KeyType, ValueType&gt;.","title":"How can I create a character array in Java without a specified length?","body":"<p>You probably come from PHP or another programming language that hasn't got real arrays. (An array in PHP is a sort of dictionary/hashmap)</p>\n\n<p>Arrays in JAVA are fixed length.</p>\n\n<p>For no fixed length, you can use a Vector. If you want to index with something else than integers from 0 to length, you can use a Dictionary.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1306776756,"creation_date":1306776756,"answer_id":6179179,"question_id":6179101,"body_markdown":"The best way to have an extensible array of char without the overhead of an Character object for each char, is to use a StringBuilder.  This allows you to build an array of char in a wide variety of ways. Once you are finished you can use getChars() to extract a copy of the char[].","title":"How can I create a character array in Java without a specified length?","body":"<p>The best way to have an extensible array of char without the overhead of an Character object for each char, is to use a StringBuilder.  This allows you to build an array of char in a wide variety of ways. Once you are finished you can use getChars() to extract a copy of the char[].</p>\n"},{"tags":[],"owner":{"account_id":351743,"reputation":3166,"user_id":688405,"accept_rate":60,"display_name":"Mouad Debbar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1318571519,"creation_date":1318571519,"answer_id":7763580,"question_id":6179101,"body_markdown":"you should use:\r\n\r\n    char[] ret = {};","title":"How can I create a character array in Java without a specified length?","body":"<p>you should use:</p>\n\n<pre><code>char[] ret = {};\n</code></pre>\n"}],"owner":{"account_id":86204,"reputation":41593,"user_id":239879,"accept_rate":100,"display_name":"Shamoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67275,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":6179109,"answer_count":9,"score":4,"last_activity_date":1687177595,"creation_date":1306775994,"question_id":6179101,"body_markdown":"\t\tchar ret[] = {};\r\n\r\nDoesn&#39;t work seem to work and I&#39;m not sure what the best way to do this is.\r\n\r\nAny help would be greatly appreciated.","title":"How can I create a character array in Java without a specified length?","body":"<pre><code>    char ret[] = {};\n</code></pre>\n\n<p>Doesn't work seem to work and I'm not sure what the best way to do this is.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687185946,"post_id":76506570,"comment_id":134897907,"body_markdown":"Why do you think JPA requires bidirectional relationships at all? Your issue here is that an A-&gt;B mapping where B has a fk to A requires definition with a join column to describe the FK in B - not a JoinTable. JoinTable means you have a relational table in-between A and B, which is normally used for ManyToMany relationships. What you are mapping is common in OneToMany mappings, as (unless you put a uniqueness constraint on the fk) multiple Bs can point to the same A. See examples on Unidirectional OneToMany mappings","body":"Why do you think JPA requires bidirectional relationships at all? Your issue here is that an A-&gt;B mapping where B has a fk to A requires definition with a join column to describe the FK in B - not a JoinTable. JoinTable means you have a relational table in-between A and B, which is normally used for ManyToMany relationships. What you are mapping is common in OneToMany mappings, as (unless you put a uniqueness constraint on the fk) multiple Bs can point to the same A. See examples on Unidirectional OneToMany mappings"},{"owner":{"account_id":20209869,"reputation":55,"user_id":14823107,"display_name":"ProfDrM"},"score":0,"creation_date":1687341019,"post_id":76506570,"comment_id":134922132,"body_markdown":"@Chris thanks for the Input. I indeed didn&#39;t need the Join Table Annotation, I tought it could be used to hint hibernate to search the foreign key in the opposite table. What helped was to add `@PrimaryKeyJoinColumn`. Hibernate now correctly identifies the mapping but still seems to have errors when generating queries but that&#39;s another problem.","body":"@Chris thanks for the Input. I indeed didn&#39;t need the Join Table Annotation, I tought it could be used to hint hibernate to search the foreign key in the opposite table. What helped was to add <code>@PrimaryKeyJoinColumn</code>. Hibernate now correctly identifies the mapping but still seems to have errors when generating queries but that&#39;s another problem."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1687360738,"post_id":76506570,"comment_id":134926774,"body_markdown":"PrimaryKeyJoinColumn isn&#39;t what you should be using as a regular JoinColumn is fine, since you are marking it as updatable,insertable=false. PrimaryKeyJoinColumn means something different, even if it is sometimes put to this same purpose in JPA 1.0 apps. Note though that you are still responsible for finding a way to get a value into B&#39;s TABLE_A_ID column. Your A-&gt;B OneToOne mapping won&#39;t do it (but it might if you made it a unidirectional OneToMany). The only way to specify the FK is on the target entity is using mappedBy, which requires a mapping on the inverse side to define the relation.","body":"PrimaryKeyJoinColumn isn&#39;t what you should be using as a regular JoinColumn is fine, since you are marking it as updatable,insertable=false. PrimaryKeyJoinColumn means something different, even if it is sometimes put to this same purpose in JPA 1.0 apps. Note though that you are still responsible for finding a way to get a value into B&#39;s TABLE_A_ID column. Your A-&gt;B OneToOne mapping won&#39;t do it (but it might if you made it a unidirectional OneToMany). The only way to specify the FK is on the target entity is using mappedBy, which requires a mapping on the inverse side to define the relation."},{"owner":{"account_id":20209869,"reputation":55,"user_id":14823107,"display_name":"ProfDrM"},"score":0,"creation_date":1687450378,"post_id":76506570,"comment_id":134941873,"body_markdown":"After a brief moment of hope I too realized  `@PrimaryKeyJoinColumn` won&#39;t help me there. I Can confirm the unidirectional oneToMany works and can be hidden by providing custom getters and setters. But in the end I probably just use a bidirectional OneToOne as it is easier to understand.\n@Chris Thank you again for the extra Information","body":"After a brief moment of hope I too realized  <code>@PrimaryKeyJoinColumn</code> won&#39;t help me there. I Can confirm the unidirectional oneToMany works and can be hidden by providing custom getters and setters. But in the end I probably just use a bidirectional OneToOne as it is easier to understand. @Chris Thank you again for the extra Information"}],"owner":{"account_id":20209869,"reputation":55,"user_id":14823107,"display_name":"ProfDrM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687177227,"creation_date":1687177227,"question_id":76506570,"body_markdown":"# My Question\r\n\r\nIs there a way to map this relation in an uni-directional style without introducing bidirectional mappings in my code?\r\n\r\n# Background:\r\n\r\nI&#39;m trying to add a 1:1 Relation to an existing Entity/Table **A**. The table should not be changed, so the column to join is located in the new table **B**. The Resulting E/R-Model looks like this:\r\n\r\n[![ER-Diagram of the described tables][1]][1]\r\n\r\nInside my Application the Access direction will always be A-&gt;B so I added a field in my Class A:\r\n\r\n```java\r\nclass A {\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinTable(name=&quot;B&quot;, joinColumns = @JoinColumn(name = &quot;TABLE_A_ID&quot;))\r\n    private B relation;\r\n}\r\n```\r\n\r\nHowever Hibernate does not recognize the mapping and throws an exception at startup.\r\n\r\n```\r\norg.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [b_id] in table [B]\r\n```\r\n\r\nI know this is not the &quot;normal&quot; way where the owning side of the Entity-Relation corresponds to the  &quot;owning&quot; side of the database. But is there a way to map this so i don&#39;t have the hassle and pitfalls of bi-directional-Relationships?\r\n\r\nThank you in Advance\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YA4nN.png","title":"JPA/Hibernate: Map Unidirectional OneToOne with Foreign Key Column in opposite table","body":"<h1>My Question</h1>\n<p>Is there a way to map this relation in an uni-directional style without introducing bidirectional mappings in my code?</p>\n<h1>Background:</h1>\n<p>I'm trying to add a 1:1 Relation to an existing Entity/Table <strong>A</strong>. The table should not be changed, so the column to join is located in the new table <strong>B</strong>. The Resulting E/R-Model looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/YA4nN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YA4nN.png\" alt=\"ER-Diagram of the described tables\" /></a></p>\n<p>Inside my Application the Access direction will always be A-&gt;B so I added a field in my Class A:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinTable(name=&quot;B&quot;, joinColumns = @JoinColumn(name = &quot;TABLE_A_ID&quot;))\n    private B relation;\n}\n</code></pre>\n<p>However Hibernate does not recognize the mapping and throws an exception at startup.</p>\n<pre><code>org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [b_id] in table [B]\n</code></pre>\n<p>I know this is not the &quot;normal&quot; way where the owning side of the Entity-Relation corresponds to the  &quot;owning&quot; side of the database. But is there a way to map this so i don't have the hassle and pitfalls of bi-directional-Relationships?</p>\n<p>Thank you in Advance</p>\n"}],"has_more":false,"quota_max":10000,"quota_remaining":9632,"page":360,"page_size":100}
