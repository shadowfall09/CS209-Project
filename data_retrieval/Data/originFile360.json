{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1586337584,"post_id":61097110,"comment_id":108089024,"body_markdown":"ofcourse it will fail. You are running a basic test which won&#39;t bootstrap anything. If you want to test you need an `@SpringBootTest` which will bootstrap your application. When doing so remove the `@ContextConfiguration`  as your default application will be started.","body":"ofcourse it will fail. You are running a basic test which won&#39;t bootstrap anything. If you want to test you need an <code>@SpringBootTest</code> which will bootstrap your application. When doing so remove the <code>@ContextConfiguration</code>  as your default application will be started."},{"owner":{"display_name":"user642700"},"score":0,"creation_date":1586339507,"post_id":61097110,"comment_id":108090001,"body_markdown":"I have tried  with ``@SpringBootTest`` without ``@ContextConfiguration`` but it fails with ```  java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test ``` \neven i passed classes to @SpringBootTest (classes) but still it did not work.","body":"I have tried  with <code>@SpringBootTest</code> without <code>@ContextConfiguration</code> but it fails with ```  java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test ```  even i passed classes to @SpringBootTest (classes) but still it did not work."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1586343748,"post_id":61097110,"comment_id":108092121,"body_markdown":"You do have a `@SpringBootApplication` annotated class?","body":"You do have a <code>@SpringBootApplication</code> annotated class?"},{"owner":{"display_name":"user642700"},"score":0,"creation_date":1586346242,"post_id":61097110,"comment_id":108093385,"body_markdown":"@M.Deinum  No, I created this class in a separate maven module that I have for configuration customizations.","body":"@M.Deinum  No, I created this class in a separate maven module that I have for configuration customizations."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1586346534,"post_id":61097110,"comment_id":108093519,"body_markdown":"Then trying to test it is not going to work, at least not like this. You would need to mimic bootstrapping Spring Boot and do a test.","body":"Then trying to test it is not going to work, at least not like this. You would need to mimic bootstrapping Spring Boot and do a test."}],"answers":[{"tags":[],"owner":{"account_id":3603762,"reputation":1569,"user_id":3006465,"display_name":"electrobabe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687269770,"creation_date":1687269770,"answer_id":76515553,"question_id":61097110,"body_markdown":"In my case I accidentally annotated the controller twice: \r\n\r\n    @SpringBootTest(classes = {MyController.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n\r\nplus\r\n\r\n    @Autowired\r\n    private MyController myController;\r\n\r\nFixed it by removing `classes = {MyController.class}`","title":"No qualifying bean of type &#39;org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory&#39;","body":"<p>In my case I accidentally annotated the controller twice:</p>\n<pre><code>@SpringBootTest(classes = {MyController.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>plus</p>\n<pre><code>@Autowired\nprivate MyController myController;\n</code></pre>\n<p>Fixed it by removing <code>classes = {MyController.class}</code></p>\n"}],"owner":{"display_name":"user642700"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687269770,"creation_date":1586336934,"question_id":61097110,"body_markdown":"I am trying to customize embedded spring-boot tomcat, I created customizer class as shown here \r\n\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:configure_springboot.properties&quot;)\r\npublic class EmbeddedTomcatConfiguration {\r\n\r\n  private static final String HTTP_PROTOCOL = &quot;HTTP/1.1&quot;;\r\n\r\n  private static final String URI_ENCODING = &quot;UTF-8&quot;;\r\n\r\n  @Value(&quot;${server.connection-timeout}&quot;)\r\n  int serverConnectionTimeout;\r\n\r\n\r\n  @Value(&quot;${tomcat.http.port}&quot;)\r\n  int httpPort;\r\n\r\n  @Bean\r\n  public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\r\n    return container -&gt; container.addAdditionalTomcatConnectors(getHTTPConnector());\r\n  }\r\n\r\n\r\n  private Connector getHTTPConnector() {\r\n    Connector httpConnector = new Connector(HTTP_PROTOCOL);\r\n    httpConnector.setPort(httpPort);\r\n    ((AbstractProtocol) httpConnector.getProtocolHandler()).setConnectionTimeout(serverConnectionTimeout);\r\n    httpConnector.setURIEncoding(URI_ENCODING);\r\n    return httpConnector;\r\n  }\r\n\r\n}\r\n\r\n``` \r\nTo test my customization i am creating TomcatServletWebServerFactory here\r\n``` \r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = {EmbeddedTomcatConfiguration.class, ServletWebServerFactoryAutoConfiguration.class })\r\npublic class EmbeddedTomcatConfigurationTest {\r\n\r\n  @Autowired\r\n  TomcatServletWebServerFactory tomcatServletWebServerFactory;\r\n\r\n  @Test\r\n  public void tomcatHttpConnector() {\r\n    assertNotNull(tomcatServletWebServerFactory);\r\n\r\n  }\r\n\r\n}\r\n```\r\nbut my test is failing with error \r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.example.springboot.configure.EmbeddedTomcatConfigurationTest&#39;: Unsatisfied dependency expressed through field &#39;tomcatServletWebServerFactory&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\n```\r\nI have been trying this from the last three days, can someone guide me what am I missing here?","title":"No qualifying bean of type &#39;org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory&#39;","body":"<p>I am trying to customize embedded spring-boot tomcat, I created customizer class as shown here </p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:configure_springboot.properties\")\npublic class EmbeddedTomcatConfiguration {\n\n  private static final String HTTP_PROTOCOL = \"HTTP/1.1\";\n\n  private static final String URI_ENCODING = \"UTF-8\";\n\n  @Value(\"${server.connection-timeout}\")\n  int serverConnectionTimeout;\n\n\n  @Value(\"${tomcat.http.port}\")\n  int httpPort;\n\n  @Bean\n  public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; tomcatCustomizer() {\n    return container -&gt; container.addAdditionalTomcatConnectors(getHTTPConnector());\n  }\n\n\n  private Connector getHTTPConnector() {\n    Connector httpConnector = new Connector(HTTP_PROTOCOL);\n    httpConnector.setPort(httpPort);\n    ((AbstractProtocol) httpConnector.getProtocolHandler()).setConnectionTimeout(serverConnectionTimeout);\n    httpConnector.setURIEncoding(URI_ENCODING);\n    return httpConnector;\n  }\n\n}\n\n</code></pre>\n\n<p>To test my customization i am creating TomcatServletWebServerFactory here</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {EmbeddedTomcatConfiguration.class, ServletWebServerFactoryAutoConfiguration.class })\npublic class EmbeddedTomcatConfigurationTest {\n\n  @Autowired\n  TomcatServletWebServerFactory tomcatServletWebServerFactory;\n\n  @Test\n  public void tomcatHttpConnector() {\n    assertNotNull(tomcatServletWebServerFactory);\n\n  }\n\n}\n</code></pre>\n\n<p>but my test is failing with error </p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.springboot.configure.EmbeddedTomcatConfigurationTest': Unsatisfied dependency expressed through field 'tomcatServletWebServerFactory'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\n</code></pre>\n\n<p>I have been trying this from the last three days, can someone guide me what am I missing here?</p>\n"},{"tags":["java","vert.x","graalvm-native-image"],"owner":{"account_id":13146761,"reputation":51,"user_id":9496577,"display_name":"Kashif Jawed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269591,"creation_date":1687268206,"question_id":76515317,"body_markdown":"I&#39;ve a vertx program with Pgclient usage, and it is working fine. now when I&#39;m build native image it was successful. When I ran my native image build it is giving me error like that:\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec\r\n\r\nI&#39;ve vertx project using by common code repository for common methods like pg client initialization and RMQ initialization.\r\nmy main project is db-writer which is using backend-common:\r\n\r\nin db-writer pom.xml I&#39;ve added:\r\n\r\nbackend-common (dependency)\r\n\r\nin my backend-common pom.xml I&#39;ve:\r\n\r\nio.vertx\r\nvertx-pg-client (dependency)\r\n\r\nwhen I&#39;m running my project without native image it is running fine.\r\n\r\nGraalVM and environment:\r\n```lang-none\r\n$ java --version\r\nopenjdk 17.0.6 2023-01-17\r\nOpenJDK Runtime Environment GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13)\r\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13, mixed mode, sharing)\r\n```\r\nnative-image properties\r\n```\r\nArgs=\\\r\n--no-fallback \\\r\n--enable-http \\\r\n--enable-https \\\r\n--allow-incomplete-classpath \\\r\n--enable-all-security-services \\\r\n-H:EnableURLProtocols=http,https \\\r\n-H:ReflectionConfigurationResources=${.}/reflect-config.json \\\r\n-H:ResourceConfigurationResources=${.}/resource-config.json \\\r\n-H:+ReportExceptionStackTraces \\\r\n--report-unsupported-elements-at-runtime \\\r\n--initialize-at-build-time=\\\r\norg.slf4j.LoggerFactory,\\\r\norg.slf4j.simple.SimpleLogger,\\\r\norg.slf4j.impl.StaticLoggerBinder,\\\r\norg.slf4j.MDC,\\\r\nch.qos.logback \\\r\n--initialize-at-run-time=\\\r\nio.vertx.pgclient.impl.codec.PgCodec,\\\r\nio.vertx.pgclient.impl.codec.DataTypeCodec,\\\r\nio.netty.util.internal.logging.Log4JLogger,\\\r\nio.netty.util.AbstractReferenceCounted,\\\r\nio.netty.channel.epoll,\\\r\nio.netty.handler.ssl,\\\r\nio.netty.channel.unix,\\\r\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\r\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\r\nio.netty.internal.tcnative.CertificateVerifier,\\\r\nio.netty.internal.tcnative.SSL,\\\r\nio.netty.internal.tcnative.SSLPrivateKeyMethod,\\\r\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\r\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\r\nio.netty.internal.tcnative.CertificateVerifier\r\n\r\n```\r\nError stacktrace\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.writeBind(PgEncoder.java:427)\r\n\tat io.vertx.pgclient.impl.codec.ExtendedQueryCommandCodec.encode(ExtendedQueryCommandCodec.java:52)\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:102)\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:133)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.write(CombinedChannelDuplexHandler.java:346)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$prepareCommand$4(SocketConnectionBase.java:264)\r\n\tat io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46)\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287)\r\n\tat io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:97)\r\n\tat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:100)\r\n\tat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n\tat io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\r\n\tat io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:394)\r\n\tat io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\r\n\tat io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:98)\r\n\tat io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139)\r\n\tat io.vertx.pgclient.impl.codec.PrepareStatementCommandCodec.handleReadyForQuery(PrepareStatementCommandCodec.java:96)\r\n\tat io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237)\r\n\tat io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\r\n","title":"Vertx with PgClient giving error &#39;Could not initialize class&#39; in native image","body":"<p>I've a vertx program with Pgclient usage, and it is working fine. now when I'm build native image it was successful. When I ran my native image build it is giving me error like that:</p>\n<p>java.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec</p>\n<p>I've vertx project using by common code repository for common methods like pg client initialization and RMQ initialization.\nmy main project is db-writer which is using backend-common:</p>\n<p>in db-writer pom.xml I've added:</p>\n<p>backend-common (dependency)</p>\n<p>in my backend-common pom.xml I've:</p>\n<p>io.vertx\nvertx-pg-client (dependency)</p>\n<p>when I'm running my project without native image it is running fine.</p>\n<p>GraalVM and environment:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java --version\nopenjdk 17.0.6 2023-01-17\nOpenJDK Runtime Environment GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13)\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.1 (build 17.0.6+10-jvmci-22.3-b13, mixed mode, sharing)\n</code></pre>\n<p>native-image properties</p>\n<pre><code>Args=\\\n--no-fallback \\\n--enable-http \\\n--enable-https \\\n--allow-incomplete-classpath \\\n--enable-all-security-services \\\n-H:EnableURLProtocols=http,https \\\n-H:ReflectionConfigurationResources=${.}/reflect-config.json \\\n-H:ResourceConfigurationResources=${.}/resource-config.json \\\n-H:+ReportExceptionStackTraces \\\n--report-unsupported-elements-at-runtime \\\n--initialize-at-build-time=\\\norg.slf4j.LoggerFactory,\\\norg.slf4j.simple.SimpleLogger,\\\norg.slf4j.impl.StaticLoggerBinder,\\\norg.slf4j.MDC,\\\nch.qos.logback \\\n--initialize-at-run-time=\\\nio.vertx.pgclient.impl.codec.PgCodec,\\\nio.vertx.pgclient.impl.codec.DataTypeCodec,\\\nio.netty.util.internal.logging.Log4JLogger,\\\nio.netty.util.AbstractReferenceCounted,\\\nio.netty.channel.epoll,\\\nio.netty.handler.ssl,\\\nio.netty.channel.unix,\\\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\nio.netty.internal.tcnative.CertificateVerifier,\\\nio.netty.internal.tcnative.SSL,\\\nio.netty.internal.tcnative.SSLPrivateKeyMethod,\\\nio.netty.internal.tcnative.AsyncSSLPrivateKeyMethod,\\\nio.netty.internal.tcnative.CertificateCompressionAlgo,\\\nio.netty.internal.tcnative.CertificateVerifier\n\n</code></pre>\n<p>Error stacktrace</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class io.vertx.pgclient.impl.codec.DataTypeCodec\nat io.vertx.pgclient.impl.codec.PgEncoder.writeBind(PgEncoder.java:427)\nat io.vertx.pgclient.impl.codec.ExtendedQueryCommandCodec.encode(ExtendedQueryCommandCodec.java:52)\nat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:102)\nat io.vertx.pgclient.impl.codec.PgEncoder.write(PgEncoder.java:133)\nat io.netty.channel.CombinedChannelDuplexHandler.write(CombinedChannelDuplexHandler.java:346)\nat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\nat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\nat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\nat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\nat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$prepareCommand$4(SocketConnectionBase.java:264)\nat io.vertx.sqlclient.impl.command.CommandResponse.fire(CommandResponse.java:46)\nat io.vertx.sqlclient.impl.SocketConnectionBase.handleMessage(SocketConnectionBase.java:287)\nat io.vertx.pgclient.impl.PgSocketConnection.handleMessage(PgSocketConnection.java:97)\nat io.vertx.sqlclient.impl.SocketConnectionBase.lambda$init$0(SocketConnectionBase.java:100)\nat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\nat io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\nat io.vertx.core.net.impl.NetSocketImpl.handleMessage(NetSocketImpl.java:394)\nat io.vertx.core.net.impl.ConnectionBase.read(ConnectionBase.java:157)\nat io.vertx.core.net.impl.VertxHandler.channelRead(VertxHandler.java:153)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\nat io.vertx.pgclient.impl.codec.PgEncoder.lambda$write$0(PgEncoder.java:98)\nat io.vertx.pgclient.impl.codec.PgCommandCodec.handleReadyForQuery(PgCommandCodec.java:139)\nat io.vertx.pgclient.impl.codec.PrepareStatementCommandCodec.handleReadyForQuery(PrepareStatementCommandCodec.java:96)\nat io.vertx.pgclient.impl.codec.PgDecoder.decodeReadyForQuery(PgDecoder.java:237)\nat io.vertx.pgclient.impl.codec.PgDecoder.channelRead(PgDecoder.java:96)\nat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\nat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\nat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\n</code></pre>\n"},{"tags":["java","android","json","hashmap"],"comments":[{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1686929886,"post_id":76491414,"comment_id":134870793,"body_markdown":"Is your JSON accurate? It seems to have unnecessary quotes around the main object.","body":"Is your JSON accurate? It seems to have unnecessary quotes around the main object."},{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1686931041,"post_id":76491414,"comment_id":134871048,"body_markdown":"@AdamWise My apologies, I made a small mistake in the JSON. I have edited it to have the correct JSON.","body":"@AdamWise My apologies, I made a small mistake in the JSON. I have edited it to have the correct JSON."}],"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269511,"creation_date":1686927669,"question_id":76491414,"body_markdown":"I have a `HashMap&lt;List&lt;String&gt;, Integer&gt;` that I&#39;m trying to load from a JSON file and set to a variable in Java, but I&#39;m struggling with this. If I try to cast the object/string from the JSON file, it gives me an unchecked cast error and my application crashes. I&#39;ve tried many solutions, like loading a hashmap from a string or object, but none of them work. Is there a good way to load a hashmap, where a list is the key, from a JSON file? If loading is not the issue, is there a better way to save the hashmap to JSON?\r\n\r\nHere&#39;s the example JSON (not hardcoded, it can have stuff added and removed depending on the Hashmap that is saved):\r\n\r\n```json\r\n&quot;ImageData&quot;:\r\n&quot;{[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=2},\r\n    {[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=1}&quot;\r\n```\r\n\r\nHere&#39;s how I&#39;m currently saving the hashmap:\r\n\r\n```java\r\ndataJson.put(&quot;ImageData&quot;,application.imageInfo);\r\n```\r\n\r\n`application.imageInfo` is the `HashMap&lt;List&lt;String&gt;, Integer&gt;`.\r\n\r\nHere&#39;s my current attempt at loading the hashmap using Jackson:\r\n\r\n```java\r\nHashMap result = new ObjectMapper().readValue(json.getString(&quot;ImageData&quot;).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;), HashMap.class);\r\n```\r\n\r\nAlthough it gives me this error:\r\n\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;3&#39; (code 51)): was expecting double-quote to start field name\r\n```\r\n\r\nSo how should I load the `HashMap&lt;List&lt;String&gt;, Integer&gt;` from the JSON into a `HashMap` variable?\r\n\r\nEDIT (solution):\r\nI found a solution that works pretty well.\r\n```java\r\nString[] parts = hashstr.split(&quot;,\\&quot;&quot;);\r\nfor (String part : parts) {\r\n    String[] splithash = part.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;{&quot;, &quot;&quot;).split(&quot;\\&quot;:&quot;);                   \r\n    application.imageInfo.put(Arrays.asList(splithash[0].replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;)), Integer.parseInt(splithash[1].replace(&quot;}&quot;, &quot;&quot;)));\r\n    }\r\n```\r\n\r\nYou can pretty much just take the hashmap string, split it up into each part that a hashmap would have, then add them.","title":"How do I properly save and load a Hashmap with keys values of List&lt;String&gt; into a JSON file?","body":"<p>I have a <code>HashMap&lt;List&lt;String&gt;, Integer&gt;</code> that I'm trying to load from a JSON file and set to a variable in Java, but I'm struggling with this. If I try to cast the object/string from the JSON file, it gives me an unchecked cast error and my application crashes. I've tried many solutions, like loading a hashmap from a string or object, but none of them work. Is there a good way to load a hashmap, where a list is the key, from a JSON file? If loading is not the issue, is there a better way to save the hashmap to JSON?</p>\n<p>Here's the example JSON (not hardcoded, it can have stuff added and removed depending on the Hashmap that is saved):</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;ImageData&quot;:\n&quot;{[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=2},\n    {[ProjectName, Time/Date, Long, Lat, Altitude, Address, Code, Note, Direction, NE]=1}&quot;\n</code></pre>\n<p>Here's how I'm currently saving the hashmap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dataJson.put(&quot;ImageData&quot;,application.imageInfo);\n</code></pre>\n<p><code>application.imageInfo</code> is the <code>HashMap&lt;List&lt;String&gt;, Integer&gt;</code>.</p>\n<p>Here's my current attempt at loading the hashmap using Jackson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap result = new ObjectMapper().readValue(json.getString(&quot;ImageData&quot;).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;), HashMap.class);\n</code></pre>\n<p>Although it gives me this error:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('3' (code 51)): was expecting double-quote to start field name\n</code></pre>\n<p>So how should I load the <code>HashMap&lt;List&lt;String&gt;, Integer&gt;</code> from the JSON into a <code>HashMap</code> variable?</p>\n<p>EDIT (solution):\nI found a solution that works pretty well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] parts = hashstr.split(&quot;,\\&quot;&quot;);\nfor (String part : parts) {\n    String[] splithash = part.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;{&quot;, &quot;&quot;).split(&quot;\\&quot;:&quot;);                   \n    application.imageInfo.put(Arrays.asList(splithash[0].replace(&quot;\\&quot;&quot;, &quot;&quot;).split(&quot;,&quot;)), Integer.parseInt(splithash[1].replace(&quot;}&quot;, &quot;&quot;)));\n    }\n</code></pre>\n<p>You can pretty much just take the hashmap string, split it up into each part that a hashmap would have, then add them.</p>\n"},{"tags":["java","apache-spark","spark-graphx"],"comments":[{"owner":{"account_id":3062189,"reputation":12138,"user_id":2594597,"accept_rate":50,"display_name":"Lionia Vasilev"},"score":0,"creation_date":1687211733,"post_id":76500761,"comment_id":134902325,"body_markdown":"Could you please provide a minimal reproducible example? I would expect the scala.reflect.ClassTag.apply(YourVertex.class) and scala.reflect.ClassTag.apply(YourEdge.class) expressions to work as the evidence arguments. The [Calling a Scala from Java Play Framework which takes a ClassTag](https://stackoverflow.com/questions/21582045/calling-a-scala-from-java-play-framework-which-takes-a-classtag) thread seems relevant.","body":"Could you please provide a minimal reproducible example? I would expect the scala.reflect.ClassTag.apply(YourVertex.class) and scala.reflect.ClassTag.apply(YourEdge.class) expressions to work as the evidence arguments. The <a href=\"https://stackoverflow.com/questions/21582045/calling-a-scala-from-java-play-framework-which-takes-a-classtag\">Calling a Scala from Java Play Framework which takes a ClassTag</a> thread seems relevant."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1687269143,"post_id":76500761,"comment_id":134910909,"body_markdown":"Thanks Leonid.  Sorry I forgot to follow up, see my latest update.  This is solved, except that I&#39;m getting a StackOverflow error from GraphX, but I&#39;ll start a new post for that.","body":"Thanks Leonid.  Sorry I forgot to follow up, see my latest update.  This is solved, except that I&#39;m getting a StackOverflow error from GraphX, but I&#39;ll start a new post for that."}],"answers":[{"tags":[],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687269354,"creation_date":1687269354,"answer_id":76515493,"question_id":76500761,"body_markdown":"The evidence arguments are filled in using ClassTag$.MODULE$.apply(myClass) where myClass is the class of the VD or ED type, respectively.\r\n\r\nIf you use Long.class for the ED and VD types, make sure to use a matching value for the defaults when you call `Graph.fromEdges()`.  In particular for Long.class use e.g. `1L` for the default value instead of `1`.","title":"Making a Graph in Spark GraphX using Java bindings: What are those &quot;evidence&quot; arguments?","body":"<p>The evidence arguments are filled in using ClassTag$.MODULE$.apply(myClass) where myClass is the class of the VD or ED type, respectively.</p>\n<p>If you use Long.class for the ED and VD types, make sure to use a matching value for the defaults when you call <code>Graph.fromEdges()</code>.  In particular for Long.class use e.g. <code>1L</code> for the default value instead of <code>1</code>.</p>\n"}],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76515493,"answer_count":1,"score":0,"last_activity_date":1687269354,"creation_date":1687094599,"question_id":76500761,"body_markdown":"In the [Spark GraphX javadoc][1] the `fromEdges()` method has undocumented arguments like `evidence$17`.  Presumably these are artifacts of the Scala implementation, but what should I do with them in Java?\r\n\r\n```\r\npublic static &lt;VD,ED&gt; Graph&lt;VD,ED&gt; fromEdges(RDD&lt;Edge&lt;ED&gt;&gt; edges,\r\n\t VD defaultValue,\r\n\t StorageLevel edgeStorageLevel,\r\n\t StorageLevel vertexStorageLevel,\r\n\t scala.reflect.ClassTag&lt;VD&gt; evidence$16,\r\n\t scala.reflect.ClassTag&lt;ED&gt; evidence$17)\r\n```\r\n\r\nUPDATE: found some other Scala/Java examples, and it *seems* like the right thing is `ClassTag$.MODULE$.apply(myClass)` where `myClass` is the class of the VD or ED type, respectively. Not that this actually works, as it leads to later, mysterious exceptions, like `java.lang.ArrayStoreException: java.lang.Integer` deep in `org.apache.spark.graphx.impl.EdgePartitionBuilder.toEdgePartition`\r\n\r\nUPDATE: Indeed, the ClassTag$.MODULE$.apply(Long.class) works for me.  The error I was getting was due to passing in 1 for the default value instead of 1L.\r\n\r\n  [1]: https://spark.apache.org/docs/3.4.0/api/java/org/apache/spark/graphx/Graph.html","title":"Making a Graph in Spark GraphX using Java bindings: What are those &quot;evidence&quot; arguments?","body":"<p>In the <a href=\"https://spark.apache.org/docs/3.4.0/api/java/org/apache/spark/graphx/Graph.html\" rel=\"nofollow noreferrer\">Spark GraphX javadoc</a> the <code>fromEdges()</code> method has undocumented arguments like <code>evidence$17</code>.  Presumably these are artifacts of the Scala implementation, but what should I do with them in Java?</p>\n<pre><code>public static &lt;VD,ED&gt; Graph&lt;VD,ED&gt; fromEdges(RDD&lt;Edge&lt;ED&gt;&gt; edges,\n     VD defaultValue,\n     StorageLevel edgeStorageLevel,\n     StorageLevel vertexStorageLevel,\n     scala.reflect.ClassTag&lt;VD&gt; evidence$16,\n     scala.reflect.ClassTag&lt;ED&gt; evidence$17)\n</code></pre>\n<p>UPDATE: found some other Scala/Java examples, and it <em>seems</em> like the right thing is <code>ClassTag$.MODULE$.apply(myClass)</code> where <code>myClass</code> is the class of the VD or ED type, respectively. Not that this actually works, as it leads to later, mysterious exceptions, like <code>java.lang.ArrayStoreException: java.lang.Integer</code> deep in <code>org.apache.spark.graphx.impl.EdgePartitionBuilder.toEdgePartition</code></p>\n<p>UPDATE: Indeed, the ClassTag$.MODULE$.apply(Long.class) works for me.  The error I was getting was due to passing in 1 for the default value instead of 1L.</p>\n"},{"tags":["java","jboss","wildfly"],"owner":{"account_id":4537643,"reputation":5,"user_id":3686372,"display_name":"user3686372"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687269014,"creation_date":1687268934,"question_id":76515423,"body_markdown":"Facing a peculiar issue with Wildfly-20.0.1.Final application server, we have wildfly running on a Windows server where the date time setting is in BST (British Summer Time) or UTC +00.00 (plus checked Automatically adjust clock to DST)\r\n\r\n[date/time settings in windows server][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wTodk.png\r\n\r\nAs there is no application configuration or code which converts the timestamp to any other timezone. We are calling new Date() which refers to the operating system&#39;s current date to fetch the date that is the same as set in date/time settings (above screenshot).\r\n\r\nAfter 4-5 hours, the application changes/resets the time to GMT even though no configuration change/ date/time setting has been changed in the Windows server.\r\n\r\nThe system records the time in the application as GMT rather than BST and to resolve this issue we need to restart the application after deleting data and tmp files from the application server&#39;s standalone location.\r\n\r\nIs anyone facing the same issue where time is getting reset in the wildfly application server?\r\n\r\nNote: When a standalone program is written to fetch the timestamp from the Windows Server it points to BST rather than GMT. The issue is happening only in the wildfly application server.\r\n\r\nAny hints will help! Thanks in advance!","title":"Wildfly-20.0.1-Final Timezone issue - Application resets to GMT from BST after few hours","body":"<p>Facing a peculiar issue with Wildfly-20.0.1.Final application server, we have wildfly running on a Windows server where the date time setting is in BST (British Summer Time) or UTC +00.00 (plus checked Automatically adjust clock to DST)</p>\n<p><a href=\"https://i.stack.imgur.com/wTodk.png\" rel=\"nofollow noreferrer\">date/time settings in windows server</a></p>\n<p>As there is no application configuration or code which converts the timestamp to any other timezone. We are calling new Date() which refers to the operating system's current date to fetch the date that is the same as set in date/time settings (above screenshot).</p>\n<p>After 4-5 hours, the application changes/resets the time to GMT even though no configuration change/ date/time setting has been changed in the Windows server.</p>\n<p>The system records the time in the application as GMT rather than BST and to resolve this issue we need to restart the application after deleting data and tmp files from the application server's standalone location.</p>\n<p>Is anyone facing the same issue where time is getting reset in the wildfly application server?</p>\n<p>Note: When a standalone program is written to fetch the timestamp from the Windows Server it points to BST rather than GMT. The issue is happening only in the wildfly application server.</p>\n<p>Any hints will help! Thanks in advance!</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","amazon-simple-email-service"],"comments":[{"owner":{"account_id":10037643,"reputation":1357,"user_id":7421654,"display_name":"Mohamed Anser Ali"},"score":2,"creation_date":1687269181,"post_id":76515398,"comment_id":134910919,"body_markdown":"try to log the email from, to,body and see everything is filled correctly","body":"try to log the email from, to,body and see everything is filled correctly"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1687269332,"post_id":76515398,"comment_id":134910959,"body_markdown":"https://stackoverflow.com/questions/27648163/ses-error-missing-final-domain","body":"<a href=\"https://stackoverflow.com/questions/27648163/ses-error-missing-final-domain\" title=\"ses error missing final domain\">stackoverflow.com/questions/27648163/&hellip;</a>"},{"owner":{"account_id":17526312,"reputation":31,"user_id":12711330,"display_name":"czarobest"},"score":0,"creation_date":1687270815,"post_id":76515398,"comment_id":134911324,"body_markdown":"@MohamedAnserAli my objects before sendEmail call is filled correctly:\n\n{Source: &quot;email@gmail.com&quot;,Destination: {ToAddresses: [&quot;email@gmail.com&quot;],CcAddresses: [],BccAddresses: []},Message: {Subject: {Data: test-946822128,Charset: UTF-8},Body: {Text: {Data: content484059615,Charset: UTF-8},}},ReplyToAddresses: [email@gmail.com],Tags: [],ConfigurationSetName: name}\n\nI replace my verified mail by &quot;email&quot;.\n\nOkay I see that now unnecessary apostrophes crept in...","body":"@MohamedAnserAli my objects before sendEmail call is filled correctly:  {Source: &quot;email@gmail.com&quot;,Destination: {ToAddresses: [&quot;email@gmail.com&quot;],CcAddresses: [],BccAddresses: []},Message: {Subject: {Data: test-946822128,Charset: UTF-8},Body: {Text: {Data: content484059615,Charset: UTF-8},}},ReplyToAddresses: [email@gmail.com],Tags: [],ConfigurationSetName: name}  I replace my verified mail by &quot;email&quot;.  Okay I see that now unnecessary apostrophes crept in..."}],"owner":{"account_id":17526312,"reputation":31,"user_id":12711330,"display_name":"czarobest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687268771,"creation_date":1687268771,"question_id":76515398,"body_markdown":"I am trying to send a simple email through the AWS SES service. Unfortunately I keep getting an error: \r\n\r\n\r\n```\r\ncom.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Missing final &#39;@domain&#39; (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\r\n```\r\n\r\nThe code is almost straight from the examples:\r\n\r\n\r\n```\r\nAmazonSimpleEmailService client = this.getClient();\r\n\t\t\tSendEmailRequest request = new SendEmailRequest().withDestination(new Destination().withToAddresses(this.emailTo))\r\n\t\t\t        .withMessage(new Message().withSubject(new com.amazonaws.services.simpleemail.model.Content().withData(email.getTitle()))\r\n\t\t\t                .withBody(new Body().withText(\r\n\t\t\t                        new com.amazonaws.services.simpleemail.model.Content().withCharset(&quot;UTF-8&quot;).withData(email.getContent()))))\r\n\t\t\t        .withSource(this.emailFrom).withConfigurationSetName(&quot;name&quot;).withReplyToAddresses(email.getEmailFrom());\r\n\t\t\tclient.sendEmail(request);\r\n```\r\n\r\n\r\nIn the emailFrom and emailTo fields, a SES-verified email address with a correctly entered domain and @ sign is provided. In mail.getEmailFrom() adress have domain and @ too.\r\n\r\nWhat I can do?\r\n\r\n\r\nI tried changing the settings, giving addresses manually, and also as arrays. If I specify &quot;Amazon Resource Name (ARN)&quot; instead of emailFrom, I get an error:\r\n\r\n\r\n```\r\ncom.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Nested group (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\r\n```","title":"Missing final &#39;@domain&#39; when trying to send mail via Amazon SES","body":"<p>I am trying to send a simple email through the AWS SES service. Unfortunately I keep getting an error:</p>\n<pre><code>com.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Missing final '@domain' (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\n</code></pre>\n<p>The code is almost straight from the examples:</p>\n<pre><code>AmazonSimpleEmailService client = this.getClient();\n            SendEmailRequest request = new SendEmailRequest().withDestination(new Destination().withToAddresses(this.emailTo))\n                    .withMessage(new Message().withSubject(new com.amazonaws.services.simpleemail.model.Content().withData(email.getTitle()))\n                            .withBody(new Body().withText(\n                                    new com.amazonaws.services.simpleemail.model.Content().withCharset(&quot;UTF-8&quot;).withData(email.getContent()))))\n                    .withSource(this.emailFrom).withConfigurationSetName(&quot;name&quot;).withReplyToAddresses(email.getEmailFrom());\n            client.sendEmail(request);\n</code></pre>\n<p>In the emailFrom and emailTo fields, a SES-verified email address with a correctly entered domain and @ sign is provided. In mail.getEmailFrom() adress have domain and @ too.</p>\n<p>What I can do?</p>\n<p>I tried changing the settings, giving addresses manually, and also as arrays. If I specify &quot;Amazon Resource Name (ARN)&quot; instead of emailFrom, I get an error:</p>\n<pre><code>com.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: Nested group (Service: AmazonSimpleEmailService; Status Code: 400; Error Code: InvalidParameterValue; Request ID: [id]; Proxy: null)\n</code></pre>\n"},{"tags":["java","spring","mocking"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1687333621,"post_id":76515397,"comment_id":134920386,"body_markdown":"I would assume you need to call `@InjectMocks` on the bean that is using the static class. You are mixing SpringBootTests and MockitoTests. I am guessing that this is causing problems.","body":"I would assume you need to call <code>@InjectMocks</code> on the bean that is using the static class. You are mixing SpringBootTests and MockitoTests. I am guessing that this is causing problems."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1687335869,"post_id":76515397,"comment_id":134920915,"body_markdown":"the mocking ends together with the try with resources block, which is why you should be mocking within the test method not in postConstruct","body":"the mocking ends together with the try with resources block, which is why you should be mocking within the test method not in postConstruct"},{"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"score":0,"creation_date":1687367873,"post_id":76515397,"comment_id":134928301,"body_markdown":"@JAsgarov thank you ! that did the magic.","body":"@JAsgarov thank you ! that did the magic."}],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687268760,"creation_date":1687268760,"question_id":76515397,"body_markdown":"I am trying to mock with Mockito a static method for my unit test, like this \r\n\r\n```\r\n@SpringBootTest\r\n@Testcontainers\r\npublic abstract class AbstractIntegrationTest {\r\n\r\n....\r\n\r\n    @PostConstruct\r\n    public void post() {\r\n        \r\n        try (MockedStatic&lt;JwtUtil&gt; util = Mockito.mockStatic(JwtUtil.class)) {\r\n            util.when( () -&gt; JwtUtil.findSubject(any(Principal.class)))\r\n                    .thenReturn(faker.rickAndMorty().character());\r\n        }\r\n    }\r\n\r\n```\r\n\r\nthis is the method \r\n\r\n```\r\npublic class JwtUtil {\r\n\r\n    public static String findSubject(Principal principal) {\r\n        JwtAuthenticationToken jwtAuthenticationToken = (JwtAuthenticationToken) principal;\r\n        Jwt jwtPrincipal = (Jwt) jwtAuthenticationToken.getPrincipal();\r\n        return jwtPrincipal.getSubject();\r\n    }\r\n```\r\n\r\nI&#39;m getting a null point exception, because method was not mocked \r\n\r\n```java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationToken.getPrincipal()&quot; because &quot;jwtAuthenticationToken&quot; is null\r\n\tat JwtUtil.findSubject(JwtUtil.java:12) ~[classes/:na]\r\n```\r\n\r\nAny ideas ? Could be Principal type ? ","title":"Mockito mockStatic","body":"<p>I am trying to mock with Mockito a static method for my unit test, like this</p>\n<pre><code>@SpringBootTest\n@Testcontainers\npublic abstract class AbstractIntegrationTest {\n\n....\n\n    @PostConstruct\n    public void post() {\n        \n        try (MockedStatic&lt;JwtUtil&gt; util = Mockito.mockStatic(JwtUtil.class)) {\n            util.when( () -&gt; JwtUtil.findSubject(any(Principal.class)))\n                    .thenReturn(faker.rickAndMorty().character());\n        }\n    }\n\n</code></pre>\n<p>this is the method</p>\n<pre><code>public class JwtUtil {\n\n    public static String findSubject(Principal principal) {\n        JwtAuthenticationToken jwtAuthenticationToken = (JwtAuthenticationToken) principal;\n        Jwt jwtPrincipal = (Jwt) jwtAuthenticationToken.getPrincipal();\n        return jwtPrincipal.getSubject();\n    }\n</code></pre>\n<p>I'm getting a null point exception, because method was not mocked</p>\n<pre><code>    at JwtUtil.findSubject(JwtUtil.java:12) ~[classes/:na]\n</code></pre>\n<p>Any ideas ? Could be Principal type ?</p>\n"},{"tags":["java","spring","graphql","netflix-dgs"],"owner":{"account_id":19781651,"reputation":58,"user_id":16127057,"display_name":"Zakhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687268501,"creation_date":1687268501,"question_id":76515356,"body_markdown":"I send such a query using graphiql: \r\n```\r\n{\r\n    project(projectId: &quot;634593f811af096d17579a0d&quot;) {\r\n  \t\tid\r\n    \tname\r\n\t\tlocations {\r\n            id\r\n            name\r\n        }\r\n    }\r\n}\r\n```\r\nI have such a dataFetcher\r\n```\r\n@DgsQuery\r\npublic Project project(DgsDataFetchingEnvironment dfe, @NotNull @InputArgument String projectId) {\r\n    return projectService.findById(projectId);\r\n}\r\n```\r\n\r\nI would like to get the query inside the dataFetcher in the same format as I sent it through graphiql. How can I do it?","title":"How to get graphql query using DGS","body":"<p>I send such a query using graphiql:</p>\n<pre><code>{\n    project(projectId: &quot;634593f811af096d17579a0d&quot;) {\n        id\n        name\n        locations {\n            id\n            name\n        }\n    }\n}\n</code></pre>\n<p>I have such a dataFetcher</p>\n<pre><code>@DgsQuery\npublic Project project(DgsDataFetchingEnvironment dfe, @NotNull @InputArgument String projectId) {\n    return projectService.findById(projectId);\n}\n</code></pre>\n<p>I would like to get the query inside the dataFetcher in the same format as I sent it through graphiql. How can I do it?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":5764185,"reputation":424,"user_id":4549619,"accept_rate":75,"display_name":"Chanandler Bong"},"score":0,"creation_date":1687268120,"post_id":76514148,"comment_id":134910655,"body_markdown":"Thanks. This works, so +1. However it&#39;s not something I would like to use. The reason I want to use different name is that the parameter is expected to contain an underscore and it&#39;s not something I would like to have in a field name or (in case of your solution) method name. I&#39;ll update my question to make it clear.","body":"Thanks. This works, so +1. However it&#39;s not something I would like to use. The reason I want to use different name is that the parameter is expected to contain an underscore and it&#39;s not something I would like to have in a field name or (in case of your solution) method name. I&#39;ll update my question to make it clear."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687286189,"post_id":76514148,"comment_id":134914619,"body_markdown":"With JSON request body instead of URL parameters it would be much easier.","body":"With JSON request body instead of URL parameters it would be much easier."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687259776,"creation_date":1687259776,"answer_id":76514148,"question_id":76513530,"body_markdown":"You can achieve this with additional getter/setter pair. Like here:\r\n```\r\npublic class SearchParams {\r\n    private String someName;\r\n\r\n    public String getSomeName() {\r\n        return someName;\r\n    }\r\n\r\n    public void setSomeName(String someName) {\r\n        this.someName = someName;\r\n    }\r\n    public String getSomeDifferentName() {\r\n        return someName;\r\n    }\r\n\r\n    public void setSomeDifferentName(String someName) {\r\n        this.someName = someName;\r\n    }\r\n}\r\n```","title":"Use different names of request params when using @ParameterObject to avoid underscore in field/method name","body":"<p>You can achieve this with additional getter/setter pair. Like here:</p>\n<pre><code>public class SearchParams {\n    private String someName;\n\n    public String getSomeName() {\n        return someName;\n    }\n\n    public void setSomeName(String someName) {\n        this.someName = someName;\n    }\n    public String getSomeDifferentName() {\n        return someName;\n    }\n\n    public void setSomeDifferentName(String someName) {\n        this.someName = someName;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5764185,"reputation":424,"user_id":4549619,"accept_rate":75,"display_name":"Chanandler Bong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687328220,"answer_count":1,"score":0,"last_activity_date":1687268316,"creation_date":1687255192,"question_id":76513530,"body_markdown":"Is there an easy way to have request params names different than the field names in the class used as @ParameterObject?\r\n\r\nThe reason I want to use different name is that the request parameters are expected to contain an underscore and it&#39;s not something I would like to have in a field or method name, so I&#39;m looking for solutions that don&#39;t require this.\r\n\r\nBelow an example of what I would like to achieve.\r\n\r\nParameter object:\r\n\r\n    public class SearchParams {\r\n    \r\n        private String someParam;\r\n        private String someOtherParam;\r\n    \r\n    }\r\n\r\n\r\nIn controller:\r\n\r\n\r\n    @GetMapping\r\n    public SomeResponse getFoos(@ParameterObject SearchParams params) {\r\n        return fooService.getFoos(params);\r\n    }\r\n\r\n\r\nRequest path:\r\n\r\n    GET /foos?some_param=abc&amp;some_other_param=xyz","title":"Use different names of request params when using @ParameterObject to avoid underscore in field/method name","body":"<p>Is there an easy way to have request params names different than the field names in the class used as @ParameterObject?</p>\n<p>The reason I want to use different name is that the request parameters are expected to contain an underscore and it's not something I would like to have in a field or method name, so I'm looking for solutions that don't require this.</p>\n<p>Below an example of what I would like to achieve.</p>\n<p>Parameter object:</p>\n<pre><code>public class SearchParams {\n\n    private String someParam;\n    private String someOtherParam;\n\n}\n</code></pre>\n<p>In controller:</p>\n<pre><code>@GetMapping\npublic SomeResponse getFoos(@ParameterObject SearchParams params) {\n    return fooService.getFoos(params);\n}\n</code></pre>\n<p>Request path:</p>\n<pre><code>GET /foos?some_param=abc&amp;some_other_param=xyz\n</code></pre>\n"},{"tags":["java","nonblocking","completable-future"],"answers":[{"comments":[{"owner":{"account_id":7401461,"reputation":771,"user_id":5631767,"display_name":"Yorgos Lamprakis"},"score":0,"creation_date":1559897131,"post_id":56465579,"comment_id":99570808,"body_markdown":"Brilliant, thanks for taking the time to reply. That was really helpful","body":"Brilliant, thanks for taking the time to reply. That was really helpful"},{"owner":{"account_id":4693886,"reputation":700,"user_id":3799290,"display_name":"UltimaWeapon"},"score":0,"creation_date":1650593152,"post_id":56465579,"comment_id":127160765,"body_markdown":"Great example. I&#39;m not sure to understand the difference between thenApplyAsync and thenComposeAsync. They both return a CompletableFuture. Not sure I get the intricacy with the stages.","body":"Great example. I&#39;m not sure to understand the difference between thenApplyAsync and thenComposeAsync. They both return a CompletableFuture. Not sure I get the intricacy with the stages."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1650613816,"post_id":56465579,"comment_id":127164788,"body_markdown":"@UltimaWeapon its the same difference as between `map` and `flatMap` in case of `Stream` or `Optional`. The method `thenApplyAsync` expects a function evaluating to a new value, whereas `thenComposeAsync` expects a function evaluating to a new stage which represent (or evaluates to) the new value. The latter is way more flexible, but unnecessary for trivial cases. Just like you wouldnt write `.flatMap(x -&gt; Stream.of(y))` for a stream when you can simply write `.map(x -&gt; y)`","body":"@UltimaWeapon its the same difference as between <code>map</code> and <code>flatMap</code> in case of <code>Stream</code> or <code>Optional</code>. The method <code>thenApplyAsync</code> expects a function evaluating to a new value, whereas <code>thenComposeAsync</code> expects a function evaluating to a new stage which represent (or evaluates to) the new value. The latter is way more flexible, but unnecessary for trivial cases. Just like you wouldnt write <code>.flatMap(x -&gt; Stream.of(y))</code> for a stream when you can simply write <code>.map(x -&gt; y)</code>"},{"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"score":0,"creation_date":1701265051,"post_id":56465579,"comment_id":136753983,"body_markdown":"Does that mean that if i use join() on a ThreadPoolTaskExecutor there could be an issue with a deadlock scenario when my threadpool is already full? As join() may block? Scenario here: https://stackoverflow.com/questions/77537145/thread-pool-stops-accepting-tasks","body":"Does that mean that if i use join() on a ThreadPoolTaskExecutor there could be an issue with a deadlock scenario when my threadpool is already full? As join() may block? Scenario here: <a href=\"https://stackoverflow.com/questions/77537145/thread-pool-stops-accepting-tasks\" title=\"thread pool stops accepting tasks\">stackoverflow.com/questions/77537145/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1701268703,"post_id":56465579,"comment_id":136754814,"body_markdown":"@ThomasLang when you use `join()` in a worker thread of a limited thread pool (other than `ForkJoinPool`) you can indeed bring it to a complete halt. In other words, using `join()` with other executors is even more dangerous than using it with the `ForkJoinPool`. The solution would be to use virtual threads but I suppose, like most of us, you dont have the possibility to use Java&#160;21 in production code yet","body":"@ThomasLang when you use <code>join()</code> in a worker thread of a limited thread pool (other than <code>ForkJoinPool</code>) you can indeed bring it to a complete halt. In other words, using <code>join()</code> with other executors is even more dangerous than using it with the <code>ForkJoinPool</code>. The solution would be to use virtual threads but I suppose, like most of us, you dont have the possibility to use Java 21 in production code yet"},{"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"score":0,"creation_date":1701332070,"post_id":56465579,"comment_id":136763127,"body_markdown":"@Holger Thank you! So solutions to this problem would be the following: 1. Get rid of calling join() or 2. move the number of available Threads in the ThreadPoolTaskExecutor up, or 3. use a ForkJoinPool as ThreadPoolTaskExecutor? Is this possible?","body":"@Holger Thank you! So solutions to this problem would be the following: 1. Get rid of calling join() or 2. move the number of available Threads in the ThreadPoolTaskExecutor up, or 3. use a ForkJoinPool as ThreadPoolTaskExecutor? Is this possible?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1701333330,"post_id":56465579,"comment_id":136763286,"body_markdown":"Yes, its even the default; when you dont specify an executor the [common pool](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()) will be used. But you can also specify your own `ForkJoinPool` as executor.","body":"Yes, its even the default; when you dont specify an executor the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\">common pool</a> will be used. But you can also specify your own <code>ForkJoinPool</code> as executor."},{"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"score":0,"creation_date":1701359947,"post_id":56465579,"comment_id":136768363,"body_markdown":"@Holger Thank you. One last question: So defining/using your own Executor in a current Spring Boot 3 Environment is a) performing worse than the automatic configured common pool and b) there might be thread starvation if it is misconfigured?","body":"@Holger Thank you. One last question: So defining/using your own Executor in a current Spring Boot 3 Environment is a) performing worse than the automatic configured common pool and b) there might be thread starvation if it is misconfigured?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1701366829,"post_id":56465579,"comment_id":136769750,"body_markdown":"@ThomasLang a) only if your own executor is not an instance of `ForkJoinPool` and youre using lots of `join()` or `get()` calls. But keep in mind that this is nothing special; the behavior is similar to any scenario of making a lot of blocking calls in a thread pool. The actual difference is that there is a work-around in case of blocking calls on a `CompletableFuture` in a worker thread of a `ForkJoinPool` b) as said, its a general issue that making a lot of blocking calls in a thread pool can lead to starvation.","body":"@ThomasLang a) only if your own executor is not an instance of <code>ForkJoinPool</code> and youre using lots of <code>join()</code> or <code>get()</code> calls. But keep in mind that this is nothing special; the behavior is similar to any scenario of making a lot of blocking calls in a thread pool. The actual difference is that there is a work-around in case of blocking calls on a <code>CompletableFuture</code> in a worker thread of a <code>ForkJoinPool</code> b) as said, its a general issue that making a lot of blocking calls in a thread pool can lead to starvation."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":9,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1559756804,"creation_date":1559756804,"answer_id":56465579,"question_id":56413349,"body_markdown":"Your example is a bit odd as you are slowing down the main thread in `returnUserIdsFromDb()`, before any operation even starts and likewise, `fetchById` slows down the caller rather than the asynchronous operation, which defeats the entire purpose of asynchronous operations.\r\n\r\nFurther, instead of `.thenCompose(listOfIds -&gt; CompletableFuture.supplyAsync(() -&gt; ))` you can simply use `.thenApplyAsync(listOfIds -&gt; )`.\r\n\r\nSo a better example might be\r\n\r\n    public class PipelineOfTasksExample {\r\n        private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\r\n            .collect(Collectors.toMap(id -&gt; id, id -&gt; &quot;user&quot;+id));\r\n\r\n        PipelineOfTasksExample() {}\r\n\r\n        private static &lt;T&gt; T slowDown(String op, T result) {\r\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n            System.out.println(op + &quot; -&gt; &quot; + result + &quot; thread: &quot;\r\n                + Thread.currentThread().getName()+ &quot;, &quot;\r\n                + POOL.getPoolSize() + &quot; threads&quot;);\r\n            return result;\r\n        }\r\n        private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\r\n            System.out.println(&quot;trigger building the list of Ids - thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;building the list of Ids&quot;, Arrays.asList(1L, 2L, 3L, 4L)),\r\n                POOL);\r\n        }\r\n        private CompletableFuture&lt;String&gt; fetchById(Long id) {\r\n            System.out.println(&quot;trigger fetching id: &quot; + id + &quot; thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;fetching id: &quot; + id , db.get(id)), POOL);\r\n        }\r\n\r\n        static ForkJoinPool POOL = new ForkJoinPool(2);\r\n\r\n        public static void main(String[] args) {\r\n            PipelineOfTasksExample example = new PipelineOfTasksExample();\r\n            CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\r\n                .thenApplyAsync(listOfIds -&gt;\r\n                    listOfIds.parallelStream()\r\n                        .map(id -&gt; example.fetchById(id).join())\r\n                        .collect(Collectors.toList()\r\n                    ),\r\n                    POOL\r\n                );\r\n            System.out.println(result.join());\r\n        }\r\n    }\r\nwhich prints something like\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    trigger building the list of Ids - thread: main\r\n    building the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\r\n    trigger fetching id: 2 thread: ForkJoinPool-1-worker-0\r\n    trigger fetching id: 3 thread: ForkJoinPool-1-worker-1\r\n    trigger fetching id: 4 thread: ForkJoinPool-1-worker-2\r\n    fetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-3, 4 threads\r\n    fetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-3, 4 threads\r\n    fetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-2, 4 threads\r\n    trigger fetching id: 1 thread: ForkJoinPool-1-worker-3\r\n    fetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-2, 4 threads\r\n    [user1, user2, user3, user4]\r\n\r\nwhich might be a surprising number of threads on the first glance.\r\n\r\nThe answer is that `join()` may block the thread, but if this happens inside a worker thread of a Fork/Join pool, this situation will be detected and a new compensation thread will be started, to ensure the configured target parallelism.\r\n\r\nAs a special case, when the default Fork/Join pool is used, the implementation may pick up new pending tasks within the `join()` method, to ensure progress within the same thread.\r\n\r\nSo the code will always make progress and theres nothing wrong with calling `join()` occasionally, if the alternatives are much more complicated, but theres some danger of too much resource consumption, if used excessively. After all, the reason to use thread pools, is to limit the number of threads.\r\n\r\nThe alternative is to use chained dependent operations where possible.\r\n\r\n    public class PipelineOfTasksExample {\r\n        private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\r\n            .collect(Collectors.toMap(id -&gt; id, id -&gt; &quot;user&quot;+id));\r\n\r\n        PipelineOfTasksExample() {}\r\n\r\n        private static &lt;T&gt; T slowDown(String op, T result) {\r\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\r\n            System.out.println(op + &quot; -&gt; &quot; + result + &quot; thread: &quot;\r\n                + Thread.currentThread().getName()+ &quot;, &quot;\r\n                + POOL.getPoolSize() + &quot; threads&quot;);\r\n            return result;\r\n        }\r\n        private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\r\n            System.out.println(&quot;trigger building the list of Ids - thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;building the list of Ids&quot;, Arrays.asList(1L, 2L, 3L, 4L)),\r\n                POOL);\r\n        }\r\n        private CompletableFuture&lt;String&gt; fetchById(Long id) {\r\n            System.out.println(&quot;trigger fetching id: &quot; + id + &quot; thread: &quot;\r\n                + Thread.currentThread().getName());\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; slowDown(&quot;fetching id: &quot; + id , db.get(id)), POOL);\r\n        }\r\n\r\n        static ForkJoinPool POOL = new ForkJoinPool(2);\r\n\r\n        public static void main(String[] args) {\r\n            PipelineOfTasksExample example = new PipelineOfTasksExample();\r\n\r\n            CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\r\n                .thenComposeAsync(listOfIds -&gt; {\r\n                    List&lt;CompletableFuture&lt;String&gt;&gt; jobs = listOfIds.parallelStream()\r\n                        .map(id -&gt; example.fetchById(id))\r\n                        .collect(Collectors.toList());\r\n                    return CompletableFuture.allOf(jobs.toArray(new CompletableFuture&lt;?&gt;[0]))\r\n                        .thenApply(_void -&gt; jobs.stream()\r\n                            .map(CompletableFuture::join).collect(Collectors.toList()));\r\n                    },\r\n                    POOL\r\n                );\r\n\r\n            System.out.println(result.join());\r\n            System.out.println(ForkJoinPool.commonPool().getPoolSize());\r\n        }\r\n    }\r\n\r\nThe difference is that first, all asynchronous jobs are submitted, then, a dependent action calling `join` on them is scheduled, to be executed only when all jobs have completed, so these `join` invocations will never block. Only the final `join` call at the end of the `main` method may block the main thread.\r\n\r\nSo this prints something like\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    trigger building the list of Ids - thread: main\r\n    building the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\r\n    trigger fetching id: 3 thread: ForkJoinPool-1-worker-1\r\n    trigger fetching id: 2 thread: ForkJoinPool-1-worker-0\r\n    trigger fetching id: 4 thread: ForkJoinPool-1-worker-1\r\n    trigger fetching id: 1 thread: ForkJoinPool-1-worker-0\r\n    fetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-1, 2 threads\r\n    fetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-0, 2 threads\r\n    fetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-1, 2 threads\r\n    fetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-0, 2 threads\r\n    [user1, user2, user3, user4]\r\n\r\nshowing that no compensation threads had to be created, so the number of threads matches the configured target parallelism.\r\n\r\nNote that if the actual work is done in a background thread rather than within the `fetchById` method itself, you now dont need a parallel stream anymore, as there is no blocking `join()` call. For such scenarios, just using `stream()` will usually result in a higher performance.\r\n","title":"Does the call of join in the following CompletableFuture example block the process","body":"<p>Your example is a bit odd as you are slowing down the main thread in <code>returnUserIdsFromDb()</code>, before any operation even starts and likewise, <code>fetchById</code> slows down the caller rather than the asynchronous operation, which defeats the entire purpose of asynchronous operations.</p>\n\n<p>Further, instead of <code>.thenCompose(listOfIds -&gt; CompletableFuture.supplyAsync(() -&gt; ))</code> you can simply use <code>.thenApplyAsync(listOfIds -&gt; )</code>.</p>\n\n<p>So a better example might be</p>\n\n<pre><code>public class PipelineOfTasksExample {\n    private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\n        .collect(Collectors.toMap(id -&gt; id, id -&gt; \"user\"+id));\n\n    PipelineOfTasksExample() {}\n\n    private static &lt;T&gt; T slowDown(String op, T result) {\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n        System.out.println(op + \" -&gt; \" + result + \" thread: \"\n            + Thread.currentThread().getName()+ \", \"\n            + POOL.getPoolSize() + \" threads\");\n        return result;\n    }\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\n        System.out.println(\"trigger building the list of Ids - thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"building the list of Ids\", Arrays.asList(1L, 2L, 3L, 4L)),\n            POOL);\n    }\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\n        System.out.println(\"trigger fetching id: \" + id + \" thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"fetching id: \" + id , db.get(id)), POOL);\n    }\n\n    static ForkJoinPool POOL = new ForkJoinPool(2);\n\n    public static void main(String[] args) {\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\n            .thenApplyAsync(listOfIds -&gt;\n                listOfIds.parallelStream()\n                    .map(id -&gt; example.fetchById(id).join())\n                    .collect(Collectors.toList()\n                ),\n                POOL\n            );\n        System.out.println(result.join());\n    }\n}\n</code></pre>\n\n<p>which prints something like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>trigger building the list of Ids - thread: main\nbuilding the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\ntrigger fetching id: 2 thread: ForkJoinPool-1-worker-0\ntrigger fetching id: 3 thread: ForkJoinPool-1-worker-1\ntrigger fetching id: 4 thread: ForkJoinPool-1-worker-2\nfetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-3, 4 threads\nfetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-3, 4 threads\nfetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-2, 4 threads\ntrigger fetching id: 1 thread: ForkJoinPool-1-worker-3\nfetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-2, 4 threads\n[user1, user2, user3, user4]\n</code></pre>\n\n<p>which might be a surprising number of threads on the first glance.</p>\n\n<p>The answer is that <code>join()</code> may block the thread, but if this happens inside a worker thread of a Fork/Join pool, this situation will be detected and a new compensation thread will be started, to ensure the configured target parallelism.</p>\n\n<p>As a special case, when the default Fork/Join pool is used, the implementation may pick up new pending tasks within the <code>join()</code> method, to ensure progress within the same thread.</p>\n\n<p>So the code will always make progress and theres nothing wrong with calling <code>join()</code> occasionally, if the alternatives are much more complicated, but theres some danger of too much resource consumption, if used excessively. After all, the reason to use thread pools, is to limit the number of threads.</p>\n\n<p>The alternative is to use chained dependent operations where possible.</p>\n\n<pre><code>public class PipelineOfTasksExample {\n    private final Map&lt;Long, String&gt; db = LongStream.rangeClosed(1, 4).boxed()\n        .collect(Collectors.toMap(id -&gt; id, id -&gt; \"user\"+id));\n\n    PipelineOfTasksExample() {}\n\n    private static &lt;T&gt; T slowDown(String op, T result) {\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(500));\n        System.out.println(op + \" -&gt; \" + result + \" thread: \"\n            + Thread.currentThread().getName()+ \", \"\n            + POOL.getPoolSize() + \" threads\");\n        return result;\n    }\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\n        System.out.println(\"trigger building the list of Ids - thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"building the list of Ids\", Arrays.asList(1L, 2L, 3L, 4L)),\n            POOL);\n    }\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\n        System.out.println(\"trigger fetching id: \" + id + \" thread: \"\n            + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(\n            () -&gt; slowDown(\"fetching id: \" + id , db.get(id)), POOL);\n    }\n\n    static ForkJoinPool POOL = new ForkJoinPool(2);\n\n    public static void main(String[] args) {\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\n\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\n            .thenComposeAsync(listOfIds -&gt; {\n                List&lt;CompletableFuture&lt;String&gt;&gt; jobs = listOfIds.parallelStream()\n                    .map(id -&gt; example.fetchById(id))\n                    .collect(Collectors.toList());\n                return CompletableFuture.allOf(jobs.toArray(new CompletableFuture&lt;?&gt;[0]))\n                    .thenApply(_void -&gt; jobs.stream()\n                        .map(CompletableFuture::join).collect(Collectors.toList()));\n                },\n                POOL\n            );\n\n        System.out.println(result.join());\n        System.out.println(ForkJoinPool.commonPool().getPoolSize());\n    }\n}\n</code></pre>\n\n<p>The difference is that first, all asynchronous jobs are submitted, then, a dependent action calling <code>join</code> on them is scheduled, to be executed only when all jobs have completed, so these <code>join</code> invocations will never block. Only the final <code>join</code> call at the end of the <code>main</code> method may block the main thread.</p>\n\n<p>So this prints something like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>trigger building the list of Ids - thread: main\nbuilding the list of Ids -&gt; [1, 2, 3, 4] thread: ForkJoinPool-1-worker-1, 1 threads\ntrigger fetching id: 3 thread: ForkJoinPool-1-worker-1\ntrigger fetching id: 2 thread: ForkJoinPool-1-worker-0\ntrigger fetching id: 4 thread: ForkJoinPool-1-worker-1\ntrigger fetching id: 1 thread: ForkJoinPool-1-worker-0\nfetching id: 4 -&gt; user4 thread: ForkJoinPool-1-worker-1, 2 threads\nfetching id: 3 -&gt; user3 thread: ForkJoinPool-1-worker-0, 2 threads\nfetching id: 2 -&gt; user2 thread: ForkJoinPool-1-worker-1, 2 threads\nfetching id: 1 -&gt; user1 thread: ForkJoinPool-1-worker-0, 2 threads\n[user1, user2, user3, user4]\n</code></pre>\n\n<p>showing that no compensation threads had to be created, so the number of threads matches the configured target parallelism.</p>\n\n<p>Note that if the actual work is done in a background thread rather than within the <code>fetchById</code> method itself, you now dont need a parallel stream anymore, as there is no blocking <code>join()</code> call. For such scenarios, just using <code>stream()</code> will usually result in a higher performance.</p>\n"}],"owner":{"account_id":7401461,"reputation":771,"user_id":5631767,"display_name":"Yorgos Lamprakis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6403,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56465579,"answer_count":1,"score":5,"last_activity_date":1687268279,"creation_date":1559463483,"question_id":56413349,"body_markdown":"I am trying to understand CompletableFutures and chaining of calls that return completed futures and I have created the below example which kind of simulates two calls to a database. \r\n\r\nThe first method is supposed to be giving a completable future with a list of userIds and then I need to make a call to another method providing a userId to get the user (a string in this case).\r\n\r\nto summarise:  \r\n1. fetch the ids  \r\n2. fetch a list of the users corresponding to those ids.   \r\n\r\nI created simple methods to simulate the responses with sleep threads.\r\nPlease check the code below\r\n\r\n\r\n\r\n\r\n\r\n\r\n```java\r\npublic class PipelineOfTasksExample {\r\n\r\n    private Map&lt;Long, String&gt; db = new HashMap&lt;&gt;();\r\n\r\n    PipelineOfTasksExample() {\r\n        db.put(1L, &quot;user1&quot;);\r\n        db.put(2L, &quot;user2&quot;);\r\n        db.put(3L, &quot;user3&quot;);\r\n        db.put(4L, &quot;user4&quot;);\r\n    }\r\n\r\n\r\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;building the list of Ids&quot; + &quot; - thread: &quot; + Thread.currentThread().getName());\r\n        return CompletableFuture.supplyAsync(() -&gt; Arrays.asList(1L, 2L, 3L, 4L));\r\n    }\r\n\r\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\r\n        CompletableFuture&lt;String&gt; cfId = CompletableFuture.supplyAsync(() -&gt; db.get(id));\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;fetching id: &quot; + id + &quot; -&gt; &quot; + db.get(id) + &quot; thread: &quot; + Thread.currentThread().getName());\r\n        return cfId;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\r\n\r\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\r\n                .thenCompose(listOfIds -&gt;\r\n                        CompletableFuture.supplyAsync(\r\n                                () -&gt; listOfIds.parallelStream()\r\n                                        .map(id -&gt; example.fetchById(id).join())\r\n                                        .collect(Collectors.toList()\r\n                                        )\r\n                        )\r\n                );\r\n\r\n        System.out.println(result.join());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMy question is, does the join call (`example.fetchById(id).join()`) ruin the nonblocking nature of the process? If the answer is positive how can I solve this problem?\r\n\r\nThank you in advance","title":"Does the call of join in the following CompletableFuture example block the process","body":"<p>I am trying to understand CompletableFutures and chaining of calls that return completed futures and I have created the below example which kind of simulates two calls to a database.</p>\n<p>The first method is supposed to be giving a completable future with a list of userIds and then I need to make a call to another method providing a userId to get the user (a string in this case).</p>\n<p>to summarise:</p>\n<ol>\n<li>fetch the ids</li>\n<li>fetch a list of the users corresponding to those ids.</li>\n</ol>\n<p>I created simple methods to simulate the responses with sleep threads.\nPlease check the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PipelineOfTasksExample {\n\n    private Map&lt;Long, String&gt; db = new HashMap&lt;&gt;();\n\n    PipelineOfTasksExample() {\n        db.put(1L, &quot;user1&quot;);\n        db.put(2L, &quot;user2&quot;);\n        db.put(3L, &quot;user3&quot;);\n        db.put(4L, &quot;user4&quot;);\n    }\n\n\n    private CompletableFuture&lt;List&lt;Long&gt;&gt; returnUserIdsFromDb() {\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;building the list of Ids&quot; + &quot; - thread: &quot; + Thread.currentThread().getName());\n        return CompletableFuture.supplyAsync(() -&gt; Arrays.asList(1L, 2L, 3L, 4L));\n    }\n\n    private CompletableFuture&lt;String&gt; fetchById(Long id) {\n        CompletableFuture&lt;String&gt; cfId = CompletableFuture.supplyAsync(() -&gt; db.get(id));\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;fetching id: &quot; + id + &quot; -&gt; &quot; + db.get(id) + &quot; thread: &quot; + Thread.currentThread().getName());\n        return cfId;\n    }\n\n    public static void main(String[] args) {\n\n        PipelineOfTasksExample example = new PipelineOfTasksExample();\n\n        CompletableFuture&lt;List&lt;String&gt;&gt; result = example.returnUserIdsFromDb()\n                .thenCompose(listOfIds -&gt;\n                        CompletableFuture.supplyAsync(\n                                () -&gt; listOfIds.parallelStream()\n                                        .map(id -&gt; example.fetchById(id).join())\n                                        .collect(Collectors.toList()\n                                        )\n                        )\n                );\n\n        System.out.println(result.join());\n    }\n\n}\n\n</code></pre>\n<p>My question is, does the join call (<code>example.fetchById(id).join()</code>) ruin the nonblocking nature of the process? If the answer is positive how can I solve this problem?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot","eclipse","java-19"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687266223,"creation_date":1687264451,"answer_id":76514757,"question_id":76514674,"body_markdown":"To use constructor binding the class must be enabled using @EnableConfigurationProperties or configuration property scanning. Constructor binding cannot be used with beans that are created by the regular Spring mechanisms. so \r\n\r\nadding @EnableConfigurationProperties to \r\nCurrencyServiceConfiguration shall solve your problem. \r\n----------\r\nalso application.properties file has currency-service.username assigned twice, you may wanna check this bug too. \r\n","title":"@Component on a @ConfigurationProperties class causing error with spring boot application","body":"<p>To use constructor binding the class must be enabled using @EnableConfigurationProperties or configuration property scanning. Constructor binding cannot be used with beans that are created by the regular Spring mechanisms. so</p>\n<h2>adding @EnableConfigurationProperties to\nCurrencyServiceConfiguration shall solve your problem.</h2>\n<p>also application.properties file has currency-service.username assigned twice, you may wanna check this bug too.</p>\n"},{"comments":[{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1687272097,"post_id":76515290,"comment_id":134911595,"body_markdown":"Should I do dependecy injection through a constructor of field injection will also work fine?","body":"Should I do dependecy injection through a constructor of field injection will also work fine?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1687273236,"post_id":76515290,"comment_id":134911841,"body_markdown":"I prefer constructor.","body":"I prefer constructor."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687268009,"creation_date":1687268009,"answer_id":76515290,"question_id":76514674,"body_markdown":"Do **all** the following:\r\n1. Remove the `@Component` annotation and add `@ConstructorBinding` to suggest Spring the data binding is done through the constructor.\r\n\r\n    ```java\r\n    @ConstructorBinding\r\n    @ConfigurationProperties(&quot;currency-service&quot;)\r\n    public class CurrencyServiceConfiguration {\r\n\r\n        private String url;\r\n        private String username;\r\n        private String key;\r\n\r\n        // all-args constructor, getters, and setters\r\n    }\r\n    ```\r\n2. Add the `@EnableConfigurationProperties` annotation with the properties configuration (`CurrencyServiceConfiguration`) to either a configuration or the main application class:\r\n\r\n    ```java\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties({CurrencyServiceConfiguration.class})\r\n    public class LearnSpringBootApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(LearnSpringBootApplication.class, args);\r\n        }\r\n    }\r\n    ```\r\n\r\n    \r\n","title":"@Component on a @ConfigurationProperties class causing error with spring boot application","body":"<p>Do <strong>all</strong> the following:</p>\n<ol>\n<li><p>Remove the <code>@Component</code> annotation and add <code>@ConstructorBinding</code> to suggest Spring the data binding is done through the constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConstructorBinding\n@ConfigurationProperties(&quot;currency-service&quot;)\npublic class CurrencyServiceConfiguration {\n\n    private String url;\n    private String username;\n    private String key;\n\n    // all-args constructor, getters, and setters\n}\n</code></pre>\n</li>\n<li><p>Add the <code>@EnableConfigurationProperties</code> annotation with the properties configuration (<code>CurrencyServiceConfiguration</code>) to either a configuration or the main application class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigurationProperties({CurrencyServiceConfiguration.class})\npublic class LearnSpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LearnSpringBootApplication.class, args);\n    }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687268009,"creation_date":1687263907,"question_id":76514674,"body_markdown":"When I run an application with @Component and @ConfigurationProperties(&quot;currency-service&quot;)\r\n on a class and then I have a rest controller and an @RequestMapping\r\n  which prints the value of its object\r\n but when I run the spring application it does not start and \r\nthrows this error in the console:\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.1.0)\r\n    \r\n    2023-06-20T17:40:02.123+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : Starting LearnSpringBootApplication using Java 19 with PID 5452 (C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes started by dkent in C:\\Learn-Spring-Boot\\Learn-Spring-Boot)\r\n    2023-06-20T17:40:02.126+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : The following 1 profile is active: &quot;prod&quot;\r\n    2023-06-20T17:40:02.175+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2023-06-20T17:40:02.176+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2023-06-20T17:40:03.057+05:30  INFO 5452 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n    2023-06-20T17:40:03.124+05:30  INFO 5452 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-06-20T17:40:03.126+05:30  INFO 5452 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 948 ms\r\n    2023-06-20T17:40:03.175+05:30  WARN 5452 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;currencyServiceConfiguration&#39; defined in file [C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes\\com\\ronit\\LearnSpringBoot\\CurrencyServiceConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    2023-06-20T17:40:03.178+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-06-20T17:40:03.192+05:30  INFO 5452 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-06-20T17:40:03.215+05:30 ERROR 5452 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    CurrencyServiceConfiguration is annotated with @ConstructorBinding but it is defined as a regular bean which caused dependency injection to fail.\r\n    \r\n    Action:\r\n    \r\n    Update your configuration so that CurrencyServiceConfiguration is defined via @ConfigurationPropertiesScan or @EnableConfigurationProperties.\r\n\r\n\r\nThis is my currency configuration class with @Component and @ConfigurationProperties(&quot;currency-service&quot;) annotation\r\n\r\n    package com.ronit.LearnSpringBoot;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.stereotype.Component;\r\n    @Component\r\n    @ConfigurationProperties(&quot;currency-service&quot;)\r\n    public class CurrencyServiceConfiguration {\r\n    \t private String url;\r\n    \tprivate String username;\r\n    \tprivate String key;\r\n    \r\n    \tpublic CurrencyServiceConfiguration(String url, String username, String key) {\r\n    \t\tsuper();\r\n    \t\tthis.url = url;\r\n    \t\tthis.username = username;\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic void setUrl(String url) {\r\n    \t\tthis.url = url;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic void setKey(String key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic String getUrl() {\r\n    \t\treturn url;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic String getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is my CurrencyConfigurationController class with @RestController annotation and a method with @RequestMapping annotation\r\n\r\n    package com.ronit.LearnSpringBoot;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class CurrencyServiceController {\r\n    \t@Autowired\r\n    \t private CurrencyServiceConfiguration configuration;\r\n    @RequestMapping(&quot;/currency-configuration&quot;)\r\n    CurrencyServiceConfiguration retreiveAllCourse(){\r\n    return configuration;\r\n    }\r\n    }\r\n\r\nThis is the application.properties file:\r\n\r\n    logging.level.org.springframework = debug;\r\n    \r\n    currency-service.url=http://default.in28minutes.com\r\n    currency-service.username=defaultusername\r\n    currency-service.username=defaultkey\r\n\r\nThis is the application class\r\n\r\n    package com.ronit.LearnSpringBoot;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class LearnSpringBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LearnSpringBootApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nI am using jdk 19 java Spring 6 and Spring Boot 3 \r\n\r\nI have other classes and one more Rest Controller as well but they are working fine the problem started after adding these two files .\r\n\r\nPlease tell me if more information about anything is required.\r\n\r\n","title":"@Component on a @ConfigurationProperties class causing error with spring boot application","body":"<p>When I run an application with @Component and @ConfigurationProperties(&quot;currency-service&quot;)\non a class and then I have a rest controller and an @RequestMapping\nwhich prints the value of its object\nbut when I run the spring application it does not start and\nthrows this error in the console:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n2023-06-20T17:40:02.123+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : Starting LearnSpringBootApplication using Java 19 with PID 5452 (C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes started by dkent in C:\\Learn-Spring-Boot\\Learn-Spring-Boot)\n2023-06-20T17:40:02.126+05:30  INFO 5452 --- [  restartedMain] c.r.L.LearnSpringBootApplication         : The following 1 profile is active: &quot;prod&quot;\n2023-06-20T17:40:02.175+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-06-20T17:40:02.176+05:30  INFO 5452 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-06-20T17:40:03.057+05:30  INFO 5452 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-20T17:40:03.066+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-20T17:40:03.124+05:30  INFO 5452 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-20T17:40:03.126+05:30  INFO 5452 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 948 ms\n2023-06-20T17:40:03.175+05:30  WARN 5452 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'currencyServiceConfiguration' defined in file [C:\\Learn-Spring-Boot\\Learn-Spring-Boot\\target\\classes\\com\\ronit\\LearnSpringBoot\\CurrencyServiceConfiguration.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-06-20T17:40:03.178+05:30  INFO 5452 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-20T17:40:03.192+05:30  INFO 5452 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-20T17:40:03.215+05:30 ERROR 5452 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nCurrencyServiceConfiguration is annotated with @ConstructorBinding but it is defined as a regular bean which caused dependency injection to fail.\n\nAction:\n\nUpdate your configuration so that CurrencyServiceConfiguration is defined via @ConfigurationPropertiesScan or @EnableConfigurationProperties.\n</code></pre>\n<p>This is my currency configuration class with @Component and @ConfigurationProperties(&quot;currency-service&quot;) annotation</p>\n<pre><code>package com.ronit.LearnSpringBoot;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.stereotype.Component;\n@Component\n@ConfigurationProperties(&quot;currency-service&quot;)\npublic class CurrencyServiceConfiguration {\n     private String url;\n    private String username;\n    private String key;\n\n    public CurrencyServiceConfiguration(String url, String username, String key) {\n        super();\n        this.url = url;\n        this.username = username;\n        this.key = key;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public String getKey() {\n        return key;\n    }\n\n}\n</code></pre>\n<p>This is my CurrencyConfigurationController class with @RestController annotation and a method with @RequestMapping annotation</p>\n<pre><code>package com.ronit.LearnSpringBoot;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class CurrencyServiceController {\n    @Autowired\n     private CurrencyServiceConfiguration configuration;\n@RequestMapping(&quot;/currency-configuration&quot;)\nCurrencyServiceConfiguration retreiveAllCourse(){\nreturn configuration;\n}\n}\n</code></pre>\n<p>This is the application.properties file:</p>\n<pre><code>logging.level.org.springframework = debug;\n\ncurrency-service.url=http://default.in28minutes.com\ncurrency-service.username=defaultusername\ncurrency-service.username=defaultkey\n</code></pre>\n<p>This is the application class</p>\n<pre><code>package com.ronit.LearnSpringBoot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class LearnSpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LearnSpringBootApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I am using jdk 19 java Spring 6 and Spring Boot 3</p>\n<p>I have other classes and one more Rest Controller as well but they are working fine the problem started after adding these two files .</p>\n<p>Please tell me if more information about anything is required.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1589160,"reputation":3245,"user_id":1472887,"accept_rate":92,"display_name":"D-32"},"score":2,"creation_date":1352287741,"post_id":13268799,"comment_id":18085035,"body_markdown":"This should help: http://stackoverflow.com/a/2544198/1472887","body":"This should help: <a href=\"http://stackoverflow.com/a/2544198/1472887\">stackoverflow.com/a/2544198/1472887</a>"},{"owner":{"account_id":1347462,"reputation":2094,"user_id":1287922,"accept_rate":67,"display_name":"suhas_sm"},"score":0,"creation_date":1352287818,"post_id":13268799,"comment_id":18085059,"body_markdown":"Check this thread: http://stackoverflow.com/questions/7976643/how-to-create-json-array-in-java","body":"Check this thread: <a href=\"http://stackoverflow.com/questions/7976643/how-to-create-json-array-in-java\" title=\"how to create json array in java\">stackoverflow.com/questions/7976643/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":142343,"reputation":127955,"user_id":379693,"accept_rate":95,"display_name":"Paresh Mayani"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1352287764,"creation_date":1352287764,"answer_id":13268850,"question_id":13268799,"body_markdown":"&gt; But how can I create a JSONArray and insert it to the JSONObject?\r\n\r\nYou can create JSONArray same like you have tried to create JSONObject.\r\n\r\nCreating time:\r\n--------------\r\n\r\nFor example:\r\n\r\n    JSONArray myArray = new JSONArray();\r\n    JSONObject j = new JSONObject();\r\n    j.put(&quot;key&quot;,value);\r\n    j.put(&quot;array&quot;,myArray);\r\n\r\nRetrieving time:\r\n----------------\r\n\r\nyou can fetch the value of String or JSONObject or any by their key name. For example:\r\n\r\n    JSONArray myArray = objJson.getJSONArray(&quot;array&quot;);","title":"Create a JSONArray in Java","body":"<blockquote>\n  <p>But how can I create a JSONArray and insert it to the JSONObject?</p>\n</blockquote>\n\n<p>You can create JSONArray same like you have tried to create JSONObject.</p>\n\n<h2>Creating time:</h2>\n\n<p>For example:</p>\n\n<pre><code>JSONArray myArray = new JSONArray();\nJSONObject j = new JSONObject();\nj.put(\"key\",value);\nj.put(\"array\",myArray);\n</code></pre>\n\n<h2>Retrieving time:</h2>\n\n<p>you can fetch the value of String or JSONObject or any by their key name. For example:</p>\n\n<pre><code>JSONArray myArray = objJson.getJSONArray(\"array\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1458756700,"post_id":13268853,"comment_id":60006657,"body_markdown":"Why are you passing a `List` into constructor of JSONArray?  It should just accept a `String`.","body":"Why are you passing a <code>List</code> into constructor of JSONArray?  It should just accept a <code>String</code>."},{"owner":{"account_id":8759114,"reputation":2085,"user_id":6549598,"accept_rate":75,"display_name":"nimi0112"},"score":0,"creation_date":1518013731,"post_id":13268853,"comment_id":84329962,"body_markdown":"I was not able to solve my problem by this so I used JSONArray json = new JSONArray(Arrays.toString(array));","body":"I was not able to solve my problem by this so I used JSONArray json = new JSONArray(Arrays.toString(array));"}],"tags":[],"owner":{"account_id":1539681,"reputation":15923,"user_id":1434631,"display_name":"Nermeen"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1617097688,"creation_date":1352287777,"answer_id":13268853,"question_id":13268799,"body_markdown":"You can do it like:\r\n    \r\n    String[] data = {&quot;stringone&quot;, &quot;stringtwo&quot;};\r\n    JSONArray json = new JSONArray(Arrays.toString(data));\r\n\r\nOr,  create a JSONArray object and use the put method(s) to add any Strings you want. To output the result, just use the toString() method.","title":"Create a JSONArray in Java","body":"<p>You can do it like:</p>\n<pre><code>String[] data = {&quot;stringone&quot;, &quot;stringtwo&quot;};\nJSONArray json = new JSONArray(Arrays.toString(data));\n</code></pre>\n<p>Or,  create a JSONArray object and use the put method(s) to add any Strings you want. To output the result, just use the toString() method.</p>\n"},{"tags":[],"owner":{"account_id":1305596,"reputation":2236,"user_id":1254659,"display_name":"Mohd Mufiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1352289232,"creation_date":1352289232,"answer_id":13269235,"question_id":13268799,"body_markdown":"Why dont you use Gson library its very easy to convert any object into json array, json object\r\n\r\nDownload Gson library then use like\r\n\r\n    Gson gson=new Gson();\r\n    \r\n    String json=gson.toJson(object);\r\n\r\nif Object is of List object it will create json array\r\n\r\nGson gson = new Gson();\r\n\r\n    reverse parsing for array -- \r\n    \t\tlistObject = gson.fromJson(json,\r\n    \t\t\t\tnew TypeToken&lt;List&lt;ClassName&gt;&gt;() {\r\n    \t\t\t\t}.getType());\r\n\r\nfor single object \r\n\r\n    object = gson.fromJson(json, ClassName.class);","title":"Create a JSONArray in Java","body":"<p>Why dont you use Gson library its very easy to convert any object into json array, json object</p>\n\n<p>Download Gson library then use like</p>\n\n<pre><code>Gson gson=new Gson();\n\nString json=gson.toJson(object);\n</code></pre>\n\n<p>if Object is of List object it will create json array</p>\n\n<p>Gson gson = new Gson();</p>\n\n<pre><code>reverse parsing for array -- \n        listObject = gson.fromJson(json,\n                new TypeToken&lt;List&lt;ClassName&gt;&gt;() {\n                }.getType());\n</code></pre>\n\n<p>for single object </p>\n\n<pre><code>object = gson.fromJson(json, ClassName.class);\n</code></pre>\n"}],"owner":{"account_id":1748119,"reputation":22240,"user_id":1597833,"accept_rate":76,"display_name":"meh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62930,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13268850,"answer_count":3,"score":9,"last_activity_date":1687267978,"creation_date":1352287582,"question_id":13268799,"body_markdown":"How can I create a JSONArray, since creating a JSONObject is quite simple:\r\n\r\n    JSONObject j = new JSONObject();\r\n    j.put(&quot;key&quot;,value);\r\n\r\nRight now I can put another string in the JSONObject, or a string representation of a JSONObject.\r\n\r\nBut how can I create a JSONArray and insert it to the JSONObject?\r\n","title":"Create a JSONArray in Java","body":"<p>How can I create a JSONArray, since creating a JSONObject is quite simple:</p>\n\n<pre><code>JSONObject j = new JSONObject();\nj.put(\"key\",value);\n</code></pre>\n\n<p>Right now I can put another string in the JSONObject, or a string representation of a JSONObject.</p>\n\n<p>But how can I create a JSONArray and insert it to the JSONObject?</p>\n"},{"tags":["java","arrays","loops","indexoutofboundsexception"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":1,"creation_date":1687267760,"post_id":76515227,"comment_id":134910564,"body_markdown":"` entityList` seems to be empty -&gt; thats way you can not get the 0. element in ` entityList.get(0)`","body":"` entityList` seems to be empty -&gt; thats way you can not get the 0. element in ` entityList.get(0)`"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687267848,"creation_date":1687267848,"answer_id":76515276,"question_id":76515227,"body_markdown":"In addition to a `List` being `null`, it might also be *empty* (contain nothing). In this case that is exactly the problem. There is nothing in the `List`, so you can&#39;t get the first element (there isn&#39;t one). One solution, check for empty. Like,\r\n\r\n    List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\r\n    if (!entityList.isEmpty()) {\r\n        entityList.get(0);\r\n        remove(entityList.get(0));\r\n    }\r\n\r\nOr use an [`Iterator`](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html). Like,\r\n\r\n    List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\r\n    Iterator&lt;MetamodelField&gt; iter = entityList.iterator();\r\n    if (iter.hasNext()) {\r\n        MetamodelField mf = iter.next();\r\n        iter.remove();\r\n    }\r\n\r\n","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 , I don&#39;t understand?","body":"<p>In addition to a <code>List</code> being <code>null</code>, it might also be <em>empty</em> (contain nothing). In this case that is exactly the problem. There is nothing in the <code>List</code>, so you can't get the first element (there isn't one). One solution, check for empty. Like,</p>\n<pre><code>List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\nif (!entityList.isEmpty()) {\n    entityList.get(0);\n    remove(entityList.get(0));\n}\n</code></pre>\n<p>Or use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a>. Like,</p>\n<pre><code>List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\nIterator&lt;MetamodelField&gt; iter = entityList.iterator();\nif (iter.hasNext()) {\n    MetamodelField mf = iter.next();\n    iter.remove();\n}\n</code></pre>\n"}],"owner":{"account_id":25570449,"reputation":55,"user_id":19350908,"display_name":"JhinKazama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76515276,"answer_count":1,"score":0,"last_activity_date":1687267848,"creation_date":1687267562,"question_id":76515227,"body_markdown":"I&#39;m getting this error while im sure the array is not null, here is the code : \r\n\r\n                REPORT.info(&quot;Removing meta_field id {} from metamodel id {}&quot;, Integer[]{oldMetaFieldId, metamodelId);\r\n\r\n                App.get(MetamodelFieldService.class).remove(metamodelId, new Integer[]{oldMetaFieldId});\r\n\r\n\r\nI put the report just before the call of the method &quot;remove&quot; to make sure the variable oldMetaFieldId is not null, and it is not I checked the logs : \r\n\r\n    2023-06-20 15:12:21,776  INFO [main] FusionChampsFiches - Removing meta_field id [1007] from metamodel id 215\r\n\r\nHere is the implementation of the &quot;remove&quot; method : \r\n\r\n      public void remove(Integer metamodelId, Integer[] metaFieldIdList) {\r\n        for (Integer metaFieldId : metaFieldIdList) {\r\n          MetamodelField ex = new MetamodelField();\r\n          ex.setMetamodelId(metamodelId);\r\n          ex.setMetaFieldId(metaFieldId);\r\n          List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\r\n    \r\n          entityList.get(0);\r\n          remove(entityList.get(0));\r\n        }\r\n        MetaModelCache.getCache().clear(getApplicationSession());\r\n      }\r\n\r\nI don&#39;t understand why i&#39;m getting this error \r\n\r\n&gt; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\r\n&gt; 0 \r\n\r\n","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 , I don&#39;t understand?","body":"<p>I'm getting this error while im sure the array is not null, here is the code :</p>\n<pre><code>            REPORT.info(&quot;Removing meta_field id {} from metamodel id {}&quot;, Integer[]{oldMetaFieldId, metamodelId);\n\n            App.get(MetamodelFieldService.class).remove(metamodelId, new Integer[]{oldMetaFieldId});\n</code></pre>\n<p>I put the report just before the call of the method &quot;remove&quot; to make sure the variable oldMetaFieldId is not null, and it is not I checked the logs :</p>\n<pre><code>2023-06-20 15:12:21,776  INFO [main] FusionChampsFiches - Removing meta_field id [1007] from metamodel id 215\n</code></pre>\n<p>Here is the implementation of the &quot;remove&quot; method :</p>\n<pre><code>  public void remove(Integer metamodelId, Integer[] metaFieldIdList) {\n    for (Integer metaFieldId : metaFieldIdList) {\n      MetamodelField ex = new MetamodelField();\n      ex.setMetamodelId(metamodelId);\n      ex.setMetaFieldId(metaFieldId);\n      List&lt;MetamodelField&gt; entityList = getDao().findByExample(ex);\n\n      entityList.get(0);\n      remove(entityList.get(0));\n    }\n    MetaModelCache.getCache().clear(getApplicationSession());\n  }\n</code></pre>\n<p>I don't understand why i'm getting this error</p>\n<blockquote>\n<p>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\n0</p>\n</blockquote>\n"},{"tags":["java","spring","netty","project-reactor"],"owner":{"account_id":17859627,"reputation":51,"user_id":12973458,"display_name":"kluzamic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687267650,"creation_date":1687267650,"question_id":76515242,"body_markdown":"Hi I am using reactive elasticsearch client something like this:\r\n``` java\r\nreactiveClient.bulk(bulkRequest)\r\n.retryWhen(\r\n            Retry.backoff(\r\n                retryConfig.getMaxAttempts(),\r\n                retryConfig.getMinBackoff()\r\n            )\r\n                .jitter(retryConfig.getJitter())\r\n                .doBeforeRetry(retrySignal -&gt; log.warn(\r\n                    &quot;Failed to index. Retrying.&quot;,\r\n                    retrySignal.failure()\r\n                ))\r\n                .onRetryExhaustedThrow(\r\n                    (retryBackoffSpec, retrySignal) -&gt; {\r\n                      log.error(\r\n                          &quot;Failed to index {} times. Giving up.&quot;,\r\n                          retryBackoffSpec.maxAttempts,\r\n                          retrySignal.failure()\r\n                      );\r\n                      return retrySignal.failure();\r\n                    }\r\n                )\r\n        )\r\n        .onErrorResume(BulkRequestFailedException.class, ex -&gt; processError(ex, tasksToProcess))\r\n        .onErrorResume(Exception.class, ex -&gt; processError(ex, tasksToProcess));\r\n```\r\nEverything work fine most of the time logging warning like this:\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint  Request to POST http://esn01.app:9200/_bulk?timeout=1m [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4150)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\r\n\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\r\n\t\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n\t\tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\r\n\r\n```\r\nwith the mentioned log message from our code. But sometimes the error gets logged by `reactor.core.publisher.Operators` as &quot;Operator called default onErrorDropped&quot; with stacktrace like this:\r\n```\r\n\t\r\n\r\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint  Request to POST http://esn03.app:9200/_bulk?timeout=1m [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4150)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\r\n\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\r\n\t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\r\n\t\tat io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\r\n\t\tat io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\r\n\t\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n\t\tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\t\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\r\n```\r\nwith only difference being line `at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)`\r\nbut this error ignores all the error handlers.\r\n\r\nThis happens when there are lot of request timeouting.\r\n\r\nAny idea whats happening here and how to fix it?\r\n\r\nUsing org.springframework.boot:spring-boot-starter-webflux:2.4.5 that means io.projectreactor.netty:reactor-netty-core:1.0.6. Java 11. ","title":"Why is io.netty.handler.timeout.ReadTimeoutException sometimes not handled?","body":"<p>Hi I am using reactive elasticsearch client something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>reactiveClient.bulk(bulkRequest)\n.retryWhen(\n            Retry.backoff(\n                retryConfig.getMaxAttempts(),\n                retryConfig.getMinBackoff()\n            )\n                .jitter(retryConfig.getJitter())\n                .doBeforeRetry(retrySignal -&gt; log.warn(\n                    &quot;Failed to index. Retrying.&quot;,\n                    retrySignal.failure()\n                ))\n                .onRetryExhaustedThrow(\n                    (retryBackoffSpec, retrySignal) -&gt; {\n                      log.error(\n                          &quot;Failed to index {} times. Giving up.&quot;,\n                          retryBackoffSpec.maxAttempts,\n                          retrySignal.failure()\n                      );\n                      return retrySignal.failure();\n                    }\n                )\n        )\n        .onErrorResume(BulkRequestFailedException.class, ex -&gt; processError(ex, tasksToProcess))\n        .onErrorResume(Exception.class, ex -&gt; processError(ex, tasksToProcess));\n</code></pre>\n<p>Everything work fine most of the time logging warning like this:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint  Request to POST http://esn01.app:9200/_bulk?timeout=1m [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4150)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\n        at reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\n        at reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\n        at reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n        at io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\n        at io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\n        at io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\n        at io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\n\n</code></pre>\n<p>with the mentioned log message from our code. But sometimes the error gets logged by <code>reactor.core.publisher.Operators</code> as &quot;Operator called default onErrorDropped&quot; with stacktrace like this:</p>\n<pre><code>    \n\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint  Request to POST http://esn03.app:9200/_bulk?timeout=1m [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4150)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:358)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:647)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:214)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:462)\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:233)\n        at reactor.netty.channel.FluxReceive.onInboundError(FluxReceive.java:454)\n        at reactor.netty.channel.ChannelOperations.onInboundError(ChannelOperations.java:485)\n        at reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:127)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n        at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n        at io.netty.handler.timeout.ReadTimeoutHandler.readTimedOut(ReadTimeoutHandler.java:98)\n        at io.netty.handler.timeout.ReadTimeoutHandler.channelIdle(ReadTimeoutHandler.java:90)\n        at io.netty.handler.timeout.IdleStateHandler$ReaderIdleTimeoutTask.run(IdleStateHandler.java:503)\n        at io.netty.handler.timeout.IdleStateHandler$AbstractIdleTask.run(IdleStateHandler.java:475)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: io.netty.handler.timeout.ReadTimeoutException: null\n</code></pre>\n<p>with only difference being line <code>at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)</code>\nbut this error ignores all the error handlers.</p>\n<p>This happens when there are lot of request timeouting.</p>\n<p>Any idea whats happening here and how to fix it?</p>\n<p>Using org.springframework.boot:spring-boot-starter-webflux:2.4.5 that means io.projectreactor.netty:reactor-netty-core:1.0.6. Java 11.</p>\n"},{"tags":["java","spring-boot","docker","junit5","testcontainers"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1651789384,"post_id":72132352,"comment_id":127453650,"body_markdown":"You need to provide more information about the problem or your question is likely to be closed.","body":"You need to provide more information about the problem or your question is likely to be closed."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651916321,"post_id":72132352,"comment_id":127482104,"body_markdown":"I think you need to create a DockerHub account and ensure you&#39;re logged in.","body":"I think you need to create a DockerHub account and ensure you&#39;re logged in."},{"owner":{"account_id":19872398,"reputation":71,"user_id":14558215,"display_name":"Gopal"},"score":0,"creation_date":1651917777,"post_id":72132352,"comment_id":127482370,"body_markdown":"I have created dockerHub account and also logged in using cli and also using docker desktop.","body":"I have created dockerHub account and also logged in using cli and also using docker desktop."},{"owner":{"account_id":3469995,"reputation":108,"user_id":2904625,"display_name":"Ahmed Sorrour"},"score":2,"creation_date":1652187900,"post_id":72132352,"comment_id":127541745,"body_markdown":"I have the same problem happening with me now. Latest spring boot version, latest testcontainers (1.17.1), latest Docker desktop (Windows - 4.8.1).\nThat being said, it works fine in Azure pipeline, which is based off of Linux OS. But I can&#39;t run tests locally anymore except if I download Ryuk docker image manually `docker pull testcontainers/ryuk:0.3.3`\n\nI can see my credentials are loaded:\n`DEBUG o.t.utility.RegistryAuthLocator - Cached auth found: [AuthConfig{username=XXXXXXX, password=hidden non-blank value, auth=blank, email=null, registryAddress=index.docker.io, registryToken=blank}]`","body":"I have the same problem happening with me now. Latest spring boot version, latest testcontainers (1.17.1), latest Docker desktop (Windows - 4.8.1). That being said, it works fine in Azure pipeline, which is based off of Linux OS. But I can&#39;t run tests locally anymore except if I download Ryuk docker image manually <code>docker pull testcontainers&#47;ryuk:0.3.3</code>  I can see my credentials are loaded: <code>DEBUG o.t.utility.RegistryAuthLocator - Cached auth found: [AuthConfig{username=XXXXXXX, password=hidden non-blank value, auth=blank, email=null, registryAddress=index.docker.io, registryToken=blank}]</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1652544751,"post_id":72132352,"comment_id":127634217,"body_markdown":"@Gopal It&#39;s good that you found a solution, but please don&#39;t post it as an update to your question. Instead, post your solution in an answer, and also accept that answer. That approach is strongly encouraged here, because it is much more helpful for the community to have questions with accepted answers. I&#39;ll be happy to upvote your answer.","body":"@Gopal It&#39;s good that you found a solution, but please don&#39;t post it as an update to your question. Instead, post your solution in an answer, and also accept that answer. That approach is strongly encouraged here, because it is much more helpful for the community to have questions with accepted answers. I&#39;ll be happy to upvote your answer."}],"answers":[{"tags":[],"owner":{"account_id":19872398,"reputation":71,"user_id":14558215,"display_name":"Gopal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652695705,"creation_date":1652551403,"answer_id":72242766,"question_id":72132352,"body_markdown":" 1. Run the command `netcfg -d` in Command Prompt then restart your PC.\r\n   This worked for me\r\n \r\nReference  \r\n https://github.com/testcontainers/testcontainers-java/issues/3422\r\n","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<ol>\n<li>Run the command <code>netcfg -d</code> in Command Prompt then restart your PC.\nThis worked for me</li>\n</ol>\n<p>Reference<br />\n<a href=\"https://github.com/testcontainers/testcontainers-java/issues/3422\" rel=\"nofollow noreferrer\">https://github.com/testcontainers/testcontainers-java/issues/3422</a></p>\n"},{"tags":[],"owner":{"account_id":15252860,"reputation":51,"user_id":11005657,"display_name":"programmer Kazarin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664958022,"creation_date":1664958022,"answer_id":73957630,"question_id":72132352,"body_markdown":"This helped me:\r\n\r\n    $ docker logout\r\n    $ docker login --username your_username_here\r\n\r\nFound it here - https://forums.docker.com/t/unauthorized-incorrect-username-or-password/35677/4","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<p>This helped me:</p>\n<pre><code>$ docker logout\n$ docker login --username your_username_here\n</code></pre>\n<p>Found it here - <a href=\"https://forums.docker.com/t/unauthorized-incorrect-username-or-password/35677/4\" rel=\"nofollow noreferrer\">https://forums.docker.com/t/unauthorized-incorrect-username-or-password/35677/4</a></p>\n"},{"tags":[],"owner":{"account_id":27243858,"reputation":41,"user_id":20769529,"display_name":"Leonid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687267356,"creation_date":1687267356,"answer_id":76515204,"question_id":72132352,"body_markdown":"The fix that worked for me on an M1 Mac was:\r\n 1. remove `credsStore:desktop` from ~/.docker/config.json\r\n 2. run `docker login` in terminal","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<p>The fix that worked for me on an M1 Mac was:</p>\n<ol>\n<li>remove <code>credsStore:desktop</code> from ~/.docker/config.json</li>\n<li>run <code>docker login</code> in terminal</li>\n</ol>\n"}],"owner":{"account_id":19872398,"reputation":71,"user_id":14558215,"display_name":"Gopal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3941,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687267356,"creation_date":1651777199,"question_id":72132352,"body_markdown":"\r\nI have added testcontainer in spring boot app \r\n````java\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@SpringBootTest\r\n@Testcontainers\r\n@AutoConfigureMockMvc\r\nclass ProductServiceApplicationTests {\r\n\r\n\t@Container\r\n\tstatic MongoDBContainer mongoDBContainer = new MongoDBContainer(&quot;mongo:4.4.2&quot;);\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\t@Autowired\r\n\tprivate ObjectMapper objectMapper;\r\n\r\n\t@DynamicPropertySource\r\n\tstatic void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n\t\tdynamicPropertyRegistry.add(&quot;spring.data.mongodb.uri&quot;,mongoDBContainer::getReplicaSetUrl);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid shouldCreateProduct() throws Exception {\r\n\r\n\t\tProductRequest productRequest = getProductRequest();\r\n\t\tString productRequestString = objectMapper.writeValueAsString(productRequest);\r\n\t\tmockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/product&quot;)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.content(productRequestString)\r\n\t\t).andExpect(status().isCreated()) ;\r\n\t}\r\n\r\n\tprivate ProductRequest getProductRequest() {\r\n\t\treturn ProductRequest.builder()\r\n\t\t\t\t.name(&quot;Iphone 13&quot;)\r\n\t\t\t\t.description(&quot;Iphone 13&quot;)\r\n\t\t\t\t.price(BigDecimal.valueOf(1200))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\r\n}\r\n\r\n`````\r\n\r\n - I have installed docker desktop and logged it using docker desktop And then try using cli.\r\n\r\nWhen Running it \r\nGetting the below error\r\n\r\n\r\n \r\n\r\ncom.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot;}\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\r\n\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n[![Error message in the terminal][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/e6tjK.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"&quot;message&quot;:&quot;Head \\&quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0\\&quot;: unauthorized: incorrect username or password&quot; when run test","body":"<p>I have added testcontainer in spring boot app</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@SpringBootTest\n@Testcontainers\n@AutoConfigureMockMvc\nclass ProductServiceApplicationTests {\n\n    @Container\n    static MongoDBContainer mongoDBContainer = new MongoDBContainer(&quot;mongo:4.4.2&quot;);\n\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\n        dynamicPropertyRegistry.add(&quot;spring.data.mongodb.uri&quot;,mongoDBContainer::getReplicaSetUrl);\n    }\n\n    @Test\n    void shouldCreateProduct() throws Exception {\n\n        ProductRequest productRequest = getProductRequest();\n        String productRequestString = objectMapper.writeValueAsString(productRequest);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/product&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(productRequestString)\n        ).andExpect(status().isCreated()) ;\n    }\n\n    private ProductRequest getProductRequest() {\n        return ProductRequest.builder()\n                .name(&quot;Iphone 13&quot;)\n                .description(&quot;Iphone 13&quot;)\n                .price(BigDecimal.valueOf(1200))\n                .build();\n    }\n\n\n}\n\n</code></pre>\n<ul>\n<li>I have installed docker desktop and logged it using docker desktop And then try using cli.</li>\n</ul>\n<p>When Running it\nGetting the below error</p>\n<p>com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;Head &quot;https://registry-1.docker.io/v2/testcontainers/ryuk/manifests/0.3.0&quot;: unauthorized: incorrect username or password&quot;}\nat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.execute(DefaultInvocationBuilder.java:247)\nat org.testcontainers.shaded.com.github.dockerjava.core.DefaultInvocationBuilder.lambda$executeAndStream$1(DefaultInvocationBuilder.java:269)\nat java.lang.Thread.run(Thread.java:748)\n<a href=\"https://i.stack.imgur.com/e6tjK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6tjK.png\" alt=\"Error message in the terminal\" /></a></p>\n"},{"tags":["java","generics","solid-principles"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687260360,"post_id":76513932,"comment_id":134908748,"body_markdown":"It depends on what you want exactly. For example, is the log statement containing the field name important? That&#39;ll limit some options. You should make the question clear by specifying exactly what you need.","body":"It depends on what you want exactly. For example, is the log statement containing the field name important? That&#39;ll limit some options. You should make the question clear by specifying exactly what you need."},{"owner":{"account_id":4409066,"reputation":125,"user_id":3592541,"display_name":"ym_wp"},"score":0,"creation_date":1687263027,"post_id":76513932,"comment_id":134909323,"body_markdown":"@Jorn yes the log is important. I&#39;m expecting the same behavior, but without repeating the code. I&#39;m not sure it&#39;s even possible with my 2 requirements.","body":"@Jorn yes the log is important. I&#39;m expecting the same behavior, but without repeating the code. I&#39;m not sure it&#39;s even possible with my 2 requirements."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687259534,"post_id":76513984,"comment_id":134908557,"body_markdown":"What is `isNonNull`? Do you mean [`Objects.nonNull`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object))? Personally, I would use `i -&gt; i.getDate1() != null &amp;&amp; i.getDate2() != null &amp;&amp; i.getDate3() != null)`, which is shorter and IMHO easier to read, and reserve `Objects.nonNull` only for use as `filter(Objects::nonNull)`","body":"What is <code>isNonNull</code>? Do you mean <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects.nonNull</code></a>? Personally, I would use <code>i -&gt; i.getDate1() != null &amp;&amp; i.getDate2() != null &amp;&amp; i.getDate3() != null)</code>, which is shorter and IMHO easier to read, and reserve <code>Objects.nonNull</code> only for use as <code>filter(Objects::nonNull)</code>"},{"owner":{"account_id":4409066,"reputation":125,"user_id":3592541,"display_name":"ym_wp"},"score":0,"creation_date":1687260227,"post_id":76513984,"comment_id":134908718,"body_markdown":"But as I said, moving those fields to the parent class is not doable. The question is less about best practice, and more about java, technical. The code is modified for the question so it&#39;s less relevant","body":"But as I said, moving those fields to the parent class is not doable. The question is less about best practice, and more about java, technical. The code is modified for the question so it&#39;s less relevant"},{"owner":{"account_id":15291490,"reputation":447,"user_id":11032869,"display_name":"Razvan Fulea"},"score":0,"creation_date":1687267293,"post_id":76513984,"comment_id":134910423,"body_markdown":"Edited my answer","body":"Edited my answer"}],"tags":[],"owner":{"account_id":15291490,"reputation":447,"user_id":11032869,"display_name":"Razvan Fulea"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687267275,"creation_date":1687258501,"answer_id":76513984,"question_id":76513932,"body_markdown":"First, you should definitely moved shared properties into the Parent class.\r\n\r\nNext, I see what you&#39;re trying to achieve is getting a filtered list of items where all properties involved are non-null. You can achieve this with Java streams:\r\n```\r\npublic static List&lt;GeneralItem&gt; filterProcessableItems(List&lt;GeneralItem&gt; items) {\r\n  return items.stream()\r\n      .filter(i -&gt; isNonNull(i.getDate1()) &amp;&amp; isNonNull(i.getDate2()) &amp;&amp; isNonNull(i.getPrice1()))\r\n      .collect(Collectors.toList());\r\n}\r\n```\r\n\r\n**EDIT**\r\n\r\nIf changing the parent class is not possible (maybe it&#39;s a 3rd party dependency that you don&#39;t have access to) you have the option to create an intermediary class with those shared properties. Both TypeA and TypeB should inherit that class\r\n```\r\npublic class MoreSpecificItem extends GeneralItem  {\r\n    private LocalDate date1;\r\n    private LocalDate date2;\r\n    private int price1;\r\n    private int price2;\r\n}\r\n\r\npublic class typeAItem extends MoreSpecificItem {}\r\npublic class typeBItem extends MoreSpecificItem {}\r\n```\r\n\r\nThen for the method:\r\n```\r\npublic static List&lt;MoreSpecificItem&gt; filterProcessableItems(List&lt;MoreSpecificItem&gt; items) { /*...*/}`\r\n```\r\n\r\nIf the two classes don&#39;t inherit a common property/method you won&#39;t be able to treat them as the same (unless you&#39;re using reflection, which I wouldn&#39;t recommend)","title":"How to avoid repeating yourself when using generics or advanced java features","body":"<p>First, you should definitely moved shared properties into the Parent class.</p>\n<p>Next, I see what you're trying to achieve is getting a filtered list of items where all properties involved are non-null. You can achieve this with Java streams:</p>\n<pre><code>public static List&lt;GeneralItem&gt; filterProcessableItems(List&lt;GeneralItem&gt; items) {\n  return items.stream()\n      .filter(i -&gt; isNonNull(i.getDate1()) &amp;&amp; isNonNull(i.getDate2()) &amp;&amp; isNonNull(i.getPrice1()))\n      .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>If changing the parent class is not possible (maybe it's a 3rd party dependency that you don't have access to) you have the option to create an intermediary class with those shared properties. Both TypeA and TypeB should inherit that class</p>\n<pre><code>public class MoreSpecificItem extends GeneralItem  {\n    private LocalDate date1;\n    private LocalDate date2;\n    private int price1;\n    private int price2;\n}\n\npublic class typeAItem extends MoreSpecificItem {}\npublic class typeBItem extends MoreSpecificItem {}\n</code></pre>\n<p>Then for the method:</p>\n<pre><code>public static List&lt;MoreSpecificItem&gt; filterProcessableItems(List&lt;MoreSpecificItem&gt; items) { /*...*/}`\n</code></pre>\n<p>If the two classes don't inherit a common property/method you won't be able to treat them as the same (unless you're using reflection, which I wouldn't recommend)</p>\n"}],"owner":{"account_id":4409066,"reputation":125,"user_id":3592541,"display_name":"ym_wp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687267275,"creation_date":1687258145,"question_id":76513932,"body_markdown":"There are multiple methods that do exactly the same, but their parameter is different but have few similar fields.\r\nThe method acts only on those similar fields.\r\n\r\n    public static List&lt;TypeAItem&gt; filterProcessableItems(List&lt;TypeAItem&gt; items) {\r\n    \r\n        return items.stream().map(item -&gt; {\r\n    \r\n                    if (isNull(item.getDate1())) {\r\n    \r\n                        log.error(&quot;Date1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getDate2())) {\r\n    \r\n                        log.error(&quot;Date2 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getPrice1())) {\r\n    \r\n                        log.error(&quot;price1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n\r\n                    return item;                }).filter(Objects::nonNull).toList();  \r\n    }\r\n    \r\n     \r\n    \r\n    public static List&lt;TypeBItem&gt; filterProcessableItems(List&lt;TypeBItem&gt; items) {\r\n    \r\n        return items.stream().map(item -&gt; {\r\n    \r\n                    if (isNull(item.getDate1())) {\r\n    \r\n                        log.error(&quot;Date1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getDate2())) {\r\n    \r\n                        log.error(&quot;Date2 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n    \r\n                    if (isNull(item.getPrice1())) {\r\n    \r\n                        log.error(&quot;price1 is null {}&quot;, item);\r\n    \r\n                        return null;\r\n    \r\n                    }\r\n                    return item;}).filter(Objects::nonNull)\r\n                .toList();\r\n    }\r\n     \r\n    class typeAItem extends GeneralItem {\r\n        private LocalDate date1;\r\n        private LocalDate date2;\r\n        private int price1;\r\n        private int price2;\r\n        // many more fields\r\n    }\r\n    \r\n    class typeBItem extends GeneralItem {\r\n        private LocalDate date1;\r\n        private LocalDate date2;\r\n        private int price1;\r\n        private int price2;\r\n        // many more fields\r\n    }\r\n\r\nHow is ot possible to implement such a functionality - only one method that handles this logic.\r\n\r\nThere are 2 solutions that should not be used: \r\n1. Move the fields to the parent class GeneralItem\r\n2. Multiple if blocks that checks instanceof and casts.\r\n\r\nAre there advanced java features/ techniques that allow to do that?","title":"How to avoid repeating yourself when using generics or advanced java features","body":"<p>There are multiple methods that do exactly the same, but their parameter is different but have few similar fields.\nThe method acts only on those similar fields.</p>\n<pre><code>public static List&lt;TypeAItem&gt; filterProcessableItems(List&lt;TypeAItem&gt; items) {\n\n    return items.stream().map(item -&gt; {\n\n                if (isNull(item.getDate1())) {\n\n                    log.error(&quot;Date1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getDate2())) {\n\n                    log.error(&quot;Date2 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getPrice1())) {\n\n                    log.error(&quot;price1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                return item;                }).filter(Objects::nonNull).toList();  \n}\n\n \n\npublic static List&lt;TypeBItem&gt; filterProcessableItems(List&lt;TypeBItem&gt; items) {\n\n    return items.stream().map(item -&gt; {\n\n                if (isNull(item.getDate1())) {\n\n                    log.error(&quot;Date1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getDate2())) {\n\n                    log.error(&quot;Date2 is null {}&quot;, item);\n\n                    return null;\n\n                }\n\n                if (isNull(item.getPrice1())) {\n\n                    log.error(&quot;price1 is null {}&quot;, item);\n\n                    return null;\n\n                }\n                return item;}).filter(Objects::nonNull)\n            .toList();\n}\n \nclass typeAItem extends GeneralItem {\n    private LocalDate date1;\n    private LocalDate date2;\n    private int price1;\n    private int price2;\n    // many more fields\n}\n\nclass typeBItem extends GeneralItem {\n    private LocalDate date1;\n    private LocalDate date2;\n    private int price1;\n    private int price2;\n    // many more fields\n}\n</code></pre>\n<p>How is ot possible to implement such a functionality - only one method that handles this logic.</p>\n<p>There are 2 solutions that should not be used:</p>\n<ol>\n<li>Move the fields to the parent class GeneralItem</li>\n<li>Multiple if blocks that checks instanceof and casts.</li>\n</ol>\n<p>Are there advanced java features/ techniques that allow to do that?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661074363,"post_id":73433097,"comment_id":129680560,"body_markdown":"Are you upgrading from 2022-03 to 2022-06 or directly installing 2022-06?","body":"Are you upgrading from 2022-03 to 2022-06 or directly installing 2022-06?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1661075812,"post_id":73433097,"comment_id":129680875,"body_markdown":"I don&#39;t know where that Oracle class comes from but it is trying to do something that the Java 17 included in most Eclipse 2022-06 downloads will not allow. Maybe using Java 11 would work.","body":"I don&#39;t know where that Oracle class comes from but it is trying to do something that the Java 17 included in most Eclipse 2022-06 downloads will not allow. Maybe using Java 11 would work."},{"owner":{"account_id":1384755,"reputation":836,"user_id":1317015,"display_name":"H&#252;seyin Z."},"score":0,"creation_date":1674103549,"post_id":73433097,"comment_id":132644793,"body_markdown":"Adding oracle web logic tools from marketplace creates this same error for me too. Uninstall will restore previous state but than i cant use the server.","body":"Adding oracle web logic tools from marketplace creates this same error for me too. Uninstall will restore previous state but than i cant use the server."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1674780233,"post_id":73433097,"comment_id":132791868,"body_markdown":"I would guess that the driver is to old for handling Java modules (introduced JDK 9).  Up to JDK 11 or something that would work because Java modules had some backward compatibility hacks, but JDK 17 have rightfully so removed that hack.  I might miss some details though.","body":"I would guess that the driver is to old for handling Java modules (introduced JDK 9).  Up to JDK 11 or something that would work because Java modules had some backward compatibility hacks, but JDK 17 have rightfully so removed that hack.  I might miss some details though."}],"answers":[{"comments":[{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1674780359,"post_id":75221631,"comment_id":132791885,"body_markdown":"Might need to install the old jar that doesn&#39;t support module with a newer driver that supports Java modules.  Yes, modules are good thing, but breaks code that doesn&#39;t use modules, which all Java programs and libraries since JDK 9 should use.","body":"Might need to install the old jar that doesn&#39;t support module with a newer driver that supports Java modules.  Yes, modules are good thing, but breaks code that doesn&#39;t use modules, which all Java programs and libraries since JDK 9 should use."}],"tags":[],"owner":{"account_id":6566530,"reputation":11,"user_id":14734784,"display_name":"Rodrigo Bittencourt de Lima"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674826829,"creation_date":1674564018,"answer_id":75221631,"question_id":73433097,"body_markdown":"Using **Spring Tool Suite 4.14.1.RELEASE** (based on *Eclipse 2022-03*), the problem started when installing the **oracle-database-tools** plugin. After uninstalling it, the error no longer occurred. If you have an oracle plugin installed that you no longer need, maybe uninstalling it can help.","title":"Eclipse 2022-06 for Java EE: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak","body":"<p>Using <strong>Spring Tool Suite 4.14.1.RELEASE</strong> (based on <em>Eclipse 2022-03</em>), the problem started when installing the <strong>oracle-database-tools</strong> plugin. After uninstalling it, the error no longer occurred. If you have an oracle plugin installed that you no longer need, maybe uninstalling it can help.</p>\n"},{"tags":[],"owner":{"account_id":28782250,"reputation":1,"user_id":22043608,"display_name":"Ankita Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687267263,"creation_date":1686950089,"answer_id":76493605,"question_id":73433097,"body_markdown":"I got same issue using Java 17 on eclipse 03-2023. While setting up JBOSS EAP 8.0 got same screen. I resolved by restarting and creating new workspace!","title":"Eclipse 2022-06 for Java EE: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak","body":"<p>I got same issue using Java 17 on eclipse 03-2023. While setting up JBOSS EAP 8.0 got same screen. I resolved by restarting and creating new workspace!</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687267263,"creation_date":1661073787,"question_id":73433097,"body_markdown":"Error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nAn internal error occurred during: &quot;Updating classloader&quot;.\r\nsuperclass access check failed: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak (in unnamed module @0x2704c8cb) cannot access class sun.net.www.protocol.jar.Handler (in module java.base) because module java.base does not export sun.net.www.protocol.jar to unnamed module @0x2704c8cb\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/37FlY.png","title":"Eclipse 2022-06 for Java EE: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak","body":"<p>Error</p>\n<p><a href=\"https://i.stack.imgur.com/37FlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/37FlY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>An internal error occurred during: &quot;Updating classloader&quot;.\nsuperclass access check failed: class oracle.eclipse.tools.common.util.classloader.jarnocache.JarProtocolHandlerWithoutLeak (in unnamed module @0x2704c8cb) cannot access class sun.net.www.protocol.jar.Handler (in module java.base) because module java.base does not export sun.net.www.protocol.jar to unnamed module @0x2704c8cb\n</code></pre>\n"},{"tags":["java","keycloak"],"owner":{"account_id":16624357,"reputation":215,"user_id":12013839,"display_name":"Ali Raghebi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687267028,"creation_date":1687267028,"question_id":76515153,"body_markdown":"I&#39;ve created an event listener plugin and installed on Keycloak. I&#39;m listening to `INTROSPECT_TOKEN` events and they are useless because there is not any information from user or session. I&#39;m trying to get `userId` or `sessionId` but it returns `null`.\r\n\r\n    @Override\r\n    public void onEvent(Event event) {\r\n        LOGGER.info(&quot;EventType: &quot; + event.getType());\r\n        LOGGER.info(&quot;UserID: &quot; + event.getUserId());\r\n        LOGGER.info(&quot;SessionID: &quot; + event.getSessionId());\r\n    }","title":"Keycloak INTROSPECT_TOKEN event sessionId is null","body":"<p>I've created an event listener plugin and installed on Keycloak. I'm listening to <code>INTROSPECT_TOKEN</code> events and they are useless because there is not any information from user or session. I'm trying to get <code>userId</code> or <code>sessionId</code> but it returns <code>null</code>.</p>\n<pre><code>@Override\npublic void onEvent(Event event) {\n    LOGGER.info(&quot;EventType: &quot; + event.getType());\n    LOGGER.info(&quot;UserID: &quot; + event.getUserId());\n    LOGGER.info(&quot;SessionID: &quot; + event.getSessionId());\n}\n</code></pre>\n"},{"tags":["java","asynchronous","nio","netty4"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1687267881,"post_id":76515108,"comment_id":134910597,"body_markdown":"In Netty, the act of opening an AsynchronousFileChannel itself is a non-blocking operation. The AsynchronousFileChannel#open() method returns a Future that represents the result of the open operation. You can use this Future to perform further operations asynchronously, such as reading or writing data from the file.","body":"In Netty, the act of opening an AsynchronousFileChannel itself is a non-blocking operation. The AsynchronousFileChannel#open() method returns a Future that represents the result of the open operation. You can use this Future to perform further operations asynchronously, such as reading or writing data from the file."}],"owner":{"account_id":3900416,"reputation":23,"user_id":3228402,"display_name":"Gregg Saffell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687266816,"creation_date":1687266816,"question_id":76515108,"body_markdown":"I need to open an async file channel in a Netty handler. Do I need to do that on a background thread? \r\n\r\nIt seems logical that AsynchronousFileChannel&#39;s open() method would be a blocking operation but I am unable to find any confirmation. \r\n\r\nI have googled this question extensively and tried to find the source but I think the answer is deep in some native code that is not widely available.\r\n\r\nThanks","title":"In Java, is the AsynchronousFileChannel open() method a &quot;blocking&quot; operation?","body":"<p>I need to open an async file channel in a Netty handler. Do I need to do that on a background thread?</p>\n<p>It seems logical that AsynchronousFileChannel's open() method would be a blocking operation but I am unable to find any confirmation.</p>\n<p>I have googled this question extensively and tried to find the source but I think the answer is deep in some native code that is not widely available.</p>\n<p>Thanks</p>\n"},{"tags":["java","for-loop","println"],"comments":[{"owner":{"account_id":19983113,"reputation":91,"user_id":14645792,"display_name":"Supreet T"},"score":1,"creation_date":1687106072,"post_id":76501520,"comment_id":134887385,"body_markdown":"Check the starting and ending points of the loop.\nstring.length() is 4, so j starts from 3, and the condition to run is for it to be greater than 4/2+1=3. Since 3 is not greater than 3, it doesn&#39;t run a single iteration.","body":"Check the starting and ending points of the loop. string.length() is 4, so j starts from 3, and the condition to run is for it to be greater than 4/2+1=3. Since 3 is not greater than 3, it doesn&#39;t run a single iteration."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687106797,"post_id":76501520,"comment_id":134887468,"body_markdown":"I&#39;ve the *feeling* there must be an easier way to write the condition for that loop, maybe just comparing `i` and `j`","body":"I&#39;ve the <i>feeling</i> there must be an easier way to write the condition for that loop, maybe just comparing <code>i</code> and <code>j</code>"}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687107091,"post_id":76501581,"comment_id":134887492,"body_markdown":"float operations and `ceil` is kind of an *overkill* here - just add one and then divide by 2 (all integers) ((assuming posed condition matches problem))","body":"float operations and <code>ceil</code> is kind of an <i>overkill</i> here - just add one and then divide by 2 (all integers) ((assuming posed condition matches problem))"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1687107695,"post_id":76501581,"comment_id":134887546,"body_markdown":"[D&#233;j&#224; vu](https://stackoverflow.com/questions/76501520/java-print-statement-in-for-loop-not-printing-anything#comment134887468_76501520) .... and you probably want `i &lt;= j` to get posted output (last line `c c`) || BTW `string[i]` will not work with Java `String`","body":"<a href=\"https://stackoverflow.com/questions/76501520/java-print-statement-in-for-loop-not-printing-anything#comment134887468_76501520\">D&#233;j&#224; vu</a> .... and you probably want <code>i &lt;= j</code> to get posted output (last line <code>c c</code>) || BTW <code>string[i]</code> will not work with Java <code>String</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687108050,"post_id":76501581,"comment_id":134887575,"body_markdown":"&quot;*Optionally you can also simplify the .charAt(x) to be [x]*&quot; - not with Java, unless you do `char[] string = &quot;abcd&quot;.toCharArray();` or similar :-(","body":"&quot;<i>Optionally you can also simplify the .charAt(x) to be [x]</i>&quot; - not with Java, unless you do <code>char[] string = &quot;abcd&quot;.toCharArray();</code> or similar :-("}],"tags":[],"owner":{"account_id":19983113,"reputation":91,"user_id":14645792,"display_name":"Supreet T"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687266739,"creation_date":1687106519,"answer_id":76501581,"question_id":76501520,"body_markdown":"Notice that j starts at 3 and the condition checks while j is greater than 3 in this case, so the loop won&#39;t run.\r\n\r\nAlso notice that the two conditions can be simplified to ```i &lt;= j```.\r\n\r\n```\r\nabcd:\r\na d\r\nb c\r\n\r\nabcde:\r\na e\r\nb d\r\nc c\r\n```\r\n\r\n```java\r\npublic class JavaOOP {\r\n    public static void main(String[] args) {\r\n        String string = &quot;abcd&quot;;\r\n\r\n        for(int i=0, j=string.length() - 1; i &lt;= j; i++,j--) {\r\n            System.out.println(string.charAt(i) + &quot; &quot; + string.charAt(j));\r\n        }\r\n    }\r\n}\r\n```","title":"Java - Print statement in for loop not printing anything","body":"<p>Notice that j starts at 3 and the condition checks while j is greater than 3 in this case, so the loop won't run.</p>\n<p>Also notice that the two conditions can be simplified to <code>i &lt;= j</code>.</p>\n<pre><code>abcd:\na d\nb c\n\nabcde:\na e\nb d\nc c\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaOOP {\n    public static void main(String[] args) {\n        String string = &quot;abcd&quot;;\n\n        for(int i=0, j=string.length() - 1; i &lt;= j; i++,j--) {\n            System.out.println(string.charAt(i) + &quot; &quot; + string.charAt(j));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687109260,"creation_date":1687108915,"answer_id":76501750,"question_id":76501520,"body_markdown":"You don&#39;t even need two variables:\r\n\r\n    String input = /* some input */;\r\n    int len = input.length();\r\n    for (int i = 0; i &lt; len / 2; i++) {\r\n        System.out.println(input.charAt(i) + &quot; &quot; + input.charAt(len - 1 - i));\r\n    }\r\n    if (len % 2 == 1) { //account for middle character in odd-length string\r\n        System.out.println(&quot; &quot; + input.charAt(len / 2)); //spaces it &quot;in the middle&quot;\r\n    }\r\n\r\nIn essence, you&#39;re using the symmetry of the `String`. You need characters the same distance from the ends of the strings (at indices `0` and `input.length() - 1`). So `i` is your distance from the ends, calculated as and simplified from `0 + i` and `input.length() - 1 - i`.\r\n\r\nThis results in (without repeating the characters in an odd-length string):\r\n\r\n    Input: abcde\r\n    a e\r\n    b d\r\n     c\r\n\r\n    Input: abcdef\r\n    a f\r\n    b e\r\n    c d\r\n","title":"Java - Print statement in for loop not printing anything","body":"<p>You don't even need two variables:</p>\n<pre><code>String input = /* some input */;\nint len = input.length();\nfor (int i = 0; i &lt; len / 2; i++) {\n    System.out.println(input.charAt(i) + &quot; &quot; + input.charAt(len - 1 - i));\n}\nif (len % 2 == 1) { //account for middle character in odd-length string\n    System.out.println(&quot; &quot; + input.charAt(len / 2)); //spaces it &quot;in the middle&quot;\n}\n</code></pre>\n<p>In essence, you're using the symmetry of the <code>String</code>. You need characters the same distance from the ends of the strings (at indices <code>0</code> and <code>input.length() - 1</code>). So <code>i</code> is your distance from the ends, calculated as and simplified from <code>0 + i</code> and <code>input.length() - 1 - i</code>.</p>\n<p>This results in (without repeating the characters in an odd-length string):</p>\n<pre><code>Input: abcde\na e\nb d\n c\n\nInput: abcdef\na f\nb e\nc d\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687117801,"creation_date":1687117439,"answer_id":76502277,"question_id":76501520,"body_markdown":"No need for the loop.\r\n\r\n&gt; _&quot;... the print statement doesn&#39;t show anything, why?&quot;_\r\n\r\nThis is because the second conditional statement, of the for-loop conditional statement, is never met, thus the loop never iterates.\r\n\r\n```java\r\nj&gt;string.length()/2+1\r\n```\r\n\r\nYou can capture the last value using the _[String#length](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#length())_ value.\r\n\r\nKeep in mind, since the characters are referenced using a 0-based index, the last character is going to be the length, minus 1.\r\n\r\n```java\r\nString string = &quot;abca&quot;;\r\nchar first = string.charAt(0);\r\nchar last = string.charAt(string.length() - 1);\r\n\r\nSystem.out.println(first + &quot; &quot; + last);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\na a\r\n```\r\n\r\nYou _could_ use a loop to capture the first and last character, recursively.\r\n\r\n```java\r\nvoid traverse(String string) {\r\n    if (string.length() &lt;= 1) return;\r\n    System.out.println(string.charAt(0) + &quot; &quot; + string.charAt(string.length() - 1));\r\n    traverse(string.substring(1, string.length() - 1));\r\n}\r\n```\r\n\r\nExample output, when _string_ is, _&quot;stack overflow&quot;_.\r\n\r\n```none\r\ns w\r\nt o\r\na l\r\nc f\r\nk r\r\n  e\r\no v\r\n```","title":"Java - Print statement in for loop not printing anything","body":"<p>No need for the loop.</p>\n<blockquote>\n<p><em>&quot;... the print statement doesn't show anything, why?&quot;</em></p>\n</blockquote>\n<p>This is because the second conditional statement, of the for-loop conditional statement, is never met, thus the loop never iterates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>j&gt;string.length()/2+1\n</code></pre>\n<p>You can capture the last value using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#length()\" rel=\"nofollow noreferrer\">String#length</a></em> value.</p>\n<p>Keep in mind, since the characters are referenced using a 0-based index, the last character is going to be the length, minus 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;abca&quot;;\nchar first = string.charAt(0);\nchar last = string.charAt(string.length() - 1);\n\nSystem.out.println(first + &quot; &quot; + last);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>a a\n</code></pre>\n<p>You <em>could</em> use a loop to capture the first and last character, recursively.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void traverse(String string) {\n    if (string.length() &lt;= 1) return;\n    System.out.println(string.charAt(0) + &quot; &quot; + string.charAt(string.length() - 1));\n    traverse(string.substring(1, string.length() - 1));\n}\n</code></pre>\n<p>Example output, when <em>string</em> is, <em>&quot;stack overflow&quot;</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>s w\nt o\na l\nc f\nk r\n  e\no v\n</code></pre>\n"}],"owner":{"account_id":24417630,"reputation":190,"user_id":18344311,"display_name":"aasem shoshari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76502277,"answer_count":3,"score":1,"last_activity_date":1687266739,"creation_date":1687105623,"question_id":76501520,"body_markdown":"I wrote simple for loop to print the first character from the beginning of the string then first character from the end.. etc, but the print statement doesn&#39;t show anything, why?\r\n```\r\npublic class JavaOOP {\r\n\r\n    public static void main(String args[]){\r\n\r\n        String string = &quot;abca&quot;;\r\n\r\n        for(int i=0,j=string.length()-1;i&lt;string.length()/2+1 &amp;&amp; j&gt;string.length()/2+1;i++,j--){\r\n            System.out.println(string.charAt(i)+ &quot; &quot; + string.charAt(j));\r\n        }\r\n  \r\n    }\r\n}\r\n```","title":"Java - Print statement in for loop not printing anything","body":"<p>I wrote simple for loop to print the first character from the beginning of the string then first character from the end.. etc, but the print statement doesn't show anything, why?</p>\n<pre><code>public class JavaOOP {\n\n    public static void main(String args[]){\n\n        String string = &quot;abca&quot;;\n\n        for(int i=0,j=string.length()-1;i&lt;string.length()/2+1 &amp;&amp; j&gt;string.length()/2+1;i++,j--){\n            System.out.println(string.charAt(i)+ &quot; &quot; + string.charAt(j));\n        }\n  \n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","stream","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":15056014,"reputation":21,"user_id":10866247,"display_name":"Krzysztof azowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687266576,"creation_date":1687266576,"answer_id":76515074,"question_id":76483302,"body_markdown":"Since most operations are timestamp based, usually it is enough to:\r\n1. inputTopic.advanceTime([Duration needed for message to pass through all windows/suppressions])\r\n2. inputTopic.pipeInput(&quot;dummyMessage&quot;, List.of(...))\r\n\r\nAfter this you should be able to read outputTopic.\r\n\r\nAlternatively, you can use inputTopic.pipeInput(&quot;messaageKey&quot;, value, timestamp) and tweak these timestamps. And then send dummy message with appriopriate future timestamp.","title":"How I receive the last windowed Kafka message in Session TimeWindow with aggregation + suppress?","body":"<p>Since most operations are timestamp based, usually it is enough to:</p>\n<ol>\n<li>inputTopic.advanceTime([Duration needed for message to pass through all windows/suppressions])</li>\n<li>inputTopic.pipeInput(&quot;dummyMessage&quot;, List.of(...))</li>\n</ol>\n<p>After this you should be able to read outputTopic.</p>\n<p>Alternatively, you can use inputTopic.pipeInput(&quot;messaageKey&quot;, value, timestamp) and tweak these timestamps. And then send dummy message with appriopriate future timestamp.</p>\n"}],"owner":{"account_id":6210210,"reputation":36,"user_id":4836700,"display_name":"Adri&#225;n Polo Alcaide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687266576,"creation_date":1686843314,"question_id":76483302,"body_markdown":"Like I say in the title, I want to receive the last windowed message. At the moment, I am doing it by using the suppress method, but first of all, a little description.\r\n\r\nI have a producer that sends to the Kafka Streams a list of Integers that needs to be added for a given time. For that, I am using a SessionTimeWindow that I want to keep aggregating until we receive the last message. After the window is closed, I want to receive the last count value. \r\nThis is the topology:\r\n\r\n```java\r\nStreamsBuilder builder = new StreamsBuilder();\r\n\r\nbuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new Serdes.ListSerde&lt;Integer&gt;()))\r\n  .flatMapValues((value) -&gt; value)\r\n  .groupByKey(Grouped.with(Serdes.String(), Serdes.Integer()))\r\n  .windowedBy(SessionWindows.ofInactivityGapWithNoGrace(Duration.ofSeconds(10)))\r\n  .aggregate(\r\n    ()-&gt; 0,\r\n    ((key, value, aggregate) -&gt; aggregate + value),\r\n    ((aggKey, aggOne, aggTwo) -&gt; aggOne + aggTwo),\r\n    Materialized.with(Serdes.String(), Serdes.Integer()))\r\n  .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded()))\r\n  .toStream()\r\n  .map((key, value) -&gt; new KeyValue&lt;String, Integer&gt;(key.key(), value))\r\n  .to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Integer()));\r\n\r\nTopology topology = builder.build();\r\n```\r\n\r\n\r\n\r\n\r\nI tried to run the topology with a local kafka server or using the TopologyTestDriver to send some messages. Still, I always got the same result, any message in the output topic. \r\n\r\nThese are my stream configs for the TestTopologyDriver:\r\n\r\n```java\r\nProperties properties = new Properties();\r\nproperties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app&quot;);        \r\nproperties.put(StreamsConfig.TOPOLOGY_OPTIMIZATION_CONFIG, StreamsConfig.OPTIMIZE);       \r\nproperties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;test&quot;);       \r\nproperties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 0);\r\n```\r\nand the test definition:\r\n\r\n```java\r\n\r\nTopologyTestDriver topologyTestDriver = new TopologyTestDriver(topology, properties, Instant.now());\r\n\r\nTestInputTopic&lt;String, List&lt;Integer&gt;&gt; inputTopic = topologyTestDriver.createInputTopic(&quot;input_topic&quot;, new StringSerializer(), new Serdes.ListSerde&lt;Integer&gt;().serializer());\r\nTestOutputTopic&lt;String, Integer&gt; outputTopic = topologyTestDriver.createOutputTopic(&quot;output_topic&quot;, new StringDeserializer(), new IntegerDeserializer());\r\n\r\ninputTopic.pipeInput(&quot;1&quot;, List.of(1,2,3));\r\ninputTopic.pipeInput(&quot;1&quot;, List.of(1));\r\nList&lt;TestRecord&lt;String, Integer&gt;&gt; outputList = outputTopic.readRecordsToList();\r\n\r\nassertEquals(1, outputList.size());\r\nassertEquals(7, outputList.get(0).value());\r\n```\r\n\r\nUsing the TestTopologyDriver, I tried a lot of cases: \r\n\r\n* Run the TopologyTestDriver in another thread and sleep the main thread without any result.\r\n* Send the records with a Timestamp.\r\n* Use a timestamp extractor.\r\n* Call the `TopologyTestDriver.advanceWallClockTime();`\r\n\r\nIn all the cases the output is an empty list. When I used a local kafka server I didn&#39;t get any messsage (as same of the test)\r\n\r\nWhat I am missing? ","title":"How I receive the last windowed Kafka message in Session TimeWindow with aggregation + suppress?","body":"<p>Like I say in the title, I want to receive the last windowed message. At the moment, I am doing it by using the suppress method, but first of all, a little description.</p>\n<p>I have a producer that sends to the Kafka Streams a list of Integers that needs to be added for a given time. For that, I am using a SessionTimeWindow that I want to keep aggregating until we receive the last message. After the window is closed, I want to receive the last count value.\nThis is the topology:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamsBuilder builder = new StreamsBuilder();\n\nbuilder.stream(&quot;input_topic&quot;, Consumed.with(Serdes.String(), new Serdes.ListSerde&lt;Integer&gt;()))\n  .flatMapValues((value) -&gt; value)\n  .groupByKey(Grouped.with(Serdes.String(), Serdes.Integer()))\n  .windowedBy(SessionWindows.ofInactivityGapWithNoGrace(Duration.ofSeconds(10)))\n  .aggregate(\n    ()-&gt; 0,\n    ((key, value, aggregate) -&gt; aggregate + value),\n    ((aggKey, aggOne, aggTwo) -&gt; aggOne + aggTwo),\n    Materialized.with(Serdes.String(), Serdes.Integer()))\n  .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded()))\n  .toStream()\n  .map((key, value) -&gt; new KeyValue&lt;String, Integer&gt;(key.key(), value))\n  .to(&quot;output_topic&quot;, Produced.with(Serdes.String(), Serdes.Integer()));\n\nTopology topology = builder.build();\n</code></pre>\n<p>I tried to run the topology with a local kafka server or using the TopologyTestDriver to send some messages. Still, I always got the same result, any message in the output topic.</p>\n<p>These are my stream configs for the TestTopologyDriver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties properties = new Properties();\nproperties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app&quot;);        \nproperties.put(StreamsConfig.TOPOLOGY_OPTIMIZATION_CONFIG, StreamsConfig.OPTIMIZE);       \nproperties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;test&quot;);       \nproperties.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 0);\n</code></pre>\n<p>and the test definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nTopologyTestDriver topologyTestDriver = new TopologyTestDriver(topology, properties, Instant.now());\n\nTestInputTopic&lt;String, List&lt;Integer&gt;&gt; inputTopic = topologyTestDriver.createInputTopic(&quot;input_topic&quot;, new StringSerializer(), new Serdes.ListSerde&lt;Integer&gt;().serializer());\nTestOutputTopic&lt;String, Integer&gt; outputTopic = topologyTestDriver.createOutputTopic(&quot;output_topic&quot;, new StringDeserializer(), new IntegerDeserializer());\n\ninputTopic.pipeInput(&quot;1&quot;, List.of(1,2,3));\ninputTopic.pipeInput(&quot;1&quot;, List.of(1));\nList&lt;TestRecord&lt;String, Integer&gt;&gt; outputList = outputTopic.readRecordsToList();\n\nassertEquals(1, outputList.size());\nassertEquals(7, outputList.get(0).value());\n</code></pre>\n<p>Using the TestTopologyDriver, I tried a lot of cases:</p>\n<ul>\n<li>Run the TopologyTestDriver in another thread and sleep the main thread without any result.</li>\n<li>Send the records with a Timestamp.</li>\n<li>Use a timestamp extractor.</li>\n<li>Call the <code>TopologyTestDriver.advanceWallClockTime();</code></li>\n</ul>\n<p>In all the cases the output is an empty list. When I used a local kafka server I didn't get any messsage (as same of the test)</p>\n<p>What I am missing?</p>\n"},{"tags":["java","android","video","exoplayer2.x"],"comments":[{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1687252021,"post_id":76486944,"comment_id":134906874,"body_markdown":"Do all the videos start to drop frames or are one or more still ok?","body":"Do all the videos start to drop frames or are one or more still ok?"},{"owner":{"account_id":24201645,"reputation":33,"user_id":18159393,"display_name":"Ho&#224;i V L&#234;"},"score":0,"creation_date":1687255951,"post_id":76486944,"comment_id":134907766,"body_markdown":"@Mick all of them. Actually, the app itself started lagging too, not just the videos.","body":"@Mick all of them. Actually, the app itself started lagging too, not just the videos."}],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687266112,"creation_date":1687266112,"answer_id":76515026,"question_id":76486944,"body_markdown":"Ultimately, I think you are simply running out of memory/processing power and the system is trying to degrade gracefully by dropping frames. \r\n\r\nWhen you have multiple videos also, you are more likely to go beyond the limits of any HW codecs and have to fall back onto SW codecs.\r\n\r\nMany video architectures are designed to try to degrade gracefully by dropping frames if they cannot display them in time.\r\n\r\nI&#39;m not sure what the latest status with Android is but there is some excellent information here from 5 or 6 years ago: https://stackoverflow.com/a/26345345/334402\r\n\r\nSee in particular the note about the move towards dropping frames which would not be displayed at the time intended:\r\n\r\n&gt; The solution Android is moving toward for A/V sync is to have the app tell SurfaceFlinger when it wants the frame to be displayed. If SurfaceFlinger misses the deadline, it drops the frame. \r\n\r\nThe root issue, needing to display more videos than a device can handle comfortably, is quite common and not restricted to Android.\r\n\r\nOne possible workaround, which may not be applicable for your case, is to combine the videos into a single stream on the server side and then send that single stream to the device. You can still allow a user to expand or &#39;move to stage&#39; a particular video by using a touch grid over the combined video and adding a second stream for the selected video if a user selects it.","title":"Android ExoPlayer 2 - How to improve fps when rendering many videos?","body":"<p>Ultimately, I think you are simply running out of memory/processing power and the system is trying to degrade gracefully by dropping frames.</p>\n<p>When you have multiple videos also, you are more likely to go beyond the limits of any HW codecs and have to fall back onto SW codecs.</p>\n<p>Many video architectures are designed to try to degrade gracefully by dropping frames if they cannot display them in time.</p>\n<p>I'm not sure what the latest status with Android is but there is some excellent information here from 5 or 6 years ago: <a href=\"https://stackoverflow.com/a/26345345/334402\">https://stackoverflow.com/a/26345345/334402</a></p>\n<p>See in particular the note about the move towards dropping frames which would not be displayed at the time intended:</p>\n<blockquote>\n<p>The solution Android is moving toward for A/V sync is to have the app tell SurfaceFlinger when it wants the frame to be displayed. If SurfaceFlinger misses the deadline, it drops the frame.</p>\n</blockquote>\n<p>The root issue, needing to display more videos than a device can handle comfortably, is quite common and not restricted to Android.</p>\n<p>One possible workaround, which may not be applicable for your case, is to combine the videos into a single stream on the server side and then send that single stream to the device. You can still allow a user to expand or 'move to stage' a particular video by using a touch grid over the combined video and adding a second stream for the selected video if a user selects it.</p>\n"}],"owner":{"account_id":24201645,"reputation":33,"user_id":18159393,"display_name":"Ho&#224;i V L&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687266112,"creation_date":1686889235,"question_id":76486944,"body_markdown":"I&#39;m using ExoPlayer 2 to create an app on Android that renders and plays multiple video simultaneously. However, when the number of videos displayed exceeds a certain limit (3-4 videos on my Xiaomi Note 11 Pro), the videos start to drop fps. I tried to limit the players&#39; max bitrate but nothing changed.\r\n```\r\nPlayer player = new ExoPlayer.Builder(context).build();\r\nTrackSelectionParameters parameters = player.getTrackSelectionParameters();\r\nTrackSelectionParameters newParameters = parameters.buildUpon().setMaxVideoBitrate(2000000).build(); // 2 Mbps\r\nplayer.setTrackSelectionParameters(newParameters);\r\n```\r\nHow can I improve fps when app render many videos?","title":"Android ExoPlayer 2 - How to improve fps when rendering many videos?","body":"<p>I'm using ExoPlayer 2 to create an app on Android that renders and plays multiple video simultaneously. However, when the number of videos displayed exceeds a certain limit (3-4 videos on my Xiaomi Note 11 Pro), the videos start to drop fps. I tried to limit the players' max bitrate but nothing changed.</p>\n<pre><code>Player player = new ExoPlayer.Builder(context).build();\nTrackSelectionParameters parameters = player.getTrackSelectionParameters();\nTrackSelectionParameters newParameters = parameters.buildUpon().setMaxVideoBitrate(2000000).build(); // 2 Mbps\nplayer.setTrackSelectionParameters(newParameters);\n</code></pre>\n<p>How can I improve fps when app render many videos?</p>\n"},{"tags":["java","xpages","lotus-domino"],"comments":[{"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"score":0,"creation_date":1361952627,"post_id":15100261,"comment_id":21255457,"body_markdown":"As far as I know remote debugging is for AMGR only. I suppose a quick test is to not load AMGR on the server and see if it attaches to the HTTP process (I&#39;m guessing it won&#39;t).","body":"As far as I know remote debugging is for AMGR only. I suppose a quick test is to not load AMGR on the server and see if it attaches to the HTTP process (I&#39;m guessing it won&#39;t)."},{"owner":{"account_id":71277,"reputation":3524,"user_id":206265,"accept_rate":52,"display_name":"Frantisek Kossuth"},"score":0,"creation_date":1361954415,"post_id":15100261,"comment_id":21256286,"body_markdown":"@SimonO&#39;Doherty Fortunately this works with HTTP Java and helps a lot with XPages development. Few people blogged about that. So with AMGR turned off everything works as designed (I assume :-)). My problem is about interference with AMGR JVM.","body":"@SimonO&#39;Doherty Fortunately this works with HTTP Java and helps a lot with XPages development. Few people blogged about that. So with AMGR turned off everything works as designed (I assume :-)). My problem is about interference with AMGR JVM."},{"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"score":0,"creation_date":1361954865,"post_id":15100261,"comment_id":21256538,"body_markdown":"Interesting. Will look into that.","body":"Interesting. Will look into that."},{"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"score":0,"creation_date":1361955270,"post_id":15100261,"comment_id":21256740,"body_markdown":"Too early in the morning.:) It should just work (walkthrough: http://www.youtube.com/watch?v=1xczmvd1bs0 ). Can you expand on what you are seeing in regards to AMGR intercepting?","body":"Too early in the morning.:) It should just work (walkthrough: <a href=\"http://www.youtube.com/watch?v=1xczmvd1bs0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=1xczmvd1bs0</a> ). Can you expand on what you are seeing in regards to AMGR intercepting?"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1361987772,"post_id":15100261,"comment_id":21276695,"body_markdown":"have never seen this. maybe because I always use port 8000? have you tried that port?","body":"have never seen this. maybe because I always use port 8000? have you tried that port?"}],"answers":[{"tags":[],"owner":{"account_id":398218,"reputation":9314,"user_id":1167890,"accept_rate":86,"display_name":"Simon O&#39;Doherty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1362503088,"creation_date":1362503088,"answer_id":15229788,"question_id":15100261,"body_markdown":"I spoke to development about this issue and it is a known issue (to them :) . When the Domino server starts up all JVMs (AMGR / HTTP) will attempt to connect to the port as per the debug settings. So which ever process grabs it first wins. \r\n\r\nIt is currently under investigation to see if you can have multiple ports (I don&#39;t have an SPR yet). \r\n\r\nYou can try changing the sequence of the SERVERTASKS setting in the notes.ini to launch the HTTP before the AMGR. Otherwise stop both processes and then start the one you want.\r\n\r\n\r\n\r\n","title":"Can not attach debugger to HTTP JVM, AMGR JVM is attached instead","body":"<p>I spoke to development about this issue and it is a known issue (to them :) . When the Domino server starts up all JVMs (AMGR / HTTP) will attempt to connect to the port as per the debug settings. So which ever process grabs it first wins. </p>\n\n<p>It is currently under investigation to see if you can have multiple ports (I don't have an SPR yet). </p>\n\n<p>You can try changing the sequence of the SERVERTASKS setting in the notes.ini to launch the HTTP before the AMGR. Otherwise stop both processes and then start the one you want.</p>\n"},{"tags":[],"owner":{"account_id":2970866,"reputation":1,"user_id":2522937,"display_name":"Bert Haessler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687265933,"creation_date":1687265933,"answer_id":76514995,"question_id":15100261,"body_markdown":"I just found that:\r\n[https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805][1]\r\n\r\nHave JVM bind to an arbitrary port by omitting the address attribute in the JavaDebugOptions.\r\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n\r\n \r\ninstead of\r\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8000\r\n \r\nThe JVM would then pick a random port.\r\n...\r\n\r\n  [1]: https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805","title":"Can not attach debugger to HTTP JVM, AMGR JVM is attached instead","body":"<p>I just found that:\n<a href=\"https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805\" rel=\"nofollow noreferrer\">https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0079805</a></p>\n<p>Have JVM bind to an arbitrary port by omitting the address attribute in the JavaDebugOptions.\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n</p>\n<p>instead of\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8000</p>\n<p>The JVM would then pick a random port.\n...</p>\n"}],"owner":{"account_id":71277,"reputation":3524,"user_id":206265,"accept_rate":52,"display_name":"Frantisek Kossuth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15229788,"answer_count":2,"score":0,"last_activity_date":1687265933,"creation_date":1361916299,"question_id":15100261,"body_markdown":"Domino is configured to allow remote debugging by notes.ini param:\r\n\r\n    JavaEnableDebug=1\r\n    JavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8703\r\n\r\nDebug is tarted in Domino Designer/Eclipse to debug some XPages code. Debugger attaches to different JVM. As I discovered, it is JVM of AMGR which run Java agent previously. Disconnecting and reconnecting debugger does not help.\r\n\r\nOnly workaround is to shutdown/restart AMGR to be able to attach to HTTP JVM.\r\n\r\n**Is it possible to set different ports for AMGR and HTTP debuggers?**","title":"Can not attach debugger to HTTP JVM, AMGR JVM is attached instead","body":"<p>Domino is configured to allow remote debugging by notes.ini param:</p>\n\n<pre><code>JavaEnableDebug=1\nJavaDebugOptions=transport=dt_socket,server=y,suspend=n,address=8703\n</code></pre>\n\n<p>Debug is tarted in Domino Designer/Eclipse to debug some XPages code. Debugger attaches to different JVM. As I discovered, it is JVM of AMGR which run Java agent previously. Disconnecting and reconnecting debugger does not help.</p>\n\n<p>Only workaround is to shutdown/restart AMGR to be able to attach to HTTP JVM.</p>\n\n<p><strong>Is it possible to set different ports for AMGR and HTTP debuggers?</strong></p>\n"},{"tags":["java","java-8"],"answers":[{"comments":[{"owner":{"account_id":4784305,"reputation":57,"user_id":3865262,"display_name":"Nitin Kumar Singh"},"score":0,"creation_date":1461040423,"post_id":36707942,"comment_id":61004575,"body_markdown":"Thanks for the solution. It is working.\nPlease also tell me what is the use of sending time and zone in ZonedDateTime.of() method?\nI referred the document and i thot it is used to convert a given time to the time of a desired timezone.!","body":"Thanks for the solution. It is working. Please also tell me what is the use of sending time and zone in ZonedDateTime.of() method? I referred the document and i thot it is used to convert a given time to the time of a desired timezone.!"}],"tags":[],"owner":{"account_id":6325906,"reputation":887,"user_id":4912398,"accept_rate":71,"display_name":"Denis Kokorin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461036015,"creation_date":1461036015,"answer_id":36707942,"question_id":36707431,"body_markdown":"The problem is that you instantiate ZonedDateTime with your **local** date and time.\r\n\r\nThis will do what you want:\r\n\r\n    ZonedDateTime dubaiDT = Instant.now().atZone(dubaiZone);","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<p>The problem is that you instantiate ZonedDateTime with your <strong>local</strong> date and time.</p>\n\n<p>This will do what you want:</p>\n\n<pre><code>ZonedDateTime dubaiDT = Instant.now().atZone(dubaiZone);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461086817,"creation_date":1461046043,"answer_id":36709870,"question_id":36707431,"body_markdown":"The [answer by Kokorin][1] is correct. Here&#39;s a bit more discussion.\r\n\r\n# Problems\r\n\r\nWhen you called the `now` method and passed no arguments, you failed to specify a time zone. In that omission, java.time silently applied your JVMs current default time zone in determining the current local time and current local date. \r\n\r\nYou claim your JVMs current default time zone is `Asia/Kolkata` (India time). If when you ran that code it was 15:30 time in your office, your code is saying let&#39;s take my 15:30 and use that as input to represent a [wall-clock time][2] in Dubai. So while the current moment in Dubai was actually 14:00 (an hour and half closer to UTC than India I presume, not sure), you created a date-time for an hour and a half in the Dubais future: 15:30. \r\n\r\nWhen you passed `dubai` in the line `ZonedDateTime.of( localDate, localTime, dubai )` you assumed you were asking for an *adjustment* between time zones. But in fact you were *assigning* a time zone to a plain (Local) date and time that *had no time zone at all*. All three of the **`Local` classes store no time zone internally**; their very purpose is to ignore time zone. Your code did not match your intentions.\r\n\r\nNote how in this revision to your code I pass your [`ZoneId`][3] object to both `now` methods. This would solve your problem.\r\n\r\n        ZoneId dubai = ZoneId.of ( &quot;Asia/Dubai&quot; );\r\n        LocalDate localDate = LocalDate.now ( dubai );  \r\n        LocalTime localTime = LocalTime.now ( dubai ); // Capturing `14:00` in Dubai rather than than `15:30` in India as in your version of code.\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.of ( localDate , localTime , dubai );\r\n        System.out.println ( &quot;Dubai Tiime:&quot; + zonedDateTime );\r\n\r\nBut this is still bad code. If those pair of `.now` methods were called over the stroke of midnight, you would have very wrong information (off by about 24 hours). \r\n\r\n# Solutions\r\n\r\nInstead you should capture the current moment atomically. Either user Kokorin&#39;s code, or use my code shown next.\r\n\r\nAn `Instant` is a moment on the timeline in UTC with a resolution of [nanoseconds][4].\r\n\r\n    Instant instant = Instant.now();\r\n    ZoneId zoneId_Dubai = ZoneId.of( &quot;Asia/Dubai&quot; );\r\n    ZonedDateTime zdt_Dubai = ZonedDateTime.ofInstant( instant , zoneId_Dubai );\r\n\r\nAs a shortcut, call the static method [`ZonedDateTime.now`][5].\r\n\r\n    ZonedDateTime zdt_Dubai = ZonedDateTime.now( zoneId_Dubai );\r\n\r\nTo see the same moment but with your own [wall-clock time][2], adjust into [India time][6].\r\n\r\n    ZonedDateTime zdt_Kolkata = zdt_Dubai.withZoneSameInstant( ZoneId.of( &quot;Asia/Kolkata&quot; ) );\r\n\r\n**BIG TIP:** *Always pass the optional time zone arguments*. While I tremendously respect the work that went into java.time, I consider making the time zone arguments optional on various methods to be a design flaw. The silent implicit application of your JVMs current default time zone is just too easy a trap to fall into for so many programmers. By the way, ditto for [`Locale`][7], always specify.\r\n\r\n**Another Tip:** *Think, work, and store in [UTC][8].* As a programmer you must learn to think in UTC, get your head out of my time in Kolkata and their time in Dubai. You will drive yourself crazy and make your brain hurt. While programming, know that **the only one true time is UTC**. All the other Dubai/Kolkata/Montr&#233;al/Auckland times are smoke and mirrors, mere illusions. Use the `Instant` class in much of your code, make it your go to class when doing date-time work (only apply a time zone for display to the user). Use UTC in your database. Do your logging in UTC. Keep your servers on UTC (or Iceland) time zone. Use UTC when serializing date-time values to storage or in data-exchange (and use [ISO 8601][9] formats btw). Keep a clock on your desk or screen displaying UTC. Later, when you go home from work, then you can slip back into your own local &quot;India time&quot; thinking.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36707942/642706\r\n  [2]: https://en.wikipedia.org/wiki/Wall_clock_time\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [4]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\r\n  [6]: https://en.wikipedia.org/wiki/Indian_Standard_Time\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [8]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [9]: https://en.wikipedia.org/wiki/ISO_8601","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<p>The <a href=\"https://stackoverflow.com/a/36707942/642706\">answer by Kokorin</a> is correct. Here's a bit more discussion.</p>\n\n<h1>Problems</h1>\n\n<p>When you called the <code>now</code> method and passed no arguments, you failed to specify a time zone. In that omission, java.time silently applied your JVMs current default time zone in determining the current local time and current local date. </p>\n\n<p>You claim your JVMs current default time zone is <code>Asia/Kolkata</code> (India time). If when you ran that code it was 15:30 time in your office, your code is saying let's take my 15:30 and use that as input to represent a <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a> in Dubai. So while the current moment in Dubai was actually 14:00 (an hour and half closer to UTC than India I presume, not sure), you created a date-time for an hour and a half in the Dubais future: 15:30. </p>\n\n<p>When you passed <code>dubai</code> in the line <code>ZonedDateTime.of( localDate, localTime, dubai )</code> you assumed you were asking for an <em>adjustment</em> between time zones. But in fact you were <em>assigning</em> a time zone to a plain (Local) date and time that <em>had no time zone at all</em>. All three of the <strong><code>Local</code> classes store no time zone internally</strong>; their very purpose is to ignore time zone. Your code did not match your intentions.</p>\n\n<p>Note how in this revision to your code I pass your <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> object to both <code>now</code> methods. This would solve your problem.</p>\n\n<pre><code>    ZoneId dubai = ZoneId.of ( \"Asia/Dubai\" );\n    LocalDate localDate = LocalDate.now ( dubai );  \n    LocalTime localTime = LocalTime.now ( dubai ); // Capturing `14:00` in Dubai rather than than `15:30` in India as in your version of code.\n    ZonedDateTime zonedDateTime = ZonedDateTime.of ( localDate , localTime , dubai );\n    System.out.println ( \"Dubai Tiime:\" + zonedDateTime );\n</code></pre>\n\n<p>But this is still bad code. If those pair of <code>.now</code> methods were called over the stroke of midnight, you would have very wrong information (off by about 24 hours). </p>\n\n<h1>Solutions</h1>\n\n<p>Instead you should capture the current moment atomically. Either user Kokorin's code, or use my code shown next.</p>\n\n<p>An <code>Instant</code> is a moment on the timeline in UTC with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>.</p>\n\n<pre><code>Instant instant = Instant.now();\nZoneId zoneId_Dubai = ZoneId.of( \"Asia/Dubai\" );\nZonedDateTime zdt_Dubai = ZonedDateTime.ofInstant( instant , zoneId_Dubai );\n</code></pre>\n\n<p>As a shortcut, call the static method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.now</code></a>.</p>\n\n<pre><code>ZonedDateTime zdt_Dubai = ZonedDateTime.now( zoneId_Dubai );\n</code></pre>\n\n<p>To see the same moment but with your own <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"nofollow noreferrer\">wall-clock time</a>, adjust into <a href=\"https://en.wikipedia.org/wiki/Indian_Standard_Time\" rel=\"nofollow noreferrer\">India time</a>.</p>\n\n<pre><code>ZonedDateTime zdt_Kolkata = zdt_Dubai.withZoneSameInstant( ZoneId.of( \"Asia/Kolkata\" ) );\n</code></pre>\n\n<p><strong>BIG TIP:</strong> <em>Always pass the optional time zone arguments</em>. While I tremendously respect the work that went into java.time, I consider making the time zone arguments optional on various methods to be a design flaw. The silent implicit application of your JVMs current default time zone is just too easy a trap to fall into for so many programmers. By the way, ditto for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a>, always specify.</p>\n\n<p><strong>Another Tip:</strong> <em>Think, work, and store in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>.</em> As a programmer you must learn to think in UTC, get your head out of my time in Kolkata and their time in Dubai. You will drive yourself crazy and make your brain hurt. While programming, know that <strong>the only one true time is UTC</strong>. All the other Dubai/Kolkata/Montral/Auckland times are smoke and mirrors, mere illusions. Use the <code>Instant</code> class in much of your code, make it your go to class when doing date-time work (only apply a time zone for display to the user). Use UTC in your database. Do your logging in UTC. Keep your servers on UTC (or Iceland) time zone. Use UTC when serializing date-time values to storage or in data-exchange (and use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats btw). Keep a clock on your desk or screen displaying UTC. Later, when you go home from work, then you can slip back into your own local \"India time\" thinking.</p>\n"},{"tags":[],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687265743,"creation_date":1687265743,"answer_id":76514960,"question_id":36707431,"body_markdown":"you can use this   \r\n\r\n     ZonedDateTime now = ZonedDateTime.now().withZoneSameInstant(ZoneId.of(&quot;Asia/Dubai&quot;));\r\n\r\nOUTPUT: **2023-06-20T16:54:11.164069300+04:00[Asia/Dubai]**","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<p>you can use this</p>\n<pre><code> ZonedDateTime now = ZonedDateTime.now().withZoneSameInstant(ZoneId.of(&quot;Asia/Dubai&quot;));\n</code></pre>\n<p>OUTPUT: <strong>2023-06-20T16:54:11.164069300+04:00[Asia/Dubai]</strong></p>\n"}],"owner":{"account_id":4784305,"reputation":57,"user_id":3865262,"display_name":"Nitin Kumar Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3665,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687265743,"creation_date":1461032628,"question_id":36707431,"body_markdown":"     ZoneId dubai = ZoneId.of(&quot;Asia/Dubai&quot;);\r\n     LocalDate localDate = LocalDate.now();\r\n     LocalTime localTime = LocalTime.now();\r\n     ZonedDateTime zonedDateTime = ZonedDateTime.of(localDate, localTime, dubai);\r\n    System.out.println(&quot;Dubai Tiime:&quot;+zonedDateTime);\r\nAbove code is still printing the time of my current zone (i.e Asia/Kolkata)\r\n\r\nAlso i tried the following code to achieve the same but it is also printing time in my current zone(Asia/Kolkata): \r\n\r\n    ZoneOffset offset = ZoneOffset.of(&quot;+04:00&quot;);\r\n    LocalDateTime localDateTime = LocalDateTime.now();\r\n    OffsetDateTime plusFour = OffsetDateTime.of(localDateTime, offset);\r\n    System.out.println(&quot;Dubai Time :&quot;+plusFour);\r\n\r\nI am unable to figure out why its not providing desired result.\r\n","title":"I want to calculate time in Asia/Dubai timezone from the time of Asia/Kolkata using java 8 Date Time API","body":"<pre><code> ZoneId dubai = ZoneId.of(\"Asia/Dubai\");\n LocalDate localDate = LocalDate.now();\n LocalTime localTime = LocalTime.now();\n ZonedDateTime zonedDateTime = ZonedDateTime.of(localDate, localTime, dubai);\nSystem.out.println(\"Dubai Tiime:\"+zonedDateTime);\n</code></pre>\n\n<p>Above code is still printing the time of my current zone (i.e Asia/Kolkata)</p>\n\n<p>Also i tried the following code to achieve the same but it is also printing time in my current zone(Asia/Kolkata): </p>\n\n<pre><code>ZoneOffset offset = ZoneOffset.of(\"+04:00\");\nLocalDateTime localDateTime = LocalDateTime.now();\nOffsetDateTime plusFour = OffsetDateTime.of(localDateTime, offset);\nSystem.out.println(\"Dubai Time :\"+plusFour);\n</code></pre>\n\n<p>I am unable to figure out why its not providing desired result.</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":28851193,"reputation":9,"user_id":22097066,"display_name":"hvrhand"},"score":0,"creation_date":1687244001,"post_id":76510902,"comment_id":134905299,"body_markdown":"thank you for the answer, atleast i&#39;ve got some point how it can be done, even though it seems clumsy","body":"thank you for the answer, atleast i&#39;ve got some point how it can be done, even though it seems clumsy"}],"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687225096,"creation_date":1687225096,"answer_id":76510902,"question_id":76507123,"body_markdown":"There&#39;s no concept of &#39;keyed stream&#39; in Java Stream API like in some Big Data processing pipelines, so you&#39;ll have to group the result first and stream the values again. \r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Test test1 = new Test(1, &quot;qweqwe&quot;, null);\r\n    Test test2 = new Test(2, &quot;qweqwe&quot;, null);\r\n    Test test3 = new Test(3, &quot;qweqwe&quot;, null);\r\n    Test test4 = new Test(1, null, &quot;dfdsfg&quot;);\r\n    Test test5 = new Test(2, null, &quot;dfdsfg&quot;);\r\n    Test test6 = new Test(3, null, &quot;dfdsfg&quot;);\r\n\r\n    List&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\r\n            // collect to Map&lt;String,Test&gt; by ID\r\n            .collect(Collectors.groupingBy(Test::getId)) \r\n            // stream only the values: Stream&lt;List&lt;Test&gt;&gt;\r\n            .values()\r\n            .stream()\r\n            // reduce by merging fields, assumes data is &quot;correct&quot;\r\n            .map(i -&gt; i.stream().reduce((a, b) -&gt; new Test(\r\n                    a.getId(),\r\n                    a.getFirst() == null ? b.getFirst() : a.getFirst(),\r\n                    a.getSecond() == null ? b.getSecond() : a.getSecond()\r\n            // orElse new because reduce returns an optional in case there is no aggregation result, it won&#39;t ever happen if dataset is &quot;correct&quot;\r\n            )).orElse(new Test())).collect(Collectors.toList());\r\n\r\n    System.out.println(list);\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic static class Test {\r\n    private Integer id;\r\n    private String first;\r\n    private String second;\r\n}\r\n```\r\n\r\nThis does produce the result you require but it is a bit clumsy, and not efficient since the reduce operation has to create a new Test oject every time, I wouldn&#39;t say that it is more practical than just using the imperative approach.","title":"Merging objects with grouping via Steam API","body":"<p>There's no concept of 'keyed stream' in Java Stream API like in some Big Data processing pipelines, so you'll have to group the result first and stream the values again.</p>\n<pre><code>public static void main(String[] args) {\n    Test test1 = new Test(1, &quot;qweqwe&quot;, null);\n    Test test2 = new Test(2, &quot;qweqwe&quot;, null);\n    Test test3 = new Test(3, &quot;qweqwe&quot;, null);\n    Test test4 = new Test(1, null, &quot;dfdsfg&quot;);\n    Test test5 = new Test(2, null, &quot;dfdsfg&quot;);\n    Test test6 = new Test(3, null, &quot;dfdsfg&quot;);\n\n    List&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\n            // collect to Map&lt;String,Test&gt; by ID\n            .collect(Collectors.groupingBy(Test::getId)) \n            // stream only the values: Stream&lt;List&lt;Test&gt;&gt;\n            .values()\n            .stream()\n            // reduce by merging fields, assumes data is &quot;correct&quot;\n            .map(i -&gt; i.stream().reduce((a, b) -&gt; new Test(\n                    a.getId(),\n                    a.getFirst() == null ? b.getFirst() : a.getFirst(),\n                    a.getSecond() == null ? b.getSecond() : a.getSecond()\n            // orElse new because reduce returns an optional in case there is no aggregation result, it won't ever happen if dataset is &quot;correct&quot;\n            )).orElse(new Test())).collect(Collectors.toList());\n\n    System.out.println(list);\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic static class Test {\n    private Integer id;\n    private String first;\n    private String second;\n}\n</code></pre>\n<p>This does produce the result you require but it is a bit clumsy, and not efficient since the reduce operation has to create a new Test oject every time, I wouldn't say that it is more practical than just using the imperative approach.</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687255686,"creation_date":1687255686,"answer_id":76513608,"question_id":76507123,"body_markdown":"You can achieve your result by using a single Stream `groupBy` and `reducing` collectors. On the other hand, finding out the first non-null value in Java is a bit clumsy (either use `Optional` or a ternary operator):\r\n\r\n```java\r\nCollection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\r\n\t.collect(\r\n\t\t\tCollectors.groupingBy(Test::getId,\r\n\t\t\tCollectors.reducing(\r\n\t\t\t\t\tnew Test(), \r\n\t\t\t\t\t(a, b) -&gt; new Test(\r\n\t\t\t\t\t\t\tfindNonNull(a.getId(), b.getId()),\r\n\t\t\t\t\t\t\tfindNonNull(a.getFirst(), b.getFirst()),\r\n\t\t\t\t\t\t\tfindNonNull(a.getSecond(), b.getSecond())))))\r\n\t.values();\r\n```\r\n```java\r\nprivate &lt;T&gt; T findNonNull(final T... values) {\r\n\tfor (T value : values) {\r\n\t\tif (value != null) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n```\r\nResult printed each on a new line:\r\n&gt; ```\r\n&gt; Application.Test(id=1, first=qweqwe, second=dfdsfg)\r\n&gt; Application.Test(id=2, first=qweqwe, second=dfdsfg)\r\n&gt; Application.Test(id=3, first=qweqwe, second=dfdsfg)\r\n&gt; ```","title":"Merging objects with grouping via Steam API","body":"<p>You can achieve your result by using a single Stream <code>groupBy</code> and <code>reducing</code> collectors. On the other hand, finding out the first non-null value in Java is a bit clumsy (either use <code>Optional</code> or a ternary operator):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\n    .collect(\n            Collectors.groupingBy(Test::getId,\n            Collectors.reducing(\n                    new Test(), \n                    (a, b) -&gt; new Test(\n                            findNonNull(a.getId(), b.getId()),\n                            findNonNull(a.getFirst(), b.getFirst()),\n                            findNonNull(a.getSecond(), b.getSecond())))))\n    .values();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; T findNonNull(final T... values) {\n    for (T value : values) {\n        if (value != null) {\n            return value;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Result printed each on a new line:</p>\n<blockquote>\n<pre><code>Application.Test(id=1, first=qweqwe, second=dfdsfg)\nApplication.Test(id=2, first=qweqwe, second=dfdsfg)\nApplication.Test(id=3, first=qweqwe, second=dfdsfg)\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687265691,"creation_date":1687264457,"answer_id":76514758,"question_id":76507123,"body_markdown":"Just a more refined solution is to create a merge function at the `Test` class and use `Optional.ofNullable` to merge values\r\n\r\n```java\r\npublic class Test {\r\n\r\n  public Test mergeNotNull(Test o2) {\r\n    return new Test(Optional.ofNullable(id).orElse(o2.id),\r\n      Optional.ofNullable(first).orElse(o2.first),\r\n      Optional.ofNullable(second).orElse(o2.second));\r\n  }\r\n}\r\n\r\nimport static java.util.stream.Collectors.*;\r\npublic static void main(String[] args) {\r\n  Collection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\r\n        .collect(groupingBy(Test::getId, reducing(new Test(), Test::mergeNotNull)))\r\n        .values();\r\n}\r\n```\r\n\r\n```\r\n[\r\n  Test{id=1, first=&#39;qweqwe&#39;, second=&#39;dfdsfg&#39;}, \r\n  Test{id=2, first=&#39;qweqwe&#39;, second=&#39;dfdsfg&#39;}, \r\n  Test{id=3, first=&#39;qweqwe&#39;, second=&#39;dfdsfg&#39;}\r\n]\r\n\r\n```","title":"Merging objects with grouping via Steam API","body":"<p>Just a more refined solution is to create a merge function at the <code>Test</code> class and use <code>Optional.ofNullable</code> to merge values</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  public Test mergeNotNull(Test o2) {\n    return new Test(Optional.ofNullable(id).orElse(o2.id),\n      Optional.ofNullable(first).orElse(o2.first),\n      Optional.ofNullable(second).orElse(o2.second));\n  }\n}\n\nimport static java.util.stream.Collectors.*;\npublic static void main(String[] args) {\n  Collection&lt;Test&gt; list = Stream.of(test1, test2, test3, test4, test5, test6)\n        .collect(groupingBy(Test::getId, reducing(new Test(), Test::mergeNotNull)))\n        .values();\n}\n</code></pre>\n<pre><code>[\n  Test{id=1, first='qweqwe', second='dfdsfg'}, \n  Test{id=2, first='qweqwe', second='dfdsfg'}, \n  Test{id=3, first='qweqwe', second='dfdsfg'}\n]\n\n</code></pre>\n"}],"owner":{"account_id":28851193,"reputation":9,"user_id":22097066,"display_name":"hvrhand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1687265691,"creation_date":1687181458,"question_id":76507123,"body_markdown":"I have an object:\r\n```\r\npublic class Test {\r\n\r\n    private Integer id;\r\n    private String first;\r\n    private String second;\r\n}\r\n```\r\n... and then:\r\n\r\n```\r\nTest test1 = new Test(1, &quot;qweqwe&quot;, null);\r\nTest test2 = new Test(2, &quot;qweqwe&quot;, null);\r\nTest test3 = new Test(3, &quot;qweqwe&quot;, null);\r\nTest test4 = new Test(1, null, &quot;dfdsfg&quot;);\r\nTest test5 = new Test(2, null, &quot;dfdsfg&quot;);\r\nTest test6 = new Test(3, null, &quot;dfdsfg&quot;);\r\n```\r\nI want to group objects by id, so I can get something like:\r\n\r\n```\r\nList&lt;Test&gt; list = Arrays.asList(test1, test2, test3, test4, test5, test6).stream()\r\n                .someMagicGrouping\r\n                .collect(Collectors.toList());\r\n```\r\n... and the result would be a list of objects: \r\n- `(1, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)`\r\n- `(2, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)`\r\n- `(3, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)`\r\n\r\n\r\nAll I managed to get by searching and experimenting is `Map&lt;Integer, List&lt;Test&gt;&gt;`, but that&#39;s not really what I need. I tried .`collect(Collectors.groupingBy(Test::getId, Collectors.toList()));`.","title":"Merging objects with grouping via Steam API","body":"<p>I have an object:</p>\n<pre><code>public class Test {\n\n    private Integer id;\n    private String first;\n    private String second;\n}\n</code></pre>\n<p>... and then:</p>\n<pre><code>Test test1 = new Test(1, &quot;qweqwe&quot;, null);\nTest test2 = new Test(2, &quot;qweqwe&quot;, null);\nTest test3 = new Test(3, &quot;qweqwe&quot;, null);\nTest test4 = new Test(1, null, &quot;dfdsfg&quot;);\nTest test5 = new Test(2, null, &quot;dfdsfg&quot;);\nTest test6 = new Test(3, null, &quot;dfdsfg&quot;);\n</code></pre>\n<p>I want to group objects by id, so I can get something like:</p>\n<pre><code>List&lt;Test&gt; list = Arrays.asList(test1, test2, test3, test4, test5, test6).stream()\n                .someMagicGrouping\n                .collect(Collectors.toList());\n</code></pre>\n<p>... and the result would be a list of objects:</p>\n<ul>\n<li><code>(1, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)</code></li>\n<li><code>(2, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)</code></li>\n<li><code>(3, &quot;qweqwe&quot;, &quot;dfdsfg&quot;)</code></li>\n</ul>\n<p>All I managed to get by searching and experimenting is <code>Map&lt;Integer, List&lt;Test&gt;&gt;</code>, but that's not really what I need. I tried .<code>collect(Collectors.groupingBy(Test::getId, Collectors.toList()));</code>.</p>\n"},{"tags":["java","spring","spring-boot","openapi"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680015582,"post_id":75867761,"comment_id":133822540,"body_markdown":"@DataJpaTest should do the trick.","body":"@DataJpaTest should do the trick."},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1680016032,"post_id":75867761,"comment_id":133822684,"body_markdown":"no - it has a similar problem as WebMvcTest - it is missing specific beans for openApi generation. or please provide a full example using JpaTest (all controllers must be manually added here at least)","body":"no - it has a similar problem as WebMvcTest - it is missing specific beans for openApi generation. or please provide a full example using JpaTest (all controllers must be manually added here at least)"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681905347,"post_id":75867761,"comment_id":134131573,"body_markdown":"Using unit test you want to validate openapi document generation or you want to store the document to specific format?","body":"Using unit test you want to validate openapi document generation or you want to store the document to specific format?"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1681918352,"post_id":75867761,"comment_id":134135398,"body_markdown":"i just want to store the file during build - but i don&#39;t want to start the whole application for it - just the stuff needed. as said my test is running fine but the &quot;test frame&quot; is too large","body":"i just want to store the file during build - but i don&#39;t want to start the whole application for it - just the stuff needed. as said my test is running fine but the &quot;test frame&quot; is too large"}],"answers":[{"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1681918257,"post_id":76053990,"comment_id":134135371,"body_markdown":"the problem is that &quot;@SpringBootTest&quot; starts the full spring context including all beans, this is exactly what i not want. my test is already running fine - but it takes to long to start due to too much stuff in context","body":"the problem is that &quot;@SpringBootTest&quot; starts the full spring context including all beans, this is exactly what i not want. my test is already running fine - but it takes to long to start due to too much stuff in context"},{"owner":{"account_id":3329148,"reputation":162,"user_id":2798461,"display_name":"bvn13"},"score":0,"creation_date":1681976620,"post_id":76053990,"comment_id":134143991,"body_markdown":"@dermoritz I understand you. Unfortunately, SpringDoc needs Spring MVC to be started. Therefore all your beans participating in MVC must start. I guess the best option is to move SpringDoc description into separated module in order to decouple it from all MVC beans.","body":"@dermoritz I understand you. Unfortunately, SpringDoc needs Spring MVC to be started. Therefore all your beans participating in MVC must start. I guess the best option is to move SpringDoc description into separated module in order to decouple it from all MVC beans."},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1681994166,"post_id":76053990,"comment_id":134147966,"body_markdown":"as you see in my example - in fact it is enough to provide empty mocks for all of this, but what to mock in regards of persistence layer?","body":"as you see in my example - in fact it is enough to provide empty mocks for all of this, but what to mock in regards of persistence layer?"}],"tags":[],"owner":{"account_id":3329148,"reputation":162,"user_id":2798461,"display_name":"bvn13"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681903912,"creation_date":1681903912,"answer_id":76053990,"question_id":75867761,"body_markdown":"If you use [SpringDoc](https://springdoc.org) as a framework for OpenAPI generation, you could write a test in order to save `api-spec.json` into a file.\r\n\r\n\r\n```java\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\npublic class ApiSpecJsonFileExtractor {\r\n    @Value(&quot;${extraction.api-spec.json}&quot;)\r\n    String filename;\r\n    @Value(&quot;${springdoc.api-docs.path}&quot;)\r\n    String apiDocJsonPath;\r\n\r\n    @Test\r\n    void extractApiSpecJsonFile() throws Exception {\r\n        File file = new File(filename);\r\n        Path filePath = file.toPath();\r\n        if (file.exists()) {\r\n            Assertions.assertThat(file.isFile()).isTrue();\r\n        } else {\r\n            Path path = file.getParentFile().toPath();\r\n            if (Files.notExists(path)) {\r\n                Files.createDirectory(path);\r\n            }\r\n            if (Files.notExists(filePath)) {\r\n                Files.createFile(file.toPath());\r\n            }\r\n        }\r\n        mockMvc.perform(MockMvcRequestBuilders.get(apiDocJsonPath))\r\n                .andDo(result -&gt; Files.write(file.toPath(), result.getResponse().getContentAsString().getBytes()));\r\n    }\r\n```\r\n\r\nAnd I recommend you to separate OpenAPI annotated interfaces from the business code (classes) into another module (gradle, i.e.). You can create simple App into that module to untie your OpenAPI application from business properties.","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>If you use <a href=\"https://springdoc.org\" rel=\"nofollow noreferrer\">SpringDoc</a> as a framework for OpenAPI generation, you could write a test in order to save <code>api-spec.json</code> into a file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\npublic class ApiSpecJsonFileExtractor {\n    @Value(&quot;${extraction.api-spec.json}&quot;)\n    String filename;\n    @Value(&quot;${springdoc.api-docs.path}&quot;)\n    String apiDocJsonPath;\n\n    @Test\n    void extractApiSpecJsonFile() throws Exception {\n        File file = new File(filename);\n        Path filePath = file.toPath();\n        if (file.exists()) {\n            Assertions.assertThat(file.isFile()).isTrue();\n        } else {\n            Path path = file.getParentFile().toPath();\n            if (Files.notExists(path)) {\n                Files.createDirectory(path);\n            }\n            if (Files.notExists(filePath)) {\n                Files.createFile(file.toPath());\n            }\n        }\n        mockMvc.perform(MockMvcRequestBuilders.get(apiDocJsonPath))\n                .andDo(result -&gt; Files.write(file.toPath(), result.getResponse().getContentAsString().getBytes()));\n    }\n</code></pre>\n<p>And I recommend you to separate OpenAPI annotated interfaces from the business code (classes) into another module (gradle, i.e.). You can create simple App into that module to untie your OpenAPI application from business properties.</p>\n"},{"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682342571,"post_id":76085810,"comment_id":134195247,"body_markdown":"i need it running within my current setup - but of course, in a project without database we don&#39;t need it.","body":"i need it running within my current setup - but of course, in a project without database we don&#39;t need it."},{"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"score":0,"creation_date":1682353491,"post_id":76085810,"comment_id":134198198,"body_markdown":"current config based on XML or annotation ??","body":"current config based on XML or annotation ??"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682430208,"post_id":76085810,"comment_id":134211701,"body_markdown":"no everything plan java","body":"no everything plan java"}],"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682264798,"creation_date":1682264798,"answer_id":76085810,"question_id":75867761,"body_markdown":"if you want to generate documentation without a database connection then you can use tools like `SpringDoc` or `springfox`. These tools generate the OpenAPI documentation by scanning your spring application \r\n\r\n1. You can add Dependency into your `pom.xml` \r\nOR \r\n2. Create a Spring configuration `class` that defines your API endpoint and spring beans which are needed.\r\nOR\r\n3. Add some `annotation` to your spring application class like `@EnableOpenApi` which tells `SpringDoc` to scan your application \r\n\r\nafter adding any one \r\nStart your application and `http://localhost address/swagger-ui.html` to view the generated OpenAPI documentation.\r\n\r\nhope this one helps you!","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>if you want to generate documentation without a database connection then you can use tools like <code>SpringDoc</code> or <code>springfox</code>. These tools generate the OpenAPI documentation by scanning your spring application</p>\n<ol>\n<li>You can add Dependency into your <code>pom.xml</code>\nOR</li>\n<li>Create a Spring configuration <code>class</code> that defines your API endpoint and spring beans which are needed.\nOR</li>\n<li>Add some <code>annotation</code> to your spring application class like <code>@EnableOpenApi</code> which tells <code>SpringDoc</code> to scan your application</li>\n</ol>\n<p>after adding any one\nStart your application and <code>http://localhost address/swagger-ui.html</code> to view the generated OpenAPI documentation.</p>\n<p>hope this one helps you!</p>\n"},{"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682428987,"post_id":76092765,"comment_id":134211255,"body_markdown":"it does not work, i tried multiple ways. first with your setup i can not MockMvc. On the other hand just adding &quot;@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)&quot; to get rid of JPA stuff didn&#39;t helped i see &quot;Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39;&quot;","body":"it does not work, i tried multiple ways. first with your setup i can not MockMvc. On the other hand just adding &quot;@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)&quot; to get rid of JPA stuff didn&#39;t helped i see &quot;Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39;&quot;"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1682430772,"post_id":76092765,"comment_id":134211926,"body_markdown":"I had used `TestRestTemplate` instead of `MockMvc` as either would have worked for this use case. Anyway, now I have edited the answer to use MockMvc. As for the other errors, your code seems to be using additional JPA related beans. If you can provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) with the JPA/datasource related beans that your code initializes/uses, it&#39;ll be helpful to figure out which other beans need to be mocked","body":"I had used <code>TestRestTemplate</code> instead of <code>MockMvc</code> as either would have worked for this use case. Anyway, now I have edited the answer to use MockMvc. As for the other errors, your code seems to be using additional JPA related beans. If you can provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the JPA/datasource related beans that your code initializes/uses, it&#39;ll be helpful to figure out which other beans need to be mocked"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682434848,"post_id":76092765,"comment_id":134213192,"body_markdown":"thanks for all the effort you put in here! i think it is related to @EntityListeners(AuditingEntityListener.class) on one of the entities providing \t&quot;@CreatedDate&quot; on a ZonedDateTime field. i also found this https://stackoverflow.com/a/30597861/447426 but adding these other classes to exclude didn&#39;t helped (still error regarding auditing bean)","body":"thanks for all the effort you put in here! i think it is related to @EntityListeners(AuditingEntityListener.class) on one of the entities providing \t&quot;@CreatedDate&quot; on a ZonedDateTime field. i also found this <a href=\"https://stackoverflow.com/a/30597861/447426\">stackoverflow.com/a/30597861/447426</a> but adding these other classes to exclude didn&#39;t helped (still error regarding auditing bean)"},{"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"score":0,"creation_date":1682460862,"post_id":76092765,"comment_id":134218965,"body_markdown":"I was able to recreate the JPA exceptions after adding the `@EnableJpaAuditing` annotation. I have updated the answer with a workaround for that","body":"I was able to recreate the JPA exceptions after adding the <code>@EnableJpaAuditing</code> annotation. I have updated the answer with a workaround for that"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682496524,"post_id":76092765,"comment_id":134223556,"body_markdown":"this is working - accepted and voted up - thanks","body":"this is working - accepted and voted up - thanks"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682497891,"post_id":76092765,"comment_id":134223867,"body_markdown":"another way (without changing other code than test) is to declare a inner &quot;@Configuration&quot; class with same bean but @Primary - at the end this Auditing bean was indded the cause for the trouble","body":"another way (without changing other code than test) is to declare a inner &quot;@Configuration&quot; class with same bean but @Primary - at the end this Auditing bean was indded the cause for the trouble"}],"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682460657,"creation_date":1682345143,"answer_id":76092765,"question_id":75867761,"body_markdown":"If the datasource is auto-configured, it can be excluded for tests by excluding the `DataSourceAutoConfiguration` class. A line like below would need to be added to the test:\r\n\r\n```java\r\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\r\n```\r\n\r\nMight also need to move the `@EnableJpaAuditing` annotation, which I assume is causing the `Error creating bean with name &#39;jpaAuditingHandler&#39;` exception, to a separate `@Configuration` class that can be conditionally skipped\r\n\r\n```java\r\npackage io.github.devatherock.config;\r\n\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n\r\n@Configuration\r\n@EnableJpaAuditing\r\n@ConditionalOnProperty(name = &quot;jpa.enabled&quot;, matchIfMissing = true)\r\npublic class JpaConfig {\r\n\r\n}\r\n```\r\n\r\nNow the custom `JpaConfig` class can be disabled in the api spec generation test by setting `jpa.enabled=false`\r\n\r\n```java\r\n@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\r\n```\r\n\r\nA complete minimal test(written in Spock), that generates an api spec while excluding datasource configuration and disabling JPA auditing, is below:\r\n\r\n```groovy\r\npackage io.github.devatherock.controller\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.test.context.TestPropertySource\r\nimport org.springframework.test.web.servlet.MockMvc\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders\r\nimport spock.lang.Specification\r\n\r\nimport java.nio.file.Files\r\nimport java.nio.file.Paths\r\n\r\n@SpringBootTest\r\n@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\r\n@AutoConfigureMockMvc\r\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\r\nclass GenerateApiDocSpec extends Specification {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper\r\n\r\n    void &#39;test generate api doc&#39;() {\r\n        setup:\r\n        Files.deleteIfExists(Paths.get(&#39;api-spec.json&#39;))\r\n\r\n        when:\r\n        String apiSpec = mockMvc.perform(MockMvcRequestBuilders.get(&#39;/v3/api-docs&#39;))\r\n                .andReturn().response.contentAsString\r\n\r\n        then:\r\n        def json = objectMapper.readValue(apiSpec, Map)\r\n        json[&#39;paths&#39;][&#39;/hello&#39;]\r\n\r\n        cleanup:\r\n        new File(&#39;api-spec.json&#39;) &lt;&lt; apiSpec\r\n    }\r\n}\r\n```\r\n\r\nThe complete application and tests can be found on [github](https://github.com/devatherock/spring-boot-demo/tree/spring-jpa-swagger)","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>If the datasource is auto-configured, it can be excluded for tests by excluding the <code>DataSourceAutoConfiguration</code> class. A line like below would need to be added to the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\n</code></pre>\n<p>Might also need to move the <code>@EnableJpaAuditing</code> annotation, which I assume is causing the <code>Error creating bean with name 'jpaAuditingHandler'</code> exception, to a separate <code>@Configuration</code> class that can be conditionally skipped</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.github.devatherock.config;\n\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\n\n@Configuration\n@EnableJpaAuditing\n@ConditionalOnProperty(name = &quot;jpa.enabled&quot;, matchIfMissing = true)\npublic class JpaConfig {\n\n}\n</code></pre>\n<p>Now the custom <code>JpaConfig</code> class can be disabled in the api spec generation test by setting <code>jpa.enabled=false</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\n</code></pre>\n<p>A complete minimal test(written in Spock), that generates an api spec while excluding datasource configuration and disabling JPA auditing, is below:</p>\n<pre><code>package io.github.devatherock.controller\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.TestPropertySource\nimport org.springframework.test.web.servlet.MockMvc\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders\nimport spock.lang.Specification\n\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\n@SpringBootTest\n@TestPropertySource(properties = &quot;jpa.enabled=false&quot;)\n@AutoConfigureMockMvc\n@EnableAutoConfiguration(exclude = DataSourceAutoConfiguration.class)\nclass GenerateApiDocSpec extends Specification {\n\n    @Autowired\n    MockMvc mockMvc\n\n    @Autowired\n    ObjectMapper objectMapper\n\n    void 'test generate api doc'() {\n        setup:\n        Files.deleteIfExists(Paths.get('api-spec.json'))\n\n        when:\n        String apiSpec = mockMvc.perform(MockMvcRequestBuilders.get('/v3/api-docs'))\n                .andReturn().response.contentAsString\n\n        then:\n        def json = objectMapper.readValue(apiSpec, Map)\n        json['paths']['/hello']\n\n        cleanup:\n        new File('api-spec.json') &lt;&lt; apiSpec\n    }\n}\n</code></pre>\n<p>The complete application and tests can be found on <a href=\"https://github.com/devatherock/spring-boot-demo/tree/spring-jpa-swagger\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1682497744,"post_id":76104953,"comment_id":134223834,"body_markdown":"this is not enough to make &quot;/v3/api-docs&quot; endpoint work.","body":"this is not enough to make &quot;/v3/api-docs&quot; endpoint work."}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682452602,"creation_date":1682452602,"answer_id":76104953,"question_id":75867761,"body_markdown":"You can use MockMVC without the need for a Spring Test by creating a standalone setup.   Here&#39;s how:\r\n\r\n```java\r\nclass GenerateApiDocTest\r\n{\r\n  private MockMvc mockMvc;\r\n\r\n  @InjectMocks\r\n  private GeneralApiDoc sut;\r\n\r\n  @Mock\r\n  private DeviceUpdateService deviceUpdateService;\r\n\r\n  @BeforeAll\r\n  public void setup(){\r\n    mockMvc = MockMvcBuilders.standaloneSetup(sut).build();\r\n    doNothing().when(deviceUpdateService.updateDevice());\r\n  }\r\n\r\n  @Test\r\n  public void testMvc() throws Exception\r\n  {\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;http://google.com&quot;)).andExpect(status().isOk());\r\n  }\r\n}\r\n```\r\n\r\nNotice there are no need for any extra annotations. This is done with JUnit5 and Mockito.  Very basic test that will accept normal mocking and spying but still tests the service layer. You can add options to the mockMvc as well, such as `MockMvcBuilders.standaloneSetup(sut).setControllerAdvice(new MyAdvice()).build();` to test exception handling as well.","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>You can use MockMVC without the need for a Spring Test by creating a standalone setup.   Here's how:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GenerateApiDocTest\n{\n  private MockMvc mockMvc;\n\n  @InjectMocks\n  private GeneralApiDoc sut;\n\n  @Mock\n  private DeviceUpdateService deviceUpdateService;\n\n  @BeforeAll\n  public void setup(){\n    mockMvc = MockMvcBuilders.standaloneSetup(sut).build();\n    doNothing().when(deviceUpdateService.updateDevice());\n  }\n\n  @Test\n  public void testMvc() throws Exception\n  {\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;http://google.com&quot;)).andExpect(status().isOk());\n  }\n}\n</code></pre>\n<p>Notice there are no need for any extra annotations. This is done with JUnit5 and Mockito.  Very basic test that will accept normal mocking and spying but still tests the service layer. You can add options to the mockMvc as well, such as <code>MockMvcBuilders.standaloneSetup(sut).setControllerAdvice(new MyAdvice()).build();</code> to test exception handling as well.</p>\n"},{"tags":[],"owner":{"account_id":10891141,"reputation":1976,"user_id":8006882,"accept_rate":79,"display_name":"Anna Klein"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687265122,"creation_date":1687243751,"answer_id":76512032,"question_id":75867761,"body_markdown":"If anyone looks for a SpringBoot Webflux solution with a reactive database here you go:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    // add here your repositories, configurations and controller dependencies\r\n    @MockBean({KeyVaultRepository.class, StorageClientImpl.class, ....})\r\n    // remove or add LiquibaseAutoConfiguration/FlywayAutoConfiguration etc. if necessary\r\n    @EnableAutoConfiguration(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class, LiquibaseAutoConfiguration.class})\r\n    class OpenApiTest {\r\n    \r\n        private static final String PATH_TO_SAVE_JSON_FILE = &quot;./open-api.json&quot;;\r\n        private static final String ROUTE_TO_API_DOCS = &quot;http://localhost:8080/v3/api-docs&quot;;\r\n    \r\n        @Test\r\n        void getApiDocs() throws Exception {\r\n            val contentAsString = getWebClient().get().retrieve().bodyToMono(String.class).block();\r\n    \r\n            val path = Paths.get(PATH_TO_SAVE_JSON_FILE);\r\n            val strToBytes = contentAsString.getBytes();\r\n    \r\n            Files.write(path, strToBytes);\r\n        }\r\n    \r\n        private static WebClient getWebClient() {\r\n            return WebClient.create(ROUTE_TO_API_DOCS);\r\n        }\r\n    }\r\n    \r\nwith these dependencies:\r\n\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-webflux-api:2.1.0&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-common:2.1.0&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.7.0&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-webflux-core:1.7.0&#39;","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>If anyone looks for a SpringBoot Webflux solution with a reactive database here you go:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n// add here your repositories, configurations and controller dependencies\n@MockBean({KeyVaultRepository.class, StorageClientImpl.class, ....})\n// remove or add LiquibaseAutoConfiguration/FlywayAutoConfiguration etc. if necessary\n@EnableAutoConfiguration(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class, LiquibaseAutoConfiguration.class})\nclass OpenApiTest {\n\n    private static final String PATH_TO_SAVE_JSON_FILE = &quot;./open-api.json&quot;;\n    private static final String ROUTE_TO_API_DOCS = &quot;http://localhost:8080/v3/api-docs&quot;;\n\n    @Test\n    void getApiDocs() throws Exception {\n        val contentAsString = getWebClient().get().retrieve().bodyToMono(String.class).block();\n\n        val path = Paths.get(PATH_TO_SAVE_JSON_FILE);\n        val strToBytes = contentAsString.getBytes();\n\n        Files.write(path, strToBytes);\n    }\n\n    private static WebClient getWebClient() {\n        return WebClient.create(ROUTE_TO_API_DOCS);\n    }\n}\n</code></pre>\n<p>with these dependencies:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-starter-webflux-api:2.1.0'\nimplementation 'org.springdoc:springdoc-openapi-starter-common:2.1.0'\nimplementation 'org.springdoc:springdoc-openapi-webflux-ui:1.7.0'\nimplementation 'org.springdoc:springdoc-openapi-webflux-core:1.7.0'\n</code></pre>\n"}],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76092765,"answer_count":5,"score":1,"last_activity_date":1687265122,"creation_date":1680014787,"question_id":75867761,"body_markdown":"I need to generate OpenApi documentation as a file. Technically this should be possible without any real services (i&#39;ve got this working) and data base connection.\r\n\r\nThe &quot;test slice&quot; ```@WebMvcTest``` is not working so i have to manually cut a Spring context:\r\n\r\n    @SpringBootTest //load complete Spring context\r\n    @AutoConfigureMockMvc //configure MockMvc to download the OpenAPI documentation\r\n    @MockBean({DeviceUpdateService.class,\r\n            ...,\r\n            \r\n            SomeConfiguration.class})\r\n    class GenerateApiDocTest extends PostgresBaseTest {\r\n\r\n**This works fine** but i still need to provide a database - here by extending ```PostgresBaseTest``` (using test containers to start a DB).\r\n\r\nSo what to mock to get rid of\r\n```Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource``` or the need of extending ```PostgresBaseTest```. \r\n?\r\nI need to mock the complete JPA/JDBC bootstrapping - but i don&#39;t know with what class it starts (if there is one to switch it off)\r\n\r\n(I can use test containers - as i use in my DB tests but i do not want to provide it here.)\r\n\r\nOr is there a better way to only provide things needed for OpenApi generation? \r\n","title":"Spring Boot minimal context to generate OpenApi doc in a test","body":"<p>I need to generate OpenApi documentation as a file. Technically this should be possible without any real services (i've got this working) and data base connection.</p>\n<p>The &quot;test slice&quot; <code>@WebMvcTest</code> is not working so i have to manually cut a Spring context:</p>\n<pre><code>@SpringBootTest //load complete Spring context\n@AutoConfigureMockMvc //configure MockMvc to download the OpenAPI documentation\n@MockBean({DeviceUpdateService.class,\n        ...,\n        \n        SomeConfiguration.class})\nclass GenerateApiDocTest extends PostgresBaseTest {\n</code></pre>\n<p><strong>This works fine</strong> but i still need to provide a database - here by extending <code>PostgresBaseTest</code> (using test containers to start a DB).</p>\n<p>So what to mock to get rid of\n<code>Error creating bean with name 'entityManagerFactory' defined in class path resource</code> or the need of extending <code>PostgresBaseTest</code>.\n?\nI need to mock the complete JPA/JDBC bootstrapping - but i don't know with what class it starts (if there is one to switch it off)</p>\n<p>(I can use test containers - as i use in my DB tests but i do not want to provide it here.)</p>\n<p>Or is there a better way to only provide things needed for OpenApi generation?</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687261354,"post_id":76514154,"comment_id":134908973,"body_markdown":"After a bit more thought, you can probably do this with a `Builder`, though it&#39;s likely more trouble than it&#39;s worth.","body":"After a bit more thought, you can probably do this with a <code>Builder</code>, though it&#39;s likely more trouble than it&#39;s worth."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687261745,"post_id":76514154,"comment_id":134909056,"body_markdown":"&quot;Classes that don&#39;t conform to Bean conventions can also be constructed in FXML, using an object called a &quot;builder&quot;.&quot; -&gt; read the [fxml doc section on instance creation](https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#instance_declaration_elements) to understand what this means and how to do it.  You need to provide a custom [JavaFXBuilderFactory](https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/JavaFXBuilderFactory.html) to the FXML loader constructor.","body":"&quot;Classes that don&#39;t conform to Bean conventions can also be constructed in FXML, using an object called a &quot;builder&quot;.&quot; -&gt; read the <a href=\"https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#instance_declaration_elements\" rel=\"nofollow noreferrer\">fxml doc section on instance creation</a> to understand what this means and how to do it.  You need to provide a custom <a href=\"https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/JavaFXBuilderFactory.html\" rel=\"nofollow noreferrer\">JavaFXBuilderFactory</a> to the FXML loader constructor."}],"answers":[{"comments":[{"owner":{"account_id":10642880,"reputation":83,"user_id":7837328,"display_name":"iamgio"},"score":1,"creation_date":1687264926,"post_id":76514502,"comment_id":134909782,"body_markdown":"A lot of effort was put here, thank you very much! I don&#39;t think adding all this code is worth it (it would also be hard to maintain) so I&#39;ll probably just add `setX` while keeping `withX` methods as you suggested.","body":"A lot of effort was put here, thank you very much! I don&#39;t think adding all this code is worth it (it would also be hard to maintain) so I&#39;ll probably just add <code>setX</code> while keeping <code>withX</code> methods as you suggested."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687282086,"post_id":76514502,"comment_id":134913817,"body_markdown":"@GiorgioG JavaFX used to have an alternate fluent builder API for most components, including an [animation builders](https://docs.oracle.com/javafx/2/api/javafx/animation/package-summary.html) but they were [deprecated and removed](https://bugs.openjdk.org/browse/JDK-8092861?subTaskView=unresolved) for similar maintenance concerns as you state.","body":"@GiorgioG JavaFX used to have an alternate fluent builder API for most components, including an <a href=\"https://docs.oracle.com/javafx/2/api/javafx/animation/package-summary.html\" rel=\"nofollow noreferrer\">animation builders</a> but they were <a href=\"https://bugs.openjdk.org/browse/JDK-8092861?subTaskView=unresolved\" rel=\"nofollow noreferrer\">deprecated and removed</a> for similar maintenance concerns as you state."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687297095,"post_id":76514502,"comment_id":134916295,"body_markdown":"@GiorgioG. the code for all of the builders was open-sourced (you can find it in the [Gluon repository](https://github.com/gluonhq/8u-dev-rt/tree/master/modules/builders/src/main/java/javafx/animation)), though it is no longer maintained.  You can see many examples of builder classes there, though they are designed to work with the core JavaFX classes and not for your custom classes.  For your purposes, they would just serve as examples if you chose to create JavaFX-type builders (which it doesn&#39;t seem you will do in the end).","body":"@GiorgioG. the code for all of the builders was open-sourced (you can find it in the <a href=\"https://github.com/gluonhq/8u-dev-rt/tree/master/modules/builders/src/main/java/javafx/animation\" rel=\"nofollow noreferrer\">Gluon repository</a>), though it is no longer maintained.  You can see many examples of builder classes there, though they are designed to work with the core JavaFX classes and not for your custom classes.  For your purposes, they would just serve as examples if you chose to create JavaFX-type builders (which it doesn&#39;t seem you will do in the end)."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687264933,"creation_date":1687262636,"answer_id":76514502,"question_id":76514154,"body_markdown":"I made this work with a custom Builder. It&#39;s probably more effort than it is worth. I would recommend just implementing both `withCurve()` and `setCurve()` in your `AnimationSettings` class.\r\n\r\nHowever, for demo purposes I added\r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    public enum Curve {\r\n        LINEAR\r\n    }\r\n\r\nLeft `AnimationSettings` as-is:\r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    public class AnimationSettings {\r\n    \r\n        private Duration duration = Duration.seconds(1);\r\n        private Curve curve = Curve.LINEAR;\r\n    \r\n        /**\r\n         * @param duration duration of the animation to set\r\n         * @return this for concatenation\r\n         */\r\n        public AnimationSettings withDuration(Duration duration) {\r\n            this.duration = duration;\r\n            return this;\r\n        }\r\n    \r\n        /**\r\n         * @return duration of the animation\r\n         */\r\n        public Duration getDuration() {\r\n            return duration;\r\n        }\r\n    \r\n        /**\r\n         * @param curve curve of the animation to set\r\n         * @return this for concatenation\r\n         */\r\n        public AnimationSettings withCurve(Curve curve) {\r\n            this.curve = curve;\r\n            return this;\r\n        }\r\n    \r\n        /**\r\n         * @return curve of the animation\r\n         */\r\n        public Curve getCurve() {\r\n            return curve;\r\n        }\r\n    }\r\n\r\nThen I created a builder for `AnimationSettings`. This is based on the [current implementation of `JavaFXFontBuilder`](https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/JavaFXFontBuilder.java). This implementation makes it a `Map&lt;String, Object&gt;` implementation, with the `put(...)` method accepting the name of a property and its value. You can also implement this using Java Bean style `setCurve(...)` and `setDuration(...)` methods. \r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    import javafx.util.Builder;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.AbstractMap;\r\n    import java.util.Set;\r\n    \r\n    public class AnimationSettingsBuilder extends AbstractMap&lt;String, Object&gt; implements Builder&lt;AnimationSettings&gt; {\r\n    \r\n        private Duration duration = Duration.seconds(1);\r\n    \r\n        private Curve curve = Curve.LINEAR;\r\n    \r\n        @Override\r\n        public AnimationSettings build() {\r\n            return new AnimationSettings()\r\n                    .withCurve(curve)\r\n                    .withDuration(duration);\r\n        }\r\n    \r\n        @Override\r\n        public Object put(String key, Object value) {\r\n            if (&quot;duration&quot;.equals(key)) {\r\n                // can parse units here if you want more flexibility, but for simplicity:\r\n                duration = Duration.seconds(Double.parseDouble((String)value));\r\n            } else if (&quot;curve&quot;.equals(key)) {\r\n                curve = Curve.valueOf((String)value);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean containsKey(Object key) {\r\n            return false; // False in this context means that the property is NOT read only\r\n        }\r\n    \r\n        @Override\r\n        public Object get(Object key) {\r\n            return null; // In certain cases, get is also required to return null for read-write &quot;properties&quot;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Entry&lt;String, Object&gt;&gt; entrySet() {\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\nAnd then finally a builder factory. The builder factory has to implement the `getBuilder(...)` method. This just wraps a default implementation, returns the builder defined above to build `AnimationSettings` instances, and delegates to the default builder factory for other classes.\r\n\r\n    package org.jamesd.examples.buildertest;\r\n\r\n    import javafx.fxml.JavaFXBuilderFactory;\r\n    import javafx.util.Builder;\r\n    import javafx.util.BuilderFactory;\r\n    \r\n    public class AnimationSettingsBuilderFactory implements BuilderFactory {\r\n    \r\n        private final BuilderFactory defaultBuilderFactory = new JavaFXBuilderFactory();\r\n        @Override\r\n        public Builder&lt;?&gt; getBuilder(Class&lt;?&gt; type) {\r\n            if (type == AnimationSettings.class) {\r\n                return new AnimationSettingsBuilder();\r\n            }\r\n            return defaultBuilderFactory.getBuilder(type);\r\n        }\r\n    }\r\n\r\nFor simple testing, here is `Test.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import org.jamesd.examples.buildertest.AnimationSettings?&gt;\r\n    &lt;AnimationSettings xmlns=&quot;http://javafx.com/javafx&quot;\r\n                       xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n                       duration=&quot;2.0&quot; curve=&quot;LINEAR&quot;&gt;\r\n    \r\n    &lt;/AnimationSettings&gt;\r\n\r\nand `Test.java`:\r\n\r\n    package org.jamesd.examples.buildertest;\r\n    \r\n    import javafx.fxml.FXMLLoader;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(Test.class.getResource(&quot;Test.fxml&quot;));\r\n            loader.setBuilderFactory(new AnimationSettingsBuilderFactory());\r\n            AnimationSettings settings = loader.load();\r\n            System.out.println(&quot;Duration: &quot;+settings.getDuration());\r\n            System.out.println(&quot;Curve: &quot;+settings.getCurve());\r\n        }\r\n    }","title":"JavaFX: Custom setter name for FXML attribute?","body":"<p>I made this work with a custom Builder. It's probably more effort than it is worth. I would recommend just implementing both <code>withCurve()</code> and <code>setCurve()</code> in your <code>AnimationSettings</code> class.</p>\n<p>However, for demo purposes I added</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\npublic enum Curve {\n    LINEAR\n}\n</code></pre>\n<p>Left <code>AnimationSettings</code> as-is:</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\npublic class AnimationSettings {\n\n    private Duration duration = Duration.seconds(1);\n    private Curve curve = Curve.LINEAR;\n\n    /**\n     * @param duration duration of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withDuration(Duration duration) {\n        this.duration = duration;\n        return this;\n    }\n\n    /**\n     * @return duration of the animation\n     */\n    public Duration getDuration() {\n        return duration;\n    }\n\n    /**\n     * @param curve curve of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withCurve(Curve curve) {\n        this.curve = curve;\n        return this;\n    }\n\n    /**\n     * @return curve of the animation\n     */\n    public Curve getCurve() {\n        return curve;\n    }\n}\n</code></pre>\n<p>Then I created a builder for <code>AnimationSettings</code>. This is based on the <a href=\"https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.fxml/src/main/java/com/sun/javafx/fxml/builder/JavaFXFontBuilder.java\" rel=\"nofollow noreferrer\">current implementation of <code>JavaFXFontBuilder</code></a>. This implementation makes it a <code>Map&lt;String, Object&gt;</code> implementation, with the <code>put(...)</code> method accepting the name of a property and its value. You can also implement this using Java Bean style <code>setCurve(...)</code> and <code>setDuration(...)</code> methods.</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\nimport javafx.util.Builder;\nimport javafx.util.Duration;\n\nimport java.util.AbstractMap;\nimport java.util.Set;\n\npublic class AnimationSettingsBuilder extends AbstractMap&lt;String, Object&gt; implements Builder&lt;AnimationSettings&gt; {\n\n    private Duration duration = Duration.seconds(1);\n\n    private Curve curve = Curve.LINEAR;\n\n    @Override\n    public AnimationSettings build() {\n        return new AnimationSettings()\n                .withCurve(curve)\n                .withDuration(duration);\n    }\n\n    @Override\n    public Object put(String key, Object value) {\n        if (&quot;duration&quot;.equals(key)) {\n            // can parse units here if you want more flexibility, but for simplicity:\n            duration = Duration.seconds(Double.parseDouble((String)value));\n        } else if (&quot;curve&quot;.equals(key)) {\n            curve = Curve.valueOf((String)value);\n        }\n        return null;\n    }\n\n    @Override\n    public boolean containsKey(Object key) {\n        return false; // False in this context means that the property is NOT read only\n    }\n\n    @Override\n    public Object get(Object key) {\n        return null; // In certain cases, get is also required to return null for read-write &quot;properties&quot;\n    }\n\n    @Override\n    public Set&lt;Entry&lt;String, Object&gt;&gt; entrySet() {\n        return null;\n    }\n\n}\n</code></pre>\n<p>And then finally a builder factory. The builder factory has to implement the <code>getBuilder(...)</code> method. This just wraps a default implementation, returns the builder defined above to build <code>AnimationSettings</code> instances, and delegates to the default builder factory for other classes.</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\nimport javafx.fxml.JavaFXBuilderFactory;\nimport javafx.util.Builder;\nimport javafx.util.BuilderFactory;\n\npublic class AnimationSettingsBuilderFactory implements BuilderFactory {\n\n    private final BuilderFactory defaultBuilderFactory = new JavaFXBuilderFactory();\n    @Override\n    public Builder&lt;?&gt; getBuilder(Class&lt;?&gt; type) {\n        if (type == AnimationSettings.class) {\n            return new AnimationSettingsBuilder();\n        }\n        return defaultBuilderFactory.getBuilder(type);\n    }\n}\n</code></pre>\n<p>For simple testing, here is <code>Test.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import org.jamesd.examples.buildertest.AnimationSettings?&gt;\n&lt;AnimationSettings xmlns=&quot;http://javafx.com/javafx&quot;\n                   xmlns:fx=&quot;http://javafx.com/fxml&quot;\n                   duration=&quot;2.0&quot; curve=&quot;LINEAR&quot;&gt;\n\n&lt;/AnimationSettings&gt;\n</code></pre>\n<p>and <code>Test.java</code>:</p>\n<pre><code>package org.jamesd.examples.buildertest;\n\nimport javafx.fxml.FXMLLoader;\n\nimport java.io.IOException;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        FXMLLoader loader = new FXMLLoader(Test.class.getResource(&quot;Test.fxml&quot;));\n        loader.setBuilderFactory(new AnimationSettingsBuilderFactory());\n        AnimationSettings settings = loader.load();\n        System.out.println(&quot;Duration: &quot;+settings.getDuration());\n        System.out.println(&quot;Curve: &quot;+settings.getCurve());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10642880,"reputation":83,"user_id":7837328,"display_name":"iamgio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76514502,"answer_count":1,"score":0,"last_activity_date":1687264933,"creation_date":1687259811,"question_id":76514154,"body_markdown":"I have the following class that uses fluent setters in order to allow concatenation:\r\n\r\n```java\r\n/**\r\n * Data that affects the way an animation is played.\r\n */\r\npublic class AnimationSettings {\r\n\r\n    private Duration duration = Duration.seconds(1);\r\n    private Curve curve = Curve.LINEAR;\r\n\r\n    /**\r\n     * @param duration duration of the animation to set\r\n     * @return this for concatenation\r\n     */\r\n    public AnimationSettings withDuration(Duration duration) {\r\n        this.duration = duration;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @return duration of the animation\r\n     */\r\n    public Duration getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    /**\r\n     * @param curve curve of the animation to set\r\n     * @return this for concatenation\r\n     */\r\n    public AnimationSettings withCurve(Curve curve) {\r\n        this.curve = curve;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @return curve of the animation\r\n     */\r\n    public Curve getCurve() {\r\n        return curve;\r\n    }\r\n}\r\n```\r\n\r\nWhat I would like to achieve is creating a new instance and set those values from an FXML file, like this:\r\n\r\n```xml\r\n&lt;AnimatedNode&gt;\r\n    &lt;settings&gt;\r\n        &lt;AnimationSettings duration=&quot;900ms&quot; curve=&quot;LINEAR&quot;/&gt;\r\n    &lt;/settings&gt;\r\n&lt;/AnimatedNode&gt;\r\n```\r\n\r\nHowever, an error is given as the attributes `duration` and `curve` can&#39;t be found.  \r\nAfter some investigation, I realized an FXML attribute should be linked to both a getter and setter, strictly named `getX` and `setX`, so my `withX` is not seen as a setter and the attribute cannot be set.\r\n\r\nI was wondering if there is some annotation I am not aware of that tells JavaFX that a method should be treated as a setter, or some other way, as I think renaming those methods to `setX` would lose the &#39;fluent&#39; feel.","title":"JavaFX: Custom setter name for FXML attribute?","body":"<p>I have the following class that uses fluent setters in order to allow concatenation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Data that affects the way an animation is played.\n */\npublic class AnimationSettings {\n\n    private Duration duration = Duration.seconds(1);\n    private Curve curve = Curve.LINEAR;\n\n    /**\n     * @param duration duration of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withDuration(Duration duration) {\n        this.duration = duration;\n        return this;\n    }\n\n    /**\n     * @return duration of the animation\n     */\n    public Duration getDuration() {\n        return duration;\n    }\n\n    /**\n     * @param curve curve of the animation to set\n     * @return this for concatenation\n     */\n    public AnimationSettings withCurve(Curve curve) {\n        this.curve = curve;\n        return this;\n    }\n\n    /**\n     * @return curve of the animation\n     */\n    public Curve getCurve() {\n        return curve;\n    }\n}\n</code></pre>\n<p>What I would like to achieve is creating a new instance and set those values from an FXML file, like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;AnimatedNode&gt;\n    &lt;settings&gt;\n        &lt;AnimationSettings duration=&quot;900ms&quot; curve=&quot;LINEAR&quot;/&gt;\n    &lt;/settings&gt;\n&lt;/AnimatedNode&gt;\n</code></pre>\n<p>However, an error is given as the attributes <code>duration</code> and <code>curve</code> can't be found.<br />\nAfter some investigation, I realized an FXML attribute should be linked to both a getter and setter, strictly named <code>getX</code> and <code>setX</code>, so my <code>withX</code> is not seen as a setter and the attribute cannot be set.</p>\n<p>I was wondering if there is some annotation I am not aware of that tells JavaFX that a method should be treated as a setter, or some other way, as I think renaming those methods to <code>setX</code> would lose the 'fluent' feel.</p>\n"},{"tags":["javascript","java","android","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687015569,"post_id":76496707,"comment_id":134879574,"body_markdown":"The linked solution does not fit your problem at all, since you pass key and IV *directly*, while in the linked solution the key material is passed as string, so key and IV are *inferred via a key derivation function*.","body":"The linked solution does not fit your problem at all, since you pass key and IV <i>directly</i>, while in the linked solution the key material is passed as string, so key and IV are <i>inferred via a key derivation function</i>."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687015670,"post_id":76496707,"comment_id":134879596,"body_markdown":"On the Java side, try a simple encryption/decryption with `AES/CBC/PKCS5Padding` where key and IV are passed directly. Be sure to use an identical key for encryption and decryption (the same applies to the IV). This is not the case in the posted code. If you get stuck, post your code and describe the problem.","body":"On the Java side, try a simple encryption/decryption with <code>AES&#47;CBC&#47;PKCS5Padding</code> where key and IV are passed directly. Be sure to use an identical key for encryption and decryption (the same applies to the IV). This is not the case in the posted code. If you get stuck, post your code and describe the problem."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687264775,"post_id":76496707,"comment_id":134909738,"body_markdown":"@Topaco after your suggestion, I gave a try (with identical key [but later I will have to go with different]) and have post the code. Can u figure out now?","body":"@Topaco after your suggestion, I gave a try (with identical key [but later I will have to go with different]) and have post the code. Can u figure out now?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687267896,"post_id":76496707,"comment_id":134910602,"body_markdown":"Key and IV must be hex decoded (and not UTF8 encoded). In addition, no charset encoding may be used for the encoding/decoding of the ciphertext, but a binary-to-text encoding like Base64. AES is symmetric encryption and uses *by definition* the same key for encryption and decryption! I recommend you to familiarize yourself with symmetric and asymmetric encryption and encodings.","body":"Key and IV must be hex decoded (and not UTF8 encoded). In addition, no charset encoding may be used for the encoding/decoding of the ciphertext, but a binary-to-text encoding like Base64. AES is symmetric encryption and uses <i>by definition</i> the same key for encryption and decryption! I recommend you to familiarize yourself with symmetric and asymmetric encryption and encodings."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687271814,"post_id":76496707,"comment_id":134911528,"body_markdown":"@Topaco\nThe server side is not in my hand so can&#39;t make any change on server. The javaScript works fine (with encryption / decryption). And I have to make code in Java (android) that will work same like javaScript. I have tried a lot, but keep on getting different errors. As I am as though new to encryption, I was expecting code answer.","body":"@Topaco The server side is not in my hand so can&#39;t make any change on server. The javaScript works fine (with encryption / decryption). And I have to make code in Java (android) that will work same like javaScript. I have tried a lot, but keep on getting different errors. As I am as though new to encryption, I was expecting code answer."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687286180,"post_id":76496707,"comment_id":134914615,"body_markdown":"*...As I am as though new to encryption, I was expecting code answer...* The encryption/decryption you posted is correct. Only the encoding issues mentioned above need to be fixed. I assumed that you can do this yourself. If not, here is a fix for decryption as example: https://www.jdoodle.com/ia/JqB.","body":"<i>...As I am as though new to encryption, I was expecting code answer...</i> The encryption/decryption you posted is correct. Only the encoding issues mentioned above need to be fixed. I assumed that you can do this yourself. If not, here is a fix for decryption as example: <a href=\"https://www.jdoodle.com/ia/JqB\" rel=\"nofollow noreferrer\">jdoodle.com/ia/JqB</a>."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687327931,"post_id":76496707,"comment_id":134919239,"body_markdown":"@Topaco thank u very much for ur valuable time.\nHere is the https://jsfiddle.net/6atszm5d/ u had given and this is the one with server side received data https://jsfiddle.net/sifr_in/5u13m7sb/ (which works).\nThe java example u have given\njdoodle.com/ia/JqB\nis working fine (also after changing HexFormat.of())\nBut after edit key+iv+text according to server side,\njdoodle.com/ia/Jsl\ni receive:\nIV buffer too short for given offset/length combination","body":"@Topaco thank u very much for ur valuable time. Here is the <a href=\"https://jsfiddle.net/6atszm5d/\" rel=\"nofollow noreferrer\">jsfiddle.net/6atszm5d</a> u had given and this is the one with server side received data <a href=\"https://jsfiddle.net/sifr_in/5u13m7sb/\" rel=\"nofollow noreferrer\">jsfiddle.net/sifr_in/5u13m7sb</a> (which works). The java example u have given jdoodle.com/ia/JqB is working fine (also after changing HexFormat.of()) But after edit key+iv+text according to server side, jdoodle.com/ia/Jsl i receive: IV buffer too short for given offset/length combination"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1687331124,"post_id":76496707,"comment_id":134919825,"body_markdown":"Here: https://www.jdoodle.com/ia/Jso you will find the Java code that decrypts your server data. Note that key and IV are byte sequences. To convert them to strings (e.g. for display), a binary-to-text encoding is applied, like Base64 or hex. You seem to use different encodings on both sides, so in my linked code you find two examples of key import, once hex encoded, once Base64 encoded (the key itself, i.e. the byte sequence after decoding, is of course the same). Additionally, [here](https://cryptii.com/pipes/base64-to-hex) is a website for converting the encodings. Maybe it&#39;s clearer now.","body":"Here: <a href=\"https://www.jdoodle.com/ia/Jso\" rel=\"nofollow noreferrer\">jdoodle.com/ia/Jso</a> you will find the Java code that decrypts your server data. Note that key and IV are byte sequences. To convert them to strings (e.g. for display), a binary-to-text encoding is applied, like Base64 or hex. You seem to use different encodings on both sides, so in my linked code you find two examples of key import, once hex encoded, once Base64 encoded (the key itself, i.e. the byte sequence after decoding, is of course the same). Additionally, <a href=\"https://cryptii.com/pipes/base64-to-hex\" rel=\"nofollow noreferrer\">here</a> is a website for converting the encodings. Maybe it&#39;s clearer now."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1687331663,"post_id":76496707,"comment_id":134919957,"body_markdown":"@Topaco thank u so much for notifying the difference. It worked completely fine. may creator bless u.","body":"@Topaco thank u so much for notifying the difference. It worked completely fine. may creator bless u."}],"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687264655,"creation_date":1687013116,"question_id":76496707,"body_markdown":"I have following two functions for encrypting and decrypting in JavaScript.&lt;br&gt;\r\nthe **keys in below functions are not identical** because the server side is programmed accordingly.&lt;br&gt;\r\n\r\n```\r\nfunction encryptData(data_to_encrypt){\r\n    var key = CryptoJS.enc.Hex.parse(&#39;0123456789abcdef0123456789abcdef&#39;);\r\n    var iv  = CryptoJS.enc.Hex.parse(&#39;abcdef9876543210abcdef9876543210&#39;);\r\n    var encrypted = CryptoJS.AES.encrypt((data_to_encrypt), key, { iv: iv });\r\n    var encrypted_data = encrypted.ciphertext.toString(CryptoJS.enc.Base64);\r\n    return encrypted_data;\r\n}\r\n\r\nfunction decryptData(data_to_decrypt){\r\n    var keyBase64 = CryptoJS.enc.Base64.parse(&quot;ITU2NjNhI0tOc2FmZExOTQ==&quot;);\r\n    var iv1 = CryptoJS.enc.Base64.parse(&#39;AAAAAAAAAAAAAAAAAAAAAA==&#39;);\r\n    var bytes = CryptoJS.AES.decrypt(data_to_decrypt, keyBase64, {iv: iv1}, {mode: CryptoJS.mode.CBC});\r\n    var plaintext = bytes.toString(CryptoJS.enc.Utf8);\r\n    return plaintext;\r\n}\r\n```\r\n**I want to do this in android API 19 and +.&lt;br&gt;**\r\nI tried to achieve it with solution given here&lt;br&gt; https://stackoverflow.com/a/41434590/2173890&lt;br&gt;\r\nbut could not figure out how and where to pass &quot;key&quot; and &quot;iv&quot;.\r\n\r\nSo, I tried with this code:&lt;br&gt;\r\n```\r\nString strToEncrypt = &quot;hello world. i am new bee.&quot;;\r\ntry {\r\n    String strEncrypted = openssl_encrypt(strToEncrypt, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\r\n    String strDecrypted = openssl_decrypt(strEncrypted, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\r\n    System.out.println(strDecrypted);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nprivate String openssl_encrypt(String data, String strKey, String strIv) throws Exception {\r\n    Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\r\n    IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\r\n\r\n    ciper.init(Cipher.ENCRYPT_MODE, key, iv);\r\n    byte[] encryptedCiperBytes = ciper.doFinal(data.getBytes());\r\n\r\n    String s = new String(encryptedCiperBytes);\r\n    System.out.println(&quot;Ciper : &quot; + s);\r\n    return s;\r\n}\r\n\r\nprivate String openssl_decrypt(String input, String strKey, String strIv) {\r\n    String s = null;\r\n    try {\r\n        Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n\r\n        SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\r\n        IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\r\n\r\n        ciper.init(Cipher.DECRYPT_MODE, key, iv);\r\n        byte[] encryptedCiperBytes = ciper.doFinal(input.getBytes());\r\n\r\n        s = new String(encryptedCiperBytes);\r\n        System.out.println(&quot;Ciper : &quot; + s);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return s;\r\n}\r\n```\r\nbut openssl_decrypt throws error:&lt;br&gt;\r\n```\r\njavax.crypto.IllegalBlockSizeException: error:1e00007b:Cipher functions:OPENSSL_internal:WRONG_FINAL_BLOCK_LENGTH\r\n```\r\nI have tried the above with identical keys &quot;strKey&quot;.&lt;br&gt;\r\n\r\n\r\n\r\nThe javascript functions are working fine.&lt;br&gt;\r\n**I want exact parallel function in java**&lt;br&gt;that too compatible with old Java version so that I can implement it in android API 19.","title":"Encrypt Decrypt in Java (android) just like javascript CryptoJS with compatibility","body":"<p>I have following two functions for encrypting and decrypting in JavaScript.<br>\nthe <strong>keys in below functions are not identical</strong> because the server side is programmed accordingly.<br></p>\n<pre><code>function encryptData(data_to_encrypt){\n    var key = CryptoJS.enc.Hex.parse('0123456789abcdef0123456789abcdef');\n    var iv  = CryptoJS.enc.Hex.parse('abcdef9876543210abcdef9876543210');\n    var encrypted = CryptoJS.AES.encrypt((data_to_encrypt), key, { iv: iv });\n    var encrypted_data = encrypted.ciphertext.toString(CryptoJS.enc.Base64);\n    return encrypted_data;\n}\n\nfunction decryptData(data_to_decrypt){\n    var keyBase64 = CryptoJS.enc.Base64.parse(&quot;ITU2NjNhI0tOc2FmZExOTQ==&quot;);\n    var iv1 = CryptoJS.enc.Base64.parse('AAAAAAAAAAAAAAAAAAAAAA==');\n    var bytes = CryptoJS.AES.decrypt(data_to_decrypt, keyBase64, {iv: iv1}, {mode: CryptoJS.mode.CBC});\n    var plaintext = bytes.toString(CryptoJS.enc.Utf8);\n    return plaintext;\n}\n</code></pre>\n<p><strong>I want to do this in android API 19 and +.<br></strong>\nI tried to achieve it with solution given here<br> <a href=\"https://stackoverflow.com/a/41434590/2173890\">https://stackoverflow.com/a/41434590/2173890</a><br>\nbut could not figure out how and where to pass &quot;key&quot; and &quot;iv&quot;.</p>\n<p>So, I tried with this code:<br></p>\n<pre><code>String strToEncrypt = &quot;hello world. i am new bee.&quot;;\ntry {\n    String strEncrypted = openssl_encrypt(strToEncrypt, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\n    String strDecrypted = openssl_decrypt(strEncrypted, &quot;0123456789abcdef0123456789abcdef&quot;, &quot;abcdef9876543210abcdef9876543210&quot;);\n    System.out.println(strDecrypted);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nprivate String openssl_encrypt(String data, String strKey, String strIv) throws Exception {\n    Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n    SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\n    IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\n\n    ciper.init(Cipher.ENCRYPT_MODE, key, iv);\n    byte[] encryptedCiperBytes = ciper.doFinal(data.getBytes());\n\n    String s = new String(encryptedCiperBytes);\n    System.out.println(&quot;Ciper : &quot; + s);\n    return s;\n}\n\nprivate String openssl_decrypt(String input, String strKey, String strIv) {\n    String s = null;\n    try {\n        Cipher ciper = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n\n        SecretKeySpec key = new SecretKeySpec(strKey.getBytes(), &quot;AES&quot;);\n        IvParameterSpec iv = new IvParameterSpec(strIv.getBytes(), 0, ciper.getBlockSize());\n\n        ciper.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] encryptedCiperBytes = ciper.doFinal(input.getBytes());\n\n        s = new String(encryptedCiperBytes);\n        System.out.println(&quot;Ciper : &quot; + s);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return s;\n}\n</code></pre>\n<p>but openssl_decrypt throws error:<br></p>\n<pre><code>javax.crypto.IllegalBlockSizeException: error:1e00007b:Cipher functions:OPENSSL_internal:WRONG_FINAL_BLOCK_LENGTH\n</code></pre>\n<p>I have tried the above with identical keys &quot;strKey&quot;.<br></p>\n<p>The javascript functions are working fine.<br>\n<strong>I want exact parallel function in java</strong><br>that too compatible with old Java version so that I can implement it in android API 19.</p>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":23464152,"reputation":11,"user_id":17518620,"display_name":"jonas-pammi"},"score":1,"creation_date":1687270512,"post_id":76510834,"comment_id":134911243,"body_markdown":"thx you helped me alot","body":"thx you helped me alot"}],"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687264247,"creation_date":1687223621,"answer_id":76510834,"question_id":76508975,"body_markdown":"### Filling `SVGPath` with colors and linear gradients \r\n\r\nFor the integer part, it is very easy; we iterate and fill the shape with just one color. But it&#39;s a little bit tricky for the floating part. You need to convert that floating part in percentage (the transparent part is the subtract to complete 100%) e.g. 80% color (0.8) and 20% transparent (1.0 - 0.2).\r\n\r\nThis is a single class JavaFX app you can try:\r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Star[] stars = {new Star(), new Star(), new Star(), new Star(), new Star()};\r\n    \r\n            Label label = new Label();\r\n            HBox box = new HBox(stars);\r\n            box.getChildren().add(label);\r\n            box.setAlignment(Pos.CENTER);\r\n    \r\n            setRating(2.2f, label, stars);\r\n            var scene = new Scene(new StackPane(box), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private void setRating(Float value, Label label, Star[] stars) {\r\n            for (Star star : stars)\r\n                star.clearStar();\r\n    \r\n            int intPart = value.intValue();\r\n            float floatPart = value - intPart;\r\n    \r\n            for (int i = 0; i &lt; intPart; i++)\r\n                stars[i].setFill(Color.YELLOWGREEN);\r\n\r\n            if (floatPart &gt;= 0.5)\r\n                stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to right, yellowgreen &quot;\r\n                        + floatPart * 100 + &quot;%, transparent &quot;\r\n                        + 100 * (1 - floatPart) + &quot;%) ;&quot;);\r\n    \r\n            else\r\n                stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to left, transparent &quot;\r\n                        + 100 * (1 - floatPart)+ &quot;%, yellowgreen &quot;\r\n                        +  floatPart * 100 + &quot;%) ;&quot;);\r\n            \r\n            label.setText(String.valueOf(value));\r\n        }\r\n    \r\n        class Star extends SVGPath {\r\n            public Star() {\r\n                this.setContent(&quot;M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,&quot;\r\n                        + &quot;1.412l12.091,1.757  c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c&quot;\r\n                        + &quot;-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042  c0.362,2.109-1.852,&quot;\r\n                        + &quot;3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685&quot;\r\n                        + &quot;  c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692&quot;\r\n                        + &quot;-0.742-2.285l-8.749-8.528  c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841&quot;\r\n                        + &quot;-0.122,1.568-0.65,1.944-1.412l5.407-10.956  C22.602,0.567,25.338,0.567,26.285,2.486z&quot;);\r\n                setFill(Color.TRANSPARENT);\r\n                setStroke(Color.BLACK);\r\n            }\r\n    \r\n            public void clearStar() {\r\n                setFill(Color.TRANSPARENT);\r\n                getStyleClass().clear();\r\n            }\r\n        }\r\n    }\r\n\r\nResults: \r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYcB9.png\r\n  [2]: https://i.stack.imgur.com/Z6L6H.png\r\n  [3]: https://i.stack.imgur.com/N2ocR.png","title":"JavaFX visualise Stars","body":"<h3>Filling <code>SVGPath</code> with colors and linear gradients</h3>\n<p>For the integer part, it is very easy; we iterate and fill the shape with just one color. But it's a little bit tricky for the floating part. You need to convert that floating part in percentage (the transparent part is the subtract to complete 100%) e.g. 80% color (0.8) and 20% transparent (1.0 - 0.2).</p>\n<p>This is a single class JavaFX app you can try:</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n    @Override\n    public void start(Stage stage) {\n        Star[] stars = {new Star(), new Star(), new Star(), new Star(), new Star()};\n\n        Label label = new Label();\n        HBox box = new HBox(stars);\n        box.getChildren().add(label);\n        box.setAlignment(Pos.CENTER);\n\n        setRating(2.2f, label, stars);\n        var scene = new Scene(new StackPane(box), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private void setRating(Float value, Label label, Star[] stars) {\n        for (Star star : stars)\n            star.clearStar();\n\n        int intPart = value.intValue();\n        float floatPart = value - intPart;\n\n        for (int i = 0; i &lt; intPart; i++)\n            stars[i].setFill(Color.YELLOWGREEN);\n\n        if (floatPart &gt;= 0.5)\n            stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to right, yellowgreen &quot;\n                    + floatPart * 100 + &quot;%, transparent &quot;\n                    + 100 * (1 - floatPart) + &quot;%) ;&quot;);\n\n        else\n            stars[intPart].setStyle(&quot;-fx-fill:linear-gradient(to left, transparent &quot;\n                    + 100 * (1 - floatPart)+ &quot;%, yellowgreen &quot;\n                    +  floatPart * 100 + &quot;%) ;&quot;);\n        \n        label.setText(String.valueOf(value));\n    }\n\n    class Star extends SVGPath {\n        public Star() {\n            this.setContent(&quot;M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,&quot;\n                    + &quot;1.412l12.091,1.757  c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c&quot;\n                    + &quot;-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042  c0.362,2.109-1.852,&quot;\n                    + &quot;3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685&quot;\n                    + &quot;  c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692&quot;\n                    + &quot;-0.742-2.285l-8.749-8.528  c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841&quot;\n                    + &quot;-0.122,1.568-0.65,1.944-1.412l5.407-10.956  C22.602,0.567,25.338,0.567,26.285,2.486z&quot;);\n            setFill(Color.TRANSPARENT);\n            setStroke(Color.BLACK);\n        }\n\n        public void clearStar() {\n            setFill(Color.TRANSPARENT);\n            getStyleClass().clear();\n        }\n    }\n}\n</code></pre>\n<p>Results:</p>\n<p><img src=\"https://i.stack.imgur.com/QYcB9.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/Z6L6H.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/N2ocR.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":23464152,"reputation":11,"user_id":17518620,"display_name":"jonas-pammi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1687353933,"accepted_answer_id":76510834,"answer_count":1,"score":0,"last_activity_date":1687264247,"creation_date":1687196621,"question_id":76508975,"body_markdown":"I am currenty building an Supermarket using JavaFX. Each item in the supermarket has multiple ranting for example. An apple has 3,8 out of 5 possible stars. \r\nI found libraries can visualise only hole stars.\r\n\r\nDo you guys know a library that can visulize half or even 8/10 stars?","title":"JavaFX visualise Stars","body":"<p>I am currenty building an Supermarket using JavaFX. Each item in the supermarket has multiple ranting for example. An apple has 3,8 out of 5 possible stars.\nI found libraries can visualise only hole stars.</p>\n<p>Do you guys know a library that can visulize half or even 8/10 stars?</p>\n"},{"tags":["java","tomcat","cxf","soap-client"],"owner":{"account_id":282078,"reputation":847,"user_id":578759,"display_name":"Hok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687264142,"creation_date":1687264142,"question_id":76514696,"body_markdown":"I upgraded the CXF dependency of our webapp from 3.4.10 to 3.5.6.\r\nThe upgrade required no further changes, and everything runs fine in my IDE (Eclipse 4.27 with OpenJDK 17.0.4.1 and Tomcat 9.0.76 on Ubuntu 22.04.2).\r\n\r\nHowever, when deploying the same webapp on the target systems (same versions of tomcat and Java on Debian 11), a number of errors occur reproducibly:\r\n* HTTPS connections to some SOAP servers fail (&quot;Problem writing SAAJ model to stream: PKIX path building failed&quot;) even though the required certificate was loaded\r\n* a multipart response from a different server can&#39;t be read because javax.xml.soap.AttachmentPart.getSize() returns 0, even though the response payload is valid and not empty\r\n\r\nRolling back the CXF version fixes both problems immediately.\r\n\r\nI can&#39;t find any significant difference between both deployments, local and target. Chances are that some subtle configuration settings are different, but I didn&#39;t find any.\r\n\r\nPerhaps there is a version conflict with other dependencies (of which there are plenty) which surfaces only randomly.\r\n\r\nWhat can I do to identify the root cause of this problem?","title":"Strange Errors after Upgrading Apache CXF from 3.4.10 to 3.5.6","body":"<p>I upgraded the CXF dependency of our webapp from 3.4.10 to 3.5.6.\nThe upgrade required no further changes, and everything runs fine in my IDE (Eclipse 4.27 with OpenJDK 17.0.4.1 and Tomcat 9.0.76 on Ubuntu 22.04.2).</p>\n<p>However, when deploying the same webapp on the target systems (same versions of tomcat and Java on Debian 11), a number of errors occur reproducibly:</p>\n<ul>\n<li>HTTPS connections to some SOAP servers fail (&quot;Problem writing SAAJ model to stream: PKIX path building failed&quot;) even though the required certificate was loaded</li>\n<li>a multipart response from a different server can't be read because javax.xml.soap.AttachmentPart.getSize() returns 0, even though the response payload is valid and not empty</li>\n</ul>\n<p>Rolling back the CXF version fixes both problems immediately.</p>\n<p>I can't find any significant difference between both deployments, local and target. Chances are that some subtle configuration settings are different, but I didn't find any.</p>\n<p>Perhaps there is a version conflict with other dependencies (of which there are plenty) which surfaces only randomly.</p>\n<p>What can I do to identify the root cause of this problem?</p>\n"},{"tags":["java","pdf","itext","accessibility"],"owner":{"account_id":11968709,"reputation":117,"user_id":8757702,"accept_rate":25,"display_name":"Alessio Frabotta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687263584,"creation_date":1687263584,"question_id":76514627,"body_markdown":"I created my PDF with iText 4.2.1.\r\nWhen I upload the file to PAC2021 (PDF Accessibility Checker 2021) I get the &quot;font not embedded&quot; warning.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3qtMv.png\r\n\r\n\r\nThe error is not on the text, but on two points of the PDF and I don&#39;t understand the meaning.\r\n\r\n\r\nI set the font like this:\r\n\r\n    String font = &quot;/fonts/FreeSans.ttf&quot;;\r\n    FontFactory.register(font, &quot;MYFONT&quot;);\r\n    Font fontOne = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 12, Font.BOLD);\r\n    Font fontTwo = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10, Font.BOLD);\r\n    Font fontThree = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10);\r\n\r\n\r\nAny suggestions?","title":"Font not embedded: how to fix accessibility issue in PDF?","body":"<p>I created my PDF with iText 4.2.1.\nWhen I upload the file to PAC2021 (PDF Accessibility Checker 2021) I get the &quot;font not embedded&quot; warning.</p>\n<p><a href=\"https://i.stack.imgur.com/3qtMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3qtMv.png\" alt=\"enter image description here\" /></a></p>\n<p>The error is not on the text, but on two points of the PDF and I don't understand the meaning.</p>\n<p>I set the font like this:</p>\n<pre><code>String font = &quot;/fonts/FreeSans.ttf&quot;;\nFontFactory.register(font, &quot;MYFONT&quot;);\nFont fontOne = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 12, Font.BOLD);\nFont fontTwo = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10, Font.BOLD);\nFont fontThree = FontFactory.getFont(&quot;MYFONT&quot;, BaseFont.WINANSI, true, 10);\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","selenium-webdriver","arguments","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1534258620,"post_id":51844033,"comment_id":90642038,"body_markdown":"Are you seeing any error with the second code block?","body":"Are you seeing any error with the second code block?"},{"owner":{"account_id":10639293,"reputation":197,"user_id":7834959,"display_name":"Jorge"},"score":0,"creation_date":1534259007,"post_id":51844033,"comment_id":90642304,"body_markdown":"None. Is there a reason I should see one?","body":"None. Is there a reason I should see one?"}],"answers":[{"tags":[],"owner":{"account_id":8650216,"reputation":344,"user_id":6476176,"display_name":"PJAutomator"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541422133,"creation_date":1534260211,"answer_id":51844854,"question_id":51844033,"body_markdown":"FirefoxOptions can be added following way:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    \t\toptions.setBinary(&quot;C:\\\\Program Files (x86)\\\\Mozilla\\\\Firefox\\\\firefox.exe&quot;);\r\n     WebDriver driver = new FirefoxDriver(options);\r\n\r\nIf you look at the [documentation][1], there are the arguments for each of the methods for `FirefoxOptions`.\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>FirefoxOptions can be added following way:</p>\n\n<pre><code>FirefoxOptions options = new FirefoxOptions();\n        options.setBinary(\"C:\\\\Program Files (x86)\\\\Mozilla\\\\Firefox\\\\firefox.exe\");\n WebDriver driver = new FirefoxDriver(options);\n</code></pre>\n\n<p>If you look at the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\">documentation</a>, there are the arguments for each of the methods for <code>FirefoxOptions</code>.</p>\n"},{"comments":[{"owner":{"account_id":14687768,"reputation":1,"user_id":10607264,"display_name":"Siarhei Frunchak"},"score":0,"creation_date":1541419777,"post_id":53152421,"comment_id":93198585,"body_markdown":"Chrome: options.addArguments(&quot;--incognito&quot;); Firefox: options.addArguments(&quot;-private&quot;);","body":"Chrome: options.addArguments(&quot;--incognito&quot;); Firefox: options.addArguments(&quot;-private&quot;);"}],"tags":[],"owner":{"account_id":14687768,"reputation":1,"user_id":10607264,"display_name":"Siarhei Frunchak"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541413363,"creation_date":1541413363,"answer_id":53152421,"question_id":51844033,"body_markdown":"Link to preferences list: http://kb.mozillazine.org/About:config_entries\r\n\r\n    case BrowserType.Firefox:\r\n                    {\r\n                        var service = FirefoxDriverService.CreateDefaultService();\r\n                        var options = new FirefoxOptions();\r\n                        options.SetPreference(&quot;permissions.default.image&quot;, 2);\r\n                        driver = new FirefoxDriver(service, options);\r\n                        break;\r\n                    }\r\n\r\ne.g. with C# code","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>Link to preferences list: <a href=\"http://kb.mozillazine.org/About:config_entries\" rel=\"nofollow noreferrer\">http://kb.mozillazine.org/About:config_entries</a></p>\n\n<pre><code>case BrowserType.Firefox:\n                {\n                    var service = FirefoxDriverService.CreateDefaultService();\n                    var options = new FirefoxOptions();\n                    options.SetPreference(\"permissions.default.image\", 2);\n                    driver = new FirefoxDriver(service, options);\n                    break;\n                }\n</code></pre>\n\n<p>e.g. with C# code</p>\n"},{"tags":[],"owner":{"account_id":3675909,"reputation":21,"user_id":3062028,"display_name":"Keeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634282884,"creation_date":1634282884,"answer_id":69581259,"question_id":51844033,"body_markdown":"I&#39;m doing something like this        \r\n\r\n    const defaultFireFoxFlags = [\r\n                // &#39;--headless&#39;,\r\n                &quot;--disable-gpu&quot;,\r\n                // &quot;--window-size=1280x1696&quot;, // Letter size&#39;--no-sandbox&#39;,\r\n                &quot;--user-data-dir=/tmp/user-data&quot;,\r\n                &quot;--hide-scrollbars&quot;,\r\n                &quot;--enable-logging&quot;,\r\n                &quot;--log-level=0&quot;,\r\n                &quot;--v=99&quot;,\r\n                &quot;--single-process&quot;,\r\n                &quot;--data-path=/tmp/data-path&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--homedir=/tmp&quot;,\r\n                &quot;--disk-cache-dir=/tmp/cache-dir&quot;,\r\n                &quot;--start-maximized&quot;\r\n              ];\r\n              const geckoDriverPath = path.join(__dirname, &quot;../assets/geckodriver&quot;);\r\n              const firefoxServiceBuilder = new firefox.ServiceBuilder(geckoDriverPath);\r\n              const firefoxOptions = new firefox.Options();\r\n              defaultFireFoxFlags.forEach(flag =&gt; firefoxOptions.addArguments(flag));\r\n              if (webDriverInitOptions.headless) firefoxOptions.headless();\r\n              this.driver = new Builder()\r\n                .forBrowser(webDriverInitOptions.browser)\r\n                .setFirefoxService(firefoxServiceBuilder)\r\n                .setFirefoxOptions(firefoxOptions)\r\n                .build();","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>I'm doing something like this</p>\n<pre><code>const defaultFireFoxFlags = [\n            // '--headless',\n            &quot;--disable-gpu&quot;,\n            // &quot;--window-size=1280x1696&quot;, // Letter size'--no-sandbox',\n            &quot;--user-data-dir=/tmp/user-data&quot;,\n            &quot;--hide-scrollbars&quot;,\n            &quot;--enable-logging&quot;,\n            &quot;--log-level=0&quot;,\n            &quot;--v=99&quot;,\n            &quot;--single-process&quot;,\n            &quot;--data-path=/tmp/data-path&quot;,\n            &quot;--ignore-certificate-errors&quot;,\n            &quot;--homedir=/tmp&quot;,\n            &quot;--disk-cache-dir=/tmp/cache-dir&quot;,\n            &quot;--start-maximized&quot;\n          ];\n          const geckoDriverPath = path.join(__dirname, &quot;../assets/geckodriver&quot;);\n          const firefoxServiceBuilder = new firefox.ServiceBuilder(geckoDriverPath);\n          const firefoxOptions = new firefox.Options();\n          defaultFireFoxFlags.forEach(flag =&gt; firefoxOptions.addArguments(flag));\n          if (webDriverInitOptions.headless) firefoxOptions.headless();\n          this.driver = new Builder()\n            .forBrowser(webDriverInitOptions.browser)\n            .setFirefoxService(firefoxServiceBuilder)\n            .setFirefoxOptions(firefoxOptions)\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1287981,"reputation":463,"user_id":1240678,"display_name":"Tyreal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687263022,"creation_date":1687263022,"answer_id":76514549,"question_id":51844033,"body_markdown":"**TL;DR - FirefoxOptions with a list of arguments 2023**\r\n\r\n    FirefoxOptions firefoxOptions = new FirefoxOptions();\r\n\tfirefoxOptions.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\r\n\r\n    // instantiate the webdriver session\r\n    WebDriver driver = new FirefoxDriver(firefoxOptions);\r\n\r\nMake sure to also read the [official selenium docs for Firefox][1]!\r\n\r\n---\r\n\r\n**Some more details and explanation**\r\n\r\nNot sure if the question is still relevant in 2023 but since it hasn&#39;t been answered yet:\r\n\r\nThe basic usage of FirefoxOptions according to the [official java docs][2]:\r\n\r\n    FirefoxOptions options = new FirefoxOptions()\r\n      .addPreference(&quot;browser.startup.page&quot;, 1)\r\n      .addPreference(&quot;browser.startup.homepage&quot;, &quot;https://www.google.co.uk&quot;);\r\n    WebDriver driver = new FirefoxDriver(options);\r\n\r\nHowever, what I frequently do when running tests is this:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    \r\n    // these affect the browser startup command when run by the selenium instance\r\n    options.addArguments(&quot;--headless&quot;);\r\n\r\n    FirefoxProfile profile = new FirefoxProfile();\r\n    \r\n    // these allow modifying variables usually seen in page about:config of Firefox\r\n    profile.setPreference(&quot;general.useragent.override&quot;, &quot;some test user agent&quot;);\r\n\r\n    // activate custom firefox options\r\n\toptions.setProfile(profile);\r\n\r\n    // instantiate the webdriver session\r\n    WebDriver driver = new RemoteWebDriver(new URL(selenium_host), firefoxOptions);\r\n\r\nIf you want to add these arguments as a list you could just use something like:\r\n\r\n    options.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\r\n\r\nTheir API supports this nowadays.\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/browsers/firefox/\r\n  [2]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p><strong>TL;DR - FirefoxOptions with a list of arguments 2023</strong></p>\n<pre><code>FirefoxOptions firefoxOptions = new FirefoxOptions();\nfirefoxOptions.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\n\n// instantiate the webdriver session\nWebDriver driver = new FirefoxDriver(firefoxOptions);\n</code></pre>\n<p>Make sure to also read the <a href=\"https://www.selenium.dev/documentation/webdriver/browsers/firefox/\" rel=\"nofollow noreferrer\">official selenium docs for Firefox</a>!</p>\n<hr />\n<p><strong>Some more details and explanation</strong></p>\n<p>Not sure if the question is still relevant in 2023 but since it hasn't been answered yet:</p>\n<p>The basic usage of FirefoxOptions according to the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\">official java docs</a>:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions()\n  .addPreference(&quot;browser.startup.page&quot;, 1)\n  .addPreference(&quot;browser.startup.homepage&quot;, &quot;https://www.google.co.uk&quot;);\nWebDriver driver = new FirefoxDriver(options);\n</code></pre>\n<p>However, what I frequently do when running tests is this:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();\n\n// these affect the browser startup command when run by the selenium instance\noptions.addArguments(&quot;--headless&quot;);\n\nFirefoxProfile profile = new FirefoxProfile();\n\n// these allow modifying variables usually seen in page about:config of Firefox\nprofile.setPreference(&quot;general.useragent.override&quot;, &quot;some test user agent&quot;);\n\n// activate custom firefox options\noptions.setProfile(profile);\n\n// instantiate the webdriver session\nWebDriver driver = new RemoteWebDriver(new URL(selenium_host), firefoxOptions);\n</code></pre>\n<p>If you want to add these arguments as a list you could just use something like:</p>\n<pre><code>options.addArguments(List.of(&quot;arg1&quot;, &quot;arg2&quot;, &quot;arg3&quot;));\n</code></pre>\n<p>Their API supports this nowadays.</p>\n"}],"owner":{"account_id":10639293,"reputation":197,"user_id":7834959,"display_name":"Jorge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1687263022,"creation_date":1534257623,"question_id":51844033,"body_markdown":"I&#39;m trying to use FirefoxOptions when instantiating a FirefoxDriver like below:\r\n\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    WebDriver localWebDriver = new FirefoxDriver(options);\r\n\r\nI&#39;ve been looking around in the web on how to correctly use FirefoxOptions similar to when using ChromeOptions, **and mainly a list of arguments to pass to the FirefoxOptions**, but had no luck in this search.\r\n\r\nAn example of how to use ChromeOptions with ChromeDriver is as follows:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    options.addArguments(&quot;--kiosk&quot;);\r\n\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n\toptions.addArguments(&quot;--disable-popup-blocking&quot;);\r\n\toptions.addArguments(&quot;disable-infobars&quot;);\r\n\toptions.addArguments(&quot;--incognito&quot;);\r\n    WebDriver webDriver = new ChromeDriver(options);\r\n\r\n\r\n**Does anyone know how to use FirefoxOptions correctly, and a list of arguments that can be passed to it?**","title":"How to correctly use FirefoxOptions() and its arguments to pass it to the FirefoxDriver() constructor","body":"<p>I'm trying to use FirefoxOptions when instantiating a FirefoxDriver like below:</p>\n\n<pre><code>FirefoxOptions options = new FirefoxOptions();\nWebDriver localWebDriver = new FirefoxDriver(options);\n</code></pre>\n\n<p>I've been looking around in the web on how to correctly use FirefoxOptions similar to when using ChromeOptions, <strong>and mainly a list of arguments to pass to the FirefoxOptions</strong>, but had no luck in this search.</p>\n\n<p>An example of how to use ChromeOptions with ChromeDriver is as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--start-maximized\");\noptions.addArguments(\"--kiosk\");\noptions.addArguments(\"--ignore-certificate-errors\");\noptions.addArguments(\"--disable-popup-blocking\");\noptions.addArguments(\"disable-infobars\");\noptions.addArguments(\"--incognito\");\nWebDriver webDriver = new ChromeDriver(options);\n</code></pre>\n\n<p><strong>Does anyone know how to use FirefoxOptions correctly, and a list of arguments that can be passed to it?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687262961,"post_id":76514512,"comment_id":134909304,"body_markdown":"Java generally doesn&#39;t do &quot;short and convenient&quot;. I recommend upgrading to Kotlin, which has null-safety built in: `intValue?.toLong()`. The nice thing is, it&#39;s fully compatible with Java, you can even compile projects that have sources in both languages and combine them together.","body":"Java generally doesn&#39;t do &quot;short and convenient&quot;. I recommend upgrading to Kotlin, which has null-safety built in: <code>intValue?.toLong()</code>. The nice thing is, it&#39;s fully compatible with Java, you can even compile projects that have sources in both languages and combine them together."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1687262988,"post_id":76514512,"comment_id":134909311,"body_markdown":"You prefer adding an external dependency to your project over writing a one-line helper method? You do realize that managing that dependency is **much** more work than implementing that helper method, right?","body":"You prefer adding an external dependency to your project over writing a one-line helper method? You do realize that managing that dependency is <b>much</b> more work than implementing that helper method, right?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1687263108,"post_id":76514512,"comment_id":134909343,"body_markdown":"There is no such built-in method in Java. I&#39;d follow the way with helper methods","body":"There is no such built-in method in Java. I&#39;d follow the way with helper methods"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687263139,"post_id":76514512,"comment_id":134909348,"body_markdown":"@ThomasBehr usually Apache Commons and/or Guava are already added as dependencies to most enterprise projects. There are many helpful utility methods in them but I&#39;m surprised there is apparently no such method there, though.","body":"@ThomasBehr usually Apache Commons and/or Guava are already added as dependencies to most enterprise projects. There are many helpful utility methods in them but I&#39;m surprised there is apparently no such method there, though."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":1,"creation_date":1687263306,"post_id":76514512,"comment_id":134909385,"body_markdown":"@Jorn in enterprise software development, migrating to a different language is unfortunately painful. Even though they are compatible, there could be other reasons for being conservative in technological stack.","body":"@Jorn in enterprise software development, migrating to a different language is unfortunately painful. Even though they are compatible, there could be other reasons for being conservative in technological stack."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687263594,"post_id":76514512,"comment_id":134909465,"body_markdown":"If you really want to use Java, and you really want *short* and *convenient* then `import static` and use your helper method. Nothing in Java allows you to add methods to the `NullType`. So you&#39;re not going to find a library that does this.","body":"If you really want to use Java, and you really want <i>short</i> and <i>convenient</i> then <code>import static</code> and use your helper method. Nothing in Java allows you to add methods to the <code>NullType</code>. So you&#39;re not going to find a library that does this."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687263723,"post_id":76514512,"comment_id":134909498,"body_markdown":"@ElliottFrisch you mean writing this method yourself? If you have many microservices you&#39;ll need to do this in every of them which is definitely not convenient (or moving them to your custom library which could be even worse).","body":"@ElliottFrisch you mean writing this method yourself? If you have many microservices you&#39;ll need to do this in every of them which is definitely not convenient (or moving them to your custom library which could be even worse)."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687263886,"post_id":76514512,"comment_id":134909534,"body_markdown":"@dimnnv True, but complaining about that isn&#39;t going to help. Your options are either working within the language or switching to another.","body":"@dimnnv True, but complaining about that isn&#39;t going to help. Your options are either working within the language or switching to another."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687263937,"post_id":76514512,"comment_id":134909545,"body_markdown":"@dimnnv You already wrote `public static Long longValue(Integer value)` (and that implementation looks fine). Put it in a utility class and `import static` when you need it. Again, you (and nobody else either) can&#39;t add methods to the `NullType` so there really isn&#39;t another option. Best of luck!","body":"@dimnnv You already wrote <code>public static Long longValue(Integer value)</code> (and that implementation looks fine). Put it in a utility class and <code>import static</code> when you need it. Again, you (and nobody else either) can&#39;t add methods to the <code>NullType</code> so there really isn&#39;t another option. Best of luck!"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687263959,"post_id":76514512,"comment_id":134909549,"body_markdown":"@Jorn I could have missed if this method already exists in some popular library. That&#39;s why the question was asked.","body":"@Jorn I could have missed if this method already exists in some popular library. That&#39;s why the question was asked."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1687264510,"post_id":76514512,"comment_id":134909668,"body_markdown":"Does this answer your question? [Convert a nullable integer value in Java (Short, Long etc.)](https://stackoverflow.com/questions/49193021/convert-a-nullable-integer-value-in-java-short-long-etc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49193021/convert-a-nullable-integer-value-in-java-short-long-etc\">Convert a nullable integer value in Java (Short, Long etc.)</a>"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687264868,"post_id":76514512,"comment_id":134909766,"body_markdown":"@MaksymKosenko probably does not as it is does not seek non-JDK solutions but I hope to find some.","body":"@MaksymKosenko probably does not as it is does not seek non-JDK solutions but I hope to find some."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1687265036,"post_id":76514512,"comment_id":134909816,"body_markdown":"There is no any, just like the accepted answer sounds, the shortest way is a ternary operator if you are not considering any static util method somewhere in a helper","body":"There is no any, just like the accepted answer sounds, the shortest way is a ternary operator if you are not considering any static util method somewhere in a helper"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1687265138,"post_id":76514512,"comment_id":134909848,"body_markdown":"@MaksymKosenko as you see it was accepted more than 5 years ago and the situation might have changed since then. But I do not have very much hope of course.","body":"@MaksymKosenko as you see it was accepted more than 5 years ago and the situation might have changed since then. But I do not have very much hope of course."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687274003,"post_id":76514512,"comment_id":134912066,"body_markdown":"_Objective-C_ is probably the only language more verbose than _Java_.  I imagine the most effective way is to use the ternary.  _Long result = value != null ? value.longValue() : null;_.  Or, if you&#39;re using it frequently, use your _longValue_ method.  I don&#39;t believe there is any quick solution.","body":"<i>Objective-C</i> is probably the only language more verbose than <i>Java</i>.  I imagine the most effective way is to use the ternary.  <i>Long result = value != null ? value.longValue() : null;</i>.  Or, if you&#39;re using it frequently, use your <i>longValue</i> method.  I don&#39;t believe there is any quick solution."}],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1687262718,"creation_date":1687262718,"question_id":76514512,"body_markdown":"In Java, you can convert `Integer` to `Long` with built-in method `longValue()` but it is not null-safe:\r\n\r\n```java\r\nInteger value = null;\r\nLong result = value.longValue(); // NPE\r\n```\r\n\r\nIs there a **short** and **convenient** way to do null-safe conversion of `Integer` to `Long` in Java?\r\n\r\nI.e., something like\r\n```java\r\nLong result = Long.longValue(value);\r\n```\r\n\r\nwith this simple implementation (and / or potentially overloadings for different number types):\r\n```java\r\npublic static Long longValue(Integer value) {\r\n    return value != null ? value.longValue() : null;\r\n}\r\n\r\n```\r\n\r\nI can not find such an implementation in both Java Standard Library and some other popular libraries (including Apache Commons, Guava and Spring).\r\n\r\n\r\n\r\nI could either add this method myself but *it does not look convenient*.\r\n\r\nI could also write something like this\r\n```java\r\nLong result = value != null ? value.longValue() : null;\r\nLong result = Optional.ofNullable(value).map(Integer::longValue).orElse(null);\r\n```\r\n\r\nbut *neither of these options look short*. Especially when `value` is not just a value but is actually some function with long name and multiple arguments.\r\n\r\nMaybe I have missed something and there is such a method in any of the popular libraries?\r\n\r\nThanks!","title":"Null-safe Integer.longValue() in Java?","body":"<p>In Java, you can convert <code>Integer</code> to <code>Long</code> with built-in method <code>longValue()</code> but it is not null-safe:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer value = null;\nLong result = value.longValue(); // NPE\n</code></pre>\n<p>Is there a <strong>short</strong> and <strong>convenient</strong> way to do null-safe conversion of <code>Integer</code> to <code>Long</code> in Java?</p>\n<p>I.e., something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long result = Long.longValue(value);\n</code></pre>\n<p>with this simple implementation (and / or potentially overloadings for different number types):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Long longValue(Integer value) {\n    return value != null ? value.longValue() : null;\n}\n\n</code></pre>\n<p>I can not find such an implementation in both Java Standard Library and some other popular libraries (including Apache Commons, Guava and Spring).</p>\n<p>I could either add this method myself but <em>it does not look convenient</em>.</p>\n<p>I could also write something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long result = value != null ? value.longValue() : null;\nLong result = Optional.ofNullable(value).map(Integer::longValue).orElse(null);\n</code></pre>\n<p>but <em>neither of these options look short</em>. Especially when <code>value</code> is not just a value but is actually some function with long name and multiple arguments.</p>\n<p>Maybe I have missed something and there is such a method in any of the popular libraries?</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","xml","spring"],"answers":[{"comments":[{"owner":{"account_id":12961429,"reputation":5,"user_id":9370565,"display_name":"Da_Pusti"},"score":0,"creation_date":1687367464,"post_id":76514471,"comment_id":134928228,"body_markdown":"Hi Azadi, thank you for your answer. I&#180;m not very sure, how i can use this now? Should i replace my MultipartFile for your ThunderUploadedMultipartFile?","body":"Hi Azadi, thank you for your answer. I&#180;m not very sure, how i can use this now? Should i replace my MultipartFile for your ThunderUploadedMultipartFile?"},{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1687449362,"post_id":76514471,"comment_id":134941660,"body_markdown":"Hi Da_Pusti. I don&#39;t know if your code works or if you have any problem in your work, but my problem was that when using MultipartFile as the input like yours, the filters for authentication didn&#39;t work and the endpoint was reached without any authentication. I also had some problems with UploadedMultipartFile as endpoint input, so I created the class UploadedMultipartFileDto just like UploadedMultipartFile with the same fields which implements Serializable and will be serialized as JSON. This worked for me and the filters of authentication were doing well.","body":"Hi Da_Pusti. I don&#39;t know if your code works or if you have any problem in your work, but my problem was that when using MultipartFile as the input like yours, the filters for authentication didn&#39;t work and the endpoint was reached without any authentication. I also had some problems with UploadedMultipartFile as endpoint input, so I created the class UploadedMultipartFileDto just like UploadedMultipartFile with the same fields which implements Serializable and will be serialized as JSON. This worked for me and the filters of authentication were doing well."},{"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"score":0,"creation_date":1687449808,"post_id":76514471,"comment_id":134941751,"body_markdown":"So replace UploadedMultipartFileDto with MultipartFile in method &quot;submitForm&quot; and check if your problem will be solved or not.","body":"So replace UploadedMultipartFileDto with MultipartFile in method &quot;submitForm&quot; and check if your problem will be solved or not."}],"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687262408,"creation_date":1687262408,"answer_id":76514471,"question_id":76513506,"body_markdown":"In my case I created a dto class which implements Serializable and it has the same fields as UploadedMultipartFile which itself is an implemaentation of MultipartFile, so I receive the file as JSON and then I convert it to an extended class of UploadedMultipartFile.\r\n\r\n\r\nSo this is my dto which I use as the input in the Controller\r\n\r\n    import lombok.*;    \r\n    import java.io.Serializable;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UploadedMultipartFileDto implements Serializable {\r\n    \r\n        private byte[] bytes;\r\n        private String contentType;\r\n        private String formParameterName;\r\n        private String originalFilename;\r\n    }\r\n\r\n\r\nAnd this is the Model which extends UploadedMultipartFile\r\n\r\n    import org.springframework.integration.http.multipart.UploadedMultipartFile;\r\n    \r\n    \r\n    public class ThunderUploadedMultipartFile extends UploadedMultipartFile {\r\n    \r\n        public ThunderUploadedMultipartFile(byte[] bytes, String contentType, String formParameterName, String originalFilename) {\r\n            super(bytes, contentType, formParameterName, originalFilename);\r\n        }\r\n    }\r\n\r\nBefore saving the file, I convert dto to model with MapStruct like this\r\n\r\n        ThunderUploadedMultipartFile file = uploadedMultipartFileMapper.toModel(fileDto);\r\n        FileUploadUtil.saveFile(file);\r\n\r\n\r\n","title":"Java Spring : Iterating over JSON/XML - MultipartFile","body":"<p>In my case I created a dto class which implements Serializable and it has the same fields as UploadedMultipartFile which itself is an implemaentation of MultipartFile, so I receive the file as JSON and then I convert it to an extended class of UploadedMultipartFile.</p>\n<p>So this is my dto which I use as the input in the Controller</p>\n<pre><code>import lombok.*;    \nimport java.io.Serializable;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UploadedMultipartFileDto implements Serializable {\n\n    private byte[] bytes;\n    private String contentType;\n    private String formParameterName;\n    private String originalFilename;\n}\n</code></pre>\n<p>And this is the Model which extends UploadedMultipartFile</p>\n<pre><code>import org.springframework.integration.http.multipart.UploadedMultipartFile;\n\n\npublic class ThunderUploadedMultipartFile extends UploadedMultipartFile {\n\n    public ThunderUploadedMultipartFile(byte[] bytes, String contentType, String formParameterName, String originalFilename) {\n        super(bytes, contentType, formParameterName, originalFilename);\n    }\n}\n</code></pre>\n<p>Before saving the file, I convert dto to model with MapStruct like this</p>\n<pre><code>    ThunderUploadedMultipartFile file = uploadedMultipartFileMapper.toModel(fileDto);\n    FileUploadUtil.saveFile(file);\n</code></pre>\n"}],"owner":{"account_id":12961429,"reputation":5,"user_id":9370565,"display_name":"Da_Pusti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687262408,"creation_date":1687255038,"question_id":76513506,"body_markdown":"I created a Springapplication with a little Userinterface in HTML. The user can select one file (he will have to select a XML or JSON-File) an the program is iterating over the file, filtering and uses the neccessary information.\r\n\r\nI can read the file and pass it to the program. I defined it as a MultipartFile:\r\n\r\n\r\n``` html\r\n&lt;form method=&quot;POST&quot; action=&quot;/submit-form&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n    &lt;label for=&quot;email&quot;&gt;E-Mail:&lt;/label&gt;\r\n    &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n\r\n    &lt;label for=&quot;password&quot;&gt;Passwort:&lt;/label&gt;\r\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Senden&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n``` \r\n\r\nThe Java Code looks like this:\r\n\r\n\r\n``` lang-Java\r\n    @PostMapping(&quot;/submit-form&quot;)\r\n    public String submitForm(@RequestParam(&quot;name&quot;) String name,\r\n                             @RequestParam(&quot;email&quot;) String email,\r\n                             @RequestParam(&quot;password&quot;) String password,\r\n                             @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        System.out.println(&quot;Name: &quot; + name);\r\n        System.out.println(&quot;E-Mail: &quot; + email);\r\n        System.out.println(&quot;Passwort: &quot; + password);\r\n        if (!file.isEmpty()) {\r\n            try {\r\n\r\n                String fileContent = new String(file.getBytes());\r\n                System.out.println(file.getOriginalFilename());\r\n\r\n                return &quot;upload-success&quot;; \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        return &quot;form-success&quot;; \r\n    }\r\n```\r\n\r\nHere is an example of a JSON-File:\r\n\r\n\r\n``` lang-JSON\r\n{\r\n  &quot;id&quot;: 12345,\r\n  &quot;name&quot;: &quot;Example JSON&quot;,\r\n  &quot;description&quot;: &quot;A complex JSON file example&quot;,\r\n  &quot;created_at&quot;: &quot;2023-06-20T12:00:00Z&quot;,\r\n  &quot;categories&quot;: [&quot;category1&quot;, &quot;category2&quot;, &quot;category3&quot;],\r\n  &quot;tags&quot;: [&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;],\r\n  &quot;data&quot;: {\r\n    &quot;field1&quot;: &quot;value1&quot;,\r\n    &quot;field2&quot;: &quot;value2&quot;,\r\n    &quot;field3&quot;: 42\r\n  },\r\n  &quot;items&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;Item 1&quot;,\r\n      &quot;quantity&quot;: 5,\r\n      &quot;price&quot;: 10.99,\r\n      &quot;description&quot;: &quot;Description of item 1&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;Item 2&quot;,\r\n      &quot;quantity&quot;: 3,\r\n      &quot;price&quot;: 7.99,\r\n      &quot;description&quot;: &quot;Description of item 2&quot;\r\n    }\r\n    // ... (more items)\r\n  ],\r\n  &quot;users&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;username&quot;: &quot;user1&quot;,\r\n      &quot;email&quot;: &quot;user1@example.com&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;username&quot;: &quot;user2&quot;,\r\n      &quot;email&quot;: &quot;user2@example.com&quot;\r\n    }\r\n    // ... (more users)\r\n  ],\r\n  &quot;settings&quot;: {\r\n    &quot;theme&quot;: &quot;dark&quot;,\r\n    &quot;notifications&quot;: true,\r\n    &quot;language&quot;: &quot;en&quot;\r\n  },\r\n  &quot;meta&quot;: {\r\n    &quot;version&quot;: &quot;1.0&quot;,\r\n    &quot;author&quot;: &quot;John Doe&quot;\r\n  }\r\n  // ... (more properties)\r\n}\r\n\r\n```\r\n\r\n\r\nMy question is now: \r\n\r\nCould you give me a guideline whats the best way to use the MultipartFile as Input and saving the values to an Object that i can easily access the data? I&#180;m also not sure, if its better to use JSON or XML (have the data in both structures)? And maybe my first attempt isn&#180;t a good way to handle it and you got a better solution for me.\r\n\r\nThx and kind regards!\r\nDa_Pusti","title":"Java Spring : Iterating over JSON/XML - MultipartFile","body":"<p>I created a Springapplication with a little Userinterface in HTML. The user can select one file (he will have to select a XML or JSON-File) an the program is iterating over the file, filtering and uses the neccessary information.</p>\n<p>I can read the file and pass it to the program. I defined it as a MultipartFile:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form method=&quot;POST&quot; action=&quot;/submit-form&quot; enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot;&gt;&lt;br&gt;&lt;br&gt;\n\n    &lt;label for=&quot;email&quot;&gt;E-Mail:&lt;/label&gt;\n    &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot;&gt;&lt;br&gt;&lt;br&gt;\n\n    &lt;label for=&quot;password&quot;&gt;Passwort:&lt;/label&gt;\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;button type=&quot;submit&quot;&gt;Senden&lt;/button&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The Java Code looks like this:</p>\n<pre class=\"lang-Java prettyprint-override\"><code>    @PostMapping(&quot;/submit-form&quot;)\n    public String submitForm(@RequestParam(&quot;name&quot;) String name,\n                             @RequestParam(&quot;email&quot;) String email,\n                             @RequestParam(&quot;password&quot;) String password,\n                             @RequestParam(&quot;file&quot;) MultipartFile file) {\n        System.out.println(&quot;Name: &quot; + name);\n        System.out.println(&quot;E-Mail: &quot; + email);\n        System.out.println(&quot;Passwort: &quot; + password);\n        if (!file.isEmpty()) {\n            try {\n\n                String fileContent = new String(file.getBytes());\n                System.out.println(file.getOriginalFilename());\n\n                return &quot;upload-success&quot;; \n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return &quot;form-success&quot;; \n    }\n</code></pre>\n<p>Here is an example of a JSON-File:</p>\n<pre class=\"lang-JSON prettyprint-override\"><code>{\n  &quot;id&quot;: 12345,\n  &quot;name&quot;: &quot;Example JSON&quot;,\n  &quot;description&quot;: &quot;A complex JSON file example&quot;,\n  &quot;created_at&quot;: &quot;2023-06-20T12:00:00Z&quot;,\n  &quot;categories&quot;: [&quot;category1&quot;, &quot;category2&quot;, &quot;category3&quot;],\n  &quot;tags&quot;: [&quot;tag1&quot;, &quot;tag2&quot;, &quot;tag3&quot;],\n  &quot;data&quot;: {\n    &quot;field1&quot;: &quot;value1&quot;,\n    &quot;field2&quot;: &quot;value2&quot;,\n    &quot;field3&quot;: 42\n  },\n  &quot;items&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Item 1&quot;,\n      &quot;quantity&quot;: 5,\n      &quot;price&quot;: 10.99,\n      &quot;description&quot;: &quot;Description of item 1&quot;\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Item 2&quot;,\n      &quot;quantity&quot;: 3,\n      &quot;price&quot;: 7.99,\n      &quot;description&quot;: &quot;Description of item 2&quot;\n    }\n    // ... (more items)\n  ],\n  &quot;users&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;username&quot;: &quot;user1&quot;,\n      &quot;email&quot;: &quot;user1@example.com&quot;\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;username&quot;: &quot;user2&quot;,\n      &quot;email&quot;: &quot;user2@example.com&quot;\n    }\n    // ... (more users)\n  ],\n  &quot;settings&quot;: {\n    &quot;theme&quot;: &quot;dark&quot;,\n    &quot;notifications&quot;: true,\n    &quot;language&quot;: &quot;en&quot;\n  },\n  &quot;meta&quot;: {\n    &quot;version&quot;: &quot;1.0&quot;,\n    &quot;author&quot;: &quot;John Doe&quot;\n  }\n  // ... (more properties)\n}\n\n</code></pre>\n<p>My question is now:</p>\n<p>Could you give me a guideline whats the best way to use the MultipartFile as Input and saving the values to an Object that i can easily access the data? Im also not sure, if its better to use JSON or XML (have the data in both structures)? And maybe my first attempt isnt a good way to handle it and you got a better solution for me.</p>\n<p>Thx and kind regards!\nDa_Pusti</p>\n"},{"tags":["java","json","spring-boot","json-deserialization"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1687255478,"post_id":76483645,"comment_id":134907668,"body_markdown":"I have reproduced your settings and it works as expected. Are you sure that your code and JSON reflect the issue in the question? Also it is not clear which part is not populated: &quot;The subdocument id is `not getting populated`&quot; but &quot;id inside principal `is getting populated` properly&quot;","body":"I have reproduced your settings and it works as expected. Are you sure that your code and JSON reflect the issue in the question? Also it is not clear which part is not populated: &quot;The subdocument id is <code>not getting populated</code>&quot; but &quot;id inside principal <code>is getting populated</code> properly&quot;"},{"owner":{"account_id":17382009,"reputation":23,"user_id":12594040,"display_name":"Neha P"},"score":0,"creation_date":1687258336,"post_id":76483645,"comment_id":134918823,"body_markdown":"May I know how you&#39;re using this DTO? i.e. is this being persisted or are you sending this as a response to a request? Also, a code snippet of how you&#39;re populating the DTO would be appreciated.","body":"May I know how you&#39;re using this DTO? i.e. is this being persisted or are you sending this as a response to a request? Also, a code snippet of how you&#39;re populating the DTO would be appreciated."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1687808991,"post_id":76483645,"comment_id":134985835,"body_markdown":"It seems that the id field inside the Principal class is not being populated correctly.","body":"It seems that the id field inside the Principal class is not being populated correctly."}],"answers":[{"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1687262386,"post_id":76514354,"comment_id":134909174,"body_markdown":"In OP&#39;s DTO Rule class was missing field &quot;t&quot;. So you added that field and I added \n@JsonIgnoreProperties(ignoreUnknown = true) to class Rule. either way it will solve the problem","body":"In OP&#39;s DTO Rule class was missing field &quot;t&quot;. So you added that field and I added  @JsonIgnoreProperties(ignoreUnknown = true) to class Rule. either way it will solve the problem"}],"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687261402,"creation_date":1687261402,"answer_id":76514354,"question_id":76483645,"body_markdown":"I have tried the following snippet:\r\n\r\n```JAVA\r\npublic class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;{\\n&quot;\r\n                + &quot;  \\&quot;_id\\&quot;: \\&quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;name\\&quot;: \\&quot;polName\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;rules\\&quot;: [\\n&quot;\r\n                + &quot;    {\\n&quot;\r\n                + &quot;      \\&quot;t\\&quot;: \\&quot;TestRule\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;principals\\&quot;: [\\n&quot;\r\n                + &quot;        {\\n&quot;\r\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;type\\&quot;: \\&quot;PY\\&quot;\\n&quot;\r\n                + &quot;        },\\n&quot;\r\n                + &quot;        {\\n&quot;\r\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\r\n                + &quot;          \\&quot;type\\&quot;: \\&quot;SY\\&quot;\\n&quot;\r\n                + &quot;        }\\n&quot;\r\n                + &quot;      ]\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;  ]\\n&quot;\r\n                + &quot;}&quot;;\r\n        try {\r\n            PolicyDto p = new ObjectMapper().readValue(json, PolicyDto.class);\r\n            System.out.println(&quot;P &quot;+p.getRules().get(0).getPrincipals().get(0).toString());\r\n        } catch (JsonProcessingException p) {\r\n            p.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the DTO:\r\n```JAVA\r\nimport com.fasterxml.jackson.annotation.JsonAlias;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.List;\r\n\r\n/**\r\n *\r\n * @author asgar\r\n */\r\n@JsonInclude(Include.NON_EMPTY)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class PolicyDto {\r\n\r\n    @JsonProperty(&quot;docId&quot;)\r\n    @JsonAlias({&quot;_id&quot;})\r\n    private String id;\r\n\r\n    private String name;\r\n\r\n    private List&lt;Rule&gt; rules;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(final String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;Rule&gt; getRules() {\r\n        return rules;\r\n    }\r\n\r\n    public void setRules(final List&lt;Rule&gt; rules) {\r\n        this.rules = rules;\r\n    }\r\n\r\n    public static class Rule {\r\n\r\n        private String t;\r\n\r\n        private List&lt;Principal&gt; principals;\r\n\r\n        public List&lt;Principal&gt; getPrincipals() {\r\n            return principals;\r\n        }\r\n\r\n        public void setPrincipals(final List&lt;Principal&gt; principals) {\r\n            this.principals = principals;\r\n        }\r\n\r\n        public String getT() {\r\n            return t;\r\n        }\r\n\r\n        public void setT(String t) {\r\n            this.t = t;\r\n        }\r\n\r\n    }\r\n\r\n    public static class Principal {\r\n\r\n        private String name;\r\n        private String id;\r\n        private String type;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(final String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(final String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getType() {\r\n            return type;\r\n        }\r\n\r\n        public void setType(final String type) {\r\n            this.type = type;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Principal{&quot; + &quot;name=&quot; + name + &quot;, id=&quot; + id + &quot;, type=&quot; + type + &#39;}&#39;;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n```JAVA\r\nP Principal{name=Test Report, id=Test Report, type=PY}\r\n```\r\n\r\nThe code works fine and the `id` you mentioned above seems to be populated properly. How are you trying to use this DTO? Can you elaborate more?","title":"JSON to Java Deserialization with same field name","body":"<p>I have tried the following snippet:</p>\n<pre><code>public class MainClass {\n\n    public static void main(String[] args) {\n        String json = &quot;{\\n&quot;\n                + &quot;  \\&quot;_id\\&quot;: \\&quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d\\&quot;,\\n&quot;\n                + &quot;  \\&quot;name\\&quot;: \\&quot;polName\\&quot;,\\n&quot;\n                + &quot;  \\&quot;rules\\&quot;: [\\n&quot;\n                + &quot;    {\\n&quot;\n                + &quot;      \\&quot;t\\&quot;: \\&quot;TestRule\\&quot;,\\n&quot;\n                + &quot;      \\&quot;principals\\&quot;: [\\n&quot;\n                + &quot;        {\\n&quot;\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report\\&quot;,\\n&quot;\n                + &quot;          \\&quot;type\\&quot;: \\&quot;PY\\&quot;\\n&quot;\n                + &quot;        },\\n&quot;\n                + &quot;        {\\n&quot;\n                + &quot;          \\&quot;name\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\n                + &quot;          \\&quot;id\\&quot;: \\&quot;Test Report1\\&quot;,\\n&quot;\n                + &quot;          \\&quot;type\\&quot;: \\&quot;SY\\&quot;\\n&quot;\n                + &quot;        }\\n&quot;\n                + &quot;      ]\\n&quot;\n                + &quot;    }\\n&quot;\n                + &quot;  ]\\n&quot;\n                + &quot;}&quot;;\n        try {\n            PolicyDto p = new ObjectMapper().readValue(json, PolicyDto.class);\n            System.out.println(&quot;P &quot;+p.getRules().get(0).getPrincipals().get(0).toString());\n        } catch (JsonProcessingException p) {\n            p.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And the DTO:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonAlias;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.List;\n\n/**\n *\n * @author asgar\n */\n@JsonInclude(Include.NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PolicyDto {\n\n    @JsonProperty(&quot;docId&quot;)\n    @JsonAlias({&quot;_id&quot;})\n    private String id;\n\n    private String name;\n\n    private List&lt;Rule&gt; rules;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(final String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(final String name) {\n        this.name = name;\n    }\n\n    public List&lt;Rule&gt; getRules() {\n        return rules;\n    }\n\n    public void setRules(final List&lt;Rule&gt; rules) {\n        this.rules = rules;\n    }\n\n    public static class Rule {\n\n        private String t;\n\n        private List&lt;Principal&gt; principals;\n\n        public List&lt;Principal&gt; getPrincipals() {\n            return principals;\n        }\n\n        public void setPrincipals(final List&lt;Principal&gt; principals) {\n            this.principals = principals;\n        }\n\n        public String getT() {\n            return t;\n        }\n\n        public void setT(String t) {\n            this.t = t;\n        }\n\n    }\n\n    public static class Principal {\n\n        private String name;\n        private String id;\n        private String type;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(final String name) {\n            this.name = name;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(final String id) {\n            this.id = id;\n        }\n\n        public String getType() {\n            return type;\n        }\n\n        public void setType(final String type) {\n            this.type = type;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Principal{&quot; + &quot;name=&quot; + name + &quot;, id=&quot; + id + &quot;, type=&quot; + type + '}';\n        }\n\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>P Principal{name=Test Report, id=Test Report, type=PY}\n</code></pre>\n<p>The code works fine and the <code>id</code> you mentioned above seems to be populated properly. How are you trying to use this DTO? Can you elaborate more?</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687262248,"creation_date":1687262248,"answer_id":76514448,"question_id":76483645,"body_markdown":"In your Json on the &quot;Rule&quot; level there is a field &quot;t&quot; -       `&quot;t&quot;: &quot;TestRule&quot;,`. In your class `Rule` you don&#39;t have property &quot;t&quot; So, when I tried to parse your JSON I got an error complaining that field &quot;t&quot; was not known. So I added `@JsonIgnoreProperties(ignoreUnknown = true)` to your `Rule` class and then everything worked and all the fields got populated. Here is my code:\r\n\r\n            try {\r\n            PolicyDto policyDto = JsonUtils.readObjectFromJsonString(jsonStr, PolicyDto.class);\r\n        } catch (IOException ioe) {\r\n            ...\r\n        }\r\nNote that `JsonUtils` class is a thin wrapper over `ObjectMapper` class. `JsonUtils` class comes with MgntUtils Open Source Java library written and maintained by me. Here is [the Javadoc for JsonUtils class][1]. The MgntUtils library could be obtained from [Maven Central][2] or from [Github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"JSON to Java Deserialization with same field name","body":"<p>In your Json on the &quot;Rule&quot; level there is a field &quot;t&quot; -       <code>&quot;t&quot;: &quot;TestRule&quot;,</code>. In your class <code>Rule</code> you don't have property &quot;t&quot; So, when I tried to parse your JSON I got an error complaining that field &quot;t&quot; was not known. So I added <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> to your <code>Rule</code> class and then everything worked and all the fields got populated. Here is my code:</p>\n<pre><code>        try {\n        PolicyDto policyDto = JsonUtils.readObjectFromJsonString(jsonStr, PolicyDto.class);\n    } catch (IOException ioe) {\n        ...\n    }\n</code></pre>\n<p>Note that <code>JsonUtils</code> class is a thin wrapper over <code>ObjectMapper</code> class. <code>JsonUtils</code> class comes with MgntUtils Open Source Java library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">the Javadoc for JsonUtils class</a>. The MgntUtils library could be obtained from <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1687262248,"creation_date":1686845843,"question_id":76483645,"body_markdown":"I have id at the top level document and id at sub document. The subdocument id is not getting populated.\r\n\r\nMy JSON Document:-\r\n\r\n    {\r\n      &quot;_id&quot;: &quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d&quot;,\r\n      &quot;name&quot;: &quot;polName&quot;,\r\n      &quot;rules&quot;: [\r\n        {\r\n          &quot;t&quot;: &quot;TestRule&quot;,\r\n          &quot;principals&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;Test Report&quot;,\r\n              &quot;id&quot;: &quot;Test Report&quot;,\r\n              &quot;type&quot;: &quot;PY&quot;\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;Test Report1&quot;,\r\n              &quot;id&quot;: &quot;Test Report1&quot;,\r\n              &quot;type&quot;: &quot;SY&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n**Dto class,**\r\n\r\n\r\n    @JsonInclude(Include.NON_EMPTY)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class PolicyDto {\r\n    \r\n       \r\n        @JsonProperty(&quot;docId&quot;)\r\n        @JsonAlias({ &quot;_id&quot; })\r\n        private String id;\r\n        private String name;\r\n        private List&lt;Rule&gt; rules;\r\n    \r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(final String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(final String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public List&lt;Rule&gt; getRules() {\r\n            return rules;\r\n        }\r\n    \r\n        public void setRules(final List&lt;Rule&gt; rules) {\r\n            this.rules = rules;\r\n        }\r\n    \r\n    \r\n        public static class Rule {\r\n            private List&lt;Principal&gt; principals;\r\n    \r\n            public List&lt;Principal&gt; getPrincipals() {\r\n                return principals;\r\n            }\r\n    \r\n            public void setPrincipals(final List&lt;Principal&gt; principals) {\r\n                this.principals = principals;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public static class Principal {\r\n            private String name;\r\n            private String id;\r\n            private String type;\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(final String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(final String id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getType() {\r\n                return type;\r\n            }\r\n    \r\n            public void setType(final String type) {\r\n                this.type = type;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere, id inside principal is getting populated properly.","title":"JSON to Java Deserialization with same field name","body":"<p>I have id at the top level document and id at sub document. The subdocument id is not getting populated.</p>\n<p>My JSON Document:-</p>\n<pre><code>{\n  &quot;_id&quot;: &quot;a392ec9c-4f5c-411a-8599-928c5ce6b18d&quot;,\n  &quot;name&quot;: &quot;polName&quot;,\n  &quot;rules&quot;: [\n    {\n      &quot;t&quot;: &quot;TestRule&quot;,\n      &quot;principals&quot;: [\n        {\n          &quot;name&quot;: &quot;Test Report&quot;,\n          &quot;id&quot;: &quot;Test Report&quot;,\n          &quot;type&quot;: &quot;PY&quot;\n        },\n        {\n          &quot;name&quot;: &quot;Test Report1&quot;,\n          &quot;id&quot;: &quot;Test Report1&quot;,\n          &quot;type&quot;: &quot;SY&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><strong>Dto class,</strong></p>\n<pre><code>@JsonInclude(Include.NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PolicyDto {\n\n   \n    @JsonProperty(&quot;docId&quot;)\n    @JsonAlias({ &quot;_id&quot; })\n    private String id;\n    private String name;\n    private List&lt;Rule&gt; rules;\n\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(final String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(final String name) {\n        this.name = name;\n    }\n\n    public List&lt;Rule&gt; getRules() {\n        return rules;\n    }\n\n    public void setRules(final List&lt;Rule&gt; rules) {\n        this.rules = rules;\n    }\n\n\n    public static class Rule {\n        private List&lt;Principal&gt; principals;\n\n        public List&lt;Principal&gt; getPrincipals() {\n            return principals;\n        }\n\n        public void setPrincipals(final List&lt;Principal&gt; principals) {\n            this.principals = principals;\n        }\n\n    }\n\n\n    public static class Principal {\n        private String name;\n        private String id;\n        private String type;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(final String name) {\n            this.name = name;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(final String id) {\n            this.id = id;\n        }\n\n        public String getType() {\n            return type;\n        }\n\n        public void setType(final String type) {\n            this.type = type;\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here, id inside principal is getting populated properly.</p>\n"},{"tags":["java","microstream"],"answers":[{"tags":[],"owner":{"account_id":9228005,"reputation":121,"user_id":6855139,"display_name":"Zdenek Jonas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687262108,"creation_date":1687262108,"answer_id":76514436,"question_id":73114615,"body_markdown":"This exception means, that another process is running on the existing storage. It is not allowed. \r\nWhen you set a root, you need also to save it. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        storageManager.storeRoot();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Storage exception in microstream","body":"<p>This exception means, that another process is running on the existing storage. It is not allowed.\nWhen you set a root, you need also to save it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    storageManager.storeRoot();\n</code></pre>\n"}],"owner":{"account_id":14027487,"reputation":53,"user_id":10132168,"display_name":"Alger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687262108,"creation_date":1658778401,"question_id":73114615,"body_markdown":"I&#39;m using microstream and I try to save my object in storage : \r\n\r\n    EmbeddedStorageFoundation esf = EmbeddedStorageFoundation.New().setConfiguration(storageConfiguration);\r\n    storage = esf.createEmbeddedStorageManager();\r\n    storage.start();\r\n    storage.setRoot(content);\r\nwhen I execute &quot;storage.start()&quot; the exception throw :\r\n[![enter image description here][1]][1]\r\nCan you help me what is the problem? If you need another thing comment to provide.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1U2oh.png","title":"Storage exception in microstream","body":"<p>I'm using microstream and I try to save my object in storage :</p>\n<pre><code>EmbeddedStorageFoundation esf = EmbeddedStorageFoundation.New().setConfiguration(storageConfiguration);\nstorage = esf.createEmbeddedStorageManager();\nstorage.start();\nstorage.setRoot(content);\n</code></pre>\n<p>when I execute &quot;storage.start()&quot; the exception throw :\n<a href=\"https://i.stack.imgur.com/1U2oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1U2oh.png\" alt=\"enter image description here\" /></a>\nCan you help me what is the problem? If you need another thing comment to provide.</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1438342326,"post_id":18198176,"comment_id":51423614,"body_markdown":"Related: http://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189","body":"Related: <a href=\"http://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189\" title=\"throwing exception from lambda\">stackoverflow.com/questions/31637892/&hellip;</a>"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":1,"creation_date":1445004091,"post_id":18198176,"comment_id":54152224,"body_markdown":"...and this one: http://stackoverflow.com/questions/31270759/a-better-approach-to-handling-exceptions-in-a-functional-way/","body":"...and this one: <a href=\"http://stackoverflow.com/questions/31270759/a-better-approach-to-handling-exceptions-in-a-functional-way/\" title=\"a better approach to handling exceptions in a functional way\">stackoverflow.com/questions/31270759/&hellip;</a>"},{"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"score":1,"creation_date":1459747667,"post_id":18198176,"comment_id":60406815,"body_markdown":"https://github.com/TouK/ThrowingFunction/","body":"<a href=\"https://github.com/TouK/ThrowingFunction/\" rel=\"nofollow noreferrer\">github.com/TouK/ThrowingFunction</a>"},{"owner":{"account_id":336210,"reputation":336,"user_id":663742,"accept_rate":40,"display_name":"Nazeel"},"score":7,"creation_date":1470207440,"post_id":18198176,"comment_id":64848090,"body_markdown":"All the solution looks like some how, throwing Runtime exceptions, I belive it is not a good solution. so better to use old java for loops","body":"All the solution looks like some how, throwing Runtime exceptions, I belive it is not a good solution. so better to use old java for loops"},{"owner":{"account_id":2078468,"reputation":2637,"user_id":1851138,"accept_rate":75,"display_name":"chaiyachaiya"},"score":7,"creation_date":1471986575,"post_id":18198176,"comment_id":65568843,"body_markdown":"What about [jool](https://github.com/jOOQ/jOOL) library ? cf org.jooq.lambda.Unchecked package","body":"What about <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow noreferrer\">jool</a> library ? cf org.jooq.lambda.Unchecked package"}],"answers":[{"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1448469914,"post_id":18198325,"comment_id":55604962,"body_markdown":"add @FunctionalInterface annotation before your interface, only then it will be usable for lambdas.","body":"add @FunctionalInterface annotation before your interface, only then it will be usable for lambdas."},{"owner":{"account_id":2695603,"reputation":6882,"user_id":2327745,"display_name":"Tanmay Patil"},"score":19,"creation_date":1458077934,"post_id":18198325,"comment_id":59696576,"body_markdown":"@Gangnus: the `@FunctionalInterface` annotation is not required for it to be usable for lambdas. It is recommended for sanity check though.","body":"@Gangnus: the <code>@FunctionalInterface</code> annotation is not required for it to be usable for lambdas. It is recommended for sanity check though."}],"tags":[],"owner":{"account_id":262855,"reputation":541,"user_id":548027,"accept_rate":20,"display_name":"Adam R. Nelson"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1376350257,"creation_date":1376350257,"answer_id":18198325,"question_id":18198176,"body_markdown":"*Disclaimer: I haven&#39;t used Java 8 yet, only read about it.*\r\n\r\n`Function&lt;String, Integer&gt;` doesn&#39;t throw `IOException`, so you can&#39;t put any code in it that `throws IOException`. If you&#39;re calling a method that expects a `Function&lt;String, Integer&gt;`, then the lambda that you pass to that method can&#39;t throw `IOException`, period. You can either write a lambda like this (I think this is the lambda syntax, not sure):\r\n\r\n    (String s) -&gt; {\r\n        try {\r\n            return myMethod(s);\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n            // (Or do something else with it...)\r\n        }\r\n    }\r\n\r\nOr, if the method you&#39;re passing the lambda to is one you wrote yourself, you can define a new functional interface and use that as the parameter type instead of `Function&lt;String, Integer&gt;`:\r\n\r\n    public interface FunctionThatThrowsIOException&lt;I, O&gt; {\r\n        O apply(I input) throws IOException;\r\n    }","title":"Java 8 Lambda function that throws exception?","body":"<p><em>Disclaimer: I haven't used Java 8 yet, only read about it.</em></p>\n\n<p><code>Function&lt;String, Integer&gt;</code> doesn't throw <code>IOException</code>, so you can't put any code in it that <code>throws IOException</code>. If you're calling a method that expects a <code>Function&lt;String, Integer&gt;</code>, then the lambda that you pass to that method can't throw <code>IOException</code>, period. You can either write a lambda like this (I think this is the lambda syntax, not sure):</p>\n\n<pre><code>(String s) -&gt; {\n    try {\n        return myMethod(s);\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n        // (Or do something else with it...)\n    }\n}\n</code></pre>\n\n<p>Or, if the method you're passing the lambda to is one you wrote yourself, you can define a new functional interface and use that as the parameter type instead of <code>Function&lt;String, Integer&gt;</code>:</p>\n\n<pre><code>public interface FunctionThatThrowsIOException&lt;I, O&gt; {\n    O apply(I input) throws IOException;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":8,"creation_date":1453566997,"post_id":18198349,"comment_id":57662241,"body_markdown":"Minor optimization: Instead of `(String t) -&gt; myWrappedMethod(t)`, the method reference `this::myWrappedMethod` can also be used.","body":"Minor optimization: Instead of <code>(String t) -&gt; myWrappedMethod(t)</code>, the method reference <code>this::myWrappedMethod</code> can also be used."},{"owner":{"account_id":3612864,"reputation":2091,"user_id":3013473,"accept_rate":56,"display_name":"zafar142003"},"score":0,"creation_date":1471022100,"post_id":18198349,"comment_id":65203351,"body_markdown":"Maybe a RuntimeException in place of UncheckedIOException would have been a better choice.","body":"Maybe a RuntimeException in place of UncheckedIOException would have been a better choice."},{"owner":{"account_id":142807,"reputation":990,"user_id":350742,"display_name":"Martin Odhelius"},"score":16,"creation_date":1473412701,"post_id":18198349,"comment_id":66140846,"body_markdown":"An even more generic way to do it is to define the checked function like this\n\n@FunctionalInterface\npublic interface CheckedFunction&lt;T, R, E extends Exception&gt; {\n    R apply(T t) throws E;\n}\n\nIn that way you can also define which exception that the function is throwing and can reuse the interface for any code.","body":"An even more generic way to do it is to define the checked function like this  @FunctionalInterface public interface CheckedFunction&lt;T, R, E extends Exception&gt; {     R apply(T t) throws E; }  In that way you can also define which exception that the function is throwing and can reuse the interface for any code."},{"owner":{"account_id":2315538,"reputation":3123,"user_id":2032701,"accept_rate":100,"display_name":"Ruslan"},"score":0,"creation_date":1502277621,"post_id":18198349,"comment_id":78137119,"body_markdown":"The second approach changes the exact class of the exception which may break code up higher that is catching that exact checked exception. See Brian Goetz answer on a similar question: https://stackoverflow.com/a/27648758/2032701","body":"The second approach changes the exact class of the exception which may break code up higher that is catching that exact checked exception. See Brian Goetz answer on a similar question: <a href=\"https://stackoverflow.com/a/27648758/2032701\">stackoverflow.com/a/27648758/2032701</a>"},{"owner":{"account_id":18253860,"reputation":418,"user_id":13288265,"display_name":"jksevend"},"score":0,"creation_date":1626165864,"post_id":18198349,"comment_id":120813707,"body_markdown":"for me it worked passing an extra generic Exception argument to the interface definition:\n```@FunctionalInterface\npublic interface CheckedFunction&lt;T, R, E extends Throwable&gt; {\n\tR apply(T t) throws E;\n}```","body":"for me it worked passing an extra generic Exception argument to the interface definition: <code>@FunctionalInterface public interface CheckedFunction&lt;T, R, E extends Throwable&gt; { \tR apply(T t) throws E; }</code>"}],"tags":[],"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"comment_count":5,"down_vote_count":1,"up_vote_count":560,"is_accepted":true,"score":559,"last_activity_date":1553358670,"creation_date":1376350398,"answer_id":18198349,"question_id":18198176,"body_markdown":"You&#39;ll need to do one of the following.\r\n\r\n- If it&#39;s your code, then define your own functional interface that declares the checked exception:\r\n\r\n        @FunctionalInterface\r\n        public interface CheckedFunction&lt;T, R&gt; {\r\n           R apply(T t) throws IOException;\r\n        }\r\n\r\n    and use it:\r\n        \r\n        void foo (CheckedFunction f) { ... }\r\n\r\n- Otherwise, wrap `Integer myMethod(String s)` in a method that doesn&#39;t declare a checked exception:\r\n\r\n        public Integer myWrappedMethod(String s) {\r\n            try {\r\n                return myMethod(s);\r\n            }\r\n            catch(IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            }\r\n        }\r\n\r\n    and then:\r\n\r\n        Function&lt;String, Integer&gt; f = (String t) -&gt; myWrappedMethod(t);\r\n\r\n  or:\r\n\r\n        Function&lt;String, Integer&gt; f =\r\n            (String t) -&gt; {\r\n                try {\r\n                   return myMethod(t);\r\n                }\r\n                catch(IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            };","title":"Java 8 Lambda function that throws exception?","body":"<p>You'll need to do one of the following.</p>\n\n<ul>\n<li><p>If it's your code, then define your own functional interface that declares the checked exception:</p>\n\n<pre><code>@FunctionalInterface\npublic interface CheckedFunction&lt;T, R&gt; {\n   R apply(T t) throws IOException;\n}\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>void foo (CheckedFunction f) { ... }\n</code></pre></li>\n<li><p>Otherwise, wrap <code>Integer myMethod(String s)</code> in a method that doesn't declare a checked exception:</p>\n\n<pre><code>public Integer myWrappedMethod(String s) {\n    try {\n        return myMethod(s);\n    }\n    catch(IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>Function&lt;String, Integer&gt; f = (String t) -&gt; myWrappedMethod(t);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Function&lt;String, Integer&gt; f =\n    (String t) -&gt; {\n        try {\n           return myMethod(t);\n        }\n        catch(IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    };\n</code></pre></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":33,"creation_date":1535928781,"post_id":18198376,"comment_id":91232874,"body_markdown":"The question is _&quot;How would I define this reference?&quot;_.  This doesn&#39;t actually answer the question; it just clarifies what the problem is.","body":"The question is <i>&quot;How would I define this reference?&quot;</i>.  This doesn&#39;t actually answer the question; it just clarifies what the problem is."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":1,"down_vote_count":4,"up_vote_count":37,"is_accepted":false,"score":33,"last_activity_date":1376350610,"creation_date":1376350610,"answer_id":18198376,"question_id":18198176,"body_markdown":"This is not specific to Java 8. You are trying to compile something equivalent to:\r\n\r\n    interface I {\r\n        void m();\r\n    }\r\n    class C implements I {\r\n        public void m() throws Exception {} //can&#39;t compile\r\n    }\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>This is not specific to Java 8. You are trying to compile something equivalent to:</p>\n\n<pre><code>interface I {\n    void m();\n}\nclass C implements I {\n    public void m() throws Exception {} //can't compile\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3363058,"reputation":113,"user_id":2824436,"display_name":"yohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1391089039,"creation_date":1391089039,"answer_id":21458043,"question_id":18198176,"body_markdown":"Another solution using a Function wrapper would be to return either an instance of a wrapper of your result, say Success, if everything went well, either an instance of, say Failure.\r\n\r\nSome code to clarify things :\r\n\r\n    public interface ThrowableFunction&lt;A, B&gt; {\r\n        B apply(A a) throws Exception;\r\n    }\r\n\r\n    public abstract class Try&lt;A&gt; {\r\n\r\n        public static boolean isSuccess(Try tryy) {\r\n            return tryy instanceof Success;\r\n        }\r\n\r\n        public static &lt;A, B&gt; Function&lt;A, Try&lt;B&gt;&gt; tryOf(ThrowableFunction&lt;A, B&gt; function) {\r\n            return a -&gt; {\r\n                try {\r\n                    B result = function.apply(a);\r\n                    return new Success&lt;B&gt;(result);\r\n                } catch (Exception e) {\r\n                    return new Failure&lt;&gt;(e);\r\n                }\r\n            };\r\n        }\r\n\r\n        public abstract boolean isSuccess();\r\n    \r\n        public boolean isError() {\r\n            return !isSuccess();\r\n        }\r\n\r\n        public abstract A getResult();\r\n\r\n        public abstract Exception getError();\r\n    }\r\n\r\n    public class Success&lt;A&gt; extends Try&lt;A&gt; {\r\n\r\n        private final A result;\r\n\r\n        public Success(A result) {\r\n            this.result = result;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSuccess() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public A getResult() {\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        public Exception getError() {\r\n            return new UnsupportedOperationException();\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object that) {\r\n            if(!(that instanceof Success)) {\r\n                return false;\r\n            }\r\n            return Objects.equal(result, ((Success) that).getResult());\r\n        }\r\n    }\r\n\r\n    public class Failure&lt;A&gt; extends Try&lt;A&gt; {\r\n\r\n        private final Exception exception;\r\n\r\n        public Failure(Exception exception) {\r\n            this.exception = exception;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSuccess() {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public A getResult() {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    \r\n        @Override\r\n        public Exception getError() {\r\n            return exception;\r\n        }\r\n    }\r\n\r\nA simple use case :\r\n\r\n    List&lt;Try&lt;Integer&gt;&gt; result = Lists.newArrayList(1, 2, 3).stream().\r\n        map(Try.&lt;Integer, Integer&gt;tryOf(i -&gt; someMethodThrowingAnException(i))).\r\n        collect(Collectors.toList());\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>Another solution using a Function wrapper would be to return either an instance of a wrapper of your result, say Success, if everything went well, either an instance of, say Failure.</p>\n\n<p>Some code to clarify things :</p>\n\n<pre><code>public interface ThrowableFunction&lt;A, B&gt; {\n    B apply(A a) throws Exception;\n}\n\npublic abstract class Try&lt;A&gt; {\n\n    public static boolean isSuccess(Try tryy) {\n        return tryy instanceof Success;\n    }\n\n    public static &lt;A, B&gt; Function&lt;A, Try&lt;B&gt;&gt; tryOf(ThrowableFunction&lt;A, B&gt; function) {\n        return a -&gt; {\n            try {\n                B result = function.apply(a);\n                return new Success&lt;B&gt;(result);\n            } catch (Exception e) {\n                return new Failure&lt;&gt;(e);\n            }\n        };\n    }\n\n    public abstract boolean isSuccess();\n\n    public boolean isError() {\n        return !isSuccess();\n    }\n\n    public abstract A getResult();\n\n    public abstract Exception getError();\n}\n\npublic class Success&lt;A&gt; extends Try&lt;A&gt; {\n\n    private final A result;\n\n    public Success(A result) {\n        this.result = result;\n    }\n\n    @Override\n    public boolean isSuccess() {\n        return true;\n    }\n\n    @Override\n    public A getResult() {\n        return result;\n    }\n\n    @Override\n    public Exception getError() {\n        return new UnsupportedOperationException();\n    }\n\n    @Override\n    public boolean equals(Object that) {\n        if(!(that instanceof Success)) {\n            return false;\n        }\n        return Objects.equal(result, ((Success) that).getResult());\n    }\n}\n\npublic class Failure&lt;A&gt; extends Try&lt;A&gt; {\n\n    private final Exception exception;\n\n    public Failure(Exception exception) {\n        this.exception = exception;\n    }\n\n    @Override\n    public boolean isSuccess() {\n        return false;\n    }\n\n    @Override\n    public A getResult() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public Exception getError() {\n        return exception;\n    }\n}\n</code></pre>\n\n<p>A simple use case :</p>\n\n<pre><code>List&lt;Try&lt;Integer&gt;&gt; result = Lists.newArrayList(1, 2, 3).stream().\n    map(Try.&lt;Integer, Integer&gt;tryOf(i -&gt; someMethodThrowingAnException(i))).\n    collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":1,"creation_date":1431633003,"post_id":26121091,"comment_id":48593056,"body_markdown":"[This](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137) is an extension of this idea which makes a distinction between a &quot;default value&quot; strategy (as in your answer), and a &quot;rethrow RuntimeException&quot; strategy, where a default value isn&#39;t necessary.","body":"<a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137\" rel=\"nofollow noreferrer\">This</a> is an extension of this idea which makes a distinction between a &quot;default value&quot; strategy (as in your answer), and a &quot;rethrow RuntimeException&quot; strategy, where a default value isn&#39;t necessary."}],"tags":[],"owner":{"account_id":243539,"reputation":739,"user_id":515797,"display_name":"mmounirou"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412080670,"creation_date":1412080670,"answer_id":26121091,"question_id":18198176,"body_markdown":"What I&#39;m doing is to allow the user to give the value he actually want in case of exception .\r\nSo I&#39;ve something looking like this \r\n\r\n    public static &lt;T, R&gt; Function&lt;? super T, ? extends R&gt; defaultIfThrows(FunctionThatThrows&lt;? super T, ? extends R&gt; delegate, R defaultValue) {\r\n        return x -&gt; {\r\n            try {\r\n                return delegate.apply(x);\r\n            } catch (Throwable throwable) {\r\n                return defaultValue;\r\n            }\r\n        };\r\n    }\r\n\r\n    @FunctionalInterface\r\n    public interface FunctionThatThrows&lt;T, R&gt; {\r\n        R apply(T t) throws Throwable;\r\n    }\r\n\r\nAnd this can then be call like : \r\n\r\n    defaultIfThrows(child -&gt; child.getID(), null)","title":"Java 8 Lambda function that throws exception?","body":"<p>What I'm doing is to allow the user to give the value he actually want in case of exception .\nSo I've something looking like this </p>\n\n<pre><code>public static &lt;T, R&gt; Function&lt;? super T, ? extends R&gt; defaultIfThrows(FunctionThatThrows&lt;? super T, ? extends R&gt; delegate, R defaultValue) {\n    return x -&gt; {\n        try {\n            return delegate.apply(x);\n        } catch (Throwable throwable) {\n            return defaultValue;\n        }\n    };\n}\n\n@FunctionalInterface\npublic interface FunctionThatThrows&lt;T, R&gt; {\n    R apply(T t) throws Throwable;\n}\n</code></pre>\n\n<p>And this can then be call like : </p>\n\n<pre><code>defaultIfThrows(child -&gt; child.getID(), null)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":15,"creation_date":1431633350,"post_id":27252163,"comment_id":48593278,"body_markdown":"So you have a set of interfaces (Function, Consumer, Supplier, ...) and a set of policies for handling errors (Throwing, System.out.println, ...). I think [there&#39;s a way](http://stackoverflow.com/a/30246026/1153071) to make it easy to use any policy with any kind of function, without having to copy paste &quot;ThrowingConsumer, ThrowingFunction, etc.&quot;.","body":"So you have a set of interfaces (Function, Consumer, Supplier, ...) and a set of policies for handling errors (Throwing, System.out.println, ...). I think <a href=\"http://stackoverflow.com/a/30246026/1153071\">there&#39;s a way</a> to make it easy to use any policy with any kind of function, without having to copy paste &quot;ThrowingConsumer, ThrowingFunction, etc.&quot;."},{"owner":{"account_id":132233,"reputation":3702,"user_id":332788,"accept_rate":71,"display_name":"aliopi"},"score":2,"creation_date":1501666339,"post_id":27252163,"comment_id":77874201,"body_markdown":"some time later... I decided to use unchecked exceptions and not use any additional functional interfaces or new libraries -&gt; the easy road, less typing, faster delivery, isn&#39;t it.","body":"some time later... I decided to use unchecked exceptions and not use any additional functional interfaces or new libraries -&gt; the easy road, less typing, faster delivery, isn&#39;t it."},{"owner":{"account_id":6949797,"reputation":286,"user_id":5332768,"display_name":"myui"},"score":1,"creation_date":1509071620,"post_id":27252163,"comment_id":80880712,"body_markdown":"Here is [an improved version](https://stackoverflow.com/a/46966597/5332768) using sneaky throwing idiom.\n\nNo need to unwrap RuntimeException into CheckException.","body":"Here is <a href=\"https://stackoverflow.com/a/46966597/5332768\">an improved version</a> using sneaky throwing idiom.  No need to unwrap RuntimeException into CheckException."},{"owner":{"account_id":4165150,"reputation":3628,"user_id":3414257,"accept_rate":80,"display_name":"panoet"},"score":0,"creation_date":1655111390,"post_id":27252163,"comment_id":128244440,"body_markdown":"I prefer this approach instead of using library or other thing. Thank you anyway.","body":"I prefer this approach instead of using library or other thing. Thank you anyway."}],"tags":[],"owner":{"account_id":78072,"reputation":19350,"user_id":222438,"accept_rate":90,"display_name":"jlb"},"comment_count":4,"down_vote_count":0,"up_vote_count":247,"is_accepted":false,"score":247,"last_activity_date":1664663592,"creation_date":1417531561,"answer_id":27252163,"question_id":18198176,"body_markdown":"You can actually extend `Consumer` (and `Function` etc.) with a new interface that handles exceptions -- using Java 8&#39;s **default methods**!\r\n\r\nConsider this interface (extends `Consumer`):\r\n\r\n    @FunctionalInterface\r\n    public interface ThrowingConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\r\n    \r\n    \t@Override\r\n    \tdefault void accept(final T elem) {\r\n    \t\ttry {\r\n    \t\t\tacceptThrows(elem);\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\t// Implement your own exception handling logic here..\r\n    \t\t\t// For example:\r\n    \t\t\tSystem.out.println(&quot;handling an exception...&quot;);\r\n    \t\t\t// Or ...\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tvoid acceptThrows(T elem) throws Exception;\r\n    \r\n    }\r\n\r\nThen, for example, if you have a list:\r\n\r\n    final List&lt;String&gt; list = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\nIf you want to consume it (eg. with `forEach`) with some code that throws exceptions, you would traditionally have set up a try/catch block:\r\n\r\n    final Consumer&lt;String&gt; consumer = aps -&gt; {\r\n        try {\r\n            // maybe some other code here...\r\n            throw new Exception(&quot;asdas&quot;);\r\n        } catch (final Exception ex) {\r\n            System.out.println(&quot;handling an exception...&quot;);\r\n        }\r\n    };\r\n    list.forEach(consumer);\r\n\r\nBut with this new interface, you can instantiate it with a lambda expression and the compiler will not complain:\r\n\r\n    final ThrowingConsumer&lt;String&gt; throwingConsumer = aps -&gt; {\r\n        // maybe some other code here...\r\n        throw new Exception(&quot;asdas&quot;);\r\n    };\r\n    list.forEach(throwingConsumer);\r\n\r\nOr even just cast it to be more succinct!:\r\n\r\n    list.forEach((ThrowingConsumer&lt;String&gt;) aps -&gt; {\r\n        // maybe some other code here...\r\n        throw new Exception(&quot;asda&quot;);\r\n    });\r\n\r\n# Update\r\nLooks like there&#39;s a very nice utility library part of [Durian][1] called [Errors][2] which can be used to solve this problem with a lot more flexibility. For example, in my implementation above I&#39;ve explicitly defined the error handling policy (`System.out...` or `throw RuntimeException`), whereas Durian&#39;s Errors allow you to apply a policy on the fly via a large suite of utility methods. Thanks for [sharing it][3], @NedTwigg!.\r\n\r\nSample usage:\r\n\r\n    list.forEach(Errors.rethrow().wrap(c -&gt; somethingThatThrows(c)));\r\n\r\n\r\n  [1]: https://github.com/diffplug/durian\r\n  [2]: https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\r\n  [3]: https://stackoverflow.com/a/30246026/1153071","title":"Java 8 Lambda function that throws exception?","body":"<p>You can actually extend <code>Consumer</code> (and <code>Function</code> etc.) with a new interface that handles exceptions -- using Java 8's <strong>default methods</strong>!</p>\n<p>Consider this interface (extends <code>Consumer</code>):</p>\n<pre><code>@FunctionalInterface\npublic interface ThrowingConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\n\n    @Override\n    default void accept(final T elem) {\n        try {\n            acceptThrows(elem);\n        } catch (final Exception e) {\n            // Implement your own exception handling logic here..\n            // For example:\n            System.out.println(&quot;handling an exception...&quot;);\n            // Or ...\n            throw new RuntimeException(e);\n        }\n    }\n\n    void acceptThrows(T elem) throws Exception;\n\n}\n</code></pre>\n<p>Then, for example, if you have a list:</p>\n<pre><code>final List&lt;String&gt; list = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n</code></pre>\n<p>If you want to consume it (eg. with <code>forEach</code>) with some code that throws exceptions, you would traditionally have set up a try/catch block:</p>\n<pre><code>final Consumer&lt;String&gt; consumer = aps -&gt; {\n    try {\n        // maybe some other code here...\n        throw new Exception(&quot;asdas&quot;);\n    } catch (final Exception ex) {\n        System.out.println(&quot;handling an exception...&quot;);\n    }\n};\nlist.forEach(consumer);\n</code></pre>\n<p>But with this new interface, you can instantiate it with a lambda expression and the compiler will not complain:</p>\n<pre><code>final ThrowingConsumer&lt;String&gt; throwingConsumer = aps -&gt; {\n    // maybe some other code here...\n    throw new Exception(&quot;asdas&quot;);\n};\nlist.forEach(throwingConsumer);\n</code></pre>\n<p>Or even just cast it to be more succinct!:</p>\n<pre><code>list.forEach((ThrowingConsumer&lt;String&gt;) aps -&gt; {\n    // maybe some other code here...\n    throw new Exception(&quot;asda&quot;);\n});\n</code></pre>\n<h1>Update</h1>\n<p>Looks like there's a very nice utility library part of <a href=\"https://github.com/diffplug/durian\" rel=\"noreferrer\">Durian</a> called <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\" rel=\"noreferrer\">Errors</a> which can be used to solve this problem with a lot more flexibility. For example, in my implementation above I've explicitly defined the error handling policy (<code>System.out...</code> or <code>throw RuntimeException</code>), whereas Durian's Errors allow you to apply a policy on the fly via a large suite of utility methods. Thanks for <a href=\"https://stackoverflow.com/a/30246026/1153071\">sharing it</a>, @NedTwigg!.</p>\n<p>Sample usage:</p>\n<pre><code>list.forEach(Errors.rethrow().wrap(c -&gt; somethingThatThrows(c)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1424257742,"post_id":27696684,"comment_id":45472016,"body_markdown":"I really like the idea, I only wish you made the throwables generic as suggested here: http://www.javaspecialists.eu/archive/Issue221.html, e.g.: `@FunctionalInterface\npublic interface SupplierWithCE&lt;T, X extends Exception&gt; {\n  T get() throws X;\n}` - this way the user doesn&#39;t need to catch `Throwable`, but the specific checked exception instead.","body":"I really like the idea, I only wish you made the throwables generic as suggested here: <a href=\"http://www.javaspecialists.eu/archive/Issue221.html\" rel=\"nofollow noreferrer\">javaspecialists.eu/archive/Issue221.html</a>, e.g.: <code>@FunctionalInterface public interface SupplierWithCE&lt;T, X extends Exception&gt; {   T get() throws X; }</code> - this way the user doesn&#39;t need to catch <code>Throwable</code>, but the specific checked exception instead."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1424277768,"post_id":27696684,"comment_id":45484698,"body_markdown":"@Zolt&#225;n that would be a pain to declare the exception each and every time though; also, you can always just use, say, .apply() instead of .doApply() and catch `ThrownByLambdaException`, you&#39;ll have the original exception as a cause (or you can use `rethrow(...).as(MyRuntimeException.class)`)","body":"@Zolt&#225;n that would be a pain to declare the exception each and every time though; also, you can always just use, say, .apply() instead of .doApply() and catch <code>ThrownByLambdaException</code>, you&#39;ll have the original exception as a cause (or you can use <code>rethrow(...).as(MyRuntimeException.class)</code>)"},{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":0,"creation_date":1431633155,"post_id":27696684,"comment_id":48593144,"body_markdown":"I think there is (kind of) [a way around this](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247).","body":"I think there is (kind of) <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247\" rel=\"nofollow noreferrer\">a way around this</a>."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1431633631,"post_id":27696684,"comment_id":48593461,"body_markdown":"@NedTwigg I have solved this long ago as well; I can now use `Throwing.runnable()` and others, always with chaining capabilities","body":"@NedTwigg I have solved this long ago as well; I can now use <code>Throwing.runnable()</code> and others, always with chaining capabilities"},{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":0,"creation_date":1431651959,"post_id":27696684,"comment_id":48600282,"body_markdown":"The chaining functionality is very cool!  My comment was about whether ThrowingRunnable should have the generic exception or not.  Zoltan asked if your library could have the argument as a generic parameter, and you said that would be a pain to use.  My link was to some lines of code which show one way to have the exceptions be generic, without it being a pain.  Unless I misread it, the exceptions in your library are not generic (which is a reasonable design choice, because you don&#39;t get much utility by making them generic).","body":"The chaining functionality is very cool!  My comment was about whether ThrowingRunnable should have the generic exception or not.  Zoltan asked if your library could have the argument as a generic parameter, and you said that would be a pain to use.  My link was to some lines of code which show one way to have the exceptions be generic, without it being a pain.  Unless I misread it, the exceptions in your library are not generic (which is a reasonable design choice, because you don&#39;t get much utility by making them generic)."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1419890459,"creation_date":1419890459,"answer_id":27696684,"question_id":18198176,"body_markdown":"This problem has been bothering me as well; this is why I have created [this project](https://github.com/fge/throwing-lambdas).\r\n\r\nWith it you can do:\r\n\r\n    final ThrowingFunction&lt;String, Integer&gt; f = yourMethodReferenceHere;\r\n\r\nThere are a totla of 39 interfaces defined by the JDK which have such a `Throwing` equivalent; those are all `@FunctionalInterface`s used in streams (the base `Stream` but also `IntStream`, `LongStream` and `DoubleStream`).\r\n\r\nAnd as each of them extend their non throwing counterpart, you can directly use them in lambdas as well:\r\n\r\n    myStringStream.map(f) // &lt;-- works\r\n\r\nThe default behavior is that when your throwing lambda throws a checked exception, a `ThrownByLambdaException` is thrown with the checked exception as the cause. You can therefore capture that and get the cause.\r\n\r\nOther features are available as well.\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>This problem has been bothering me as well; this is why I have created <a href=\"https://github.com/fge/throwing-lambdas\" rel=\"nofollow\">this project</a>.</p>\n\n<p>With it you can do:</p>\n\n<pre><code>final ThrowingFunction&lt;String, Integer&gt; f = yourMethodReferenceHere;\n</code></pre>\n\n<p>There are a totla of 39 interfaces defined by the JDK which have such a <code>Throwing</code> equivalent; those are all <code>@FunctionalInterface</code>s used in streams (the base <code>Stream</code> but also <code>IntStream</code>, <code>LongStream</code> and <code>DoubleStream</code>).</p>\n\n<p>And as each of them extend their non throwing counterpart, you can directly use them in lambdas as well:</p>\n\n<pre><code>myStringStream.map(f) // &lt;-- works\n</code></pre>\n\n<p>The default behavior is that when your throwing lambda throws a checked exception, a <code>ThrownByLambdaException</code> is thrown with the checked exception as the cause. You can therefore capture that and get the cause.</p>\n\n<p>Other features are available as well.</p>\n"},{"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":4,"creation_date":1420822678,"post_id":27865109,"comment_id":44133330,"body_markdown":"Mind to comment your work? Code-only answers aren&#39;t so useful.","body":"Mind to comment your work? Code-only answers aren&#39;t so useful."},{"owner":{"account_id":1332860,"reputation":3939,"user_id":1806019,"accept_rate":79,"display_name":"AdrieanKhisbe"},"score":0,"creation_date":1420970457,"post_id":27865109,"comment_id":44172785,"body_markdown":"@Franky you can fix your presentation by use 4 spacing, instead of `&lt;code&gt;/&lt;code&gt;` :)","body":"@Franky you can fix your presentation by use 4 spacing, instead of <code>&lt;code&gt;&#47;&lt;code&gt;</code> :)"}],"tags":[],"owner":{"account_id":5601565,"reputation":1,"user_id":4437637,"display_name":"Franky Knuckels"},"comment_count":2,"down_vote_count":9,"up_vote_count":0,"is_accepted":false,"score":-9,"last_activity_date":1422214674,"creation_date":1420821469,"answer_id":27865109,"question_id":18198176,"body_markdown":"    public void frankTest() {\r\n        int pageId= -1;\r\n\r\n        List&lt;Book&gt; users= null;\r\n        try {\r\n            //Does Not Compile:  Object page=DatabaseConnection.getSpringConnection().queryForObject(&quot;SELECT * FROM bookmark_page&quot;, (rw, n) -&gt; new Portal(rw.getInt(&quot;id&quot;), &quot;&quot;, users.parallelStream().filter(uu -&gt; uu.getVbid() == rw.getString(&quot;user_id&quot;)).findFirst().get(), rw.getString(&quot;name&quot;)));\r\n\r\n            //Compiles:\r\n\t\t\tObject page= DatabaseConnection.getSpringConnection().queryForObject(&quot;SELECT * FROM bookmark_page&quot;, (rw, n) -&gt; { \r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal Book bk= users.stream().filter(bp -&gt; { \r\n\t\t\t\t\t\tString name= null;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tname = rw.getString(&quot;name&quot;);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn bp.getTitle().equals(name); \r\n\t\t\t\t\t}).limit(1).collect(Collectors.toList()).get(0);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\treturn new Portal(rw.getInt(&quot;id&quot;), &quot;&quot;, users.get(0), rw.getString(&quot;name&quot;)); \r\n\t\t\t} );\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Java 8 Lambda function that throws exception?","body":"<pre><code>public void frankTest() {\n    int pageId= -1;\n\n    List&lt;Book&gt; users= null;\n    try {\n        //Does Not Compile:  Object page=DatabaseConnection.getSpringConnection().queryForObject(\"SELECT * FROM bookmark_page\", (rw, n) -&gt; new Portal(rw.getInt(\"id\"), \"\", users.parallelStream().filter(uu -&gt; uu.getVbid() == rw.getString(\"user_id\")).findFirst().get(), rw.getString(\"name\")));\n\n        //Compiles:\n        Object page= DatabaseConnection.getSpringConnection().queryForObject(\"SELECT * FROM bookmark_page\", (rw, n) -&gt; { \n            try {\n                final Book bk= users.stream().filter(bp -&gt; { \n                    String name= null;\n                    try {\n                        name = rw.getString(\"name\");\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    return bp.getTitle().equals(name); \n                }).limit(1).collect(Collectors.toList()).get(0);\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            return new Portal(rw.getInt(\"id\"), \"\", users.get(0), rw.getString(\"name\")); \n        } );\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5640660,"reputation":179,"user_id":4464640,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421497278,"creation_date":1421497278,"answer_id":27999416,"question_id":18198176,"body_markdown":"I had this problem with Class.forName and Class.newInstance inside a lambda, so I just did:\r\n\r\n    public Object uncheckedNewInstanceForName (String name) {\r\n\t\r\n\t\ttry {\r\n\t\t\treturn Class.forName(name).newInstance();\r\n\t\t}\r\n\t\tcatch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\nInside the lambda, instead of calling Class.forName(&quot;myClass&quot;).newInstance() I just called uncheckedNewInstanceForName (&quot;myClass&quot;)\r\n\t","title":"Java 8 Lambda function that throws exception?","body":"<p>I had this problem with Class.forName and Class.newInstance inside a lambda, so I just did:</p>\n\n<pre><code>public Object uncheckedNewInstanceForName (String name) {\n\n    try {\n        return Class.forName(name).newInstance();\n    }\n    catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>Inside the lambda, instead of calling Class.forName(\"myClass\").newInstance() I just called uncheckedNewInstanceForName (\"myClass\")</p>\n"},{"comments":[{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1454522516,"post_id":30246026,"comment_id":58085761,"body_markdown":"Or you can just use [RxJava](https://github.com/ReactiveX/RxJava) since streams need inherent error handling and if there is something in your pipeline that throws an exception there is a good chance its probably an observable stream. This also doesn&#39;t force Java 8 on downstream consumers of a library.","body":"Or you can just use <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a> since streams need inherent error handling and if there is something in your pipeline that throws an exception there is a good chance its probably an observable stream. This also doesn&#39;t force Java 8 on downstream consumers of a library."},{"owner":{"account_id":1479307,"reputation":3972,"user_id":1389023,"display_name":"Istvan Devai"},"score":2,"creation_date":1548261710,"post_id":30246026,"comment_id":95481613,"body_markdown":"Please note that [Durian](https://mvnrepository.com/search?q=durian) has no new versions since June 2016. Not a show stopper, but something to keep in mind.","body":"Please note that <a href=\"https://mvnrepository.com/search?q=durian\" rel=\"nofollow noreferrer\">Durian</a> has no new versions since June 2016. Not a show stopper, but something to keep in mind."},{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":23,"creation_date":1548271589,"post_id":30246026,"comment_id":95486179,"body_markdown":"Durian maintainer here.  What&#39;s broken?  If a user finds a bug or an important missing feature, we would release a bugfix quickly.  The library is simple, thus we haven&#39;t had any bug reports, thus we haven&#39;t needed to release any bugfixes.","body":"Durian maintainer here.  What&#39;s broken?  If a user finds a bug or an important missing feature, we would release a bugfix quickly.  The library is simple, thus we haven&#39;t had any bug reports, thus we haven&#39;t needed to release any bugfixes."},{"owner":{"account_id":1404879,"reputation":716,"user_id":1332865,"display_name":"Renato Back"},"score":0,"creation_date":1614601918,"post_id":30246026,"comment_id":117426249,"body_markdown":"Please keep in mind that, currently, you need to copy more than &quot;just two small classes&quot;.","body":"Please keep in mind that, currently, you need to copy more than &quot;just two small classes&quot;."}],"tags":[],"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"comment_count":4,"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1445632765,"creation_date":1431632778,"answer_id":30246026,"question_id":18198176,"body_markdown":"I think [Durian&#39;s `Errors` class](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65) combines many of the pros of the various suggestions above.\r\n\r\n- [Wrap a throwing function to a standard Java 8 functional interface.](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L178-L198)\r\n- Easily specify [various policies for handling errors](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L43-L64)\r\n- When wrapping a method that returns a value, there is [an important distinction](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137) between specifying a default value or rethrowing a RuntimeException.\r\n- [Throwing versions](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L177-L198) of Java 8&#39;s functional interfaces\r\n    - Similar to [fge&#39;s answer](https://stackoverflow.com/a/27696684/1153071)\r\n- [Standard interfaces for throwing specific exceptions](https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247)\r\n    - Which addresses [Zolt&#225;n&#39;s concern](https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception#comment45472016_27696684)\r\n\r\n\r\nTo include Durian in your project, you can either:\r\n\r\n - grab it from [jcenter](https://bintray.com/diffplug/opensource/durian/view) or [maven central](http://search.maven.org/#artifactdetails%7Ccom.diffplug.durian%7Cdurian%7C2.0%7Cjar) at `com.diffplug.durian:durian:3.3.0`\r\n - or just copy paste just two small classes into your code: [`Throwing.java`](https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Throwing.java) and [`Errors.java`](https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Errors.java)","title":"Java 8 Lambda function that throws exception?","body":"<p>I think <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\" rel=\"noreferrer\">Durian's <code>Errors</code> class</a> combines many of the pros of the various suggestions above.</p>\n\n<ul>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L178-L198\" rel=\"noreferrer\">Wrap a throwing function to a standard Java 8 functional interface.</a></li>\n<li>Easily specify <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L43-L64\" rel=\"noreferrer\">various policies for handling errors</a></li>\n<li>When wrapping a method that returns a value, there is <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137\" rel=\"noreferrer\">an important distinction</a> between specifying a default value or rethrowing a RuntimeException.</li>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L177-L198\" rel=\"noreferrer\">Throwing versions</a> of Java 8's functional interfaces\n\n<ul>\n<li>Similar to <a href=\"https://stackoverflow.com/a/27696684/1153071\">fge's answer</a></li>\n</ul></li>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247\" rel=\"noreferrer\">Standard interfaces for throwing specific exceptions</a>\n\n<ul>\n<li>Which addresses <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception#comment45472016_27696684\">Zoltn's concern</a></li>\n</ul></li>\n</ul>\n\n<p>To include Durian in your project, you can either:</p>\n\n<ul>\n<li>grab it from <a href=\"https://bintray.com/diffplug/opensource/durian/view\" rel=\"noreferrer\">jcenter</a> or <a href=\"http://search.maven.org/#artifactdetails%7Ccom.diffplug.durian%7Cdurian%7C2.0%7Cjar\" rel=\"noreferrer\">maven central</a> at <code>com.diffplug.durian:durian:3.3.0</code></li>\n<li>or just copy paste just two small classes into your code: <a href=\"https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Throwing.java\" rel=\"noreferrer\"><code>Throwing.java</code></a> and <a href=\"https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Errors.java\" rel=\"noreferrer\"><code>Errors.java</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2373586,"reputation":527,"user_id":2077598,"accept_rate":36,"display_name":"JohnnyO"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1433026132,"creation_date":1433026132,"answer_id":30552117,"question_id":18198176,"body_markdown":"You could however create your own FunctionalInterface that throws as below..\r\n\r\n    @FunctionalInterface\r\n    public interface UseInstance&lt;T, X extends Throwable&gt; {\r\n      void accept(T instance) throws X;\r\n    }\r\n\r\nthen implement it using Lambdas or references as shown below.\r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    //lambda expressions and the execute around method (EAM) pattern to\r\n    //manage resources\r\n    \r\n    public class FileWriterEAM  {\r\n      private final FileWriter writer;\r\n      \r\n      private FileWriterEAM(final String fileName) throws IOException {\r\n        writer = new FileWriter(fileName);\r\n      }\r\n      private void close() throws IOException {\r\n        System.out.println(&quot;close called automatically...&quot;);\r\n        writer.close();\r\n      }\r\n      public void writeStuff(final String message) throws IOException {\r\n        writer.write(message);\r\n      }\r\n      //...\r\n    \r\n      public static void use(final String fileName, final UseInstance&lt;FileWriterEAM, IOException&gt; block) throws IOException {\r\n        \r\n        final FileWriterEAM writerEAM = new FileWriterEAM(fileName);    \r\n        try {\r\n          block.accept(writerEAM);\r\n        } finally {\r\n          writerEAM.close();\r\n        }\r\n      }\r\n    \r\n      public static void main(final String[] args) throws IOException {\r\n      \r\n        FileWriterEAM.use(&quot;eam.txt&quot;, writerEAM -&gt; writerEAM.writeStuff(&quot;sweet&quot;));\r\n      \r\n        FileWriterEAM.use(&quot;eam2.txt&quot;, writerEAM -&gt; {\r\n            writerEAM.writeStuff(&quot;how&quot;);\r\n            writerEAM.writeStuff(&quot;sweet&quot;);      \r\n          });\r\n        \r\n        FileWriterEAM.use(&quot;eam3.txt&quot;, FileWriterEAM::writeIt);     \r\n    \r\n      }\r\n      \r\n      \r\n     void writeIt() throws IOException{\r\n         this.writeStuff(&quot;How &quot;);\r\n         this.writeStuff(&quot;sweet &quot;);\r\n         this.writeStuff(&quot;it is&quot;);\r\n      \r\n     }\r\n    \r\n    }\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>You could however create your own FunctionalInterface that throws as below..</p>\n\n<pre><code>@FunctionalInterface\npublic interface UseInstance&lt;T, X extends Throwable&gt; {\n  void accept(T instance) throws X;\n}\n</code></pre>\n\n<p>then implement it using Lambdas or references as shown below.</p>\n\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\n\n//lambda expressions and the execute around method (EAM) pattern to\n//manage resources\n\npublic class FileWriterEAM  {\n  private final FileWriter writer;\n\n  private FileWriterEAM(final String fileName) throws IOException {\n    writer = new FileWriter(fileName);\n  }\n  private void close() throws IOException {\n    System.out.println(\"close called automatically...\");\n    writer.close();\n  }\n  public void writeStuff(final String message) throws IOException {\n    writer.write(message);\n  }\n  //...\n\n  public static void use(final String fileName, final UseInstance&lt;FileWriterEAM, IOException&gt; block) throws IOException {\n\n    final FileWriterEAM writerEAM = new FileWriterEAM(fileName);    \n    try {\n      block.accept(writerEAM);\n    } finally {\n      writerEAM.close();\n    }\n  }\n\n  public static void main(final String[] args) throws IOException {\n\n    FileWriterEAM.use(\"eam.txt\", writerEAM -&gt; writerEAM.writeStuff(\"sweet\"));\n\n    FileWriterEAM.use(\"eam2.txt\", writerEAM -&gt; {\n        writerEAM.writeStuff(\"how\");\n        writerEAM.writeStuff(\"sweet\");      \n      });\n\n    FileWriterEAM.use(\"eam3.txt\", FileWriterEAM::writeIt);     \n\n  }\n\n\n void writeIt() throws IOException{\n     this.writeStuff(\"How \");\n     this.writeStuff(\"sweet \");\n     this.writeStuff(\"it is\");\n\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1435919710,"creation_date":1434962186,"answer_id":30975363,"question_id":18198176,"body_markdown":"You can.\r\n\r\nExtending @marcg &#39;s `UtilException` and adding generic `&lt;E extends Exception&gt;` where necessary: this way, the compiler will force you again to add throw clauses and everything&#39;s as if you could throw checked exceptions natively on java 8&#39;s streams.\r\n\r\n    public final class LambdaExceptionUtil {\r\n    \r\n        @FunctionalInterface\r\n        public interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\r\n            R apply(T t) throws E;\r\n        }\r\n    \r\n        /**\r\n         * .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName))\r\n         */\r\n        public static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E  {\r\n            return t -&gt; {\r\n                try {\r\n                    return function.apply(t);\r\n                } catch (Exception exception) {\r\n                    throwActualException(exception);\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static &lt;E extends Exception&gt; void throwActualException(Exception exception) throws E {\r\n            throw (E) exception;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class LambdaExceptionUtilTest {\r\n    \r\n        @Test\r\n        public void testFunction() throws MyTestException {\r\n            List&lt;Integer&gt; sizes = Stream.of(&quot;ciao&quot;, &quot;hello&quot;).&lt;Integer&gt;map(rethrowFunction(s -&gt; transform(s))).collect(toList());\r\n            assertEquals(2, sizes.size());\r\n            assertEquals(4, sizes.get(0).intValue());\r\n            assertEquals(5, sizes.get(1).intValue());\r\n        }\r\n    \r\n        private Integer transform(String value) throws MyTestException {\r\n            if(value==null) {\r\n                throw new MyTestException();\r\n            }\r\n            return value.length();\r\n        }\r\n    \r\n        private static class MyTestException extends Exception { }\r\n    }","title":"Java 8 Lambda function that throws exception?","body":"<p>You can.</p>\n\n<p>Extending @marcg 's <code>UtilException</code> and adding generic <code>&lt;E extends Exception&gt;</code> where necessary: this way, the compiler will force you again to add throw clauses and everything's as if you could throw checked exceptions natively on java 8's streams.</p>\n\n<pre><code>public final class LambdaExceptionUtil {\n\n    @FunctionalInterface\n    public interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\n        R apply(T t) throws E;\n    }\n\n    /**\n     * .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName))\n     */\n    public static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E  {\n        return t -&gt; {\n            try {\n                return function.apply(t);\n            } catch (Exception exception) {\n                throwActualException(exception);\n                return null;\n            }\n        };\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;E extends Exception&gt; void throwActualException(Exception exception) throws E {\n        throw (E) exception;\n    }\n\n}\n\npublic class LambdaExceptionUtilTest {\n\n    @Test\n    public void testFunction() throws MyTestException {\n        List&lt;Integer&gt; sizes = Stream.of(\"ciao\", \"hello\").&lt;Integer&gt;map(rethrowFunction(s -&gt; transform(s))).collect(toList());\n        assertEquals(2, sizes.size());\n        assertEquals(4, sizes.get(0).intValue());\n        assertEquals(5, sizes.get(1).intValue());\n    }\n\n    private Integer transform(String value) throws MyTestException {\n        if(value==null) {\n            throw new MyTestException();\n        }\n        return value.length();\n    }\n\n    private static class MyTestException extends Exception { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48154,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441264893,"creation_date":1441217052,"answer_id":32360174,"question_id":18198176,"body_markdown":"You can use [ET][1] for this. ET is a small Java 8 library for exception conversion/translation.\n\nWith ET it looks like this:\n    \n    // Do this once\n    ExceptionTranslator et = ET.newConfiguration().done();\n\n    ...\n\n    // if your method returns something\n    Function&lt;String, Integer&gt; f = (t) -&gt; et.withReturningTranslation(() -&gt; myMethod(t));\n\n    // if your method returns nothing\n    Consumer&lt;String&gt; c = (t) -&gt; et.withTranslation(() -&gt; myMethod(t));\n\n`ExceptionTranslator` instances are thread safe an can be shared by multiple components. You can configure more specific exception conversion rules (e.g. `FooCheckedException -&gt; BarRuntimeException`) if you like. \nIf no other rules are available, checked exceptions are automatically converted to `RuntimeException`.\n\n(Disclaimer: I am the author of ET)\n\n  [1]: https://github.com/mscharhag/ET","title":"Java 8 Lambda function that throws exception?","body":"<p>You can use <a href=\"https://github.com/mscharhag/ET\" rel=\"nofollow noreferrer\">ET</a> for this. ET is a small Java 8 library for exception conversion/translation.</p>\n<p>With ET it looks like this:</p>\n<pre><code>// Do this once\nExceptionTranslator et = ET.newConfiguration().done();\n\n...\n\n// if your method returns something\nFunction&lt;String, Integer&gt; f = (t) -&gt; et.withReturningTranslation(() -&gt; myMethod(t));\n\n// if your method returns nothing\nConsumer&lt;String&gt; c = (t) -&gt; et.withTranslation(() -&gt; myMethod(t));\n</code></pre>\n<p><code>ExceptionTranslator</code> instances are thread safe an can be shared by multiple components. You can configure more specific exception conversion rules (e.g. <code>FooCheckedException -&gt; BarRuntimeException</code>) if you like.\nIf no other rules are available, checked exceptions are automatically converted to <code>RuntimeException</code>.</p>\n<p>(Disclaimer: I am the author of ET)</p>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1557612667,"post_id":34574359,"comment_id":98825263,"body_markdown":"I agree that converting the checked Exception to an unchecked Exception, or swallowing the Exception is not a good idea because there is no way to know which element of the `Stream` raised an Exception. Thus, I like the idea of having an exception handler and filtering the results that are not valid. Note that your MyAmazingAPI is effectively a `FunctionalInterface` (therefore you could add the @FunctionalInterface annotation). Also you could have a default value instead of using `Optional.empty()`.","body":"I agree that converting the checked Exception to an unchecked Exception, or swallowing the Exception is not a good idea because there is no way to know which element of the <code>Stream</code> raised an Exception. Thus, I like the idea of having an exception handler and filtering the results that are not valid. Note that your MyAmazingAPI is effectively a <code>FunctionalInterface</code> (therefore you could add the @FunctionalInterface annotation). Also you could have a default value instead of using <code>Optional.empty()</code>."}],"tags":[],"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1451808629,"creation_date":1451806615,"answer_id":34574359,"question_id":18198176,"body_markdown":"There are a lot of great responses already posted here. Just attempting to solve the problem with a different perspective. Its just my 2 cents, please correct me if I am wrong somewhere. \r\n\r\n**Throws clause in FunctionalInterface is not a good idea**\r\n\r\nI think this is probably not a good idea to enforce throws IOException because of following reasons\r\n\r\n - This looks to me like an anti-pattern to Stream/Lambda. The whole idea is that the caller will decide what code to provide and how to handle the exception. In many scenarios, the IOException might not be applicable for the client. For example, if the client is getting value from cache/memory instead of performing actual I/O. \r\n\r\n - Also, the exceptions handling in streams becomes really hideous. For example, here is my code will look like if I use your API\r\n\r\n                   acceptMyMethod(s -&gt; {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tInteger i = doSomeOperation(s);\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n                            // try catch block because of throws clause\r\n                            // in functional method, even though doSomeOperation\r\n                            // might not be throwing any exception at all.\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\nUgly isn&#39;t it? Moreover, as I mentioned in my first point, that the doSomeOperation method may or may not be throwing IOException (depending on the implementation of the client/caller), but because of the throws clause in your FunctionalInterface method, I always have to write the try-catch.\r\n\r\n**What do I do if I really know this API throws IOException**\r\n\r\n - Then probably we are confusing FunctionalInterface with typical Interfaces. If you know this API will throw IOException, then most probably you also know some default/abstract behavior as well. I think you should define an interface and deploy your library (with default/abstract implementation) as follows\r\n\r\n        public interface MyAmazingAPI {\r\n            Integer myMethod(String s) throws IOException;\r\n        }\r\n\r\n But, the try-catch problem still exists for the client. If I use your API in stream, I still need to handle IOException in hideous try-catch block.\r\n\r\n - Provide a default stream-friendly API as follows\r\n\r\n        public interface MyAmazingAPI {\r\n            Integer myMethod(String s) throws IOException;\r\n\r\n\t\t    default Optional&lt;Integer&gt; myMethod(String s, Consumer&lt;? super Exception&gt; exceptionConsumer) {\r\n\t\t\t    try {\r\n\t\t\t\t    return Optional.ofNullable(this.myMethod(s));\r\n\t\t\t    } catch (Exception e) {\r\n\t\t\t\t    if (exceptionConsumer != null) {\r\n\t\t\t\t\t    exceptionConsumer.accept(e);\r\n\t\t\t\t    } else {\r\n\t\t\t\t\t    e.printStackTrace();\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n         \r\n\t\t\t    return Optional.empty();\r\n            }\r\n\t\t}\r\n\r\n The default method takes the consumer object as argument, which will be responsible to handle the exception. Now, from client&#39;s point of view, the code will look like this\r\n\r\n\t\tstrStream.map(str -&gt; amazingAPIs.myMethod(str, Exception::printStackTrace))\r\n\t\t\t\t\t\t.filter(Optional::isPresent)\r\n\t\t\t\t\t\t.map(Optional::get).collect(toList());\r\nNice right? Of course, logger or other handling logic could be used instead of Exception::printStackTrace. \r\n\r\n - You can also expose a method similar to  https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function- . Meaning that you can expose another method, which will contain the exception from previous method call. The disadvantage is that you are now making your APIs stateful, which means that you need to handle thread-safety and which will be eventually become a performance hit. Just an option to consider though. ","title":"Java 8 Lambda function that throws exception?","body":"<p>There are a lot of great responses already posted here. Just attempting to solve the problem with a different perspective. Its just my 2 cents, please correct me if I am wrong somewhere. </p>\n\n<p><strong>Throws clause in FunctionalInterface is not a good idea</strong></p>\n\n<p>I think this is probably not a good idea to enforce throws IOException because of following reasons</p>\n\n<ul>\n<li><p>This looks to me like an anti-pattern to Stream/Lambda. The whole idea is that the caller will decide what code to provide and how to handle the exception. In many scenarios, the IOException might not be applicable for the client. For example, if the client is getting value from cache/memory instead of performing actual I/O. </p></li>\n<li><p>Also, the exceptions handling in streams becomes really hideous. For example, here is my code will look like if I use your API</p>\n\n<pre><code>           acceptMyMethod(s -&gt; {\n                try {\n                    Integer i = doSomeOperation(s);\n                    return i;\n                } catch (IOException e) {\n                    // try catch block because of throws clause\n                    // in functional method, even though doSomeOperation\n                    // might not be throwing any exception at all.\n                    e.printStackTrace();\n                }\n                return null;\n            });\n</code></pre>\n\n<p>Ugly isn't it? Moreover, as I mentioned in my first point, that the doSomeOperation method may or may not be throwing IOException (depending on the implementation of the client/caller), but because of the throws clause in your FunctionalInterface method, I always have to write the try-catch.</p></li>\n</ul>\n\n<p><strong>What do I do if I really know this API throws IOException</strong></p>\n\n<ul>\n<li><p>Then probably we are confusing FunctionalInterface with typical Interfaces. If you know this API will throw IOException, then most probably you also know some default/abstract behavior as well. I think you should define an interface and deploy your library (with default/abstract implementation) as follows</p>\n\n<pre><code>public interface MyAmazingAPI {\n    Integer myMethod(String s) throws IOException;\n}\n</code></pre>\n\n<p>But, the try-catch problem still exists for the client. If I use your API in stream, I still need to handle IOException in hideous try-catch block.</p></li>\n<li><p>Provide a default stream-friendly API as follows</p>\n\n<pre><code>public interface MyAmazingAPI {\n    Integer myMethod(String s) throws IOException;\n\n    default Optional&lt;Integer&gt; myMethod(String s, Consumer&lt;? super Exception&gt; exceptionConsumer) {\n        try {\n            return Optional.ofNullable(this.myMethod(s));\n        } catch (Exception e) {\n            if (exceptionConsumer != null) {\n                exceptionConsumer.accept(e);\n            } else {\n                e.printStackTrace();\n            }\n        }\n\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>The default method takes the consumer object as argument, which will be responsible to handle the exception. Now, from client's point of view, the code will look like this</p>\n\n<pre><code>strStream.map(str -&gt; amazingAPIs.myMethod(str, Exception::printStackTrace))\n                .filter(Optional::isPresent)\n                .map(Optional::get).collect(toList());\n</code></pre>\n\n<p>Nice right? Of course, logger or other handling logic could be used instead of Exception::printStackTrace. </p></li>\n<li><p>You can also expose a method similar to  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-</a> . Meaning that you can expose another method, which will contain the exception from previous method call. The disadvantage is that you are now making your APIs stateful, which means that you need to handle thread-safety and which will be eventually become a performance hit. Just an option to consider though. </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1122893,"reputation":2272,"user_id":1110815,"display_name":"Daniel Dietrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1493494725,"creation_date":1456091553,"answer_id":35542595,"question_id":18198176,"body_markdown":"If you don&#39;t mind to use a 3rd party lib ([Vavr][1]) you could write\r\n\r\n    CheckedFunction1&lt;String, Integer&gt; f = this::myMethod;\r\n\r\nIt also has the so-called Try monad which handles errors:\r\n\r\n    Try(() -&gt; f.apply(&quot;test&quot;)) // results in a Success(Integer) or Failure(Throwable)\r\n            .map(i -&gt; ...) // only executed on Success\r\n            ...\r\n\r\nPlease read more [here][2].\r\n\r\nDisclaimer: I&#39;m the creator of Vavr.\r\n\r\n\r\n  [1]: http://vavr.io\r\n  [2]: http://docs.vavr.io/#_try","title":"Java 8 Lambda function that throws exception?","body":"<p>If you don't mind to use a 3rd party lib (<a href=\"http://vavr.io\" rel=\"noreferrer\">Vavr</a>) you could write</p>\n\n<pre><code>CheckedFunction1&lt;String, Integer&gt; f = this::myMethod;\n</code></pre>\n\n<p>It also has the so-called Try monad which handles errors:</p>\n\n<pre><code>Try(() -&gt; f.apply(\"test\")) // results in a Success(Integer) or Failure(Throwable)\n        .map(i -&gt; ...) // only executed on Success\n        ...\n</code></pre>\n\n<p>Please read more <a href=\"http://docs.vavr.io/#_try\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Disclaimer: I'm the creator of Vavr.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456329417,"creation_date":1456329417,"answer_id":35606871,"question_id":18198176,"body_markdown":"If you don&#39;t mind using a third party library, with [cyclops-react](https://github.com/aol/cyclops-react), a library I contribute to, you can use the [FluentFunctions](http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/lambdas.adoc#_fluentfunctions) API to write\r\n\r\n     Function&lt;String, Integer&gt; standardFn = FluentFunctions.ofChecked(this::myMethod);\r\n\r\nofChecked takes a jOO CheckedFunction and returns the reference softened back to a standard (unchecked) JDK java.util.function.Function.\r\n\r\nAlternatively you can keep working with the captured function via the FluentFunctions api!\r\n\r\nFor example to execute your method, retrying it up to 5 times and logging it&#39;s status you can write \r\n\r\n      FluentFunctions.ofChecked(this::myMethod)\r\n                     .log(s-&gt;log.debug(s),e-&gt;log.error(e,e.getMessage())\r\n                     .try(5,1000)\r\n                     .apply(&quot;my param&quot;);","title":"Java 8 Lambda function that throws exception?","body":"<p>If you don't mind using a third party library, with <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a>, a library I contribute to, you can use the <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/lambdas.adoc#_fluentfunctions\" rel=\"nofollow\">FluentFunctions</a> API to write</p>\n\n<pre><code> Function&lt;String, Integer&gt; standardFn = FluentFunctions.ofChecked(this::myMethod);\n</code></pre>\n\n<p>ofChecked takes a jOO CheckedFunction and returns the reference softened back to a standard (unchecked) JDK java.util.function.Function.</p>\n\n<p>Alternatively you can keep working with the captured function via the FluentFunctions api!</p>\n\n<p>For example to execute your method, retrying it up to 5 times and logging it's status you can write </p>\n\n<pre><code>  FluentFunctions.ofChecked(this::myMethod)\n                 .log(s-&gt;log.debug(s),e-&gt;log.error(e,e.getMessage())\n                 .try(5,1000)\n                 .apply(\"my param\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987187,"reputation":209,"user_id":4704403,"display_name":"SeregaLBN"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457475203,"creation_date":1457475203,"answer_id":35879077,"question_id":18198176,"body_markdown":"You can use [unthrow wrapper][1]\r\n\r\n    Function&lt;String, Integer&gt; func1 = s -&gt; Unthrow.wrap(() -&gt; myMethod(s));\r\n\r\nor\r\n\r\n    Function&lt;String, Integer&gt; func2 = s1 -&gt; Unthrow.wrap((s2) -&gt; myMethod(s2), s1);\r\n\r\n\r\n  [1]: https://github.com/SeregaLBN/StreamUnthrower","title":"Java 8 Lambda function that throws exception?","body":"<p>You can use <a href=\"https://github.com/SeregaLBN/StreamUnthrower\" rel=\"noreferrer\">unthrow wrapper</a></p>\n\n<pre><code>Function&lt;String, Integer&gt; func1 = s -&gt; Unthrow.wrap(() -&gt; myMethod(s));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Function&lt;String, Integer&gt; func2 = s1 -&gt; Unthrow.wrap((s2) -&gt; myMethod(s2), s1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288786,"reputation":1246,"user_id":589407,"display_name":"justin.hughey"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564583105,"creation_date":1472568281,"answer_id":39230633,"question_id":18198176,"body_markdown":"Create a custom return type that will propagate the checked exception.  This is an alternative to creating a new interface that mirrors the existing functional interface with the slight modification of a &quot;throws exception&quot; on the functional interface&#39;s method.\r\n\r\n# Definition\r\n\r\n## CheckedValueSupplier\r\n\r\n    public static interface CheckedValueSupplier&lt;V&gt; {\r\n        public V get () throws Exception;\r\n    }\r\n\r\n## CheckedValue\r\n\r\n    public class CheckedValue&lt;V&gt; {\r\n        private final V v;\r\n        private final Optional&lt;Exception&gt; opt;\r\n\r\n        public Value (V v) {\r\n            this.v = v;\r\n        }\r\n\r\n        public Value (Exception e) {\r\n            this.opt = Optional.of(e);\r\n        }\r\n\r\n        public V get () throws Exception {\r\n            if (opt.isPresent()) {\r\n                throw opt.get();\r\n            }\r\n            return v;\r\n        }\r\n\r\n        public Optional&lt;Exception&gt; getException () {\r\n            return opt;\r\n        }\r\n\r\n        public static &lt;T&gt; CheckedValue&lt;T&gt; returns (T t) {\r\n            return new CheckedValue&lt;T&gt;(t);\r\n        }\r\n\r\n        public static &lt;T&gt; CheckedValue&lt;T&gt; rethrows (Exception e) {\r\n            return new CheckedValue&lt;T&gt;(e);\r\n        }\r\n\r\n        public static &lt;V&gt; CheckedValue&lt;V&gt; from (CheckedValueSupplier&lt;V&gt; sup) {\r\n            try {\r\n                return CheckedValue.returns(sup.get());\r\n            } catch (Exception e) {\r\n                return Result.rethrows(e);\r\n            }\r\n        }\r\n\r\n        public static &lt;V&gt; CheckedValue&lt;V&gt; escalates (CheckedValueSupplier&lt;V&gt; sup) {\r\n            try {\r\n                return CheckedValue.returns(sup.get());\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n# Usage\r\n\r\n    //  Don&#39;t use this pattern with FileReader, it&#39;s meant to be an\r\n    //  example.  FileReader is a Closeable resource and as such should\r\n    //  be managed in a try-with-resources block or in another safe\r\n    //  manner that will make sure it is closed properly.\r\n\r\n    //  This will not compile as the FileReader constructor throws\r\n    //  an IOException.\r\n        Function&lt;String, FileReader&gt; sToFr =\r\n            (fn) -&gt; new FileReader(Paths.get(fn).toFile());\r\n\r\n    // Alternative, this will compile.\r\n        Function&lt;String, CheckedValue&lt;FileReader&gt;&gt; sToFr = (fn) -&gt; {\r\n            return CheckedValue.from (\r\n                () -&gt; new FileReader(Paths.get(&quot;/home/&quot; + f).toFile()));\r\n        };\r\n\r\n    // Single record usage\r\n        // The call to get() will propagate the checked exception if it exists.\r\n        FileReader readMe = pToFr.apply(&quot;/home/README&quot;).get();\r\n\r\n\r\n    // List of records usage\r\n        List&lt;String&gt; paths = ...; //a list of paths to files\r\n        Collection&lt;CheckedValue&lt;FileReader&gt;&gt; frs =\r\n            paths.stream().map(pToFr).collect(Collectors.toList());\r\n\r\n    // Find out if creation of a file reader failed.\r\n        boolean anyErrors = frs.stream()\r\n            .filter(f -&gt; f.getException().isPresent())\r\n            .findAny().isPresent();\r\n\r\n# What&#39;s going on?\r\n\r\nA single functional interface that throws a checked exception is created (`CheckedValueSupplier`).  This will be the only functional interface which allows checked exceptions.  All other functional interfaces will leverage the `CheckedValueSupplier` to wrap any code that throws a checked exception.\r\n\r\nThe `CheckedValue` class will hold the result of executing any logic that throws a checked exception.  This prevents propagation of a checked exception until the point at which code attempts to access the value that an instance of `CheckedValue` contains.\r\n\r\n\r\n# The problems with this approach.\r\n\r\n - We are now throwing &quot;Exception&quot; effectively hiding the specific type originally thrown.\r\n - We are unaware that an exception occurred until `CheckedValue#get()` is called.\r\n\r\n\r\n# Consumer et al\r\nSome functional interfaces (`Consumer` for example) must be handled in a  different manner as they don&#39;t provide a return value.\r\n\r\n### Function in lieu of Consumer\r\nOne approach is to use a function instead of a consumer, which applies when handling streams.\r\n\r\n        List&lt;String&gt; lst = Lists.newArrayList();\r\n    // won&#39;t compile\r\n    lst.stream().forEach(e -&gt; throwyMethod(e));\r\n    // compiles\r\n    lst.stream()\r\n        .map(e -&gt; CheckedValueSupplier.from(\r\n            () -&gt; {throwyMethod(e); return e;}))\r\n        .filter(v -&gt; v.getException().isPresent()); //this example may not actually run due to lazy stream behavior\r\n### Escalate\r\nAlternatively, you can always escalate to a `RuntimeException`.  There are other answers that cover escalation of a checked exception from within a `Consumer`.\r\n\r\n### Don&#39;t consume.\r\n\r\nJust avoid functional interfaces all together and use a good-ole-fashioned for loop.\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>Create a custom return type that will propagate the checked exception.  This is an alternative to creating a new interface that mirrors the existing functional interface with the slight modification of a \"throws exception\" on the functional interface's method.</p>\n\n<h1>Definition</h1>\n\n<h2>CheckedValueSupplier</h2>\n\n<pre><code>public static interface CheckedValueSupplier&lt;V&gt; {\n    public V get () throws Exception;\n}\n</code></pre>\n\n<h2>CheckedValue</h2>\n\n<pre><code>public class CheckedValue&lt;V&gt; {\n    private final V v;\n    private final Optional&lt;Exception&gt; opt;\n\n    public Value (V v) {\n        this.v = v;\n    }\n\n    public Value (Exception e) {\n        this.opt = Optional.of(e);\n    }\n\n    public V get () throws Exception {\n        if (opt.isPresent()) {\n            throw opt.get();\n        }\n        return v;\n    }\n\n    public Optional&lt;Exception&gt; getException () {\n        return opt;\n    }\n\n    public static &lt;T&gt; CheckedValue&lt;T&gt; returns (T t) {\n        return new CheckedValue&lt;T&gt;(t);\n    }\n\n    public static &lt;T&gt; CheckedValue&lt;T&gt; rethrows (Exception e) {\n        return new CheckedValue&lt;T&gt;(e);\n    }\n\n    public static &lt;V&gt; CheckedValue&lt;V&gt; from (CheckedValueSupplier&lt;V&gt; sup) {\n        try {\n            return CheckedValue.returns(sup.get());\n        } catch (Exception e) {\n            return Result.rethrows(e);\n        }\n    }\n\n    public static &lt;V&gt; CheckedValue&lt;V&gt; escalates (CheckedValueSupplier&lt;V&gt; sup) {\n        try {\n            return CheckedValue.returns(sup.get());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<h1>Usage</h1>\n\n<pre><code>//  Don't use this pattern with FileReader, it's meant to be an\n//  example.  FileReader is a Closeable resource and as such should\n//  be managed in a try-with-resources block or in another safe\n//  manner that will make sure it is closed properly.\n\n//  This will not compile as the FileReader constructor throws\n//  an IOException.\n    Function&lt;String, FileReader&gt; sToFr =\n        (fn) -&gt; new FileReader(Paths.get(fn).toFile());\n\n// Alternative, this will compile.\n    Function&lt;String, CheckedValue&lt;FileReader&gt;&gt; sToFr = (fn) -&gt; {\n        return CheckedValue.from (\n            () -&gt; new FileReader(Paths.get(\"/home/\" + f).toFile()));\n    };\n\n// Single record usage\n    // The call to get() will propagate the checked exception if it exists.\n    FileReader readMe = pToFr.apply(\"/home/README\").get();\n\n\n// List of records usage\n    List&lt;String&gt; paths = ...; //a list of paths to files\n    Collection&lt;CheckedValue&lt;FileReader&gt;&gt; frs =\n        paths.stream().map(pToFr).collect(Collectors.toList());\n\n// Find out if creation of a file reader failed.\n    boolean anyErrors = frs.stream()\n        .filter(f -&gt; f.getException().isPresent())\n        .findAny().isPresent();\n</code></pre>\n\n<h1>What's going on?</h1>\n\n<p>A single functional interface that throws a checked exception is created (<code>CheckedValueSupplier</code>).  This will be the only functional interface which allows checked exceptions.  All other functional interfaces will leverage the <code>CheckedValueSupplier</code> to wrap any code that throws a checked exception.</p>\n\n<p>The <code>CheckedValue</code> class will hold the result of executing any logic that throws a checked exception.  This prevents propagation of a checked exception until the point at which code attempts to access the value that an instance of <code>CheckedValue</code> contains.</p>\n\n<h1>The problems with this approach.</h1>\n\n<ul>\n<li>We are now throwing \"Exception\" effectively hiding the specific type originally thrown.</li>\n<li>We are unaware that an exception occurred until <code>CheckedValue#get()</code> is called.</li>\n</ul>\n\n<h1>Consumer et al</h1>\n\n<p>Some functional interfaces (<code>Consumer</code> for example) must be handled in a  different manner as they don't provide a return value.</p>\n\n<h3>Function in lieu of Consumer</h3>\n\n<p>One approach is to use a function instead of a consumer, which applies when handling streams.</p>\n\n<pre><code>    List&lt;String&gt; lst = Lists.newArrayList();\n// won't compile\nlst.stream().forEach(e -&gt; throwyMethod(e));\n// compiles\nlst.stream()\n    .map(e -&gt; CheckedValueSupplier.from(\n        () -&gt; {throwyMethod(e); return e;}))\n    .filter(v -&gt; v.getException().isPresent()); //this example may not actually run due to lazy stream behavior\n</code></pre>\n\n<h3>Escalate</h3>\n\n<p>Alternatively, you can always escalate to a <code>RuntimeException</code>.  There are other answers that cover escalation of a checked exception from within a <code>Consumer</code>.</p>\n\n<h3>Don't consume.</h3>\n\n<p>Just avoid functional interfaces all together and use a good-ole-fashioned for loop.</p>\n"},{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487000658,"creation_date":1486974894,"answer_id":42199706,"question_id":18198176,"body_markdown":"By default, Java 8 [Function][1] does not allow to throw exception and as suggested in multiple answers there are many ways to achieve it, one way is:\r\n\r\n    @FunctionalInterface\r\n    public interface FunctionWithException&lt;T, R, E extends Exception&gt; {\r\n    \tR apply(T t) throws E;\r\n    }\r\n\r\nDefine as:\r\n\r\n    private FunctionWithException&lt;String, Integer, IOException&gt; myMethod = (str) -&gt; {\r\n        if (&quot;abc&quot;.equals(str)) {\r\n    \t\tthrow new IOException();\r\n    \t}\r\n      return 1;\r\n    };\r\n\r\nAnd add `throws` or `try/catch` the same exception in caller method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html","title":"Java 8 Lambda function that throws exception?","body":"<p>By default, Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> does not allow to throw exception and as suggested in multiple answers there are many ways to achieve it, one way is:</p>\n\n<pre><code>@FunctionalInterface\npublic interface FunctionWithException&lt;T, R, E extends Exception&gt; {\n    R apply(T t) throws E;\n}\n</code></pre>\n\n<p>Define as:</p>\n\n<pre><code>private FunctionWithException&lt;String, Integer, IOException&gt; myMethod = (str) -&gt; {\n    if (\"abc\".equals(str)) {\n        throw new IOException();\n    }\n  return 1;\n};\n</code></pre>\n\n<p>And add <code>throws</code> or <code>try/catch</code> the same exception in caller method.</p>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497283654,"creation_date":1497283654,"answer_id":44503997,"question_id":18198176,"body_markdown":"Several of the offered solutions use a generic argument of E to pass in the type of the exception which gets thrown.\r\n\r\nTake that one step further, and rather than passing in the type of the exception, pass in a Consumer of the type of exception, as in...\r\n\r\n    Consumer&lt;E extends Exception&gt;\r\n\r\nYou might create several re-usable variations of `Consumer&lt;Exception&gt;` which would cover the common exception handling needs of your application.  \r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>Several of the offered solutions use a generic argument of E to pass in the type of the exception which gets thrown.</p>\n\n<p>Take that one step further, and rather than passing in the type of the exception, pass in a Consumer of the type of exception, as in...</p>\n\n<pre><code>Consumer&lt;E extends Exception&gt;\n</code></pre>\n\n<p>You might create several re-usable variations of <code>Consumer&lt;Exception&gt;</code> which would cover the common exception handling needs of your application.  </p>\n"},{"tags":[],"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500636186,"creation_date":1500636186,"answer_id":45236397,"question_id":18198176,"body_markdown":"I will do something generic:\r\n\r\n    public interface Lambda {\r\n    \r\n    \t@FunctionalInterface\r\n    \tpublic interface CheckedFunction&lt;T&gt; {\r\n    \r\n    \t\tT get() throws Exception;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T handle(CheckedFunction&lt;T&gt; supplier) {\r\n    \t\ttry {\r\n    \t\t\treturn supplier.get();\r\n    \t\t} catch (Exception exception) {\r\n    \t\t\tthrow new RuntimeException(exception);\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nusage:\r\n   \r\n\r\n     Lambda.handle(() -&gt; method());\r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>I will do something generic:</p>\n\n<pre><code>public interface Lambda {\n\n    @FunctionalInterface\n    public interface CheckedFunction&lt;T&gt; {\n\n        T get() throws Exception;\n    }\n\n    public static &lt;T&gt; T handle(CheckedFunction&lt;T&gt; supplier) {\n        try {\n            return supplier.get();\n        } catch (Exception exception) {\n            throw new RuntimeException(exception);\n\n        }\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code> Lambda.handle(() -&gt; method());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6949797,"reputation":286,"user_id":5332768,"display_name":"myui"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1530455341,"creation_date":1509071183,"answer_id":46966597,"question_id":18198176,"body_markdown":"[Sneaky throw idiom](http://www.baeldung.com/java-sneaky-throws) enables bypassing `CheckedException` of Lambda expression. Wrapping a `CheckedException` in a `RuntimeException` is not good for strict error handling.\r\n\r\nIt can be used as a [`Consumer`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html) function used in a Java collection.\r\n\r\nHere is a simple and improved version of [jib&#39;s answer](https://stackoverflow.com/a/27252163/5332768).\r\n\r\n    import static Throwing.rethrow;\r\n    \r\n    @Test\r\n    public void testRethrow() {\r\n        thrown.expect(IOException.class);\r\n        thrown.expectMessage(&quot;i=3&quot;);\r\n    \r\n        Arrays.asList(1, 2, 3).forEach(rethrow(e -&gt; {\r\n            int i = e.intValue();\r\n            if (i == 3) {\r\n                throw new IOException(&quot;i=&quot; + i);\r\n            }\r\n        }));\r\n    }\r\n\r\nThis just wrapps the lambda in a *rethrow*. It makes `CheckedException` rethrow any `Exception` that was thrown in your lambda.\r\n\r\n    public final class Throwing {\r\n        private Throwing() {}\r\n    \r\n        @Nonnull\r\n        public static &lt;T&gt; Consumer&lt;T&gt; rethrow(@Nonnull final ThrowingConsumer&lt;T&gt; consumer) {\r\n            return consumer;\r\n        }\r\n    \r\n        /**\r\n         * The compiler sees the signature with the throws T inferred to a RuntimeException type, so it\r\n         * allows the unchecked exception to propagate.\r\n         * \r\n         * http://www.baeldung.com/java-sneaky-throws\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Nonnull\r\n        public static &lt;E extends Throwable&gt; void sneakyThrow(@Nonnull Throwable ex) throws E {\r\n            throw (E) ex;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nFind a complete code and unit tests [here][1].\r\n\r\n\r\n  [1]: https://gist.github.com/myui/9722c1301434a3b69cf898ccd9090ff1#file-throwingtest-java-L40","title":"Java 8 Lambda function that throws exception?","body":"<p><a href=\"http://www.baeldung.com/java-sneaky-throws\" rel=\"noreferrer\">Sneaky throw idiom</a> enables bypassing <code>CheckedException</code> of Lambda expression. Wrapping a <code>CheckedException</code> in a <code>RuntimeException</code> is not good for strict error handling.</p>\n\n<p>It can be used as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"noreferrer\"><code>Consumer</code></a> function used in a Java collection.</p>\n\n<p>Here is a simple and improved version of <a href=\"https://stackoverflow.com/a/27252163/5332768\">jib's answer</a>.</p>\n\n<pre><code>import static Throwing.rethrow;\n\n@Test\npublic void testRethrow() {\n    thrown.expect(IOException.class);\n    thrown.expectMessage(\"i=3\");\n\n    Arrays.asList(1, 2, 3).forEach(rethrow(e -&gt; {\n        int i = e.intValue();\n        if (i == 3) {\n            throw new IOException(\"i=\" + i);\n        }\n    }));\n}\n</code></pre>\n\n<p>This just wrapps the lambda in a <em>rethrow</em>. It makes <code>CheckedException</code> rethrow any <code>Exception</code> that was thrown in your lambda.</p>\n\n<pre><code>public final class Throwing {\n    private Throwing() {}\n\n    @Nonnull\n    public static &lt;T&gt; Consumer&lt;T&gt; rethrow(@Nonnull final ThrowingConsumer&lt;T&gt; consumer) {\n        return consumer;\n    }\n\n    /**\n     * The compiler sees the signature with the throws T inferred to a RuntimeException type, so it\n     * allows the unchecked exception to propagate.\n     * \n     * http://www.baeldung.com/java-sneaky-throws\n     */\n    @SuppressWarnings(\"unchecked\")\n    @Nonnull\n    public static &lt;E extends Throwable&gt; void sneakyThrow(@Nonnull Throwable ex) throws E {\n        throw (E) ex;\n    }\n\n}\n</code></pre>\n\n<p>Find a complete code and unit tests <a href=\"https://gist.github.com/myui/9722c1301434a3b69cf898ccd9090ff1#file-throwingtest-java-L40\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1633615242,"post_id":47768945,"comment_id":122811482,"body_markdown":"Here&#39;s a blog post showing examples of how that works in jOO: https://blog.jooq.org/use-joo%ce%bbs-sneaky-throw-to-avoid-checked-exceptions/","body":"Here&#39;s a blog post showing examples of how that works in jOO: <a href=\"https://blog.jooq.org/use-joo%ce%bbs-sneaky-throw-to-avoid-checked-exceptions/\" rel=\"nofollow noreferrer\">blog.jooq.org/&hellip;</a>"}],"tags":[],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513070579,"creation_date":1513070200,"answer_id":47768945,"question_id":18198176,"body_markdown":"Use `Jool Library` or say `jOO library` from `JOOQ`. It not only provides unchecked exception handled interfaces but also provides Seq class with lots of useful methods. \r\n\r\nAlso, it contains Functional Interfaces with up to 16 parameters. Also, it provides Tuple class which is used in different scenarios.\r\n\r\n[Jool Git Link][1]\r\n\r\n\r\nSpecifically in library lookup for `org.jooq.lambda.fi.util.function` package. It contains all the Interfaces from Java-8 with Checked prepended. See below for reference:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOL\r\n  [2]: https://i.stack.imgur.com/q3XPw.png","title":"Java 8 Lambda function that throws exception?","body":"<p>Use <code>Jool Library</code> or say <code>jOO library</code> from <code>JOOQ</code>. It not only provides unchecked exception handled interfaces but also provides Seq class with lots of useful methods. </p>\n\n<p>Also, it contains Functional Interfaces with up to 16 parameters. Also, it provides Tuple class which is used in different scenarios.</p>\n\n<p><a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow noreferrer\">Jool Git Link</a></p>\n\n<p>Specifically in library lookup for <code>org.jooq.lambda.fi.util.function</code> package. It contains all the Interfaces from Java-8 with Checked prepended. See below for reference:-</p>\n\n<p><a href=\"https://i.stack.imgur.com/q3XPw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3XPw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4640599,"reputation":4679,"user_id":5376635,"display_name":"qoomon"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546612693,"creation_date":1546608724,"answer_id":54039943,"question_id":18198176,"body_markdown":"I&#39;m the author of a tiny lib with some generic magic to throw any Java Exception anywhere **without the need of catching them nor wrapping them into `RuntimeException`**.\r\n\r\n**Usage:**\r\n`unchecked(() -&gt; methodThrowingCheckedException())`\r\n\r\n\r\n    public class UncheckedExceptions {\r\n    \r\n        /**\r\n         * throws {@code exception} as unchecked exception, without wrapping exception.\r\n         *\r\n         * @return will never return anything, return type is set to {@code exception} only to be able to write &lt;code&gt;throw unchecked(exception)&lt;/code&gt;\r\n         * @throws T {@code exception} as unchecked exception\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T extends Throwable&gt; T unchecked(Exception exception) throws T {\r\n            throw (T) exception;\r\n        }\r\n    \r\n    \r\n        @FunctionalInterface\r\n        public interface UncheckedFunction&lt;R&gt; {\r\n            R call() throws Exception;\r\n        }\r\n    \r\n        /**\r\n         * Executes given function,\r\n         * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\r\n         *\r\n         * @return result of function\r\n         * @see #unchecked(Exception)\r\n         */\r\n        public static &lt;R&gt; R unchecked(UncheckedFunction&lt;R&gt; function) {\r\n            try {\r\n                return function.call();\r\n            } catch (Exception e) {\r\n                throw unchecked(e);\r\n            }\r\n        }\r\n    \r\n    \r\n        @FunctionalInterface\r\n        public interface UncheckedMethod {\r\n            void call() throws Exception;\r\n        }\r\n    \r\n        /**\r\n         * Executes given method,\r\n         * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\r\n         *\r\n         * @see #unchecked(Exception)\r\n         */\r\n        public static void unchecked(UncheckedMethod method) {\r\n            try {\r\n                method.call();\r\n            } catch (Exception e) {\r\n                throw unchecked(e);\r\n            }\r\n        }\r\n    }\r\n\r\nsource: https://github.com/qoomon/unchecked-exceptions-java","title":"Java 8 Lambda function that throws exception?","body":"<p>I'm the author of a tiny lib with some generic magic to throw any Java Exception anywhere <strong>without the need of catching them nor wrapping them into <code>RuntimeException</code></strong>.</p>\n\n<p><strong>Usage:</strong>\n<code>unchecked(() -&gt; methodThrowingCheckedException())</code></p>\n\n<pre><code>public class UncheckedExceptions {\n\n    /**\n     * throws {@code exception} as unchecked exception, without wrapping exception.\n     *\n     * @return will never return anything, return type is set to {@code exception} only to be able to write &lt;code&gt;throw unchecked(exception)&lt;/code&gt;\n     * @throws T {@code exception} as unchecked exception\n     */\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T extends Throwable&gt; T unchecked(Exception exception) throws T {\n        throw (T) exception;\n    }\n\n\n    @FunctionalInterface\n    public interface UncheckedFunction&lt;R&gt; {\n        R call() throws Exception;\n    }\n\n    /**\n     * Executes given function,\n     * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\n     *\n     * @return result of function\n     * @see #unchecked(Exception)\n     */\n    public static &lt;R&gt; R unchecked(UncheckedFunction&lt;R&gt; function) {\n        try {\n            return function.call();\n        } catch (Exception e) {\n            throw unchecked(e);\n        }\n    }\n\n\n    @FunctionalInterface\n    public interface UncheckedMethod {\n        void call() throws Exception;\n    }\n\n    /**\n     * Executes given method,\n     * catches and rethrows checked exceptions as unchecked exceptions, without wrapping exception.\n     *\n     * @see #unchecked(Exception)\n     */\n    public static void unchecked(UncheckedMethod method) {\n        try {\n            method.call();\n        } catch (Exception e) {\n            throw unchecked(e);\n        }\n    }\n}\n</code></pre>\n\n<p>source: <a href=\"https://github.com/qoomon/unchecked-exceptions-java\" rel=\"nofollow noreferrer\">https://github.com/qoomon/unchecked-exceptions-java</a></p>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37679,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583649887,"creation_date":1579526859,"answer_id":59824314,"question_id":18198176,"body_markdown":"I use an overloaded utility function called `unchecked()` which handles multiple use-cases.\r\n\r\n---\r\n\r\n**SOME EAMPLE USAGES**\r\n\r\n    unchecked(() -&gt; new File(&quot;hello.txt&quot;).createNewFile());\r\n\r\n    boolean fileWasCreated = unchecked(() -&gt; new File(&quot;hello.txt&quot;).createNewFile());\r\n\r\n    myFiles.forEach(unchecked(file -&gt; new File(file.path).createNewFile()));\r\n\r\n    \r\n**SUPPORTING UTILITIES**\r\n\r\n    public class UncheckedUtils {\r\n\r\n        @FunctionalInterface\r\n        public interface ThrowingConsumer&lt;T&gt; {\r\n            void accept(T t) throws Exception;\r\n        }\r\n\r\n        @FunctionalInterface\r\n        public interface ThrowingSupplier&lt;T&gt; {\r\n            T get() throws Exception;\r\n        }\r\n    \r\n        @FunctionalInterface\r\n        public interface ThrowingRunnable {\r\n            void run() throws Exception;\r\n        }\r\n\r\n        public static &lt;T&gt; Consumer&lt;T&gt; unchecked(\r\n                ThrowingConsumer&lt;T&gt; throwingConsumer\r\n        ) {\r\n            return i -&gt; {\r\n                try {\r\n                    throwingConsumer.accept(i);\r\n                } catch (Exception ex) {\r\n                    throw new RuntimeException(ex);\r\n                }\r\n            };\r\n        }\r\n\r\n        public static &lt;T&gt; T unchecked(\r\n                ThrowingSupplier&lt;T&gt; throwingSupplier\r\n        ) {\r\n            try {\r\n                return throwingSupplier.get();\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n\r\n        public static void unchecked(\r\n                ThrowingRunnable throwing\r\n        ) {\r\n            try {\r\n                throwing.run();\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>I use an overloaded utility function called <code>unchecked()</code> which handles multiple use-cases.</p>\n\n<hr>\n\n<p><strong>SOME EAMPLE USAGES</strong></p>\n\n<pre><code>unchecked(() -&gt; new File(\"hello.txt\").createNewFile());\n\nboolean fileWasCreated = unchecked(() -&gt; new File(\"hello.txt\").createNewFile());\n\nmyFiles.forEach(unchecked(file -&gt; new File(file.path).createNewFile()));\n</code></pre>\n\n<p><strong>SUPPORTING UTILITIES</strong></p>\n\n<pre><code>public class UncheckedUtils {\n\n    @FunctionalInterface\n    public interface ThrowingConsumer&lt;T&gt; {\n        void accept(T t) throws Exception;\n    }\n\n    @FunctionalInterface\n    public interface ThrowingSupplier&lt;T&gt; {\n        T get() throws Exception;\n    }\n\n    @FunctionalInterface\n    public interface ThrowingRunnable {\n        void run() throws Exception;\n    }\n\n    public static &lt;T&gt; Consumer&lt;T&gt; unchecked(\n            ThrowingConsumer&lt;T&gt; throwingConsumer\n    ) {\n        return i -&gt; {\n            try {\n                throwingConsumer.accept(i);\n            } catch (Exception ex) {\n                throw new RuntimeException(ex);\n            }\n        };\n    }\n\n    public static &lt;T&gt; T unchecked(\n            ThrowingSupplier&lt;T&gt; throwingSupplier\n    ) {\n        try {\n            return throwingSupplier.get();\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    public static void unchecked(\n            ThrowingRunnable throwing\n    ) {\n        try {\n            throwing.run();\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6567283,"reputation":1585,"user_id":5076414,"display_name":"Sacky San"},"score":0,"creation_date":1635126870,"post_id":64110981,"comment_id":123204158,"body_markdown":"Amazing. I loved it. It allows you to throw checked exceptions without using the throws declaration. Quite useful when you are passing function to Lambda.  https://www.baeldung.com/java-sneaky-throws","body":"Amazing. I loved it. It allows you to throw checked exceptions without using the throws declaration. Quite useful when you are passing function to Lambda.  <a href=\"https://www.baeldung.com/java-sneaky-throws\" rel=\"nofollow noreferrer\">baeldung.com/java-sneaky-throws</a>"}],"tags":[],"owner":{"account_id":2471552,"reputation":2062,"user_id":2153273,"accept_rate":67,"display_name":"lbenedetto"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601336328,"creation_date":1601336328,"answer_id":64110981,"question_id":18198176,"body_markdown":"If you have lombok, you can annotate your method with @SneakyThrows\r\n\r\n&gt;SneakyThrow does not silently swallow, wrap into RuntimeException, or otherwise modify any exceptions of the listed checked exception types. The JVM does not check for the consistency of the checked exception system; javac does, and this annotation lets you opt out of its mechanism.\r\n\r\nhttps://projectlombok.org/features/SneakyThrows","title":"Java 8 Lambda function that throws exception?","body":"<p>If you have lombok, you can annotate your method with @SneakyThrows</p>\n<blockquote>\n<p>SneakyThrow does not silently swallow, wrap into RuntimeException, or otherwise modify any exceptions of the listed checked exception types. The JVM does not check for the consistency of the checked exception system; javac does, and this annotation lets you opt out of its mechanism.</p>\n</blockquote>\n<p><a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/SneakyThrows</a></p>\n"},{"tags":[],"owner":{"account_id":2835101,"reputation":15,"user_id":2435847,"display_name":"Stephan Zehnder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655899584,"creation_date":1655899584,"answer_id":72715189,"question_id":18198176,"body_markdown":"For me the preferred solution is to use Lombok. It is a nice library anyway.\r\n\r\nInstead of: \r\n```\r\nInteger myMethod(String s) throws IOException\r\n```\r\nyou will have\r\n```\r\nimport lombok.SneakyThrows;\r\n\r\n@SneakyThrows\r\nInteger myMethod(String s)\r\n```\r\n\r\nThe exception is still thrown but you do not need to declare it with throws.","title":"Java 8 Lambda function that throws exception?","body":"<p>For me the preferred solution is to use Lombok. It is a nice library anyway.</p>\n<p>Instead of:</p>\n<pre><code>Integer myMethod(String s) throws IOException\n</code></pre>\n<p>you will have</p>\n<pre><code>import lombok.SneakyThrows;\n\n@SneakyThrows\nInteger myMethod(String s)\n</code></pre>\n<p>The exception is still thrown but you do not need to declare it with throws.</p>\n"},{"tags":[],"owner":{"account_id":8378839,"reputation":51,"user_id":6291511,"display_name":"Advait Purohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687261861,"creation_date":1687261861,"answer_id":76514409,"question_id":18198176,"body_markdown":"If using Java 8 Function interface is not a requirement, Apache Commons library offers an alternative FailableFunction interface to address this issue since release 3.11 -\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html\r\n\r\nHere is how it can be used -\r\n\r\n    Integer myMethod(String s) throws IOException;\r\n    \r\n    FailableFunction&lt;Integer, String, IOException&gt; function = this::myMethod;\r\n\r\n\tInteger result;\r\n\ttry {\r\n\t\tresult = function.apply(s);\r\n\t} catch (IOException ex) {\r\n\t\t// Handle the exception\r\n\t}\r\n\r\n\r\nCheck complete list of alternative Failable interfaces on following page -\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/package-summary.html\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>If using Java 8 Function interface is not a requirement, Apache Commons library offers an alternative FailableFunction interface to address this issue since release 3.11 -\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html</a></p>\n<p>Here is how it can be used -</p>\n<pre><code>Integer myMethod(String s) throws IOException;\n\nFailableFunction&lt;Integer, String, IOException&gt; function = this::myMethod;\n\nInteger result;\ntry {\n    result = function.apply(s);\n} catch (IOException ex) {\n    // Handle the exception\n}\n</code></pre>\n<p>Check complete list of alternative Failable interfaces on following page -\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/package-summary.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/package-summary.html</a></p>\n"}],"owner":{"account_id":189531,"reputation":22741,"user_id":428916,"accept_rate":69,"display_name":"Rocky Pulley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501993,"favorite_count":0,"down_vote_count":0,"up_vote_count":631,"accepted_answer_id":18198349,"answer_count":28,"score":631,"last_activity_date":1687261861,"creation_date":1376349396,"question_id":18198176,"body_markdown":"I know how to create a reference to a method that has a `String` parameter and returns an `int`, it&#39;s:\r\n\r\n    Function&lt;String, Integer&gt;\r\n\r\nHowever, this doesn&#39;t work if the function throws an exception, say it&#39;s defined as:\r\n\r\n    Integer myMethod(String s) throws IOException\r\n\r\nHow would I define this reference?\r\n\r\n","title":"Java 8 Lambda function that throws exception?","body":"<p>I know how to create a reference to a method that has a <code>String</code> parameter and returns an <code>int</code>, it's:</p>\n\n<pre><code>Function&lt;String, Integer&gt;\n</code></pre>\n\n<p>However, this doesn't work if the function throws an exception, say it's defined as:</p>\n\n<pre><code>Integer myMethod(String s) throws IOException\n</code></pre>\n\n<p>How would I define this reference?</p>\n"},{"tags":["java","spring-boot","myfaces","joinfaces"],"comments":[{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1687186345,"post_id":76507728,"comment_id":134898000,"body_markdown":"Hi and welcome to stack-overflow, it&#39;s obvious because MyFaces 5.1.0 uses Jakarta instead of JavaX, and Spring Boot 3 expects Jakarta packages instead of JavaX packages","body":"Hi and welcome to stack-overflow, it&#39;s obvious because MyFaces 5.1.0 uses Jakarta instead of JavaX, and Spring Boot 3 expects Jakarta packages instead of JavaX packages"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687463451,"post_id":76514391,"comment_id":134944328,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76514391/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28851746,"reputation":1,"user_id":22097514,"display_name":"Adriaan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687261673,"creation_date":1687261673,"answer_id":76514391,"question_id":76507728,"body_markdown":"Fixed by following the JoinFaces documentation and redoing all the dependencies.","title":"Updating MyFaces to 5.1.0 causes an error","body":"<p>Fixed by following the JoinFaces documentation and redoing all the dependencies.</p>\n"}],"owner":{"account_id":28851746,"reputation":1,"user_id":22097514,"display_name":"Adriaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687261673,"creation_date":1687185923,"question_id":76507728,"body_markdown":"I updated MyFaces from 4.7.0 to 5.1.0 and now I get the following error:\r\n```error\r\n2023-06-19T16:40:51,828 ERROR [main] j.f.FactoryFinderInstance: Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?\r\n2023-06-19T16:40:51,831 ERROR [main] j.f.FactoryFinderInstance: Application was not properly initialized at startup, could not find Factory: jakarta.faces.application.ApplicationFactory. Attempting to find backup.\r\n2023-06-19T16:40:51,833 ERROR [main] o.a.m.w.FacesInitializerImpl: An error occured while initializing MyFaces: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \r\njava.lang.IllegalStateException: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \r\n\tat jakarta.faces.FactoryFinderInstance.notNullFactory(FactoryFinderInstance.java:496)\r\n\tat jakarta.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:190)\r\n\tat jakarta.faces.FactoryFinder.getFactory(FactoryFinder.java:264)\r\n\tat org.apache.myfaces.context.servlet.FacesContextImplBase.getApplication(FacesContextImplBase.java:173)\r\n\tat org.apache.myfaces.context.servlet.FacesContextImplBase.getELContext(FacesContextImplBase.java:235)\r\n\tat jakarta.faces.component.UIViewRoot.setLocale(UIViewRoot.java:1521)\r\n\tat org.apache.myfaces.webapp.FacesInitializerImpl._createFacesContext(FacesInitializerImpl.java:498)\r\n\tat org.apache.myfaces.webapp.FacesInitializerImpl.initStartupFacesContext(FacesInitializerImpl.java:467)\r\n\tat org.apache.myfaces.webapp.FacesInitializerImpl.initFaces(FacesInitializerImpl.java:135)\r\n\tat org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:54)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4454)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n```\r\n\r\nI tried to upgrade my `Spring Boot 2` application to `Spring Boot 3` and when performing the upgrade ran into this problem. `MyFaces` runs with `Spring Boot 2` on `4.7.4`, but when upgrading to `5.1.0` with `Spring Boot 3` (which uses `Jakarta` instead of `JavaX`) this error appears.","title":"Updating MyFaces to 5.1.0 causes an error","body":"<p>I updated MyFaces from 4.7.0 to 5.1.0 and now I get the following error:</p>\n<pre><code>2023-06-19T16:40:51,828 ERROR [main] j.f.FactoryFinderInstance: Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?\n2023-06-19T16:40:51,831 ERROR [main] j.f.FactoryFinderInstance: Application was not properly initialized at startup, could not find Factory: jakarta.faces.application.ApplicationFactory. Attempting to find backup.\n2023-06-19T16:40:51,833 ERROR [main] o.a.m.w.FacesInitializerImpl: An error occured while initializing MyFaces: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \njava.lang.IllegalStateException: Could not find backup for factory jakarta.faces.application.ApplicationFactory. \n    at jakarta.faces.FactoryFinderInstance.notNullFactory(FactoryFinderInstance.java:496)\n    at jakarta.faces.FactoryFinderInstance.getFactory(FactoryFinderInstance.java:190)\n    at jakarta.faces.FactoryFinder.getFactory(FactoryFinder.java:264)\n    at org.apache.myfaces.context.servlet.FacesContextImplBase.getApplication(FacesContextImplBase.java:173)\n    at org.apache.myfaces.context.servlet.FacesContextImplBase.getELContext(FacesContextImplBase.java:235)\n    at jakarta.faces.component.UIViewRoot.setLocale(UIViewRoot.java:1521)\n    at org.apache.myfaces.webapp.FacesInitializerImpl._createFacesContext(FacesInitializerImpl.java:498)\n    at org.apache.myfaces.webapp.FacesInitializerImpl.initStartupFacesContext(FacesInitializerImpl.java:467)\n    at org.apache.myfaces.webapp.FacesInitializerImpl.initFaces(FacesInitializerImpl.java:135)\n    at org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:54)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4454)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n</code></pre>\n<p>I tried to upgrade my <code>Spring Boot 2</code> application to <code>Spring Boot 3</code> and when performing the upgrade ran into this problem. <code>MyFaces</code> runs with <code>Spring Boot 2</code> on <code>4.7.4</code>, but when upgrading to <code>5.1.0</code> with <code>Spring Boot 3</code> (which uses <code>Jakarta</code> instead of <code>JavaX</code>) this error appears.</p>\n"},{"tags":["java","eclipse","zxing"],"answers":[{"tags":[],"owner":{"account_id":2326490,"reputation":2090,"user_id":2040876,"accept_rate":93,"display_name":"sav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445570057,"creation_date":1445570057,"answer_id":33294296,"question_id":33294001,"body_markdown":"\r\n\r\nI think I had the wrong `jar` file\r\n\r\nI now use `zxing_core.jar`\r\n\r\nNot sure what those others were supposed to be...","title":"import cannot be resolved for ZXing java project","body":"<p>I think I had the wrong <code>jar</code> file</p>\n\n<p>I now use <code>zxing_core.jar</code></p>\n\n<p>Not sure what those others were supposed to be...</p>\n"},{"tags":[],"owner":{"account_id":7167765,"reputation":101,"user_id":5476337,"display_name":"Linkyhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1445570284,"creation_date":1445570284,"answer_id":33294326,"question_id":33294001,"body_markdown":"because your lib is empty,white package means no class file.\r\n","title":"import cannot be resolved for ZXing java project","body":"<p>because your lib is empty,white package means no class file.</p>\n"},{"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1687327763,"post_id":76514321,"comment_id":134919211,"body_markdown":"@sav is not using maven, but importing the jars into his eclipse project. Your answer doesn&#39;t work for him.","body":"@sav is not using maven, but importing the jars into his eclipse project. Your answer doesn&#39;t work for him."},{"owner":{"account_id":28786539,"reputation":1,"user_id":22046884,"display_name":"RAVULA BIKSHAPATHI"},"score":0,"creation_date":1687418313,"post_id":76514321,"comment_id":134934579,"body_markdown":"Add jar file instead of dependency","body":"Add jar file instead of dependency"}],"tags":[],"owner":{"account_id":28786539,"reputation":1,"user_id":22046884,"display_name":"RAVULA BIKSHAPATHI"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687261128,"creation_date":1687261128,"answer_id":76514321,"question_id":33294001,"body_markdown":"ADD zxing_core dependency for springboot.\r\n    \r\n \t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"import cannot be resolved for ZXing java project","body":"<p>ADD zxing_core dependency for springboot.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2326490,"reputation":2090,"user_id":2040876,"accept_rate":93,"display_name":"sav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33294326,"answer_count":3,"score":0,"last_activity_date":1687261128,"creation_date":1445567887,"question_id":33294001,"body_markdown":"I&#39;m trying to use ZXing with eclipse\r\n\r\nI&#39;ve tried importing the jars I found [here][1] \r\n\r\n[![ZXingImport][2]][2]\r\n\r\n\r\nEclipse still can&#39;t seem to find these imports\r\n\r\n    import com.google.zxing.common.BitMatrix;\r\n    import com.google.zxing.common.HybridBinarizer;\r\n    import com.google.zxing.qrcode.QRCodeReader;\r\n    import com.google.zxing.qrcode.QRCodeWriter;\r\n\r\nWhich is odd because `import com.google.zxing.*;` works fine\r\n\r\nMaybe these are no longer part of the JAR?\r\n\r\nWhat have I missed?\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/com/google/zxing/\r\n  [2]: http://i.stack.imgur.com/eAXNL.png","title":"import cannot be resolved for ZXing java project","body":"<p>I'm trying to use ZXing with eclipse</p>\n\n<p>I've tried importing the jars I found <a href=\"http://repo1.maven.org/maven2/com/google/zxing/\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/eAXNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eAXNL.png\" alt=\"ZXingImport\"></a></p>\n\n<p>Eclipse still can't seem to find these imports</p>\n\n<pre><code>import com.google.zxing.common.BitMatrix;\nimport com.google.zxing.common.HybridBinarizer;\nimport com.google.zxing.qrcode.QRCodeReader;\nimport com.google.zxing.qrcode.QRCodeWriter;\n</code></pre>\n\n<p>Which is odd because <code>import com.google.zxing.*;</code> works fine</p>\n\n<p>Maybe these are no longer part of the JAR?</p>\n\n<p>What have I missed?</p>\n"},{"tags":["java","intellij-idea","directory","refresh"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1687259853,"post_id":76514104,"comment_id":134908634,"body_markdown":"Edit the question - it&#39;s hard to help you if you don&#39;t show any code or exception information.","body":"Edit the question - it&#39;s hard to help you if you don&#39;t show any code or exception information."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687260508,"post_id":76514104,"comment_id":134908785,"body_markdown":"Does it work if you right-click on Images folder and select `Reload from Disk`?","body":"Does it work if you right-click on Images folder and select <code>Reload from Disk</code>?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687260550,"post_id":76514104,"comment_id":134908795,"body_markdown":"Does it work if you build/run the project from the command line outside of the IDE? A minimal, reproducible project sample would help to better understand your case","body":"Does it work if you build/run the project from the command line outside of the IDE? A minimal, reproducible project sample would help to better understand your case"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687260687,"post_id":76514104,"comment_id":134908821,"body_markdown":"Not a good idea to attempt that in the first place. Why? Because that&#39;s never going to happen with &#39;real software&#39;. Write to a location that can be used in the real world that doesn&#39;t interfere with your dev tree. Try more like `Path imageFile = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;Images&quot;, &quot;foo.jpg&quot;);`","body":"Not a good idea to attempt that in the first place. Why? Because that&#39;s never going to happen with &#39;real software&#39;. Write to a location that can be used in the real world that doesn&#39;t interfere with your dev tree. Try more like <code>Path imageFile = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;Images&quot;, &quot;foo.jpg&quot;);</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687272441,"post_id":76514104,"comment_id":134911672,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687260694,"creation_date":1687260694,"answer_id":76514268,"question_id":76514104,"body_markdown":"&gt; This gives me an exception because the project folder is not updated until I terminate the program\r\n\r\nI doubt that&#39;s true. If your program writes a file to a folder (and properly closes the stream), it can then also read the file from the same path. Your IDE updating or not shouldn&#39;t factor into it. If you&#39;re getting an exception, it&#39;s probably caused by something else.\r\n\r\nIf I had to guess, you are simply reading the wrong path. Is `System.getProperty(&quot;user.dir&quot;)` resolving to the same path as &quot;a folder in my project (folder: Images)&quot;?\r\n\r\nWe might be able to help further if you show us the code.","title":"Change directory file in Java (IDE problem)","body":"<blockquote>\n<p>This gives me an exception because the project folder is not updated until I terminate the program</p>\n</blockquote>\n<p>I doubt that's true. If your program writes a file to a folder (and properly closes the stream), it can then also read the file from the same path. Your IDE updating or not shouldn't factor into it. If you're getting an exception, it's probably caused by something else.</p>\n<p>If I had to guess, you are simply reading the wrong path. Is <code>System.getProperty(&quot;user.dir&quot;)</code> resolving to the same path as &quot;a folder in my project (folder: Images)&quot;?</p>\n<p>We might be able to help further if you show us the code.</p>\n"}],"owner":{"account_id":25782211,"reputation":1,"user_id":19527667,"display_name":"Andrea Barone"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687260694,"creation_date":1687259456,"question_id":76514104,"body_markdown":"I have a problem with updating the folders in my IDE during program execution. Basically, during program execution, I allow selecting an image file from the local disk and then copy this image to a folder in my project (folder: Images). The file name will be saved in a database.\r\n\r\nWhen I want to display this image, I retrieve the file name from the database and concatenate it with the path using:\r\n`System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Images\\\\&quot; + filename`\r\nThis gives me an exception because the project folder is not updated until I terminate the program. How can I handle the folder refresh?","title":"Change directory file in Java (IDE problem)","body":"<p>I have a problem with updating the folders in my IDE during program execution. Basically, during program execution, I allow selecting an image file from the local disk and then copy this image to a folder in my project (folder: Images). The file name will be saved in a database.</p>\n<p>When I want to display this image, I retrieve the file name from the database and concatenate it with the path using:\n<code>System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Images\\\\&quot; + filename</code>\nThis gives me an exception because the project folder is not updated until I terminate the program. How can I handle the folder refresh?</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-adapter"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1687261114,"post_id":76514259,"comment_id":134908920,"body_markdown":"It implements the flyweight pattern. As its name suggests, it recycles the views.","body":"It implements the flyweight pattern. As its name suggests, it recycles the views."},{"owner":{"account_id":7521101,"reputation":616,"user_id":5712938,"display_name":"grabarz121"},"score":0,"creation_date":1687263317,"post_id":76514259,"comment_id":134909387,"body_markdown":"When you change your dataset, you must notify adapter about it. Call `notifyDataSetChanged();` on your adapter to refresh whole dataset, or `notifyItemInserted(position);` when you add single item, `notifyItemChanged(position);` when you change single item, or `notifyItemRemoved(position);` when you remove single item from your list. It&#39;s better to do it outside adapter because list reference may not work eg. `as_act_recyView_sale.notifyDataSetChanged();`","body":"When you change your dataset, you must notify adapter about it. Call <code>notifyDataSetChanged();</code> on your adapter to refresh whole dataset, or <code>notifyItemInserted(position);</code> when you add single item, <code>notifyItemChanged(position);</code> when you change single item, or <code>notifyItemRemoved(position);</code> when you remove single item from your list. It&#39;s better to do it outside adapter because list reference may not work eg. <code>as_act_recyView_sale.notifyDataSetChanged();</code>"}],"owner":{"account_id":8184522,"reputation":9,"user_id":6160704,"display_name":"mohinuddeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687260602,"creation_date":1687260602,"question_id":76514259,"body_markdown":"Whenever I add multiple items, for example more than 7 and that&#39;s scroll to the top. The top items are lost. When I go back down the bottom items are also lost\r\n\r\n\r\nAfter entering the data, if i scroll after adding the item as scrollable, the data disappears.\r\n\r\nAs a further explanation, sometimes the entered data appears in other items that have been added.\r\n\r\nThis code works fine in few device mostly once that use android 11 (not all). it dosn&#39;t work on android 12 and 13 (the devices i tested on) \r\nActivity Code\r\n\r\n```\r\n@Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_new_bismi_order);\r\n            activity = this;\r\n    initialization();\r\n    items = new ArrayList&lt;&gt;();\r\n    items.add(new BisimiOrder(&quot;&quot;, &quot;&quot;));\r\n    newBismiOrderADB = new NewBismiOrderADBTwo(items);\r\n    as_act_recyView_sale.setLayoutManager(new LinearLayoutManager(this));\r\n    as_act_recyView_sale.setAdapter(newBismiOrderADB);\r\n    distua_act_but_promo_add.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View view) {\r\n          BisimiOrder newItem = new BisimiOrder(&quot;&quot;, &quot;&quot;);\r\n          newBismiOrderADB.addItem(newItem);\r\n      }\r\n    });\r\n```\r\nI have used &quot;setHasStableIds(true)&quot; and &quot;holder.setIsRecyclable(false)&quot; but it didn&#39;t have any effect.\r\n\r\ni have also used getItemId() and getItemViewType()  but it didn&#39;t have any effect.\r\nAdapter Code\r\n```\r\n public class NewBismiOrderADBTwo extends RecyclerView.Adapter&lt;NewBismiOrderADBTwo.ViewHolder&gt; {\r\n  private ArrayList&lt;BisimiOrder&gt; items;\r\n\r\n  publicNewBismiOrderADBTwo(ArrayList&lt;BisimiOrder&gt; items) {\r\n    this.items = items;\r\n    setHasStableIds(true); \r\n  }\r\n\r\n  @NonNull\r\n  @Override\r\n  public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.bismi_sales_order_adp, parent, false);\r\n    return new ViewHolder(view);\r\n  }\r\n  @Override\r\n  public void onBindViewHolder(@NonNull final ViewHolder holder, int position) {\r\n    holder.setIsRecyclable(false);\r\n    BisimiOrder item = items.get(position);\r\n    holder.sa_adp_txt_sn1.setText(String.valueOf(position + 1));\r\n    holder.sa_adp_actv_item1.setText(item.getName());\r\n    holder.adp_as_edt_qty.setText(item.getQuantity());\r\n  }\r\n  @Override\r\n  public long getItemId(int position) {\r\n    return position; \r\n  }\r\n  @Override\r\n  public int getItemViewType(int position) {\r\n    return position; \r\n  }\r\n\r\n  @Override\r\n  public int getItemCount() {\r\n    return items.size();\r\n  }\r\n  public void addItem(BisimiOrder item) {\r\n    items.add(item);\r\n    notifyItemInserted(items.size() - 1);\r\n  }\r\n  public ArrayList&lt;BisimiOrder&gt; getItems() {\r\n    return items;\r\n  }\r\n\r\n  public class ViewHolder extends RecyclerView.ViewHolder {\r\n    public TextView sa_adp_txt_sn1, adp_as_txt_net_amnt;\r\n    public AutoCompleteTextView sa_adp_actv_item1;\r\n    public EditText adp_as_edt_qty;\r\n    public ViewHolder(@NonNull View itemView) {\r\n      super(itemView);\r\n      sa_adp_actv_item1 = itemView.findViewById(R.id.adp_as_actv_item);\r\n      sa_adp_txt_sn1 = itemView.findViewById(R.id.adp_as_txt_sn);\r\n      adp_as_edt_qty = itemView.findViewById(R.id.adp_as_edt_qty);\r\n      adp_as_txt_net_amnt = itemView.findViewById(R.id.adp_as_txt_net_amnt);\r\n    }\r\n  }\r\n}\r\n```\r\nI tried (TableViewAdapter.DataviewHolder) .bind() doing this and creating another class as I saw that was done in another thread(Why do values disappear after scrolling in Recycler View?) Its a lot like my problem. I just can&#39;t seem to implement his solution to make mine work. ( don&#39;t understand his solution fully)","title":"Why do i lose values after scrolling in Recycler View?","body":"<p>Whenever I add multiple items, for example more than 7 and that's scroll to the top. The top items are lost. When I go back down the bottom items are also lost</p>\n<p>After entering the data, if i scroll after adding the item as scrollable, the data disappears.</p>\n<p>As a further explanation, sometimes the entered data appears in other items that have been added.</p>\n<p>This code works fine in few device mostly once that use android 11 (not all). it dosn't work on android 12 and 13 (the devices i tested on)\nActivity Code</p>\n<pre><code>@Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_new_bismi_order);\n            activity = this;\n    initialization();\n    items = new ArrayList&lt;&gt;();\n    items.add(new BisimiOrder(&quot;&quot;, &quot;&quot;));\n    newBismiOrderADB = new NewBismiOrderADBTwo(items);\n    as_act_recyView_sale.setLayoutManager(new LinearLayoutManager(this));\n    as_act_recyView_sale.setAdapter(newBismiOrderADB);\n    distua_act_but_promo_add.setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View view) {\n          BisimiOrder newItem = new BisimiOrder(&quot;&quot;, &quot;&quot;);\n          newBismiOrderADB.addItem(newItem);\n      }\n    });\n</code></pre>\n<p>I have used &quot;setHasStableIds(true)&quot; and &quot;holder.setIsRecyclable(false)&quot; but it didn't have any effect.</p>\n<p>i have also used getItemId() and getItemViewType()  but it didn't have any effect.\nAdapter Code</p>\n<pre><code> public class NewBismiOrderADBTwo extends RecyclerView.Adapter&lt;NewBismiOrderADBTwo.ViewHolder&gt; {\n  private ArrayList&lt;BisimiOrder&gt; items;\n\n  publicNewBismiOrderADBTwo(ArrayList&lt;BisimiOrder&gt; items) {\n    this.items = items;\n    setHasStableIds(true); \n  }\n\n  @NonNull\n  @Override\n  public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.bismi_sales_order_adp, parent, false);\n    return new ViewHolder(view);\n  }\n  @Override\n  public void onBindViewHolder(@NonNull final ViewHolder holder, int position) {\n    holder.setIsRecyclable(false);\n    BisimiOrder item = items.get(position);\n    holder.sa_adp_txt_sn1.setText(String.valueOf(position + 1));\n    holder.sa_adp_actv_item1.setText(item.getName());\n    holder.adp_as_edt_qty.setText(item.getQuantity());\n  }\n  @Override\n  public long getItemId(int position) {\n    return position; \n  }\n  @Override\n  public int getItemViewType(int position) {\n    return position; \n  }\n\n  @Override\n  public int getItemCount() {\n    return items.size();\n  }\n  public void addItem(BisimiOrder item) {\n    items.add(item);\n    notifyItemInserted(items.size() - 1);\n  }\n  public ArrayList&lt;BisimiOrder&gt; getItems() {\n    return items;\n  }\n\n  public class ViewHolder extends RecyclerView.ViewHolder {\n    public TextView sa_adp_txt_sn1, adp_as_txt_net_amnt;\n    public AutoCompleteTextView sa_adp_actv_item1;\n    public EditText adp_as_edt_qty;\n    public ViewHolder(@NonNull View itemView) {\n      super(itemView);\n      sa_adp_actv_item1 = itemView.findViewById(R.id.adp_as_actv_item);\n      sa_adp_txt_sn1 = itemView.findViewById(R.id.adp_as_txt_sn);\n      adp_as_edt_qty = itemView.findViewById(R.id.adp_as_edt_qty);\n      adp_as_txt_net_amnt = itemView.findViewById(R.id.adp_as_txt_net_amnt);\n    }\n  }\n}\n</code></pre>\n<p>I tried (TableViewAdapter.DataviewHolder) .bind() doing this and creating another class as I saw that was done in another thread(Why do values disappear after scrolling in Recycler View?) Its a lot like my problem. I just can't seem to implement his solution to make mine work. ( don't understand his solution fully)</p>\n"},{"tags":["java","spring","request-mapping"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1687258293,"post_id":76513883,"comment_id":134908287,"body_markdown":"can you try  this --&gt; ^[^\\.]*$","body":"can you try  this --&gt; ^[^\\.]*$"},{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1687258642,"post_id":76513883,"comment_id":134908353,"body_markdown":"@JavaLearner1 thanks, but it doesn&#39;t work, and IntelliJ hints that `Redundant character escape &#39;\\\\.&#39; in RegExp`","body":"@JavaLearner1 thanks, but it doesn&#39;t work, and IntelliJ hints that <code>Redundant character escape &#39;\\\\.&#39; in RegExp</code>"}],"answers":[{"comments":[{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1687260780,"post_id":76514223,"comment_id":134908848,"body_markdown":"Thanks, but it isn&#39;t about rejecting the requests, but rather change the location of some of the requests. In other words, I don&#39;t think in `preHandle` one can change the request URI.","body":"Thanks, but it isn&#39;t about rejecting the requests, but rather change the location of some of the requests. In other words, I don&#39;t think in <code>preHandle</code> one can change the request URI."}],"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687260515,"creation_date":1687260370,"answer_id":76514223,"question_id":76513883,"body_markdown":"I suggest you to use an interceptor that extends `HandlerInterceptorAdapter` and in the `preHandle` method of it, you can reject all the requests which contain &#39;.&#39; in their URLs","title":"Spring RequestMapping with a regular expression for all levels","body":"<p>I suggest you to use an interceptor that extends <code>HandlerInterceptorAdapter</code> and in the <code>preHandle</code> method of it, you can reject all the requests which contain '.' in their URLs</p>\n"}],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687260515,"creation_date":1687257781,"question_id":76513883,"body_markdown":"Let&#39;s say I need to map requests which don&#39;t have `.` to add a suffix for them, for example:\r\n\r\n```\r\n/a\r\n/a/b\r\n/a/b/c\r\n```\r\n\r\nbut not\r\n\r\n```\r\n/a.html\r\n/a/b.html\r\n/a/b/c.html\r\n```\r\n\r\nI am able to map it with a a particular level, with something like the below, but that means a new mapping for each level, and I don&#39;t think this is the correct way.\r\n\r\nI tried to use `/**` but then how to handle the values which I am not interested it (e.g. the ones with `.`?\r\n\r\n\r\n\r\n```java\r\n@Controller\r\npublic class HtmlController {\r\n\r\n  @RequestMapping(&quot;/{page:^[^.]*$}&quot;)\r\n  public String oneLevel(@PathVariable(&quot;page&quot;) String page) {\r\n    return &#39;/&#39; + page + &quot;.html&quot;;\r\n  }\r\n\r\n  @RequestMapping(&quot;/{first}/{page:^[^.]*$}&quot;)\r\n  public String twoLevels(@PathVariable(&quot;first&quot;) String first, @PathVariable(&quot;page&quot;) String page) {\r\n    return &#39;/&#39; + first + &#39;/&#39; + page + &quot;.html&quot;;\r\n  }\r\n\r\n ...\r\n}\r\n\r\n```","title":"Spring RequestMapping with a regular expression for all levels","body":"<p>Let's say I need to map requests which don't have <code>.</code> to add a suffix for them, for example:</p>\n<pre><code>/a\n/a/b\n/a/b/c\n</code></pre>\n<p>but not</p>\n<pre><code>/a.html\n/a/b.html\n/a/b/c.html\n</code></pre>\n<p>I am able to map it with a a particular level, with something like the below, but that means a new mapping for each level, and I don't think this is the correct way.</p>\n<p>I tried to use <code>/**</code> but then how to handle the values which I am not interested it (e.g. the ones with <code>.</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class HtmlController {\n\n  @RequestMapping(&quot;/{page:^[^.]*$}&quot;)\n  public String oneLevel(@PathVariable(&quot;page&quot;) String page) {\n    return '/' + page + &quot;.html&quot;;\n  }\n\n  @RequestMapping(&quot;/{first}/{page:^[^.]*$}&quot;)\n  public String twoLevels(@PathVariable(&quot;first&quot;) String first, @PathVariable(&quot;page&quot;) String page) {\n    return '/' + first + '/' + page + &quot;.html&quot;;\n  }\n\n ...\n}\n\n</code></pre>\n"},{"tags":["java","spring","serialization","jackson","gson"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":0,"creation_date":1430499134,"post_id":29991236,"comment_id":48101927,"body_markdown":"possible duplicate of [Spring JSON serialization, Gson deserialization](http://stackoverflow.com/questions/29985242/spring-json-serialization-gson-deserialization)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/29985242/spring-json-serialization-gson-deserialization\">Spring JSON serialization, Gson deserialization</a>"},{"owner":{"account_id":281342,"reputation":1196,"user_id":577588,"accept_rate":81,"display_name":"Thomas Nairn"},"score":2,"creation_date":1430499180,"post_id":29991236,"comment_id":48101946,"body_markdown":"But it&#39;s not a duplicate... It&#39;s a different question entirely. Granted, the examples are the same.","body":"But it&#39;s not a duplicate... It&#39;s a different question entirely. Granted, the examples are the same."}],"answers":[{"comments":[{"owner":{"account_id":281342,"reputation":1196,"user_id":577588,"accept_rate":81,"display_name":"Thomas Nairn"},"score":0,"creation_date":1430832369,"post_id":29994650,"comment_id":48223109,"body_markdown":"Thanks, in the end I just went for ripping out Gson to replace it with Jackson (Which was surprisingly easy)","body":"Thanks, in the end I just went for ripping out Gson to replace it with Jackson (Which was surprisingly easy)"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1430512170,"creation_date":1430512170,"answer_id":29994650,"question_id":29991236,"body_markdown":"I don&#39;t think there is an easy way, but with bit of hackery it should be possible. The thing you can do is to create a custom sub-class of `JacksonAnnotationIntrospector`, override methods that look for `@JsonIdentityInfo`, and prevent them from detecting annotations.\r\n\r\nMethods that seem to need overriding are `findObjectIdInfo()` and possibly `findObjectReferenceInfo()`. Just return `null` from both.\r\n\r\nYou can then register this introspector with `ObjectMapper`, and all reads using that mapper would work similar to removing of the annotation.\r\nNote that you can not dynamically change introspector: it must be set/changed before usage. So if you want to enable them in some context, you need to use 2 separate mappers.\r\n\r\nAs to how to configure Spring to use this I don&#39;t know, but you may want to sub-class `ObjectMapper` (`MyNoObjectIdMapper extends ObjectMapper`) and make it configure itself on constructor.\r\n\r\n\r\n","title":"Ignore the Jackson JsonIdentityInfo during serialization","body":"<p>I don't think there is an easy way, but with bit of hackery it should be possible. The thing you can do is to create a custom sub-class of <code>JacksonAnnotationIntrospector</code>, override methods that look for <code>@JsonIdentityInfo</code>, and prevent them from detecting annotations.</p>\n\n<p>Methods that seem to need overriding are <code>findObjectIdInfo()</code> and possibly <code>findObjectReferenceInfo()</code>. Just return <code>null</code> from both.</p>\n\n<p>You can then register this introspector with <code>ObjectMapper</code>, and all reads using that mapper would work similar to removing of the annotation.\nNote that you can not dynamically change introspector: it must be set/changed before usage. So if you want to enable them in some context, you need to use 2 separate mappers.</p>\n\n<p>As to how to configure Spring to use this I don't know, but you may want to sub-class <code>ObjectMapper</code> (<code>MyNoObjectIdMapper extends ObjectMapper</code>) and make it configure itself on constructor.</p>\n"},{"tags":[],"owner":{"account_id":15904182,"reputation":974,"user_id":11475829,"display_name":"Atul K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687260087,"creation_date":1687260087,"answer_id":76514182,"question_id":29991236,"body_markdown":"Thanks to StaxMan, his approach worked for me. Below is the code snippet:\r\n\r\n - Custom JacksonAnnotationIntrospector to id creation:\r\n\r\n\r\n----------\r\n\r\n    import com.fasterxml.jackson.databind.introspect.Annotated;\r\n    import com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\n    import com.fasterxml.jackson.databind.introspect.ObjectIdInfo;\r\n    \r\n    public class CustomJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n     \r\n        @Override\r\n        public ObjectIdInfo findObjectIdInfo(Annotated ann) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public ObjectIdInfo findObjectReferenceInfo(Annotated ann, ObjectIdInfo objectIdInfo) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n\r\n - To set it in mapper -\r\n\r\n\r\n----------\r\n    mapper.setAnnotationIntrospector(new CustomJacksonAnnotationIntrospector());\r\n----------\r\n\r\n\r\n","title":"Ignore the Jackson JsonIdentityInfo during serialization","body":"<p>Thanks to StaxMan, his approach worked for me. Below is the code snippet:</p>\n<ul>\n<li>Custom JacksonAnnotationIntrospector to id creation:</li>\n</ul>\n<hr />\n<pre><code>import com.fasterxml.jackson.databind.introspect.Annotated;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.introspect.ObjectIdInfo;\n\npublic class CustomJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\n \n    @Override\n    public ObjectIdInfo findObjectIdInfo(Annotated ann) {\n        return null;\n    }\n\n    @Override\n    public ObjectIdInfo findObjectReferenceInfo(Annotated ann, ObjectIdInfo objectIdInfo) {\n        return null;\n    }\n}\n</code></pre>\n<hr />\n<ul>\n<li>To set it in mapper -</li>\n</ul>\n<hr />\n<pre><code>mapper.setAnnotationIntrospector(new CustomJacksonAnnotationIntrospector());\n</code></pre>\n<hr />\n"}],"owner":{"account_id":281342,"reputation":1196,"user_id":577588,"accept_rate":81,"display_name":"Thomas Nairn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29994650,"answer_count":2,"score":1,"last_activity_date":1687260087,"creation_date":1430498971,"question_id":29991236,"body_markdown":"I&#39;m currently using the `@JsonIdentityInfo` during deserialization and during serialization at some point in my application (During communication with certain clients) but some of my other clients simply can&#39;t use the `@JsonIdentityInfo`, is there away of ignoring it during serialization on some methods in spring?\r\n\r\nFor example:\r\n\r\n    [{id:5, innerobject:{id:1, name:&quot;inner&quot;}},\r\n    {id:6, innerobject:{id:1}}]\r\nThe second object with `id:6` does not have a full `innerobject`, instead it uses the `@JsonIdentityInfo` to ignore the rest (As we already have it)\r\n\r\n**Focussing on the JacksonIdentityInfo (Server side), rather than focussing on the clientside as pointed out in the potential duplicate, which it is not. This is Jackson, not Gson.**\r\n\r\n","title":"Ignore the Jackson JsonIdentityInfo during serialization","body":"<p>I'm currently using the <code>@JsonIdentityInfo</code> during deserialization and during serialization at some point in my application (During communication with certain clients) but some of my other clients simply can't use the <code>@JsonIdentityInfo</code>, is there away of ignoring it during serialization on some methods in spring?</p>\n\n<p>For example:</p>\n\n<pre><code>[{id:5, innerobject:{id:1, name:\"inner\"}},\n{id:6, innerobject:{id:1}}]\n</code></pre>\n\n<p>The second object with <code>id:6</code> does not have a full <code>innerobject</code>, instead it uses the <code>@JsonIdentityInfo</code> to ignore the rest (As we already have it)</p>\n\n<p><strong>Focussing on the JacksonIdentityInfo (Server side), rather than focussing on the clientside as pointed out in the potential duplicate, which it is not. This is Jackson, not Gson.</strong></p>\n"},{"tags":["java","jwt","jjwt"],"comments":[{"owner":{"account_id":11603771,"reputation":376,"user_id":8500146,"display_name":"exudong"},"score":1,"creation_date":1686904015,"post_id":76487994,"comment_id":134865200,"body_markdown":"The latest release is 0.11.5 which was released last year. but the `encryptWith` method was added on 19 May 2023. you should download the latest code and compile it locally.","body":"The latest release is 0.11.5 which was released last year. but the <code>encryptWith</code> method was added on 19 May 2023. you should download the latest code and compile it locally."}],"owner":{"account_id":1909701,"reputation":321,"user_id":1723860,"display_name":"Shashank Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687259745,"creation_date":1686901471,"question_id":76487994,"body_markdown":"I am trying to generate JWE using JJWT in Java.\r\n\r\nAs per the documentation https://github.com/jwtk/jjwt#creating-a-jwe there has to be an encryptWith method in JwtBuilder class but I am not able to find it and I am using the latest available version with JDK 8\r\n```\r\nimplementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\nruntimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\nruntimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n```\r\n\r\nCurrently, I am using JWS and want to replace it with JWE\r\n\r\n```\r\nString token = Jwts.builder().setClaims(claims).setIssuer(jwtIssuer)\r\n\t\t\t\t.setIssuedAt(Date.from(currentTime.atZone(ZoneId.systemDefault()).toInstant()))\r\n\t\t\t\t.setExpiration(Date\r\n\t\t\t\t\t\t.from(currentTime.plusMinutes(accessTokenExpiryMin).atZone(ZoneId.systemDefault()).toInstant()))\r\n\t\t\t\t.signWith(getSigningKey()).compact();\r\n```\r\n\r\nHow to use the encryptWith method? Am I missing something?\r\n\r\nThanks in advance.\r\n","title":"Generate JWE (Encrypted JWT) using Json Web Token JJWT","body":"<p>I am trying to generate JWE using JJWT in Java.</p>\n<p>As per the documentation <a href=\"https://github.com/jwtk/jjwt#creating-a-jwe\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt#creating-a-jwe</a> there has to be an encryptWith method in JwtBuilder class but I am not able to find it and I am using the latest available version with JDK 8</p>\n<pre><code>implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\nruntimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'\nruntimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n</code></pre>\n<p>Currently, I am using JWS and want to replace it with JWE</p>\n<pre><code>String token = Jwts.builder().setClaims(claims).setIssuer(jwtIssuer)\n                .setIssuedAt(Date.from(currentTime.atZone(ZoneId.systemDefault()).toInstant()))\n                .setExpiration(Date\n                        .from(currentTime.plusMinutes(accessTokenExpiryMin).atZone(ZoneId.systemDefault()).toInstant()))\n                .signWith(getSigningKey()).compact();\n</code></pre>\n<p>How to use the encryptWith method? Am I missing something?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-spark","cluster-analysis"],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687259127,"creation_date":1687259127,"question_id":76514063,"body_markdown":"Does anyone know if the bisecting K-Means algorithm of Apache Spark is deterministic? I thought it is but in my implementation it gives me different results every time. Any ideas?\r\n\r\n    BisectingKMeans bkm = new BisectingKMeans().setK(initialval);\r\n    BisectingKMeansModel model = bkm.fit(df);\r\n    Dataset&lt;Row&gt; predictions = model.transform(df);","title":"Is Bisecting K-Means of Apache Spark deterministic?","body":"<p>Does anyone know if the bisecting K-Means algorithm of Apache Spark is deterministic? I thought it is but in my implementation it gives me different results every time. Any ideas?</p>\n<pre><code>BisectingKMeans bkm = new BisectingKMeans().setK(initialval);\nBisectingKMeansModel model = bkm.fit(df);\nDataset&lt;Row&gt; predictions = model.transform(df);\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1685464007,"post_id":76361292,"comment_id":134662406,"body_markdown":"What happens if you `flush()` and `close()` `fos`?","body":"What happens if you <code>flush()</code> and <code>close()</code> <code>fos</code>?"},{"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"score":0,"creation_date":1685512023,"post_id":76361292,"comment_id":134668527,"body_markdown":"Unfortunately flush() and close() did not solve the problem. To avoid misidentification, I&#39;ve also changed the post to verified code.","body":"Unfortunately flush() and close() did not solve the problem. To avoid misidentification, I&#39;ve also changed the post to verified code."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1685569452,"post_id":76361292,"comment_id":134680487,"body_markdown":"I wonder if it would help to `flush()` and `close()` the `fos` _after_ closing the workbook.","body":"I wonder if it would help to <code>flush()</code> and <code>close()</code> the <code>fos</code> <i>after</i> closing the workbook."},{"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"score":0,"creation_date":1686615229,"post_id":76361292,"comment_id":134820329,"body_markdown":"I also tried flush() and close() of fos after closing the workbook, but it had no effect.\nTo begin with, fos is close()ed when it is processed as ZipPackage in the write method, so the position of flush() and close() seems to be irrelevant.","body":"I also tried flush() and close() of fos after closing the workbook, but it had no effect. To begin with, fos is close()ed when it is processed as ZipPackage in the write method, so the position of flush() and close() seems to be irrelevant."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1686654651,"post_id":76361292,"comment_id":134825721,"body_markdown":"What happens to the `XSSFSheet` returned by `cloneSheet()`?","body":"What happens to the <code>XSSFSheet</code> returned by <code>cloneSheet()</code>?"},{"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"score":0,"creation_date":1686805813,"post_id":76361292,"comment_id":134850355,"body_markdown":"I understand that when cloneSheet() is called, the cloned sheet will be added to the workbook and a reference to the added instance will be returned, so I don&#39;t think I need to do anything with it.","body":"I understand that when cloneSheet() is called, the cloned sheet will be added to the workbook and a reference to the added instance will be returned, so I don&#39;t think I need to do anything with it."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1686832018,"post_id":76361292,"comment_id":134855375,"body_markdown":"Wouldn&#39;t adding the cloned sheet imply that `xssFBook` is modified prior to writing? You might also look at this [example](https://stackoverflow.com/a/64785053/230513), _inter alia_.","body":"Wouldn&#39;t adding the cloned sheet imply that <code>xssFBook</code> is modified prior to writing? You might also look at this <a href=\"https://stackoverflow.com/a/64785053/230513\">example</a>, <i>inter alia</i>."},{"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"score":0,"creation_date":1686891088,"post_id":76361292,"comment_id":134863218,"body_markdown":"Thank you for answering.\nThe posted example was created for the purpose of simplifying and understanding the phenomenon. However, I also understood that it is a bad example as an example, so I will change the example code. But running with this code does not solve the problem.\nI saw the example, but in this example there is a logic that deletes unnecessary sheets in advance with removeSheetAt(). Unfortunately, if you delete the existing sheet and clone it, this event will not occur until the number of existing sheets existed. Occurs when simply added by cloning.","body":"Thank you for answering. The posted example was created for the purpose of simplifying and understanding the phenomenon. However, I also understood that it is a bad example as an example, so I will change the example code. But running with this code does not solve the problem. I saw the example, but in this example there is a logic that deletes unnecessary sheets in advance with removeSheetAt(). Unfortunately, if you delete the existing sheet and clone it, this event will not occur until the number of existing sheets existed. Occurs when simply added by cloning."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1686939898,"post_id":76361292,"comment_id":134872665,"body_markdown":"I was hoping that `cloneSheet()` could simplify copying.","body":"I was hoping that <code>cloneSheet()</code> could simplify copying."},{"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"score":0,"creation_date":1687161488,"post_id":76361292,"comment_id":134892744,"body_markdown":"The example you showed me does the same thing as the example on this page, except that it calls removeSheetAt() in advance.\nThank you for confirming and replying.","body":"The example you showed me does the same thing as the example on this page, except that it calls removeSheetAt() in advance. Thank you for confirming and replying."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687176886,"post_id":76361292,"comment_id":134895866,"body_markdown":"As you have explored this in a different context, it may be useful to [answer your own question](http://meta.stackoverflow.com/q/17463/163188).","body":"As you have explored this in a different context, it may be useful to <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer your own question</a>."},{"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"score":0,"creation_date":1687228875,"post_id":76361292,"comment_id":134903858,"body_markdown":"OK. I&#39;m posting my own answer as a temporary solution.","body":"OK. I&#39;m posting my own answer as a temporary solution."}],"answers":[{"tags":[],"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687258774,"creation_date":1687230298,"answer_id":76511169,"question_id":76361292,"body_markdown":"Although it is not an essential solution, you can avoid the problem by invoking `cloneSheet()` and then `removeSheet()` on the original sheet. However, it is only a one-to-one workaround.\r\n\r\n    @Test\r\n    public void test() throws IOException {\r\n        // arrange\r\n        InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;work_test_src.xlsx&quot;);\r\n        XSSFWorkbook xssFBook = new XSSFWorkbook(is);\r\n        XSSFSheet xssSheet = xssFBook.cloneSheet(0);\r\n        xssSheet.getRow(0).getCell(0).setCellValue(&quot;TEST2&quot;);\r\n        xssFBook.removeSheetAt(0);\r\n\r\n        // action\r\n        FileOutputStream fos = new FileOutputStream(&quot;target/work_test_dst_from_poi.xlsx&quot;);\r\n        xssFBook.write(fos);\r\n        xssFBook.close();\r\n        fos.flush();\r\n        fos.close();\r\n\r\n        // assert\r\n        // noop\r\n    }\r\n\r\nA similar approach is shown [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/64785053/230513","title":"A save confirmation dialog is displayed in the xlsx book that executed cloneSheet with apache poi","body":"<p>Although it is not an essential solution, you can avoid the problem by invoking <code>cloneSheet()</code> and then <code>removeSheet()</code> on the original sheet. However, it is only a one-to-one workaround.</p>\n<pre><code>@Test\npublic void test() throws IOException {\n    // arrange\n    InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;work_test_src.xlsx&quot;);\n    XSSFWorkbook xssFBook = new XSSFWorkbook(is);\n    XSSFSheet xssSheet = xssFBook.cloneSheet(0);\n    xssSheet.getRow(0).getCell(0).setCellValue(&quot;TEST2&quot;);\n    xssFBook.removeSheetAt(0);\n\n    // action\n    FileOutputStream fos = new FileOutputStream(&quot;target/work_test_dst_from_poi.xlsx&quot;);\n    xssFBook.write(fos);\n    xssFBook.close();\n    fos.flush();\n    fos.close();\n\n    // assert\n    // noop\n}\n</code></pre>\n<p>A similar approach is shown <a href=\"https://stackoverflow.com/a/64785053/230513\">here</a>.</p>\n"}],"owner":{"account_id":9603460,"reputation":11,"user_id":7130167,"display_name":"powtok"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687258774,"creation_date":1685414150,"question_id":76361292,"body_markdown":"Excel : Microsoft&#174; Excel&#174; for Microsoft 365 MSO (version 2208 build 16.0.15601.20660) 32 bit\r\n\r\napache poi/poi-ooxml : 5.2.3\r\n\r\nJDK : openjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\r\n\r\n1. Create an Excel workbook.\r\n2. Open that workbook with poi and run colenSheet and save it.\r\n3. When you open a workbook saved with poi in Excel and close it without doing anything, a save confirmation dialog will be displayed.\r\n\r\nCode from 2 above.\r\n\r\n    @Test\r\n    public void test() throws IOException {\r\n        // arrange\r\n        InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;work_test_src.xlsx&quot;);\r\n        XSSFWorkbook xssFBook = new XSSFWorkbook(is);\r\n\r\n        // action\r\n        XSSFSheet xssSheet = xssFBook.cloneSheet(0);\r\n        xssSheet.getRow(0).getCell(0).setCellValue(&quot;TEST2&quot;);\r\n        FileOutputStream fos = new FileOutputStream(&quot;target/work_test_dst_from_poi.xlsx&quot;);\r\n        xssFBook.write(fos);\r\n        fos.flush();\r\n        fos.close();\r\n        xssFBook.close();\r\n\r\n        // assert\r\n        // noop\r\n    }\r\n\r\nExcel screen of 3 above.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBook saved with poi: work_test_dst_from_poi.xlsx\r\n\r\nBook saved in the above save confirmation dialog: work_test_dst_from_excel.xlsx\r\n\r\nIf you unzip and compare these two, there is a difference.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFrom this, the internal structure of xlsx has versions, and the workbook saved with the latest version structure (excel) was saved with the old version structure (poi), which seems to have caused the problem.\r\n\r\nWhen the workbook with the problem was opened again in Excel, it was automatically corrected, so it seems that the save confirmation dialog was displayed when closing without doing anything.\r\n\r\nIf possible, I would like to prevent the save confirmation dialog from being displayed even if I operate with poi.Is there a way to do that?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p4jyt.png\r\n  [2]: https://i.stack.imgur.com/7sOKg.png","title":"A save confirmation dialog is displayed in the xlsx book that executed cloneSheet with apache poi","body":"<p>Excel : Microsoft Excel for Microsoft 365 MSO (version 2208 build 16.0.15601.20660) 32 bit</p>\n<p>apache poi/poi-ooxml : 5.2.3</p>\n<p>JDK : openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)</p>\n<ol>\n<li>Create an Excel workbook.</li>\n<li>Open that workbook with poi and run colenSheet and save it.</li>\n<li>When you open a workbook saved with poi in Excel and close it without doing anything, a save confirmation dialog will be displayed.</li>\n</ol>\n<p>Code from 2 above.</p>\n<pre><code>@Test\npublic void test() throws IOException {\n    // arrange\n    InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;work_test_src.xlsx&quot;);\n    XSSFWorkbook xssFBook = new XSSFWorkbook(is);\n\n    // action\n    XSSFSheet xssSheet = xssFBook.cloneSheet(0);\n    xssSheet.getRow(0).getCell(0).setCellValue(&quot;TEST2&quot;);\n    FileOutputStream fos = new FileOutputStream(&quot;target/work_test_dst_from_poi.xlsx&quot;);\n    xssFBook.write(fos);\n    fos.flush();\n    fos.close();\n    xssFBook.close();\n\n    // assert\n    // noop\n}\n</code></pre>\n<p>Excel screen of 3 above.\n<a href=\"https://i.stack.imgur.com/p4jyt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4jyt.png\" alt=\"enter image description here\" /></a></p>\n<p>Book saved with poi: work_test_dst_from_poi.xlsx</p>\n<p>Book saved in the above save confirmation dialog: work_test_dst_from_excel.xlsx</p>\n<p>If you unzip and compare these two, there is a difference.</p>\n<p><a href=\"https://i.stack.imgur.com/7sOKg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7sOKg.png\" alt=\"enter image description here\" /></a></p>\n<p>From this, the internal structure of xlsx has versions, and the workbook saved with the latest version structure (excel) was saved with the old version structure (poi), which seems to have caused the problem.</p>\n<p>When the workbook with the problem was opened again in Excel, it was automatically corrected, so it seems that the save confirmation dialog was displayed when closing without doing anything.</p>\n<p>If possible, I would like to prevent the save confirmation dialog from being displayed even if I operate with poi.Is there a way to do that?</p>\n"},{"tags":["java","sonarqube","refactoring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687258010,"post_id":76513758,"comment_id":134908213,"body_markdown":"You haven&#39;t provided enough context to answer your question. What sort of program is this? Where does `zipFileName` come from?","body":"You haven&#39;t provided enough context to answer your question. What sort of program is this? Where does <code>zipFileName</code> come from?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687258077,"post_id":76513758,"comment_id":134908227,"body_markdown":"And the concern is not that `zipFileName` might not exist, but that this might allow a user to overwrite one of the application&#39;s jar files, perhaps with their own data.","body":"And the concern is not that <code>zipFileName</code> might not exist, but that this might allow a user to overwrite one of the application&#39;s jar files, perhaps with their own data."},{"owner":{"account_id":28104565,"reputation":107,"user_id":21473368,"display_name":"nick"},"score":0,"creation_date":1687258672,"post_id":76513758,"comment_id":134908359,"body_markdown":"@tgdavies I have added more code. Do let me know if you think something else is needed. The function `zipping` is inside a Utility class which gets called from the controller.","body":"@tgdavies I have added more code. Do let me know if you think something else is needed. The function <code>zipping</code> is inside a Utility class which gets called from the controller."},{"owner":{"account_id":28104565,"reputation":107,"user_id":21473368,"display_name":"nick"},"score":0,"creation_date":1687258792,"post_id":76513758,"comment_id":134908395,"body_markdown":"@tgdavies In the current case I am putting the extension of the file as `.zip` So it will get saved on the file system as a .zip file. Is there a possibility for some malicious input to overwrite one of the application&#39;s jar file? Also since jar files will be under .m2 repository to achieve that the user should provide the path to the .m2 folder maliciously. Is that correct?","body":"@tgdavies In the current case I am putting the extension of the file as <code>.zip</code> So it will get saved on the file system as a .zip file. Is there a possibility for some malicious input to overwrite one of the application&#39;s jar file? Also since jar files will be under .m2 repository to achieve that the user should provide the path to the .m2 folder maliciously. Is that correct?"}],"owner":{"account_id":28104565,"reputation":107,"user_id":21473368,"display_name":"nick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687258596,"creation_date":1687256760,"question_id":76513758,"body_markdown":"SonarQube linter is showing this error `Change this code to not construct the path from user-controller data` for the following code:  \r\n\r\n    public static File zipping(List&lt;File&gt; files, String fileName){\r\n        try (var fos= new FileOutputStream(fileName))\r\n        {\r\n        }  \r\n    }\r\n    @GetMapping(value=&quot;&quot;,produces=&quot;application/zip&quot;)\r\n    public ResponseEntity&lt;FileSystemResource&gt; gen(@RequestParam String version, @RequestParam String type) {\r\n    List&lt;Files&gt; files = service.getFiles(version,type);\r\n    String fileName=type+version+&quot;.zip&quot;;\r\n    var zipFile=zipping(files,fileName);\r\n    \r\n    }\r\n\r\n  \r\n**My thoughts:** I understand that the zipFileName passed to the function may be invalid or not exist, but I am not sure how to avoid this error.    \r\n","title":"Change the code to not construct the path from user controlled data","body":"<p>SonarQube linter is showing this error <code>Change this code to not construct the path from user-controller data</code> for the following code:</p>\n<pre><code>public static File zipping(List&lt;File&gt; files, String fileName){\n    try (var fos= new FileOutputStream(fileName))\n    {\n    }  \n}\n@GetMapping(value=&quot;&quot;,produces=&quot;application/zip&quot;)\npublic ResponseEntity&lt;FileSystemResource&gt; gen(@RequestParam String version, @RequestParam String type) {\nList&lt;Files&gt; files = service.getFiles(version,type);\nString fileName=type+version+&quot;.zip&quot;;\nvar zipFile=zipping(files,fileName);\n\n}\n</code></pre>\n<p><strong>My thoughts:</strong> I understand that the zipFileName passed to the function may be invalid or not exist, but I am not sure how to avoid this error.</p>\n"},{"tags":["java","nested","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687258587,"creation_date":1687258587,"answer_id":76513997,"question_id":76511158,"body_markdown":"I made some changes on your Mappers and they worked:\r\n\r\n1- Use &quot;spring&quot; instead of &quot;jakarta&quot; as the componentModel in @Mapper\r\n\r\n2- Use abstract class instead of interface for Mappers\r\n\r\n3- Remove redundant Named methods in the DataSyncConfigurationMappingMapper\r\n\r\nThese are the classes I changed:\r\n\r\n\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {DataSyncConfigurationMapper.class})\r\n    public abstract class DataSyncConfigurationMappingMapper {\r\n    \r\n        @Mapping(source = &quot;columnNames&quot;, target = &quot;columnNameList&quot;,\r\n                qualifiedByName = &quot;stringToListConverter&quot;)\r\n        public abstract DataSyncConfigurationMapping entityToPojo(DataSyncConfigurationMappingEntity entity);\r\n    \r\n        @Mapping(source = &quot;columnNameList&quot;, target = &quot;columnNames&quot;,\r\n                qualifiedByName = &quot;listToStringConverter&quot;)\r\n        public abstract DataSyncConfigurationMappingEntity pojoToEntity(DataSyncConfigurationMapping pojo);\r\n    \r\n    }\r\n\r\nAnd the DataSyncConfigurationMapper \r\n\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.mapstruct.Named;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static com.thunder.light.model.mapstruct.MapperUtils.listToString;\r\n    import static com.thunder.light.model.mapstruct.MapperUtils.stringToList;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class  DataSyncConfigurationMapper {\r\n    \r\n        @Mapping(source = &quot;columnNames&quot;, target = &quot;columnNameList&quot;, qualifiedByName = &quot;stringToListConverter&quot;)\r\n        public abstract DataSyncConfiguration entityToPojo(DataSyncConfigurationEntity entity);\r\n    \r\n        @Mapping(source = &quot;columnNameList&quot;, target = &quot;columnNames&quot;, qualifiedByName = &quot;listToStringConverter&quot;)\r\n        public abstract DataSyncConfigurationEntity pojoToEntity(DataSyncConfiguration pojo);\r\n    \r\n        @Named(&quot;stringToListConverter&quot;)\r\n        public List&lt;String&gt; map(String value){\r\n            return stringToList(value);\r\n        }\r\n    \r\n        @Named(&quot;listToStringConverter&quot;)\r\n         public String map(List&lt;String&gt; list){\r\n            return listToString(list);\r\n        }\r\n    }\r\n","title":"mapstruct type conversion for different field types doesnt works","body":"<p>I made some changes on your Mappers and they worked:</p>\n<p>1- Use &quot;spring&quot; instead of &quot;jakarta&quot; as the componentModel in @Mapper</p>\n<p>2- Use abstract class instead of interface for Mappers</p>\n<p>3- Remove redundant Named methods in the DataSyncConfigurationMappingMapper</p>\n<p>These are the classes I changed:</p>\n<pre><code>import org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Mapper(componentModel = &quot;spring&quot;, uses = {DataSyncConfigurationMapper.class})\npublic abstract class DataSyncConfigurationMappingMapper {\n\n    @Mapping(source = &quot;columnNames&quot;, target = &quot;columnNameList&quot;,\n            qualifiedByName = &quot;stringToListConverter&quot;)\n    public abstract DataSyncConfigurationMapping entityToPojo(DataSyncConfigurationMappingEntity entity);\n\n    @Mapping(source = &quot;columnNameList&quot;, target = &quot;columnNames&quot;,\n            qualifiedByName = &quot;listToStringConverter&quot;)\n    public abstract DataSyncConfigurationMappingEntity pojoToEntity(DataSyncConfigurationMapping pojo);\n\n}\n</code></pre>\n<p>And the DataSyncConfigurationMapper</p>\n<pre><code>import org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Named;\n\nimport java.util.List;\n\nimport static com.thunder.light.model.mapstruct.MapperUtils.listToString;\nimport static com.thunder.light.model.mapstruct.MapperUtils.stringToList;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class  DataSyncConfigurationMapper {\n\n    @Mapping(source = &quot;columnNames&quot;, target = &quot;columnNameList&quot;, qualifiedByName = &quot;stringToListConverter&quot;)\n    public abstract DataSyncConfiguration entityToPojo(DataSyncConfigurationEntity entity);\n\n    @Mapping(source = &quot;columnNameList&quot;, target = &quot;columnNames&quot;, qualifiedByName = &quot;listToStringConverter&quot;)\n    public abstract DataSyncConfigurationEntity pojoToEntity(DataSyncConfiguration pojo);\n\n    @Named(&quot;stringToListConverter&quot;)\n    public List&lt;String&gt; map(String value){\n        return stringToList(value);\n    }\n\n    @Named(&quot;listToStringConverter&quot;)\n     public String map(List&lt;String&gt; list){\n        return listToString(list);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7251538,"reputation":21,"user_id":5531651,"display_name":"efe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687258587,"creation_date":1687230116,"question_id":76511158,"body_markdown":"In quarkus project I try to map DataSyncConfigurationMapping and DataSyncConfigurationMappingEntity with using MapStruct 1.5.5.Final version, except columnNames/columnNameList fields other field types matches and when tested the other field mappings works smoothly. What i have missed, any helps?\r\n\r\n```\r\npublic class DataSyncConfigurationMappingEntity{\r\n    private Long id;\r\n    private String columnNames;\r\n    private String oldValue;\r\n    private String newValue;\r\n    private DataSyncConfigurationEntity dataSyncConfiguration;\r\n}\r\n```\r\n\r\n```\r\npublic class DataSyncConfigurationMapping{\r\n    private Long id;\r\n    private List&lt;String&gt; columnNameList;\r\n    private String oldValue;\r\n    private String newValue;\r\n    private DataSyncConfiguration dataSyncConfiguration;\r\n}\r\n```\r\n\r\n```\r\npublic class DataSyncConfigurationEntity{\r\n    private Long id;\r\n    private String name;\r\n    private String fileName;\r\n    private String sqlStatement;\r\n    private String columnNames;\r\n    private String cron;\r\n}\r\n```\r\n\r\n```\r\npublic class DataSyncConfiguration{\r\n    private Long id;\r\n    private String name;\r\n    private String fileName;\r\n    private String sqlStatement;\r\n    private List&lt;String&gt; columnNameList;\r\n    private String cron;\r\n}\r\n```\r\n\r\n```\r\n@Mapper(componentModel = &quot;jakarta&quot;, uses = {DataSyncConfigurationMapper.class})\r\npublic interface DataSyncConfigurationMappingMapper {\r\n    @Mapping(source = &quot;dataSyncConfiguration.columnNames&quot;, target = &quot;dataSyncConfiguration.columnNameList&quot;,\r\n            qualifiedByName = &quot;stringToListConverter&quot;)\r\n    DataSyncConfigurationMapping entityToPojo(DataSyncConfigurationMappingEntity entity);\r\n    @Mapping(source = &quot;dataSyncConfiguration.columnNameList&quot;, target = &quot;dataSyncConfiguration.columnNames&quot;,\r\n            qualifiedByName = &quot;listToStringConverter&quot;)\r\n    DataSyncConfigurationMappingEntity pojoToEntity(DataSyncConfigurationMapping pojo);\r\n    @Named(&quot;stringToListConverter&quot;)\r\n    default List&lt;String&gt; map(String value) {\r\n        return stringToList(value);\r\n    }\r\n    @Named(&quot;listToStringConverter&quot;)\r\n    default String map(List&lt;String&gt; list) {\r\n        return listToString(list);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Mapper(componentModel = &quot;jakarta&quot;)\r\npublic interface DataSyncConfigurationMapper {\r\n    @Mapping(source = &quot;columnNames&quot;, target = &quot;columnNameList&quot;)\r\n    DataSyncConfiguration entityToPojo(DataSyncConfigurationEntity entity);\r\n    @Mapping(source = &quot;columnNameList&quot;, target = &quot;columnNames&quot;)\r\n    DataSyncConfigurationEntity pojoToEntity(DataSyncConfiguration pojo);\r\n    default List&lt;String&gt; map(String value){\r\n        return stringToList(value);\r\n    }\r\n    default String map(List&lt;String&gt; list){\r\n        return listToString(list);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@ApplicationScoped\r\npublic class MapperUtils {\r\n    public static List&lt;String&gt; stringToList(String columnNames) {\r\n        if (columnNames == null) {\r\n            return null;\r\n        }        return Arrays.asList(columnNames.split(&quot;,&quot;));\r\n    }\r\n    public static String listToString(List&lt;String&gt; list) {\r\n        if (list == null) {\r\n            return null;\r\n        }\r\n        return String.join(&quot;,&quot;, list);\r\n    }\r\n}\r\n```\r\n```\r\n@QuarkusTest\r\npublic class DataSyncConfigurationMappingMapperTest {\r\n    @Inject\r\n    DataSyncConfigurationMappingMapper dataSyncConfigurationMappingMapper;\r\n        @Test\r\n    public void testEntityToPojo() {\r\n        DataSyncConfigurationMappingEntity entity = new DataSyncConfigurationMappingEntity();\r\n        entity.setColumnNames(&quot;column1,column2,column3&quot;);\r\n        entity.setOldValue(&quot;name&quot;);\r\n        DataSyncConfigurationEntity dataSyncConfigurationEntity = new DataSyncConfigurationEntity();\r\n        dataSyncConfigurationEntity.setName(&quot;sss&quot;);\r\n        dataSyncConfigurationEntity.setColumnNames(&quot;a1,b2,c3&quot;);\r\n        entity.setDataSyncConfiguration(dataSyncConfigurationEntity);\r\n        DataSyncConfigurationMapping pojo = dataSyncConfigurationMappingMapper.entityToPojo(entity);\r\n        assertEquals(entity.getId(), pojo.getId());\r\n        assertEquals(Arrays.asList(entity.getColumnNames().split(&quot;,&quot;)), pojo.getColumnNameList());\r\n        assertNotNull(pojo.getDataSyncConfiguration());\r\n        assertEquals(dataSyncConfigurationEntity.getName(), pojo.getDataSyncConfiguration().getName());\r\n        assertEquals(Arrays.asList(dataSyncConfigurationEntity.getColumnNames().split(&quot;,&quot;)), pojo.getDataSyncConfiguration().getColumnNameList());\r\n    }\r\n}\r\n```\r\nLike i mention on my code i tried to use stringToListConverter and listToStringConverter named methods to convert, but couldn&#39;t accomplished for this fields.","title":"mapstruct type conversion for different field types doesnt works","body":"<p>In quarkus project I try to map DataSyncConfigurationMapping and DataSyncConfigurationMappingEntity with using MapStruct 1.5.5.Final version, except columnNames/columnNameList fields other field types matches and when tested the other field mappings works smoothly. What i have missed, any helps?</p>\n<pre><code>public class DataSyncConfigurationMappingEntity{\n    private Long id;\n    private String columnNames;\n    private String oldValue;\n    private String newValue;\n    private DataSyncConfigurationEntity dataSyncConfiguration;\n}\n</code></pre>\n<pre><code>public class DataSyncConfigurationMapping{\n    private Long id;\n    private List&lt;String&gt; columnNameList;\n    private String oldValue;\n    private String newValue;\n    private DataSyncConfiguration dataSyncConfiguration;\n}\n</code></pre>\n<pre><code>public class DataSyncConfigurationEntity{\n    private Long id;\n    private String name;\n    private String fileName;\n    private String sqlStatement;\n    private String columnNames;\n    private String cron;\n}\n</code></pre>\n<pre><code>public class DataSyncConfiguration{\n    private Long id;\n    private String name;\n    private String fileName;\n    private String sqlStatement;\n    private List&lt;String&gt; columnNameList;\n    private String cron;\n}\n</code></pre>\n<pre><code>@Mapper(componentModel = &quot;jakarta&quot;, uses = {DataSyncConfigurationMapper.class})\npublic interface DataSyncConfigurationMappingMapper {\n    @Mapping(source = &quot;dataSyncConfiguration.columnNames&quot;, target = &quot;dataSyncConfiguration.columnNameList&quot;,\n            qualifiedByName = &quot;stringToListConverter&quot;)\n    DataSyncConfigurationMapping entityToPojo(DataSyncConfigurationMappingEntity entity);\n    @Mapping(source = &quot;dataSyncConfiguration.columnNameList&quot;, target = &quot;dataSyncConfiguration.columnNames&quot;,\n            qualifiedByName = &quot;listToStringConverter&quot;)\n    DataSyncConfigurationMappingEntity pojoToEntity(DataSyncConfigurationMapping pojo);\n    @Named(&quot;stringToListConverter&quot;)\n    default List&lt;String&gt; map(String value) {\n        return stringToList(value);\n    }\n    @Named(&quot;listToStringConverter&quot;)\n    default String map(List&lt;String&gt; list) {\n        return listToString(list);\n    }\n}\n</code></pre>\n<pre><code>@Mapper(componentModel = &quot;jakarta&quot;)\npublic interface DataSyncConfigurationMapper {\n    @Mapping(source = &quot;columnNames&quot;, target = &quot;columnNameList&quot;)\n    DataSyncConfiguration entityToPojo(DataSyncConfigurationEntity entity);\n    @Mapping(source = &quot;columnNameList&quot;, target = &quot;columnNames&quot;)\n    DataSyncConfigurationEntity pojoToEntity(DataSyncConfiguration pojo);\n    default List&lt;String&gt; map(String value){\n        return stringToList(value);\n    }\n    default String map(List&lt;String&gt; list){\n        return listToString(list);\n    }\n}\n</code></pre>\n<pre><code>@ApplicationScoped\npublic class MapperUtils {\n    public static List&lt;String&gt; stringToList(String columnNames) {\n        if (columnNames == null) {\n            return null;\n        }        return Arrays.asList(columnNames.split(&quot;,&quot;));\n    }\n    public static String listToString(List&lt;String&gt; list) {\n        if (list == null) {\n            return null;\n        }\n        return String.join(&quot;,&quot;, list);\n    }\n}\n</code></pre>\n<pre><code>@QuarkusTest\npublic class DataSyncConfigurationMappingMapperTest {\n    @Inject\n    DataSyncConfigurationMappingMapper dataSyncConfigurationMappingMapper;\n        @Test\n    public void testEntityToPojo() {\n        DataSyncConfigurationMappingEntity entity = new DataSyncConfigurationMappingEntity();\n        entity.setColumnNames(&quot;column1,column2,column3&quot;);\n        entity.setOldValue(&quot;name&quot;);\n        DataSyncConfigurationEntity dataSyncConfigurationEntity = new DataSyncConfigurationEntity();\n        dataSyncConfigurationEntity.setName(&quot;sss&quot;);\n        dataSyncConfigurationEntity.setColumnNames(&quot;a1,b2,c3&quot;);\n        entity.setDataSyncConfiguration(dataSyncConfigurationEntity);\n        DataSyncConfigurationMapping pojo = dataSyncConfigurationMappingMapper.entityToPojo(entity);\n        assertEquals(entity.getId(), pojo.getId());\n        assertEquals(Arrays.asList(entity.getColumnNames().split(&quot;,&quot;)), pojo.getColumnNameList());\n        assertNotNull(pojo.getDataSyncConfiguration());\n        assertEquals(dataSyncConfigurationEntity.getName(), pojo.getDataSyncConfiguration().getName());\n        assertEquals(Arrays.asList(dataSyncConfigurationEntity.getColumnNames().split(&quot;,&quot;)), pojo.getDataSyncConfiguration().getColumnNameList());\n    }\n}\n</code></pre>\n<p>Like i mention on my code i tried to use stringToListConverter and listToStringConverter named methods to convert, but couldn't accomplished for this fields.</p>\n"},{"tags":["java","zip4j"],"answers":[{"tags":[],"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687245196,"creation_date":1687245196,"answer_id":76512189,"question_id":76512103,"body_markdown":"That&#39;s a ZIP format limitation. Metadata like filenames and folder structure aren&#39;t encrypted. If you need to encrypt those too, either ZIP the file again (only the outer ZIP need to be encrypted) or use other compression formats.","title":"Creating password protected zip file using zip4j - the password is on the files level but not on zip file level","body":"<p>That's a ZIP format limitation. Metadata like filenames and folder structure aren't encrypted. If you need to encrypt those too, either ZIP the file again (only the outer ZIP need to be encrypted) or use other compression formats.</p>\n"},{"tags":[],"owner":{"account_id":27280118,"reputation":79,"user_id":20800141,"display_name":"Xecrets"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687258271,"creation_date":1687258271,"answer_id":76513949,"question_id":76512103,"body_markdown":"Encryption has always been a secondary function of zip archive software, while it&#39;s excellent at archiving, encryption is not it&#39;s strong point. As an alternate approach, zip the file without encryption and then use some software specifically made for encryption for that part, for example have a look at https://github.com/xecrets/xecrets-file-cli . It&#39;s a stand-alone command line utility that will encrypt any file in tried, proven and secure manner. It&#39;s also quite easy to call and use programmatically as it can provide log output in easily interpreted JSON format, and it can accept the data to encrypt as a stream on stdin which may remove the need for a temporary file. There are other similar options. Full disclosure: I am the author this software.","title":"Creating password protected zip file using zip4j - the password is on the files level but not on zip file level","body":"<p>Encryption has always been a secondary function of zip archive software, while it's excellent at archiving, encryption is not it's strong point. As an alternate approach, zip the file without encryption and then use some software specifically made for encryption for that part, for example have a look at <a href=\"https://github.com/xecrets/xecrets-file-cli\" rel=\"nofollow noreferrer\">https://github.com/xecrets/xecrets-file-cli</a> . It's a stand-alone command line utility that will encrypt any file in tried, proven and secure manner. It's also quite easy to call and use programmatically as it can provide log output in easily interpreted JSON format, and it can accept the data to encrypt as a stream on stdin which may remove the need for a temporary file. There are other similar options. Full disclosure: I am the author this software.</p>\n"}],"owner":{"account_id":3104535,"reputation":233,"user_id":2627749,"display_name":"shimiA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76512189,"answer_count":2,"score":1,"last_activity_date":1687258271,"creation_date":1687244427,"question_id":76512103,"body_markdown":"I&#39;m trying to create password protected zip fileby the following code:\r\n```\r\n    ZipParameters zipParameters = new ZipParameters();\r\n    zipParameters.setEncryptFiles(true);\r\n    zipParameters.setEncryptionMethod(EncryptionMethod.AES);\r\n\r\n    List&lt;File&gt; filesToAdd = Arrays.asList(new File(&quot;aFile.txt&quot;), new File(&quot;bFile.txt&quot;));\r\n\r\n    ZipFile zipFile = new ZipFile(&quot;compressed.zip&quot;, &quot;password&quot;.toCharArray());\r\n    zipFile.addFiles(filesToAdd, zipParameters);\r\n\r\n```\r\n\r\n\r\nThe problem is that the password is on the level of the files in created zip but not on the zip itself.\r\nMeaning after the zip created I can enter the zip but I have to enter password to open &quot;aFile.txt&quot; or &quot;bFile.txt&quot;. What I want is when I try to open &quot;compressed.zip&quot;, the password window will show up before I can see the file names in the zip.\r\n Any help is appreciated, thanks in advance.","title":"Creating password protected zip file using zip4j - the password is on the files level but not on zip file level","body":"<p>I'm trying to create password protected zip fileby the following code:</p>\n<pre><code>    ZipParameters zipParameters = new ZipParameters();\n    zipParameters.setEncryptFiles(true);\n    zipParameters.setEncryptionMethod(EncryptionMethod.AES);\n\n    List&lt;File&gt; filesToAdd = Arrays.asList(new File(&quot;aFile.txt&quot;), new File(&quot;bFile.txt&quot;));\n\n    ZipFile zipFile = new ZipFile(&quot;compressed.zip&quot;, &quot;password&quot;.toCharArray());\n    zipFile.addFiles(filesToAdd, zipParameters);\n\n</code></pre>\n<p>The problem is that the password is on the level of the files in created zip but not on the zip itself.\nMeaning after the zip created I can enter the zip but I have to enter password to open &quot;aFile.txt&quot; or &quot;bFile.txt&quot;. What I want is when I try to open &quot;compressed.zip&quot;, the password window will show up before I can see the file names in the zip.\nAny help is appreciated, thanks in advance.</p>\n"},{"tags":["java","spring-boot","javers"],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687256927,"creation_date":1687256927,"question_id":76513776,"body_markdown":"I&#39;m using Javers via Spring Boot. Is there a way to disable Javers for the second database?\r\n\r\nHere is the java configuraions for implementing multiple datasources (Oracle &amp; PostgreSQL). Javers must be disabled for Oracle\r\n\r\nDB2Config\r\n\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n    entityManagerFactoryRef = &quot;db2EntityManagerFactory&quot;,\r\n    transactionManagerRef = &quot;db2TransactionManager&quot;,\r\n    basePackages = {&quot;com.example.db2.repository&quot;})\r\npublic class Db2Config {\r\n\r\n  @Autowired\r\n  private Environment env;\r\n\r\n\r\n  @Bean\r\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db2.javers&quot;)\r\n  public JaversSpringProperties db2JaversSpringProperties() {\r\n    return new JaversSqlProperties();\r\n  }\r\n\r\n  @Bean(name = &quot;db2DataSource&quot;)\r\n  @Primary\r\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db2&quot;)\r\n  public DataSource db2DataSource() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n\r\n  @Primary\r\n  @Bean(name = &quot;db2EntityManagerFactory&quot;)\r\n  public LocalContainerEntityManagerFactoryBean db2EntityManagerFactory(\r\n      EntityManagerFactoryBuilder builder,\r\n      @Qualifier(&quot;db2DataSource&quot;) DataSource db2DataSource) {\r\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n            env.getProperty(&quot;spring.datasource.db2.jpa.hibernate.ddl-auto&quot;));\r\n    properties.put(&quot;hibernate.dialect&quot;,\r\n            env.getProperty(&quot;spring.datasource.db2.jpa.database-platform&quot;));\r\n    return builder\r\n        .dataSource(db2DataSource)\r\n        .properties(properties)\r\n        .packages(&quot;com.example.db2.model&quot;)\r\n        .build();\r\n  }\r\n\r\n  @Bean(name = &quot;db2TransactionManager&quot;)\r\n  public PlatformTransactionManager db2TransactionManager(\r\n      @Qualifier(&quot;db2EntityManagerFactory&quot;) EntityManagerFactory db2EntityManagerFactory) {\r\n    return new JpaTransactionManager(db2EntityManagerFactory);\r\n  }\r\n}\r\n\r\n```\r\n\r\nDB1Config\r\n```java\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n    entityManagerFactoryRef = &quot;db1EntityManagerFactory&quot;,\r\n    transactionManagerRef = &quot;db1TransactionManager&quot;,\r\n    basePackages = {&quot;com.example.db1.common.persistence.repository&quot;},\r\n    repositoryFactoryBeanClass = EntityGraphJpaRepositoryFactoryBean.class)\r\npublic class DB1Config {\r\n\r\n  @Autowired\r\n  private Environment env;\r\n\r\n\r\n  @Primary\r\n  @Bean\r\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db1.javers&quot;)\r\n  public JaversSpringProperties db1JaversSpringProperties() {\r\n    return new JaversSqlProperties();\r\n  }\r\n\r\n  private static SpringLiquibase springLiquibase(\r\n      DataSource dataSource, LiquibaseProperties properties) {\r\n    SpringLiquibase liquibase = new SpringLiquibase();\r\n    liquibase.setDataSource(dataSource);\r\n    liquibase.setChangeLog(properties.getChangeLog());\r\n    liquibase.setContexts(properties.getContexts());\r\n    liquibase.setDefaultSchema(properties.getDefaultSchema());\r\n    liquibase.setDropFirst(properties.isDropFirst());\r\n    liquibase.setShouldRun(properties.isEnabled());\r\n    liquibase.setLabels(properties.getLabels());\r\n    liquibase.setChangeLogParameters(properties.getParameters());\r\n    liquibase.setRollbackFile(properties.getRollbackFile());\r\n    return liquibase;\r\n  }\r\n\r\n  @Bean(name = &quot;db1DataSource&quot;)\r\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db1&quot;)\r\n  public DataSource db1DataSource() {\r\n    return DataSourceBuilder.create().build();\r\n  }\r\n\r\n  @Bean(name = &quot;db1EntityManagerFactory&quot;)\r\n  public LocalContainerEntityManagerFactoryBean db1EntityManagerFactory(\r\n      EntityManagerFactoryBuilder builder, @Qualifier(&quot;db1DataSource&quot;) DataSource db1DataSource) {\r\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    properties.put(\r\n        &quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.hibernate.ddl-auto&quot;));\r\n    properties.put(\r\n        &quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.database-platform&quot;));\r\n    properties.put(&quot;hibernate.physical_naming_strategy&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.hibernate.naming.physical-strategy&quot;));\r\n    properties.put(&quot;hibernate.globally_quoted_identifiers&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.properties.hibernate.globally_quoted_identifiers&quot;));\r\n    properties.put(&quot;hibernate.globally_quoted_identifiers_skip_column_definitions&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.properties.hibernate.globally_quoted_identifiers_skip_column_definitions&quot;));\r\n    return builder\r\n        .dataSource(db1DataSource)\r\n        .properties(properties)\r\n        .packages(&quot;com.example.db1.persistence&quot;)\r\n        .build();\r\n  }\r\n\r\n  @Bean(name = &quot;db1TransactionManager&quot;)\r\n  public PlatformTransactionManager db1TransactionManager(\r\n      @Qualifier(&quot;db1EntityManagerFactory&quot;) EntityManagerFactory db1EntityManagerFactory) {\r\n    return new JpaTransactionManager(db1EntityManagerFactory);\r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db1.liquibase&quot;)\r\n  public LiquibaseProperties db1LiquibaseProperties() {\r\n    return new LiquibaseProperties();\r\n  }\r\n\r\n  @Bean\r\n  public SpringLiquibase db1Liquibase() {\r\n    return springLiquibase(db1DataSource(), db1LiquibaseProperties());\r\n  }\r\n}\r\n```\r\n\r\nThe second question how I can disable it for all datasources with java config? \r\n","title":"How to disable javers for the second database in Spring Boot?","body":"<p>I'm using Javers via Spring Boot. Is there a way to disable Javers for the second database?</p>\n<p>Here is the java configuraions for implementing multiple datasources (Oracle &amp; PostgreSQL). Javers must be disabled for Oracle</p>\n<p>DB2Config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    entityManagerFactoryRef = &quot;db2EntityManagerFactory&quot;,\n    transactionManagerRef = &quot;db2TransactionManager&quot;,\n    basePackages = {&quot;com.example.db2.repository&quot;})\npublic class Db2Config {\n\n  @Autowired\n  private Environment env;\n\n\n  @Bean\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db2.javers&quot;)\n  public JaversSpringProperties db2JaversSpringProperties() {\n    return new JaversSqlProperties();\n  }\n\n  @Bean(name = &quot;db2DataSource&quot;)\n  @Primary\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db2&quot;)\n  public DataSource db2DataSource() {\n    return DataSourceBuilder.create().build();\n  }\n\n  @Primary\n  @Bean(name = &quot;db2EntityManagerFactory&quot;)\n  public LocalContainerEntityManagerFactoryBean db2EntityManagerFactory(\n      EntityManagerFactoryBuilder builder,\n      @Qualifier(&quot;db2DataSource&quot;) DataSource db2DataSource) {\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\n            env.getProperty(&quot;spring.datasource.db2.jpa.hibernate.ddl-auto&quot;));\n    properties.put(&quot;hibernate.dialect&quot;,\n            env.getProperty(&quot;spring.datasource.db2.jpa.database-platform&quot;));\n    return builder\n        .dataSource(db2DataSource)\n        .properties(properties)\n        .packages(&quot;com.example.db2.model&quot;)\n        .build();\n  }\n\n  @Bean(name = &quot;db2TransactionManager&quot;)\n  public PlatformTransactionManager db2TransactionManager(\n      @Qualifier(&quot;db2EntityManagerFactory&quot;) EntityManagerFactory db2EntityManagerFactory) {\n    return new JpaTransactionManager(db2EntityManagerFactory);\n  }\n}\n\n</code></pre>\n<p>DB1Config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    entityManagerFactoryRef = &quot;db1EntityManagerFactory&quot;,\n    transactionManagerRef = &quot;db1TransactionManager&quot;,\n    basePackages = {&quot;com.example.db1.common.persistence.repository&quot;},\n    repositoryFactoryBeanClass = EntityGraphJpaRepositoryFactoryBean.class)\npublic class DB1Config {\n\n  @Autowired\n  private Environment env;\n\n\n  @Primary\n  @Bean\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db1.javers&quot;)\n  public JaversSpringProperties db1JaversSpringProperties() {\n    return new JaversSqlProperties();\n  }\n\n  private static SpringLiquibase springLiquibase(\n      DataSource dataSource, LiquibaseProperties properties) {\n    SpringLiquibase liquibase = new SpringLiquibase();\n    liquibase.setDataSource(dataSource);\n    liquibase.setChangeLog(properties.getChangeLog());\n    liquibase.setContexts(properties.getContexts());\n    liquibase.setDefaultSchema(properties.getDefaultSchema());\n    liquibase.setDropFirst(properties.isDropFirst());\n    liquibase.setShouldRun(properties.isEnabled());\n    liquibase.setLabels(properties.getLabels());\n    liquibase.setChangeLogParameters(properties.getParameters());\n    liquibase.setRollbackFile(properties.getRollbackFile());\n    return liquibase;\n  }\n\n  @Bean(name = &quot;db1DataSource&quot;)\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db1&quot;)\n  public DataSource db1DataSource() {\n    return DataSourceBuilder.create().build();\n  }\n\n  @Bean(name = &quot;db1EntityManagerFactory&quot;)\n  public LocalContainerEntityManagerFactoryBean db1EntityManagerFactory(\n      EntityManagerFactoryBuilder builder, @Qualifier(&quot;db1DataSource&quot;) DataSource db1DataSource) {\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(\n        &quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.hibernate.ddl-auto&quot;));\n    properties.put(\n        &quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.database-platform&quot;));\n    properties.put(&quot;hibernate.physical_naming_strategy&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.hibernate.naming.physical-strategy&quot;));\n    properties.put(&quot;hibernate.globally_quoted_identifiers&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.properties.hibernate.globally_quoted_identifiers&quot;));\n    properties.put(&quot;hibernate.globally_quoted_identifiers_skip_column_definitions&quot;, env.getProperty(&quot;spring.datasource.db1.jpa.properties.hibernate.globally_quoted_identifiers_skip_column_definitions&quot;));\n    return builder\n        .dataSource(db1DataSource)\n        .properties(properties)\n        .packages(&quot;com.example.db1.persistence&quot;)\n        .build();\n  }\n\n  @Bean(name = &quot;db1TransactionManager&quot;)\n  public PlatformTransactionManager db1TransactionManager(\n      @Qualifier(&quot;db1EntityManagerFactory&quot;) EntityManagerFactory db1EntityManagerFactory) {\n    return new JpaTransactionManager(db1EntityManagerFactory);\n  }\n\n  @Bean\n  @ConfigurationProperties(prefix = &quot;spring.datasource.db1.liquibase&quot;)\n  public LiquibaseProperties db1LiquibaseProperties() {\n    return new LiquibaseProperties();\n  }\n\n  @Bean\n  public SpringLiquibase db1Liquibase() {\n    return springLiquibase(db1DataSource(), db1LiquibaseProperties());\n  }\n}\n</code></pre>\n<p>The second question how I can disable it for all datasources with java config?</p>\n"},{"tags":["java","jar","runtime","executable-jar"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1375329662,"post_id":17985036,"comment_id":26294369,"body_markdown":"Does your argument to `exec` include the necessary `[path]/java -jar` bits?","body":"Does your argument to <code>exec</code> include the necessary <code>[path]&#47;java -jar</code> bits?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1375329747,"post_id":17985036,"comment_id":26294392,"body_markdown":"And use `ProcessBuilder`, it handles space in commands/parameters better","body":"And use <code>ProcessBuilder</code>, it handles space in commands/parameters better"}],"answers":[{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1634317773,"post_id":17985098,"comment_id":123000400,"body_markdown":"If the while loop terminates with the process, is the waitFor() really required?","body":"If the while loop terminates with the process, is the waitFor() really required?"}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375329850,"creation_date":1375329850,"answer_id":17985098,"question_id":17985036,"body_markdown":"First suggestion/recommendation is to use ProcessBuilder instead of Runtime. Here is what you can try:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;./jarpath/yourjar.jar&quot;);\r\n\tProcess p = pb.start();\r\n\tBufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\tString s = &quot;&quot;;\r\n\twhile((s = in.readLine()) != null){\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\tint status = p.waitFor();\r\n\tSystem.out.println(&quot;Exited with status: &quot; + status);\r\n\r\n","title":"Run a jar File from java program","body":"<p>First suggestion/recommendation is to use ProcessBuilder instead of Runtime. Here is what you can try:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"java\", \"-jar\", \"./jarpath/yourjar.jar\");\nProcess p = pb.start();\nBufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\nString s = \"\";\nwhile((s = in.readLine()) != null){\n    System.out.println(s);\n}\nint status = p.waitFor();\nSystem.out.println(\"Exited with status: \" + status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1375330864,"creation_date":1375330418,"answer_id":17985182,"question_id":17985036,"body_markdown":"Using **ProcessBuilder(java.lang.ProcessBuilder)** will solve your problem. Syntax is as follows - \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;absolute path upto jar&quot;);\r\n    Process p = pb.start();\r\n\r\nYou can redirent input/output/error to/from files as follows\r\n\r\n    File commands = new File(&quot;absolute path to inputs file&quot;);\r\n    File dirOut = new File(&quot;absolute path to outputs file&quot;);\r\n    File dirErr = new File(&quot;absolute path to error file&quot;);\r\n \r\n    dirProcess.redirectInput(commands);\r\n    dirProcess.redirectOutput(dirOut);\r\n    dirProcess.redirectError(dirErr);","title":"Run a jar File from java program","body":"<p>Using <strong>ProcessBuilder(java.lang.ProcessBuilder)</strong> will solve your problem. Syntax is as follows - </p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"java\", \"-jar\", \"absolute path upto jar\");\nProcess p = pb.start();\n</code></pre>\n\n<p>You can redirent input/output/error to/from files as follows</p>\n\n<pre><code>File commands = new File(\"absolute path to inputs file\");\nFile dirOut = new File(\"absolute path to outputs file\");\nFile dirErr = new File(\"absolute path to error file\");\n\ndirProcess.redirectInput(commands);\ndirProcess.redirectOutput(dirOut);\ndirProcess.redirectError(dirErr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3428021,"reputation":5199,"user_id":2877863,"accept_rate":92,"display_name":"Syeda Zunaira"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423719248,"creation_date":1423719248,"answer_id":28470035,"question_id":17985036,"body_markdown":"You can run a jar file from where ever you want by using only this one line code.\r\n\r\n    \tDesktop.getDesktop().open(new File(&quot;D:/FormsDesktop.jar&quot;));\r\nwhere\r\n\r\n    new File(&quot;your path to jar&quot;)\r\n\r\nHope it helps.\r\n\r\nThanks.","title":"Run a jar File from java program","body":"<p>You can run a jar file from where ever you want by using only this one line code.</p>\n\n<pre><code>    Desktop.getDesktop().open(new File(\"D:/FormsDesktop.jar\"));\n</code></pre>\n\n<p>where</p>\n\n<pre><code>new File(\"your path to jar\")\n</code></pre>\n\n<p>Hope it helps.</p>\n\n<p>Thanks.</p>\n"}],"owner":{"account_id":2221210,"reputation":1727,"user_id":1960524,"accept_rate":87,"display_name":"adesh singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30086,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":17985182,"answer_count":3,"score":8,"last_activity_date":1687256675,"creation_date":1375329496,"question_id":17985036,"body_markdown":"I am trying to execute jar files from another Java program. I am using the following code : \r\n\r\n                        \r\n\r\n          try {\r\n              Runtime runtime = Runtime.getRuntime();\r\n              runtime.exec(&quot;path upto jar&quot;);\r\n          } catch (Exception ex) {\r\n              JOptionPane.showMessageDialog(null, &quot;Exception occured&quot; + ex);\r\n          }\r\n\r\nBut its not working. I tried google and it gave me the examples using ProcessBuilder, but that is not working either.","title":"Run a jar File from java program","body":"<p>I am trying to execute jar files from another Java program. I am using the following code : </p>\n\n<pre><code>      try {\n          Runtime runtime = Runtime.getRuntime();\n          runtime.exec(\"path upto jar\");\n      } catch (Exception ex) {\n          JOptionPane.showMessageDialog(null, \"Exception occured\" + ex);\n      }\n</code></pre>\n\n<p>But its not working. I tried google and it gave me the examples using ProcessBuilder, but that is not working either.</p>\n"},{"tags":["java","groovy","interface","static-methods"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1619023531,"post_id":67199913,"comment_id":118781678,"body_markdown":"You specifically mention 3.0.7. Did this work before? What version did you use that allowed that?","body":"You specifically mention 3.0.7. Did this work before? What version did you use that allowed that?"},{"owner":{"account_id":1380809,"reputation":1193,"user_id":1313852,"accept_rate":8,"display_name":"WILLIAM WOODMAN"},"score":0,"creation_date":1619082865,"post_id":67199913,"comment_id":118799184,"body_markdown":"Java 11 explicitly permits static method definitions in interfaces I believe (as well as default methods).  I had therefore assumed I could use this feature using the groovy v3.0.7 compiler - but it rejects it","body":"Java 11 explicitly permits static method definitions in interfaces I believe (as well as default methods).  I had therefore assumed I could use this feature using the groovy v3.0.7 compiler - but it rejects it"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1619083751,"post_id":67199913,"comment_id":118799588,"body_markdown":"Ah I see. I wouldn&#39;t expect these kind of features to automatically also apply to Groovy. Especially since Groovy 3 seems to still support Java 6+.","body":"Ah I see. I wouldn&#39;t expect these kind of features to automatically also apply to Groovy. Especially since Groovy 3 seems to still support Java 6+."},{"owner":{"account_id":1380809,"reputation":1193,"user_id":1313852,"accept_rate":8,"display_name":"WILLIAM WOODMAN"},"score":0,"creation_date":1619113122,"post_id":67199913,"comment_id":118813146,"body_markdown":"Ah hah - that backward compatibility demand is probably what stops it.  Never mind I am taking a different approach to work around it for now","body":"Ah hah - that backward compatibility demand is probably what stops it.  Never mind I am taking a different approach to work around it for now"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1687256297,"post_id":67199913,"comment_id":134907844,"body_markdown":"for static methods a `trait` has always been more apropriate","body":"for static methods a <code>trait</code> has always been more apropriate"}],"answers":[{"tags":[],"owner":{"account_id":28857317,"reputation":1,"user_id":22101871,"display_name":"mayerfab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687256294,"creation_date":1687256100,"answer_id":76513662,"question_id":67199913,"body_markdown":"You can declare a default final method in an interface in groovy. Thereby you can define a method body in an interface and prevent implementing classes to override this method. \r\n\r\nHowever unlike to a static method, you will need an instance to call this method.\r\n``` groovy\r\ninterface Example {\r\n    default final void myMethodWithBody() {\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Groovy v3.0.7 doesn&#39;t support static interface methods","body":"<p>You can declare a default final method in an interface in groovy. Thereby you can define a method body in an interface and prevent implementing classes to override this method.</p>\n<p>However unlike to a static method, you will need an instance to call this method.</p>\n<pre><code>interface Example {\n    default final void myMethodWithBody() {\n        // do something\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1380809,"reputation":1193,"user_id":1313852,"accept_rate":8,"display_name":"WILLIAM WOODMAN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687256294,"creation_date":1619022762,"question_id":67199913,"body_markdown":"I have created a simple example groovy script under groovy v3.0.7, and Java 11.0.5\r\n\r\n    interface IFace {\r\n        static  String sMethod () {\r\n            return &quot;hello&quot;\r\n        }\r\n    }\r\n    \r\n    class Test implements IFace {\r\n    \r\n    }\r\n    \r\n    IFace i = new Test()\r\n    \r\n    println i.sMethod()\r\n\r\nhowever the parrot parser won&#39;t except this.  If you run this you gives the following error \r\n\r\n    org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\n    ideaGroovyConsole.groovy: 2: The method &#39;java.lang.String sMethod()&#39; from interface &#39;IFace&#39; must not be static. Only fields may be static in an interface.\r\n     @ line 2, column 5.\r\n           static  String sMethod () {\r\n           ^\r\n    \r\n    1 error\r\n\r\nWhy doesn&#39;t the latest 3.0.7 build support static interface methods.  Have I missed something ?\r\n","title":"Groovy v3.0.7 doesn&#39;t support static interface methods","body":"<p>I have created a simple example groovy script under groovy v3.0.7, and Java 11.0.5</p>\n<pre><code>interface IFace {\n    static  String sMethod () {\n        return &quot;hello&quot;\n    }\n}\n\nclass Test implements IFace {\n\n}\n\nIFace i = new Test()\n\nprintln i.sMethod()\n</code></pre>\n<p>however the parrot parser won't except this.  If you run this you gives the following error</p>\n<pre><code>org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nideaGroovyConsole.groovy: 2: The method 'java.lang.String sMethod()' from interface 'IFace' must not be static. Only fields may be static in an interface.\n @ line 2, column 5.\n       static  String sMethod () {\n       ^\n\n1 error\n</code></pre>\n<p>Why doesn't the latest 3.0.7 build support static interface methods.  Have I missed something ?</p>\n"},{"tags":["java","ant","java-11","xjc"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685964700,"post_id":76403926,"comment_id":134729686,"body_markdown":"Does this answer your question? [java.lang.NoSuchFieldError: REFLECTION](https://stackoverflow.com/questions/25765238/java-lang-nosuchfielderror-reflection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25765238/java-lang-nosuchfielderror-reflection\">java.lang.NoSuchFieldError: REFLECTION</a>"},{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1685968195,"post_id":76403926,"comment_id":134730453,"body_markdown":"Thanks for the quick response @aled checked the link you shared but it did not help much, all my jaxb jars are of same versions. I also tried to add many other jaxb jars too like javax.activation-1.2.0.jar,javax.activation-api-1.2.0.jar etc in classpath as well as build.path but still same error","body":"Thanks for the quick response @aled checked the link you shared but it did not help much, all my jaxb jars are of same versions. I also tried to add many other jaxb jars too like javax.activation-1.2.0.jar,javax.activation-api-1.2.0.jar etc in classpath as well as build.path but still same error"},{"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"score":0,"creation_date":1686056229,"post_id":76403926,"comment_id":134744329,"body_markdown":"can anyone please assist?","body":"can anyone please assist?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686056714,"post_id":76403926,"comment_id":134744441,"body_markdown":"You should share the full classpath used. Unfortunately ANT doesn&#39;t has dependency management like Maven so it is hard sometimes to say how jars may be conflicting.","body":"You should share the full classpath used. Unfortunately ANT doesn&#39;t has dependency management like Maven so it is hard sometimes to say how jars may be conflicting."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686057569,"post_id":76403926,"comment_id":134744665,"body_markdown":"There are several other answers here that may be related to your issue https://stackoverflow.com/a/46414630/721855, https://stackoverflow.com/a/50251510/721855 , https://stackoverflow.com/questions/65632952/include-library-for-jaxb-into-jar-file-without-using-maven. Have you searched for other answers here? Note that you seem to using the old com.sun.xml.bind that are deprecated and removed in Java 11. You should upgrade: https://blog.payara.fish/how-to-update-an-application-using-jaxb-from-jdk-8-to-jdk-11","body":"There are several other answers here that may be related to your issue <a href=\"https://stackoverflow.com/a/46414630/721855\">stackoverflow.com/a/46414630/721855</a>, <a href=\"https://stackoverflow.com/a/50251510/721855\">stackoverflow.com/a/50251510/721855</a> , <a href=\"https://stackoverflow.com/questions/65632952/include-library-for-jaxb-into-jar-file-without-using-maven\" title=\"include library for jaxb into jar file without using maven\">stackoverflow.com/questions/65632952/&hellip;</a>. Have you searched for other answers here? Note that you seem to using the old com.sun.xml.bind that are deprecated and removed in Java 11. You should upgrade: <a href=\"https://blog.payara.fish/how-to-update-an-application-using-jaxb-from-jdk-8-to-jdk-11\" rel=\"nofollow noreferrer\">blog.payara.fish/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687256036,"creation_date":1687256036,"answer_id":76513653,"question_id":76403926,"body_markdown":"by using the suggestion provided by @aled it is resolved now thank you aled for your assistance.","title":"Getting java.lang.Error: java.lang.reflect.InvocationTargetException in ant build.xml while using openjdk11","body":"<p>by using the suggestion provided by @aled it is resolved now thank you aled for your assistance.</p>\n"}],"owner":{"account_id":6290626,"reputation":19,"user_id":4888455,"display_name":"user4888455"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687256036,"creation_date":1685945988,"question_id":76403926,"body_markdown":"xjc tool configuration on my ant build.xml is \r\n\r\n    &lt;xjc destdir=&quot;${src.java.generated.dir}&quot; package=&quot;task.config&quot; readonly=&quot;false&quot; removeOldOutput=&quot;yes&quot; extension=&quot;true&quot;&gt;\r\n    \t\t\t&lt;classpath&gt;\r\n       \t\t        &lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-xjc-4.0.2.jar&quot;/&gt;\r\n    \t\t\t&lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-jxc-4.0.2.jar&quot;/&gt;\r\n    \t\t\t&lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-core-4.0.2.jar&quot;/&gt;\r\n    \t\t\t&lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-impl-4.0.2.jar&quot;/&gt;\r\n      \t\t\t&lt;/classpath&gt;\r\n    \t\t\t&lt;schema dir=&quot;${config.location}&quot; includes=&quot;task.xsd&quot; /&gt;\r\n    \t\t\t&lt;binding dir=&quot;${config.location}&quot; includes=&quot;task.xjb&quot; /&gt;\r\n    \t\t\t&lt;produces dir=&quot;${src.java.generated.dir}/task/config&quot; /&gt;\r\n    \t\t\t&lt;arg value=&quot;-no-header&quot; /&gt;\r\n    \t\t&lt;/xjc&gt;\r\n\r\nThe error i am getting is as below\r\n\r\n    build.xml:91: java.lang.Error: java.lang.reflect.InvocationTargetException\r\n    19:22:13 \tat com.sun.tools.xjc.reader.Ring.get(Ring.java:113)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.BGMBuilder.&lt;init&gt;(BGMBuilder.java:144)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.BGMBuilder.build(BGMBuilder.java:114)\r\n    19:22:13 \tat com.sun.tools.xjc.ModelLoader.annotateXMLSchema(ModelLoader.java:415)\r\n    19:22:13 \tat com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:167)\r\n    19:22:13 \tat com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:113)\r\n    19:22:13 \tat com.sun.tools.xjc.XJC2Task._doXJC(XJC2Task.java:496)\r\n    19:22:13 \tat com.sun.tools.xjc.XJC2Task.doXJC(XJC2Task.java:443)\r\n    19:22:13 \tat com.sun.tools.xjc.XJC2Task.execute(XJC2Task.java:369)\r\n    19:22:13 \tat com.sun.istack.tools.ProtectedTask.execute(ProtectedTask.java:55)\r\n    19:22:13 \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n    19:22:13 \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    19:22:13 \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    19:22:13 \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n    19:22:13 \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n    19:22:13 \tat org.apache.tools.ant.Target.execute(Target.java:435)\r\n    19:22:13 \tat org.apache.tools.ant.Target.performTasks(Target.java:456)\r\n    19:22:13 \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\r\n    19:22:13 \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\r\n    19:22:13 \tat org.apache.tools.ant.Project.executeTargets(Project.java:1248)\r\n    19:22:13 \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\r\n    19:22:13 \tat org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\r\n    19:22:13 \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n    19:22:13 \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    19:22:13 \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    19:22:13 \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n    19:22:13 \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n    19:22:13 \tat org.apache.tools.ant.Target.execute(Target.java:435)\r\n    19:22:13 \tat org.apache.tools.ant.Target.performTasks(Target.java:456)\r\n    19:22:13 \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\r\n    19:22:13 \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\r\n    19:22:13 \tat org.apache.tools.ant.Project.executeTargets(Project.java:1248)\r\n    19:22:13 \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\r\n    19:22:13 \tat org.apache.tools.ant.AntBridge.call(AntBridge.java:61)\r\n    19:22:13 \tat org.apache.tools.ant.AntBridge.call(AntBridge.java:17)\r\n    19:22:13 \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    19:22:13 \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    19:22:13 \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    19:22:13 \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    19:22:13 Caused by: java.lang.reflect.InvocationTargetException\r\n    19:22:13 \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    19:22:13 \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.Ring.get(Ring.java:102)\r\n    19:22:13 \t... 40 more\r\n    19:22:13 Caused by: java.lang.Error: java.lang.reflect.InvocationTargetException\r\n    19:22:13 \tat com.sun.tools.xjc.reader.Ring.get(Ring.java:113)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.BindingComponent.getClassSelector(BindingComponent.java:61)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.ColorBinder.&lt;init&gt;(ColorBinder.java:58)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.BindGreen.&lt;init&gt;(BindGreen.java:59)\r\n    19:22:13 \t... 45 more\r\n    19:22:13 Caused by: java.lang.reflect.InvocationTargetException\r\n    19:22:13 \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    19:22:13 \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.Ring.get(Ring.java:102)\r\n    19:22:13 \t... 48 more\r\n    19:22:13 Caused by: java.lang.NoSuchFieldError: REFLECTION\r\n    19:22:13 \tat com.sun.tools.xjc.model.nav.NavigatorImpl.getBaseClass(NavigatorImpl.java:70)\r\n    19:22:13 \tat com.sun.tools.xjc.model.nav.NavigatorImpl.getBaseClass(NavigatorImpl.java:55)\r\n    19:22:13 \tat com.sun.xml.bind.v2.model.core.Adapter.&lt;init&gt;(Adapter.java:88)\r\n    19:22:13 \tat com.sun.tools.xjc.model.CAdapter.&lt;init&gt;(CAdapter.java:78)\r\n    19:22:13 \tat com.sun.tools.xjc.model.TypeUseFactory.adapt(TypeUseFactory.java:91)\r\n    19:22:13 \tat com.sun.tools.xjc.model.CBuiltinLeafInfo.makeAdapted(CBuiltinLeafInfo.java:175)\r\n    19:22:13 \tat com.sun.tools.xjc.model.CBuiltinLeafInfo.&lt;clinit&gt;(CBuiltinLeafInfo.java:303)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.SimpleTypeBuilder.&lt;clinit&gt;(SimpleTypeBuilder.java:880)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    19:22:13 \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    19:22:13 \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.Ring.get(Ring.java:102)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.DefaultClassBinder.&lt;init&gt;(DefaultClassBinder.java:93)\r\n    19:22:13 \tat com.sun.tools.xjc.reader.xmlschema.ClassSelector.&lt;init&gt;(ClassSelector.java:209)\r\n    19:22:13 \t... 53 more\r\n19:22:13 \r\n    19:22:13 Total time: 12 seconds\r\n    19:22:16 Build step &#39;Execute shell&#39; marked build as failure\r\n    19:22:16 Archiving artifacts\r\n    19:22:16 Finished: FAILURE\r\n\r\nTried many solutions like:\r\n\r\na. Adding the jaxb-xjc-4.0.2.jar,jaxb-jxc-4.0.2.jar,jaxb-core-4.0.2.jar,jaxb-impl-4.0.2.jar in classpath as mentioned in the above code. \r\nb. Tried adding the mentioned jars in build.path too but still same error.\r\n \r\nanyone please assist on to resolve this?","title":"Getting java.lang.Error: java.lang.reflect.InvocationTargetException in ant build.xml while using openjdk11","body":"<p>xjc tool configuration on my ant build.xml is</p>\n<pre><code>&lt;xjc destdir=&quot;${src.java.generated.dir}&quot; package=&quot;task.config&quot; readonly=&quot;false&quot; removeOldOutput=&quot;yes&quot; extension=&quot;true&quot;&gt;\n            &lt;classpath&gt;\n                &lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-xjc-4.0.2.jar&quot;/&gt;\n            &lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-jxc-4.0.2.jar&quot;/&gt;\n            &lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-core-4.0.2.jar&quot;/&gt;\n            &lt;pathelement location=&quot;${libs.dir}/jaxb/jaxb-impl-4.0.2.jar&quot;/&gt;\n            &lt;/classpath&gt;\n            &lt;schema dir=&quot;${config.location}&quot; includes=&quot;task.xsd&quot; /&gt;\n            &lt;binding dir=&quot;${config.location}&quot; includes=&quot;task.xjb&quot; /&gt;\n            &lt;produces dir=&quot;${src.java.generated.dir}/task/config&quot; /&gt;\n            &lt;arg value=&quot;-no-header&quot; /&gt;\n        &lt;/xjc&gt;\n</code></pre>\n<p>The error i am getting is as below</p>\n<pre><code>build.xml:91: java.lang.Error: java.lang.reflect.InvocationTargetException\n19:22:13    at com.sun.tools.xjc.reader.Ring.get(Ring.java:113)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.&lt;init&gt;(BGMBuilder.java:144)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.build(BGMBuilder.java:114)\n19:22:13    at com.sun.tools.xjc.ModelLoader.annotateXMLSchema(ModelLoader.java:415)\n19:22:13    at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:167)\n19:22:13    at com.sun.tools.xjc.ModelLoader.load(ModelLoader.java:113)\n19:22:13    at com.sun.tools.xjc.XJC2Task._doXJC(XJC2Task.java:496)\n19:22:13    at com.sun.tools.xjc.XJC2Task.doXJC(XJC2Task.java:443)\n19:22:13    at com.sun.tools.xjc.XJC2Task.execute(XJC2Task.java:369)\n19:22:13    at com.sun.istack.tools.ProtectedTask.execute(ProtectedTask.java:55)\n19:22:13    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n19:22:13    at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n19:22:13    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n19:22:13    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n19:22:13    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n19:22:13    at org.apache.tools.ant.Task.perform(Task.java:348)\n19:22:13    at org.apache.tools.ant.Target.execute(Target.java:435)\n19:22:13    at org.apache.tools.ant.Target.performTasks(Target.java:456)\n19:22:13    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n19:22:13    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\n19:22:13    at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n19:22:13    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\n19:22:13    at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)\n19:22:13    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n19:22:13    at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n19:22:13    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n19:22:13    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n19:22:13    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n19:22:13    at org.apache.tools.ant.Task.perform(Task.java:348)\n19:22:13    at org.apache.tools.ant.Target.execute(Target.java:435)\n19:22:13    at org.apache.tools.ant.Target.performTasks(Target.java:456)\n19:22:13    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)\n19:22:13    at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)\n19:22:13    at org.apache.tools.ant.Project.executeTargets(Project.java:1248)\n19:22:13    at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:440)\n19:22:13    at org.apache.tools.ant.AntBridge.call(AntBridge.java:61)\n19:22:13    at org.apache.tools.ant.AntBridge.call(AntBridge.java:17)\n19:22:13    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n19:22:13    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n19:22:13    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n19:22:13    at java.base/java.lang.Thread.run(Thread.java:834)\n19:22:13 Caused by: java.lang.reflect.InvocationTargetException\n19:22:13    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n19:22:13    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n19:22:13    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n19:22:13    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n19:22:13    at com.sun.tools.xjc.reader.Ring.get(Ring.java:102)\n19:22:13    ... 40 more\n19:22:13 Caused by: java.lang.Error: java.lang.reflect.InvocationTargetException\n19:22:13    at com.sun.tools.xjc.reader.Ring.get(Ring.java:113)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.BindingComponent.getClassSelector(BindingComponent.java:61)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.ColorBinder.&lt;init&gt;(ColorBinder.java:58)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.BindGreen.&lt;init&gt;(BindGreen.java:59)\n19:22:13    ... 45 more\n19:22:13 Caused by: java.lang.reflect.InvocationTargetException\n19:22:13    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n19:22:13    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n19:22:13    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n19:22:13    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n19:22:13    at com.sun.tools.xjc.reader.Ring.get(Ring.java:102)\n19:22:13    ... 48 more\n19:22:13 Caused by: java.lang.NoSuchFieldError: REFLECTION\n19:22:13    at com.sun.tools.xjc.model.nav.NavigatorImpl.getBaseClass(NavigatorImpl.java:70)\n19:22:13    at com.sun.tools.xjc.model.nav.NavigatorImpl.getBaseClass(NavigatorImpl.java:55)\n19:22:13    at com.sun.xml.bind.v2.model.core.Adapter.&lt;init&gt;(Adapter.java:88)\n19:22:13    at com.sun.tools.xjc.model.CAdapter.&lt;init&gt;(CAdapter.java:78)\n19:22:13    at com.sun.tools.xjc.model.TypeUseFactory.adapt(TypeUseFactory.java:91)\n19:22:13    at com.sun.tools.xjc.model.CBuiltinLeafInfo.makeAdapted(CBuiltinLeafInfo.java:175)\n19:22:13    at com.sun.tools.xjc.model.CBuiltinLeafInfo.&lt;clinit&gt;(CBuiltinLeafInfo.java:303)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.SimpleTypeBuilder.&lt;clinit&gt;(SimpleTypeBuilder.java:880)\n19:22:13    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n19:22:13    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n19:22:13    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n19:22:13    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n19:22:13    at com.sun.tools.xjc.reader.Ring.get(Ring.java:102)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.DefaultClassBinder.&lt;init&gt;(DefaultClassBinder.java:93)\n19:22:13    at com.sun.tools.xjc.reader.xmlschema.ClassSelector.&lt;init&gt;(ClassSelector.java:209)\n19:22:13    ... 53 more\n</code></pre>\n<p>19:22:13\n19:22:13 Total time: 12 seconds\n19:22:16 Build step 'Execute shell' marked build as failure\n19:22:16 Archiving artifacts\n19:22:16 Finished: FAILURE</p>\n<p>Tried many solutions like:</p>\n<p>a. Adding the jaxb-xjc-4.0.2.jar,jaxb-jxc-4.0.2.jar,jaxb-core-4.0.2.jar,jaxb-impl-4.0.2.jar in classpath as mentioned in the above code.\nb. Tried adding the mentioned jars in build.path too but still same error.</p>\n<p>anyone please assist on to resolve this?</p>\n"},{"tags":["java","web","email-validation","yahoo-mail"],"comments":[{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":1,"creation_date":1533242338,"post_id":51661733,"comment_id":90287016,"body_markdown":"have you considered writing a dummy mail to that account, and see if you get any errors when sending?","body":"have you considered writing a dummy mail to that account, and see if you get any errors when sending?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1533242632,"post_id":51661733,"comment_id":90287145,"body_markdown":"What is the purpose of the check? Just because an email address *exists*, doesn&#39;t mean it belongs to the person who gave you the address. Only way to verify that, is to send an actual email, asking for user to click a link to confirm: 1) email address is good, 2) the person actually requested the email.","body":"What is the purpose of the check? Just because an email address <i>exists</i>, doesn&#39;t mean it belongs to the person who gave you the address. Only way to verify that, is to send an actual email, asking for user to click a link to confirm: 1) email address is good, 2) the person actually requested the email."},{"owner":{"account_id":382275,"reputation":83,"user_id":6375061,"display_name":"ehsan sha"},"score":0,"creation_date":1533242939,"post_id":51661733,"comment_id":90287294,"body_markdown":"@DarkCygnus yahoo doesn&#39;t send any error ?!!!","body":"@DarkCygnus yahoo doesn&#39;t send any error ?!!!"},{"owner":{"account_id":382275,"reputation":83,"user_id":6375061,"display_name":"ehsan sha"},"score":0,"creation_date":1533243369,"post_id":51661733,"comment_id":90287490,"body_markdown":"@Andreas I have list and we need test before send test email . I want to know how service email check works ? like verifyemailaddress.io or https://www.textmagic.com/free-tools/email-validation-tool the","body":"@Andreas I have list and we need test before send test email . I want to know how service email check works ? like verifyemailaddress.io or <a href=\"https://www.textmagic.com/free-tools/email-validation-tool\" rel=\"nofollow noreferrer\">textmagic.com/free-tools/email-validation-tool</a> the"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1533243691,"post_id":51661733,"comment_id":90287622,"body_markdown":"You need to *test* before *testing*? Isn&#39;t that redundant?","body":"You need to <i>test</i> before <i>testing</i>? Isn&#39;t that redundant?"},{"owner":{"account_id":382275,"reputation":83,"user_id":6375061,"display_name":"ehsan sha"},"score":0,"creation_date":1533278765,"post_id":51661733,"comment_id":90296392,"body_markdown":"@Andreas no because Some emails are bounce and we need check  before send ?","body":"@Andreas no because Some emails are bounce and we need check  before send ?"}],"answers":[{"tags":[],"owner":{"account_id":14270487,"reputation":31,"user_id":10308111,"display_name":"extreme_logic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687255706,"creation_date":1687255706,"answer_id":76513611,"question_id":51661733,"body_markdown":"You will need to mimic the create email account of yahoo. You will be needing to call two URLS, the first is when you load the create email page. This will allow you to get session values that you will be needing to the second call. The second call, it&#39;s the actual validate call that will let you know if the email exists or not. The URL for that as of time of writing is `https://login.yahoo.com/account/module/create?validateField=userId`. \r\n\r\nTo reverse engineer, just extract the second call details as a curl command and hard code it first. Then slowly work backwards and replace the hard coded values with dynamic values. The values are mostly coming from the initial load of the page.","title":"how can check pragmatically yahoo email exist or not exist?","body":"<p>You will need to mimic the create email account of yahoo. You will be needing to call two URLS, the first is when you load the create email page. This will allow you to get session values that you will be needing to the second call. The second call, it's the actual validate call that will let you know if the email exists or not. The URL for that as of time of writing is <code>https://login.yahoo.com/account/module/create?validateField=userId</code>.</p>\n<p>To reverse engineer, just extract the second call details as a curl command and hard code it first. Then slowly work backwards and replace the hard coded values with dynamic values. The values are mostly coming from the initial load of the page.</p>\n"}],"owner":{"account_id":382275,"reputation":83,"user_id":6375061,"display_name":"ehsan sha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687255706,"creation_date":1533241939,"question_id":51661733,"body_markdown":"I&#39;m writing this code for check yahoo account but cant response yahoo?\r\nI need write service like this site ([verifyemailaddress.io][1])\r\nThe best you can do to verify if an email address is real is to verify if there is a mail server registered to the domain name. \r\nWhile using the code I noticed a problem with greylisting. \r\nGreylisting is an anti-spam attempt which denies service for the first time the triple of client, sender, and address reaches the SMTP server. Greylisting will send back a \r\ntemporary error (450) and therefore the address will be \r\ndenied. In this case, it probably is better to accept the \r\naddress as verified, because there is no better information \r\navailable at that moment.\r\n  [1]: https://tools.verifyemailaddress.io/\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.*;\r\n    import javax.naming.*;\r\n    import javax.naming.directory.*;\r\n\r\n    public class SMTP {\r\n        private static int hear( BufferedReader in ) throws IOException {\r\n        String line = null;\r\n        int res = 0;\r\n\r\n        while ( (line = in.readLine()) != null ) {\r\n            String pfx = line.substring( 0, 3 );\r\n            try {\r\n                res = Integer.parseInt( pfx );\r\n            } \r\n            catch (Exception ex) {\r\n                res = -1;\r\n            }\r\n            if ( line.charAt( 3 ) != &#39;-&#39; ) break;\r\n        }\r\n\r\n        return res;\r\n        }\r\n\r\n        private static void say( BufferedWriter wr, String text ) \r\n        throws IOException {\r\n        wr.write( text + &quot;\\r\\n&quot; );\r\n        wr.flush();\r\n\r\n        return;\r\n        }\r\n        \r\n        private static ArrayList getMX( String hostName )\r\n            throws NamingException {\r\n        // Perform a DNS lookup for MX records in the domain\r\n        Hashtable env = new Hashtable();\r\n        env.put(&quot;java.naming.factory.initial&quot;,\r\n                &quot;com.sun.jndi.dns.DnsContextFactory&quot;);\r\n        DirContext ictx = new InitialDirContext( env );\r\n        Attributes attrs = ictx.getAttributes\r\n                                ( hostName, new String[] { &quot;MX&quot; });\r\n        Attribute attr = attrs.get( &quot;MX&quot; );\r\n\r\n        // if we don&#39;t have an MX record, try the machine itself\r\n        if (( attr == null ) || ( attr.size() == 0 )) {\r\n            attrs = ictx.getAttributes( hostName, new String[] { &quot;A&quot; });\r\n            attr = attrs.get( &quot;A&quot; );\r\n            if( attr == null ) \r\n                throw new NamingException\r\n                        ( &quot;No match for name &#39;&quot; + hostName + &quot;&#39;&quot; );\r\n        }\r\n\r\n        // Huzzah! we have machines to try. Return them as an array list\r\n        // NOTE: We SHOULD take the preference into account to be absolutely\r\n        //   correct. This is left as an exercise for anyone who cares.\r\n        ArrayList res = new ArrayList();\r\n        NamingEnumeration en = attr.getAll();\r\n\r\n        while ( en.hasMore() ) {\r\n            String x = (String) en.next();\r\n            String f[] = x.split( &quot; &quot; );\r\n            if ( f[1].endsWith( &quot;.&quot; ) ) \r\n                f[1] = f[1].substring( 0, (f[1].length() - 1));\r\n            res.add( f[1] );\r\n        }\r\n        return res;\r\n        }\r\n\r\n        public static boolean isAddressValid( String address ) {\r\n        // Find the separator for the domain name\r\n        int pos = address.indexOf( &#39;@&#39; );\r\n\r\n        // If the address does not contain an &#39;@&#39;, it&#39;s not valid\r\n        if ( pos == -1 ) return false;\r\n\r\n        // Isolate the domain/machine name and get a list of mail exchangers\r\n        String domain = address.substring( ++pos );\r\n        ArrayList mxList = null;\r\n        try {\r\n            mxList = getMX( domain );\r\n        } \r\n        catch (NamingException ex) {\r\n            return false;\r\n        }\r\n\r\n        // Just because we can send mail to the domain, doesn&#39;t mean that the\r\n        // address is valid, but if we can&#39;t, it&#39;s a sure sign that it isn&#39;t\r\n        if ( mxList.size() == 0 ) return false;\r\n\r\n        // Now, do the SMTP validation, try each mail exchanger until we get\r\n        // a positive acceptance. It *MAY* be possible for one MX to allow\r\n        // a message [store and forwarder for example] and another [like\r\n        // the actual mail server] to reject it. This is why we REALLY ought\r\n        // to take the preference into account.\r\n        for ( int mx = 0 ; mx &lt; mxList.size() ; mx++ ) {\r\n            boolean valid = false;\r\n            try {\r\n                int res;\r\n                Socket skt = new Socket( (String) mxList.get( mx ), 25 );\r\n                BufferedReader rdr = new BufferedReader\r\n                    ( new InputStreamReader( skt.getInputStream() ) );\r\n                BufferedWriter wtr = new BufferedWriter\r\n                    ( new OutputStreamWriter( skt.getOutputStream() ) );\r\n\r\n                res = hear( rdr );\r\n                if ( res != 220 ) throw new Exception( &quot;Invalid header&quot; );\r\n                say( wtr, &quot;EHLO orbaker.com&quot; );\r\n\r\n                res = hear( rdr );\r\n                if ( res != 250 ) throw new Exception( &quot;Not ESMTP&quot; );\r\n\r\n                // validate the sender address  \r\n                say( wtr, &quot;MAIL FROM: &lt;tim@orbaker.com&gt;&quot; );\r\n                res = hear( rdr );\r\n                if ( res != 250 ) throw new Exception( &quot;Sender rejected&quot; );\r\n\r\n                say( wtr, &quot;RCPT TO: &lt;&quot; + address + &quot;&gt;&quot; );\r\n                res = hear( rdr );\r\n\r\n                // be polite\r\n                say( wtr, &quot;RSET&quot; ); hear( rdr );\r\n                say( wtr, &quot;QUIT&quot; ); hear( rdr );\r\n                if ( res != 250 ) \r\n                    throw new Exception( &quot;Address is not valid!&quot; );\r\n\r\n                valid = true;\r\n                rdr.close();\r\n                wtr.close();\r\n                skt.close();\r\n            } \r\n            catch (Exception ex) {\r\n                // Do nothing but try next host\r\n            } \r\n            finally {\r\n                if ( valid ) return true;\r\n            }\r\n        }\r\n        return false;\r\n        }\r\n\r\n        public static void main( String args[] ) {\r\n        String testData[] = {\r\n            &quot;tim@orbaker.com&quot;, // Valid address\r\n            &quot;fail.me@nowhere.spam&quot;, // Invalid domain name\r\n            &quot;arkham@bigmeanogre.net&quot;, // Invalid address\r\n            &quot;nosuchaddress@yahoo.com&quot; // Failure of this method\r\n            };\r\n\r\n        for ( int ctr = 0 ; ctr &lt; testData.length ; ctr++ ) {\r\n            System.out.println( testData[ ctr ] + &quot; is valid? &quot; + \r\n                isAddressValid( testData[ ctr ] ) );\r\n        }\r\n        return;\r\n        }\r\n    }\r\n\r\nhow can check yahoo account can guide me?","title":"how can check pragmatically yahoo email exist or not exist?","body":"<p>I'm writing this code for check yahoo account but cant response yahoo?\nI need write service like this site (<a href=\"https://tools.verifyemailaddress.io/\" rel=\"nofollow noreferrer\">verifyemailaddress.io</a>)\nThe best you can do to verify if an email address is real is to verify if there is a mail server registered to the domain name. \nWhile using the code I noticed a problem with greylisting. \nGreylisting is an anti-spam attempt which denies service for the first time the triple of client, sender, and address reaches the SMTP server. Greylisting will send back a \ntemporary error (450) and therefore the address will be \ndenied. In this case, it probably is better to accept the \naddress as verified, because there is no better information \navailable at that moment.\n    import java.io.<em>;\n    import java.net.</em>;\n    import java.util.<em>;\n    import javax.naming.</em>;\n    import javax.naming.directory.*;</p>\n\n<pre><code>public class SMTP {\n    private static int hear( BufferedReader in ) throws IOException {\n    String line = null;\n    int res = 0;\n\n    while ( (line = in.readLine()) != null ) {\n        String pfx = line.substring( 0, 3 );\n        try {\n            res = Integer.parseInt( pfx );\n        } \n        catch (Exception ex) {\n            res = -1;\n        }\n        if ( line.charAt( 3 ) != '-' ) break;\n    }\n\n    return res;\n    }\n\n    private static void say( BufferedWriter wr, String text ) \n    throws IOException {\n    wr.write( text + \"\\r\\n\" );\n    wr.flush();\n\n    return;\n    }\n\n    private static ArrayList getMX( String hostName )\n        throws NamingException {\n    // Perform a DNS lookup for MX records in the domain\n    Hashtable env = new Hashtable();\n    env.put(\"java.naming.factory.initial\",\n            \"com.sun.jndi.dns.DnsContextFactory\");\n    DirContext ictx = new InitialDirContext( env );\n    Attributes attrs = ictx.getAttributes\n                            ( hostName, new String[] { \"MX\" });\n    Attribute attr = attrs.get( \"MX\" );\n\n    // if we don't have an MX record, try the machine itself\n    if (( attr == null ) || ( attr.size() == 0 )) {\n        attrs = ictx.getAttributes( hostName, new String[] { \"A\" });\n        attr = attrs.get( \"A\" );\n        if( attr == null ) \n            throw new NamingException\n                    ( \"No match for name '\" + hostName + \"'\" );\n    }\n\n    // Huzzah! we have machines to try. Return them as an array list\n    // NOTE: We SHOULD take the preference into account to be absolutely\n    //   correct. This is left as an exercise for anyone who cares.\n    ArrayList res = new ArrayList();\n    NamingEnumeration en = attr.getAll();\n\n    while ( en.hasMore() ) {\n        String x = (String) en.next();\n        String f[] = x.split( \" \" );\n        if ( f[1].endsWith( \".\" ) ) \n            f[1] = f[1].substring( 0, (f[1].length() - 1));\n        res.add( f[1] );\n    }\n    return res;\n    }\n\n    public static boolean isAddressValid( String address ) {\n    // Find the separator for the domain name\n    int pos = address.indexOf( '@' );\n\n    // If the address does not contain an '@', it's not valid\n    if ( pos == -1 ) return false;\n\n    // Isolate the domain/machine name and get a list of mail exchangers\n    String domain = address.substring( ++pos );\n    ArrayList mxList = null;\n    try {\n        mxList = getMX( domain );\n    } \n    catch (NamingException ex) {\n        return false;\n    }\n\n    // Just because we can send mail to the domain, doesn't mean that the\n    // address is valid, but if we can't, it's a sure sign that it isn't\n    if ( mxList.size() == 0 ) return false;\n\n    // Now, do the SMTP validation, try each mail exchanger until we get\n    // a positive acceptance. It *MAY* be possible for one MX to allow\n    // a message [store and forwarder for example] and another [like\n    // the actual mail server] to reject it. This is why we REALLY ought\n    // to take the preference into account.\n    for ( int mx = 0 ; mx &lt; mxList.size() ; mx++ ) {\n        boolean valid = false;\n        try {\n            int res;\n            Socket skt = new Socket( (String) mxList.get( mx ), 25 );\n            BufferedReader rdr = new BufferedReader\n                ( new InputStreamReader( skt.getInputStream() ) );\n            BufferedWriter wtr = new BufferedWriter\n                ( new OutputStreamWriter( skt.getOutputStream() ) );\n\n            res = hear( rdr );\n            if ( res != 220 ) throw new Exception( \"Invalid header\" );\n            say( wtr, \"EHLO orbaker.com\" );\n\n            res = hear( rdr );\n            if ( res != 250 ) throw new Exception( \"Not ESMTP\" );\n\n            // validate the sender address  \n            say( wtr, \"MAIL FROM: &lt;tim@orbaker.com&gt;\" );\n            res = hear( rdr );\n            if ( res != 250 ) throw new Exception( \"Sender rejected\" );\n\n            say( wtr, \"RCPT TO: &lt;\" + address + \"&gt;\" );\n            res = hear( rdr );\n\n            // be polite\n            say( wtr, \"RSET\" ); hear( rdr );\n            say( wtr, \"QUIT\" ); hear( rdr );\n            if ( res != 250 ) \n                throw new Exception( \"Address is not valid!\" );\n\n            valid = true;\n            rdr.close();\n            wtr.close();\n            skt.close();\n        } \n        catch (Exception ex) {\n            // Do nothing but try next host\n        } \n        finally {\n            if ( valid ) return true;\n        }\n    }\n    return false;\n    }\n\n    public static void main( String args[] ) {\n    String testData[] = {\n        \"tim@orbaker.com\", // Valid address\n        \"fail.me@nowhere.spam\", // Invalid domain name\n        \"arkham@bigmeanogre.net\", // Invalid address\n        \"nosuchaddress@yahoo.com\" // Failure of this method\n        };\n\n    for ( int ctr = 0 ; ctr &lt; testData.length ; ctr++ ) {\n        System.out.println( testData[ ctr ] + \" is valid? \" + \n            isAddressValid( testData[ ctr ] ) );\n    }\n    return;\n    }\n}\n</code></pre>\n\n<p>how can check yahoo account can guide me?</p>\n"},{"tags":["java","mongodb","logging"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1685523971,"post_id":76371805,"comment_id":134670803,"body_markdown":"You cannot change the log level in a third-party lib code.","body":"You cannot change the log level in a third-party lib code."}],"answers":[{"tags":[],"owner":{"account_id":17656034,"reputation":66,"user_id":12815612,"display_name":"James Blyth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687255672,"creation_date":1687255672,"answer_id":76513605,"question_id":76371805,"body_markdown":"This worked for me; it removes the excessive logging that MongoDB prints: https://stackoverflow.com/questions/30137564/how-to-disable-mongodb-java-driver-logging","title":"Is there a way to configure log levels for MongoDB&#39;s open connection messages using logback?","body":"<p>This worked for me; it removes the excessive logging that MongoDB prints: <a href=\"https://stackoverflow.com/questions/30137564/how-to-disable-mongodb-java-driver-logging\">How to disable mongoDB java driver logging?</a></p>\n"}],"owner":{"account_id":28717525,"reputation":3,"user_id":21991852,"display_name":"Arsen Ilchyniak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76513605,"answer_count":1,"score":0,"last_activity_date":1687255672,"creation_date":1685523724,"question_id":76371805,"body_markdown":"I have changed configuration of mongodb driver to DEBUG, but it doesnt help. I have tried other options of setting logs too, but it all seems not to work properly.\r\n\r\n```\r\nlogging:\r\n  level:\r\n    root: info\r\n    org.mongodb.driver.connection: debug\r\n\r\n```\r\n\r\nI am getting info logs like this constantly on INFO level:  \r\n```[LOGGG] INFO [MaintenanceTimer-1-thread-1][AnonymousUser] [] org.mongodb.driver.connection: Opened connection [connectionId{localValue:12, serverValue:1403}] to localhost:27017```\r\n\r\nBut with closing connection the logging level is fine:   \r\n```2023-05-19 15:21:07,317 [LOGGG] DEBUG [SpringApplicationShutdownHook][AnonymousUser] [] org.mongodb.driver.connection: Closing connection connectionId{localValue:10, serverValue:1673}```\r\n\r\nI am using `logback` system for logging.\r\n\r\nCan someone tell what is the valid way of changing log level of opening connection as for now?\r\n","title":"Is there a way to configure log levels for MongoDB&#39;s open connection messages using logback?","body":"<p>I have changed configuration of mongodb driver to DEBUG, but it doesnt help. I have tried other options of setting logs too, but it all seems not to work properly.</p>\n<pre><code>logging:\n  level:\n    root: info\n    org.mongodb.driver.connection: debug\n\n</code></pre>\n<p>I am getting info logs like this constantly on INFO level:<br />\n<code>[LOGGG] INFO [MaintenanceTimer-1-thread-1][AnonymousUser] [] org.mongodb.driver.connection: Opened connection [connectionId{localValue:12, serverValue:1403}] to localhost:27017</code></p>\n<p>But with closing connection the logging level is fine:<br />\n<code>2023-05-19 15:21:07,317 [LOGGG] DEBUG [SpringApplicationShutdownHook][AnonymousUser] [] org.mongodb.driver.connection: Closing connection connectionId{localValue:10, serverValue:1673}</code></p>\n<p>I am using <code>logback</code> system for logging.</p>\n<p>Can someone tell what is the valid way of changing log level of opening connection as for now?</p>\n"},{"tags":["java","maven","intellij-idea","nosuchfieldexception","statsig"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687258815,"post_id":76513512,"comment_id":134908407,"body_markdown":"Please check if the problem is reproduced if you launch the project from the command line outside of the IntelliJ IDEA. Possible direction for debugging this problem https://stackoverflow.com/a/6686792/12844632","body":"Please check if the problem is reproduced if you launch the project from the command line outside of the IntelliJ IDEA. Possible direction for debugging this problem <a href=\"https://stackoverflow.com/a/6686792/12844632\">stackoverflow.com/a/6686792/12844632</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1687259145,"post_id":76513512,"comment_id":134908483,"body_markdown":"Mismatch of versions in Pom.xml perhaps?","body":"Mismatch of versions in Pom.xml perhaps?"},{"owner":{"account_id":2610561,"reputation":525,"user_id":2260737,"display_name":"Mussser"},"score":0,"creation_date":1693901999,"post_id":76513512,"comment_id":135817056,"body_markdown":"What does your initialization code look like? (Remove your server key)","body":"What does your initialization code look like? (Remove your server key)"}],"owner":{"account_id":28756255,"reputation":21,"user_id":22023228,"display_name":"Hancy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687255077,"creation_date":1687255077,"question_id":76513512,"body_markdown":"I am using Statsig Library for A/B testing in my JDK17 project.\r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;com.statsig&lt;/groupId&gt;\r\n      &lt;artifactId&gt;serversdk&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.statsig&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ip3country&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhile Debugging the project, I am facing the following error:\r\n\r\n    java.lang.NoSuchFieldError: Companion\r\n\tat com.statsig.sdk.ErrorBoundary.&lt;clinit&gt;(ErrorBoundary.kt:15)\r\n\tat com.statsig.sdk.StatsigServerImpl.&lt;init&gt;(StatsigServer.kt:178)\r\n\tat com.statsig.sdk.StatsigServer$Companion.create(StatsigServer.kt:161)\r\n\tat com.statsig.sdk.Statsig$Companion.initializeAsync(Statsig.kt:341)\r\n\tat com.statsig.sdk.Statsig.initializeAsync(Statsig.kt)\r\n\tat com.ekart.abservice.resources.statsig.StatsigServiceImpl.&lt;init&gt;(StatsigServiceImpl.java:63)\r\n\tat com.ekart.abservice.resources.statsig.StatsigSDK.init(StatsigSDK.java:16)\r\n\tat com.ekart.abservice.resources.ABService.initializeStatsigSDKWithRetries(ABService.java:84)\r\n\tat com.ekart.abservice.resources.ABService.initialize(ABService.java:69)\r\n\tat com.ekart.abservice.resources.ABService.initialize(ABService.java:45)\r\n\tat com.cs.platform.ab.AbServiceWrapper.initAbServiceWrapper(AbServiceWrapper.java:35)\r\n\tat com.cs.platform.PlatformApplication.initialiseABService(PlatformApplication.java:263)\r\n\tat com.cs.platform.PlatformApplication.run(PlatformApplication.java:238)\r\n\tat com.cs.platform.PlatformApplication.run(PlatformApplication.java:80)\r\n\tat io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:43)\r\n\tat io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:87)\r\n\tat io.dropwizard.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.Application.run(Application.java:93)\r\n\tat com.cs.platform.PlatformApplication.main(PlatformApplication.java:113)\r\n\r\nCould you please help me find the issue.","title":"java.lang.NoSuchFieldError :Companion","body":"<p>I am using Statsig Library for A/B testing in my JDK17 project.</p>\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;com.statsig&lt;/groupId&gt;\n  &lt;artifactId&gt;serversdk&lt;/artifactId&gt;\n  &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.statsig&lt;/groupId&gt;\n  &lt;artifactId&gt;ip3country&lt;/artifactId&gt;\n  &lt;version&gt;0.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>While Debugging the project, I am facing the following error:</p>\n<pre><code>java.lang.NoSuchFieldError: Companion\nat com.statsig.sdk.ErrorBoundary.&lt;clinit&gt;(ErrorBoundary.kt:15)\nat com.statsig.sdk.StatsigServerImpl.&lt;init&gt;(StatsigServer.kt:178)\nat com.statsig.sdk.StatsigServer$Companion.create(StatsigServer.kt:161)\nat com.statsig.sdk.Statsig$Companion.initializeAsync(Statsig.kt:341)\nat com.statsig.sdk.Statsig.initializeAsync(Statsig.kt)\nat com.ekart.abservice.resources.statsig.StatsigServiceImpl.&lt;init&gt;(StatsigServiceImpl.java:63)\nat com.ekart.abservice.resources.statsig.StatsigSDK.init(StatsigSDK.java:16)\nat com.ekart.abservice.resources.ABService.initializeStatsigSDKWithRetries(ABService.java:84)\nat com.ekart.abservice.resources.ABService.initialize(ABService.java:69)\nat com.ekart.abservice.resources.ABService.initialize(ABService.java:45)\nat com.cs.platform.ab.AbServiceWrapper.initAbServiceWrapper(AbServiceWrapper.java:35)\nat com.cs.platform.PlatformApplication.initialiseABService(PlatformApplication.java:263)\nat com.cs.platform.PlatformApplication.run(PlatformApplication.java:238)\nat com.cs.platform.PlatformApplication.run(PlatformApplication.java:80)\nat io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:43)\nat io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:87)\nat io.dropwizard.cli.Cli.run(Cli.java:78)\nat io.dropwizard.Application.run(Application.java:93)\nat com.cs.platform.PlatformApplication.main(PlatformApplication.java:113)\n</code></pre>\n<p>Could you please help me find the issue.</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687254186,"post_id":76512705,"comment_id":134907412,"body_markdown":"Printing your `Map` gives `{j=1, a=1, v=1,  =1, i=1, s=1, h=1, e=1, d=1, c=1}`. What is that telling you?","body":"Printing your <code>Map</code> gives <code>{j=1, a=1, v=1,  =1, i=1, s=1, h=1, e=1, d=1, c=1}</code>. What is that telling you?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687259738,"post_id":76512705,"comment_id":134908612,"body_markdown":"@g00se that it&#39;s working? I&#39;m not sure what you&#39;re trying to say","body":"@g00se that it&#39;s working? I&#39;m not sure what you&#39;re trying to say"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687259788,"post_id":76512705,"comment_id":134908623,"body_markdown":"No, I&#39;m wondering what info it&#39;s giving to the user","body":"No, I&#39;m wondering what info it&#39;s giving to the user"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687259867,"post_id":76512705,"comment_id":134908639,"body_markdown":"@g00se I mean, the logical assumption is they wanted a character count. Changing the combinator function to `(e1, e2) -&gt; e1 + e2` would do that. But that&#39;s not the point of either the question or the answer.","body":"@g00se I mean, the logical assumption is they wanted a character count. Changing the combinator function to <code>(e1, e2) -&gt; e1 + e2</code> would do that. But that&#39;s not the point of either the question or the answer."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687260173,"post_id":76512705,"comment_id":134908703,"body_markdown":"&quot;It is working&quot; implies that it *is* giving the required output. I&#39;m just curious as to what that is","body":"&quot;It is working&quot; implies that it <i>is</i> giving the required output. I&#39;m just curious as to what that is"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687249270,"creation_date":1687249270,"answer_id":76512705,"question_id":76512661,"body_markdown":"You have incorrectly declared the type of  `myMap`, which throws off the compiler:\r\n\r\n```\r\n        Map&lt;String, Integer&gt; myMap = myList.stream()\r\n                .collect(Collectors.toMap(Function.identity(), String::length,\r\n                        (e1, e2) -&gt; e2, LinkedHashMap::new));\r\n```\r\n\r\nIn general, the compiler often gives generics-related errors in the wrong place. It can help to separate out all parts, and explicitly typing them. In this case, I extracted the third parameter to a `BinaryOperator&lt;Integer&gt;` variable, which pointed me to the real error.","title":"I do not have idea what am doing wrong. in the below stream api related code snippet","body":"<p>You have incorrectly declared the type of  <code>myMap</code>, which throws off the compiler:</p>\n<pre><code>        Map&lt;String, Integer&gt; myMap = myList.stream()\n                .collect(Collectors.toMap(Function.identity(), String::length,\n                        (e1, e2) -&gt; e2, LinkedHashMap::new));\n</code></pre>\n<p>In general, the compiler often gives generics-related errors in the wrong place. It can help to separate out all parts, and explicitly typing them. In this case, I extracted the third parameter to a <code>BinaryOperator&lt;Integer&gt;</code> variable, which pointed me to the real error.</p>\n"}],"owner":{"account_id":26582287,"reputation":21,"user_id":20206763,"display_name":"mautila registan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76512705,"answer_count":1,"score":0,"last_activity_date":1687254847,"creation_date":1687248929,"question_id":76512661,"body_markdown":"Following is the code that gives me error &quot;Bad return type in lambda expression: U cannot be converted to Integer&quot;. I do not understand why it needs Integer here as the keys are String.\r\n\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        String input=&quot;java is headache&quot;;\r\n        //-1st non repeated char using stream\r\n        String [] arr= input.split(&quot;&quot;);\r\n        List&lt;String&gt; myList= Arrays.asList(arr);\r\n        System.out.println(myList);\r\n\r\n        Map&lt;String ,Long &gt; myMap=myList.stream()\r\n                .collect(toMap(Function.identity(), String::length,\r\n                *(e1, e2) -&gt; e2*, LinkedHashMap::new));\r\n\r\n\r\n\r\n\r\n    }\r\n```\r\nHighlighted area is the piece of code showing as incorrect in the IDE.\r\n","title":"I do not have idea what am doing wrong. in the below stream api related code snippet","body":"<p>Following is the code that gives me error &quot;Bad return type in lambda expression: U cannot be converted to Integer&quot;. I do not understand why it needs Integer here as the keys are String.</p>\n<pre><code>public static void main(String[] args) {\n\n        String input=&quot;java is headache&quot;;\n        //-1st non repeated char using stream\n        String [] arr= input.split(&quot;&quot;);\n        List&lt;String&gt; myList= Arrays.asList(arr);\n        System.out.println(myList);\n\n        Map&lt;String ,Long &gt; myMap=myList.stream()\n                .collect(toMap(Function.identity(), String::length,\n                *(e1, e2) -&gt; e2*, LinkedHashMap::new));\n\n\n\n\n    }\n</code></pre>\n<p>Highlighted area is the piece of code showing as incorrect in the IDE.</p>\n"},{"tags":["java","spring","spring-boot","asynchronous","executorservice"],"owner":{"account_id":26325450,"reputation":1,"user_id":19986838,"display_name":"mj1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687254846,"creation_date":1687254846,"question_id":76513483,"body_markdown":"We have got some legacy applications which are using Mulesoft SOAP implementation for creating Skelton and Stub which I have migrated to Spring Boot and using some other libraries successfully. But we are using Mule VM Connector with in memory queue to post logging data (and on consumer side it uses Spring JDBC template to post logging data to some 3rd party system which we are trying to keep as it is and keep changes minimal). The VM Connector logic is kind of decoupled from original application so to not slow actual SOAP calls and really don&#39;t care if they timeout and are lost in a high volume period.\r\n\r\nSo for this I&#39;m looking into different solution like using some in-memory Message Broker Spring Integration or in-memory Active MQ. or can we use Spring JMS as well?\r\n\r\nOr on other side of using ASYNC call as that&#39;s the main purpose Mulesoft VM connector are fulfilling but can in that case as we are not changing the underlying Java logic which uses Spring JDBC template do we have to think of thread safety?\r\n\r\n\r\n\r\nWhat you think is the best approach, should we use some in-memory Message Broker and which one?\r\nOr should convert to use ASYNC?","title":"Replacing Mulesoft VM Connector (in memory) with Java Spring Open source solution","body":"<p>We have got some legacy applications which are using Mulesoft SOAP implementation for creating Skelton and Stub which I have migrated to Spring Boot and using some other libraries successfully. But we are using Mule VM Connector with in memory queue to post logging data (and on consumer side it uses Spring JDBC template to post logging data to some 3rd party system which we are trying to keep as it is and keep changes minimal). The VM Connector logic is kind of decoupled from original application so to not slow actual SOAP calls and really don't care if they timeout and are lost in a high volume period.</p>\n<p>So for this I'm looking into different solution like using some in-memory Message Broker Spring Integration or in-memory Active MQ. or can we use Spring JMS as well?</p>\n<p>Or on other side of using ASYNC call as that's the main purpose Mulesoft VM connector are fulfilling but can in that case as we are not changing the underlying Java logic which uses Spring JDBC template do we have to think of thread safety?</p>\n<p>What you think is the best approach, should we use some in-memory Message Broker and which one?\nOr should convert to use ASYNC?</p>\n"},{"tags":["java","spring-boot","spring-security","bcrypt"],"answers":[{"comments":[{"owner":{"account_id":26939656,"reputation":11,"user_id":21217530,"display_name":"Ketterle"},"score":1,"creation_date":1687341330,"post_id":76513094,"comment_id":134922197,"body_markdown":"Thank you @AhmedNabil! That was the issue, indeed. Now everything works fine.","body":"Thank you @AhmedNabil! That was the issue, indeed. Now everything works fine."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687343908,"post_id":76513094,"comment_id":134922636,"body_markdown":"@Ketterle always happy to help :) I am currently learning spring security as well (it&#39;s a hell of a project) with so many classes and injections :D","body":"@Ketterle always happy to help :) I am currently learning spring security as well (it&#39;s a hell of a project) with so many classes and injections :D"}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687251976,"creation_date":1687251976,"answer_id":76513094,"question_id":76512932,"body_markdown":"the problem is that you are encoding the password twice, Once in controller and another in service. make it a habit to keep all your business logic in service layer to avoid such bugs in the future.\r\nso the solution is to remove encoding line from AuthController","title":"Bcrypt is generating an invalid password when encoding in Spring boot (Encoded password does not look like BCrypt)","body":"<p>the problem is that you are encoding the password twice, Once in controller and another in service. make it a habit to keep all your business logic in service layer to avoid such bugs in the future.\nso the solution is to remove encoding line from AuthController</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687254752,"creation_date":1687254752,"answer_id":76513468,"question_id":76512932,"body_markdown":"I cannot reproduce the issue using 5.7.8\r\n\r\n        implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-crypto&#39;, version: &#39;5.7.8&#39;\r\n\r\nCode:\r\n\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(new BCryptPasswordEncoder().encode(&quot;sunscreen&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n    $2a$10$t9.627zJ93ekvIZ/QBxV7eg.fl2I1QGOC8sM9vZnX85Ep6GlluY3G\r\n\r\nCheck using https://bcrypt.online/\r\n\r\n[![hash verification][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mPk0S.png","title":"Bcrypt is generating an invalid password when encoding in Spring boot (Encoded password does not look like BCrypt)","body":"<p>I cannot reproduce the issue using 5.7.8</p>\n<pre><code>    implementation group: 'org.springframework.security', name: 'spring-security-crypto', version: '5.7.8'\n</code></pre>\n<p>Code:</p>\n<pre><code>import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\npublic static void main(String[] args) {\n    System.out.println(new BCryptPasswordEncoder().encode(&quot;sunscreen&quot;));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>$2a$10$t9.627zJ93ekvIZ/QBxV7eg.fl2I1QGOC8sM9vZnX85Ep6GlluY3G\n</code></pre>\n<p>Check using <a href=\"https://bcrypt.online/\" rel=\"nofollow noreferrer\">https://bcrypt.online/</a></p>\n<p><a href=\"https://i.stack.imgur.com/mPk0S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPk0S.png\" alt=\"hash verification\" /></a></p>\n"}],"owner":{"account_id":26939656,"reputation":11,"user_id":21217530,"display_name":"Ketterle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687254752,"creation_date":1687251003,"question_id":76512932,"body_markdown":"I&#39;m designing an api REST with register/login funcinality using Spring boot 3.1.0 and Spring Security 6.1 but it seems like bcrypt is not able to generate a proper password. Filters are properly set, but when I encode a password I get an incorrect one.\r\n\r\nConfig class:\r\n\r\n```\r\npackage cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.config;\r\n\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.controllers.PlayerNotFoundException;\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.repositories.PlayerRepositoryMySQL;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    private final PlayerRepositoryMySQL playerRepositoryMySQL;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService () {\r\n        return username -&gt; {\r\n            try {\r\n                return playerRepositoryMySQL.findByEmail(username).orElseThrow(PlayerNotFoundException::new);\r\n            } catch (PlayerNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService());\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\n\r\nService layer:\r\n\r\n```\r\npackage cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.auth;\r\n\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.config.JwtService;\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.controllers.PlayerNotFoundException;\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.domain.Role;\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.repositories.PlayerRepositoryMySQL;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.domain.Player;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n\r\n    private final PlayerRepositoryMySQL playerRepositoryMySQL;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final JwtService jwtService;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n\r\n    public AuthenticationResponse register(RegisterRequest request) {\r\n        Optional&lt;List&lt;Player&gt;&gt; playerRetrievedOptional = playerRepositoryMySQL.getPlayersByName(request.getName());\r\n        if (!playerRetrievedOptional.get().isEmpty() &amp;&amp; (playerRetrievedOptional.get().stream().anyMatch(player -&gt; !player.getName().equals(Player.DEFAULT_NAME)) || playerRetrievedOptional.get().stream().anyMatch(player -&gt; player.getEmail().equals(request.getEmail())))) {\r\n            return null;\r\n        } else {\r\n            var encodedPassword = passwordEncoder.encode(request.getPassword());\r\n            System.out.println(encodedPassword);\r\n            var player = Player.builder()\r\n                    .name(request.getName())\r\n                    .dateOfRegistration(Player.dateSetter())\r\n                    .email(request.getEmail())\r\n                    .password(encodedPassword)\r\n                    .role(Role.USER)\r\n                    .build();\r\n            playerRepositoryMySQL.save(player);\r\n            var jwtToken = jwtService.generateToken(player);\r\n            return AuthenticationResponse.builder()\r\n                    .token(jwtToken)\r\n                    .build();\r\n\r\n        }\r\n    }\r\n\r\n    public AuthenticationResponse authenticate(AuthenticationRequest request) throws PlayerNotFoundException {\r\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\r\n        var player = playerRepositoryMySQL.findByEmail(request.getEmail()).orElseThrow(PlayerNotFoundException::new);\r\n        var jwtToken = jwtService.generateToken(player);\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nController layer:\r\n\r\n```\r\npackage cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.auth;\r\n\r\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.controllers.PlayerNotFoundException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/dicegame/player/auth&quot;)\r\npublic class AuthenticationController {\r\n\r\n    private final AuthenticationService service;\r\n    private final AuthenticationManager authenticationManager;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public AuthenticationController(AuthenticationService service, AuthenticationManager authenticationManager, PasswordEncoder passwordEncoder) {\r\n        this.service = service;\r\n        this.authenticationManager = authenticationManager;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegisterRequest request) {\r\n        String encodedPassword = passwordEncoder.encode(request.getPassword());\r\n        request.setPassword(encodedPassword);\r\n        return ResponseEntity.ok(service.register(request));\r\n    }\r\n\r\n    @PostMapping(&quot;/authenticate&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(@RequestBody AuthenticationRequest request) throws PlayerNotFoundException {\r\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\r\n        return ResponseEntity.ok(service.authenticate(request));\r\n    }\r\n}\r\n```\r\n\r\nFor instance, i&#39;m getting the word &quot;sunscreen&quot; encoded like $2a$10$inwBiCPtEwrK7RZG8zw53OjxdIKiNsMXetMhiYFFvKNVCsTBjUry6, which is not a valid BCrypt. As a consequence, I&#39;m lead to Encoded password does not look like BCrypt error when authenticate method is called.","title":"Bcrypt is generating an invalid password when encoding in Spring boot (Encoded password does not look like BCrypt)","body":"<p>I'm designing an api REST with register/login funcinality using Spring boot 3.1.0 and Spring Security 6.1 but it seems like bcrypt is not able to generate a proper password. Filters are properly set, but when I encode a password I get an incorrect one.</p>\n<p>Config class:</p>\n<pre><code>package cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.config;\n\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.controllers.PlayerNotFoundException;\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.repositories.PlayerRepositoryMySQL;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final PlayerRepositoryMySQL playerRepositoryMySQL;\n\n    @Bean\n    public UserDetailsService userDetailsService () {\n        return username -&gt; {\n            try {\n                return playerRepositoryMySQL.findByEmail(username).orElseThrow(PlayerNotFoundException::new);\n            } catch (PlayerNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>Service layer:</p>\n<pre><code>package cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.auth;\n\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.config.JwtService;\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.controllers.PlayerNotFoundException;\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.domain.Role;\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.repositories.PlayerRepositoryMySQL;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.domain.Player;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n\n    private final PlayerRepositoryMySQL playerRepositoryMySQL;\n    private final PasswordEncoder passwordEncoder;\n    private final JwtService jwtService;\n    private final AuthenticationManager authenticationManager;\n\n\n    public AuthenticationResponse register(RegisterRequest request) {\n        Optional&lt;List&lt;Player&gt;&gt; playerRetrievedOptional = playerRepositoryMySQL.getPlayersByName(request.getName());\n        if (!playerRetrievedOptional.get().isEmpty() &amp;&amp; (playerRetrievedOptional.get().stream().anyMatch(player -&gt; !player.getName().equals(Player.DEFAULT_NAME)) || playerRetrievedOptional.get().stream().anyMatch(player -&gt; player.getEmail().equals(request.getEmail())))) {\n            return null;\n        } else {\n            var encodedPassword = passwordEncoder.encode(request.getPassword());\n            System.out.println(encodedPassword);\n            var player = Player.builder()\n                    .name(request.getName())\n                    .dateOfRegistration(Player.dateSetter())\n                    .email(request.getEmail())\n                    .password(encodedPassword)\n                    .role(Role.USER)\n                    .build();\n            playerRepositoryMySQL.save(player);\n            var jwtToken = jwtService.generateToken(player);\n            return AuthenticationResponse.builder()\n                    .token(jwtToken)\n                    .build();\n\n        }\n    }\n\n    public AuthenticationResponse authenticate(AuthenticationRequest request) throws PlayerNotFoundException {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\n        var player = playerRepositoryMySQL.findByEmail(request.getEmail()).orElseThrow(PlayerNotFoundException::new);\n        var jwtToken = jwtService.generateToken(player);\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n    }\n}\n</code></pre>\n<p>Controller layer:</p>\n<pre><code>package cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.auth;\n\nimport cat.itacademy.barcelonactiva.llombartroma.toni.s05.t02.n01.S05T02N01LlombartRomaToni.controllers.PlayerNotFoundException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/dicegame/player/auth&quot;)\npublic class AuthenticationController {\n\n    private final AuthenticationService service;\n    private final AuthenticationManager authenticationManager;\n    private final PasswordEncoder passwordEncoder;\n\n    public AuthenticationController(AuthenticationService service, AuthenticationManager authenticationManager, PasswordEncoder passwordEncoder) {\n        this.service = service;\n        this.authenticationManager = authenticationManager;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegisterRequest request) {\n        String encodedPassword = passwordEncoder.encode(request.getPassword());\n        request.setPassword(encodedPassword);\n        return ResponseEntity.ok(service.register(request));\n    }\n\n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(@RequestBody AuthenticationRequest request) throws PlayerNotFoundException {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\n        return ResponseEntity.ok(service.authenticate(request));\n    }\n}\n</code></pre>\n<p>For instance, i'm getting the word &quot;sunscreen&quot; encoded like $2a$10$inwBiCPtEwrK7RZG8zw53OjxdIKiNsMXetMhiYFFvKNVCsTBjUry6, which is not a valid BCrypt. As a consequence, I'm lead to Encoded password does not look like BCrypt error when authenticate method is called.</p>\n"},{"tags":["java","circuit-breaker","resilience4j","java-failsafe"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1687190322,"post_id":75681531,"comment_id":134898906,"body_markdown":"Could you please provice the whole example ?","body":"Could you please provice the whole example ?"},{"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"score":0,"creation_date":1687254564,"post_id":75681531,"comment_id":134907489,"body_markdown":"@gstackoverflow above code is enough to create a CB for a URL. can you please tell me what else do you need?","body":"@gstackoverflow above code is enough to create a CB for a URL. can you please tell me what else do you need?"}],"tags":[],"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687254505,"creation_date":1678346731,"answer_id":75681531,"question_id":75240104,"body_markdown":"\r\nAssuming that all your CircuitBreakers will use the same configuration. \r\nyou can create a global config like below.\r\n\r\n \r\n\r\n    public CircuitBreakerConfig defaultConfig(){\r\n        return CircuitBreakerConfig.custom()\r\n              .failureRateThreshold(50)\r\n              .slowCallRateThreshold(50)\r\n              .waitDurationInOpenState(Duration.ofMillis(1000))\r\n              .slowCallDurationThreshold(Duration.ofSeconds(2))\r\n              .permittedNumberOfCallsInHalfOpenState(3)\r\n              .minimumNumberOfCalls(10)\r\n              .slidingWindowType(SlidingWindowType.TIME_BASED)\r\n              .slidingWindowSize(5)\r\n              .recordException(e -&gt; INTERNAL_SERVER_ERROR\r\n                             .equals(getResponse().getStatus()))\r\n              .recordExceptions(IOException.class, TimeoutException.class)\r\n              .ignoreExceptions(BusinessException.class, OtherBusinessException.class)\r\n              .build();\r\n    }   \r\n\r\n \r\n  once you have the config then create a CircuitBreakerRegistry bean with a custom global configuration\r\n\r\n    @Bean\r\n    public CircuitBreakerRegistry cbRegistry(){\r\n          return CircuitBreakerRegistry.of(defaultConfig());\r\n    }\r\n\r\nNow you can get or create a CircuitBreaker with the global configuration with your URL as name using the above created CircuitBreaker Registry\r\n    \r\n    @Autowired\r\n    private CircuitBreakerRegistry circuitBreakerRegistry;\r\n\r\n    public boolean connect(url){\r\n        CircuitBreaker cb = circuitBreakerRegistry.circuitBreaker(url);\r\n        // use this cb to decorate your connection creation code.\r\n        Decorators.ofSupplier(() -&gt; {\r\n            // code to make rest call\r\n            return &quot;&quot;;\r\n        }).withCircuitBreaker(some).decorate().get();\r\n    }\r\n\r\n","title":"How to use circuit breaker based on a method parameter?","body":"<p>Assuming that all your CircuitBreakers will use the same configuration.\nyou can create a global config like below.</p>\n<pre><code>public CircuitBreakerConfig defaultConfig(){\n    return CircuitBreakerConfig.custom()\n          .failureRateThreshold(50)\n          .slowCallRateThreshold(50)\n          .waitDurationInOpenState(Duration.ofMillis(1000))\n          .slowCallDurationThreshold(Duration.ofSeconds(2))\n          .permittedNumberOfCallsInHalfOpenState(3)\n          .minimumNumberOfCalls(10)\n          .slidingWindowType(SlidingWindowType.TIME_BASED)\n          .slidingWindowSize(5)\n          .recordException(e -&gt; INTERNAL_SERVER_ERROR\n                         .equals(getResponse().getStatus()))\n          .recordExceptions(IOException.class, TimeoutException.class)\n          .ignoreExceptions(BusinessException.class, OtherBusinessException.class)\n          .build();\n}   \n</code></pre>\n<p>once you have the config then create a CircuitBreakerRegistry bean with a custom global configuration</p>\n<pre><code>@Bean\npublic CircuitBreakerRegistry cbRegistry(){\n      return CircuitBreakerRegistry.of(defaultConfig());\n}\n</code></pre>\n<p>Now you can get or create a CircuitBreaker with the global configuration with your URL as name using the above created CircuitBreaker Registry</p>\n<pre><code>@Autowired\nprivate CircuitBreakerRegistry circuitBreakerRegistry;\n\npublic boolean connect(url){\n    CircuitBreaker cb = circuitBreakerRegistry.circuitBreaker(url);\n    // use this cb to decorate your connection creation code.\n    Decorators.ofSupplier(() -&gt; {\n        // code to make rest call\n        return &quot;&quot;;\n    }).withCircuitBreaker(some).decorate().get();\n}\n</code></pre>\n"}],"owner":{"account_id":27194678,"reputation":53,"user_id":20727776,"display_name":"Vincent Botteman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687254505,"creation_date":1674682452,"question_id":75240104,"body_markdown":"I have a http client that connects to the same api endpoint on different servers. Which server it connects to, depends on business logic.\r\n\r\nLet&#39;s say the http client method is `connect(url)`. How can I make sure that the circuit breaker takes the url into account? If my http client sends requests to both `url_A` and `url_B` , and server A goes down, then I want that my http client can still send requests to server B.\r\n\r\nDoes Failsafe or Resilience4J support this out-of-the-box?","title":"How to use circuit breaker based on a method parameter?","body":"<p>I have a http client that connects to the same api endpoint on different servers. Which server it connects to, depends on business logic.</p>\n<p>Let's say the http client method is <code>connect(url)</code>. How can I make sure that the circuit breaker takes the url into account? If my http client sends requests to both <code>url_A</code> and <code>url_B</code> , and server A goes down, then I want that my http client can still send requests to server B.</p>\n<p>Does Failsafe or Resilience4J support this out-of-the-box?</p>\n"},{"tags":["java","google-cloud-platform","google-artifact-registry"],"owner":{"account_id":6881879,"reputation":1768,"user_id":5288347,"accept_rate":64,"display_name":"Sviatlana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687254450,"creation_date":1687254450,"question_id":76513426,"body_markdown":"I am using the following library to get docker images metadata from Java app:\r\n\r\n    implementation(&quot;com.google.cloud:google-cloud-containeranalysis:2.20.0&quot;)\r\n\r\nOn the google Artefact Registry side I enabled Vulnerability scanning for the repository: `Scanning: On`\r\nBut when I run this code, the result is always empty:\r\n\r\n    String projectId = &quot;my-project&quot;;\r\n    \r\n            try (ContainerAnalysisClient containerAnalysisClient = ContainerAnalysisClient.create()) {\r\n                ProjectName projectName = ProjectName.of(projectId);\r\n    \r\n                GetVulnerabilityOccurrencesSummaryRequest summaryRequest =\r\n                    GetVulnerabilityOccurrencesSummaryRequest.newBuilder()\r\n                        .setParent(projectName.toString())\r\n                        .build();\r\n    \r\n                VulnerabilityOccurrencesSummary summary =\r\n                    containerAnalysisClient.getVulnerabilityOccurrencesSummary(summaryRequest);\r\n    \r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\nI checked the vulnerability by calling this command:\r\n\r\n    gcloud artifacts docker images describe europe-docker.pkg.dev/my-project/docker/special-octo-sniffle:0.1.28-master.v024c820\r\n   \r\nAnd the result was returned correctly. I got a fully populated description of the image.\r\n\r\nWhy can&#39;t I get the output using ContainerAnalysisClient in Java? I assume the above code must return all the images metadata from the project?\r\nThank you in advance","title":"Get images using google-cloud-containeranalysis","body":"<p>I am using the following library to get docker images metadata from Java app:</p>\n<pre><code>implementation(&quot;com.google.cloud:google-cloud-containeranalysis:2.20.0&quot;)\n</code></pre>\n<p>On the google Artefact Registry side I enabled Vulnerability scanning for the repository: <code>Scanning: On</code>\nBut when I run this code, the result is always empty:</p>\n<pre><code>String projectId = &quot;my-project&quot;;\n\n        try (ContainerAnalysisClient containerAnalysisClient = ContainerAnalysisClient.create()) {\n            ProjectName projectName = ProjectName.of(projectId);\n\n            GetVulnerabilityOccurrencesSummaryRequest summaryRequest =\n                GetVulnerabilityOccurrencesSummaryRequest.newBuilder()\n                    .setParent(projectName.toString())\n                    .build();\n\n            VulnerabilityOccurrencesSummary summary =\n                containerAnalysisClient.getVulnerabilityOccurrencesSummary(summaryRequest);\n\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n<p>I checked the vulnerability by calling this command:</p>\n<pre><code>gcloud artifacts docker images describe europe-docker.pkg.dev/my-project/docker/special-octo-sniffle:0.1.28-master.v024c820\n</code></pre>\n<p>And the result was returned correctly. I got a fully populated description of the image.</p>\n<p>Why can't I get the output using ContainerAnalysisClient in Java? I assume the above code must return all the images metadata from the project?\nThank you in advance</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1114060,"reputation":1976,"user_id":2723001,"accept_rate":62,"display_name":"Alexiy"},"score":1,"creation_date":1472549541,"post_id":39222693,"comment_id":65785164,"body_markdown":"I don&#39;t think there&#39;s an option for that.","body":"I don&#39;t think there&#39;s an option for that."}],"answers":[{"comments":[{"owner":{"account_id":4850320,"reputation":117,"user_id":3912769,"accept_rate":91,"display_name":"Puneet"},"score":1,"creation_date":1472547087,"post_id":39222757,"comment_id":65783535,"body_markdown":"Well I have already created a new scheme under Settings &gt; Editor &gt; Color &amp; Fonts &gt; Font, and changed the font to consolas. But when I open the Javadoc (pressing Ctrl +Q on a method) I don&#39;t think the font is Consolas.","body":"Well I have already created a new scheme under Settings &gt; Editor &gt; Color &amp; Fonts &gt; Font, and changed the font to consolas. But when I open the Javadoc (pressing Ctrl +Q on a method) I don&#39;t think the font is Consolas."}],"tags":[],"owner":{"account_id":2183640,"reputation":5977,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1472546768,"creation_date":1472546768,"answer_id":39222757,"question_id":39222693,"body_markdown":"You can go to \r\n\r\n&gt; Setting &gt; Editor &gt; Colors &amp; Fonts &gt; Java\r\n\r\nHere you can set fonts and colors. You can click on the specific part in the lower part and set the font and colors for this:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/P2XeB.png","title":"Change the javadoc font in intellij","body":"<p>You can go to </p>\n\n<blockquote>\n  <p>Setting > Editor > Colors &amp; Fonts > Java</p>\n</blockquote>\n\n<p>Here you can set fonts and colors. You can click on the specific part in the lower part and set the font and colors for this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P2XeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2XeB.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":[],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687253364,"creation_date":1687253364,"answer_id":76513282,"question_id":39222693,"body_markdown":"It seems impossible for now to change only the font used for the rendered javadoc, but it is possible.\r\n\r\nThe font of the javadoc is the same as the font of the IDE, which you can easily change:\r\n- open the IDE settings (Ctrl+Alt+S), \r\n- go to *Appearance &amp; Behavior*, \r\n- go to *Appearance*, \r\n- check *Use custom font*, and choose a font (like Consolas or JetBrains Mono).\r\n\r\nYour javadoc will use this custom font, but so will do all your IDE. Personally, it doesn&#39;t bother me, so it&#39;s the solution I went with.","title":"Change the javadoc font in intellij","body":"<p>It seems impossible for now to change only the font used for the rendered javadoc, but it is possible.</p>\n<p>The font of the javadoc is the same as the font of the IDE, which you can easily change:</p>\n<ul>\n<li>open the IDE settings (Ctrl+Alt+S),</li>\n<li>go to <em>Appearance &amp; Behavior</em>,</li>\n<li>go to <em>Appearance</em>,</li>\n<li>check <em>Use custom font</em>, and choose a font (like Consolas or JetBrains Mono).</li>\n</ul>\n<p>Your javadoc will use this custom font, but so will do all your IDE. Personally, it doesn't bother me, so it's the solution I went with.</p>\n"}],"owner":{"account_id":4850320,"reputation":117,"user_id":3912769,"accept_rate":91,"display_name":"Puneet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39222757,"answer_count":2,"score":1,"last_activity_date":1687253364,"creation_date":1472546548,"question_id":39222693,"body_markdown":"Does anyone know how to change the Javadoc font type in Intellij Idea? I am very new to Intellij and I don&#39;t find the font very pleasing.","title":"Change the javadoc font in intellij","body":"<p>Does anyone know how to change the Javadoc font type in Intellij Idea? I am very new to Intellij and I don't find the font very pleasing.</p>\n"},{"tags":["java","javafx","background","scrollpane"],"answers":[{"comments":[{"owner":{"account_id":28836135,"reputation":11,"user_id":22085501,"display_name":"Armand"},"score":0,"creation_date":1686996012,"post_id":76493662,"comment_id":134877410,"body_markdown":"I tried it.I can only see partially the background underneath.It&#39;s still white and now it doesn&#39;t scroll at all.","body":"I tried it.I can only see partially the background underneath.It&#39;s still white and now it doesn&#39;t scroll at all."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687018863,"post_id":76493662,"comment_id":134880050,"body_markdown":"@Armand: This complete [example](https://stackoverflow.com/a/73328643/230513) may help you understand; change the scene&#39;s size to see the effect.","body":"@Armand: This complete <a href=\"https://stackoverflow.com/a/73328643/230513\">example</a> may help you understand; change the scene&#39;s size to see the effect."}],"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686950786,"creation_date":1686950786,"answer_id":76493662,"question_id":76492804,"body_markdown":"Your `textPane` object   is overlaping your  background image because textPane has the same size as the scene\r\n \r\ntextPane\r\n\r\n    textPane.setPrefSize(1100, 780);\r\nscene\r\n\r\n    Scene scene1=new Scene(a_pane,1100,780);\r\n\r\nIt&#39;s a design problem . You can delete ` textPane.setPrefSize(1100, 780);`  statement and see the background image underneath\r\n\r\n","title":"Javafx scrollpane","body":"<p>Your <code>textPane</code> object   is overlaping your  background image because textPane has the same size as the scene</p>\n<p>textPane</p>\n<pre><code>textPane.setPrefSize(1100, 780);\n</code></pre>\n<p>scene</p>\n<pre><code>Scene scene1=new Scene(a_pane,1100,780);\n</code></pre>\n<p>It's a design problem . You can delete <code> textPane.setPrefSize(1100, 780);</code>  statement and see the background image underneath</p>\n"}],"owner":{"account_id":28836135,"reputation":11,"user_id":22085501,"display_name":"Armand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687252779,"creation_date":1686940431,"question_id":76492804,"body_markdown":"I have made a button and I need to create a new scene and add a scrollpane to scroll some text when I type the button. But I want to set an image as a background, but for some reason the background is white. Idk how to fix it.\r\n\r\n        bt_about.setOnAction(event -&gt; {\r\n            Text about = new Text();\r\n            ScrollPane textPane = new ScrollPane();\r\n            Image image2 = new Image(&quot;C:/Users/User/Pictures/nightsky.jpg&quot;);\r\n            about.setFont(Font.font(&quot;Georgia&quot;, 50));\r\n            about.setFill(Color.BLACK);\r\n            about.setLayoutY(220);\r\n            about.setLayoutX(290);\r\n\r\n            textPane.setContent(about);\r\n            textPane.setPrefSize(1100, 780);\r\n\r\n            AnchorPane a_pane = new AnchorPane();\r\n            a_pane.getChildren().add(textPane);\r\n\r\n            BackgroundImage bImg = new BackgroundImage(image2,\r\n                    BackgroundRepeat.NO_REPEAT,\r\n                    BackgroundRepeat.NO_REPEAT,\r\n                    BackgroundPosition.DEFAULT,\r\n                    BackgroundSize.DEFAULT\r\n            );\r\n            Background bGround = new Background(bImg);\r\n            a_pane.setBackground(bGround);\r\n\r\n            Scene scene1 = new Scene(a_pane, 1100, 780);\r\n            stage.setScene(scene1);\r\n            stage.show();\r\n        });\r\n\r\n\r\nI tried adding the scrollpane to stackpane and setting the scrollpane background transparent and the stackpane background the image I want. But that didn&#39;t work. I tried using css but that didn&#39;t work either.(Somebody help)","title":"Javafx scrollpane","body":"<p>I have made a button and I need to create a new scene and add a scrollpane to scroll some text when I type the button. But I want to set an image as a background, but for some reason the background is white. Idk how to fix it.</p>\n<pre><code>    bt_about.setOnAction(event -&gt; {\n        Text about = new Text();\n        ScrollPane textPane = new ScrollPane();\n        Image image2 = new Image(&quot;C:/Users/User/Pictures/nightsky.jpg&quot;);\n        about.setFont(Font.font(&quot;Georgia&quot;, 50));\n        about.setFill(Color.BLACK);\n        about.setLayoutY(220);\n        about.setLayoutX(290);\n\n        textPane.setContent(about);\n        textPane.setPrefSize(1100, 780);\n\n        AnchorPane a_pane = new AnchorPane();\n        a_pane.getChildren().add(textPane);\n\n        BackgroundImage bImg = new BackgroundImage(image2,\n                BackgroundRepeat.NO_REPEAT,\n                BackgroundRepeat.NO_REPEAT,\n                BackgroundPosition.DEFAULT,\n                BackgroundSize.DEFAULT\n        );\n        Background bGround = new Background(bImg);\n        a_pane.setBackground(bGround);\n\n        Scene scene1 = new Scene(a_pane, 1100, 780);\n        stage.setScene(scene1);\n        stage.show();\n    });\n</code></pre>\n<p>I tried adding the scrollpane to stackpane and setting the scrollpane background transparent and the stackpane background the image I want. But that didn't work. I tried using css but that didn't work either.(Somebody help)</p>\n"},{"tags":["java","jar","executable-jar"],"answers":[{"comments":[{"owner":{"account_id":708691,"reputation":443,"user_id":608527,"display_name":"vfgjrk"},"score":0,"creation_date":1297186537,"post_id":4936279,"comment_id":5502941,"body_markdown":"@aioobe Can I integrate the System.out in the original program? excuse the question but I&#39;m new in java","body":"@aioobe Can I integrate the System.out in the original program? excuse the question but I&#39;m new in java"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1297186675,"post_id":4936279,"comment_id":5502973,"body_markdown":"Not sure I understand your comment, but you get a `Process` back from `start()` which provides you with `getInputStream` / `getOutputStream`.","body":"Not sure I understand your comment, but you get a <code>Process</code> back from <code>start()</code> which provides you with <code>getInputStream</code> / <code>getOutputStream</code>."},{"owner":{"account_id":708691,"reputation":443,"user_id":608527,"display_name":"vfgjrk"},"score":0,"creation_date":1297187655,"post_id":4936279,"comment_id":5503216,"body_markdown":"Sorry again .. and if I wanted to pass a parameter to the jar as do I?","body":"Sorry again .. and if I wanted to pass a parameter to the jar as do I?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1297187854,"post_id":4936279,"comment_id":5503264,"body_markdown":"You just add more arguments to the `ProcessBulider` constructor: `new ProcessBuilder(&quot;/path/to/java&quot;, &quot;-jar&quot;, &quot;your.jar&quot;, &quot;arg1&quot;, &quot;arg2&quot;);`","body":"You just add more arguments to the <code>ProcessBulider</code> constructor: <code>new ProcessBuilder(&quot;&#47;path&#47;to&#47;java&quot;, &quot;-jar&quot;, &quot;your.jar&quot;, &quot;arg1&quot;, &quot;arg2&quot;);</code>"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":4,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1297186417,"creation_date":1297186417,"answer_id":4936279,"question_id":4936266,"body_markdown":"I suggest you use a [`ProcessBuilder`](http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html) and start a new JVM.\r\n\r\nHere is something to get you started:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;/path/to/java&quot;, &quot;-jar&quot;, &quot;your.jar&quot;);\r\n    pb.directory(new File(&quot;preferred/working/directory&quot;));\r\n    Process p = pb.start();","title":"Execute .jar file from a Java program","body":"<p>I suggest you use a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\"><code>ProcessBuilder</code></a> and start a new JVM.</p>\n\n<p>Here is something to get you started:</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"/path/to/java\", \"-jar\", \"your.jar\");\npb.directory(new File(\"preferred/working/directory\"));\nProcess p = pb.start();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1297188939,"post_id":4936362,"comment_id":5503498,"body_markdown":"Please drag yourself (kicking and screaming - if need be) into the abilities of Java 1.5 &amp; ProcessBuilder.","body":"Please drag yourself (kicking and screaming - if need be) into the abilities of Java 1.5 &amp; ProcessBuilder."},{"owner":{"display_name":"user5066707"},"score":0,"creation_date":1499956508,"post_id":4936362,"comment_id":77139996,"body_markdown":"This solution will do the same as the `ProcessBuilder` one (except if you want to close, etc.), and you need to type less. In my cause I&#39;ll need a launcher that closes itself after opening a jar, so that is enough for me.","body":"This solution will do the same as the <code>ProcessBuilder</code> one (except if you want to close, etc.), and you need to type less. In my cause I&#39;ll need a launcher that closes itself after opening a jar, so that is enough for me."},{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1500030476,"post_id":4936362,"comment_id":77173943,"body_markdown":"Please keep in mind that ProcessBuilder is the now recommended way to invoke a binary and that there are new enhancements coming in java 9: http://www.javaworld.com/article/3176874/java-language/java-9s-other-new-enhancements-part-3.html. There is already an article that discusses the difference between Runtime and ProcessBuilder: https://stackoverflow.com/questions/6856028/difference-between-processbuilder-and-runtime-exec.","body":"Please keep in mind that ProcessBuilder is the now recommended way to invoke a binary and that there are new enhancements coming in java 9: <a href=\"http://www.javaworld.com/article/3176874/java-language/java-9s-other-new-enhancements-part-3.html\" rel=\"nofollow noreferrer\">javaworld.com/article/3176874/java-language/&hellip;</a>. There is already an article that discusses the difference between Runtime and ProcessBuilder: <a href=\"https://stackoverflow.com/questions/6856028/difference-between-processbuilder-and-runtime-exec\" title=\"difference between processbuilder and runtime exec\">stackoverflow.com/questions/6856028/&hellip;</a>."},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1553375077,"post_id":4936362,"comment_id":97363580,"body_markdown":"This approach won&#39;t work if you need to specify working directory. ProcessBuilder helped me (as suggested in the answer above).","body":"This approach won&#39;t work if you need to specify working directory. ProcessBuilder helped me (as suggested in the answer above)."}],"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1297186820,"creation_date":1297186820,"answer_id":4936362,"question_id":4936266,"body_markdown":"First, the description of your problem is a bit unclear. I don&#39;t understand if you want to load the classes from the jar file to use in your application or the jar contains a main file you want to run. I will assume it is the second.\r\n\r\nIf so, you have a lot of options here.\r\nThe simplest one would be the following:\r\n\r\n    String filePath; //where your jar is located.\r\n    Runtime.exec(&quot; java -jar &quot; + filepath);\r\n\r\nVoila...\r\nIf you don&#39;t need to run the jar file but rather load the classes out of it, let me know.","title":"Execute .jar file from a Java program","body":"<p>First, the description of your problem is a bit unclear. I don't understand if you want to load the classes from the jar file to use in your application or the jar contains a main file you want to run. I will assume it is the second.</p>\n\n<p>If so, you have a lot of options here.\nThe simplest one would be the following:</p>\n\n<pre><code>String filePath; //where your jar is located.\nRuntime.exec(\" java -jar \" + filepath);\n</code></pre>\n\n<p>Voila...\nIf you don't need to run the jar file but rather load the classes out of it, let me know.</p>\n"},{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297188058,"creation_date":1297188058,"answer_id":4936560,"question_id":4936266,"body_markdown":"Could something like the following be useful?\r\n\r\nhttp://download.oracle.com/javase/tutorial/deployment/jar/jarclassloader.html","title":"Execute .jar file from a Java program","body":"<p>Could something like the following be useful?</p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/jarclassloader.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/deployment/jar/jarclassloader.html</a></p>\n"},{"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1670415836,"post_id":9127179,"comment_id":131870621,"body_markdown":"NEVER invoke &quot;cmd&quot; when calling an external program! This method is a breach of security! DO NOT USE! (parameters can be monitored with system tools)","body":"NEVER invoke &quot;cmd&quot; when calling an external program! This method is a breach of security! DO NOT USE! (parameters can be monitored with system tools)"}],"tags":[],"owner":{"account_id":390715,"reputation":6107,"user_id":750965,"accept_rate":94,"display_name":"Johnydep"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1328265095,"creation_date":1328265095,"answer_id":9127179,"question_id":4936266,"body_markdown":"Another way to do on windows is:  \r\n  \r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c start jarFile&quot;);\r\n\r\n  \r\n  \r\nthis way you can set priority of your process as well (normal/low/etc)","title":"Execute .jar file from a Java program","body":"<p>Another way to do on windows is:  </p>\n\n<pre><code>Runtime.getRuntime().exec(\"cmd /c start jarFile\");\n</code></pre>\n\n<p>this way you can set priority of your process as well (normal/low/etc)</p>\n"},{"comments":[{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":1,"creation_date":1358432697,"post_id":14380814,"comment_id":20002092,"body_markdown":"The question is how to run the jar file from a program, not how to do it from the command line.","body":"The question is how to run the jar file from a program, not how to do it from the command line."}],"tags":[],"owner":{"account_id":2256234,"reputation":3,"user_id":1987367,"display_name":"venkatram mutyala"},"comment_count":1,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1358431484,"creation_date":1358431484,"answer_id":14380814,"question_id":4936266,"body_markdown":"1) Set the class path from environment variables\r\n\r\n2) Go to the folder where your jar file exists\r\n\r\n3) Run the following commands through command prompt\r\n \r\n   java -jar jarfilename","title":"Execute .jar file from a Java program","body":"<p>1) Set the class path from environment variables</p>\n\n<p>2) Go to the folder where your jar file exists</p>\n\n<p>3) Run the following commands through command prompt</p>\n\n<p>java -jar jarfilename</p>\n"},{"comments":[{"owner":{"account_id":1628903,"reputation":3812,"user_id":1503859,"accept_rate":40,"display_name":"Nitin Mahesh"},"score":2,"creation_date":1484224640,"post_id":19614745,"comment_id":70428035,"body_markdown":"Please use System.err.println(new String(c)); for printing the error messages.","body":"Please use System.err.println(new String(c)); for printing the error messages."}],"tags":[],"owner":{"account_id":3490499,"reputation":639,"user_id":2920308,"display_name":"Anderson Lopes"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1382849623,"creation_date":1382849623,"answer_id":19614745,"question_id":4936266,"body_markdown":"        Process proc = Runtime.getRuntime().exec(&quot;java -jar Validate.jar&quot;);\r\n        proc.waitFor();\r\n        // Then retreive the process output\r\n        InputStream in = proc.getInputStream();\r\n        InputStream err = proc.getErrorStream();\r\n\r\n        byte b[]=new byte[in.available()];\r\n        in.read(b,0,b.length);\r\n        System.out.println(new String(b));\r\n\r\n        byte c[]=new byte[err.available()];\r\n        err.read(c,0,c.length);\r\n        System.out.println(new String(c));\r\n","title":"Execute .jar file from a Java program","body":"<pre><code>    Process proc = Runtime.getRuntime().exec(\"java -jar Validate.jar\");\n    proc.waitFor();\n    // Then retreive the process output\n    InputStream in = proc.getInputStream();\n    InputStream err = proc.getErrorStream();\n\n    byte b[]=new byte[in.available()];\n    in.read(b,0,b.length);\n    System.out.println(new String(b));\n\n    byte c[]=new byte[err.available()];\n    err.read(c,0,c.length);\n    System.out.println(new String(c));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1670415790,"post_id":28470052,"comment_id":131870601,"body_markdown":"This method is a breach of security while calling external programs! DO NOT USE! (parameters can be monitored with system tools)","body":"This method is a breach of security while calling external programs! DO NOT USE! (parameters can be monitored with system tools)"}],"tags":[],"owner":{"account_id":3428021,"reputation":5199,"user_id":2877863,"accept_rate":92,"display_name":"Syeda Zunaira"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423719322,"creation_date":1423719322,"answer_id":28470052,"question_id":4936266,"body_markdown":"You can run a jar file from where ever you want by using only this one line code.\r\n\r\n    \tDesktop.getDesktop().open(new File(&quot;D:/FormsDesktop.jar&quot;));\r\nwhere\r\n\r\n    new File(&quot;your path to jar&quot;)\r\n\r\nHope it helps.\r\n\r\nThanks.","title":"Execute .jar file from a Java program","body":"<p>You can run a jar file from where ever you want by using only this one line code.</p>\n\n<pre><code>    Desktop.getDesktop().open(new File(\"D:/FormsDesktop.jar\"));\n</code></pre>\n\n<p>where</p>\n\n<pre><code>new File(\"your path to jar\")\n</code></pre>\n\n<p>Hope it helps.</p>\n\n<p>Thanks.</p>\n"},{"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1670415893,"post_id":44960733,"comment_id":131870644,"body_markdown":"This one is a great idea! I wonder if it works with RUNNABLE JARs :D","body":"This one is a great idea! I wonder if it works with RUNNABLE JARs :D"}],"tags":[],"owner":{"account_id":10993892,"reputation":11,"user_id":8141694,"display_name":" "},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515060333,"creation_date":1499387134,"answer_id":44960733,"question_id":4936266,"body_markdown":" 1. Add jar library to your project\r\n 2. Import main class (see manifest in jar file)\r\n 3. Invoke static method main with arguments\r\n\r\n    \r\n        String args[] = {&quot;-emaple&quot;,&quot;value&quot;};\r\n        PortMapperStarter.main(args);","title":"Execute .jar file from a Java program","body":"<ol>\n<li>Add jar library to your project</li>\n<li>Import main class (see manifest in jar file)</li>\n<li><p>Invoke static method main with arguments</p>\n\n<pre><code>String args[] = {\"-emaple\",\"value\"};\nPortMapperStarter.main(args);\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1409200,"reputation":3976,"user_id":1336158,"accept_rate":100,"display_name":"Mzzl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552068998,"creation_date":1552068998,"answer_id":55068837,"question_id":4936266,"body_markdown":"To run an executable jar from inside your java application, you can copy the `JarClassLoader` from https://docs.oracle.com/javase/tutorial/deployment/jar/examples/JarClassLoader.java \r\n\r\nUse it like this. In this snippet, `jarUrl` is the URL to download the jar from, for example [file:/tmp/my-jar.jar][1] and args is the array of strings you want to pass as command line arguments to the jar. \r\n\r\n    JarClassLoader loader = new JarClassLoader(jarUrl);\r\n    String main = loader.getMainClassName();\r\n    loader.invokeClass(main, args);\r\n\r\n\r\n  [1]: http://file:/tmp/my-jar.jar\r\n\r\nKeep in mind that you&#39;re now inserting someone else&#39;s binary into your code. If it gets stuck in an infinite loop, your Thread hangs, if it calls System.exit(), your JVM exits. ","title":"Execute .jar file from a Java program","body":"<p>To run an executable jar from inside your java application, you can copy the <code>JarClassLoader</code> from <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/examples/JarClassLoader.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/examples/JarClassLoader.java</a> </p>\n\n<p>Use it like this. In this snippet, <code>jarUrl</code> is the URL to download the jar from, for example <a href=\"http://file:/tmp/my-jar.jar\" rel=\"nofollow noreferrer\">file:/tmp/my-jar.jar</a> and args is the array of strings you want to pass as command line arguments to the jar. </p>\n\n<pre><code>JarClassLoader loader = new JarClassLoader(jarUrl);\nString main = loader.getMainClassName();\nloader.invokeClass(main, args);\n</code></pre>\n\n<p>Keep in mind that you're now inserting someone else's binary into your code. If it gets stuck in an infinite loop, your Thread hangs, if it calls System.exit(), your JVM exits. </p>\n"},{"tags":[],"owner":{"account_id":463465,"reputation":4099,"user_id":866390,"accept_rate":51,"display_name":"Joe Almore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649781741,"creation_date":1649781741,"answer_id":71846364,"question_id":4936266,"body_markdown":"This is my appriach, which I consider is more complete:\r\n\r\n    public static Process exec(String path, String filename) throws IOException {\r\n        String javaHome = System.getProperty(&quot;java.home&quot;);\r\n        String javaBin = javaHome +\r\n                File.separator + &quot;bin&quot; +\r\n                File.separator + &quot;java&quot;;\r\n\r\n        ProcessBuilder pb = new ProcessBuilder(javaBin, &quot;-jar&quot;, path+filename);\r\n        return pb.start();\r\n    }","title":"Execute .jar file from a Java program","body":"<p>This is my appriach, which I consider is more complete:</p>\n<pre><code>public static Process exec(String path, String filename) throws IOException {\n    String javaHome = System.getProperty(&quot;java.home&quot;);\n    String javaBin = javaHome +\n            File.separator + &quot;bin&quot; +\n            File.separator + &quot;java&quot;;\n\n    ProcessBuilder pb = new ProcessBuilder(javaBin, &quot;-jar&quot;, path+filename);\n    return pb.start();\n}\n</code></pre>\n"}],"owner":{"account_id":708691,"reputation":443,"user_id":608527,"display_name":"vfgjrk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96719,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":4936279,"answer_count":10,"score":44,"last_activity_date":1687252515,"creation_date":1297186341,"question_id":4936266,"body_markdown":"How could I run a local jar file from a java program?\r\n\r\nThe jar file is not in the class-path of the Java caller program.\r\n","title":"Execute .jar file from a Java program","body":"<p>How could I run a local jar file from a java program?</p>\n\n<p>The jar file is not in the class-path of the Java caller program.</p>\n"},{"tags":["java","spring","spring-boot","jakarta-ee","properties"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1538410280,"post_id":52594764,"comment_id":92124701,"body_markdown":"Take a look at Spring Cloud Config.","body":"Take a look at Spring Cloud Config."},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":1,"creation_date":1538410320,"post_id":52594764,"comment_id":92124720,"body_markdown":"Personally, I just added/exposed a webservice that could be called instructing the app to reload its properties - so while possibly not a best practice - it worked for me.  It would also minimize resource consumption since it&#39;s not doing any sort of continuous polling.","body":"Personally, I just added/exposed a webservice that could be called instructing the app to reload its properties - so while possibly not a best practice - it worked for me.  It would also minimize resource consumption since it&#39;s not doing any sort of continuous polling."},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1538410396,"post_id":52594764,"comment_id":92124761,"body_markdown":"It&#39;s what I had in mind. I just simplified the question. Thanks!","body":"It&#39;s what I had in mind. I just simplified the question. Thanks!"},{"owner":{"account_id":41777,"reputation":2493,"user_id":121487,"accept_rate":71,"display_name":"Eliseo Ocampos"},"score":0,"creation_date":1538419028,"post_id":52594764,"comment_id":92128529,"body_markdown":"Posible duplicate: https://stackoverflow.com/questions/26150527/how-can-i-reload-properties-file-in-spring-4-using-annotations","body":"Posible duplicate: <a href=\"https://stackoverflow.com/questions/26150527/how-can-i-reload-properties-file-in-spring-4-using-annotations\" title=\"how can i reload properties file in spring 4 using annotations\">stackoverflow.com/questions/26150527/&hellip;</a>"},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1538439345,"post_id":52594764,"comment_id":92135332,"body_markdown":"This question addresses both spring boot and Java ee in a semi conceptual way","body":"This question addresses both spring boot and Java ee in a semi conceptual way"},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":1,"creation_date":1538518613,"post_id":52594764,"comment_id":92168458,"body_markdown":"@BalusC you edited the question as if it&#39;s only a spring boot problem, pointing that it&#39;s not a java SE problem. I wrote Java EE, please, do not edit the question. It&#39;s valid.","body":"@BalusC you edited the question as if it&#39;s only a spring boot problem, pointing that it&#39;s not a java SE problem. I wrote Java EE, please, do not edit the question. It&#39;s valid."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1538563493,"post_id":52594764,"comment_id":92183808,"body_markdown":"Your question is not answerable by a Java SE user. Spring Boot is not part of Java EE, it&#39;s part of Spring.","body":"Your question is not answerable by a Java SE user. Spring Boot is not part of Java EE, it&#39;s part of Spring."},{"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"score":0,"creation_date":1538575620,"post_id":52594764,"comment_id":92191269,"body_markdown":"I would tend to think that has to do more with JavaSE than SpringBoot and/or JavaEE as the probable solution would be a simple JavaSE helper class.","body":"I would tend to think that has to do more with JavaSE than SpringBoot and/or JavaEE as the probable solution would be a simple JavaSE helper class."}],"answers":[{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":1,"creation_date":1545914341,"post_id":52596152,"comment_id":94728995,"body_markdown":"What if we dont want to store the configuration on cloud?","body":"What if we dont want to store the configuration on cloud?"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1545919121,"post_id":52596152,"comment_id":94730928,"body_markdown":"@user666 Where do you want to store it? What are your requirements?","body":"@user666 Where do you want to store it? What are your requirements?"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":7,"creation_date":1545980401,"post_id":52596152,"comment_id":94747747,"body_markdown":"I want to simply reload the application.properties file each time it changed without restarting the application. Example change in the IP of the Database or any other configuration. The file is stored on the server next to Java Jar","body":"I want to simply reload the application.properties file each time it changed without restarting the application. Example change in the IP of the Database or any other configuration. The file is stored on the server next to Java Jar"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1545980491,"post_id":52596152,"comment_id":94747774,"body_markdown":"As instance, if we want to change the actuator password... By the way i was trying to test the refresh endpoint, i am using actuator and spring cloud dependencies, when i call the refresh endpoint from the browser i get: {&quot;timestamp&quot;:&quot;2018-12-28T07:01:17.767+0000&quot;,&quot;status&quot;:405,&quot;error&quot;:&quot;Method Not Allowed&quot;,&quot;message&quot;:&quot;Request method &#39;GET&#39; not supported&quot;,&quot;path&quot;:&quot;/actuator/refresh&quot;}","body":"As instance, if we want to change the actuator password... By the way i was trying to test the refresh endpoint, i am using actuator and spring cloud dependencies, when i call the refresh endpoint from the browser i get: {&quot;timestamp&quot;:&quot;2018-12-28T07:01:17.767+0000&quot;,&quot;status&quot;:405,&quot;er&zwnj;&#8203;ror&quot;:&quot;Method Not Allowed&quot;,&quot;message&quot;:&quot;Request method &#39;GET&#39; not supported&quot;,&quot;path&quot;:&quot;/actuator/refresh&quot;}"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1545980820,"post_id":52596152,"comment_id":94747864,"body_markdown":"I tried using curl and post it gives forbidden access, maybe because i am using spring security with username and password, how can i achieve this?","body":"I tried using curl and post it gives forbidden access, maybe because i am using spring security with username and password, how can i achieve this?"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1545981169,"post_id":52596152,"comment_id":94747950,"body_markdown":"I tried using curl and post it gives forbidden access:\n$ curl -X POST -u user:test http://localhost:8081/actuator/refresh\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   126    0   126    0     0    448      0 --:--:-- --:--:-- --:--:--   448{&quot;timestamp&quot;:&quot;2018-12-28T07:12:09.083+0000&quot;,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;message&quot;:&quot;Forbidden&quot;,&quot;path&quot;:&quot;/actuator/refresh&quot;}","body":"I tried using curl and post it gives forbidden access: $ curl -X POST -u user:test <a href=\"http://localhost:8081/actuator/refresh\" rel=\"nofollow noreferrer\">localhost:8081/actuator/refresh</a>   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current                                  Dload  Upload   Total   Spent    Left  Speed 100   126    0   126    0     0    448      0 --:--:-- --:--:-- --:--:--   448{&quot;timestamp&quot;:&quot;2018-12-28T07:12:09.083+0000&quot;,&quot;status&quot;:403,&zwnj;&#8203;&quot;error&quot;:&quot;Forbidden&quot;,&zwnj;&#8203;&quot;message&quot;:&quot;Forbidden&zwnj;&#8203;&quot;,&quot;path&quot;:&quot;/actuator/&zwnj;&#8203;refresh&quot;}"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":1,"creation_date":1545981564,"post_id":52596152,"comment_id":94748068,"body_markdown":"I fixed refresh issue using https://stackoverflow.com/questions/52299072/whyi-am-getting-403-forbidden-error-for-actuator-refresh-endpoint-on-spring-boo","body":"I fixed refresh issue using <a href=\"https://stackoverflow.com/questions/52299072/whyi-am-getting-403-forbidden-error-for-actuator-refresh-endpoint-on-spring-boo\" title=\"whyi am getting 403 forbidden error for actuator refresh endpoint on spring boo\">stackoverflow.com/questions/52299072/&hellip;</a>"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1545982603,"post_id":52596152,"comment_id":94748353,"body_markdown":"I managed to reload configuration using refresh endpoint however, it does not reload the data source uri for example, it just reload other kind of configuration called in the code programmatically. Any advise on how to reload datasource info?","body":"I managed to reload configuration using refresh endpoint however, it does not reload the data source uri for example, it just reload other kind of configuration called in the code programmatically. Any advise on how to reload datasource info?"},{"owner":{"account_id":3480040,"reputation":180,"user_id":2912358,"accept_rate":62,"display_name":"I2obiN"},"score":0,"creation_date":1649655699,"post_id":52596152,"comment_id":126921663,"body_markdown":"@user666 did you ever get this to work?","body":"@user666 did you ever get this to work?"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":1,"creation_date":1649922487,"post_id":52596152,"comment_id":126998682,"body_markdown":"@I2obiN i ended up using the old way: org.apache.commons.configuration.reloading.FileChangedReloadingStrategy","body":"@I2obiN i ended up using the old way: org.apache.commons.configuration.reloading.FileChangedReload&zwnj;&#8203;ingStrategy"}],"tags":[],"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"comment_count":10,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1636724550,"creation_date":1538415388,"answer_id":52596152,"question_id":52594764,"body_markdown":"This functionality can be achieved by using a [Spring Cloud Config Server][1] and a [refresh scope client][2].\r\n\r\n**Server**\r\n\r\nServer (Spring Boot app) serves the configuration stored, for example, in a Git repository:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigServer\r\n    public class ConfigServer {\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(ConfigServer.class, args);\r\n      }\r\n    }\r\n\r\napplication.yml:\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: git-repository-url-which-stores-configuration.git\r\n\r\nconfiguration file &lt;code&gt;configuration-client.properties&lt;/code&gt; (in a Git repository):\r\n\r\n    configuration.value=Old\r\n\r\n**Client**\r\n\r\nClient (Spring Boot app) reads configuration from the configuration server by using [@RefreshScope][3] annotation:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Component\r\n    @RefreshScope\r\n    public class Foo {\r\n    \r\n        @Value(&quot;${configuration.value}&quot;)\r\n        private String value;\r\n\r\n        ....\r\n    }\r\n\r\nbootstrap.yml:\r\n\r\n    spring:\r\n      application:\r\n        name: configuration-client\r\n      cloud:\r\n        config:\r\n          uri: configuration-server-url\r\n\r\nWhen there is a configuration change in the Git repository:\r\n\r\n    configuration.value=New\r\n\r\nreload the configuration variable by sending a &lt;code&gt;POST&lt;/code&gt; request to the &lt;code&gt;/refresh&lt;/code&gt; endpoint:\r\n\r\n    $ curl -X POST http://client-url/actuator/refresh\r\n\r\nNow you have the new value &lt;code&gt;New&lt;/code&gt;.\r\n\r\n\r\nAdditionally &lt;code&gt;Foo&lt;/code&gt; class can serve the value to the rest of application via &lt;code&gt;RESTful API&lt;/code&gt; if its changed to &lt;code&gt;RestController&lt;/code&gt; and has a corresponding endpont.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_server\r\n  [2]: https://cloud.spring.io/spring-cloud-static/spring-cloud.html#_refresh_scope\r\n  [3]: http://static.javadoc.io/org.springframework.cloud/spring-cloud-commons-parent/1.1.4.RELEASE/org/springframework/cloud/context/config/annotation/RefreshScope.html","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>This functionality can be achieved by using a <a href=\"https://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_server\" rel=\"nofollow noreferrer\">Spring Cloud Config Server</a> and a <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud.html#_refresh_scope\" rel=\"nofollow noreferrer\">refresh scope client</a>.</p>\n<p><strong>Server</strong></p>\n<p>Server (Spring Boot app) serves the configuration stored, for example, in a Git repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigServer\npublic class ConfigServer {\n  public static void main(String[] args) {\n    SpringApplication.run(ConfigServer.class, args);\n  }\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: git-repository-url-which-stores-configuration.git\n</code></pre>\n<p>configuration file <code>configuration-client.properties</code> (in a Git repository):</p>\n<pre><code>configuration.value=Old\n</code></pre>\n<p><strong>Client</strong></p>\n<p>Client (Spring Boot app) reads configuration from the configuration server by using <a href=\"http://static.javadoc.io/org.springframework.cloud/spring-cloud-commons-parent/1.1.4.RELEASE/org/springframework/cloud/context/config/annotation/RefreshScope.html\" rel=\"nofollow noreferrer\">@RefreshScope</a> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RefreshScope\npublic class Foo {\n\n    @Value(&quot;${configuration.value}&quot;)\n    private String value;\n\n    ....\n}\n</code></pre>\n<p>bootstrap.yml:</p>\n<pre><code>spring:\n  application:\n    name: configuration-client\n  cloud:\n    config:\n      uri: configuration-server-url\n</code></pre>\n<p>When there is a configuration change in the Git repository:</p>\n<pre><code>configuration.value=New\n</code></pre>\n<p>reload the configuration variable by sending a <code>POST</code> request to the <code>/refresh</code> endpoint:</p>\n<pre><code>$ curl -X POST http://client-url/actuator/refresh\n</code></pre>\n<p>Now you have the new value <code>New</code>.</p>\n<p>Additionally <code>Foo</code> class can serve the value to the rest of application via <code>RESTful API</code> if its changed to <code>RestController</code> and has a corresponding endpont.</p>\n"},{"tags":[],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1687251961,"creation_date":1538661491,"answer_id":52648630,"question_id":52594764,"body_markdown":"After further research, [reloading properties must be carefully considered][1]. In Spring, for example, we can reload the &#39;current&#39; values of properties without much problem. But, special care must be taken when resources were initialized at the context initialization time based on the values that were present in the application.properties file (e.g. Datasources, connection pools, queues, etc.). \r\n\r\n**NOTE**: \r\n\r\nThe abstract classes used for Spring and Java EE are not the best example of clean code. But it is easy to use and it does address these basic initial requirements:\r\n\r\n- No usage of external libraries other than Java 8 Classes.\r\n- Only one file to solve the problem (~160 lines for the Java EE version).\r\n- Usage of standard Java Properties UTF-8 encoded file available in the File System.\r\n- Support encrypted properties.\r\n\r\n\r\n**For Spring Boot**\r\n\r\nThis code helps with hot-reloading application.properties file without the usage of a Spring Cloud Config server (which may be overkill for some use cases)\r\n\r\nThis abstract class you may just copy &amp; paste (SO goodies :D ) It&#39;s a [code derived from this SO answer][2]\r\n\r\n    // imports from java/spring/lombok\r\n    public abstract class ReloadableProperties {\r\n      \r\n      @Autowired\r\n      protected StandardEnvironment environment;\r\n      private long lastModTime = 0L;\r\n      private Path configPath = null;\r\n      private PropertySource&lt;?&gt; appConfigPropertySource = null;\r\n    \r\n      @PostConstruct\r\n      private void stopIfProblemsCreatingContext() {\r\n        System.out.println(&quot;reloading&quot;);\r\n        MutablePropertySources propertySources = environment.getPropertySources();\r\n        Optional&lt;PropertySource&lt;?&gt;&gt; appConfigPsOp =\r\n            StreamSupport.stream(propertySources.spliterator(), false)\r\n                .filter(ps -&gt; ps.getName().matches(&quot;^.*applicationConfig.*file:.*$&quot;))\r\n                .findFirst();\r\n        if (!appConfigPsOp.isPresent())  {\r\n          // this will stop context initialization \r\n          // (i.e. kill the spring boot program before it initializes)\r\n          throw new RuntimeException(&quot;Unable to find property Source as file&quot;);\r\n        }\r\n        appConfigPropertySource = appConfigPsOp.get();\r\n    \r\n        String filename = appConfigPropertySource.getName();\r\n        filename = filename\r\n            .replace(&quot;applicationConfig: [file:&quot;, &quot;&quot;)\r\n            .replaceAll(&quot;\\\\]$&quot;, &quot;&quot;);\r\n    \r\n        configPath = Paths.get(filename);\r\n    \r\n      }\r\n    \r\n      @Scheduled(fixedRate=2000)\r\n      private void reload() throws IOException {\r\n          System.out.println(&quot;reloading...&quot;);\r\n          long currentModTs = Files.getLastModifiedTime(configPath).toMillis();\r\n          if (currentModTs &gt; lastModTime) {\r\n            lastModTime = currentModTs;\r\n            Properties properties = new Properties();\r\n            @Cleanup InputStream inputStream = Files.newInputStream(configPath);\r\n            properties.load(inputStream);\r\n            environment.getPropertySources()\r\n                .replace(\r\n                    appConfigPropertySource.getName(),\r\n                    new PropertiesPropertySource(\r\n                        appConfigPropertySource.getName(),\r\n                        properties\r\n                    )\r\n                );\r\n            System.out.println(&quot;Reloaded.&quot;);\r\n            propertiesReloaded();\r\n          }\r\n        }\r\n    \r\n        protected abstract void propertiesReloaded();\r\n    }\r\n\r\nThen you make a bean class that allows retrieval of property values from applicatoin.properties that uses the abstract class\r\n\r\n    @Component\r\n    public class AppProperties extends ReloadableProperties {\r\n    \r\n        public String dynamicProperty() {\r\n            return environment.getProperty(&quot;dynamic.prop&quot;);\r\n        }\r\n        public String anotherDynamicProperty() {\r\n            return environment.getProperty(&quot;another.dynamic.prop&quot;);    \r\n        }\r\n        @Override\r\n        protected void propertiesReloaded() {\r\n            // do something after a change in property values was done\r\n        }\r\n    }\r\n\r\nMake sure to add @EnableScheduling to your @SpringBootApplication \r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class MainApp  {\r\n       public static void main(String[] args) {\r\n          SpringApplication.run(MainApp.class, args);\r\n       }\r\n    }\r\n\r\nNow you can **auto-wire** the AppProperties Bean wherever you need it. Just make sure to **always** call the methods in it instead of saving its value in a variable. And make sure to re-configure any resource or bean that was initialized with potentially different property values.\r\n\r\nFor now, I have only tested this with an external-and-default-found `./config/application.properties` file.\r\n\r\n**For Java EE** \r\n\r\nI made a common Java SE abstract class to do the job.\r\n\r\nYou may copy &amp; paste this:\r\n\r\n    // imports from java.* and javax.crypto.*\r\n    public abstract class ReloadableProperties {\r\n    \r\n      private volatile Properties properties = null;\r\n      private volatile String propertiesPassword = null;\r\n      private volatile long lastModTimeOfFile = 0L;\r\n      private volatile long lastTimeChecked = 0L;\r\n      private volatile Path propertyFileAddress;\r\n    \r\n      abstract protected void propertiesUpdated();\r\n    \r\n      public class DynProp {\r\n        private final String propertyName;\r\n        public DynProp(String propertyName) {\r\n          this.propertyName = propertyName;\r\n        }\r\n        public String val() {\r\n          try {\r\n            return ReloadableProperties.this.getString(propertyName);\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n      }\r\n    \r\n      protected void init(Path path) {\r\n        this.propertyFileAddress = path;\r\n        initOrReloadIfNeeded();\r\n      }\r\n    \r\n      private synchronized void initOrReloadIfNeeded() {\r\n        boolean firstTime = lastModTimeOfFile == 0L;\r\n        long currentTs = System.currentTimeMillis();\r\n    \r\n        if ((lastTimeChecked + 3000) &gt; currentTs)\r\n          return;\r\n    \r\n        try {\r\n    \r\n          File fa = propertyFileAddress.toFile();\r\n          long currModTime = fa.lastModified();\r\n          if (currModTime &gt; lastModTimeOfFile) {\r\n            lastModTimeOfFile = currModTime;\r\n            InputStreamReader isr = new InputStreamReader(new FileInputStream(fa), StandardCharsets.UTF_8);\r\n            Properties prop = new Properties();\r\n            prop.load(isr);\r\n            properties = prop;\r\n            isr.close();\r\n            File passwordFiles = new File(fa.getAbsolutePath() + &quot;.key&quot;);\r\n            if (passwordFiles.exists()) {\r\n              byte[] bytes = Files.readAllBytes(passwordFiles.toPath());\r\n              propertiesPassword = new String(bytes,StandardCharsets.US_ASCII);\r\n              propertiesPassword = propertiesPassword.trim();\r\n              propertiesPassword = propertiesPassword.replaceAll(&quot;(\\\\r|\\\\n)&quot;, &quot;&quot;);\r\n            }\r\n          }\r\n    \r\n          updateProperties();\r\n    \r\n          if (!firstTime)\r\n            propertiesUpdated();\r\n    \r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      private void updateProperties() {\r\n        List&lt;DynProp&gt; dynProps = Arrays.asList(this.getClass().getDeclaredFields())\r\n            .stream()\r\n            .filter(f -&gt; f.getType().isAssignableFrom(DynProp.class))\r\n            .map(f-&gt; fromField(f))\r\n            .collect(Collectors.toList());\r\n    \r\n        for (DynProp dp :dynProps) {\r\n          if (!properties.containsKey(dp.propertyName)) {\r\n            System.out.println(&quot;propertyName: &quot;+ dp.propertyName + &quot; does not exist in property file&quot;);\r\n          }\r\n        }\r\n    \r\n        for (Object key : properties.keySet()) {\r\n          if (!dynProps.stream().anyMatch(dp-&gt;dp.propertyName.equals(key.toString()))) {\r\n            System.out.println(&quot;property in file is not used in application: &quot;+ key);\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      private DynProp fromField(Field f) {\r\n        try {\r\n          return (DynProp) f.get(this);\r\n        } catch (IllegalAccessException e) {\r\n          e.printStackTrace();\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      protected String getString(String param) throws Exception {\r\n        initOrReloadIfNeeded();\r\n        String value = properties.getProperty(param);\r\n        if (value.startsWith(&quot;ENC(&quot;)) {\r\n          String cipheredText = value\r\n              .replace(&quot;ENC(&quot;, &quot;&quot;)\r\n              .replaceAll(&quot;\\\\)$&quot;, &quot;&quot;);\r\n          value =  decrypt(cipheredText, propertiesPassword);\r\n        }\r\n        return value;\r\n      }\r\n    \r\n      public static String encrypt(String plainText, String key)\r\n          throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException, InvalidKeySpecException {\r\n        SecureRandom secureRandom = new SecureRandom();\r\n        byte[] keyBytes = key.getBytes(StandardCharsets.US_ASCII);\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        KeySpec spec = new PBEKeySpec(key.toCharArray(), new byte[]{0,1,2,3,4,5,6,7}, 65536, 128);\r\n        SecretKey tmp = factory.generateSecret(spec);\r\n        SecretKey secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n        byte[] iv = new byte[12];\r\n        secureRandom.nextBytes(iv);\r\n        final Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        GCMParameterSpec parameterSpec = new GCMParameterSpec(128, iv); //128 bit auth tag length\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\r\n        byte[] cipherText = cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));\r\n        ByteBuffer byteBuffer = ByteBuffer.allocate(4 + iv.length + cipherText.length);\r\n        byteBuffer.putInt(iv.length);\r\n        byteBuffer.put(iv);\r\n        byteBuffer.put(cipherText);\r\n        byte[] cipherMessage = byteBuffer.array();\r\n        String cyphertext = Base64.getEncoder().encodeToString(cipherMessage);\r\n        return cyphertext;\r\n      }\r\n      public static String decrypt(String cypherText, String key)\r\n          throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException, InvalidKeySpecException {\r\n        byte[] cipherMessage = Base64.getDecoder().decode(cypherText);\r\n        ByteBuffer byteBuffer = ByteBuffer.wrap(cipherMessage);\r\n        int ivLength = byteBuffer.getInt();\r\n        if(ivLength &lt; 12 || ivLength &gt;= 16) { // check input parameter\r\n          throw new IllegalArgumentException(&quot;invalid iv length&quot;);\r\n        }\r\n        byte[] iv = new byte[ivLength];\r\n        byteBuffer.get(iv);\r\n        byte[] cipherText = new byte[byteBuffer.remaining()];\r\n        byteBuffer.get(cipherText);\r\n        byte[] keyBytes = key.getBytes(StandardCharsets.US_ASCII);\r\n        final Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        KeySpec spec = new PBEKeySpec(key.toCharArray(), new byte[]{0,1,2,3,4,5,6,7}, 65536, 128);\r\n        SecretKey tmp = factory.generateSecret(spec);\r\n        SecretKey secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, new GCMParameterSpec(128, iv));\r\n        byte[] plainText= cipher.doFinal(cipherText);\r\n        String plain = new String(plainText, StandardCharsets.UTF_8);\r\n        return plain;\r\n      }\r\n    }\r\n\r\nThen you can use it this way:\r\n\r\n    public class AppProperties extends ReloadableProperties {\r\n    \r\n      public static final AppProperties INSTANCE; static {\r\n        INSTANCE = new AppProperties();\r\n        INSTANCE.init(Paths.get(&quot;application.properties&quot;));\r\n      }\r\n    \r\n    \r\n      @Override\r\n      protected void propertiesUpdated() {\r\n        // run code every time a property is updated\r\n      }\r\n    \r\n      public final DynProp wsUrl = new DynProp(&quot;ws.url&quot;);\r\n      public final DynProp hiddenText = new DynProp(&quot;hidden.text&quot;);\r\n    \r\n    }\r\n\r\nIn case you want to use encoded properties, you may enclose its value inside ENC() and a password for decryption will be searched for in the same path and name of the property file with an added .key extension. In this example, it will look for the password in the application.properties.key file.\r\n\r\napplication.properties -&gt;\r\n\r\n    ws.url=http://some webside\r\n    hidden.text=ENC(AAAADCzaasd9g61MI4l5sbCXrFNaQfQrgkxygNmFa3UuB9Y+YzRuBGYj+A==)\r\n\r\naplication.properties.key -&gt;\r\n\r\n    password aca\r\n\r\n\r\n\r\n\r\nFor the encryption of property values for the Java EE solution, I consulted Patrick Favre-Bulle excellent article on [Symmetric Encryption with AES in Java and Android][3]. Then checked the Cipher, block mode and padding in this SO question about [AES/GCM/NoPadding][4]. And finally, I made the AES bits be derived from a password from @erickson excellent answer in SO about [AES Password Based Encryption][5]. Regarding encryption of value properties in Spring, I think they are integrated with [Java Simplified Encryption][6] \r\n\r\nWhether this qualifies as a best practice may be out of scope. This answer shows how to have reloadable properties in Spring Boot and Java EE.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13248486/39998\r\n  [2]: https://stackoverflow.com/a/40288822/39998\r\n  [3]: https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-7616beaaade9\r\n  [4]: https://stackoverflow.com/questions/31851612/java-aes-gcm-nopadding-what-is-cipher-getiv-giving-me\r\n  [5]: https://stackoverflow.com/a/992413/39998\r\n  [6]: http://jasypt.org","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>After further research, <a href=\"https://stackoverflow.com/a/13248486/39998\">reloading properties must be carefully considered</a>. In Spring, for example, we can reload the 'current' values of properties without much problem. But, special care must be taken when resources were initialized at the context initialization time based on the values that were present in the application.properties file (e.g. Datasources, connection pools, queues, etc.).</p>\n<p><strong>NOTE</strong>:</p>\n<p>The abstract classes used for Spring and Java EE are not the best example of clean code. But it is easy to use and it does address these basic initial requirements:</p>\n<ul>\n<li>No usage of external libraries other than Java 8 Classes.</li>\n<li>Only one file to solve the problem (~160 lines for the Java EE version).</li>\n<li>Usage of standard Java Properties UTF-8 encoded file available in the File System.</li>\n<li>Support encrypted properties.</li>\n</ul>\n<p><strong>For Spring Boot</strong></p>\n<p>This code helps with hot-reloading application.properties file without the usage of a Spring Cloud Config server (which may be overkill for some use cases)</p>\n<p>This abstract class you may just copy &amp; paste (SO goodies :D ) It's a <a href=\"https://stackoverflow.com/a/40288822/39998\">code derived from this SO answer</a></p>\n<pre><code>// imports from java/spring/lombok\npublic abstract class ReloadableProperties {\n  \n  @Autowired\n  protected StandardEnvironment environment;\n  private long lastModTime = 0L;\n  private Path configPath = null;\n  private PropertySource&lt;?&gt; appConfigPropertySource = null;\n\n  @PostConstruct\n  private void stopIfProblemsCreatingContext() {\n    System.out.println(&quot;reloading&quot;);\n    MutablePropertySources propertySources = environment.getPropertySources();\n    Optional&lt;PropertySource&lt;?&gt;&gt; appConfigPsOp =\n        StreamSupport.stream(propertySources.spliterator(), false)\n            .filter(ps -&gt; ps.getName().matches(&quot;^.*applicationConfig.*file:.*$&quot;))\n            .findFirst();\n    if (!appConfigPsOp.isPresent())  {\n      // this will stop context initialization \n      // (i.e. kill the spring boot program before it initializes)\n      throw new RuntimeException(&quot;Unable to find property Source as file&quot;);\n    }\n    appConfigPropertySource = appConfigPsOp.get();\n\n    String filename = appConfigPropertySource.getName();\n    filename = filename\n        .replace(&quot;applicationConfig: [file:&quot;, &quot;&quot;)\n        .replaceAll(&quot;\\\\]$&quot;, &quot;&quot;);\n\n    configPath = Paths.get(filename);\n\n  }\n\n  @Scheduled(fixedRate=2000)\n  private void reload() throws IOException {\n      System.out.println(&quot;reloading...&quot;);\n      long currentModTs = Files.getLastModifiedTime(configPath).toMillis();\n      if (currentModTs &gt; lastModTime) {\n        lastModTime = currentModTs;\n        Properties properties = new Properties();\n        @Cleanup InputStream inputStream = Files.newInputStream(configPath);\n        properties.load(inputStream);\n        environment.getPropertySources()\n            .replace(\n                appConfigPropertySource.getName(),\n                new PropertiesPropertySource(\n                    appConfigPropertySource.getName(),\n                    properties\n                )\n            );\n        System.out.println(&quot;Reloaded.&quot;);\n        propertiesReloaded();\n      }\n    }\n\n    protected abstract void propertiesReloaded();\n}\n</code></pre>\n<p>Then you make a bean class that allows retrieval of property values from applicatoin.properties that uses the abstract class</p>\n<pre><code>@Component\npublic class AppProperties extends ReloadableProperties {\n\n    public String dynamicProperty() {\n        return environment.getProperty(&quot;dynamic.prop&quot;);\n    }\n    public String anotherDynamicProperty() {\n        return environment.getProperty(&quot;another.dynamic.prop&quot;);    \n    }\n    @Override\n    protected void propertiesReloaded() {\n        // do something after a change in property values was done\n    }\n}\n</code></pre>\n<p>Make sure to add @EnableScheduling to your @SpringBootApplication</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class MainApp  {\n   public static void main(String[] args) {\n      SpringApplication.run(MainApp.class, args);\n   }\n}\n</code></pre>\n<p>Now you can <strong>auto-wire</strong> the AppProperties Bean wherever you need it. Just make sure to <strong>always</strong> call the methods in it instead of saving its value in a variable. And make sure to re-configure any resource or bean that was initialized with potentially different property values.</p>\n<p>For now, I have only tested this with an external-and-default-found <code>./config/application.properties</code> file.</p>\n<p><strong>For Java EE</strong></p>\n<p>I made a common Java SE abstract class to do the job.</p>\n<p>You may copy &amp; paste this:</p>\n<pre><code>// imports from java.* and javax.crypto.*\npublic abstract class ReloadableProperties {\n\n  private volatile Properties properties = null;\n  private volatile String propertiesPassword = null;\n  private volatile long lastModTimeOfFile = 0L;\n  private volatile long lastTimeChecked = 0L;\n  private volatile Path propertyFileAddress;\n\n  abstract protected void propertiesUpdated();\n\n  public class DynProp {\n    private final String propertyName;\n    public DynProp(String propertyName) {\n      this.propertyName = propertyName;\n    }\n    public String val() {\n      try {\n        return ReloadableProperties.this.getString(propertyName);\n      } catch (Exception e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n      }\n    }\n  }\n\n  protected void init(Path path) {\n    this.propertyFileAddress = path;\n    initOrReloadIfNeeded();\n  }\n\n  private synchronized void initOrReloadIfNeeded() {\n    boolean firstTime = lastModTimeOfFile == 0L;\n    long currentTs = System.currentTimeMillis();\n\n    if ((lastTimeChecked + 3000) &gt; currentTs)\n      return;\n\n    try {\n\n      File fa = propertyFileAddress.toFile();\n      long currModTime = fa.lastModified();\n      if (currModTime &gt; lastModTimeOfFile) {\n        lastModTimeOfFile = currModTime;\n        InputStreamReader isr = new InputStreamReader(new FileInputStream(fa), StandardCharsets.UTF_8);\n        Properties prop = new Properties();\n        prop.load(isr);\n        properties = prop;\n        isr.close();\n        File passwordFiles = new File(fa.getAbsolutePath() + &quot;.key&quot;);\n        if (passwordFiles.exists()) {\n          byte[] bytes = Files.readAllBytes(passwordFiles.toPath());\n          propertiesPassword = new String(bytes,StandardCharsets.US_ASCII);\n          propertiesPassword = propertiesPassword.trim();\n          propertiesPassword = propertiesPassword.replaceAll(&quot;(\\\\r|\\\\n)&quot;, &quot;&quot;);\n        }\n      }\n\n      updateProperties();\n\n      if (!firstTime)\n        propertiesUpdated();\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  private void updateProperties() {\n    List&lt;DynProp&gt; dynProps = Arrays.asList(this.getClass().getDeclaredFields())\n        .stream()\n        .filter(f -&gt; f.getType().isAssignableFrom(DynProp.class))\n        .map(f-&gt; fromField(f))\n        .collect(Collectors.toList());\n\n    for (DynProp dp :dynProps) {\n      if (!properties.containsKey(dp.propertyName)) {\n        System.out.println(&quot;propertyName: &quot;+ dp.propertyName + &quot; does not exist in property file&quot;);\n      }\n    }\n\n    for (Object key : properties.keySet()) {\n      if (!dynProps.stream().anyMatch(dp-&gt;dp.propertyName.equals(key.toString()))) {\n        System.out.println(&quot;property in file is not used in application: &quot;+ key);\n      }\n    }\n\n  }\n\n  private DynProp fromField(Field f) {\n    try {\n      return (DynProp) f.get(this);\n    } catch (IllegalAccessException e) {\n      e.printStackTrace();\n    }\n    return null;\n  }\n\n  protected String getString(String param) throws Exception {\n    initOrReloadIfNeeded();\n    String value = properties.getProperty(param);\n    if (value.startsWith(&quot;ENC(&quot;)) {\n      String cipheredText = value\n          .replace(&quot;ENC(&quot;, &quot;&quot;)\n          .replaceAll(&quot;\\\\)$&quot;, &quot;&quot;);\n      value =  decrypt(cipheredText, propertiesPassword);\n    }\n    return value;\n  }\n\n  public static String encrypt(String plainText, String key)\n      throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException, InvalidKeySpecException {\n    SecureRandom secureRandom = new SecureRandom();\n    byte[] keyBytes = key.getBytes(StandardCharsets.US_ASCII);\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n    KeySpec spec = new PBEKeySpec(key.toCharArray(), new byte[]{0,1,2,3,4,5,6,7}, 65536, 128);\n    SecretKey tmp = factory.generateSecret(spec);\n    SecretKey secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n    byte[] iv = new byte[12];\n    secureRandom.nextBytes(iv);\n    final Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    GCMParameterSpec parameterSpec = new GCMParameterSpec(128, iv); //128 bit auth tag length\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);\n    byte[] cipherText = cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));\n    ByteBuffer byteBuffer = ByteBuffer.allocate(4 + iv.length + cipherText.length);\n    byteBuffer.putInt(iv.length);\n    byteBuffer.put(iv);\n    byteBuffer.put(cipherText);\n    byte[] cipherMessage = byteBuffer.array();\n    String cyphertext = Base64.getEncoder().encodeToString(cipherMessage);\n    return cyphertext;\n  }\n  public static String decrypt(String cypherText, String key)\n      throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException, InvalidKeySpecException {\n    byte[] cipherMessage = Base64.getDecoder().decode(cypherText);\n    ByteBuffer byteBuffer = ByteBuffer.wrap(cipherMessage);\n    int ivLength = byteBuffer.getInt();\n    if(ivLength &lt; 12 || ivLength &gt;= 16) { // check input parameter\n      throw new IllegalArgumentException(&quot;invalid iv length&quot;);\n    }\n    byte[] iv = new byte[ivLength];\n    byteBuffer.get(iv);\n    byte[] cipherText = new byte[byteBuffer.remaining()];\n    byteBuffer.get(cipherText);\n    byte[] keyBytes = key.getBytes(StandardCharsets.US_ASCII);\n    final Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n    KeySpec spec = new PBEKeySpec(key.toCharArray(), new byte[]{0,1,2,3,4,5,6,7}, 65536, 128);\n    SecretKey tmp = factory.generateSecret(spec);\n    SecretKey secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n    cipher.init(Cipher.DECRYPT_MODE, secretKey, new GCMParameterSpec(128, iv));\n    byte[] plainText= cipher.doFinal(cipherText);\n    String plain = new String(plainText, StandardCharsets.UTF_8);\n    return plain;\n  }\n}\n</code></pre>\n<p>Then you can use it this way:</p>\n<pre><code>public class AppProperties extends ReloadableProperties {\n\n  public static final AppProperties INSTANCE; static {\n    INSTANCE = new AppProperties();\n    INSTANCE.init(Paths.get(&quot;application.properties&quot;));\n  }\n\n\n  @Override\n  protected void propertiesUpdated() {\n    // run code every time a property is updated\n  }\n\n  public final DynProp wsUrl = new DynProp(&quot;ws.url&quot;);\n  public final DynProp hiddenText = new DynProp(&quot;hidden.text&quot;);\n\n}\n</code></pre>\n<p>In case you want to use encoded properties, you may enclose its value inside ENC() and a password for decryption will be searched for in the same path and name of the property file with an added .key extension. In this example, it will look for the password in the application.properties.key file.</p>\n<p>application.properties -&gt;</p>\n<pre><code>ws.url=http://some webside\nhidden.text=ENC(AAAADCzaasd9g61MI4l5sbCXrFNaQfQrgkxygNmFa3UuB9Y+YzRuBGYj+A==)\n</code></pre>\n<p>aplication.properties.key -&gt;</p>\n<pre><code>password aca\n</code></pre>\n<p>For the encryption of property values for the Java EE solution, I consulted Patrick Favre-Bulle excellent article on <a href=\"https://proandroiddev.com/security-best-practices-symmetric-encryption-with-aes-in-java-7616beaaade9\" rel=\"nofollow noreferrer\">Symmetric Encryption with AES in Java and Android</a>. Then checked the Cipher, block mode and padding in this SO question about <a href=\"https://stackoverflow.com/questions/31851612/java-aes-gcm-nopadding-what-is-cipher-getiv-giving-me\">AES/GCM/NoPadding</a>. And finally, I made the AES bits be derived from a password from @erickson excellent answer in SO about <a href=\"https://stackoverflow.com/a/992413/39998\">AES Password Based Encryption</a>. Regarding encryption of value properties in Spring, I think they are integrated with <a href=\"http://jasypt.org\" rel=\"nofollow noreferrer\">Java Simplified Encryption</a></p>\n<p>Whether this qualifies as a best practice may be out of scope. This answer shows how to have reloadable properties in Spring Boot and Java EE.</p>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1579670416,"creation_date":1579670416,"answer_id":59853090,"question_id":52594764,"body_markdown":"I used @David Hofmann concept and made some changes because of not all was good. \r\nFirst of all, in my case I no need auto-reload, I just call the REST controller for updating properties.\r\nThe second case @David Hofmann&#39;s approach not workable for me with outside files. \r\n\r\nNow, this code can work with **application.properties** file from resources(inside the app) and from an outside place. The outside file I put near jar, and I use this  **--spring.config.location=app.properties** argument when the application starts.\r\n\r\n  \r\n    @Component\r\n    public class PropertyReloader { \r\n    private final Logger logger = LoggerFactory.getLogger(getClass());\r\n\r\n    @Autowired\r\n    private StandardEnvironment environment;\r\n    private long lastModTime = 0L;\r\n    private PropertySource&lt;?&gt; appConfigPropertySource = null;\r\n    private Path configPath;\r\n    private static final String PROPERTY_NAME = &quot;app.properties&quot;;\r\n\r\n    @PostConstruct\r\n    private void createContext() {\r\n        MutablePropertySources propertySources = environment.getPropertySources();\r\n        // first of all we check if application started with external file\r\n        String property = &quot;applicationConfig: [file:&quot; + PROPERTY_NAME + &quot;]&quot;;\r\n        PropertySource&lt;?&gt; appConfigPsOp = propertySources.get(property);\r\n        configPath = Paths.get(PROPERTY_NAME).toAbsolutePath();\r\n        if (appConfigPsOp == null) {\r\n           // if not we check properties file from resources folder\r\n            property = &quot;class path resource [&quot; + PROPERTY_NAME + &quot;]&quot;;\r\n            configPath = Paths.get(&quot;src/main/resources/&quot; + PROPERTY_NAME).toAbsolutePath();\r\n        }\r\n        appConfigPsOp = propertySources.get(property);\r\n        appConfigPropertySource = appConfigPsOp;\r\n     }\r\n    // this method I call into REST cintroller for reloading all properties after change \r\n    //  app.properties file\r\n    public void reload() {\r\n        try {\r\n            long currentModTs = Files.getLastModifiedTime(configPath).toMillis();\r\n            if (currentModTs &gt; lastModTime) {\r\n                lastModTime = currentModTs;\r\n                Properties properties = new Properties();\r\n                @Cleanup InputStream inputStream = Files.newInputStream(configPath);\r\n                properties.load(inputStream);\r\n                String property = appConfigPropertySource.getName();\r\n                PropertiesPropertySource updatedProperty = new PropertiesPropertySource(property, properties);\r\n                environment.getPropertySources().replace(property, updatedProperty);\r\n                logger.info(&quot;Configs {} were reloaded&quot;, property);\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Can&#39;t reload config file &quot; + e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nI hope that my approach will help somebody","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>I used @David Hofmann concept and made some changes because of not all was good. \nFirst of all, in my case I no need auto-reload, I just call the REST controller for updating properties.\nThe second case @David Hofmann's approach not workable for me with outside files. </p>\n\n<p>Now, this code can work with <strong>application.properties</strong> file from resources(inside the app) and from an outside place. The outside file I put near jar, and I use this  <strong>--spring.config.location=app.properties</strong> argument when the application starts.</p>\n\n<pre><code>@Component\npublic class PropertyReloader { \nprivate final Logger logger = LoggerFactory.getLogger(getClass());\n\n@Autowired\nprivate StandardEnvironment environment;\nprivate long lastModTime = 0L;\nprivate PropertySource&lt;?&gt; appConfigPropertySource = null;\nprivate Path configPath;\nprivate static final String PROPERTY_NAME = \"app.properties\";\n\n@PostConstruct\nprivate void createContext() {\n    MutablePropertySources propertySources = environment.getPropertySources();\n    // first of all we check if application started with external file\n    String property = \"applicationConfig: [file:\" + PROPERTY_NAME + \"]\";\n    PropertySource&lt;?&gt; appConfigPsOp = propertySources.get(property);\n    configPath = Paths.get(PROPERTY_NAME).toAbsolutePath();\n    if (appConfigPsOp == null) {\n       // if not we check properties file from resources folder\n        property = \"class path resource [\" + PROPERTY_NAME + \"]\";\n        configPath = Paths.get(\"src/main/resources/\" + PROPERTY_NAME).toAbsolutePath();\n    }\n    appConfigPsOp = propertySources.get(property);\n    appConfigPropertySource = appConfigPsOp;\n }\n// this method I call into REST cintroller for reloading all properties after change \n//  app.properties file\npublic void reload() {\n    try {\n        long currentModTs = Files.getLastModifiedTime(configPath).toMillis();\n        if (currentModTs &gt; lastModTime) {\n            lastModTime = currentModTs;\n            Properties properties = new Properties();\n            @Cleanup InputStream inputStream = Files.newInputStream(configPath);\n            properties.load(inputStream);\n            String property = appConfigPropertySource.getName();\n            PropertiesPropertySource updatedProperty = new PropertiesPropertySource(property, properties);\n            environment.getPropertySources().replace(property, updatedProperty);\n            logger.info(\"Configs {} were reloaded\", property);\n        }\n    } catch (Exception e) {\n        logger.error(\"Can't reload config file \" + e);\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I hope that my approach will help somebody</p>\n"},{"tags":[],"owner":{"account_id":1390000,"reputation":780,"user_id":1321050,"accept_rate":67,"display_name":"bLaXjack"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604927078,"creation_date":1604927078,"answer_id":64752228,"question_id":52594764,"body_markdown":"As mentioned by @Boris, Spring Cloud Config is the way to go to avoid patchy solution. To keep the setup minimum, I will suggest the [Embedding the Config Server Approach][1] with native type (file type). \r\n\r\nTo support automatic config refresh without calling the actuator endpoint manually, I have created a directory listener to detect file changes and to dispatch refresh scope event.   \r\n\r\nProof Of Concept repo ([git][2])\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-config/reference/html/#_embedding_the_config_server\r\n  [2]: https://github.com/blackjackyau/spring-config-file-based-auto-reloading","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>As mentioned by @Boris, Spring Cloud Config is the way to go to avoid patchy solution. To keep the setup minimum, I will suggest the <a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/#_embedding_the_config_server\" rel=\"nofollow noreferrer\">Embedding the Config Server Approach</a> with native type (file type).</p>\n<p>To support automatic config refresh without calling the actuator endpoint manually, I have created a directory listener to detect file changes and to dispatch refresh scope event.</p>\n<p>Proof Of Concept repo (<a href=\"https://github.com/blackjackyau/spring-config-file-based-auto-reloading\" rel=\"nofollow noreferrer\">git</a>)</p>\n"},{"tags":[],"owner":{"account_id":11228004,"reputation":99,"user_id":8237072,"display_name":"DHEERAJ KUMAR GUPTA"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625812157,"creation_date":1625811649,"answer_id":68312109,"question_id":52594764,"body_markdown":"If you want to change the properties at realtime and don&#39;t want to restart the server then follow the below steps:\r\n\r\n1). Application.properties\r\n\r\n    app.name= xyz\r\n    management.endpoints.web.exposure.include=*\r\n\r\n2). Add below dependencies in pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n3).Place application.properties in `/target/config` folder. Create the jar in `/target` folder \r\n\r\n4).add a classas below ApplcationProperties.java\r\n\r\n    \r\n    @Component\r\n    @RefreshScope\r\n    @ConfigurationProperties(prefix = &quot;app&quot;)\r\n    public class ApplicationProperties {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    }\r\n\r\n5). Write Controller.java and inject ApplcationProperties\r\n\r\n    @RestController\r\n    public class TestController {\r\n\r\n    @Autowired\r\n    private ApplicationProperties applcationProperties;\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String getString() {\r\n        return applcationProperties.getName();\r\n    }\r\n    }\r\n\r\n6).Run the spring boot application\r\n\r\nCall `localhost:XXXX/test` from your browser\r\n\r\n`Output : xyz`\r\n\r\n7). Change the value in application.properties from xyz to abc\r\n\r\n8). Using postman send a POST request to localhost:XXXX/actuator/refresh\r\n \r\n`response: [&quot;app.name&quot;]`\r\n\r\n9). Call localhost:XXXX/find from your browser\r\n\r\n`Output : abc`","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>If you want to change the properties at realtime and don't want to restart the server then follow the below steps:</p>\n<p>1). Application.properties</p>\n<pre><code>app.name= xyz\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p>2). Add below dependencies in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>3).Place application.properties in <code>/target/config</code> folder. Create the jar in <code>/target</code> folder</p>\n<p>4).add a classas below ApplcationProperties.java</p>\n<pre><code>@Component\n@RefreshScope\n@ConfigurationProperties(prefix = &quot;app&quot;)\npublic class ApplicationProperties {\nprivate String name;\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n<p>5). Write Controller.java and inject ApplcationProperties</p>\n<pre><code>@RestController\npublic class TestController {\n\n@Autowired\nprivate ApplicationProperties applcationProperties;\n\n@GetMapping(&quot;/test&quot;)\npublic String getString() {\n    return applcationProperties.getName();\n}\n}\n</code></pre>\n<p>6).Run the spring boot application</p>\n<p>Call <code>localhost:XXXX/test</code> from your browser</p>\n<p><code>Output : xyz</code></p>\n<p>7). Change the value in application.properties from xyz to abc</p>\n<p>8). Using postman send a POST request to localhost:XXXX/actuator/refresh</p>\n<p><code>response: [&quot;app.name&quot;]</code></p>\n<p>9). Call localhost:XXXX/find from your browser</p>\n<p><code>Output : abc</code></p>\n"},{"tags":[],"owner":{"account_id":15222117,"reputation":133,"user_id":10983729,"display_name":"Satvik Nema"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644776240,"creation_date":1644776240,"answer_id":71103599,"question_id":52594764,"body_markdown":"For spring boot, there&#39;s a really good article on this topic [here][1], but for multiple property files it doesn&#39;t work perfectly. \r\nIn my case I had 2 property files, one non sensitive and one containing the passwords. I proceeded with the following:\r\n    \r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nExtend the spring&#39;s PropertySource so that you can add the reloadable version to the environment.\r\n\r\n    public class ReloadablePropertySource extends PropertySource {\r\n    \r\n        private final PropertiesConfiguration propertiesConfiguration;\r\n    \r\n        public ReloadablePropertySource(String name, String path, ConfigurationListener listener) {\r\n            super(StringUtils.hasText(name) ? name : path);\r\n            try {\r\n                this.propertiesConfiguration = getConfiguration(path, listener);\r\n            } catch (Exception e) {\r\n                throw new MissingRequiredPropertiesException();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Object getProperty(String s) {\r\n            return propertiesConfiguration.getProperty(s);\r\n        }\r\n    \r\n        private PropertiesConfiguration getConfiguration(String path, ConfigurationListener listener) throws ConfigurationException {\r\n            PropertiesConfiguration configuration = new PropertiesConfiguration(path);\r\n            FileChangedReloadingStrategy reloadingStrategy = new FileChangedReloadingStrategy();\r\n            reloadingStrategy.setRefreshDelay(5000);\r\n            configuration.setReloadingStrategy(reloadingStrategy);\r\n            configuration.addConfigurationListener(listener);\r\n            return configuration;\r\n        }\r\n    }\r\n\r\nNow add all of your properties files (now reloadable) inside the spring&#39;s env\r\n\r\n    @Configuration\r\n    public class ReloadablePropertySourceConfig {\r\n    \r\n        private final ConfigurableEnvironment env;\r\n    \r\n        @Value(&quot;${spring.config.location}&quot;)\r\n        private String appConfigPath;\r\n    \r\n        @Value(&quot;${spring.config.additional-location}&quot;)\r\n        private String vaultConfigPath;\r\n    \r\n        public ReloadablePropertySourceConfig(ConfigurableEnvironment env) {\r\n            this.env = env;\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnProperty(name = &quot;spring.config.location&quot;)\r\n        public ReloadablePropertySource getAppConfigReloadablePropertySource(){\r\n            ReloadablePropertySource rps = new ReloadablePropertySource(&quot;dynamicNonSensitive&quot;, appConfigPath, new PropertiesChangeListener());\r\n            MutablePropertySources sources = env.getPropertySources();\r\n            sources.addFirst(rps);\r\n            return rps;\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnProperty(name = &quot;spring.config.additional-location&quot;)\r\n        public ReloadablePropertySource getVaultReloadablePropertySource(){\r\n            ReloadablePropertySource rps = new ReloadablePropertySource(&quot;dynamicVault&quot;, vaultConfigPath, new PropertiesChangeListener());\r\n            MutablePropertySources sources = env.getPropertySources();\r\n            sources.addFirst(rps);\r\n            return rps;\r\n        }\r\n    \r\n        private static class PropertiesChangeListener implements ConfigurationListener{\r\n    \r\n            @Override\r\n            public void configurationChanged(ConfigurationEvent event) {\r\n                if (!event.isBeforeUpdate()){\r\n                    System.out.println(&quot;config refreshed!&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\nFrom the [article][1]\r\n&gt; We&#39;ve added the new property source as the first item because we want it to override any existing property with the same key\r\n\r\nIn our case, we have 2 &quot;reloadable&quot; property sources and both will be looked up first.\r\n\r\nFinally create one more class from which we can access the env&#39;s properties\r\n\r\n    @Component\r\n    public class ConfigProperties {\r\n    \r\n        private final Environment environment;\r\n    \r\n        public ConfigProperties(Environment environment) {\r\n            this.environment = environment;\r\n        }\r\n    \r\n        public String getProperty(String name){\r\n            return environment.getProperty(name);\r\n        }\r\n    }\r\nNow you can autowire ```ConfigProperties``` and always get the latest property in the files without requiring to restart the application.\r\n\r\n    @RestController\r\n    @Slf4j\r\n    public class TestController {\r\n    \r\n        @Autowired\r\n        private ConfigProperties env;\r\n    \r\n        @GetMapping(&quot;/refresh&quot;)\r\n        public String test2() {\r\n            log.info(&quot;hit&quot;);\r\n            String updatedProperty = env.getProperty(&quot;test.property&quot;);\r\n            String password = env.getProperty(&quot;db.password&quot;);\r\n            return updatedProperty + &quot;\\n&quot; + password;\r\n        }\r\n    \r\n    }\r\n\r\nwhere ```test.property``` is coming from 1st file and ```db.password``` is coming from another. \r\n\r\n  [1]: https://www.baeldung.com/spring-reloading-properties","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>For spring boot, there's a really good article on this topic <a href=\"https://www.baeldung.com/spring-reloading-properties\" rel=\"nofollow noreferrer\">here</a>, but for multiple property files it doesn't work perfectly.\nIn my case I had 2 property files, one non sensitive and one containing the passwords. I proceeded with the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n    &lt;version&gt;1.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Extend the spring's PropertySource so that you can add the reloadable version to the environment.</p>\n<pre><code>public class ReloadablePropertySource extends PropertySource {\n\n    private final PropertiesConfiguration propertiesConfiguration;\n\n    public ReloadablePropertySource(String name, String path, ConfigurationListener listener) {\n        super(StringUtils.hasText(name) ? name : path);\n        try {\n            this.propertiesConfiguration = getConfiguration(path, listener);\n        } catch (Exception e) {\n            throw new MissingRequiredPropertiesException();\n        }\n    }\n\n    @Override\n    public Object getProperty(String s) {\n        return propertiesConfiguration.getProperty(s);\n    }\n\n    private PropertiesConfiguration getConfiguration(String path, ConfigurationListener listener) throws ConfigurationException {\n        PropertiesConfiguration configuration = new PropertiesConfiguration(path);\n        FileChangedReloadingStrategy reloadingStrategy = new FileChangedReloadingStrategy();\n        reloadingStrategy.setRefreshDelay(5000);\n        configuration.setReloadingStrategy(reloadingStrategy);\n        configuration.addConfigurationListener(listener);\n        return configuration;\n    }\n}\n</code></pre>\n<p>Now add all of your properties files (now reloadable) inside the spring's env</p>\n<pre><code>@Configuration\npublic class ReloadablePropertySourceConfig {\n\n    private final ConfigurableEnvironment env;\n\n    @Value(&quot;${spring.config.location}&quot;)\n    private String appConfigPath;\n\n    @Value(&quot;${spring.config.additional-location}&quot;)\n    private String vaultConfigPath;\n\n    public ReloadablePropertySourceConfig(ConfigurableEnvironment env) {\n        this.env = env;\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = &quot;spring.config.location&quot;)\n    public ReloadablePropertySource getAppConfigReloadablePropertySource(){\n        ReloadablePropertySource rps = new ReloadablePropertySource(&quot;dynamicNonSensitive&quot;, appConfigPath, new PropertiesChangeListener());\n        MutablePropertySources sources = env.getPropertySources();\n        sources.addFirst(rps);\n        return rps;\n    }\n\n    @Bean\n    @ConditionalOnProperty(name = &quot;spring.config.additional-location&quot;)\n    public ReloadablePropertySource getVaultReloadablePropertySource(){\n        ReloadablePropertySource rps = new ReloadablePropertySource(&quot;dynamicVault&quot;, vaultConfigPath, new PropertiesChangeListener());\n        MutablePropertySources sources = env.getPropertySources();\n        sources.addFirst(rps);\n        return rps;\n    }\n\n    private static class PropertiesChangeListener implements ConfigurationListener{\n\n        @Override\n        public void configurationChanged(ConfigurationEvent event) {\n            if (!event.isBeforeUpdate()){\n                System.out.println(&quot;config refreshed!&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>From the <a href=\"https://www.baeldung.com/spring-reloading-properties\" rel=\"nofollow noreferrer\">article</a></p>\n<blockquote>\n<p>We've added the new property source as the first item because we want it to override any existing property with the same key</p>\n</blockquote>\n<p>In our case, we have 2 &quot;reloadable&quot; property sources and both will be looked up first.</p>\n<p>Finally create one more class from which we can access the env's properties</p>\n<pre><code>@Component\npublic class ConfigProperties {\n\n    private final Environment environment;\n\n    public ConfigProperties(Environment environment) {\n        this.environment = environment;\n    }\n\n    public String getProperty(String name){\n        return environment.getProperty(name);\n    }\n}\n</code></pre>\n<p>Now you can autowire <code>ConfigProperties</code> and always get the latest property in the files without requiring to restart the application.</p>\n<pre><code>@RestController\n@Slf4j\npublic class TestController {\n\n    @Autowired\n    private ConfigProperties env;\n\n    @GetMapping(&quot;/refresh&quot;)\n    public String test2() {\n        log.info(&quot;hit&quot;);\n        String updatedProperty = env.getProperty(&quot;test.property&quot;);\n        String password = env.getProperty(&quot;db.password&quot;);\n        return updatedProperty + &quot;\\n&quot; + password;\n    }\n\n}\n</code></pre>\n<p>where <code>test.property</code> is coming from 1st file and <code>db.password</code> is coming from another.</p>\n"}],"owner":{"account_id":17730,"reputation":5723,"user_id":39998,"accept_rate":73,"display_name":"David Hofmann"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83312,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":52648630,"answer_count":6,"score":38,"last_activity_date":1687251961,"creation_date":1538409328,"question_id":52594764,"body_markdown":"Many in-house solutions come to mind. Like having the properties in a database and poll it every N secs. Then also check the timestamp modification for a .properties file and reload it. \r\n\r\nBut I was looking in Java EE standards and spring boot docs and I can&#39;t seem to find some best way of doing it.\r\n\r\nI need my application to read a properties file(or env. variables or DB parameters), then be able to re-read them. What is the best practice being used in production?\r\n\r\nA correct answer will at least solve one scenario (Spring Boot or Java EE) and provide a conceptual clue on how to make it work on the other","title":"How to hot-reload properties in Java EE and Spring Boot?","body":"<p>Many in-house solutions come to mind. Like having the properties in a database and poll it every N secs. Then also check the timestamp modification for a .properties file and reload it. </p>\n\n<p>But I was looking in Java EE standards and spring boot docs and I can't seem to find some best way of doing it.</p>\n\n<p>I need my application to read a properties file(or env. variables or DB parameters), then be able to re-read them. What is the best practice being used in production?</p>\n\n<p>A correct answer will at least solve one scenario (Spring Boot or Java EE) and provide a conceptual clue on how to make it work on the other</p>\n"},{"tags":["java","intellij-idea","project"],"comments":[{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":5,"creation_date":1544255711,"post_id":18852425,"comment_id":94218588,"body_markdown":"In my case package name was invalid. `int.project.mypackage`. `int` is not allowed in package name.","body":"In my case package name was invalid. <code>int.project.mypackage</code>. <code>int</code> is not allowed in package name."}],"answers":[{"comments":[{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":15,"creation_date":1379427919,"post_id":18852472,"comment_id":27816028,"body_markdown":"If it is your test directory, mark it as the `Test Source Root` (it will appear in green)","body":"If it is your test directory, mark it as the <code>Test Source Root</code> (it will appear in green)"},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":1,"creation_date":1466983962,"post_id":18852472,"comment_id":63528156,"body_markdown":"&#39;Mark Directory As&#39; is not available in the menu of my version of Android, version 2.1. Any workarounds ?","body":"&#39;Mark Directory As&#39; is not available in the menu of my version of Android, version 2.1. Any workarounds ?"},{"owner":{"account_id":2602184,"reputation":611,"user_id":2574228,"accept_rate":50,"display_name":"zkvarz"},"score":5,"creation_date":1478096768,"post_id":18852472,"comment_id":68016587,"body_markdown":"Also, intellj-idea automatically recognize folder as source root when we have structure in such way: **src/main/java**","body":"Also, intellj-idea automatically recognize folder as source root when we have structure in such way: <b>src/main/java</b>"},{"owner":{"account_id":357505,"reputation":1096,"user_id":697711,"display_name":"SpacePrez"},"score":11,"creation_date":1505848554,"post_id":18852472,"comment_id":79578264,"body_markdown":"IntelliJ makes some really questionable design decisions.","body":"IntelliJ makes some really questionable design decisions."},{"owner":{"account_id":2418909,"reputation":2174,"user_id":2112382,"accept_rate":67,"display_name":"vijayraj34"},"score":0,"creation_date":1633694757,"post_id":18852472,"comment_id":122834572,"body_markdown":"Very useful &#128077;&#127996;","body":"Very useful "}],"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"comment_count":5,"down_vote_count":1,"up_vote_count":458,"is_accepted":true,"score":457,"last_activity_date":1379428027,"creation_date":1379427697,"answer_id":18852472,"question_id":18852425,"body_markdown":"The directory or one of the parent directories must be marked as `Source Root` (In this case, it appears in blue).\r\n\r\nIf this is not the case, right click your root source directory -&gt; Mark As -&gt; Source Root.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>The directory or one of the parent directories must be marked as <code>Source Root</code> (In this case, it appears in blue).</p>\n\n<p>If this is not the case, right click your root source directory -> Mark As -> Source Root.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1379427726,"creation_date":1379427726,"answer_id":18852484,"question_id":18852425,"body_markdown":"If you open your module settings (**F4**) you can nominate which paths contain &#39;source&#39;. Intellij will then mark these directories in blue and allow you to add classes etc.\r\n\r\nIn a similar fashion you can highlight test directories for unit tests.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>If you open your module settings (<strong>F4</strong>) you can nominate which paths contain 'source'. Intellij will then mark these directories in blue and allow you to add classes etc.</p>\n\n<p>In a similar fashion you can highlight test directories for unit tests.</p>\n"},{"tags":[],"owner":{"account_id":3888027,"reputation":317,"user_id":3218923,"display_name":"user3218923"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1563870369,"creation_date":1452637469,"answer_id":34754910,"question_id":18852425,"body_markdown":"you need to mark your directory as source root (right click on the parent directory)\r\n\r\nand then compile the plugin (it is important )\r\n\r\nas result you will be able to add classes and more\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DN4hs.png\r\n  [2]: https://i.stack.imgur.com/aahRC.png","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>you need to mark your directory as source root (right click on the parent directory)</p>\n\n<p>and then compile the plugin (it is important )</p>\n\n<p>as result you will be able to add classes and more</p>\n\n<p><a href=\"https://i.stack.imgur.com/DN4hs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DN4hs.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/aahRC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aahRC.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":2747153,"reputation":585,"user_id":2367343,"display_name":"Andrew Grinder"},"score":3,"creation_date":1508813322,"post_id":38359816,"comment_id":80749719,"body_markdown":"This... this worked. Changed the dash to an underscore and it worked immediately.","body":"This... this worked. Changed the dash to an underscore and it worked immediately."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":2,"creation_date":1599376346,"post_id":38359816,"comment_id":112751836,"body_markdown":"I had named a package Enum and that was my issue","body":"I had named a package Enum and that was my issue"},{"owner":{"account_id":3543312,"reputation":1760,"user_id":2959880,"accept_rate":93,"display_name":"Babyburger"},"score":0,"creation_date":1607464212,"post_id":38359816,"comment_id":115280143,"body_markdown":"Thank you! I tried deleting `*.iml` and `.idea`, invalidating caches to no avail...  I was getting convinced that it spotted my python files first (I have two scripts for my `Dockerfile` which happen to be placed first in the project) and decided to mark my whole project as a Python project...","body":"Thank you! I tried deleting <code>*.iml</code> and <code>.idea</code>, invalidating caches to no avail...  I was getting convinced that it spotted my python files first (I have two scripts for my <code>Dockerfile</code> which happen to be placed first in the project) and decided to mark my whole project as a Python project..."},{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1625177616,"post_id":38359816,"comment_id":120565629,"body_markdown":"Just like Arun (lowercase though), I was creating the package name as &quot;enum&quot;. Creating it as &quot;enums&quot; solved the problem. I wish it could show in the New submenu a warning that &quot;enum&quot; (or whatever) is an invalid package name","body":"Just like Arun (lowercase though), I was creating the package name as &quot;enum&quot;. Creating it as &quot;enums&quot; solved the problem. I wish it could show in the New submenu a warning that &quot;enum&quot; (or whatever) is an invalid package name"},{"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"score":1,"creation_date":1634142240,"post_id":38359816,"comment_id":122948481,"body_markdown":"package name cannot contain a reserved keyword. Something like `com.example.package` is not valid nor `com.example.class`.","body":"package name cannot contain a reserved keyword. Something like <code>com.example.package</code> is not valid nor <code>com.example.class</code>."},{"owner":{"account_id":5177315,"reputation":80,"user_id":4143977,"display_name":"Onkar Patil"},"score":1,"creation_date":1645704469,"post_id":38359816,"comment_id":125945363,"body_markdown":"This really helped me, I replaced dash with underscore and solved the problem.","body":"This really helped me, I replaced dash with underscore and solved the problem."},{"owner":{"account_id":10062911,"reputation":1019,"user_id":7438905,"display_name":"Chen Ni"},"score":1,"creation_date":1650540961,"post_id":38359816,"comment_id":127145102,"body_markdown":"Thanks a lot! My package was called &quot;enum&quot; and it works after I changed it to &quot;type&quot;.","body":"Thanks a lot! My package was called &quot;enum&quot; and it works after I changed it to &quot;type&quot;."}],"tags":[],"owner":{"account_id":1432485,"reputation":10153,"user_id":1354590,"accept_rate":100,"display_name":"kuporific"},"comment_count":7,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1468436851,"creation_date":1468436851,"answer_id":38359816,"question_id":18852425,"body_markdown":"This can also happen if your package name is invalid.\r\n\r\nFor example, if your &quot;package&quot; is `com.my-company` (which is not a valid Java package name due to the dash), IntelliJ will prevent you from creating a Java Class in that package.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>This can also happen if your package name is invalid.</p>\n\n<p>For example, if your \"package\" is <code>com.my-company</code> (which is not a valid Java package name due to the dash), IntelliJ will prevent you from creating a Java Class in that package.</p>\n"},{"comments":[{"owner":{"account_id":978493,"reputation":549,"user_id":998832,"display_name":"jacobcs"},"score":2,"creation_date":1515890432,"post_id":38948007,"comment_id":83474070,"body_markdown":"Thanks! this worked. For newbies searching for **Project Structure**, you can find it from **File** menu or press **Ctrl+Alt+Shift+S** in windows.","body":"Thanks! this worked. For newbies searching for <b>Project Structure</b>, you can find it from <b>File</b> menu or press <b>Ctrl+Alt+Shift+S</b> in windows."}],"tags":[],"owner":{"account_id":8892387,"reputation":672,"user_id":6638523,"display_name":"Xian Shu"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1471222575,"creation_date":1471222575,"answer_id":38948007,"question_id":18852425,"body_markdown":"Project Structure-&gt;Modules-&gt;{Your Module}-&gt;Sources-&gt;{Click the folder named java in src/main}-&gt;click the blue button which img is a blue folder,then you should see the right box contains new item(Source Folders).All be done;","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>Project Structure->Modules->{Your Module}->Sources->{Click the folder named java in src/main}->click the blue button which img is a blue folder,then you should see the right box contains new item(Source Folders).All be done;</p>\n"},{"tags":[],"owner":{"account_id":1252595,"reputation":1375,"user_id":1212699,"accept_rate":80,"display_name":"ShatyUT"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473390829,"creation_date":1473390829,"answer_id":39403264,"question_id":18852425,"body_markdown":"Another possible solution is that the project name is not acceptable. For example, creating a project with spaces in the name does not block the project creation but the proper sources are not marked and when those are marked manually, I still was unable to create classes. Recreating the project with hyphens (-) instead of spaces corrected the problem for me.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>Another possible solution is that the project name is not acceptable. For example, creating a project with spaces in the name does not block the project creation but the proper sources are not marked and when those are marked manually, I still was unable to create classes. Recreating the project with hyphens (-) instead of spaces corrected the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":1942859,"reputation":830,"user_id":1748628,"display_name":"Coder Roadie"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1543365488,"creation_date":1543363392,"answer_id":53510111,"question_id":18852425,"body_markdown":"Had this issue too. Invalidating Caches/Restart did the trick for me. Please upvote so the the IntelliJ folks take this more seriously. This gives the IDE a terrible UI/UX experience.\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-203100","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>Had this issue too. Invalidating Caches/Restart did the trick for me. Please upvote so the the IntelliJ folks take this more seriously. This gives the IDE a terrible UI/UX experience.</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-203100\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-203100</a></p>\n"},{"comments":[{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1675089228,"post_id":65031567,"comment_id":132847574,"body_markdown":"Hi Liu Yong. As you say, this is the same reason mentioned in another answer. If you believe that answer could be improved perhaps you can either edit it, or add your reply as a comment on that answer.","body":"Hi Liu Yong. As you say, this is the same reason mentioned in another answer. If you believe that answer could be improved perhaps you can either edit it, or add your reply as a comment on that answer."},{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1675089273,"post_id":65031567,"comment_id":132847589,"body_markdown":"As a result, could I please ask you to delete this answer as IMO it is a duplicate answer","body":"As a result, could I please ask you to delete this answer as IMO it is a duplicate answer"}],"tags":[],"owner":{"account_id":1026639,"reputation":1007,"user_id":1035809,"display_name":"liuyong"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606446084,"creation_date":1606446084,"answer_id":65031567,"question_id":18852425,"body_markdown":"There is another case where &#39;Java Class&#39; don&#39;t show, maybe some reserved words exist in the package name, for example:\r\n\r\n&gt; com.liuyong.package.**case**\r\n&gt;\r\n&gt; com.liuyong.**import**.package\r\n\r\nIt&#39;s the same reason as @kuporific &#39;s answer: the package name is invalid.\r\n","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>There is another case where 'Java Class' don't show, maybe some reserved words exist in the package name, for example:</p>\n<blockquote>\n<p>com.liuyong.package.<strong>case</strong></p>\n<p>com.liuyong.<strong>import</strong>.package</p>\n</blockquote>\n<p>It's the same reason as @kuporific 's answer: the package name is invalid.</p>\n"},{"comments":[{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1611221260,"post_id":65823501,"comment_id":116382372,"body_markdown":"Does this answer respond to the question or answer something else?","body":"Does this answer respond to the question or answer something else?"},{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1611830251,"post_id":65823501,"comment_id":116578572,"body_markdown":"Manoj I&#39;m sure your answer has some substance, but could you add some words to describe what you are trying to communicate in the picture. I cannot immediately see what you are trying to say with the picture.","body":"Manoj I&#39;m sure your answer has some substance, but could you add some words to describe what you are trying to communicate in the picture. I cannot immediately see what you are trying to say with the picture."},{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1675089419,"post_id":65823501,"comment_id":132847648,"body_markdown":"Hi Manoj, the edits look good but, &amp; I could be mistaken, this is an expansion of an existing answer. You are free to edit the previously existing answer. I do like how yours has turned out but as a principle the moderators of this site try to avoid duplication of work (a key computer science goal except I guess in the cloud &#128517;)","body":"Hi Manoj, the edits look good but, &amp; I could be mistaken, this is an expansion of an existing answer. You are free to edit the previously existing answer. I do like how yours has turned out but as a principle the moderators of this site try to avoid duplication of work (a key computer science goal except I guess in the cloud )"},{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1675089797,"post_id":65823501,"comment_id":132847792,"body_markdown":"As the answer looks like a duplicate I&#39;ll need to flag it for closing but I do recommend adding your formatting and image edits to the leading answer as I do think they look good and are an addition. That is, even if the content is a duplicate, the effort could help and be redeemed in other locations","body":"As the answer looks like a duplicate I&#39;ll need to flag it for closing but I do recommend adding your formatting and image edits to the leading answer as I do think they look good and are an addition. That is, even if the content is a duplicate, the effort could help and be redeemed in other locations"},{"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"score":0,"creation_date":1675176013,"post_id":65823501,"comment_id":132869243,"body_markdown":"Hi Manoj, Ive had a think overnight and I think your answer could be instead an edit to the original answer. I like the visual approach. If I get time I&#39;l try to come back and do the edit myself to preserve your work. Thank you for your contributions.","body":"Hi Manoj, Ive had a think overnight and I think your answer could be instead an edit to the original answer. I like the visual approach. If I get time I&#39;l try to come back and do the edit myself to preserve your work. Thank you for your contributions."}],"tags":[],"owner":{"account_id":15036449,"reputation":121,"user_id":11141164,"display_name":"Manoj Reddy Mettu"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614016237,"creation_date":1611217464,"answer_id":65823501,"question_id":18852425,"body_markdown":"Most of the people already gave the answer but this one is just for making someone&#39;s life easier.\r\n\r\nTL;DR\r\n\r\n[![Screenshot of how to add test sources][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4e70h.png\r\n\r\nYou must add the test folder as source.\r\n\r\n1. Right click on java directory under test\r\n2. Mark it as Tests\r\n3. Add src/test/java in Test Source Folders\r\n\r\nThats it, IntelliJ will consider them as test source.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>Most of the people already gave the answer but this one is just for making someone's life easier.</p>\n<p>TL;DR</p>\n<p><a href=\"https://i.stack.imgur.com/4e70h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4e70h.png\" alt=\"Screenshot of how to add test sources\" /></a></p>\n<p>You must add the test folder as source.</p>\n<ol>\n<li>Right click on java directory under test</li>\n<li>Mark it as Tests</li>\n<li>Add src/test/java in Test Source Folders</li>\n</ol>\n<p>Thats it, IntelliJ will consider them as test source.</p>\n"},{"comments":[{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1625177672,"post_id":67396989,"comment_id":120565647,"body_markdown":"Same here with &quot;enum&quot;","body":"Same here with &quot;enum&quot;"},{"owner":{"account_id":53933,"reputation":5581,"user_id":161289,"accept_rate":86,"display_name":"zinking"},"score":0,"creation_date":1676962132,"post_id":67396989,"comment_id":133237206,"body_markdown":"Same `switch` here","body":"Same <code>switch</code> here"}],"tags":[],"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620200286,"creation_date":1620200286,"answer_id":67396989,"question_id":18852425,"body_markdown":"I will share another interesting point. If you try to create a package with the reserved keyword then it will be treated as a normal directory and not a package. I was having this issue where I was creating a package named import and it was converting that to a directory. \r\n\r\n  [![A sample of mine][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NhnWw.png\r\n","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>I will share another interesting point. If you try to create a package with the reserved keyword then it will be treated as a normal directory and not a package. I was having this issue where I was creating a package named import and it was converting that to a directory.</p>\n<p><a href=\"https://i.stack.imgur.com/NhnWw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NhnWw.png\" alt=\"A sample of mine\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7533576,"reputation":81,"user_id":5720772,"display_name":"alphcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623046494,"creation_date":1623046494,"answer_id":67866717,"question_id":18852425,"body_markdown":"Make sure you are not creating a package name which is same as predefined keywords in java like enum, int, long etc.\r\n\r\nIn my case I was trying to create a class under &quot;enum&quot; package. As soon as I changed package name to &quot;enums&quot; I was able to create class in it.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>Make sure you are not creating a package name which is same as predefined keywords in java like enum, int, long etc.</p>\n<p>In my case I was trying to create a class under &quot;enum&quot; package. As soon as I changed package name to &quot;enums&quot; I was able to create class in it.</p>\n"},{"tags":[],"owner":{"account_id":10026387,"reputation":183,"user_id":7414461,"display_name":"vvauban"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645891848,"creation_date":1645891848,"answer_id":71278234,"question_id":18852425,"body_markdown":"If you just created your project, **let IntelliJ finish indexing** your project.","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>If you just created your project, <strong>let IntelliJ finish indexing</strong> your project.</p>\n"},{"tags":[],"owner":{"account_id":1749061,"reputation":559,"user_id":1598592,"accept_rate":60,"display_name":"Taimur"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687251705,"creation_date":1667661831,"answer_id":74329023,"question_id":18852425,"body_markdown":"You need to mark your java directory as Source Root ,\r\n1. Right Click on Java directory\r\n2. Select ***Mark Directory*** as option and click on the sub menu option ***Source Root***\r\n\r\n[![Mark Java directory as Source root][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0ya5a.png","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>You need to mark your java directory as Source Root ,</p>\n<ol>\n<li>Right Click on Java directory</li>\n<li>Select <em><strong>Mark Directory</strong></em> as option and click on the sub menu option <em><strong>Source Root</strong></em></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/0ya5a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ya5a.png\" alt=\"Mark Java directory as Source root\" /></a></p>\n"}],"owner":{"account_id":950913,"reputation":3251,"user_id":977087,"accept_rate":86,"display_name":"Crowie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180126,"favorite_count":0,"down_vote_count":0,"up_vote_count":193,"accepted_answer_id":18852472,"answer_count":13,"score":193,"last_activity_date":1687251705,"creation_date":1379427565,"question_id":18852425,"body_markdown":"We&#39;re creating a new project in IntelliJ and must have something wrong because when we right click on a directory, select *New* and then get the context menu, Java based options are not shown. Currently get things like File, some HTML options, XML options.\r\n\r\nWe have assumed so far it&#39;s something we haven&#39;t configured correctly in the Project/Module configuration. The new module we are talking about is part of a multi module project. We created it using a Maven web archetype.\r\n\r\nAny help configuring the project nature?\r\n\r\n**Edit: The answer is basic:** _&#39;That moment when you realise somethings not working because you haven&#39;t been clicking &#39;Apply&#39;... :) We had a good laugh at ourselves when we discovered this&#39;_","title":"IntelliJ does not show &#39;Class&#39; when we right click and select &#39;New&#39;","body":"<p>We're creating a new project in IntelliJ and must have something wrong because when we right click on a directory, select <em>New</em> and then get the context menu, Java based options are not shown. Currently get things like File, some HTML options, XML options.</p>\n\n<p>We have assumed so far it's something we haven't configured correctly in the Project/Module configuration. The new module we are talking about is part of a multi module project. We created it using a Maven web archetype.</p>\n\n<p>Any help configuring the project nature?</p>\n\n<p><strong>Edit: The answer is basic:</strong> <em>'That moment when you realise somethings not working because you haven't been clicking 'Apply'... :) We had a good laugh at ourselves when we discovered this'</em></p>\n"},{"tags":["java","spring-boot","spring-security","websocket"],"owner":{"account_id":22866153,"reputation":158,"user_id":17009760,"display_name":"Pioter88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687251639,"creation_date":1687251294,"question_id":76512977,"body_markdown":"I&#39;m struggling to override WebSocketSecurity by introducing my own _AuthorizationChannelInterceptor_. I&#39;m not abdle to do so, my requests end up being rejected by default interceptor. **Spring boot 3.0.6**\r\n\r\n#### The default AuthorizationChannelInterceptor:\r\n```\r\npublic final class AuthorizationChannelInterceptor implements ChannelInterceptor {\r\n    private Supplier&lt;Authentication&gt; authentication = this.getAuthentication(SecurityContextHolder.getContextHolderStrategy());\r\n    private final Log logger = LogFactory.getLog(this.getClass());\r\n    private final AuthorizationManager&lt;Message&lt;?&gt;&gt; preSendAuthorizationManager;\r\n    private AuthorizationEventPublisher eventPublisher = new NoopAuthorizationEventPublisher();\r\n\r\n    public AuthorizationChannelInterceptor(AuthorizationManager&lt;Message&lt;?&gt;&gt; preSendAuthorizationManager) {\r\n        Assert.notNull(preSendAuthorizationManager, &quot;preSendAuthorizationManager cannot be null&quot;);\r\n        this.preSendAuthorizationManager = preSendAuthorizationManager;\r\n    }\r\n\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n        this.logger.debug(LogMessage.of(() -&gt; {\r\n            return &quot;Authorizing message send&quot;;\r\n        }));\r\n        AuthorizationDecision decision = this.preSendAuthorizationManager.check(this.authentication, message);\r\n        this.eventPublisher.publishAuthorizationEvent(this.authentication, message, decision);\r\n        if (decision != null &amp;&amp; decision.isGranted()) {\r\n            this.logger.debug(LogMessage.of(() -&gt; {\r\n                return &quot;Authorized message send&quot;;\r\n            }));\r\n            return message;\r\n        } else {\r\n            this.logger.debug(LogMessage.of(() -&gt; {\r\n                return &quot;Failed to authorize message with authorization manager &quot; + this.preSendAuthorizationManager + &quot; and decision &quot; + decision;\r\n            }));\r\n            throw new AccessDeniedException(&quot;Access Denied&quot;);\r\n        }\r\n    }\r\n\r\n...\r\n}\r\n\r\n```\r\n\r\nResulting in exception \r\n```\r\nCaused by: org.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.messaging.access.intercept.AuthorizationChannelInterceptor.preSend(AuthorizationChannelInterceptor.java:74) ~[spring-security-messaging-6.0.3.jar:6.0.3]\r\n\tat org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181) ~[spring-messaging-6.0.8.jar:6.0.8]\r\n\tat org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135) ~[spring-messaging-6.0.8.jar:6.0.8]\r\n\t... 42 common frames omitted\r\n```\r\ntaking place inside `AuthorizationChannelInterceptor.preSend`.  \r\n\r\nTo be even more specific, it rejects my request basing on this:\r\n```\r\n    private boolean isGranted(Authentication authentication) {\r\n        return authentication != null &amp;&amp; authentication.isAuthenticated() &amp;&amp; this.isAuthorized(authentication);\r\n    }\r\n```\r\nWhere authentication is always anonymous\r\n\r\n\r\n ***Can you please advise how to override this? What am I doing wrong here?***\r\n\r\n\r\n\r\n## Below is my basic WebScoketConfig\r\n```\r\npackage com.example.websocketchat.socket;\r\n\r\nimport com.example.websocketchat.stomp_principal.CustomHandshakeHandler;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.messaging.simp.config.ChannelRegistration;\r\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(new AuthChannelInterceptor());\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.setApplicationDestinationPrefixes(&quot;/websocket&quot;);\r\n        config.enableSimpleBroker(&quot;/global&quot;, &quot;/user&quot;);\r\n        config.setUserDestinationPrefix(&quot;/user&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry\r\n                .addEndpoint(&quot;/websocket&quot;)\r\n                .setAllowedOrigins(&quot;http://localhost:5173&quot;)\r\n                .setHandshakeHandler(new CustomHandshakeHandler())\r\n                .withSockJS();\r\n    }\r\n}\r\n```\r\n  \r\n---\r\n## My custom Interceptor, for now just to print things and see if working\r\n```\r\npackage com.example.websocketchat.socket;\r\n\r\nimport org.springframework.messaging.Message;\r\nimport org.springframework.messaging.MessageChannel;\r\nimport org.springframework.messaging.simp.stomp.StompHeaderAccessor;\r\nimport org.springframework.messaging.support.ChannelInterceptor;\r\nimport org.springframework.messaging.support.MessageHeaderAccessor;\r\n\r\npublic class AuthChannelInterceptor implements ChannelInterceptor {\r\n\r\n\r\n  @Override\r\n  public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n    System.out.println(&quot;Message auth interceptor&quot;);\r\n    StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n    assert accessor != null;\r\n    String authorization = accessor.getFirstNativeHeader(&quot;Authorization&quot;);\r\n    System.out.println(authorization);\r\n\r\n    return message;\r\n  }\r\n}\r\n```\r\n---\r\n\r\n## As well as SecurityConfig\r\n```\r\npackage com.example.websocketchat.security;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.boot.autoconfigure.security.servlet.PathRequest;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\r\n\r\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n        http.csrf().ignoringRequestMatchers(&quot;/auth/**&quot;);\r\n        http.csrf().ignoringRequestMatchers(&quot;/chat/**&quot;);\r\n        http.csrf().ignoringRequestMatchers(&quot;/global&quot;);\r\n        http.csrf().ignoringRequestMatchers(&quot;/global/**&quot;);\r\n        http.csrf().ignoringRequestMatchers(&quot;/user/**&quot;);\r\n\r\n        http.headers().frameOptions().sameOrigin();\r\n        http.sessionManagement().sessionCreationPolicy(STATELESS);\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(PathRequest.toH2Console()).permitAll()\r\n        );\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/admin-panel/**&quot;).hasAuthority(&quot;ADMIN&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/csrf-token&quot;).hasAuthority(&quot;USER&quot;);\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/websocket/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/chat/**&quot;).permitAll();\r\n        http.authorizeHttpRequests().anyRequest().denyAll();\r\n\r\n        http.authenticationProvider(authenticationProvider);\r\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n---\r\n## POM.XML\r\n  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;websocket-chat&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;websocket-chat&lt;/name&gt;\r\n    &lt;description&gt;websocket-chat&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"WebSocketMessageBrokerConfigurer configureClientInboundChannel doenst register interceptor","body":"<p>I'm struggling to override WebSocketSecurity by introducing my own <em>AuthorizationChannelInterceptor</em>. I'm not abdle to do so, my requests end up being rejected by default interceptor. <strong>Spring boot 3.0.6</strong></p>\n<h4>The default AuthorizationChannelInterceptor:</h4>\n<pre><code>public final class AuthorizationChannelInterceptor implements ChannelInterceptor {\n    private Supplier&lt;Authentication&gt; authentication = this.getAuthentication(SecurityContextHolder.getContextHolderStrategy());\n    private final Log logger = LogFactory.getLog(this.getClass());\n    private final AuthorizationManager&lt;Message&lt;?&gt;&gt; preSendAuthorizationManager;\n    private AuthorizationEventPublisher eventPublisher = new NoopAuthorizationEventPublisher();\n\n    public AuthorizationChannelInterceptor(AuthorizationManager&lt;Message&lt;?&gt;&gt; preSendAuthorizationManager) {\n        Assert.notNull(preSendAuthorizationManager, &quot;preSendAuthorizationManager cannot be null&quot;);\n        this.preSendAuthorizationManager = preSendAuthorizationManager;\n    }\n\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n        this.logger.debug(LogMessage.of(() -&gt; {\n            return &quot;Authorizing message send&quot;;\n        }));\n        AuthorizationDecision decision = this.preSendAuthorizationManager.check(this.authentication, message);\n        this.eventPublisher.publishAuthorizationEvent(this.authentication, message, decision);\n        if (decision != null &amp;&amp; decision.isGranted()) {\n            this.logger.debug(LogMessage.of(() -&gt; {\n                return &quot;Authorized message send&quot;;\n            }));\n            return message;\n        } else {\n            this.logger.debug(LogMessage.of(() -&gt; {\n                return &quot;Failed to authorize message with authorization manager &quot; + this.preSendAuthorizationManager + &quot; and decision &quot; + decision;\n            }));\n            throw new AccessDeniedException(&quot;Access Denied&quot;);\n        }\n    }\n\n...\n}\n\n</code></pre>\n<p>Resulting in exception</p>\n<pre><code>Caused by: org.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.messaging.access.intercept.AuthorizationChannelInterceptor.preSend(AuthorizationChannelInterceptor.java:74) ~[spring-security-messaging-6.0.3.jar:6.0.3]\n    at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181) ~[spring-messaging-6.0.8.jar:6.0.8]\n    at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135) ~[spring-messaging-6.0.8.jar:6.0.8]\n    ... 42 common frames omitted\n</code></pre>\n<p>taking place inside <code>AuthorizationChannelInterceptor.preSend</code>.</p>\n<p>To be even more specific, it rejects my request basing on this:</p>\n<pre><code>    private boolean isGranted(Authentication authentication) {\n        return authentication != null &amp;&amp; authentication.isAuthenticated() &amp;&amp; this.isAuthorized(authentication);\n    }\n</code></pre>\n<p>Where authentication is always anonymous</p>\n<p><em><strong>Can you please advise how to override this? What am I doing wrong here?</strong></em></p>\n<h2>Below is my basic WebScoketConfig</h2>\n<pre><code>package com.example.websocketchat.socket;\n\nimport com.example.websocketchat.stomp_principal.CustomHandshakeHandler;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.ChannelRegistration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(new AuthChannelInterceptor());\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.setApplicationDestinationPrefixes(&quot;/websocket&quot;);\n        config.enableSimpleBroker(&quot;/global&quot;, &quot;/user&quot;);\n        config.setUserDestinationPrefix(&quot;/user&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry\n                .addEndpoint(&quot;/websocket&quot;)\n                .setAllowedOrigins(&quot;http://localhost:5173&quot;)\n                .setHandshakeHandler(new CustomHandshakeHandler())\n                .withSockJS();\n    }\n}\n</code></pre>\n<hr />\n<h2>My custom Interceptor, for now just to print things and see if working</h2>\n<pre><code>package com.example.websocketchat.socket;\n\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.MessageChannel;\nimport org.springframework.messaging.simp.stomp.StompHeaderAccessor;\nimport org.springframework.messaging.support.ChannelInterceptor;\nimport org.springframework.messaging.support.MessageHeaderAccessor;\n\npublic class AuthChannelInterceptor implements ChannelInterceptor {\n\n\n  @Override\n  public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n    System.out.println(&quot;Message auth interceptor&quot;);\n    StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n    assert accessor != null;\n    String authorization = accessor.getFirstNativeHeader(&quot;Authorization&quot;);\n    System.out.println(authorization);\n\n    return message;\n  }\n}\n</code></pre>\n<hr />\n<h2>As well as SecurityConfig</h2>\n<pre><code>package com.example.websocketchat.security;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.boot.autoconfigure.security.servlet.PathRequest;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\n\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\n\n@Configuration\n@EnableWebSecurity\n@AllArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n        http.csrf().ignoringRequestMatchers(&quot;/auth/**&quot;);\n        http.csrf().ignoringRequestMatchers(&quot;/chat/**&quot;);\n        http.csrf().ignoringRequestMatchers(&quot;/global&quot;);\n        http.csrf().ignoringRequestMatchers(&quot;/global/**&quot;);\n        http.csrf().ignoringRequestMatchers(&quot;/user/**&quot;);\n\n        http.headers().frameOptions().sameOrigin();\n        http.sessionManagement().sessionCreationPolicy(STATELESS);\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(PathRequest.toH2Console()).permitAll()\n        );\n        http.authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(&quot;/admin-panel/**&quot;).hasAuthority(&quot;ADMIN&quot;);\n        http.authorizeHttpRequests().requestMatchers(&quot;/csrf-token&quot;).hasAuthority(&quot;USER&quot;);\n        http.authorizeHttpRequests().requestMatchers(&quot;/websocket/**&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(&quot;/chat/**&quot;).permitAll();\n        http.authorizeHttpRequests().anyRequest().denyAll();\n\n        http.authenticationProvider(authenticationProvider);\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<hr />\n<h2>POM.XML</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;websocket-chat&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;websocket-chat&lt;/name&gt;\n    &lt;description&gt;websocket-chat&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","swing","web","applet","web-deployment"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1586641395,"post_id":61164047,"comment_id":108203731,"body_markdown":"My  &quot;updated&quot; answer is: *don&#39;t*. Best to use the best and most up-to-date technology available, and Swing GUI&#39;s are not it. For my money, I&#39;d go with JavaScript/CSS/HTML if the task were mine. And I consider myself to be a Swing expert","body":"My  &quot;updated&quot; answer is: <i>don&#39;t</i>. Best to use the best and most up-to-date technology available, and Swing GUI&#39;s are not it. For my money, I&#39;d go with JavaScript/CSS/HTML if the task were mine. And I consider myself to be a Swing expert"},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":0,"creation_date":1586641501,"post_id":61164047,"comment_id":108203762,"body_markdown":"One solution that might work for you is https://www.webswing.org/","body":"One solution that might work for you is <a href=\"https://www.webswing.org/\" rel=\"nofollow noreferrer\">webswing.org</a>"},{"owner":{"account_id":3241147,"reputation":994,"user_id":2734169,"display_name":"TrogDor"},"score":2,"creation_date":1586641535,"post_id":61164047,"comment_id":108203770,"body_markdown":"The two main technologies that would have allowed you to launch a Swing application from a Browser were Java WebStart and Java Applets. Both have been more or less discontinued a this point. What is it exactly that you&#39;re trying to achieve? There may be something that can help you get half-way there. Hypothetical example: Java &gt; JavaScript translation.","body":"The two main technologies that would have allowed you to launch a Swing application from a Browser were Java WebStart and Java Applets. Both have been more or less discontinued a this point. What is it exactly that you&#39;re trying to achieve? There may be something that can help you get half-way there. Hypothetical example: Java &gt; JavaScript translation."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1586649125,"post_id":61164047,"comment_id":108205488,"body_markdown":"*&quot;I&#39;ve found exactly the same question&quot;* Where (link please)? With the link, we can add a comment or edit answers to reflect the current situation, thus updating them to warn people and save them the trouble of asking a duplicate question.","body":"<i>&quot;I&#39;ve found exactly the same question&quot;</i> Where (link please)? With the link, we can add a comment or edit answers to reflect the current situation, thus updating them to warn people and save them the trouble of asking a duplicate question."}],"answers":[{"comments":[{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":0,"creation_date":1586646289,"post_id":61164720,"comment_id":108205009,"body_markdown":"there is still: https://github.com/karakun/OpenWebStart/releases","body":"there is still: <a href=\"https://github.com/karakun/OpenWebStart/releases\" rel=\"nofollow noreferrer\">github.com/karakun/OpenWebStart/releases</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1586646609,"post_id":61164720,"comment_id":108205107,"body_markdown":"@RayTayek I added a mention with link in my Answer. Thanks.","body":"@RayTayek I added a mention with link in my Answer. Thanks."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676477954,"creation_date":1586645703,"answer_id":61164720,"question_id":61164047,"body_markdown":"# Old days\r\n\r\nAs [commented by TrogDor][1], there were previously two ways to deploy a Swing app through the web: \r\n\r\n - [Java Applet][2] technology&lt;br /&gt;Your app would appear within a rectangle on the web page, within the browser.\r\n - [Java Web Start][3] technology&lt;br /&gt;Clicking a link on a web page would download a copy of your Swing app to the users local machine, where your app would then be launched locally using a locally-installed [JVM][4]. So your app runs separate from the web browser. This click-to-download-and-run process is defined by [*Java Network Launching Protocol (JNLP)*](https://en.wikipedia.org/wiki/Java_Web_Start#Java_Network_Launching_Protocol_(JNLP)).\r\n\r\nBoth of these are being phased out. \r\n\r\n For details, see the white paper [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf) published by Oracle, updated 2020-05-11. \r\n\r\n\r\n\r\n# Nowadays\r\n\r\nThe modern approach is to build a [Swing][5] and/or [JavaFX][6] app, then deploy by using a packaging tool to include a JVM. You end up with a complete self-contained self-launchable application. \r\n\r\nThis means you need multiple builds, one app for each platform your users may deploy on (macOS, Linux, BSD, Windows, and so on). While that is an additional burden to you, the flip-side is that you control exactly what version of Java is being used to run your app.\r\n\r\nBecause of the [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System) ([JSR 376][7]) in Java 9 and later, you can now strip down the bundled JVM and libraries to include only the parts actually used by your particular app. \r\n\r\nThe build tools for packaging your app have been rapidly evolving in recent years. So be sure to do your research to find the most robust and modern tooling.\r\n\r\n## Alternatives\r\n\r\nYou might consider any of these alternatives:\r\n\r\n - Remote execution\r\n - *OpenWebStart* &lt;br /&gt;A re-implementation of *Java Web Start*\r\n - *GraalVM* &lt;br /&gt;Ahead-of-time native-code compilation of your Java app\r\n - *Vaadin Flow* &lt;br /&gt;Using Java to build desktop-style apps delivered as web apps\r\n\r\n### Remote executions\r\n\r\nSome vendors may offer a product or service to execute your Swing app remotely while displaying the user-interface within a web browser. \r\n\r\nOne such company is WEBSWING Ltd. with their [*Webswing*][8] product. \r\n\r\n### *OpenWebStart*\r\n\r\nYou might be interested in a separate implementation of *Java Web Start* technology.\r\n\r\nWhile Oracle is phasing out *Java Web Start*, there is an open-source implementation of [*JSR 56: Java Network Launching Protocol and API*](http://www.jcp.org/en/jsr/detail?id=56) called [*OpenWebStart*](https://openwebstart.com). See [GitHub][9]. This project is currently maintained by the company [Karakun][10], based on the [*IcedTea-Web*][11] core functionality developed at [*Adoptium (n&#233;e AdoptOpenJDK)*][12].\r\n\r\n### *GraalVM*\r\n\r\nA cutting-edge alternative is to build an entirely native-code [ahead-of-time compiled][13] version of your app using [GraalVM][14].\r\n\r\n### *Vaadin Flow*\r\n\r\nAn entirely different way to build a web app by using Java is the [*Vaadin Flow*](https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow) framework. \r\n\r\nYou specify your user-interface layouts with widgets in a manner quite similar to [Swing][5], specifying an arrangement of widgets (buttons, fields, labels, etc.). You can do so using your choice of straight Java code, an XML-based description language, or a visual design tool. \r\n\r\nAt run-time, Vaadin automatically automatically generates the HTML, CSS, and JavaScript necessary to render your app remotely on the client users machine within a web browser. So, you have pure Java on the server-side, and no Java on the client-side, just [Web standards][15] technologies built into all modern browsers. \r\n\r\n# More info\r\n\r\nAll of this has been covered many times already on Stack Overflow. So search to learn more.\r\n\r\nFor tips on obtaining a JVM to bundle with your app, see [*How to get java 11 run-time environment working since there is no more jre 11 for download?*](https://stackoverflow.com/q/53111921/642706).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61164047/how-to-deploy-java-swing-application-on-web-browser/61164720#comment108203770_61164047\r\n  [2]: https://en.wikipedia.org/wiki/Java_applet\r\n  [3]: https://en.wikipedia.org/wiki/Java_Web_Start\r\n  [4]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [5]: https://en.wikipedia.org/wiki/Swing_(Java)\r\n  [6]: https://en.wikipedia.org/wiki/JavaFX\r\n  [7]: http://openjdk.java.net/projects/jigsaw/spec/\r\n  [8]: https://www.webswing.org/licensing\r\n  [9]: https://github.com/karakun/OpenWebStart\r\n  [10]: https://dev.karakun.com\r\n  [11]: https://github.com/AdoptOpenJDK/IcedTea-Web\r\n  [12]: https://adoptopenjdk.net/\r\n  [13]: https://en.wikipedia.org/wiki/Ahead-of-time_compilation\r\n  [14]: https://en.wikipedia.org/wiki/GraalVM\r\n  [15]: https://en.wikipedia.org/wiki/Web_standards","title":"How to deploy Java Swing Application on Web Browser?","body":"<h1>Old days</h1>\n<p>As <a href=\"https://stackoverflow.com/questions/61164047/how-to-deploy-java-swing-application-on-web-browser/61164720#comment108203770_61164047\">commented by TrogDor</a>, there were previously two ways to deploy a Swing app through the web:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\">Java Applet</a> technology<br />Your app would appear within a rectangle on the web page, within the browser.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\">Java Web Start</a> technology<br />Clicking a link on a web page would download a copy of your Swing app to the users local machine, where your app would then be launched locally using a locally-installed <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>. So your app runs separate from the web browser. This click-to-download-and-run process is defined by <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start#Java_Network_Launching_Protocol_(JNLP)\" rel=\"nofollow noreferrer\"><em>Java Network Launching Protocol (JNLP)</em></a>.</li>\n</ul>\n<p>Both of these are being phased out.</p>\n<p> For details, see the white paper <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a> published by Oracle, updated 2020-05-11.</p>\n<h1>Nowadays</h1>\n<p>The modern approach is to build a <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a> and/or <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> app, then deploy by using a packaging tool to include a JVM. You end up with a complete self-contained self-launchable application.</p>\n<p>This means you need multiple builds, one app for each platform your users may deploy on (macOS, Linux, BSD, Windows, and so on). While that is an additional burden to you, the flip-side is that you control exactly what version of Java is being used to run your app.</p>\n<p>Because of the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><em>Java Platform Module System</em></a> (<a href=\"http://openjdk.java.net/projects/jigsaw/spec/\" rel=\"nofollow noreferrer\">JSR 376</a>) in Java 9 and later, you can now strip down the bundled JVM and libraries to include only the parts actually used by your particular app.</p>\n<p>The build tools for packaging your app have been rapidly evolving in recent years. So be sure to do your research to find the most robust and modern tooling.</p>\n<h2>Alternatives</h2>\n<p>You might consider any of these alternatives:</p>\n<ul>\n<li>Remote execution</li>\n<li><em>OpenWebStart</em> <br />A re-implementation of <em>Java Web Start</em></li>\n<li><em>GraalVM</em> <br />Ahead-of-time native-code compilation of your Java app</li>\n<li><em>Vaadin Flow</em> <br />Using Java to build desktop-style apps delivered as web apps</li>\n</ul>\n<h3>Remote executions</h3>\n<p>Some vendors may offer a product or service to execute your Swing app remotely while displaying the user-interface within a web browser.</p>\n<p>One such company is WEBSWING Ltd. with their <a href=\"https://www.webswing.org/licensing\" rel=\"nofollow noreferrer\"><em>Webswing</em></a> product.</p>\n<h3><em>OpenWebStart</em></h3>\n<p>You might be interested in a separate implementation of <em>Java Web Start</em> technology.</p>\n<p>While Oracle is phasing out <em>Java Web Start</em>, there is an open-source implementation of <a href=\"http://www.jcp.org/en/jsr/detail?id=56\" rel=\"nofollow noreferrer\"><em>JSR 56: Java Network Launching Protocol and API</em></a> called <a href=\"https://openwebstart.com\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a>. See <a href=\"https://github.com/karakun/OpenWebStart\" rel=\"nofollow noreferrer\">GitHub</a>. This project is currently maintained by the company <a href=\"https://dev.karakun.com\" rel=\"nofollow noreferrer\">Karakun</a>, based on the <a href=\"https://github.com/AdoptOpenJDK/IcedTea-Web\" rel=\"nofollow noreferrer\"><em>IcedTea-Web</em></a> core functionality developed at <a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\"><em>Adoptium (ne AdoptOpenJDK)</em></a>.</p>\n<h3><em>GraalVM</em></h3>\n<p>A cutting-edge alternative is to build an entirely native-code <a href=\"https://en.wikipedia.org/wiki/Ahead-of-time_compilation\" rel=\"nofollow noreferrer\">ahead-of-time compiled</a> version of your app using <a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"nofollow noreferrer\">GraalVM</a>.</p>\n<h3><em>Vaadin Flow</em></h3>\n<p>An entirely different way to build a web app by using Java is the <a href=\"https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow\" rel=\"nofollow noreferrer\"><em>Vaadin Flow</em></a> framework.</p>\n<p>You specify your user-interface layouts with widgets in a manner quite similar to <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a>, specifying an arrangement of widgets (buttons, fields, labels, etc.). You can do so using your choice of straight Java code, an XML-based description language, or a visual design tool.</p>\n<p>At run-time, Vaadin automatically automatically generates the HTML, CSS, and JavaScript necessary to render your app remotely on the client users machine within a web browser. So, you have pure Java on the server-side, and no Java on the client-side, just <a href=\"https://en.wikipedia.org/wiki/Web_standards\" rel=\"nofollow noreferrer\">Web standards</a> technologies built into all modern browsers.</p>\n<h1>More info</h1>\n<p>All of this has been covered many times already on Stack Overflow. So search to learn more.</p>\n<p>For tips on obtaining a JVM to bundle with your app, see <a href=\"https://stackoverflow.com/q/53111921/642706\"><em>How to get java 11 run-time environment working since there is no more jre 11 for download?</em></a>.</p>\n"},{"comments":[{"owner":{"account_id":2690880,"reputation":2110,"user_id":2324271,"accept_rate":85,"display_name":"Harsh Wardhan"},"score":0,"creation_date":1591903739,"post_id":62331653,"comment_id":110240210,"body_markdown":"Please write relevant sections of the answer here itself as links might change over time.","body":"Please write relevant sections of the answer here itself as links might change over time."}],"tags":[],"owner":{"account_id":18824555,"reputation":51,"user_id":13729792,"display_name":"v_bogdanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676478536,"creation_date":1591902121,"answer_id":62331653,"question_id":61164047,"body_markdown":"Nowadays you can run Swing app on server with UI in the browser. You can find example here: https://github.com/JetBrains/projector-demo.\r\n\r\n**Update:** JetBrains ceased development of *Projector* as a separate product. See [their notice][1]. They have incorporated the technology for their own use in their [*Gateway*][2] product for remote execution of their IDE products. \r\n\r\n\r\n  [1]: https://lp.jetbrains.com/projector/\r\n  [2]: https://www.jetbrains.com/remote-development/gateway/?_gl=1*1lsxy63*_ga*OTgyODY1NzU1LjE2NzY0NzgxMDU.*_ga_9J976DJZ68*MTY3NjQ3ODEwNS4xLjEuMTY3NjQ3ODI4OS42MC4wLjA.&amp;_ga=2.67918097.1854201322.1676478105-982865755.1676478105","title":"How to deploy Java Swing Application on Web Browser?","body":"<p>Nowadays you can run Swing app on server with UI in the browser. You can find example here: <a href=\"https://github.com/JetBrains/projector-demo\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/projector-demo</a>.</p>\n<p><strong>Update:</strong> JetBrains ceased development of <em>Projector</em> as a separate product. See <a href=\"https://lp.jetbrains.com/projector/\" rel=\"nofollow noreferrer\">their notice</a>. They have incorporated the technology for their own use in their <a href=\"https://www.jetbrains.com/remote-development/gateway/?_gl=1*1lsxy63*_ga*OTgyODY1NzU1LjE2NzY0NzgxMDU.*_ga_9J976DJZ68*MTY3NjQ3ODEwNS4xLjEuMTY3NjQ3ODI4OS42MC4wLjA.&amp;_ga=2.67918097.1854201322.1676478105-982865755.1676478105\" rel=\"nofollow noreferrer\"><em>Gateway</em></a> product for remote execution of their IDE products.</p>\n"},{"tags":[],"owner":{"account_id":28856785,"reputation":1,"user_id":22101439,"display_name":"Igor G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687251431,"creation_date":1687251431,"answer_id":76512995,"question_id":61164047,"body_markdown":"for running Java Swing app in a browser with no need to change the apps source code you can use Webswing - www.webswing.org\r\nHere is an example too: https://prototype.webswing.org/webswing-demo/\r\n\r\nBests\r\nig","title":"How to deploy Java Swing Application on Web Browser?","body":"<p>for running Java Swing app in a browser with no need to change the apps source code you can use Webswing - <a href=\"http://www.webswing.org\" rel=\"nofollow noreferrer\">www.webswing.org</a>\nHere is an example too: <a href=\"https://prototype.webswing.org/webswing-demo/\" rel=\"nofollow noreferrer\">https://prototype.webswing.org/webswing-demo/</a></p>\n<p>Bests\nig</p>\n"}],"owner":{"account_id":17550352,"reputation":117,"user_id":12730875,"display_name":"Tia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3746,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61164720,"answer_count":3,"score":3,"last_activity_date":1687251431,"creation_date":1586641222,"question_id":61164047,"body_markdown":"I&#39;ve found exactly the same question I just made but it is 7 years old; so I&#39;d like to have an &quot;updated&quot; answer if it is possible. Thanks. ","title":"How to deploy Java Swing Application on Web Browser?","body":"<p>I've found exactly the same question I just made but it is 7 years old; so I'd like to have an \"updated\" answer if it is possible. Thanks. </p>\n"},{"tags":["java","generics","refactoring"],"answers":[{"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1664174097,"post_id":73846858,"comment_id":130402128,"body_markdown":"I used this approach for CSVUtils, but I was hoping to find some workaround to avoid passing class as parameters.","body":"I used this approach for CSVUtils, but I was hoping to find some workaround to avoid passing class as parameters."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664188598,"post_id":73846858,"comment_id":130406340,"body_markdown":"As a workaround one could declare fields and use reflection because on fields the actual type parameter is stored in the type&#39;s metadata. Perhaps it would even be possible to write a producer method for an injection point so that one can simply write `@Inject private CSVUtils&lt;BMW&gt; bmwUtils;`","body":"As a workaround one could declare fields and use reflection because on fields the actual type parameter is stored in the type&#39;s metadata. Perhaps it would even be possible to write a producer method for an injection point so that one can simply write <code>@Inject private CSVUtils&lt;BMW&gt; bmwUtils;</code>"}],"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664131065,"creation_date":1664130140,"answer_id":73846858,"question_id":73846223,"body_markdown":"The type parameter exists for the compiler to enforce type safety and it is replaced by either its lower bound or Object if it is unbounded during compilation. At runtime you don&#39;t know whether `getT` was invoked to assign its result to a list of `Car`, `BMW` or `Mercedes`. \r\n\r\nThat&#39;s why you need to pass a parameter of type `Class&lt;T&gt;` if you want to access the actual type of type parameter `T` at runtime.\r\n\r\nMore information on type erasure can be found e. g. in the [JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6) or the [Java tutorial](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html).","title":"Refactor multiple methods into a generic one","body":"<p>The type parameter exists for the compiler to enforce type safety and it is replaced by either its lower bound or Object if it is unbounded during compilation. At runtime you don't know whether <code>getT</code> was invoked to assign its result to a list of <code>Car</code>, <code>BMW</code> or <code>Mercedes</code>.</p>\n<p>That's why you need to pass a parameter of type <code>Class&lt;T&gt;</code> if you want to access the actual type of type parameter <code>T</code> at runtime.</p>\n<p>More information on type erasure can be found e. g. in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">JLS</a> or the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">Java tutorial</a>.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73846858,"answer_count":1,"score":0,"last_activity_date":1687251354,"creation_date":1664124249,"question_id":73846223,"body_markdown":"I would like to refactor my code. I need to create a generic method to avoid duplicate code.\r\n\r\nI have created a utility class to read CSV files using jackson-dataformat-csv.\r\n\r\n    public class CsvUtils&lt;T&gt; {\r\n    \r\n    \tprivate final Class&lt;T&gt; typeParameterClass;\r\n    \r\n    \tpublic CsvUtils(final Class&lt;T&gt; typeParameterClass) {\r\n    \t\tthis.typeParameterClass = typeParameterClass;\r\n    \t}\r\n    \t\r\n    \tprivate static final char DEFAULT_SEPARATOR = &#39;;&#39;;\r\n\r\n    \tprivate static final String CSV_EXTENSION = &quot;.csv&quot;;\r\n    \r\n    \tprivate static final String UNDERSCORE = &quot;_&quot;;\r\n    \r\n    \tprivate static final String SOURCE_PATH = &quot;./src/test/resources/&quot;;\r\n    \r\n    \tpublic List&lt;T&gt; readCSV(final String fileName) throws IOException {\r\n    \t\treturn readCSV(fileName, DEFAULT_SEPARATOR);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;T&gt; readCSV(final String fileName, final char separator) throws IOException {\r\n    \t\tfinal Reader reader = new FileReader(SOURCE_PATH + fileName + CSV_EXTENSION);\r\n    \r\n    \t\tfinal CsvMapper mapper = new CsvMapper();\r\n    \t\tfinal CsvSchema schema = CsvSchema.emptySchema().withColumnSeparator(separator).withHeader();\r\n    \r\n    \t\tfinal MappingIterator&lt;T&gt; mappingIterator = mapper\r\n    \t\t\t.readerFor(typeParameterClass)\r\n    \t\t\t.with(schema)\r\n    \t\t\t.readValues(reader);\r\n    \r\n    \t\treturn mappingIterator.readAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nand I use the readCSV method in the same way for each entity classes:\r\n\r\n    private List&lt;Audi&gt; getAudi() throws IOException {\r\n\t\tCsvUtils&lt;Audi&gt; csvAudi = new CsvUtils&lt;&gt;(Audi.class);\r\n\t\treturn csvAudi.readCSV(&quot;Audi&quot;);\r\n\t}\r\n\r\n    private List&lt;BMW&gt; getBMW() throws IOException {\r\n\t\tCsvUtils&lt;BMW&gt; csvBMW = new CsvUtils&lt;&gt;(BMW.class);\r\n\t\treturn csvBMW.readCSV(&quot;BMW&quot;);\r\n\t}\r\n\r\n    private List&lt;Mercedes&gt; getMercedes() throws IOException {\r\n\t\tCsvUtils&lt;Mercedes&gt; csvMercedes = new CsvUtils&lt;&gt;(Mercedes.class);\r\n\t\treturn csvMercedes.readCSV(&quot;Mercedes&quot;);\r\n\t}\r\n\r\nThe generics method will be: \r\n\r\n\tprivate static &lt;T extends Car&gt; List&lt;T&gt; getT() throws IOException {\r\n       \r\n        Class&lt;?&gt; typeClass = ???;\t\t\r\n\r\n\t\tCsvUtils&lt;T&gt; csvT = new CsvUtils&lt;&gt;(typeClass);\r\n\t\treturn csvT.readCSV(typeClass.getSimpleName());\r\n\r\n\t}\r\n\r\nbut I don&#39;t know how to extract the class from a generic type. \r\n\r\nAny documentation will be appreciated!\r\nThanks.","title":"Refactor multiple methods into a generic one","body":"<p>I would like to refactor my code. I need to create a generic method to avoid duplicate code.</p>\n<p>I have created a utility class to read CSV files using jackson-dataformat-csv.</p>\n<pre><code>public class CsvUtils&lt;T&gt; {\n\n    private final Class&lt;T&gt; typeParameterClass;\n\n    public CsvUtils(final Class&lt;T&gt; typeParameterClass) {\n        this.typeParameterClass = typeParameterClass;\n    }\n    \n    private static final char DEFAULT_SEPARATOR = ';';\n\n    private static final String CSV_EXTENSION = &quot;.csv&quot;;\n\n    private static final String UNDERSCORE = &quot;_&quot;;\n\n    private static final String SOURCE_PATH = &quot;./src/test/resources/&quot;;\n\n    public List&lt;T&gt; readCSV(final String fileName) throws IOException {\n        return readCSV(fileName, DEFAULT_SEPARATOR);\n    }\n    \n    public List&lt;T&gt; readCSV(final String fileName, final char separator) throws IOException {\n        final Reader reader = new FileReader(SOURCE_PATH + fileName + CSV_EXTENSION);\n\n        final CsvMapper mapper = new CsvMapper();\n        final CsvSchema schema = CsvSchema.emptySchema().withColumnSeparator(separator).withHeader();\n\n        final MappingIterator&lt;T&gt; mappingIterator = mapper\n            .readerFor(typeParameterClass)\n            .with(schema)\n            .readValues(reader);\n\n        return mappingIterator.readAll();\n    }\n\n}\n</code></pre>\n<p>and I use the readCSV method in the same way for each entity classes:</p>\n<pre><code>private List&lt;Audi&gt; getAudi() throws IOException {\n    CsvUtils&lt;Audi&gt; csvAudi = new CsvUtils&lt;&gt;(Audi.class);\n    return csvAudi.readCSV(&quot;Audi&quot;);\n}\n\nprivate List&lt;BMW&gt; getBMW() throws IOException {\n    CsvUtils&lt;BMW&gt; csvBMW = new CsvUtils&lt;&gt;(BMW.class);\n    return csvBMW.readCSV(&quot;BMW&quot;);\n}\n\nprivate List&lt;Mercedes&gt; getMercedes() throws IOException {\n    CsvUtils&lt;Mercedes&gt; csvMercedes = new CsvUtils&lt;&gt;(Mercedes.class);\n    return csvMercedes.readCSV(&quot;Mercedes&quot;);\n}\n</code></pre>\n<p>The generics method will be:</p>\n<pre><code>private static &lt;T extends Car&gt; List&lt;T&gt; getT() throws IOException {\n   \n    Class&lt;?&gt; typeClass = ???;       \n\n    CsvUtils&lt;T&gt; csvT = new CsvUtils&lt;&gt;(typeClass);\n    return csvT.readCSV(typeClass.getSimpleName());\n\n}\n</code></pre>\n<p>but I don't know how to extract the class from a generic type.</p>\n<p>Any documentation will be appreciated!\nThanks.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687253179,"post_id":76512111,"comment_id":134907163,"body_markdown":"Through tomcat 8 the SSL attributes were in the Connector. In 8.5 and 9 they were deprecated in favor of new subelements SSLHostConfig and Certificate to support SNI vhosts, but you can still use them and they &#39;fall through&#39; to defaulted subelements. In tomcat 10 this is no longer allowed; you _must_ use the subelements. See sixth paragraph at https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support .","body":"Through tomcat 8 the SSL attributes were in the Connector. In 8.5 and 9 they were deprecated in favor of new subelements SSLHostConfig and Certificate to support SNI vhosts, but you can still use them and they &#39;fall through&#39; to defaulted subelements. In tomcat 10 this is no longer allowed; you <i>must</i> use the subelements. See sixth paragraph at <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Suppor&zwnj;&#8203;t</a> ."},{"owner":{"account_id":11363440,"reputation":42,"user_id":12850352,"display_name":"Vivek Srivastava"},"score":0,"creation_date":1687338665,"post_id":76512111,"comment_id":134921587,"body_markdown":"SSLHostConfig sslHostConfig = new SSLHostConfig();\n\t\t\tSSLHostConfigCertificate cert =\n\t\t\t\t\tnew SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.RSA);\n\t\t\tString filepath=KeyStoreUtils.class.getClassLoader().getResource(\n\t\t\t\t\t&quot;tntkeystore.jks&quot;).getPath();\n\t\t\tcert.setCertificateKeystoreFile(filepath);\n\t\t\tcert.setCertificateKeystorePassword(&quot;test*&quot;);\n\t\t\tcert.setCertificateKeyAlias(&quot;test&quot;);\n\t\t\tsslHostConfig.addCertificate(cert);\n\t\t\tresult.addSslHostConfig(sslHostConfig);","body":"SSLHostConfig sslHostConfig = new SSLHostConfig(); \t\t\tSSLHostConfigCertificate cert = \t\t\t\t\tnew SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.RSA); \t\t\tString filepath=KeyStoreUtils.class.getClassLoader().getResource( \t\t\t\t\t&quot;tntkeystore.jks&quot;).getPath(); \t\t\tcert.setCertificateKeystoreFile(filepath); \t\t\tcert.setCertificateKeystorePassword(&quot;test*&quot;); \t\t\tcert.setCertificateKeyAlias(&quot;test&quot;); \t\t\tsslHostConfig.addCertificate(cert); \t\t\tresult.addSslHostConfig(sslHostConfig);"},{"owner":{"account_id":11363440,"reputation":42,"user_id":12850352,"display_name":"Vivek Srivastava"},"score":0,"creation_date":1687338682,"post_id":76512111,"comment_id":134921590,"body_markdown":"Added below code to resolve this issue it working fine .","body":"Added below code to resolve this issue it working fine ."}],"owner":{"account_id":11363440,"reputation":42,"user_id":12850352,"display_name":"Vivek Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687251173,"creation_date":1687244515,"question_id":76512111,"body_markdown":"When I tried to apply SSL for tomcat 10 with the open jdk 17, the SSL is not getting applied whereas i did the same for tomcat 9 with open jdk 17, it works.\r\n\r\n```lang-none\r\nNo SSLHostConfig element was found with the hostName [tntkeystore.jks] to match the defaultSSLHostConfigName for the connector [https-jsse-nio-8443]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:76)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:205)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1192)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1205)\r\n\tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:580)\r\n\tat org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:82)\r\n\tat org.apache.catalina.connector.Connector.initInternal(Connector.java:1052)\r\n\t... 9 more\r\n\r\n```\r\n\r\n```java\r\n    private Connector createSecuredConnector() {\r\n    \t\ttry {\r\n    \t\t\t// Create key store file\r\n    \t\t\tfinal File file = File.createTempFile(getClass().getName(), &quot;.keystore&quot;);\r\n    \t\t\tcopyInputStreamToFile(getKeyStoreAsStream(), file);\r\n    \t\t\t// Create connector\r\n    \t\t\tfinal Connector result = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n    \t\t\tresult.setPort(HTTPS_PORT.getIntValue());\r\n    \t\t\tresult.setScheme(&quot;https&quot;);\r\n    \t\t\tresult.setSecure(true);\r\n    \t\t\tresult.setProperty(&quot;maxHttpHeaderSize&quot;,&quot;12288&quot;);\r\n    \t\t\tresult.setProperty(&quot;defaultSSLHostConfigName&quot;,&quot;tntkeystore.jks&quot;);\r\n                //result.setProperty(&quot;compression&quot;, &quot;on&quot;);\r\n    \t\t\tresult.setProperty(&quot;compressableMimeType&quot;,\r\n    \t\t\t\t\t&quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml,application/vnd.ms-fontobject,application/font-sfnt&quot;);\r\n    \t\t\tresult.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\r\n    \t\t\tresult.setProperty(&quot;keystoreFile&quot;, file.getPath());\r\n    \t\t\tresult.setProperty(&quot;keystorePass&quot;, &quot;axway*&quot;);\r\n    \t\t\tresult.setProperty(&quot;sslProtocol&quot;, &quot;TLSv1.2&quot;);\r\n    \t\t\tresult.setProperty(&quot;sslEnabledProtocols&quot;, &quot;TLSv1.2&quot;);\r\n    \t\t\tresult.setProperty(&quot;ciphers&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,&quot; +\r\n    \t\t\t\t\t&quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_DSS_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_SHA256,&quot; +\r\n    \t\t\t\t\t&quot;TLS_ECDHE_ECDSA_WITH_AES_128_SHA256,TLS_ECDHE_RSA_WITH_AES_128_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_SHA,TLS_ECDHE_RSA_WITH_AES_256_SHA384,&quot; +\r\n    \t\t\t\t\t&quot;TLS_ECDHE_ECDSA_WITH_AES_256_SHA384,TLS_ECDHE_RSA_WITH_AES_256_SHA,TLS_ECDHE_ECDSA_WITH_AES_256_SHA,TLS_DHE_RSA_WITH_AES_128_SHA256,&quot; +\r\n    \t\t\t\t\t&quot;TLS_DHE_RSA_WITH_AES_128_SHA,TLS_DHE_DSS_WITH_AES_128_SHA256,TLS_DHE_RSA_WITH_AES_256_SHA256,TLS_DHE_DSS_WITH_AES_256_SHA,TLS_DHE_RSA_WITH_AES_256_SHA&quot;);\r\n    \t\t\treturn result;\r\n    \t\t} catch (final IOException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"Tomcat 10 SSL Config issue","body":"<p>When I tried to apply SSL for tomcat 10 with the open jdk 17, the SSL is not getting applied whereas i did the same for tomcat 9 with open jdk 17, it works.</p>\n<pre class=\"lang-none prettyprint-override\"><code>No SSLHostConfig element was found with the hostName [tntkeystore.jks] to match the defaultSSLHostConfigName for the connector [https-jsse-nio-8443]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:76)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:205)\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1192)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1205)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:580)\n    at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:82)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:1052)\n    ... 9 more\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private Connector createSecuredConnector() {\n            try {\n                // Create key store file\n                final File file = File.createTempFile(getClass().getName(), &quot;.keystore&quot;);\n                copyInputStreamToFile(getKeyStoreAsStream(), file);\n                // Create connector\n                final Connector result = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n                result.setPort(HTTPS_PORT.getIntValue());\n                result.setScheme(&quot;https&quot;);\n                result.setSecure(true);\n                result.setProperty(&quot;maxHttpHeaderSize&quot;,&quot;12288&quot;);\n                result.setProperty(&quot;defaultSSLHostConfigName&quot;,&quot;tntkeystore.jks&quot;);\n                //result.setProperty(&quot;compression&quot;, &quot;on&quot;);\n                result.setProperty(&quot;compressableMimeType&quot;,\n                        &quot;text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml,application/vnd.ms-fontobject,application/font-sfnt&quot;);\n                result.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\n                result.setProperty(&quot;keystoreFile&quot;, file.getPath());\n                result.setProperty(&quot;keystorePass&quot;, &quot;axway*&quot;);\n                result.setProperty(&quot;sslProtocol&quot;, &quot;TLSv1.2&quot;);\n                result.setProperty(&quot;sslEnabledProtocols&quot;, &quot;TLSv1.2&quot;);\n                result.setProperty(&quot;ciphers&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,&quot; +\n                        &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_DHE_DSS_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_SHA256,&quot; +\n                        &quot;TLS_ECDHE_ECDSA_WITH_AES_128_SHA256,TLS_ECDHE_RSA_WITH_AES_128_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_SHA,TLS_ECDHE_RSA_WITH_AES_256_SHA384,&quot; +\n                        &quot;TLS_ECDHE_ECDSA_WITH_AES_256_SHA384,TLS_ECDHE_RSA_WITH_AES_256_SHA,TLS_ECDHE_ECDSA_WITH_AES_256_SHA,TLS_DHE_RSA_WITH_AES_128_SHA256,&quot; +\n                        &quot;TLS_DHE_RSA_WITH_AES_128_SHA,TLS_DHE_DSS_WITH_AES_128_SHA256,TLS_DHE_RSA_WITH_AES_256_SHA256,TLS_DHE_DSS_WITH_AES_256_SHA,TLS_DHE_RSA_WITH_AES_256_SHA&quot;);\n                return result;\n            } catch (final IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1687383040,"post_id":76511739,"comment_id":134930854,"body_markdown":"What special characters are you trying to ignore and what does that mean?   I understand the case insensitive requirement.","body":"What special characters are you trying to ignore and what does that mean?   I understand the case insensitive requirement."}],"answers":[{"comments":[{"owner":{"account_id":14992042,"reputation":11,"user_id":10822763,"display_name":"Siva Chandu"},"score":0,"creation_date":1687252722,"post_id":76511780,"comment_id":134907071,"body_markdown":"Quote method is useful  but I need to filter by case insensitive, still I am getting error","body":"Quote method is useful  but I need to filter by case insensitive, still I am getting error"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687241164,"creation_date":1687241164,"answer_id":76511780,"question_id":76511739,"body_markdown":"You can use `Pattern.quote()` to treat the items as literals:\r\n\r\n    String result = item.getList()\r\n            .stream()\r\n            .map(Pattern::quote)\r\n            .collect(Collectors.joining(&quot;|&quot;));","title":"Query with IN operator ignoring special characters with case insensitive","body":"<p>You can use <code>Pattern.quote()</code> to treat the items as literals:</p>\n<pre><code>String result = item.getList()\n        .stream()\n        .map(Pattern::quote)\n        .collect(Collectors.joining(&quot;|&quot;));\n</code></pre>\n"}],"owner":{"account_id":14992042,"reputation":11,"user_id":10822763,"display_name":"Siva Chandu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687250659,"creation_date":1687240614,"question_id":76511739,"body_markdown":"Need to write a query in java for mongo collection.\r\n\r\nFind List of strings (IN query) among collection ignoring special characters  with case insensitive.\r\n\r\n    String result = String.join(&quot;|&quot;, item.getList());\r\n    searchQuery.put(&quot;columnName&quot;, Pattern.compile(result, Pattern.CASE_INSENSITIVE));\r\n\r\nI am getting pattern error while string contains special characters","title":"Query with IN operator ignoring special characters with case insensitive","body":"<p>Need to write a query in java for mongo collection.</p>\n<p>Find List of strings (IN query) among collection ignoring special characters  with case insensitive.</p>\n<pre><code>String result = String.join(&quot;|&quot;, item.getList());\nsearchQuery.put(&quot;columnName&quot;, Pattern.compile(result, Pattern.CASE_INSENSITIVE));\n</code></pre>\n<p>I am getting pattern error while string contains special characters</p>\n"},{"tags":["java","android","nfc"],"comments":[{"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"score":1,"creation_date":1446566958,"post_id":33502983,"comment_id":54790886,"body_markdown":"It works now. That was helpful: http://thehelpcentre.xyz/question/28063480/can-i-read-nfc-tag-in-activity-without-restart-it\n\nI added `disableForegroundDispatch` and `enableForegroundDispatch`.","body":"It works now. That was helpful: <a href=\"http://thehelpcentre.xyz/question/28063480/can-i-read-nfc-tag-in-activity-without-restart-it\" rel=\"nofollow noreferrer\">thehelpcentre.xyz/question/28063480/&hellip;</a>  I added <code>disableForegroundDispatch</code> and <code>enableForegroundDispatch</code>."},{"owner":{"account_id":2822313,"reputation":40033,"user_id":2425802,"display_name":"Michael Roland"},"score":0,"creation_date":1446893618,"post_id":33502983,"comment_id":54940249,"body_markdown":"Possible duplicate of [Android: how do you disable that your app reopens when scanning a NFC tag?](http://stackoverflow.com/questions/28496577/android-how-do-you-disable-that-your-app-reopens-when-scanning-a-nfc-tag)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/28496577/android-how-do-you-disable-that-your-app-reopens-when-scanning-a-nfc-tag\">Android: how do you disable that your app reopens when scanning a NFC tag?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"score":0,"creation_date":1446565490,"post_id":33503187,"comment_id":54789884,"body_markdown":"Thanks for your answer! \nUnfortunately, it doesn&#39;t work. My activity still reloads and the onNewIntent method is not called.","body":"Thanks for your answer!  Unfortunately, it doesn&#39;t work. My activity still reloads and the onNewIntent method is not called."}],"tags":[],"owner":{"account_id":373984,"reputation":2024,"user_id":723939,"display_name":"Felipe Conde"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446565175,"creation_date":1446565175,"answer_id":33503187,"question_id":33502983,"body_markdown":"Just use `launchMode=&quot;singleTop&quot;` in your main activity manifest.\r\nThis will ensure that if your activity is at the top of your task stack, it will not be recreated.\r\n\r\nBe aware that `onCreate` is no longer called in this case, so if you want to read the content from intent, you need to override the `onNewIntent` Activity method.","title":"Activity reopens when a NFC Tag is found","body":"<p>Just use <code>launchMode=\"singleTop\"</code> in your main activity manifest.\nThis will ensure that if your activity is at the top of your task stack, it will not be recreated.</p>\n\n<p>Be aware that <code>onCreate</code> is no longer called in this case, so if you want to read the content from intent, you need to override the <code>onNewIntent</code> Activity method.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687462660,"post_id":76512874,"comment_id":134944206,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76512874/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9674770,"reputation":157,"user_id":7178618,"display_name":"Yoav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687250637,"creation_date":1687250637,"answer_id":76512874,"question_id":33502983,"body_markdown":"Try &#39;SingleInstance&#39; mode instead.","title":"Activity reopens when a NFC Tag is found","body":"<p>Try 'SingleInstance' mode instead.</p>\n"}],"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687250637,"creation_date":1446564625,"question_id":33502983,"body_markdown":"I&#39;m developing an app that should detect NFC tags. \r\nMy problem is that my activity reopens every time the app scans a tag. It should just open when the app is closed. But when it is active, I just want the data from the tag.\r\n\r\nManifest:\r\n\r\n    ?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.corinna.nfc_testapp&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;14&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.nfc&quot;    android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\nActivity onCreate &amp; handleIntent\r\n\r\n    rotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //Fragment ReadOrWrite\r\n        fRead = (Fragment_Read) Fragment.instantiate(getApplicationContext(), Fragment_Read.class.getName(), null);\r\n        Fragment_ReadOrWrite fReadOrWrite = (Fragment_ReadOrWrite) Fragment.instantiate(getApplicationContext(), Fragment_ReadOrWrite.class.getName(), null);\r\n        fReadOrWrite.setFragment_Read(fRead);\r\n        FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\r\n        fragmentTransaction.replace(R.id.id_activity_main, fReadOrWrite);\r\n        fragmentTransaction.commit();\r\n\r\n\r\n        //NFC\r\n\r\n        mNfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n\r\n        handleIntent(getIntent());\r\n    }\r\n\r\n    private void handleIntent(Intent intent) {\r\n        String action = intent.getAction();\r\n        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\r\n\r\n            String type = intent.getType();\r\n            if (MIME_TEXT_PLAIN.equals(type)) {\r\n\r\n                Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n                NdefReaderTask ndefReader = new NdefReaderTask(fRead);\r\n                ndefReader.execute(tag);\r\n\r\n            } else {\r\n                System.out.println(&quot;Wrong mime type: &quot; + type);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Activity reopens when a NFC Tag is found","body":"<p>I'm developing an app that should detect NFC tags. \nMy problem is that my activity reopens every time the app scans a tag. It should just open when the app is closed. But when it is active, I just want the data from the tag.</p>\n\n<p>Manifest:</p>\n\n<pre><code>?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.corinna.nfc_testapp\" &gt;\n\n&lt;uses-permission android:name=\"android.permission.NFC\" /&gt;\n&lt;uses-sdk android:minSdkVersion=\"14\"/&gt;\n&lt;uses-feature android:name=\"android.hardware.nfc\"    android:required=\"true\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme.NoActionBar\"\n        &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.nfc.action.NDEF_DISCOVERED\"/&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n            &lt;data android:mimeType=\"text/plain\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Activity onCreate &amp; handleIntent</p>\n\n<pre><code>rotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.activity_main);\n\n    //Fragment ReadOrWrite\n    fRead = (Fragment_Read) Fragment.instantiate(getApplicationContext(), Fragment_Read.class.getName(), null);\n    Fragment_ReadOrWrite fReadOrWrite = (Fragment_ReadOrWrite) Fragment.instantiate(getApplicationContext(), Fragment_ReadOrWrite.class.getName(), null);\n    fReadOrWrite.setFragment_Read(fRead);\n    FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();\n    fragmentTransaction.replace(R.id.id_activity_main, fReadOrWrite);\n    fragmentTransaction.commit();\n\n\n    //NFC\n\n    mNfcAdapter = NfcAdapter.getDefaultAdapter(this);\n\n    handleIntent(getIntent());\n}\n\nprivate void handleIntent(Intent intent) {\n    String action = intent.getAction();\n    if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(action)) {\n\n        String type = intent.getType();\n        if (MIME_TEXT_PLAIN.equals(type)) {\n\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n            NdefReaderTask ndefReader = new NdefReaderTask(fRead);\n            ndefReader.execute(tag);\n\n        } else {\n            System.out.println(\"Wrong mime type: \" + type);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jar","executable-jar"],"comments":[{"owner":{"account_id":1762,"reputation":31842,"user_id":2405,"accept_rate":100,"display_name":"William Brendel"},"score":41,"creation_date":1251088405,"post_id":1320476,"comment_id":1153903,"body_markdown":"Not sure why this was voted down. Explain to him why his assumptions might be wrong, but don&#39;t downvote the question.","body":"Not sure why this was voted down. Explain to him why his assumptions might be wrong, but don&#39;t downvote the question."},{"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"score":0,"creation_date":1251088414,"post_id":1320476,"comment_id":1153905,"body_markdown":"-1 basic Java terminology is not used correctly and question is very vague and leaves a lot for second guessing. Consider re-phrasing your question with more details or simply read about Java classpath and other basics first.","body":"-1 basic Java terminology is not used correctly and question is very vague and leaves a lot for second guessing. Consider re-phrasing your question with more details or simply read about Java classpath and other basics first."},{"owner":{"account_id":1762,"reputation":31842,"user_id":2405,"accept_rate":100,"display_name":"William Brendel"},"score":24,"creation_date":1251089659,"post_id":1320476,"comment_id":1153952,"body_markdown":"@grigory: See, that&#39;s what you should have asked in the first place, instead of downvoting right away. Downvoting without even asking for more info doesn&#39;t do any good...","body":"@grigory: See, that&#39;s what you should have asked in the first place, instead of downvoting right away. Downvoting without even asking for more info doesn&#39;t do any good..."},{"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"score":4,"creation_date":1251094676,"post_id":1320476,"comment_id":1154125,"body_markdown":"@William, sorry for hitting button few seconds later than you did. I reserve my right to voting down with subsequent comment. It&#39;s frustrating to see questions asked without basic preparation and/or effort to understand or present the issue. Voting is like a tip at a restaurant to me: you give more or less than standard 12% depending on quality of service. So let&#39;s agree to disagree here.","body":"@William, sorry for hitting button few seconds later than you did. I reserve my right to voting down with subsequent comment. It&#39;s frustrating to see questions asked without basic preparation and/or effort to understand or present the issue. Voting is like a tip at a restaurant to me: you give more or less than standard 12% depending on quality of service. So let&#39;s agree to disagree here."},{"owner":{"account_id":7202878,"reputation":2669,"user_id":5499540,"accept_rate":100,"display_name":"tylerr147"},"score":11,"creation_date":1585198161,"post_id":1320476,"comment_id":107679680,"body_markdown":"@topchef I&#39;m 11 years late to this, but you say &quot;It&#39;s frustrating to see questions asked without basic preparation...&quot;. Then help fix it. Explain *why* you downvoted. Otherwise you aren&#39;t helping the problem at all.","body":"@topchef I&#39;m 11 years late to this, but you say &quot;It&#39;s frustrating to see questions asked without basic preparation...&quot;. Then help fix it. Explain <i>why</i> you downvoted. Otherwise you aren&#39;t helping the problem at all."}],"answers":[{"comments":[{"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"score":3,"creation_date":1251088524,"post_id":1320485,"comment_id":1153907,"body_markdown":"I think the idea is that given access to a jar, how do you add it to the classpath in order to load classes out of it.","body":"I think the idea is that given access to a jar, how do you add it to the classpath in order to load classes out of it."},{"owner":{"account_id":1646329,"reputation":7093,"user_id":1517816,"accept_rate":57,"display_name":"poussma"},"score":1,"creation_date":1353425821,"post_id":1320485,"comment_id":18436920,"body_markdown":"Note: it works only because you have the java bin in your PATH, this is not the case for the default windows installation","body":"Note: it works only because you have the java bin in your PATH, this is not the case for the default windows installation"},{"owner":{"account_id":948493,"reputation":8026,"user_id":975199,"accept_rate":74,"display_name":"logan"},"score":0,"creation_date":1389259995,"post_id":1320485,"comment_id":31588437,"body_markdown":"@AVD : where should the A.jar file be kept ?","body":"@AVD : where should the A.jar file be kept ?"},{"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"score":1,"creation_date":1389276155,"post_id":1320485,"comment_id":31599045,"body_markdown":"@logan - In a directory where you are loading a program.","body":"@logan - In a directory where you are loading a program."},{"owner":{"account_id":7639314,"reputation":408,"user_id":5791928,"display_name":"RahulDeep Attri"},"score":0,"creation_date":1591443053,"post_id":1320485,"comment_id":110060633,"body_markdown":"Will this approach create a new JVM process or use the existing one?","body":"Will this approach create a new JVM process or use the existing one?"}],"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1251091395,"creation_date":1251088267,"answer_id":1320485,"question_id":1320476,"body_markdown":".jar isn&#39;t executable. Instantiate classes or make call to any static method.\r\n\r\nEDIT:\r\nAdd Main-Class entry while creating a JAR.\r\n\r\n**&gt;p.mf (content of p.mf)**\r\n\r\n&gt;Main-Class: pk.Test\r\n\r\n    &gt;Test.java\r\n    \r\n    package pk;\r\n    public class Test{\r\n      public static void main(String []args){\r\n        System.out.println(&quot;Hello from Test&quot;);\r\n      }\r\n    }\r\n\r\nUse Process class and it&#39;s methods,\r\n\r\n    public class Exec\r\n    {\r\n       public static void main(String []args) throws Exception\r\n        {\r\n            Process ps=Runtime.getRuntime().exec(new String[]{&quot;java&quot;,&quot;-jar&quot;,&quot;A.jar&quot;});\r\n            ps.waitFor();\r\n            java.io.InputStream is=ps.getInputStream();\r\n            byte b[]=new byte[is.available()];\r\n            is.read(b,0,b.length);\r\n            System.out.println(new String(b));\r\n        }\r\n    }\r\n\r\n","title":"Execute another jar in a Java program","body":"<p>.jar isn't executable. Instantiate classes or make call to any static method.</p>\n\n<p>EDIT:\nAdd Main-Class entry while creating a JAR.</p>\n\n<p><strong>>p.mf (content of p.mf)</strong></p>\n\n<blockquote>\n  <p>Main-Class: pk.Test</p>\n</blockquote>\n\n<pre><code>&gt;Test.java\n\npackage pk;\npublic class Test{\n  public static void main(String []args){\n    System.out.println(\"Hello from Test\");\n  }\n}\n</code></pre>\n\n<p>Use Process class and it's methods,</p>\n\n<pre><code>public class Exec\n{\n   public static void main(String []args) throws Exception\n    {\n        Process ps=Runtime.getRuntime().exec(new String[]{\"java\",\"-jar\",\"A.jar\"});\n        ps.waitFor();\n        java.io.InputStream is=ps.getInputStream();\n        byte b[]=new byte[is.available()];\n        is.read(b,0,b.length);\n        System.out.println(new String(b));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":21,"creation_date":1329025211,"post_id":1320609,"comment_id":11649655,"body_markdown":"Is this solution portable?","body":"Is this solution portable?"},{"owner":{"account_id":306410,"reputation":6036,"user_id":617146,"accept_rate":56,"display_name":"Duc Tran"},"score":3,"creation_date":1334678794,"post_id":1320609,"comment_id":13088156,"body_markdown":"thanks. I&#39;ve tried exec() func with 3 parameters, including the &quot;dir&quot; parameter and it doesn&#39;t work. With only one, we only need to put the 3 files .jar in the same place","body":"thanks. I&#39;ve tried exec() func with 3 parameters, including the &quot;dir&quot; parameter and it doesn&#39;t work. With only one, we only need to put the 3 files .jar in the same place"},{"owner":{"account_id":1738251,"reputation":2510,"user_id":1590323,"accept_rate":57,"display_name":"jobukkit"},"score":0,"creation_date":1400948644,"post_id":1320609,"comment_id":36698122,"body_markdown":"Do you know how to get the `Runtime` object of that java application?","body":"Do you know how to get the <code>Runtime</code> object of that java application?"},{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":0,"creation_date":1410312420,"post_id":1320609,"comment_id":40275207,"body_markdown":"Can we use a more portable version, using ProcessBuilder?","body":"Can we use a more portable version, using ProcessBuilder?"},{"owner":{"account_id":1347084,"reputation":130,"user_id":1287612,"display_name":"Gentleman"},"score":0,"creation_date":1560175040,"post_id":1320609,"comment_id":99639108,"body_markdown":"Cannot run program &quot;java&quot;: CreateProcess error=2, The system cannot find the file specified. Getting this error.","body":"Cannot run program &quot;java&quot;: CreateProcess error=2, The system cannot find the file specified. Getting this error."},{"owner":{"account_id":12801312,"reputation":4312,"user_id":11343720,"display_name":"Wang Liang"},"score":0,"creation_date":1615228394,"post_id":1320609,"comment_id":117621317,"body_markdown":"This is working, but, if the main project is closed, then, the `A.jar` will be closed","body":"This is working, but, if the main project is closed, then, the <code>A.jar</code> will be closed"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648193126,"post_id":1320609,"comment_id":126567002,"body_markdown":"This answer assumes &#39;java&#39; is available on the path. What if it is not?","body":"This answer assumes &#39;java&#39; is available on the path. What if it is not?"}],"tags":[],"owner":{"account_id":49304,"reputation":2666,"user_id":146746,"accept_rate":56,"display_name":"gjrwebber"},"comment_count":7,"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1251091620,"creation_date":1251091620,"answer_id":1320609,"question_id":1320476,"body_markdown":"If I understand correctly it appears you want to run the jars in a separate process from inside your java GUI application. \r\n\r\nTo do this you can use:\r\n\r\n    // Run a java app in a separate system process\r\n    Process proc = Runtime.getRuntime().exec(&quot;java -jar A.jar&quot;);\r\n    // Then retreive the process output\r\n    InputStream in = proc.getInputStream();\r\n    InputStream err = proc.getErrorStream();\r\n\r\nIts always good practice to buffer the output of the process.\r\n\r\n\r\n","title":"Execute another jar in a Java program","body":"<p>If I understand correctly it appears you want to run the jars in a separate process from inside your java GUI application. </p>\n\n<p>To do this you can use:</p>\n\n<pre><code>// Run a java app in a separate system process\nProcess proc = Runtime.getRuntime().exec(\"java -jar A.jar\");\n// Then retreive the process output\nInputStream in = proc.getInputStream();\nInputStream err = proc.getErrorStream();\n</code></pre>\n\n<p>Its always good practice to buffer the output of the process.</p>\n"},{"comments":[{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":4,"creation_date":1422783095,"post_id":1320761,"comment_id":44879705,"body_markdown":"I don&#39;t think this answers the OP&#39;s question","body":"I don&#39;t think this answers the OP&#39;s question"}],"tags":[],"owner":{"account_id":561073,"reputation":603,"user_id":150778,"accept_rate":0,"display_name":"rupa"},"comment_count":1,"down_vote_count":9,"up_vote_count":5,"is_accepted":false,"score":-4,"last_activity_date":1320474447,"creation_date":1251095574,"answer_id":1320761,"question_id":1320476,"body_markdown":"If you are java 1.6 then the following can also be done:\r\n\r\n    import javax.tools.JavaCompiler; \r\n    import javax.tools.ToolProvider; \r\n\r\n    public class CompilerExample {\r\n        \r\n        public static void main(String[] args) {\r\n            String fileToCompile = &quot;/Users/rupas/VolatileExample.java&quot;;\r\n            \r\n            JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            \r\n            int compilationResult = compiler.run(null, null, null, fileToCompile);\r\n            \r\n            if (compilationResult == 0) {\r\n                System.out.println(&quot;Compilation is successful&quot;);\r\n            } else {\r\n                System.out.println(&quot;Compilation Failed&quot;);\r\n            }\r\n        }\r\n    }\r\n","title":"Execute another jar in a Java program","body":"<p>If you are java 1.6 then the following can also be done:</p>\n\n<pre><code>import javax.tools.JavaCompiler; \nimport javax.tools.ToolProvider; \n\npublic class CompilerExample {\n\n    public static void main(String[] args) {\n        String fileToCompile = \"/Users/rupas/VolatileExample.java\";\n\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n\n        int compilationResult = compiler.run(null, null, null, fileToCompile);\n\n        if (compilationResult == 0) {\n            System.out.println(\"Compilation is successful\");\n        } else {\n            System.out.println(\"Compilation Failed\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":144653,"reputation":2808,"user_id":353872,"accept_rate":75,"display_name":"Fordi"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440527814,"creation_date":1440527814,"answer_id":32211589,"question_id":1320476,"body_markdown":"If the jar&#39;s in your classpath, and you know its Main class, you can just invoke the main class.  Using DITA-OT as an example:\r\n\r\n    import org.dita.dost.invoker.CommandLineInvoker;\r\n    ....\r\n    CommandLineInvoker.main(&#39;-f&#39;, &#39;html5&#39;, &#39;-i&#39;, &#39;samples/sequence.ditamap&#39;, &#39;-o&#39;, &#39;test&#39;)\r\n\r\nNote this will make the subordinate jar share memory space and a classpath with your jar, with all the potential for interference that can cause.  If you don&#39;t want that stuff polluted, you have other options, as mentioned above - namely:\r\n\r\n* create a new ClassLoader with the jar in it.  This is more safe; you can at least isolate the new jar&#39;s knowledge to a core classloader if you architect things with the knowledge that you&#39;ll be making use of alien jars.  It&#39;s what we do in my shop for our plugins system; the main application is a tiny shell with a ClassLoader factory, a copy of the API, and knowledge that the real application is the first plugin for which it should build a ClassLoader.  Plugins are a pair of jars - interface and implementation - that are zipped up together.  The ClassLoaders all share all the interfaces, while each ClassLoader only has knowledge of its own implementation.  The stack&#39;s a little complex, but it passes all tests and works beautifully.\r\n* use `Runtime.getRuntime.exec(...)` (which wholly isolates the jar, but has the normal &quot;find the application&quot;, &quot;escape your strings right&quot;, &quot;platform-specific WTF&quot;, and &quot;OMG System Threads&quot; pitfalls of running system commands.","title":"Execute another jar in a Java program","body":"<p>If the jar's in your classpath, and you know its Main class, you can just invoke the main class.  Using DITA-OT as an example:</p>\n\n<pre><code>import org.dita.dost.invoker.CommandLineInvoker;\n....\nCommandLineInvoker.main('-f', 'html5', '-i', 'samples/sequence.ditamap', '-o', 'test')\n</code></pre>\n\n<p>Note this will make the subordinate jar share memory space and a classpath with your jar, with all the potential for interference that can cause.  If you don't want that stuff polluted, you have other options, as mentioned above - namely:</p>\n\n<ul>\n<li>create a new ClassLoader with the jar in it.  This is more safe; you can at least isolate the new jar's knowledge to a core classloader if you architect things with the knowledge that you'll be making use of alien jars.  It's what we do in my shop for our plugins system; the main application is a tiny shell with a ClassLoader factory, a copy of the API, and knowledge that the real application is the first plugin for which it should build a ClassLoader.  Plugins are a pair of jars - interface and implementation - that are zipped up together.  The ClassLoaders all share all the interfaces, while each ClassLoader only has knowledge of its own implementation.  The stack's a little complex, but it passes all tests and works beautifully.</li>\n<li>use <code>Runtime.getRuntime.exec(...)</code> (which wholly isolates the jar, but has the normal \"find the application\", \"escape your strings right\", \"platform-specific WTF\", and \"OMG System Threads\" pitfalls of running system commands.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648193032,"post_id":40544510,"comment_id":126566981,"body_markdown":"This answer assumes &#39;java&#39; is available on the path. What if it is not?","body":"This answer assumes &#39;java&#39; is available on the path. What if it is not?"}],"tags":[],"owner":{"account_id":9070600,"reputation":360,"user_id":6753975,"display_name":"Swarvanu Sengupta"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1478855308,"creation_date":1478855308,"answer_id":40544510,"question_id":1320476,"body_markdown":"Hope this helps:\r\n\r\n    public class JarExecutor {\r\n\r\n\tprivate BufferedReader error;\r\n\tprivate BufferedReader op;\r\n\tprivate int exitVal;\r\n\r\n\tpublic void executeJar(String jarFilePath, List&lt;String&gt; args) throws JarExecutorException {\r\n\t\t// Create run arguments for the\r\n\r\n\t\tfinal List&lt;String&gt; actualArgs = new ArrayList&lt;String&gt;();\r\n\t\tactualArgs.add(0, &quot;java&quot;);\r\n\t\tactualArgs.add(1, &quot;-jar&quot;);\r\n\t\tactualArgs.add(2, jarFilePath);\r\n\t\tactualArgs.addAll(args);\r\n\t\ttry {\r\n\t\t\tfinal Runtime re = Runtime.getRuntime();\r\n\t\t\t//final Process command = re.exec(cmdString, args.toArray(new String[0]));\r\n\t\t\tfinal Process command = re.exec(actualArgs.toArray(new String[0]));\r\n\t\t\tthis.error = new BufferedReader(new InputStreamReader(command.getErrorStream()));\r\n\t\t\tthis.op = new BufferedReader(new InputStreamReader(command.getInputStream()));\r\n\t\t\t// Wait for the application to Finish\r\n\t\t\tcommand.waitFor();\r\n\t\t\tthis.exitVal = command.exitValue();\r\n\t\t\tif (this.exitVal != 0) {\r\n\t\t\t\tthrow new IOException(&quot;Failed to execure jar, &quot; + this.getExecutionLog());\r\n\t\t\t}\r\n\r\n\t\t} catch (final IOException | InterruptedException e) {\r\n\t\t\tthrow new JarExecutorException(e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String getExecutionLog() {\r\n\t\tString error = &quot;&quot;;\r\n\t\tString line;\r\n\t\ttry {\r\n\t\t\twhile((line = this.error.readLine()) != null) {\r\n\t\t\t\terror = error + &quot;\\n&quot; + line;\r\n\t\t\t}\r\n\t\t} catch (final IOException e) {\r\n\t\t}\r\n\t\tString output = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\twhile((line = this.op.readLine()) != null) {\r\n\t\t\t\toutput = output + &quot;\\n&quot; + line;\r\n\t\t\t}\r\n\t\t} catch (final IOException e) {\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tthis.error.close();\r\n\t\t\tthis.op.close();\r\n\t\t} catch (final IOException e) {\r\n\t\t}\r\n\t\treturn &quot;exitVal: &quot; + this.exitVal + &quot;, error: &quot; + error + &quot;, output: &quot; + output;\r\n\t}\r\n    }","title":"Execute another jar in a Java program","body":"<p>Hope this helps:</p>\n\n<pre><code>public class JarExecutor {\n\nprivate BufferedReader error;\nprivate BufferedReader op;\nprivate int exitVal;\n\npublic void executeJar(String jarFilePath, List&lt;String&gt; args) throws JarExecutorException {\n    // Create run arguments for the\n\n    final List&lt;String&gt; actualArgs = new ArrayList&lt;String&gt;();\n    actualArgs.add(0, \"java\");\n    actualArgs.add(1, \"-jar\");\n    actualArgs.add(2, jarFilePath);\n    actualArgs.addAll(args);\n    try {\n        final Runtime re = Runtime.getRuntime();\n        //final Process command = re.exec(cmdString, args.toArray(new String[0]));\n        final Process command = re.exec(actualArgs.toArray(new String[0]));\n        this.error = new BufferedReader(new InputStreamReader(command.getErrorStream()));\n        this.op = new BufferedReader(new InputStreamReader(command.getInputStream()));\n        // Wait for the application to Finish\n        command.waitFor();\n        this.exitVal = command.exitValue();\n        if (this.exitVal != 0) {\n            throw new IOException(\"Failed to execure jar, \" + this.getExecutionLog());\n        }\n\n    } catch (final IOException | InterruptedException e) {\n        throw new JarExecutorException(e);\n    }\n}\n\npublic String getExecutionLog() {\n    String error = \"\";\n    String line;\n    try {\n        while((line = this.error.readLine()) != null) {\n            error = error + \"\\n\" + line;\n        }\n    } catch (final IOException e) {\n    }\n    String output = \"\";\n    try {\n        while((line = this.op.readLine()) != null) {\n            output = output + \"\\n\" + line;\n        }\n    } catch (final IOException e) {\n    }\n    try {\n        this.error.close();\n        this.op.close();\n    } catch (final IOException e) {\n    }\n    return \"exitVal: \" + this.exitVal + \", error: \" + error + \", output: \" + output;\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":998154,"reputation":145,"user_id":1013615,"accept_rate":33,"display_name":"UmeshPathak"},"score":0,"creation_date":1599639760,"post_id":53536661,"comment_id":112832077,"body_markdown":"Thanks @Dawood Morris This is really helpful when your jar requires some considerable amount of resources like memory etc.","body":"Thanks @Dawood Morris This is really helpful when your jar requires some considerable amount of resources like memory etc."}],"tags":[],"owner":{"account_id":11785902,"reputation":101,"user_id":8623657,"display_name":"Dawood F.M Kaundama"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543487625,"creation_date":1543486672,"answer_id":53536661,"question_id":1320476,"body_markdown":"The following works by starting the jar with a batch file, in case the program runs as a stand alone:\r\n\r\n\r\n\r\n    public static void startExtJarProgram(){\r\n            String extJar = Paths.get(&quot;C:\\\\absolute\\\\path\\\\to\\\\batchfile.bat&quot;).toString();\r\n            ProcessBuilder processBuilder = new ProcessBuilder(extJar);\r\n            processBuilder.redirectError(new File(Paths.get(&quot;C:\\\\path\\\\to\\\\JavaProcessOutput\\\\extJar_out_put.txt&quot;).toString()));\r\n            processBuilder.redirectInput();\r\n            try {\r\n               final Process process = processBuilder.start();\r\n                try {\r\n                    final int exitStatus = process.waitFor();\r\n                    if(exitStatus==0){\r\n                        System.out.println(&quot;External Jar Started Successfully.&quot;);\r\n                        System.exit(0); //or whatever suits \r\n                    }else{\r\n                        System.out.println(&quot;There was an error starting external Jar. Perhaps path issues. Use exit code &quot;+exitStatus+&quot; for details.&quot;);\r\n                        System.out.println(&quot;Check also C:\\\\path\\\\to\\\\JavaProcessOutput\\\\extJar_out_put.txt file for additional details.&quot;);\r\n                        System.exit(1);//whatever\r\n                    }\r\n                } catch (InterruptedException ex) {\r\n                    System.out.println(&quot;InterruptedException: &quot;+ex.getMessage());\r\n                }\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;IOException. Faild to start process. Reason: &quot;+ex.getMessage());\r\n            }\r\n            System.out.println(&quot;Process Terminated.&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\nIn the batchfile.bat then we can say:\r\n\r\n    @echo off\r\n    start /min C:\\path\\to\\jarprogram.jar\r\n","title":"Execute another jar in a Java program","body":"<p>The following works by starting the jar with a batch file, in case the program runs as a stand alone:</p>\n\n<pre><code>public static void startExtJarProgram(){\n        String extJar = Paths.get(\"C:\\\\absolute\\\\path\\\\to\\\\batchfile.bat\").toString();\n        ProcessBuilder processBuilder = new ProcessBuilder(extJar);\n        processBuilder.redirectError(new File(Paths.get(\"C:\\\\path\\\\to\\\\JavaProcessOutput\\\\extJar_out_put.txt\").toString()));\n        processBuilder.redirectInput();\n        try {\n           final Process process = processBuilder.start();\n            try {\n                final int exitStatus = process.waitFor();\n                if(exitStatus==0){\n                    System.out.println(\"External Jar Started Successfully.\");\n                    System.exit(0); //or whatever suits \n                }else{\n                    System.out.println(\"There was an error starting external Jar. Perhaps path issues. Use exit code \"+exitStatus+\" for details.\");\n                    System.out.println(\"Check also C:\\\\path\\\\to\\\\JavaProcessOutput\\\\extJar_out_put.txt file for additional details.\");\n                    System.exit(1);//whatever\n                }\n            } catch (InterruptedException ex) {\n                System.out.println(\"InterruptedException: \"+ex.getMessage());\n            }\n        } catch (IOException ex) {\n            System.out.println(\"IOException. Faild to start process. Reason: \"+ex.getMessage());\n        }\n        System.out.println(\"Process Terminated.\");\n        System.exit(0);\n    }\n</code></pre>\n\n<p>In the batchfile.bat then we can say:</p>\n\n<pre><code>@echo off\nstart /min C:\\path\\to\\jarprogram.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648193017,"post_id":67239729,"comment_id":126566972,"body_markdown":"This answer assumes &#39;java&#39; is available on the path. What if it is not?","body":"This answer assumes &#39;java&#39; is available on the path. What if it is not?"}],"tags":[],"owner":{"account_id":21059612,"reputation":1137,"user_id":15478252,"display_name":"Force Bolt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619243620,"creation_date":1619243620,"answer_id":67239729,"question_id":1320476,"body_markdown":"First we cerate a class FirstFileOutput having a main method that outputs a line to stable output and a line to stable error. With all first procedure, we&#39;ll again create a class RuntimeExecCheck that will run our FirstFileOutput class in starting for process, and after that RuntimeExecCheck class will read the stable output and the stable error from FirstFileOutput and output comes.\r\n\r\n    package check;\r\n    \r\n    public class FirstFileOutput{\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;This is output to stable output&quot;);\r\n    \t\tSystem.err.println(&quot;This is output to stable error&quot;);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    package check;\r\n    \r\n    import java.io.InputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class RuntimeExecCheck {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tRuntime runTime = Runtime.getRuntime();\r\n    \t\t\tProcess process = runTime.exec(&quot;java -classpath C:\\\\projects\\\\workspace\\\\check\\\\bin check.FirstFileOutput&quot;);\r\n    \t\t\tInputStream inputStream = process.getInputStream();\r\n    \t\t\tInputStreamReader isr = new InputStreamReader(inputStream);\r\n    \t\t\tInputStream errorStream = process.getErrorStream();\r\n    \t\t\tInputStreamReader esr = new InputStreamReader(errorStream);\r\n    \r\n    \t\t\tint n1;\r\n    \t\t\tchar[] c1 = new char[1024];\r\n    \t\t\tStringBuffer stableOutput = new StringBuffer();\r\n    \t\t\twhile ((n1 = isr.read(c1)) &gt; 0) {\r\n    \t\t\t\tstableOutput.append(c1, 0, n1);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Stable Output: &quot; + stableOutput.toString());\r\n    \r\n    \t\t\tint n2;\r\n    \t\t\tchar[] c2 = new char[1024];\r\n    \t\t\tStringBuffer stableError = new StringBuffer();\r\n    \t\t\twhile ((n2 = esr.read(c2)) &gt; 0) {\r\n    \t\t\t\tstableError.append(c2, 0, n2);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Stable Error: &quot; + stableError.toString());\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Execute another jar in a Java program","body":"<p>First we cerate a class FirstFileOutput having a main method that outputs a line to stable output and a line to stable error. With all first procedure, we'll again create a class RuntimeExecCheck that will run our FirstFileOutput class in starting for process, and after that RuntimeExecCheck class will read the stable output and the stable error from FirstFileOutput and output comes.</p>\n<pre><code>package check;\n\npublic class FirstFileOutput{\n\n    public static void main(String[] args) {\n        System.out.println(&quot;This is output to stable output&quot;);\n        System.err.println(&quot;This is output to stable error&quot;);\n    }\n}\n\n\n\npackage check;\n\nimport java.io.InputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class RuntimeExecCheck {\n\n    public static void main(String[] args) {\n        try {\n            Runtime runTime = Runtime.getRuntime();\n            Process process = runTime.exec(&quot;java -classpath C:\\\\projects\\\\workspace\\\\check\\\\bin check.FirstFileOutput&quot;);\n            InputStream inputStream = process.getInputStream();\n            InputStreamReader isr = new InputStreamReader(inputStream);\n            InputStream errorStream = process.getErrorStream();\n            InputStreamReader esr = new InputStreamReader(errorStream);\n\n            int n1;\n            char[] c1 = new char[1024];\n            StringBuffer stableOutput = new StringBuffer();\n            while ((n1 = isr.read(c1)) &gt; 0) {\n                stableOutput.append(c1, 0, n1);\n            }\n            System.out.println(&quot;Stable Output: &quot; + stableOutput.toString());\n\n            int n2;\n            char[] c2 = new char[1024];\n            StringBuffer stableError = new StringBuffer();\n            while ((n2 = esr.read(c2)) &gt; 0) {\n                stableError.append(c2, 0, n2);\n            }\n            System.out.println(&quot;Stable Error: &quot; + stableError.toString());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13456102,"reputation":63,"user_id":9709644,"display_name":"Rafsan Jany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687250244,"creation_date":1687250244,"answer_id":76512826,"question_id":1320476,"body_markdown":"You can use the below code: \r\n\r\n        Process process = Runtime.getRuntime().exec(command_string);\r\n        BufferedInputStream successBufferedInputStream = new BufferedInputStream(process.getInputStream());\r\n        BufferedInputStream errorBufferedInputStream = new BufferedInputStream(process.getErrorStream());\r\n        synchronized (process) {\r\n            process.waitFor();\r\n        }\r\n\r\n        if (errorBufferedInputStream.available() != ZERO) {\r\n            errorBufferedInputStream.close();\r\n            System.out.println(&quot;error stream after jar execution&quot;);\r\n        }\r\n\r\n        if (process.exitValue() != ZERO) {\r\n           System.out.println(&quot;error jar execution&quot;);\r\n        }\r\n\r\n        if (successBufferedInputStream.available() == ZERO) {\r\n           System.out.println(&quot;error&quot;);\r\n        }\r\n\r\n        StringBuilder response = new StringBuilder();\r\n        while ((successBufferedInputStream.available()) &gt; ZERO) {\r\n            response.append((char) successBufferedInputStream.read());\r\n        }\r\n        successBufferedInputStream.close();","title":"Execute another jar in a Java program","body":"<p>You can use the below code:</p>\n<pre><code>    Process process = Runtime.getRuntime().exec(command_string);\n    BufferedInputStream successBufferedInputStream = new BufferedInputStream(process.getInputStream());\n    BufferedInputStream errorBufferedInputStream = new BufferedInputStream(process.getErrorStream());\n    synchronized (process) {\n        process.waitFor();\n    }\n\n    if (errorBufferedInputStream.available() != ZERO) {\n        errorBufferedInputStream.close();\n        System.out.println(&quot;error stream after jar execution&quot;);\n    }\n\n    if (process.exitValue() != ZERO) {\n       System.out.println(&quot;error jar execution&quot;);\n    }\n\n    if (successBufferedInputStream.available() == ZERO) {\n       System.out.println(&quot;error&quot;);\n    }\n\n    StringBuilder response = new StringBuilder();\n    while ((successBufferedInputStream.available()) &gt; ZERO) {\n        response.append((char) successBufferedInputStream.read());\n    }\n    successBufferedInputStream.close();\n</code></pre>\n"}],"owner":{"account_id":542433,"reputation":2294,"user_id":158221,"accept_rate":0,"display_name":"winsontan520"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144731,"favorite_count":0,"down_vote_count":0,"up_vote_count":139,"answer_count":8,"score":139,"last_activity_date":1687250244,"creation_date":1251088014,"question_id":1320476,"body_markdown":"I had written several simple java applications named as A.jar, B.jar.\r\n\r\nNow i want to write a GUI java program so that user can press button A to execute A.jar and button B to execute B.jar.\r\n\r\nAlso i want to output the run-time process detail in my GUI program. \r\n\r\nAny suggestion?","title":"Execute another jar in a Java program","body":"<p>I had written several simple java applications named as A.jar, B.jar.</p>\n\n<p>Now i want to write a GUI java program so that user can press button A to execute A.jar and button B to execute B.jar.</p>\n\n<p>Also i want to output the run-time process detail in my GUI program. </p>\n\n<p>Any suggestion?</p>\n"},{"tags":["java","oracle","batch-processing"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1687248346,"post_id":76512384,"comment_id":134906078,"body_markdown":"Your SQL code works [fiddle](https://dbfiddle.uk/sq2tvupN). In Java you do not need the trailing `;` but apart from that it should also work.","body":"Your SQL code works <a href=\"https://dbfiddle.uk/sq2tvupN\" rel=\"nofollow noreferrer\">fiddle</a>. In Java you do not need the trailing <code>;</code> but apart from that it should also work."},{"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"score":0,"creation_date":1687248547,"post_id":76512384,"comment_id":134906118,"body_markdown":"Edited the question.","body":"Edited the question."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":1,"creation_date":1687251266,"post_id":76512384,"comment_id":134906664,"body_markdown":"You have condition `WHERE t.PASSED = s.PASSED`, however when these values are equal then `set t.PASSED = s.PASSED` does not make any sense, it does not change anything.","body":"You have condition <code>WHERE t.PASSED = s.PASSED</code>, however when these values are equal then <code>set t.PASSED = s.PASSED</code> does not make any sense, it does not change anything."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687250118,"creation_date":1687249264,"answer_id":76512704,"question_id":76512384,"body_markdown":"Don&#39;t include the column you are updating in the `ON` clause.\r\n\r\n```lang-sql\r\nmerge into student t\r\nusing (\r\n    select\r\n        ? AS NAME,\r\n        ? AS SURNAME,\r\n        ? AS AGE,\r\n        ? AS PASSED\r\n    from\r\n        dual\r\n) s on (\r\n    t.NAME=s.NAME\r\n    and t.SURNAME=s.SURNAME\r\n    and t.AGE=s.AGE\r\n    -- and t.PASSED=s.PASSED                      -- Remove this filter.\r\n)\r\nwhen matched then \r\n    update set t.PASSED = s.PASSED \r\nwhen not matched then \r\n    insert (NAME, SURNAME, AGE, PASSED)\r\n    values (s.NAME, s.SURNAME, s.AGE, s.PASSED);\r\n```\r\n\r\nAdditionally, you should consider:\r\n\r\n - Using a primary key for the table (such as an `IDENTITY` column) and then you can update based on the primary key rather than a composite key (as it is possible to have two distinct students with the same names and age and you need to be able to distinguish between them);\r\n - Storing date of birth, rather than age (as age changes with each person&#39;s birthday whereas date of birth is constant and can be used to calculate the age).","title":"Oracle update if exist or insert using merge dual on single table","body":"<p>Don't include the column you are updating in the <code>ON</code> clause.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>merge into student t\nusing (\n    select\n        ? AS NAME,\n        ? AS SURNAME,\n        ? AS AGE,\n        ? AS PASSED\n    from\n        dual\n) s on (\n    t.NAME=s.NAME\n    and t.SURNAME=s.SURNAME\n    and t.AGE=s.AGE\n    -- and t.PASSED=s.PASSED                      -- Remove this filter.\n)\nwhen matched then \n    update set t.PASSED = s.PASSED \nwhen not matched then \n    insert (NAME, SURNAME, AGE, PASSED)\n    values (s.NAME, s.SURNAME, s.AGE, s.PASSED);\n</code></pre>\n<p>Additionally, you should consider:</p>\n<ul>\n<li>Using a primary key for the table (such as an <code>IDENTITY</code> column) and then you can update based on the primary key rather than a composite key (as it is possible to have two distinct students with the same names and age and you need to be able to distinguish between them);</li>\n<li>Storing date of birth, rather than age (as age changes with each person's birthday whereas date of birth is constant and can be used to calculate the age).</li>\n</ul>\n"}],"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76512704,"answer_count":1,"score":0,"last_activity_date":1687250118,"creation_date":1687246697,"question_id":76512384,"body_markdown":"Here is the *table* Student:\r\n\r\n|**Name** |  **Surname** | **Age** | **Passed** |\r\n|---------|--------------|---------|------------|\r\n|  John   |   Wick       |    20   |      N     |\r\n|  Alice  |   Wonderland |    21   |      Y     |\r\n\r\nI want to update if students exist on table based on age, name, surname or insert as a new row.\r\n\r\nhere is the sql `query`:\r\n\r\n    merge into student t\r\n    using (\r\n        select\r\n            ? AS NAME,\r\n            ? AS SURNAME,\r\n            ? AS AGE,\r\n            ? AS PASSED\r\n        from\r\n            dual\r\n    ) s on (\r\n        t.NAME=s.NAME\r\n        and t.SURNAME=s.SURNAME\r\n        and t.AGE=s.AGE\r\n        and t.PASSED=s.PASSED\r\n    )\r\n    when matched then \r\n        update set t.PASSED = s.PASSED \r\n    when not matched then \r\n        insert (NAME, SURNAME, AGE, PASSED) values (s.NAME, s.SURNAME, s.AGE, s.PASSED);\r\n\r\n\r\nHere is the jdbcTemplate `batchUpdate` method impl:\r\n \r\n\r\n    jdbcTemplate.batchUpdate(query, new BatchPreparedStatementSetter(){\r\n    \r\n       @Override\r\n       public void setValues(PreparedStatment ps, int i){\r\n         Student s = studentList.get(i);\r\n    \r\n           ps.setString(1, s.getName());\r\n           ps.setString(2, s.getSurname());\r\n           ps.setInt(3, s.getAge());\r\n           ps.setString(4, s.getPassed());\r\n    \r\n         }\r\n    \r\n        @Override\r\n           public int getBatchSize(){\r\n           return studentList.size()\r\n        }\r\n    \r\n    });\r\n\r\n&gt; ORA-38104: Columns referenced in the ON Clause cannot be updated\r\n\r\nthanks in advance.","title":"Oracle update if exist or insert using merge dual on single table","body":"<p>Here is the <em>table</em> Student:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th><strong>Name</strong></th>\n<th><strong>Surname</strong></th>\n<th><strong>Age</strong></th>\n<th><strong>Passed</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>John</td>\n<td>Wick</td>\n<td>20</td>\n<td>N</td>\n</tr>\n<tr>\n<td>Alice</td>\n<td>Wonderland</td>\n<td>21</td>\n<td>Y</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to update if students exist on table based on age, name, surname or insert as a new row.</p>\n<p>here is the sql <code>query</code>:</p>\n<pre><code>merge into student t\nusing (\n    select\n        ? AS NAME,\n        ? AS SURNAME,\n        ? AS AGE,\n        ? AS PASSED\n    from\n        dual\n) s on (\n    t.NAME=s.NAME\n    and t.SURNAME=s.SURNAME\n    and t.AGE=s.AGE\n    and t.PASSED=s.PASSED\n)\nwhen matched then \n    update set t.PASSED = s.PASSED \nwhen not matched then \n    insert (NAME, SURNAME, AGE, PASSED) values (s.NAME, s.SURNAME, s.AGE, s.PASSED);\n</code></pre>\n<p>Here is the jdbcTemplate <code>batchUpdate</code> method impl:</p>\n<pre><code>jdbcTemplate.batchUpdate(query, new BatchPreparedStatementSetter(){\n\n   @Override\n   public void setValues(PreparedStatment ps, int i){\n     Student s = studentList.get(i);\n\n       ps.setString(1, s.getName());\n       ps.setString(2, s.getSurname());\n       ps.setInt(3, s.getAge());\n       ps.setString(4, s.getPassed());\n\n     }\n\n    @Override\n       public int getBatchSize(){\n       return studentList.size()\n    }\n\n});\n</code></pre>\n<blockquote>\n<p>ORA-38104: Columns referenced in the ON Clause cannot be updated</p>\n</blockquote>\n<p>thanks in advance.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5789937,"reputation":1148,"user_id":4567795,"display_name":"twobiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687245521,"creation_date":1687245521,"answer_id":76512229,"question_id":76512228,"body_markdown":"There&#39;s an open Bug [HHH-16759](https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16759) addressing the issue. At the moment, this feature only works with `EntityManager.persist()` while `EntityManager.merge()` is being called by Spring Boot.\r\nOnce the issue is fixed, it should work as expected.","title":"Use of Java-Records as @Embeddable in Hibernate 6.2","body":"<p>There's an open Bug <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16759\" rel=\"nofollow noreferrer\">HHH-16759</a> addressing the issue. At the moment, this feature only works with <code>EntityManager.persist()</code> while <code>EntityManager.merge()</code> is being called by Spring Boot.\nOnce the issue is fixed, it should work as expected.</p>\n"}],"owner":{"account_id":5789937,"reputation":1148,"user_id":4567795,"display_name":"twobiers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687250009,"creation_date":1687245521,"question_id":76512228,"body_markdown":"Hibernate 6.2 [introduced support for Java records][1] for `@Embeddable`.\r\n(Therefore this question is not a duplicate to https://stackoverflow.com/questions/68486938/using-java-records-as-jpa-embeddables).\r\n\r\nHowever, I can&#39;t get it to work with Spring Boot 3.1. Hibernate does have a test case, so it should be indeed possible.\r\n\r\n```java\r\n@Entity(name = &quot;MyEntity&quot;)\r\npublic class MyEntity {\r\n    @Id\r\n    Long id;\r\n\r\n    @Embedded\r\n    MyRecord record;\r\n\r\n    public MyEntity() {}\r\n\r\n    public MyEntity(Long id, MyRecord record) {\r\n        this.id = id;\r\n        this.record = record;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public MyRecord getRecord() {\r\n        return record;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setRecord(MyRecord record) {\r\n        this.record = record;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic static record MyRecord(String name, String description) {}\r\n}\r\n\r\n@Repository\r\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {}\r\n```\r\n\r\ncalling `MyEntityRepository.save()` will give the following exception:\r\n\r\n```\r\nCould not set value of type [java.lang.String] : `MyRecord.name` (setter)\r\norg.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.String] : `MyRecord.name` (setter)\r\n\tat app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\r\n\tat app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n\tat app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy238.saveAll(Unknown Source)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.hibernate.PropertyAccessException: Could not set value of type [java.lang.String] : `MyRecord.name` (setter)\r\n\tat app//org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:81)\r\n\tat app//org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.setValues(AbstractEmbeddableMapping.java:112)\r\n\tat app//org.hibernate.type.ComponentType.setPropertyValues(ComponentType.java:450)\r\n\tat app//org.hibernate.type.TypeHelper.replaceAssociations(TypeHelper.java:224)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:516)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:227)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:332)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:150)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:143)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:127)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\r\n\tat app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat app//org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848)\r\n\tat app//org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor140.invoke(Unknown Source)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy226.merge(Unknown Source)\r\n\tat app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:640)\r\n\tat app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:663)\r\n\tat app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:94)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor166.invoke(Unknown Source)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.repository.core.support.EventPublishingRepositoryProxyPostProcessor$EventPublishingMethodInterceptor.invoke(EventPublishingRepositoryProxyPostProcessor.java:100)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 91 more\r\nCaused by: java.lang.IllegalAccessException: Can not set final java.lang.String field MyRecord.name to java.lang.String\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\r\n\tat java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799)\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:53)\r\n\t... 134 more\r\n```\r\n\r\n  [1]: https://in.relation.to/2023/03/30/orm-62-final/","title":"Use of Java-Records as @Embeddable in Hibernate 6.2","body":"<p>Hibernate 6.2 <a href=\"https://in.relation.to/2023/03/30/orm-62-final/\" rel=\"nofollow noreferrer\">introduced support for Java records</a> for <code>@Embeddable</code>.\n(Therefore this question is not a duplicate to <a href=\"https://stackoverflow.com/questions/68486938/using-java-records-as-jpa-embeddables\">Using Java records as JPA embeddables</a>).</p>\n<p>However, I can't get it to work with Spring Boot 3.1. Hibernate does have a test case, so it should be indeed possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;MyEntity&quot;)\npublic class MyEntity {\n    @Id\n    Long id;\n\n    @Embedded\n    MyRecord record;\n\n    public MyEntity() {}\n\n    public MyEntity(Long id, MyRecord record) {\n        this.id = id;\n        this.record = record;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public MyRecord getRecord() {\n        return record;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setRecord(MyRecord record) {\n        this.record = record;\n    }\n}\n\n@Embeddable\npublic static record MyRecord(String name, String description) {}\n}\n\n@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {}\n</code></pre>\n<p>calling <code>MyEntityRepository.save()</code> will give the following exception:</p>\n<pre><code>Could not set value of type [java.lang.String] : `MyRecord.name` (setter)\norg.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.String] : `MyRecord.name` (setter)\n    at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\n    at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n    at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy238.saveAll(Unknown Source)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.hibernate.PropertyAccessException: Could not set value of type [java.lang.String] : `MyRecord.name` (setter)\n    at app//org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:81)\n    at app//org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.setValues(AbstractEmbeddableMapping.java:112)\n    at app//org.hibernate.type.ComponentType.setPropertyValues(ComponentType.java:450)\n    at app//org.hibernate.type.TypeHelper.replaceAssociations(TypeHelper.java:224)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:516)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:227)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:332)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:150)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:143)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:127)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\n    at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\n    at app//org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848)\n    at app//org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834)\n    at jdk.internal.reflect.GeneratedMethodAccessor140.invoke(Unknown Source)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy226.merge(Unknown Source)\n    at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:640)\n    at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:663)\n    at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:94)\n    at jdk.internal.reflect.GeneratedMethodAccessor166.invoke(Unknown Source)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.repository.core.support.EventPublishingRepositoryProxyPostProcessor$EventPublishingMethodInterceptor.invoke(EventPublishingRepositoryProxyPostProcessor.java:100)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 91 more\nCaused by: java.lang.IllegalAccessException: Can not set final java.lang.String field MyRecord.name to java.lang.String\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\n    at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:53)\n    ... 134 more\n</code></pre>\n"},{"tags":["java","android","kotlin","webview"],"comments":[{"owner":{"account_id":17840622,"reputation":60,"user_id":12958569,"display_name":"Taimoor Bhatti"},"score":0,"creation_date":1687264581,"post_id":76512668,"comment_id":134909690,"body_markdown":"Update: When I debug this I came to know that after clicking Ok in camera it goes to OnActivityResult and the result code = 0","body":"Update: When I debug this I came to know that after clicking Ok in camera it goes to OnActivityResult and the result code = 0"}],"owner":{"account_id":17840622,"reputation":60,"user_id":12958569,"display_name":"Taimoor Bhatti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687248992,"creation_date":1687248992,"question_id":76512668,"body_markdown":"I add a code of File chooser in WebView which uses both Gallery and Camera to add attachments. It is working fine when attachment is added through gallery but when I open camera to add attachment and then click picture and click ok it redirect back to attachment page but no attachment is added like gallery selection.\r\n\r\n```private File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Android/data/&quot;+ BuildConfig.PACKAGE_NAME);\r\n        File imageFile = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n        return imageFile;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n\r\n        if (requestCode != INPUT_FILE_REQUEST_CODE || mFilePathCallback == null) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            return;\r\n        }\r\n\r\n        Uri[] results = null;\r\n\r\n        // Check that the response is a good one\r\n        if (resultCode == Activity.RESULT_OK) {\r\n            if (data == null) {\r\n                // If there is not data, then we may have taken a photo\r\n                if (mCameraPhotoPath != null) {\r\n                    results = new Uri[]{Uri.parse(mCameraPhotoPath)};\r\n                }\r\n            } else {\r\n                String dataString = data.getDataString();\r\n                if (dataString != null) {\r\n                    results = new Uri[]{Uri.parse(dataString)};\r\n                }\r\n            }\r\n        }\r\n\r\n        mFilePathCallback.onReceiveValue(results);\r\n        mFilePathCallback = null;\r\n\r\n    } else if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.KITKAT) {\r\n        if (requestCode != FILECHOOSER_RESULTCODE || mUploadMessage == null) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            return;\r\n        }\r\n\r\n        if (requestCode == FILECHOOSER_RESULTCODE) {\r\n\r\n            if (null == this.mUploadMessage) {\r\n                return;\r\n\r\n            }\r\n\r\n            Uri result = null;\r\n\r\n            try {\r\n                if (resultCode != RESULT_OK) {\r\n\r\n                    result = null;\r\n\r\n                } else {\r\n\r\n                    // retrieve from the private variable if the intent is null\r\n                    result = data == null ? mCapturedImageURI : data.getData();\r\n                }\r\n            } catch (Exception e) {\r\n                Toast.makeText(getApplicationContext(), &quot;activity :&quot; + e,\r\n                        Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            mUploadMessage.onReceiveValue(result);\r\n            mUploadMessage = null;\r\n\r\n        }\r\n    }}\r\n\r\nwebView.setWebChromeClient(new WebChromeClient() {\r\n            public boolean onShowFileChooser(WebView view, ValueCallback&lt;Uri[]&gt; filePath, WebChromeClient.FileChooserParams fileChooserParams) {\r\n\r\n\r\n                // Double check that we don&#39;t have any existing callbacks\r\n                if (mFilePathCallback != null) {\r\n                    mFilePathCallback.onReceiveValue(null);\r\n                }\r\n                mFilePathCallback = filePath;\r\n\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n                    // Create the File where the photo should go\r\n                    File photoFile = null;\r\n                    try {\r\n                        photoFile = createImageFile();\r\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCameraPhotoPath);\r\n                    } catch (IOException ex) {\r\n                        // Error occurred while creating the File\r\n                    }\r\n\r\n                    // Continue only if the File was successfully created\r\n                    if (photoFile != null) {\r\n                        mCameraPhotoPath = &quot;file:&quot; + photoFile.getAbsolutePath();\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT,\r\n                                Uri.fromFile(photoFile));\r\n                    } else {\r\n                        takePictureIntent = null;\r\n                    }\r\n                }\r\n\r\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                contentSelectionIntent.setType(&quot;image/*&quot;);\r\n\r\n                Intent[] intentArray;\r\n                if (takePictureIntent != null) {\r\n                    intentArray = new Intent[]{takePictureIntent};\r\n                } else {\r\n                    intentArray = new Intent[0];\r\n                }\r\n\r\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\r\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\r\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\r\n\r\n                startActivityForResult(chooserIntent, INPUT_FILE_REQUEST_CODE);\r\n\r\n                return true;\r\n\r\n            }\r\n\r\n            // openFileChooser for Android 3.0+\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType) {\r\n\r\n                mUploadMessage = uploadMsg;\r\n\r\n                File imageStorageDir = new File(\r\n                        Environment.getExternalStoragePublicDirectory(\r\n                                Environment.DIRECTORY_PICTURES)\r\n                        , &quot;AndroidExampleFolder&quot;);\r\n\r\n                if (!imageStorageDir.exists()) {\r\n                    // Create AndroidExampleFolder at sdcard\r\n                    imageStorageDir.mkdirs();\r\n                }\r\n\r\n                // Create camera captured image file path and name\r\n                File file = new File(\r\n                        imageStorageDir + File.separator + &quot;IMG_&quot;\r\n                                + String.valueOf(System.currentTimeMillis())\r\n                                + &quot;.jpg&quot;);\r\n\r\n                mCapturedImageURI = Uri.fromFile(file);\r\n\r\n                // Camera capture image intent\r\n                final Intent captureIntent = new Intent(\r\n                        android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n                captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mCapturedImageURI);\r\n\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n\r\n                // Create file chooser intent\r\n                Intent chooserIntent = Intent.createChooser(i, &quot;Image Chooser&quot;);\r\n\r\n                // Set camera intent to file chooser\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS\r\n                        , new Parcelable[] { captureIntent });\r\n\r\n                // On select image call onActivityResult method of activity\r\n                startActivityForResult(chooserIntent, FILECHOOSER_RESULTCODE);\r\n\r\n\r\n            }\r\n\r\n            // openFileChooser for Android &lt; 3.0\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg) {\r\n                openFileChooser(uploadMsg, &quot;&quot;);\r\n            }\r\n\r\n            //openFileChooser for other Android versions\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg,\r\n                                        String acceptType,\r\n                                        String capture) {\r\n\r\n                openFileChooser(uploadMsg, acceptType);\r\n            }\r\n        });\r\n\r\n```","title":"Image is not attaching or selected when clicked from camera in Android webview","body":"<p>I add a code of File chooser in WebView which uses both Gallery and Camera to add attachments. It is working fine when attachment is added through gallery but when I open camera to add attachment and then click picture and click ok it redirect back to attachment page but no attachment is added like gallery selection.</p>\n<pre><code>        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Android/data/&quot;+ BuildConfig.PACKAGE_NAME);\n        File imageFile = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n        return imageFile;\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n\n        if (requestCode != INPUT_FILE_REQUEST_CODE || mFilePathCallback == null) {\n            super.onActivityResult(requestCode, resultCode, data);\n            return;\n        }\n\n        Uri[] results = null;\n\n        // Check that the response is a good one\n        if (resultCode == Activity.RESULT_OK) {\n            if (data == null) {\n                // If there is not data, then we may have taken a photo\n                if (mCameraPhotoPath != null) {\n                    results = new Uri[]{Uri.parse(mCameraPhotoPath)};\n                }\n            } else {\n                String dataString = data.getDataString();\n                if (dataString != null) {\n                    results = new Uri[]{Uri.parse(dataString)};\n                }\n            }\n        }\n\n        mFilePathCallback.onReceiveValue(results);\n        mFilePathCallback = null;\n\n    } else if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.KITKAT) {\n        if (requestCode != FILECHOOSER_RESULTCODE || mUploadMessage == null) {\n            super.onActivityResult(requestCode, resultCode, data);\n            return;\n        }\n\n        if (requestCode == FILECHOOSER_RESULTCODE) {\n\n            if (null == this.mUploadMessage) {\n                return;\n\n            }\n\n            Uri result = null;\n\n            try {\n                if (resultCode != RESULT_OK) {\n\n                    result = null;\n\n                } else {\n\n                    // retrieve from the private variable if the intent is null\n                    result = data == null ? mCapturedImageURI : data.getData();\n                }\n            } catch (Exception e) {\n                Toast.makeText(getApplicationContext(), &quot;activity :&quot; + e,\n                        Toast.LENGTH_LONG).show();\n            }\n\n            mUploadMessage.onReceiveValue(result);\n            mUploadMessage = null;\n\n        }\n    }}\n\nwebView.setWebChromeClient(new WebChromeClient() {\n            public boolean onShowFileChooser(WebView view, ValueCallback&lt;Uri[]&gt; filePath, WebChromeClient.FileChooserParams fileChooserParams) {\n\n\n                // Double check that we don't have any existing callbacks\n                if (mFilePathCallback != null) {\n                    mFilePathCallback.onReceiveValue(null);\n                }\n                mFilePathCallback = filePath;\n\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n                    // Create the File where the photo should go\n                    File photoFile = null;\n                    try {\n                        photoFile = createImageFile();\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCameraPhotoPath);\n                    } catch (IOException ex) {\n                        // Error occurred while creating the File\n                    }\n\n                    // Continue only if the File was successfully created\n                    if (photoFile != null) {\n                        mCameraPhotoPath = &quot;file:&quot; + photoFile.getAbsolutePath();\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT,\n                                Uri.fromFile(photoFile));\n                    } else {\n                        takePictureIntent = null;\n                    }\n                }\n\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\n                contentSelectionIntent.setType(&quot;image/*&quot;);\n\n                Intent[] intentArray;\n                if (takePictureIntent != null) {\n                    intentArray = new Intent[]{takePictureIntent};\n                } else {\n                    intentArray = new Intent[0];\n                }\n\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\n\n                startActivityForResult(chooserIntent, INPUT_FILE_REQUEST_CODE);\n\n                return true;\n\n            }\n\n            // openFileChooser for Android 3.0+\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType) {\n\n                mUploadMessage = uploadMsg;\n\n                File imageStorageDir = new File(\n                        Environment.getExternalStoragePublicDirectory(\n                                Environment.DIRECTORY_PICTURES)\n                        , &quot;AndroidExampleFolder&quot;);\n\n                if (!imageStorageDir.exists()) {\n                    // Create AndroidExampleFolder at sdcard\n                    imageStorageDir.mkdirs();\n                }\n\n                // Create camera captured image file path and name\n                File file = new File(\n                        imageStorageDir + File.separator + &quot;IMG_&quot;\n                                + String.valueOf(System.currentTimeMillis())\n                                + &quot;.jpg&quot;);\n\n                mCapturedImageURI = Uri.fromFile(file);\n\n                // Camera capture image intent\n                final Intent captureIntent = new Intent(\n                        android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n\n                captureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mCapturedImageURI);\n\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n\n                // Create file chooser intent\n                Intent chooserIntent = Intent.createChooser(i, &quot;Image Chooser&quot;);\n\n                // Set camera intent to file chooser\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS\n                        , new Parcelable[] { captureIntent });\n\n                // On select image call onActivityResult method of activity\n                startActivityForResult(chooserIntent, FILECHOOSER_RESULTCODE);\n\n\n            }\n\n            // openFileChooser for Android &lt; 3.0\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg) {\n                openFileChooser(uploadMsg, &quot;&quot;);\n            }\n\n            //openFileChooser for other Android versions\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg,\n                                        String acceptType,\n                                        String capture) {\n\n                openFileChooser(uploadMsg, acceptType);\n            }\n        });\n\n</code></pre>\n"},{"tags":["java","list","reflection","collections"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687247971,"post_id":76512489,"comment_id":134905995,"body_markdown":"What you have tried is nowhere near what you want to do. Where is the `instanceof` check? You also did not call `addAll` or `add`.","body":"What you have tried is nowhere near what you want to do. Where is the <code>instanceof</code> check? You also did not call <code>addAll</code> or <code>add</code>."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687248191,"post_id":76512489,"comment_id":134906038,"body_markdown":"Also, it is not typesafe to add anything (except null) into a `Collection&lt;?&gt;`.","body":"Also, it is not typesafe to add anything (except null) into a <code>Collection&lt;?&gt;</code>."},{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1687248198,"post_id":76512489,"comment_id":134906043,"body_markdown":"@Sweeper, with reflection, calling addAll or add is not possible to the field.","body":"@Sweeper, with reflection, calling addAll or add is not possible to the field."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687248238,"post_id":76512489,"comment_id":134906056,"body_markdown":"Try declaring _o1_ as a _Collection&lt;?&gt;_, and cast the assignment also, to _Collection&lt;?&gt;_.  _Collection&lt;?&gt; o1 = (Collection&lt;?&gt;) data.get(o);_","body":"Try declaring <i>o1</i> as a <i>Collection&lt;?&gt;</i>, and cast the assignment also, to <i>Collection&lt;?&gt;</i>.  <i>Collection&lt;?&gt; o1 = (Collection&lt;?&gt;) data.get(o);</i>"},{"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"score":0,"creation_date":1687248753,"post_id":76512489,"comment_id":134906140,"body_markdown":"@Reilas. Code is not giving any error when data.get is an ArrayList and is working as expected. When I have to add an single element i.e. data field from NotMain2 class into the result.set then I am getting the error. I am searching a solution for an element adding to the result field.","body":"@Reilas. Code is not giving any error when data.get is an ArrayList and is working as expected. When I have to add an single element i.e. data field from NotMain2 class into the result.set then I am getting the error. I am searching a solution for an element adding to the result field."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687248988,"post_id":76512489,"comment_id":134906183,"body_markdown":"@ThakurSahab, because the _result_ field is a _Collection_, which is not compatible with a _String_ object.  I believe you&#39;re looking to add the value to the _Collection_, and not simply assign the _result_ a value of an object.","body":"@ThakurSahab, because the <i>result</i> field is a <i>Collection</i>, which is not compatible with a <i>String</i> object.  I believe you&#39;re looking to add the value to the <i>Collection</i>, and not simply assign the <i>result</i> a value of an object."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687249131,"post_id":76512489,"comment_id":134906224,"body_markdown":"@ThakurSahab, so in this case, cast _result_ to a collection, instantiate it with a new instance, and then access the _add_ method.","body":"@ThakurSahab, so in this case, cast <i>result</i> to a collection, instantiate it with a new instance, and then access the <i>add</i> method."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687248912,"creation_date":1687248912,"answer_id":76512656,"question_id":76512489,"body_markdown":"First, I should note that it is not typesafe to add anything (except null) into a `Collection&lt;?&gt;`.\r\n\r\nIf you still want to do this, you&#39;d either need [raw types](https://stackoverflow.com/q/2770321/5133585) or call `add`/`addAll` with reflection too.\r\n\r\nIn either case, you need to first `get` the `result` field, and then call `add`/`addAll` on it with an `instanceof` check, just like in the non-reflection case. You should also `setResult` on the collector, so that you won&#39;t get a `NullPointerException` when you call `add`/`addAll`.\r\n\r\n```\r\nCollector collector = new Collector();\r\n\r\n// !\r\ncollector.setResult(new ArrayList&lt;&gt;());\r\n\r\nClass&lt;?&gt; clazz = o.getClass();\r\nField dataField = clazz.getDeclaredField(&quot;data&quot;);\r\ndataField.setAccessible(Boolean.TRUE);\r\nObject data = dataField.get(o);\r\nClass&lt;?&gt; collectorClass = collector.getClass();\r\nField resultField = collectorClass.getDeclaredField(&quot;result&quot;);\r\nresultField.setAccessible(true);\r\n\r\n// raw types here...\r\nCollection result = (Collection)resultField.get(collector);\r\nif (data instanceof Collection&lt;?&gt;) {\r\n    result.addAll((Collection) data);\r\n} else {\r\n    result.add(data);\r\n}\r\nSystem.out.println(collector.getResult());\r\n```\r\n\r\nOr you can call `add`/`addAll` with reflection too:\r\n\r\n```\r\n// note that the checked exceptions has changed\r\npublic static void setResult(Object o) throws NoSuchFieldException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\r\n    Collector collector = new Collector();\r\n    collector.setResult(new ArrayList&lt;&gt;());\r\n    Class&lt;?&gt; clazz = o.getClass();\r\n    Field dataField = clazz.getDeclaredField(&quot;data&quot;);\r\n    dataField.setAccessible(Boolean.TRUE);\r\n    Object data = dataField.get(o);\r\n    Class&lt;?&gt; collectorClass = collector.getClass();\r\n    Field resultField = collectorClass.getDeclaredField(&quot;result&quot;);\r\n    resultField.setAccessible(true);\r\n    Object result = resultField.get(collector);\r\n\r\n    if (data instanceof Collection&lt;?&gt;) {\r\n        // call method by reflection too\r\n        result.getClass().getMethod(&quot;addAll&quot;, Collection.class).invoke(result, data);\r\n    } else {\r\n        // call method by reflection too\r\n        result.getClass().getMethod(&quot;add&quot;, Object.class).invoke(result, data);\r\n    }\r\n    System.out.println(collector.getResult());\r\n}\r\n```","title":"Add element to a Collection using java reflection","body":"<p>First, I should note that it is not typesafe to add anything (except null) into a <code>Collection&lt;?&gt;</code>.</p>\n<p>If you still want to do this, you'd either need <a href=\"https://stackoverflow.com/q/2770321/5133585\">raw types</a> or call <code>add</code>/<code>addAll</code> with reflection too.</p>\n<p>In either case, you need to first <code>get</code> the <code>result</code> field, and then call <code>add</code>/<code>addAll</code> on it with an <code>instanceof</code> check, just like in the non-reflection case. You should also <code>setResult</code> on the collector, so that you won't get a <code>NullPointerException</code> when you call <code>add</code>/<code>addAll</code>.</p>\n<pre><code>Collector collector = new Collector();\n\n// !\ncollector.setResult(new ArrayList&lt;&gt;());\n\nClass&lt;?&gt; clazz = o.getClass();\nField dataField = clazz.getDeclaredField(&quot;data&quot;);\ndataField.setAccessible(Boolean.TRUE);\nObject data = dataField.get(o);\nClass&lt;?&gt; collectorClass = collector.getClass();\nField resultField = collectorClass.getDeclaredField(&quot;result&quot;);\nresultField.setAccessible(true);\n\n// raw types here...\nCollection result = (Collection)resultField.get(collector);\nif (data instanceof Collection&lt;?&gt;) {\n    result.addAll((Collection) data);\n} else {\n    result.add(data);\n}\nSystem.out.println(collector.getResult());\n</code></pre>\n<p>Or you can call <code>add</code>/<code>addAll</code> with reflection too:</p>\n<pre><code>// note that the checked exceptions has changed\npublic static void setResult(Object o) throws NoSuchFieldException, IllegalAccessException, NoSuchMethodException, InvocationTargetException {\n    Collector collector = new Collector();\n    collector.setResult(new ArrayList&lt;&gt;());\n    Class&lt;?&gt; clazz = o.getClass();\n    Field dataField = clazz.getDeclaredField(&quot;data&quot;);\n    dataField.setAccessible(Boolean.TRUE);\n    Object data = dataField.get(o);\n    Class&lt;?&gt; collectorClass = collector.getClass();\n    Field resultField = collectorClass.getDeclaredField(&quot;result&quot;);\n    resultField.setAccessible(true);\n    Object result = resultField.get(collector);\n\n    if (data instanceof Collection&lt;?&gt;) {\n        // call method by reflection too\n        result.getClass().getMethod(&quot;addAll&quot;, Collection.class).invoke(result, data);\n    } else {\n        // call method by reflection too\n        result.getClass().getMethod(&quot;add&quot;, Object.class).invoke(result, data);\n    }\n    System.out.println(collector.getResult());\n}\n</code></pre>\n"}],"owner":{"account_id":5777968,"reputation":45,"user_id":4559517,"display_name":"Thakur Sahab"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76512656,"answer_count":1,"score":0,"last_activity_date":1687248912,"creation_date":1687247586,"question_id":76512489,"body_markdown":"Using Java Reflection, I want to add an element to a Collection (Just for learning).\r\n\r\nI have created a class, Collectable, which contains a variable of type Collection&lt;?&gt;.\r\n\r\nUsing field.set I am able set an ArrayList to it, but when I have to just an element to it getting an error. \r\n`Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Can not set java.util.Collection field com.company.Collector.result`\r\n\r\nThough I have achieved the above mentioned problem using \r\n\r\n```\r\nif (data instanceof Collection&lt;?&gt;) {\r\n\tcollector.getResult().addAll((Collection&lt;?&gt;) data);\r\n} else {\r\n\tcollector.getResult().add(data);\r\n}\r\n```\r\n\r\nBut I want to achieve the same using reflection.\r\n\r\nBelow is the code for the same:\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        NotMain1 notMain1 = new NotMain1();\r\n        notMain1.setData(Arrays.asList(&quot;abc&quot;, &quot;bcd&quot;, &quot;cde&quot;, &quot;def&quot;));\r\n        NotMain2 notMain2 = new NotMain2();\r\n        notMain2.setData(&quot;abcdefghi&quot;);\r\n        try {\r\n            setResult(notMain1);\r\n            setResult(notMain2);\r\n        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void setResult(Object o) throws NoSuchFieldException, IllegalAccessException {\r\n        Collector collector = new Collector();\r\n        Class clazz = o.getClass();\r\n        Field data = clazz.getDeclaredField(&quot;data&quot;);\r\n        data.setAccessible(Boolean.TRUE);\r\n        Object o1 = data.get(o);\r\n        Class collectorClass = collector.getClass();\r\n        Field result = collectorClass.getDeclaredField(&quot;result&quot;);\r\n        result.setAccessible(true);\r\n        result.set(collector, o1);\r\n        System.out.println(collector.getResult());\r\n    }\r\n}\r\n\r\nclass Collector {\r\n    private Collection&lt;?&gt; result;\r\n\r\n    public Collection&lt;?&gt; getResult() {\r\n        return result;\r\n    }\r\n\r\n    public void setResult(Collection&lt;?&gt; result) {\r\n        this.result = result;\r\n    }\r\n}\r\n\r\nclass NotMain1 {\r\n    private List&lt;String&gt; data;\r\n\r\n    public List&lt;String&gt; getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(List&lt;String&gt; data) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\nclass NotMain2 {\r\n    private String data;\r\n\r\n    public String getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(String data) {\r\n        this.data = data;\r\n    }\r\n}\r\n```","title":"Add element to a Collection using java reflection","body":"<p>Using Java Reflection, I want to add an element to a Collection (Just for learning).</p>\n<p>I have created a class, Collectable, which contains a variable of type Collection&lt;?&gt;.</p>\n<p>Using field.set I am able set an ArrayList to it, but when I have to just an element to it getting an error.\n<code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Can not set java.util.Collection field com.company.Collector.result</code></p>\n<p>Though I have achieved the above mentioned problem using</p>\n<pre><code>if (data instanceof Collection&lt;?&gt;) {\n    collector.getResult().addAll((Collection&lt;?&gt;) data);\n} else {\n    collector.getResult().add(data);\n}\n</code></pre>\n<p>But I want to achieve the same using reflection.</p>\n<p>Below is the code for the same:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        NotMain1 notMain1 = new NotMain1();\n        notMain1.setData(Arrays.asList(&quot;abc&quot;, &quot;bcd&quot;, &quot;cde&quot;, &quot;def&quot;));\n        NotMain2 notMain2 = new NotMain2();\n        notMain2.setData(&quot;abcdefghi&quot;);\n        try {\n            setResult(notMain1);\n            setResult(notMain2);\n        } catch (NoSuchFieldException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void setResult(Object o) throws NoSuchFieldException, IllegalAccessException {\n        Collector collector = new Collector();\n        Class clazz = o.getClass();\n        Field data = clazz.getDeclaredField(&quot;data&quot;);\n        data.setAccessible(Boolean.TRUE);\n        Object o1 = data.get(o);\n        Class collectorClass = collector.getClass();\n        Field result = collectorClass.getDeclaredField(&quot;result&quot;);\n        result.setAccessible(true);\n        result.set(collector, o1);\n        System.out.println(collector.getResult());\n    }\n}\n\nclass Collector {\n    private Collection&lt;?&gt; result;\n\n    public Collection&lt;?&gt; getResult() {\n        return result;\n    }\n\n    public void setResult(Collection&lt;?&gt; result) {\n        this.result = result;\n    }\n}\n\nclass NotMain1 {\n    private List&lt;String&gt; data;\n\n    public List&lt;String&gt; getData() {\n        return data;\n    }\n\n    public void setData(List&lt;String&gt; data) {\n        this.data = data;\n    }\n}\n\nclass NotMain2 {\n    private String data;\n\n    public String getData() {\n        return data;\n    }\n\n    public void setData(String data) {\n        this.data = data;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","foreach","return"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1687248160,"post_id":76512538,"comment_id":134906029,"body_markdown":"what does your `split` return? An empty array?","body":"what does your <code>split</code> return? An empty array?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687248291,"post_id":76512538,"comment_id":134906066,"body_markdown":"The regex `.+` will match the whole string. So, the whole string will be seen as separator and your result array will be empty.","body":"The regex <code>.+</code> will match the whole string. So, the whole string will be seen as separator and your result array will be empty."},{"owner":{"account_id":13737927,"reputation":161,"user_id":9913759,"display_name":"titouanbou"},"score":0,"creation_date":1687248305,"post_id":76512538,"comment_id":134906070,"body_markdown":"my guess is that your if statement is false (try it separately), or give here an example of code you used to test your function","body":"my guess is that your if statement is false (try it separately), or give here an example of code you used to test your function"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687248849,"creation_date":1687248849,"answer_id":76512652,"question_id":76512538,"body_markdown":"With `.+`, you&#39;re splitting the _response_ on any character, 1 or more.\r\n\r\nYou&#39;ll want to use a space, ` +`.\r\n\r\n```java\r\nString arrayResponse[]=response.split(&quot; +&quot;);\r\n```\r\n","title":"How to return a String from an if block which is inside a for loop?","body":"<p>With <code>.+</code>, you're splitting the <em>response</em> on any character, 1 or more.</p>\n<p>You'll want to use a space, <code> +</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String arrayResponse[]=response.split(&quot; +&quot;);\n</code></pre>\n"}],"owner":{"account_id":28856364,"reputation":1,"user_id":22101090,"display_name":"RAJAT GAIROLA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687248849,"creation_date":1687247964,"question_id":76512538,"body_markdown":"I want to return a substring which i try to extract from the string based on the starting word.\r\n\r\nWhy do I always get a null when i invoke this method instead of a string.\r\n\r\n \r\nprivate static String parse(String response, String startRule, String endRule) {\r\n\r\n    String arrayResponse[]=response.split(&quot;.+&quot;);\r\n    String output = null;\r\n    \tfor(String element:arrayResponse) {\r\n    \t\tif(element.startsWith(startRule)) {\r\n    \t\t\t output= element.substring(startRule.length()-1,element.indexOf(endRule));\t\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    \treturn output;\t\r\n\t}","title":"How to return a String from an if block which is inside a for loop?","body":"<p>I want to return a substring which i try to extract from the string based on the starting word.</p>\n<p>Why do I always get a null when i invoke this method instead of a string.</p>\n<p>private static String parse(String response, String startRule, String endRule) {</p>\n<pre><code>String arrayResponse[]=response.split(&quot;.+&quot;);\nString output = null;\n    for(String element:arrayResponse) {\n        if(element.startsWith(startRule)) {\n             output= element.substring(startRule.length()-1,element.indexOf(endRule));  \n            break;\n        }\n    }\n    return output;  \n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","permissions","amazon-sqs","policy"],"answers":[{"tags":[],"owner":{"account_id":4262727,"reputation":10508,"user_id":3486675,"display_name":"D Malan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687248308,"creation_date":1687248308,"answer_id":76512581,"question_id":40874692,"body_markdown":"I just encountered the same error and I was stumped until I tried ARNs for roles that actually exist.\r\n\r\nIt looks like SQS validates that the AWS principals actually exist.\r\n\r\nI wanted to create a policy that allows roles that still need to be created later, but now I&#39;ll need to first create the roles and then update the policy to allow those roles","title":"sqs policy attribute error when the prinicpal is a role arn","body":"<p>I just encountered the same error and I was stumped until I tried ARNs for roles that actually exist.</p>\n<p>It looks like SQS validates that the AWS principals actually exist.</p>\n<p>I wanted to create a policy that allows roles that still need to be created later, but now I'll need to first create the roles and then update the policy to allow those roles</p>\n"}],"owner":{"account_id":4118908,"reputation":21,"user_id":3379809,"display_name":"user3379809"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687248308,"creation_date":1480449436,"question_id":40874692,"body_markdown":"I encountered an error when creating a policy for a sqs queue when specifying the principal as a role arn. \r\n\r\nHere is the code I have\r\n\r\n\r\n    public void addQueuePermission(String queueName) {\r\n            try {\r\n                String museBackendRoleArn = &quot;arn:aws:iam::xxxxxxxx:role/yyyyyyyy&quot;;\r\n                SQSActions[] eventQueueActions = {SQSActions.CreateQueue, SQSActions.ReceiveMessage, SQSActions.SendMessage};\r\n    \r\n                String queueURL = amazonSQS.getQueueUrl(queueName).getQueueUrl();\r\n                List&lt;String&gt; sqsAttributes = new ArrayList&lt;&gt;();\r\n                sqsAttributes.add(&quot;QueueArn&quot;);\r\n                Map&lt;String, String&gt; att = amazonSQS.getQueueAttributes(queueURL, sqsAttributes).getAttributes();\r\n    \r\n                Map&lt;String, String&gt; options = new HashMap&lt;&gt;();\r\n                options.put(&quot;Policy&quot;, createSQSPolicy(Statement.Effect.Allow, museBackendRoleArn, att.get(&quot;QueueArn&quot;),\r\n                        eventQueueActions).toJson());\r\n                amazonSQS.setQueueAttributes(queueURL, options);\r\n            } catch(AmazonServiceException ignore) {\r\n                logger.error(ignore.getMessage());\r\n            }\r\n        }\r\n    \r\n     public static Policy createSQSPolicy(Statement.Effect effect, String principal, String resourceArn, SQSActions[] sqsActions, String sourceArn) {\r\n            Statement statement = new Statement(effect)\r\n                    .withActions(sqsActions)\r\n                    .withPrincipals(new Principal(principal))\r\n                    .withResources(new Resource(resourceArn));\r\n            return new Policy().withStatements(statement);\r\n        }\r\n\r\nThe code returns a 400 error with the error message &quot;Invalid value for the parameter Policy.&quot;\r\n\r\nI tried the same policy through aws console and it works fine. I am using aws java sdk version 1.11.59\r\n\r\n  \r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.11.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\n   \r\n","title":"sqs policy attribute error when the prinicpal is a role arn","body":"<p>I encountered an error when creating a policy for a sqs queue when specifying the principal as a role arn. </p>\n\n<p>Here is the code I have</p>\n\n<pre><code>public void addQueuePermission(String queueName) {\n        try {\n            String museBackendRoleArn = \"arn:aws:iam::xxxxxxxx:role/yyyyyyyy\";\n            SQSActions[] eventQueueActions = {SQSActions.CreateQueue, SQSActions.ReceiveMessage, SQSActions.SendMessage};\n\n            String queueURL = amazonSQS.getQueueUrl(queueName).getQueueUrl();\n            List&lt;String&gt; sqsAttributes = new ArrayList&lt;&gt;();\n            sqsAttributes.add(\"QueueArn\");\n            Map&lt;String, String&gt; att = amazonSQS.getQueueAttributes(queueURL, sqsAttributes).getAttributes();\n\n            Map&lt;String, String&gt; options = new HashMap&lt;&gt;();\n            options.put(\"Policy\", createSQSPolicy(Statement.Effect.Allow, museBackendRoleArn, att.get(\"QueueArn\"),\n                    eventQueueActions).toJson());\n            amazonSQS.setQueueAttributes(queueURL, options);\n        } catch(AmazonServiceException ignore) {\n            logger.error(ignore.getMessage());\n        }\n    }\n\n public static Policy createSQSPolicy(Statement.Effect effect, String principal, String resourceArn, SQSActions[] sqsActions, String sourceArn) {\n        Statement statement = new Statement(effect)\n                .withActions(sqsActions)\n                .withPrincipals(new Principal(principal))\n                .withResources(new Resource(resourceArn));\n        return new Policy().withStatements(statement);\n    }\n</code></pre>\n\n<p>The code returns a 400 error with the error message \"Invalid value for the parameter Policy.\"</p>\n\n<p>I tried the same policy through aws console and it works fine. I am using aws java sdk version 1.11.59</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.11.59&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"comments":[{"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"score":0,"creation_date":1687261380,"post_id":76512465,"comment_id":134908981,"body_markdown":"A related extension to the question: Is `DataType` considered public api? I am asking because I am considering &quot;properly&quot; implementing these data types, or at least the ones that I will be using extensively. Thanks for the quick reply Lukas","body":"A related extension to the question: Is <code>DataType</code> considered public api? I am asking because I am considering &quot;properly&quot; implementing these data types, or at least the ones that I will be using extensively. Thanks for the quick reply Lukas"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1687264127,"post_id":76512465,"comment_id":134909577,"body_markdown":"@LouizFC: Can you ask a new question, please? I&#39;d like to elaborate with details, that&#39;s hard in the comments.","body":"@LouizFC: Can you ask a new question, please? I&#39;d like to elaborate with details, that&#39;s hard in the comments."},{"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"score":1,"creation_date":1687265094,"post_id":76512465,"comment_id":134909831,"body_markdown":"I created a new question as asked: https://stackoverflow.com/questions/76514838","body":"I created a new question as asked: <a href=\"https://stackoverflow.com/questions/76514838\">stackoverflow.com/questions/76514838</a>"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687247452,"creation_date":1687247452,"answer_id":76512465,"question_id":76509358,"body_markdown":"There&#39;s a pending feature request for this:\r\n\r\n- [#11806][1] Add API to create plain SQL DataType instances\r\n- https://stackoverflow.com/questions/67275840/how-to-apply-cast-in-postgres-values-expression-with-jooq (related question)\r\n\r\nIn the meantime, you could create your own `DefaultDataType`, though beware, this means using internal API, which might break in the future (especially, once [#11806][1] is implemented)\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/11806","title":"Custom type for create table statement in JOOQ","body":"<p>There's a pending feature request for this:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/11806\" rel=\"nofollow noreferrer\">#11806</a> Add API to create plain SQL DataType instances</li>\n<li><a href=\"https://stackoverflow.com/questions/67275840/how-to-apply-cast-in-postgres-values-expression-with-jooq\">How to apply cast in postgres values expression with JOOQ</a> (related question)</li>\n</ul>\n<p>In the meantime, you could create your own <code>DefaultDataType</code>, though beware, this means using internal API, which might break in the future (especially, once <a href=\"https://github.com/jOOQ/jOOQ/issues/11806\" rel=\"nofollow noreferrer\">#11806</a> is implemented)</p>\n"}],"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76512465,"answer_count":1,"score":1,"last_activity_date":1687247452,"creation_date":1687200608,"question_id":76509358,"body_markdown":"I am trying to create a runtime DDL script for a postgresql database using jooq, this DDL script includes the use of Postgresql types such as &quot;regclass&quot;.\r\n\r\nI tried using `DSL.field(&quot;reference regclass&quot;)` or similar approaches, but the end result usually ends as something like:\r\n\r\n```sql\r\ncreate table meta_reference(id uuid, reference regclass any);\r\n```\r\n\r\nI saw other questions but those usually involves situations where casting is allowed, which is not the case for table creation or similar DDL scripts.\r\n\r\nIt seems that the `.column` part of `DSL.createTable` uses the `dataType` of the given field. I was thinking about implementing the `DataType` interface myself, but there are too many methods to override, I would like to know if implementing `DataType` is the only way or if there are other ways (such as `Binding`s) to create such script and achieve something like this:\r\n\r\n```sql\r\ncreate table meta_reference(id uuid, reference regclass);\r\n```\r\n\r\nI understand that the &quot;regclass&quot; type could be considered a bad example, because it is just a glorified int/bigint with some checks (but its integrity fails, like for example, when dropping tables), but the same logic above could be applied to any vendor-specific type or user-defined-type.\r\n","title":"Custom type for create table statement in JOOQ","body":"<p>I am trying to create a runtime DDL script for a postgresql database using jooq, this DDL script includes the use of Postgresql types such as &quot;regclass&quot;.</p>\n<p>I tried using <code>DSL.field(&quot;reference regclass&quot;)</code> or similar approaches, but the end result usually ends as something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table meta_reference(id uuid, reference regclass any);\n</code></pre>\n<p>I saw other questions but those usually involves situations where casting is allowed, which is not the case for table creation or similar DDL scripts.</p>\n<p>It seems that the <code>.column</code> part of <code>DSL.createTable</code> uses the <code>dataType</code> of the given field. I was thinking about implementing the <code>DataType</code> interface myself, but there are too many methods to override, I would like to know if implementing <code>DataType</code> is the only way or if there are other ways (such as <code>Binding</code>s) to create such script and achieve something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table meta_reference(id uuid, reference regclass);\n</code></pre>\n<p>I understand that the &quot;regclass&quot; type could be considered a bad example, because it is just a glorified int/bigint with some checks (but its integrity fails, like for example, when dropping tables), but the same logic above could be applied to any vendor-specific type or user-defined-type.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","servlet-filters"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687205895,"post_id":76509682,"comment_id":134901524,"body_markdown":"I doubt that this is either your actual code or all your dependencies. Spring Boot 3.x is for JakartaEE, however I see classes in there which still reference JavaEE. The class `DelegatedAuthenticationEntryPoint` simply won&#39;t work (nor compile normally) with Spring Boot 3.1. Another problem is that you have a circular dependency. `@EnableMethodSecurity` needs a `MethodSecurityExpressionHandler` and as you define an explicit one in the same context this is somewhat of a circular dependency.","body":"I doubt that this is either your actual code or all your dependencies. Spring Boot 3.x is for JakartaEE, however I see classes in there which still reference JavaEE. The class <code>DelegatedAuthenticationEntryPoint</code> simply won&#39;t work (nor compile normally) with Spring Boot 3.1. Another problem is that you have a circular dependency. <code>@EnableMethodSecurity</code> needs a <code>MethodSecurityExpressionHandler</code> and as you define an explicit one in the same context this is somewhat of a circular dependency."},{"owner":{"account_id":28853315,"reputation":1,"user_id":22098735,"display_name":"damiano"},"score":0,"creation_date":1687247074,"post_id":76509682,"comment_id":134905821,"body_markdown":"Ok, you are partly right. I tried with earlier spring boot version to see whether I get same error and forgot to change that (I only changed version in pom, but left the javax instead of jakarta), but the deps are correct. I&#39;ll update the above code so it compiles normally.","body":"Ok, you are partly right. I tried with earlier spring boot version to see whether I get same error and forgot to change that (I only changed version in pom, but left the javax instead of jakarta), but the deps are correct. I&#39;ll update the above code so it compiles normally."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687329873,"post_id":76509682,"comment_id":134919599,"body_markdown":"No I&#39;m not partly right I&#39;m 100% right as the circular dependency is a thing as well.","body":"No I&#39;m not partly right I&#39;m 100% right as the circular dependency is a thing as well."},{"owner":{"account_id":28853315,"reputation":1,"user_id":22098735,"display_name":"damiano"},"score":0,"creation_date":1687448876,"post_id":76509682,"comment_id":134941549,"body_markdown":"I meant the part with &quot;your doubts whether it is my actual code&quot;, but nvrm. Circular deps were the case as you said, thanks for contributing.","body":"I meant the part with &quot;your doubts whether it is my actual code&quot;, but nvrm. Circular deps were the case as you said, thanks for contributing."}],"owner":{"account_id":28853315,"reputation":1,"user_id":22098735,"display_name":"damiano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687247240,"creation_date":1687204254,"question_id":76509682,"body_markdown":"I secured my application with newest spring security 6.1.0 and I tried to do my own spring security error handling, to achieve it I wanted to use bean of type HandlerExceptionResolver in my SecurityConfig class, but as soon as I add `@Autowired\r\n    @Qualifier(&quot;delegatedAuthenticationEntryPoint&quot;)\r\n    AuthenticationEntryPoint authEntryPoint;` I get the following stacktrace:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.IllegalStateException: No ServletContext set\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.27.jar:5.3.27]\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\t... 20 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI have reduced my application to minimum (mean both classes and dependencies) and as a result I found out that the problem is with the @EnableMethodSecurity annotation. When I remove the @EnableMethodSecurity annotation from my SecurityConfig.java class the application starts properly. Can you guys tell me whats going on? I believe I need to have both @EnableMethodSecurity  (to use @PreAuthorize on my controller methods) and object of type HandlerExceptionResolver in my SecurityConfig (to do my own spring security error handling).\r\n\r\nAttaching this minimal project content that reproduces the whole scenario:\r\n--pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n-- SecurityConfig.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler;\r\nimport org.springframework.security.access.expression.method.MethodSecurityExpressionHandler;\r\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchy;\r\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity //potential problem generator nr1\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;delegatedAuthenticationEntryPoint&quot;)\r\n    AuthenticationEntryPoint authEntryPoint;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .exceptionHandling(e-&gt;e.authenticationEntryPoint(authEntryPoint));\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\r\n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n        expressionHandler.setRoleHierarchy(roleHierarchy);\r\n        return expressionHandler;\r\n    }\r\n\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n        String hierarchy = &quot;ROLE_SUPERADMIN &gt; ROLE_MANAGER \\n ROLE_MANAGER &gt; ROLE_RECEPTIONIST \\n ROLE_RECEPTIONIST &gt; ROLE_THERAPIST&quot;;\r\n        roleHierarchy.setHierarchy(hierarchy);\r\n        return roleHierarchy;\r\n    }\r\n\r\n}\r\n```\r\n\r\n-- DelegatedAuthenticationEntryPoint.java\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.servlet.HandlerExceptionResolver;\r\n\r\nimport java.io.IOException;\r\n\r\n@Component(&quot;delegatedAuthenticationEntryPoint&quot;)\r\npublic class DelegatedAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n    private HandlerExceptionResolver resolver; //potential problem generator nr2\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n        throws IOException, ServletException {\r\n        resolver.resolveException(request, response, null, authException);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n-- DefaultExceptionHandler.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n\r\n@ControllerAdvice\r\npublic class DefaultExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler({ AuthenticationException.class })\r\n    @ResponseBody\r\n    public ResponseEntity&lt;?&gt; handleAuthenticationException(Exception ex) {\r\n\r\n        RuntimeException re = new RuntimeException(HttpStatus.OK.toString() +\r\n            &quot;Authentication failed at controller advice&quot;);\r\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(re);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAny suggestions or actions I can take are highly appreciated, thanks!","title":"Error running spring boot app due to &quot;No ServletContext set&quot;. Possible conflict between @EnableMethodSecurity and bean HandlerExceptionResolver","body":"<p>I secured my application with newest spring security 6.1.0 and I tried to do my own spring security error handling, to achieve it I wanted to use bean of type HandlerExceptionResolver in my SecurityConfig class, but as soon as I add <code>@Autowired @Qualifier(&quot;delegatedAuthenticationEntryPoint&quot;) AuthenticationEntryPoint authEntryPoint;</code> I get the following stacktrace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.27.jar:5.3.27]\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalStateException: No ServletContext set\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.27.jar:5.3.27]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:591) ~[spring-webmvc-5.3.27.jar:5.3.27]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.27.jar:5.3.27]\n    ... 20 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>I have reduced my application to minimum (mean both classes and dependencies) and as a result I found out that the problem is with the @EnableMethodSecurity annotation. When I remove the @EnableMethodSecurity annotation from my SecurityConfig.java class the application starts properly. Can you guys tell me whats going on? I believe I need to have both @EnableMethodSecurity  (to use @PreAuthorize on my controller methods) and object of type HandlerExceptionResolver in my SecurityConfig (to do my own spring security error handling).</p>\n<p>Attaching this minimal project content that reproduces the whole scenario:\n--pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>-- SecurityConfig.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler;\nimport org.springframework.security.access.expression.method.MethodSecurityExpressionHandler;\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchy;\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity //potential problem generator nr1\npublic class SecurityConfig {\n\n    @Autowired\n    @Qualifier(&quot;delegatedAuthenticationEntryPoint&quot;)\n    AuthenticationEntryPoint authEntryPoint;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .exceptionHandling(e-&gt;e.authenticationEntryPoint(authEntryPoint));\n        return http.build();\n    }\n\n    @Bean\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy);\n        return expressionHandler;\n    }\n\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n        String hierarchy = &quot;ROLE_SUPERADMIN &gt; ROLE_MANAGER \\n ROLE_MANAGER &gt; ROLE_RECEPTIONIST \\n ROLE_RECEPTIONIST &gt; ROLE_THERAPIST&quot;;\n        roleHierarchy.setHierarchy(hierarchy);\n        return roleHierarchy;\n    }\n\n}\n</code></pre>\n<p>-- DelegatedAuthenticationEntryPoint.java</p>\n<pre><code>package com.example.demo;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.servlet.HandlerExceptionResolver;\n\nimport java.io.IOException;\n\n@Component(&quot;delegatedAuthenticationEntryPoint&quot;)\npublic class DelegatedAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private HandlerExceptionResolver resolver; //potential problem generator nr2\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n        throws IOException, ServletException {\n        resolver.resolveException(request, response, null, authException);\n    }\n}\n\n</code></pre>\n<p>-- DefaultExceptionHandler.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\n@ControllerAdvice\npublic class DefaultExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler({ AuthenticationException.class })\n    @ResponseBody\n    public ResponseEntity&lt;?&gt; handleAuthenticationException(Exception ex) {\n\n        RuntimeException re = new RuntimeException(HttpStatus.OK.toString() +\n            &quot;Authentication failed at controller advice&quot;);\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(re);\n    }\n}\n\n</code></pre>\n<p>Any suggestions or actions I can take are highly appreciated, thanks!</p>\n"},{"tags":["java","scheduler","jobrunr"],"comments":[{"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"score":0,"creation_date":1687264752,"post_id":76512432,"comment_id":134909732,"body_markdown":"How many recurring jobs do you have?","body":"How many recurring jobs do you have?"},{"owner":{"account_id":1928552,"reputation":63,"user_id":1738466,"display_name":"CarlosSM"},"score":0,"creation_date":1687267994,"post_id":76512432,"comment_id":134910626,"body_markdown":"There are no recurring jobs, only jobs that are retried when they fail. In 3 months were processed 1902 jobs,  392 with 5 tries.","body":"There are no recurring jobs, only jobs that are retried when they fail. In 3 months were processed 1902 jobs,  392 with 5 tries."},{"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"score":0,"creation_date":1687285563,"post_id":76512432,"comment_id":134914491,"body_markdown":"JobRunr 6.0 and 6.1 have a bug that may be related (see also the website). Can you try upgrading?","body":"JobRunr 6.0 and 6.1 have a bug that may be related (see also the website). Can you try upgrading?"},{"owner":{"account_id":1928552,"reputation":63,"user_id":1738466,"display_name":"CarlosSM"},"score":0,"creation_date":1687338353,"post_id":76512432,"comment_id":134921498,"body_markdown":"I read the bug, but it&#39;s not related, the jobs are getting stuck in the scheduled state. Actually, the transition between enqueued and processing is fairly fast. What is the condition to move from scheduled to enqueued?","body":"I read the bug, but it&#39;s not related, the jobs are getting stuck in the scheduled state. Actually, the transition between enqueued and processing is fairly fast. What is the condition to move from scheduled to enqueued?"},{"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"score":0,"creation_date":1687427522,"post_id":76512432,"comment_id":134936619,"body_markdown":"Well, I don&#39;t agree completely that it is unrelated... that&#39;s why I advise you to upgrade &#128522;. Once you are on the latest version and it still happens, feel free to open an issue.","body":"Well, I don&#39;t agree completely that it is unrelated... that&#39;s why I advise you to upgrade . Once you are on the latest version and it still happens, feel free to open an issue."}],"owner":{"account_id":1928552,"reputation":63,"user_id":1738466,"display_name":"CarlosSM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687247159,"creation_date":1687247159,"question_id":76512432,"body_markdown":"I am using Jobrunr 6.1.0 with Redis as storage provider.\r\nJobrunr is working great but there is a big delay between the job scheduled time and the job enqueued time when is retrying a job. It could be several hours. For example, from the dashboard:\r\n\r\n    Job scheduled - Retry 1 of 5 - Wed Jun 14 2023 22:55:12 GMT+0200\r\n    Job enqueued                 - Thu Jun 15 2023 00:03:15 GMT+0200\r\n    Processing Job               - Thu Jun 15 2023 00:03:25 GMT+0200\r\n    Job processing failed        - Thu Jun 15 2023 00:00:25 GMT+0200\r\n    \r\n    Job scheduled - Retry 2 of 5 - Wed Jun 14 2023 00:04:01 GMT+0200\r\n    Job enqueued                 - Thu Jun 15 2023 00:45:08 GMT+0200\r\n    Processing Job               - Thu Jun 15 2023 00:45:11 GMT+0200\r\n    Job processing failed        - Thu Jun 15 2023 00:45:12 GMT+0200\r\n\r\nThe number of jobs per day is not high, 1000 per day.\r\nMy custom properties are:\r\n\r\n    numberOfRetries = 5\r\n    backOffPolicyTimeSeed = 6\r\n    dashboardEnabled = true\r\n    dashboardPort = 8000\r\n    backgroundJobServerEnabled = true\r\n    backgroundJobServerPollIntervalInSeconds = 75\r\n    backgroundJobServerDeleteSucceededJobsAfterInHours = 24\r\n    backgroundJobServerPermanentlyDeleteDeletedJobsAfterInHours = 1\r\n\r\nI can understand a delay in the queue because there are not workers available, but what are the possible reasons for this transition delay between the scheduled state and the enqueued state?","title":"Big transition delay between the scheduled state and enqueued state in Jobrunr","body":"<p>I am using Jobrunr 6.1.0 with Redis as storage provider.\nJobrunr is working great but there is a big delay between the job scheduled time and the job enqueued time when is retrying a job. It could be several hours. For example, from the dashboard:</p>\n<pre><code>Job scheduled - Retry 1 of 5 - Wed Jun 14 2023 22:55:12 GMT+0200\nJob enqueued                 - Thu Jun 15 2023 00:03:15 GMT+0200\nProcessing Job               - Thu Jun 15 2023 00:03:25 GMT+0200\nJob processing failed        - Thu Jun 15 2023 00:00:25 GMT+0200\n\nJob scheduled - Retry 2 of 5 - Wed Jun 14 2023 00:04:01 GMT+0200\nJob enqueued                 - Thu Jun 15 2023 00:45:08 GMT+0200\nProcessing Job               - Thu Jun 15 2023 00:45:11 GMT+0200\nJob processing failed        - Thu Jun 15 2023 00:45:12 GMT+0200\n</code></pre>\n<p>The number of jobs per day is not high, 1000 per day.\nMy custom properties are:</p>\n<pre><code>numberOfRetries = 5\nbackOffPolicyTimeSeed = 6\ndashboardEnabled = true\ndashboardPort = 8000\nbackgroundJobServerEnabled = true\nbackgroundJobServerPollIntervalInSeconds = 75\nbackgroundJobServerDeleteSucceededJobsAfterInHours = 24\nbackgroundJobServerPermanentlyDeleteDeletedJobsAfterInHours = 1\n</code></pre>\n<p>I can understand a delay in the queue because there are not workers available, but what are the possible reasons for this transition delay between the scheduled state and the enqueued state?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":26362734,"reputation":1,"user_id":20018691,"display_name":"Bala Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687247099,"creation_date":1687247099,"question_id":76512424,"body_markdown":"`                              android:textIsSelectable=&quot;false&quot;\r\n                                android:longClickable=&quot;false&quot;\r\n                                android:importantForAutofill=&quot;no&quot;\r\n\r\n     **** accountnumber.setCustomSelectionActionModeCallback(new ActionMode.Callback() {\r\n\r\n            public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\r\n                menu.clear();\r\n                return false;\r\n            }\r\n\r\n            public void onDestroyActionMode(ActionMode mode) {\r\n            }\r\n\r\n            public boolean onCreateActionMode(ActionMode mode, Menu menu) {\r\n                return false;\r\n            }\r\n\r\n            public boolean onActionItemClicked(ActionMode mode, MenuItem item) {\r\n                return false;\r\n            }\r\n        });\r\n           Control pop of paste/undo/ Clipboard ? we need control paste should not happend and account number has ? textpassword thing                    `","title":"How to disable paste /undo/Clipboard/ in InputEditText In Android (If u Long Press on Cursor its able to displaying paste /undo things )","body":"<p>`                              android:textIsSelectable=&quot;false&quot;\nandroid:longClickable=&quot;false&quot;\nandroid:importantForAutofill=&quot;no&quot;</p>\n<pre><code> **** accountnumber.setCustomSelectionActionModeCallback(new ActionMode.Callback() {\n\n        public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n            menu.clear();\n            return false;\n        }\n\n        public void onDestroyActionMode(ActionMode mode) {\n        }\n\n        public boolean onCreateActionMode(ActionMode mode, Menu menu) {\n            return false;\n        }\n\n        public boolean onActionItemClicked(ActionMode mode, MenuItem item) {\n            return false;\n        }\n    });\n       Control pop of paste/undo/ Clipboard ? we need control paste should not happend and account number has ? textpassword thing                    `\n</code></pre>\n"},{"tags":["java","oracle","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1687234783,"post_id":76511032,"comment_id":134904288,"body_markdown":"For ORA-00907, see https://stackoverflow.com/a/38056493/1261766 . For ORA-00933, see https://stackoverflow.com/a/57739792/1261766 .","body":"For ORA-00907, see <a href=\"https://stackoverflow.com/a/38056493/1261766\">stackoverflow.com/a/38056493/1261766</a> . For ORA-00933, see <a href=\"https://stackoverflow.com/a/57739792/1261766\">stackoverflow.com/a/57739792/1261766</a> ."}],"answers":[{"tags":[],"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687246237,"creation_date":1687246237,"answer_id":76512314,"question_id":76511032,"body_markdown":"[Interval literal](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Literals.html#GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E) should have **literals** as its parts: it should be constant.\r\n\r\n&gt; [**Literals**](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Literals.html#GUID-192417E8-A79D-4A1D-9879-68272D925707)\r\n&gt; \r\n&gt; The terms literal and constant value are synonymous and refer to a fixed data value.\r\n\r\nWhat you are trying to compose is not a constant because it has bind *variable*.\r\n\r\n```\r\nSQL&gt; variable i varchar2(10);\r\nSQL&gt; \r\nSQL&gt; exec :i := &#39;10&#39;;\r\n\r\nPL/SQL procedure successfully completed.\r\n\r\nSQL&gt; \r\nSQL&gt; select *\r\n  2  from dual\r\n  3  where systimestamp &gt; systimestamp - interval :i minute\r\n  4  ;\r\n\r\nError starting at line : 7 in command -\r\nselect *\r\nfrom dual\r\nwhere systimestamp &gt; systimestamp - interval :i minute\r\n\r\nError at Command Line : 9 Column : 46\r\nError report -\r\nSQL Error: ORA-00933:   SQL-\r\n00933. 00000 -  &quot;SQL command not properly ended&quot;\r\n*Cause:    \r\n*Action:\r\n```\r\n\r\nHowever, you may use interval arithmetic and specify base value of interval and multiply it by the number of units you want:\r\n\r\n```\r\nSQL&gt; select dual.*, interval &#39;1&#39; minute * to_number(:i) as interval_value\r\n  2  from dual\r\n  3  where systimestamp &gt; systimestamp - interval &#39;1&#39; minute * to_number(:i)\r\n  4  ;\r\n\r\nD INTERVAL_VALUE     \r\n- -------------------\r\nX +00 00:10:00.000000\r\n\r\n1 row selected. \r\n```\r\n\r\nOr use [`numtodsinterval`](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/NUMTODSINTERVAL.html#GUID-5A7392A8-7976-4465-8839-A65EFF1A80B6) function for variable unit:\r\n\r\n```\r\nSQL&gt; variable u varchar2(10);\r\nSQL&gt; exec :u := &#39;minute&#39;;\r\n\r\nPL/SQL procedure successfully completed.\r\n\r\nSQL&gt; \r\nSQL&gt; select dual.*, numtodsinterval(to_number(:i), :u) as interval_value\r\n  2  from dual\r\n  3  where systimestamp &gt; systimestamp - numtodsinterval(to_number(:i), :u)\r\n  4  ;\r\n\r\nD INTERVAL_VALUE     \r\n- -------------------\r\nX +00 00:10:00.000000\r\n\r\n1 row selected.\r\n```\r\n\r\n","title":"I got an ORA-00907 exception when I used mybatis to execute sql","body":"<p><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Literals.html#GUID-49FADC66-794D-4763-88C7-B81BB4F26D9E\" rel=\"nofollow noreferrer\">Interval literal</a> should have <strong>literals</strong> as its parts: it should be constant.</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Literals.html#GUID-192417E8-A79D-4A1D-9879-68272D925707\" rel=\"nofollow noreferrer\"><strong>Literals</strong></a></p>\n<p>The terms literal and constant value are synonymous and refer to a fixed data value.</p>\n</blockquote>\n<p>What you are trying to compose is not a constant because it has bind <em>variable</em>.</p>\n<pre><code>SQL&gt; variable i varchar2(10);\nSQL&gt; \nSQL&gt; exec :i := '10';\n\nPL/SQL procedure successfully completed.\n\nSQL&gt; \nSQL&gt; select *\n  2  from dual\n  3  where systimestamp &gt; systimestamp - interval :i minute\n  4  ;\n\nError starting at line : 7 in command -\nselect *\nfrom dual\nwhere systimestamp &gt; systimestamp - interval :i minute\n\nError at Command Line : 9 Column : 46\nError report -\nSQL Error: ORA-00933:   SQL-\n00933. 00000 -  &quot;SQL command not properly ended&quot;\n*Cause:    \n*Action:\n</code></pre>\n<p>However, you may use interval arithmetic and specify base value of interval and multiply it by the number of units you want:</p>\n<pre><code>SQL&gt; select dual.*, interval '1' minute * to_number(:i) as interval_value\n  2  from dual\n  3  where systimestamp &gt; systimestamp - interval '1' minute * to_number(:i)\n  4  ;\n\nD INTERVAL_VALUE     \n- -------------------\nX +00 00:10:00.000000\n\n1 row selected. \n</code></pre>\n<p>Or use <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/NUMTODSINTERVAL.html#GUID-5A7392A8-7976-4465-8839-A65EFF1A80B6\" rel=\"nofollow noreferrer\"><code>numtodsinterval</code></a> function for variable unit:</p>\n<pre><code>SQL&gt; variable u varchar2(10);\nSQL&gt; exec :u := 'minute';\n\nPL/SQL procedure successfully completed.\n\nSQL&gt; \nSQL&gt; select dual.*, numtodsinterval(to_number(:i), :u) as interval_value\n  2  from dual\n  3  where systimestamp &gt; systimestamp - numtodsinterval(to_number(:i), :u)\n  4  ;\n\nD INTERVAL_VALUE     \n- -------------------\nX +00 00:10:00.000000\n\n1 row selected.\n</code></pre>\n"}],"owner":{"account_id":27662029,"reputation":3,"user_id":21114632,"display_name":"xxx_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76512314,"answer_count":1,"score":0,"last_activity_date":1687246237,"creation_date":1687227546,"question_id":76511032,"body_markdown":"I&#39;m trying to query some data from my DB, This is my SQL code and it runs smoothly in the console\r\n\r\n```sql\r\nselect \tBTN_NAME as btnName,                \r\n\tLAST_EXEC_TIME as lastExecTime,                \r\n\tLAST_EXEC_PARAM as lastExecParam         \r\nfrom BTN_FUNC_FLOW_CTRL\r\nwhere BTN_NAME = &#39;REG_FILE_COLLECT&#39; AND LAST_EXEC_TIME &gt;= (SYSTIMESTAMP - INTERVAL &#39;60&#39; MINUTE);\r\n```\r\n\r\nBut when I wrote this sql in mybatis and executed it, something went wrong, I got an ORA-00907\r\n\r\n```xml\r\n&lt;select id=&quot;getByBtnName&quot; resultType=&quot;xxx.BtnFuncFlowCtrl&quot;&gt;\r\n    select BTN_NAME as btnName,\r\n           LAST_EXEC_TIME as lastExecTime,\r\n           LAST_EXEC_PARAM as lastExecParam\r\n    from regulatory.BTN_FUNC_FLOW_CTRL\r\n    where BTN_NAME = #{btnName} and LAST_EXEC_TIME &gt;= (SYSTIMESTAMP - INTERVAL #{execInterval} MINUTE);\r\n&lt;/select&gt;\r\n```\r\n\r\n```java\r\n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: ORA-00907: missing right parenthesis\r\n\r\n### The error may exist in file [C:\\Users\\Administrator\\IdeaProjects\\xxx\\BtnFuncFlowCtrlMapper.xml]\r\n### The error may involve defaultParameterMap\r\n### The error occurred while setting parameters\r\n### SQL: select BTN_NAME as btnName,                LAST_EXEC_TIME as lastExecTime,                LAST_EXEC_PARAM as lastExecParam         from regulatory.BTN_FUNC_FLOW_CTRL         where BTN_NAME = ? and LAST_EXEC_TIME &gt;= (SYSTIMESTAMP - INTERVAL ? MINUTE);\r\n### Cause: java.sql.SQLSyntaxErrorException: ORA-00907:missing right parenthesis\r\n```\r\n\r\nWhen I remove the parenthesis, I got an ORA-00933\r\n\r\n```xml\r\n&lt;select id=&quot;getByBtnName&quot; resultType=&quot;xxx.BtnFuncFlowCtrl&quot;&gt;\r\n    select BTN_NAME as btnName,\r\n           LAST_EXEC_TIME as lastExecTime,\r\n           LAST_EXEC_PARAM as lastExecParam\r\n    from regulatory.BTN_FUNC_FLOW_CTRL\r\n    where BTN_NAME = #{btnName} and LAST_EXEC_TIME &gt;= SYSTIMESTAMP - INTERVAL #{execInterval} MINUTE;\r\n&lt;/select&gt;\r\n```\r\n\r\n```java\r\n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n\r\n### The error may exist in file [C:\\Users\\Administrator\\IdeaProjects\\xxx\\BtnFuncFlowCtrlMapper.xml]\r\n### The error may involve defaultParameterMap\r\n### The error occurred while setting parameters\r\n### SQL: select BTN_NAME as btnName,                LAST_EXEC_TIME as lastExecTime,                LAST_EXEC_PARAM as lastExecParam         from regulatory.BTN_FUNC_FLOW_CTRL         where BTN_NAME = ? and LAST_EXEC_TIME &gt;= SYSTIMESTAMP - INTERVAL ? MINUTE;\r\n### Cause: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\r\n```\r\n\r\nI wonder why those questions arise and how to fix them.","title":"I got an ORA-00907 exception when I used mybatis to execute sql","body":"<p>I'm trying to query some data from my DB, This is my SQL code and it runs smoothly in the console</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select  BTN_NAME as btnName,                \n    LAST_EXEC_TIME as lastExecTime,                \n    LAST_EXEC_PARAM as lastExecParam         \nfrom BTN_FUNC_FLOW_CTRL\nwhere BTN_NAME = 'REG_FILE_COLLECT' AND LAST_EXEC_TIME &gt;= (SYSTIMESTAMP - INTERVAL '60' MINUTE);\n</code></pre>\n<p>But when I wrote this sql in mybatis and executed it, something went wrong, I got an ORA-00907</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;getByBtnName&quot; resultType=&quot;xxx.BtnFuncFlowCtrl&quot;&gt;\n    select BTN_NAME as btnName,\n           LAST_EXEC_TIME as lastExecTime,\n           LAST_EXEC_PARAM as lastExecParam\n    from regulatory.BTN_FUNC_FLOW_CTRL\n    where BTN_NAME = #{btnName} and LAST_EXEC_TIME &gt;= (SYSTIMESTAMP - INTERVAL #{execInterval} MINUTE);\n&lt;/select&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: ORA-00907: missing right parenthesis\n\n### The error may exist in file [C:\\Users\\Administrator\\IdeaProjects\\xxx\\BtnFuncFlowCtrlMapper.xml]\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: select BTN_NAME as btnName,                LAST_EXEC_TIME as lastExecTime,                LAST_EXEC_PARAM as lastExecParam         from regulatory.BTN_FUNC_FLOW_CTRL         where BTN_NAME = ? and LAST_EXEC_TIME &gt;= (SYSTIMESTAMP - INTERVAL ? MINUTE);\n### Cause: java.sql.SQLSyntaxErrorException: ORA-00907:missing right parenthesis\n</code></pre>\n<p>When I remove the parenthesis, I got an ORA-00933</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;getByBtnName&quot; resultType=&quot;xxx.BtnFuncFlowCtrl&quot;&gt;\n    select BTN_NAME as btnName,\n           LAST_EXEC_TIME as lastExecTime,\n           LAST_EXEC_PARAM as lastExecParam\n    from regulatory.BTN_FUNC_FLOW_CTRL\n    where BTN_NAME = #{btnName} and LAST_EXEC_TIME &gt;= SYSTIMESTAMP - INTERVAL #{execInterval} MINUTE;\n&lt;/select&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\n\n### The error may exist in file [C:\\Users\\Administrator\\IdeaProjects\\xxx\\BtnFuncFlowCtrlMapper.xml]\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: select BTN_NAME as btnName,                LAST_EXEC_TIME as lastExecTime,                LAST_EXEC_PARAM as lastExecParam         from regulatory.BTN_FUNC_FLOW_CTRL         where BTN_NAME = ? and LAST_EXEC_TIME &gt;= SYSTIMESTAMP - INTERVAL ? MINUTE;\n### Cause: java.sql.SQLSyntaxErrorException: ORA-00933: SQL command not properly ended\n</code></pre>\n<p>I wonder why those questions arise and how to fix them.</p>\n"},{"tags":["java","spring","unit-testing","jwt","mocking"],"owner":{"account_id":8700048,"reputation":53,"user_id":6510258,"display_name":"Cysio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687246132,"creation_date":1687217167,"question_id":76510565,"body_markdown":"I&#39;m trying to unit test controller and I cannot mock JWT authentication - I&#39;ve tried multiple approaches to mocking it, however nothing works. JWT tokens are generated by external SSO. Not sure if it&#39;s relevant, but application uses Activiti library. This is my current code:\r\n\r\nController:\r\n\r\n```\r\n@AllArgsConstructor\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/api/my-controller&quot;)\r\npublic class MyControllerController {\r\n\r\n    ...\r\n\r\n    @ResponseStatus(value = HttpStatus.CREATED)\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;admin&#39;, &#39;student&#39;,&#39;graduate&#39;)&quot;)\r\n    @PostMapping(value = &quot;&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;ProcessStartedDTO&gt; repeatingRequest(@CurrentUser UserDetails userDetails,\r\n                                                              @RequestParam(value = &quot;taskId&quot;, required = false) String taskId,\r\n                                                              MyControllerRequest myControllerRequest) {\r\n       ...\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```\r\n@WebMvcTest(MyControllerController.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(SpringExtension.class)\r\n@AutoConfigureMockMvc\r\n@ContextConfiguration\r\npublic class ScholarshipDisabledControllerTest {\r\n\r\n    @MockBean\r\n    private SomeRequiredBean someRequiredBean;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    @WithMockUser(roles = {&quot;student&quot;})\r\n    public void testCreatesNewProcessWhenNoTaskIdProvided() throws Exception {\r\n        Jwt tjwt = Jwt.withTokenValue(&quot;token&quot;)\r\n                .header(&quot;alg&quot;, &quot;none&quot;)\r\n                .claim(&quot;sub&quot;, &quot;user&quot;)\r\n                .claim(&quot;scope&quot;, &quot;reuired-permision-backend-api.write&quot;)\r\n                .build();\r\n\r\n        ResultActions x = mockMvc.perform(\r\n                multipart(&quot;/api/my-controller&quot;)\r\n                        .param(&quot;test&quot;, &quot;test&quot;)\r\n                        //.header(&quot;Authorization&quot;, &quot;Bearer &quot;)\r\n                        .with(jwt().jwt(tjwt).authorities(new SimpleGrantedAuthority(&quot;student&quot;), new SimpleGrantedAuthority(&quot;Student.Read&quot;))))\r\n                .andDo(MockMvcResultHandlers.print());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nResult:\r\n```\r\nMockHttpServletResponse:\r\n           Status = 401\r\n    Error message = null\r\n          Headers = [Cache-Control:&quot;no-store&quot;, Pragma:&quot;no-cache&quot;, WWW-Authenticate:&quot;Bearer realm=&quot;oauth2-resource&quot;, error=&quot;unauthorized&quot;, error_description=&quot;Full authentication is required to access this resource&quot;&quot;, Content-Type:&quot;application/xml;charset=UTF-8&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n     Content type = application/xml;charset=UTF-8\r\n             Body = &lt;UnauthorizedException&gt;&lt;error&gt;unauthorized&lt;/error&gt;&lt;error_description&gt;Full authentication is required to access this resource&lt;/error_description&gt;&lt;/UnauthorizedException&gt;\r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n```","title":"Spring Mocking JWT authentication in Controller tests","body":"<p>I'm trying to unit test controller and I cannot mock JWT authentication - I've tried multiple approaches to mocking it, however nothing works. JWT tokens are generated by external SSO. Not sure if it's relevant, but application uses Activiti library. This is my current code:</p>\n<p>Controller:</p>\n<pre><code>@AllArgsConstructor\n@Slf4j\n@RestController\n@RequestMapping(&quot;/api/my-controller&quot;)\npublic class MyControllerController {\n\n    ...\n\n    @ResponseStatus(value = HttpStatus.CREATED)\n    @PreAuthorize(&quot;hasAnyAuthority('admin', 'student','graduate')&quot;)\n    @PostMapping(value = &quot;&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;ProcessStartedDTO&gt; repeatingRequest(@CurrentUser UserDetails userDetails,\n                                                              @RequestParam(value = &quot;taskId&quot;, required = false) String taskId,\n                                                              MyControllerRequest myControllerRequest) {\n       ...\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@WebMvcTest(MyControllerController.class)\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension.class)\n@AutoConfigureMockMvc\n@ContextConfiguration\npublic class ScholarshipDisabledControllerTest {\n\n    @MockBean\n    private SomeRequiredBean someRequiredBean;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    @WithMockUser(roles = {&quot;student&quot;})\n    public void testCreatesNewProcessWhenNoTaskIdProvided() throws Exception {\n        Jwt tjwt = Jwt.withTokenValue(&quot;token&quot;)\n                .header(&quot;alg&quot;, &quot;none&quot;)\n                .claim(&quot;sub&quot;, &quot;user&quot;)\n                .claim(&quot;scope&quot;, &quot;reuired-permision-backend-api.write&quot;)\n                .build();\n\n        ResultActions x = mockMvc.perform(\n                multipart(&quot;/api/my-controller&quot;)\n                        .param(&quot;test&quot;, &quot;test&quot;)\n                        //.header(&quot;Authorization&quot;, &quot;Bearer &quot;)\n                        .with(jwt().jwt(tjwt).authorities(new SimpleGrantedAuthority(&quot;student&quot;), new SimpleGrantedAuthority(&quot;Student.Read&quot;))))\n                .andDo(MockMvcResultHandlers.print());\n    }\n\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>MockHttpServletResponse:\n           Status = 401\n    Error message = null\n          Headers = [Cache-Control:&quot;no-store&quot;, Pragma:&quot;no-cache&quot;, WWW-Authenticate:&quot;Bearer realm=&quot;oauth2-resource&quot;, error=&quot;unauthorized&quot;, error_description=&quot;Full authentication is required to access this resource&quot;&quot;, Content-Type:&quot;application/xml;charset=UTF-8&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = application/xml;charset=UTF-8\n             Body = &lt;UnauthorizedException&gt;&lt;error&gt;unauthorized&lt;/error&gt;&lt;error_description&gt;Full authentication is required to access this resource&lt;/error_description&gt;&lt;/UnauthorizedException&gt;\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1687236340,"post_id":76511473,"comment_id":134904403,"body_markdown":"Provide code snippets to look at.","body":"Provide code snippets to look at."},{"owner":{"account_id":8803777,"reputation":2955,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1687240196,"post_id":76511473,"comment_id":134904732,"body_markdown":"You need to update dependency version also that support java 17.","body":"You need to update dependency version also that support java 17."},{"owner":{"account_id":16373113,"reputation":352,"user_id":11825939,"display_name":"Mustafa Khalil"},"score":0,"creation_date":1687243141,"post_id":76511473,"comment_id":134905153,"body_markdown":"I did scanning on your pom.xml file and it showed that those dependencies might not be working well with java 17, you might wanna consider upgrading them or set their scope to provided and place their jars in the repository in your .m2\n\njavax.ws.rs:javax.ws.rs-api:2.0\n\n\norg.glassfish.jersey.media:jersey-media-json-processing:2.19\n\n\norg.glassfish.jersey.core:jersey-client:2.20\n\n\ncom.sun.jersey:jersey-client\n\n\nbiz.paluch.logging:logstash-gelf:1.11.2","body":"I did scanning on your pom.xml file and it showed that those dependencies might not be working well with java 17, you might wanna consider upgrading them or set their scope to provided and place their jars in the repository in your .m2  javax.ws.rs:javax.ws.rs-api:2.0   org.glassfish.jersey.media:jersey-media-json-processing:2.19   org.glassfish.jersey.core:jersey-client:2.20   com.sun.jersey:jersey-client   biz.paluch.logging:logstash-gelf:1.11.2"},{"owner":{"account_id":9193725,"reputation":15,"user_id":6833233,"display_name":"Raj"},"score":0,"creation_date":1687244918,"post_id":76511473,"comment_id":134905447,"body_markdown":"I have updated the dependency with latest version but getting same error:","body":"I have updated the dependency with latest version but getting same error:"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687246044,"creation_date":1687246044,"answer_id":76512293,"question_id":76511473,"body_markdown":"Spring Boot 2.7 is not the version you want for Java 17. You need Spring Boot 3.\r\n\r\nAfter that, you&#39;re pretty much on your own for now, things can still go wrong depending on classloading issues, dependency injection inconsistencies, etc. etc.\r\n\r\nI&#39;ve been working on porting something from Java 8 to 17 that&#39;s Spring Boot based for a while now, and it&#39;s not quite smooth sailing. The migration guides provided help, but if you have combinations of dependencies that are outside the mainstream they will only get you so far. And without much more information to be provided by you nobody is going to be able to tell you more.","title":"Spring Boot Application is not running , Getting error","body":"<p>Spring Boot 2.7 is not the version you want for Java 17. You need Spring Boot 3.</p>\n<p>After that, you're pretty much on your own for now, things can still go wrong depending on classloading issues, dependency injection inconsistencies, etc. etc.</p>\n<p>I've been working on porting something from Java 8 to 17 that's Spring Boot based for a while now, and it's not quite smooth sailing. The migration guides provided help, but if you have combinations of dependencies that are outside the mainstream they will only get you so far. And without much more information to be provided by you nobody is going to be able to tell you more.</p>\n"}],"owner":{"account_id":9193725,"reputation":15,"user_id":6833233,"display_name":"Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76512293,"answer_count":1,"score":-1,"last_activity_date":1687246044,"creation_date":1687236109,"question_id":76511473,"body_markdown":"**When I am trying to change java version from java 8 to java 17 then I am getting below Exception.  I also changed My spring boot version previously I was using spring boot 1.3.3.RELEASE version. Please help me.**\r\n\r\n\r\n&gt; *Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/springframework/core/metrics/ApplicationStartup* \tat\r\n&gt; org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:232)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:245)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n&gt; \tat\r\n&gt; com.aujas.keystore.microservice.KeystoreController.main(KeystoreController.java:43)\r\n&gt; *Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.springframework.core.metrics.ApplicationStartup \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)*\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n&gt; \t... 5 more\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Here is my porm.xml file.**\r\n\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;codesign&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;microservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;microservice&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.12&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-zuul&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t      &lt;exclusion&gt;\r\n\t\t         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t         &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t      &lt;/exclusion&gt;\r\n\t\t   &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcmail-jdk16&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.46&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcpg-jdk15on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.49&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-json-processing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;biz.paluch.logging&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logstash-gelf&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Add Log4j2 Dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Brixton.RC1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n**I have Updated latest dependencies as well**\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcmail-jdk16&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.46&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcpg-jdk15on&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.49&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jersey-media-json-processing&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Spring Boot Application is not running , Getting error","body":"<p><strong>When I am trying to change java version from java 8 to java 17 then I am getting below Exception.  I also changed My spring boot version previously I was using spring boot 1.3.3.RELEASE version. Please help me.</strong></p>\n<blockquote>\n<p><em>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\norg/springframework/core/metrics/ApplicationStartup</em>  at\norg.springframework.boot.SpringApplication.(SpringApplication.java:232)\nat\norg.springframework.boot.SpringApplication.(SpringApplication.java:245)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\nat\ncom.aujas.keystore.microservice.KeystoreController.main(KeystoreController.java:43)\n<em>Caused by: java.lang.ClassNotFoundException:\norg.springframework.core.metrics.ApplicationStartup   at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)</em>\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 5 more</p>\n</blockquote>\n<p><strong>Here is my porm.xml file.</strong></p>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;codesign&lt;/groupId&gt;\n&lt;artifactId&gt;microservice&lt;/artifactId&gt;\n&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;microservice&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.12&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-zuul&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n          &lt;exclusion&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n       &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcmail-jdk16&lt;/artifactId&gt;\n        &lt;version&gt;1.46&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpg-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.49&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-processing&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;2.20&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;biz.paluch.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;logstash-gelf&lt;/artifactId&gt;\n        &lt;version&gt;1.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- Add Log4j2 Dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;Brixton.RC1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>I have Updated latest dependencies as well</strong></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcmail-jdk16&lt;/artifactId&gt;\n            &lt;version&gt;1.46&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpg-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.49&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-processing&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","hadoop","intellij-idea","hive"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687213151,"post_id":76507146,"comment_id":134902500,"body_markdown":"You wouldn&#39;t add to the IDE. Rather you&#39;d use tools like Maven or Gradle","body":"You wouldn&#39;t add to the IDE. Rather you&#39;d use tools like Maven or Gradle"},{"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"score":0,"creation_date":1687235089,"post_id":76507146,"comment_id":134904297,"body_markdown":"Thanks @OneCricketeer, I&#39;m using maven as a build system yes. How does one add jars there?","body":"Thanks @OneCricketeer, I&#39;m using maven as a build system yes. How does one add jars there?"},{"owner":{"account_id":24418385,"reputation":731,"user_id":18632985,"display_name":"Hoang Minh Quang FX15045"},"score":0,"creation_date":1687237631,"post_id":76507146,"comment_id":134904498,"body_markdown":"add to the pom.xml file","body":"add to the pom.xml file"}],"answers":[{"tags":[],"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687245454,"creation_date":1687245454,"answer_id":76512220,"question_id":76507146,"body_markdown":"As you&#39;re using Maven, it&#39;s necessary to add the dependency for `hive` in the pom.xml\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.hive/hive-exec --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAfter adding it, reload the project via the Maven tool window:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LBqXA.png","title":"Adding hive and hadoop jars to IntelliJ project","body":"<p>As you're using Maven, it's necessary to add the dependency for <code>hive</code> in the pom.xml</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.apache.hive/hive-exec --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n            &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>After adding it, reload the project via the Maven tool window:</p>\n<p><a href=\"https://i.stack.imgur.com/LBqXA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBqXA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4312800,"reputation":2232,"user_id":3523464,"accept_rate":88,"display_name":"sdgaw erzswer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76512220,"answer_count":1,"score":0,"last_activity_date":1687245454,"creation_date":1687181585,"question_id":76507146,"body_markdown":"I&#39;ve been recently trying to run some unit tests locally (Spark-Scala project), and encountered the following\r\n\r\n```\r\nClassNotFound java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.hive.ql.exec.Utilities when creating Hive client using classpath: \r\nPlease make sure that jars for your version of hive and hadoop are included in the paths passed to spark.sql.hive.metastore.jars.\r\n```\r\nWhere in an IntelliJ project is one supposed to include these jars? E.g., `hive` is working fine from terminal, but IntelliJ seems to require some additional configuration?\r\n\r\nThanks!","title":"Adding hive and hadoop jars to IntelliJ project","body":"<p>I've been recently trying to run some unit tests locally (Spark-Scala project), and encountered the following</p>\n<pre><code>ClassNotFound java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.hive.ql.exec.Utilities when creating Hive client using classpath: \nPlease make sure that jars for your version of hive and hadoop are included in the paths passed to spark.sql.hive.metastore.jars.\n</code></pre>\n<p>Where in an IntelliJ project is one supposed to include these jars? E.g., <code>hive</code> is working fine from terminal, but IntelliJ seems to require some additional configuration?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1687280188,"post_id":76512219,"comment_id":134913440,"body_markdown":"The Google Cloud Storage equivalent is `Composite Objects`. I do not know the Java SDK but general information is [here](https://cloud.google.com/storage/docs/composite-objects) and the JSON API is [here](https://cloud.google.com/storage/docs/json_api/v1/objects/compose).","body":"The Google Cloud Storage equivalent is <code>Composite Objects</code>. I do not know the Java SDK but general information is <a href=\"https://cloud.google.com/storage/docs/composite-objects\" rel=\"nofollow noreferrer\">here</a> and the JSON API is <a href=\"https://cloud.google.com/storage/docs/json_api/v1/objects/compose\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":13974074,"reputation":98,"user_id":19665752,"display_name":"OrkhanGG"},"score":0,"creation_date":1687356162,"post_id":76512219,"comment_id":134925519,"body_markdown":"@JohnHanley, GCP has the worst documentation I have ever encountered in this industry. For instance, when I receive a 400 HTTP status code as a response, and I refer to the GCP documentation to investigate the issue, I am presented with approximately 66 potential scenarios. This is equivalent to implying that one can never truly ascertain the reason behind receiving such a response. I deeply regret having migrated from AWS.","body":"@JohnHanley, GCP has the worst documentation I have ever encountered in this industry. For instance, when I receive a 400 HTTP status code as a response, and I refer to the GCP documentation to investigate the issue, I am presented with approximately 66 potential scenarios. This is equivalent to implying that one can never truly ascertain the reason behind receiving such a response. I deeply regret having migrated from AWS."},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1687362404,"post_id":76512219,"comment_id":134927168,"body_markdown":"Imagine being a lawyer or doctor and you must memorize a shelf of books and take a huge certification before you can have your first job. We have it easy in comparison.","body":"Imagine being a lawyer or doctor and you must memorize a shelf of books and take a huge certification before you can have your first job. We have it easy in comparison."},{"owner":{"account_id":13974074,"reputation":98,"user_id":19665752,"display_name":"OrkhanGG"},"score":0,"creation_date":1687431221,"post_id":76512219,"comment_id":134937397,"body_markdown":"@JohnHanley, I found a solution to my issue today, and I&#39;m relieved. While I understand your point about certain fields being more challenging than programming, it&#39;s important to note that acknowledging difficulties in other fields doesn&#39;t mean engineers should be praised just because their work is less hard. Comparing platforms like GCP and AWS, user experience and ease of use should be considered. If other platforms provide a more user-friendly and intuitive experience, it raises questions about why GCP shouldn&#39;t be equally easy to use. As a user, we expect usability and clear documentation.","body":"@JohnHanley, I found a solution to my issue today, and I&#39;m relieved. While I understand your point about certain fields being more challenging than programming, it&#39;s important to note that acknowledging difficulties in other fields doesn&#39;t mean engineers should be praised just because their work is less hard. Comparing platforms like GCP and AWS, user experience and ease of use should be considered. If other platforms provide a more user-friendly and intuitive experience, it raises questions about why GCP shouldn&#39;t be equally easy to use. As a user, we expect usability and clear documentation."},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1687464949,"post_id":76512219,"comment_id":134944606,"body_markdown":"I agree with you that documentation can be improved. I have been working with AWS and GCP for more than 10 years. I find both equally easy to work with. I have no problem with their documentation. It is rare that I cannot find what I need. For example, I am now working with a new C++ GCP SDK. In the beginning, I was struggling to understand as I had expectations from working with other SDKs. I decided to read every single page, including the source code, and practiced. Now, I think that the documentation is very good and the SDK is amazing. Experience and perspective changed my opinion.","body":"I agree with you that documentation can be improved. I have been working with AWS and GCP for more than 10 years. I find both equally easy to work with. I have no problem with their documentation. It is rare that I cannot find what I need. For example, I am now working with a new C++ GCP SDK. In the beginning, I was struggling to understand as I had expectations from working with other SDKs. I decided to read every single page, including the source code, and practiced. Now, I think that the documentation is very good and the SDK is amazing. Experience and perspective changed my opinion."}],"owner":{"account_id":13974074,"reputation":98,"user_id":19665752,"display_name":"OrkhanGG"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687245452,"creation_date":1687245452,"question_id":76512219,"body_markdown":"I previously developed a system using Spring Boot, which utilized AWS S3 for uploading files in chunks. The workflow involved obtaining an upload ID, generating a signed URL for each chunk, and then stitching the uploaded chunks together with a call to my Spring Boot server. However, I have recently migrated to Google Cloud Platform (GCP), and I&#39;m unsure how to replicate this functionality as there doesn&#39;t seem to be a direct equivalent resource in GCP.\r\n\r\nHere are the key steps I followed with AWS S3:\r\n\r\n 1. Obtaining an upload ID for file uploads. \r\n 2. Generating a signed URL for each chunk using the upload ID. \r\n 3. Uploading the file chunks to AWS S3 using the signed URLs. \r\n 4. Stitching the uploaded chunks together on the server side with a call to my Spring Boot server.\r\n\r\nI would like to achieve a similar file upload mechanism using GCP&#39;s storage service. Can someone provide guidance on how to accomplish this with GCP? Specifically, I need assistance with the following points:\r\n\r\n 1. How can I obtain an upload ID or a similar identifier in GCP for chunked file uploads?\r\n 2. Is there an equivalent to generating signed URLs for each chunk in GCP, and if so, how can I implement it?\r\n 3. What would be the best approach to upload the file chunks to GCP&#39;s storage service using the generated URLs?\r\n 4. Lastly, how can I stitch the uploaded file chunks together on the server side using Spring Boot with GCP?\r\n\r\nAny assistance or suggestions on achieving this file upload workflow in GCP with Spring Boot would be greatly appreciated. Thank you in advance!","title":"Migrating from AWS S3 to GCP: Uploading Files in Chunks and Stitching with Spring Boot","body":"<p>I previously developed a system using Spring Boot, which utilized AWS S3 for uploading files in chunks. The workflow involved obtaining an upload ID, generating a signed URL for each chunk, and then stitching the uploaded chunks together with a call to my Spring Boot server. However, I have recently migrated to Google Cloud Platform (GCP), and I'm unsure how to replicate this functionality as there doesn't seem to be a direct equivalent resource in GCP.</p>\n<p>Here are the key steps I followed with AWS S3:</p>\n<ol>\n<li>Obtaining an upload ID for file uploads.</li>\n<li>Generating a signed URL for each chunk using the upload ID.</li>\n<li>Uploading the file chunks to AWS S3 using the signed URLs.</li>\n<li>Stitching the uploaded chunks together on the server side with a call to my Spring Boot server.</li>\n</ol>\n<p>I would like to achieve a similar file upload mechanism using GCP's storage service. Can someone provide guidance on how to accomplish this with GCP? Specifically, I need assistance with the following points:</p>\n<ol>\n<li>How can I obtain an upload ID or a similar identifier in GCP for chunked file uploads?</li>\n<li>Is there an equivalent to generating signed URLs for each chunk in GCP, and if so, how can I implement it?</li>\n<li>What would be the best approach to upload the file chunks to GCP's storage service using the generated URLs?</li>\n<li>Lastly, how can I stitch the uploaded file chunks together on the server side using Spring Boot with GCP?</li>\n</ol>\n<p>Any assistance or suggestions on achieving this file upload workflow in GCP with Spring Boot would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14162098,"reputation":717,"user_id":10231115,"display_name":"Vihar Manchala"},"score":0,"creation_date":1552323003,"post_id":55106571,"comment_id":96956379,"body_markdown":"I found an example for you, here is the link : https://stackoverflow.com/questions/26699385/spring-boot-yaml-configuration-for-a-list-of-strings","body":"I found an example for you, here is the link : <a href=\"https://stackoverflow.com/questions/26699385/spring-boot-yaml-configuration-for-a-list-of-strings\" title=\"spring boot yaml configuration for a list of strings\">stackoverflow.com/questions/26699385/&hellip;</a>"},{"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"score":0,"creation_date":1552323583,"post_id":55106571,"comment_id":96956728,"body_markdown":"@ViharManchala The question that you gave me deals with importing the configuration to the java class. I got that part working. What I want to do is to have an environment variable that specify the values of a collection instead of hard-coding the list values in the `application.yml` file. This gives me the freedom to change the list values without changing the content of `application.yml` file.","body":"@ViharManchala The question that you gave me deals with importing the configuration to the java class. I got that part working. What I want to do is to have an environment variable that specify the values of a collection instead of hard-coding the list values in the <code>application.yml</code> file. This gives me the freedom to change the list values without changing the content of <code>application.yml</code> file."},{"owner":{"account_id":8081835,"reputation":852,"user_id":6090738,"display_name":"Van_Cleff"},"score":0,"creation_date":1552324083,"post_id":55106571,"comment_id":96956996,"body_markdown":"Do you wish to re-write the updated value to the `application.yml` file back or just keep it in memory?","body":"Do you wish to re-write the updated value to the <code>application.yml</code> file back or just keep it in memory?"},{"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"score":0,"creation_date":1552333074,"post_id":55106571,"comment_id":96961232,"body_markdown":"@vancleff I just need to keep the update value in memory, no need to update `application.yml`.","body":"@vancleff I just need to keep the update value in memory, no need to update <code>application.yml</code>."}],"answers":[{"comments":[{"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"score":0,"creation_date":1552336779,"post_id":55109683,"comment_id":96962896,"body_markdown":"I think by oversimplifying my question, I shoot myself in the foot. Your answer works well with the example given in my question. However, what happens if instead of a collection of simple string topic names, I need a bit more complex structure. For example, something like\n\n\n    properties:\n          topics:\n            - \n              name: topic-01\n              id: id-1\n            - \n              name: topic-02\n              id: id-2\n            - \n              name: topic-03\n              id: id-3","body":"I think by oversimplifying my question, I shoot myself in the foot. Your answer works well with the example given in my question. However, what happens if instead of a collection of simple string topic names, I need a bit more complex structure. For example, something like       properties:           topics:             -                name: topic-01               id: id-1             -                name: topic-02               id: id-2             -                name: topic-03               id: id-3"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552336875,"post_id":55109683,"comment_id":96962949,"body_markdown":"@PhuongHoang why would you want to set such a complex structure inside the environment variables? I mean, if you can set the environment variables you can also just point to a specific YAML file. You can recover that path, and deserialize the content (using Jackson)","body":"@PhuongHoang why would you want to set such a complex structure inside the environment variables? I mean, if you can set the environment variables you can also just point to a specific YAML file. You can recover that path, and deserialize the content (using Jackson)"},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552337453,"post_id":55109683,"comment_id":96963204,"body_markdown":"@PhuongHoang let me know if I need to post an example using a file path.","body":"@PhuongHoang let me know if I need to post an example using a file path."},{"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"score":0,"creation_date":1552337938,"post_id":55109683,"comment_id":96963405,"body_markdown":"I am not aware of using the environment containing file path. I am using this complex structure is because I am trying to do similar things like this (https://objectpartners.com/2018/07/31/configuring-kafka-topics-with-spring-kafka/). I also want to deploy the app to multiple environments, each with different set of topics and configuration options. I can resort to using multiple spring profiles, but if the values of the topics change, I have to change the `yml` files. This may not be something I have to do, but it&#39;s nice to know if it can be done so that changing the values is simple.","body":"I am not aware of using the environment containing file path. I am using this complex structure is because I am trying to do similar things like this (<a href=\"https://objectpartners.com/2018/07/31/configuring-kafka-topics-with-spring-kafka/\" rel=\"nofollow noreferrer\">objectpartners.com/2018/07/31/&hellip;</a>). I also want to deploy the app to multiple environments, each with different set of topics and configuration options. I can resort to using multiple spring profiles, but if the values of the topics change, I have to change the <code>yml</code> files. This may not be something I have to do, but it&#39;s nice to know if it can be done so that changing the values is simple."},{"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"score":0,"creation_date":1552337977,"post_id":55109683,"comment_id":96963424,"body_markdown":"it may be helpful if you can post an example with file path, if you don&#39;t mind.","body":"it may be helpful if you can post an example with file path, if you don&#39;t mind."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552338341,"post_id":55109683,"comment_id":96963574,"body_markdown":"@PhuongHoang see updated answer. I tested it on a JSON document, but it&#39;s the same with YAML.","body":"@PhuongHoang see updated answer. I tested it on a JSON document, but it&#39;s the same with YAML."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552338955,"post_id":55109683,"comment_id":96963857,"body_markdown":"@PhuongHoang and by tested I mean that I just tried it live.","body":"@PhuongHoang and by tested I mean that I just tried it live."},{"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"score":0,"creation_date":1552339828,"post_id":55109683,"comment_id":96964191,"body_markdown":"Thanks, I will modify your examples to fit my case.","body":"Thanks, I will modify your examples to fit my case."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552339934,"post_id":55109683,"comment_id":96964231,"body_markdown":"@PhuongHoang remember that Jackson has a separate module for YAML","body":"@PhuongHoang remember that Jackson has a separate module for YAML"}],"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":9,"down_vote_count":3,"up_vote_count":9,"is_accepted":true,"score":6,"last_activity_date":1552339223,"creation_date":1552335200,"answer_id":55109683,"question_id":55106571,"body_markdown":"Suggestion, don&#39;t overcomplicate.\r\n\r\nSay you want that list as an `Environment` variable. You&#39;d set it using\r\n\r\n    -Dtopics=topic-01,topic-02,topic-03\r\n\r\nYou then can recover it using the injected `Environment` Bean, and create a new `List&lt;String&gt;` Bean\r\n\r\n    @Bean\r\n    @Qualifier(&quot;topics&quot;)\r\n    List&lt;String&gt; topics(final Environment environment) {\r\n    \tfinal var topics = environment.getProperty(&quot;topics&quot;, &quot;&quot;);\r\n    \treturn Arrays.asList(topics.split(&quot;,&quot;));\r\n    }\r\n\r\nFrom now on, that `List` can be `@Autowired`.&lt;br&gt;\r\nYou can also consider creating your custom qualifier annotation, maybe `@Topics`.\r\n\r\nThen\r\n\r\n    @Service\r\n    class TopicService {\r\n       @Topics\r\n       @Autowired\r\n       private List&lt;String&gt; topics;\r\n    \r\n       ...\r\n    }\r\n\r\nOr even\r\n\r\n    @Service\r\n    class TopicService {\r\n       private final List&lt;String&gt; topics;\r\n\r\n       TopicService(@Topics final List&lt;String&gt; topics) {\r\n          this.topics = topics;\r\n       }\r\n\r\n       ...\r\n    }\r\n\r\n----------\r\n\r\nWhat you could do is use an externalized file.&lt;br&gt;\r\nPass to the environment parameters the path to that file.\r\n\r\n    -DtopicsPath=C:/whatever/path/file.json\r\n\r\nThan use the `Environment` Bean to recover that path. Read the file content and ask `Jackson` to deserialize it\r\n\r\nYou&#39;d also need to create a simple `Topic` class\r\n\r\n    public class Topic {\r\n    \tpublic String name;\r\n    \tpublic String id;\r\n    }\r\n\r\nWhich represents an element of this `JSON` array\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;name&quot;: &quot;topic-1&quot;,\r\n    \t\t&quot;id&quot;: &quot;id-1&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;name&quot;: &quot;topic-2&quot;,\r\n    \t\t&quot;id&quot;: &quot;id-2&quot;\r\n    \t}\r\n    ]\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n    @Bean\r\n    List&lt;Topic&gt; topics(\r\n    \t\tfinal Environment environment,\r\n    \t\tfinal ObjectMapper objectMapper) throws IOException {\r\n        // Get the file path\r\n    \tfinal var topicsPath = environment.getProperty(&quot;topicsPath&quot;);\r\n    \t\r\n    \tif (topicsPath == null) {\r\n    \t\treturn Collections.emptyList();\r\n    \t}\r\n    \t\r\n        // Read the file content\r\n    \tfinal var json = Files.readString(Paths.get(topicsPath));\r\n \r\n        // Convert the JSON to Java objects\r\n    \tfinal var topics = objectMapper.readValue(json, Topic[].class);\r\n    \treturn Arrays.asList(topics);\r\n    }\r\n\r\n----------\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xhc30.png","title":"Environment variables for list in spring boot configuration","body":"<p>Suggestion, don't overcomplicate.</p>\n\n<p>Say you want that list as an <code>Environment</code> variable. You'd set it using</p>\n\n<pre><code>-Dtopics=topic-01,topic-02,topic-03\n</code></pre>\n\n<p>You then can recover it using the injected <code>Environment</code> Bean, and create a new <code>List&lt;String&gt;</code> Bean</p>\n\n<pre><code>@Bean\n@Qualifier(\"topics\")\nList&lt;String&gt; topics(final Environment environment) {\n    final var topics = environment.getProperty(\"topics\", \"\");\n    return Arrays.asList(topics.split(\",\"));\n}\n</code></pre>\n\n<p>From now on, that <code>List</code> can be <code>@Autowired</code>.<br>\nYou can also consider creating your custom qualifier annotation, maybe <code>@Topics</code>.</p>\n\n<p>Then</p>\n\n<pre><code>@Service\nclass TopicService {\n   @Topics\n   @Autowired\n   private List&lt;String&gt; topics;\n\n   ...\n}\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>@Service\nclass TopicService {\n   private final List&lt;String&gt; topics;\n\n   TopicService(@Topics final List&lt;String&gt; topics) {\n      this.topics = topics;\n   }\n\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>What you could do is use an externalized file.<br>\nPass to the environment parameters the path to that file.</p>\n\n<pre><code>-DtopicsPath=C:/whatever/path/file.json\n</code></pre>\n\n<p>Than use the <code>Environment</code> Bean to recover that path. Read the file content and ask <code>Jackson</code> to deserialize it</p>\n\n<p>You'd also need to create a simple <code>Topic</code> class</p>\n\n<pre><code>public class Topic {\n    public String name;\n    public String id;\n}\n</code></pre>\n\n<p>Which represents an element of this <code>JSON</code> array</p>\n\n<pre><code>[\n    {\n        \"name\": \"topic-1\",\n        \"id\": \"id-1\"\n    },\n    {\n        \"name\": \"topic-2\",\n        \"id\": \"id-2\"\n    }\n]\n</code></pre>\n\n<hr>\n\n<pre><code>@Bean\nList&lt;Topic&gt; topics(\n        final Environment environment,\n        final ObjectMapper objectMapper) throws IOException {\n    // Get the file path\n    final var topicsPath = environment.getProperty(\"topicsPath\");\n\n    if (topicsPath == null) {\n        return Collections.emptyList();\n    }\n\n    // Read the file content\n    final var json = Files.readString(Paths.get(topicsPath));\n\n    // Convert the JSON to Java objects\n    final var topics = objectMapper.readValue(json, Topic[].class);\n    return Arrays.asList(topics);\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/xhc30.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xhc30.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":6717404,"reputation":1454,"user_id":5178801,"display_name":"J. Murray"},"score":0,"creation_date":1569938860,"post_id":58186093,"comment_id":102752805,"body_markdown":"Can you provide a bit more about what your answer does to solve the problem (aside from posting an external link?)","body":"Can you provide a bit more about what your answer does to solve the problem (aside from posting an external link?)"},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":5,"creation_date":1575308632,"post_id":58186093,"comment_id":104514361,"body_markdown":"Thanks! This actually answers the question unlike the accepted answer! I want to add one **caution**: as soon as you override some property of object-item in the list this way, you&#39;ll actually override all the list, not just a one property of one list item. So, the all list will be created from scratch, ignoring any bindings in original `yaml` configuration file. So, you can&#39;t just override one small property. You are forced to set up **all** list items in environment variables.","body":"Thanks! This actually answers the question unlike the accepted answer! I want to add one <b>caution</b>: as soon as you override some property of object-item in the list this way, you&#39;ll actually override all the list, not just a one property of one list item. So, the all list will be created from scratch, ignoring any bindings in original <code>yaml</code> configuration file. So, you can&#39;t just override one small property. You are forced to set up <b>all</b> list items in environment variables."},{"owner":{"account_id":4523413,"reputation":996,"user_id":3675955,"display_name":"fightlight"},"score":0,"creation_date":1584611450,"post_id":58186093,"comment_id":107491136,"body_markdown":"Another important addition :) Don&#39;t forget that index starts from 0. So if you wanna override this yaml list `my.foo: [one, two, three, four]` define this env-s: `MY_FOO_0=eins; MY_FOO_1=zwei; MY_FOO_2=drei`","body":"Another important addition :) Don&#39;t forget that index starts from 0. So if you wanna override this yaml list <code>my.foo: [one, two, three, four]</code> define this env-s: <code>MY_FOO_0=eins; MY_FOO_1=zwei; MY_FOO_2=drei</code>"}],"tags":[],"owner":{"account_id":227489,"reputation":709,"user_id":489191,"display_name":"Corgan"},"comment_count":3,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1569939281,"creation_date":1569937287,"answer_id":58186093,"question_id":55106571,"body_markdown":"a bit late for the show but, I was facing the same problem and this solves it\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0#lists-1\r\n\r\n    MY_FOO_1_ = my.foo[1]\r\n    \r\n    MY_FOO_1_BAR = my.foo[1].bar\r\n    \r\n    MY_FOO_1_2_ = my.foo[1][2]`\r\n\r\n\r\nSo, for the example in the question:\r\n\r\n    properties:\r\n      topics:\r\n        - \r\n          name: topic-01\r\n          id: id-1\r\n        - \r\n          name: topic-02\r\n          id: id-2\r\n        - \r\n          name: topic-03\r\n          id: id-3\r\n\r\nThe environment variables should look like this:\r\n\r\n    PROPERTIES_TOPICS_0_NAME=topic-01\r\n    PROPERTIES_TOPICS_0_ID=id-01\r\n    PROPERTIES_TOPICS_1_NAME=topic-02\r\n    PROPERTIES_TOPICS_1_ID=id-02\r\n    PROPERTIES_TOPICS_2_NAME=topic-03\r\n    PROPERTIES_TOPICS_2_ID=id-03","title":"Environment variables for list in spring boot configuration","body":"<p>a bit late for the show but, I was facing the same problem and this solves it</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0#lists-1\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0#lists-1</a></p>\n\n<pre><code>MY_FOO_1_ = my.foo[1]\n\nMY_FOO_1_BAR = my.foo[1].bar\n\nMY_FOO_1_2_ = my.foo[1][2]`\n</code></pre>\n\n<p>So, for the example in the question:</p>\n\n<pre><code>properties:\n  topics:\n    - \n      name: topic-01\n      id: id-1\n    - \n      name: topic-02\n      id: id-2\n    - \n      name: topic-03\n      id: id-3\n</code></pre>\n\n<p>The environment variables should look like this:</p>\n\n<pre><code>PROPERTIES_TOPICS_0_NAME=topic-01\nPROPERTIES_TOPICS_0_ID=id-01\nPROPERTIES_TOPICS_1_NAME=topic-02\nPROPERTIES_TOPICS_1_ID=id-02\nPROPERTIES_TOPICS_2_NAME=topic-03\nPROPERTIES_TOPICS_2_ID=id-03\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610609361,"creation_date":1610429937,"answer_id":65678529,"question_id":55106571,"body_markdown":"    Also facing the same issue , fixed with having a array in deployment.yaml from values.yml replacing the default values of application.yml\r\n    \r\n    example as : \r\n    \r\n    deployment.yml -\r\n    \r\n    ----------------\r\n    \r\n    env: \r\n                - name : SUBSCRIBTION_SITES_0_DATAPROVIDER\r\n                  value: {{ (index .Values.subscription.sites 0).dataprovider | quote }}\r\n                - name: SUBSCRIBTION_SITES_0_NAME\r\n                  value: {{ (index .Values.subscription.sites 0).name | quote }}\r\n    \r\n    values.yml -\r\n    \r\n    ---------------\r\n    \r\n      subscription:\r\n        sites:\r\n          - dataprovider: abc\r\n            name: static\r\n    \r\n    application.yml -\r\n    \r\n    ------------------\r\n    \r\n      subscription:\r\n        sites:\r\n          - dataprovider: ${SUBSCRIBTION_SITES_0_DATAPROVIDER:abcd}\r\n            name: ${SUBSCRIBTION_SITES_0_NAME:static}\r\n        \r\n    Java Code :\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;subscription&quot;)\r\n    public class DetailsProperties {\r\n    \r\n        private List&lt;DetailsDto&gt; sites;\r\n    \r\n        DetailsProperties() {\r\n            this.sites = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n    }\r\n    \r\n    Pojo mapped :\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DetailsDto {\r\n        private String dataprovider;\r\n        private String name;\r\n    }\r\n\r\n","title":"Environment variables for list in spring boot configuration","body":"<pre><code>Also facing the same issue , fixed with having a array in deployment.yaml from values.yml replacing the default values of application.yml\n\nexample as : \n\ndeployment.yml -\n\n----------------\n\nenv: \n            - name : SUBSCRIBTION_SITES_0_DATAPROVIDER\n              value: {{ (index .Values.subscription.sites 0).dataprovider | quote }}\n            - name: SUBSCRIBTION_SITES_0_NAME\n              value: {{ (index .Values.subscription.sites 0).name | quote }}\n\nvalues.yml -\n\n---------------\n\n  subscription:\n    sites:\n      - dataprovider: abc\n        name: static\n\napplication.yml -\n\n------------------\n\n  subscription:\n    sites:\n      - dataprovider: ${SUBSCRIBTION_SITES_0_DATAPROVIDER:abcd}\n        name: ${SUBSCRIBTION_SITES_0_NAME:static}\n    \nJava Code :\n\n@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(prefix = &quot;subscription&quot;)\npublic class DetailsProperties {\n\n    private List&lt;DetailsDto&gt; sites;\n\n    DetailsProperties() {\n        this.sites = new ArrayList&lt;&gt;();\n    }\n\n}\n\nPojo mapped :\n\n@Getter\n@Setter\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DetailsDto {\n    private String dataprovider;\n    private String name;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"score":0,"creation_date":1701160077,"post_id":73255733,"comment_id":136737675,"body_markdown":"Excellent answer! Thank you very much.\nMy Kotlin version:\n\n    private fun getPropertyList(environment: Environment, propertyName: String): MutableList&lt;String&gt; {\n        val arrayPropertyAsList: MutableList&lt;String&gt; = mutableListOf()\n        var i = 0\n        var value: String?\n        do {\n            value = environment.getProperty(propertyName + &quot;[&quot; + i++ + &quot;]&quot;)\n            if (value != null) {\n                arrayPropertyAsList.add(value)\n            }\n        } while (value != null)\n        return arrayPropertyAsList\n    }","body":"Excellent answer! Thank you very much. My Kotlin version:      private fun getPropertyList(environment: Environment, propertyName: String): MutableList&lt;String&gt; {         val arrayPropertyAsList: MutableList&lt;String&gt; = mutableListOf()         var i = 0         var value: String?         do {             value = environment.getProperty(propertyName + &quot;[&quot; + i++ + &quot;]&quot;)             if (value != null) {                 arrayPropertyAsList.add(value)             }         } while (value != null)         return arrayPropertyAsList     }"}],"tags":[],"owner":{"account_id":58713,"reputation":1207,"user_id":175759,"accept_rate":40,"display_name":"gaoagong"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659737739,"creation_date":1659737739,"answer_id":73255733,"question_id":55106571,"body_markdown":"I built a quick little utility to do this.\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.core.env.Environment;\r\n    \r\n    /**\r\n     * Convenience methods for dealing with properties.\r\n     */\r\n    public final class PropertyUtils {\r\n    \r\n      private PropertyUtils() {\r\n      }\r\n    \r\n      public static List&lt;String&gt; getPropertyArray(Environment environment, String propertyName) {\r\n        final List&lt;String&gt; arrayPropertyAsList = new LinkedList&lt;&gt;();\r\n        int i = 0;\r\n        String value;\r\n        do {\r\n          value = environment.getProperty(propertyName + &quot;[&quot; + i++ + &quot;]&quot;);\r\n          if (value != null) {\r\n            arrayPropertyAsList.add(value);\r\n          }\r\n        } while (value != null);\r\n    \r\n        return arrayPropertyAsList;\r\n      }\r\n    \r\n    }\r\n\r\nYou could modify this without too many changes to support multiple fields as well. I&#39;ve seen similar things done to load an array of database configurations from properties.","title":"Environment variables for list in spring boot configuration","body":"<p>I built a quick little utility to do this.</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\n\nimport org.springframework.core.env.Environment;\n\n/**\n * Convenience methods for dealing with properties.\n */\npublic final class PropertyUtils {\n\n  private PropertyUtils() {\n  }\n\n  public static List&lt;String&gt; getPropertyArray(Environment environment, String propertyName) {\n    final List&lt;String&gt; arrayPropertyAsList = new LinkedList&lt;&gt;();\n    int i = 0;\n    String value;\n    do {\n      value = environment.getProperty(propertyName + &quot;[&quot; + i++ + &quot;]&quot;);\n      if (value != null) {\n        arrayPropertyAsList.add(value);\n      }\n    } while (value != null);\n\n    return arrayPropertyAsList;\n  }\n\n}\n</code></pre>\n<p>You could modify this without too many changes to support multiple fields as well. I've seen similar things done to load an array of database configurations from properties.</p>\n"},{"tags":[],"owner":{"account_id":2016943,"reputation":457,"user_id":1804024,"accept_rate":86,"display_name":"Andrey Dobrikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687245154,"creation_date":1687245154,"answer_id":76512181,"question_id":55106571,"body_markdown":"Yet another way to solve this, it is uglier in the parsing but very easy and works. Replace:\r\n\r\n    properties:\r\n      topics:\r\n        - \r\n          name: topic-01\r\n          id: id-1\r\n        - \r\n          name: topic-02\r\n          id: id-2\r\n        - \r\n          name: topic-03\r\n          id: id-3\r\n\r\nWith:\r\n\r\n    properties:\r\n      topics: topic-01,topic-02,topic-03\r\n      id: id-1,id-2,id-3\r\n\r\nAnd read it like this:\r\n\r\n    private List&lt;CombinedTopic&gt; topicsCombined = new ArrayList&lt;&gt;();\r\n    public CombinedTopic(@Value(&quot;${properties.topics}&quot;) List&lt;String&gt; topics,\r\n                         @Value(&quot;${properties.id}&quot;) List&lt;String&gt; ids) {\r\n        List&lt;CombinedTopic&gt; collect = IntStream.range(0, ids.size())\r\n            .mapToObj(i -&gt; new CombinedTopic(ids.get(i), topics.get(i)))\r\n                .toList();\r\n    }\r\nNote that I assume that ID and Topic must go together and in the same order.\r\n      ","title":"Environment variables for list in spring boot configuration","body":"<p>Yet another way to solve this, it is uglier in the parsing but very easy and works. Replace:</p>\n<pre><code>properties:\n  topics:\n    - \n      name: topic-01\n      id: id-1\n    - \n      name: topic-02\n      id: id-2\n    - \n      name: topic-03\n      id: id-3\n</code></pre>\n<p>With:</p>\n<pre><code>properties:\n  topics: topic-01,topic-02,topic-03\n  id: id-1,id-2,id-3\n</code></pre>\n<p>And read it like this:</p>\n<pre><code>private List&lt;CombinedTopic&gt; topicsCombined = new ArrayList&lt;&gt;();\npublic CombinedTopic(@Value(&quot;${properties.topics}&quot;) List&lt;String&gt; topics,\n                     @Value(&quot;${properties.id}&quot;) List&lt;String&gt; ids) {\n    List&lt;CombinedTopic&gt; collect = IntStream.range(0, ids.size())\n        .mapToObj(i -&gt; new CombinedTopic(ids.get(i), topics.get(i)))\n            .toList();\n}\n</code></pre>\n<p>Note that I assume that ID and Topic must go together and in the same order.</p>\n"}],"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34268,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":55109683,"answer_count":5,"score":34,"last_activity_date":1687245154,"creation_date":1552322620,"question_id":55106571,"body_markdown":"For my Spring Boot application, I am trying to use an environment variable that holds the list of `properties.topics` in `application.yml` (see configuration below). \r\n\r\n    properties:\r\n          topics:\r\n            - topic-01\r\n            - topic-02\r\n            - topic-03\r\n\r\nI use the configuration file to populate properties bean (see this [spring documentation][1]), as shown below\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @ConfigurationProperties(&quot;properties&quot;)\r\n    public class ApplicationProperties {\r\n      private List&lt;String&gt; topics = new ArrayList&lt;&gt;();\r\n      public void setTopics(List&lt;String&gt; topics) {\r\n         this.topics = topics;\r\n      }\r\n      public List&lt;String&gt; getTopics() {\r\n         return this.topics;\r\n      }\r\n    }\r\n\r\nWith the use of environment variable, I can have the list&#39;s content change without changing the `application.yml`. However, all examples that I could find so far only for cases where an environment variable holding only single value, not a collection of values in my case.\r\n\r\n**Edit:**\r\n\r\nTo make it clear after @vancleff&#39;s comment, I do not need the values of the environment variable to be saved to `application.yml`.  \r\n\r\n**Another edit:**\r\n\r\nI think by oversimplifying my question, I shoot myself in the foot. @LppEdd answer works well with the example given in my question. However, what happens if instead of a collection of simple string topic names, I need a bit more complex structure. For example, something like\r\n\r\n    properties:\r\n      topics:\r\n        - \r\n          name: topic-01\r\n          id: id-1\r\n        - \r\n          name: topic-02\r\n          id: id-2\r\n        - \r\n          name: topic-03\r\n          id: id-3\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties","title":"Environment variables for list in spring boot configuration","body":"<p>For my Spring Boot application, I am trying to use an environment variable that holds the list of <code>properties.topics</code> in <code>application.yml</code> (see configuration below). </p>\n\n<pre><code>properties:\n      topics:\n        - topic-01\n        - topic-02\n        - topic-03\n</code></pre>\n\n<p>I use the configuration file to populate properties bean (see this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"noreferrer\">spring documentation</a>), as shown below</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(\"properties\")\npublic class ApplicationProperties {\n  private List&lt;String&gt; topics = new ArrayList&lt;&gt;();\n  public void setTopics(List&lt;String&gt; topics) {\n     this.topics = topics;\n  }\n  public List&lt;String&gt; getTopics() {\n     return this.topics;\n  }\n}\n</code></pre>\n\n<p>With the use of environment variable, I can have the list's content change without changing the <code>application.yml</code>. However, all examples that I could find so far only for cases where an environment variable holding only single value, not a collection of values in my case.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>To make it clear after @vancleff's comment, I do not need the values of the environment variable to be saved to <code>application.yml</code>.  </p>\n\n<p><strong>Another edit:</strong></p>\n\n<p>I think by oversimplifying my question, I shoot myself in the foot. @LppEdd answer works well with the example given in my question. However, what happens if instead of a collection of simple string topic names, I need a bit more complex structure. For example, something like</p>\n\n<pre><code>properties:\n  topics:\n    - \n      name: topic-01\n      id: id-1\n    - \n      name: topic-02\n      id: id-2\n    - \n      name: topic-03\n      id: id-3\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","grpc","grpc-java"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1689281755,"post_id":76512147,"comment_id":135195525,"body_markdown":"This should probably help \n\nhttps://swagger.io/resources/articles/documenting-apis-with-swagger/#how-to-generate-openapi-from-existing-apis-7 ?","body":"This should probably help   <a href=\"https://swagger.io/resources/articles/documenting-apis-with-swagger/#how-to-generate-openapi-from-existing-apis-7\" rel=\"nofollow noreferrer\">swagger.io/resources/articles/documenting-apis-with-swagger/&zwnj;&#8203;&hellip;</a> ?"}],"owner":{"account_id":24285494,"reputation":19,"user_id":18231325,"display_name":"Roohi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687244807,"creation_date":1687244807,"question_id":76512147,"body_markdown":"Let&#39;s imagine I have a multimodule project, which has two micro services named serviceA and serviceB.\r\n\r\nserviceA makes RPC calls to serviceB.\r\n\r\nIs there any way that I can document these RPC calls to Swagger UI?","title":"How to add Swagger UI documentation for gRPC calls in Spring Boot Project","body":"<p>Let's imagine I have a multimodule project, which has two micro services named serviceA and serviceB.</p>\n<p>serviceA makes RPC calls to serviceB.</p>\n<p>Is there any way that I can document these RPC calls to Swagger UI?</p>\n"},{"tags":["java","excel","file-io","apache-poi"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682290028,"post_id":76087567,"comment_id":134187650,"body_markdown":"&quot;_the example online_&quot; - I don&#39;t know what example you are looking at, but I would look at the examples [here, for writing a new file](https://poi.apache.org/components/spreadsheet/quick-guide.html#NewWorkbook), and also [here for reading an existing file](https://poi.apache.org/components/spreadsheet/quick-guide.html#ReadWriteWorkbook). (Note the differences between handling `.xls` formats and `.xlsx` formats.)","body":"&quot;<i>the example online</i>&quot; - I don&#39;t know what example you are looking at, but I would look at the examples <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#NewWorkbook\" rel=\"nofollow noreferrer\">here, for writing a new file</a>, and also <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#ReadWriteWorkbook\" rel=\"nofollow noreferrer\">here for reading an existing file</a>. (Note the differences between handling <code>.xls</code> formats and <code>.xlsx</code> formats.)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1682292718,"post_id":76087567,"comment_id":134187904,"body_markdown":"More [here](https://stackoverflow.com/questions/76078315/apache-poi-format-or-extension-is-not-valid-and-file-in-use-locked-for-editing-b#comment134172637_76078315).","body":"More <a href=\"https://stackoverflow.com/questions/76078315/apache-poi-format-or-extension-is-not-valid-and-file-in-use-locked-for-editing-b#comment134172637_76078315\">here</a>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1682312227,"post_id":76087567,"comment_id":134189455,"body_markdown":"&quot;I also notice the file I got the size is 0.&quot;: To what file do you think `new FileOutputStream(&quot;workbook.xls&quot;)` creates a file output stream to? There is no path. So the `workbook.xls` will be located in the directory from which the java virtual machine was started from. Give it a concrete directory path.","body":"&quot;I also notice the file I got the size is 0.&quot;: To what file do you think <code>new FileOutputStream(&quot;workbook.xls&quot;)</code> creates a file output stream to? There is no path. So the <code>workbook.xls</code> will be located in the directory from which the java virtual machine was started from. Give it a concrete directory path."},{"owner":{"account_id":12116062,"reputation":7,"user_id":8850176,"display_name":"Miss.Q"},"score":0,"creation_date":1682347485,"post_id":76087567,"comment_id":134196640,"body_markdown":"Not able to write data into Excel. Tried either xls with HSSFWorkbook or xlsx with XSSFWorkbook, when I open the file it always said the file extension does not match with file format/type, and the data was all lost. If I open it anyway, it was an empty sheet and if I tried to save as, it defines the file as Text(Tab delimited), but I clearly declare it as the Workbook type, not String.","body":"Not able to write data into Excel. Tried either xls with HSSFWorkbook or xlsx with XSSFWorkbook, when I open the file it always said the file extension does not match with file format/type, and the data was all lost. If I open it anyway, it was an empty sheet and if I tried to save as, it defines the file as Text(Tab delimited), but I clearly declare it as the Workbook type, not String."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682448218,"post_id":76087567,"comment_id":134216566,"body_markdown":"I am unable to recreate the problem you describe (and, anyway, what you describe in your update appears to be some different code not shown in the question).","body":"I am unable to recreate the problem you describe (and, anyway, what you describe in your update appears to be some different code not shown in the question)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682448223,"post_id":76087567,"comment_id":134216567,"body_markdown":"Provide a complete, self-contained example we can copy and paste and run, without needing to make any changes - in other words, a [mre]. Use a single class, containing only a `main` method, and all the relevant `import` statements. Clarify what version of POI you are using - and which specific POI libraries. Clarify what version of Java, also.","body":"Provide a complete, self-contained example we can copy and paste and run, without needing to make any changes - in other words, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Use a single class, containing only a <code>main</code> method, and all the relevant <code>import</code> statements. Clarify what version of POI you are using - and which specific POI libraries. Clarify what version of Java, also."},{"owner":{"account_id":12116062,"reputation":7,"user_id":8850176,"display_name":"Miss.Q"},"score":0,"creation_date":1682451705,"post_id":76087567,"comment_id":134217281,"body_markdown":"Finally, I found the problem... it was the issue of missing the dependency common-io... so it fail to write the file...","body":"Finally, I found the problem... it was the issue of missing the dependency common-io... so it fail to write the file..."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682452138,"post_id":76087567,"comment_id":134217382,"body_markdown":"Glad you solved it. However... That means you are potentially **missing other dependencies** as well - which may cause more unexpected problems. If you are not using a dependency management tool such as Maven or Gradle, now would be a good time to start.","body":"Glad you solved it. However... That means you are potentially <b>missing other dependencies</b> as well - which may cause more unexpected problems. If you are not using a dependency management tool such as Maven or Gradle, now would be a good time to start."},{"owner":{"account_id":12116062,"reputation":7,"user_id":8850176,"display_name":"Miss.Q"},"score":0,"creation_date":1682452351,"post_id":76087567,"comment_id":134217427,"body_markdown":"I had Maven in my project... but it only works after I insert dependency common-io then maven installs and compile...","body":"I had Maven in my project... but it only works after I insert dependency common-io then maven installs and compile..."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682452640,"post_id":76087567,"comment_id":134217484,"body_markdown":"In that case something may be wrong with your Maven POM. POI has a dependency on `commons-io` - and [various other libraries](https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml/5.2.3). Maven should download them all automatically, without you needing to explicitly include any of them in your POM (except for POI itself).","body":"In that case something may be wrong with your Maven POM. POI has a dependency on <code>commons-io</code> - and <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml/5.2.3\" rel=\"nofollow noreferrer\">various other libraries</a>. Maven should download them all automatically, without you needing to explicitly include any of them in your POM (except for POI itself)."}],"owner":{"account_id":12116062,"reputation":7,"user_id":8850176,"display_name":"Miss.Q"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687244743,"creation_date":1682288706,"question_id":76087567,"body_markdown":"I recently worked on my project which needs to use java to write excel files. I choose Apache poi and followed the example online, but seems like there was an issue with the close method for the FileOutputStream.\r\n\r\n\r\n```\r\n        Workbook workbook = new HSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\r\n        Row row = sheet.createRow(1);\r\n        Cell cell = row.createCell(1);\r\n        cell.setCellValue(&quot;test&quot;);\r\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\r\n        workbook.write(fileOut);\r\n        workbook.close();\r\n        fileOut.flush();\r\n        fileOut.close();\r\n```\r\nWhen I click the Excel generate by this code, it says the file extension does not match the file type, also the file can only open in read-only because it was opened in Java(TM) Platform SE binary, but I clearly close the workbook and fileout at the end, I do not know where is the problem with this simple code. I also notice the file I got the size is 0. \r\n\r\nUpdate: Not able to write data into Excel. Tried either xls with HSSFWorkbook or xlsx with XSSFWorkbook, when I open the file it always said the file extension does not match with file format/type, and the data was all lost. If I open it anyway, it was an empty sheet and if I tried to save as, it defines the file as Text(Tab delimited), but I clearly declare it as the Workbook type, not String.\r\n\r\nAble to open the file in edit mode, and also able to see the data written in Excel, right now excel is empty and the data did not write into it.","title":"Apache poi Java Excel - file is open in Java(TM) Platform SE binary","body":"<p>I recently worked on my project which needs to use java to write excel files. I choose Apache poi and followed the example online, but seems like there was an issue with the close method for the FileOutputStream.</p>\n<pre><code>        Workbook workbook = new HSSFWorkbook();\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\n        Row row = sheet.createRow(1);\n        Cell cell = row.createCell(1);\n        cell.setCellValue(&quot;test&quot;);\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\n        workbook.write(fileOut);\n        workbook.close();\n        fileOut.flush();\n        fileOut.close();\n</code></pre>\n<p>When I click the Excel generate by this code, it says the file extension does not match the file type, also the file can only open in read-only because it was opened in Java(TM) Platform SE binary, but I clearly close the workbook and fileout at the end, I do not know where is the problem with this simple code. I also notice the file I got the size is 0.</p>\n<p>Update: Not able to write data into Excel. Tried either xls with HSSFWorkbook or xlsx with XSSFWorkbook, when I open the file it always said the file extension does not match with file format/type, and the data was all lost. If I open it anyway, it was an empty sheet and if I tried to save as, it defines the file as Text(Tab delimited), but I clearly declare it as the Workbook type, not String.</p>\n<p>Able to open the file in edit mode, and also able to see the data written in Excel, right now excel is empty and the data did not write into it.</p>\n"},{"tags":["java","eclipse","websocket","selenium-chromedriver","testng"],"owner":{"account_id":25564029,"reputation":1,"user_id":19346120,"display_name":"Samudrika Keshani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687244629,"creation_date":1687238324,"question_id":76511600,"body_markdown":"Error:\r\n&gt; unable to establish websocket connection to\r\n&gt; http://localhost:1615/devtools/browser/0089cfa1-17f9-4fce-a8fc-88c3b4703886\r\n&gt; build info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\r\n\r\nCode:\r\n\r\n    public class SeleniumTest {\r\n    \t\r\n        WebDriver driver;\r\n    \r\n        @BeforeTest  \r\n        public void setUp()  \r\n        {\r\n     \r\n    \t    WebDriverManager.chromedriver().setup();\r\n    \t    driver = new ChromeDriver();\r\n        }\r\n\t \r\n","title":"The Chrome window not able to establish websocket connection when scripting in selenium","body":"<p>Error:</p>\n<blockquote>\n<p>unable to establish websocket connection to\nhttp://localhost:1615/devtools/browser/0089cfa1-17f9-4fce-a8fc-88c3b4703886\nbuild info: version: '4.8.0', revision: '267030adea'</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>public class SeleniumTest {\n    \n    WebDriver driver;\n\n    @BeforeTest  \n    public void setUp()  \n    {\n \n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    }\n \n</code></pre>\n"},{"tags":["java","authorization"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687243912,"creation_date":1687243912,"answer_id":76512049,"question_id":76512010,"body_markdown":"You reject the request with status code [403 Forbidden](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403). 401 Unauthorized is wrong, since you know who the user is.","title":"Best way to authorization access some resource","body":"<p>You reject the request with status code <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403\" rel=\"nofollow noreferrer\">403 Forbidden</a>. 401 Unauthorized is wrong, since you know who the user is.</p>\n"}],"owner":{"account_id":18239822,"reputation":67,"user_id":13277069,"display_name":"Jingon Park"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687244542,"creation_date":1687243604,"question_id":76512010,"body_markdown":"User A and B exits in my service and there are several APIs.\r\n\r\n\r\n - POST /item (for insert database)\r\n - GET /item/{id} (for select database)\r\n - DELETE /item/{id} (for delete data)\r\n\r\nWe use jwt to check if it is an approved user and if the user has permission to call API.\r\nAnd we would like to prevent User B from requesting GET and DELETE for item id 1 registered by User A.\r\n\r\nWe check jwt at gateway. User B has jwt that we create and have permission to call api DELETE /item/{id} path.\r\nWhen user B sends a DELETE /item/1 request, what is the best way to reject the request by authorization verification or not work api?","title":"Best way to authorization access some resource","body":"<p>User A and B exits in my service and there are several APIs.</p>\n<ul>\n<li>POST /item (for insert database)</li>\n<li>GET /item/{id} (for select database)</li>\n<li>DELETE /item/{id} (for delete data)</li>\n</ul>\n<p>We use jwt to check if it is an approved user and if the user has permission to call API.\nAnd we would like to prevent User B from requesting GET and DELETE for item id 1 registered by User A.</p>\n<p>We check jwt at gateway. User B has jwt that we create and have permission to call api DELETE /item/{id} path.\nWhen user B sends a DELETE /item/1 request, what is the best way to reject the request by authorization verification or not work api?</p>\n"},{"tags":["java","kubernetes","kubectl","fabric8-kubernetes-client"],"comments":[{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1680254292,"post_id":75887561,"comment_id":133870563,"body_markdown":"Why not use `serverSideApply()` , see [example](https://github.com/rohanKanojia/kubernetes-client-demo/blob/master/src/main/java/io/fabric8/ServerSideApplyDemo.java#L25)","body":"Why not use <code>serverSideApply()</code> , see <a href=\"https://github.com/rohanKanojia/kubernetes-client-demo/blob/master/src/main/java/io/fabric8/ServerSideApplyDemo.java#L25\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1680257812,"post_id":75887561,"comment_id":133871399,"body_markdown":"With `serverSideApply()` I get errors like `code=409 field=.spec.template.spec.containers[name=&quot;xyz&quot;].resources.limits.cpu message=Apply failed with 1 conflict: ... .spec.template.spec.containers[name=&quot;xyz&quot;].resources.limits.cpu`","body":"With <code>serverSideApply()</code> I get errors like <code>code=409 field=.spec.template.spec.containers[name=&quot;xyz&quot;].resources.l&zwnj;&#8203;imits.cpu message=Apply failed with 1 conflict: ... .spec.template.spec.containers[name=&quot;xyz&quot;].resources.limits.&zwnj;&#8203;cpu</code>"}],"answers":[{"comments":[{"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"score":0,"creation_date":1680265407,"post_id":75887638,"comment_id":133873160,"body_markdown":"This is not a good mechanism, you&#39;re basically recreating (with nuances) the createOrReplace logic yourself.\nserverSideApply should work, or even just sending a plain patch request to the API server. If that&#39;s failing, then we should treat it as a bug","body":"This is not a good mechanism, you&#39;re basically recreating (with nuances) the createOrReplace logic yourself. serverSideApply should work, or even just sending a plain patch request to the API server. If that&#39;s failing, then we should treat it as a bug"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1680267069,"post_id":75887638,"comment_id":133873625,"body_markdown":"`serversideApply()` does not work. It fails for fields such as `resources.limits.cpu` even though the value has not changed since last apply.","body":"<code>serversideApply()</code> does not work. It fails for fields such as <code>resources.limits.cpu</code> even though the value has not changed since last apply."},{"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"score":0,"creation_date":1680267826,"post_id":75887638,"comment_id":133873826,"body_markdown":"If that fails, then there&#39;s probably something that we can do to resolve it. The whole point of deprecating the createOrReplace method is to avoid doing this kind of process client-side that can eventually fail in case of high concurrency. I&#39;d really recommend to report a bug and if possible include a reproducer","body":"If that fails, then there&#39;s probably something that we can do to resolve it. The whole point of deprecating the createOrReplace method is to avoid doing this kind of process client-side that can eventually fail in case of high concurrency. I&#39;d really recommend to report a bug and if possible include a reproducer"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680254783,"creation_date":1680175650,"answer_id":75887638,"question_id":75887561,"body_markdown":"I ended up solving this by:\r\n\r\n 1. Storing the last applied configuration in an annotation\r\n 2. Checking if the resource already exists\r\n 3. Calling `create()` if the resource does not exist\r\n 4. Calling `patch()` on the previous configuration (the value stored in the annotation) if the resource previously exists\r\n\r\nCode:\r\n\r\n```java\r\nimport io.fabric8.kubernetes.api.model.HasMetadata;\r\nimport io.fabric8.kubernetes.api.model.KubernetesResourceList;\r\nimport io.fabric8.kubernetes.client.KubernetesClient;\r\nimport io.fabric8.kubernetes.client.dsl.NamespaceableResource;\r\nimport io.fabric8.kubernetes.client.utils.Serialization;\r\n\r\npublic class KubernetesHelper {\r\n\tprivate final KubernetesClient client;\r\n\r\n    // constructor\r\n\t\r\n    @Override\r\n    public Collection&lt;HasMetadata&gt; apply(InputStream yamlStream) {\r\n\t\tObject unmarshalled = Serialization.unmarshal(yamlStream);\r\n\t\tCollection&lt;HasMetadata&gt; entities;\r\n\t\tif (unmarshalled instanceof Collection) {\r\n\t\t\tentities = (Collection) unmarshalled;\r\n\t\t} else if (unmarshalled instanceof KubernetesResourceList) {\r\n\t\t\tentities = ((KubernetesResourceList) unmarshalled).getItems();\r\n\t\t} else {\r\n\t\t\tentities = List.of((HasMetadata) unmarshalled);\r\n\t\t}\t\t\r\n\t\treturn entities.stream().map(this::createOrPatch).collect(toList());\r\n    }\r\n\t\r\n    protected &lt;T extends HasMetadata&gt; T createOrPatch(T inEntity) {\r\n        String annotationName = &quot;kubectl.kubernetes.io/last-applied-configuration&quot;;\r\n        if (inEntity.getMetadata().getAnnotations() == null) {\r\n            inEntity.getMetadata().setAnnotations(new LinkedHashMap&lt;&gt;());\r\n        }\r\n        inEntity.getMetadata().getAnnotations().put(annotationName, Serialization.asJson(inEntity));\r\n        NamespaceableResource&lt;T&gt; resource = client.resource(inEntity);\r\n        T serverEntity = resource.get();\r\n        T outEntity;\r\n        if (serverEntity == null) {\r\n            outEntity = resource.create();\r\n        } else {\r\n            String lastAppliedConfiguration = serverEntity.getMetadata().getAnnotations().get(annotationName);\r\n            if (lastAppliedConfiguration == null) {\r\n                String msg = String.format(&quot;Could not find annotation &#39;%s&#39; for entity &#39;%s&#39;&quot;, annotationName, inEntity.getMetadata().getName());\r\n                throw new RuntimeException(msg);\r\n            }\r\n            T lastAppliedEntity = Serialization.unmarshal(lastAppliedConfiguration);\r\n            outEntity = client.resource(lastAppliedEntity).patch(inEntity);\r\n        }\r\n        return outEntity;\r\n    }\r\n}\r\n```\r\n\r\nIt seems that other people want this functionality too. See related discussions\r\n\r\n- https://github.com/fabric8io/kubernetes-client/issues/3420\r\n- https://github.com/fabric8io/kubernetes-client/issues/2454\r\n- https://github.com/fabric8io/kubernetes-client/issues/3334\r\n- https://github.com/fabric8io/kubernetes-client/issues/3896","title":"fabric8 KubernetesClient equivalent of &#39;kubectl apply -f&#39;","body":"<p>I ended up solving this by:</p>\n<ol>\n<li>Storing the last applied configuration in an annotation</li>\n<li>Checking if the resource already exists</li>\n<li>Calling <code>create()</code> if the resource does not exist</li>\n<li>Calling <code>patch()</code> on the previous configuration (the value stored in the annotation) if the resource previously exists</li>\n</ol>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.fabric8.kubernetes.api.model.HasMetadata;\nimport io.fabric8.kubernetes.api.model.KubernetesResourceList;\nimport io.fabric8.kubernetes.client.KubernetesClient;\nimport io.fabric8.kubernetes.client.dsl.NamespaceableResource;\nimport io.fabric8.kubernetes.client.utils.Serialization;\n\npublic class KubernetesHelper {\n    private final KubernetesClient client;\n\n    // constructor\n    \n    @Override\n    public Collection&lt;HasMetadata&gt; apply(InputStream yamlStream) {\n        Object unmarshalled = Serialization.unmarshal(yamlStream);\n        Collection&lt;HasMetadata&gt; entities;\n        if (unmarshalled instanceof Collection) {\n            entities = (Collection) unmarshalled;\n        } else if (unmarshalled instanceof KubernetesResourceList) {\n            entities = ((KubernetesResourceList) unmarshalled).getItems();\n        } else {\n            entities = List.of((HasMetadata) unmarshalled);\n        }       \n        return entities.stream().map(this::createOrPatch).collect(toList());\n    }\n    \n    protected &lt;T extends HasMetadata&gt; T createOrPatch(T inEntity) {\n        String annotationName = &quot;kubectl.kubernetes.io/last-applied-configuration&quot;;\n        if (inEntity.getMetadata().getAnnotations() == null) {\n            inEntity.getMetadata().setAnnotations(new LinkedHashMap&lt;&gt;());\n        }\n        inEntity.getMetadata().getAnnotations().put(annotationName, Serialization.asJson(inEntity));\n        NamespaceableResource&lt;T&gt; resource = client.resource(inEntity);\n        T serverEntity = resource.get();\n        T outEntity;\n        if (serverEntity == null) {\n            outEntity = resource.create();\n        } else {\n            String lastAppliedConfiguration = serverEntity.getMetadata().getAnnotations().get(annotationName);\n            if (lastAppliedConfiguration == null) {\n                String msg = String.format(&quot;Could not find annotation '%s' for entity '%s'&quot;, annotationName, inEntity.getMetadata().getName());\n                throw new RuntimeException(msg);\n            }\n            T lastAppliedEntity = Serialization.unmarshal(lastAppliedConfiguration);\n            outEntity = client.resource(lastAppliedEntity).patch(inEntity);\n        }\n        return outEntity;\n    }\n}\n</code></pre>\n<p>It seems that other people want this functionality too. See related discussions</p>\n<ul>\n<li><a href=\"https://github.com/fabric8io/kubernetes-client/issues/3420\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/3420</a></li>\n<li><a href=\"https://github.com/fabric8io/kubernetes-client/issues/2454\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/2454</a></li>\n<li><a href=\"https://github.com/fabric8io/kubernetes-client/issues/3334\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/3334</a></li>\n<li><a href=\"https://github.com/fabric8io/kubernetes-client/issues/3896\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/3896</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28855966,"reputation":1,"user_id":22100768,"display_name":"Code Cloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687244278,"creation_date":1687244278,"answer_id":76512087,"question_id":75887561,"body_markdown":"You could still use Fabric8 client with the following command: \r\n```\r\nresource.forceConflicts().serverSideApply();\r\n```","title":"fabric8 KubernetesClient equivalent of &#39;kubectl apply -f&#39;","body":"<p>You could still use Fabric8 client with the following command:</p>\n<pre><code>resource.forceConflicts().serverSideApply();\n</code></pre>\n"}],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687244278,"creation_date":1680175222,"question_id":75887561,"body_markdown":"I am running automation tests which apply kubernetes yamls to a kubernetes cluster using the [fabric8 kubernetes client](https://github.com/fabric8io/kubernetes-client). \r\n\r\nOne of the features I like about `kubectl apply -f` is that if I attempt to apply the same yaml twice then the environment simply ignores the action and leaves my deployments, pods etc running as they were. This means that each of my tests can apply the same yaml and lazily create resources on the kubernetes cluster\r\n\r\nI would like this same functionality with the fabric8 `KubernetesClient` but the `createOrReplace()` method seems to behave differently to `kubectl apply -f`","title":"fabric8 KubernetesClient equivalent of &#39;kubectl apply -f&#39;","body":"<p>I am running automation tests which apply kubernetes yamls to a kubernetes cluster using the <a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">fabric8 kubernetes client</a>.</p>\n<p>One of the features I like about <code>kubectl apply -f</code> is that if I attempt to apply the same yaml twice then the environment simply ignores the action and leaves my deployments, pods etc running as they were. This means that each of my tests can apply the same yaml and lazily create resources on the kubernetes cluster</p>\n<p>I would like this same functionality with the fabric8 <code>KubernetesClient</code> but the <code>createOrReplace()</code> method seems to behave differently to <code>kubectl apply -f</code></p>\n"},{"tags":["java","reactjs","spring-boot","react-router","react-router-dom"],"comments":[{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":1,"creation_date":1687187568,"post_id":76507573,"comment_id":134898296,"body_markdown":"I think it because when you manually entering the URL or redirecting from app1 to app2, browser is likely performing a full page refresh, which is causing the issue, so you need to ensure that your server is configured to serve the correct `index.html` file for each sub-route! Let me know if you want me to explain it to you with examples.","body":"I think it because when you manually entering the URL or redirecting from app1 to app2, browser is likely performing a full page refresh, which is causing the issue, so you need to ensure that your server is configured to serve the correct <code>index.html</code> file for each sub-route! Let me know if you want me to explain it to you with examples."},{"owner":{"account_id":11875768,"reputation":174378,"user_id":8690857,"display_name":"Drew Reese"},"score":1,"creation_date":1687190534,"post_id":76507573,"comment_id":134898940,"body_markdown":"Correct, the server/hosting service should be configured to return/serve the root index.html file for all page requests into the app. How are you running this app?","body":"Correct, the server/hosting service should be configured to return/serve the root index.html file for all page requests into the app. How are you running this app?"},{"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"score":0,"creation_date":1687243079,"post_id":76507573,"comment_id":134905147,"body_markdown":"@Freeman yeah that would be nice if you had the time for it!","body":"@Freeman yeah that would be nice if you had the time for it!"},{"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"score":0,"creation_date":1687243183,"post_id":76507573,"comment_id":134905163,"body_markdown":"@DrewReese I have one project with front and backend in one. The backend is just a spring boot service. When shipping the software I usually run it as a package and that&#39;s when it won&#39;t redirect to sub routes.","body":"@DrewReese I have one project with front and backend in one. The backend is just a spring boot service. When shipping the software I usually run it as a package and that&#39;s when it won&#39;t redirect to sub routes."}],"answers":[{"comments":[{"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"score":0,"creation_date":1687248615,"post_id":76512009,"comment_id":134906124,"body_markdown":"Hey! Thanks for taking your time to help me. I seem to be getting ERR_TOO_MANY_REDIRECTS with this approach though.","body":"Hey! Thanks for taking your time to help me. I seem to be getting ERR_TOO_MANY_REDIRECTS with this approach though."},{"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"score":0,"creation_date":1687259565,"post_id":76512009,"comment_id":134908566,"body_markdown":"Here&#39;s a screenshot from the Network tab https://imgur.com/a/rqXgxBk","body":"Here&#39;s a screenshot from the Network tab <a href=\"https://imgur.com/a/rqXgxBk\" rel=\"nofollow noreferrer\">imgur.com/a/rqXgxBk</a>"},{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":1,"creation_date":1687263852,"post_id":76512009,"comment_id":134909525,"body_markdown":"sure, we will fix them together, don&#39;t worry bro !","body":"sure, we will fix them together, don&#39;t worry bro !"},{"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"score":0,"creation_date":1687266106,"post_id":76512009,"comment_id":134910107,"body_markdown":"Man, regardless of the outcome, this is super wholesome. Thanks haha","body":"Man, regardless of the outcome, this is super wholesome. Thanks haha"}],"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687243603,"creation_date":1687243603,"answer_id":76512009,"question_id":76507573,"body_markdown":"Alrighty, first of all you need to configure your server to serve the correct `index.html` file for all routes that should be handled by your React application, as I told. for that purpose, you maybe should do this by setting up a catch-all route that serves the `index.html` file for any unrecognized routes.\r\n\r\nlet me explain it for you with an example : \r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/&quot;, &quot;index.html&quot;);\r\n        registry.addRedirectViewController(&quot;/{x:^(?!api$).*$}/**&quot;, &quot;index.html&quot;);\r\n    }\r\n\r\nit should allow your React application to handle all routes correctly, including routes that are opened in a new tab or redirected from `app1`.\r\n\r\nand in your React application,you can then set up your routes like this:\r\n\r\n    const MainPage = () =&gt; {\r\n        return (\r\n            &lt;Box&gt;\r\n                &lt;CssBaseline/&gt;\r\n                &lt;Routes&gt;\r\n                    &lt;Route path=&quot;/&quot; element={&lt;HomePage/&gt;}/&gt;\r\n                    &lt;Route path=&quot;/usersettings&quot; element={&lt;UserSettings/&gt;}/&gt;\r\n                    &lt;Route path=&quot;*&quot; element={&lt;Navigate to=&quot;/&quot;/&gt;}/&gt;\r\n                &lt;/Routes&gt;\r\n            &lt;/Box&gt;\r\n        );\r\n    };\r\nas you see,configuration sets up a catch-all route that redirects to the home page for any unrecognized routes and it ensures that all routes are handled correctly by your React application\r\n\r\ngood luck bro !","title":"Manually access a route with react router and a spring boot backend","body":"<p>Alrighty, first of all you need to configure your server to serve the correct <code>index.html</code> file for all routes that should be handled by your React application, as I told. for that purpose, you maybe should do this by setting up a catch-all route that serves the <code>index.html</code> file for any unrecognized routes.</p>\n<p>let me explain it for you with an example :</p>\n<pre><code>@Override\npublic void addViewControllers(ViewControllerRegistry registry) {\n    registry.addRedirectViewController(&quot;/&quot;, &quot;index.html&quot;);\n    registry.addRedirectViewController(&quot;/{x:^(?!api$).*$}/**&quot;, &quot;index.html&quot;);\n}\n</code></pre>\n<p>it should allow your React application to handle all routes correctly, including routes that are opened in a new tab or redirected from <code>app1</code>.</p>\n<p>and in your React application,you can then set up your routes like this:</p>\n<pre><code>const MainPage = () =&gt; {\n    return (\n        &lt;Box&gt;\n            &lt;CssBaseline/&gt;\n            &lt;Routes&gt;\n                &lt;Route path=&quot;/&quot; element={&lt;HomePage/&gt;}/&gt;\n                &lt;Route path=&quot;/usersettings&quot; element={&lt;UserSettings/&gt;}/&gt;\n                &lt;Route path=&quot;*&quot; element={&lt;Navigate to=&quot;/&quot;/&gt;}/&gt;\n            &lt;/Routes&gt;\n        &lt;/Box&gt;\n    );\n};\n</code></pre>\n<p>as you see,configuration sets up a catch-all route that redirects to the home page for any unrecognized routes and it ensures that all routes are handled correctly by your React application</p>\n<p>good luck bro !</p>\n"}],"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687243603,"creation_date":1687184804,"question_id":76507573,"body_markdown":"I have a react UI that opens a new tab to another UI&#39;s sub route.\r\n\r\nExample: a button in `localhost/app1` opens a new tab to `localhost/app2/usersettings` - This works in a development scenario but once I roll out the applications as package, it fails. The issue is, that it just redirects me back to `localhost/apps2`\r\n\r\nHere&#39;s my setup\r\n\r\n```\r\n@Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/&quot;,&quot;index.html&quot;);\r\n        registry.addRedirectViewController(&quot;/usersettings&quot;,&quot;index.html?path=usersettings&quot;);\r\n        registry.addRedirectViewController(&quot;/{x:[\\\\w\\\\-]+}&quot;,&quot;index.html&quot;);\r\n        registry.addRedirectViewController(&quot;/{x:^(?!api$).*$}/**/{y:[\\\\w\\\\-]+}&quot;, &quot;index.html&quot;);\r\n    }\r\n```\r\n\r\n```\r\nconst MainPage = () =&gt; {\r\n    return (\r\n        &lt;Box&gt;\r\n            &lt;CssBaseline/&gt;\r\n            &lt;Routes&gt;\r\n                &lt;Route path=&quot;/&quot; element={&lt;HomePage/&gt;}/&gt;\r\n                &lt;Route path=&quot;index.html&quot; element={&lt;Navigate to=&quot;/&quot;/&gt;}/&gt;\r\n                &lt;Route path=&quot;/usersettings&quot; element={&lt;UserSettings/&gt;}/&gt;\r\n            &lt;/Routes&gt;\r\n        &lt;/Box&gt;\r\n    );\r\n};\r\n```\r\n\r\nNavigating to `/usersettings` in app2 works perfectly if I click the route, but once I manually enter the url or redirect by a button from app1 it just loads the home route.\r\n\r\nHow am I supposed to setup the routes so router receives the correct path variable?\r\n\r\nI am totally lost.\r\n\r\nThanks","title":"Manually access a route with react router and a spring boot backend","body":"<p>I have a react UI that opens a new tab to another UI's sub route.</p>\n<p>Example: a button in <code>localhost/app1</code> opens a new tab to <code>localhost/app2/usersettings</code> - This works in a development scenario but once I roll out the applications as package, it fails. The issue is, that it just redirects me back to <code>localhost/apps2</code></p>\n<p>Here's my setup</p>\n<pre><code>@Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addRedirectViewController(&quot;/&quot;,&quot;index.html&quot;);\n        registry.addRedirectViewController(&quot;/usersettings&quot;,&quot;index.html?path=usersettings&quot;);\n        registry.addRedirectViewController(&quot;/{x:[\\\\w\\\\-]+}&quot;,&quot;index.html&quot;);\n        registry.addRedirectViewController(&quot;/{x:^(?!api$).*$}/**/{y:[\\\\w\\\\-]+}&quot;, &quot;index.html&quot;);\n    }\n</code></pre>\n<pre><code>const MainPage = () =&gt; {\n    return (\n        &lt;Box&gt;\n            &lt;CssBaseline/&gt;\n            &lt;Routes&gt;\n                &lt;Route path=&quot;/&quot; element={&lt;HomePage/&gt;}/&gt;\n                &lt;Route path=&quot;index.html&quot; element={&lt;Navigate to=&quot;/&quot;/&gt;}/&gt;\n                &lt;Route path=&quot;/usersettings&quot; element={&lt;UserSettings/&gt;}/&gt;\n            &lt;/Routes&gt;\n        &lt;/Box&gt;\n    );\n};\n</code></pre>\n<p>Navigating to <code>/usersettings</code> in app2 works perfectly if I click the route, but once I manually enter the url or redirect by a button from app1 it just loads the home route.</p>\n<p>How am I supposed to setup the routes so router receives the correct path variable?</p>\n<p>I am totally lost.</p>\n<p>Thanks</p>\n"},{"tags":["java","log4j","gzip","log4j2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687225447,"post_id":76510907,"comment_id":134903554,"body_markdown":"I would not try to write raw bytes to a log file. Either Base64 encode the data, or write it to a separate file with a generated name, and log the file name.","body":"I would not try to write raw bytes to a log file. Either Base64 encode the data, or write it to a separate file with a generated name, and log the file name."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687228212,"post_id":76510907,"comment_id":134903813,"body_markdown":"Why exactly are you trying to do this?","body":"Why exactly are you trying to do this?"},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687231566,"post_id":76510907,"comment_id":134904034,"body_markdown":"@aled I&#39;d like the log files to be in .gz and would like to generate these log files by compressing each log message and appending that compressed message to the file","body":"@aled I&#39;d like the log files to be in .gz and would like to generate these log files by compressing each log message and appending that compressed message to the file"},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687231728,"post_id":76510907,"comment_id":134904047,"body_markdown":"@tgdavies unfortunately that&#39;s not an option. the question is whether this is possible through log4j or whether it&#39;ll have to be implemented independently","body":"@tgdavies unfortunately that&#39;s not an option. the question is whether this is possible through log4j or whether it&#39;ll have to be implemented independently"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687232574,"post_id":76510907,"comment_id":134904108,"body_markdown":"`baos` doesn&#39;t contain a valid gzipped file until you&#39;ve closed `gzip`. Why exactly are you trying to do this?","body":"<code>baos</code> doesn&#39;t contain a valid gzipped file until you&#39;ve closed <code>gzip</code>. Why exactly are you trying to do this?"},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687232787,"post_id":76510907,"comment_id":134904132,"body_markdown":"the code snippet was just for illustration. i&#39;ve edited it now to close the gzip stream.","body":"the code snippet was just for illustration. i&#39;ve edited it now to close the gzip stream."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687232833,"post_id":76510907,"comment_id":134904135,"body_markdown":"You need to explain what you are trying to achieve, and why you are considering using log4j to do it.","body":"You need to explain what you are trying to achieve, and why you are considering using log4j to do it."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1687232982,"post_id":76510907,"comment_id":134904152,"body_markdown":"In your code you decide **what** to log, then you decide **how** to do it in your configuration file (e.g. rotate logs daily and gzip the old ones).","body":"In your code you decide <b>what</b> to log, then you decide <b>how</b> to do it in your configuration file (e.g. rotate logs daily and gzip the old ones)."},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687233238,"post_id":76510907,"comment_id":134904167,"body_markdown":"@tgdavies I want to create gzipped log files by compressing the message at the time it&#39;s written. The overall goal is to reduce the number of bytes written to disk. I&#39;d like to use log4j since that&#39;s the logging framework that&#39;s already in place in the code base.","body":"@tgdavies I want to create gzipped log files by compressing the message at the time it&#39;s written. The overall goal is to reduce the number of bytes written to disk. I&#39;d like to use log4j since that&#39;s the logging framework that&#39;s already in place in the code base."},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687233405,"post_id":76510907,"comment_id":134904176,"body_markdown":"@PiotrP.Karwasz the goal is do the compression before the message is actually written to disk rather than compress the logs during the roll","body":"@PiotrP.Karwasz the goal is do the compression before the message is actually written to disk rather than compress the logs during the roll"},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687233442,"post_id":76510907,"comment_id":134904179,"body_markdown":"@tgdavies volume of IO","body":"@tgdavies volume of IO"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1687233554,"post_id":76510907,"comment_id":134904187,"body_markdown":"A log file is human-readable text, not compressed data. Your question doesn&#39;t make sense. You should be compressing the log file *afterwards*, or use a compressing appender. Not compressing individual messages or fields.","body":"A log file is human-readable text, not compressed data. Your question doesn&#39;t make sense. You should be compressing the log file <i>afterwards</i>, or use a compressing appender. Not compressing individual messages or fields."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687233918,"post_id":76510907,"comment_id":134904224,"body_markdown":"Possibly Flume could do this, it can compress messages: https://logging.apache.org/log4j/2.x/manual/appenders.html#FlumeAppender","body":"Possibly Flume could do this, it can compress messages: <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#FlumeAppender\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"},{"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"score":0,"creation_date":1687234311,"post_id":76510907,"comment_id":134904254,"body_markdown":"@user207421 the goal is to reduce IO load from logging, one way to do that is to write fewer bytes which the compression can help with","body":"@user207421 the goal is to reduce IO load from logging, one way to do that is to write fewer bytes which the compression can help with"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687234649,"post_id":76510907,"comment_id":134904282,"body_markdown":"Log4j Is absolutely not an appropriate implementation for what you want. Logs are expected to be human readable. Not sure if there is any log implementation that would work well for this. Write your own files instead.","body":"Log4j Is absolutely not an appropriate implementation for what you want. Logs are expected to be human readable. Not sure if there is any log implementation that would work well for this. Write your own files instead."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687235304,"post_id":76510907,"comment_id":134904311,"body_markdown":"The other question is: why are you logging so much data?","body":"The other question is: why are you logging so much data?"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687242514,"post_id":76511816,"comment_id":134905056,"body_markdown":"How would that work, as the trailer of the gzip file won&#39;t be written until the output stream is closed?","body":"How would that work, as the trailer of the gzip file won&#39;t be written until the output stream is closed?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1687242892,"post_id":76511816,"comment_id":134905115,"body_markdown":"@tgdavies: that&#39;s exactly one of the problems of compressing the current file. Due to the format of GZIP, data can be recovered from the unclosed file, but the file will be invalid until the application exits.","body":"@tgdavies: that&#39;s exactly one of the problems of compressing the current file. Due to the format of GZIP, data can be recovered from the unclosed file, but the file will be invalid until the application exits."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687243140,"creation_date":1687241478,"answer_id":76511816,"question_id":76510907,"body_markdown":"You are approaching the problem from the wrong side: aspects such as compression and file output should be dealt with by the logging backend, not at the level of logging API.\r\n\r\nThe feature of directly writing to compressed log files have been requested a couple of times, most recently in [LOG4J2-3639](https://issues.apache.org/jira/browse/LOG4J2-3639), but was never implemented. It has some inherent problems like the risk of corrupted log files upon application crash.\r\n\r\nHowever, due to the modular nature of Log4j2, you can write your own custom component base on [`FileAppender`](https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileAppender.java)/[`FileManager`](https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java) that wraps the output stream in a `GZIPOutputStream`.\r\n\r\n**Edit:** Alternative solutions might be:\r\n * using a size base [rolling file appender](https://logging.apache.org/log4j/2.x/manual/appenders.html#rollingfileappender) with a small size limit. The current log file will be uncompressed, but it will rotate often,\r\n * since a concatenation of GZIP files is a valid GZIP file, you can buffer log messages in memory and write them to your file, when the buffer is full.","title":"How can I write a gzip byte array to disk with log4j2?","body":"<p>You are approaching the problem from the wrong side: aspects such as compression and file output should be dealt with by the logging backend, not at the level of logging API.</p>\n<p>The feature of directly writing to compressed log files have been requested a couple of times, most recently in <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3639\" rel=\"nofollow noreferrer\">LOG4J2-3639</a>, but was never implemented. It has some inherent problems like the risk of corrupted log files upon application crash.</p>\n<p>However, due to the modular nature of Log4j2, you can write your own custom component base on <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileAppender.java\" rel=\"nofollow noreferrer\"><code>FileAppender</code></a>/<a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java\" rel=\"nofollow noreferrer\"><code>FileManager</code></a> that wraps the output stream in a <code>GZIPOutputStream</code>.</p>\n<p><strong>Edit:</strong> Alternative solutions might be:</p>\n<ul>\n<li>using a size base <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#rollingfileappender\" rel=\"nofollow noreferrer\">rolling file appender</a> with a small size limit. The current log file will be uncompressed, but it will rotate often,</li>\n<li>since a concatenation of GZIP files is a valid GZIP file, you can buffer log messages in memory and write them to your file, when the buffer is full.</li>\n</ul>\n"}],"owner":{"account_id":12027676,"reputation":109,"user_id":9114343,"display_name":"mr3543"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76511816,"answer_count":1,"score":-1,"last_activity_date":1687243140,"creation_date":1687225238,"question_id":76510907,"body_markdown":"I have a string that I want to log with log4j2. I first want to compress that string then write the resulting bytes to the log file. So the code looks something like this\r\n\r\n```\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nGZIPOutputStream gzip = new GZIPOutputStream(baos);\r\ngzip.write(myLogString.getBytes());\r\ngzip.close();\r\nlog.info(baos.toByteArray());\r\n```\r\n\r\nUnfortunately it looks like log4j at some point converts the byte array to a string which results in a file that&#39;s not in GZIP format. Is there any way to accomplish what I&#39;m after? ","title":"How can I write a gzip byte array to disk with log4j2?","body":"<p>I have a string that I want to log with log4j2. I first want to compress that string then write the resulting bytes to the log file. So the code looks something like this</p>\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\nGZIPOutputStream gzip = new GZIPOutputStream(baos);\ngzip.write(myLogString.getBytes());\ngzip.close();\nlog.info(baos.toByteArray());\n</code></pre>\n<p>Unfortunately it looks like log4j at some point converts the byte array to a string which results in a file that's not in GZIP format. Is there any way to accomplish what I'm after?</p>\n"},{"tags":["java","android","animation","uinavigationbar","android-bottomappbar"],"answers":[{"comments":[{"owner":{"account_id":16692415,"reputation":3,"user_id":12064655,"display_name":"Noaman Monther"},"score":0,"creation_date":1594794685,"post_id":61701290,"comment_id":111247133,"body_markdown":"I added it previously.","body":"I added it previously."}],"tags":[],"owner":{"account_id":17743196,"reputation":55,"user_id":12883017,"display_name":"ageldi Aly&#253;ew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589046992,"creation_date":1589046992,"answer_id":61701290,"question_id":61437702,"body_markdown":"add your `build.gradle` `implementation &#39;org.jetbrains.kotlin:kotlin-stdlib:1.3.72&#39;`","title":"chip navigation bar animation not works","body":"<p>add your <code>build.gradle</code> <code>implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.3.72'</code></p>\n"},{"tags":[],"owner":{"account_id":23613068,"reputation":21,"user_id":17647693,"display_name":"TurboLight"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639785146,"creation_date":1639785146,"answer_id":70399949,"question_id":61437702,"body_markdown":"Use this library https://github.com/ismaeldivita/chip-navigation-bar\r\n\r\nDont forget to add maven in settings.graddle\r\n\r\n    maven { url &#39;https://jitpack.io&#39; }\r\n\r\nAnd dont forget to add this dependency to your build.graddle file\r\n\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib:1.6.0&#39;","title":"chip navigation bar animation not works","body":"<p>Use this library <a href=\"https://github.com/ismaeldivita/chip-navigation-bar\" rel=\"nofollow noreferrer\">https://github.com/ismaeldivita/chip-navigation-bar</a></p>\n<p>Dont forget to add maven in settings.graddle</p>\n<pre><code>maven { url 'https://jitpack.io' }\n</code></pre>\n<p>And dont forget to add this dependency to your build.graddle file</p>\n<pre><code>    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.6.0'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687422342,"post_id":76511950,"comment_id":134935449,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76511950/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16145363,"reputation":1,"user_id":11655271,"display_name":"adham alaa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687243104,"creation_date":1687243104,"answer_id":76511950,"question_id":61437702,"body_markdown":"add this/ maven { url &#39;https://jitpack.io&#39; } in dependencyResolutionManagement\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"chip navigation bar animation not works","body":"<p>add this/ maven { url 'https://jitpack.io' } in dependencyResolutionManagement</p>\n"}],"owner":{"account_id":16692415,"reputation":3,"user_id":12064655,"display_name":"Noaman Monther"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687243104,"creation_date":1587888915,"question_id":61437702,"body_markdown":"i used this GitHub library in my code for bottom navigation.[chip navigation bar][1]\r\ni tried to make it floating up after starting the program.but when run the program it is disappeared but when clicking in the buttons place . on click listener works but i couldn&#39;t see the navigation bar \r\nthis is the click listener ;\r\n\r\n  \r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btmNav = findViewById(R.id.btmNav);\r\n        layout = findViewById(R.id.cntBTM);\r\n        animMove = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.slide_up);\r\n        btmNav.startAnimation(animMove);\r\n     \r\n        //////////////*\r\n\r\n\r\n        if (savedInstanceState == null) {\r\n            NewsFragment newsFragment = new NewsFragment();\r\n\r\n            fragmentManager = getSupportFragmentManager();\r\n            fragmentManager.beginTransaction()\r\n                    .replace(R.id.fragmentContainer, newsFragment)\r\n                    .commit();\r\n\r\n        }\r\n\r\n\r\n        btmNav.setOnItemSelectedListener(new ChipNavigationBar.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(int id) {\r\n                Fragment fragment = null;\r\n                switch (id) {\r\n                    case R.id.home:\r\n                        fragment = new WebFragment();\r\n                        break;\r\n                    case R.id.activity:\r\n                        fragment = new ActivityFragment();\r\n                        break;\r\n                    case R.id.settings:\r\n                        fragment = new SettingFragment();\r\n                        break;\r\n                }\r\n                if (fragment != null) {\r\n                    fragmentManager = getSupportFragmentManager();\r\n                    fragmentManager.beginTransaction()\r\n                            .replace(R.id.fragmentContainer, fragment)\r\n                            .commit();\r\n                } else {\r\n                    Log.e(TAG, &quot;Error in creating fragment&quot;);\r\n                }\r\n            }\r\n        }); \r\nand this in main activity\r\n\r\n     &lt;com.ismaeldivita.chipnavigation.ChipNavigationBar\r\n        android:id=&quot;@+id/btmNav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_margin=&quot;12dp&quot;\r\n        android:background=&quot;@drawable/rounded&quot;\r\n        android:elevation=&quot;5dp&quot;\r\n        android:outlineAmbientShadowColor=&quot;@color/colorAccent&quot;\r\n        app:cnb_menuResource=&quot;@menu/bottom_menu&quot;\r\n        app:cnb_unselectedColor=&quot;#fff&quot;\r\n\r\n\r\n\r\n  [1]: https://github.com/ismaeldivita/chip-navigation-bar/","title":"chip navigation bar animation not works","body":"<p>i used this GitHub library in my code for bottom navigation.<a href=\"https://github.com/ismaeldivita/chip-navigation-bar/\" rel=\"nofollow noreferrer\">chip navigation bar</a>\ni tried to make it floating up after starting the program.but when run the program it is disappeared but when clicking in the buttons place . on click listener works but i couldn't see the navigation bar \nthis is the click listener ;</p>\n\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    btmNav = findViewById(R.id.btmNav);\n    layout = findViewById(R.id.cntBTM);\n    animMove = AnimationUtils.loadAnimation(getApplicationContext(), R.anim.slide_up);\n    btmNav.startAnimation(animMove);\n\n    //////////////*\n\n\n    if (savedInstanceState == null) {\n        NewsFragment newsFragment = new NewsFragment();\n\n        fragmentManager = getSupportFragmentManager();\n        fragmentManager.beginTransaction()\n                .replace(R.id.fragmentContainer, newsFragment)\n                .commit();\n\n    }\n\n\n    btmNav.setOnItemSelectedListener(new ChipNavigationBar.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(int id) {\n            Fragment fragment = null;\n            switch (id) {\n                case R.id.home:\n                    fragment = new WebFragment();\n                    break;\n                case R.id.activity:\n                    fragment = new ActivityFragment();\n                    break;\n                case R.id.settings:\n                    fragment = new SettingFragment();\n                    break;\n            }\n            if (fragment != null) {\n                fragmentManager = getSupportFragmentManager();\n                fragmentManager.beginTransaction()\n                        .replace(R.id.fragmentContainer, fragment)\n                        .commit();\n            } else {\n                Log.e(TAG, \"Error in creating fragment\");\n            }\n        }\n    }); \n</code></pre>\n\n<p>and this in main activity</p>\n\n<pre><code> &lt;com.ismaeldivita.chipnavigation.ChipNavigationBar\n    android:id=\"@+id/btmNav\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"50dp\"\n    android:layout_alignParentBottom=\"true\"\n    android:layout_margin=\"12dp\"\n    android:background=\"@drawable/rounded\"\n    android:elevation=\"5dp\"\n    android:outlineAmbientShadowColor=\"@color/colorAccent\"\n    app:cnb_menuResource=\"@menu/bottom_menu\"\n    app:cnb_unselectedColor=\"#fff\"\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","apache-kafka","mongodb-query"],"owner":{"account_id":8865517,"reputation":17,"user_id":6620817,"display_name":"Kamalraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687243075,"creation_date":1677782888,"question_id":75619683,"body_markdown":"Hi I am Working in Sprintboot application.In which I am Connecting with MongoDb. while Starting Spring Boot Application , I am getting this below Error.\r\n\r\n\r\n\r\n \r\n\r\n    2023-03-03 00:10:37.045  INFO 16748 --- [ngodb.net:27017] org.mongodb.driver.cluster: Exception in monitor thread while connecting to server ac-dr240hm-shard-00-02.iw3nmex.mongodb.net:27017\r\n    com.mongodb.MongoSocketReadException: Exception receiving message\r\n        \tat com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:636) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:515) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:279) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:62) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n        Caused by: java.net.SocketException: Socket is closed\r\n\r\n\r\nHere is my application.properties \r\n\r\n&gt; spring.data.mongodb.uri=mongodb+srv://root:root@elon.iw3nmex.mongodb.net/?retryWrites=true&amp;w=majority spring.data.mongodb.database=reviews\r\n\r\n","title":"com.mongodb.MongoSocketReadException: Exception receiving message while Connecting Mongodb cloud","body":"<p>Hi I am Working in Sprintboot application.In which I am Connecting with MongoDb. while Starting Spring Boot Application , I am getting this below Error.</p>\n<pre><code>2023-03-03 00:10:37.045  INFO 16748 --- [ngodb.net:27017] org.mongodb.driver.cluster: Exception in monitor thread while connecting to server ac-dr240hm-shard-00-02.iw3nmex.mongodb.net:27017\ncom.mongodb.MongoSocketReadException: Exception receiving message\n        at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:636) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:515) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:279) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:62) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n        at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n    Caused by: java.net.SocketException: Socket is closed\n</code></pre>\n<p>Here is my application.properties</p>\n<blockquote>\n<p>spring.data.mongodb.uri=mongodb+srv://root:root@elon.iw3nmex.mongodb.net/?retryWrites=true&amp;w=majority spring.data.mongodb.database=reviews</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1639177960,"post_id":70311247,"comment_id":124290801,"body_markdown":"Why are you using `Map&lt;String, Object&gt;` instead of `Map&lt;String, Integer&gt;`?  Better typing would have made clear what&#39;s supposed to happen and where your problem is.","body":"Why are you using <code>Map&lt;String, Object&gt;</code> instead of <code>Map&lt;String, Integer&gt;</code>?  Better typing would have made clear what&#39;s supposed to happen and where your problem is."}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639177787,"creation_date":1639177787,"answer_id":70311310,"question_id":70311247,"body_markdown":"You have used `words.put(line, list.add(new FindCommons(1, line)));` to add the items to the HashMap. The problem is, that list.add() returns a boolean value, so it puts the Boolean into the words HashMap. \r\n","title":"HashMap.get returns true instead of an element","body":"<p>You have used <code>words.put(line, list.add(new FindCommons(1, line)));</code> to add the items to the HashMap. The problem is, that list.add() returns a boolean value, so it puts the Boolean into the words HashMap.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639193906,"post_id":70312254,"comment_id":124292719,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70312254/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20803868,"reputation":1,"user_id":15279226,"display_name":"YangHe"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639190932,"creation_date":1639190932,"answer_id":70312254,"question_id":70311247,"body_markdown":"list.add(new FindCommons(1, line))","title":"HashMap.get returns true instead of an element","body":"<p>list.add(new FindCommons(1, line))</p>\n"},{"tags":[],"owner":{"account_id":27532212,"reputation":1,"user_id":21010529,"display_name":"Mohammed Yaseen M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687242405,"creation_date":1686903057,"answer_id":76488197,"question_id":70311247,"body_markdown":"i got same problem reason **found the reason**.\r\n\r\n    jobInfo.put(&quot;expireDate&quot;, jsonObjectData.get(&quot;expiryDateTime&quot;));\r\n    \r\n    jobInfo.put(&quot;applicantCount&quot;, jsonObjectData.get(&quot;appliedCount&quot;));\r\n    \r\n    jobInfo.put(&quot;userId&quot;, recruiterUserId);\r\n    \r\n    list.put(userId, jobPosts.add(jobInfo));\r\n    \r\n    since jobPosts.add() return boolean value.\r\n\r\nso when i try **list.get(userId)** will return Boolean instead of Object.\r\n","title":"HashMap.get returns true instead of an element","body":"<p>i got same problem reason <strong>found the reason</strong>.</p>\n<pre><code>jobInfo.put(&quot;expireDate&quot;, jsonObjectData.get(&quot;expiryDateTime&quot;));\n\njobInfo.put(&quot;applicantCount&quot;, jsonObjectData.get(&quot;appliedCount&quot;));\n\njobInfo.put(&quot;userId&quot;, recruiterUserId);\n\nlist.put(userId, jobPosts.add(jobInfo));\n\nsince jobPosts.add() return boolean value.\n</code></pre>\n<p>so when i try <strong>list.get(userId)</strong> will return Boolean instead of Object.</p>\n"}],"owner":{"account_id":19862447,"reputation":11,"user_id":14550541,"display_name":"Unknowin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70311310,"answer_count":3,"score":0,"last_activity_date":1687242405,"creation_date":1639177288,"question_id":70311247,"body_markdown":"So I&#39;m trying to make a program that will count the number of times a unique word appears in a small file using HashMap. However, when I try to increase the count on a repeating word by using .get(key) on my HashMap, it returns true instead of the integer value that I want to cast to. How can I get my code to return the value instead of a boolean? Here&#39;s my code so far: \r\n\r\n    public class CountWords\r\n    {\r\n\tpublic static void main (String[] args) {\r\n\t\tMap&lt;String, Object&gt; words = new HashMap&lt;&gt;();\r\n\t\tArrayList&lt;FindCommons&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tread(words, list);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\tSystem.out.println(list.get(i));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void read (Map&lt;String, Object&gt; words, ArrayList&lt;FindCommons&gt; list) {\r\n\t\ttry {\r\n\t\t\tBufferedReader input = new BufferedReader (new FileReader (&quot;file.txt&quot;));\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\twhile ((line = input.readLine()) != null) {\r\n\t\t\t\tStringTokenizer st = new StringTokenizer(line);\r\n\r\n\t\t\t\twhile (st.hasMoreTokens()) {\r\n\t\t\t\t\tline = st.nextToken();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (words.containsKey(line)) {\r\n\t\t\t\t\t\tSystem.out.println(words.get(line)); //this returns boolean\r\n                        //int count = (int) words.get(line));\r\n\t\t\t\t\t\twords.put(line, list.add(new FindCommons(1, line)));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\twords.put(line, list.add(new FindCommons(1, line)));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.close();\r\n\t\t}\r\n\t\tcatch (FileNotFoundException e){\r\n\t\t}\r\n\t\tcatch (IOException e){ \r\n\t\t}\r\n\t}\r\n    }\r\n\r\nMy FindCommons class:\r\n\r\nimport java.util.ArrayList;\r\n    public class FindCommons{\r\n\r\n\tprivate String word;\r\n\tprivate int count;\r\n\t\r\n\tpublic FindCommons(int count, String word) {\r\n\t\tthis.count = count;\r\n\t\tthis.word = word;\r\n\t}\r\n\t\r\n\tpublic int getNumber() {\r\n\t\treturn count;\r\n\t}\r\n\t\r\n\tpublic String getWord() {\r\n\t\treturn word;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn String.format(&quot;%-20s %5d&quot;, word, count);\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n","title":"HashMap.get returns true instead of an element","body":"<p>So I'm trying to make a program that will count the number of times a unique word appears in a small file using HashMap. However, when I try to increase the count on a repeating word by using .get(key) on my HashMap, it returns true instead of the integer value that I want to cast to. How can I get my code to return the value instead of a boolean? Here's my code so far:</p>\n<pre><code>public class CountWords\n{\npublic static void main (String[] args) {\n    Map&lt;String, Object&gt; words = new HashMap&lt;&gt;();\n    ArrayList&lt;FindCommons&gt; list = new ArrayList&lt;&gt;();\n    \n    read(words, list);\n    \n    for (int i = 0; i &lt; list.size(); i++) {\n        System.out.println(list.get(i));\n    }\n}\n\npublic static void read (Map&lt;String, Object&gt; words, ArrayList&lt;FindCommons&gt; list) {\n    try {\n        BufferedReader input = new BufferedReader (new FileReader (&quot;file.txt&quot;));\n        String line = &quot;&quot;;\n        while ((line = input.readLine()) != null) {\n            StringTokenizer st = new StringTokenizer(line);\n\n            while (st.hasMoreTokens()) {\n                line = st.nextToken();\n                \n                if (words.containsKey(line)) {\n                    System.out.println(words.get(line)); //this returns boolean\n                    //int count = (int) words.get(line));\n                    words.put(line, list.add(new FindCommons(1, line)));\n                }\n                else {\n                    words.put(line, list.add(new FindCommons(1, line)));\n                    \n                }\n            }\n        }\n\n        input.close();\n    }\n    catch (FileNotFoundException e){\n    }\n    catch (IOException e){ \n    }\n}\n}\n</code></pre>\n<p>My FindCommons class:</p>\n<p>import java.util.ArrayList;\npublic class FindCommons{</p>\n<pre><code>private String word;\nprivate int count;\n\npublic FindCommons(int count, String word) {\n    this.count = count;\n    this.word = word;\n}\n\npublic int getNumber() {\n    return count;\n}\n\npublic String getWord() {\n    return word;\n}\n\npublic String toString() {\n    return String.format(&quot;%-20s %5d&quot;, word, count);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sorting","locale","collation"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1349688610,"post_id":12778841,"comment_id":17272939,"body_markdown":"Is it deliberate that you don&#39;t have Umlauts and the Sharp-s (&#228;&#246;&#252;&#223;) in your sort order? I&#39;d say they are important for having a German collator.","body":"Is it deliberate that you don&#39;t have Umlauts and the Sharp-s (&#228;&#246;&#252;&#223;) in your sort order? I&#39;d say they are important for having a German collator."},{"owner":{"account_id":421581,"reputation":201,"user_id":799903,"display_name":"Amir"},"score":0,"creation_date":1349688794,"post_id":12778841,"comment_id":17273021,"body_markdown":"yes, for the test case i have omitted umlauts and special characters. just wanted to keep it very simple.","body":"yes, for the test case i have omitted umlauts and special characters. just wanted to keep it very simple."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1349688920,"post_id":12778841,"comment_id":17273068,"body_markdown":"Also: which rules do you follow that sort digits after the other characters? There are several different collations for German and at least some of those sort numbers first.","body":"Also: which rules do you follow that sort digits after the other characters? There are several different collations for German and at least some of those sort numbers first."},{"owner":{"account_id":421581,"reputation":201,"user_id":799903,"display_name":"Amir"},"score":0,"creation_date":1349689138,"post_id":12778841,"comment_id":17273141,"body_markdown":"i have just tried Locale.GERMANY collation, can you point me to a collation which sorts digits after alphabets?","body":"i have just tried Locale.GERMANY collation, can you point me to a collation which sorts digits after alphabets?"},{"owner":{"account_id":378367,"reputation":4047,"user_id":731040,"accept_rate":80,"display_name":"s.d"},"score":0,"creation_date":1349866373,"post_id":12778841,"comment_id":17336250,"body_markdown":"If you are using Java 7, you can set a variant on your `Locale` which can be a BCP 47 extension (cf. http://docs.oracle.com/javase/tutorial/i18n/locale/create.html, and for BCP 47 http://docs.oracle.com/javase/tutorial/i18n/locale/extensions.html). AFAIK, there&#39;s a reorder setting for collation, but I&#39;ve never actually worked with this.","body":"If you are using Java 7, you can set a variant on your <code>Locale</code> which can be a BCP 47 extension (cf. <a href=\"http://docs.oracle.com/javase/tutorial/i18n/locale/create.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/i18n/locale/create.html</a>, and for BCP 47 <a href=\"http://docs.oracle.com/javase/tutorial/i18n/locale/extensions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/i18n/locale/extensions.html</a>)&zwnj;&#8203;. AFAIK, there&#39;s a reorder setting for collation, but I&#39;ve never actually worked with this."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1354016604,"post_id":12778841,"comment_id":18615940,"body_markdown":"What is your source for &quot;*But, in German, digits are ascendant sorted after letters.&quot;*?","body":"What is your source for &quot;<i>But, in German, digits are ascendant sorted after letters.&quot;</i>?"}],"answers":[{"tags":[],"owner":{"account_id":125531,"reputation":2166,"user_id":321366,"accept_rate":100,"display_name":"Jasper"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1353682529,"creation_date":1353682529,"answer_id":13531475,"question_id":12778841,"body_markdown":"You can check/debug the source code to see *why* nothing changes:\r\n\r\n    Collator.getInstance(Locale.GERMANY);\r\n\r\nCalls the following piece code:\r\n\r\n    public static synchronized\r\n    Collator getInstance(Locale desiredLocale)\r\n    {\r\n        // Snipping some code here\r\n        String colString = &quot;&quot;;\r\n        try {\r\n            ResourceBundle resource = LocaleData.getCollationData(desiredLocale);\r\n\r\n            colString = resource.getString(&quot;Rule&quot;);\r\n        } catch (MissingResourceException e) {\r\n            // Use default values\r\n        }\r\n        try\r\n        {\r\n            result = new RuleBasedCollator( CollationRules.DEFAULTRULES +\r\n                                            colString,\r\n                                            CANONICAL_DECOMPOSITION );\r\n        }\r\n    // Snipping some more code here\r\n\r\nOver here you can see that the specific rules (`colString` which is empty in your case anyway) are placed *after* the defaults (`CollationRules.DEFAULTRULES`).\r\n\r\nAnd as you have discovered that defaults have the numerics placed first:\r\n\r\n      // NUMERICS\r\n\r\n        + &quot;&lt;0&lt;1&lt;2&lt;3&lt;4&lt;5&lt;6&lt;7&lt;8&lt;9&quot;\r\n        + &quot;&lt;\\u00bc&lt;\\u00bd&lt;\\u00be&quot;   // 1/4,1/2,3/4 fractions\r\n\r\n        // NON-IGNORABLES\r\n        + &quot;&lt;a,A&quot;\r\n        + &quot;&lt;b,B&quot;\r\n        + &quot;&lt;c,C&quot;\r\n        + &quot;&lt;d,D&quot;","title":"Linguistic sorting (German) with Java","body":"<p>You can check/debug the source code to see <em>why</em> nothing changes:</p>\n\n<pre><code>Collator.getInstance(Locale.GERMANY);\n</code></pre>\n\n<p>Calls the following piece code:</p>\n\n<pre><code>public static synchronized\nCollator getInstance(Locale desiredLocale)\n{\n    // Snipping some code here\n    String colString = \"\";\n    try {\n        ResourceBundle resource = LocaleData.getCollationData(desiredLocale);\n\n        colString = resource.getString(\"Rule\");\n    } catch (MissingResourceException e) {\n        // Use default values\n    }\n    try\n    {\n        result = new RuleBasedCollator( CollationRules.DEFAULTRULES +\n                                        colString,\n                                        CANONICAL_DECOMPOSITION );\n    }\n// Snipping some more code here\n</code></pre>\n\n<p>Over here you can see that the specific rules (<code>colString</code> which is empty in your case anyway) are placed <em>after</em> the defaults (<code>CollationRules.DEFAULTRULES</code>).</p>\n\n<p>And as you have discovered that defaults have the numerics placed first:</p>\n\n<pre><code>  // NUMERICS\n\n    + \"&lt;0&lt;1&lt;2&lt;3&lt;4&lt;5&lt;6&lt;7&lt;8&lt;9\"\n    + \"&lt;\\u00bc&lt;\\u00bd&lt;\\u00be\"   // 1/4,1/2,3/4 fractions\n\n    // NON-IGNORABLES\n    + \"&lt;a,A\"\n    + \"&lt;b,B\"\n    + \"&lt;c,C\"\n    + \"&lt;d,D\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1686999214,"post_id":76484345,"comment_id":134877752,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76484345/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23539002,"reputation":1,"user_id":17583511,"display_name":"Michael Puzio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687242369,"creation_date":1686851852,"answer_id":76484345,"question_id":12778841,"body_markdown":"I make my special sort with the following code:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    public class SpecialSort implements Comparator&lt;String&gt; {\r\n    \r\n        private static final char[] knownChars = {&#39;A&#39;, &#39;&#196;&#39;, &#39;a&#39;, &#39;&#228;&#39;, &#39;&#225;&#39;, &#39;&#224;&#39;, &#39;&#226;&#39;, &#39;&#229;&#39;, &#39;&#227;&#39;, //\r\n                &#39;B&#39;, &#39;b&#39;, &#39;&#39;,//\r\n                &#39;C&#39;, &#39;&#199;&#39;, &#39;c&#39;, &#39;&#231;&#39;,//\r\n                &#39;D&#39;, &#39;d&#39;,//\r\n                &#39;E&#39;, &#39;&#201;&#39;, &#39;e&#39;, &#39;&#235;&#39;, &#39;&#233;&#39;, &#39;&#232;&#39;, &#39;&#234;&#39;,//\r\n                &#39;F&#39;, &#39;f&#39;,//\r\n                &#39;G&#39;, &#39;g&#39;,//\r\n                &#39;H&#39;, &#39;h&#39;,//\r\n                &#39;I&#39;, &#39;i&#39;, &#39;&#239;&#39;, &#39;&#238;&#39;, &#39;&#237;&#39;, &#39;&#236;&#39;,//\r\n                &#39;J&#39;, &#39;j&#39;,//\r\n                &#39;K&#39;, &#39;k&#39;,//\r\n                &#39;L&#39;, &#39;l&#39;,//\r\n                &#39;M&#39;, &#39;m&#39;,//\r\n                &#39;N&#39;, &#39;n&#39;, &#39;&#241;&#39;,//\r\n                &#39;O&#39;, &#39;&#214;&#39;, &#39;&#211;&#39;, &#39;&#210;&#39;, &#39;o&#39;, &#39;&#39;, &#39;&#246;&#39;, &#39;&#243;&#39;, &#39;&#242;&#39;, &#39;&#244;&#39;,//\r\n                &#39;P&#39;, &#39;p&#39;, &#39;&#39;, &#39;&#39;,//\r\n                &#39;Q&#39;, &#39;q&#39;,//\r\n                &#39;R&#39;, &#39;r&#39;,//\r\n                &#39;S&#39;, &#39;s&#39;, &#39;&#223;&#39;, &#39;&#39;,//\r\n                &#39;T&#39;, &#39;t&#39;, &#39;&#39;,//\r\n                &#39;U&#39;, &#39;&#220;&#39;, &#39;u&#39;, &#39;&#252;&#39;, &#39;&#250;&#39;, &#39;&#249;&#39;, &#39;&#251;&#39;,//\r\n                &#39;V&#39;, &#39;v&#39;,//\r\n                &#39;W&#39;, &#39;w&#39;,//\r\n                &#39;X&#39;, &#39;x&#39;,//\r\n                &#39;Y&#39;, &#39;y&#39;, &#39;&#255;&#39;,//\r\n                &#39;Z&#39;, &#39;z&#39;,//\r\n                &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;,//\r\n                &#39; &#39;, &#39;,&#39;, &#39;+&#39;, &#39;-&#39;, &#39;&#39;, &#39;*&#39;, &#39;_&#39;, &#39;#&#39;, &#39;&#180;&#39;,//\r\n                &#39;&#189;&#39;, &#39;&#188;&#39;, &#39;@&#39;, &#39;&#185;&#39;, &#39;&#178;&#39;, &#39;&gt;&#39;, &#39;&lt;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#179;&#39;,//\r\n                &#39;\\&#39;&#39;, &#39;`&#39;, &#39;&quot;&#39;, &#39;&#167;&#39;, &#39;&#39;,//\r\n                &#39;?&#39;, &#39;!&#39;, &#39;\\t&#39;, ((char) 10), &#39;&#39;, &#39;/&#39;, &#39;\\\\&#39;,//\r\n                &#39;.&#39;, &#39;&#183;&#39;, &#39;:&#39;, &#39;;&#39;, &#39;=&#39;, &#39;&amp;&#39;, &#39;&#182;&#39;,//\r\n                &#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;,//\r\n                &#39;&#160;&#39;, &#39;%&#39;, &#39;&#187;&#39;, &#39;&#171;&#39;, &#39;&#174;&#39;, &#39;&#39;, &#39;&#163;&#39;, &#39;&#248;&#39;,//\r\n                &#39;&#176;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;//\r\n    \r\n        };\r\n    \r\n        private static final int[] mapping = new int[0x10000];\r\n        public static boolean simpleSort = true;// if false compare deliver the special sort else normal sort using string.compareTo(otherString)\r\n        public static boolean firstLetterIgnoreUpperCase = false;// if true first Letter uppercase will ignored.\r\n        private static int lastGoodChar;\r\n    \r\n        static {\r\n            Arrays.fill(mapping, Integer.MAX_VALUE);\r\n            for (int i = 0; i &lt; knownChars.length; i++) {\r\n                if (knownChars[i] == &#39; &#39;) {\r\n                    lastGoodChar = i;\r\n                }\r\n                mapping[knownChars[i]] = i;\r\n            }\r\n        }\r\n    \r\n        public static int staticCompare(@NonNull String one, @NonNull String two) {\r\n            if (simpleSort)\r\n                return one.compareTo(two);\r\n            char[] chars1 = one.toCharArray();\r\n            char[] chars2 = two.toCharArray();\r\n            if (firstLetterIgnoreUpperCase) {\r\n                if (chars1.length &gt; 0)\r\n                    chars1[0] = (&quot;&quot; + chars1[0]).toLowerCase().charAt(0);\r\n                if (chars2.length &gt; 0)\r\n                    chars2[0] = (&quot;&quot; + chars2[0]).toLowerCase().charAt(0);\r\n            }\r\n            int[] ref1 = new int[1];\r\n            int[] ref2 = new int[1];\r\n            do {\r\n                int c1 = getCharValue(chars1, ref1);\r\n                int c2 = getCharValue(chars2, ref2);\r\n                if (c1 != c2)\r\n                    return c1 - c2;\r\n            } while ((ref1[0] &lt; chars1.length) &amp;&amp; (ref2[0] &lt; chars2.length));\r\n            if (ref1[0] &lt; chars1.length)\r\n                return Integer.MAX_VALUE;\r\n            return Integer.MIN_VALUE;\r\n        }\r\n    \r\n        private static int getCharValue(@NonNull char[] all, @NonNull int[] index) {\r\n            if (index[0] == all.length) return 0;\r\n            int ord = mapping[all[index[0]++]];\r\n            if (ord &lt; lastGoodChar)\r\n                return ord;\r\n            return getCharValue(all, index);\r\n        }\r\n    \r\n        public int compare(@NonNull String one, @NonNull String two) {\r\n            return staticCompare(one, two);\r\n        }\r\n    }","title":"Linguistic sorting (German) with Java","body":"<p>I make my special sort with the following code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class SpecialSort implements Comparator&lt;String&gt; {\n\n    private static final char[] knownChars = {'A', '', 'a', '', '', '', '', '', '', //\n            'B', 'b', '',//\n            'C', '', 'c', '',//\n            'D', 'd',//\n            'E', '', 'e', '', '', '', '',//\n            'F', 'f',//\n            'G', 'g',//\n            'H', 'h',//\n            'I', 'i', '', '', '', '',//\n            'J', 'j',//\n            'K', 'k',//\n            'L', 'l',//\n            'M', 'm',//\n            'N', 'n', '',//\n            'O', '', '', '', 'o', '', '', '', '', '',//\n            'P', 'p', '', '',//\n            'Q', 'q',//\n            'R', 'r',//\n            'S', 's', '', '',//\n            'T', 't', '',//\n            'U', '', 'u', '', '', '', '',//\n            'V', 'v',//\n            'W', 'w',//\n            'X', 'x',//\n            'Y', 'y', '',//\n            'Z', 'z',//\n            '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',//\n            ' ', ',', '+', '-', '', '*', '_', '#', '',//\n            '', '', '@', '', '', '&gt;', '&lt;', '', '', '', '',//\n            '\\'', '`', '&quot;', '', '',//\n            '?', '!', '\\t', ((char) 10), '', '/', '\\\\',//\n            '.', '', ':', ';', '=', '&amp;', '',//\n            '(', ')', '[', ']',//\n            '', '%', '', '', '', '', '', '',//\n            '', '', '', '', ''//\n\n    };\n\n    private static final int[] mapping = new int[0x10000];\n    public static boolean simpleSort = true;// if false compare deliver the special sort else normal sort using string.compareTo(otherString)\n    public static boolean firstLetterIgnoreUpperCase = false;// if true first Letter uppercase will ignored.\n    private static int lastGoodChar;\n\n    static {\n        Arrays.fill(mapping, Integer.MAX_VALUE);\n        for (int i = 0; i &lt; knownChars.length; i++) {\n            if (knownChars[i] == ' ') {\n                lastGoodChar = i;\n            }\n            mapping[knownChars[i]] = i;\n        }\n    }\n\n    public static int staticCompare(@NonNull String one, @NonNull String two) {\n        if (simpleSort)\n            return one.compareTo(two);\n        char[] chars1 = one.toCharArray();\n        char[] chars2 = two.toCharArray();\n        if (firstLetterIgnoreUpperCase) {\n            if (chars1.length &gt; 0)\n                chars1[0] = (&quot;&quot; + chars1[0]).toLowerCase().charAt(0);\n            if (chars2.length &gt; 0)\n                chars2[0] = (&quot;&quot; + chars2[0]).toLowerCase().charAt(0);\n        }\n        int[] ref1 = new int[1];\n        int[] ref2 = new int[1];\n        do {\n            int c1 = getCharValue(chars1, ref1);\n            int c2 = getCharValue(chars2, ref2);\n            if (c1 != c2)\n                return c1 - c2;\n        } while ((ref1[0] &lt; chars1.length) &amp;&amp; (ref2[0] &lt; chars2.length));\n        if (ref1[0] &lt; chars1.length)\n            return Integer.MAX_VALUE;\n        return Integer.MIN_VALUE;\n    }\n\n    private static int getCharValue(@NonNull char[] all, @NonNull int[] index) {\n        if (index[0] == all.length) return 0;\n        int ord = mapping[all[index[0]++]];\n        if (ord &lt; lastGoodChar)\n            return ord;\n        return getCharValue(all, index);\n    }\n\n    public int compare(@NonNull String one, @NonNull String two) {\n        return staticCompare(one, two);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":421581,"reputation":201,"user_id":799903,"display_name":"Amir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3996,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1687242369,"creation_date":1349688460,"question_id":12778841,"body_markdown":"Sorting a string with number is done differently from one language to another. For example, in English digits come before letters in an ascending sorting. But, in German, digits are ascendant sorted after letters. \r\n\r\nI tried to sort strings using a [`Collator`][1] as follows:\r\n\r\n    private Collator collator = Collator.getInstance(Locale.GERMANY);\r\n    collator.compare(str1, str2)\r\n\r\nBut above comparison does not take into account digits after letters rule.\r\n\r\nDoes any one have an idea why Java is not taking this rule (digits after letter) into account for the time being I am using [`RuleBasedCollator`][2] as follows:\r\n\r\n    private final String sortOrder = &quot;&lt; a, A &lt; b, B &lt; c, C &lt; d, D &lt; e, E &lt; f, F &lt; g, G &lt; h, H &lt; i, I &lt; j, J &lt; k, K &lt; l, L &lt; m, M &lt; n, N &lt; o, O &lt; p, P &lt; q, Q &lt; r, R &lt; s, S &lt; t, T &lt; u, U &lt; v, V &lt; w, W &lt; x, X &lt; y, Y &lt; z, Z &lt; 0 &lt; 1 &lt; 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9&quot;;\r\n\r\n    private Collator collator = new RuleBasedCollator(sortOrder);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/Collator.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/text/RuleBasedCollator.html","title":"Linguistic sorting (German) with Java","body":"<p>Sorting a string with number is done differently from one language to another. For example, in English digits come before letters in an ascending sorting. But, in German, digits are ascendant sorted after letters. </p>\n\n<p>I tried to sort strings using a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/Collator.html\" rel=\"noreferrer\"><code>Collator</code></a> as follows:</p>\n\n<pre><code>private Collator collator = Collator.getInstance(Locale.GERMANY);\ncollator.compare(str1, str2)\n</code></pre>\n\n<p>But above comparison does not take into account digits after letters rule.</p>\n\n<p>Does any one have an idea why Java is not taking this rule (digits after letter) into account for the time being I am using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/RuleBasedCollator.html\" rel=\"noreferrer\"><code>RuleBasedCollator</code></a> as follows:</p>\n\n<pre><code>private final String sortOrder = \"&lt; a, A &lt; b, B &lt; c, C &lt; d, D &lt; e, E &lt; f, F &lt; g, G &lt; h, H &lt; i, I &lt; j, J &lt; k, K &lt; l, L &lt; m, M &lt; n, N &lt; o, O &lt; p, P &lt; q, Q &lt; r, R &lt; s, S &lt; t, T &lt; u, U &lt; v, V &lt; w, W &lt; x, X &lt; y, Y &lt; z, Z &lt; 0 &lt; 1 &lt; 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9\";\n\nprivate Collator collator = new RuleBasedCollator(sortOrder);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7801,"page":360,"page_size":100}
